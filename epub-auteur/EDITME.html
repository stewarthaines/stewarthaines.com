<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII="
      rel="icon"
      type="image/x-icon"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EDITME.html</title>
    <script type="module" crossorigin>var Hye=Object.defineProperty;var xF=e=>{throw TypeError(e)};var $ye=(e,t,n)=>t in e?Hye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xn=(e,t,n)=>$ye(e,typeof t!="symbol"?t+"":t,n),Wye=(e,t,n)=>t.has(e)||xF("Cannot "+n);var SF=(e,t,n)=>t.has(e)?xF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var iy=(e,t,n)=>(Wye(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yL(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Gn={},Qg=[],iu=()=>{},Uye=()=>!1,P5=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bL=e=>e.startsWith("onUpdate:"),Oa=Object.assign,TL=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Gye=Object.prototype.hasOwnProperty,Xn=(e,t)=>Gye.call(e,t),Zt=Array.isArray,Jg=e=>kT(e)==="[object Map]",uv=e=>kT(e)==="[object Set]",AF=e=>kT(e)==="[object Date]",mn=e=>typeof e=="function",_i=e=>typeof e=="string",mc=e=>typeof e=="symbol",wr=e=>e!==null&&typeof e=="object",xK=e=>(wr(e)||mn(e))&&mn(e.then)&&mn(e.catch),SK=Object.prototype.toString,kT=e=>SK.call(e),zye=e=>kT(e).slice(8,-1),AK=e=>kT(e)==="[object Object]",EL=e=>_i(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,A2=yL(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),F5=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Yye=/-(\w)/g,$o=F5(e=>e.replace(Yye,(t,n)=>n?n.toUpperCase():"")),Vye=/\B([A-Z])/g,Bh=F5(e=>e.replace(Vye,"-$1").toLowerCase()),B5=F5(e=>e.charAt(0).toUpperCase()+e.slice(1)),NI=F5(e=>e?`on${B5(e)}`:""),Xs=(e,t)=>!Object.is(e,t),B3=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},IK=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},jx=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let IF;const H5=()=>IF||(IF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $5(e){if(Zt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=_i(r)?Kye(r):$5(r);if(a)for(const o in a)t[o]=a[o]}return t}else if(_i(e)||wr(e))return e}const qye=/;(?![^(]*\))/g,jye=/:([^]+)/,Xye=/\/\*[^]*?\*\//g;function Kye(e){const t={};return e.replace(Xye,"").split(qye).forEach(n=>{if(n){const r=n.split(jye);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function lb(e){let t="";if(_i(e))t=e;else if(Zt(e))for(let n=0;n<e.length;n++){const r=lb(e[n]);r&&(t+=r+" ")}else if(wr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Zye="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qye=yL(Zye);function CK(e){return!!e||e===""}function Jye(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=OT(e[r],t[r]);return n}function OT(e,t){if(e===t)return!0;let n=AF(e),r=AF(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=mc(e),r=mc(t),n||r)return e===t;if(n=Zt(e),r=Zt(t),n||r)return n&&r?Jye(e,t):!1;if(n=wr(e),r=wr(t),n||r){if(!n||!r)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const l in e){const u=e.hasOwnProperty(l),h=t.hasOwnProperty(l);if(u&&!h||!u&&h||!OT(e[l],t[l]))return!1}}return String(e)===String(t)}function wL(e,t){return e.findIndex(n=>OT(n,t))}const RK=e=>!!(e&&e.__v_isRef===!0),No=e=>_i(e)?e:e==null?"":Zt(e)||wr(e)&&(e.toString===SK||!mn(e.toString))?RK(e)?No(e.value):JSON.stringify(e,kK,2):String(e),kK=(e,t)=>RK(t)?kK(e,t.value):Jg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],o)=>(n[LI(r,o)+" =>"]=a,n),{})}:uv(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>LI(n))}:mc(t)?LI(t):wr(t)&&!Zt(t)&&!AK(t)?String(t):t,LI=(e,t="")=>{var n;return mc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ys;class OK{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ys,!t&&ys&&(this.index=(ys.scopes||(ys.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ys;try{return ys=this,t()}finally{ys=n}}}on(){ys=this}off(){ys=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function NK(e){return new OK(e)}function xL(){return ys}function LK(e,t=!1){ys&&ys.cleanups.push(e)}let yr;const _I=new WeakSet;class _K{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ys&&ys.active&&ys.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_I.has(this)&&(_I.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||MK(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,CF(this),PK(this);const t=yr,n=rc;yr=this,rc=!0;try{return this.fn()}finally{FK(this),yr=t,rc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)IL(t);this.deps=this.depsTail=void 0,CF(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_I.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zk(this)&&this.run()}get dirty(){return Zk(this)}}let DK=0,I2,C2;function MK(e,t=!1){if(e.flags|=8,t){e.next=C2,C2=e;return}e.next=I2,I2=e}function SL(){DK++}function AL(){if(--DK>0)return;if(C2){let t=C2;for(C2=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;I2;){let t=I2;for(I2=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function PK(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function FK(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),IL(r),e2e(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function Zk(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(BK(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function BK(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===cb))return;e.globalVersion=cb;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Zk(e)){e.flags&=-3;return}const n=yr,r=rc;yr=e,rc=!0;try{PK(e);const a=e.fn(e._value);(t.version===0||Xs(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{yr=n,rc=r,FK(e),e.flags&=-3}}function IL(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)IL(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function e2e(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let rc=!0;const HK=[];function vf(){HK.push(rc),rc=!1}function yf(){const e=HK.pop();rc=e===void 0?!0:e}function CF(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=yr;yr=void 0;try{t()}finally{yr=n}}}let cb=0;class t2e{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class W5{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!yr||!rc||yr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==yr)n=this.activeLink=new t2e(yr,this),yr.deps?(n.prevDep=yr.depsTail,yr.depsTail.nextDep=n,yr.depsTail=n):yr.deps=yr.depsTail=n,$K(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=yr.depsTail,n.nextDep=void 0,yr.depsTail.nextDep=n,yr.depsTail=n,yr.deps===n&&(yr.deps=r)}return n}trigger(t){this.version++,cb++,this.notify(t)}notify(t){SL();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{AL()}}}function $K(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)$K(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Xx=new WeakMap,Md=Symbol(""),Qk=Symbol(""),ub=Symbol("");function qa(e,t,n){if(rc&&yr){let r=Xx.get(e);r||Xx.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new W5),a.map=r,a.key=n),a.track()}}function Qu(e,t,n,r,a,o){const l=Xx.get(e);if(!l){cb++;return}const u=h=>{h&&h.trigger()};if(SL(),t==="clear")l.forEach(u);else{const h=Zt(e),f=h&&EL(n);if(h&&n==="length"){const d=Number(r);l.forEach((p,g)=>{(g==="length"||g===ub||!mc(g)&&g>=d)&&u(p)})}else switch((n!==void 0||l.has(void 0))&&u(l.get(n)),f&&u(l.get(ub)),t){case"add":h?f&&u(l.get("length")):(u(l.get(Md)),Jg(e)&&u(l.get(Qk)));break;case"delete":h||(u(l.get(Md)),Jg(e)&&u(l.get(Qk)));break;case"set":Jg(e)&&u(l.get(Md));break}}AL()}function n2e(e,t){const n=Xx.get(e);return n&&n.get(t)}function Zp(e){const t=Pn(e);return t===e?t:(qa(t,"iterate",ub),ml(e)?t:t.map(ja))}function U5(e){return qa(e=Pn(e),"iterate",ub),e}const r2e={__proto__:null,[Symbol.iterator](){return DI(this,Symbol.iterator,ja)},concat(...e){return Zp(this).concat(...e.map(t=>Zt(t)?Zp(t):t))},entries(){return DI(this,"entries",e=>(e[1]=ja(e[1]),e))},every(e,t){return Pu(this,"every",e,t,void 0,arguments)},filter(e,t){return Pu(this,"filter",e,t,n=>n.map(ja),arguments)},find(e,t){return Pu(this,"find",e,t,ja,arguments)},findIndex(e,t){return Pu(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pu(this,"findLast",e,t,ja,arguments)},findLastIndex(e,t){return Pu(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pu(this,"forEach",e,t,void 0,arguments)},includes(...e){return MI(this,"includes",e)},indexOf(...e){return MI(this,"indexOf",e)},join(e){return Zp(this).join(e)},lastIndexOf(...e){return MI(this,"lastIndexOf",e)},map(e,t){return Pu(this,"map",e,t,void 0,arguments)},pop(){return ay(this,"pop")},push(...e){return ay(this,"push",e)},reduce(e,...t){return RF(this,"reduce",e,t)},reduceRight(e,...t){return RF(this,"reduceRight",e,t)},shift(){return ay(this,"shift")},some(e,t){return Pu(this,"some",e,t,void 0,arguments)},splice(...e){return ay(this,"splice",e)},toReversed(){return Zp(this).toReversed()},toSorted(e){return Zp(this).toSorted(e)},toSpliced(...e){return Zp(this).toSpliced(...e)},unshift(...e){return ay(this,"unshift",e)},values(){return DI(this,"values",ja)}};function DI(e,t,n){const r=U5(e),a=r[t]();return r!==e&&!ml(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=n(o.value)),o}),a}const i2e=Array.prototype;function Pu(e,t,n,r,a,o){const l=U5(e),u=l!==e&&!ml(e),h=l[t];if(h!==i2e[t]){const p=h.apply(e,o);return u?ja(p):p}let f=n;l!==e&&(u?f=function(p,g){return n.call(this,ja(p),g,e)}:n.length>2&&(f=function(p,g){return n.call(this,p,g,e)}));const d=h.call(l,f,r);return u&&a?a(d):d}function RF(e,t,n,r){const a=U5(e);let o=n;return a!==e&&(ml(e)?n.length>3&&(o=function(l,u,h){return n.call(this,l,u,h,e)}):o=function(l,u,h){return n.call(this,l,ja(u),h,e)}),a[t](o,...r)}function MI(e,t,n){const r=Pn(e);qa(r,"iterate",ub);const a=r[t](...n);return(a===-1||a===!1)&&kL(n[0])?(n[0]=Pn(n[0]),r[t](...n)):a}function ay(e,t,n=[]){vf(),SL();const r=Pn(e)[t].apply(e,n);return AL(),yf(),r}const a2e=yL("__proto__,__v_isRef,__isVue"),WK=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mc));function s2e(e){mc(e)||(e=String(e));const t=Pn(this);return qa(t,"has",e),t.hasOwnProperty(e)}class UK{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(a?o?m2e:VK:o?YK:zK).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=Zt(t);if(!a){let h;if(l&&(h=r2e[n]))return h;if(n==="hasOwnProperty")return s2e}const u=Reflect.get(t,n,qr(t)?t:r);return(mc(n)?WK.has(n):a2e(n))||(a||qa(t,"get",n),o)?u:qr(u)?l&&EL(n)?u:u.value:wr(u)?a?G5(u):NT(u):u}}class GK extends UK{constructor(t=!1){super(!1,t)}set(t,n,r,a){let o=t[n];if(!this._isShallow){const h=zd(o);if(!ml(r)&&!zd(r)&&(o=Pn(o),r=Pn(r)),!Zt(t)&&qr(o)&&!qr(r))return h?!1:(o.value=r,!0)}const l=Zt(t)&&EL(n)?Number(n)<t.length:Xn(t,n),u=Reflect.set(t,n,r,qr(t)?t:a);return t===Pn(a)&&(l?Xs(r,o)&&Qu(t,"set",n,r):Qu(t,"add",n,r)),u}deleteProperty(t,n){const r=Xn(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Qu(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!mc(n)||!WK.has(n))&&qa(t,"has",n),r}ownKeys(t){return qa(t,"iterate",Zt(t)?"length":Md),Reflect.ownKeys(t)}}class o2e extends UK{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const l2e=new GK,c2e=new o2e,u2e=new GK(!0);const Jk=e=>e,QE=e=>Reflect.getPrototypeOf(e);function h2e(e,t,n){return function(...r){const a=this.__v_raw,o=Pn(a),l=Jg(o),u=e==="entries"||e===Symbol.iterator&&l,h=e==="keys"&&l,f=a[e](...r),d=n?Jk:t?eO:ja;return!t&&qa(o,"iterate",h?Qk:Md),{next(){const{value:p,done:g}=f.next();return g?{value:p,done:g}:{value:u?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function JE(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function f2e(e,t){const n={get(a){const o=this.__v_raw,l=Pn(o),u=Pn(a);e||(Xs(a,u)&&qa(l,"get",a),qa(l,"get",u));const{has:h}=QE(l),f=t?Jk:e?eO:ja;if(h.call(l,a))return f(o.get(a));if(h.call(l,u))return f(o.get(u));o!==l&&o.get(a)},get size(){const a=this.__v_raw;return!e&&qa(Pn(a),"iterate",Md),Reflect.get(a,"size",a)},has(a){const o=this.__v_raw,l=Pn(o),u=Pn(a);return e||(Xs(a,u)&&qa(l,"has",a),qa(l,"has",u)),a===u?o.has(a):o.has(a)||o.has(u)},forEach(a,o){const l=this,u=l.__v_raw,h=Pn(u),f=t?Jk:e?eO:ja;return!e&&qa(h,"iterate",Md),u.forEach((d,p)=>a.call(o,f(d),f(p),l))}};return Oa(n,e?{add:JE("add"),set:JE("set"),delete:JE("delete"),clear:JE("clear")}:{add(a){!t&&!ml(a)&&!zd(a)&&(a=Pn(a));const o=Pn(this);return QE(o).has.call(o,a)||(o.add(a),Qu(o,"add",a,a)),this},set(a,o){!t&&!ml(o)&&!zd(o)&&(o=Pn(o));const l=Pn(this),{has:u,get:h}=QE(l);let f=u.call(l,a);f||(a=Pn(a),f=u.call(l,a));const d=h.call(l,a);return l.set(a,o),f?Xs(o,d)&&Qu(l,"set",a,o):Qu(l,"add",a,o),this},delete(a){const o=Pn(this),{has:l,get:u}=QE(o);let h=l.call(o,a);h||(a=Pn(a),h=l.call(o,a)),u&&u.call(o,a);const f=o.delete(a);return h&&Qu(o,"delete",a,void 0),f},clear(){const a=Pn(this),o=a.size!==0,l=a.clear();return o&&Qu(a,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=h2e(a,e,t)}),n}function CL(e,t){const n=f2e(e,t);return(r,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(Xn(n,a)&&a in r?n:r,a,o)}const d2e={get:CL(!1,!1)},p2e={get:CL(!1,!0)},g2e={get:CL(!0,!1)};const zK=new WeakMap,YK=new WeakMap,VK=new WeakMap,m2e=new WeakMap;function v2e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function y2e(e){return e.__v_skip||!Object.isExtensible(e)?0:v2e(zye(e))}function NT(e){return zd(e)?e:RL(e,!1,l2e,d2e,zK)}function qK(e){return RL(e,!1,u2e,p2e,YK)}function G5(e){return RL(e,!0,c2e,g2e,VK)}function RL(e,t,n,r,a){if(!wr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const l=y2e(e);if(l===0)return e;const u=new Proxy(e,l===2?r:n);return a.set(e,u),u}function D0(e){return zd(e)?D0(e.__v_raw):!!(e&&e.__v_isReactive)}function zd(e){return!!(e&&e.__v_isReadonly)}function ml(e){return!!(e&&e.__v_isShallow)}function kL(e){return e?!!e.__v_raw:!1}function Pn(e){const t=e&&e.__v_raw;return t?Pn(t):e}function OL(e){return!Xn(e,"__v_skip")&&Object.isExtensible(e)&&IK(e,"__v_skip",!0),e}const ja=e=>wr(e)?NT(e):e,eO=e=>wr(e)?G5(e):e;function qr(e){return e?e.__v_isRef===!0:!1}function hn(e){return jK(e,!1)}function hb(e){return jK(e,!0)}function jK(e,t){return qr(e)?e:new b2e(e,t)}class b2e{constructor(t,n){this.dep=new W5,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Pn(t),this._value=n?t:ja(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ml(t)||zd(t);t=r?t:Pn(t),Xs(t,n)&&(this._rawValue=t,this._value=r?t:ja(t),this.dep.trigger())}}function Vn(e){return qr(e)?e.value:e}const T2e={get:(e,t,n)=>t==="__v_raw"?e:Vn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return qr(a)&&!qr(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function XK(e){return D0(e)?e:new Proxy(e,T2e)}class E2e{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new W5,{get:r,set:a}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function w2e(e){return new E2e(e)}function x2e(e){const t=Zt(e)?new Array(e.length):{};for(const n in e)t[n]=A2e(e,n);return t}class S2e{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return n2e(Pn(this._object),this._key)}}function A2e(e,t,n){const r=e[t];return qr(r)?r:new S2e(e,t,n)}class I2e{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new W5(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cb-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&yr!==this)return MK(this,!0),!0}get value(){const t=this.dep.track();return BK(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function C2e(e,t,n=!1){let r,a;return mn(e)?r=e:(r=e.get,a=e.set),new I2e(r,a,n)}const ew={},Kx=new WeakMap;let td;function R2e(e,t=!1,n=td){if(n){let r=Kx.get(n);r||Kx.set(n,r=[]),r.push(e)}}function k2e(e,t,n=Gn){const{immediate:r,deep:a,once:o,scheduler:l,augmentJob:u,call:h}=n,f=S=>a?S:ml(S)||a===!1||a===0?Ju(S,1):Ju(S);let d,p,g,m,y=!1,b=!1;if(qr(e)?(p=()=>e.value,y=ml(e)):D0(e)?(p=()=>f(e),y=!0):Zt(e)?(b=!0,y=e.some(S=>D0(S)||ml(S)),p=()=>e.map(S=>{if(qr(S))return S.value;if(D0(S))return f(S);if(mn(S))return h?h(S,2):S()})):mn(e)?t?p=h?()=>h(e,2):e:p=()=>{if(g){vf();try{g()}finally{yf()}}const S=td;td=d;try{return h?h(e,3,[m]):e(m)}finally{td=S}}:p=iu,t&&a){const S=p,A=a===!0?1/0:a;p=()=>Ju(S(),A)}const T=xL(),E=()=>{d.stop(),T&&T.active&&TL(T.effects,d)};if(o&&t){const S=t;t=(...A)=>{S(...A),E()}}let w=b?new Array(e.length).fill(ew):ew;const x=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(t){const A=d.run();if(a||y||(b?A.some((R,C)=>Xs(R,w[C])):Xs(A,w))){g&&g();const R=td;td=d;try{const C=[A,w===ew?void 0:b&&w[0]===ew?[]:w,m];h?h(t,3,C):t(...C),w=A}finally{td=R}}}else d.run()};return u&&u(x),d=new _K(p),d.scheduler=l?()=>l(x,!1):x,m=S=>R2e(S,!1,d),g=d.onStop=()=>{const S=Kx.get(d);if(S){if(h)h(S,4);else for(const A of S)A();Kx.delete(d)}},t?r?x(!0):w=d.run():l?l(x.bind(null,!0),!0):d.run(),E.pause=d.pause.bind(d),E.resume=d.resume.bind(d),E.stop=E,E}function Ju(e,t=1/0,n){if(t<=0||!wr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,qr(e))Ju(e.value,t,n);else if(Zt(e))for(let r=0;r<e.length;r++)Ju(e[r],t,n);else if(uv(e)||Jg(e))e.forEach(r=>{Ju(r,t,n)});else if(AK(e)){for(const r in e)Ju(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ju(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function LT(e,t,n,r){try{return r?e(...r):e()}catch(a){z5(a,t,n)}}function fu(e,t,n,r){if(mn(e)){const a=LT(e,t,n,r);return a&&xK(a)&&a.catch(o=>{z5(o,t,n)}),a}if(Zt(e)){const a=[];for(let o=0;o<e.length;o++)a.push(fu(e[o],t,n,r));return a}}function z5(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Gn;if(t){let u=t.parent;const h=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,h,f)===!1)return}u=u.parent}if(o){vf(),LT(o,null,10,[e,h,f]),yf();return}}O2e(e,n,a,r,l)}function O2e(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const Es=[];let Hc=-1;const e1=[];let m0=null,Ag=0;const KK=Promise.resolve();let Zx=null;function Ip(e){const t=Zx||KK;return e?t.then(this?e.bind(this):e):t}function N2e(e){let t=Hc+1,n=Es.length;for(;t<n;){const r=t+n>>>1,a=Es[r],o=fb(a);o<e||o===e&&a.flags&2?t=r+1:n=r}return t}function NL(e){if(!(e.flags&1)){const t=fb(e),n=Es[Es.length-1];!n||!(e.flags&2)&&t>=fb(n)?Es.push(e):Es.splice(N2e(t),0,e),e.flags|=1,ZK()}}function ZK(){Zx||(Zx=KK.then(JK))}function L2e(e){Zt(e)?e1.push(...e):m0&&e.id===-1?m0.splice(Ag+1,0,e):e.flags&1||(e1.push(e),e.flags|=1),ZK()}function kF(e,t,n=Hc+1){for(;n<Es.length;n++){const r=Es[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Es.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function QK(e){if(e1.length){const t=[...new Set(e1)].sort((n,r)=>fb(n)-fb(r));if(e1.length=0,m0){m0.push(...t);return}for(m0=t,Ag=0;Ag<m0.length;Ag++){const n=m0[Ag];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}m0=null,Ag=0}}const fb=e=>e.id==null?e.flags&2?-1:1/0:e.id;function JK(e){try{for(Hc=0;Hc<Es.length;Hc++){const t=Es[Hc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),LT(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Hc<Es.length;Hc++){const t=Es[Hc];t&&(t.flags&=-2)}Hc=-1,Es.length=0,QK(),Zx=null,(Es.length||e1.length)&&JK()}}let Vi=null,eZ=null;function Qx(e){const t=Vi;return Vi=e,eZ=e&&e.type.__scopeId||null,t}function Ig(e,t=Vi,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&HF(-1);const o=Qx(t);let l;try{l=e(...a)}finally{Qx(o),r._d&&HF(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Hi(e,t){if(Vi===null)return e;const n=X5(Vi),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,l,u,h=Gn]=t[a];o&&(mn(o)&&(o={mounted:o,updated:o}),o.deep&&Ju(l),r.push({dir:o,instance:n,value:l,oldValue:void 0,arg:u,modifiers:h}))}return e}function Bf(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let l=0;l<a.length;l++){const u=a[l];o&&(u.oldValue=o[l].value);let h=u.dir[r];h&&(vf(),fu(h,n,8,[e.el,u,e,t]),yf())}}const _2e=Symbol("_vte"),D2e=e=>e.__isTeleport;function LL(e,t){e.shapeFlag&6&&e.component?(e.transition=t,LL(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Tu(e,t){return mn(e)?Oa({name:e.name},t,{setup:e}):e}function tZ(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function OF(e){const t=j5(),n=hb(null);if(t){const a=t.refs===Gn?t.refs={}:t.refs;Object.defineProperty(a,e,{enumerable:!0,get:()=>n.value,set:o=>n.value=o})}return n}function Jx(e,t,n,r,a=!1){if(Zt(e)){e.forEach((y,b)=>Jx(y,t&&(Zt(t)?t[b]:t),n,r,a));return}if(t1(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Jx(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?X5(r.component):r.el,l=a?null:o,{i:u,r:h}=e,f=t&&t.r,d=u.refs===Gn?u.refs={}:u.refs,p=u.setupState,g=Pn(p),m=p===Gn?()=>!1:y=>Xn(g,y);if(f!=null&&f!==h&&(_i(f)?(d[f]=null,m(f)&&(p[f]=null)):qr(f)&&(f.value=null)),mn(h))LT(h,u,12,[l,d]);else{const y=_i(h),b=qr(h);if(y||b){const T=()=>{if(e.f){const E=y?m(h)?p[h]:d[h]:h.value;a?Zt(E)&&TL(E,o):Zt(E)?E.includes(o)||E.push(o):y?(d[h]=[o],m(h)&&(p[h]=d[h])):(h.value=[o],e.k&&(d[e.k]=h.value))}else y?(d[h]=l,m(h)&&(p[h]=l)):b&&(h.value=l,e.k&&(d[e.k]=l))};l?(T.id=-1,Ao(T,n)):T()}}}H5().requestIdleCallback;H5().cancelIdleCallback;const t1=e=>!!e.type.__asyncLoader,nZ=e=>e.type.__isKeepAlive;function M2e(e,t){rZ(e,"a",t)}function P2e(e,t){rZ(e,"da",t)}function rZ(e,t,n=oa){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Y5(t,r,n),n){let a=n.parent;for(;a&&a.parent;)nZ(a.parent.vnode)&&F2e(r,t,n,a),a=a.parent}}function F2e(e,t,n,r){const a=Y5(t,e,r,!0);_L(()=>{TL(r[t],a)},n)}function Y5(e,t,n=oa,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{vf();const u=_T(n),h=fu(t,n,e,l);return u(),yf(),h});return r?a.unshift(o):a.push(o),o}}const Hh=e=>(t,n=oa)=>{(!gb||e==="sp")&&Y5(e,(...r)=>t(...r),n)},B2e=Hh("bm"),U0=Hh("m"),H2e=Hh("bu"),$2e=Hh("u"),W2e=Hh("bum"),_L=Hh("um"),U2e=Hh("sp"),G2e=Hh("rtg"),z2e=Hh("rtc");function Y2e(e,t=oa){Y5("ec",e,t)}const V2e="components";function PI(e,t){return j2e(V2e,e,!0,t)||e}const q2e=Symbol.for("v-ndc");function j2e(e,t,n=!0,r=!1){const a=Vi||oa;if(a){const o=a.type;{const u=Fbe(o,!1);if(u&&(u===t||u===$o(t)||u===B5($o(t))))return o}const l=NF(a[e]||o[e],t)||NF(a.appContext[e],t);return!l&&r?o:l}}function NF(e,t){return e&&(e[t]||e[$o(t)]||e[B5($o(t))])}function e4(e,t,n,r){let a;const o=n,l=Zt(e);if(l||_i(e)){const u=l&&D0(e);let h=!1;u&&(h=!ml(e),e=U5(e)),a=new Array(e.length);for(let f=0,d=e.length;f<d;f++)a[f]=t(h?ja(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let u=0;u<e;u++)a[u]=t(u+1,u,void 0,o)}else if(wr(e))if(e[Symbol.iterator])a=Array.from(e,(u,h)=>t(u,h,void 0,o));else{const u=Object.keys(e);a=new Array(u.length);for(let h=0,f=u.length;h<f;h++){const d=u[h];a[h]=t(e[d],d,h,o)}}else a=[];return a}function X2e(e,t,n={},r,a){if(Vi.ce||Vi.parent&&t1(Vi.parent)&&Vi.parent.ce)return br(),r4(xa,null,[yi("slot",n,r)],64);let o=e[t];o&&o._c&&(o._d=!1),br();const l=o&&iZ(o(n)),u=n.key||l&&l.key,h=r4(xa,{key:(u&&!mc(u)?u:`_${t}`)+""},l||[],l&&e._===1?64:-2);return o&&o._c&&(o._d=!0),h}function iZ(e){return e.some(t=>pb(t)?!(t.type===G0||t.type===xa&&!iZ(t.children)):!0)?e:null}const tO=e=>e?IZ(e)?X5(e):tO(e.parent):null,R2=Oa(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tO(e.parent),$root:e=>tO(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>sZ(e),$forceUpdate:e=>e.f||(e.f=()=>{NL(e.update)}),$nextTick:e=>e.n||(e.n=Ip.bind(e.proxy)),$watch:e=>bbe.bind(e)}),FI=(e,t)=>e!==Gn&&!e.__isScriptSetup&&Xn(e,t),K2e={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:o,accessCache:l,type:u,appContext:h}=e;let f;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(FI(r,t))return l[t]=1,r[t];if(a!==Gn&&Xn(a,t))return l[t]=2,a[t];if((f=e.propsOptions[0])&&Xn(f,t))return l[t]=3,o[t];if(n!==Gn&&Xn(n,t))return l[t]=4,n[t];nO&&(l[t]=0)}}const d=R2[t];let p,g;if(d)return t==="$attrs"&&qa(e.attrs,"get",""),d(e);if((p=u.__cssModules)&&(p=p[t]))return p;if(n!==Gn&&Xn(n,t))return l[t]=4,n[t];if(g=h.config.globalProperties,Xn(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:o}=e;return FI(a,t)?(a[t]=n,!0):r!==Gn&&Xn(r,t)?(r[t]=n,!0):Xn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:o}},l){let u;return!!n[l]||e!==Gn&&Xn(e,l)||FI(t,l)||(u=o[0])&&Xn(u,l)||Xn(r,l)||Xn(R2,l)||Xn(a.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function t4(e){return Zt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Z2e(e,t){return!e||!t?e||t:Zt(e)&&Zt(t)?e.concat(t):Oa({},t4(e),t4(t))}let nO=!0;function Q2e(e){const t=sZ(e),n=e.proxy,r=e.ctx;nO=!1,t.beforeCreate&&LF(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:l,watch:u,provide:h,inject:f,created:d,beforeMount:p,mounted:g,beforeUpdate:m,updated:y,activated:b,deactivated:T,beforeDestroy:E,beforeUnmount:w,destroyed:x,unmounted:S,render:A,renderTracked:R,renderTriggered:C,errorCaptured:N,serverPrefetch:O,expose:L,inheritAttrs:k,components:M,directives:$,filters:_}=t;if(f&&J2e(f,r,null),l)for(const D in l){const P=l[D];mn(P)&&(r[D]=P.bind(n))}if(a){const D=a.call(n,n);wr(D)&&(e.data=NT(D))}if(nO=!0,o)for(const D in o){const P=o[D],H=mn(P)?P.bind(n,n):mn(P.get)?P.get.bind(n,n):iu,W=!mn(P)&&mn(P.set)?P.set.bind(n):iu,U=bi({get:H,set:W});Object.defineProperty(r,D,{enumerable:!0,configurable:!0,get:()=>U.value,set:V=>U.value=V})}if(u)for(const D in u)aZ(u[D],r,n,D);if(h){const D=mn(h)?h.call(n):h;Reflect.ownKeys(D).forEach(P=>{H3(P,D[P])})}d&&LF(d,e,"c");function B(D,P){Zt(P)?P.forEach(H=>D(H.bind(n))):P&&D(P.bind(n))}if(B(B2e,p),B(U0,g),B(H2e,m),B($2e,y),B(M2e,b),B(P2e,T),B(Y2e,N),B(z2e,R),B(G2e,C),B(W2e,w),B(_L,S),B(U2e,O),Zt(L))if(L.length){const D=e.exposed||(e.exposed={});L.forEach(P=>{Object.defineProperty(D,P,{get:()=>n[P],set:H=>n[P]=H})})}else e.exposed||(e.exposed={});A&&e.render===iu&&(e.render=A),k!=null&&(e.inheritAttrs=k),M&&(e.components=M),$&&(e.directives=$),O&&tZ(e)}function J2e(e,t,n=iu){Zt(e)&&(e=rO(e));for(const r in e){const a=e[r];let o;wr(a)?"default"in a?o=au(a.from||r,a.default,!0):o=au(a.from||r):o=au(a),qr(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function LF(e,t,n){fu(Zt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function aZ(e,t,n,r){let a=r.includes(".")?bZ(n,r):()=>n[r];if(_i(e)){const o=t[e];mn(o)&&ic(a,o)}else if(mn(e))ic(a,e.bind(n));else if(wr(e))if(Zt(e))e.forEach(o=>aZ(o,t,n,r));else{const o=mn(e.handler)?e.handler.bind(n):t[e.handler];mn(o)&&ic(a,o,e)}}function sZ(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,u=o.get(t);let h;return u?h=u:!a.length&&!n&&!r?h=t:(h={},a.length&&a.forEach(f=>n4(h,f,l,!0)),n4(h,t,l)),wr(t)&&o.set(t,h),h}function n4(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&n4(e,o,n,!0),a&&a.forEach(l=>n4(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const u=ebe[l]||n&&n[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const ebe={data:_F,props:DF,emits:DF,methods:Jy,computed:Jy,beforeCreate:gs,created:gs,beforeMount:gs,mounted:gs,beforeUpdate:gs,updated:gs,beforeDestroy:gs,beforeUnmount:gs,destroyed:gs,unmounted:gs,activated:gs,deactivated:gs,errorCaptured:gs,serverPrefetch:gs,components:Jy,directives:Jy,watch:nbe,provide:_F,inject:tbe};function _F(e,t){return t?e?function(){return Oa(mn(e)?e.call(this,this):e,mn(t)?t.call(this,this):t)}:t:e}function tbe(e,t){return Jy(rO(e),rO(t))}function rO(e){if(Zt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gs(e,t){return e?[...new Set([].concat(e,t))]:t}function Jy(e,t){return e?Oa(Object.create(null),e,t):t}function DF(e,t){return e?Zt(e)&&Zt(t)?[...new Set([...e,...t])]:Oa(Object.create(null),t4(e),t4(t??{})):t}function nbe(e,t){if(!e)return t;if(!t)return e;const n=Oa(Object.create(null),e);for(const r in t)n[r]=gs(e[r],t[r]);return n}function oZ(){return{app:null,config:{isNativeTag:Uye,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rbe=0;function ibe(e,t){return function(r,a=null){mn(r)||(r=Oa({},r)),a!=null&&!wr(a)&&(a=null);const o=oZ(),l=new WeakSet,u=[];let h=!1;const f=o.app={_uid:rbe++,_component:r,_props:a,_container:null,_context:o,_instance:null,version:Hbe,get config(){return o.config},set config(d){},use(d,...p){return l.has(d)||(d&&mn(d.install)?(l.add(d),d.install(f,...p)):mn(d)&&(l.add(d),d(f,...p))),f},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),f},component(d,p){return p?(o.components[d]=p,f):o.components[d]},directive(d,p){return p?(o.directives[d]=p,f):o.directives[d]},mount(d,p,g){if(!h){const m=f._ceVNode||yi(r,a);return m.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(m,d,g),h=!0,f._container=d,d.__vue_app__=f,X5(m.component)}},onUnmount(d){u.push(d)},unmount(){h&&(fu(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return o.provides[d]=p,f},runWithContext(d){const p=Pd;Pd=f;try{return d()}finally{Pd=p}}};return f}}let Pd=null;function H3(e,t){if(oa){let n=oa.provides;const r=oa.parent&&oa.parent.provides;r===n&&(n=oa.provides=Object.create(r)),n[e]=t}}function au(e,t,n=!1){const r=oa||Vi;if(r||Pd){const a=Pd?Pd._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&mn(t)?t.call(r&&r.proxy):t}}function abe(){return!!(oa||Vi||Pd)}const lZ={},cZ=()=>Object.create(lZ),uZ=e=>Object.getPrototypeOf(e)===lZ;function sbe(e,t,n,r=!1){const a={},o=cZ();e.propsDefaults=Object.create(null),hZ(e,t,a,o);for(const l in e.propsOptions[0])l in a||(a[l]=void 0);n?e.props=r?a:qK(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function obe(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:l}}=e,u=Pn(a),[h]=e.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(V5(e.emitsOptions,g))continue;const m=t[g];if(h)if(Xn(o,g))m!==o[g]&&(o[g]=m,f=!0);else{const y=$o(g);a[y]=iO(h,u,y,m,e,!1)}else m!==o[g]&&(o[g]=m,f=!0)}}}else{hZ(e,t,a,o)&&(f=!0);let d;for(const p in u)(!t||!Xn(t,p)&&((d=Bh(p))===p||!Xn(t,d)))&&(h?n&&(n[p]!==void 0||n[d]!==void 0)&&(a[p]=iO(h,u,p,void 0,e,!0)):delete a[p]);if(o!==u)for(const p in o)(!t||!Xn(t,p))&&(delete o[p],f=!0)}f&&Qu(e.attrs,"set","")}function hZ(e,t,n,r){const[a,o]=e.propsOptions;let l=!1,u;if(t)for(let h in t){if(A2(h))continue;const f=t[h];let d;a&&Xn(a,d=$o(h))?!o||!o.includes(d)?n[d]=f:(u||(u={}))[d]=f:V5(e.emitsOptions,h)||(!(h in r)||f!==r[h])&&(r[h]=f,l=!0)}if(o){const h=Pn(n),f=u||Gn;for(let d=0;d<o.length;d++){const p=o[d];n[p]=iO(a,h,p,f[p],e,!Xn(f,p))}}return l}function iO(e,t,n,r,a,o){const l=e[n];if(l!=null){const u=Xn(l,"default");if(u&&r===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&mn(h)){const{propsDefaults:f}=a;if(n in f)r=f[n];else{const d=_T(a);r=f[n]=h.call(null,t),d()}}else r=h;a.ce&&a.ce._setProp(n,r)}l[0]&&(o&&!u?r=!1:l[1]&&(r===""||r===Bh(n))&&(r=!0))}return r}const lbe=new WeakMap;function fZ(e,t,n=!1){const r=n?lbe:t.propsCache,a=r.get(e);if(a)return a;const o=e.props,l={},u=[];let h=!1;if(!mn(e)){const d=p=>{h=!0;const[g,m]=fZ(p,t,!0);Oa(l,g),m&&u.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!h)return wr(e)&&r.set(e,Qg),Qg;if(Zt(o))for(let d=0;d<o.length;d++){const p=$o(o[d]);MF(p)&&(l[p]=Gn)}else if(o)for(const d in o){const p=$o(d);if(MF(p)){const g=o[d],m=l[p]=Zt(g)||mn(g)?{type:g}:Oa({},g),y=m.type;let b=!1,T=!0;if(Zt(y))for(let E=0;E<y.length;++E){const w=y[E],x=mn(w)&&w.name;if(x==="Boolean"){b=!0;break}else x==="String"&&(T=!1)}else b=mn(y)&&y.name==="Boolean";m[0]=b,m[1]=T,(b||Xn(m,"default"))&&u.push(p)}}const f=[l,u];return wr(e)&&r.set(e,f),f}function MF(e){return e[0]!=="$"&&!A2(e)}const dZ=e=>e[0]==="_"||e==="$stable",DL=e=>Zt(e)?e.map(zc):[zc(e)],cbe=(e,t,n)=>{if(t._n)return t;const r=Ig((...a)=>DL(t(...a)),n);return r._c=!1,r},pZ=(e,t,n)=>{const r=e._ctx;for(const a in e){if(dZ(a))continue;const o=e[a];if(mn(o))t[a]=cbe(a,o,r);else if(o!=null){const l=DL(o);t[a]=()=>l}}},gZ=(e,t)=>{const n=DL(t);e.slots.default=()=>n},mZ=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},ube=(e,t,n)=>{const r=e.slots=cZ();if(e.vnode.shapeFlag&32){const a=t._;a?(mZ(r,t,n),n&&IK(r,"_",a,!0)):pZ(t,r)}else t&&gZ(e,t)},hbe=(e,t,n)=>{const{vnode:r,slots:a}=e;let o=!0,l=Gn;if(r.shapeFlag&32){const u=t._;u?n&&u===1?o=!1:mZ(a,t,n):(o=!t.$stable,pZ(t,a)),l=t}else t&&(gZ(e,t),l={default:1});if(o)for(const u in a)!dZ(u)&&l[u]==null&&delete a[u]},Ao=Abe;function fbe(e){return dbe(e)}function dbe(e,t){const n=H5();n.__VUE__=!0;const{insert:r,remove:a,patchProp:o,createElement:l,createText:u,createComment:h,setText:f,setElementText:d,parentNode:p,nextSibling:g,setScopeId:m=iu,insertStaticContent:y}=e,b=(z,X,te,ne=null,Ae=null,he=null,oe=void 0,de=null,be=!!X.dynamicChildren)=>{if(z===X)return;z&&!sy(z,X)&&(ne=re(z),V(z,Ae,he,!0),z=null),X.patchFlag===-2&&(be=!1,X.dynamicChildren=null);const{type:fe,ref:Ie,shapeFlag:Re}=X;switch(fe){case q5:T(z,X,te,ne);break;case G0:E(z,X,te,ne);break;case HI:z==null&&w(X,te,ne,oe);break;case xa:M(z,X,te,ne,Ae,he,oe,de,be);break;default:Re&1?A(z,X,te,ne,Ae,he,oe,de,be):Re&6?$(z,X,te,ne,Ae,he,oe,de,be):(Re&64||Re&128)&&fe.process(z,X,te,ne,Ae,he,oe,de,be,K)}Ie!=null&&Ae&&Jx(Ie,z&&z.ref,he,X||z,!X)},T=(z,X,te,ne)=>{if(z==null)r(X.el=u(X.children),te,ne);else{const Ae=X.el=z.el;X.children!==z.children&&f(Ae,X.children)}},E=(z,X,te,ne)=>{z==null?r(X.el=h(X.children||""),te,ne):X.el=z.el},w=(z,X,te,ne)=>{[z.el,z.anchor]=y(z.children,X,te,ne,z.el,z.anchor)},x=({el:z,anchor:X},te,ne)=>{let Ae;for(;z&&z!==X;)Ae=g(z),r(z,te,ne),z=Ae;r(X,te,ne)},S=({el:z,anchor:X})=>{let te;for(;z&&z!==X;)te=g(z),a(z),z=te;a(X)},A=(z,X,te,ne,Ae,he,oe,de,be)=>{X.type==="svg"?oe="svg":X.type==="math"&&(oe="mathml"),z==null?R(X,te,ne,Ae,he,oe,de,be):O(z,X,Ae,he,oe,de,be)},R=(z,X,te,ne,Ae,he,oe,de)=>{let be,fe;const{props:Ie,shapeFlag:Re,transition:ke,dirs:De}=z;if(be=z.el=l(z.type,he,Ie&&Ie.is,Ie),Re&8?d(be,z.children):Re&16&&N(z.children,be,null,ne,Ae,BI(z,he),oe,de),De&&Bf(z,null,ne,"created"),C(be,z,z.scopeId,oe,ne),Ie){for(const j in Ie)j!=="value"&&!A2(j)&&o(be,j,null,Ie[j],he,ne);"value"in Ie&&o(be,"value",null,Ie.value,he),(fe=Ie.onVnodeBeforeMount)&&Rc(fe,ne,z)}De&&Bf(z,null,ne,"beforeMount");const se=pbe(Ae,ke);se&&ke.beforeEnter(be),r(be,X,te),((fe=Ie&&Ie.onVnodeMounted)||se||De)&&Ao(()=>{fe&&Rc(fe,ne,z),se&&ke.enter(be),De&&Bf(z,null,ne,"mounted")},Ae)},C=(z,X,te,ne,Ae)=>{if(te&&m(z,te),ne)for(let he=0;he<ne.length;he++)m(z,ne[he]);if(Ae){let he=Ae.subTree;if(X===he||xZ(he.type)&&(he.ssContent===X||he.ssFallback===X)){const oe=Ae.vnode;C(z,oe,oe.scopeId,oe.slotScopeIds,Ae.parent)}}},N=(z,X,te,ne,Ae,he,oe,de,be=0)=>{for(let fe=be;fe<z.length;fe++){const Ie=z[fe]=de?v0(z[fe]):zc(z[fe]);b(null,Ie,X,te,ne,Ae,he,oe,de)}},O=(z,X,te,ne,Ae,he,oe)=>{const de=X.el=z.el;let{patchFlag:be,dynamicChildren:fe,dirs:Ie}=X;be|=z.patchFlag&16;const Re=z.props||Gn,ke=X.props||Gn;let De;if(te&&Hf(te,!1),(De=ke.onVnodeBeforeUpdate)&&Rc(De,te,X,z),Ie&&Bf(X,z,te,"beforeUpdate"),te&&Hf(te,!0),(Re.innerHTML&&ke.innerHTML==null||Re.textContent&&ke.textContent==null)&&d(de,""),fe?L(z.dynamicChildren,fe,de,te,ne,BI(X,Ae),he):oe||P(z,X,de,null,te,ne,BI(X,Ae),he,!1),be>0){if(be&16)k(de,Re,ke,te,Ae);else if(be&2&&Re.class!==ke.class&&o(de,"class",null,ke.class,Ae),be&4&&o(de,"style",Re.style,ke.style,Ae),be&8){const se=X.dynamicProps;for(let j=0;j<se.length;j++){const me=se[j],ue=Re[me],we=ke[me];(we!==ue||me==="value")&&o(de,me,ue,we,Ae,te)}}be&1&&z.children!==X.children&&d(de,X.children)}else!oe&&fe==null&&k(de,Re,ke,te,Ae);((De=ke.onVnodeUpdated)||Ie)&&Ao(()=>{De&&Rc(De,te,X,z),Ie&&Bf(X,z,te,"updated")},ne)},L=(z,X,te,ne,Ae,he,oe)=>{for(let de=0;de<X.length;de++){const be=z[de],fe=X[de],Ie=be.el&&(be.type===xa||!sy(be,fe)||be.shapeFlag&70)?p(be.el):te;b(be,fe,Ie,null,ne,Ae,he,oe,!0)}},k=(z,X,te,ne,Ae)=>{if(X!==te){if(X!==Gn)for(const he in X)!A2(he)&&!(he in te)&&o(z,he,X[he],null,Ae,ne);for(const he in te){if(A2(he))continue;const oe=te[he],de=X[he];oe!==de&&he!=="value"&&o(z,he,de,oe,Ae,ne)}"value"in te&&o(z,"value",X.value,te.value,Ae)}},M=(z,X,te,ne,Ae,he,oe,de,be)=>{const fe=X.el=z?z.el:u(""),Ie=X.anchor=z?z.anchor:u("");let{patchFlag:Re,dynamicChildren:ke,slotScopeIds:De}=X;De&&(de=de?de.concat(De):De),z==null?(r(fe,te,ne),r(Ie,te,ne),N(X.children||[],te,Ie,Ae,he,oe,de,be)):Re>0&&Re&64&&ke&&z.dynamicChildren?(L(z.dynamicChildren,ke,te,Ae,he,oe,de),(X.key!=null||Ae&&X===Ae.subTree)&&vZ(z,X,!0)):P(z,X,te,Ie,Ae,he,oe,de,be)},$=(z,X,te,ne,Ae,he,oe,de,be)=>{X.slotScopeIds=de,z==null?X.shapeFlag&512?Ae.ctx.activate(X,te,ne,oe,be):_(X,te,ne,Ae,he,oe,be):F(z,X,be)},_=(z,X,te,ne,Ae,he,oe)=>{const de=z.component=Lbe(z,ne,Ae);if(nZ(z)&&(de.ctx.renderer=K),_be(de,!1,oe),de.asyncDep){if(Ae&&Ae.registerDep(de,B,oe),!z.el){const be=de.subTree=yi(G0);E(null,be,X,te)}}else B(de,z,X,te,Ae,he,oe)},F=(z,X,te)=>{const ne=X.component=z.component;if(xbe(z,X,te))if(ne.asyncDep&&!ne.asyncResolved){D(ne,X,te);return}else ne.next=X,ne.update();else X.el=z.el,ne.vnode=X},B=(z,X,te,ne,Ae,he,oe)=>{const de=()=>{if(z.isMounted){let{next:Re,bu:ke,u:De,parent:se,vnode:j}=z;{const Oe=yZ(z);if(Oe){Re&&(Re.el=j.el,D(z,Re,oe)),Oe.asyncDep.then(()=>{z.isUnmounted||de()});return}}let me=Re,ue;Hf(z,!1),Re?(Re.el=j.el,D(z,Re,oe)):Re=j,ke&&B3(ke),(ue=Re.props&&Re.props.onVnodeBeforeUpdate)&&Rc(ue,se,Re,j),Hf(z,!0);const we=FF(z),ie=z.subTree;z.subTree=we,b(ie,we,p(ie.el),re(ie),z,Ae,he),Re.el=we.el,me===null&&Sbe(z,we.el),De&&Ao(De,Ae),(ue=Re.props&&Re.props.onVnodeUpdated)&&Ao(()=>Rc(ue,se,Re,j),Ae)}else{let Re;const{el:ke,props:De}=X,{bm:se,m:j,parent:me,root:ue,type:we}=z,ie=t1(X);Hf(z,!1),se&&B3(se),!ie&&(Re=De&&De.onVnodeBeforeMount)&&Rc(Re,me,X),Hf(z,!0);{ue.ce&&ue.ce._injectChildStyle(we);const Oe=z.subTree=FF(z);b(null,Oe,te,ne,z,Ae,he),X.el=Oe.el}if(j&&Ao(j,Ae),!ie&&(Re=De&&De.onVnodeMounted)){const Oe=X;Ao(()=>Rc(Re,me,Oe),Ae)}(X.shapeFlag&256||me&&t1(me.vnode)&&me.vnode.shapeFlag&256)&&z.a&&Ao(z.a,Ae),z.isMounted=!0,X=te=ne=null}};z.scope.on();const be=z.effect=new _K(de);z.scope.off();const fe=z.update=be.run.bind(be),Ie=z.job=be.runIfDirty.bind(be);Ie.i=z,Ie.id=z.uid,be.scheduler=()=>NL(Ie),Hf(z,!0),fe()},D=(z,X,te)=>{X.component=z;const ne=z.vnode.props;z.vnode=X,z.next=null,obe(z,X.props,ne,te),hbe(z,X.children,te),vf(),kF(z),yf()},P=(z,X,te,ne,Ae,he,oe,de,be=!1)=>{const fe=z&&z.children,Ie=z?z.shapeFlag:0,Re=X.children,{patchFlag:ke,shapeFlag:De}=X;if(ke>0){if(ke&128){W(fe,Re,te,ne,Ae,he,oe,de,be);return}else if(ke&256){H(fe,Re,te,ne,Ae,he,oe,de,be);return}}De&8?(Ie&16&&Q(fe,Ae,he),Re!==fe&&d(te,Re)):Ie&16?De&16?W(fe,Re,te,ne,Ae,he,oe,de,be):Q(fe,Ae,he,!0):(Ie&8&&d(te,""),De&16&&N(Re,te,ne,Ae,he,oe,de,be))},H=(z,X,te,ne,Ae,he,oe,de,be)=>{z=z||Qg,X=X||Qg;const fe=z.length,Ie=X.length,Re=Math.min(fe,Ie);let ke;for(ke=0;ke<Re;ke++){const De=X[ke]=be?v0(X[ke]):zc(X[ke]);b(z[ke],De,te,null,Ae,he,oe,de,be)}fe>Ie?Q(z,Ae,he,!0,!1,Re):N(X,te,ne,Ae,he,oe,de,be,Re)},W=(z,X,te,ne,Ae,he,oe,de,be)=>{let fe=0;const Ie=X.length;let Re=z.length-1,ke=Ie-1;for(;fe<=Re&&fe<=ke;){const De=z[fe],se=X[fe]=be?v0(X[fe]):zc(X[fe]);if(sy(De,se))b(De,se,te,null,Ae,he,oe,de,be);else break;fe++}for(;fe<=Re&&fe<=ke;){const De=z[Re],se=X[ke]=be?v0(X[ke]):zc(X[ke]);if(sy(De,se))b(De,se,te,null,Ae,he,oe,de,be);else break;Re--,ke--}if(fe>Re){if(fe<=ke){const De=ke+1,se=De<Ie?X[De].el:ne;for(;fe<=ke;)b(null,X[fe]=be?v0(X[fe]):zc(X[fe]),te,se,Ae,he,oe,de,be),fe++}}else if(fe>ke)for(;fe<=Re;)V(z[fe],Ae,he,!0),fe++;else{const De=fe,se=fe,j=new Map;for(fe=se;fe<=ke;fe++){const Ee=X[fe]=be?v0(X[fe]):zc(X[fe]);Ee.key!=null&&j.set(Ee.key,fe)}let me,ue=0;const we=ke-se+1;let ie=!1,Oe=0;const ae=new Array(we);for(fe=0;fe<we;fe++)ae[fe]=0;for(fe=De;fe<=Re;fe++){const Ee=z[fe];if(ue>=we){V(Ee,Ae,he,!0);continue}let ye;if(Ee.key!=null)ye=j.get(Ee.key);else for(me=se;me<=ke;me++)if(ae[me-se]===0&&sy(Ee,X[me])){ye=me;break}ye===void 0?V(Ee,Ae,he,!0):(ae[ye-se]=fe+1,ye>=Oe?Oe=ye:ie=!0,b(Ee,X[ye],te,null,Ae,he,oe,de,be),ue++)}const ge=ie?gbe(ae):Qg;for(me=ge.length-1,fe=we-1;fe>=0;fe--){const Ee=se+fe,ye=X[Ee],Se=Ee+1<Ie?X[Ee+1].el:ne;ae[fe]===0?b(null,ye,te,Se,Ae,he,oe,de,be):ie&&(me<0||fe!==ge[me]?U(ye,te,Se,2):me--)}}},U=(z,X,te,ne,Ae=null)=>{const{el:he,type:oe,transition:de,children:be,shapeFlag:fe}=z;if(fe&6){U(z.component.subTree,X,te,ne);return}if(fe&128){z.suspense.move(X,te,ne);return}if(fe&64){oe.move(z,X,te,K);return}if(oe===xa){r(he,X,te);for(let Re=0;Re<be.length;Re++)U(be[Re],X,te,ne);r(z.anchor,X,te);return}if(oe===HI){x(z,X,te);return}if(ne!==2&&fe&1&&de)if(ne===0)de.beforeEnter(he),r(he,X,te),Ao(()=>de.enter(he),Ae);else{const{leave:Re,delayLeave:ke,afterLeave:De}=de,se=()=>r(he,X,te),j=()=>{Re(he,()=>{se(),De&&De()})};ke?ke(he,se,j):j()}else r(he,X,te)},V=(z,X,te,ne=!1,Ae=!1)=>{const{type:he,props:oe,ref:de,children:be,dynamicChildren:fe,shapeFlag:Ie,patchFlag:Re,dirs:ke,cacheIndex:De}=z;if(Re===-2&&(Ae=!1),de!=null&&Jx(de,null,te,z,!0),De!=null&&(X.renderCache[De]=void 0),Ie&256){X.ctx.deactivate(z);return}const se=Ie&1&&ke,j=!t1(z);let me;if(j&&(me=oe&&oe.onVnodeBeforeUnmount)&&Rc(me,X,z),Ie&6)ce(z.component,te,ne);else{if(Ie&128){z.suspense.unmount(te,ne);return}se&&Bf(z,null,X,"beforeUnmount"),Ie&64?z.type.remove(z,X,te,K,ne):fe&&!fe.hasOnce&&(he!==xa||Re>0&&Re&64)?Q(fe,X,te,!1,!0):(he===xa&&Re&384||!Ae&&Ie&16)&&Q(be,X,te),ne&&G(z)}(j&&(me=oe&&oe.onVnodeUnmounted)||se)&&Ao(()=>{me&&Rc(me,X,z),se&&Bf(z,null,X,"unmounted")},te)},G=z=>{const{type:X,el:te,anchor:ne,transition:Ae}=z;if(X===xa){ee(te,ne);return}if(X===HI){S(z);return}const he=()=>{a(te),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(z.shapeFlag&1&&Ae&&!Ae.persisted){const{leave:oe,delayLeave:de}=Ae,be=()=>oe(te,he);de?de(z.el,he,be):be()}else he()},ee=(z,X)=>{let te;for(;z!==X;)te=g(z),a(z),z=te;a(X)},ce=(z,X,te)=>{const{bum:ne,scope:Ae,job:he,subTree:oe,um:de,m:be,a:fe}=z;PF(be),PF(fe),ne&&B3(ne),Ae.stop(),he&&(he.flags|=8,V(oe,z,X,te)),de&&Ao(de,X),Ao(()=>{z.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},Q=(z,X,te,ne=!1,Ae=!1,he=0)=>{for(let oe=he;oe<z.length;oe++)V(z[oe],X,te,ne,Ae)},re=z=>{if(z.shapeFlag&6)return re(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const X=g(z.anchor||z.el),te=X&&X[_2e];return te?g(te):X};let le=!1;const Y=(z,X,te)=>{z==null?X._vnode&&V(X._vnode,null,null,!0):b(X._vnode||null,z,X,null,null,null,te),X._vnode=z,le||(le=!0,kF(),QK(),le=!1)},K={p:b,um:V,m:U,r:G,mt:_,mc:N,pc:P,pbc:L,n:re,o:e};return{render:Y,hydrate:void 0,createApp:ibe(Y)}}function BI({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Hf({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function pbe(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vZ(e,t,n=!1){const r=e.children,a=t.children;if(Zt(r)&&Zt(a))for(let o=0;o<r.length;o++){const l=r[o];let u=a[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[o]=v0(a[o]),u.el=l.el),!n&&u.patchFlag!==-2&&vZ(l,u)),u.type===q5&&(u.el=l.el)}}function gbe(e){const t=e.slice(),n=[0];let r,a,o,l,u;const h=e.length;for(r=0;r<h;r++){const f=e[r];if(f!==0){if(a=n[n.length-1],e[a]<f){t[r]=a,n.push(r);continue}for(o=0,l=n.length-1;o<l;)u=o+l>>1,e[n[u]]<f?o=u+1:l=u;f<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}function yZ(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yZ(t)}function PF(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const mbe=Symbol.for("v-scx"),vbe=()=>au(mbe);function ybe(e,t){return ML(e,null,{flush:"sync"})}function ic(e,t,n){return ML(e,t,n)}function ML(e,t,n=Gn){const{immediate:r,deep:a,flush:o,once:l}=n,u=Oa({},n),h=t&&r||!t&&o!=="post";let f;if(gb){if(o==="sync"){const m=vbe();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!h){const m=()=>{};return m.stop=iu,m.resume=iu,m.pause=iu,m}}const d=oa;u.call=(m,y,b)=>fu(m,d,y,b);let p=!1;o==="post"?u.scheduler=m=>{Ao(m,d&&d.suspense)}:o!=="sync"&&(p=!0,u.scheduler=(m,y)=>{y?m():NL(m)}),u.augmentJob=m=>{t&&(m.flags|=4),p&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const g=k2e(e,t,u);return gb&&(f?f.push(g):h&&g()),g}function bbe(e,t,n){const r=this.proxy,a=_i(e)?e.includes(".")?bZ(r,e):()=>r[e]:e.bind(r,r);let o;mn(t)?o=t:(o=t.handler,n=t);const l=_T(this),u=ML(a,o.bind(r),n);return l(),u}function bZ(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function TZ(e,t,n=Gn){const r=j5(),a=$o(t),o=Bh(t),l=EZ(e,a),u=w2e((h,f)=>{let d,p=Gn,g;return ybe(()=>{const m=e[a];Xs(d,m)&&(d=m,f())}),{get(){return h(),n.get?n.get(d):d},set(m){const y=n.set?n.set(m):m;if(!Xs(y,d)&&!(p!==Gn&&Xs(m,p)))return;const b=r.vnode.props;b&&(t in b||a in b||o in b)&&(`onUpdate:${t}`in b||`onUpdate:${a}`in b||`onUpdate:${o}`in b)||(d=m,f()),r.emit(`update:${t}`,y),Xs(m,y)&&Xs(m,p)&&!Xs(y,g)&&f(),p=m,g=y}}});return u[Symbol.iterator]=()=>{let h=0;return{next(){return h<2?{value:h++?l||Gn:u,done:!1}:{done:!0}}}},u}const EZ=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$o(t)}Modifiers`]||e[`${Bh(t)}Modifiers`];function Tbe(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Gn;let a=n;const o=t.startsWith("update:"),l=o&&EZ(r,t.slice(7));l&&(l.trim&&(a=n.map(d=>_i(d)?d.trim():d)),l.number&&(a=n.map(jx)));let u,h=r[u=NI(t)]||r[u=NI($o(t))];!h&&o&&(h=r[u=NI(Bh(t))]),h&&fu(h,e,6,a);const f=r[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,fu(f,e,6,a)}}function wZ(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const o=e.emits;let l={},u=!1;if(!mn(e)){const h=f=>{const d=wZ(f,t,!0);d&&(u=!0,Oa(l,d))};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!o&&!u?(wr(e)&&r.set(e,null),null):(Zt(o)?o.forEach(h=>l[h]=null):Oa(l,o),wr(e)&&r.set(e,l),l)}function V5(e,t){return!e||!P5(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xn(e,t[0].toLowerCase()+t.slice(1))||Xn(e,Bh(t))||Xn(e,t))}function FF(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[o],slots:l,attrs:u,emit:h,render:f,renderCache:d,props:p,data:g,setupState:m,ctx:y,inheritAttrs:b}=e,T=Qx(e);let E,w;try{if(n.shapeFlag&4){const S=a||r,A=S;E=zc(f.call(A,S,d,p,m,g,y)),w=u}else{const S=t;E=zc(S.length>1?S(p,{attrs:u,slots:l,emit:h}):S(p,null)),w=t.props?u:Ebe(u)}}catch(S){k2.length=0,z5(S,e,1),E=yi(G0)}let x=E;if(w&&b!==!1){const S=Object.keys(w),{shapeFlag:A}=x;S.length&&A&7&&(o&&S.some(bL)&&(w=wbe(w,o)),x=pm(x,w,!1,!0))}return n.dirs&&(x=pm(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&LL(x,n.transition),E=x,Qx(T),E}const Ebe=e=>{let t;for(const n in e)(n==="class"||n==="style"||P5(n))&&((t||(t={}))[n]=e[n]);return t},wbe=(e,t)=>{const n={};for(const r in e)(!bL(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function xbe(e,t,n){const{props:r,children:a,component:o}=e,{props:l,children:u,patchFlag:h}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return r?BF(r,l,f):!!l;if(h&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(l[g]!==r[g]&&!V5(f,g))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:r===l?!1:r?l?BF(r,l,f):!0:!!l;return!1}function BF(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!V5(n,o))return!0}return!1}function Sbe({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const xZ=e=>e.__isSuspense;function Abe(e,t){t&&t.pendingBranch?Zt(e)?t.effects.push(...e):t.effects.push(e):L2e(e)}const xa=Symbol.for("v-fgt"),q5=Symbol.for("v-txt"),G0=Symbol.for("v-cmt"),HI=Symbol.for("v-stc"),k2=[];let Do=null;function br(e=!1){k2.push(Do=e?null:[])}function Ibe(){k2.pop(),Do=k2[k2.length-1]||null}let db=1;function HF(e,t=!1){db+=e,e<0&&Do&&t&&(Do.hasOnce=!0)}function SZ(e){return e.dynamicChildren=db>0?Do||Qg:null,Ibe(),db>0&&Do&&Do.push(e),e}function Jr(e,t,n,r,a,o){return SZ(Qe(e,t,n,r,a,o,!0))}function r4(e,t,n,r,a){return SZ(yi(e,t,n,r,a,!0))}function pb(e){return e?e.__v_isVNode===!0:!1}function sy(e,t){return e.type===t.type&&e.key===t.key}const AZ=({key:e})=>e??null,$3=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_i(e)||qr(e)||mn(e)?{i:Vi,r:e,k:t,f:!!n}:e:null);function Qe(e,t=null,n=null,r=0,a=null,o=e===xa?0:1,l=!1,u=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&AZ(t),ref:t&&$3(t),scopeId:eZ,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Vi};return u?(PL(h,n),o&128&&e.normalize(h)):n&&(h.shapeFlag|=_i(n)?8:16),db>0&&!l&&Do&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&Do.push(h),h}const yi=Cbe;function Cbe(e,t=null,n=null,r=0,a=null,o=!1){if((!e||e===q2e)&&(e=G0),pb(e)){const u=pm(e,t,!0);return n&&PL(u,n),db>0&&!o&&Do&&(u.shapeFlag&6?Do[Do.indexOf(e)]=u:Do.push(u)),u.patchFlag=-2,u}if(Bbe(e)&&(e=e.__vccOpts),t){t=Rbe(t);let{class:u,style:h}=t;u&&!_i(u)&&(t.class=lb(u)),wr(h)&&(kL(h)&&!Zt(h)&&(h=Oa({},h)),t.style=$5(h))}const l=_i(e)?1:xZ(e)?128:D2e(e)?64:wr(e)?4:mn(e)?2:0;return Qe(e,t,n,r,a,l,o,!0)}function Rbe(e){return e?kL(e)||uZ(e)?Oa({},e):e:null}function pm(e,t,n=!1,r=!1){const{props:a,ref:o,patchFlag:l,children:u,transition:h}=e,f=t?kbe(a||{},t):a,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&AZ(f),ref:t&&t.ref?n&&o?Zt(o)?o.concat($3(t)):[o,$3(t)]:$3(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xa?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:h,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pm(e.ssContent),ssFallback:e.ssFallback&&pm(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return h&&r&&LL(d,h.clone(d)),d}function Qr(e=" ",t=0){return yi(q5,null,e,t)}function O2(e="",t=!1){return t?(br(),r4(G0,null,e)):yi(G0,null,e)}function zc(e){return e==null||typeof e=="boolean"?yi(G0):Zt(e)?yi(xa,null,e.slice()):pb(e)?v0(e):yi(q5,null,String(e))}function v0(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pm(e)}function PL(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Zt(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),PL(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!uZ(t)?t._ctx=Vi:a===3&&Vi&&(Vi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mn(t)?(t={default:t,_ctx:Vi},n=32):(t=String(t),r&64?(n=16,t=[Qr(t)]):n=8);e.children=t,e.shapeFlag|=n}function kbe(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=lb([t.class,r.class]));else if(a==="style")t.style=$5([t.style,r.style]);else if(P5(a)){const o=t[a],l=r[a];l&&o!==l&&!(Zt(o)&&o.includes(l))&&(t[a]=o?[].concat(o,l):l)}else a!==""&&(t[a]=r[a])}return t}function Rc(e,t,n,r=null){fu(e,t,7,[n,r])}const Obe=oZ();let Nbe=0;function Lbe(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||Obe,o={uid:Nbe++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new OK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fZ(r,a),emitsOptions:wZ(r,a),emit:null,emitted:null,propsDefaults:Gn,inheritAttrs:r.inheritAttrs,ctx:Gn,data:Gn,props:Gn,attrs:Gn,slots:Gn,refs:Gn,setupState:Gn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Tbe.bind(null,o),e.ce&&e.ce(o),o}let oa=null;const j5=()=>oa||Vi;let i4,aO;{const e=H5(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),o=>{a.length>1?a.forEach(l=>l(o)):a[0](o)}};i4=t("__VUE_INSTANCE_SETTERS__",n=>oa=n),aO=t("__VUE_SSR_SETTERS__",n=>gb=n)}const _T=e=>{const t=oa;return i4(e),e.scope.on(),()=>{e.scope.off(),i4(t)}},$F=()=>{oa&&oa.scope.off(),i4(null)};function IZ(e){return e.vnode.shapeFlag&4}let gb=!1;function _be(e,t=!1,n=!1){t&&aO(t);const{props:r,children:a}=e.vnode,o=IZ(e);sbe(e,r,o,t),ube(e,a,n);const l=o?Dbe(e,t):void 0;return t&&aO(!1),l}function Dbe(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,K2e);const{setup:r}=n;if(r){vf();const a=e.setupContext=r.length>1?Pbe(e):null,o=_T(e),l=LT(r,e,0,[e.props,a]),u=xK(l);if(yf(),o(),(u||e.sp)&&!t1(e)&&tZ(e),u){if(l.then($F,$F),t)return l.then(h=>{WF(e,h)}).catch(h=>{z5(h,e,0)});e.asyncDep=l}else WF(e,l)}else CZ(e)}function WF(e,t,n){mn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wr(t)&&(e.setupState=XK(t)),CZ(e)}function CZ(e,t,n){const r=e.type;e.render||(e.render=r.render||iu);{const a=_T(e);vf();try{Q2e(e)}finally{yf(),a()}}}const Mbe={get(e,t){return qa(e,"get",""),e[t]}};function Pbe(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Mbe),slots:e.slots,emit:e.emit,expose:t}}function X5(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(XK(OL(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in R2)return R2[n](e)},has(t,n){return n in t||n in R2}})):e.proxy}function Fbe(e,t=!0){return mn(e)?e.displayName||e.name:e.name||t&&e.__name}function Bbe(e){return mn(e)&&"__vccOpts"in e}const bi=(e,t)=>C2e(e,t,gb);function RZ(e,t,n){const r=arguments.length;return r===2?wr(t)&&!Zt(t)?pb(t)?yi(e,null,[t]):yi(e,t):yi(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pb(n)&&(n=[n]),yi(e,t,n))}const Hbe="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sO;const UF=typeof window<"u"&&window.trustedTypes;if(UF)try{sO=UF.createPolicy("vue",{createHTML:e=>e})}catch{}const kZ=sO?e=>sO.createHTML(e):e=>e,$be="http://www.w3.org/2000/svg",Wbe="http://www.w3.org/1998/Math/MathML",qu=typeof document<"u"?document:null,GF=qu&&qu.createElement("template"),Ube={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?qu.createElementNS($be,e):t==="mathml"?qu.createElementNS(Wbe,e):n?qu.createElement(e,{is:n}):qu.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>qu.createTextNode(e),createComment:e=>qu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const l=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===o||!(a=a.nextSibling)););else{GF.innerHTML=kZ(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=GF.content;if(r==="svg"||r==="mathml"){const h=u.firstChild;for(;h.firstChild;)u.appendChild(h.firstChild);u.removeChild(h)}t.insertBefore(u,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gbe=Symbol("_vtc");function zbe(e,t,n){const r=e[Gbe];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const zF=Symbol("_vod"),Ybe=Symbol("_vsh"),Vbe=Symbol(""),qbe=/(^|;)\s*display\s*:/;function jbe(e,t,n){const r=e.style,a=_i(n);let o=!1;if(n&&!a){if(t)if(_i(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();n[u]==null&&W3(r,u,"")}else for(const l in t)n[l]==null&&W3(r,l,"");for(const l in n)l==="display"&&(o=!0),W3(r,l,n[l])}else if(a){if(t!==n){const l=r[Vbe];l&&(n+=";"+l),r.cssText=n,o=qbe.test(n)}}else t&&e.removeAttribute("style");zF in e&&(e[zF]=o?r.display:"",e[Ybe]&&(r.display="none"))}const YF=/\s*!important$/;function W3(e,t,n){if(Zt(n))n.forEach(r=>W3(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Xbe(e,t);YF.test(n)?e.setProperty(Bh(r),n.replace(YF,""),"important"):e[r]=n}}const VF=["Webkit","Moz","ms"],$I={};function Xbe(e,t){const n=$I[t];if(n)return n;let r=$o(t);if(r!=="filter"&&r in e)return $I[t]=r;r=B5(r);for(let a=0;a<VF.length;a++){const o=VF[a]+r;if(o in e)return $I[t]=o}return t}const qF="http://www.w3.org/1999/xlink";function jF(e,t,n,r,a,o=Qye(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qF,t.slice(6,t.length)):e.setAttributeNS(qF,t,n):n==null||o&&!CK(n)?e.removeAttribute(t):e.setAttribute(t,o?"":mc(n)?String(n):n)}function XF(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?kZ(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,h=n==null?e.type==="checkbox"?"on":"":String(n);(u!==h||!("_value"in e))&&(e.value=h),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=CK(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(a||t)}function w0(e,t,n,r){e.addEventListener(t,n,r)}function Kbe(e,t,n,r){e.removeEventListener(t,n,r)}const KF=Symbol("_vei");function Zbe(e,t,n,r,a=null){const o=e[KF]||(e[KF]={}),l=o[t];if(r&&l)l.value=r;else{const[u,h]=Qbe(t);if(r){const f=o[t]=tTe(r,a);w0(e,u,f,h)}else l&&(Kbe(e,u,l,h),o[t]=void 0)}}const ZF=/(?:Once|Passive|Capture)$/;function Qbe(e){let t;if(ZF.test(e)){t={};let r;for(;r=e.match(ZF);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bh(e.slice(2)),t]}let WI=0;const Jbe=Promise.resolve(),eTe=()=>WI||(Jbe.then(()=>WI=0),WI=Date.now());function tTe(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fu(nTe(r,n.value),t,5,[r])};return n.value=e,n.attached=eTe(),n}function nTe(e,t){if(Zt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const QF=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,rTe=(e,t,n,r,a,o)=>{const l=a==="svg";t==="class"?zbe(e,r,l):t==="style"?jbe(e,n,r):P5(t)?bL(t)||Zbe(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):iTe(e,t,r,l))?(XF(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jF(e,t,r,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_i(r))?XF(e,$o(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jF(e,t,r,l))};function iTe(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&QF(t)&&mn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return QF(t)&&_i(n)?!1:t in e}const gm=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Zt(t)?n=>B3(t,n):t};function aTe(e){e.target.composing=!0}function JF(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const uh=Symbol("_assign"),Ts={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[uh]=gm(a);const o=r||a.props&&a.props.type==="number";w0(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;n&&(u=u.trim()),o&&(u=jx(u)),e[uh](u)}),n&&w0(e,"change",()=>{e.value=e.value.trim()}),t||(w0(e,"compositionstart",aTe),w0(e,"compositionend",JF),w0(e,"change",JF))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:o}},l){if(e[uh]=gm(l),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?jx(e.value):e.value,h=t??"";u!==h&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===h)||(e.value=h))}},OZ={deep:!0,created(e,t,n){e[uh]=gm(n),w0(e,"change",()=>{const r=e._modelValue,a=mb(e),o=e.checked,l=e[uh];if(Zt(r)){const u=wL(r,a),h=u!==-1;if(o&&!h)l(r.concat(a));else if(!o&&h){const f=[...r];f.splice(u,1),l(f)}}else if(uv(r)){const u=new Set(r);o?u.add(a):u.delete(a),l(u)}else l(LZ(e,o))})},mounted:eB,beforeUpdate(e,t,n){e[uh]=gm(n),eB(e,t,n)}};function eB(e,{value:t,oldValue:n},r){e._modelValue=t;let a;if(Zt(t))a=wL(t,r.props.value)>-1;else if(uv(t))a=t.has(r.props.value);else{if(t===n)return;a=OT(t,LZ(e,!0))}e.checked!==a&&(e.checked=a)}const NZ={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const a=uv(t);w0(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?jx(mb(l)):mb(l));e[uh](e.multiple?a?new Set(o):o:o[0]),e._assigning=!0,Ip(()=>{e._assigning=!1})}),e[uh]=gm(r)},mounted(e,{value:t}){tB(e,t)},beforeUpdate(e,t,n){e[uh]=gm(n)},updated(e,{value:t}){e._assigning||tB(e,t)}};function tB(e,t){const n=e.multiple,r=Zt(t);if(!(n&&!r&&!uv(t))){for(let a=0,o=e.options.length;a<o;a++){const l=e.options[a],u=mb(l);if(n)if(r){const h=typeof u;h==="string"||h==="number"?l.selected=t.some(f=>String(f)===String(u)):l.selected=wL(t,u)>-1}else l.selected=t.has(u);else if(OT(mb(l),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function mb(e){return"_value"in e?e._value:e.value}function LZ(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const sTe=["ctrl","shift","alt","meta"],oTe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>sTe.some(n=>e[`${n}Key`]&&!t.includes(n))},fd=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...o)=>{for(let l=0;l<t.length;l++){const u=oTe[t[l]];if(u&&u(a,t))return}return e(a,...o)})},lTe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cTe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=a=>{if(!("key"in a))return;const o=Bh(a.key);if(t.some(l=>l===o||lTe[l]===o))return e(a)})},uTe=Oa({patchProp:rTe},Ube);let nB;function hTe(){return nB||(nB=fbe(uTe))}const fTe=(...e)=>{const t=hTe().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=pTe(r);if(!a)return;const o=t._component;!mn(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const l=n(a,!1,dTe(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),l},t};function dTe(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pTe(e){return _i(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _Z;const K5=e=>_Z=e,DZ=Symbol();function oO(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var N2;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(N2||(N2={}));function gTe(){const e=NK(!0),t=e.run(()=>hn({}));let n=[],r=[];const a=OL({install(o){K5(a),a._a=o,o.provide(DZ,a),o.config.globalProperties.$pinia=a,r.forEach(l=>n.push(l)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const MZ=()=>{};function rB(e,t,n,r=MZ){e.push(t);const a=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&xL()&&LK(a),a}function Qp(e,...t){e.slice().forEach(n=>{n(...t)})}const mTe=e=>e(),iB=Symbol(),UI=Symbol();function lO(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],a=e[n];oO(a)&&oO(r)&&e.hasOwnProperty(n)&&!qr(r)&&!D0(r)?e[n]=lO(a,r):e[n]=r}return e}const vTe=Symbol();function yTe(e){return!oO(e)||!e.hasOwnProperty(vTe)}const{assign:h0}=Object;function bTe(e){return!!(qr(e)&&e.effect)}function TTe(e,t,n,r){const{state:a,actions:o,getters:l}=t,u=n.state.value[e];let h;function f(){u||(n.state.value[e]=a?a():{});const d=x2e(n.state.value[e]);return h0(d,o,Object.keys(l||{}).reduce((p,g)=>(p[g]=OL(bi(()=>{K5(n);const m=n._s.get(e);return l[g].call(m,m)})),p),{}))}return h=PZ(e,f,t,n,r,!0),h}function PZ(e,t,n={},r,a,o){let l;const u=h0({actions:{}},n),h={deep:!0};let f,d,p=[],g=[],m;const y=r.state.value[e];!o&&!y&&(r.state.value[e]={}),hn({});let b;function T(N){let O;f=d=!1,typeof N=="function"?(N(r.state.value[e]),O={type:N2.patchFunction,storeId:e,events:m}):(lO(r.state.value[e],N),O={type:N2.patchObject,payload:N,storeId:e,events:m});const L=b=Symbol();Ip().then(()=>{b===L&&(f=!0)}),d=!0,Qp(p,O,r.state.value[e])}const E=o?function(){const{state:O}=n,L=O?O():{};this.$patch(k=>{h0(k,L)})}:MZ;function w(){l.stop(),p=[],g=[],r._s.delete(e)}const x=(N,O="")=>{if(iB in N)return N[UI]=O,N;const L=function(){K5(r);const k=Array.from(arguments),M=[],$=[];function _(D){M.push(D)}function F(D){$.push(D)}Qp(g,{args:k,name:L[UI],store:A,after:_,onError:F});let B;try{B=N.apply(this&&this.$id===e?this:A,k)}catch(D){throw Qp($,D),D}return B instanceof Promise?B.then(D=>(Qp(M,D),D)).catch(D=>(Qp($,D),Promise.reject(D))):(Qp(M,B),B)};return L[iB]=!0,L[UI]=O,L},S={_p:r,$id:e,$onAction:rB.bind(null,g),$patch:T,$reset:E,$subscribe(N,O={}){const L=rB(p,N,O.detached,()=>k()),k=l.run(()=>ic(()=>r.state.value[e],M=>{(O.flush==="sync"?d:f)&&N({storeId:e,type:N2.direct,events:m},M)},h0({},h,O)));return L},$dispose:w},A=NT(S);r._s.set(e,A);const C=(r._a&&r._a.runWithContext||mTe)(()=>r._e.run(()=>(l=NK()).run(()=>t({action:x}))));for(const N in C){const O=C[N];if(qr(O)&&!bTe(O)||D0(O))o||(y&&yTe(O)&&(qr(O)?O.value=y[N]:lO(O,y[N])),r.state.value[e][N]=O);else if(typeof O=="function"){const L=x(O,N);C[N]=L,u.actions[N]=O}}return h0(A,C),h0(Pn(A),C),Object.defineProperty(A,"$state",{get:()=>r.state.value[e],set:N=>{T(O=>{h0(O,N)})}}),r._p.forEach(N=>{h0(A,l.run(()=>N({store:A,app:r._a,pinia:r,options:u})))}),y&&o&&n.hydrate&&n.hydrate(A.$state,y),f=!0,d=!0,A}/*! #__NO_SIDE_EFFECTS__ */function Z5(e,t,n){let r,a;const o=typeof t=="function";typeof e=="string"?(r=e,a=o?n:t):(a=e,r=e.id);function l(u,h){const f=abe();return u=u||(f?au(DZ,null):null),u&&K5(u),u=_Z,u._s.has(r)||(o?PZ(r,t,a,u):TTe(r,a,u)),u._s.get(r)}return l.$id=r,l}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Cg=typeof document<"u";function FZ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ETe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&FZ(e.default)}const jn=Object.assign;function GI(e,t){const n={};for(const r in t){const a=t[r];n[r]=vc(a)?a.map(e):e(a)}return n}const L2=()=>{},vc=Array.isArray,BZ=/#/g,wTe=/&/g,xTe=/\//g,STe=/=/g,ATe=/\?/g,HZ=/\+/g,ITe=/%5B/g,CTe=/%5D/g,$Z=/%5E/g,RTe=/%60/g,WZ=/%7B/g,kTe=/%7C/g,UZ=/%7D/g,OTe=/%20/g;function FL(e){return encodeURI(""+e).replace(kTe,"|").replace(ITe,"[").replace(CTe,"]")}function NTe(e){return FL(e).replace(WZ,"{").replace(UZ,"}").replace($Z,"^")}function cO(e){return FL(e).replace(HZ,"%2B").replace(OTe,"+").replace(BZ,"%23").replace(wTe,"%26").replace(RTe,"`").replace(WZ,"{").replace(UZ,"}").replace($Z,"^")}function LTe(e){return cO(e).replace(STe,"%3D")}function _Te(e){return FL(e).replace(BZ,"%23").replace(ATe,"%3F")}function DTe(e){return e==null?"":_Te(e).replace(xTe,"%2F")}function vb(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const MTe=/\/$/,PTe=e=>e.replace(MTe,"");function zI(e,t,n="/"){let r,a={},o="",l="";const u=t.indexOf("#");let h=t.indexOf("?");return u<h&&u>=0&&(h=-1),h>-1&&(r=t.slice(0,h),o=t.slice(h+1,u>-1?u:t.length),a=e(o)),u>-1&&(r=r||t.slice(0,u),l=t.slice(u,t.length)),r=$Te(r??t,n),{fullPath:r+(o&&"?")+o+l,path:r,query:a,hash:vb(l)}}function FTe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function aB(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function BTe(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&mm(t.matched[r],n.matched[a])&&GZ(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function mm(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function GZ(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!HTe(e[n],t[n]))return!1;return!0}function HTe(e,t){return vc(e)?sB(e,t):vc(t)?sB(t,e):e===t}function sB(e,t){return vc(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function $Te(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let o=n.length-1,l,u;for(l=0;l<r.length;l++)if(u=r[l],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(l).join("/")}const Qh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var yb;(function(e){e.pop="pop",e.push="push"})(yb||(yb={}));var _2;(function(e){e.back="back",e.forward="forward",e.unknown=""})(_2||(_2={}));function WTe(e){if(!e)if(Cg){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),PTe(e)}const UTe=/^[^#]+#/;function GTe(e,t){return e.replace(UTe,"#")+t}function zTe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Q5=()=>({left:window.scrollX,top:window.scrollY});function YTe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=zTe(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oB(e,t){return(history.state?history.state.position-t:-1)+e}const uO=new Map;function VTe(e,t){uO.set(e,t)}function qTe(e){const t=uO.get(e);return uO.delete(e),t}let jTe=()=>location.protocol+"//"+location.host;function zZ(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let u=a.includes(e.slice(o))?e.slice(o).length:1,h=a.slice(u);return h[0]!=="/"&&(h="/"+h),aB(h,"")}return aB(n,e)+r+a}function XTe(e,t,n,r){let a=[],o=[],l=null;const u=({state:g})=>{const m=zZ(e,location),y=n.value,b=t.value;let T=0;if(g){if(n.value=m,t.value=g,l&&l===y){l=null;return}T=b?g.position-b.position:0}else r(m);a.forEach(E=>{E(n.value,y,{delta:T,type:yb.pop,direction:T?T>0?_2.forward:_2.back:_2.unknown})})};function h(){l=n.value}function f(g){a.push(g);const m=()=>{const y=a.indexOf(g);y>-1&&a.splice(y,1)};return o.push(m),m}function d(){const{history:g}=window;g.state&&g.replaceState(jn({},g.state,{scroll:Q5()}),"")}function p(){for(const g of o)g();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:h,listen:f,destroy:p}}function lB(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?Q5():null}}function KTe(e){const{history:t,location:n}=window,r={value:zZ(e,n)},a={value:t.state};a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(h,f,d){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+h:jTe()+e+h;try{t[d?"replaceState":"pushState"](f,"",g),a.value=f}catch(m){console.error(m),n[d?"replace":"assign"](g)}}function l(h,f){const d=jn({},t.state,lB(a.value.back,h,a.value.forward,!0),f,{position:a.value.position});o(h,d,!0),r.value=h}function u(h,f){const d=jn({},a.value,t.state,{forward:h,scroll:Q5()});o(d.current,d,!0);const p=jn({},lB(r.value,h,null),{position:d.position+1},f);o(h,p,!1),r.value=h}return{location:r,state:a,push:u,replace:l}}function ZTe(e){e=WTe(e);const t=KTe(e),n=XTe(e,t.state,t.location,t.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const a=jn({location:"",base:e,go:r,createHref:GTe.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function QTe(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),ZTe(e)}function JTe(e){return typeof e=="string"||e&&typeof e=="object"}function YZ(e){return typeof e=="string"||typeof e=="symbol"}const VZ=Symbol("");var cB;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(cB||(cB={}));function vm(e,t){return jn(new Error,{type:e,[VZ]:!0},t)}function Fu(e,t){return e instanceof Error&&VZ in e&&(t==null||!!(e.type&t))}const uB="[^/]+?",eEe={sensitive:!1,strict:!1,start:!0,end:!0},tEe=/[.+*?^${}()[\]/\\]/g;function nEe(e,t){const n=jn({},eEe,t),r=[];let a=n.start?"^":"";const o=[];for(const f of e){const d=f.length?[]:[90];n.strict&&!f.length&&(a+="/");for(let p=0;p<f.length;p++){const g=f[p];let m=40+(n.sensitive?.25:0);if(g.type===0)p||(a+="/"),a+=g.value.replace(tEe,"\\$&"),m+=40;else if(g.type===1){const{value:y,repeatable:b,optional:T,regexp:E}=g;o.push({name:y,repeatable:b,optional:T});const w=E||uB;if(w!==uB){m+=10;try{new RegExp(`(${w})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+S.message)}}let x=b?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;p||(x=T&&f.length<2?`(?:/${x})`:"/"+x),T&&(x+="?"),a+=x,m+=20,T&&(m+=-8),b&&(m+=-20),w===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const l=new RegExp(a,n.sensitive?"":"i");function u(f){const d=f.match(l),p={};if(!d)return null;for(let g=1;g<d.length;g++){const m=d[g]||"",y=o[g-1];p[y.name]=m&&y.repeatable?m.split("/"):m}return p}function h(f){let d="",p=!1;for(const g of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const m of g)if(m.type===0)d+=m.value;else if(m.type===1){const{value:y,repeatable:b,optional:T}=m,E=y in f?f[y]:"";if(vc(E)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=vc(E)?E.join("/"):E;if(!w)if(T)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);d+=w}}return d||"/"}return{re:l,score:r,keys:o,parse:u,stringify:h}}function rEe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function qZ(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const o=rEe(r[n],a[n]);if(o)return o;n++}if(Math.abs(a.length-r.length)===1){if(hB(r))return 1;if(hB(a))return-1}return a.length-r.length}function hB(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const iEe={type:0,value:""},aEe=/[a-zA-Z0-9_]/;function sEe(e){if(!e)return[[]];if(e==="/")return[[iEe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${f}": ${m}`)}let n=0,r=n;const a=[];let o;function l(){o&&a.push(o),o=[]}let u=0,h,f="",d="";function p(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:d,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),f="")}function g(){f+=h}for(;u<e.length;){if(h=e[u++],h==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:h==="/"?(f&&p(),l()):h===":"?(p(),n=1):g();break;case 4:g(),n=r;break;case 1:h==="("?n=2:aEe.test(h)?g():(p(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&u--);break;case 2:h===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+h:n=3:d+=h;break;case 3:p(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&u--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),p(),l(),a}function oEe(e,t,n){const r=nEe(sEe(e.path),n),a=jn(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function lEe(e,t){const n=[],r=new Map;t=gB({strict:!1,end:!0,sensitive:!1},t);function a(p){return r.get(p)}function o(p,g,m){const y=!m,b=dB(p);b.aliasOf=m&&m.record;const T=gB(t,p),E=[b];if("alias"in p){const S=typeof p.alias=="string"?[p.alias]:p.alias;for(const A of S)E.push(dB(jn({},b,{components:m?m.record.components:b.components,path:A,aliasOf:m?m.record:b})))}let w,x;for(const S of E){const{path:A}=S;if(g&&A[0]!=="/"){const R=g.record.path,C=R[R.length-1]==="/"?"":"/";S.path=g.record.path+(A&&C+A)}if(w=oEe(S,g,T),m?m.alias.push(w):(x=x||w,x!==w&&x.alias.push(w),y&&p.name&&!pB(w)&&l(p.name)),jZ(w)&&h(w),b.children){const R=b.children;for(let C=0;C<R.length;C++)o(R[C],w,m&&m.children[C])}m=m||w}return x?()=>{l(x)}:L2}function l(p){if(YZ(p)){const g=r.get(p);g&&(r.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(l),g.alias.forEach(l))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&r.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function u(){return n}function h(p){const g=hEe(p,n);n.splice(g,0,p),p.record.name&&!pB(p)&&r.set(p.record.name,p)}function f(p,g){let m,y={},b,T;if("name"in p&&p.name){if(m=r.get(p.name),!m)throw vm(1,{location:p});T=m.record.name,y=jn(fB(g.params,m.keys.filter(x=>!x.optional).concat(m.parent?m.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),p.params&&fB(p.params,m.keys.map(x=>x.name))),b=m.stringify(y)}else if(p.path!=null)b=p.path,m=n.find(x=>x.re.test(b)),m&&(y=m.parse(b),T=m.record.name);else{if(m=g.name?r.get(g.name):n.find(x=>x.re.test(g.path)),!m)throw vm(1,{location:p,currentLocation:g});T=m.record.name,y=jn({},g.params,p.params),b=m.stringify(y)}const E=[];let w=m;for(;w;)E.unshift(w.record),w=w.parent;return{name:T,path:b,params:y,matched:E,meta:uEe(E)}}e.forEach(p=>o(p));function d(){n.length=0,r.clear()}return{addRoute:o,resolve:f,removeRoute:l,clearRoutes:d,getRoutes:u,getRecordMatcher:a}}function fB(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function dB(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:cEe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function cEe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function pB(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function uEe(e){return e.reduce((t,n)=>jn(t,n.meta),{})}function gB(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function hEe(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;qZ(e,t[o])<0?r=o:n=o+1}const a=fEe(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function fEe(e){let t=e;for(;t=t.parent;)if(jZ(t)&&qZ(e,t)===0)return t}function jZ({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function dEe(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const o=r[a].replace(HZ," "),l=o.indexOf("="),u=vb(l<0?o:o.slice(0,l)),h=l<0?null:vb(o.slice(l+1));if(u in t){let f=t[u];vc(f)||(f=t[u]=[f]),f.push(h)}else t[u]=h}return t}function mB(e){let t="";for(let n in e){const r=e[n];if(n=LTe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(vc(r)?r.map(o=>o&&cO(o)):[r&&cO(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function pEe(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=vc(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const gEe=Symbol(""),vB=Symbol(""),BL=Symbol(""),XZ=Symbol(""),hO=Symbol("");function oy(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function y0(e,t,n,r,a,o=l=>l()){const l=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((u,h)=>{const f=g=>{g===!1?h(vm(4,{from:n,to:t})):g instanceof Error?h(g):JTe(g)?h(vm(2,{from:t,to:g})):(l&&r.enterCallbacks[a]===l&&typeof g=="function"&&l.push(g),u())},d=o(()=>e.call(r&&r.instances[a],t,n,f));let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(g=>h(g))})}function YI(e,t,n,r,a=o=>o()){const o=[];for(const l of e)for(const u in l.components){let h=l.components[u];if(!(t!=="beforeRouteEnter"&&!l.instances[u]))if(FZ(h)){const d=(h.__vccOpts||h)[t];d&&o.push(y0(d,n,r,l,u,a))}else{let f=h();o.push(()=>f.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${u}" at "${l.path}"`);const p=ETe(d)?d.default:d;l.mods[u]=d,l.components[u]=p;const m=(p.__vccOpts||p)[t];return m&&y0(m,n,r,l,u,a)()}))}}return o}function yB(e){const t=au(BL),n=au(XZ),r=bi(()=>{const h=Vn(e.to);return t.resolve(h)}),a=bi(()=>{const{matched:h}=r.value,{length:f}=h,d=h[f-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(mm.bind(null,d));if(g>-1)return g;const m=bB(h[f-2]);return f>1&&bB(d)===m&&p[p.length-1].path!==m?p.findIndex(mm.bind(null,h[f-2])):g}),o=bi(()=>a.value>-1&&TEe(n.params,r.value.params)),l=bi(()=>a.value>-1&&a.value===n.matched.length-1&&GZ(n.params,r.value.params));function u(h={}){if(bEe(h)){const f=t[Vn(e.replace)?"replace":"push"](Vn(e.to)).catch(L2);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:bi(()=>r.value.href),isActive:o,isExactActive:l,navigate:u}}function mEe(e){return e.length===1?e[0]:e}const vEe=Tu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yB,setup(e,{slots:t}){const n=NT(yB(e)),{options:r}=au(BL),a=bi(()=>({[TB(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[TB(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&mEe(t.default(n));return e.custom?o:RZ("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},o)}}}),yEe=vEe;function bEe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function TEe(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!vc(a)||a.length!==r.length||r.some((o,l)=>o!==a[l]))return!1}return!0}function bB(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const TB=(e,t,n)=>e??t??n,EEe=Tu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=au(hO),a=bi(()=>e.route||r.value),o=au(vB,0),l=bi(()=>{let f=Vn(o);const{matched:d}=a.value;let p;for(;(p=d[f])&&!p.components;)f++;return f}),u=bi(()=>a.value.matched[l.value]);H3(vB,bi(()=>l.value+1)),H3(gEe,u),H3(hO,a);const h=hn();return ic(()=>[h.value,u.value,e.name],([f,d,p],[g,m,y])=>{d&&(d.instances[p]=f,m&&m!==d&&f&&f===g&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),f&&d&&(!m||!mm(d,m)||!g)&&(d.enterCallbacks[p]||[]).forEach(b=>b(f))},{flush:"post"}),()=>{const f=a.value,d=e.name,p=u.value,g=p&&p.components[d];if(!g)return EB(n.default,{Component:g,route:f});const m=p.props[d],y=m?m===!0?f.params:typeof m=="function"?m(f):m:null,T=RZ(g,jn({},y,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(p.instances[d]=null)},ref:h}));return EB(n.default,{Component:T,route:f})||T}}});function EB(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const KZ=EEe;function wEe(e){const t=lEe(e.routes,e),n=e.parseQuery||dEe,r=e.stringifyQuery||mB,a=e.history,o=oy(),l=oy(),u=oy(),h=hb(Qh);let f=Qh;Cg&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=GI.bind(null,re=>""+re),p=GI.bind(null,DTe),g=GI.bind(null,vb);function m(re,le){let Y,K;return YZ(re)?(Y=t.getRecordMatcher(re),K=le):K=re,t.addRoute(K,Y)}function y(re){const le=t.getRecordMatcher(re);le&&t.removeRoute(le)}function b(){return t.getRoutes().map(re=>re.record)}function T(re){return!!t.getRecordMatcher(re)}function E(re,le){if(le=jn({},le||h.value),typeof re=="string"){const te=zI(n,re,le.path),ne=t.resolve({path:te.path},le),Ae=a.createHref(te.fullPath);return jn(te,ne,{params:g(ne.params),hash:vb(te.hash),redirectedFrom:void 0,href:Ae})}let Y;if(re.path!=null)Y=jn({},re,{path:zI(n,re.path,le.path).path});else{const te=jn({},re.params);for(const ne in te)te[ne]==null&&delete te[ne];Y=jn({},re,{params:p(te)}),le.params=p(le.params)}const K=t.resolve(Y,le),Z=re.hash||"";K.params=d(g(K.params));const z=FTe(r,jn({},re,{hash:NTe(Z),path:K.path})),X=a.createHref(z);return jn({fullPath:z,hash:Z,query:r===mB?pEe(re.query):re.query||{}},K,{redirectedFrom:void 0,href:X})}function w(re){return typeof re=="string"?zI(n,re,h.value.path):jn({},re)}function x(re,le){if(f!==re)return vm(8,{from:le,to:re})}function S(re){return C(re)}function A(re){return S(jn(w(re),{replace:!0}))}function R(re){const le=re.matched[re.matched.length-1];if(le&&le.redirect){const{redirect:Y}=le;let K=typeof Y=="function"?Y(re):Y;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=w(K):{path:K},K.params={}),jn({query:re.query,hash:re.hash,params:K.path!=null?{}:re.params},K)}}function C(re,le){const Y=f=E(re),K=h.value,Z=re.state,z=re.force,X=re.replace===!0,te=R(Y);if(te)return C(jn(w(te),{state:typeof te=="object"?jn({},Z,te.state):Z,force:z,replace:X}),le||Y);const ne=Y;ne.redirectedFrom=le;let Ae;return!z&&BTe(r,K,Y)&&(Ae=vm(16,{to:ne,from:K}),U(K,K,!0,!1)),(Ae?Promise.resolve(Ae):L(ne,K)).catch(he=>Fu(he)?Fu(he,2)?he:W(he):P(he,ne,K)).then(he=>{if(he){if(Fu(he,2))return C(jn({replace:X},w(he.to),{state:typeof he.to=="object"?jn({},Z,he.to.state):Z,force:z}),le||ne)}else he=M(ne,K,!0,X,Z);return k(ne,K,he),he})}function N(re,le){const Y=x(re,le);return Y?Promise.reject(Y):Promise.resolve()}function O(re){const le=ee.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(re):re()}function L(re,le){let Y;const[K,Z,z]=xEe(re,le);Y=YI(K.reverse(),"beforeRouteLeave",re,le);for(const te of K)te.leaveGuards.forEach(ne=>{Y.push(y0(ne,re,le))});const X=N.bind(null,re,le);return Y.push(X),Q(Y).then(()=>{Y=[];for(const te of o.list())Y.push(y0(te,re,le));return Y.push(X),Q(Y)}).then(()=>{Y=YI(Z,"beforeRouteUpdate",re,le);for(const te of Z)te.updateGuards.forEach(ne=>{Y.push(y0(ne,re,le))});return Y.push(X),Q(Y)}).then(()=>{Y=[];for(const te of z)if(te.beforeEnter)if(vc(te.beforeEnter))for(const ne of te.beforeEnter)Y.push(y0(ne,re,le));else Y.push(y0(te.beforeEnter,re,le));return Y.push(X),Q(Y)}).then(()=>(re.matched.forEach(te=>te.enterCallbacks={}),Y=YI(z,"beforeRouteEnter",re,le,O),Y.push(X),Q(Y))).then(()=>{Y=[];for(const te of l.list())Y.push(y0(te,re,le));return Y.push(X),Q(Y)}).catch(te=>Fu(te,8)?te:Promise.reject(te))}function k(re,le,Y){u.list().forEach(K=>O(()=>K(re,le,Y)))}function M(re,le,Y,K,Z){const z=x(re,le);if(z)return z;const X=le===Qh,te=Cg?history.state:{};Y&&(K||X?a.replace(re.fullPath,jn({scroll:X&&te&&te.scroll},Z)):a.push(re.fullPath,Z)),h.value=re,U(re,le,Y,X),W()}let $;function _(){$||($=a.listen((re,le,Y)=>{if(!ce.listening)return;const K=E(re),Z=R(K);if(Z){C(jn(Z,{replace:!0,force:!0}),K).catch(L2);return}f=K;const z=h.value;Cg&&VTe(oB(z.fullPath,Y.delta),Q5()),L(K,z).catch(X=>Fu(X,12)?X:Fu(X,2)?(C(jn(w(X.to),{force:!0}),K).then(te=>{Fu(te,20)&&!Y.delta&&Y.type===yb.pop&&a.go(-1,!1)}).catch(L2),Promise.reject()):(Y.delta&&a.go(-Y.delta,!1),P(X,K,z))).then(X=>{X=X||M(K,z,!1),X&&(Y.delta&&!Fu(X,8)?a.go(-Y.delta,!1):Y.type===yb.pop&&Fu(X,20)&&a.go(-1,!1)),k(K,z,X)}).catch(L2)}))}let F=oy(),B=oy(),D;function P(re,le,Y){W(re);const K=B.list();return K.length?K.forEach(Z=>Z(re,le,Y)):console.error(re),Promise.reject(re)}function H(){return D&&h.value!==Qh?Promise.resolve():new Promise((re,le)=>{F.add([re,le])})}function W(re){return D||(D=!re,_(),F.list().forEach(([le,Y])=>re?Y(re):le()),F.reset()),re}function U(re,le,Y,K){const{scrollBehavior:Z}=e;if(!Cg||!Z)return Promise.resolve();const z=!Y&&qTe(oB(re.fullPath,0))||(K||!Y)&&history.state&&history.state.scroll||null;return Ip().then(()=>Z(re,le,z)).then(X=>X&&YTe(X)).catch(X=>P(X,re,le))}const V=re=>a.go(re);let G;const ee=new Set,ce={currentRoute:h,listening:!0,addRoute:m,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:T,getRoutes:b,resolve:E,options:e,push:S,replace:A,go:V,back:()=>V(-1),forward:()=>V(1),beforeEach:o.add,beforeResolve:l.add,afterEach:u.add,onError:B.add,isReady:H,install(re){const le=this;re.component("RouterLink",yEe),re.component("RouterView",KZ),re.config.globalProperties.$router=le,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>Vn(h)}),Cg&&!G&&h.value===Qh&&(G=!0,S(a.location).catch(Z=>{}));const Y={};for(const Z in Qh)Object.defineProperty(Y,Z,{get:()=>h.value[Z],enumerable:!0});re.provide(BL,le),re.provide(XZ,qK(Y)),re.provide(hO,h);const K=re.unmount;ee.add(re),re.unmount=function(){ee.delete(re),ee.size<1&&(f=Qh,$&&$(),$=null,h.value=Qh,G=!1,D=!1),K()}}};function Q(re){return re.reduce((le,Y)=>le.then(()=>O(Y)),Promise.resolve())}return ce}function xEe(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const u=t.matched[l];u&&(e.matched.find(f=>mm(f,u))?r.push(u):n.push(u));const h=e.matched[l];h&&(t.matched.find(f=>mm(f,h))||a.push(h))}return[n,r,a]}const SEe=Tu({__name:"App",setup(e){return(t,n)=>(br(),r4(Vn(KZ)))}}),AEe="modulepreload",IEe=function(e,t){return new URL(e,t).href},wB={},wn=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.allSettled(n.map(f=>{if(f=IEe(f,r),f in wB)return;wB[f]=!0;const d=f.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!r)for(let y=l.length-1;y>=0;y--){const b=l[y];if(b.href===f&&(!d||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":AEe,d||(m.as="script"),m.crossOrigin="",m.href=f,h&&m.setAttribute("nonce",h),document.head.appendChild(m),d)return new Promise((y,b)=>{m.addEventListener("load",y),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},CEe=wEe({history:QTe("./"),routes:[{path:"/raw/:chapter",name:"raw",component:()=>wn(()=>Promise.resolve().then(()=>Awe),void 0,import.meta.url),props:!0},{path:"/",name:"home",component:()=>wn(()=>Promise.resolve().then(()=>q4e),void 0,import.meta.url),children:[{path:"metadata",component:()=>wn(()=>Promise.resolve().then(()=>Q4e),void 0,import.meta.url)},{path:"/about",name:"about",component:()=>wn(()=>Promise.resolve().then(()=>rSe),void 0,import.meta.url)},{path:"asset/:name",component:()=>wn(()=>Promise.resolve().then(()=>Hz),void 0,import.meta.url),props:!0},{path:"chapter/:name",component:()=>wn(()=>Promise.resolve().then(()=>Hz),void 0,import.meta.url),props:!0},{path:"content.opf",component:()=>wn(()=>Promise.resolve().then(()=>Hst),void 0,import.meta.url)}]}]}),HL=fTe(SEe);HL.use(gTe());HL.use(CEe);HL.mount("#root");var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Go(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function REe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var kEe=OEe;function OEe(e){var t,n;if(typeof e!="function")throw new Error("expected a function but got "+e);return function(){return t||(t=!0,n=e.apply(this,arguments)),n}}(function(e){function t(E,w){var x;return E instanceof Buffer?x=E:x=Buffer.from(E.buffer,E.byteOffset,E.byteLength),x.toString(w)}var n=function(E){return Buffer.from(E)};function r(E){for(var w=0,x=Math.min(256*256,E.length+1),S=new Uint16Array(x),A=[],R=0;;){var C=w<E.length;if(!C||R>=x-1){var N=S.subarray(0,R),O=N;if(A.push(String.fromCharCode.apply(null,O)),!C)return A.join("");E=E.subarray(w),w=0,R=0}var L=E[w++];if(!(L&128))S[R++]=L;else if((L&224)===192){var k=E[w++]&63;S[R++]=(L&31)<<6|k}else if((L&240)===224){var k=E[w++]&63,M=E[w++]&63;S[R++]=(L&31)<<12|k<<6|M}else if((L&248)===240){var k=E[w++]&63,M=E[w++]&63,$=E[w++]&63,_=(L&7)<<18|k<<12|M<<6|$;_>65535&&(_-=65536,S[R++]=_>>>10&1023|55296,_=56320|_&1023),S[R++]=_}}}function a(E){for(var w=0,x=E.length,S=0,A=Math.max(32,x+(x>>>1)+7),R=new Uint8Array(A>>>3<<3);w<x;){var C=E.charCodeAt(w++);if(C>=55296&&C<=56319){if(w<x){var N=E.charCodeAt(w);(N&64512)===56320&&(++w,C=((C&1023)<<10)+(N&1023)+65536)}if(C>=55296&&C<=56319)continue}if(S+4>R.length){A+=8,A*=1+w/E.length*2,A=A>>>3<<3;var O=new Uint8Array(A);O.set(R),R=O}if(C&4294967168)if(!(C&4294965248))R[S++]=C>>>6&31|192;else if(!(C&4294901760))R[S++]=C>>>12&15|224,R[S++]=C>>>6&63|128;else if(!(C&4292870144))R[S++]=C>>>18&7|240,R[S++]=C>>>12&63|128,R[S++]=C>>>6&63|128;else continue;else{R[S++]=C;continue}R[S++]=C&63|128}return R.slice?R.slice(0,S):R.subarray(0,S)}var o="Failed to ",l=function(E,w,x){if(E)throw new Error("".concat(o).concat(w,": the '").concat(x,"' option is unsupported."))},u=typeof Buffer=="function"&&Buffer.from,h=u?n:a;function f(){this.encoding="utf-8"}f.prototype.encode=function(E,w){return l(w&&w.stream,"encode","stream"),h(E)};function d(E){var w;try{var x=new Blob([E],{type:"text/plain;charset=UTF-8"});w=URL.createObjectURL(x);var S=new XMLHttpRequest;return S.open("GET",w,!1),S.send(),S.responseText}finally{w&&URL.revokeObjectURL(w)}}var p=!u&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",g=["utf-8","utf8","unicode-1-1-utf-8"],m=r;u?m=t:p&&(m=function(E){try{return d(E)}catch{return r(E)}});var y="construct 'TextDecoder'",b="".concat(o," ").concat(y,": the ");function T(E,w){l(w&&w.fatal,y,"fatal"),E=E||"utf-8";var x;if(u?x=Buffer.isEncoding(E):x=g.indexOf(E.toLowerCase())!==-1,!x)throw new RangeError("".concat(b," encoding label provided ('").concat(E,"') is invalid."));this.encoding=E,this.fatal=!1,this.ignoreBOM=!1}T.prototype.decode=function(E,w){l(w&&w.stream,"decode","stream");var x;return E instanceof Uint8Array?x=E:E.buffer instanceof ArrayBuffer?x=new Uint8Array(E.buffer):x=new Uint8Array(E),m(x,this.encoding)},e.TextEncoder=e.TextEncoder||f,e.TextDecoder=e.TextDecoder||T})(typeof window<"u"?window:Cs);var NEe={encode:e=>new TextEncoder().encode(e),decode:e=>new TextDecoder().decode(e)},LEe=_Ee;function _Ee(e,t,n){var r;return function(){if(!t)return e.apply(this,arguments);var a=this,o=arguments,l=n&&!r;if(clearTimeout(r),r=setTimeout(function(){if(r=null,!l)return e.apply(a,o)},t),l)return e.apply(this,arguments)}}function ZZ(e){if(e.length===0)return".";let t=QZ(e);return t=t.reduce(FEe,[]),$L(...t)}function DEe(...e){let t="";for(let n of e)n.startsWith("/")?t=n:t=ZZ($L(t,n));return t}function $L(...e){if(e.length===0)return"";let t=e.join("/");return t=t.replace(/\/{2,}/g,"/"),t}function QZ(e){if(e.length===0)return[];if(e==="/")return["/"];let t=e.split("/");return t[t.length-1]===""&&t.pop(),e[0]==="/"?t[0]="/":t[0]!=="."&&t.unshift("."),t}function MEe(e){const t=e.lastIndexOf("/");if(t===-1)throw new Error(`Cannot get dirname of "${e}"`);return t===0?"/":e.slice(0,t)}function PEe(e){if(e==="/")throw new Error(`Cannot get basename of "${e}"`);const t=e.lastIndexOf("/");return t===-1?e:e.slice(t+1)}function FEe(e,t){if(e.length===0)return e.push(t),e;if(t===".")return e;if(t===".."){if(e.length===1){if(e[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(e[0]===".")return e.push(t),e}return e[e.length-1]===".."?(e.push(".."),e):(e.pop(),e)}return e.push(t),e}var WL={join:$L,normalize:ZZ,split:QZ,basename:PEe,dirname:MEe,resolve:DEe};function DT(e){return class extends Error{constructor(...t){super(...t),this.code=e,this.message?this.message=e+": "+this.message:this.message=e}}}const BEe=DT("EEXIST"),HEe=DT("ENOENT"),$Ee=DT("ENOTDIR"),WEe=DT("ENOTEMPTY"),UEe=DT("ETIMEDOUT");var JZ={EEXIST:BEe,ENOENT:HEe,ENOTDIR:$Ee,ENOTEMPTY:WEe,ETIMEDOUT:UEe};const hs=WL,{EEXIST:xB,ENOENT:GEe,ENOTDIR:SB,ENOTEMPTY:zEe}=JZ,Fa=0;var YEe=class{constructor(){}_makeRoot(t=new Map){return t.set(Fa,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),t}activate(t=null){t===null?this._root=new Map([["/",this._makeRoot()]]):typeof t=="string"?this._root=new Map([["/",this._makeRoot(this.parse(t))]]):this._root=t}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(t){let n=1;for(let[r,a]of t)r!==Fa&&(n+=this._countInodes(a));return n}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(t){let n=t.get(Fa).ino;for(let[r,a]of t)r!==Fa&&(n=Math.max(n,this._maxInode(a)));return n}print(t=this._root.get("/")){let n="";const r=(a,o)=>{for(let[l,u]of a){if(l===0)continue;let h=u.get(Fa),f=h.mode.toString(8);n+=`${"	".repeat(o)}${l}	${f}`,h.type==="file"?n+=`	${h.size}	${h.mtimeMs}
`:(n+=`
`,r(u,o+1))}};return r(t,0),n}parse(t){let n=0;function r(u){const h=++n,f=u.length===1?"dir":"file";let[d,p,g]=u;return d=parseInt(d,8),p=p?parseInt(p):0,g=g?parseInt(g):Date.now(),new Map([[Fa,{mode:d,type:f,size:p,mtimeMs:g,ino:h}]])}let a=t.trim().split(`
`),o=this._makeRoot(),l=[{indent:-1,node:o},{indent:0,node:null}];for(let u of a){let f=u.match(/^\t*/)[0].length;u=u.slice(f);let[d,...p]=u.split("	"),g=r(p);if(f<=l[l.length-1].indent)for(;f<=l[l.length-1].indent;)l.pop();l.push({indent:f,node:g}),l[l.length-2].node.set(d,g)}return o}_lookup(t,n=!0){let r=this._root,a="/",o=hs.split(t);for(let l=0;l<o.length;++l){let u=o[l];if(r=r.get(u),!r)throw new GEe(t);if(n||l<o.length-1){const h=r.get(Fa);if(h.type==="symlink"){let f=hs.resolve(a,h.target);r=this._lookup(f)}a?a=hs.join(a,u):a=u}}return r}mkdir(t,{mode:n}){if(t==="/")throw new xB;let r=this._lookup(hs.dirname(t)),a=hs.basename(t);if(r.has(a))throw new xB;let o=new Map,l={mode:n,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};o.set(Fa,l),r.set(a,o)}rmdir(t){let n=this._lookup(t);if(n.get(Fa).type!=="dir")throw new SB;if(n.size>1)throw new zEe;let r=this._lookup(hs.dirname(t)),a=hs.basename(t);r.delete(a)}readdir(t){let n=this._lookup(t);if(n.get(Fa).type!=="dir")throw new SB;return[...n.keys()].filter(r=>typeof r=="string")}writeStat(t,n,{mode:r}){let a;try{let f=this.stat(t);r==null&&(r=f.mode),a=f.ino}catch{}r==null&&(r=438),a==null&&(a=this.autoinc());let o=this._lookup(hs.dirname(t)),l=hs.basename(t),u={mode:r,type:"file",size:n,mtimeMs:Date.now(),ino:a},h=new Map;return h.set(Fa,u),o.set(l,h),u}unlink(t){let n=this._lookup(hs.dirname(t)),r=hs.basename(t);n.delete(r)}rename(t,n){let r=hs.basename(n),a=this._lookup(t);this._lookup(hs.dirname(n)).set(r,a),this.unlink(t)}stat(t){return this._lookup(t).get(Fa)}lstat(t){return this._lookup(t,!1).get(Fa)}readlink(t){return this._lookup(t,!1).get(Fa).target}symlink(t,n){let r,a;try{let f=this.stat(n);a===null&&(a=f.mode),r=f.ino}catch{}a==null&&(a=40960),r==null&&(r=this.autoinc());let o=this._lookup(hs.dirname(n)),l=hs.basename(n),u={mode:a,type:"symlink",target:t,size:0,mtimeMs:Date.now(),ino:r},h=new Map;return h.set(Fa,u),o.set(l,h),u}_du(t){let n=0;for(const[r,a]of t.entries())r===Fa?n+=a.size:n+=this._du(a);return n}du(t){let n=this._lookup(t);return this._du(n)}};class eQ{constructor(t="keyval-store",n="keyval"){this.storeName=n,this._dbName=t,this._storeName=n,this._init()}_init(){this._dbp||(this._dbp=new Promise((t,n)=>{const r=indexedDB.open(this._dbName);r.onerror=()=>n(r.error),r.onsuccess=()=>t(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore(this._storeName)}}))}_withIDBStore(t,n){return this._init(),this._dbp.then(r=>new Promise((a,o)=>{const l=r.transaction(this.storeName,t);l.oncomplete=()=>a(),l.onabort=l.onerror=()=>o(l.error),n(l.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(t=>{t.close(),this._dbp=void 0})}}let VI;function Cp(){return VI||(VI=new eQ),VI}function VEe(e,t=Cp()){let n;return t._withIDBStore("readwrite",r=>{n=r.get(e)}).then(()=>n.result)}function qEe(e,t,n=Cp()){return n._withIDBStore("readwrite",r=>{r.put(t,e)})}function jEe(e,t,n=Cp()){return n._withIDBStore("readwrite",r=>{const a=r.get(e);a.onsuccess=()=>{r.put(t(a.result),e)}})}function XEe(e,t=Cp()){return t._withIDBStore("readwrite",n=>{n.delete(e)})}function KEe(e=Cp()){return e._withIDBStore("readwrite",t=>{t.clear()})}function ZEe(e=Cp()){const t=[];return e._withIDBStore("readwrite",n=>{(n.openKeyCursor||n.openCursor).call(n).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}function QEe(e=Cp()){return e._close()}const JEe=Object.freeze(Object.defineProperty({__proto__:null,Store:eQ,clear:KEe,close:QEe,del:XEe,get:VEe,keys:ZEe,set:qEe,update:jEe},Symbol.toStringTag,{value:"Module"})),tQ=REe(JEe),Jh=tQ;var ewe=class{constructor(t,n){this._database=t,this._storename=n,this._store=new Jh.Store(this._database,this._storename)}saveSuperblock(t){return Jh.set("!root",t,this._store)}loadSuperblock(){return Jh.get("!root",this._store)}readFile(t){return Jh.get(t,this._store)}writeFile(t,n){return Jh.set(t,n,this._store)}unlink(t){return Jh.del(t,this._store)}wipe(){return Jh.clear(this._store)}close(){return Jh.close(this._store)}},twe=class{constructor(t){this._url=t}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(t=>t.ok?t.text():null)}async readFile(t){const n=await fetch(this._url+t);if(n.status===200)return n.arrayBuffer();throw new Error("ENOENT")}async sizeFile(t){const n=await fetch(this._url+t,{method:"HEAD"});if(n.status===200)return n.headers.get("content-length");throw new Error("ENOENT")}};const ly=tQ,nwe=e=>new Promise(t=>setTimeout(t,e));var rwe=class{constructor(t,n){this._id=Math.random(),this._database=t,this._storename=n,this._store=new ly.Store(this._database,this._storename),this._lock=null}async has({margin:t=2e3}={}){if(this._lock&&this._lock.holder===this._id){const n=Date.now();return this._lock.expires>n+t?!0:await this.renew()}else return!1}async renew({ttl:t=5e3}={}){let n;return await ly.update("lock",r=>{const o=Date.now()+t;return n=r&&r.holder===this._id,this._lock=n?{holder:this._id,expires:o}:r,this._lock},this._store),n}async acquire({ttl:t=5e3}={}){let n,r,a;if(await ly.update("lock",o=>{const l=Date.now(),u=l+t;return r=o&&o.expires<l,n=o===void 0||r,a=o&&o.holder===this._id,this._lock=n?{holder:this._id,expires:u}:o,this._lock},this._store),a)throw new Error("Mutex double-locked");return n}async wait({interval:t=100,limit:n=6e3,ttl:r}={}){for(;n--;){if(await this.acquire({ttl:r}))return!0;await nwe(t)}throw new Error("Mutex timeout")}async release({force:t=!1}={}){let n,r,a;if(await ly.update("lock",o=>(n=t||o&&o.holder===this._id,r=o===void 0,a=o&&o.holder!==this._id,this._lock=n?void 0:o,this._lock),this._store),await ly.close(this._store),!n&&!t){if(r)throw new Error("Mutex double-freed");if(a)throw new Error("Mutex lost ownership")}return n}},iwe=class{constructor(t){this._id=Math.random(),this._database=t,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(t=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},n=>(this._has=!!n,t(!!n),new Promise(r=>{this._release=r})))})}async wait({timeout:t=6e5}={}){return new Promise((n,r)=>{const a=new AbortController;setTimeout(()=>{a.abort(),r(new Error("Mutex timeout"))},t),navigator.locks.request(this._database+"_lock",{signal:a.signal},o=>(this._has=!!o,n(!!o),new Promise(l=>{this._release=l})))})}async release({force:t=!1}={}){this._has=!1,this._release?this._release():t&&navigator.locks.request(this._database+"_lock",{steal:!0},n=>!0)}};const{encode:awe,decode:AB}=NEe,swe=LEe,owe=YEe,{ENOENT:lwe,ENOTEMPTY:cwe,ETIMEDOUT:uwe}=JZ,hwe=ewe,fwe=twe,dwe=rwe,pwe=iwe,cy=WL;var gwe=class{constructor(){this.saveSuperblock=swe(()=>{this.flush()},500)}async init(t,{wipe:n,url:r,urlauto:a,fileDbName:o=t,db:l=null,fileStoreName:u=t+"_files",lockDbName:h=t+"_lock",lockStoreName:f=t+"_lock"}={}){this._name=t,this._idb=l||new hwe(o,u),this._mutex=navigator.locks?new pwe(t):new dwe(h,f),this._cache=new owe(t),this._opts={wipe:n,url:r},this._needsWipe=!!n,r&&(this._http=new fwe(r),this._urlauto=!!a)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();const t=await this._idb.loadSuperblock();if(t)this._cache.activate(t);else if(this._http){const n=await this._http.loadSuperblock();this._cache.activate(n),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new uwe}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(t){console.log(t)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(t,n,r){let a=cy.split(cy.dirname(t)),o=a.shift();for(let l of a){o=cy.join(o,l);try{this._cache.mkdir(o,{mode:511})}catch{}}return this._cache.writeStat(t,n,r)}async readFile(t,n){const{encoding:r}=n;if(r&&r!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let a=null,o=null;try{o=this._cache.stat(t),a=await this._idb.readFile(o.ino)}catch(l){if(!this._urlauto)throw l}if(!a&&this._http){let l=this._cache.lstat(t);for(;l.type==="symlink";)t=cy.resolve(cy.dirname(t),l.target),l=this._cache.lstat(t);a=await this._http.readFile(t)}if(a&&((!o||o.size!=a.byteLength)&&(o=await this._writeStat(t,a.byteLength,{mode:o?o.mode:438}),this.saveSuperblock()),r==="utf8"?a=AB(a):a.toString=()=>AB(a)),!o)throw new lwe(t);return a}async writeFile(t,n,r){const{mode:a,encoding:o="utf8"}=r;if(typeof n=="string"){if(o!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');n=awe(n)}const l=await this._cache.writeStat(t,n.byteLength,{mode:a});await this._idb.writeFile(l.ino,n)}async unlink(t,n){const r=this._cache.lstat(t);this._cache.unlink(t),r.type!=="symlink"&&await this._idb.unlink(r.ino)}readdir(t,n){return this._cache.readdir(t)}mkdir(t,n){const{mode:r=511}=n;this._cache.mkdir(t,{mode:r})}rmdir(t,n){if(t==="/")throw new cwe;this._cache.rmdir(t)}rename(t,n){this._cache.rename(t,n)}stat(t,n){return this._cache.stat(t)}lstat(t,n){return this._cache.lstat(t)}readlink(t,n){return this._cache.readlink(t)}symlink(t,n){this._cache.symlink(t,n)}async backFile(t,n){let r=await this._http.sizeFile(t);await this._writeStat(t,r,n)}du(t){return this._cache.du(t)}flush(){return this._saveSuperblock()}},mwe=class{constructor(t){this.type=t.type,this.mode=t.mode,this.size=t.size,this.ino=t.ino,this.mtimeMs=t.mtimeMs,this.ctimeMs=t.ctimeMs||t.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}};const vwe=gwe,IB=mwe,a4=WL;function kc(e,t,...n){return e=a4.normalize(e),(typeof t>"u"||typeof t=="function")&&(t={}),typeof t=="string"&&(t={encoding:t}),[e,t,...n]}function ywe(e,t,n,...r){return e=a4.normalize(e),(typeof n>"u"||typeof n=="function")&&(n={}),typeof n=="string"&&(n={encoding:n}),[e,t,n,...r]}function CB(e,t,...n){return[a4.normalize(e),a4.normalize(t),...n]}var bwe=class{constructor(t,n={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,kc,!1),this.writeFile=this._wrap(this.writeFile,ywe,!0),this.unlink=this._wrap(this.unlink,kc,!0),this.readdir=this._wrap(this.readdir,kc,!1),this.mkdir=this._wrap(this.mkdir,kc,!0),this.rmdir=this._wrap(this.rmdir,kc,!0),this.rename=this._wrap(this.rename,CB,!0),this.stat=this._wrap(this.stat,kc,!1),this.lstat=this._wrap(this.lstat,kc,!1),this.readlink=this._wrap(this.readlink,kc,!1),this.symlink=this._wrap(this.symlink,CB,!0),this.backFile=this._wrap(this.backFile,kc,!0),this.du=this._wrap(this.du,kc,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,t&&this.init(t,n)}async init(...t){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...t),this._initPromise}async _init(t,n={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=n.backend||new vwe,this._backend.init&&await this._backend.init(t,n),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),n.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(t=>this._gracefulShutdownResolve=t),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(t,n,r){return async(...a)=>{a=n(...a);let o={name:t.name,args:a};this._operations.add(o);try{return await this._activate(),await t.apply(this,a)}finally{this._operations.delete(o),r&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(t,n){return this._backend.readFile(t,n)}async writeFile(t,n,r){return await this._backend.writeFile(t,n,r),null}async unlink(t,n){return await this._backend.unlink(t,n),null}async readdir(t,n){return this._backend.readdir(t,n)}async mkdir(t,n){return await this._backend.mkdir(t,n),null}async rmdir(t,n){return await this._backend.rmdir(t,n),null}async rename(t,n){return await this._backend.rename(t,n),null}async stat(t,n){const r=await this._backend.stat(t,n);return new IB(r)}async lstat(t,n){const r=await this._backend.lstat(t,n);return new IB(r)}async readlink(t,n){return this._backend.readlink(t,n)}async symlink(t,n){return await this._backend.symlink(t,n),null}async backFile(t,n){return await this._backend.backFile(t,n),null}async du(t){return this._backend.du(t)}async flush(){return this._backend.flush()}};const Twe=kEe,Ewe=bwe;function Hs(e,t){return typeof e=="function"&&(t=e),t=Twe(t),[(...r)=>t(null,...r),t]}var wwe=class{constructor(...t){this.promises=new Ewe(...t),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(t,n){return this.promises.init(t,n)}readFile(t,n,r){const[a,o]=Hs(n,r);this.promises.readFile(t,n).then(a).catch(o)}writeFile(t,n,r,a){const[o,l]=Hs(r,a);this.promises.writeFile(t,n,r).then(o).catch(l)}unlink(t,n,r){const[a,o]=Hs(n,r);this.promises.unlink(t,n).then(a).catch(o)}readdir(t,n,r){const[a,o]=Hs(n,r);this.promises.readdir(t,n).then(a).catch(o)}mkdir(t,n,r){const[a,o]=Hs(n,r);this.promises.mkdir(t,n).then(a).catch(o)}rmdir(t,n,r){const[a,o]=Hs(n,r);this.promises.rmdir(t,n).then(a).catch(o)}rename(t,n,r){const[a,o]=Hs(r);this.promises.rename(t,n).then(a).catch(o)}stat(t,n,r){const[a,o]=Hs(n,r);this.promises.stat(t).then(a).catch(o)}lstat(t,n,r){const[a,o]=Hs(n,r);this.promises.lstat(t).then(a).catch(o)}readlink(t,n,r){const[a,o]=Hs(n,r);this.promises.readlink(t).then(a).catch(o)}symlink(t,n,r){const[a,o]=Hs(r);this.promises.symlink(t,n).then(a).catch(o)}backFile(t,n,r){const[a,o]=Hs(n,r);this.promises.backFile(t,n).then(a).catch(o)}du(t,n){const[r,a]=Hs(n);this.promises.du(t).then(r).catch(a)}flush(t){const[n,r]=Hs(t);this.promises.flush().then(n).catch(r)}};const Yd=Go(wwe),xwe=["innerHTML"],Swe=Tu({__name:"RawView",props:{chapter:String},setup(e){const t=new Yd("epub-editor"),n=e,r=hn();U0(async()=>{sessionStorage.clear(),r.value=await a(n.chapter)}),addEventListener("storage",async()=>{console.log("storage event")}),ic(n,async o=>{console.log("newProps.chapter",o.chapter),o.chapter&&(r.value=await a(o.chapter))});async function a(o){const l=o.split(".").pop();if(console.log(o,l),o&&l&&["mimetype","xml","opf","xhtml","html","ncx","css","js","md","svg"].includes(l)){let u=function(m,...y){const b=typeof y[0]=="string"?y[0].split("#"):[null,null],T=b[0],E=b[1];console.log("looking up sessionStorage for",T);const w=sessionStorage.getItem(T);return console.log("found sessionStorage item",w),E?`src="${w}#${E}"`:`src="${w}"`};URL.revokeObjectURL(sessionStorage.getItem("page.css"));const h=await t.promises.readFile("/EPUB/page.css"),f=URL.createObjectURL(new Blob([h],{type:"text/css"}));sessionStorage.setItem("page.css",f),console.log("using page.css blob",f);let d=(await t.promises.readFile(o.replace("md","xhtml"))).toString().replace("page.css",f);const p=/src="(.*?)"/gi;return[...d.matchAll(p)].forEach(async m=>{const b=m[1].split("#")[0];console.log("found",b);const T=sessionStorage.getItem(b);URL.revokeObjectURL(T),sessionStorage.setItem(b,URL.createObjectURL(new Blob([await t.promises.readFile(`/EPUB/${b}`)],{type:"audio/mpeg"})))}),await new Promise(m=>setTimeout(m,100)),d=d.toString().replace(p,u),d}}return(o,l)=>(br(),Jr("div",{class:"raw",innerHTML:r.value},null,8,xwe))}}),Awe=Object.freeze(Object.defineProperty({__proto__:null,default:Swe},Symbol.toStringTag,{value:"Module"})),bb=15,fO=30,dO=19,Iwe=29,s4=256,UL=s4+1+Iwe,RB=2*UL+1,uy=256,Cwe=7,kB=16,OB=17,NB=18,qI=8*2,o4=-1,Rwe=1,tw=2,kwe=0,Rg=0,LB=1,Owe=3,Ws=4,zl=0,nQ=1,nw=2,Vl=-2,Nwe=-3,Jp=-5;function J5(e){return eA(e.map(([t,n])=>new Array(t).fill(n,0,t)))}function eA(e){return e.reduce((t,n)=>t.concat(Array.isArray(n)?eA(n):n),[])}const _B=[0,1,2,3].concat(...J5([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function kr(){const e=this;function t(a){const o=e.dyn_tree,l=e.stat_desc.static_tree,u=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,f=e.stat_desc.max_length;let d,p,g,m,y,b,T=0;for(m=0;m<=bb;m++)a.bl_count[m]=0;for(o[a.heap[a.heap_max]*2+1]=0,d=a.heap_max+1;d<RB;d++)p=a.heap[d],m=o[o[p*2+1]*2+1]+1,m>f&&(m=f,T++),o[p*2+1]=m,!(p>e.max_code)&&(a.bl_count[m]++,y=0,p>=h&&(y=u[p-h]),b=o[p*2],a.opt_len+=b*(m+y),l&&(a.static_len+=b*(l[p*2+1]+y)));if(T!==0){do{for(m=f-1;a.bl_count[m]===0;)m--;a.bl_count[m]--,a.bl_count[m+1]+=2,a.bl_count[f]--,T-=2}while(T>0);for(m=f;m!==0;m--)for(p=a.bl_count[m];p!==0;)g=a.heap[--d],!(g>e.max_code)&&(o[g*2+1]!=m&&(a.opt_len+=(m-o[g*2+1])*o[g*2],o[g*2+1]=m),p--)}}function n(a,o){let l=0;do l|=a&1,a>>>=1,l<<=1;while(--o>0);return l>>>1}function r(a,o,l){const u=[];let h=0,f,d,p;for(f=1;f<=bb;f++)u[f]=h=h+l[f-1]<<1;for(d=0;d<=o;d++)p=a[d*2+1],p!==0&&(a[d*2]=n(u[p]++,p))}e.build_tree=function(a){const o=e.dyn_tree,l=e.stat_desc.static_tree,u=e.stat_desc.elems;let h,f,d=-1,p;for(a.heap_len=0,a.heap_max=RB,h=0;h<u;h++)o[h*2]!==0?(a.heap[++a.heap_len]=d=h,a.depth[h]=0):o[h*2+1]=0;for(;a.heap_len<2;)p=a.heap[++a.heap_len]=d<2?++d:0,o[p*2]=1,a.depth[p]=0,a.opt_len--,l&&(a.static_len-=l[p*2+1]);for(e.max_code=d,h=Math.floor(a.heap_len/2);h>=1;h--)a.pqdownheap(o,h);p=u;do h=a.heap[1],a.heap[1]=a.heap[a.heap_len--],a.pqdownheap(o,1),f=a.heap[1],a.heap[--a.heap_max]=h,a.heap[--a.heap_max]=f,o[p*2]=o[h*2]+o[f*2],a.depth[p]=Math.max(a.depth[h],a.depth[f])+1,o[h*2+1]=o[f*2+1]=p,a.heap[1]=p++,a.pqdownheap(o,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],t(a),r(o,e.max_code,a.bl_count)}}kr._length_code=[0,1,2,3,4,5,6,7].concat(...J5([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));kr.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];kr.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];kr.d_code=function(e){return e<256?_B[e]:_B[256+(e>>>7)]};kr.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];kr.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];kr.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];kr.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function wa(e,t,n,r,a){const o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=n,o.elems=r,o.max_length=a}const Lwe=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],_we=J5([[144,8],[112,9],[24,7],[8,8]]);wa.static_ltree=eA(Lwe.map((e,t)=>[e,_we[t]]));const Dwe=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],Mwe=J5([[30,5]]);wa.static_dtree=eA(Dwe.map((e,t)=>[e,Mwe[t]]));wa.static_l_desc=new wa(wa.static_ltree,kr.extra_lbits,s4+1,UL,bb);wa.static_d_desc=new wa(wa.static_dtree,kr.extra_dbits,0,fO,bb);wa.static_bl_desc=new wa(null,kr.extra_blbits,0,dO,Cwe);const Pwe=9,Fwe=8;function Oc(e,t,n,r,a){const o=this;o.good_length=e,o.max_lazy=t,o.nice_length=n,o.max_chain=r,o.func=a}const rQ=0,U3=1,nd=2,Bl=[new Oc(0,0,0,0,rQ),new Oc(4,4,8,4,U3),new Oc(4,5,16,8,U3),new Oc(4,6,32,32,U3),new Oc(4,4,16,16,nd),new Oc(8,16,32,32,nd),new Oc(8,16,128,128,nd),new Oc(8,32,128,256,nd),new Oc(32,128,258,1024,nd),new Oc(32,258,258,4096,nd)],rw=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Ko=0,iw=1,hy=2,aw=3,Bwe=32,jI=42,sw=113,fy=666,XI=8,Hwe=0,KI=1,$we=2,Dr=3,G3=258,To=G3+Dr+1;function DB(e,t,n,r){const a=e[t*2],o=e[n*2];return a<o||a==o&&r[t]<=r[n]}function Wwe(){const e=this;let t,n,r,a,o,l,u,h,f,d,p,g,m,y,b,T,E,w,x,S,A,R,C,N,O,L,k,M,$,_,F,B,D;const P=new kr,H=new kr,W=new kr;e.depth=[];let U,V,G,ee,ce,Q;e.bl_count=[],e.heap=[],F=[],B=[],D=[];function re(){f=2*o,p[m-1]=0;for(let ge=0;ge<m-1;ge++)p[ge]=0;L=Bl[k].max_lazy,$=Bl[k].good_length,_=Bl[k].nice_length,O=Bl[k].max_chain,A=0,E=0,C=0,w=N=Dr-1,S=0,g=0}function le(){let ge;for(ge=0;ge<UL;ge++)F[ge*2]=0;for(ge=0;ge<fO;ge++)B[ge*2]=0;for(ge=0;ge<dO;ge++)D[ge*2]=0;F[uy*2]=1,e.opt_len=e.static_len=0,V=G=0}function Y(){P.dyn_tree=F,P.stat_desc=wa.static_l_desc,H.dyn_tree=B,H.stat_desc=wa.static_d_desc,W.dyn_tree=D,W.stat_desc=wa.static_bl_desc,ce=0,Q=0,ee=8,le()}e.pqdownheap=function(ge,Ee){const ye=e.heap,Se=ye[Ee];let Ce=Ee<<1;for(;Ce<=e.heap_len&&(Ce<e.heap_len&&DB(ge,ye[Ce+1],ye[Ce],e.depth)&&Ce++,!DB(ge,Se,ye[Ce],e.depth));)ye[Ee]=ye[Ce],Ee=Ce,Ce<<=1;ye[Ee]=Se};function K(ge,Ee){let ye=-1,Se,Ce=ge[0*2+1],Fe=0,Ne=7,Ve=4;Ce===0&&(Ne=138,Ve=3),ge[(Ee+1)*2+1]=65535;for(let et=0;et<=Ee;et++)Se=Ce,Ce=ge[(et+1)*2+1],!(++Fe<Ne&&Se==Ce)&&(Fe<Ve?D[Se*2]+=Fe:Se!==0?(Se!=ye&&D[Se*2]++,D[kB*2]++):Fe<=10?D[OB*2]++:D[NB*2]++,Fe=0,ye=Se,Ce===0?(Ne=138,Ve=3):Se==Ce?(Ne=6,Ve=3):(Ne=7,Ve=4))}function Z(){let ge;for(K(F,P.max_code),K(B,H.max_code),W.build_tree(e),ge=dO-1;ge>=3&&D[kr.bl_order[ge]*2+1]===0;ge--);return e.opt_len+=3*(ge+1)+5+5+4,ge}function z(ge){e.pending_buf[e.pending++]=ge}function X(ge){z(ge&255),z(ge>>>8&255)}function te(ge){z(ge>>8&255),z(ge&255&255)}function ne(ge,Ee){let ye;const Se=Ee;Q>qI-Se?(ye=ge,ce|=ye<<Q&65535,X(ce),ce=ye>>>qI-Q,Q+=Se-qI):(ce|=ge<<Q&65535,Q+=Se)}function Ae(ge,Ee){const ye=ge*2;ne(Ee[ye]&65535,Ee[ye+1]&65535)}function he(ge,Ee){let ye,Se=-1,Ce,Fe=ge[0*2+1],Ne=0,Ve=7,et=4;for(Fe===0&&(Ve=138,et=3),ye=0;ye<=Ee;ye++)if(Ce=Fe,Fe=ge[(ye+1)*2+1],!(++Ne<Ve&&Ce==Fe)){if(Ne<et)do Ae(Ce,D);while(--Ne!==0);else Ce!==0?(Ce!=Se&&(Ae(Ce,D),Ne--),Ae(kB,D),ne(Ne-3,2)):Ne<=10?(Ae(OB,D),ne(Ne-3,3)):(Ae(NB,D),ne(Ne-11,7));Ne=0,Se=Ce,Fe===0?(Ve=138,et=3):Ce==Fe?(Ve=6,et=3):(Ve=7,et=4)}}function oe(ge,Ee,ye){let Se;for(ne(ge-257,5),ne(Ee-1,5),ne(ye-4,4),Se=0;Se<ye;Se++)ne(D[kr.bl_order[Se]*2+1],3);he(F,ge-1),he(B,Ee-1)}function de(){Q==16?(X(ce),ce=0,Q=0):Q>=8&&(z(ce&255),ce>>>=8,Q-=8)}function be(){ne(KI<<1,3),Ae(uy,wa.static_ltree),de(),1+ee+10-Q<9&&(ne(KI<<1,3),Ae(uy,wa.static_ltree),de()),ee=7}function fe(ge,Ee){let ye,Se,Ce;if(e.dist_buf[V]=ge,e.lc_buf[V]=Ee&255,V++,ge===0?F[Ee*2]++:(G++,ge--,F[(kr._length_code[Ee]+s4+1)*2]++,B[kr.d_code(ge)*2]++),!(V&8191)&&k>2){for(ye=V*8,Se=A-E,Ce=0;Ce<fO;Ce++)ye+=B[Ce*2]*(5+kr.extra_dbits[Ce]);if(ye>>>=3,G<Math.floor(V/2)&&ye<Math.floor(Se/2))return!0}return V==U-1}function Ie(ge,Ee){let ye,Se,Ce=0,Fe,Ne;if(V!==0)do ye=e.dist_buf[Ce],Se=e.lc_buf[Ce],Ce++,ye===0?Ae(Se,ge):(Fe=kr._length_code[Se],Ae(Fe+s4+1,ge),Ne=kr.extra_lbits[Fe],Ne!==0&&(Se-=kr.base_length[Fe],ne(Se,Ne)),ye--,Fe=kr.d_code(ye),Ae(Fe,Ee),Ne=kr.extra_dbits[Fe],Ne!==0&&(ye-=kr.base_dist[Fe],ne(ye,Ne)));while(Ce<V);Ae(uy,ge),ee=ge[uy*2+1]}function Re(){Q>8?X(ce):Q>0&&z(ce&255),ce=0,Q=0}function ke(ge,Ee,ye){Re(),ee=8,X(Ee),X(~Ee),e.pending_buf.set(h.subarray(ge,ge+Ee),e.pending),e.pending+=Ee}function De(ge,Ee,ye){ne((Hwe<<1)+(ye?1:0),3),ke(ge,Ee)}function se(ge,Ee,ye){let Se,Ce,Fe=0;k>0?(P.build_tree(e),H.build_tree(e),Fe=Z(),Se=e.opt_len+3+7>>>3,Ce=e.static_len+3+7>>>3,Ce<=Se&&(Se=Ce)):Se=Ce=Ee+5,Ee+4<=Se&&ge!=-1?De(ge,Ee,ye):Ce==Se?(ne((KI<<1)+(ye?1:0),3),Ie(wa.static_ltree,wa.static_dtree)):(ne(($we<<1)+(ye?1:0),3),oe(P.max_code+1,H.max_code+1,Fe+1),Ie(F,B)),le(),ye&&Re()}function j(ge){se(E>=0?E:-1,A-E,ge),E=A,t.flush_pending()}function me(){let ge,Ee,ye,Se;do{if(Se=f-C-A,Se===0&&A===0&&C===0)Se=o;else if(Se==-1)Se--;else if(A>=o+o-To){h.set(h.subarray(o,o+o),0),R-=o,A-=o,E-=o,ge=m,ye=ge;do Ee=p[--ye]&65535,p[ye]=Ee>=o?Ee-o:0;while(--ge!==0);ge=o,ye=ge;do Ee=d[--ye]&65535,d[ye]=Ee>=o?Ee-o:0;while(--ge!==0);Se+=o}if(t.avail_in===0)return;ge=t.read_buf(h,A+C,Se),C+=ge,C>=Dr&&(g=h[A]&255,g=(g<<T^h[A+1]&255)&b)}while(C<To&&t.avail_in!==0)}function ue(ge){let Ee=65535,ye;for(Ee>r-5&&(Ee=r-5);;){if(C<=1){if(me(),C===0&&ge==Rg)return Ko;if(C===0)break}if(A+=C,C=0,ye=E+Ee,(A===0||A>=ye)&&(C=A-ye,A=ye,j(!1),t.avail_out===0)||A-E>=o-To&&(j(!1),t.avail_out===0))return Ko}return j(ge==Ws),t.avail_out===0?ge==Ws?hy:Ko:ge==Ws?aw:iw}function we(ge){let Ee=O,ye=A,Se,Ce,Fe=N;const Ne=A>o-To?A-(o-To):0;let Ve=_;const et=u,Rt=A+G3;let pt=h[ye+Fe-1],ut=h[ye+Fe];N>=$&&(Ee>>=2),Ve>C&&(Ve=C);do if(Se=ge,!(h[Se+Fe]!=ut||h[Se+Fe-1]!=pt||h[Se]!=h[ye]||h[++Se]!=h[ye+1])){ye+=2,Se++;do;while(h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&h[++ye]==h[++Se]&&ye<Rt);if(Ce=G3-(Rt-ye),ye=Rt-G3,Ce>Fe){if(R=ge,Fe=Ce,Ce>=Ve)break;pt=h[ye+Fe-1],ut=h[ye+Fe]}}while((ge=d[ge&et]&65535)>Ne&&--Ee!==0);return Fe<=C?Fe:C}function ie(ge){let Ee=0,ye;for(;;){if(C<To){if(me(),C<To&&ge==Rg)return Ko;if(C===0)break}if(C>=Dr&&(g=(g<<T^h[A+(Dr-1)]&255)&b,Ee=p[g]&65535,d[A&u]=p[g],p[g]=A),Ee!==0&&(A-Ee&65535)<=o-To&&M!=tw&&(w=we(Ee)),w>=Dr)if(ye=fe(A-R,w-Dr),C-=w,w<=L&&C>=Dr){w--;do A++,g=(g<<T^h[A+(Dr-1)]&255)&b,Ee=p[g]&65535,d[A&u]=p[g],p[g]=A;while(--w!==0);A++}else A+=w,w=0,g=h[A]&255,g=(g<<T^h[A+1]&255)&b;else ye=fe(0,h[A]&255),C--,A++;if(ye&&(j(!1),t.avail_out===0))return Ko}return j(ge==Ws),t.avail_out===0?ge==Ws?hy:Ko:ge==Ws?aw:iw}function Oe(ge){let Ee=0,ye,Se;for(;;){if(C<To){if(me(),C<To&&ge==Rg)return Ko;if(C===0)break}if(C>=Dr&&(g=(g<<T^h[A+(Dr-1)]&255)&b,Ee=p[g]&65535,d[A&u]=p[g],p[g]=A),N=w,x=R,w=Dr-1,Ee!==0&&N<L&&(A-Ee&65535)<=o-To&&(M!=tw&&(w=we(Ee)),w<=5&&(M==Rwe||w==Dr&&A-R>4096)&&(w=Dr-1)),N>=Dr&&w<=N){Se=A+C-Dr,ye=fe(A-1-x,N-Dr),C-=N-1,N-=2;do++A<=Se&&(g=(g<<T^h[A+(Dr-1)]&255)&b,Ee=p[g]&65535,d[A&u]=p[g],p[g]=A);while(--N!==0);if(S=0,w=Dr-1,A++,ye&&(j(!1),t.avail_out===0))return Ko}else if(S!==0){if(ye=fe(0,h[A-1]&255),ye&&j(!1),A++,C--,t.avail_out===0)return Ko}else S=1,A++,C--}return S!==0&&(ye=fe(0,h[A-1]&255),S=0),j(ge==Ws),t.avail_out===0?ge==Ws?hy:Ko:ge==Ws?aw:iw}function ae(ge){return ge.total_in=ge.total_out=0,ge.msg=null,e.pending=0,e.pending_out=0,n=sw,a=Rg,Y(),re(),zl}e.deflateInit=function(ge,Ee,ye,Se,Ce,Fe){return Se||(Se=XI),Ce||(Ce=Fwe),Fe||(Fe=kwe),ge.msg=null,Ee==o4&&(Ee=6),Ce<1||Ce>Pwe||Se!=XI||ye<9||ye>15||Ee<0||Ee>9||Fe<0||Fe>tw?Vl:(ge.dstate=e,l=ye,o=1<<l,u=o-1,y=Ce+7,m=1<<y,b=m-1,T=Math.floor((y+Dr-1)/Dr),h=new Uint8Array(o*2),d=[],p=[],U=1<<Ce+6,e.pending_buf=new Uint8Array(U*4),r=U*4,e.dist_buf=new Uint16Array(U),e.lc_buf=new Uint8Array(U),k=Ee,M=Fe,ae(ge))},e.deflateEnd=function(){return n!=jI&&n!=sw&&n!=fy?Vl:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,p=null,d=null,h=null,e.dstate=null,n==sw?Nwe:zl)},e.deflateParams=function(ge,Ee,ye){let Se=zl;return Ee==o4&&(Ee=6),Ee<0||Ee>9||ye<0||ye>tw?Vl:(Bl[k].func!=Bl[Ee].func&&ge.total_in!==0&&(Se=ge.deflate(LB)),k!=Ee&&(k=Ee,L=Bl[k].max_lazy,$=Bl[k].good_length,_=Bl[k].nice_length,O=Bl[k].max_chain),M=ye,Se)},e.deflateSetDictionary=function(ge,Ee,ye){let Se=ye,Ce,Fe=0;if(!Ee||n!=jI)return Vl;if(Se<Dr)return zl;for(Se>o-To&&(Se=o-To,Fe=ye-Se),h.set(Ee.subarray(Fe,Fe+Se),0),A=Se,E=Se,g=h[0]&255,g=(g<<T^h[1]&255)&b,Ce=0;Ce<=Se-Dr;Ce++)g=(g<<T^h[Ce+(Dr-1)]&255)&b,d[Ce&u]=p[g],p[g]=Ce;return zl},e.deflate=function(ge,Ee){let ye,Se,Ce,Fe,Ne;if(Ee>Ws||Ee<0)return Vl;if(!ge.next_out||!ge.next_in&&ge.avail_in!==0||n==fy&&Ee!=Ws)return ge.msg=rw[nw-Vl],Vl;if(ge.avail_out===0)return ge.msg=rw[nw-Jp],Jp;if(t=ge,Fe=a,a=Ee,n==jI&&(Se=XI+(l-8<<4)<<8,Ce=(k-1&255)>>1,Ce>3&&(Ce=3),Se|=Ce<<6,A!==0&&(Se|=Bwe),Se+=31-Se%31,n=sw,te(Se)),e.pending!==0){if(t.flush_pending(),t.avail_out===0)return a=-1,zl}else if(t.avail_in===0&&Ee<=Fe&&Ee!=Ws)return t.msg=rw[nw-Jp],Jp;if(n==fy&&t.avail_in!==0)return ge.msg=rw[nw-Jp],Jp;if(t.avail_in!==0||C!==0||Ee!=Rg&&n!=fy){switch(Ne=-1,Bl[k].func){case rQ:Ne=ue(Ee);break;case U3:Ne=ie(Ee);break;case nd:Ne=Oe(Ee);break}if((Ne==hy||Ne==aw)&&(n=fy),Ne==Ko||Ne==hy)return t.avail_out===0&&(a=-1),zl;if(Ne==iw){if(Ee==LB)be();else if(De(0,0,!1),Ee==Owe)for(ye=0;ye<m;ye++)p[ye]=0;if(t.flush_pending(),t.avail_out===0)return a=-1,zl}}return Ee!=Ws?zl:nQ}}function iQ(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}iQ.prototype={deflateInit(e,t){const n=this;return n.dstate=new Wwe,t||(t=bb),n.dstate.deflateInit(n,e,t)},deflate(e){const t=this;return t.dstate?t.dstate.deflate(t,e):Vl},deflateEnd(){const e=this;if(!e.dstate)return Vl;const t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams(e,t){const n=this;return n.dstate?n.dstate.deflateParams(n,e,t):Vl},deflateSetDictionary(e,t){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):Vl},read_buf(e,t,n){const r=this;let a=r.avail_in;return a>n&&(a=n),a===0?0:(r.avail_in-=a,e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+a),t),r.next_in_index+=a,r.total_in+=a,a)},flush_pending(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,e.dstate.pending===0&&(e.dstate.pending_out=0))}};function Uwe(e){const t=this,n=new iQ,r=Gwe(e&&e.chunkSize?e.chunkSize:64*1024),a=Rg,o=new Uint8Array(r);let l=e?e.level:o4;typeof l>"u"&&(l=o4),n.deflateInit(l),n.next_out=o,t.append=function(u,h){let f,d,p=0,g=0,m=0;const y=[];if(u.length){n.next_in_index=0,n.next_in=u,n.avail_in=u.length;do{if(n.next_out_index=0,n.avail_out=r,f=n.deflate(a),f!=zl)throw new Error("deflating: "+n.msg);n.next_out_index&&(n.next_out_index==r?y.push(new Uint8Array(o)):y.push(o.subarray(0,n.next_out_index))),m+=n.next_out_index,h&&n.next_in_index>0&&n.next_in_index!=p&&(h(n.next_in_index),p=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return y.length>1?(d=new Uint8Array(m),y.forEach(function(b){d.set(b,g),g+=b.length})):d=y[0]?new Uint8Array(y[0]):new Uint8Array,d}},t.flush=function(){let u,h,f=0,d=0;const p=[];do{if(n.next_out_index=0,n.avail_out=r,u=n.deflate(Ws),u!=nQ&&u!=zl)throw new Error("deflating: "+n.msg);r-n.avail_out>0&&p.push(o.slice(0,n.next_out_index)),d+=n.next_out_index}while(n.avail_in>0||n.avail_out===0);return n.deflateEnd(),h=new Uint8Array(d),p.forEach(function(g){h.set(g,f),f+=g.length}),h}}function Gwe(e){return e+5*(Math.floor(e/16383)+1)}const zwe=15,Bn=0,hh=1,Ywe=2,Ys=-2,Or=-3,MB=-4,fh=-5,Io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],aQ=1440,Vwe=0,qwe=4,jwe=9,Xwe=5,Kwe=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],Zwe=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],Qwe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Jwe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],e3e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],t3e=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e0=15;function pO(){const e=this;let t,n,r,a,o,l;function u(f,d,p,g,m,y,b,T,E,w,x){let S,A,R,C,N,O,L,k,M,$,_,F,B,D,P;$=0,N=p;do r[f[d+$]]++,$++,N--;while(N!==0);if(r[0]==p)return b[0]=-1,T[0]=0,Bn;for(k=T[0],O=1;O<=e0&&r[O]===0;O++);for(L=O,k<O&&(k=O),N=e0;N!==0&&r[N]===0;N--);for(R=N,k>N&&(k=N),T[0]=k,D=1<<O;O<N;O++,D<<=1)if((D-=r[O])<0)return Or;if((D-=r[N])<0)return Or;for(r[N]+=D,l[1]=O=0,$=1,B=2;--N!==0;)l[B]=O+=r[$],B++,$++;N=0,$=0;do(O=f[d+$])!==0&&(x[l[O]++]=N),$++;while(++N<p);for(p=l[R],l[0]=N=0,$=0,C=-1,F=-k,o[0]=0,_=0,P=0;L<=R;L++)for(S=r[L];S--!==0;){for(;L>F+k;){if(C++,F+=k,P=R-F,P=P>k?k:P,(A=1<<(O=L-F))>S+1&&(A-=S+1,B=L,O<P))for(;++O<P&&!((A<<=1)<=r[++B]);)A-=r[B];if(P=1<<O,w[0]+P>aQ)return Or;o[C]=_=w[0],w[0]+=P,C!==0?(l[C]=N,a[0]=O,a[1]=k,O=N>>>F-k,a[2]=_-o[C-1]-O,E.set(a,(o[C-1]+O)*3)):b[0]=_}for(a[1]=L-F,$>=p?a[0]=192:x[$]<g?(a[0]=x[$]<256?0:96,a[2]=x[$++]):(a[0]=y[x[$]-g]+16+64,a[2]=m[x[$++]-g]),A=1<<L-F,O=N>>>F;O<P;O+=A)E.set(a,(_+O)*3);for(O=1<<L-1;N&O;O>>>=1)N^=O;for(N^=O,M=(1<<F)-1;(N&M)!=l[C];)C--,F-=k,M=(1<<F)-1}return D!==0&&R!=1?fh:Bn}function h(f){let d;for(t||(t=[],n=[],r=new Int32Array(e0+1),a=[],o=new Int32Array(e0),l=new Int32Array(e0+1)),n.length<f&&(n=[]),d=0;d<f;d++)n[d]=0;for(d=0;d<e0+1;d++)r[d]=0;for(d=0;d<3;d++)a[d]=0;o.set(r.subarray(0,e0),0),l.set(r.subarray(0,e0+1),0)}e.inflate_trees_bits=function(f,d,p,g,m){let y;return h(19),t[0]=0,y=u(f,0,19,19,null,null,p,d,g,t,n),y==Or?m.msg="oversubscribed dynamic bit lengths tree":(y==fh||d[0]===0)&&(m.msg="incomplete dynamic bit lengths tree",y=Or),y},e.inflate_trees_dynamic=function(f,d,p,g,m,y,b,T,E){let w;return h(288),t[0]=0,w=u(p,0,f,257,Qwe,Jwe,y,g,T,t,n),w!=Bn||g[0]===0?(w==Or?E.msg="oversubscribed literal/length tree":w!=MB&&(E.msg="incomplete literal/length tree",w=Or),w):(h(288),w=u(p,f,d,0,e3e,t3e,b,m,T,t,n),w!=Bn||m[0]===0&&f>257?(w==Or?E.msg="oversubscribed distance tree":w==fh?(E.msg="incomplete distance tree",w=Or):w!=MB&&(E.msg="empty distance tree with lengths",w=Or),w):Bn)}}pO.inflate_trees_fixed=function(e,t,n,r){return e[0]=jwe,t[0]=Xwe,n[0]=Kwe,r[0]=Zwe,Bn};const ow=0,PB=1,FB=2,BB=3,HB=4,$B=5,WB=6,ZI=7,UB=8,lw=9;function n3e(){const e=this;let t,n=0,r,a=0,o=0,l=0,u=0,h=0,f=0,d=0,p,g=0,m,y=0;function b(T,E,w,x,S,A,R,C){let N,O,L,k,M,$,_,F,B,D,P,H,W,U,V,G;_=C.next_in_index,F=C.avail_in,M=R.bitb,$=R.bitk,B=R.write,D=B<R.read?R.read-B-1:R.end-B,P=Io[T],H=Io[E];do{for(;$<20;)F--,M|=(C.read_byte(_++)&255)<<$,$+=8;if(N=M&P,O=w,L=x,G=(L+N)*3,(k=O[G])===0){M>>=O[G+1],$-=O[G+1],R.win[B++]=O[G+2],D--;continue}do{if(M>>=O[G+1],$-=O[G+1],k&16){for(k&=15,W=O[G+2]+(M&Io[k]),M>>=k,$-=k;$<15;)F--,M|=(C.read_byte(_++)&255)<<$,$+=8;N=M&H,O=S,L=A,G=(L+N)*3,k=O[G];do if(M>>=O[G+1],$-=O[G+1],k&16){for(k&=15;$<k;)F--,M|=(C.read_byte(_++)&255)<<$,$+=8;if(U=O[G+2]+(M&Io[k]),M>>=k,$-=k,D-=W,B>=U)V=B-U,B-V>0&&2>B-V?(R.win[B++]=R.win[V++],R.win[B++]=R.win[V++],W-=2):(R.win.set(R.win.subarray(V,V+2),B),B+=2,V+=2,W-=2);else{V=B-U;do V+=R.end;while(V<0);if(k=R.end-V,W>k){if(W-=k,B-V>0&&k>B-V)do R.win[B++]=R.win[V++];while(--k!==0);else R.win.set(R.win.subarray(V,V+k),B),B+=k,V+=k,k=0;V=0}}if(B-V>0&&W>B-V)do R.win[B++]=R.win[V++];while(--W!==0);else R.win.set(R.win.subarray(V,V+W),B),B+=W,V+=W,W=0;break}else if(!(k&64))N+=O[G+2],N+=M&Io[k],G=(L+N)*3,k=O[G];else return C.msg="invalid distance code",W=C.avail_in-F,W=$>>3<W?$>>3:W,F+=W,_-=W,$-=W<<3,R.bitb=M,R.bitk=$,C.avail_in=F,C.total_in+=_-C.next_in_index,C.next_in_index=_,R.write=B,Or;while(!0);break}if(k&64)return k&32?(W=C.avail_in-F,W=$>>3<W?$>>3:W,F+=W,_-=W,$-=W<<3,R.bitb=M,R.bitk=$,C.avail_in=F,C.total_in+=_-C.next_in_index,C.next_in_index=_,R.write=B,hh):(C.msg="invalid literal/length code",W=C.avail_in-F,W=$>>3<W?$>>3:W,F+=W,_-=W,$-=W<<3,R.bitb=M,R.bitk=$,C.avail_in=F,C.total_in+=_-C.next_in_index,C.next_in_index=_,R.write=B,Or);if(N+=O[G+2],N+=M&Io[k],G=(L+N)*3,(k=O[G])===0){M>>=O[G+1],$-=O[G+1],R.win[B++]=O[G+2],D--;break}}while(!0)}while(D>=258&&F>=10);return W=C.avail_in-F,W=$>>3<W?$>>3:W,F+=W,_-=W,$-=W<<3,R.bitb=M,R.bitk=$,C.avail_in=F,C.total_in+=_-C.next_in_index,C.next_in_index=_,R.write=B,Bn}e.init=function(T,E,w,x,S,A){t=ow,f=T,d=E,p=w,g=x,m=S,y=A,r=null},e.proc=function(T,E,w){let x,S,A,R=0,C=0,N=0,O,L,k,M;for(N=E.next_in_index,O=E.avail_in,R=T.bitb,C=T.bitk,L=T.write,k=L<T.read?T.read-L-1:T.end-L;;)switch(t){case ow:if(k>=258&&O>=10&&(T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,w=b(f,d,p,g,m,y,T,E),N=E.next_in_index,O=E.avail_in,R=T.bitb,C=T.bitk,L=T.write,k=L<T.read?T.read-L-1:T.end-L,w!=Bn)){t=w==hh?ZI:lw;break}o=f,r=p,a=g,t=PB;case PB:for(x=o;C<x;){if(O!==0)w=Bn;else return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);O--,R|=(E.read_byte(N++)&255)<<C,C+=8}if(S=(a+(R&Io[x]))*3,R>>>=r[S+1],C-=r[S+1],A=r[S],A===0){l=r[S+2],t=WB;break}if(A&16){u=A&15,n=r[S+2],t=FB;break}if(!(A&64)){o=A,a=S/3+r[S+2];break}if(A&32){t=ZI;break}return t=lw,E.msg="invalid literal/length code",w=Or,T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);case FB:for(x=u;C<x;){if(O!==0)w=Bn;else return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);O--,R|=(E.read_byte(N++)&255)<<C,C+=8}n+=R&Io[x],R>>=x,C-=x,o=d,r=m,a=y,t=BB;case BB:for(x=o;C<x;){if(O!==0)w=Bn;else return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);O--,R|=(E.read_byte(N++)&255)<<C,C+=8}if(S=(a+(R&Io[x]))*3,R>>=r[S+1],C-=r[S+1],A=r[S],A&16){u=A&15,h=r[S+2],t=HB;break}if(!(A&64)){o=A,a=S/3+r[S+2];break}return t=lw,E.msg="invalid distance code",w=Or,T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);case HB:for(x=u;C<x;){if(O!==0)w=Bn;else return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);O--,R|=(E.read_byte(N++)&255)<<C,C+=8}h+=R&Io[x],R>>=x,C-=x,t=$B;case $B:for(M=L-h;M<0;)M+=T.end;for(;n!==0;){if(k===0&&(L==T.end&&T.read!==0&&(L=0,k=L<T.read?T.read-L-1:T.end-L),k===0&&(T.write=L,w=T.inflate_flush(E,w),L=T.write,k=L<T.read?T.read-L-1:T.end-L,L==T.end&&T.read!==0&&(L=0,k=L<T.read?T.read-L-1:T.end-L),k===0)))return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);T.win[L++]=T.win[M++],k--,M==T.end&&(M=0),n--}t=ow;break;case WB:if(k===0&&(L==T.end&&T.read!==0&&(L=0,k=L<T.read?T.read-L-1:T.end-L),k===0&&(T.write=L,w=T.inflate_flush(E,w),L=T.write,k=L<T.read?T.read-L-1:T.end-L,L==T.end&&T.read!==0&&(L=0,k=L<T.read?T.read-L-1:T.end-L),k===0)))return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);w=Bn,T.win[L++]=l,k--,t=ow;break;case ZI:if(C>7&&(C-=8,O++,N--),T.write=L,w=T.inflate_flush(E,w),L=T.write,k=L<T.read?T.read-L-1:T.end-L,T.read!=T.write)return T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);t=UB;case UB:return w=hh,T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);case lw:return w=Or,T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w);default:return w=Ys,T.bitb=R,T.bitk=C,E.avail_in=O,E.total_in+=N-E.next_in_index,E.next_in_index=N,T.write=L,T.inflate_flush(E,w)}},e.free=function(){}}const GB=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],eg=0,QI=1,zB=2,YB=3,VB=4,qB=5,cw=6,uw=7,jB=8,$f=9;function r3e(e,t){const n=this;let r=eg,a=0,o=0,l=0,u;const h=[0],f=[0],d=new n3e;let p=0,g=new Int32Array(aQ*3);const m=0,y=new pO;n.bitk=0,n.bitb=0,n.win=new Uint8Array(t),n.end=t,n.read=0,n.write=0,n.reset=function(b,T){T&&(T[0]=m),r==cw&&d.free(b),r=eg,n.bitk=0,n.bitb=0,n.read=n.write=0},n.reset(e,null),n.inflate_flush=function(b,T){let E,w,x;return w=b.next_out_index,x=n.read,E=(x<=n.write?n.write:n.end)-x,E>b.avail_out&&(E=b.avail_out),E!==0&&T==fh&&(T=Bn),b.avail_out-=E,b.total_out+=E,b.next_out.set(n.win.subarray(x,x+E),w),w+=E,x+=E,x==n.end&&(x=0,n.write==n.end&&(n.write=0),E=n.write-x,E>b.avail_out&&(E=b.avail_out),E!==0&&T==fh&&(T=Bn),b.avail_out-=E,b.total_out+=E,b.next_out.set(n.win.subarray(x,x+E),w),w+=E,x+=E),b.next_out_index=w,n.read=x,T},n.proc=function(b,T){let E,w,x,S,A,R,C,N;for(S=b.next_in_index,A=b.avail_in,w=n.bitb,x=n.bitk,R=n.write,C=R<n.read?n.read-R-1:n.end-R;;){let O,L,k,M,$,_,F,B;switch(r){case eg:for(;x<3;){if(A!==0)T=Bn;else return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);A--,w|=(b.read_byte(S++)&255)<<x,x+=8}switch(E=w&7,p=E&1,E>>>1){case 0:w>>>=3,x-=3,E=x&7,w>>>=E,x-=E,r=QI;break;case 1:O=[],L=[],k=[[]],M=[[]],pO.inflate_trees_fixed(O,L,k,M),d.init(O[0],L[0],k[0],0,M[0],0),w>>>=3,x-=3,r=cw;break;case 2:w>>>=3,x-=3,r=YB;break;case 3:return w>>>=3,x-=3,r=$f,b.msg="invalid block type",T=Or,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T)}break;case QI:for(;x<32;){if(A!==0)T=Bn;else return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);A--,w|=(b.read_byte(S++)&255)<<x,x+=8}if((~w>>>16&65535)!=(w&65535))return r=$f,b.msg="invalid stored block lengths",T=Or,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);a=w&65535,w=x=0,r=a!==0?zB:p!==0?uw:eg;break;case zB:if(A===0||C===0&&(R==n.end&&n.read!==0&&(R=0,C=R<n.read?n.read-R-1:n.end-R),C===0&&(n.write=R,T=n.inflate_flush(b,T),R=n.write,C=R<n.read?n.read-R-1:n.end-R,R==n.end&&n.read!==0&&(R=0,C=R<n.read?n.read-R-1:n.end-R),C===0)))return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);if(T=Bn,E=a,E>A&&(E=A),E>C&&(E=C),n.win.set(b.read_buf(S,E),R),S+=E,A-=E,R+=E,C-=E,(a-=E)!==0)break;r=p!==0?uw:eg;break;case YB:for(;x<14;){if(A!==0)T=Bn;else return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);A--,w|=(b.read_byte(S++)&255)<<x,x+=8}if(o=E=w&16383,(E&31)>29||(E>>5&31)>29)return r=$f,b.msg="too many length or distance symbols",T=Or,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);if(E=258+(E&31)+(E>>5&31),!u||u.length<E)u=[];else for(N=0;N<E;N++)u[N]=0;w>>>=14,x-=14,l=0,r=VB;case VB:for(;l<4+(o>>>10);){for(;x<3;){if(A!==0)T=Bn;else return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);A--,w|=(b.read_byte(S++)&255)<<x,x+=8}u[GB[l++]]=w&7,w>>>=3,x-=3}for(;l<19;)u[GB[l++]]=0;if(h[0]=7,E=y.inflate_trees_bits(u,h,f,g,b),E!=Bn)return T=E,T==Or&&(u=null,r=$f),n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);l=0,r=qB;case qB:for(;E=o,!(l>=258+(E&31)+(E>>5&31));){let D,P;for(E=h[0];x<E;){if(A!==0)T=Bn;else return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);A--,w|=(b.read_byte(S++)&255)<<x,x+=8}if(E=g[(f[0]+(w&Io[E]))*3+1],P=g[(f[0]+(w&Io[E]))*3+2],P<16)w>>>=E,x-=E,u[l++]=P;else{for(N=P==18?7:P-14,D=P==18?11:3;x<E+N;){if(A!==0)T=Bn;else return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);A--,w|=(b.read_byte(S++)&255)<<x,x+=8}if(w>>>=E,x-=E,D+=w&Io[N],w>>>=N,x-=N,N=l,E=o,N+D>258+(E&31)+(E>>5&31)||P==16&&N<1)return u=null,r=$f,b.msg="invalid bit length repeat",T=Or,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);P=P==16?u[N-1]:0;do u[N++]=P;while(--D!==0);l=N}}if(f[0]=-1,$=[],_=[],F=[],B=[],$[0]=9,_[0]=6,E=o,E=y.inflate_trees_dynamic(257+(E&31),1+(E>>5&31),u,$,_,F,B,g,b),E!=Bn)return E==Or&&(u=null,r=$f),T=E,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);d.init($[0],_[0],g,F[0],g,B[0]),r=cw;case cw:if(n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,(T=d.proc(n,b,T))!=hh)return n.inflate_flush(b,T);if(T=Bn,d.free(b),S=b.next_in_index,A=b.avail_in,w=n.bitb,x=n.bitk,R=n.write,C=R<n.read?n.read-R-1:n.end-R,p===0){r=eg;break}r=uw;case uw:if(n.write=R,T=n.inflate_flush(b,T),R=n.write,C=R<n.read?n.read-R-1:n.end-R,n.read!=n.write)return n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);r=jB;case jB:return T=hh,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);case $f:return T=Or,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T);default:return T=Ys,n.bitb=w,n.bitk=x,b.avail_in=A,b.total_in+=S-b.next_in_index,b.next_in_index=S,n.write=R,n.inflate_flush(b,T)}}},n.free=function(b){n.reset(b,null),n.win=null,g=null},n.set_dictionary=function(b,T,E){n.win.set(b.subarray(T,T+E),0),n.read=n.write=E},n.sync_point=function(){return r==QI?1:0}}const i3e=32,a3e=8,s3e=0,XB=1,KB=2,ZB=3,QB=4,JB=5,JI=6,dy=7,eH=12,t0=13,o3e=[0,0,255,255];function l3e(){const e=this;e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0;function t(n){return!n||!n.istate?Ys:(n.total_in=n.total_out=0,n.msg=null,n.istate.mode=dy,n.istate.blocks.reset(n,null),Bn)}e.inflateEnd=function(n){return e.blocks&&e.blocks.free(n),e.blocks=null,Bn},e.inflateInit=function(n,r){return n.msg=null,e.blocks=null,r<8||r>15?(e.inflateEnd(n),Ys):(e.wbits=r,n.istate.blocks=new r3e(n,1<<r),t(n),Bn)},e.inflate=function(n,r){let a,o;if(!n||!n.istate||!n.next_in)return Ys;const l=n.istate;for(r=r==qwe?fh:Bn,a=fh;;)switch(l.mode){case s3e:if(n.avail_in===0)return a;if(a=r,n.avail_in--,n.total_in++,((l.method=n.read_byte(n.next_in_index++))&15)!=a3e){l.mode=t0,n.msg="unknown compression method",l.marker=5;break}if((l.method>>4)+8>l.wbits){l.mode=t0,n.msg="invalid win size",l.marker=5;break}l.mode=XB;case XB:if(n.avail_in===0)return a;if(a=r,n.avail_in--,n.total_in++,o=n.read_byte(n.next_in_index++)&255,((l.method<<8)+o)%31!==0){l.mode=t0,n.msg="incorrect header check",l.marker=5;break}if(!(o&i3e)){l.mode=dy;break}l.mode=KB;case KB:if(n.avail_in===0)return a;a=r,n.avail_in--,n.total_in++,l.need=(n.read_byte(n.next_in_index++)&255)<<24&4278190080,l.mode=ZB;case ZB:if(n.avail_in===0)return a;a=r,n.avail_in--,n.total_in++,l.need+=(n.read_byte(n.next_in_index++)&255)<<16&16711680,l.mode=QB;case QB:if(n.avail_in===0)return a;a=r,n.avail_in--,n.total_in++,l.need+=(n.read_byte(n.next_in_index++)&255)<<8&65280,l.mode=JB;case JB:return n.avail_in===0?a:(a=r,n.avail_in--,n.total_in++,l.need+=n.read_byte(n.next_in_index++)&255,l.mode=JI,Ywe);case JI:return l.mode=t0,n.msg="need dictionary",l.marker=0,Ys;case dy:if(a=l.blocks.proc(n,a),a==Or){l.mode=t0,l.marker=0;break}if(a==Bn&&(a=r),a!=hh)return a;a=r,l.blocks.reset(n,l.was),l.mode=eH;case eH:return n.avail_in=0,hh;case t0:return Or;default:return Ys}},e.inflateSetDictionary=function(n,r,a){let o=0,l=a;if(!n||!n.istate||n.istate.mode!=JI)return Ys;const u=n.istate;return l>=1<<u.wbits&&(l=(1<<u.wbits)-1,o=a-l),u.blocks.set_dictionary(r,o,l),u.mode=dy,Bn},e.inflateSync=function(n){let r,a,o,l,u;if(!n||!n.istate)return Ys;const h=n.istate;if(h.mode!=t0&&(h.mode=t0,h.marker=0),(r=n.avail_in)===0)return fh;for(a=n.next_in_index,o=h.marker;r!==0&&o<4;)n.read_byte(a)==o3e[o]?o++:n.read_byte(a)!==0?o=0:o=4-o,a++,r--;return n.total_in+=a-n.next_in_index,n.next_in_index=a,n.avail_in=r,h.marker=o,o!=4?Or:(l=n.total_in,u=n.total_out,t(n),n.total_in=l,n.total_out=u,h.mode=dy,Bn)},e.inflateSyncPoint=function(n){return!n||!n.istate||!n.istate.blocks?Ys:n.istate.blocks.sync_point()}}function sQ(){}sQ.prototype={inflateInit(e){const t=this;return t.istate=new l3e,e||(e=zwe),t.istate.inflateInit(t,e)},inflate(e){const t=this;return t.istate?t.istate.inflate(t,e):Ys},inflateEnd(){const e=this;if(!e.istate)return Ys;const t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync(){const e=this;return e.istate?e.istate.inflateSync(e):Ys},inflateSetDictionary(e,t){const n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):Ys},read_byte(e){return this.next_in[e]},read_buf(e,t){return this.next_in.subarray(e,e+t)}};function c3e(e){const t=this,n=new sQ,r=e&&e.chunkSize?Math.floor(e.chunkSize*2):128*1024,a=Vwe,o=new Uint8Array(r);let l=!1;n.inflateInit(),n.next_out=o,t.append=function(u,h){const f=[];let d,p,g=0,m=0,y=0;if(u.length!==0){n.next_in_index=0,n.next_in=u,n.avail_in=u.length;do{if(n.next_out_index=0,n.avail_out=r,n.avail_in===0&&!l&&(n.next_in_index=0,l=!0),d=n.inflate(a),l&&d===fh){if(n.avail_in!==0)throw new Error("inflating: bad input")}else if(d!==Bn&&d!==hh)throw new Error("inflating: "+n.msg);if((l||d===hh)&&n.avail_in===u.length)throw new Error("inflating: bad input");n.next_out_index&&(n.next_out_index===r?f.push(new Uint8Array(o)):f.push(o.subarray(0,n.next_out_index))),y+=n.next_out_index,h&&n.next_in_index>0&&n.next_in_index!=g&&(h(n.next_in_index),g=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return f.length>1?(p=new Uint8Array(y),f.forEach(function(b){p.set(b,m),m+=b.length})):p=f[0]?new Uint8Array(f[0]):new Uint8Array,p}},t.flush=function(){n.inflateEnd()}}const Ti=4294967295,ti=65535,gO=8,oQ=0,lQ=99,cQ=67324752,GL=134695760,u3e=GL,mO=33639248,uQ=101010256,vO=101075792,hQ=117853008,Xu=22,D2=20,M2=56,h3e=Xu+D2+M2,fQ=1,dQ=39169,pQ=10,gQ=1,zL=21589,f3e=28789,d3e=25461,mQ=6534,yO=1,p3e=6,bO=8,TO=2048,EO=16,wO=16384,xO=73,tH=420,g3e=20,nH=45,rH=51,P2="/",iH=new Date(2107,11,31),aH=new Date(1980,0,1),Un=void 0,z0="undefined",MT="function";class sH{constructor(t){return class extends TransformStream{constructor(n,r){const a=new t(r);super({transform(o,l){l.enqueue(a.append(o))},flush(o){const l=a.flush();l&&o.enqueue(l)}})}}}}const m3e=64;let vQ=2;try{typeof navigator!=z0&&navigator.hardwareConcurrency&&(vQ=navigator.hardwareConcurrency)}catch{}const v3e={chunkSize:512*1024,maxWorkers:vQ,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:Un,CompressionStreamNative:typeof CompressionStream!=z0&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=z0&&DecompressionStream},b0=Object.assign({},v3e);function yQ(){return b0}function bQ(e){return Math.max(e.chunkSize,m3e)}function YL(e){const{baseURL:t,chunkSize:n,maxWorkers:r,terminateWorkerTimeout:a,useCompressionStream:o,useWebWorkers:l,Deflate:u,Inflate:h,CompressionStream:f,DecompressionStream:d,workerScripts:p}=e;if(n0("baseURL",t),n0("chunkSize",n),n0("maxWorkers",r),n0("terminateWorkerTimeout",a),n0("useCompressionStream",o),n0("useWebWorkers",l),u&&(b0.CompressionStream=new sH(u)),h&&(b0.DecompressionStream=new sH(h)),n0("CompressionStream",f),n0("DecompressionStream",d),p!==Un){const{deflate:g,inflate:m}=p;if((g||m)&&(b0.workerScripts||(b0.workerScripts={})),g){if(!Array.isArray(g))throw new Error("workerScripts.deflate must be an array");b0.workerScripts.deflate=g}if(m){if(!Array.isArray(m))throw new Error("workerScripts.inflate must be an array");b0.workerScripts.inflate=m}}}function n0(e,t){t!==Un&&(b0[e]=t)}const eC={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const e={};for(const t of Object.keys(eC))for(const n of Object.keys(eC[t])){const r=eC[t][n];if(typeof r=="string")e[r]=t+"/"+n;else for(let a=0;a<r.length;a++)e[r[a]]=t+"/"+n}return e})();const TQ=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=t>>>1^3988292384:t=t>>>1;TQ[e]=t}class l4{constructor(t){this.crc=t||-1}append(t){let n=this.crc|0;for(let r=0,a=t.length|0;r<a;r++)n=n>>>8^TQ[(n^t[r])&255];this.crc=n}get(){return~this.crc}}class EQ extends TransformStream{constructor(){let t;const n=new l4;super({transform(r,a){n.append(r),a.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n.get()),t.value=r}}),t=this}}function z3(e){if(typeof TextEncoder==z0){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}else return new TextEncoder().encode(e)}const ws={concat(e,t){if(e.length===0||t.length===0)return e.concat(t);const n=e[e.length-1],r=ws.getPartial(n);return r===32?e.concat(t):ws._shiftRight(t,r,n|0,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(t===0)return 0;const n=e[t-1];return(t-1)*32+ws.getPartial(n)},clamp(e,t){if(e.length*32<t)return e;e=e.slice(0,Math.ceil(t/32));const n=e.length;return t=t&31,n>0&&t&&(e[n-1]=ws.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial(e,t,n){return e===32?t:(n?t|0:t<<32-e)+e*1099511627776},getPartial(e){return Math.round(e/1099511627776)||32},_shiftRight(e,t,n,r){for(r===void 0&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(t===0)return r.concat(e);for(let l=0;l<e.length;l++)r.push(n|e[l]>>>t),n=e[l]<<32-t;const a=e.length?e[e.length-1]:0,o=ws.getPartial(a);return r.push(ws.partial(t+o&31,t+o>32?n:r.pop(),1)),r}},c4={bytes:{fromBits(e){const n=ws.bitLength(e)/8,r=new Uint8Array(n);let a;for(let o=0;o<n;o++)o&3||(a=e[o/4]),r[o]=a>>>24,a<<=8;return r},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],(n&3)===3&&(t.push(r),r=0);return n&3&&t.push(ws.partial(8*(n&3),r)),t}}},wQ={};wQ.sha1=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;typeof e=="string"&&(e=c4.utf8String.toBits(e));const n=t._buffer=ws.concat(t._buffer,e),r=t._length,a=t._length=r+ws.bitLength(e);if(a>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(n);let l=0;for(let u=t.blockSize+r-(t.blockSize+r&t.blockSize-1);u<=a;u+=t.blockSize)t._block(o.subarray(16*l,16*(l+1))),l+=1;return n.splice(0,16*l),t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=ws.concat(t,[ws.partial(1,1)]);for(let r=t.length+2;r&15;r++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(e._length|0);t.length;)e._block(t.splice(0,16));return e.reset(),n}_f(e,t,n,r){if(e<=19)return t&n|~t&r;if(e<=39)return t^n^r;if(e<=59)return t&n|t&r|n&r;if(e<=79)return t^n^r}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,n=t._h,r=Array(80);for(let f=0;f<16;f++)r[f]=e[f];let a=n[0],o=n[1],l=n[2],u=n[3],h=n[4];for(let f=0;f<=79;f++){f>=16&&(r[f]=t._S(1,r[f-3]^r[f-8]^r[f-14]^r[f-16]));const d=t._S(5,a)+t._f(f,o,l,u)+h+r[f]+t._key[Math.floor(f/20)]|0;h=u,u=l,l=t._S(30,o),o=a,a=d}n[0]=n[0]+a|0,n[1]=n[1]+o|0,n[2]=n[2]+l|0,n[3]=n[3]+u|0,n[4]=n[4]+h|0}};const xQ={};xQ.aes=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],a=e.length;let o,l,u,h=1;if(a!==4&&a!==6&&a!==8)throw new Error("invalid aes key size");for(t._key=[l=e.slice(0),u=[]],o=a;o<4*a+28;o++){let f=l[o-1];(o%a===0||a===8&&o%a===4)&&(f=n[f>>>24]<<24^n[f>>16&255]<<16^n[f>>8&255]<<8^n[f&255],o%a===0&&(f=f<<8^f>>>24^h<<24,h=h<<1^(h>>7)*283)),l[o]=l[o-a]^f}for(let f=0;o;f++,o--){const d=l[f&3?o:o-4];o<=4||f<4?u[f]=d:u[f]=r[0][n[d>>>24]]^r[1][n[d>>16&255]]^r[2][n[d>>8&255]]^r[3][n[d&255]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],a=[],o=[];let l,u,h,f;for(let d=0;d<256;d++)o[(a[d]=d<<1^(d>>7)*283)^d]=d;for(let d=l=0;!n[d];d^=u||1,l=o[l]||1){let p=l^l<<1^l<<2^l<<3^l<<4;p=p>>8^p&255^99,n[d]=p,r[p]=d,f=a[h=a[u=a[d]]];let g=f*16843009^h*65537^u*257^d*16843008,m=a[p]*257^p*16843008;for(let y=0;y<4;y++)e[y][d]=m=m<<24^m>>>8,t[y][p]=g=g<<24^g>>>8}for(let d=0;d<5;d++)e[d]=e[d].slice(0),t[d]=t[d].slice(0)}_crypt(e,t){if(e.length!==4)throw new Error("invalid aes block size");const n=this._key[t],r=n.length/4-2,a=[0,0,0,0],o=this._tables[t],l=o[0],u=o[1],h=o[2],f=o[3],d=o[4];let p=e[0]^n[0],g=e[t?3:1]^n[1],m=e[2]^n[2],y=e[t?1:3]^n[3],b=4,T,E,w;for(let x=0;x<r;x++)T=l[p>>>24]^u[g>>16&255]^h[m>>8&255]^f[y&255]^n[b],E=l[g>>>24]^u[m>>16&255]^h[y>>8&255]^f[p&255]^n[b+1],w=l[m>>>24]^u[y>>16&255]^h[p>>8&255]^f[g&255]^n[b+2],y=l[y>>>24]^u[p>>16&255]^h[g>>8&255]^f[m&255]^n[b+3],b+=4,p=T,g=E,m=w;for(let x=0;x<4;x++)a[t?3&-x:x]=d[p>>>24]<<24^d[g>>16&255]<<16^d[m>>8&255]<<8^d[y&255]^n[b++],T=p,p=g,g=m,m=y,y=T;return a}};const y3e={getRandomValues(e){const t=new Uint32Array(e.buffer),n=r=>{let a=987654321;const o=4294967295;return function(){return a=36969*(a&65535)+(a>>16)&o,r=18e3*(r&65535)+(r>>16)&o,(((a<<16)+r&o)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r=0,a;r<e.length;r+=4){const o=n((a||Math.random())*4294967296);a=o()*987654071,t[r/4]=o()*4294967296|0}return e}},SQ={};SQ.ctrGladman=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if((e>>24&255)===255){let t=e>>16&255,n=e>>8&255,r=e&255;t===255?(t=0,n===255?(n=0,r===255?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){(e[0]=this.incWord(e[0]))===0&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const a=ws.bitLength(t);for(let o=0;o<r;o+=4){this.incCounter(n);const l=e.encrypt(n);t[o]^=l[0],t[o+1]^=l[1],t[o+2]^=l[2],t[o+3]^=l[3]}return ws.clamp(t,a)}};const Vd={importKey(e){return new Vd.hmacSha1(c4.bytes.toBits(e))},pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new Error("invalid params to pbkdf2");const a=(r>>5)+1<<2;let o,l,u,h,f;const d=new ArrayBuffer(a),p=new DataView(d);let g=0;const m=ws;for(t=c4.bytes.toBits(t),f=1;g<(a||1);f++){for(o=l=e.encrypt(m.concat(t,[f])),u=1;u<n;u++)for(l=e.encrypt(l),h=0;h<l.length;h++)o[h]^=l[h];for(u=0;g<(a||1)&&u<o.length;u++)p.setInt32(g,o[u]),g+=4}return d.slice(0,r/8)}};Vd.hmacSha1=class{constructor(e){const t=this,n=t._hash=wQ.sha1,r=[[],[]];t._baseHash=[new n,new n];const a=t._baseHash[0].blockSize/32;e.length>a&&(e=new n().update(e).finalize());for(let o=0;o<a;o++)r[0][o]=e[o]^909522486,r[1][o]=e[o]^1549556828;t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){const t=this;t._updated=!0,t._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}};const b3e=typeof crypto!=z0&&typeof crypto.getRandomValues==MT,AQ="Invalid password",IQ="Invalid signature",VL="zipjs-abort-check-password";function CQ(e){return b3e?crypto.getRandomValues(e):y3e.getRandomValues(e)}const _g=16,T3e="raw",RQ={name:"PBKDF2"},E3e={name:"HMAC"},w3e="SHA-1",x3e=Object.assign({hash:E3e},RQ),SO=Object.assign({iterations:1e3,hash:{name:w3e}},RQ),S3e=["deriveBits"],Tb=[8,12,16],py=[16,24,32],f0=10,A3e=[0,0,0,0],tA=typeof crypto!=z0,PT=tA&&crypto.subtle,kQ=tA&&typeof PT!=z0,su=c4.bytes,I3e=xQ.aes,C3e=SQ.ctrGladman,R3e=Vd.hmacSha1;let oH=tA&&kQ&&typeof PT.importKey==MT,lH=tA&&kQ&&typeof PT.deriveBits==MT;class k3e extends TransformStream{constructor({password:t,rawPassword:n,signed:r,encryptionStrength:a,checkPasswordOnly:o}){super({start(){Object.assign(this,{ready:new Promise(l=>this.resolveReady=l),password:LQ(t,n),signed:r,strength:a-1,pending:new Uint8Array})},async transform(l,u){const h=this,{password:f,strength:d,resolveReady:p,ready:g}=h;f?(await N3e(h,d,f,ul(l,0,Tb[d]+2)),l=ul(l,Tb[d]+2),o?u.error(new Error(VL)):p()):await g;const m=new Uint8Array(l.length-f0-(l.length-f0)%_g);u.enqueue(OQ(h,l,m,0,f0,!0))},async flush(l){const{signed:u,ctr:h,hmac:f,pending:d,ready:p}=this;if(f&&h){await p;const g=ul(d,0,d.length-f0),m=ul(d,d.length-f0);let y=new Uint8Array;if(g.length){const b=wb(su,g);f.update(b);const T=h.update(b);y=Eb(su,T)}if(u){const b=ul(Eb(su,f.digest()),0,f0);for(let T=0;T<f0;T++)if(b[T]!=m[T])throw new Error(IQ)}l.enqueue(y)}}})}}class O3e extends TransformStream{constructor({password:t,rawPassword:n,encryptionStrength:r}){let a;super({start(){Object.assign(this,{ready:new Promise(o=>this.resolveReady=o),password:LQ(t,n),strength:r-1,pending:new Uint8Array})},async transform(o,l){const u=this,{password:h,strength:f,resolveReady:d,ready:p}=u;let g=new Uint8Array;h?(g=await L3e(u,f,h),d()):await p;const m=new Uint8Array(g.length+o.length-o.length%_g);m.set(g,0),l.enqueue(OQ(u,o,m,g.length,0))},async flush(o){const{ctr:l,hmac:u,pending:h,ready:f}=this;if(u&&l){await f;let d=new Uint8Array;if(h.length){const p=l.update(wb(su,h));u.update(p),d=Eb(su,p)}a.signature=Eb(su,u.digest()).slice(0,f0),o.enqueue(qL(d,a.signature))}}}),a=this}}function OQ(e,t,n,r,a,o){const{ctr:l,hmac:u,pending:h}=e,f=t.length-a;h.length&&(t=qL(h,t),n=M3e(n,f-f%_g));let d;for(d=0;d<=f-_g;d+=_g){const p=wb(su,ul(t,d,d+_g));o&&u.update(p);const g=l.update(p);o||u.update(g),n.set(Eb(su,g),d+r)}return e.pending=ul(t,d),n}async function N3e(e,t,n,r){const a=await NQ(e,t,n,ul(r,0,Tb[t])),o=ul(r,Tb[t]);if(a[0]!=o[0]||a[1]!=o[1])throw new Error(AQ)}async function L3e(e,t,n){const r=CQ(new Uint8Array(Tb[t])),a=await NQ(e,t,n,r);return qL(r,a)}async function NQ(e,t,n,r){e.password=null;const a=await _3e(T3e,n,x3e,!1,S3e),o=await D3e(Object.assign({salt:r},SO),a,8*(py[t]*2+2)),l=new Uint8Array(o),u=wb(su,ul(l,0,py[t])),h=wb(su,ul(l,py[t],py[t]*2)),f=ul(l,py[t]*2);return Object.assign(e,{keys:{key:u,authentication:h,passwordVerification:f},ctr:new C3e(new I3e(u),Array.from(A3e)),hmac:new R3e(h)}),f}async function _3e(e,t,n,r,a){if(oH)try{return await PT.importKey(e,t,n,r,a)}catch{return oH=!1,Vd.importKey(t)}else return Vd.importKey(t)}async function D3e(e,t,n){if(lH)try{return await PT.deriveBits(e,t,n)}catch{return lH=!1,Vd.pbkdf2(t,e.salt,SO.iterations,n)}else return Vd.pbkdf2(t,e.salt,SO.iterations,n)}function LQ(e,t){return t===Un?z3(e):t}function qL(e,t){let n=e;return e.length+t.length&&(n=new Uint8Array(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function M3e(e,t){if(t&&t>e.length){const n=e;e=new Uint8Array(t),e.set(n,0)}return e}function ul(e,t,n){return e.subarray(t,n)}function Eb(e,t){return e.fromBits(t)}function wb(e,t){return e.toBits(t)}const n1=12;class P3e extends TransformStream{constructor({password:t,passwordVerification:n,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:t,passwordVerification:n}),_Q(this,t)},transform(a,o){const l=this;if(l.password){const u=cH(l,a.subarray(0,n1));if(l.password=null,u[n1-1]!=l.passwordVerification)throw new Error(AQ);a=a.subarray(n1)}r?o.error(new Error(VL)):o.enqueue(cH(l,a))}})}}class F3e extends TransformStream{constructor({password:t,passwordVerification:n}){super({start(){Object.assign(this,{password:t,passwordVerification:n}),_Q(this,t)},transform(r,a){const o=this;let l,u;if(o.password){o.password=null;const h=CQ(new Uint8Array(n1));h[n1-1]=o.passwordVerification,l=new Uint8Array(r.length+h.length),l.set(uH(o,h),0),u=n1}else l=new Uint8Array(r.length),u=0;l.set(uH(o,r),u),a.enqueue(l)}})}}function cH(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=DQ(e)^t[r],jL(e,n[r]);return n}function uH(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=DQ(e)^t[r],jL(e,t[r]);return n}function _Q(e,t){const n=[305419896,591751049,878082192];Object.assign(e,{keys:n,crcKey0:new l4(n[0]),crcKey2:new l4(n[2])});for(let r=0;r<t.length;r++)jL(e,t.charCodeAt(r))}function jL(e,t){let[n,r,a]=e.keys;e.crcKey0.append([t]),n=~e.crcKey0.get(),r=hH(Math.imul(hH(r+MQ(n)),134775813)+1),e.crcKey2.append([r>>>24]),a=~e.crcKey2.get(),e.keys=[n,r,a]}function DQ(e){const t=e.keys[2]|2;return MQ(Math.imul(t,t^1)>>>8)}function MQ(e){return e&255}function hH(e){return e&4294967295}const fH="deflate-raw";class B3e extends TransformStream{constructor(t,{chunkSize:n,CompressionStream:r,CompressionStreamNative:a}){super({});const{compressed:o,encrypted:l,useCompressionStream:u,zipCrypto:h,signed:f,level:d}=t,p=this;let g,m,y=PQ(super.readable);(!l||h)&&f&&(g=new EQ,y=ou(y,g)),o&&(y=BQ(y,u,{level:d,chunkSize:n},a,r)),l&&(h?y=ou(y,new F3e(t)):(m=new O3e(t),y=ou(y,m))),FQ(p,y,()=>{let b;l&&!h&&(b=m.signature),(!l||h)&&f&&(b=new DataView(g.value.buffer).getUint32(0)),p.signature=b})}}class H3e extends TransformStream{constructor(t,{chunkSize:n,DecompressionStream:r,DecompressionStreamNative:a}){super({});const{zipCrypto:o,encrypted:l,signed:u,signature:h,compressed:f,useCompressionStream:d}=t;let p,g,m=PQ(super.readable);l&&(o?m=ou(m,new P3e(t)):(g=new k3e(t),m=ou(m,g))),f&&(m=BQ(m,d,{chunkSize:n},a,r)),(!l||o)&&u&&(p=new EQ,m=ou(m,p)),FQ(this,m,()=>{if((!l||o)&&u){const y=new DataView(p.value.buffer);if(h!=y.getUint32(0,!1))throw new Error(IQ)}})}}function PQ(e){return ou(e,new TransformStream({transform(t,n){t&&t.length&&n.enqueue(t)}}))}function FQ(e,t,n){t=ou(t,new TransformStream({flush:n})),Object.defineProperty(e,"readable",{get(){return t}})}function BQ(e,t,n,r,a){try{const o=t&&r?r:a;e=ou(e,new o(fH,n))}catch{if(t)try{e=ou(e,new a(fH,n))}catch{return e}else return e}return e}function ou(e,t){return e.pipeThrough(t)}const $3e="message",W3e="start",U3e="pull",dH="data",G3e="ack",pH="close",HQ="deflate",$Q="inflate";class z3e extends TransformStream{constructor(t,n){super({});const r=this,{codecType:a}=t;let o;a.startsWith(HQ)?o=B3e:a.startsWith($Q)&&(o=H3e);let l=0,u=0;const h=new o(t,n),f=super.readable,d=new TransformStream({transform(g,m){g&&g.length&&(u+=g.length,m.enqueue(g))},flush(){Object.assign(r,{inputSize:u})}}),p=new TransformStream({transform(g,m){g&&g.length&&(l+=g.length,m.enqueue(g))},flush(){const{signature:g}=h;Object.assign(r,{signature:g,outputSize:l,inputSize:u})}});Object.defineProperty(r,"readable",{get(){return f.pipeThrough(d).pipeThrough(h).pipeThrough(p)}})}}class Y3e extends TransformStream{constructor(t){let n;super({transform:r,flush(a){n&&n.length&&a.enqueue(n)}});function r(a,o){if(n){const l=new Uint8Array(n.length+a.length);l.set(n),l.set(a,n.length),a=l,n=null}a.length>t?(o.enqueue(a.slice(0,t)),r(a.slice(t),o)):n=a}}}let WQ=typeof Worker!=z0;class tC{constructor(t,{readable:n,writable:r},{options:a,config:o,streamOptions:l,useWebWorkers:u,transferStreams:h,scripts:f},d){const{signal:p}=l;return Object.assign(t,{busy:!0,readable:n.pipeThrough(new Y3e(o.chunkSize)).pipeThrough(new V3e(n,l),{signal:p}),writable:r,options:Object.assign({},a),scripts:f,transferStreams:h,terminate(){return new Promise(g=>{const{worker:m,busy:y}=t;m?(y?t.resolveTerminated=g:(m.terminate(),g()),t.interface=null):g()})},onTaskFinished(){const{resolveTerminated:g}=t;g&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),g()),t.busy=!1,d(t)}}),(u&&WQ?q3e:UQ)(t,o)}}class V3e extends TransformStream{constructor(t,{onstart:n,onprogress:r,size:a,onend:o}){let l=0;super({async start(){n&&await nC(n,a)},async transform(u,h){l+=u.length,r&&await nC(r,l,a),h.enqueue(u)},async flush(){t.size=l,o&&await nC(o,l)}})}}async function nC(e,...t){try{await e(...t)}catch{}}function UQ(e,t){return{run:()=>j3e(e,t)}}function q3e(e,t){const{baseURL:n,chunkSize:r}=t;if(!e.interface){let a;try{a=Z3e(e.scripts[0],n,e)}catch{return WQ=!1,UQ(e,t)}Object.assign(e,{worker:a,interface:{run:()=>X3e(e,{chunkSize:r})}})}return e.interface}async function j3e({options:e,readable:t,writable:n,onTaskFinished:r},a){try{const o=new z3e(e,a);await t.pipeThrough(o).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:l,inputSize:u,outputSize:h}=o;return{signature:l,inputSize:u,outputSize:h}}finally{r()}}async function X3e(e,t){let n,r;const a=new Promise((g,m)=>{n=g,r=m});Object.assign(e,{reader:null,writer:null,resolveResult:n,rejectResult:r,result:a});const{readable:o,options:l,scripts:u}=e,{writable:h,closed:f}=K3e(e.writable),d=Y3({type:W3e,scripts:u.slice(1),options:l,config:t,readable:o,writable:h},e);d||Object.assign(e,{reader:o.getReader(),writer:h.getWriter()});const p=await a;return d||await h.getWriter().close(),await f,p}function K3e(e){let t;const n=new Promise(a=>t=a);return{writable:new WritableStream({async write(a){const o=e.getWriter();await o.ready,await o.write(a),o.releaseLock()},close(){t()},abort(a){return e.getWriter().abort(a)}}),closed:n}}let gH=!0,mH=!0;function Z3e(e,t,n){const r={type:"module"};let a,o;typeof e==MT&&(e=e());try{a=new URL(e,t)}catch{a=e}if(gH)try{o=new Worker(a)}catch{gH=!1,o=new Worker(a,r)}else o=new Worker(a,r);return o.addEventListener($3e,l=>Q3e(l,n)),o}function Y3(e,{worker:t,writer:n,onTaskFinished:r,transferStreams:a}){try{const{value:o,readable:l,writable:u}=e,h=[];if(o&&(o.byteLength<o.buffer.byteLength?e.value=o.buffer.slice(0,o.byteLength):e.value=o.buffer,h.push(e.value)),a&&mH?(l&&h.push(l),u&&h.push(u)):e.readable=e.writable=null,h.length)try{return t.postMessage(e,h),!0}catch{mH=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(o){throw n&&n.releaseLock(),r(),o}}async function Q3e({data:e},t){const{type:n,value:r,messageId:a,result:o,error:l}=e,{reader:u,writer:h,resolveResult:f,rejectResult:d,onTaskFinished:p}=t;try{if(l){const{message:m,stack:y,code:b,name:T}=l,E=new Error(m);Object.assign(E,{stack:y,code:b,name:T}),g(E)}else{if(n==U3e){const{value:m,done:y}=await u.read();Y3({type:dH,value:m,done:y,messageId:a},t)}n==dH&&(await h.ready,await h.write(new Uint8Array(r)),Y3({type:G3e,messageId:a},t)),n==pH&&g(null,o)}}catch(m){Y3({type:pH,messageId:a},t),g(m)}function g(m,y){m?d(m):f(y),h&&h.releaseLock(),p()}}let dd=[];const rC=[];let vH=0;async function GQ(e,t){const{options:n,config:r}=t,{transferStreams:a,useWebWorkers:o,useCompressionStream:l,codecType:u,compressed:h,signed:f,encrypted:d}=n,{workerScripts:p,maxWorkers:g}=r;t.transferStreams=a||a===Un;const m=!h&&!f&&!d&&!t.transferStreams;return t.useWebWorkers=!m&&(o||o===Un&&r.useWebWorkers),t.scripts=t.useWebWorkers&&p?p[u]:[],n.useCompressionStream=l||l===Un&&r.useCompressionStream,(await y()).run();async function y(){const T=dd.find(E=>!E.busy);if(T)return yH(T),new tC(T,e,t,b);if(dd.length<g){const E={indexWorker:vH};return vH++,dd.push(E),new tC(E,e,t,b)}else return new Promise(E=>rC.push({resolve:E,stream:e,workerOptions:t}))}function b(T){if(rC.length){const[{resolve:E,stream:w,workerOptions:x}]=rC.splice(0,1);E(new tC(T,w,x,b))}else T.worker?(yH(T),J3e(T,t)):dd=dd.filter(E=>E!=T)}}function J3e(e,t){const{config:n}=t,{terminateWorkerTimeout:r}=n;Number.isFinite(r)&&r>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{dd=dd.filter(a=>a!=e);try{await e.terminate()}catch{}},r))}function yH(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}function exe(e,t={}){const n=`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={bytes:{p(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)3&s||(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},m(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3&~n||(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t.A=e.A):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e.A=0,e}update(e){const t=this;"string"==typeof e&&(e=I._.m(e));const n=t.C=_.concat(t.C,e),r=t.A,i=t.A=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}P(){const e=this;let t=e.C;const n=e.S;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e.A/4294967296)),t.push(0|e.A);t.length;)e.I(t.splice(0,16));return e.reset(),n}D(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}V(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.V(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.V(5,o)+n.D(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.V(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.R(I.bytes.m(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.bytes.m(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=P,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).P());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.P(),n=new e.M(e.U[1]).update(t).P();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.bytes,X=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.R;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),signed:r,X:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:o,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.B(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.B(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,$:u,passwordVerification:w},Y:new Y(new X(l),e.from(F)),Z:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.p(t)}function ae(e,t){return e.m(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new x(r[0]),te:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=-2;function Te(t){return We(t.map((([t,n])=>new e(t).fill(n,0,t))))}function We(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?We(n):n)),[])}const je=[0,1,2,3].concat(...Te([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function He(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Le(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}He.ge=[0,1,2,3,4,5,6,7].concat(...Te([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),He.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],He.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],He.Se=e=>256>e?je[e]:je[256+(e>>>7)],He.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],He.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],He.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],He.Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Fe=Te([[144,8],[112,9],[24,7],[8,8]]);Le._e=We([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Fe[t]])));const qe=Te([[30,5]]);function Ge(e,t,n,r,s){const i=this;i.Ie=e,i.Pe=t,i.De=n,i.Ve=r,i.Re=s}Le.Be=We([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,qe[t]]))),Le.Ee=new Le(Le._e,He.ze,257,286,15),Le.Me=new Le(Le.Be,He.Ce,0,30,15),Le.Ue=new Le(null,He.xe,0,19,7);const Je=[new Ge(0,0,0,0,0),new Ge(4,4,8,4,1),new Ge(4,5,16,8,1),new Ge(4,6,32,32,1),new Ge(4,4,16,16,2),new Ge(8,16,32,32,2),new Ge(8,16,128,128,2),new Ge(8,32,128,256,2),new Ge(32,128,258,1024,2),new Ge(32,258,258,4096,2)],Qe=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Xe=113,Ye=666,Ze=262;function $e(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function et(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new He,N=new He,O=new He;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(He.ge[n]+256+1)]++,M[2*He.Se(t)]++),!(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+He.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=He.ge[s],Y(i+256+1,t),o=He.ze[i],0!==o&&(s-=He.ke[i],X(s,o)),r--,i=He.Se(r),Y(i,n),o=He.Ce[i],0!==o&&(r-=He.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*He.Ae[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Le._e,Le.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*He.Ae[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-Ze){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Ze>A&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-Ze?C-(f-Ze):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&$e(t,r[i+1],r[i],e.le)&&i++,!$e(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Oe:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),D=S,V=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=Xe,c=0,K.re=E,K.ie=Le.Ee,N.re=M,N.ie=Le.Me,O.re=U,O.ie=Le.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=Xe&&n!=Ye?Oe:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==Xe?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Oe:(Je[D].Re!=Je[t].Re&&0!==e.qe&&(r=e.Ye(1)),D!=t&&(D=t,P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve),V=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Oe;if(3>i)return 0;for(i>f-Ze&&(i=f-Ze,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Oe;if(!r.$e||!r.et&&0!==r.We||n==Ye&&4!=i)return r.Le=Qe[4],Oe;if(0===r.tt)return r.Le=Qe[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Xe,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=Qe[7],-5;if(n==Ye&&0!==t.We)return r.Le=Qe[7],-5;if(0!==t.We||0!==A||0!=i&&n!=Ye){switch(R=-1,Je[D].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Ze&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Ze||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-Ze>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.tt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Ye),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Le._e),$(),9>1+H+10-F&&(X(2,3),Y(256,Le._e),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function tt(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function nt(e){const t=new tt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}tt.prototype={He(e,t){const n=this;return n.Fe=new et,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Oe},Qe(){const e=this;if(!e.Fe)return Oe;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Oe},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Oe},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const rt=-2,st=-3,it=-5,ot=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ct=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ft=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],ut=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],wt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ht(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return st;if(0>(I-=n[g]))return st;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>1440)return st;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;g&k;k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?it:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==st?f.Le="oversubscribed dynamic bit lengths tree":a!=it&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=st),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,at,lt,a,i,u,e,t),0!=h||0===i[0]?(h==st?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=st),h):(c(288),h=o(s,n,r,0,ut,wt,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==st?w.Le="oversubscribed distance tree":h==it?(w.Le="incomplete distance tree",h=st):-4!=h&&(w.Le="empty distance tree with lengths",h=st),h):0)}}function dt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ot[e],g=ot[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15,k=a[z+2]+(w&ot[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&ot[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(64&u)return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st;f+=a[z+2],f+=w&ot[u],z=3*(l+f),u=a[z]}break}if(64&u)return 32&u?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st);if(f+=a[z+2],f+=w&ot[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(16&k){a=15&k,i=n[g+2],t=2;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}if(32&k){t=7;break}return t=9,y.Le="invalid literal/length code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 2:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}i+=x&ot[b],x>>=b,A-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>=n[g+1],A-=n[g+1],k=n[g],16&k){a=15&k,l=n[g+2],t=4;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 4:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}l+=x&ot[b],x>>=b,A-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 9:return m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);default:return m=rt,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ht.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ct,r[0]=ft,0);const pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function yt(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new dt;let h=0,d=new f(4320);const p=new ht;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ht.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[pt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[pt[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==st&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ot[i]))+1],w=d[3*(u[0]+(f&ot[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ot[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),0!=i)return i==st&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=rt,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const mt=13,bt=[0,0,255,255];function gt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):rt}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),rt):(e.zt=r,n.gt.kt=new yt(n,1<<r),t(n),0)),e.At=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return rt;const s=e.gt;for(t=4==t?it:0,n=it;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=mt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=mt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=mt,e.Le="incorrect header check",s.marker=5;break}if(!(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=mt,e.Le="need dictionary",s.marker=0,rt;case 7:if(n=s.kt.ut(e,n),n==st){s.mode=mt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case mt:return st;default:return rt}},e._t=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return rt;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return rt;const c=e.gt;if(c.mode!=mt&&(c.mode=mt,c.marker=0),0===(n=e.We))return it;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==bt[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?st:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Pt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():rt}function kt(){}function vt(e){const t=new kt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t.At(0),c&&a===it){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}kt.prototype={xt(e){const t=this;return t.gt=new gt,e||(e=15),t.gt.xt(t,e)},At(e){const t=this;return t.gt?t.gt.At(t,e):rt},Ct(){const e=this;if(!e.gt)return rt;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):rt},_t(e,t){const n=this;return n.gt?n.gt._t(n,e,t):rt},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=nt,self.Inflate=vt};
`,r=()=>t.useDataURI?"data:text/javascript,"+encodeURIComponent(n):URL.createObjectURL(new Blob([n],{type:"text/javascript"}));e({workerScripts:{inflate:[r],deflate:[r]}})}const txe="Writer iterator completed too soon",nxe="Content-Type",rxe=64*1024,XL="writable";class nA{constructor(){this.size=0}init(){this.initialized=!0}}class KL extends nA{get readable(){const t=this,{chunkSize:n=rxe}=t,r=new ReadableStream({start(){this.chunkOffset=0},async pull(a){const{offset:o=0,size:l,diskNumberStart:u}=r,{chunkOffset:h}=this;a.enqueue(await za(t,o+h,Math.min(n,l-h),u)),h+n>l?a.close():this.chunkOffset+=n}});return r}}class ixe extends nA{constructor(){super();const t=this,n=new WritableStream({write(r){return t.writeUint8Array(r)}});Object.defineProperty(t,XL,{get(){return n}})}writeUint8Array(){}}class zQ extends KL{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,n){const r=this,a=t+n;let l=await(t||a<r.size?r.blob.slice(t,a):r.blob).arrayBuffer();return l.byteLength>n&&(l=l.slice(t,a)),new Uint8Array(l)}}class axe extends nA{constructor(t){super();const n=this,r=new TransformStream,a=[];t&&a.push([nxe,t]),Object.defineProperty(n,XL,{get(){return r.writable}}),n.blob=new Response(r.readable,{headers:a}).blob()}getData(){return this.blob}}class hw extends KL{constructor(t){super(),Object.assign(this,{array:t,size:t.length})}readUint8Array(t,n){return this.array.slice(t,t+n)}}class sxe extends ixe{init(t=0){Object.assign(this,{offset:0,array:new Uint8Array(t)}),super.init()}writeUint8Array(t){const n=this;if(n.offset+t.length>n.array.length){const r=n.array;n.array=new Uint8Array(r.length+t.length),n.array.set(r)}n.array.set(t,n.offset),n.offset+=t.length}getData(){return this.array}}class oxe extends KL{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:n}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(n.map(async(r,a)=>{await r.init(),a!=n.length-1&&(t.lastDiskOffset+=r.size),t.size+=r.size})),super.init()}async readUint8Array(t,n,r=0){const a=this,{readers:o}=this;let l,u=r;u==-1&&(u=o.length-1);let h=t;for(;h>=o[u].size;)h-=o[u].size,u++;const f=o[u],d=f.size;if(h+n<=d)l=await za(f,h,n);else{const p=d-h;l=new Uint8Array(n),l.set(await za(f,h,p)),l.set(await a.readUint8Array(t+p,n-p,r),p)}return a.lastDiskNumber=Math.max(u,a.lastDiskNumber),l}}class bH extends nA{constructor(t,n=4294967295){super();const r=this;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});let a,o,l;const u=new WritableStream({async write(d){const{availableSize:p}=r;if(l)d.length>=p?(await h(d.slice(0,p)),await f(),r.diskOffset+=a.size,r.diskNumber++,l=null,await this.write(d.slice(p))):await h(d);else{const{value:g,done:m}=await t.next();if(m&&!g)throw new Error(txe);a=g,a.size=0,a.maxSize&&(r.maxSize=a.maxSize),r.availableSize=r.maxSize,await Y0(a),o=g.writable,l=o.getWriter(),await this.write(d)}},async close(){await l.ready,await f()}});Object.defineProperty(r,XL,{get(){return u}});async function h(d){const p=d.length;p&&(await l.ready,await l.write(d),a.size+=p,r.size+=p,r.availableSize-=p)}async function f(){o.size=a.size,await l.close()}}}async function Y0(e,t){if(e.init&&!e.initialized)await e.init(t);else return Promise.resolve()}function YQ(e){return Array.isArray(e)&&(e=new oxe(e)),e instanceof ReadableStream&&(e={readable:e}),e}function VQ(e){e.writable===Un&&typeof e.next==MT&&(e=new bH(e)),e instanceof WritableStream&&(e={writable:e});const{writable:t}=e;return t.size===Un&&(t.size=0),e instanceof bH||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}function za(e,t,n,r){return e.readUint8Array(t,n,r)}const qQ="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),lxe=qQ.length==256;function cxe(e){if(lxe){let t="";for(let n=0;n<e.length;n++)t+=qQ[e[n]];return t}else return new TextDecoder().decode(e)}function V3(e,t){return t&&t.trim().toLowerCase()=="cp437"?cxe(e):new TextDecoder(t).decode(e)}const jQ="filename",XQ="rawFilename",KQ="comment",ZQ="rawComment",QQ="uncompressedSize",JQ="compressedSize",eJ="offset",AO="diskNumberStart",u4="lastModDate",IO="rawLastModDate",ZL="lastAccessDate",uxe="rawLastAccessDate",QL="creationDate",hxe="rawCreationDate",tJ="internalFileAttribute",nJ="internalFileAttributes",rJ="externalFileAttribute",iJ="externalFileAttributes",aJ="msDosCompatible",JL="zip64",sJ="encrypted",oJ="version",lJ="versionMadeBy",cJ="zipCrypto",uJ="directory",hJ="executable",fxe=[jQ,XQ,JQ,QQ,u4,IO,KQ,ZQ,ZL,QL,eJ,AO,AO,tJ,nJ,rJ,iJ,aJ,JL,sJ,oJ,lJ,cJ,uJ,hJ,"bitFlag","signature","filenameUTF8","commentUTF8","compressionMethod","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class h4{constructor(t){fxe.forEach(n=>this[n]=t[n])}}const iC="File format is not recognized",dxe="End of central directory not found",pxe="End of Zip64 central directory locator not found",gxe="Central directory header not found",mxe="Local file header not found",vxe="Zip64 extra field not found",yxe="File contains encrypted entry",bxe="Encryption method not supported",TH="Compression method not supported",EH="Split zip file",wH="utf-8",xH="cp437",Txe=[[QQ,Ti],[JQ,Ti],[eJ,Ti],[AO,ti]],Exe={[ti]:{getValue:pi,bytes:4},[Ti]:{getValue:q3,bytes:8}};class wxe{constructor(t,n={}){Object.assign(this,{reader:YQ(t),options:n,config:yQ()})}async*getEntriesGenerator(t={}){const n=this;let{reader:r}=n;const{config:a}=n;if(await Y0(r),(r.size===Un||!r.readUint8Array)&&(r=new zQ(await new Response(r.readable).blob()),await Y0(r)),r.size<Xu)throw new Error(iC);r.chunkSize=bQ(a);const o=await Rxe(r,uQ,r.size,Xu,ti*16);if(!o){const L=await za(r,0,4),k=ia(L);throw pi(k)==GL?new Error(EH):new Error(dxe)}const l=ia(o);let u=pi(l,12),h=pi(l,16);const f=o.offset,d=ra(l,20),p=f+Xu+d;let g=ra(l,4);const m=r.lastDiskNumber||0;let y=ra(l,6),b=ra(l,8),T=0,E=0;if(h==Ti||u==Ti||b==ti||y==ti){const L=await za(r,o.offset-D2,D2),k=ia(L);if(pi(k,0)==hQ){h=q3(k,8);let M=await za(r,h,M2,-1),$=ia(M);const _=o.offset-D2-M2;if(pi($,0)!=vO&&h!=_){const F=h;h=_,T=h-F,M=await za(r,h,M2,-1),$=ia(M)}if(pi($,0)!=vO)throw new Error(pxe);g==ti&&(g=pi($,16)),y==ti&&(y=pi($,20)),b==ti&&(b=q3($,32)),u==Ti&&(u=q3($,40)),h-=u}}if(h>=r.size&&(T=r.size-h-u-Xu,h=r.size-u-Xu),m!=g)throw new Error(EH);if(h<0)throw new Error(iC);let w=0,x=await za(r,h,u,y),S=ia(x);if(u){const L=o.offset-u;if(pi(S,w)!=mO&&h!=L){const k=h;h=L,T+=h-k,x=await za(r,h,u,y),S=ia(x)}}const A=o.offset-h-(r.lastDiskOffset||0);if(u!=A&&A>=0&&(u=A,x=await za(r,h,u,y),S=ia(x)),h<0||h>=r.size)throw new Error(iC);const R=vs(n,t,"filenameEncoding"),C=vs(n,t,"commentEncoding");for(let L=0;L<b;L++){const k=new xxe(r,a,n.options);if(pi(S,w)!=mO)throw new Error(gxe);fJ(k,S,w+6);const M=!!k.bitFlag.languageEncodingFlag,$=w+46,_=$+k.filenameLength,F=_+k.extraFieldLength,B=ra(S,w+4),D=B>>8==0,P=B>>8==3,H=x.subarray($,_),W=ra(S,w+32),U=F+W,V=x.subarray(F,U),G=M,ee=M,ce=pi(S,w+38),Q=D&&(r1(S,w+38)&EO)==EO||P&&(ce>>16&wO)==wO||H.length&&H[H.length-1]==P2.charCodeAt(0),re=P&&(ce>>16&xO)==xO,le=pi(S,w+42)+T;Object.assign(k,{versionMadeBy:B,msDosCompatible:D,compressedSize:0,uncompressedSize:0,commentLength:W,directory:Q,offset:le,diskNumberStart:ra(S,w+34),internalFileAttributes:ra(S,w+36),externalFileAttributes:ce,rawFilename:H,filenameUTF8:G,commentUTF8:ee,rawExtraField:x.subarray(_,F),executable:re}),k.internalFileAttribute=k.internalFileAttributes,k.externalFileAttribute=k.externalFileAttributes;const Y=vs(n,t,"decodeText")||V3,K=G?wH:R||xH,Z=ee?wH:C||xH;let z=Y(H,K);z===Un&&(z=V3(H,K));let X=Y(V,Z);X===Un&&(X=V3(V,Z)),Object.assign(k,{rawComment:V,filename:z,comment:X,directory:Q||z.endsWith(P2)}),E=Math.max(le,E),dJ(k,k,S,w+6),k.zipCrypto=k.encrypted&&!k.extraFieldAES;const te=new h4(k);te.getData=(Ae,he)=>k.getData(Ae,te,he),w=U;const{onprogress:ne}=t;if(ne)try{await ne(L+1,b,new h4(k))}catch{}yield te}const N=vs(n,t,"extractPrependedData"),O=vs(n,t,"extractAppendedData");return N&&(n.prependedData=E>0?await za(r,0,E):new Uint8Array),n.comment=d?await za(r,f+Xu,d):new Uint8Array,O&&(n.appendedData=p<r.size?await za(r,p,r.size-p):new Uint8Array),!0}async getEntries(t={}){const n=[];for await(const r of this.getEntriesGenerator(t))n.push(r);return n}async close(){}}class xxe{constructor(t,n,r){Object.assign(this,{reader:t,config:n,options:r})}async getData(t,n,r={}){const a=this,{reader:o,offset:l,diskNumberStart:u,extraFieldAES:h,compressionMethod:f,config:d,bitFlag:p,signature:g,rawLastModDate:m,uncompressedSize:y,compressedSize:b}=a,T=n.localDirectory={},E=await za(o,l,30,u),w=ia(E);let x=vs(a,r,"password"),S=vs(a,r,"rawPassword");const A=vs(a,r,"passThrough");if(x=x&&x.length&&x,S=S&&S.length&&S,h&&h.originalCompressionMethod!=lQ)throw new Error(TH);if(f!=oQ&&f!=gO&&!A)throw new Error(TH);if(pi(w,0)!=cQ)throw new Error(mxe);fJ(T,w,4),T.rawExtraField=T.extraFieldLength?await za(o,l+30+T.filenameLength,T.extraFieldLength,u):new Uint8Array,dJ(a,T,w,4,!0),Object.assign(n,{lastAccessDate:T.lastAccessDate,creationDate:T.creationDate});const R=a.encrypted&&T.encrypted&&!A,C=R&&!h;if(A||(n.zipCrypto=C),R){if(!C&&h.strength===Un)throw new Error(bxe);if(!x&&!S)throw new Error(yxe)}const N=l+30+T.filenameLength+T.extraFieldLength,O=b,L=o.readable;Object.assign(L,{diskNumberStart:u,offset:N,size:O});const k=vs(a,r,"signal"),M=vs(a,r,"checkPasswordOnly");M&&(t=new WritableStream),t=VQ(t),await Y0(t,A?b:y);const{writable:$}=t,{onstart:_,onprogress:F,onend:B}=r,D={options:{codecType:$Q,password:x,rawPassword:S,zipCrypto:C,encryptionStrength:h&&h.strength,signed:vs(a,r,"checkSignature")&&!A,passwordVerification:C&&(p.dataDescriptor?m>>>8&255:g>>>24&255),signature:g,compressed:f!=0&&!A,encrypted:a.encrypted&&!A,useWebWorkers:vs(a,r,"useWebWorkers"),useCompressionStream:vs(a,r,"useCompressionStream"),transferStreams:vs(a,r,"transferStreams"),checkPasswordOnly:M},config:d,streamOptions:{signal:k,size:O,onstart:_,onprogress:F,onend:B}};let P=0;try{({outputSize:P}=await GQ({readable:L,writable:$},D))}catch(H){if(!M||H.message!=VL)throw H}finally{const H=vs(a,r,"preventClose");$.size+=P,!H&&!$.locked&&await $.getWriter().close()}return M?Un:t.getData?t.getData():$}}function fJ(e,t,n){const r=e.rawBitFlag=ra(t,n+2),a=(r&yO)==yO,o=pi(t,n+6);Object.assign(e,{encrypted:a,version:ra(t,n),bitFlag:{level:(r&p3e)>>1,dataDescriptor:(r&bO)==bO,languageEncodingFlag:(r&TO)==TO},rawLastModDate:o,lastModDate:kxe(o),filenameLength:ra(t,n+22),extraFieldLength:ra(t,n+24)})}function dJ(e,t,n,r,a){const{rawExtraField:o}=t,l=t.extraField=new Map,u=ia(new Uint8Array(o));let h=0;try{for(;h<o.length;){const E=ra(u,h),w=ra(u,h+2);l.set(E,{type:E,data:o.slice(h+4,h+4+w)}),h+=4+w}}catch{}const f=ra(n,r+4);Object.assign(t,{signature:pi(n,r+10),uncompressedSize:pi(n,r+18),compressedSize:pi(n,r+14)});const d=l.get(fQ);d&&(Sxe(d,t),t.extraFieldZip64=d);const p=l.get(f3e);p&&(SH(p,jQ,XQ,t,e),t.extraFieldUnicodePath=p);const g=l.get(d3e);g&&(SH(g,KQ,ZQ,t,e),t.extraFieldUnicodeComment=g);const m=l.get(dQ);m?(Axe(m,t,f),t.extraFieldAES=m):t.compressionMethod=f;const y=l.get(pQ);y&&(Ixe(y,t),t.extraFieldNTFS=y);const b=l.get(zL);b&&(Cxe(b,t,a),t.extraFieldExtendedTimestamp=b);const T=l.get(mQ);T&&(t.extraFieldUSDZ=T)}function Sxe(e,t){t.zip64=!0;const n=ia(e.data),r=Txe.filter(([a,o])=>t[a]==o);for(let a=0,o=0;a<r.length;a++){const[l,u]=r[a];if(t[l]==u){const h=Exe[u];t[l]=e[l]=h.getValue(n,o),o+=h.bytes}else if(e[l])throw new Error(vxe)}}function SH(e,t,n,r,a){const o=ia(e.data),l=new l4;l.append(a[n]);const u=ia(new Uint8Array(4));u.setUint32(0,l.get(),!0);const h=pi(o,1);Object.assign(e,{version:r1(o,0),[t]:V3(e.data.subarray(5)),valid:!a.bitFlag.languageEncodingFlag&&h==pi(u,0)}),e.valid&&(r[t]=e[t],r[t+"UTF8"]=!0)}function Axe(e,t,n){const r=ia(e.data),a=r1(r,4);Object.assign(e,{vendorVersion:r1(r,0),vendorId:r1(r,2),strength:a,originalCompressionMethod:n,compressionMethod:ra(r,5)}),t.compressionMethod=e.compressionMethod}function Ixe(e,t){const n=ia(e.data);let r=4,a;try{for(;r<e.data.length&&!a;){const o=ra(n,r),l=ra(n,r+2);o==gQ&&(a=e.data.slice(r+4,r+4+l)),r+=4+l}}catch{}try{if(a&&a.length==24){const o=ia(a),l=o.getBigUint64(0,!0),u=o.getBigUint64(8,!0),h=o.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:l,rawLastAccessDate:u,rawCreationDate:h});const f=aC(l),d=aC(u),p=aC(h),g={lastModDate:f,lastAccessDate:d,creationDate:p};Object.assign(e,g),Object.assign(t,g)}}catch{}}function Cxe(e,t,n){const r=ia(e.data),a=r1(r,0),o=[],l=[];n?((a&1)==1&&(o.push(u4),l.push(IO)),(a&2)==2&&(o.push(ZL),l.push(uxe)),(a&4)==4&&(o.push(QL),l.push(hxe))):e.data.length>=5&&(o.push(u4),l.push(IO));let u=1;o.forEach((h,f)=>{if(e.data.length>=u+4){const d=pi(r,u);t[h]=e[h]=new Date(d*1e3);const p=l[f];e[p]=d}u+=4})}async function Rxe(e,t,n,r,a){const o=new Uint8Array(4),l=ia(o);Oxe(l,0,t);const u=r+a;return await h(r)||await h(Math.min(u,n));async function h(f){const d=n-f,p=await za(e,d,f);for(let g=p.length-r;g>=0;g--)if(p[g]==o[0]&&p[g+1]==o[1]&&p[g+2]==o[2]&&p[g+3]==o[3])return{offset:d+g,buffer:p.slice(g,g+r).buffer}}}function vs(e,t,n){return t[n]===Un?e.options[n]:t[n]}function kxe(e){const t=(e&4294901760)>>16,n=e&65535;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(n&63488)>>11,(n&2016)>>5,(n&31)*2,0)}catch{}}function aC(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function r1(e,t){return e.getUint8(t)}function ra(e,t){return e.getUint16(t,!0)}function pi(e,t){return e.getUint32(t,!0)}function q3(e,t){return Number(e.getBigUint64(t,!0))}function Oxe(e,t,n){e.setUint32(t,n,!0)}function ia(e){return new DataView(e.buffer)}const Nxe="File already exists",Lxe="Zip file comment exceeds 64KB",_xe="File entry comment exceeds 64KB",Dxe="File entry name exceeds 64KB",AH="Version exceeds 65535",Mxe="The strength must equal 1, 2, or 3",Pxe="Extra field type exceeds 65535",Fxe="Extra field data exceeds 64KB",e_="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",Bxe="Undefined uncompressed size",IH=new Uint8Array([7,0,2,0,65,69,3,0,0]);let sC=0;const CH=[];class Hxe{constructor(t,n={}){t=VQ(t);const r=t.availableSize!==Un&&t.availableSize>0&&t.availableSize!==1/0&&t.maxSize!==Un&&t.maxSize>0&&t.maxSize!==1/0;Object.assign(this,{writer:t,addSplitZipSignature:r,options:n,config:yQ(),files:new Map,filenames:new Set,offset:n.offset===Un?t.writable.size:n.offset,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(t="",n,r={}){const a=this,{pendingAddFileCalls:o,config:l}=a;sC<l.maxWorkers?sC++:await new Promise(h=>CH.push(h));let u;try{if(t=t.trim(),a.filenames.has(t))throw new Error(Nxe);return a.filenames.add(t),u=$xe(a,t,n,r),o.add(u),await u}catch(h){throw a.filenames.delete(t),h}finally{o.delete(u);const h=CH.shift();h?h():sC--}}async close(t=new Uint8Array,n={}){const r=this,{pendingAddFileCalls:a,writer:o}=this,{writable:l}=o;for(;a.size;)await Promise.allSettled(Array.from(a));return await Xxe(this,t,n),Rn(r,n,"preventClose")||await l.getWriter().close(),o.getData?o.getData():l}}async function $xe(e,t,n,r){t=t.trim();const a=Rn(e,r,aJ),o=Rn(e,r,lJ,a?20:768),l=Rn(e,r,hJ);if(o>ti)throw new Error(AH);let u=Rn(e,r,iJ,0);u===0&&(u=Rn(e,r,rJ,0)),!r.directory&&t.endsWith(P2)&&(r.directory=!0),Rn(e,r,uJ)?(t.endsWith(P2)||(t+=P2),u===0&&(a?u=EO:u=wO<<16)):!a&&u===0&&(l?u=(xO|tH)<<16:u=tH<<16);const f=Rn(e,r,"encodeText",z3);let d=f(t);if(d===Un&&(d=z3(t)),On(d)>ti)throw new Error(Dxe);const p=r.comment||"";let g=f(p);if(g===Un&&(g=z3(p)),On(g)>ti)throw new Error(_xe);const m=Rn(e,r,oJ,g3e);if(m>ti)throw new Error(AH);const y=Rn(e,r,u4,new Date),b=Rn(e,r,ZL),T=Rn(e,r,QL);let E=Rn(e,r,nJ,0);E===0&&(E=Rn(e,r,tJ,0));const w=Rn(e,r,"passThrough");let x,S;w||(x=Rn(e,r,"password"),S=Rn(e,r,"rawPassword"));const A=Rn(e,r,"encryptionStrength",3),R=Rn(e,r,cJ),C=Rn(e,r,"extendedTimestamp",!0),N=Rn(e,r,"keepOrder",!0),O=Rn(e,r,"level"),L=Rn(e,r,"useWebWorkers"),k=Rn(e,r,"bufferedWrite"),M=Rn(e,r,"dataDescriptorSignature",!1),$=Rn(e,r,"signal"),_=Rn(e,r,"useUnicodeFileNames",!0),F=Rn(e,r,"useCompressionStream"),B=Rn(e,r,"compressionMethod");let D=Rn(e,r,"dataDescriptor",!0),P=Rn(e,r,JL);if(!R&&(x!==Un||S!==Un)&&!(A>=1&&A<=3))throw new Error(Mxe);let H=new Uint8Array;const{extraField:W}=r;if(W){let de=0,be=0;W.forEach(fe=>de+=4+On(fe)),H=new Uint8Array(de),W.forEach((fe,Ie)=>{if(Ie>ti)throw new Error(Pxe);if(On(fe)>ti)throw new Error(Fxe);Ii(H,new Uint16Array([Ie]),be),Ii(H,new Uint16Array([On(fe)]),be+2),Ii(H,fe,be+4),be+=4+On(fe)})}let U=0,V=0,G=0;if(w&&({uncompressedSize:G}=r,G===Un))throw new Error(Bxe);const ee=P===!0;n&&(n=YQ(n),await Y0(n),w?U=RH(G):n.size===Un?(D=!0,(P||P===Un)&&(P=!0,G=U=Ti+1)):(G=n.size,U=RH(G)));const{diskOffset:ce,diskNumber:Q,maxSize:re}=e.writer,le=ee||G>Ti,Y=ee||U>Ti,K=ee||e.offset+e.pendingEntriesSize-ce>Ti,z=Rn(e,r,"supportZip64SplitFile",!0)&&ee||Q+Math.ceil(e.pendingEntriesSize/re)>ti;if(K||le||Y||z){if(P===!1||!N)throw new Error(e_);P=!0}P=P||!1;const X=Rn(e,r,sJ),{signature:te}=r;r=Object.assign({},r,{rawFilename:d,rawComment:g,version:m,versionMadeBy:o,lastModDate:y,lastAccessDate:b,creationDate:T,rawExtraField:H,zip64:P,zip64UncompressedSize:le,zip64CompressedSize:Y,zip64Offset:K,zip64DiskNumberStart:z,password:x,rawPassword:S,level:!F&&e.config.CompressionStream===Un&&e.config.CompressionStreamNative===Un?0:O,useWebWorkers:L,encryptionStrength:A,extendedTimestamp:C,zipCrypto:R,bufferedWrite:k,keepOrder:N,useUnicodeFileNames:_,dataDescriptor:D,dataDescriptorSignature:M,signal:$,msDosCompatible:a,internalFileAttribute:E,internalFileAttributes:E,externalFileAttribute:u,externalFileAttributes:u,useCompressionStream:F,passThrough:w,encrypted:!!(x&&On(x)||S&&On(S))||w&&X,signature:te,compressionMethod:B});const ne=Gxe(r),Ae=Yxe(r),he=On(ne.localHeaderArray,Ae.dataDescriptorArray);V=he+U,e.options.usdz&&(V+=V+64),e.pendingEntriesSize+=V;let oe;try{oe=await Wxe(e,t,n,{headerInfo:ne,dataDescriptorInfo:Ae,metadataSize:he},r)}finally{e.pendingEntriesSize-=V}return Object.assign(oe,{name:t,comment:p,extraField:W}),new h4(oe)}async function Wxe(e,t,n,r,a){const{files:o,writer:l}=e,{keepOrder:u,dataDescriptor:h,signal:f}=a,{headerInfo:d}=r,{usdz:p}=e.options,g=Array.from(o.values()).pop();let m={},y,b,T,E,w,x,S;o.set(t,m);try{let N;u&&(N=g&&g.lock,A()),(a.bufferedWrite||e.writerLocked||e.bufferedWrites&&u||!h)&&!p?(x=new TransformStream,S=new Response(x.readable).blob(),x.writable.size=0,y=!0,e.bufferedWrites++,await Y0(l)):(x=l,await R()),await Y0(x);const{writable:O}=l;let{diskOffset:L}=l;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const M=new Uint8Array(4),$=Sa(M);kn($,0,GL),await jc(O,M),e.offset+=4}p&&zxe(r,e.offset-L),y||(await N,await C(O));const{diskNumber:k}=l;if(w=!0,m.diskNumberStart=k,m=await Uxe(n,x,m,r,e.config,a),w=!1,o.set(t,m),m.filename=t,y){await x.writable.getWriter().close();let M=await S;await N,await R(),E=!0,h||(M=await qxe(m,M,O,a)),await C(O),m.diskNumberStart=l.diskNumber,L=l.diskOffset,await M.stream().pipeTo(O,{preventClose:!0,preventAbort:!0,signal:f}),O.size+=M.size,E=!1}if(m.offset=e.offset-L,m.zip64)jxe(m,a);else if(m.offset>Ti)throw new Error(e_);return e.offset+=m.size,m}catch(N){if(y&&E||!y&&w){if(e.hasCorruptedEntries=!0,N)try{N.corruptedEntry=!0}catch{}y?e.offset+=x.writable.size:e.offset=x.writable.size}throw o.delete(t),N}finally{y&&e.bufferedWrites--,T&&T(),b&&b()}function A(){m.lock=new Promise(N=>T=N)}async function R(){e.writerLocked=!0;const{lockWriter:N}=e;e.lockWriter=new Promise(O=>b=()=>{e.writerLocked=!1,O()}),await N}async function C(N){On(d.localHeaderArray)>l.availableSize&&(l.availableSize=0,await jc(N,new Uint8Array))}}async function Uxe(e,t,{diskNumberStart:n,lock:r},a,o,l){const{headerInfo:u,dataDescriptorInfo:h,metadataSize:f}=a,{localHeaderArray:d,headerArray:p,lastModDate:g,rawLastModDate:m,encrypted:y,compressed:b,version:T,compressionMethod:E,rawExtraFieldExtendedTimestamp:w,extraFieldExtendedTimestampFlag:x,rawExtraFieldNTFS:S,rawExtraFieldAES:A}=u,{dataDescriptorArray:R}=h,{rawFilename:C,lastAccessDate:N,creationDate:O,password:L,rawPassword:k,level:M,zip64:$,zip64UncompressedSize:_,zip64CompressedSize:F,zip64Offset:B,zip64DiskNumberStart:D,zipCrypto:P,dataDescriptor:H,directory:W,executable:U,versionMadeBy:V,rawComment:G,rawExtraField:ee,useWebWorkers:ce,onstart:Q,onprogress:re,onend:le,signal:Y,encryptionStrength:K,extendedTimestamp:Z,msDosCompatible:z,internalFileAttributes:X,externalFileAttributes:te,useCompressionStream:ne,passThrough:Ae}=l,he={lock:r,versionMadeBy:V,zip64:$,directory:!!W,executable:!!U,filenameUTF8:!0,rawFilename:C,commentUTF8:!0,rawComment:G,rawExtraFieldExtendedTimestamp:w,rawExtraFieldNTFS:S,rawExtraFieldAES:A,rawExtraField:ee,extendedTimestamp:Z,msDosCompatible:z,internalFileAttributes:X,externalFileAttributes:te,diskNumberStart:n};let{signature:oe,uncompressedSize:de}=l,be=0;Ae||(de=0);const{writable:fe}=t;if(e){e.chunkSize=bQ(o),await jc(fe,d);const Re=e.readable,ke=Re.size=e.size,De={options:{codecType:HQ,level:M,rawPassword:k,password:L,encryptionStrength:K,zipCrypto:y&&P,passwordVerification:y&&P&&m>>8&255,signed:!Ae,compressed:b&&!Ae,encrypted:y&&!Ae,useWebWorkers:ce,useCompressionStream:ne,transferStreams:!1},config:o,streamOptions:{signal:Y,size:ke,onstart:Q,onprogress:re,onend:le}},se=await GQ({readable:Re,writable:fe},De);be=se.outputSize,Ae||(de=se.inputSize,oe=se.signature),fe.size+=de}else await jc(fe,d);let Ie;if($){let Re=4;_&&(Re+=8),F&&(Re+=8),B&&(Re+=8),D&&(Re+=4),Ie=new Uint8Array(Re)}else Ie=new Uint8Array;return Vxe({signature:oe,rawExtraFieldZip64:Ie,compressedSize:be,uncompressedSize:de,headerInfo:u,dataDescriptorInfo:h},l),H&&await jc(fe,R),Object.assign(he,{uncompressedSize:de,compressedSize:be,lastModDate:g,rawLastModDate:m,creationDate:O,lastAccessDate:N,encrypted:y,zipCrypto:P,size:f+be,compressionMethod:E,version:T,headerArray:p,signature:oe,rawExtraFieldZip64:Ie,extraFieldExtendedTimestampFlag:x,zip64UncompressedSize:_,zip64CompressedSize:F,zip64Offset:B,zip64DiskNumberStart:D}),he}function Gxe(e){const{rawFilename:t,lastModDate:n,lastAccessDate:r,creationDate:a,level:o,zip64:l,zipCrypto:u,useUnicodeFileNames:h,dataDescriptor:f,directory:d,rawExtraField:p,encryptionStrength:g,extendedTimestamp:m,encrypted:y}=e;let{version:b,compressionMethod:T}=e;const E=!d&&(o>0||o===Un&&T!==0);let w;if(y&&!u){w=new Uint8Array(On(IH)+2);const B=Sa(w);Fn(B,0,dQ),Ii(w,IH,2),CO(B,8,g)}else w=new Uint8Array;let x,S,A;if(m){S=new Uint8Array(9+(r?4:0)+(a?4:0));const B=Sa(S);Fn(B,0,zL),Fn(B,2,On(S)-4),A=1+(r?2:0)+(a?4:0),CO(B,4,A);let D=5;kn(B,D,Math.floor(n.getTime()/1e3)),D+=4,r&&(kn(B,D,Math.floor(r.getTime()/1e3)),D+=4),a&&kn(B,D,Math.floor(a.getTime()/1e3));try{x=new Uint8Array(36);const P=Sa(x),H=oC(n);Fn(P,0,pQ),Fn(P,2,32),Fn(P,8,gQ),Fn(P,10,24),Ks(P,12,H),Ks(P,20,oC(r)||H),Ks(P,28,oC(a)||H)}catch{x=new Uint8Array}}else x=S=new Uint8Array;let R=0;h&&(R=R|TO),f&&(R=R|bO),T===Un&&(T=E?gO:oQ),T==gO&&(o>=1&&o<3&&(R=R|6),o>=3&&o<5&&(R=R|1),o===9&&(R=R|2)),l&&(b=b>nH?b:nH),y&&(R=R|yO,u||(b=b>rH?b:rH,w[9]=T,T=lQ));const C=new Uint8Array(26),N=Sa(C);Fn(N,0,b),Fn(N,2,R),Fn(N,4,T);const O=new Uint32Array(1),L=Sa(O);let k;n<aH?k=aH:n>iH?k=iH:k=n,Fn(L,0,(k.getHours()<<6|k.getMinutes())<<5|k.getSeconds()/2),Fn(L,2,(k.getFullYear()-1980<<4|k.getMonth()+1)<<5|k.getDate());const M=O[0];kn(N,6,M),Fn(N,22,On(t));const $=On(w,S,x,p);Fn(N,24,$);const _=new Uint8Array(30+On(t)+$),F=Sa(_);return kn(F,0,cQ),Ii(_,C,4),Ii(_,t,30),Ii(_,w,30+On(t)),Ii(_,S,30+On(t,w)),Ii(_,x,30+On(t,w,S)),Ii(_,p,30+On(t,w,S,x)),{localHeaderArray:_,headerArray:C,headerView:N,lastModDate:n,rawLastModDate:M,encrypted:y,compressed:E,version:b,compressionMethod:T,extraFieldExtendedTimestampFlag:A,rawExtraFieldExtendedTimestamp:S,rawExtraFieldNTFS:x,rawExtraFieldAES:w,extraFieldLength:$}}function zxe(e,t){const{headerInfo:n}=e;let{localHeaderArray:r,extraFieldLength:a}=n,o=Sa(r),l=64-(t+On(r))%64;l<4&&(l+=64);const u=new Uint8Array(l),h=Sa(u);Fn(h,0,mQ),Fn(h,2,l-2);const f=r;n.localHeaderArray=r=new Uint8Array(On(f)+l),Ii(r,f),Ii(r,u,On(f)),o=Sa(r),Fn(o,28,a+l),e.metadataSize+=l}function Yxe(e){const{zip64:t,dataDescriptor:n,dataDescriptorSignature:r}=e;let a=new Uint8Array,o,l=0;return n&&(a=new Uint8Array(t?r?24:20:r?16:12),o=Sa(a),r&&(l=4,kn(o,0,u3e))),{dataDescriptorArray:a,dataDescriptorView:o,dataDescriptorOffset:l}}function Vxe(e,t){const{signature:n,rawExtraFieldZip64:r,compressedSize:a,uncompressedSize:o,headerInfo:l,dataDescriptorInfo:u}=e,{headerView:h,encrypted:f}=l,{dataDescriptorView:d,dataDescriptorOffset:p}=u,{zip64:g,zip64UncompressedSize:m,zip64CompressedSize:y,zipCrypto:b,dataDescriptor:T}=t;if((!f||b)&&n!==Un&&(kn(h,10,n),T&&kn(d,p,n)),g){const E=Sa(r);Fn(E,0,fQ),Fn(E,2,On(r)-4);let w=4;m&&(kn(h,18,Ti),Ks(E,w,BigInt(o)),w+=8),y&&(kn(h,14,Ti),Ks(E,w,BigInt(a))),T&&(Ks(d,p+4,BigInt(a)),Ks(d,p+12,BigInt(o)))}else kn(h,14,a),kn(h,18,o),T&&(kn(d,p+4,a),kn(d,p+8,o))}async function qxe(e,t,n,{zipCrypto:r}){let a;a=await t.slice(0,26).arrayBuffer(),a.byteLength!=26&&(a=a.slice(0,26));const o=new DataView(a);return(!e.encrypted||r)&&kn(o,14,e.signature),e.zip64?(kn(o,18,Ti),kn(o,22,Ti)):(kn(o,18,e.compressedSize),kn(o,22,e.uncompressedSize)),await jc(n,new Uint8Array(a)),t.slice(a.byteLength)}function jxe(e,t){const{rawExtraFieldZip64:n,offset:r,diskNumberStart:a}=e,{zip64UncompressedSize:o,zip64CompressedSize:l,zip64Offset:u,zip64DiskNumberStart:h}=t,f=Sa(n);let d=4;o&&(d+=8),l&&(d+=8),u&&(Ks(f,d,BigInt(r)),d+=8),h&&kn(f,d,a)}async function Xxe(e,t,n){const{files:r,writer:a}=e,{diskOffset:o,writable:l}=a;let{diskNumber:u}=a,h=0,f=0,d=e.offset-o,p=r.size;for(const[,A]of r){const{rawFilename:R,rawExtraFieldZip64:C,rawExtraFieldAES:N,rawComment:O,rawExtraFieldNTFS:L,rawExtraField:k,extendedTimestamp:M,extraFieldExtendedTimestampFlag:$,lastModDate:_}=A;let F;if(M){F=new Uint8Array(9);const B=Sa(F);Fn(B,0,zL),Fn(B,2,5),CO(B,4,$),kn(B,5,Math.floor(_.getTime()/1e3))}else F=new Uint8Array;A.rawExtraFieldCDExtendedTimestamp=F,f+=46+On(R,O,C,N,L,F,k)}const g=new Uint8Array(f),m=Sa(g);await Y0(a);let y=0;for(const[A,R]of Array.from(r.values()).entries()){const{offset:C,rawFilename:N,rawExtraFieldZip64:O,rawExtraFieldAES:L,rawExtraFieldCDExtendedTimestamp:k,rawExtraFieldNTFS:M,rawExtraField:$,rawComment:_,versionMadeBy:F,headerArray:B,zip64:D,zip64UncompressedSize:P,zip64CompressedSize:H,zip64DiskNumberStart:W,zip64Offset:U,internalFileAttributes:V,externalFileAttributes:G,diskNumberStart:ee,uncompressedSize:ce,compressedSize:Q}=R,re=On(O,L,k,M,$);kn(m,h,mO),Fn(m,h+4,F);const le=Sa(B);P||kn(le,18,ce),H||kn(le,14,Q),Ii(g,B,h+6),Fn(m,h+30,re),Fn(m,h+32,On(_)),Fn(m,h+34,D&&W?ti:ee),Fn(m,h+36,V),G&&kn(m,h+38,G),kn(m,h+42,D&&U?Ti:C),Ii(g,N,h+46),Ii(g,O,h+46+On(N)),Ii(g,L,h+46+On(N,O)),Ii(g,k,h+46+On(N,O,L)),Ii(g,M,h+46+On(N,O,L,k)),Ii(g,$,h+46+On(N,O,L,k,M)),Ii(g,_,h+46+On(N)+re);const Y=46+On(N,_)+re;if(h-y>a.availableSize&&(a.availableSize=0,await jc(l,g.slice(y,h)),y=h),h+=Y,n.onprogress)try{await n.onprogress(A+1,r.size,new h4(R))}catch{}}await jc(l,y?g.slice(y):g);let b=a.diskNumber;const{availableSize:T}=a;T<Xu&&b++;let E=Rn(e,n,JL);if(d>Ti||f>Ti||p>ti||b>ti){if(E===!1)throw new Error(e_);E=!0}const w=new Uint8Array(E?h3e:Xu),x=Sa(w);h=0,E&&(kn(x,0,vO),Ks(x,4,BigInt(44)),Fn(x,12,45),Fn(x,14,45),kn(x,16,b),kn(x,20,u),Ks(x,24,BigInt(p)),Ks(x,32,BigInt(p)),Ks(x,40,BigInt(f)),Ks(x,48,BigInt(d)),kn(x,56,hQ),Ks(x,64,BigInt(d)+BigInt(f)),kn(x,72,b+1),Rn(e,n,"supportZip64SplitFile",!0)&&(b=ti,u=ti),p=ti,d=Ti,f=Ti,h+=M2+D2),kn(x,h,uQ),Fn(x,h+4,b),Fn(x,h+6,u),Fn(x,h+8,p),Fn(x,h+10,p),kn(x,h+12,f),kn(x,h+16,d);const S=On(t);if(S)if(S<=ti)Fn(x,h+20,S);else throw new Error(Lxe);await jc(l,w),S&&await jc(l,t)}async function jc(e,t){const n=e.getWriter();try{await n.ready,e.size+=On(t),await n.write(t)}finally{n.releaseLock()}}function oC(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function Rn(e,t,n,r){const a=t[n]===Un?e.options[n]:t[n];return a===Un?r:a}function RH(e){return e+5*(Math.floor(e/16383)+1)}function CO(e,t,n){e.setUint8(t,n)}function Fn(e,t,n){e.setUint16(t,n,!0)}function kn(e,t,n){e.setUint32(t,n,!0)}function Ks(e,t,n){e.setBigUint64(t,n,!0)}function Ii(e,t,n){e.set(t,n)}function Sa(e){return new DataView(e.buffer)}function On(...e){let t=0;return e.forEach(n=>n&&(t+=n.length)),t}let pJ;try{pJ=import.meta.url}catch{}YL({baseURL:pJ});exe(YL);YL({Deflate:Uwe,Inflate:c3e});function gJ(e){return xL()?(LK(e),!0):!1}function xs(e){return typeof e=="function"?e():Vn(e)}const t_=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Kxe=Object.prototype.toString,Zxe=e=>Kxe.call(e)==="[object Object]",xb=()=>{};function Qxe(e,t){function n(...r){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(o)})}return n}const mJ=e=>e();function Jxe(e,t={}){let n,r,a=xb;const o=u=>{clearTimeout(u),a(),a=xb};return u=>{const h=xs(e),f=xs(t.maxWait);return n&&o(n),h<=0||f!==void 0&&f<=0?(r&&(o(r),r=null),Promise.resolve(u())):new Promise((d,p)=>{a=t.rejectOnCancel?p:d,f&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,d(u())},f)),n=setTimeout(()=>{r&&o(r),r=null,d(u())},h)})}}function e4e(...e){let t=0,n,r=!0,a=xb,o,l,u,h,f;!qr(e[0])&&typeof e[0]=="object"?{delay:l,trailing:u=!0,leading:h=!0,rejectOnCancel:f=!1}=e[0]:[l,u=!0,h=!0,f=!1]=e;const d=()=>{n&&(clearTimeout(n),n=void 0,a(),a=xb)};return g=>{const m=xs(l),y=Date.now()-t,b=()=>o=g();return d(),m<=0?(t=Date.now(),b()):(y>m&&(h||!r)?(t=Date.now(),b()):u&&(o=new Promise((T,E)=>{a=f?E:T,n=setTimeout(()=>{t=Date.now(),r=!0,T(b()),d()},Math.max(0,m-y))})),!h&&!n&&(n=setTimeout(()=>r=!0,m)),r=!1,o)}}function t4e(e=mJ){const t=hn(!0);function n(){t.value=!1}function r(){t.value=!0}const a=(...o)=>{t.value&&e(...o)};return{isActive:G5(t),pause:n,resume:r,eventFilter:a}}function n4e(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function r4e(e){return j5()}function n_(e,t,n={}){const{eventFilter:r=mJ,...a}=n;return ic(e,Qxe(r,t),a)}function i4e(e,t,n={}){const{eventFilter:r,...a}=n,{eventFilter:o,pause:l,resume:u,isActive:h}=t4e(r);return{stop:n_(e,t,{...a,eventFilter:o}),pause:l,resume:u,isActive:h}}function a4e(e,t=!0,n){r4e()?U0(e,n):t?e():Ip(e)}const s4e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,o4e=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function l4e(e,t,n,r){let a=e<12?"AM":"PM";return r&&(a=a.split("").reduce((o,l)=>o+=`${l}.`,"")),n?a.toLowerCase():a}function Wf(e){const t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}function c4e(e,t,n={}){var r;const a=e.getFullYear(),o=e.getMonth(),l=e.getDate(),u=e.getHours(),h=e.getMinutes(),f=e.getSeconds(),d=e.getMilliseconds(),p=e.getDay(),g=(r=n.customMeridiem)!=null?r:l4e,m={Yo:()=>Wf(a),YY:()=>String(a).slice(-2),YYYY:()=>a,M:()=>o+1,Mo:()=>Wf(o+1),MM:()=>`${o+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(xs(n.locales),{month:"short"}),MMMM:()=>e.toLocaleDateString(xs(n.locales),{month:"long"}),D:()=>String(l),Do:()=>Wf(l),DD:()=>`${l}`.padStart(2,"0"),H:()=>String(u),Ho:()=>Wf(u),HH:()=>`${u}`.padStart(2,"0"),h:()=>`${u%12||12}`.padStart(1,"0"),ho:()=>Wf(u%12||12),hh:()=>`${u%12||12}`.padStart(2,"0"),m:()=>String(h),mo:()=>Wf(h),mm:()=>`${h}`.padStart(2,"0"),s:()=>String(f),so:()=>Wf(f),ss:()=>`${f}`.padStart(2,"0"),SSS:()=>`${d}`.padStart(3,"0"),d:()=>p,dd:()=>e.toLocaleDateString(xs(n.locales),{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(xs(n.locales),{weekday:"short"}),dddd:()=>e.toLocaleDateString(xs(n.locales),{weekday:"long"}),A:()=>g(u,h),AA:()=>g(u,h,!1,!0),a:()=>g(u,h,!0),aa:()=>g(u,h,!0,!0)};return t.replace(o4e,(y,b)=>{var T,E;return(E=b??((T=m[y])==null?void 0:T.call(m)))!=null?E:y})}function u4e(e){if(e===null)return new Date(Number.NaN);if(e===void 0)return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){const t=e.match(s4e);if(t){const n=t[2]-1||0,r=(t[7]||"0").substring(0,3);return new Date(t[1],n,t[3]||1,t[4]||0,t[5]||0,t[6]||0,r)}}return new Date(e)}function i1(e,t="HH:mm:ss",n={}){return bi(()=>c4e(u4e(xs(e)),xs(t),n))}function h4e(e,t,n={}){const{immediate:r=!0}=n,a=hn(!1);let o=null;function l(){o&&(clearTimeout(o),o=null)}function u(){a.value=!1,l()}function h(...f){l(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,e(...f)},xs(t))}return r&&(a.value=!0,t_&&h()),gJ(u),{isPending:G5(a),start:h,stop:u}}function f4e(e,t,n={}){const{debounce:r=0,maxWait:a=void 0,...o}=n;return n_(e,t,{...o,eventFilter:Jxe(r,{maxWait:a})})}function d4e(e,t,n={}){const{throttle:r=0,trailing:a=!0,leading:o=!0,...l}=n;return n_(e,t,{...l,eventFilter:e4e(r,a,o)})}const f4=t_?window:void 0,vJ=t_?window.navigator:void 0;function p4e(e){var t;const n=xs(e);return(t=n==null?void 0:n.$el)!=null?t:n}function d4(...e){let t,n,r,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,a]=e,t=f4):[t,n,r,a]=e,!t)return xb;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],l=()=>{o.forEach(d=>d()),o.length=0},u=(d,p,g,m)=>(d.addEventListener(p,g,m),()=>d.removeEventListener(p,g,m)),h=ic(()=>[p4e(t),xs(a)],([d,p])=>{if(l(),!d)return;const g=Zxe(p)?{...p}:p;o.push(...n.flatMap(m=>r.map(y=>u(d,m,y,g))))},{immediate:!0,flush:"post"}),f=()=>{h(),l()};return gJ(f),f}function g4e(){const e=hn(!1),t=j5();return t&&U0(()=>{e.value=!0},t),e}function yJ(e){const t=g4e();return bi(()=>(t.value,!!e()))}function kH(e,t={}){const{controls:n=!1,navigator:r=vJ}=t,a=yJ(()=>r&&"permissions"in r),o=hb(),l=typeof e=="string"?{name:e}:e,u=hb(),h=()=>{var d,p;u.value=(p=(d=o.value)==null?void 0:d.state)!=null?p:"prompt"};d4(o,"change",h);const f=n4e(async()=>{if(a.value){if(!o.value)try{o.value=await r.permissions.query(l)}catch{o.value=void 0}finally{h()}if(n)return Pn(o.value)}});return f(),n?{state:u,isSupported:a,query:f}:u}function m4e(e={}){const{navigator:t=vJ,read:n=!1,source:r,copiedDuring:a=1500,legacy:o=!1}=e,l=yJ(()=>t&&"clipboard"in t),u=kH("clipboard-read"),h=kH("clipboard-write"),f=bi(()=>l.value||o),d=hn(""),p=hn(!1),g=h4e(()=>p.value=!1,a);function m(){l.value&&E(u.value)?t.clipboard.readText().then(w=>{d.value=w}):d.value=T()}f.value&&n&&d4(["copy","cut"],m);async function y(w=xs(r)){f.value&&w!=null&&(l.value&&E(h.value)?await t.clipboard.writeText(w):b(w),d.value=w,p.value=!0,g.start())}function b(w){const x=document.createElement("textarea");x.value=w??"",x.style.position="absolute",x.style.opacity="0",document.body.appendChild(x),x.select(),document.execCommand("copy"),x.remove()}function T(){var w,x,S;return(S=(x=(w=document==null?void 0:document.getSelection)==null?void 0:w.call(document))==null?void 0:x.toString())!=null?S:""}function E(w){return w==="granted"||w==="prompt"}return{isSupported:f,text:d,copied:p,copy:y}}const fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dw="__vueuse_ssr_handlers__",v4e=y4e();function y4e(){return dw in fw||(fw[dw]=fw[dw]||{}),fw[dw]}function b4e(e,t){return v4e[e]||t}function T4e(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const E4e={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},OH="vueuse-storage";function w4e(e,t,n,r={}){var a;const{flush:o="pre",deep:l=!0,listenToStorageChanges:u=!0,writeDefaults:h=!0,mergeDefaults:f=!1,shallow:d,window:p=f4,eventFilter:g,onError:m=L=>{console.error(L)},initOnMounted:y}=r,b=(d?hb:hn)(t);if(!n)try{n=b4e("getDefaultStorage",()=>{var L;return(L=f4)==null?void 0:L.localStorage})()}catch(L){m(L)}if(!n)return b;const T=xs(t),E=T4e(T),w=(a=r.serializer)!=null?a:E4e[E],{pause:x,resume:S}=i4e(b,()=>R(b.value),{flush:o,deep:l,eventFilter:g});p&&u&&a4e(()=>{n instanceof Storage?d4(p,"storage",N):d4(p,OH,O),y&&N()}),y||N();function A(L,k){if(p){const M={key:e,oldValue:L,newValue:k,storageArea:n};p.dispatchEvent(n instanceof Storage?new StorageEvent("storage",M):new CustomEvent(OH,{detail:M}))}}function R(L){try{const k=n.getItem(e);if(L==null)A(k,null),n.removeItem(e);else{const M=w.write(L);k!==M&&(n.setItem(e,M),A(k,M))}}catch(k){m(k)}}function C(L){const k=L?L.newValue:n.getItem(e);if(k==null)return h&&T!=null&&n.setItem(e,w.write(T)),T;if(!L&&f){const M=w.read(k);return typeof f=="function"?f(M,T):E==="object"&&!Array.isArray(M)?{...T,...M}:M}else return typeof k!="string"?k:w.read(k)}function N(L){if(!(L&&L.storageArea!==n)){if(L&&L.key==null){b.value=T;return}if(!(L&&L.key!==e)){x();try{(L==null?void 0:L.newValue)!==w.write(b.value)&&(b.value=C(L))}catch(k){m(k)}finally{L?Ip(S):S()}}}}function O(L){N(L.detail)}return b}function x4e(e,t,n={}){const{window:r=f4}=n;return w4e(e,t,r==null?void 0:r.localStorage,n)}const FT=Z5("metadata",()=>{const e=hn(""),t=hn(""),n=hn(""),r=hn(""),a=hn(""),o=hn(""),l=hn(""),u=hn(!1);function h(){r.value=e.value=t.value="placeholder",n.value="en",o.value=i1(new Date,"YYYY-MM-DDTHH:mm:ssZ").value,a.value=i1(new Date,"YYYY-MM-DD").value,l.value="",u.value=!1}return{$reset:h,author:e,title:t,lang:n,book_id:r,date_published:a,date_modified:o,cover:l,fixed_layout:u}});class S4e{constructor(t,n,r,a){xn(this,"id");xn(this,"href");xn(this,"media_type");xn(this,"properties");this.id=t,this.href=n,this.media_type=r,this.properties=a}async getContentAsString(){return await fetch(this.getContentUrl()).then(t=>t.blob())}getContentUrl(){return sessionStorage.getItem(this.href)}setContent(t){URL.revokeObjectURL(sessionStorage.getItem(this.href)),sessionStorage.setItem(this.href,URL.createObjectURL(new Blob([t],{type:this.media_type})))}}const dh=Z5("manifest",()=>{const e=hn([]);function t(){e.value=[]}function n(u,h,f,d,p){const g=new S4e(u,h,f,d);e.value.push(g),g.setContent(p)}function r(u){const h=e.value.findIndex(f=>f.id==u);h>-1&&e.value.splice(h,1)}function a(u){return e.value.find(h=>h.id==u)}function o(u){return e.value.find(h=>h.href==u)}function l(){return e.value.filter(u=>u.media_type==="audio/mpeg"||u.media_type==="audio/mp4"?u:void 0)}return{$reset:t,getItem:a,getAudioItems:l,items:e,appendItem:n,findItemByHref:o,removeItem:r}}),rA=Z5("spine",()=>{const e=hn([]);function t(){e.value=[]}function n(l,u,h){dh().appendItem(l,u,h),e.value.push({idref:l,linear:"yes"})}function r(l){dh().removeItem(l);const h=e.value.findIndex(f=>f.idref==l);h&&e.value.splice(h,1)}function a(l){return e.value.find(u=>u.idref==l)}function o(l,u){const h=e.value.findIndex(f=>f.idref==l);if(h>-1){const f=e.value.splice(h,1);f.length==1&&e.value.splice(h+u,0,f[0])}}return{$reset:t,itemrefs:e,getItem:a,appendItem:n,moveItem:o,removeItem:r}}),r_=Z5("contentOpf",()=>{const e=dh(),t=FT(),n=rA();function r(){e.$reset(),t.$reset(),n.$reset()}return{$reset:r,manifest:e,metadata:t,spine:n}}),A4e=new Yd("epub-editor");let Nc;async function I4e(e){Nc=new DOMParser().parseFromString(e,"text/xml");const n=FT();Array.from(Nc.getElementsByTagName("dc:title")).forEach(u=>{n.title=u.textContent||""}),Array.from(Nc.getElementsByTagName("dc:creator")).forEach(u=>{n.author=u.textContent||""}),Array.from(Nc.getElementsByTagName("dc:language")).forEach(u=>{n.lang=u.textContent||""}),Array.from(Nc.getElementsByTagName("dc:identifier")).forEach(u=>{n.book_id=u.textContent||""}),Array.from(Nc.getElementsByTagName("dc:date")).forEach(u=>{n.date_published=u.textContent||""});const r=Nc.querySelector('metadata > meta[property="dcterms:modified"]');n.date_modified=r&&r.textContent?r.textContent:"";const a=Nc.querySelector("metadata > meta[name=cover]");n.cover=a.getAttribute("content")||"";const o=dh();o.$reset(),Array.from(Nc.getElementsByTagName("item")).forEach(async u=>{const h=u.getAttribute("href")||"";let f=u.getAttribute("media-type")||"";h!=null&&h.endsWith(".smil")?f="application/smil+xml":h!=null&&h.endsWith(".js")?f="application/javascript":h!=null&&h.endsWith(".m4a")?f="audio/mp4":h!=null&&h.endsWith(".woff")&&(f="font/woff"),o.appendItem(u.getAttribute("id")||"",h,f,u.getAttribute("properties")||void 0,await A4e.promises.readFile(`/EPUB/${h}`))});const l=rA();l.$reset(),Array.from(Nc.getElementsByTagName("itemref")).forEach(u=>{l.itemrefs.push({idref:u.getAttribute("idref")||"",linear:u.getAttribute("linear")=="yes"?"yes":"no"})})}function C4e(e){const t=e.fixed_layout?`  <meta property="rendition:layout">pre-paginated</meta>
    <meta property="rendition:spread">none</meta>
    <meta property="rendition:orientation">portrait</meta>
  `:"";return`<metadata xmlns:dc="http://purl.org/dc/elements/1.1/">
    <dc:title>${e.title}</dc:title>
    <dc:language>${e.lang}</dc:language>
    <dc:identifier id="BookId">${e.book_id}</dc:identifier>
    <dc:creator id="creator">${e.author}</dc:creator>
    <dc:date>${e.date_published}</dc:date>
    <dc:rights>&#169; ${e.author}</dc:rights>
    <meta property="role" refines="#creator" scheme="marc:relators">aut</meta>
    <meta property="dcterms:modified">${e.date_modified}</meta>
    <meta name="cover" content="${e.cover}" />
    <meta property="ibooks:specified-fonts">true</meta>
  ${t}</metadata>
`}function R4e(e){return`<manifest>${e.map(t=>{const n=t.properties?`properties="${t.properties}"`:"";return`
    <item id="${t.id.replace(".","_")}" href="${t.href}" media-type="${t.media_type}" ${n}  />`}).join("")}
  </manifest>
`}function k4e(e){return`<spine>${e.map(t=>`
    <itemref idref="${t.idref}" linear="${t.linear}" ${t.properties?'properties="'+t.properties+'"':""} />`).join("")}
  </spine>
`}function a1(){const e=r_();return`<?xml version="1.0"?>
<package version="3.0" unique-identifier="BookId" xmlns="http://www.idpf.org/2007/opf" prefix="ibooks: http://vocabulary.itunes.apple.com/rdf/ibooks/vocabulary-extensions-1.0/">
  ${C4e(e.metadata)}
  ${R4e(e.manifest.items)}
  ${k4e(e.spine.itemrefs)}</package>
    `}const O4e={class:"main-head"},N4e={class:"main-nav"},L4e={name:"sidebar"},_4e={style:{"white-space":"nowrap"}},D4e=["data-active"],M4e={name:"sidebar"},P4e={name:"sidebar"},F4e={name:"sidebar",open:""},B4e={style:{float:"right"}},H4e=["onClick"],$4e=["onClick"],W4e=["onClick"],U4e=["onClick"],G4e={class:"content"},z4e=["open"],NH="text/markdown",Y4e=Tu({__name:"HomeView",setup(e){const t=["dragenter","dragover","dragleave","drop"],n=hn(!1),r=hn([]),a=hn(""),o=hn(""),l=hn(!1),u=hn();let h=new Yd("epub-editor");const f=OF("upload-epub"),d=OF("upload-asset"),p=rA(),g=dh(),m=bi(()=>p.itemrefs),y=bi(()=>g.items),b=FT();async function T(H){const W=await h.promises.readFile(H);typeof W!="string"?I4e(new TextDecoder().decode(W)):console.error("wrong type for fs file content")}async function E(H){for(const W of await h.promises.readdir(H)){const U=H!="/"?`${H}/`+W:"/"+W;(await h.promises.stat(U)).type==="file"?(console.log(U),U.includes("content.opf")&&await T(U)):await E(U)}}U0(async()=>{await E("/")});function w(H){return encodeURIComponent(`/EPUB/${H}.md`)}function x(){n.value=!0}function S(){n.value=!1}async function A(){if(d&&d.value&&d.value.files){for(const H of d.value.files)await H.arrayBuffer().then(async W=>{await h.promises.writeFile("/EPUB/"+H.name,new Uint8Array(W))}),g.appendItem(H.name,H.name,H.type);await h.promises.writeFile("/EPUB/content.opf",a1())}}function R(H){console.log(H),f&&f.value&&f.value.files&&N(f.value.files)}async function C(H){S(),console.log(H.dataTransfer.files),H.dataTransfer&&H.dataTransfer.files&&N(H.dataTransfer.files)}async function N(H){for(const W of H){async function U(V,G){await h.promises.readdir("/EPUB").catch(async ce=>{console.log(ce),await h.promises.mkdir("/EPUB").catch(Q=>{console.error(Q)})}),await h.promises.readdir("/EPUB/scripts").catch(async ce=>{console.log(ce),await h.promises.mkdir("/EPUB/scripts").catch(Q=>{console.error(Q)})}),await h.promises.readdir("/META-INF").catch(async ce=>{console.log(ce),await h.promises.mkdir("/META-INF").catch(Q=>{console.error(Q)})}),await h.promises.mkdir("/OEBPS").catch(ce=>{console.error(ce)});let ee=await V.getEntries(G);return ee=await Promise.all(ee.map(async ce=>(ce.getData&&await h.promises.writeFile("/"+ce.filename,await ce.getData(new sxe)).then(()=>{console.log("fulfilled",String(ce.filename))},Q=>{console.log("rejected",String(Q))}),ce))),ee.flat()}await U(new wxe(new zQ(W)),{}).then(V=>{r.value=V})}await E("/")}function O(H){H.preventDefault()}U0(()=>{t.forEach(H=>{document.body.addEventListener(H,O)})}),_L(()=>{t.forEach(H=>{document.body.removeEventListener(H,O)})});async function L(){indexedDB.deleteDatabase("epub-editor"),h=new Yd("epub-editor"),r_().$reset(),k()}async function k(){await h.promises.mkdir("/EPUB"),await h.promises.mkdir("/META-INF"),await h.promises.writeFile("/mimetype","application/epub+zip"),await h.promises.writeFile("/META-INF/container.xml",`<?xml version="1.0" encoding="UTF-8" ?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="EPUB/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>
`),g.appendItem("nav","nav.xhtml","application/xhtml+xml","nav"),p.appendItem("init","init.xhtml","application/xhtml+xml"),await h.promises.writeFile("/EPUB/init.md","# Chapter 1"),g.appendItem("init_md","init.md",NH),await h.promises.writeFile("/EPUB/page.css",`html, body {}

.print-header { display: none; }
    
h1 { text-align: center; }
h2 {}
h3 {}
h4 {}
h5 {}
h6 {}
`),g.appendItem("style","page.css","text/css"),await h.promises.writeFile("/EPUB/content.opf",a1()),await h.promises.writeFile("/EPUB/nav.xhtml",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <title>Table of contents</title>
</head>
<body epub:type="frontmatter">
  <nav epub:type="toc" id="toc">
    <h1>Table of Contents</h1>
    <ol>
    <li><a href="init.xhtml">Init</a></li>
    </ol>
  </nav>
</body>
</html>`),await h.promises.writeFile("/EPUB/init.xhtml",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>placeholder</title>
</head>
<body>
  <div>Chapter 1</div>
</body>
</html>`),await E("/")}async function M(H){const W=new Hxe(new axe("application/zip"),{});await W.add("mimetype",new hw(await h.promises.readFile("/mimetype")),{compressionMethod:0,level:0,extendedTimestamp:!1}),await W.add("META-INF/container.xml",new hw(await h.promises.readFile("/META-INF/container.xml"))),await W.add("EPUB/content.opf",new hw(await h.promises.readFile("/EPUB/content.opf"))),await Promise.all(y.value.map(async V=>W.add(`EPUB/${V.href}`,new hw(await h.promises.readFile(`/EPUB/${V.href}`)))));const U=URL.createObjectURL(await W.close());if(U){const V=document.createElement("a"),G=new MouseEvent("click");b.date_modified=i1(new Date,"YYYY-MM-DDTHH:mm:ssZ").value,V.href=U,V.download=`${b.title}-${b.author}-${b.date_modified}.epub`,V.dispatchEvent(G)}H.preventDefault()}async function $(){await h.promises.writeFile("/EPUB/content.opf",a1())}async function _(){const H=m.value.length+1,W=`new-${H}`,U=`${W}.xhtml`,V=`/EPUB/${U}`,ee=((Q,...re)=>String.raw({raw:Q},...re))`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>${U}</title>
  </head>
  <body></body>
</html>`;p.appendItem(W,U,"application/xhtml+xml"),await h.promises.writeFile(V,ee);const ce=`/EPUB/${W}.md`;await h.promises.writeFile(ce,`# Chapter ${H}`),g.appendItem(`${W}_md`,`${W}.md`,NH),await $()}async function F(H){p.removeItem(H),await $()}async function B(H,W){p.moveItem(H,W),await $()}async function D(H){o.value=H,a.value=H,l.value=!0,Ip(()=>{var W;(W=u.value)==null||W.focus()})}async function P(){console.log(o.value);const H=g.getItem(o.value);if(H){await h.promises.rename(`/EPUB/${H.href}`,`/EPUB/${a.value}.xhtml`),H.id=a.value,H.href=`${a.value}.xhtml`;const W=g.getItem(`${o.value}_md`);W&&(await h.promises.rename(`/EPUB/${W.href}`,`/EPUB/${a.value}.md`),W.id=`${a.value}_md`,W.href=`${a.value}.md`),p.getItem(o.value).idref=a.value,await $()}l.value=!1}return(H,W)=>{const U=PI("router-link"),V=PI("RouterLink"),G=PI("RouterView");return br(),Jr(xa,null,[Qe("header",O4e,[Qe("nav",null,[W[5]||(W[5]=Qe("ul",null,[Qe("li",null,[Qe("strong",null,"EDITME.html")])],-1)),Qe("ul",null,[Qe("li",null,[yi(U,{to:"/about"},{default:Ig(()=>W[4]||(W[4]=[Qr("About")])),_:1})])])])]),Qe("sidebar",N4e,[Qe("details",L4e,[Qe("summary",_4e,[W[6]||(W[6]=Qr(" Drop a zip file ")),W[7]||(W[7]=Qe("label",{style:{display:"inline"},for:"upload-epub"},"Upload",-1)),Qe("input",{hidden:"",type:"file",onChange:R,id:"upload-epub",ref:"upload-epub"},null,544)]),Qe("div",{class:"dropzone","data-active":n.value,onDragenter:fd(x,["prevent"]),onDragover:fd(x,["prevent"]),onDragleave:fd(S,["prevent"]),onDrop:fd(C,["prevent"])},[X2e(H.$slots,"default",{dropZoneActive:n.value},void 0)],40,D4e)]),Qe("details",M4e,[Qe("summary",null,[W[9]||(W[9]=Qr("Metadata ")),yi(V,{to:"/metadata"},{default:Ig(()=>W[8]||(W[8]=[Qr("Edit")])),_:1})]),Qe("div",null,[Qe("ul",null,[Qe("li",null,"Title: "+No(Vn(b).title),1),Qe("li",null,"Author: "+No(Vn(b).author),1),Qe("li",null,"Book ID: "+No(Vn(b).book_id),1),Qe("li",null,[yi(V,{to:"/content.opf"},{default:Ig(()=>W[10]||(W[10]=[Qr("content.opf ")])),_:1})])])])]),Qe("details",P4e,[Qe("summary",null,[W[11]||(W[11]=Qr(" Manifest ")),W[12]||(W[12]=Qe("label",{style:{display:"inline"},for:"upload-asset"},"Upload",-1)),Qe("input",{hidden:"",type:"file",onChange:A,id:"upload-asset",ref:"upload-asset"},null,544)]),Qe("ol",null,[(br(!0),Jr(xa,null,e4(y.value,(ee,ce)=>(br(),Jr("li",{key:ce},[yi(V,{to:`/asset/${encodeURIComponent("/EPUB/"+ee.href)}`},{default:Ig(()=>[Qr(No(ee.href),1)]),_:2},1032,["to"])]))),128))])]),Qe("details",F4e,[Qe("summary",null,[W[13]||(W[13]=Qr("Spine ")),Qe("a",{onClick:fd(_,["prevent"])},"New item")]),Qe("ol",null,[(br(!0),Jr(xa,null,e4(m.value,(ee,ce)=>(br(),Jr("li",{key:ce},[yi(V,{to:`/chapter/${w(ee.idref)}`},{default:Ig(()=>[Qr(No(ee.idref),1)]),_:2},1032,["to"]),Qe("span",B4e,[Qe("a",{onClick:Q=>D(ee.idref)},"✎",8,H4e),W[14]||(W[14]=Qr("  ")),Qe("a",{onClick:Q=>F(ee.idref)},"✖",8,$4e),Qe("a",{class:lb({disabled:ce==0}),onClick:Q=>B(ee.idref,-1)}," ▲ ",10,W4e),Qe("a",{class:lb({disabled:ce==m.value.length-1}),onClick:Q=>B(ee.idref,1)}," ▼ ",10,U4e)])]))),128))])]),Qe("nav",null,[Qe("ul",null,[Qe("li",null,[y.value.length?(br(),Jr("button",{key:0,onClick:M},"Export")):O2("",!0)]),Qe("li",null,[y.value.length?(br(),Jr("button",{key:0,onClick:L},"Clear")):O2("",!0)])])])]),Qe("main",G4e,[yi(G),Qe("dialog",{open:l.value},[Qe("article",null,[W[16]||(W[16]=Qe("header",null,[Qe("button",{"aria-label":"Close",rel:"prev"}),Qe("p",null,[Qe("strong",null,"Rename chapter")])],-1)),W[17]||(W[17]=Qe("p",null,"Chapter name must be unique.",-1)),Qe("label",null,[W[15]||(W[15]=Qr("Chapter name ")),Hi(Qe("input",{type:"text",name:"name","onUpdate:modelValue":W[0]||(W[0]=ee=>a.value=ee),onFocus:W[1]||(W[1]=ee=>ee.target.select()),onKeyup:W[2]||(W[2]=cTe(ee=>a.value!=""?P():null,["enter"])),ref_key:"chapter_name",ref:u},null,544),[[Ts,a.value]])]),Qe("footer",null,[Qe("button",{class:"secondary",onClick:W[3]||(W[3]=ee=>l.value=!1)}," Cancel "),Qe("button",{onClick:P},"Confirm")])])],8,z4e)]),W[18]||(W[18]=Qe("footer",null,"footer status at bottom of screen",-1))],64)}}}),hv=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},V4e=hv(Y4e,[["__scopeId","data-v-aac8c976"]]),q4e=Object.freeze(Object.defineProperty({__proto__:null,default:V4e},Symbol.toStringTag,{value:"Module"})),j4e={role:"group"},X4e={role:"group"},K4e=Tu({__name:"MetadataView",setup(e){const t=new Yd("epub-editor"),n=FT();async function r(){await t.promises.writeFile("/EPUB/content.opf",a1())}function a(){n.book_id=window.crypto.randomUUID()}return(o,l)=>(br(),Jr("form",null,[Qe("label",null,[l[8]||(l[8]=Qr("Title ")),Hi(Qe("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=u=>Vn(n).title=u),name:"title",placeholder:"Title"},null,512),[[Ts,Vn(n).title]])]),Qe("label",null,[l[9]||(l[9]=Qr("Author ")),Hi(Qe("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=u=>Vn(n).author=u),name:"author",placeholder:"Author"},null,512),[[Ts,Vn(n).author]])]),Qe("fieldset",j4e,[Hi(Qe("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=u=>Vn(n).lang=u),name:"language",placeholder:"Language"},null,512),[[Ts,Vn(n).lang]]),Hi(Qe("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=u=>Vn(n).book_id=u),name:"book_id",class:"mono",placeholder:"Book ID"},null,512),[[Ts,Vn(n).book_id]]),Qe("input",{type:"button",onClick:a,value:"Generate Book ID"})]),Qe("fieldset",X4e,[Qe("label",null,[l[10]||(l[10]=Qr("Date published ")),Hi(Qe("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=u=>Vn(n).date_published=u),name:"date_published",placeholder:"Published date"},null,512),[[Ts,Vn(n).date_published]])]),Qe("label",null,[l[11]||(l[11]=Qr("Last modified (updated on Export) ")),Hi(Qe("input",{readonly:"",disabled:"",type:"text","onUpdate:modelValue":l[5]||(l[5]=u=>Vn(n).date_modified=u),name:"date_modified",placeholder:"Last modified"},null,512),[[Ts,Vn(n).date_modified]])])]),Hi(Qe("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=u=>Vn(n).cover=u),name:"cover",placeholder:"Cover",disabled:""},null,512),[[Ts,Vn(n).cover]]),Qe("label",null,[l[12]||(l[12]=Qr(" Fixed Layout ")),Hi(Qe("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=u=>Vn(n).fixed_layout=u),name:"fixed_layout",role:"switch"},null,512),[[OZ,Vn(n).fixed_layout]])]),Qe("button",{onClick:fd(r,["prevent"])},"Save")]))}}),Z4e=hv(K4e,[["__scopeId","data-v-16692bab"]]),Q4e=Object.freeze(Object.defineProperty({__proto__:null,default:Z4e},Symbol.toStringTag,{value:"Module"})),J4e=`Name: @vue/shared
Version: 3.5.13
License: MIT
Private: false
Description: internal utils shared across @vue packages
Repository: git+https://github.com/vuejs/core.git
Homepage: https://github.com/vuejs/core/tree/main/packages/shared#readme
Author: Evan You
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: @vue/reactivity
Version: 3.5.13
License: MIT
Private: false
Description: @vue/reactivity
Repository: git+https://github.com/vuejs/core.git
Homepage: https://github.com/vuejs/core/tree/main/packages/reactivity#readme
Author: Evan You
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: @vue/runtime-core
Version: 3.5.13
License: MIT
Private: false
Description: @vue/runtime-core
Repository: git+https://github.com/vuejs/core.git
Homepage: https://github.com/vuejs/core/tree/main/packages/runtime-core#readme
Author: Evan You
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: @vue/runtime-dom
Version: 3.5.13
License: MIT
Private: false
Description: @vue/runtime-dom
Repository: git+https://github.com/vuejs/core.git
Homepage: https://github.com/vuejs/core/tree/main/packages/runtime-dom#readme
Author: Evan You
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: pinia
Version: 2.3.1
License: MIT
Private: false
Description: Intuitive, type safe and flexible Store for Vue
Repository: git+https://github.com/vuejs/pinia.git
Homepage: https://github.com/vuejs/pinia#readme
Author: Eduardo San Martin Morote <posva13@gmail.com>
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2019-present Eduardo San Martin Morote

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: vue-router
Version: 4.5.0
License: MIT
Private: false
Repository: git+https://github.com/vuejs/router.git
Homepage: https://github.com/vuejs/router#readme
Author: Eduardo San Martin Morote <posva13@gmail.com>
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2019-present Eduardo San Martin Morote

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: just-once
Version: 1.1.0
License: MIT
Private: false
Description: create a function that can only be invoked once
Repository: undefined
Author: Angus Croll
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2016 angus croll

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: fast-text-encoding
Version: 1.0.6
License: Apache-2.0
Private: false
Description: Fast polyfill for TextEncoder and TextDecoder, only supports utf-8
Repository: undefined
Author: Sam Thorogood <sam.thorogood@gmail.com>
License Copyright:
===

                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "{}"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright {yyyy} {name of copyright owner}

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

---

Name: isomorphic-textencoder
Version: 1.0.1
License: MIT
Private: false
Description: encode/decode Uint8Arrays to strings
Repository: git+https://github.com/wmhilton/isomorphic-textencoder.git
Homepage: https://github.com/wmhilton/isomorphic-textencoder#readme
Author: William Hilton <wmhilton@gmail.com>
License Copyright:
===

MIT License

Copyright (c) 2018 William Hilton <wmhilton@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: just-debounce-it
Version: 1.1.0
License: MIT
Private: false
Description: return a debounced function
Repository: undefined
Author: Eric Nolte and Angus Croll
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2016 angus croll

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: @isomorphic-git/lightning-fs
Version: 4.6.0
License: MIT
Private: false
Description: A lean and fast 'fs' for the browser
Repository: git+https://github.com/isomorphic-git/lightning-fs.git
Homepage: https://github.com/isomorphic-git/lightning-fs#readme
Author: William Hilton <wmhilton@gmail.com>
License Copyright:
===

MIT License

Copyright (c) 2018 wmhilton

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: @isomorphic-git/idb-keyval
Version: 3.3.2
License: Apache-2.0
Private: false
Description: A super-simple-small keyval store built on top of IndexedDB
Repository: git+https://github.com/isomorphic-git/idb-keyval.git
Homepage: https://github.com/isomorphic-git/idb-keyval#readme
License Copyright:
===

Copyright 2016, Jake Archibald

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

---

Name: @zip.js/zip.js
Version: 2.7.57
License: BSD-3-Clause
Private: false
Description: A JavaScript library to zip and unzip files in the browser, Deno and Node.js
Repository: git+https://github.com/gildas-lormeau/zip.js.git
Homepage: https://gildas-lormeau.github.io/zip.js
Author: Gildas Lormeau
License Copyright:
===

BSD 3-Clause License

Copyright (c) 2023, Gildas Lormeau

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: @vueuse/shared
Version: 11.3.0
License: MIT
Private: false
Repository: git+https://github.com/vueuse/vueuse.git
Homepage: https://github.com/vueuse/vueuse/tree/main/packages/shared#readme
Author: Anthony Fu <https://github.com/antfu>
License Copyright:
===

MIT License

Copyright (c) 2019-PRESENT Anthony Fu<https://github.com/antfu>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: @vueuse/core
Version: 11.3.0
License: MIT
Private: false
Description: Collection of essential Vue Composition Utilities
Repository: git+https://github.com/vueuse/vueuse.git
Homepage: https://github.com/vueuse/vueuse#readme
Author: Anthony Fu <https://github.com/antfu>
License Copyright:
===

MIT License

Copyright (c) 2019-PRESENT Anthony Fu<https://github.com/antfu>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: html-void-elements
Version: 3.0.0
License: MIT
Private: false
Description: List of HTML void tag names
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: property-information
Version: 6.5.0
License: MIT
Private: false
Description: Info on the properties and attributes of the web platform
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Dustin Deus <deusdustin@gmail.com> (http://starptech.de)
  Andrew Burgess <andrew@andrewburgess.io>
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: zwitch
Version: 2.0.4
License: MIT
Private: false
Description: Handle values based on a property
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: stringify-entities
Version: 4.0.4
License: MIT
Private: false
Description: Serialize (encode) HTML character references
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: character-entities-legacy
Version: 3.0.0
License: MIT
Private: false
Description: List of legacy HTML named character references that don’t need a trailing semicolon
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: character-entities-html4
Version: 2.1.0
License: MIT
Private: false
Description: Map of named character references from HTML 4
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-to-html
Version: 9.0.4
License: MIT
Private: false
Description: hast utility to serialize to HTML
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: ccount
Version: 2.0.1
License: MIT
Private: false
Description: Count how often a character (or substring) is used in a string
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: comma-separated-tokens
Version: 2.0.3
License: MIT
Private: false
Description: Parse and stringify comma-separated tokens
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: space-separated-tokens
Version: 2.0.2
License: MIT
Private: false
Description: Parse and stringify space separated tokens
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-whitespace
Version: 3.0.0
License: MIT
Private: false
Description: hast utility to check if a node is inter-element whitespace
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: rehype-stringify
Version: 10.0.1
License: MIT
Private: false
Description: rehype plugin to serialize HTML
Repository: undefined
Homepage: https://github.com/rehypejs/rehype
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: mdast-util-to-string
Version: 4.0.0
License: MIT
Private: false
Description: mdast utility to get the plain text content of a node
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: decode-named-character-reference
Version: 1.0.2
License: MIT
Private: false
Description: Decode named character references
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2021 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-chunked
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility to splice and push with giant arrays
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-combine-extensions
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility to combine syntax or html extensions
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-decode-numeric-character-reference
Version: 2.0.2
License: MIT
Private: false
Description: micromark utility to decode numeric character references
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-normalize-identifier
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility normalize identifiers (as found in references, definitions)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-character
Version: 2.1.1
License: MIT
Private: false
Description: micromark utility to handle character codes
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-sanitize-uri
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility to sanitize urls
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-factory-space
Version: 2.0.1
License: MIT
Private: false
Description: micromark factory to parse markdown space (found in lots of places)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark
Version: 4.0.1
License: MIT
Private: false
Description: small commonmark compliant markdown parser with positional info and concrete tokens
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-classify-character
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility to classify whether a character is whitespace or punctuation
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-resolve-all
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility to resolve subtokens
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-core-commonmark
Version: 2.0.2
License: MIT
Private: false
Description: The CommonMark markdown constructs
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-subtokenize
Version: 2.0.4
License: MIT
Private: false
Description: micromark utility to tokenize subtokens
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-factory-destination
Version: 2.0.1
License: MIT
Private: false
Description: micromark factory to parse destinations (found in resources, definitions)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-factory-label
Version: 2.0.1
License: MIT
Private: false
Description: micromark factory to parse labels (found in media, definitions)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-factory-title
Version: 2.0.1
License: MIT
Private: false
Description: micromark factory to parse markdown titles (found in resources, definitions)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-factory-whitespace
Version: 2.0.1
License: MIT
Private: false
Description: micromark factory to parse markdown whitespace (found in lots of places)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-html-tag-name
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility with list of html tag names
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-util-decode-string
Version: 2.0.1
License: MIT
Private: false
Description: micromark utility to decode markdown strings
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-stringify-position
Version: 4.0.0
License: MIT
Private: false
Description: unist utility to serialize a node, position, or point as a human readable location
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-from-markdown
Version: 2.0.2
License: MIT
Private: false
Description: mdast utility to parse markdown
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-parse
Version: 11.0.0
License: MIT
Private: false
Description: remark plugin to add support for parsing markdown input
Repository: undefined
Homepage: https://remark.js.org
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Eugene Sharygin <eush77@gmail.com>
  Junyoung Choi <fluke8259@gmail.com>
  Elijah Hamovitz <elijahhamovitz@gmail.com>
  Ika <ikatyang@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2014 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: mdast-util-to-hast
Version: 13.2.0
License: MIT
Private: false
Description: mdast utility to transform to hast
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-position
Version: 5.0.0
License: MIT
Private: false
Description: unist utility to get the position of a node
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: trim-lines
Version: 3.0.1
License: MIT
Private: false
Description: Remove spaces and tabs around line-breaks
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: devlop
Version: 1.1.0
License: MIT
Private: false
Description: Do things in development and nothing otherwise
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2023 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: @ungap/structured-clone
Version: 1.3.0
License: ISC
Private: false
Description: A structuredClone polyfill
Repository: git+https://github.com/ungap/structured-clone.git
Homepage: https://github.com/ungap/structured-clone#readme
Author: Andrea Giammarchi
License Copyright:
===

ISC License

Copyright (c) 2021, Andrea Giammarchi, @WebReflection

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.

---

Name: unist-util-is
Version: 6.0.0
License: MIT
Private: false
Description: unist utility to check if a node passes a test
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Christian Murphy <christian.murphy.42@gmail.com>
  Lucas Brandstaetter <lucas@brandstaetter.tech> (https://github.com/Roang-zero1)
License Copyright:
===

(The MIT license)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-visit-parents
Version: 6.0.1
License: MIT
Private: false
Description: unist utility to recursively walk over nodes, with ancestral information
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-visit
Version: 5.0.0
License: MIT
Private: false
Description: unist utility to visit nodes
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Eugene Sharygin <eush77@gmail.com>
  Richard Gibson <richard.gibson@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-rehype
Version: 11.1.1
License: MIT
Private: false
Description: remark plugin that turns markdown into HTML to support rehype
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  John Otander <johnotander@gmail.com> (https://johno.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-parse-selector
Version: 4.0.0
License: MIT
Private: false
Description: hast utility to create an element from a simple CSS selector
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hastscript
Version: 9.0.0
License: MIT
Private: false
Description: hast utility to create trees
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: web-namespaces
Version: 2.0.1
License: MIT
Private: false
Description: Map of web namespaces
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-from-dom
Version: 5.0.1
License: ISC
Private: false
Description: hast utility to create a tree from the DOM
Repository: undefined
Author: Keith McKnight <keith@mcknig.ht> (https://keith.mcknig.ht)
Contributors:
  Keith McKnight <keith@mcknig.ht> (https://keith.mcknig.ht)
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(ISC License)

Copyright (c) Keith McKnight <keith@mcknig.ht>

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: abcjs
Version: 6.4.4
License: MIT
Private: false
Description: Renderer for abc music notation
Repository: git+https://github.com/paulrosen/abcjs.git
Homepage: https://abcjs.net
Author: Paul Rosen <paul@paulrosen.net> (https://abcjs.net)
Contributors:
  Gregory Dyke
  Jean-Yves Mengant
  Todd Brown
  Thomas Chandelle
License Copyright:
===

Copyright (c) 2009-2024 Paul Rosen and Gregory Dyke

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

**This text is from: http://opensource.org/licenses/MIT**

---

Name: bail
Version: 2.0.2
License: MIT
Private: false
Description: Throw a given error
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: extend
Version: 3.0.2
License: MIT
Private: false
Description: Port of jQuery.extend for node.js and the browser
Repository: https://github.com/justmoon/node-extend.git
Author: Stefan Thomas <justmoon@members.fsf.org> (http://www.justmoon.net)
Contributors:
  Jordan Harband (https://github.com/ljharb)
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2014 Stefan Thomas

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: is-plain-obj
Version: 4.1.0
License: MIT
Private: false
Description: Check if a value is a plain object
Repository: undefined
Author: Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
License Copyright:
===

MIT License

Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: trough
Version: 2.2.0
License: MIT
Private: false
Description: \`trough\` is middleware
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: vfile-message
Version: 4.0.2
License: MIT
Private: false
Description: vfile utility to create a virtual message
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2017 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: vfile
Version: 6.0.3
License: MIT
Private: false
Description: Virtual file format for text processing
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Brendan Abbott <brendan.abbott@temando.com>
  Denys Dovhan <email@denysdovhan.com>
  Kyle Mathews <mathews.kyle@gmail.com>
  Shinnosuke Watanabe <snnskwtnb@gmail.com>
  Sindre Sorhus <sindresorhus@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: unified
Version: 11.0.5
License: MIT
Private: false
Description: parse, inspect, transform, and serialize content through syntax trees
Repository: undefined
Homepage: https://unifiedjs.com
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Junyoung Choi <fluke8259@gmail.com>
  Hernan Rajchert <hrajchert@gmail.com>
  Christian Murphy <christian.murphy.42@gmail.com>
  Vse Mozhet Byt <vsemozhetbyt@gmail.com>
  Richard Littauer <richard.littauer@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: character-reference-invalid
Version: 2.0.1
License: MIT
Private: false
Description: Map of invalid numeric character references to their replacements, according to HTML
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: is-decimal
Version: 2.0.1
License: MIT
Private: false
Description: Check if a character is decimal
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: is-hexadecimal
Version: 2.0.1
License: MIT
Private: false
Description: Check if a character is hexadecimal
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: is-alphabetical
Version: 2.0.1
License: MIT
Private: false
Description: Check if a character is alphabetical
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: is-alphanumerical
Version: 2.0.1
License: MIT
Private: false
Description: Check if a character is alphanumerical
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: parse-entities
Version: 4.0.2
License: MIT
Private: false
Description: Parse HTML character references
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-directive
Version: 3.1.0
License: MIT
Private: false
Description: mdast extension to parse and serialize generic directives (\`:cite[smith04]\`)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-directive
Version: 3.0.2
License: MIT
Private: false
Description: micromark extension to support generic directives (\`:cite[smith04]\`)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-directive
Version: 3.0.1
License: MIT
Private: false
Description: remark plugin to support directives
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-is-element
Version: 3.0.0
License: MIT
Private: false
Description: hast utility to check if a node is a (certain) element
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-embedded
Version: 3.0.0
License: MIT
Private: false
Description: hast utility to check if a node is an embedded element
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-minify-whitespace
Version: 1.0.1
License: MIT
Private: false
Description: hast utility to get the plain-text value of a node
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: hast-util-has-property
Version: 3.0.0
License: MIT
Private: false
Description: hast utility to check if a node has a property
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-is-body-ok-link
Version: 3.0.1
License: MIT
Private: false
Description: hast utility to check if a link element is “Body OK”
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: hast-util-phrasing
Version: 3.0.1
License: MIT
Private: false
Description: hast utility to check if a node is phrasing content
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: html-whitespace-sensitive-tag-names
Version: 3.0.1
License: MIT
Private: false
Description: List of whitespace sensitive HTML tag names
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: hast-util-format
Version: 1.1.0
License: MIT
Private: false
Description: Format whitespace in HTML
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: rehype-format
Version: 5.0.1
License: MIT
Private: false
Description: rehype plugin to format HTML
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: scule
Version: 1.3.0
License: MIT
Private: false
Description: String case utils
Repository: undefined
License Copyright:
===

MIT License

Copyright (c) Pooya Parsa <pooya@pi0.io>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: yaml
Version: 2.7.0
License: ISC
Private: false
Description: JavaScript parser and stringifier for YAML
Repository: undefined
Homepage: https://eemeli.org/yaml/
Author: Eemeli Aro <eemeli@gmail.com>
License Copyright:
===

Copyright Eemeli Aro <eemeli@gmail.com>

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: flat
Version: 6.0.1
License: BSD-3-Clause
Private: false
Description: Take a nested Javascript object and flatten it, or unflatten an object with delimited keys
Repository: git://github.com/hughsk/flat.git
Homepage: https://github.com/hughsk/flat
Author: Hugh Kennedy <hughskennedy@gmail.com> (https://hughsk.io)
License Copyright:
===

Copyright (c) 2014, Hugh Kennedy
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the  nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: mdast-util-to-markdown
Version: 2.1.2
License: MIT
Private: false
Description: mdast utility to serialize markdown
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: longest-streak
Version: 3.1.0
License: MIT
Private: false
Description: Count the longest repeating streak of a substring
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-phrasing
Version: 4.1.0
License: MIT
Private: false
Description: mdast utility to check if a node is phrasing content
Repository: undefined
Author: Victor Felder <victor@draft.li> (https://draft.li)
Contributors:
  Victor Felder <victor@draft.li> (https://draft.li)
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2017 Titus Wormer <tituswormer@gmail.com>
Copyright (c) 2017 Victor Felder <victor@draft.li>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-mdc
Version: 3.5.3
License: MIT
Private: false
Description: Remark plugin to support MDC syntax
Repository: undefined
License Copyright:
===

MIT License

Copyright (c) NuxtLabs

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: vfile-matter
Version: 5.0.0
License: MIT
Private: false
Description: vfile utility to parse the YAML front matter in a file
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2019 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: format
Version: 0.2.2
License: (MIT)
Private: false
Description: printf, sprintf, and vsprintf for JavaScript
Repository: git://github.com/samsonjs/format.git
Homepage: http://samhuri.net/proj/format
Author: Sami Samhuri <sami@samhuri.net>

---

Name: fault
Version: 2.0.1
License: MIT
Private: false
Description: Functional errors with formatted output
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-frontmatter
Version: 2.0.0
License: MIT
Private: false
Description: micromark extension to support frontmatter (YAML, TOML, etc)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: escape-string-regexp
Version: 5.0.0
License: MIT
Private: false
Description: Escape RegExp special characters
Repository: undefined
Author: Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)
License Copyright:
===

MIT License

Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-frontmatter
Version: 2.0.1
License: MIT
Private: false
Description: mdast extension to parse and serialize frontmatter (YAML, TOML, etc)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-frontmatter
Version: 5.0.0
License: MIT
Private: false
Description: remark plugin to support frontmatter (yaml, toml, and more)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Lars Trieloff <lars@trieloff.net>
  Max Kueng <me@maxkueng.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2017 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-is
Version: 3.0.0
License: MIT
Private: false
Description: Utility to check if a node passes a test
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT license)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-visit-parents
Version: 2.1.2
License: MIT
Private: false
Description: Recursively walk over unist nodes, with ancestral information
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-visit
Version: 1.4.1
License: MIT
Private: false
Description: Recursively walk over unist nodes
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
  Eugene Sharygin <eush77@gmail.com>
  Richard Gibson <richard.gibson@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: front-matter
Version: 3.2.1
License: MIT
Private: false
Description: Extract YAML front matter from a string
Repository: git://github.com/jxson/front-matter.git
Homepage: https://github.com/jxson/front-matter
Author: Jason Campbell <jasoncampbell@google.com> (http://twitter.com/jxson)
Contributors:
  Jason Campbell <jason@js.la> (http://twitter.com/jxson)
  Jordan Santell <jsantell@gmail.com> (https://github.com/jsantell)
  Kai Davenport <kaiyadavenport@gmail.com> (https://github.com/binocarlos)
  Jean-Philippe Monette <contact@jpmonette.net> (https://github.com/jpmonette)
  Marc-André Arseneault <marc-andre@arsnl.ca> (https://github.com/arsnl)
  Bret Comnes <bcomnes@gmail.com> (http://bret.io)
License Copyright:
===

# The MIT License (MIT)

Copyright (c) Jason Campbell ("Author")

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: js-yaml
Version: 3.14.1
License: MIT
Private: false
Description: YAML 1.2 parser and serializer
Repository: undefined
Homepage: https://github.com/nodeca/js-yaml
Author: Vladimir Zapparov <dervus.grim@gmail.com>
Contributors:
  Aleksey V Zapparov <ixti@member.fsf.org> (http://www.ixti.net/)
  Vitaly Puzrin <vitaly@rcdesign.ru> (https://github.com/puzrin)
  Martin Grenfell <martin.grenfell@gmail.com> (http://got-ravings.blogspot.com)
License Copyright:
===

(The MIT License)

Copyright (C) 2011-2015 by Vitaly Puzrin

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: remark-code-frontmatter
Version: 1.0.0
License: MIT
Private: false
Description: Extract frontmatter from markdown code blocks using remark, and do interesting things!
Repository: https://github.com/samlanning/remark-code-frontmatter
Author: Sam Lanning <sam@samlanning.com> (https://samlanning.com/)

---

Name: hast-util-from-html-isomorphic
Version: 2.0.0
License: MIT
Private: false
Description: hast utility that turns HTML into a syntax tree (while being small in browsers)
Repository: undefined
Author: Remco Haszing <remcohaszing@gmail.com>
Contributors:
  Remco Haszing <remcohaszing@gmail.com>
License Copyright:
===

(The MIT License)

Copyright (c) 2023 Remco Haszing <remcohaszing@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: unist-util-find-after
Version: 5.0.0
License: MIT
Private: false
Description: unist utility to find a node after another node
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: hast-util-to-text
Version: 4.0.2
License: MIT
Private: false
Description: hast utility to get the plain-text value of a node according to the \`innerText\` algorithm
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2019 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: dayjs
Version: 1.11.13
License: MIT
Private: false
Description: 2KB immutable date time library alternative to Moment.js with the same modern API 
Repository: https://github.com/iamkun/dayjs.git
Homepage: https://day.js.org
Author: iamkun
License Copyright:
===

MIT License

Copyright (c) 2018-present, iamkun

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: khroma
Version: 2.1.0
License: null
Private: false
Description: A collection of functions for manipulating CSS colors, inspired by SASS.
Repository: undefined
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2019-present Fabio Spampinato, Andrew Maney

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

---

Name: dompurify
Version: 3.2.4
License: (MPL-2.0 OR Apache-2.0)
Private: false
Description: DOMPurify is a DOM-only, super-fast, uber-tolerant XSS sanitizer for HTML, MathML and SVG. It's written in JavaScript and works in all modern browsers (Safari, Opera (15+), Internet Explorer (10+), Firefox and Chrome - as well as almost anything else using Blink or WebKit). DOMPurify is written by security people who have vast background in web attacks and XSS. Fear not.
Repository: git://github.com/cure53/DOMPurify.git
Homepage: https://github.com/cure53/DOMPurify
Author: Dr.-Ing. Mario Heiderich, Cure53 <mario@cure53.de> (https://cure53.de/)
License Copyright:
===

DOMPurify
Copyright 2025 Dr.-Ing. Mario Heiderich, Cure53

DOMPurify is free software; you can redistribute it and/or modify it under the
terms of either:

a) the Apache License Version 2.0, or
b) the Mozilla Public License Version 2.0

-----------------------------------------------------------------------------

                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

-----------------------------------------------------------------------------
Mozilla Public License, version 2.0

1. Definitions

1.1. “Contributor”

     means each individual or legal entity that creates, contributes to the
     creation of, or owns Covered Software.

1.2. “Contributor Version”

     means the combination of the Contributions of others (if any) used by a
     Contributor and that particular Contributor’s Contribution.

1.3. “Contribution”

     means Covered Software of a particular Contributor.

1.4. “Covered Software”

     means Source Code Form to which the initial Contributor has attached the
     notice in Exhibit A, the Executable Form of such Source Code Form, and
     Modifications of such Source Code Form, in each case including portions
     thereof.

1.5. “Incompatible With Secondary Licenses”
     means

     a. that the initial Contributor has attached the notice described in
        Exhibit B to the Covered Software; or

     b. that the Covered Software was made available under the terms of version
        1.1 or earlier of the License, but not also under the terms of a
        Secondary License.

1.6. “Executable Form”

     means any form of the work other than Source Code Form.

1.7. “Larger Work”

     means a work that combines Covered Software with other material, in a separate
     file or files, that is not Covered Software.

1.8. “License”

     means this document.

1.9. “Licensable”

     means having the right to grant, to the maximum extent possible, whether at the
     time of the initial grant or subsequently, any and all of the rights conveyed by
     this License.

1.10. “Modifications”

     means any of the following:

     a. any file in Source Code Form that results from an addition to, deletion
        from, or modification of the contents of Covered Software; or

     b. any new file in Source Code Form that contains any Covered Software.

1.11. “Patent Claims” of a Contributor

      means any patent claim(s), including without limitation, method, process,
      and apparatus claims, in any patent Licensable by such Contributor that
      would be infringed, but for the grant of the License, by the making,
      using, selling, offering for sale, having made, import, or transfer of
      either its Contributions or its Contributor Version.

1.12. “Secondary License”

      means either the GNU General Public License, Version 2.0, the GNU Lesser
      General Public License, Version 2.1, the GNU Affero General Public
      License, Version 3.0, or any later versions of those licenses.

1.13. “Source Code Form”

      means the form of the work preferred for making modifications.

1.14. “You” (or “Your”)

      means an individual or a legal entity exercising rights under this
      License. For legal entities, “You” includes any entity that controls, is
      controlled by, or is under common control with You. For purposes of this
      definition, “control” means (a) the power, direct or indirect, to cause
      the direction or management of such entity, whether by contract or
      otherwise, or (b) ownership of more than fifty percent (50%) of the
      outstanding shares or beneficial ownership of such entity.


2. License Grants and Conditions

2.1. Grants

     Each Contributor hereby grants You a world-wide, royalty-free,
     non-exclusive license:

     a. under intellectual property rights (other than patent or trademark)
        Licensable by such Contributor to use, reproduce, make available,
        modify, display, perform, distribute, and otherwise exploit its
        Contributions, either on an unmodified basis, with Modifications, or as
        part of a Larger Work; and

     b. under Patent Claims of such Contributor to make, use, sell, offer for
        sale, have made, import, and otherwise transfer either its Contributions
        or its Contributor Version.

2.2. Effective Date

     The licenses granted in Section 2.1 with respect to any Contribution become
     effective for each Contribution on the date the Contributor first distributes
     such Contribution.

2.3. Limitations on Grant Scope

     The licenses granted in this Section 2 are the only rights granted under this
     License. No additional rights or licenses will be implied from the distribution
     or licensing of Covered Software under this License. Notwithstanding Section
     2.1(b) above, no patent license is granted by a Contributor:

     a. for any code that a Contributor has removed from Covered Software; or

     b. for infringements caused by: (i) Your and any other third party’s
        modifications of Covered Software, or (ii) the combination of its
        Contributions with other software (except as part of its Contributor
        Version); or

     c. under Patent Claims infringed by Covered Software in the absence of its
        Contributions.

     This License does not grant any rights in the trademarks, service marks, or
     logos of any Contributor (except as may be necessary to comply with the
     notice requirements in Section 3.4).

2.4. Subsequent Licenses

     No Contributor makes additional grants as a result of Your choice to
     distribute the Covered Software under a subsequent version of this License
     (see Section 10.2) or under the terms of a Secondary License (if permitted
     under the terms of Section 3.3).

2.5. Representation

     Each Contributor represents that the Contributor believes its Contributions
     are its original creation(s) or it has sufficient rights to grant the
     rights to its Contributions conveyed by this License.

2.6. Fair Use

     This License is not intended to limit any rights You have under applicable
     copyright doctrines of fair use, fair dealing, or other equivalents.

2.7. Conditions

     Sections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted in
     Section 2.1.


3. Responsibilities

3.1. Distribution of Source Form

     All distribution of Covered Software in Source Code Form, including any
     Modifications that You create or to which You contribute, must be under the
     terms of this License. You must inform recipients that the Source Code Form
     of the Covered Software is governed by the terms of this License, and how
     they can obtain a copy of this License. You may not attempt to alter or
     restrict the recipients’ rights in the Source Code Form.

3.2. Distribution of Executable Form

     If You distribute Covered Software in Executable Form then:

     a. such Covered Software must also be made available in Source Code Form,
        as described in Section 3.1, and You must inform recipients of the
        Executable Form how they can obtain a copy of such Source Code Form by
        reasonable means in a timely manner, at a charge no more than the cost
        of distribution to the recipient; and

     b. You may distribute such Executable Form under the terms of this License,
        or sublicense it under different terms, provided that the license for
        the Executable Form does not attempt to limit or alter the recipients’
        rights in the Source Code Form under this License.

3.3. Distribution of a Larger Work

     You may create and distribute a Larger Work under terms of Your choice,
     provided that You also comply with the requirements of this License for the
     Covered Software. If the Larger Work is a combination of Covered Software
     with a work governed by one or more Secondary Licenses, and the Covered
     Software is not Incompatible With Secondary Licenses, this License permits
     You to additionally distribute such Covered Software under the terms of
     such Secondary License(s), so that the recipient of the Larger Work may, at
     their option, further distribute the Covered Software under the terms of
     either this License or such Secondary License(s).

3.4. Notices

     You may not remove or alter the substance of any license notices (including
     copyright notices, patent notices, disclaimers of warranty, or limitations
     of liability) contained within the Source Code Form of the Covered
     Software, except that You may alter any license notices to the extent
     required to remedy known factual inaccuracies.

3.5. Application of Additional Terms

     You may choose to offer, and to charge a fee for, warranty, support,
     indemnity or liability obligations to one or more recipients of Covered
     Software. However, You may do so only on Your own behalf, and not on behalf
     of any Contributor. You must make it absolutely clear that any such
     warranty, support, indemnity, or liability obligation is offered by You
     alone, and You hereby agree to indemnify every Contributor for any
     liability incurred by such Contributor as a result of warranty, support,
     indemnity or liability terms You offer. You may include additional
     disclaimers of warranty and limitations of liability specific to any
     jurisdiction.

4. Inability to Comply Due to Statute or Regulation

   If it is impossible for You to comply with any of the terms of this License
   with respect to some or all of the Covered Software due to statute, judicial
   order, or regulation then You must: (a) comply with the terms of this License
   to the maximum extent possible; and (b) describe the limitations and the code
   they affect. Such description must be placed in a text file included with all
   distributions of the Covered Software under this License. Except to the
   extent prohibited by statute or regulation, such description must be
   sufficiently detailed for a recipient of ordinary skill to be able to
   understand it.

5. Termination

5.1. The rights granted under this License will terminate automatically if You
     fail to comply with any of its terms. However, if You become compliant,
     then the rights granted under this License from a particular Contributor
     are reinstated (a) provisionally, unless and until such Contributor
     explicitly and finally terminates Your grants, and (b) on an ongoing basis,
     if such Contributor fails to notify You of the non-compliance by some
     reasonable means prior to 60 days after You have come back into compliance.
     Moreover, Your grants from a particular Contributor are reinstated on an
     ongoing basis if such Contributor notifies You of the non-compliance by
     some reasonable means, this is the first time You have received notice of
     non-compliance with this License from such Contributor, and You become
     compliant prior to 30 days after Your receipt of the notice.

5.2. If You initiate litigation against any entity by asserting a patent
     infringement claim (excluding declaratory judgment actions, counter-claims,
     and cross-claims) alleging that a Contributor Version directly or
     indirectly infringes any patent, then the rights granted to You by any and
     all Contributors for the Covered Software under Section 2.1 of this License
     shall terminate.

5.3. In the event of termination under Sections 5.1 or 5.2 above, all end user
     license agreements (excluding distributors and resellers) which have been
     validly granted by You or Your distributors under this License prior to
     termination shall survive termination.

6. Disclaimer of Warranty

   Covered Software is provided under this License on an “as is” basis, without
   warranty of any kind, either expressed, implied, or statutory, including,
   without limitation, warranties that the Covered Software is free of defects,
   merchantable, fit for a particular purpose or non-infringing. The entire
   risk as to the quality and performance of the Covered Software is with You.
   Should any Covered Software prove defective in any respect, You (not any
   Contributor) assume the cost of any necessary servicing, repair, or
   correction. This disclaimer of warranty constitutes an essential part of this
   License. No use of  any Covered Software is authorized under this License
   except under this disclaimer.

7. Limitation of Liability

   Under no circumstances and under no legal theory, whether tort (including
   negligence), contract, or otherwise, shall any Contributor, or anyone who
   distributes Covered Software as permitted above, be liable to You for any
   direct, indirect, special, incidental, or consequential damages of any
   character including, without limitation, damages for lost profits, loss of
   goodwill, work stoppage, computer failure or malfunction, or any and all
   other commercial damages or losses, even if such party shall have been
   informed of the possibility of such damages. This limitation of liability
   shall not apply to liability for death or personal injury resulting from such
   party’s negligence to the extent applicable law prohibits such limitation.
   Some jurisdictions do not allow the exclusion or limitation of incidental or
   consequential damages, so this exclusion and limitation may not apply to You.

8. Litigation

   Any litigation relating to this License may be brought only in the courts of
   a jurisdiction where the defendant maintains its principal place of business
   and such litigation shall be governed by laws of that jurisdiction, without
   reference to its conflict-of-law provisions. Nothing in this Section shall
   prevent a party’s ability to bring cross-claims or counter-claims.

9. Miscellaneous

   This License represents the complete agreement concerning the subject matter
   hereof. If any provision of this License is held to be unenforceable, such
   provision shall be reformed only to the extent necessary to make it
   enforceable. Any law or regulation which provides that the language of a
   contract shall be construed against the drafter shall not be used to construe
   this License against a Contributor.


10. Versions of the License

10.1. New Versions

      Mozilla Foundation is the license steward. Except as provided in Section
      10.3, no one other than the license steward has the right to modify or
      publish new versions of this License. Each version will be given a
      distinguishing version number.

10.2. Effect of New Versions

      You may distribute the Covered Software under the terms of the version of
      the License under which You originally received the Covered Software, or
      under the terms of any subsequent version published by the license
      steward.

10.3. Modified Versions

      If you create software not governed by this License, and you want to
      create a new license for such software, you may create and use a modified
      version of this License if you rename the license and remove any
      references to the name of the license steward (except to note that such
      modified license differs from this License).

10.4. Distributing Source Code Form that is Incompatible With Secondary Licenses
      If You choose to distribute Source Code Form that is Incompatible With
      Secondary Licenses under the terms of this version of the License, the
      notice described in Exhibit B of this License must be attached.

Exhibit A - Source Code Form License Notice

      This Source Code Form is subject to the
      terms of the Mozilla Public License, v.
      2.0. If a copy of the MPL was not
      distributed with this file, You can
      obtain one at
      http://mozilla.org/MPL/2.0/.

If it is not possible or desirable to put the notice in a particular file, then
You may include the notice in a location (such as a LICENSE file in a relevant
directory) where a recipient would be likely to look for such a notice.

You may add additional accurate notices of copyright ownership.

Exhibit B - “Incompatible With Secondary Licenses” Notice

      This Source Code Form is “Incompatible
      With Secondary Licenses”, as defined by
      the Mozilla Public License, v. 2.0.

---

Name: mermaid
Version: 11.4.1
License: MIT
Private: false
Description: Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.
Repository: https://github.com/mermaid-js/mermaid
Author: Knut Sveidqvist
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2014 - 2022 Knut Sveidqvist

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: @iconify/utils
Version: 2.3.0
License: MIT
Private: false
Description: Common functions for working with Iconify icon sets used by various packages.
Repository: https://github.com/iconify/iconify.git
Homepage: https://iconify.design/docs/libraries/utils/
Author: Vjacheslav Trushkin
License Copyright:
===

MIT License

Copyright (c) 2021-PRESENT Vjacheslav Trushkin

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: @braintree/sanitize-url
Version: 7.1.1
License: MIT
Private: false
Description: A url sanitizer
Repository: git+https://github.com/braintree/sanitize-url.git
Homepage: https://github.com/braintree/sanitize-url#readme
License Copyright:
===

MIT License

Copyright (c) 2017 Braintree

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: d3-array
Version: 3.2.4
License: ISC
Private: false
Description: Array manipulation, ordering, searching, summarizing, etc.
Repository: https://github.com/d3/d3-array.git
Homepage: https://d3js.org/d3-array/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2023 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: internmap
Version: 2.0.3
License: ISC
Private: false
Description: Map and Set with automatic key interning
Repository: https://github.com/mbostock/internmap.git
Homepage: https://github.com/mbostock/internmap/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-axis
Version: 3.0.0
License: ISC
Private: false
Description: Displays automatic reference lines for scales.
Repository: https://github.com/d3/d3-axis.git
Homepage: https://d3js.org/d3-axis/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-dispatch
Version: 3.0.1
License: ISC
Private: false
Description: Register named callbacks and call them with arguments.
Repository: https://github.com/d3/d3-dispatch.git
Homepage: https://d3js.org/d3-dispatch/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-selection
Version: 3.0.0
License: ISC
Private: false
Description: Data-driven DOM manipulation: select elements and join them to data.
Repository: https://github.com/d3/d3-selection.git
Homepage: https://d3js.org/d3-selection/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-color
Version: 3.1.0
License: ISC
Private: false
Description: Color spaces! RGB, HSL, Cubehelix, Lab and HCL (Lch).
Repository: https://github.com/d3/d3-color.git
Homepage: https://d3js.org/d3-color/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2022 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-interpolate
Version: 3.0.1
License: ISC
Private: false
Description: Interpolate numbers, colors, strings, arrays, objects, whatever!
Repository: https://github.com/d3/d3-interpolate.git
Homepage: https://d3js.org/d3-interpolate/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-timer
Version: 3.0.1
License: ISC
Private: false
Description: An efficient queue capable of managing thousands of concurrent animations.
Repository: https://github.com/d3/d3-timer.git
Homepage: https://d3js.org/d3-timer/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-transition
Version: 3.0.1
License: ISC
Private: false
Description: Animated transitions for D3 selections.
Repository: https://github.com/d3/d3-transition.git
Homepage: https://d3js.org/d3-transition/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-ease
Version: 3.0.1
License: BSD-3-Clause
Private: false
Description: Easing functions for smooth animation.
Repository: https://github.com/d3/d3-ease.git
Homepage: https://d3js.org/d3-ease/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock
Copyright 2001 Robert Penner
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: d3-path
Version: 3.1.0
License: ISC
Private: false
Description: Serialize Canvas path commands to SVG.
Repository: https://github.com/d3/d3-path.git
Homepage: https://d3js.org/d3-path/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2015-2022 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-format
Version: 3.1.0
License: ISC
Private: false
Description: Format numbers for human consumption.
Repository: https://github.com/d3/d3-format.git
Homepage: https://d3js.org/d3-format/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-scale
Version: 4.0.2
License: ISC
Private: false
Description: Encodings that map abstract data to visual representation.
Repository: https://github.com/d3/d3-scale.git
Homepage: https://d3js.org/d3-scale/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-time
Version: 3.1.0
License: ISC
Private: false
Description: A calculator for humanity’s peculiar conventions of time.
Repository: https://github.com/d3/d3-time.git
Homepage: https://d3js.org/d3-time/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2022 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-time-format
Version: 4.1.0
License: ISC
Private: false
Description: A JavaScript time formatter and parser inspired by strftime and strptime.
Repository: https://github.com/d3/d3-time-format.git
Homepage: https://d3js.org/d3-time-format/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-scale-chromatic
Version: 3.1.0
License: ISC
Private: false
Description: Sequential, diverging and categorical color schemes.
Repository: https://github.com/d3/d3-scale-chromatic.git
Homepage: https://d3js.org/d3-scale-chromatic/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2024 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

Apache-Style Software License for ColorBrewer software and ColorBrewer Color Schemes

Copyright 2002 Cynthia Brewer, Mark Harrower, and The Pennsylvania State University

Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.

---

Name: d3-shape
Version: 3.2.0
License: ISC
Private: false
Description: Graphical primitives for visualization, such as lines and areas.
Repository: https://github.com/d3/d3-shape.git
Homepage: https://d3js.org/d3-shape/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2022 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: d3-zoom
Version: 3.0.0
License: ISC
Private: false
Description: Pan and zoom SVG, HTML or Canvas using mouse or touch input.
Repository: https://github.com/d3/d3-zoom.git
Homepage: https://d3js.org/d3-zoom/
Author: Mike Bostock (https://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2021 Mike Bostock

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.

---

Name: lodash-es
Version: 4.17.21
License: MIT
Private: false
Description: Lodash exported as ES modules.
Repository: undefined
Homepage: https://lodash.com/custom-builds
Author: John-David Dalton <john.david.dalton@gmail.com>
Contributors:
  John-David Dalton <john.david.dalton@gmail.com>
  Mathias Bynens <mathias@qiwi.be>
License Copyright:
===

Copyright OpenJS Foundation and other contributors <https://openjsf.org/>

Based on Underscore.js, copyright Jeremy Ashkenas,
DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>

This software consists of voluntary contributions made by many
individuals. For exact contribution history, see the revision history
available at https://github.com/lodash/lodash

The following license applies to all parts of this software except as
documented below:

====

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

====

Copyright and related rights for sample code are waived via CC0. Sample
code is defined as all source code displayed within the prose of the
documentation.

CC0: http://creativecommons.org/publicdomain/zero/1.0/

====

Files located in the node_modules and vendor directories are externally
maintained libraries used by this software which have their own
licenses; we recommend you read them, as their terms may differ from the
terms above.

---

Name: marked
Version: 13.0.3
License: MIT
Private: false
Description: A markdown parser built for speed
Repository: undefined
Homepage: https://marked.js.org
Author: Christopher Jeffrey
License Copyright:
===

# License information

## Contribution License Agreement

If you contribute code to this project, you are implicitly allowing your code
to be distributed under the MIT license. You are also implicitly verifying that
all code is your original work. \`</legalese>\`

## Marked

Copyright (c) 2018+, MarkedJS (https://github.com/markedjs/)
Copyright (c) 2011-2018, Christopher Jeffrey (https://github.com/chjj/)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

## Markdown

Copyright © 2004, John Gruber
http://daringfireball.net/
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
* Neither the name “Markdown” nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

This software is provided by the copyright holders and contributors “as is” and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed. In no event shall the copyright owner or contributors be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this software, even if advised of the possibility of such damage.

---

Name: ts-dedent
Version: 2.2.0
License: MIT
Private: false
Description: TypeScript package which smartly trims and strips indentation from multi-line strings
Repository: https://github.com/tamino-martinius/node-ts-dedent.git
Author: Tamino Martinius <dev@zaku.eu>
License Copyright:
===

MIT License

Copyright (c) 2018 Tamino Martinius

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: roughjs
Version: 4.6.6
License: MIT
Private: false
Description: Create graphics using HTML Canvas or SVG with a hand-drawn, sketchy, appearance.
Repository: git+https://github.com/pshihn/rough.git
Homepage: https://roughjs.com
Author: Preet Shihn <preetshihn@gmail.com>
License Copyright:
===

MIT License

Copyright (c) 2019 Preet Shihn

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: stylis
Version: 4.3.6
License: MIT
Private: false
Description: A Light–weight CSS Preprocessor
Repository: undefined
Homepage: https://github.com/thysultan/stylis.js
Author: Sultan Tarimo <sultantarimo@me.com>
License Copyright:
===

MIT License

Copyright (c) 2016-present Sultan Tarimo

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: mermaid-isomorphic
Version: 3.0.0
License: MIT
Private: false
Description: Transform mermaid diagrams in the browser or Node.js
Repository: undefined
Homepage: https://github.com/remcohaszing/mermaid-isomorphic#readme
Author: Remco Haszing <remcohaszing@gmail.com>
License Copyright:
===

# MIT License

Copyright © 2023 Remco Haszing

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
associated documentation files (the “Software”), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge, publish, distribute,
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial
portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES
OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mini-svg-data-uri
Version: 1.4.4
License: MIT
Private: false
Description: Small, efficient encoding of SVG data URIs for CSS, HTML, etc.
Repository: git+https://github.com/tigt/mini-svg-data-uri.git
Homepage: https://github.com/tigt/mini-svg-data-uri#readme
Author: Taylor “Tigt” Hunt <holla@ti.gt> (https://ti.gt/)
License Copyright:
===

MIT License

Copyright (c) 2018 Taylor Hunt

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: rehype-mermaid
Version: 3.0.0
License: MIT
Private: false
Description: A rehype plugin to render mermaid diagrams
Repository: undefined
Homepage: https://github.com/remcohaszing/rehype-mermaid#readme
Author: Remco Haszing <remcohaszing@gmail.com>
License Copyright:
===

# MIT License

Copyright © 2023 Remco Haszing

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
associated documentation files (the “Software”), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge, publish, distribute,
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial
portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES
OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-code-extra
Version: 1.0.1
License: MIT
Private: false
Description: Add to or transform the HTML output of markdown code blocks using remark
Repository: https://github.com/samlanning/remark-code-extra
Author: Sam Lanning <sam@samlanning.com> (https://samlanning.com/)

---

Name: mdast-util-find-and-replace
Version: 3.0.2
License: MIT
Private: false
Description: mdast utility to find and replace text in a tree
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-gfm-autolink-literal
Version: 2.0.1
License: MIT
Private: false
Description: mdast extension to parse and serialize GFM autolink literals
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-gfm-footnote
Version: 2.1.0
License: MIT
Private: false
Description: mdast extension to parse and serialize GFM footnotes
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-gfm-strikethrough
Version: 2.0.0
License: MIT
Private: false
Description: mdast extension to parse and serialize GFM strikethrough
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: markdown-table
Version: 3.0.4
License: MIT
Private: false
Description: Generate a markdown (GFM) table
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-gfm-table
Version: 2.0.0
License: MIT
Private: false
Description: mdast extension to parse and serialize GFM tables
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-gfm-task-list-item
Version: 2.0.0
License: MIT
Private: false
Description: mdast extension to parse and serialize GFM task list items
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: mdast-util-gfm
Version: 3.1.0
License: MIT
Private: false
Description: mdast extension to parse and serialize GFM (GitHub Flavored Markdown)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-gfm-autolink-literal
Version: 2.1.0
License: MIT
Private: false
Description: micromark extension to support GFM autolink literals
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-gfm-footnote
Version: 2.1.0
License: MIT
Private: false
Description: micromark extension to support GFM footnotes
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2021 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-gfm-strikethrough
Version: 2.1.0
License: MIT
Private: false
Description: micromark extension to support GFM strikethrough
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-gfm-table
Version: 2.1.1
License: MIT
Private: false
Description: micromark extension to support GFM tables
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-gfm-task-list-item
Version: 2.1.0
License: MIT
Private: false
Description: micromark extension to support GFM task list items
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: micromark-extension-gfm
Version: 3.0.0
License: MIT
Private: false
Description: micromark extension to support GFM (GitHub Flavored Markdown)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: remark-gfm
Version: 4.0.1
License: MIT
Private: false
Description: remark plugin to support GFM (autolink literals, footnotes, strikethrough, tables, tasklists)
Repository: undefined
Author: Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
Contributors:
  Titus Wormer <tituswormer@gmail.com> (https://wooorm.com)
License Copyright:
===

(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: katex
Version: 0.16.21
License: MIT
Private: false
Description: Fast math typesetting for the web.
Repository: https://github.com/KaTeX/KaTeX.git
Homepage: https://katex.org
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2013-2020 Khan Academy and other contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: dagre-d3-es
Version: 7.0.11
License: MIT
Private: false
Repository: git+https://github.com/tbo47/dagre-es.git
Contributors:
  Thibaut Lassalle (https://tbo47.github.io/)
  Alois Klink (https://github.com/aloisklink)
  David Newell (https://github.com/rustedgrail)
  Sidharth Vinod (https://github.com/sidharthv96)
License Copyright:
===

Original dagre-d3 copyright: Copyright (c) 2013 Chris Pettitt
Original dagre copyright: Copyright (c) 2012-2014 Chris Pettitt
Original graphlib copyright: Copyright (c) 2012-2014 Chris Pettitt

Copyright (c) 2022-2024 Thibaut Lassalle, David Newell, Alois Klink, Sidharth Vinod and dagre-es contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

---

Name: uuid
Version: 9.0.1
License: MIT
Private: false
Description: RFC4122 (v1, v4, and v5) UUIDs
Repository: https://github.com/uuidjs/uuid.git
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2010-2020 Robert Kieffer and other contributors

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: langium
Version: 3.0.0
License: MIT
Private: false
Description: A language engineering tool for the Language Server Protocol
Repository: https://github.com/eclipse-langium/langium
Homepage: https://langium.org
Author: TypeFox (https://www.typefox.io)
License Copyright:
===

Copyright 2021 TypeFox GmbH

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
associated documentation files (the "Software"), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge, publish, distribute,
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or
substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: @chevrotain/regexp-to-ast
Version: 11.0.3
License: Apache-2.0
Private: false
Description: Parses a Regular Expression and outputs an AST
Repository: git://github.com/Chevrotain/chevrotain.git
License Copyright:
===


                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

---

Name: @chevrotain/utils
Version: 11.0.3
License: Apache-2.0
Private: false
Description: common utilities
Repository: git://github.com/Chevrotain/chevrotain.git
Author: Shahar Soel
License Copyright:
===


                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

---

Name: @chevrotain/gast
Version: 11.0.3
License: Apache-2.0
Private: false
Description: Grammar AST structure for Chevrotain Parsers
Repository: git://github.com/Chevrotain/chevrotain.git
License Copyright:
===


                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

---

Name: chevrotain
Version: 11.0.3
License: Apache-2.0
Private: false
Description: Chevrotain is a high performance fault tolerant javascript parsing DSL for building recursive decent parsers
Repository: git://github.com/Chevrotain/chevrotain.git
Homepage: https://chevrotain.io/docs/
Author: Shahar Soel
License Copyright:
===


                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

---

Name: chevrotain-allstar
Version: 0.3.1
License: MIT
Private: false
Description: LL(*) lookahead strategy for the Chevrotain parser library
Repository: https://github.com/langium/chevrotain-allstar
Author: TypeFox (https://www.typefox.io)
License Copyright:
===

Copyright 2022 TypeFox GmbH\r
\r
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r
associated documentation files (the "Software"), to deal in the Software without restriction,\r
including without limitation the rights to use, copy, modify, merge, publish, distribute,\r
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r
furnished to do so, subject to the following conditions:\r
\r
The above copyright notice and this permission notice shall be included in all copies or\r
substantial portions of the Software.\r
\r
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\r
BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: vscode-languageserver-types
Version: 3.17.5
License: MIT
Private: false
Description: Types used by the Language server for node
Repository: https://github.com/Microsoft/vscode-languageserver-node.git
Author: Microsoft Corporation
License Copyright:
===

Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: vscode-jsonrpc
Version: 8.2.0
License: MIT
Private: false
Description: A json rpc implementation over streams
Repository: https://github.com/Microsoft/vscode-languageserver-node.git
Author: Microsoft Corporation
License Copyright:
===

Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: vscode-languageserver-textdocument
Version: 1.0.12
License: MIT
Private: false
Description: A simple text document implementation for Node LSP servers
Repository: https://github.com/Microsoft/vscode-languageserver-node.git
Author: Microsoft Corporation
License Copyright:
===

Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: vscode-uri
Version: 3.0.8
License: MIT
Private: false
Description: The URI implementation that is used by VS Code and its extensions
Repository: git+https://github.com/microsoft/vscode-uri.git
Homepage: https://github.com/microsoft/vscode-uri#readme
Author: Microsoft
License Copyright:
===

The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

Name: @mermaid-js/parser
Version: 0.3.0
License: MIT
Private: false
Description: MermaidJS parser
Repository: https://github.com/mermaid-js/mermaid.git
Homepage: https://github.com/mermaid-js/mermaid/tree/develop/packages/mermaid/parser/#readme
Author: Yokozuna59
Contributors:
  Yokozuna59
  Sidharth Vinod (https://sidharth.dev)
License Copyright:
===

The MIT License (MIT)

Copyright (c) 2023 Yokozuna59

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: cytoscape
Version: 3.31.0
License: MIT
Private: false
Description: Graph theory (a.k.a. network) library for analysis and visualisation
Repository: https://github.com/cytoscape/cytoscape.js.git
Homepage: http://js.cytoscape.org
License Copyright:
===

Copyright (c) 2016-2025, The Cytoscape Consortium.

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: cytoscape-cose-bilkent
Version: 4.1.0
License: MIT
Private: false
Description: The CoSE layout for Cytoscape.js by Bilkent with enhanced compound node placement
Repository: https://github.com/cytoscape/cytoscape.js-cose-bilkent.git
Homepage: https://github.com/cytoscape/cytoscape.js-cose-bilkent
License Copyright:
===



Copyright (c) 2016-2018, The Cytoscape Consortium.

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: cose-base
Version: 1.0.3
License: MIT
Private: false
Description: Core module for compound spring embedder based layout styles
Repository: git+https://github.com/iVis-at-Bilkent/cose-base.git
Homepage: https://github.com/iVis-at-Bilkent/cose-base#readme
License Copyright:
===

MIT License

Copyright (c) 2019 - present, iVis@Bilkent.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: layout-base
Version: 1.0.2
License: MIT
Private: false
Description: Basic layout model and some utilities for Cytoscape.js layout extensions
Repository: git+https://github.com/iVis-at-Bilkent/layout-base.git
Homepage: https://github.com/iVis-at-Bilkent/layout-base#readme
License Copyright:
===

MIT License

Copyright (c) 2019 iVis@Bilkent

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: d3-array
Version: 2.12.1
License: BSD-3-Clause
Private: false
Description: Array manipulation, ordering, searching, summarizing, etc.
Repository: https://github.com/d3/d3-array.git
Homepage: https://d3js.org/d3-array/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2020 Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: d3-sankey
Version: 0.12.3
License: BSD-3-Clause
Private: false
Description: Visualize flow between nodes in a directed acyclic network.
Repository: https://github.com/d3/d3-sankey.git
Homepage: https://github.com/d3/d3-sankey
Author: Mike Bostock (https://bost.ocks.org/mike/)
License Copyright:
===

Copyright 2015, Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: d3-path
Version: 1.0.9
License: BSD-3-Clause
Private: false
Description: Serialize Canvas path commands to SVG.
Repository: https://github.com/d3/d3-path.git
Homepage: https://d3js.org/d3-path/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2015-2016 Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: d3-shape
Version: 1.3.7
License: BSD-3-Clause
Private: false
Description: Graphical primitives for visualization, such as lines and areas.
Repository: https://github.com/d3/d3-shape.git
Homepage: https://d3js.org/d3-shape/
Author: Mike Bostock (http://bost.ocks.org/mike)
License Copyright:
===

Copyright 2010-2015 Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

---

Name: cytoscape-fcose
Version: 2.2.0
License: MIT
Private: false
Description: The fCoSE layout for Cytoscape.js by Bilkent with fast compound node placement
Repository: https://github.com/iVis-at-Bilkent/cytoscape.js-fcose.git
Homepage: https://github.com/iVis-at-Bilkent/cytoscape.js-fcose
Author: iVis-at-Bilkent
License Copyright:
===

Copyright (c) 2018 - present, iVis-at-Bilkent.

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: cose-base
Version: 2.2.0
License: MIT
Private: false
Description: Core module for compound spring embedder based layout styles
Repository: git+https://github.com/iVis-at-Bilkent/cose-base.git
Homepage: https://github.com/iVis-at-Bilkent/cose-base#readme
License Copyright:
===

MIT License

Copyright (c) 2019 - present, iVis@Bilkent.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

Name: layout-base
Version: 2.0.1
License: MIT
Private: false
Description: Basic layout model and some utilities for Cytoscape.js layout extensions
Repository: git+https://github.com/iVis-at-Bilkent/layout-base.git
Homepage: https://github.com/iVis-at-Bilkent/layout-base#readme
License Copyright:
===

MIT License

Copyright (c) 2019 iVis@Bilkent

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,eSe={class:"about"},tSe=Tu({__name:"AboutView",setup(e){return(t,n)=>(br(),Jr("div",eSe,[n[0]||(n[0]=Qe("div",null,[Qr(" This software is released under the terms of the MIT license. See the "),Qe("a",{href:"https://codeberg.org/stewarthaines/epub-author"},"epub-author repository"),Qr(" for terms ")],-1)),n[1]||(n[1]=Qe("div",null,"Including these software dependencies",-1)),Qe("pre",null,No(Vn(J4e)),1)]))}}),nSe=hv(tSe,[["__scopeId","data-v-8b4d428f"]]),rSe=Object.freeze(Object.defineProperty({__proto__:null,default:nSe},Symbol.toStringTag,{value:"Module"})),iSe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let BT=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};BT.prototype.property={};BT.prototype.normal={};BT.prototype.space=null;function bJ(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new BT(n,r,t)}function Sb(e){return e.toLowerCase()}let Nl=class{constructor(t,n){this.property=t,this.attribute=n}};Nl.prototype.space=null;Nl.prototype.boolean=!1;Nl.prototype.booleanish=!1;Nl.prototype.overloadedBoolean=!1;Nl.prototype.number=!1;Nl.prototype.commaSeparated=!1;Nl.prototype.spaceSeparated=!1;Nl.prototype.commaOrSpaceSeparated=!1;Nl.prototype.mustUseProperty=!1;Nl.prototype.defined=!1;let aSe=0;const vn=Rp(),Ai=Rp(),TJ=Rp(),dt=Rp(),vr=Rp(),s1=Rp(),xo=Rp();function Rp(){return 2**++aSe}const RO=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Ai,commaOrSpaceSeparated:xo,commaSeparated:s1,number:dt,overloadedBoolean:TJ,spaceSeparated:vr},Symbol.toStringTag,{value:"Module"})),lC=Object.keys(RO);class i_ extends Nl{constructor(t,n,r,a){let o=-1;if(super(t,n),LH(this,"space",a),typeof r=="number")for(;++o<lC.length;){const l=lC[o];LH(this,lC[o],(r&RO[l])===RO[l])}}}i_.prototype.defined=!0;function LH(e,t,n){n&&(e[t]=n)}const sSe={}.hasOwnProperty;function fv(e){const t={},n={};let r;for(r in e.properties)if(sSe.call(e.properties,r)){const a=e.properties[r],o=new i_(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Sb(r)]=r,n[Sb(o.attribute)]=r}return new BT(t,n,e.space)}const EJ=fv({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),wJ=fv({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function xJ(e,t){return t in e?e[t]:t}function SJ(e,t){return xJ(e,t.toLowerCase())}const AJ=fv({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:SJ,properties:{xmlns:null,xmlnsXLink:null}}),IJ=fv({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ai,ariaAutoComplete:null,ariaBusy:Ai,ariaChecked:Ai,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:vr,ariaCurrent:null,ariaDescribedBy:vr,ariaDetails:null,ariaDisabled:Ai,ariaDropEffect:vr,ariaErrorMessage:null,ariaExpanded:Ai,ariaFlowTo:vr,ariaGrabbed:Ai,ariaHasPopup:null,ariaHidden:Ai,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vr,ariaLevel:dt,ariaLive:null,ariaModal:Ai,ariaMultiLine:Ai,ariaMultiSelectable:Ai,ariaOrientation:null,ariaOwns:vr,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:Ai,ariaReadOnly:Ai,ariaRelevant:null,ariaRequired:Ai,ariaRoleDescription:vr,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:Ai,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null}}),oSe=fv({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:SJ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:s1,acceptCharset:vr,accessKey:vr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:vr,autoFocus:vn,autoPlay:vn,blocking:vr,capture:null,charSet:null,checked:vn,cite:null,className:vr,cols:dt,colSpan:null,content:null,contentEditable:Ai,controls:vn,controlsList:vr,coords:dt|s1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:TJ,draggable:Ai,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:vr,height:dt,hidden:vn,high:dt,href:null,hrefLang:null,htmlFor:vr,httpEquiv:vr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:vr,itemRef:vr,itemScope:vn,itemType:vr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:dt,pattern:null,ping:vr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:vr,required:vn,reversed:vn,rows:dt,rowSpan:dt,sandbox:vr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootClonable:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:Ai,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Ai,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:vr,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:Ai,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:dt,security:null,unselectable:null}}),lSe=fv({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:xJ,properties:{about:xo,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:vr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:s1,g2:s1,glyphName:s1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:xo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:vr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xo,rev:xo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xo,requiredFeatures:xo,requiredFonts:xo,requiredFormats:xo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:xo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xo,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),cSe=/^data[-\w.:]+$/i,_H=/-[a-z]/g,uSe=/[A-Z]/g;function CJ(e,t){const n=Sb(t);let r=t,a=Nl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cSe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(_H,fSe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!_H.test(o)){let l=o.replace(uSe,hSe);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=i_}return new a(r,t)}function hSe(e){return"-"+e.toLowerCase()}function fSe(e){return e.charAt(1).toUpperCase()}const RJ=bJ([wJ,EJ,AJ,IJ,oSe],"html"),a_=bJ([wJ,EJ,AJ,IJ,lSe],"svg"),DH={}.hasOwnProperty;function dSe(e,t){const n=t||{};function r(a,...o){let l=r.invalid;const u=r.handlers;if(a&&DH.call(a,e)){const h=String(a[e]);l=DH.call(u,h)?u[h]:r.unknown}if(l)return l.call(this,a,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const pSe=/["&'<>`]/g,gSe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mSe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,vSe=/[|\\{}()[\]^$+*?.]/g,MH=new WeakMap;function kJ(e,t){if(e=e.replace(t.subset?ySe(t.subset):pSe,r),t.subset||t.escapeOnly)return e;return e.replace(gSe,n).replace(mSe,r);function n(a,o,l){return t.format((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)-56320+65536,l.charCodeAt(o+2),t)}function r(a,o,l){return t.format(a.charCodeAt(0),l.charCodeAt(o+1),t)}}function ySe(e){let t=MH.get(e);return t||(t=bSe(e),MH.set(e,t)),t}function bSe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(vSe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const TSe=/[\dA-Fa-f]/;function ESe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!TSe.test(String.fromCharCode(t))?r:r+";"}const wSe=/\d/;function xSe(e,t,n){const r="&#"+String(e);return n&&t&&!wSe.test(String.fromCharCode(t))?r:r+";"}const OJ=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],cC={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},SSe=["cent","copy","divide","gt","lt","not","para","times"],NJ={}.hasOwnProperty,kO={};let pw;for(pw in cC)NJ.call(cC,pw)&&(kO[cC[pw]]=pw);const ASe=/[^\dA-Za-z]/;function ISe(e,t,n,r){const a=String.fromCharCode(e);if(NJ.call(kO,a)){const o=kO[a],l="&"+o;return n&&OJ.includes(o)&&!SSe.includes(o)&&(!r||t&&t!==61&&ASe.test(String.fromCharCode(t)))?l:l+";"}return""}function CSe(e,t,n){let r=ESe(e,t,n.omitOptionalSemicolons),a;if((n.useNamedReferences||n.useShortestReferences)&&(a=ISe(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!a)&&n.useShortestReferences){const o=xSe(e,t,n.omitOptionalSemicolons);o.length<r.length&&(r=o)}return a&&(!n.useShortestReferences||a.length<r.length)?a:r}function RSe(e){return"&#x"+e.toString(16).toUpperCase()+";"}function o1(e,t){return kJ(e,Object.assign({format:CSe},t))}function LJ(e,t){return kJ(e,Object.assign({format:RSe},t))}const kSe=/^>|^->|\x3C!--|-->|--!>|<!-$/g,OSe=[">"],NSe=["<",">"];function LSe(e,t,n,r){return r.settings.bogusComments?"<?"+o1(e.value,Object.assign({},r.settings.characterReferences,{subset:OSe}))+">":"\x3C!--"+e.value.replace(kSe,a)+"-->";function a(o){return o1(o,Object.assign({},r.settings.characterReferences,{subset:NSe}))}}function _Se(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function ym(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function PH(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const l=n.slice(a,r).trim();(l||!o)&&t.push(l),a=r+1,r=n.indexOf(",",a)}return t}function DSe(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function p4(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function MSe(e){return e.join(" ").trim()}const PSe=/[ \t\n\f\r]/g;function Fd(e){return typeof e=="object"?e.type==="text"?FH(e.value):!1:FH(e)}function FH(e){return e.replace(PSe,"")===""}const Qi=DJ(1),_J=DJ(-1),FSe=[];function DJ(e){return t;function t(n,r,a){const o=n?n.children:FSe;let l=(r||0)+e,u=o[l];if(!a)for(;u&&Fd(u);)l+=e,u=o[l];return u}}const BSe={}.hasOwnProperty;function MJ(e){return t;function t(n,r,a){return BSe.call(e,n.tagName)&&e[n.tagName](n,r,a)}}const s_=MJ({body:$Se,caption:uC,colgroup:uC,dd:zSe,dt:GSe,head:uC,html:HSe,li:USe,optgroup:YSe,option:VSe,p:WSe,rp:BH,rt:BH,tbody:jSe,td:HH,tfoot:XSe,th:HH,thead:qSe,tr:KSe});function uC(e,t,n){const r=Qi(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Fd(r.value.charAt(0)))}function HSe(e,t,n){const r=Qi(n,t);return!r||r.type!=="comment"}function $Se(e,t,n){const r=Qi(n,t);return!r||r.type!=="comment"}function WSe(e,t,n){const r=Qi(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function USe(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&r.tagName==="li"}function GSe(e,t,n){const r=Qi(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function zSe(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function BH(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function YSe(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function VSe(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function qSe(e,t,n){const r=Qi(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function jSe(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function XSe(e,t,n){return!Qi(n,t)}function KSe(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function HH(e,t,n){const r=Qi(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const ZSe=MJ({body:e5e,colgroup:t5e,head:JSe,html:QSe,tbody:n5e});function QSe(e){const t=Qi(e,-1);return!t||t.type!=="comment"}function JSe(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function e5e(e){const t=Qi(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Fd(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function t5e(e,t,n){const r=_J(n,t),a=Qi(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&s_(r,n.children.indexOf(r),n)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function n5e(e,t,n){const r=_J(n,t),a=Qi(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&s_(r,n.children.indexOf(r),n)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const gw={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function r5e(e,t,n,r){const a=r.schema,o=a.space==="svg"?!1:r.settings.omitOptionalTags;let l=a.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const u=[];let h;a.space==="html"&&e.tagName==="svg"&&(r.schema=a_);const f=i5e(r,e.properties),d=r.all(a.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=a,d&&(l=!1),(f||!o||!ZSe(e,t,n))&&(u.push("<",e.tagName,f?" "+f:""),l&&(a.space==="svg"||r.settings.closeSelfClosing)&&(h=f.charAt(f.length-1),(!r.settings.tightSelfClosing||h==="/"||h&&h!=='"'&&h!=="'")&&u.push(" "),u.push("/")),u.push(">")),u.push(d),!l&&(!o||!s_(e,t,n))&&u.push("</"+e.tagName+">"),u.join("")}function i5e(e,t){const n=[];let r=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const o=a5e(e,a,t[a]);o&&n.push(o)}}for(;++r<n.length;){const o=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&o!=='"'&&o!=="'"&&(n[r]+=" ")}return n.join("")}function a5e(e,t,n){const r=CJ(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let l=e.quote,u;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const h=o1(r.attribute,Object.assign({},e.settings.characterReferences,{subset:gw.name[a][o]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?DSe:MSe)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?h:(e.settings.preferUnquoted&&(u=o1(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:gw.unquoted[a][o]}))),u!==n&&(e.settings.quoteSmart&&ym(n,l)>ym(n,e.alternative)&&(l=e.alternative),u=l+o1(n,Object.assign({},e.settings.characterReferences,{subset:(l==="'"?gw.single:gw.double)[a][o],attribute:!0}))+l),h+(u&&"="+u))}const s5e=["<","&"];function PJ(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:o1(e.value,Object.assign({},r.settings.characterReferences,{subset:s5e}))}function o5e(e,t,n,r){return r.settings.allowDangerousHtml?e.value:PJ(e,t,n,r)}function l5e(e,t,n,r){return r.all(e)}const c5e=dSe("type",{invalid:u5e,unknown:h5e,handlers:{comment:LSe,doctype:_Se,element:r5e,raw:o5e,root:l5e,text:PJ}});function u5e(e){throw new Error("Expected node, not `"+e+"`")}function h5e(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const f5e={},d5e={},p5e=[];function g5e(e,t){const n=t||f5e,r=n.quote||'"',a=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:m5e,all:v5e,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||iSe,characterReferences:n.characterReferences||d5e,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?a_:RJ,quote:r,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function m5e(e,t,n){return c5e(e,t,n,this)}function v5e(e){const t=[],n=e&&e.children||p5e;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function y5e(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(a){return g5e(a,n)}}const b5e={};function o_(e,t){const n=b5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return FJ(e,r,a)}function FJ(e,t,n){if(T5e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return $H(e.children,t,n)}return Array.isArray(e)?$H(e,t,n):""}function $H(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=FJ(e[a],t,n);return r.join("")}function T5e(e){return!!(e&&typeof e=="object")}const WH=document.createElement("i");function Ab(e){const t="&"+e+";";WH.innerHTML=t;const n=WH.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Po(e,t,n,r){const a=e.length;let o=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function sl(e,t){return e.length>0?(Po(e,e.length,0,t),e):t}const UH={}.hasOwnProperty;function BJ(e){const t={};let n=-1;for(;++n<e.length;)E5e(t,e[n]);return t}function E5e(e,t){let n;for(n in t){const a=(UH.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){UH.call(a,l)||(a[l]=[]);const u=o[l];w5e(a[l],Array.isArray(u)?u:u?[u]:[])}}}function w5e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Po(e,0,0,r)}function HJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ac(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ni=bf(/[A-Za-z]/),wi=bf(/[\dA-Za-z]/),x5e=bf(/[#-'*+\--9=?A-Z^-~]/);function g4(e){return e!==null&&(e<32||e===127)}const OO=bf(/\d/),S5e=bf(/[\dA-Fa-f]/),A5e=bf(/[!-/:-@[-`{-~]/);function bt(e){return e!==null&&e<-2}function gn(e){return e!==null&&(e<0||e===32)}function Kt(e){return e===-2||e===-1||e===32}const iA=bf(new RegExp("\\p{P}|\\p{S}","u")),qd=bf(/\s/);function bf(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function dv(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&wi(e.charCodeAt(n+1))&&wi(e.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),a=1):l="�"}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+a+1,l=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Bt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return Kt(h)?(e.enter(n),u(h)):t(h)}function u(h){return Kt(h)&&o++<a?(e.consume(h),u):(e.exit(n),t(h))}}const I5e={tokenize:C5e};function C5e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Bt(e,t,"linePrefix")}function a(u){return e.enter("paragraph"),o(u)}function o(u){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return bt(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const R5e={tokenize:k5e},GH={tokenize:O5e};function k5e(e){const t=this,n=[];let r=0,a,o,l;return u;function u(x){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,h,f)(x)}return f(x)}function h(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&w();const S=t.events.length;let A=S,R;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){R=t.events[A][1].end;break}E(r);let C=S;for(;C<t.events.length;)t.events[C][1].end={...R},C++;return Po(t.events,A+1,0,t.events.slice(S)),t.events.length=C,f(x)}return u(x)}function f(x){if(r===n.length){if(!a)return g(x);if(a.currentConstruct&&a.currentConstruct.concrete)return y(x);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(GH,d,p)(x)}function d(x){return a&&w(),E(r),g(x)}function p(x){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,y(x)}function g(x){return t.containerState={},e.attempt(GH,m,y)(x)}function m(x){return r++,n.push([t.currentConstruct,t.containerState]),g(x)}function y(x){if(x===null){a&&w(),E(0),e.consume(x);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),b(x)}function b(x){if(x===null){T(e.exit("chunkFlow"),!0),E(0),e.consume(x);return}return bt(x)?(e.consume(x),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(x),b)}function T(x,S){const A=t.sliceStream(x);if(S&&A.push(null),x.previous=o,o&&(o.next=x),o=x,a.defineSkip(x.start),a.write(A),t.parser.lazy[x.start.line]){let R=a.events.length;for(;R--;)if(a.events[R][1].start.offset<l&&(!a.events[R][1].end||a.events[R][1].end.offset>l))return;const C=t.events.length;let N=C,O,L;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(O){L=t.events[N][1].end;break}O=!0}for(E(r),R=C;R<t.events.length;)t.events[R][1].end={...L},R++;Po(t.events,N+1,0,t.events.slice(C)),t.events.length=R}}function E(x){let S=n.length;for(;S-- >x;){const A=n[S];t.containerState=A[1],A[0].exit.call(t,e)}n.length=x}function w(){a.write([null]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function O5e(e,t,n){return Bt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bm(e){if(e===null||gn(e)||qd(e))return 1;if(iA(e))return 2}function aA(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const NO={name:"attention",resolveAll:N5e,tokenize:L5e};function N5e(e,t){let n=-1,r,a,o,l,u,h,f,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};zH(p,-h),zH(g,h),l={type:h>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:h>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=sl(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=sl(f,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=sl(f,aA(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=sl(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,f=sl(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Po(e,r-1,n-r+3,f),n=r+f.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function L5e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=bm(r);let o;return l;function l(h){return o=h,e.enter("attentionSequence"),u(h)}function u(h){if(h===o)return e.consume(h),u;const f=e.exit("attentionSequence"),d=bm(h),p=!d||d===2&&a||n.includes(h),g=!a||a===2&&d||n.includes(r);return f._open=!!(o===42?p:p&&(a||!g)),f._close=!!(o===42?g:g&&(d||!p)),t(h)}}function zH(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const _5e={name:"autolink",tokenize:D5e};function D5e(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Ni(m)?(e.consume(m),l):m===64?n(m):f(m)}function l(m){return m===43||m===45||m===46||wi(m)?(r=1,u(m)):f(m)}function u(m){return m===58?(e.consume(m),r=0,h):(m===43||m===45||m===46||wi(m))&&r++<32?(e.consume(m),u):(r=0,f(m))}function h(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||g4(m)?n(m):(e.consume(m),h)}function f(m){return m===64?(e.consume(m),d):x5e(m)?(e.consume(m),f):n(m)}function d(m){return wi(m)?p(m):n(m)}function p(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||wi(m))&&r++<63){const y=m===45?g:p;return e.consume(m),y}return n(m)}}const HT={partial:!0,tokenize:M5e};function M5e(e,t,n){return r;function r(o){return Kt(o)?Bt(e,a,"linePrefix")(o):a(o)}function a(o){return o===null||bt(o)?t(o):n(o)}}const $J={continuation:{tokenize:F5e},exit:B5e,name:"blockQuote",tokenize:P5e};function P5e(e,t,n){const r=this;return a;function a(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Kt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function F5e(e,t,n){const r=this;return a;function a(l){return Kt(l)?Bt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt($J,t,n)(l)}}function B5e(e){e.exit("blockQuote")}const WJ={name:"characterEscape",tokenize:H5e};function H5e(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),a}function a(o){return A5e(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const UJ={name:"characterReference",tokenize:$5e};function $5e(e,t,n){const r=this;let a=0,o,l;return u;function u(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),h}function h(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=wi,d(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=S5e,d):(e.enter("characterReferenceValue"),o=7,l=OO,d(p))}function d(p){if(p===59&&a){const g=e.exit("characterReferenceValue");return l===wi&&!Ab(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(p)&&a++<o?(e.consume(p),d):n(p)}}const YH={partial:!0,tokenize:U5e},LO={concrete:!0,name:"codeFenced",tokenize:W5e};function W5e(e,t,n){const r=this,a={partial:!0,tokenize:A};let o=0,l=0,u;return h;function h(R){return f(R)}function f(R){const C=r.events[r.events.length-1];return o=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,u=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(R)}function d(R){return R===u?(l++,e.consume(R),d):l<3?n(R):(e.exit("codeFencedFenceSequence"),Kt(R)?Bt(e,p,"whitespace")(R):p(R))}function p(R){return R===null||bt(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(YH,b,S)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(R))}function g(R){return R===null||bt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(R)):Kt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Bt(e,m,"whitespace")(R)):R===96&&R===u?n(R):(e.consume(R),g)}function m(R){return R===null||bt(R)?p(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(R))}function y(R){return R===null||bt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(R)):R===96&&R===u?n(R):(e.consume(R),y)}function b(R){return e.attempt(a,S,T)(R)}function T(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),E}function E(R){return o>0&&Kt(R)?Bt(e,w,"linePrefix",o+1)(R):w(R)}function w(R){return R===null||bt(R)?e.check(YH,b,S)(R):(e.enter("codeFlowValue"),x(R))}function x(R){return R===null||bt(R)?(e.exit("codeFlowValue"),w(R)):(e.consume(R),x)}function S(R){return e.exit("codeFenced"),t(R)}function A(R,C,N){let O=0;return L;function L(F){return R.enter("lineEnding"),R.consume(F),R.exit("lineEnding"),k}function k(F){return R.enter("codeFencedFence"),Kt(F)?Bt(R,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):M(F)}function M(F){return F===u?(R.enter("codeFencedFenceSequence"),$(F)):N(F)}function $(F){return F===u?(O++,R.consume(F),$):O>=l?(R.exit("codeFencedFenceSequence"),Kt(F)?Bt(R,_,"whitespace")(F):_(F)):N(F)}function _(F){return F===null||bt(F)?(R.exit("codeFencedFence"),C(F)):N(F)}}}function U5e(e,t,n){const r=this;return a;function a(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const hC={name:"codeIndented",tokenize:z5e},G5e={partial:!0,tokenize:Y5e};function z5e(e,t,n){const r=this;return a;function a(f){return e.enter("codeIndented"),Bt(e,o,"linePrefix",5)(f)}function o(f){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):bt(f)?e.attempt(G5e,l,h)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||bt(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function h(f){return e.exit("codeIndented"),t(f)}}function Y5e(e,t,n){const r=this;return a;function a(l){return r.parser.lazy[r.now().line]?n(l):bt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):Bt(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):bt(l)?a(l):n(l)}}const V5e={name:"codeText",previous:j5e,resolve:q5e,tokenize:X5e};function q5e(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function j5e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function X5e(e,t,n){let r=0,a,o;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),r++,u):(e.exit("codeTextSequence"),h(p))}function h(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),h):p===96?(o=e.enter("codeTextSequence"),a=0,d(p)):bt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||bt(p)?(e.exit("codeTextData"),h(p)):(e.consume(p),f)}function d(p){return p===96?(e.consume(p),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class K5e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&gy(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),gy(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),gy(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);gy(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);gy(this.left,n.reverse())}}}function gy(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function GJ(e){const t={};let n=-1,r,a,o,l,u,h,f;const d=new K5e(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Z5e(d,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(l=d.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=o);else if(l[1].type!=="linePrefix")break;a&&(r[1].end={...d.get(a)[1].start},u=d.slice(a,n),u.unshift(r),d.splice(a,n-a+1,u))}}return Po(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function Z5e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const o=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,h=[],f={};let d,p,g=-1,m=n,y=0,b=0;const T=[b];for(;m;){for(;e.get(++a)[1]!==m;);o.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),p&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(b=g+1,T.push(b),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):T.pop(),g=T.length;g--;){const E=u.slice(T[g],T[g+1]),w=o.pop();h.push([w,w+E.length-1]),e.splice(w,2,E)}for(h.reverse(),g=-1;++g<h.length;)f[y+h[g][0]]=y+h[g][1],y+=h[g][1]-h[g][0]-1;return f}const Q5e={resolve:eAe,tokenize:tAe},J5e={partial:!0,tokenize:nAe};function eAe(e){return GJ(e),e}function tAe(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(u)}function a(u){return u===null?o(u):bt(u)?e.check(J5e,l,o)(u):(e.consume(u),a)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function nAe(e,t,n){const r=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Bt(e,o,"linePrefix")}function o(l){if(l===null||bt(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function zJ(e,t,n,r,a,o,l,u,h){const f=h||Number.POSITIVE_INFINITY;let d=0;return p;function p(E){return E===60?(e.enter(r),e.enter(a),e.enter(o),e.consume(E),e.exit(o),g):E===null||E===32||E===41||g4(E)?n(E):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),b(E))}function g(E){return E===62?(e.enter(o),e.consume(E),e.exit(o),e.exit(a),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===62?(e.exit("chunkString"),e.exit(u),g(E)):E===null||E===60||bt(E)?n(E):(e.consume(E),E===92?y:m)}function y(E){return E===60||E===62||E===92?(e.consume(E),m):m(E)}function b(E){return!d&&(E===null||E===41||gn(E))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(E)):d<f&&E===40?(e.consume(E),d++,b):E===41?(e.consume(E),d--,b):E===null||E===32||E===40||g4(E)?n(E):(e.consume(E),E===92?T:b)}function T(E){return E===40||E===41||E===92?(e.consume(E),b):b(E)}}function YJ(e,t,n,r,a,o){const l=this;let u=0,h;return f;function f(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(o),d}function d(m){return u>999||m===null||m===91||m===93&&!h||m===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(e.exit(o),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):bt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||bt(m)||u++>999?(e.exit("chunkString"),d(m)):(e.consume(m),h||(h=!Kt(m)),m===92?g:p)}function g(m){return m===91||m===92||m===93?(e.consume(m),u++,p):p(m)}}function VJ(e,t,n,r,a,o){let l;return u;function u(g){return g===34||g===39||g===40?(e.enter(r),e.enter(a),e.consume(g),e.exit(a),l=g===40?41:g,h):n(g)}function h(g){return g===l?(e.enter(a),e.consume(g),e.exit(a),e.exit(r),t):(e.enter(o),f(g))}function f(g){return g===l?(e.exit(o),h(l)):g===null?n(g):bt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Bt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===l||g===null||bt(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:d)}function p(g){return g===l||g===92?(e.consume(g),d):d(g)}}function eo(e,t){let n;return r;function r(a){return bt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):Kt(a)?Bt(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const rAe={name:"definition",tokenize:aAe},iAe={partial:!0,tokenize:sAe};function aAe(e,t,n){const r=this;let a;return o;function o(m){return e.enter("definition"),l(m)}function l(m){return YJ.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function u(m){return a=ac(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),h):n(m)}function h(m){return gn(m)?eo(e,f)(m):f(m)}function f(m){return zJ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(iAe,p,p)(m)}function p(m){return Kt(m)?Bt(e,g,"whitespace")(m):g(m)}function g(m){return m===null||bt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function sAe(e,t,n){return r;function r(u){return gn(u)?eo(e,a)(u):n(u)}function a(u){return VJ(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return Kt(u)?Bt(e,l,"whitespace")(u):l(u)}function l(u){return u===null||bt(u)?t(u):n(u)}}const oAe={name:"hardBreakEscape",tokenize:lAe};function lAe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),a}function a(o){return bt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const cAe={name:"headingAtx",resolve:uAe,tokenize:hAe};function uAe(e,t){let n=e.length-2,r=3,a,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Po(e,r,n-r+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),e}function hAe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(e.consume(d),l):d===null||gn(d)?(e.exit("atxHeadingSequence"),u(d)):n(d)}function u(d){return d===35?(e.enter("atxHeadingSequence"),h(d)):d===null||bt(d)?(e.exit("atxHeading"),t(d)):Kt(d)?Bt(e,u,"whitespace")(d):(e.enter("atxHeadingText"),f(d))}function h(d){return d===35?(e.consume(d),h):(e.exit("atxHeadingSequence"),u(d))}function f(d){return d===null||d===35||gn(d)?(e.exit("atxHeadingText"),u(d)):(e.consume(d),f)}}const fAe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VH=["pre","script","style","textarea"],dAe={concrete:!0,name:"htmlFlow",resolveTo:mAe,tokenize:vAe},pAe={partial:!0,tokenize:bAe},gAe={partial:!0,tokenize:yAe};function mAe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vAe(e,t,n){const r=this;let a,o,l,u,h;return f;function f(G){return d(G)}function d(G){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(G),p}function p(G){return G===33?(e.consume(G),g):G===47?(e.consume(G),o=!0,b):G===63?(e.consume(G),a=3,r.interrupt?t:W):Ni(G)?(e.consume(G),l=String.fromCharCode(G),T):n(G)}function g(G){return G===45?(e.consume(G),a=2,m):G===91?(e.consume(G),a=5,u=0,y):Ni(G)?(e.consume(G),a=4,r.interrupt?t:W):n(G)}function m(G){return G===45?(e.consume(G),r.interrupt?t:W):n(G)}function y(G){const ee="CDATA[";return G===ee.charCodeAt(u++)?(e.consume(G),u===ee.length?r.interrupt?t:M:y):n(G)}function b(G){return Ni(G)?(e.consume(G),l=String.fromCharCode(G),T):n(G)}function T(G){if(G===null||G===47||G===62||gn(G)){const ee=G===47,ce=l.toLowerCase();return!ee&&!o&&VH.includes(ce)?(a=1,r.interrupt?t(G):M(G)):fAe.includes(l.toLowerCase())?(a=6,ee?(e.consume(G),E):r.interrupt?t(G):M(G)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):o?w(G):x(G))}return G===45||wi(G)?(e.consume(G),l+=String.fromCharCode(G),T):n(G)}function E(G){return G===62?(e.consume(G),r.interrupt?t:M):n(G)}function w(G){return Kt(G)?(e.consume(G),w):L(G)}function x(G){return G===47?(e.consume(G),L):G===58||G===95||Ni(G)?(e.consume(G),S):Kt(G)?(e.consume(G),x):L(G)}function S(G){return G===45||G===46||G===58||G===95||wi(G)?(e.consume(G),S):A(G)}function A(G){return G===61?(e.consume(G),R):Kt(G)?(e.consume(G),A):x(G)}function R(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(e.consume(G),h=G,C):Kt(G)?(e.consume(G),R):N(G)}function C(G){return G===h?(e.consume(G),h=null,O):G===null||bt(G)?n(G):(e.consume(G),C)}function N(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||gn(G)?A(G):(e.consume(G),N)}function O(G){return G===47||G===62||Kt(G)?x(G):n(G)}function L(G){return G===62?(e.consume(G),k):n(G)}function k(G){return G===null||bt(G)?M(G):Kt(G)?(e.consume(G),k):n(G)}function M(G){return G===45&&a===2?(e.consume(G),B):G===60&&a===1?(e.consume(G),D):G===62&&a===4?(e.consume(G),U):G===63&&a===3?(e.consume(G),W):G===93&&a===5?(e.consume(G),H):bt(G)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(pAe,V,$)(G)):G===null||bt(G)?(e.exit("htmlFlowData"),$(G)):(e.consume(G),M)}function $(G){return e.check(gAe,_,V)(G)}function _(G){return e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),F}function F(G){return G===null||bt(G)?$(G):(e.enter("htmlFlowData"),M(G))}function B(G){return G===45?(e.consume(G),W):M(G)}function D(G){return G===47?(e.consume(G),l="",P):M(G)}function P(G){if(G===62){const ee=l.toLowerCase();return VH.includes(ee)?(e.consume(G),U):M(G)}return Ni(G)&&l.length<8?(e.consume(G),l+=String.fromCharCode(G),P):M(G)}function H(G){return G===93?(e.consume(G),W):M(G)}function W(G){return G===62?(e.consume(G),U):G===45&&a===2?(e.consume(G),W):M(G)}function U(G){return G===null||bt(G)?(e.exit("htmlFlowData"),V(G)):(e.consume(G),U)}function V(G){return e.exit("htmlFlow"),t(G)}}function yAe(e,t,n){const r=this;return a;function a(l){return bt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function bAe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(HT,t,n)}}const TAe={name:"htmlText",tokenize:EAe};function EAe(e,t,n){const r=this;let a,o,l;return u;function u(W){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(W),h}function h(W){return W===33?(e.consume(W),f):W===47?(e.consume(W),A):W===63?(e.consume(W),x):Ni(W)?(e.consume(W),N):n(W)}function f(W){return W===45?(e.consume(W),d):W===91?(e.consume(W),o=0,y):Ni(W)?(e.consume(W),w):n(W)}function d(W){return W===45?(e.consume(W),m):n(W)}function p(W){return W===null?n(W):W===45?(e.consume(W),g):bt(W)?(l=p,D(W)):(e.consume(W),p)}function g(W){return W===45?(e.consume(W),m):p(W)}function m(W){return W===62?B(W):W===45?g(W):p(W)}function y(W){const U="CDATA[";return W===U.charCodeAt(o++)?(e.consume(W),o===U.length?b:y):n(W)}function b(W){return W===null?n(W):W===93?(e.consume(W),T):bt(W)?(l=b,D(W)):(e.consume(W),b)}function T(W){return W===93?(e.consume(W),E):b(W)}function E(W){return W===62?B(W):W===93?(e.consume(W),E):b(W)}function w(W){return W===null||W===62?B(W):bt(W)?(l=w,D(W)):(e.consume(W),w)}function x(W){return W===null?n(W):W===63?(e.consume(W),S):bt(W)?(l=x,D(W)):(e.consume(W),x)}function S(W){return W===62?B(W):x(W)}function A(W){return Ni(W)?(e.consume(W),R):n(W)}function R(W){return W===45||wi(W)?(e.consume(W),R):C(W)}function C(W){return bt(W)?(l=C,D(W)):Kt(W)?(e.consume(W),C):B(W)}function N(W){return W===45||wi(W)?(e.consume(W),N):W===47||W===62||gn(W)?O(W):n(W)}function O(W){return W===47?(e.consume(W),B):W===58||W===95||Ni(W)?(e.consume(W),L):bt(W)?(l=O,D(W)):Kt(W)?(e.consume(W),O):B(W)}function L(W){return W===45||W===46||W===58||W===95||wi(W)?(e.consume(W),L):k(W)}function k(W){return W===61?(e.consume(W),M):bt(W)?(l=k,D(W)):Kt(W)?(e.consume(W),k):O(W)}function M(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(e.consume(W),a=W,$):bt(W)?(l=M,D(W)):Kt(W)?(e.consume(W),M):(e.consume(W),_)}function $(W){return W===a?(e.consume(W),a=void 0,F):W===null?n(W):bt(W)?(l=$,D(W)):(e.consume(W),$)}function _(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||gn(W)?O(W):(e.consume(W),_)}function F(W){return W===47||W===62||gn(W)?O(W):n(W)}function B(W){return W===62?(e.consume(W),e.exit("htmlTextData"),e.exit("htmlText"),t):n(W)}function D(W){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(W),e.exit("lineEnding"),P}function P(W){return Kt(W)?Bt(e,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):H(W)}function H(W){return e.enter("htmlTextData"),l(W)}}const l_={name:"labelEnd",resolveAll:AAe,resolveTo:IAe,tokenize:CAe},wAe={tokenize:RAe},xAe={tokenize:kAe},SAe={tokenize:OAe};function AAe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Po(e,0,e.length,n),e}function IAe(e,t){let n=e.length,r=0,a,o,l,u;for(;n--;)if(a=e[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(l=n);const h={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",h,t],["enter",f,t]],u=sl(u,e.slice(o+1,o+r+3)),u=sl(u,[["enter",d,t]]),u=sl(u,aA(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=sl(u,[["exit",d,t],e[l-2],e[l-1],["exit",f,t]]),u=sl(u,e.slice(l+1)),u=sl(u,[["exit",h,t]]),Po(e,o,e.length,u),e}function CAe(e,t,n){const r=this;let a=r.events.length,o,l;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return u;function u(g){return o?o._inactive?p(g):(l=r.parser.defined.includes(ac(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),h):n(g)}function h(g){return g===40?e.attempt(wAe,d,l?d:p)(g):g===91?e.attempt(xAe,d,l?f:p)(g):l?d(g):p(g)}function f(g){return e.attempt(SAe,d,p)(g)}function d(g){return t(g)}function p(g){return o._balanced=!0,n(g)}}function RAe(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),a}function a(p){return gn(p)?eo(e,o)(p):o(p)}function o(p){return p===41?d(p):zJ(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function l(p){return gn(p)?eo(e,h)(p):d(p)}function u(p){return n(p)}function h(p){return p===34||p===39||p===40?VJ(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function f(p){return gn(p)?eo(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function kAe(e,t,n){const r=this;return a;function a(u){return YJ.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(ac(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function OAe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),a}function a(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const NAe={name:"labelStartImage",resolveAll:l_.resolveAll,tokenize:LAe};function LAe(e,t,n){const r=this;return a;function a(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const _Ae={name:"labelStartLink",resolveAll:l_.resolveAll,tokenize:DAe};function DAe(e,t,n){const r=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const fC={name:"lineEnding",tokenize:MAe};function MAe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Bt(e,t,"linePrefix")}}const j3={name:"thematicBreak",tokenize:PAe};function PAe(e,t,n){let r=0,a;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return a=f,u(f)}function u(f){return f===a?(e.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||bt(f))?(e.exit("thematicBreak"),t(f)):n(f)}function h(f){return f===a?(e.consume(f),r++,h):(e.exit("thematicBreakSequence"),Kt(f)?Bt(e,u,"whitespace")(f):u(f))}}const Us={continuation:{tokenize:$Ae},exit:UAe,name:"list",tokenize:HAe},FAe={partial:!0,tokenize:GAe},BAe={partial:!0,tokenize:WAe};function HAe(e,t,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return u;function u(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:OO(m)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(j3,n,f)(m):f(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(m)}return n(m)}function h(m){return OO(m)&&++l<10?(e.consume(m),h):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),f(m)):n(m)}function f(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(HT,r.interrupt?n:d,e.attempt(FAe,g,p))}function d(m){return r.containerState.initialBlankLine=!0,o++,g(m)}function p(m){return Kt(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function $Ae(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(HT,a,o);function a(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Bt(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!Kt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(BAe,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Bt(e,e.attempt(Us,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function WAe(e,t,n){const r=this;return Bt(e,a,"listItemIndent",r.containerState.size+1);function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function UAe(e){e.exit(this.containerState.type)}function GAe(e,t,n){const r=this;return Bt(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const l=r.events[r.events.length-1];return!Kt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const qH={name:"setextUnderline",resolveTo:zAe,tokenize:YAe};function zAe(e,t){let n=e.length,r,a,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",o?(e.splice(a,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function YAe(e,t,n){const r=this;let a;return o;function o(f){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),a=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===a?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Kt(f)?Bt(e,h,"lineSuffix")(f):h(f))}function h(f){return f===null||bt(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const VAe={tokenize:qAe};function qAe(e){const t=this,n=e.attempt(HT,r,e.attempt(this.parser.constructs.flowInitial,a,Bt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Q5e,a)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jAe={resolveAll:jJ()},XAe=qJ("string"),KAe=qJ("text");function qJ(e){return{resolveAll:jJ(e==="text"?ZAe:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],o=n.attempt(a,l,u);return l;function l(d){return f(d)?o(d):u(d)}function u(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),h}function h(d){return f(d)?(n.exit("data"),o(d)):(n.consume(d),h)}function f(d){if(d===null)return!0;const p=a[d];let g=-1;if(p)for(;++g<p.length;){const m=p[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function jJ(e){return t;function t(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(n,r):n}}function ZAe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let o=a.length,l=-1,u=0,h;for(;o--;){const f=a[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)h=!0,u++;else if(f!==-1){o++;break}}if(u){const f={type:n===e.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const QAe={42:Us,43:Us,45:Us,48:Us,49:Us,50:Us,51:Us,52:Us,53:Us,54:Us,55:Us,56:Us,57:Us,62:$J},JAe={91:rAe},e6e={[-2]:hC,[-1]:hC,32:hC},t6e={35:cAe,42:j3,45:[qH,j3],60:dAe,61:qH,95:j3,96:LO,126:LO},n6e={38:UJ,92:WJ},r6e={[-5]:fC,[-4]:fC,[-3]:fC,33:NAe,38:UJ,42:NO,60:[_5e,TAe],91:_Ae,92:[oAe,WJ],93:l_,95:NO,96:V5e},i6e={null:[NO,jAe]},a6e={null:[42,95]},s6e={null:[]},o6e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:a6e,contentInitial:JAe,disable:s6e,document:QAe,flow:t6e,flowInitial:e6e,insideSpan:i6e,string:n6e,text:r6e},Symbol.toStringTag,{value:"Module"}));function l6e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let l=[],u=[];const h={attempt:C(A),check:C(R),consume:w,enter:x,exit:S,interrupt:C(R,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:y,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:p};let d=t.tokenize.call(f,h);return t.resolveAll&&o.push(t),f;function p(k){return l=sl(l,k),T(),l[l.length-1]!==null?[]:(N(t,0),f.events=aA(o,f.events,f),f.events)}function g(k,M){return u6e(m(k),M)}function m(k){return c6e(l,k)}function y(){const{_bufferIndex:k,_index:M,line:$,column:_,offset:F}=r;return{_bufferIndex:k,_index:M,line:$,column:_,offset:F}}function b(k){a[k.line]=k.column,L()}function T(){let k;for(;r._index<l.length;){const M=l[r._index];if(typeof M=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<M.length;)E(M.charCodeAt(r._bufferIndex));else E(M)}}function E(k){d=d(k)}function w(k){bt(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,L()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=k}function x(k,M){const $=M||{};return $.type=k,$.start=y(),f.events.push(["enter",$,f]),u.push($),$}function S(k){const M=u.pop();return M.end=y(),f.events.push(["exit",M,f]),M}function A(k,M){N(k,M.from)}function R(k,M){M.restore()}function C(k,M){return $;function $(_,F,B){let D,P,H,W;return Array.isArray(_)?V(_):"tokenize"in _?V([_]):U(_);function U(Q){return re;function re(le){const Y=le!==null&&Q[le],K=le!==null&&Q.null,Z=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(K)?K:K?[K]:[]];return V(Z)(le)}}function V(Q){return D=Q,P=0,Q.length===0?B:G(Q[P])}function G(Q){return re;function re(le){return W=O(),H=Q,Q.partial||(f.currentConstruct=Q),Q.name&&f.parser.constructs.disable.null.includes(Q.name)?ce():Q.tokenize.call(M?Object.assign(Object.create(f),M):f,h,ee,ce)(le)}}function ee(Q){return k(H,W),F}function ce(Q){return W.restore(),++P<D.length?G(D[P]):B}}}function N(k,M){k.resolveAll&&!o.includes(k)&&o.push(k),k.resolve&&Po(f.events,M,f.events.length-M,k.resolve(f.events.slice(M),f)),k.resolveTo&&(f.events=k.resolveTo(f.events,f))}function O(){const k=y(),M=f.previous,$=f.currentConstruct,_=f.events.length,F=Array.from(u);return{from:_,restore:B};function B(){r=k,f.previous=M,f.currentConstruct=$,f.events.length=_,u=F,L()}}function L(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function c6e(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let l;if(n===a)l=[e[n].slice(r,o)];else{if(l=e.slice(n,a),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[a].slice(0,o))}return l}function u6e(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(o)}a=o===-2,r.push(l)}return r.join("")}function h6e(e){const r={constructs:BJ([o6e,...(e||{}).extensions||[]]),content:a(I5e),defined:[],document:a(R5e),flow:a(VAe),lazy:{},string:a(XAe),text:a(KAe)};return r;function a(o){return l;function l(u){return l6e(r,o,u)}}}function f6e(e){for(;!GJ(e););return e}const jH=/[\0\t\n\r]/g;function d6e(){let e=1,t="",n=!0,r;return a;function a(o,l,u){const h=[];let f,d,p,g,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(jH.lastIndex=p,f=jH.exec(o),g=f&&f.index!==void 0?f.index:o.length,m=o.charCodeAt(g),!f){t=o.slice(p);break}if(m===10&&p===g&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),p<g&&(h.push(o.slice(p,g)),e+=g-p),m){case 0:{h.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,h.push(-2);e++<d;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return u&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const p6e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function g6e(e){return e.replace(p6e,m6e)}function m6e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return HJ(n.slice(o?2:1),o?16:10)}return Ab(n)||e}function F2(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?XH(e.position):"start"in e||"end"in e?XH(e):"line"in e||"column"in e?_O(e):""}function _O(e){return KH(e&&e.line)+":"+KH(e&&e.column)}function XH(e){return _O(e&&e.start)+"-"+_O(e&&e.end)}function KH(e){return e&&typeof e=="number"?e:1}const XJ={}.hasOwnProperty;function v6e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),y6e(n)(f6e(h6e(n).document().write(d6e()(e,t,!0))))}function y6e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(de),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(ne),blockQuote:o(K),characterEscape:O,characterReference:O,codeFenced:o(Z),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Z,l),codeText:o(z,l),codeTextData:O,data:O,codeFlowValue:O,definition:o(X),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(te),hardBreakEscape:o(Ae),hardBreakTrailing:o(Ae),htmlFlow:o(he,l),htmlFlowData:O,htmlText:o(he,l),htmlTextData:O,image:o(oe),label:l,link:o(de),listItem:o(fe),listItemValue:g,listOrdered:o(be,p),listUnordered:o(be),paragraph:o(Ie),reference:G,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ne),strong:o(Re),thematicBreak:o(De)},exit:{atxHeading:h(),atxHeadingSequence:A,autolink:h(),autolinkEmail:Y,autolinkProtocol:le,blockQuote:h(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:Q,characterReference:re,codeFenced:h(T),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:L,codeIndented:h(E),codeText:h(F),codeTextData:L,data:L,definition:h(),definitionDestinationString:S,definitionLabelString:w,definitionTitleString:x,emphasis:h(),hardBreakEscape:h(M),hardBreakTrailing:h(M),htmlFlow:h($),htmlFlowData:L,htmlText:h(_),htmlTextData:L,image:h(D),label:H,labelText:P,lineEnding:k,link:h(B),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ee,resourceDestinationString:W,resourceTitleString:U,resource:V,setextHeading:h(N),setextHeadingLineSequence:C,setextHeadingText:R,strong:h(),thematicBreak:h()}};KJ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(se){let j={type:"root",children:[]};const me={stack:[j],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:d,data:n},ue=[];let we=-1;for(;++we<se.length;)if(se[we][1].type==="listOrdered"||se[we][1].type==="listUnordered")if(se[we][0]==="enter")ue.push(we);else{const ie=ue.pop();we=a(se,ie,we)}for(we=-1;++we<se.length;){const ie=t[se[we][0]];XJ.call(ie,se[we][1].type)&&ie[se[we][1].type].call(Object.assign({sliceSerialize:se[we][2].sliceSerialize},me),se[we][1])}if(me.tokenStack.length>0){const ie=me.tokenStack[me.tokenStack.length-1];(ie[1]||ZH).call(me,void 0,ie[0])}for(j.position={start:r0(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:r0(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},we=-1;++we<t.transforms.length;)j=t.transforms[we](j)||j;return j}function a(se,j,me){let ue=j-1,we=-1,ie=!1,Oe,ae,ge,Ee;for(;++ue<=me;){const ye=se[ue];switch(ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ye[0]==="enter"?we++:we--,Ee=void 0;break}case"lineEndingBlank":{ye[0]==="enter"&&(Oe&&!Ee&&!we&&!ge&&(ge=ue),Ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ee=void 0}if(!we&&ye[0]==="enter"&&ye[1].type==="listItemPrefix"||we===-1&&ye[0]==="exit"&&(ye[1].type==="listUnordered"||ye[1].type==="listOrdered")){if(Oe){let Se=ue;for(ae=void 0;Se--;){const Ce=se[Se];if(Ce[1].type==="lineEnding"||Ce[1].type==="lineEndingBlank"){if(Ce[0]==="exit")continue;ae&&(se[ae][1].type="lineEndingBlank",ie=!0),Ce[1].type="lineEnding",ae=Se}else if(!(Ce[1].type==="linePrefix"||Ce[1].type==="blockQuotePrefix"||Ce[1].type==="blockQuotePrefixWhitespace"||Ce[1].type==="blockQuoteMarker"||Ce[1].type==="listItemIndent"))break}ge&&(!ae||ge<ae)&&(Oe._spread=!0),Oe.end=Object.assign({},ae?se[ae][1].start:ye[1].end),se.splice(ae||ue,0,["exit",Oe,ye[2]]),ue++,me++}if(ye[1].type==="listItemPrefix"){const Se={type:"listItem",_spread:!1,start:Object.assign({},ye[1].start),end:void 0};Oe=Se,se.splice(ue,0,["enter",Se,ye[2]]),ue++,me++,ge=void 0,Ee=!0}}}return se[j][1]._spread=ie,me}function o(se,j){return me;function me(ue){u.call(this,se(ue),ue),j&&j.call(this,ue)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(se,j,me){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([j,me||void 0]),se.position={start:r0(j.start),end:void 0}}function h(se){return j;function j(me){se&&se.call(this,me),f.call(this,me)}}function f(se,j){const me=this.stack.pop(),ue=this.tokenStack.pop();if(ue)ue[0].type!==se.type&&(j?j.call(this,se,ue[0]):(ue[1]||ZH).call(this,se,ue[0]));else throw new Error("Cannot close `"+se.type+"` ("+F2({start:se.start,end:se.end})+"): it’s not open");me.position.end=r0(se.end)}function d(){return o_(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(se){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function m(){const se=this.resume(),j=this.stack[this.stack.length-1];j.lang=se}function y(){const se=this.resume(),j=this.stack[this.stack.length-1];j.meta=se}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const se=this.resume(),j=this.stack[this.stack.length-1];j.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const se=this.resume(),j=this.stack[this.stack.length-1];j.value=se.replace(/(\r?\n|\r)$/g,"")}function w(se){const j=this.resume(),me=this.stack[this.stack.length-1];me.label=j,me.identifier=ac(this.sliceSerialize(se)).toLowerCase()}function x(){const se=this.resume(),j=this.stack[this.stack.length-1];j.title=se}function S(){const se=this.resume(),j=this.stack[this.stack.length-1];j.url=se}function A(se){const j=this.stack[this.stack.length-1];if(!j.depth){const me=this.sliceSerialize(se).length;j.depth=me}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function C(se){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function O(se){const me=this.stack[this.stack.length-1].children;let ue=me[me.length-1];(!ue||ue.type!=="text")&&(ue=ke(),ue.position={start:r0(se.start),end:void 0},me.push(ue)),this.stack.push(ue)}function L(se){const j=this.stack.pop();j.value+=this.sliceSerialize(se),j.position.end=r0(se.end)}function k(se){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const me=j.children[j.children.length-1];me.position.end=r0(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(j.type)&&(O.call(this,se),L.call(this,se))}function M(){this.data.atHardBreak=!0}function $(){const se=this.resume(),j=this.stack[this.stack.length-1];j.value=se}function _(){const se=this.resume(),j=this.stack[this.stack.length-1];j.value=se}function F(){const se=this.resume(),j=this.stack[this.stack.length-1];j.value=se}function B(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=j,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function D(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=j,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function P(se){const j=this.sliceSerialize(se),me=this.stack[this.stack.length-2];me.label=g6e(j),me.identifier=ac(j).toLowerCase()}function H(){const se=this.stack[this.stack.length-1],j=this.resume(),me=this.stack[this.stack.length-1];if(this.data.inReference=!0,me.type==="link"){const ue=se.children;me.children=ue}else me.alt=j}function W(){const se=this.resume(),j=this.stack[this.stack.length-1];j.url=se}function U(){const se=this.resume(),j=this.stack[this.stack.length-1];j.title=se}function V(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function ee(se){const j=this.resume(),me=this.stack[this.stack.length-1];me.label=j,me.identifier=ac(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function ce(se){this.data.characterReferenceType=se.type}function Q(se){const j=this.sliceSerialize(se),me=this.data.characterReferenceType;let ue;me?(ue=HJ(j,me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ue=Ab(j);const we=this.stack[this.stack.length-1];we.value+=ue}function re(se){const j=this.stack.pop();j.position.end=r0(se.end)}function le(se){L.call(this,se);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(se)}function Y(se){L.call(this,se);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(se)}function K(){return{type:"blockquote",children:[]}}function Z(){return{type:"code",lang:null,meta:null,value:""}}function z(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function te(){return{type:"emphasis",children:[]}}function ne(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function he(){return{type:"html",value:""}}function oe(){return{type:"image",title:null,url:"",alt:null}}function de(){return{type:"link",title:null,url:"",children:[]}}function be(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function fe(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Ie(){return{type:"paragraph",children:[]}}function Re(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function De(){return{type:"thematicBreak"}}}function r0(e){return{line:e.line,column:e.column,offset:e.offset}}function KJ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?KJ(e,r):b6e(e,r)}}function b6e(e,t){let n;for(n in t)if(XJ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ZH(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+F2({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+F2({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+F2({start:t.start,end:t.end})+") is still open")}function T6e(e){const t=this;t.parser=n;function n(r){return v6e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function E6e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function w6e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function x6e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function S6e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A6e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I6e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=dv(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,f),e.applyData(t,f)}function C6e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function R6e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ZJ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=r:a.push({type:"text",value:r}),a}function k6e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ZJ(e,t);const a={src:dv(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,o),e.applyData(t,o)}function O6e(e,t){const n={src:dv(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function N6e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function L6e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ZJ(e,t);const a={href:dv(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function _6e(e,t){const n={href:dv(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function D6e(e,t,n){const r=e.all(t),a=n?M6e(n):QJ(t),o={},l=[];if(typeof t.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const d=r[u];(a||u!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?l.push(...d.children):l.push(d)}const h=r[r.length-1];h&&(a||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function M6e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=QJ(n[r])}return t}function QJ(e){const t=e.spread;return t??e.children.length>1}function P6e(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const l=r[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function F6e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B6e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function H6e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const JJ=tee("end"),eee=tee("start");function tee(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $6e(e){const t=eee(e),n=JJ(e);if(t&&n)return{start:t,end:n}}function W6e(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),a.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=eee(t.children[1]),h=JJ(t.children[t.children.length-1]);u&&h&&(l.position={start:u,end:h}),a.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function U6e(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let h=-1;const f=[];for(;++h<u;){const p=t.children[h],g={},m=l?l[h]:void 0;m&&(g.align=m);let y={type:"element",tagName:o,properties:g,children:[]};p&&(y.children=e.all(p),e.patch(p,y),y=e.applyData(p,y)),f.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,d),e.applyData(t,d)}function G6e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const QH=9,JH=32;function z6e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const o=[];for(;r;)o.push(e$(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return o.push(e$(t.slice(a),a>0,!1)),o.join("")}function e$(e,t,n){let r=0,a=e.length;if(t){let o=e.codePointAt(r);for(;o===QH||o===JH;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(a-1);for(;o===QH||o===JH;)a--,o=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Y6e(e,t){const n={type:"text",value:z6e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function V6e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const q6e={blockquote:E6e,break:w6e,code:x6e,delete:S6e,emphasis:A6e,footnoteReference:I6e,heading:C6e,html:R6e,imageReference:k6e,image:O6e,inlineCode:N6e,linkReference:L6e,link:_6e,listItem:D6e,list:P6e,paragraph:F6e,root:B6e,strong:H6e,table:W6e,tableCell:G6e,tableRow:U6e,text:Y6e,thematicBreak:V6e,toml:mw,yaml:mw,definition:mw,footnoteDefinition:mw};function mw(){}const nee=-1,sA=0,B2=1,m4=2,c_=3,u_=4,h_=5,f_=6,ree=7,iee=8,t$=typeof self=="object"?self:globalThis,j6e=(e,t)=>{const n=(a,o)=>(e.set(o,a),a),r=a=>{if(e.has(a))return e.get(a);const[o,l]=t[a];switch(o){case sA:case nee:return n(l,a);case B2:{const u=n([],a);for(const h of l)u.push(r(h));return u}case m4:{const u=n({},a);for(const[h,f]of l)u[r(h)]=r(f);return u}case c_:return n(new Date(l),a);case u_:{const{source:u,flags:h}=l;return n(new RegExp(u,h),a)}case h_:{const u=n(new Map,a);for(const[h,f]of l)u.set(r(h),r(f));return u}case f_:{const u=n(new Set,a);for(const h of l)u.add(r(h));return u}case ree:{const{name:u,message:h}=l;return n(new t$[u](h),a)}case iee:return n(BigInt(l),a);case"BigInt":return n(Object(BigInt(l)),a);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new t$[o](l),a)};return r},n$=e=>j6e(new Map,e)(0),tg="",{toString:X6e}={},{keys:K6e}=Object,my=e=>{const t=typeof e;if(t!=="object"||!e)return[sA,t];const n=X6e.call(e).slice(8,-1);switch(n){case"Array":return[B2,tg];case"Object":return[m4,tg];case"Date":return[c_,tg];case"RegExp":return[u_,tg];case"Map":return[h_,tg];case"Set":return[f_,tg];case"DataView":return[B2,n]}return n.includes("Array")?[B2,n]:n.includes("Error")?[ree,n]:[m4,n]},vw=([e,t])=>e===sA&&(t==="function"||t==="symbol"),Z6e=(e,t,n,r)=>{const a=(l,u)=>{const h=r.push(l)-1;return n.set(u,h),h},o=l=>{if(n.has(l))return n.get(l);let[u,h]=my(l);switch(u){case sA:{let d=l;switch(h){case"bigint":u=iee,d=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);d=null;break;case"undefined":return a([nee],l)}return a([u,d],l)}case B2:{if(h){let g=l;return h==="DataView"?g=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(g=new Uint8Array(l)),a([h,[...g]],l)}const d=[],p=a([u,d],l);for(const g of l)d.push(o(g));return p}case m4:{if(h)switch(h){case"BigInt":return a([h,l.toString()],l);case"Boolean":case"Number":case"String":return a([h,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const d=[],p=a([u,d],l);for(const g of K6e(l))(e||!vw(my(l[g])))&&d.push([o(g),o(l[g])]);return p}case c_:return a([u,l.toISOString()],l);case u_:{const{source:d,flags:p}=l;return a([u,{source:d,flags:p}],l)}case h_:{const d=[],p=a([u,d],l);for(const[g,m]of l)(e||!(vw(my(g))||vw(my(m))))&&d.push([o(g),o(m)]);return p}case f_:{const d=[],p=a([u,d],l);for(const g of l)(e||!vw(my(g)))&&d.push(o(g));return p}}const{message:f}=l;return a([u,{name:h,message:f}],l)};return o},r$=(e,{json:t,lossy:n}={})=>{const r=[];return Z6e(!(t||n),!!t,new Map,r)(e),r},v4=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?n$(r$(e,t)):structuredClone(e):(e,t)=>n$(r$(e,t));function Q6e(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function J6e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function eIe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Q6e,r=e.options.footnoteBackLabel||J6e,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[h]);if(!f)continue;const d=e.all(f),p=String(f.identifier).toUpperCase(),g=dv(p.toLowerCase());let m=0;const y=[],b=e.footnoteCounts.get(p);for(;b!==void 0&&++m<=b;){y.length>0&&y.push({type:"text",value:" "});let w=typeof n=="string"?n:n(h,m);typeof w=="string"&&(w={type:"text",value:w}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const T=d[d.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const w=T.children[T.children.length-1];w&&w.type==="text"?w.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...y)}else d.push(...y);const E={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(f,E),u.push(E)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...v4(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const pv=function(e){if(e==null)return iIe;if(typeof e=="function")return oA(e);if(typeof e=="object")return Array.isArray(e)?tIe(e):nIe(e);if(typeof e=="string")return rIe(e);throw new Error("Expected function, string, or object as test")};function tIe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=pv(e[n]);return oA(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function nIe(e){const t=e;return oA(n);function n(r){const a=r;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function rIe(e){return oA(t);function t(n){return n&&n.type===e}}function oA(e){return t;function t(n,r,a){return!!(aIe(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function iIe(){return!0}function aIe(e){return e!==null&&typeof e=="object"&&"type"in e}const aee=[],sIe=!0,DO=!1,see="skip";function $T(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const o=pv(a),l=r?-1:1;u(e,void 0,[])();function u(h,f,d){const p=h&&typeof h=="object"?h:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(h.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=aee,y,b,T;if((!t||o(h,f,d[d.length-1]||void 0))&&(m=oIe(n(h,d)),m[0]===DO))return m;if("children"in h&&h.children){const E=h;if(E.children&&m[0]!==see)for(b=(r?E.children.length:-1)+l,T=d.concat(E);b>-1&&b<E.children.length;){const w=E.children[b];if(y=u(w,b,T)(),y[0]===DO)return y;b=typeof y[1]=="number"?y[1]:b+l}}return m}}}function oIe(e){return Array.isArray(e)?e:typeof e=="number"?[sIe,e]:e==null?aee:[e]}function jd(e,t,n,r){let a,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,a=n):(o=t,l=n,a=r),$T(e,o,u,a);function u(h,f){const d=f[f.length-1],p=d?d.children.indexOf(h):void 0;return l(h,p,d)}}const MO={}.hasOwnProperty,lIe={};function cIe(e,t){const n=t||lIe,r=new Map,a=new Map,o=new Map,l={...q6e,...n.handlers},u={all:f,applyData:hIe,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:n,patch:uIe,wrap:dIe};return jd(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:a,g=String(d.identifier).toUpperCase();p.has(g)||p.set(g,d)}}),u;function h(d,p){const g=d.type,m=u.handlers[g];if(MO.call(u.handlers,g)&&m)return m(u,d,p);if(u.options.passThrough&&u.options.passThrough.includes(g)){if("children"in d){const{children:b,...T}=d,E=v4(T);return E.children=u.all(d),E}return v4(d)}return(u.options.unknownHandler||fIe)(u,d,p)}function f(d){const p=[];if("children"in d){const g=d.children;let m=-1;for(;++m<g.length;){const y=u.one(g[m],d);if(y){if(m&&g[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=i$(y.value)),!Array.isArray(y)&&y.type==="element")){const b=y.children[0];b&&b.type==="text"&&(b.value=i$(b.value))}Array.isArray(y)?p.push(...y):p.push(y)}}}return p}}function uIe(e,t){e.position&&(t.position=$6e(e))}function hIe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,v4(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function fIe(e,t){const n=t.data||{},r="value"in t&&!(MO.call(n,"hProperties")||MO.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dIe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function i$(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function a$(e,t){const n=cIe(e,t),r=n.one(e,void 0),a=eIe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function pIe(e,t){return e&&"run"in e?async function(n,r){const a=a$(n,{file:r,...t});await e.run(a,r)}:function(n,r){return a$(n,{file:r,...e||t})}}const s$=/[#.]/g;function gIe(e,t){const n=e||"",r={};let a=0,o,l;for(;a<n.length;){s$.lastIndex=a;const u=s$.exec(n),h=n.slice(a,u?u.index:n.length);h&&(o?o==="#"?r.id=h:Array.isArray(r.className)?r.className.push(h):r.className=[h]:l=h,a+=h.length),u&&(o=u[0],a++)}return{type:"element",tagName:l||t||"div",properties:r,children:[]}}const PO={}.hasOwnProperty;function oee(e,t,n){const r=n&&bIe(n);function a(o,l,...u){let h=-1,f;if(o==null){f={type:"root",children:[]};const d=l;u.unshift(d)}else if(f=gIe(o,t),f.tagName=f.tagName.toLowerCase(),r&&PO.call(r,f.tagName)&&(f.tagName=r[f.tagName]),mIe(l))u.unshift(l);else{let d;for(d in l)PO.call(l,d)&&vIe(e,f.properties,d,l[d])}for(;++h<u.length;)FO(f.children,u[h]);return f.type==="element"&&f.tagName==="template"&&(f.content={type:"root",children:f.children},f.children=[]),f}return a}function mIe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const o=a;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function vIe(e,t,n,r){const a=CJ(e,n);let o=-1,l;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;l=r}else typeof r=="boolean"?l=r:typeof r=="string"?a.spaceSeparated?l=p4(r):a.commaSeparated?l=PH(r):a.commaOrSpaceSeparated?l=p4(PH(r).join(" ")):l=o$(a,a.property,r):Array.isArray(r)?l=r.concat():l=a.property==="style"?yIe(r):String(r);if(Array.isArray(l)){const u=[];for(;++o<l.length;){const h=o$(a,a.property,l[o]);u[o]=h}l=u}if(a.property==="className"&&Array.isArray(t.className)){const u=l;l=t.className.concat(u)}t[a.property]=l}}function FO(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)FO(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?FO(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function o$(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Sb(n)===Sb(t)))return!0}return n}function yIe(e){const t=[];let n;for(n in e)PO.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function bIe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const TIe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],lee=oee(RJ,"div"),EIe=oee(a_,"g",TIe),dC={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function cee(e,t){return uee(e,{})||{type:"root",children:[]}}function uee(e,t){const n=wIe(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function wIe(e,t){switch(e.nodeType){case 1:return IIe(e,t);case 3:return SIe(e);case 8:return AIe(e);case 9:return l$(e,t);case 10:return xIe();case 11:return l$(e,t);default:return}}function l$(e,t){return{type:"root",children:hee(e,t)}}function xIe(){return{type:"doctype"}}function SIe(e){return{type:"text",value:e.nodeValue||""}}function AIe(e){return{type:"comment",value:e.nodeValue||""}}function IIe(e,t){const n=e.namespaceURI,r=n===dC.svg?EIe:lee,a=n===dC.html?e.tagName.toLowerCase():e.tagName,o=n===dC.html&&a==="template"?e.content:e,l=e.getAttributeNames(),u={};let h=-1;for(;++h<l.length;)u[l[h]]=e.getAttribute(l[h])||"";return r(a,u,hee(o,t))}function hee(e,t){const n=e.childNodes,r=[];let a=-1;for(;++a<n.length;){const o=uee(n[a],t);o!==void 0&&r.push(o)}return r}var CIe="6.4.4",RIe=CIe,kIe=function(e,t){var n=this;if(t||(t={}),n.qpm=t.qpm?parseInt(t.qpm,10):null,!n.qpm){var r=e.metaText?e.metaText.tempo:null;n.qpm=e.getBpm(r)}n.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,n.beatCallback=t.beatCallback,n.eventCallback=t.eventCallback,n.lineEndCallback=t.lineEndCallback,n.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,n.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,n.joggerTimer=null,n.replaceTarget=function(o){n.noteTimings=o.setTiming(n.qpm,n.extraMeasuresAtBeginning),o.noteTimings.length===0&&(n.noteTimings=o.setTiming(0,0)),n.lineEndCallback&&(n.lineEndTimings=OIe(o.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.currentTime=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,n.noteTimings.length!==0&&(n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds,n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat))},n.replaceTarget(e),n.doTiming=function(o){if(n.lastTimestamp!==o&&(n.lastTimestamp=o,n.startTime||(n.startTime=o),!n.isPaused&&n.isRunning)){for(n.currentTime=o-n.startTime,n.currentTime+=16;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;){if(n.eventCallback&&n.noteTimings[n.currentEvent].type==="event"){var l=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),l!==n.startTime&&(n.currentTime=o-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<n.currentTime&&n.currentEvent<n.noteTimings.length){var u=n.noteTimings[n.currentEvent].milliseconds===n.currentTime?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],u,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:n.currentTime}),n.currentLine++}if(n.currentTime<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat*n.millisecondsPerBeat<n.currentTime){var h=n.doBeatCallback(o);h!==null&&(n.currentTime=h)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var f=n.doBeatCallback(o);f!==null&&(n.currentTime=f),requestAnimationFrame(n.doTiming)}if(n.currentTime>=n.lastMoment)if(n.eventCallback){var d=n.eventCallback(null);n.shouldStop(d).then(function(p){p&&n.stop()})}else n.stop()}},n.shouldStop=function(o){return new Promise(function(l){if(!o)return l(!0);if(o==="continue")return l(!1);o.then&&o.then(function(u){l(u!=="continue")})})},n.doBeatCallback=function(o){if(n.beatCallback){for(var l=n.currentEvent;l<n.noteTimings.length&&n.noteTimings[l].left===null;)l++;var u,h;if(l<n.noteTimings.length){for(u=n.noteTimings[l].milliseconds,l=Math.max(0,n.currentEvent-1);l>=0&&n.noteTimings[l].left===null;)l--;h=n.noteTimings[l]}var f={},d={};if(h){f.top=h.top,f.height=h.height;var p=Math.max(0,o-n.startTime-h.milliseconds),g=u-h.milliseconds,m=h.endX-h.left,y=g?p*m/g:0;f.left=h.left+y,n.currentEvent===0&&h.milliseconds>o-n.startTime&&(f.left=void 0),d={timestamp:o,startTime:n.startTime,ev:h,endMs:u,offMs:p,offPx:y,gapMs:g,gapPx:m}}else d={timestamp:o,startTime:n.startTime};var b=n.startTime;if(n.beatCallback(n.currentBeat/n.beatSubdivisions,n.totalBeats/n.beatSubdivisions,n.lastMoment,f,d),b!==n.startTime)return o-n.startTime;n.currentBeat++}return null};var a=60;n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,a))},n.start=function(o,l){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,o===void 0&&(n.justUnpaused=!0)),o)n.setProgress(o,l);else if(o===0)n.reset();else if(n.pausedPercent!==null){var u=performance.now();n.currentTime=n.lastMoment*n.pausedPercent,n.startTime=u-n.currentTime,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,a)},n.pause=function(){n.isPaused=!0;var o=performance.now();n.pausedPercent=(o-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.currentMillisecond=function(){return n.currentTime},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(o,l){var u;switch(l){case"seconds":n.currentTime=o*1e3,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),u=n.currentTime/n.lastMoment;break;case"beats":n.currentTime=o*n.millisecondsPerBeat*n.beatSubdivisions,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),u=n.currentTime/n.lastMoment;break;default:u=o,u<0&&(u=0),u>1&&(u=1),n.currentTime=n.lastMoment*u;break}n.isRunning||(n.pausedPercent=u);var h=performance.now();for(n.startTime=h-n.currentTime,n.currentEvent,n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;)n.currentEvent++;if(n.lineEndCallback)for(n.currentLine=0;n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<n.currentTime;)n.currentLine++;var f=n.currentBeat;n.currentBeat=Math.floor(n.currentTime/n.millisecondsPerBeat),n.beatCallback&&f!==n.currentBeat&&n.doBeatCallback(n.startTime+n.currentTime),n.eventCallback&&n.currentEvent>=0&&n.noteTimings[n.currentEvent].type==="event"&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,a)}};function OIe(e,t){for(var n=[],r=null,a=0;a<e.length;a++){var o=e[a];o.type!=="end"&&o.top!==r&&(n.push({measureNumber:o.measureNumber,milliseconds:o.milliseconds-t,top:o.top,bottom:o.top+o.height}),r=o.top)}return n}var d_=kIe,NIe=d_,X3={};(function(){var e,t;X3.startAnimation=function(n,r,a){e&&(e.stop(),e=void 0),a.showCursor&&(t=n.querySelector(".abcjs-cursor"),t||(t=document.createElement("DIV"),t.className="abcjs-cursor cursor",t.style.position="absolute",n.appendChild(t),n.style.position="relative"));function o(g){for(var m=0;m<g.length;m++){var y=g[m];y.classList.contains("abcjs-bar")||(y.style.display="none")}}var l;function u(g){if(l){var m=n.querySelectorAll(l);o(m)}l=g}function h(g){var m=n.querySelectorAll(g);o(m)}function f(g){a.hideCurrentMeasure?h(g):a.hideFinishedMeasures&&u(g)}function d(g){return".abcjs-l"+g.line+".abcjs-m"+g.measureNumber}function p(g){if(g){if(g.measureStart){var m=d(g);m&&f(m)}t&&(t.style.left=g.left+"px",t.style.top=g.top+"px",t.style.width=g.width+"px",t.style.height=g.height+"px")}else e.stop(),e=void 0}e=new NIe(r,{qpm:a.bpm,eventCallback:p}),e.start()},X3.pauseAnimation=function(n){e&&(n?e.pause():e.start())},X3.stopAnimation=function(){e&&(e.stop(),e=void 0)}})();var LIe=X3,Th={};Th.cloneArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(Object.assign({},e[n]));return t};Th.cloneHashOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]));return t};Th.cloneHashOfArrayOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Th.cloneArray(e[n]));return t};Th.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};Th.startsWith=function(e,t){return e.indexOf(t)===0};Th.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n};Th.last=function(e){return e.length===0?null:e[e.length-1]};var $h=Th,c$=$h,rd={};(function(){var e,t,n,r,a;rd.initialize=function(D,P,H,W,U){e=D,t=P,n=H,r=W,a=U,o()};function o(){n.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},r.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},r.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},r.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},r.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},r.formatting.annotationfont=n.annotationfont,r.formatting.gchordfont=n.gchordfont,r.formatting.historyfont=n.historyfont,r.formatting.infofont=n.infofont,r.formatting.measurefont=n.measurefont,r.formatting.partsfont=n.partsfont,r.formatting.repeatfont=n.repeatfont,r.formatting.textfont=n.textfont,r.formatting.tripletfont=n.tripletfont,r.formatting.vocalfont=n.vocalfont,r.formatting.wordsfont=n.wordsfont}var l={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},u=function(D){switch(D){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},h=function(D,P,H,W,U){function V(){var ne=parseInt(D[0].token);return D.shift(),P?D.length===0?{face:P.face,weight:P.weight,style:P.style,decoration:P.decoration,size:ne}:D.length===1&&D[0].token==="box"&&l[U]?{face:P.face,weight:P.weight,style:P.style,decoration:P.decoration,size:ne,box:!0}:(t("Extra parameters in font definition.",H,W),{face:P.face,weight:P.weight,style:P.style,decoration:P.decoration,size:ne}):(t("Can't set just the size of the font since there is no default value.",H,W),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:ne})}if(D[0].token==="*"){if(D.shift(),D[0].type==="number")return V();t("Expected font size number after *.",H,W)}if(D[0].type==="number")return V();for(var G=[],ee,ce="normal",Q="normal",re="none",le=!1,Y="face",K=!1;D.length;){var Z=D.shift(),z=Z.token.toLowerCase();switch(Y){case"face":K||z!=="utf"&&Z.type!=="number"&&z!=="bold"&&z!=="italic"&&z!=="underline"&&z!=="box"?G.length>0&&Z.token==="-"?(K=!0,G[G.length-1]=G[G.length-1]+Z.token):K?(K=!1,G[G.length-1]=G[G.length-1]+Z.token):G.push(Z.token):Z.type==="number"?(ee?t("Font size specified twice in font definition.",H,W):ee=Z.token,Y="modifier"):z==="bold"?ce="bold":z==="italic"?Q="italic":z==="underline"?re="underline":z==="box"?(l[U]?le=!0:t(`This font style doesn't support "box"`,H,W),Y="finished"):z==="utf"?(Z=D.shift(),Y="size"):t("Unknown parameter "+Z.token+" in font definition.",H,W);break;case"size":Z.type==="number"?ee?t("Font size specified twice in font definition.",H,W):ee=Z.token:t("Expected font size in font definition.",H,W),Y="modifier";break;case"modifier":z==="bold"?ce="bold":z==="italic"?Q="italic":z==="underline"?re="underline":z==="box"?(l[U]?le=!0:t(`This font style doesn't support "box"`,H,W),Y="finished"):t("Unknown parameter "+Z.token+" in font definition.",H,W);break;case"finished":t('Extra characters found after "box" in font definition.',H,W);break}}ee===void 0?P?ee=P.size:(t("Must specify the size of the font since there is no default value.",H,W),ee=12):ee=parseFloat(ee),G=G.join(" "),G===""&&(P?G=P.face:(t("Must specify the name of the font since there is no default value.",H,W),G="sans-serif"));var X=u(G),te={};return X?(te.face=X.face,te.weight=X.weight,te.style=X.style,te.decoration=X.decoration,te.size=ee,le&&(te.box=!0),te):(te.face=G,te.weight=ce,te.style=Q,te.decoration=re,te.size=ee,le&&(te.box=!0),te)},f=function(D,P,H){return P.length===0?'Directive "'+D+'" requires a font as a parameter.':(n[D]=h(P,n[D],H,0,D),n.is_in_header&&(r.formatting[D]=n[D]),null)},d=function(D,P,H){return P.length===0?'Directive "'+D+'" requires a font as a parameter.':(r.formatting[D]=h(P,r.formatting[D],H,0,D),null)},p=function(D,P){var H="";P.forEach(function(U){H+=U.token});var W=parseFloat(H);if(isNaN(W)||W===0)return'Directive "'+D+'" requires a number as a parameter.';r.formatting.scale=W},g=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],m=function(D){var P=D.split(/\s+/);if(P.length!==2&&P.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var H=P[0],W=parseInt(P[1],10);if((isNaN(W)||W<35||W>81)&&P[1]&&(W=g.indexOf(P[1].toLowerCase())+35),isNaN(W)||W<35||W>81)return{error:'Expected drum name, received "'+P[1]+'"'};var U={sound:W};return P.length===3&&(U.noteHead=P[2]),{key:H,value:U}},y=function(D,P){var H=e.getMeasurement(P);return H.used===0||P.length!==0?{error:'Directive "'+D+'" requires a measurement as a parameter.'}:H.value},b=function(D,P){var H=e.getMeasurement(P);return H.used===0||P.length!==0?'Directive "'+D+'" requires a measurement as a parameter.':(r.formatting[D]=H.value,null)},T=function(D,P,H,W,U){if(H.length!==1||H[0].type!=="number")return'Directive "'+P+'" requires a number as a parameter.';var V=H[0].intt;return W!==void 0&&V<W?'Directive "'+P+'" requires a number greater than or equal to '+W+" as a parameter.":U!==void 0&&V>U?'Directive "'+P+'" requires a number less than or equal to '+U+" as a parameter.":(n[D]=V,null)},E=function(D,P,H){if(H.length===1&&(H[0].token==="true"||H[0].token==="false"))return n[D]=H[0].token==="true",null;var W=T(D,P,H,0,1);return W!==null?W:(n[D]=n[D]===1,null)},w=function(D,P,H,W){if(H.length!==1)return'Directive "'+P+'" requires one of [ '+W.join(", ")+" ] as a parameter.";for(var U=H[0].token,V=!1,G=0;!V&&G<W.length;G++)W[G]===U&&(V=!0);return V?(n[D]=U,null):'Directive "'+P+'" requires one of [ '+W.join(", ")+" ] as a parameter."},x=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],S=["gchord","ptstress","beatstring"],A=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],R=["program"],C=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],N=["beat"],O=["drone"],L=["portamento"],k=["expand","grace","trim"],M=["drum","chordname"],$=["bassprog","chordprog"],_=function(D,P,H){var W=D.shift().token,U=[];if(x.indexOf(W)>=0)D.length!==0&&t("Unexpected parameter in MIDI "+W,H,0);else if(S.indexOf(W)>=0)D.length!==1?t("Expected one parameter in MIDI "+W,H,0):U.push(D[0].token);else if(A.indexOf(W)>=0)D.length!==1?t("Expected one parameter in MIDI "+W,H,0):D[0].type!=="number"?t("Expected one integer parameter in MIDI "+W,H,0):U.push(D[0].intt);else if(R.indexOf(W)>=0)D.length!==1&&D.length!==2?t("Expected one or two parameters in MIDI "+W,H,0):D[0].type!=="number"||D.length===2&&D[1].type!=="number"?t("Expected integer parameter in MIDI "+W,H,0):(U.push(D[0].intt),D.length===2&&U.push(D[1].intt));else if(C.indexOf(W)>=0)D.length!==2?t("Expected two parameters in MIDI "+W,H,0):D[0].type!=="number"||D[1].type!=="number"?t("Expected two integer parameters in MIDI "+W,H,0):(U.push(D[0].intt),U.push(D[1].intt));else if(L.indexOf(W)>=0)D.length!==2?t("Expected two parameters in MIDI "+W,H,0):D[0].type!=="alpha"||D[1].type!=="number"?t("Expected one string and one integer parameters in MIDI "+W,H,0):(U.push(D[0].token),U.push(D[1].intt));else if(W==="drummap")D.length===2&&D[0].type==="alpha"&&D[1].type==="number"?(P.formatting||(P.formatting={}),P.formatting.midi||(P.formatting.midi={}),P.formatting.midi.drummap||(P.formatting.midi.drummap={}),P.formatting.midi.drummap[D[0].token]=D[1].intt,U=P.formatting.midi.drummap):D.length===3&&D[0].type==="punct"&&D[1].type==="alpha"&&D[2].type==="number"?(P.formatting||(P.formatting={}),P.formatting.midi||(P.formatting.midi={}),P.formatting.midi.drummap||(P.formatting.midi.drummap={}),P.formatting.midi.drummap[D[0].token+D[1].token]=D[2].intt,U=P.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+W,H,0);else if(k.indexOf(W)>=0)D.length!==3||D[0].type!=="number"||D[1].token!=="/"||D[2].type!=="number"?t("Expected fraction parameter in MIDI "+W,H,0):(U.push(D[0].intt),U.push(D[2].intt));else if(N.indexOf(W)>=0)D.length!==4?t("Expected four parameters in MIDI "+W,H,0):D[0].type!=="number"||D[1].type!=="number"||D[2].type!=="number"||D[3].type!=="number"?t("Expected four integer parameters in MIDI "+W,H,0):(U.push(D[0].intt),U.push(D[1].intt),U.push(D[2].intt),U.push(D[3].intt));else if(O.indexOf(W)>=0)D.length!==5?t("Expected five parameters in MIDI "+W,H,0):D[0].type!=="number"||D[1].type!=="number"||D[2].type!=="number"||D[3].type!=="number"||D[4].type!=="number"?t("Expected five integer parameters in MIDI "+W,H,0):(U.push(D[0].intt),U.push(D[1].intt),U.push(D[2].intt),U.push(D[3].intt),U.push(D[4].intt));else if(R.indexOf(W)>=0)D.length!==1||D.length!==4?t("Expected one or two parameters in MIDI "+W,H,0):D[0].type!=="number"?t("Expected integer parameter in MIDI "+W,H,0):D.length===4?(D[1].token!=="octave"&&t("Expected octave parameter in MIDI "+W,H,0),D[2].token!=="="&&t("Expected octave parameter in MIDI "+W,H,0),D[3].type!=="number"&&t("Expected integer parameter for octave in MIDI "+W,H,0)):(U.push(D[0].intt),D.length===4&&U.push(D[3].intt));else if(M.indexOf(W)>=0)if(D.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+W,H,0);else if(D[0].type!=="alpha")t("Expected string parameter and at least one integer parameter in MIDI "+W,H,0);else{var V=D.shift();for(U.push(V.token);D.length>0;)V=D.shift(),V.type!=="number"&&t("Expected integer parameter in MIDI "+W,H,0),U.push(V.intt)}else if($.indexOf(W)>=0){if(D.length!==1&&D.length!==2)t("Expected one or two parameters in MIDI "+W,H,0);else if(D[0].type!=="number")t("Expected integer parameter in MIDI "+W,H,0);else if(D.length===2&&D[1].type!=="alpha")t("Expected alpha parameter in MIDI "+W,H,0);else if(U.push(D[0].intt),D.length===2){var G=D[1].token;G.indexOf("octave=")!=-1?(G=G.replace("octave=",""),G=parseInt(G),isNaN(G)?t("Expected octave value in MIDI"+W):(G<-1&&(t("Expected octave= in MIDI "+W+" to be >= -1 (recv:"+G+")"),G=-1),G>3&&(t("Expected octave= in MIDI "+W+" to be <= 3 (recv:"+G+")"),G=3),U.push(G))):t("Expected octave= in MIDI"+W)}}a.hasBeginMusic()?a.appendElement("midi",-1,-1,{cmd:W,params:U}):(P.formatting.midi===void 0&&(P.formatting.midi={}),P.formatting.midi[W]=U)};rd.parseFontChangeLine=function(D){D=D.replace(/\$\$/g,"");var P=D.split("$");if(P.length>1&&n.setfont){var H=[];P[0]!==""&&H.push({text:P[0]});for(var W=1;W<P.length;W++)if(P[W][0]==="0")H.push({text:P[W].substring(1).replace(/\x03/g,"$$")});else{var U=parseInt(P[W][0],10);n.setfont[U]?H.push({font:n.setfont[U],text:P[W].substring(1).replace(/\x03/g,"$$")}):H[H.length-1].text+="$"+P[W].replace(/\x03/g,"$$")}return H}return D.replace(/\x03/g,"$$")};var F=["auto","above","below","hidden"];rd.addDirective=function(D){var P=e.tokenize(D,0,D.length);if(P.length===0||P[0].type!=="alpha")return null;var H=D.substring(D.indexOf(P[0].token)+P[0].token.length);H=e.stripComment(H);var W=P.shift().token.toLowerCase(),U="",V;switch(W){case"bagpipes":r.formatting.bagpipes=!0;break;case"flatbeams":r.formatting.flatbeams=!0;break;case"jazzchords":r.formatting.jazzchords=!0;break;case"accentAbove":r.formatting.accentAbove=!0;break;case"germanAlphabet":r.formatting.germanAlphabet=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=H;break;case"graceslurs":if(P.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(P[0].token==="0"||P[0].token==="false")r.formatting.graceSlurs=!1;else if(P[0].token==="1"||P[0].token==="true")r.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+P[0].token+")";break;case"lineThickness":var G=B(P);if(G.value!==void 0&&(r.formatting.lineThickness=G.value),G.error)return G.error;break;case"stretchlast":var ee=B(P);if(ee.value!==void 0&&(r.formatting.stretchlast=ee.value),ee.error)return ee.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":r.formatting.titleleft=!0;break;case"measurebox":r.formatting.measurebox=!0;break;case"vocal":return w("vocalPosition",W,P,F);case"dynamic":return w("dynamicPosition",W,P,F);case"gchord":return w("chordPosition",W,P,F);case"ornament":return w("ornamentPosition",W,P,F);case"volume":return w("volumePosition",W,P,F);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return b(W,P);case"voicescale":if(P.length!==1||P[0].type!=="number")return"voicescale requires one float as a parameter";var ce=P.shift();return n.currentVoice&&(n.currentVoice.scale=ce.floatt,a.changeVoiceScale(n.currentVoice.scale)),null;case"voicecolor":if(P.length!==1)return"voicecolor requires one string as a parameter";var Q=P.shift();return n.currentVoice&&(n.currentVoice.color=Q.token,a.changeVoiceColor(n.currentVoice.color)),null;case"vskip":var re=Math.round(y(W,P));return re.error?re.error:(a.addSpacing(re),null);case"scale":p(W,P);break;case"sep":if(P.length===0)a.addSeparator(14,14,85,{startChar:n.iChar,endChar:n.iChar+5});else{var le=e.getMeasurement(P);if(le.used===0)return'Directive "'+W+'" requires 3 numbers: space above, space below, length of line';var Y=le.value;if(le=e.getMeasurement(P),le.used===0)return'Directive "'+W+'" requires 3 numbers: space above, space below, length of line';var K=le.value;if(le=e.getMeasurement(P),le.used===0||P.length!==0)return'Directive "'+W+'" requires 3 numbers: space above, space below, length of line';var Z=le.value;a.addSeparator(Y,K,Z,{startChar:n.iChar,endChar:n.iChar+H.length})}break;case"barsperstaff":if(U=T("barsperstaff",W,P),U!==null)return U;break;case"staffnonote":if(P.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(P[0].token==="0")n.staffnonote=!0;else if(P[0].token==="1")n.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+P[0].token+")";break;case"printtempo":if(U=E("printTempo",W,P),U!==null)return U;break;case"partsbox":if(U=E("partsBox",W,P),U!==null)return U;n.partsfont.box=n.partsBox;break;case"freegchord":if(U=E("freegchord",W,P),U!==null)return U;break;case"measurenb":case"barnumbers":if(U=T("barNumbers",W,P),U!==null)return U;break;case"setbarnb":if(P.length!==1||P[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=a.setBarNumberImmediate(P[0].intt);break;case"begintext":var z="";for(V=e.nextLine();V&&V.indexOf("%%endtext")!==0;)c$.startsWith(V,"%%")?z+=V.substring(2)+`
`:z+=V+`
`,V=e.nextLine();a.addText(z,{startChar:n.iChar,endChar:n.iChar+z.length+7});break;case"continueall":n.continueall=!0;break;case"beginps":for(V=e.nextLine();V&&V.indexOf("%%endps")!==0;)e.nextLine();t("Postscript ignored",D,0);break;case"deco":H.length>0&&n.ignoredDecorations.push(H.substring(0,H.indexOf(" "))),t("Decoration redefinition ignored",D,0);break;case"text":var X=e.translateString(H);a.addText(rd.parseFontChangeLine(X),{startChar:n.iChar,endChar:n.iChar+H.length+7});break;case"center":var te=e.translateString(H);a.addCentered(rd.parseFontChangeLine(te));break;case"font":break;case"setfont":var ne=e.tokenize(H,0,H.length);if(ne.length>=4&&ne[0].token==="-"&&ne[1].type==="number"){var Ae=parseInt(ne[1].token);Ae>=1&&Ae<=9&&(n.setfont||(n.setfont=[]),ne.shift(),ne.shift(),n.setfont[Ae]=h(ne,n.setfont[Ae],D,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return f(W,P,D);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return d(W,P,D);case"barlabelfont":case"barnumberfont":case"barnumfont":return f("measurefont",P,D);case"staves":case"score":n.score_is_present=!0;for(var he=function(Ne,Ve,et,Rt,pt){(Ve||n.staves.length===0)&&n.staves.push({index:n.staves.length,numVoices:0});var ut=c$.last(n.staves);et!==void 0&&ut.bracket===void 0&&(ut.bracket=et),Rt!==void 0&&ut.brace===void 0&&(ut.brace=Rt),pt&&(ut.connectBarLines="end"),n.voices[Ne]===void 0&&(n.voices[Ne]={staffNum:ut.index,index:ut.numVoices},ut.numVoices++)},oe=!1,de=!1,be=!1,fe=!1,Ie=!1,Re=!1,ke=!1,De,se=function(){if(ke=!0,De){var Ne="start";De.staffNum>0&&(n.staves[De.staffNum-1].connectBarLines==="start"||n.staves[De.staffNum-1].connectBarLines==="continue")&&(Ne="continue"),n.staves[De.staffNum].connectBarLines=Ne}};P.length;){var j=P.shift();switch(j.token){case"(":oe?t("Can't nest parenthesis in %%score",D,j.start):(oe=!0,fe=!0);break;case")":!oe||fe?t("Unexpected close parenthesis in %%score",D,j.start):oe=!1;break;case"[":de?t("Can't nest brackets in %%score",D,j.start):(de=!0,Ie=!0);break;case"]":!de||Ie?t("Unexpected close bracket in %%score",D,j.start):(de=!1,n.staves[De.staffNum].bracket="end");break;case"{":be?t("Can't nest braces in %%score",D,j.start):(be=!0,Re=!0);break;case"}":!be||Re?t("Unexpected close brace in %%score",D,j.start):(be=!1,n.staves[De.staffNum].brace="end");break;case"|":se();break;default:for(var me="";(j.type==="alpha"||j.type==="number")&&(me+=j.token,j.continueId);)j=P.shift();var ue=!oe||fe,we=Ie?"start":de?"continue":void 0,ie=Re?"start":be?"continue":void 0;he(me,ue,we,ie,ke),fe=!1,Ie=!1,Re=!1,ke=!1,De=n.voices[me],W==="staves"&&se();break}}break;case"newpage":var Oe=e.getInt(H);a.addNewPage(Oe.digits===0?-1:Oe.value);break;case"abc":var ae=H.split(" ");switch(ae[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var ge=ae.shift();a.addMetaText(W+ge,ae.join(" "),{startChar:n.iChar,endChar:n.iChar+H.length+5});break;default:return"Unknown directive: "+W+ae[0]}break;case"header":case"footer":var Ee=e.getMeat(H,0,H.length);Ee=H.substring(Ee.start,Ee.end),Ee[0]==='"'&&Ee[Ee.length-1]==='"'&&(Ee=Ee.substring(1,Ee.length-1));var ye=Ee.split("	"),Se={};ye.length===1?Se={left:"",center:ye[0],right:""}:ye.length===2?Se={left:ye[0],center:ye[1],right:""}:Se={left:ye[0],center:ye[1],right:ye[2]},ye.length>3&&t("Too many tabs in "+W+": "+ye.length+" found.",H,0),a.addMetaTextObj(W,Se,{startChar:n.iChar,endChar:n.iChar+D.length});break;case"midi":var Ce=e.tokenize(H,0,H.length,!0);Ce.length>0&&Ce[0].token==="="&&Ce.shift(),Ce.length===0?t("Expected midi command",H,0):_(Ce,r,H);break;case"percmap":var Fe=m(H);Fe.error?t(Fe.error,D,8):(r.formatting.percmap||(r.formatting.percmap={}),r.formatting.percmap[Fe.key]=Fe.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":r.formatting[W]=H;break;default:return"Unknown directive: "+W}return null},rd.globalFormatting=function(D){for(var P in D)if(D.hasOwnProperty(P)){var H=""+D[P],W=e.tokenize(H,0,H.length),U;switch(P){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":f(P,W,H);break;case"scale":p(P,W);break;case"partsbox":U=E("partsBox",P,W),U!==null&&t(U),n.partsfont.box=n.partsBox;break;case"freegchord":U=E("freegchord",P,W),U!==null&&t(U);break;case"fontboxpadding":(W.length!==1||W[0].type!=="number")&&t('Directive "'+P+'" requires a number as a parameter.'),r.formatting.fontboxpadding=W[0].floatt;break;case"stafftopmargin":(W.length!==1||W[0].type!=="number")&&t('Directive "'+P+'" requires a number as a parameter.'),r.formatting.stafftopmargin=W[0].floatt;break;case"stretchlast":var V=B(W);if(V.value!==void 0&&(r.formatting.stretchlast=V.value),V.error)return V.error;break;default:t("Formatting directive unrecognized: ",P,0)}}};function B(D){if(D.length===0)return{value:1};if(D.length===1)if(D[0].type==="number"){if(D[0].floatt>=0||D[0].floatt<=1)return{value:D[0].floatt}}else{if(D[0].token==="false")return{value:0};if(D[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+D[0].token+")"}}})();var p_=rd,g_={};const fee=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];g_.pitchIndex=function(e){return fee.indexOf(e)};g_.noteName=function(e){return fee[e]};var _Ie=g_,yw=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],bw=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],Tw=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ew=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function DIe(e,t,n,r){if(!t||t%12===0)return e;for(;t<0;)t+=12;t>11&&(t=t%12);var a=e.match(/^([A-G][b#♭♯]?)([^\/]+)?\/?([A-G][b#♭♯]?)?(.+)?/);if(!a)return e;var o=a[1],l=a[2],u=a[3],h=a[4],f=yw.indexOf(o);if(f<0&&(f=bw.indexOf(o)),f<0&&(f=Tw.indexOf(o)),f<0&&(f=Ew.indexOf(o)),f<0)return e;if(f+=t,f=f%12,n?r?e=Ew[f]:e=bw[f]:r?e=Tw[f]:e=yw[f],l&&(e+=l),u){var f=yw.indexOf(u);f<0&&(f=bw.indexOf(u)),f<0&&(f=Tw.indexOf(u)),f<0&&(f=Ew.indexOf(u)),e+="/",f>=0?(f+=t,f=f%12,n?r?e+=Ew[f]:e+=bw[f]:r?e+=Tw[f]:e+=yw[f]):e+=u}return h&&(e+=h),e}var dee=DIe,Ed={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},H2=null;function MIe(){H2={};for(var e=Object.keys(Ed),t=0;t<e.length;t++){var n=Ed[e[t]];H2[e[t].toLowerCase()]=e[t];for(var r=0;r<n.modes.length;r++){var a=n.modes[r].toLowerCase();H2[a]=e[t]}}}function PIe(e){H2||MIe();var t=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!t||!t[2])return e;t=t[1]+t[2];var n=H2[t];return n||e}function FIe(e,t){var n=Ed[e];if(!n||t==="")return e;var r=t.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!r)return e;for(var a=r[1],o=0;o<n.modes.length;o++){var l=n.modes[o],u=l.toLowerCase().indexOf(a);if(u!==-1&&u===l.length-a.length)return l.substring(0,l.length-a.length)}return e}function BIe(e,t){var n=Ed[e];if(!n)return e;for(;t<0;)t+=12;for(var r=(n.stepsFromC+t)%12,a=0;a<Object.keys(Ed).length;a++){var o=Object.keys(Ed)[a];if(Ed[o].stepsFromC===r)return o}return e}var pee={relativeMajor:PIe,relativeMode:FIe,transposeKey:BIe},{relativeMajor:HIe}=pee,Uf={acc:"sharp",note:"f"},ng={acc:"sharp",note:"c"},vy={acc:"sharp",note:"g"},ww={acc:"sharp",note:"d"},pC={acc:"sharp",note:"A"},u$={acc:"sharp",note:"e"},$Ie={acc:"sharp",note:"B"},Zo={acc:"flat",note:"B"},Lc={acc:"flat",note:"e"},i0={acc:"flat",note:"A"},yy={acc:"flat",note:"d"},gC={acc:"flat",note:"G"},h$={acc:"flat",note:"c"},WIe={acc:"flat",note:"F"},UIe={"C#":[Uf,ng,vy,ww,pC,u$,$Ie],"F#":[Uf,ng,vy,ww,pC,u$],B:[Uf,ng,vy,ww,pC],E:[Uf,ng,vy,ww],A:[Uf,ng,vy],D:[Uf,ng],G:[Uf],C:[],F:[Zo],Bb:[Zo,Lc],Eb:[Zo,Lc,i0],Cm:[Zo,Lc,i0],Ab:[Zo,Lc,i0,yy],Db:[Zo,Lc,i0,yy,gC],Gb:[Zo,Lc,i0,yy,gC,h$],Cb:[Zo,Lc,i0,yy,gC,h$,WIe],"A#":[Zo,Lc],"B#":[],"D#":[Zo,Lc,i0],"E#":[Zo],"G#":[Zo,Lc,i0,yy],none:[]};function GIe(e){var t=UIe[HIe(e)];return t?JSON.parse(JSON.stringify(t)):null}var gee=GIe,f$=_Ie,zIe=dee,mC=gee,lA={},YIe={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},VIe=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],qIe=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];lA.keySignature=function(e,t,n,r,a){if(e.clef.type==="perc"||e.clef.type==="none")return{accidentals:mC(t),root:n,acc:r};a||(a=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var o=mC(t);if(!o)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+a,!e.localTranspose)return{accidentals:o,root:n,acc:r};if(e.globalTransposeOrigKeySig=o,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:o,root:n,acc:r};var l=t[0];t[1]==="b"||t[1]==="#"?(l+=t[1],t=t.substr(2)):t=t.substr(1);var u=YIe[l],h=u!==void 0;h||(u=0,l="C",t="");for(var f=u+e.localTranspose;f<0;)f+=12;f>11&&(f=f%12);var d=t[0]==="m"?qIe[f]:VIe[f],p=d+t,g=mC(p);g.length>0&&g[0].acc==="flat"&&(e.localTransposePreferFlats=!0);var m=p.charCodeAt(0)-l.charCodeAt(0);return e.localTranspose>0?(m<0||m===0&&(l[1]==="#"||p[1]==="b"))&&(m+=7):e.localTranspose<0&&(m>0||m===0&&(l[1]==="b"||p[1]==="#"))&&(m-=7),e.localTranspose>0?e.localTransposeVerticalMovement=m+Math.floor(e.localTranspose/12)*7:e.localTransposeVerticalMovement=m+Math.ceil(e.localTranspose/12)*7,h?{accidentals:g,root:d[0],acc:d.length>1?d[1]:""}:{accidentals:[],root:n,acc:r}};lA.chordName=function(e,t){return zIe(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var d$=["c","d","e","f","g","a","b"];function jIe(e,t,n,r,a){for(var o=d$[(e+49)%7],l=0,u=0;u<r.length;u++)r[u].note.toLowerCase()===o&&(l=vC[r[u].acc]);for(var h=vC[n],f=h-l,d=d$[(t+49)%7],p=0,g=0;g<a.accidentals.length;g++)a.accidentals[g].note.toLowerCase()===d&&(p=vC[a.accidentals[g].acc]);var m=f+p;return m<-2&&(t--,m+=d==="c"||d==="f"?1:2),m>2&&(t++,m-=d==="b"||d==="e"?1:2),[t,m]}var vC={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},XIe={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},KIe={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};lA.note=function(e,t){if(!(!e.localTranspose||e.clef.type==="perc")){var n=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var r=t.accidental?t.name.substring(1):t.name,a=t.accidental?t.name[0]:"",o=f$.pitchIndex(r);t.name=a+f$.noteName(o+e.localTransposeVerticalMovement)}if(t.accidental){var l=jIe(n,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=l[0],t.accidental=XIe[l[1]],t.name&&(t.name=KIe[l[1]]+t.name.replace(/[_^=]/g,""))}}};var mee=lA,p$=p_,ZIe=mee,Gs={};(function(){var e,t,n,r;Gs.initialize=function(d,p,g,m,y){e=d,t=p,n=g,r=y},Gs.standardKey=function(d,p,g,m){return ZIe.keySignature(n,d,p,g,m)};var a={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},o=function(d,p){var g=a[d],m=g?g.mid:0;return m+p};Gs.fixClef=function(d){var p=a[d.type];p&&(d.clefPos=p.pitch,d.type=p.clef)},Gs.deepCopyKey=function(d){var p={accidentals:[],root:d.root,acc:d.acc,mode:d.mode};return d.accidentals.forEach(function(g){p.accidentals.push(Object.assign({},g))}),p};var l={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Gs.addPosToKey=function(d,p){var g=d.verticalPos;p.accidentals.forEach(function(m){var y=l[m.note];y=y-g,m.verticalPos=y}),p.impliedNaturals&&p.impliedNaturals.forEach(function(m){var y=l[m.note];y=y-g,m.verticalPos=y}),g<-10?(p.accidentals.forEach(function(m){m.verticalPos-=7,(m.verticalPos>=11||m.verticalPos===10&&m.acc==="flat")&&(m.verticalPos-=7),m.note==="A"&&m.acc==="sharp"&&(m.verticalPos-=7),(m.note==="G"||m.note==="F")&&m.acc==="flat"&&(m.verticalPos-=7)}),p.impliedNaturals&&p.impliedNaturals.forEach(function(m){m.verticalPos-=7,(m.verticalPos>=11||m.verticalPos===10&&m.acc==="flat")&&(m.verticalPos-=7),m.note==="A"&&m.acc==="sharp"&&(m.verticalPos-=7),(m.note==="G"||m.note==="F")&&m.acc==="flat"&&(m.verticalPos-=7)})):g<-4?(p.accidentals.forEach(function(m){m.verticalPos-=7,g===-8&&(m.note==="f"||m.note==="g")&&m.acc==="sharp"&&(m.verticalPos-=7)}),p.impliedNaturals&&p.impliedNaturals.forEach(function(m){m.verticalPos-=7,g===-8&&(m.note==="f"||m.note==="g")&&m.acc==="sharp"&&(m.verticalPos-=7)})):g>=7&&(p.accidentals.forEach(function(m){m.verticalPos+=7}),p.impliedNaturals&&p.impliedNaturals.forEach(function(m){m.verticalPos+=7}))},Gs.fixKey=function(d,p){var g=Object.assign({},p);return Gs.addPosToKey(d,g),g};var u=function(d){var p=0,g=d[p++];(g==="^"||g==="_")&&(g=d[p++]);var m=l[g];for(m===void 0&&(m=6);p<d.length;p++)if(d[p]===",")m-=7;else if(d[p]==="'")m+=7;else break;return{mid:m-6,str:d.substring(p)}},h=function(d){for(var p=0;p<d.length;p++)d[p].note==="b"?d[p].note="B":d[p].note==="a"?d[p].note="A":d[p].note==="F"?d[p].note="f":d[p].note==="E"?d[p].note="e":d[p].note==="D"?d[p].note="d":d[p].note==="C"?d[p].note="c":d[p].note==="G"&&d[p].acc==="sharp"?d[p].note="g":d[p].note==="g"&&d[p].acc==="flat"&&(d[p].note="G")};Gs.parseKey=function(d,p){d.length===0&&(d="none");var g=e.tokenize(d,0,d.length),m={};if(g.length===0)return t("Must pass in key signature.",d,0),m;switch(g[0].token){case"HP":p$.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},m.foundKey=!0,g.shift();break;case"Hp":p$.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},m.foundKey=!0,g.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},m.foundKey=!0,g.shift();break;default:var y=e.getKeyPitch(g[0].token);if(y.len>0){m.foundKey=!0;var b="",T="";g[0].token.length>1?g[0].token=g[0].token.substring(1):g.shift();var E=y.token;if(g.length>0){var w=e.getSharpFlat(g[0].token);if(w.len>0&&(g[0].token.length>1?g[0].token=g[0].token.substring(1):g.shift(),E+=w.token,b=w.token),g.length>0){var x=e.getMode(g[0].token);x.len>0&&(g.shift(),E+=x.token,T=x.token)}if(Gs.standardKey(E,y.token,b,0)===void 0)return t("Unsupported key signature: "+E,d,0),m}var S=Gs.deepCopyKey(n.key),A=!p&&n.globalTranspose?-n.globalTranspose:0,R;if(p&&(R=n.globalTransposeOrigKeySig),n.key=Gs.deepCopyKey(Gs.standardKey(E,y.token,b,A)),p&&(n.globalTransposeOrigKeySig=R),n.key.mode=T,S){for(var C,N=0;N<n.key.accidentals.length;N++)for(C=0;C<S.accidentals.length;C++)S.accidentals[C].note&&n.key.accidentals[N].note.toLowerCase()===S.accidentals[C].note.toLowerCase()&&(S.accidentals[C].note=null);for(C=0;C<S.accidentals.length;C++)S.accidentals[C].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:S.accidentals[C].note}))}}break}if(g.length===0||(g[0].token==="exp"&&g.shift(),g.length===0)||(g[0].token==="oct"&&g.shift(),g.length===0))return m;var O=e.getKeyAccidentals2(g);if(O.warn&&t(O.warn,d,0),O.accs){m.foundKey||(m.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),h(O.accs);for(var L=0;L<O.accs.length;L++){for(var k=!1,M=0;M<n.key.accidentals.length&&!k;M++)n.key.accidentals[M].note===O.accs[L].note&&(k=!0,n.key.accidentals[M].acc!==O.accs[L].acc&&(n.key.accidentals[M].acc=O.accs[L].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(O.accs[L])));if(!k&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(O.accs[L]),n.key.accidentals.push(O.accs[L]),n.key.impliedNaturals))for(var $=0;$<n.key.impliedNaturals.length;$++)n.key.impliedNaturals[$].note===O.accs[L].note&&n.key.impliedNaturals.splice($,1)}}for(var _;g.length>0;)switch(g[0].token){case"m":case"middle":if(g.shift(),g.length===0)return t("Expected = after middle",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after middle",d,_.start);break}if(g.length===0)return t("Expected parameter after middle=",d,0),m;var F=e.getPitchFromTokens(g);F.warn&&t(F.warn,d,0),F.position&&(n.clef.verticalPos=F.position-6);break;case"transpose":if(g.shift(),g.length===0)return t("Expected = after transpose",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after transpose",d,_.start);break}if(g.length===0)return t("Expected parameter after transpose=",d,0),m;if(g[0].type!=="number"){t("Expected number after transpose",d,g[0].start);break}n.clef.transpose=g[0].intt,g.shift();break;case"stafflines":if(g.shift(),g.length===0)return t("Expected = after stafflines",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after stafflines",d,_.start);break}if(g.length===0)return t("Expected parameter after stafflines=",d,0),m;if(g[0].type!=="number"){t("Expected number after stafflines",d,g[0].start);break}n.clef.stafflines=g[0].intt,g.shift();break;case"staffscale":if(g.shift(),g.length===0)return t("Expected = after staffscale",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after staffscale",d,_.start);break}if(g.length===0)return t("Expected parameter after staffscale=",d,0),m;if(g[0].type!=="number"){t("Expected number after staffscale",d,g[0].start);break}n.clef.staffscale=g[0].floatt,g.shift();break;case"octave":if(g.shift(),g.length===0)return t("Expected = after octave",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after octave",d,_.start);break}if(g.length===0)return t("Expected parameter after octave=",d,0),m;if(g[0].type!=="number"){t("Expected number after octave",d,g[0].start);break}n.octave=g[0].intt,g.shift();break;case"style":if(g.shift(),g.length===0)return t("Expected = after style",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after style",d,_.start);break}if(g.length===0)return t("Expected parameter after style=",d,0),m;switch(g[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=g[0].token,g.shift();break;default:t("error parsing style element: "+g[0].token,d,g[0].start);break}break;case"clef":if(g.shift(),g.length===0)return t("Expected = after clef",d,0),m;if(_=g.shift(),_.token!=="="){t("Expected = after clef",d,_.start);break}if(g.length===0)return t("Expected parameter after clef=",d,0),m;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var B=g.shift();switch(B.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":B.token="alto";break;case"F":B.token="bass";break;case"G":B.token="treble";break;case"c":B.token="alto";break;case"f":B.token="bass";break;case"g":B.token="treble";break;default:t("Expected clef name. Found "+B.token,d,B.start);break}g.length>0&&g[0].type==="number"&&(B.token+=g[0].token,g.shift()),g.length>1&&(g[0].token==="-"||g[0].token==="+"||g[0].token==="^"||g[0].token==="_")&&g[1].token==="8"&&(B.token+=g[0].token+g[1].token,g.shift(),g.shift()),n.clef={type:B.token,verticalPos:o(B.token,0)},n.currentVoice&&n.currentVoice.transpose!==void 0&&(n.clef.transpose=n.currentVoice.transpose),m.foundClef=!0;break;default:t("Unknown parameter: "+g[0].token,d,g[0].start),g.shift()}return m};var f=function(d){var p=n.voices[d];if(!(n.currentVoice&&n.currentVoice.index===p.index&&n.currentVoice.staffNum===p.staffNum))return n.currentVoice=p,r.setCurrentVoice(p.staffNum,p.index,d)};Gs.parseVoice=function(d,p,g){var m=e.getMeat(d,p,g),y=m.start,b=m.end,T=e.getToken(d,y,b);if(T.length===0){t("Expected a voice id",d,y);return}var E=!1;n.voices[T]===void 0&&(n.voices[T]={},E=!0,n.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",d,y)),y+=T.length,y+=e.eatWhiteSpace(d,y);for(var w={startStaff:E},x=function(F){var B=e.getVoiceToken(d,y,b);B.warn!==void 0?t("Expected value for "+F+" in voice: "+B.warn,d,y):B.err!==void 0?t("Expected value for "+F+" in voice: "+B.err,d,y):B.token.length===0&&d[y]!=='"'?t("Expected value for "+F+" in voice",d,y):w[F]=B.token,y+=B.len},S=function(F,B,D){var P=e.getVoiceToken(d,y,b);P.warn!==void 0?t("Expected value for "+B+" in voice: "+P.warn,d,y):P.err!==void 0?t("Expected value for "+B+" in voice: "+P.err,d,y):P.token.length===0&&d[y]!=='"'?t("Expected value for "+B+" in voice",d,y):(P.token=parseFloat(P.token),n.voices[F][B]=P.token),y+=P.len},A=function(F,B){var D=e.getVoiceToken(d,y,b);if(D.warn!==void 0)t("Expected value for "+F+" in voice: "+D.warn,d,y);else if(D.err!==void 0)t("Expected value for "+F+" in voice: "+D.err,d,y);else if(D.token.length===0&&d[y]!=='"')t("Expected value for "+F+" in voice",d,y);else return D.token;y+=D.len},R=function(F,B){var D={_B:2,_E:9,_b:-10,_e:-3},P=e.getVoiceToken(d,y,b);if(P.warn!==void 0)t("Expected one of (_B, _E, _b, _e) for "+B+" in voice: "+P.warn,d,y);else if(P.token.length===0&&d[y]!=='"')t("Expected one of (_B, _E, _b, _e) for "+B+" in voice",d,y);else{var H=D[P.token];H?n.voices[F][B]=H:t("Expected one of (_B, _E, _b, _e) for "+B+" in voice",d,y)}y+=P.len};y<b;){var C=e.getVoiceToken(d,y,b);if(y+=C.len,C.warn)t("Error parsing voice: "+C.warn,d,y);else{var N=null;switch(C.token){case"clef":case"cl":x("clef");var O=0;w.clef!==void 0&&(w.clef=w.clef.replace(/[',]/g,""),w.clef.indexOf("+16")!==-1&&(O+=14,w.clef=w.clef.replace("+16","")),w.verticalPos=o(w.clef,O));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var L=0;w.clef=C.token.replace(/[',]/g,""),w.verticalPos=o(w.clef,L),n.voices[T].clef=C.token;break;case"staves":case"stave":case"stv":x("staves");break;case"brace":case"brc":x("brace");break;case"bracket":case"brk":x("bracket");break;case"name":case"nm":x("name");break;case"subname":case"sname":case"snm":x("subname");break;case"merge":w.startStaff=!1;break;case"stem":case"stems":N=e.getVoiceToken(d,y,b),N.warn!==void 0?t("Expected value for stems in voice: "+N.warn,d,y):N.err!==void 0?t("Expected value for stems in voice: "+N.err,d,y):N.token==="up"||N.token==="down"?n.voices[T].stem=N.token:t("Expected up or down for voice stem",d,y),y+=N.len;break;case"up":case"down":n.voices[T].stem=C.token;break;case"middle":case"m":x("verticalPos"),w.verticalPos=u(w.verticalPos).mid;break;case"gchords":case"gch":n.voices[T].suppressChords=!0,N=e.getVoiceToken(d,y,b),N.token==="0"&&(y=y+N.len);break;case"space":case"spc":x("spacing");break;case"scale":S(T,"scale");break;case"score":R(T,"scoreTranspose");break;case"transpose":S(T,"transpose");break;case"stafflines":S(T,"stafflines");break;case"staffscale":S(T,"staffscale");break;case"octave":S(T,"octave");break;case"volume":S(T,"volume");break;case"cue":var k=A("cue");k==="on"?n.voices[T].scale=.6:n.voices[T].scale=1;break;case"style":N=e.getVoiceToken(d,y,b),N.warn!==void 0?t("Expected value for style in voice: "+N.warn,d,y):N.err!==void 0?t("Expected value for style in voice: "+N.err,d,y):N.token==="normal"||N.token==="harmonic"||N.token==="rhythm"||N.token==="x"||N.token==="triangle"?n.voices[T].style=N.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",d,y),y+=N.len;break}}y+=e.eatWhiteSpace(d,y)}if((w.startStaff||n.staves.length===0)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),n.voices[T].staffNum===void 0){n.voices[T].staffNum=n.staves.length-1;var M=0;for(var $ in n.voices)n.voices.hasOwnProperty($)&&n.voices[$].staffNum===n.voices[T].staffNum&&M++;n.voices[T].index=M-1}var _=n.staves[n.voices[T].staffNum];return n.score_is_present||_.numVoices++,w.clef&&(_.clef={type:w.clef,verticalPos:w.verticalPos}),w.spacing&&(_.spacing_below_offset=w.spacing),w.verticalPos&&(_.verticalPos=w.verticalPos),w.name&&(_.name?_.name.push(w.name):_.name=[w.name]),w.subname&&(_.subname?_.subname.push(w.subname):_.subname=[w.subname]),f(T)}})();var m_=Gs,xw=$h,_c=p_,Dc=m_,QIe=function(e,t,n,r,a){this.reset=function(u,h,f,d){Dc.initialize(u,h,f,d,a),_c.initialize(u,h,f,d,a)},this.reset(e,t,n,r),this.setTitle=function(u,h){n.hasMainTitle?a.addSubtitle(u,{startChar:n.iChar,endChar:n.iChar+h+2}):(a.addMetaText("title",u,{startChar:n.iChar,endChar:n.iChar+h+2}),n.hasMainTitle=!0)},this.setMeter=function(u){if(u=e.stripComment(u),u==="C")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if(u==="C|")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if(u==="o")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if(u==="c")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if(u==="o.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(u==="c.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(u.length===0||u.toLowerCase()==="none")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),null;var h=e.tokenize(u,0,u.length);try{var f=function(){var b={value:0,num:""},T=h.shift();for(T.token==="("&&(T=h.shift());;){if(T.type!=="number")throw"Expected top number of meter";if(b.value+=parseInt(T.token),b.num+=T.token,h.length===0||h[0].token==="/")return b;if(T=h.shift(),T.token===")"){if(h.length===0||h[0].token==="/")return b;throw"Unexpected paren in meter"}if(T.token!=="."&&T.token!=="+"||(b.num+=T.token,h.length===0))throw"Expected top number of meter";T=h.shift()}return b},d=function(){var b=f();if(h.length===0)return b;var T=h.shift();if(T.token!=="/")throw"Expected slash in meter";if(T=h.shift(),T.type!=="number")throw"Expected bottom number of meter";return b.den=T.token,b.value=b.value/parseInt(b.den),b};if(h.length===0)throw"Expected meter definition in M: line";for(var p={type:"specified",value:[]},g=0;;){var m=d();g+=m.value;var y={num:m.num};if(m.den!==void 0&&(y.den=m.den),p.value.push(y),h.length===0)break}return n.havent_set_length===!0&&(n.default_length=g<.75?.0625:.125,n.havent_set_length=!1),p}catch(b){t(b,u,0)}return null},this.calcTempo=function(u){var h=.25;n.meter&&n.meter.type==="specified"?h=1/parseInt(n.meter.value[0].den):n.origMeter&&n.origMeter.type==="specified"&&(h=1/parseInt(n.origMeter.value[0].den));for(var f=0;f<u.duration;f++)u.duration[f]=h*u.duration[f];return u},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),r.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(u,h,f){var d=u.indexOf("=",h);if(d===-1){t("Need an = in a macro definition",u,h);return}var p=xw.strip(u.substring(h,d)),g=xw.strip(u.substring(d+1));if(p.length!==1){t("Macro definitions can only be one character",u,h);return}var m="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(m.indexOf(p)===-1){t("Macro definitions must be H-Y, h-w, or tilde",u,h);return}if(g.length===0){t("Missing macro definition",u,h);return}n.macros===void 0&&(n.macros={}),n.macros[p]=g},this.setDefaultLength=function(u,h,f){var d=u.substring(h,f).replace(/ /g,""),p=d.split("/");if(p.length===2){var g=parseInt(p[0]),m=parseInt(p[1]);m>0&&(n.default_length=g/m,n.havent_set_length=!1)}else p.length===1&&p[0]==="1"&&(n.default_length=1,n.havent_set_length=!1)};var o={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(u,h,f,d){try{var p=e.tokenize(u,h,f);if(p.length===0)throw"Missing parameter in Q: field";var g={startChar:d+h-2,endChar:d+f},m=!0,y=p.shift();if(y.type==="quote"&&(g.preString=y.token,y=p.shift(),p.length===0))return o[g.preString.toLowerCase()]&&(g.bpm=o[g.preString.toLowerCase()],g.suppressBpm=!0),{type:"immediate",tempo:g};if(y.type==="alpha"&&y.token==="C"){if(p.length===0)throw"Missing tempo after C in Q: field";if(y=p.shift(),y.type==="punct"&&y.token==="="){if(p.length===0)throw"Missing tempo after = in Q: field";if(y=p.shift(),y.type!=="number")throw"Expected number after = in Q: field";g.duration=[1],g.bpm=parseInt(y.token)}else if(y.type==="number"){if(g.duration=[parseInt(y.token)],p.length===0)throw"Missing = after duration in Q: field";if(y=p.shift(),y.type!=="punct"||y.token!=="=")throw"Expected = after duration in Q: field";if(p.length===0)throw"Missing tempo after = in Q: field";if(y=p.shift(),y.type!=="number")throw"Expected number after = in Q: field";g.bpm=parseInt(y.token)}else throw"Expected number or equal after C in Q: field"}else if(y.type==="number"){var b=parseInt(y.token);if(p.length===0||p[0].type==="quote")g.duration=[1],g.bpm=b;else{if(m=!1,y=p.shift(),y.type!=="punct"&&y.token!=="/"||(y=p.shift(),y.type!=="number"))throw"Expected fraction in Q: field";var T=parseInt(y.token);for(g.duration=[b/T];p.length>0&&p[0].token!=="="&&p[0].type!=="quote";){if(y=p.shift(),y.type!=="number"||(b=parseInt(y.token),y=p.shift(),y.type!=="punct"&&y.token!=="/")||(y=p.shift(),y.type!=="number"))throw"Expected fraction in Q: field";T=parseInt(y.token),g.duration.push(b/T)}if(y=p.shift(),y.type!=="punct"&&y.token!=="=")throw"Expected = in Q: field";if(y=p.shift(),y.type!=="number")throw"Expected tempo in Q: field";g.bpm=parseInt(y.token)}}else throw"Unknown value in Q: field";if(p.length!==0&&(y=p.shift(),y.type==="quote"&&(g.postString=y.token,y=p.shift()),p.length!==0))throw"Unexpected string at end of Q: field";return n.printTempo===!1&&(g.suppress=!0),{type:m?"delaySet":"immediate",tempo:g}}catch(E){return t(E,u,h),{type:"none"}}},this.letter_to_inline_header=function(u,h,f){var d=!1,p=e.eatWhiteSpace(u,h);if(h+=p,u.length>=h+5&&u[h]==="["&&u[h+2]===":"){var g=u.indexOf("]",h),m=n.iChar+h,y=n.iChar+g+1;switch(u.substring(h,h+3)){case"[I:":var b=_c.addDirective(u.substring(h+3,g));return b&&t(b,u,h),[g-h+1+p];case"[M:":var T=this.setMeter(u.substring(h+3,g));return a.hasBeginMusic()&&T?a.appendStartingElement("meter",m,y,T):n.meter=T,[g-h+1+p];case"[K:":var E=Dc.parseKey(u.substring(h+3,g),!0);return E.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",m,y,n.clef),E.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",m,y,Dc.fixKey(n.clef,n.key)),[g-h+1+p];case"[P:":var w=_c.parseFontChangeLine(u.substring(h+3,g));return f||r.lines.length<=r.lineNum?n.partForNextLine={title:w,startChar:m,endChar:y}:a.appendElement("part",m,y,{title:w}),[g-h+1+p];case"[L:":return this.setDefaultLength(u,h+3,g),[g-h+1+p];case"[Q:":if(g>0){var x=this.setTempo(u,h+3,g,n.iChar);return x.type==="delaySet"?a.hasBeginMusic()?a.appendElement("tempo",m,y,this.calcTempo(x.tempo)):n.tempoForNextLine=["tempo",m,y,this.calcTempo(x.tempo)]:x.type==="immediate"&&(!f&&a.hasBeginMusic()?a.appendElement("tempo",m,y,x.tempo):n.tempoForNextLine=["tempo",m,y,x.tempo]),[g-h+1+p,u[h+1],u.substring(h+3,g)]}break;case"[V:":if(g>0)return d=Dc.parseVoice(u,h+3,g),[g-h+1+p,u[h+1],u.substring(h+3,g),d];break;case"[r:":return[g-h+1+p]}}return[0]},this.letter_to_body_header=function(u,h){var f=!1;if(u.length>=h+3)switch(u.substring(h,h+2)){case"I:":var d=_c.addDirective(u.substring(h+2));return d&&t(d,u,h),[u.length];case"M:":var p=this.setMeter(u.substring(h+2));return a.hasBeginMusic()&&p&&a.appendStartingElement("meter",n.iChar+h,n.iChar+u.length,p),[u.length];case"K:":var g=Dc.parseKey(u.substring(h+2),a.hasBeginMusic());return g.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",n.iChar+h,n.iChar+u.length,n.clef),g.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",n.iChar+h,n.iChar+u.length,Dc.fixKey(n.clef,n.key)),[u.length];case"P:":return a.hasBeginMusic()&&a.appendElement("part",n.iChar+h,n.iChar+u.length,{title:u.substring(h+2)}),[u.length];case"L:":return this.setDefaultLength(u,h+2,u.length),[u.length];case"Q:":var m=u.indexOf("",h+2);m===-1&&(m=u.length);var y=this.setTempo(u,h+2,m,n.iChar);return y.type==="delaySet"?a.appendElement("tempo",n.iChar+h,n.iChar+u.length,this.calcTempo(y.tempo)):y.type==="immediate"&&a.appendElement("tempo",n.iChar+h,n.iChar+u.length,y.tempo),[m,u[h],xw.strip(u.substring(h+2))];case"V:":return f=Dc.parseVoice(u,h+2,u.length),[u.length,u[h],xw.strip(u.substring(h+2)),f]}return[0]};var l={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(u){var h=l[u[0]],f=u.length-2,d=e.translateString(e.stripComment(u.substring(2)));if(h==="unalignedWords"||h==="notes")a.addMetaTextArray(h,_c.parseFontChangeLine(d),{startChar:n.iChar,endChar:n.iChar+u.length});else if(h!==void 0)a.addMetaText(h,_c.parseFontChangeLine(d),{startChar:n.iChar,endChar:n.iChar+u.length});else{var p=n.iChar,g=p+u.length;switch(u[0]){case"H":for(a.addMetaTextArray("history",_c.parseFontChangeLine(d),{startChar:n.iChar,endChar:n.iChar+u.length}),u=e.peekLine();u&&u[1]!==":";)e.nextLine(),a.addMetaTextArray("history",_c.parseFontChangeLine(e.translateString(e.stripComment(u))),{startChar:n.iChar,endChar:n.iChar+u.length}),u=e.peekLine();break;case"K":this.resolveTempo();var m=Dc.parseKey(u.substring(2),!1);!n.is_in_header&&a.hasBeginMusic()&&(m.foundClef&&a.appendStartingElement("clef",p,g,n.clef),m.foundKey&&a.appendStartingElement("key",p,g,Dc.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(u,2,u.length);break;case"M":n.origMeter=n.meter=this.setMeter(u.substring(2));break;case"P":n.is_in_header?a.addMetaText("partOrder",_c.parseFontChangeLine(d),{startChar:n.iChar,endChar:n.iChar+u.length}):n.partForNextLine={title:d,startChar:p,endChar:g};break;case"Q":var y=this.setTempo(u,2,u.length,n.iChar);y.type==="delaySet"?n.tempo=y.tempo:y.type==="immediate"&&(r.metaText.tempo?n.tempoForNextLine=["tempo",p,g,y.tempo]:r.metaText.tempo=y.tempo);break;case"T":n.titlecaps&&(d=d.toUpperCase()),this.setTitle(_c.parseFontChangeLine(e.theReverser(d)),f);break;case"U":this.addUserDefinition(u,2,u.length);break;case"V":if(Dc.parseVoice(u,2,u.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",u,0);break;default:return{regular:!0}}}return{}}},JIe=QIe,Ll={};Ll.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];Ll.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];Ll.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];Ll.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];Ll.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];Ll.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";Ll.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];Ll.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Ll.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};Ll.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};Ll.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2};var g$=m_,vee=mee,ni,Ri,We,Zl,ql,e2,{legalAccents:m$,volumeDecorations:v$,dynamicDecorations:y$,accentPseudonyms:b$,accentDynamicPseudonyms:T$,nonDecorations:eCe,durations:tCe,pitches:nCe,rests:rCe,accMap:E$,tripletQ:iCe}=Ll,v_=function(e,t,n,r,a,o){ni=e,Ri=t,We=n,Zl=r,ql=a,e2=o,this.lineContinuation=!1},w$=function(e,t,n){if(e.inTie[t]===void 0)return!1;var r=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;return!!(e.inTie[t][r]&&(n.pitches!==void 0||n.rest.type!=="spacer"))},Xe={};v_.prototype.parseMusic=function(e){e2.resolveTempo(),We.is_in_header=!1;for(var t=0,n=We.iChar;ni.isWhiteSpace(e[t])&&t<e.length;)t++;if(!(t===e.length||e[t]==="%")){var r=We.start_new_line;We.continueall===void 0?We.start_new_line=!0:We.start_new_line=!1;var a=0,o=e2.letter_to_body_header(e,t);o[0]>0&&(t+=o[0],o[1]==="V"&&this.startNewLine());for(var l=0;t<e.length;){var u=t;if(e[t]==="%")break;var h=e2.letter_to_inline_header(e,t,r);if(h[0]>0)t+=h[0],h[1]==="V"&&(r=!0);else{(!ql.hasBeginMusic()||r&&!this.lineContinuation)&&(this.startNewLine(),r=!1);for(var f;;)if(f=ni.eatWhiteSpace(e,t),f>0&&(t+=f),t>0&&e[t-1]===""&&(f=e2.letter_to_body_header(e,t),f[0]>0&&(f[1]==="V"&&this.startNewLine(),t=f[0],We.start_new_line=!1)),f=lCe(e,t),f[0]>0&&(t+=f[0]),f=aCe(e,t),f[0]>0){Xe.chord||(Xe.chord=[]);var d=ni.translateString(f[1]);d=d.replace(/;/g,`
`);for(var p=!1,g=0;g<Xe.chord.length;g++)Xe.chord[g].position===f[2]&&(p=!0,Xe.chord[g].name+=`
`+d);p===!1&&(f[2]===null&&f[3]?Xe.chord.push({name:d,rel_position:f[3]}):Xe.chord.push({name:d,position:f[2]})),t+=f[0];var m=ni.skipWhiteSpace(e.substring(t));m>0&&(Xe.force_end_beam_last=!0),t+=m}else if(eCe.indexOf(e[t])===-1?f=S$(e,t):f=[0],f[0]>0)f[1]===null?t+1<e.length&&this.startNewLine():f[1].length>0&&(f[1].indexOf("style=")===0?Xe.style=f[1].substr(6):(Xe.decoration===void 0&&(Xe.decoration=[]),f[1]==="beambr1"?Xe.beambr=1:f[1]==="beambr2"?Xe.beambr=2:Xe.decoration.push(f[1]))),t+=f[0];else if(f=sCe(e,t),f[0]>0)Xe.gracenotes=f[1],t+=f[0];else break;if(f=cCe(e,t),f[0]>0){l=0,Xe.gracenotes!==void 0&&(Xe.rest={type:"spacer"},Xe.duration=.125,We.addFormattingOptions(Xe,Zl.formatting,"note"),ql.appendElement("note",n+t,n+t+f[0],Xe),We.measureNotEmpty=!0,Xe={});var y={type:f[1]};y.type.length===0?Ri("Unknown bar type",e,t):(We.inEnding&&y.type!=="bar_thin"&&(y.endEnding=!0,We.inEnding=!1),f[2]&&(y.startEnding=f[2],We.inEnding&&(y.endEnding=!0),We.inEnding=!0,f[1]==="bar_right_repeat"?We.restoreStartEndingHoldOvers():We.duplicateStartEndingHoldOvers()),Xe.decoration!==void 0&&(y.decoration=Xe.decoration),Xe.chord!==void 0&&(y.chord=Xe.chord),y.startEnding&&We.barFirstEndingNum===void 0?We.barFirstEndingNum=We.currBarNumber:y.startEnding&&y.endEnding&&We.barFirstEndingNum?We.currBarNumber=We.barFirstEndingNum:y.endEnding&&(We.barFirstEndingNum=void 0),y.type!=="bar_invisible"&&We.measureNotEmpty&&HO()&&(We.currBarNumber++,We.barNumbers&&We.currBarNumber%We.barNumbers===0&&(y.barNumber=We.currBarNumber)),We.addFormattingOptions(Xe,Zl.formatting,"bar"),ql.appendElement("bar",n+u,n+t+f[0],y),We.measureNotEmpty=!1,Xe={}),t+=f[0]}else if(e[t]==="&")f=oCe(e,t),f[0]>0&&(ql.appendElement("overlay",n,n+1,{}),t+=1,l++);else{if(f=uCe(e,t),f.consumed>0&&(f.startSlur!==void 0&&(Xe.startSlur=f.startSlur),f.dottedSlur&&(Xe.dottedSlur=!0),f.triplet!==void 0&&(a>0?Ri("Can't nest triplets",e,t):(Xe.startTriplet=f.triplet,Xe.tripletMultiplier=f.tripletQ/f.triplet,Xe.tripletR=f.num_notes,a=f.num_notes===void 0?f.triplet:f.num_notes)),t+=f.consumed),e[t]==="["){t++;for(var b=null,T=!1,E=!1;!E;){var w=S$(e,t);w[0]>0&&(t+=w[0]);var x=BO(e,t,{},!1);if(x!==null&&x.pitch!==void 0)w[0]>0&&w[1].indexOf("style=")!==0&&(Xe.decoration===void 0&&(Xe.decoration=[]),Xe.decoration.push(w[1])),x.end_beam&&(Xe.end_beam=!0,delete x.end_beam),Xe.pitches===void 0?(Xe.duration=x.duration,Xe.pitches=[x]):Xe.pitches.push(x),delete x.duration,w[0]>0&&w[1].indexOf("style=")===0&&(Xe.pitches[Xe.pitches.length-1].style=w[1].substr(6)),We.inTieChord[Xe.pitches.length]&&(x.endTie=!0,We.inTieChord[Xe.pitches.length]=void 0),x.startTie&&(We.inTieChord[Xe.pitches.length]=!0),t=x.endChar,delete x.endChar;else if(e[t]===" ")Ri("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&e[t]==="]"){t++,We.next_note_duration!==0&&(Xe.duration=Xe.duration*We.next_note_duration,We.next_note_duration=0),w$(We,l,Xe)&&(Xe.pitches.forEach(function(k){k.endTie=!0}),by(We,l,!1)),a>0&&!(Xe.rest&&Xe.rest.type==="spacer")&&(a--,a===0&&(Xe.endTriplet=!0));for(var S=!1;t<e.length&&!S;){switch(e[t]){case" ":case"	":$2(Xe);break;case")":Xe.endSlur===void 0?Xe.endSlur=1:Xe.endSlur++;break;case"-":Xe.pitches.forEach(function(k){k.startTie={}}),by(We,l,!0);break;case">":case"<":var A=yee(e,t);t+=A[0]-1,We.next_note_duration=A[2],b?b=b*A[1]:b=A[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var R=ni.getFraction(e,t);b=R.value,t=R.index;var C=e[t];C===" "&&(T=!0),C==="-"||C===")"||C===" "||C==="<"||C===">"?t--:S=!0;break;case"0":b=0;break;default:S=!0;break}S||t++}}else Ri("Expected ']' to end the chords",e,t);Xe.pitches!==void 0&&(b!==null&&(Xe.duration=Xe.duration*b,T&&$2(Xe)),We.addFormattingOptions(Xe,Zl.formatting,"note"),ql.appendElement("note",n+u,n+t,Xe),We.measureNotEmpty=!0,Xe={}),E=!0}}}else{var N={},O=BO(e,t,N,!0);if(N.endTie!==void 0&&by(We,l,!0),O!==null){O.pitch!==void 0?(Xe.pitches=[{}],O.accidental!==void 0&&(Xe.pitches[0].accidental=O.accidental),Xe.pitches[0].pitch=O.pitch,Xe.pitches[0].name=O.name,(O.midipitch||O.midipitch===0)&&(Xe.pitches[0].midipitch=O.midipitch),O.endSlur!==void 0&&(Xe.pitches[0].endSlur=O.endSlur),O.endTie!==void 0&&(Xe.pitches[0].endTie=O.endTie),O.startSlur!==void 0&&(Xe.pitches[0].startSlur=O.startSlur),Xe.startSlur!==void 0&&(Xe.pitches[0].startSlur=Xe.startSlur),Xe.dottedSlur!==void 0&&(Xe.pitches[0].dottedSlur=!0),O.startTie!==void 0&&(Xe.pitches[0].startTie=O.startTie),Xe.startTie!==void 0&&(Xe.pitches[0].startTie=Xe.startTie)):(Xe.rest=O.rest,O.rest.type==="multimeasure"&&HO()&&(We.currBarNumber+=O.rest.text-1),O.endSlur!==void 0&&(Xe.endSlur=O.endSlur),O.endTie!==void 0&&(Xe.rest.endTie=O.endTie),O.startSlur!==void 0&&(Xe.startSlur=O.startSlur),O.startTie!==void 0&&(Xe.rest.startTie=O.startTie),Xe.startTie!==void 0&&(Xe.rest.startTie=Xe.startTie)),O.chord!==void 0&&(Xe.chord=O.chord),O.duration!==void 0&&(Xe.duration=O.duration),O.decoration!==void 0&&(Xe.decoration=O.decoration),O.graceNotes!==void 0&&(Xe.graceNotes=O.graceNotes),delete Xe.startSlur,delete Xe.dottedSlur,w$(We,l,Xe)&&(Xe.pitches!==void 0?Xe.pitches[0].endTie=!0:Xe.rest.type!=="spacer"&&(Xe.rest.endTie=!0),by(We,l,!1)),(O.startTie||Xe.startTie)&&by(We,l,!0),t=O.endChar,a>0&&!(O.rest&&O.rest.type==="spacer")&&(a--,a===0&&(Xe.endTriplet=!0)),O.end_beam&&$2(Xe),Xe.rest&&Xe.rest.type==="rest"&&Xe.duration===1&&x$(We)<=1&&(Xe.rest.type="whole",Xe.duration=x$(We)),Xe.duration<1&&tCe.indexOf(Xe.duration)===-1&&Xe.duration!==0&&(!Xe.rest||Xe.rest.type!=="spacer")&&Ri("Duration not representable: "+e.substring(u,t),e,t),We.addFormattingOptions(Xe,Zl.formatting,"note");var L=ql.appendElement("note",n+u,n+t,Xe);L||(this.startNewLine(),ql.appendElement("note",n+u,n+t,Xe)),We.measureNotEmpty=!0,Xe={}}}t===u&&(e[t]!==" "&&e[t]!=="`"&&Ri("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||o[0]>0,this.lineContinuation||(Xe={})}};var by=function(e,t,n){var r=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;e.inTie[t]===void 0&&(e.inTie[t]=[]),e.inTie[t][r]=n},aCe=function(e,t){if(e[t]==='"'){var n=ni.getBrackettedSubstring(e,t,5);if(n[2]||Ri("Missing the closing quote while parsing the chord symbol",e,t),n[0]>0&&n[1].length>0&&n[1][0]==="^")n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&n[1][0]==="_")n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&n[1][0]==="<")n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&n[1][0]===">")n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&n[1][0]==="@"){n[1]=n[1].substring(1);var r=ni.getFloat(n[1]);if(r.digits===0)return Ri("Missing first position in absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;if(n[1]=n[1].substring(r.digits),n[1][0]!==",")return Ri("Missing comma absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;n[1]=n[1].substring(1);var a=ni.getFloat(n[1]);if(a.digits===0)return Ri("Missing second position in absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;n[1]=n[1].substring(a.digits);var o=ni.skipWhiteSpace(n[1]);n[1]=n[1].substring(o),n[2]=null,n[3]={x:r.value,y:a.value}}else We.freegchord!==!0&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1♭"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1♯"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)o([^A-Za-z])/g,"$1$2°$3"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)o$/g,"$1$2°"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)0([^A-Za-z])/g,"$1$2ø$3"),n[1]=n[1].replace(/^([ABCDEFG])([♯♭]?)\^([^A-Za-z])/g,"$1$2∆$3")),n[2]="default",n[1]=vee.chordName(We,n[1]);return n}return[0,""]},sCe=function(e,t){if(e[t]==="{"){var n=ni.getBrackettedSubstring(e,t,1,"}");n[2]||Ri("Missing the closing '}' while parsing grace note",e,t),e[t+n[0]]===")"&&(n[0]++,n[1]+=")");for(var r=[],a=0,o=!1;a<n[1].length;){var l=!1;n[1][a]==="/"&&(l=!0,a++);var u=BO(n[1],a,{},!1);u!==null?(u.duration=u.duration/(We.default_length*8),l&&(u.acciaccatura=!0),u.rest?Ri("Rests not allowed as grace notes '"+n[1][a]+"' while parsing grace note",e,t):r.push(u),o&&(u.endTie=!0,o=!1),u.startTie&&(o=!0),a=u.endChar,delete u.endChar,u.end_beam&&(u.endBeam=!0,delete u.end_beam)):(n[1][a]===" "?r.length>0&&(r[r.length-1].endBeam=!0):Ri("Unknown character '"+n[1][a]+"' while parsing grace note",e,t),a++)}if(r.length)return[n[0],r]}return[0]};function oCe(e,t){if(e[t]==="&"){for(var n=t;e[t]&&e[t]!==":"&&e[t]!=="|";)t++;return[t-n,e.substring(n+1,t)]}return[0]}function x$(e){var t=e.origMeter;return!t||t.type!=="specified"||!t.value||t.value.length===0?1:parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10)}var S$=function(e,t){var n=We.macros[e[t]];if(n!==void 0)return(n[0]==="!"||n[0]==="+")&&(n=n.substring(1)),(n[n.length-1]==="!"||n[n.length-1]==="+")&&(n=n.substring(0,n.length-1)),m$.includes(n)?[1,n]:v$.includes(n)?(We.volumePosition==="hidden"&&(n=""),[1,n]):y$.includes(n)?(We.dynamicPosition==="hidden"&&(n=""),[1,n]):(We.ignoredDecorations.includes(n)||Ri("Unknown macro: "+n,e,t),[1,""]);switch(e[t]){case".":if(e[t+1]==="("||e[t+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var r=ni.getBrackettedSubstring(e,t,5);if(r[1].length>1&&(r[1][0]==="^"||r[1][0]==="_")&&(r[1]=r[1].substring(1)),m$.includes(r[1]))return r;if(v$.includes(r[1]))return We.volumePosition==="hidden"&&(r[1]=""),r;if(y$.includes(r[1]))return We.dynamicPosition==="hidden"&&(r[1]=""),r;var a=b$.findIndex(function(o){return r[1]===o[0]});return a>=0?(r[1]=b$[a][1],r):(a=T$.findIndex(function(o){return r[1]===o[0]}),a>=0?(r[1]=T$[a][1],We.dynamicPosition==="hidden"&&(r[1]=""),r):e[t]==="!"&&(r[0]===1||e[t+r[0]-1]!=="!")?[1,null]:(Ri("Unknown decoration: "+r[1],e,t),r[1]="",r));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},lCe=function(e,t){for(var n=t;ni.isWhiteSpace(e[t]);)t++;return[t-n]},cCe=function(e,t){var n=ni.getBarLine(e,t);if(n.len===0)return[0,""];if(n.warn)return Ri(n.warn,e,t),[n.len,""];for(var r=0;r<e.length&&e[t+n.len+r]===" ";r++);var a=n.len;if(e[t+n.len+r]==="["&&(n.len+=r+1),e[t+n.len]==='"'&&e[t+n.len-1]==="["){var o=ni.getBrackettedSubstring(e,t+n.len,5);return[n.len+o[0],n.token,o[1]]}var l=ni.getTokenOf(e.substring(t+n.len),"1234567890-,");return l.len===0||l.token[0]==="-"?[a,n.token]:[n.len+l.len,n.token,l.token]},uCe=function(e,t){var n={},r=t;for(e[t]==="."&&e[t+1]==="("&&(n.dottedSlur=!0,t++);e[t]==="("||ni.isWhiteSpace(e[t]);)e[t]==="("&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(n.triplet!==void 0?Ri("Can't nest triplets",e,t):(n.triplet=e[t+1]-"0",n.tripletQ=iCe[n.triplet],n.num_notes=n.triplet,t+2<e.length&&e[t+2]===":"&&(t+3<e.length&&e[t+3]===":"?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(n.num_notes=e[t+4]-"0",t+=3):Ri("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(n.tripletQ=e[t+3]-"0",t+4<e.length&&e[t+4]===":"?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(n.num_notes=e[t+5]-"0",t+=4):t+=2):Ri("expected number after the triplet to mark the duration",e,t))),t++):n.startSlur===void 0?n.startSlur=1:n.startSlur++),t++;return n.consumed=t-r,n};v_.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};We.partForNextLine.title&&(e.part=We.partForNextLine),e.clef=We.currentVoice&&We.staves[We.currentVoice.staffNum].clef!==void 0?Object.assign({},We.staves[We.currentVoice.staffNum].clef):Object.assign({},We.clef);var t=We.currentVoice?We.currentVoice.scoreTranspose:0;if(e.key=g$.standardKey(We.key.root+We.key.acc+We.key.mode,We.key.root,We.key.acc,t),e.key.mode=We.key.mode,We.key.impliedNaturals&&(e.key.impliedNaturals=We.key.impliedNaturals),We.key.explicitAccidentals)for(var n=0;n<We.key.explicitAccidentals.length;n++){for(var r=!1,a=0;a<e.key.accidentals.length;a++)e.key.accidentals[a].note===We.key.explicitAccidentals[n].note&&(e.key.accidentals[a].acc=We.key.explicitAccidentals[n].acc,r=!0);r||e.key.accidentals.push(We.key.explicitAccidentals[n])}if(We.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,g$.addPosToKey(e.clef,e.key),We.meter!==null?(We.currentVoice?(We.staves.forEach(function(h){h.meter=We.meter}),e.meter=We.staves[We.currentVoice.staffNum].meter,We.staves[We.currentVoice.staffNum].meter=null):e.meter=We.meter,We.meter=null):We.currentVoice&&We.staves[We.currentVoice.staffNum].meter&&(e.meter=We.staves[We.currentVoice.staffNum].meter,We.staves[We.currentVoice.staffNum].meter=null),We.currentVoice&&We.currentVoice.name&&(e.name=We.currentVoice.name),We.vocalfont&&(e.vocalfont=We.vocalfont),We.tripletfont&&(e.tripletfont=We.tripletfont),We.gchordfont&&(e.gchordfont=We.gchordfont),We.style&&(e.style=We.style),We.currentVoice){var o=We.staves[We.currentVoice.staffNum];o.brace&&(e.brace=o.brace),o.bracket&&(e.bracket=o.bracket),o.connectBarLines&&(e.connectBarLines=o.connectBarLines),o.name&&(e.name=o.name[We.currentVoice.index]),o.subname&&(e.subname=o.subname[We.currentVoice.index]),We.currentVoice.stem&&(e.stem=We.currentVoice.stem),We.currentVoice.stafflines&&(e.stafflines=We.currentVoice.stafflines),We.currentVoice.staffscale&&(e.staffscale=We.currentVoice.staffscale),We.currentVoice.scale&&(e.scale=We.currentVoice.scale),We.currentVoice.color&&(e.color=We.currentVoice.color),We.currentVoice.style&&(e.style=We.currentVoice.style),We.currentVoice.transpose&&(e.clef.transpose=We.currentVoice.transpose),e.currentVoice=We.currentVoice;for(var l=Object.keys(We.voices),u=0;u<l.length;u++)e.currentVoice.staffNum===We.voices[l[u]].staffNum&&e.currentVoice.index===We.voices[l[u]].index&&(e.currentVoiceName=l[u])}We.barNumbers===0&&HO()&&We.currBarNumber!==1&&(e.barNumber=We.currBarNumber),ql.startNewLine(e),We.key.impliedNaturals&&delete We.key.impliedNaturals,We.partForNextLine={},We.tempoForNextLine.length===4&&ql.appendElement(We.tempoForNextLine[0],We.tempoForNextLine[1],We.tempoForNextLine[2],We.tempoForNextLine[3]),We.tempoForNextLine=[]};var $2=function(e){return e.duration!==void 0&&e.duration<.25&&(e.end_beam=!0),e},BO=function(e,t,n,r){var a=function(g){return g==="octave"||g==="duration"||g==="Zduration"||g==="broken_rhythm"||g==="end_slur"},o;e[t]==="."&&e[t+1]==="-"&&(o=!0,t++);for(var l="startSlur",u=!1;;){switch(e[t]){case"(":if(l==="startSlur")n.startSlur===void 0?n.startSlur=1:n.startSlur++;else return a(l)?(n.endChar=t,n):null;break;case")":if(a(l))n.endSlur===void 0?n.endSlur=1:n.endSlur++;else return null;break;case"^":if(l==="startSlur")n.accidental="sharp",l="sharp2";else if(l==="sharp2")n.accidental="dblsharp",l="pitch";else return a(l)?(n.endChar=t,n):null;break;case"_":if(l==="startSlur")n.accidental="flat",l="flat2";else if(l==="flat2")n.accidental="dblflat",l="pitch";else return a(l)?(n.endChar=t,n):null;break;case"=":if(l==="startSlur")n.accidental="natural",l="pitch";else return a(l)?(n.endChar=t,n):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(l==="startSlur"||l==="sharp2"||l==="flat2"||l==="pitch"){if(n.pitch=nCe[e[t]],n.pitch+=7*(We.currentVoice&&We.currentVoice.octave!==void 0?We.currentVoice.octave:We.octave),n.name=e[t],n.accidental&&(n.name=E$[n.accidental]+n.name),vee.note(We,n),l="octave",r&&We.next_note_duration!==0?(n.duration=We.default_length*We.next_note_duration,We.next_note_duration=0,u=!0):n.duration=We.default_length,We.clef&&We.clef.type==="perc"||We.currentVoice&&We.currentVoice.clef==="perc"){var h=e[t];n.accidental&&(h=E$[n.accidental]+h),Zl.formatting&&Zl.formatting.midi&&Zl.formatting.midi.drummap&&(n.midipitch=Zl.formatting.midi.drummap[h])}}else return a(l)?(n.endChar=t,n):null;break;case",":if(l==="octave")n.pitch-=7,n.name+=",";else return a(l)?(n.endChar=t,n):null;break;case"'":if(l==="octave")n.pitch+=7,n.name+="'";else return a(l)?(n.endChar=t,n):null;break;case"x":case"X":case"y":case"z":case"Z":if(l==="startSlur")n.rest={type:rCe[e[t]]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=Zl.getBarLength(),n.rest.text=1,l="Zduration"):(r&&We.next_note_duration!==0?(n.duration=We.default_length*We.next_note_duration,We.next_note_duration=0,u=!0):n.duration=We.default_length,l="duration");else return a(l)?(n.endChar=t,n):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(l==="octave"||l==="duration"){var f=ni.getFraction(e,t);for(n.duration=n.duration*f.value,n.endChar=f.index;f.index<e.length&&(ni.isWhiteSpace(e[f.index])||e[f.index]==="-");)e[f.index]==="-"?n.startTie={}:n=$2(n),f.index++;t=f.index-1,l="broken_rhythm"}else if(l==="sharp2")n.accidental="quartersharp",l="pitch";else if(l==="flat2")n.accidental="quarterflat",l="pitch";else if(l==="Zduration"){var d=ni.getNumber(e,t);return n.duration=d.num*Zl.getBarLength(),n.rest.text=d.num,n.endChar=d.index,n}else return null;break;case"-":if(l==="startSlur")ql.addTieToLastNote(o),n.endTie=!0;else if(l==="octave"||l==="duration"||l==="end_slur")if(n.startTie={},!u&&r)l="broken_rhythm";else return ni.isWhiteSpace(e[t+1])&&$2(n),n.endChar=t+1,n;else return l==="broken_rhythm"?(n.endChar=t,n):null;break;case" ":case"	":if(a(l)){n.end_beam=!0,o=!1;do e[t]==="."&&e[t+1]==="-"&&(o=!0,t++),e[t]==="-"&&(n.startTie={},o&&(n.startTie.style="dotted")),t++;while(t<e.length&&(ni.isWhiteSpace(e[t])||e[t]==="-")||e[t]==="."&&e[t+1]==="-");if(n.endChar=t,!u&&r&&(e[t]==="<"||e[t]===">"))t--,l="broken_rhythm";else return n}else return null;break;case">":case"<":if(a(l))if(r){var p=yee(e,t);t+=p[0]-1,We.next_note_duration=p[2],n.duration=p[1]*n.duration,l="end_slur"}else return n.endChar=t,n;else return null;break;default:return a(l)?(n.endChar=t,n):null}if(t++,t===e.length)return a(l)?(n.endChar=t,n):null}return null},yee=function(e,t){switch(e[t]){case">":return t<e.length-2&&e[t+1]===">"&&e[t+2]===">"?[3,1.875,.125]:t<e.length-1&&e[t+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&e[t+1]==="<"&&e[t+2]==="<"?[3,.125,1.875]:t<e.length-1&&e[t+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function HO(){return We.currentVoice===void 0||We.currentVoice.staffNum===0&&We.currentVoice.index===0}var hCe=v_,Ba=$h,y_=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(p){for(var g=0;g<p.length;g++)if(!this.isWhiteSpace(p[g]))return g;return p.length};var n=function(p,g){return g>=p.length};this.eatWhiteSpace=function(p,g){for(var m=g;m<p.length;m++)if(!this.isWhiteSpace(p[m]))return m-g;return m-g},this.getKeyPitch=function(p){var g=this.skipWhiteSpace(p);if(n(p,g))return{len:0};switch(p[g]){case"A":return{len:g+1,token:"A"};case"B":return{len:g+1,token:"B"};case"C":return{len:g+1,token:"C"};case"D":return{len:g+1,token:"D"};case"E":return{len:g+1,token:"E"};case"F":return{len:g+1,token:"F"};case"G":return{len:g+1,token:"G"}}return{len:0}},this.getSharpFlat=function(p){if(p==="bass")return{len:0};switch(p[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(p){var g=function(b,T){for(;T<b.length&&(b[T]>="a"&&b[T]<="z"||b[T]>="A"&&b[T]<="Z");)T++;return T},m=this.skipWhiteSpace(p);if(n(p,m))return{len:0};var y=p.substring(m,m+3).toLowerCase();switch((y.length>1&&y[1]===" "||y[1]==="^"||y[1]==="_"||y[1]==="=")&&(y=y[0]),y){case"mix":return{len:g(p,m),token:"Mix"};case"dor":return{len:g(p,m),token:"Dor"};case"phr":return{len:g(p,m),token:"Phr"};case"lyd":return{len:g(p,m),token:"Lyd"};case"loc":return{len:g(p,m),token:"Loc"};case"aeo":return{len:g(p,m),token:"m"};case"maj":return{len:g(p,m),token:""};case"ion":return{len:g(p,m),token:""};case"min":return{len:g(p,m),token:"m"};case"m":return{len:g(p,m),token:"m"}}return{len:0}},this.getClef=function(p,g){var m=p,y=this.skipWhiteSpace(p);if(n(p,y))return{len:0};var b=!1,T=p.substring(y);if(Ba.startsWith(T,"clef=")&&(b=!0,T=T.substring(5),y+=5),T.length===0&&b)return{len:y+5,warn:"No clef specified: "+m};var E=this.skipWhiteSpace(T);if(n(T,E))return{len:0};E>0&&(y+=E,T=T.substring(E));var w=null;if(Ba.startsWith(T,"treble"))w="treble";else if(Ba.startsWith(T,"bass3"))w="bass3";else if(Ba.startsWith(T,"bass"))w="bass";else if(Ba.startsWith(T,"tenor"))w="tenor";else if(Ba.startsWith(T,"alto2"))w="alto2";else if(Ba.startsWith(T,"alto1"))w="alto1";else if(Ba.startsWith(T,"alto"))w="alto";else if(!g&&b&&Ba.startsWith(T,"none"))w="none";else if(Ba.startsWith(T,"perc"))w="perc";else if(!g&&b&&Ba.startsWith(T,"C"))w="tenor";else if(!g&&b&&Ba.startsWith(T,"F"))w="bass";else if(!g&&b&&Ba.startsWith(T,"G"))w="treble";else return{len:y+5,warn:"Unknown clef specified: "+m};return T=T.substring(w.length),E=this.isMatch(T,"+8"),E>0?w+="+8":(E=this.isMatch(T,"-8"),E>0&&(w+="-8")),{len:y+w.length,token:w,explicit:b}},this.getBarLine=function(p,g){switch(p[g]){case"]":switch(++g,p[g]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++g,p[g]>="1"&&p[g]<="9"||p[g]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++g,p[g]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++g,p[g]){case"]":switch(++g,p[g]){case"|":return++g,p[g]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++g,p[g]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++g,p[g]==="|")switch(++g,p[g]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return p[g]>="1"&&p[g]<="9"||p[g]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++g,p[g]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++g,p[g]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var m=0;p[g+m]===":";)m++;return{len:1+m,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(p,g){for(var m=0;m<p.length;m++)if(g.indexOf(p[m])<0)return{len:m,token:p.substring(0,m)};return{len:m,token:p}},this.getToken=function(p,g,m){for(var y=g;y<m&&!this.isWhiteSpace(p[y]);)y++;return p.substring(g,y)},this.isMatch=function(p,g){var m=this.skipWhiteSpace(p);return n(p,m)?0:Ba.startsWith(p.substring(m),g)?m+g.length:0},this.getPitchFromTokens=function(p){var g={},m={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(g.position=m[p[0].token],g.position===void 0)return{warn:"Pitch expected. Found: "+p[0].token};for(p.shift();p.length;)switch(p[0].token){case",":g.position-=7,p.shift();break;case"'":g.position+=7,p.shift();break;default:return g}return g},this.getKeyAccidentals2=function(p){for(var g;p.length>0;){var m;if(p[0].token==="^"){if(m="sharp",p.shift(),p.length===0)return{accs:g,warn:"Expected note name after "+m};switch(p[0].token){case"^":m="dblsharp",p.shift();break;case"/":m="quartersharp",p.shift();break}}else if(p[0].token==="=")m="natural",p.shift();else if(p[0].token==="_"){if(m="flat",p.shift(),p.length===0)return{accs:g,warn:"Expected note name after "+m};switch(p[0].token){case"_":m="dblflat",p.shift();break;case"/":m="quarterflat",p.shift();break}}else return{accs:g};if(p.length===0)return{accs:g,warn:"Expected note name after "+m};switch(p[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":g===void 0&&(g=[]),g.push({acc:m,note:p[0].token[0]}),p[0].token.length===1?p.shift():p[0].token=p[0].token.substring(1);break;default:return{accs:g,warn:"Expected note name after "+m+" Found: "+p[0].token}}}return{accs:g}},this.getKeyAccidental=function(p){var g={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},m=this.skipWhiteSpace(p);if(n(p,m))return{len:0};var y=null;switch(p[m]){case"^":case"_":case"=":y=p[m];break;default:return{len:0}}if(m++,n(p,m))return{len:1,warn:"Expected note name after accidental"};switch(p[m]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:m+1,token:{acc:g[y],note:p[m]}};case"^":case"_":case"/":if(y+=p[m],m++,n(p,m))return{len:2,warn:"Expected note name after accidental"};switch(p[m]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:m+1,token:{acc:g[y],note:p[m]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(p){return p===" "||p==="	"||p===""},this.getMeat=function(p,g,m){var y=p.indexOf("%",g);for(y>=0&&y<m&&(m=y);g<m&&(p[g]===" "||p[g]==="	"||p[g]==="");)g++;for(;g<m&&(p[m-1]===" "||p[m-1]==="	"||p[m-1]==="");)m--;return{start:g,end:m}};var r=function(p){return p>="A"&&p<="Z"||p>="a"&&p<="z"},a=function(p){return p>="0"&&p<="9"};this.tokenize=function(p,g,m,y){var b=this.getMeat(p,g,m);g=b.start,m=b.end;for(var T=[],E;g<m;){if(p[g]==='"'){for(E=g+1;E<m&&p[E]!=='"';)E++;T.push({type:"quote",token:p.substring(g+1,E),start:g+1,end:E}),E++}else if(r(p[g])){if(E=g+1,y)for(;E<m&&!this.isWhiteSpace(p[E]);)E++;else for(;E<m&&r(p[E]);)E++;T.push({type:"alpha",token:p.substring(g,E),continueId:a(p[E]),start:g,end:E}),g=E+1}else if(p[g]==="."&&a(p[E+1])){E=g+1;for(var w=null,x=null;E<m&&a(p[E]);)E++;x=parseFloat(p.substring(g,E)),T.push({type:"number",token:p.substring(g,E),intt:w,floatt:x,continueId:r(p[E]),start:g,end:E}),g=E+1}else if(a(p[g])||p[g]==="-"&&a(p[E+1])){E=g+1;for(var S=null,A=null;E<m&&a(p[E]);)E++;if(p[E]==="."&&a(p[E+1]))for(E++;E<m&&a(p[E]);)E++;else S=parseInt(p.substring(g,E));A=parseFloat(p.substring(g,E)),T.push({type:"number",token:p.substring(g,E),intt:S,floatt:A,continueId:r(p[E]),start:g,end:E}),g=E+1}else p[g]===" "||p[g]==="	"||T.push({type:"punct",token:p[g],start:g,end:g+1}),E=g+1;g=E}return T},this.getVoiceToken=function(p,g,m){for(var y=g;y<m&&this.isWhiteSpace(p[y])||p[y]==="=";)y++;if(p[y]==='"'){var b=p.indexOf('"',y+1);return b===-1||b>=m?{len:1,err:"Missing close quote"}:{len:b-g+1,token:this.translateString(p.substring(y+1,b))}}else{for(var T=y;T<m&&!this.isWhiteSpace(p[T])&&p[T]!=="=";)T++;return{len:T-g+1,token:p.substring(y,T)}}};var o={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å",aa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å",AA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~N":"Ñ","~n":"ñ","=s":"š",vs:"š",DH:"Ð",dh:"ð",HO:"Ő",Ho:"ő",HU:"Ű",Hu:"ű","'Y":"Ý","'y":"ý","^Y":"Ŷ","^y":"ŷ",'"Y':"Ÿ",'"y':"ÿ",vS:"Š",vZ:"Ž",vz:"ž"},l={"#":"♯",b:"♭","=":"♮"},u={201:"♯",202:"♭",203:"♮",241:"¡",242:"¢",252:"a",262:"2",272:"o",302:"Â",312:"Ê",322:"Ò",332:"Ú",342:"â",352:"ê",362:"ò",372:"ú",243:"£",253:"«",263:"3",273:"»",303:"Ã",313:"Ë",323:"Ó",333:"Û",343:"ã",353:"ë",363:"ó",373:"û",244:"¤",254:"¬",264:"  ́",274:"1⁄4",304:"Ä",314:"Ì",324:"Ô",334:"Ü",344:"ä",354:"ì",364:"ô",374:"ü",245:"¥",255:"-",265:"μ",275:"1⁄2",305:"Å",315:"Í",325:"Õ",335:"Ý",345:"å",355:"í",365:"õ",375:"ý",246:"¦",256:"®",266:"¶",276:"3⁄4",306:"Æ",316:"Î",326:"Ö",336:"Þ",346:"æ",356:"î",366:"ö",376:"þ",247:"§",257:" ̄",267:"·",277:"¿",307:"Ç",317:"Ï",327:"×",337:"ß",347:"ç",357:"ï",367:"÷",377:"ÿ",250:" ̈",260:"°",270:" ̧",300:"À",310:"È",320:"Ð",330:"Ø",340:"à",350:"è",360:"ð",370:"ø",251:"©",261:"±",271:"1",301:"Á",311:"É",321:"Ñ",331:"Ù",341:"á",351:"é",361:"ñ",371:"ù"};this.translateString=function(p){var g=p.split("\\");if(g.length===1)return p;var m=null;return g.forEach(function(y){if(m===null)m=y;else{var b=o[y.substring(0,2)];b!==void 0?m+=b+y.substring(2):(b=u[y.substring(0,3)],b!==void 0?m+=b+y.substring(3):(b=l[y.substring(0,1)],b!==void 0?m+=b+y.substring(1):m+="\\"+y))}}),m},this.getNumber=function(p,g){for(var m=0;g<p.length;)switch(p[g]){case"0":m=m*10,g++;break;case"1":m=m*10+1,g++;break;case"2":m=m*10+2,g++;break;case"3":m=m*10+3,g++;break;case"4":m=m*10+4,g++;break;case"5":m=m*10+5,g++;break;case"6":m=m*10+6,g++;break;case"7":m=m*10+7,g++;break;case"8":m=m*10+8,g++;break;case"9":m=m*10+9,g++;break;default:return{num:m,index:g}}return{num:m,index:g}},this.getFraction=function(p,g){var m=1,y=1;if(p[g]!=="/"){var b=this.getNumber(p,g);m=b.num,g=b.index}if(p[g]==="/")if(g++,p[g]==="/"){for(var T=.5;p[g++]==="/";)T=T/2;return{value:m*T,index:g-1}}else{var E=g,w=this.getNumber(p,g);w.num===0&&E===g&&(w.num=2),w.num!==0&&(y=w.num),g=w.index}return{value:m/y,index:g}};function h(p){const m=/^(\d+)\./.exec(p);return m?m[1]:null}var f=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(p){for(var g=0;g<f.length;g++){var m=f[g],y=p.match(m.match);if(y){var b=h(p);b&&(p=p.replace(b+".",""),p=p.trim());var T=y[0].length,E=m.replace+p.substring(0,p.length-T);return b&&(E=b+". "+E),E}}return p},this.stripComment=function(p){var g=p.indexOf("%");return g>=0?Ba.strip(p.substring(0,g)):Ba.strip(p)},this.getInt=function(p){var g=parseInt(p);if(isNaN(g))return{digits:0};var m=""+g,y=p.indexOf(m);return{value:g,digits:y+m.length}},this.getFloat=function(p){var g=parseFloat(p);if(isNaN(g))return{digits:0};var m=""+g,y=p.indexOf(m);return{value:g,digits:y+m.length}},this.getMeasurement=function(p){if(p.length===0)return{used:0};var g=1,m="";if(p[0].token==="-")p.shift(),m="-",g++;else if(p[0].type!=="number")return{used:0};if(m+=p.shift().token,p.length===0)return{used:1,value:parseInt(m)};var y=p.shift();if(y.token==="."){if(g++,p.length===0)return{used:g,value:parseInt(m)};if(p[0].type==="number"&&(y=p.shift(),m=m+"."+y.token,g++,p.length===0))return{used:g,value:parseFloat(m)};y=p.shift()}switch(y.token){case"pt":return{used:g+1,value:parseFloat(m)};case"px":return{used:g+1,value:parseFloat(m)};case"cm":return{used:g+1,value:parseFloat(m)/2.54*72};case"in":return{used:g+1,value:parseFloat(m)*72};default:return p.unshift(y),{used:g,value:parseFloat(m)}}};var d=function(p){return p=p.replace(/\\n/g,`
`),p=p.replace(/\\"/g,'"'),p};this.getBrackettedSubstring=function(p,g,m,y){for(var b=y||p[g],T=g+1,E=!1;T<p.length&&(E||p[T]!==b);)E=p[T]==="\\",++T;return p[T]===b?[T-g+1,d(p.substring(g+1,T)),!0]:(T=g+m,T>p.length-1&&(T=p.length-1),[T-g+1,d(p.substring(g+1,T)),!1])}};y_.prototype.peekLine=function(){return this.lines[this.lineIndex]};y_.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null};var fCe=y_;function dCe(e,t,n){if(!(!t||e.lines.length===0)){var r=e.deline({lineBreaks:!1}),a=gCe(r,t);e.lines=pCe(r,a,n),e.lineBreaks=a}}function pCe(e,t,n){for(var r=[],a=[],o=[],l=1,u=0;u<t.length;u++){var h=t[u];if(e[h.ogLine].staff){var f=e[h.ogLine].staff[h.staff];if(r[h.line]||(r[h.line]={staff:[]}),!r[h.line].staff[h.staff]){r[h.line].staff[h.staff]={voices:[]},n!==void 0&&h.staff===0&&h.line>0&&(r[h.line].staff[h.staff].barNumber=l);for(var d=Object.keys(f),p=0;p<d.length;p++){var g=d[p]==="voices";d[p]==="meter"&&h.line!==0&&(g=!0),g||(r[h.line].staff[h.staff][d[p]]=f[d[p]])}a[h.staff]&&(r[h.line].staff[h.staff].key=a[h.staff])}r[h.line].staff[h.staff].voices[h.voice]||(r[h.line].staff[h.staff].voices[h.voice]=[]),r[h.line].staff[h.staff].voices[h.voice]=e[h.ogLine].staff[h.staff].voices[h.voice].slice(h.start,h.end+1),o[h.staff*10+h.voice]&&r[h.line].staff[h.staff].voices[h.voice].unshift({el_type:"stem",direction:o[h.staff*10+h.voice].direction});for(var m=r[h.line].staff[h.staff].voices[h.voice],y=m.length-1;y>=0;y--)if(m[y].el_type==="key"){a[h.staff]={root:m[y].root,acc:m[y].acc,mode:m[y].mode,accidentals:m[y].accidentals.filter(function(T){return T.acc!=="natural"})};break}for(y=m.length-1;y>=0;y--)if(m[y].el_type==="stem"){o[h.staff*10+h.voice]={direction:m[y].direction};break}if(n!==void 0&&h.staff===0&&h.voice===0)for(y=0;y<m.length;y++)m[y].el_type==="bar"&&(l++,y===m.length-1?delete m[y].barNumber:m[y].barNumber=l)}else r[h.line]=e[h.ogLine]}for(var b=0;b<r.length;b++)r[b].staff&&(r[b].staff=r[b].staff.filter(function(T){return T!=null}));return r}function gCe(e,t){for(var n=[],r=0,a=0,o=0,l=0;l<e.length;l++){var u=e[l];if(u.staff){var h=a,f=t[r];r++;for(var d=0;d<u.staff.length;d++)for(var p=u.staff[d],g=0;g<p.voices.length;g++){o=h;for(var m=0,y=0,b=p.voices[g],T=0,E=0;E<b.length;E++){var w=b[E];w.el_type==="bar"&&(f[y]===m&&(n.push({ogLine:l,line:o,staff:d,voice:g,start:T,end:E}),T=E+1,o++,a=Math.max(a,o),y++),m++)}n.push({ogLine:l,line:o,staff:d,voice:g,start:T,end:b.length}),o++,a=Math.max(a,o)}}else n.push({ogLine:l,line:o}),o++,a=Math.max(a,o)}return n}function mCe(e,t){for(var n=[],r=[],a=0,o=0;o<e.length;o++){var l=e[o],u=a+l;if(u<t)a=u;else{var h=t-a,f=u-t;h<f&&a>0?(n.push(o-1),r.push(Math.round(a-l)),a=l):o<e.length-1&&(n.push(o),r.push(Math.round(a)),a=0)}}return r.push(Math.round(a)),{lineBreaks:n,totals:r}}function Sw(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function vCe(e,t,n,r,a,o,l,u,h,f,d){for(var p=f;p<e.length;p++){var g=e[p];n+=g,r+=g;var m=Math.abs(n-t[u]),y=Math.abs(m-o)<t[0]/10;if(y)if(m<o){var b=Sw(a),T=Sw(h);T.push(p-1),b.push(r-g),d.push({accumulator:n,lineAccumulator:g,lineWidths:b,lastVariance:Math.abs(n-t[u+1]),highestVariance:Math.max(l,o),currLine:u+1,lineBreaks:T,startIndex:p+1})}else m>o&&p<e.length-1&&(b=Sw(a),T=Sw(h),d.push({accumulator:n,lineAccumulator:r,lineWidths:b,lastVariance:m,highestVariance:Math.max(l,m),currLine:u,lineBreaks:T,startIndex:p+1}));m>o?(h.push(p-1),u++,l=Math.max(l,o),o=Math.abs(n-t[u]),a.push(r-g),r=g):o=m}a.push(r)}function yCe(e,t,n,r){for(var a=Math.ceil(e.total/t),o=Math.floor(e.total/a),l=[],u=0;u<a;u++)l.push(o*(u+1));var h=[];h.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var f=0;f<h.length;)vCe(e.measureWidths,l,h[f].accumulator,h[f].lineAccumulator,h[f].lineWidths,h[f].lastVariance,h[f].highestVariance,h[f].currLine,h[f].lineBreaks,h[f].startIndex,h),f++;for(u=0;u<h.length;u++){var d=h[u];d.variances=[],d.aveVariance=0;for(var p=0;p<d.lineWidths.length;p++){var g=d.lineWidths[p];d.variances.push(g-l[0]),d.aveVariance+=Math.abs(g-l[0])}d.aveVariance=d.aveVariance/d.lineWidths.length,r.attempts.push({type:"optimizeLineWidths",lineBreaks:d.lineBreaks,variances:d.variances,aveVariance:d.aveVariance,widths:e.measureWidths})}var m=9999999,y=-1;for(u=0;u<h.length;u++)d=h[u],d.aveVariance<m&&(m=d.aveVariance,y=u);return{failed:!1,lineBreaks:h[y].lineBreaks,variance:h[y].highestVariance}}function bCe(e,t,n){for(var r=[],a=[],o=0,l=!1,u=0;u<e.length;u++)o+=e[u],o>t&&(l=!0),u%n===n-1&&(u!==e.length-1&&r.push(u),a.push(Math.round(o)),o=0);return{failed:l,totals:a,lineBreaks:r}}function TCe(e,t,n){var r={lineBreaks:e,staffwidth:t};for(var a in n)n.hasOwnProperty(a)&&a!=="wrap"&&a!=="staffwidth"&&(r[a]=n[a]);return{revisedParams:r}}function ECe(e,t,n){if(t.length===0||n.staffwidth<t[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:n};var r=n.scale?Math.max(n.scale,.1):1,a=n.wrap.minSpacing?Math.max(parseFloat(n.wrap.minSpacing),1):1,o=n.wrap.minSpacingLimit?Math.max(parseFloat(n.wrap.minSpacingLimit),1):a-.1,l=n.wrap.maxSpacing?Math.max(parseFloat(n.wrap.maxSpacing),1):void 0;n.wrap.lastLineLimit&&!l&&(l=Math.max(parseFloat(n.wrap.lastLineLimit),1));for(var u=n.wrap.preferredMeasuresPerLine?Math.max(parseInt(n.wrap.preferredMeasuresPerLine,10),0):void 0,h=[],f=[],d=0;d<t.length;d++){var p=t[d],g=n.staffwidth-p.left,m=g/a/r,y=g/l/r,b=g/o/r,T={widths:p,lineBreakPoint:m,minLineSize:y,attempts:[],staffWidth:n.staffwidth,minWidth:Math.round(b)},E=null;if(u){var w=bCe(p.measureWidths,m,u);T.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:u,lineBreaks:w.lineBreaks,failed:w.failed,totals:w.totals}),w.failed||(E=w.lineBreaks)}if(!E){var x=mCe(p.measureWidths,m);T.attempts.push({type:"Free Form",lineBreaks:x.lineBreaks,totals:x.totals}),E=x.lineBreaks,E.length>0&&p.measureWidths.length<25&&(x=yCe(p,m,E,T),T.attempts.push({type:"Optimize",failed:x.failed,reason:x.reason,lineBreaks:x.lineBreaks,totals:x.totals}),x.failed||(E=x.lineBreaks))}h.push(E),f.push(T)}var S=n.staffwidth,A=TCe(h,S,n);return A.explanation=f,A.reParse=!0,A}var bee={wrapLines:dCe,calcLineWraps:ECe},Eh={};Eh.FONTEM=360;Eh.FONTSIZE=30;Eh.STEP=Eh.FONTSIZE*93/720;Eh.SPACE=10;Eh.TOPNOTE=15;Eh.STAVEHEIGHT=100;Eh.INDENT=50;var fo=Eh,Tee,Aw=$h;(function(){var e=1,t=128;Tee=function(m,y){y=y||{};var b,T=y.program||0,E=y.midiTranspose||0;m.visualTranspose&&(E-=m.visualTranspose);var w=y.channel||0,x=!1,S=y.drum||"",A=y.drumBars||1,R=y.drumIntro||0,C=S!=="",N=!!y.drumOff,O=[],L=50;T=parseInt(T,10),E=parseInt(E,10),w=parseInt(w,10),w===10&&(T=t),S=S.split(" "),A=parseInt(A,10),R=parseInt(R,10);var k=m.formatting.bagpipes;k&&(T=71);var M=[];if(m.formatting.midi){var $=m.formatting.midi;$.program&&$.program.length>0&&(T=$.program[0],$.program.length>1&&(T=$.program[1],w=$.program[0]),x=!0),$.transpose&&(E=$.transpose[0]),$.channel&&(w=$.channel[0],x=!0),$.drum&&(S=$.drum),$.drumbars&&(A=$.drumbars[0]),$.drumon&&(C=!0),w===10&&(T=t),$.beat&&M.push({el_type:"beat",beats:$.beat}),$.nobeataccents&&M.push({el_type:"beataccents",value:!1})}y.qpm?b=parseInt(y.qpm,10):m.metaText.tempo?b=u(m.metaText.tempo,m.getBeatLength()):y.defaultQpm?b=y.defaultQpm:b=180;var _=[];k&&_.push({el_type:"bagpipes"}),_.push({el_type:"instrument",program:T}),w&&_.push({el_type:"channel",channel:w}),E&&_.push({el_type:"transpose",transpose:E}),_.push({el_type:"tempo",qpm:b});for(var F=0;F<M.length;F++)_.push(M[F]);var B=[],D=[],P=[],H=[0],W={};W[0]={el_type:"tempo",qpm:b,timing:0};for(var U,V=[],G=[],ee=!1,ce=m.lines,Q=0;Q<ce.length;Q++){var re=ce[Q];if(re.staff){let ye=function(Se){var Ce={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Fe;if(Se.decoration)if(Se.decoration.indexOf("pppp")>=0?Fe="pppp":Se.decoration.indexOf("ppp")>=0?Fe="ppp":Se.decoration.indexOf("pp")>=0?Fe="pp":Se.decoration.indexOf("p")>=0?Fe="p":Se.decoration.indexOf("mp")>=0?Fe="mp":Se.decoration.indexOf("mf")>=0?Fe="mf":Se.decoration.indexOf("f")>=0?Fe="f":Se.decoration.indexOf("ff")>=0?Fe="ff":Se.decoration.indexOf("fff")>=0?Fe="fff":Se.decoration.indexOf("ffff")>=0&&(Fe="ffff"),Fe&&(U=Ce[Fe].slice(0),B[Y].push({el_type:"beat",beats:U.slice(0)}),D[z]=!1,P[z]=!1),Se.decoration.indexOf("crescendo(")>=0){var Ne=n(X,be,"crescendo)"),Ve=Math.min(127,U[0]+L),et=r(X,be+Ne+1,Object.keys(Ce));et&&(Ve=Ce[et][0]),Ne>0?D[z]=Math.floor((Ve-U[0])/Ne):D[z]=!1,P[z]=!1}else if(Se.decoration.indexOf("crescendo)")>=0)D[z]=!1;else if(Se.decoration.indexOf("diminuendo(")>=0){var Rt=n(X,be,"diminuendo)"),pt=Math.max(15,U[0]-L),ut=r(X,be+Rt+1,Object.keys(Ce));ut&&(pt=Ce[ut][0]),D[z]=!1,Rt>0?P[z]=Math.floor((pt-U[0])/Rt):P[z]=!1}else Se.decoration.indexOf("diminuendo)")>=0&&(P[z]=!1)};for(var le=re.staff,Y=0,K=0;K<le.length;K++){var Z=le[K];if(!(Z.clef&&Z.clef.type==="TAB"))for(var z=0;z<Z.voices.length;z++){var X=Z.voices[z];if(!B[Y]){B[Y]=[].concat(JSON.parse(JSON.stringify(_)));var te=l(re.staff,Y);te&&B[Y].unshift({el_type:"name",trackName:te})}if(E&&Z.clef.type==="perc"&&B[Y].push({el_type:"transpose",transpose:0}),Z.clef&&Z.clef.type==="perc"&&!x)for(var ne=0;ne<B[Y].length;ne++)B[Y][ne].el_type==="instrument"&&(B[Y][ne].program=t);else Z.key&&d(B[Y],Z.key);Z.meter&&p(B[Y],Z.meter),!ee&&C&&(B[Y].push({el_type:"drum",params:{pattern:S,bars:A,on:C,intro:R}}),ee=!0),Z.clef&&Z.clef.type!=="perc"&&Z.clef.transpose&&(Z.clef.el_type="clef",B[Y].push({el_type:"transpose",transpose:Z.clef.transpose})),Z.clef&&Z.clef.type&&(Z.clef.type.indexOf("-8")>=0?B[Y].push({el_type:"transpose",transpose:-12}):Z.clef.type.indexOf("+8")>=0&&B[Y].push({el_type:"transpose",transpose:12})),m.formatting.midi&&m.formatting.midi.drumoff&&(B[Y].push({el_type:"bar"}),B[Y].push({el_type:"drum",params:{pattern:"",on:!1}}));var Ae=0,he=0,oe=0,de=0;U=[105,95,85,1];for(var be=0;be<X.length;be++){var fe=X[be];switch(fe.el_type){case"note":if(D[z]&&(U[0]+=D[z],U[1]+=D[z],U[2]+=D[z],B[Y].push({el_type:"beat",beats:U.slice(0)})),P[z]&&(U[0]+=P[z],U[1]+=P[z],U[2]+=P[z],B[Y].push({el_type:"beat",beats:U.slice(0)})),ye(fe),!fe.rest||fe.rest.type!=="spacer"){var Ie={elem:fe,el_type:"note",timing:H[Y]};if(fe.style?Ie.style=fe.style:O[Y]&&(Ie.style=O[Y]),Ie.duration=fe.duration===0?.25:fe.duration,fe.startTriplet){if(he=fe.tripletMultiplier,oe=fe.startTriplet*he*fe.duration,fe.startTriplet!==fe.tripletR&&be+fe.tripletR<=X.length){for(var Re=0,ke=be;ke<be+fe.tripletR;ke++)Re+=X[ke].duration;oe=he*Re}Ie.duration=Ie.duration*he,Ie.duration=Math.round(Ie.duration*1e6)/1e6,de=Ie.duration}else he&&(fe.endTriplet?(he=0,Ie.duration=Math.round((oe-de)*1e6)/1e6):(Ie.duration=Ie.duration*he,Ie.duration=Math.round(Ie.duration*1e6)/1e6,de+=Ie.duration));fe.rest&&(Ie.rest=fe.rest),fe.decoration&&(Ie.decoration=fe.decoration.slice(0)),fe.pitches&&(Ie.pitches=Aw.cloneArray(fe.pitches)),fe.gracenotes&&(Ie.gracenotes=Aw.cloneArray(fe.gracenotes)),fe.chord&&(Ie.chord=Aw.cloneArray(fe.chord)),B[Y].push(Ie),fe.style==="rhythm"&&o(B),Ae++,H[Y]+=Ie.duration}break;case"key":case"keySignature":d(B[Y],fe);break;case"meter":p(B[Y],fe);break;case"clef":fe.transpose&&B[Y].push({el_type:"transpose",transpose:fe.transpose}),fe.type&&(fe.type.indexOf("-8")>=0?B[Y].push({el_type:"transpose",transpose:-12}):fe.type.indexOf("+8")>=0&&B[Y].push({el_type:"transpose",transpose:12}));break;case"tempo":b=u(fe,m.getBeatLength()),B[Y].push({el_type:"tempo",qpm:b,timing:H[Y]}),W[""+H[Y]]={el_type:"tempo",qpm:b,timing:H[Y]};break;case"bar":Ae>0&&B[Y].push({el_type:"bar"}),ye(fe),Ae=0;var De=fe.type==="bar_right_repeat"||fe.type==="bar_dbl_repeat",se=fe.startEnding==="1",j=fe.type==="bar_left_repeat"||fe.type==="bar_dbl_repeat"||fe.type==="bar_right_repeat";if(De){var me=V[Y];me||(me=0);var ue=G[Y];ue||(ue=B[Y].length);for(var we=me;we<ue;we++){var ie=Object.assign({},B[Y][we]);ie.pitches&&(ie.pitches=Aw.cloneArray(ie.pitches)),B[Y].push(ie)}G[Y]=void 0,V[Y]=void 0}se&&(G[Y]=B[Y].length),j&&(V[Y]=B[Y].length);break;case"style":O[Y]=fe.head;break;case"timeSignature":B[Y].push(h(fe));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var Oe=!1;switch(fe.cmd){case"drumon":C=!0,Oe=!0;break;case"drumoff":C=!1,Oe=!0;break;case"drum":S=fe.params,Oe=!0;break;case"drumbars":A=fe.params[0],Oe=!0;break;case"drummap":break;case"channel":fe.params[0]===10&&B[Y].push({el_type:"instrument",program:t});break;case"program":g(B[Y],{el_type:"instrument",program:fe.params[0]}),x=!0;break;case"transpose":B[Y].push({el_type:"transpose",transpose:fe.params[0]});break;case"gchordoff":B[Y].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":B[Y].push({el_type:"gchordOn",tacet:!1});break;case"beat":B[Y].push({el_type:"beat",beats:fe.params});break;case"nobeataccents":B[Y].push({el_type:"beataccents",value:!1});break;case"beataccents":B[Y].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":B[Y].push({el_type:fe.cmd,volume:fe.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":B[Y].push({el_type:fe.cmd,param:fe.params[0]});break;case"bassprog":case"chordprog":B[Y].push({el_type:fe.cmd,value:fe.params[0],octaveShift:fe.params[1]});break;case"gchordbars":B[Y].push({el_type:fe.cmd,param:fe.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",fe.cmd,fe)}Oe&&(B[0].push({el_type:"drum",params:{pattern:S,bars:A,intro:R,on:C}}),ee=!0);break;default:console.log("MIDI: element type "+fe.el_type+" not handled.")}}Y++,H[Y]||(H[Y]=0)}}}}if(a(B,W),R)for(var ae=m.getPickupLength(),ge=0;ge<B.length;ge++){for(var Ee=0;B[ge][Ee].el_type!=="note"&&B[ge].length>Ee;)Ee++;if(B[ge].length>Ee){for(var ke=0;ke<R;ke++)ae===0||ke<R-1?(B[ge].splice(Ee,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}),Ee+=2):B[ge].splice(Ee++,0,{el_type:"note",rest:{type:"rest"},duration:e-ae});N&&(C=!1,B[ge].splice(Ee++,0,{el_type:"drum",params:{pattern:S,bars:A,intro:R,on:C}}),N=!1)}}return B.length>0&&B[0].length>0&&(B[0][0].pickupLength=m.getPickupLength()),B};function n(m,y,b){for(var T=0,E=y+1;E<m.length;E++)if(m[E].el_type==="note"&&T++,m[E].decoration&&m[E].decoration.indexOf(b)>=0)return T;return T}function r(m,y,b){for(var T=Math.min(m.length,y+3),E=y;E<T;E++)if(m[E].el_type==="note"&&m[E].decoration){for(var w=0;w<m[E].decoration.length;w++)if(b.indexOf(m[E].decoration[w])>=0)return m[E].decoration[w]}return null}function a(m,y){if(!(!y||y.length===0))for(var b=Object.keys(y),T=0;T<m.length;T++)for(var E=m[T],w=y[0]?y[0].qpm:0,x=0;x<E.length;x++){var S=E[x];S.el_type==="tempo"&&(w=S.qpm),b.indexOf(""+S.timing)>=0&&w!==y[""+S.timing].qpm&&(w=y[""+S.timing].qpm,S.el_type==="tempo"?(S.qpm=y[""+S.timing].qpm,x++):(m[T].splice(x,0,{el_type:"tempo",qpm:y[""+S.timing].qpm,timing:S.timing}),x+=2))}}function o(m){for(var y=0;y<m.length;y++)for(var b=m[y],T=b.length-1;T>=0&&b[T].el_type!=="bar";)b[T].noChordVoice=!0,T--}function l(m,y){if(!(!m||m.length<=y||!m[y].title))return m[y].title.join(" ")}function u(m,y){var b=.25;m.duration&&(b=m.duration[0]);var T=60;return m.bpm&&(T=m.bpm),b*T/y}function h(m){var y;switch(m.type){case"common_time":y={el_type:"meter",num:4,den:4};break;case"cut_time":y={el_type:"meter",num:2,den:2};break;case"specified":y={el_type:"meter",num:m.value[0].num,den:m.value[0].den};break;default:y={el_type:"meter"}}return e=y.num/y.den,y}function f(m){for(var y=[],b=0;b<m.length;b++)m[b].acc!=="natural"&&y.push(m[b]);return y}function d(m,y){var b;y.root==="HP"?b={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:b={el_type:"key",accidentals:f(y.accidentals)},g(m,b)}function p(m,y){var b=h(y);g(m,b)}function g(m,y){for(var b=m.length-1;b>=0;b--)if(m[b].el_type===y.el_type){JSON.stringify(m[b])!==JSON.stringify(y)&&m.push(y);return}m.push(y)}})();var Eee=Tee,si=function(t,n,r,a){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=t,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!n,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=a,this.tempoChangeFactor=1,this.bassInstrument=r.bassprog&&r.bassprog.length>=1?r.bassprog[0]:0,this.chordInstrument=r.chordprog&&r.chordprog.length>=1?r.chordprog[0]:0,this.bassOctaveShift=r.bassprog&&r.bassprog.length===2?r.bassprog[1]:0,this.chordOctaveShift=r.chordprog&&r.chordprog.length===2?r.chordprog[1]:0,this.boomVolume=r.bassvol&&r.bassvol.length===1?r.bassvol[0]:64,this.chickVolume=r.chordvol&&r.chordvol.length===1?r.chordvol[0]:48,r.gchord&&r.gchord.length>0?this.overridePattern=wee(r.gchord[0]):this.overridePattern=void 0};si.prototype.setMeter=function(e){this.meter=e};si.prototype.setTempoChangeFactor=function(e){this.tempoChangeFactor=e};si.prototype.setLastBarTime=function(e){this.lastBarTime=e};si.prototype.setTranspose=function(e){this.transpose=e};si.prototype.setRhythmHead=function(e,t){this.hasRhythmHead=e;var n=[];if(e&&this.lastChord&&this.lastChord.chick)for(var r=0;r<this.lastChord.chick.length;r++){var a=Object.assign({},t.pitches[0]);a.actualPitch=this.lastChord.chick[r],n.push(a)}return n};si.prototype.barEnd=function(e){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,$O(e.time)),this.currentChords=[]),this.chordLastBar=this.lastChord};si.prototype.gChordOn=function(e){this.chordsOff||(this.gChordTacet=e.tacet)};si.prototype.paramChange=function(e){switch(e.el_type){case"gchord":e.param&&e.param.length>0?this.overridePattern=wee(e.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.bassOctaveShift=e.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.chordOctaveShift=e.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=e.param;break;case"chordvol":this.chickVolume=e.param;break;default:console.log("unhandled midi param",e)}};si.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)};si.prototype.addTrack=function(e){this.chordTrackEmpty()||e.push(this.chordTrack)};si.prototype.findChord=function(e){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!e.chord||e.chord.length===0)return null;for(var t=0;t<e.chord.length;t++){var n=e.chord[t];if(n.position==="default")return n.name;if(this.breakSynonyms.indexOf(n.name.toLowerCase())>=0)return"break"}return null};si.prototype.interpretChord=function(e){if(e.length!==0){if(e==="break")return{chick:[]};var t=e.substring(0,1);if(t==="("){if(e=e.substring(1,e.length-2),e.length===0)return;t=e.substring(0,1)}var n=this.basses[t];if(n){for(var r=this.transpose;r<-8;)r+=12;for(;r>8;)r-=12;n+=r,n<33?n+=12:n>44&&(n-=12);var a=n;n+=this.bassOctaveShift*12;var o=n-5,l;e.length===1&&(l=this.chordNotes(n,""));var u=e.substring(1),h=u.substring(0,1);h==="b"||h==="♭"?(a--,n--,o--,u=u.substring(1)):(h==="#"||h==="♯")&&(a++,n++,o++,u=u.substring(1));var f=u.split("/");if(l=this.chordNotes(a,f[0]),l.length>=3){var d=l[2]-l[0];o=o+d-7}if(f.length===2){var p=this.basses[f[1].substring(0,1)];if(p){var g=f[1].substring(1),m={"#":1,"♯":1,b:-1,"♭":-1}[g]||0;n=this.basses[f[1].substring(0,1)]+m+r,n+=this.bassOctaveShift*12,o=n}}return{boom:n,boom2:o,chick:l}}}};si.prototype.chordNotes=function(e,t){var n=this.chordIntervals[t];n||(t.slice(0,2).toLowerCase()==="ma"||t[0]==="M"?n=this.chordIntervals.M:t[0]==="m"||t[0]==="-"?n=this.chordIntervals.m:n=this.chordIntervals.M),e+=12,e+=this.chordOctaveShift*12;for(var r=[],a=0;a<n.length;a++)r.push(e+n[a]);return r};si.prototype.writeNote=function(e,t,n,r,a,o){e!==void 0&&this.chordTrack.push({cmd:"note",pitch:e,volume:n,start:this.lastBarTime+r*A$(t,this.tempoChangeFactor),duration:A$(a,this.tempoChangeFactor),gap:0,instrument:o})};si.prototype.chordTrackEmpty=function(){for(var e=!0,t=0;t<this.chordTrack.length&&e;t++)this.chordTrack[t].cmd==="note"&&(e=!1);return e};si.prototype.resolveChords=function(e,t){if(!this.hasRhythmHead){var n=this.meter.num,r=this.meter.den,a=1/r,o=a/2,l=parseInt(n,10)/parseInt(r,10),u=l-(t-e)/this.tempoChangeFactor;Math.abs(u)<1e-5&&(u=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var h=xCe(this.currentChords,8*n/r),f=this.overridePattern?this.overridePattern:this.rhythmPatterns[n+"/"+r];if(u){f=[];for(var d=(t-e)/this.tempoChangeFactor*8,p=0;p<d/2;p+=2)f.push("chick"),f.push("")}if(!f){f=[];for(var p=0;p<8*n/r/2;p++)f.push("chick"),f.push("")}for(var g=!0,m=Math.min(f.length,h.length),p=0;p<m;p++){p>0&&h[p-1]&&h[p]&&h[p-1].boom!==h[p].boom&&(g=!0);var y=f[p],b=y.indexOf("boom")>=0,T=!b&&p!==0&&f[0].indexOf("boom")>=0&&(!h[p-1]||h[p-1].boom!==h[p].boom),E=wCe(h[p],y,g,T);b&&(g=!1);for(var w=0;w<E.length;w++)this.writeNote(E[w],.125,b||T?this.boomVolume:this.chickVolume,p,o,b||T?this.bassInstrument:this.chordInstrument),T?T=!1:b=!1}}};si.prototype.processChord=function(e){if(!this.chordTrackFinished){var t=this.findChord(e);if(t){var n=this.interpretChord(t);if(n){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=n;var r=SCe(this.lastBarTime,$O(e.time));this.currentChords.push({chord:this.lastChord,beat:r,start:$O(e.time)})}}}};function wCe(e,t,n,r){var a=[];if(!e)return a;t.indexOf("boom")>=0?a.push(n?e.boom:e.boom2):r&&a.push(e.boom);var o=e.chick.length;if(t.indexOf("chick")>=0)for(var l=0;l<o;l++)a.push(e.chick[l]);switch(t){case"DO":a.push(e.chick[0]);break;case"MI":a.push(e.chick[1]);break;case"SOL":a.push(rg(e,2));break;case"TI":a.push(rg(e,3));break;case"TOP":a.push(rg(e,4));break;case"do":a.push(e.chick[0]+12);break;case"mi":a.push(e.chick[1]+12);break;case"sol":a.push(rg(e,2)+12);break;case"ti":a.push(rg(e,3)+12);break;case"top":a.push(rg(e,4)+12);break}return a}function rg(e,t){var n=Math.floor(t/e.chick.length),r=e.chick[t%e.chick.length];return r+n*12}function wee(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r){case"z":t.push("");break;case"2":t.push("");break;case"c":t.push("chick");break;case"b":t.push("boom&chick");break;case"f":t.push("boom");break;case"G":t.push("DO");break;case"H":t.push("MI");break;case"I":t.push("SOL");break;case"J":t.push("TI");break;case"K":t.push("TOP");break;case"g":t.push("do");break;case"h":t.push("mi");break;case"i":t.push("sol");break;case"j":t.push("ti");break;case"k":t.push("top");break}}return t}function xCe(e,t,n){var r=[];if(e.length===0)return r;for(var a=e[0].chord,o=1;o<e.length;o++){for(var l=e[o];r.length<l.beat;)r.push(a);a=l.chord}for(;r.length<t;)r.push(a);return r}function SCe(e,t){var n=t-e;return n*8}si.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"];si.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43};si.prototype.chordIntervals={dim:[0,3,6],"°":[0,3,6],"˚":[0,3,6],dim7:[0,3,6,9],"°7":[0,3,6,9],"˚7":[0,3,6,9],ø7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7♭5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7♭5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-∆9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7♭9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"∆7":[0,4,7,11],Δ7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7♯5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9♯5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]};si.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function $O(e){return e/1e6}function A$(e,t){return Math.round(e*t*1e6)/1e6}var ACe=si,ICe={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function CCe(e){var t=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return ICe[t]}var xee=CCe,See,RCe=ACe,I$=xee;(function(){var e,t,n,r,a,o=1,l,u,h,f,d,p,g={num:4,den:4},m=128,y,b=!0,T=105,E=95,w=85,x=.25,S,A,R=0,C,N={},O,L=0,k,M=0,$=-.001,_=.4;See=function(oe,de,be,fe){de||(de={}),fe||(fe={}),e=[],t=[0,0,0,0,0,0,0],r=[],a=de.qpm,o=1,l=void 0,u=void 0,h=void 0,f=void 0,d=0,k=be,g={num:4,den:4},b=!0,T=105,E=95,w=85,x=.25,S=void 0,A=void 0,R=0,C=[],N={},O=1,oe.length>0&&oe[0].length>0&&(L=oe[0][0].pickupLength),de.bassprog!==void 0&&!fe.bassprog&&(fe.bassprog=[de.bassprog]),de.bassvol!==void 0&&!fe.bassvol&&(fe.bassvol=[de.bassvol]),de.chordprog!==void 0&&!fe.chordprog&&(fe.chordprog=[de.chordprog]),de.chordvol!==void 0&&!fe.chordvol&&(fe.chordvol=[de.chordvol]),de.gchord!==void 0&&!fe.gchord&&(fe.gchord=[de.gchord]),p=new RCe(oe.length,de.chordsOff,fe,g),P(oe,de);for(var Ie=0;Ie<oe.length;Ie++){n=0,p.setTranspose(n);var Re=oe[Ie];h=[{cmd:"program",channel:Ie,instrument:l}],f=void 0,y=0,p.setLastBarTime(0);var ke=!1;(de.voicesOff===!0||de.voicesOff&&de.voicesOff.length&&de.voicesOff.indexOf(Ie)>=0)&&(ke=!0);for(var De=0;De<Re.length;De++){var se=Re[De];switch(se.el_type){case"name":f={cmd:"text",type:"name",text:se.trackName};break;case"note":ee(se,ke);break;case"key":t=le(se);break;case"meter":g=se,p.setMeter(g),x=H(g),ne();break;case"tempo":a?o=se.qpm?a/se.qpm:1:a=se.qpm,p.setTempoChangeFactor(o);break;case"transpose":n=se.transpose,p.setTranspose(n);break;case"bar":p.barEnd(se),e=[],Ie===0&&Ae(oe.length+1),p.setRhythmHead(!1),y=B(se.time),p.setLastBarTime(y);break;case"bagpipes":break;case"instrument":if(l===void 0&&(l=se.program),u=se.program,h.length>0&&h[h.length-1].cmd==="program")h[h.length-1].instrument=se.program;else{var j;for(j=h.length-1;j>=0&&h[j].cmd!=="program";j--);(j<0||h[j].instrument!==se.program)&&h.push({cmd:"program",channel:0,instrument:se.program})}break;case"channel":F(se.channel);break;case"drum":N=te(se.params),ne();break;case"gchordOn":p.gChordOn(se);break;case"beat":T=se.beats[0],E=se.beats[1],w=se.beats[2];break;case"vol":S=se.volume;break;case"volinc":A=se.volume;break;case"beataccents":b=se.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":p.paramChange(se);break;default:console.log("MIDI creation. Unknown el_type: "+se.el_type+`
`);break}}h[0].instrument===void 0&&(h[0].instrument=l||0),f&&h.unshift(f),r.push(h),p.finish(),C.length>0}return de.detuneOctave&&he(r,parseInt(de.detuneOctave,10)),p.addTrack(r),C.length>0&&r.push(C),{tempo:a,instrument:l,tracks:r,totalDuration:d}};function F(oe){for(var de=h.length-1;de>=0;de--)if(h[de].cmd==="program"){h[de].channel=oe;return}}function B(oe){return oe/1e6}function D(oe){return Math.round(oe*o*1e6)/1e6}function P(oe,de){for(var be=0;be<oe.length;be++){for(var fe=oe[be],Ie={},Re=de.qpm,ke=0,De=1,se=0;se<fe.length;se++){var j=fe[se];if(j.el_type==="tempo"){Re?De=j.qpm?Re/j.qpm:1:Re=j.qpm;continue}j.time=ke;var me=j.duration?j.duration:0;if(ke+=Math.round(me*De*1e6),j.pitches){for(var ue=0;ue<j.pitches.length;ue++){var we=j.pitches[ue];if(we){if(we.duration=j.duration,we.startTie)Ie[we.pitch]===void 0?Ie[we.pitch]={el:se,pitch:ue}:(fe[Ie[we.pitch].el].pitches[Ie[we.pitch].pitch].duration+=we.duration,j.pitches[ue]=null);else if(we.endTie){var ie=Ie[we.pitch];if(ie){var Oe=we.duration;delete fe[ie.el].pitches[ie.pitch].startTie,fe[ie.el].pitches[ie.pitch].duration+=Oe,j.pitches[ue]=null,delete Ie[we.pitch]}else delete we.endTie}}}delete j.duration}}for(var ae in Ie)if(Ie.hasOwnProperty(ae)){var ge=Ie[ae];delete fe[ge.el].pitches[ge.pitch].startTie}}}function H(oe){switch(parseInt(oe.den,10)){case 2:return .5;case 4:return .25;case 8:return oe.num%3===0?.375:.125;case 16:return .125}return .25}function W(oe,de,be){var fe=be-oe;return fe/de}function U(oe,de){if(de)return 0;var be;if(S!=null)be=S,S=void 0;else if(!b)be=E;else if(L>oe)be=w;else{var fe=W(y,H(g),oe);fe===0?be=T:parseInt(fe,10)===fe?be=E:be=w}return A&&(be+=A,A=void 0),be<0&&(be=0),be>127&&(be=127),de?0:be}function V(oe,de){var be={};if(oe.decoration)for(var fe=0;fe<oe.decoration.length;fe++)oe.decoration[fe]==="staccato"?be.thisBreakBetweenNotes="staccato":oe.decoration[fe]==="tenuto"?be.thisBreakBetweenNotes="tenuto":oe.decoration[fe]==="accent"?be.velocity=Math.min(127,de*1.5):oe.decoration[fe]==="trill"?be.noteModification="trill":oe.decoration[fe]==="lowermordent"?be.noteModification="lowermordent":oe.decoration[fe]==="uppermordent"||oe.decoration[fe]==="mordent"?be.noteModification="mordent":oe.decoration[fe]==="turn"?be.noteModification="turn":oe.decoration[fe]==="roll"&&(be.noteModification="roll");return be}function G(oe,de){var be=de.start,fe=de.duration,Ie=D(1/32);switch(oe){case"trill":for(var Re=2;fe>0;)h.push({cmd:"note",pitch:de.pitch+Re,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),Re=Re===2?0:2,fe-=Ie,be+=Ie;break;case"mordent":h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),fe-=Ie,be+=Ie,h.push({cmd:"note",pitch:de.pitch+2,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),fe-=Ie,be+=Ie,h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be,duration:fe,gap:0,instrument:u});break;case"lowermordent":h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),fe-=Ie,be+=Ie,h.push({cmd:"note",pitch:de.pitch-2,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),fe-=Ie,be+=Ie,h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be,duration:fe,gap:0,instrument:u});break;case"turn":Ie=de.duration/4,h.push({cmd:"note",pitch:de.pitch+2,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be+Ie,duration:Ie,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:de.pitch-1,volume:de.volume,start:be+Ie*2,duration:Ie,gap:0,instrument:u,style:"decoration"}),h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be+Ie*3,duration:Ie,gap:0,instrument:u,style:"decoration"});break;case"roll":for(;fe>0;)h.push({cmd:"note",pitch:de.pitch,volume:de.volume,start:be,duration:Ie,gap:0,instrument:u,style:"decoration"}),fe-=Ie*2,be+=Ie*2;break}}function ee(oe,de){var be=U(B(oe.time),de);p.processChord(oe);var fe;if(oe.gracenotes&&oe.pitches&&oe.pitches.length>0&&oe.pitches[0]&&(fe=Y(oe.gracenotes,oe.pitches[0].duration),oe.elem&&(oe.elem.midiGraceNotePitches=K(fe,B(oe.time),be*2/3,u))),oe.elem){var Ie=B(oe.time),Re=Ie/x/a*60*1e3;if(oe.elem.currentTrackMilliseconds===void 0)oe.elem.currentTrackMilliseconds=Re,oe.elem.currentTrackWholeNotes=Ie;else if(oe.elem.currentTrackMilliseconds.length===void 0)oe.elem.currentTrackMilliseconds!==Re&&(oe.elem.currentTrackMilliseconds=[oe.elem.currentTrackMilliseconds,Re],oe.elem.currentTrackWholeNotes=[oe.elem.currentTrackWholeNotes,Ie]);else{for(var ke=!1,De=0;De<oe.elem.currentTrackMilliseconds.length;De++)oe.elem.currentTrackMilliseconds[De]===Re&&(ke=!0);ke||(oe.elem.currentTrackMilliseconds.push(Re),oe.elem.currentTrackWholeNotes.push(Ie))}}if(oe.pitches){var se="",j=V(oe,be);j.thisBreakBetweenNotes&&(se=j.thisBreakBetweenNotes),j.velocity&&(be=j.velocity);var me=oe.pitches;oe.style==="rhythm"&&(me=p.setRhythmHead(!0,oe)),oe.elem&&(oe.elem.midiPitches=[]);for(var ue=0;ue<me.length;ue++){var we=me[ue];if(we){we.startSlur&&(R+=we.startSlur.length),we.endSlur&&(R-=we.endSlur.length);var ie=we.actualPitch?we.actualPitch:re(we);if(u===m&&k){var Oe=I$(we);Oe&&k[Oe]&&(ie=k[Oe].sound)}var ae={cmd:"note",pitch:ie,volume:be,start:B(oe.time),duration:D(we.duration),instrument:u,startChar:oe.elem.startChar,endChar:oe.elem.endChar};if(ae=Z(ae),oe.gracenotes&&(ae.duration=ae.duration/2,ae.start=ae.start+ae.duration),oe.elem&&oe.elem.midiPitches.push(ae),j.noteModification)G(j.noteModification,ae);else{switch(R>0?ae.endType="tenuto":se&&(ae.endType=se),ae.endType){case"tenuto":ae.gap=$;break;case"staccato":var ge=ae.duration*_;ae.gap=a/60*ge;break;default:ae.gap=M;break}h.push(ae)}}}h.length-1}var Ee=ce(oe);d=Math.max(d,B(oe.time)+D(Ee))}function ce(oe){return oe.pitches&&oe.pitches.length>0&&oe.pitches[0]?oe.pitches[0].duration:oe.elem?oe.elem.duration:oe.duration}var Q=[0,2,4,5,7,9,11];function re(oe){if(oe.midipitch!==void 0)return oe.midipitch;var de=oe.pitch;if(oe.accidental)switch(oe.accidental){case"sharp":e[de]=1;break;case"flat":e[de]=-1;break;case"natural":e[de]=0;break;case"dblsharp":e[de]=2;break;case"dblflat":e[de]=-2;break;case"quartersharp":e[de]=.25;break;case"quarterflat":e[de]=-.25;break}var be=z(de)*12+Q[X(de)]+60;return e[de]!==void 0?be+=e[de]:be+=t[X(de)],be+=n,be}function le(oe){var de=[0,0,0,0,0,0,0];if(!oe.accidentals)return de;for(var be=0;be<oe.accidentals.length;be++){var fe=oe.accidentals[be],Ie;switch(fe.acc){case"flat":Ie=-1;break;case"quarterflat":Ie=-.25;break;case"sharp":Ie=1;break;case"quartersharp":Ie=.25;break;default:Ie=0;break}var Re=fe.note.toLowerCase(),ke=X(Re.charCodeAt(0)-99);de[ke]+=Ie}return de}function Y(oe,de){for(var be=0,fe=[],Ie,Re=0;Re<oe.length;Re++)Ie=oe[Re],be+=Ie.duration;var ke=de/2/be;for(Re=0;Re<oe.length;Re++){Ie=oe[Re];var De=re(Ie);if(u===m&&k){var se=I$(Ie);se&&k[se]&&(De=k[se].sound)}var j={pitch:De,duration:Ie.duration*ke};j=Z(j),fe.push(j)}return fe}function K(oe,de,be,fe){var Ie=[];be=Math.round(be);for(var Re=0;Re<oe.length;Re++){var ke=oe[Re];h.push({cmd:"note",pitch:ke.pitch,volume:be,start:de,duration:ke.duration,gap:0,instrument:fe,style:"grace"}),Ie.push({pitch:ke.pitch,durationInMeasures:ke.duration,volume:be,instrument:fe}),de+=ke.duration}return Ie}function Z(oe){var de=""+oe.pitch;return de.indexOf(".75")>=0?(oe.pitch=Math.round(oe.pitch),oe.cents=-50):de.indexOf(".25")>=0&&(oe.pitch=Math.round(oe.pitch),oe.cents=50),oe}function z(oe){return Math.floor(oe/7)}function X(oe){return oe=oe%7,oe<0&&(oe+=7),oe}function te(oe){if(oe.pattern.length===0||oe.on===!1)return{on:!1};for(var de=oe.pattern[0],be=[],fe="",Ie=0,Re=0;Re<de.length;Re++)if(de[Re]==="d"&&Ie++,de[Re]==="d"||de[Re]==="z")fe.length!==0?(be.push(fe),fe=de[Re]):fe=fe+de[Re];else{if(fe.length===0)return{on:!1};fe=fe+de[Re]}if(fe.length!==0&&be.push(fe),oe.pattern.length!==Ie*2+1)return{on:!1};for(var ke={on:!0,bars:oe.bars,pattern:[]},De=H(g),se=0,j=0;j<be.length;j++){fe=be[j];for(var me=1,ue=!1,we=0,ie=1;ie<fe.length;ie++)switch(fe[ie]){case"/":we!==0&&(me*=we),we=0,ue=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":we=we*10+fe[ie];break;default:return{on:!1}}ue?(we===0&&(we=2),me/=we):we&&(me*=we),fe[0]==="d"?(ke.pattern.push({len:me*De,pitch:oe.pattern[1+se],velocity:oe.pattern[1+se+Ie]}),se++):ke.pattern.push({len:me*De,pitch:null})}return O=oe.bars?oe.bars:1,ke}function ne(){if(!(!N||!N.pattern)){for(var oe=N,de=0,be=g.num/g.den,fe=0;fe<oe.pattern.length;fe++)de+=oe.pattern[fe].len;var Ie=de/O/be;for(fe=0;fe<oe.pattern.length;fe++)oe.pattern[fe].len=oe.pattern[fe].len/Ie;N=oe}}function Ae(oe){if(!(C.length===0&&!N.on)){var de=g.num/g.den;if(C.length===0){if(d<de)return;C.push({cmd:"program",channel:oe,instrument:m})}if(N.on)for(var be=y,fe=0;fe<N.pattern.length;fe++){var Ie=D(N.pattern[fe].len);N.pattern[fe].pitch&&C.push({cmd:"note",pitch:N.pattern[fe].pitch,volume:N.pattern[fe].velocity,start:be,duration:Ie,gap:0,instrument:m}),be+=Ie}}}function he(oe,de){for(var be={},fe=0;fe<oe.length;fe++)for(var Ie=0;Ie<oe[fe].length;Ie++){var Re=oe[fe][Ie];Re.cmd==="note"&&(be[Re.start]===void 0&&(be[Re.start]=[]),be[Re.start].push({track:fe,event:Ie,pitch:Re.pitch}))}var ke=Object.keys(be);for(fe=0;fe<ke.length;fe++){var De=be[ke[fe]];if(De.length>1){De=De.sort(function(we,ie){return we.pitch-ie.pitch});var se=De[De.length-1],j=se.pitch%12,me=!1;for(Ie=0;!me&&Ie<De.length-1;Ie++)De[Ie].pitch%12===j&&(me=!0);if(me){var ue=oe[se.track][se.event];ue.cents||(ue.cents=0),ue.cents+=de}}}}})();var kCe=See;function OCe(e,t){t||(t={});for(var n=!!t.lineBreaks,r=[],a=!1,o=[],l=[],u=[],h=[],f=[],d=[],p=[],g=0;g<e.length;g++){var m=e[g];if(m.staff){if(a&&!m.vskip)for(var y=r[r.length-1],b=0;b<y.staff.length;b++){var T=m.staff[b],E=y.staff[b];if(T&&(Gf(T.meter,o[b])||(NCe(T.meter,T.voices),o[b]=T.meter,delete T.meter),Gf(T.key,l[b])||(LCe(T.key,T.voices),l[b]=T.key,delete T.key),T.title&&(E.abbrevTitle=T.title),Gf(T.clef,u[b])||(_Ce(T.clef,T.voices),u[b]=T.clef,delete T.clef),Gf(T.vocalfont,h[b])||(Iw(T.vocalfont,T.voices,"vocalfont"),h[b]=T.vocalfont,delete T.vocalfont),Gf(T.gchordfont,f[b])||(Iw(T.gchordfont,T.voices,"gchordfont"),f[b]=T.gchordfont,delete T.gchordfont),Gf(T.tripletfont,d[b])||(Iw(T.tripletfont,T.voices,"tripletfont"),d[b]=T.tripletfont,delete T.tripletfont),Gf(T.annotationfont,p[b])||(Iw(T.annotationfont,T.voices,"annotationfont"),p[b]=T.annotationfont,delete T.annotationfont)),T)for(var w=0;w<E.voices.length;w++){var x=E.voices[w],S=T.voices[w];n&&x.push({el_type:"break"}),S&&(E.voices[w]=x.concat(S))}}else{for(var A=0;A<m.staff.length;A++)l[A]=m.staff[A].key,o[A]=m.staff[A].meter,u[A]=m.staff[A].clef;r.push(DCe(m))}a=!0}else a=!1,r.push(m)}return r}function C$(e,t){return e==="abselem"?"abselem":t}function NCe(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function LCe(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function _Ce(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function Iw(e,t,n){e.el_type="font",e.type=n,e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function Gf(e,t){if(!e)return!0;var n=JSON.stringify(e,C$),r=JSON.stringify(t,C$);return n===r}function DCe(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++)if(n[r]!=="staff")t[n[r]]=e[n[r]];else{t.staff=[];for(var a=0;a<e.staff.length;a++){for(var o={},l=Object.keys(e.staff[a]),u=0;u<l.length;u++)if(l[u]!=="voices")o[l[u]]=e.staff[a][l[u]];else{o.voices=[];for(var h=0;h<e.staff[a].voices.length;h++)o.voices.push([].concat(e.staff[a].voices[h]))}t.staff.push(o)}}return t}var MCe=OCe,R$=$h,k$=fo,PCe=Eee,FCe=kCe,BCe=MCe,HCe=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function e(l,u,h,f){for(var d=0;d<f.length;d++)l[h][f[d]]=u[h][f[d]]}this.copyTopInfo=function(l){var u=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,l,"metaText",u),e(this,l,"metaTextInfo",u)},this.copyBottomInfo=function(l){var u=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,l,"metaText",u),e(this,l,"metaTextInfo",u)},this.getBeatLength=function(){var l=this.getMeterFraction(),u=1;return(l.num===6||l.num===9||l.num===12||l.num===3&&l.den===8)&&(u=3),u/l.den};function t(l,u){for(var h=0,f=0;f<l.length;f++)if(l[f].staff)for(var d=0;d<l[f].staff.length;d++)for(var p=0;p<l[f].staff[d].voices.length;p++)for(var g=l[f].staff[d].voices[p],m=1,y=0;y<g.length;y++){var b=g[y].rest&&g[y].rest.type==="spacer";if(g[y].startTriplet&&(m=g[y].tripletMultiplier),g[y].duration&&!b&&g[y].el_type!=="tempo"&&(h+=g[y].duration*m),g[y].endTriplet&&(m=1),h>=u&&(h-=u),g[y].el_type==="bar")return h}return h}this.getPickupLength=function(){var l=this.getBarLength(),u=t(this.lines,l);return u<1e-8||l-u<1e-8?0:u},this.getBarLength=function(){var l=this.getMeterFraction();return l.num/l.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(l){var u;if(l)u=l;else{var h=this.metaText?this.metaText.tempo:null;u=this.getBpm(h)}u<=0&&(u=1);var f=this.getBeatsPerMeasure(),d=f/u;return d*6e4},this.getBeatsPerMeasure=function(){var l=this.getBeatLength(),u=this.getBarLength();return u/l},this.getMeter=function(){for(var l=0;l<this.lines.length;l++){var u=this.lines[l];if(u.staff)for(var h=0;h<u.staff.length;h++){var f=u.staff[h].meter;if(f)return f}}return{type:"common_time"}},this.getMeterFraction=function(){var l=this.getMeter(),u=4,h=4;return l&&(l.type==="specified"?(u=parseInt(l.value[0].num,10),h=parseInt(l.value[0].den,10)):l.type==="cut_time"?(u=2,h=2):l.type==="common_time"&&(u=4,h=4)),this.meter={num:u,den:h},this.meter},this.getKeySignature=function(){for(var l=0;l<this.lines.length;l++){var u=this.lines[l];if(u.staff){for(var h=0;h<u.staff.length;h++)if(u.staff[h].key)return u.staff[h].key}}return{}},this.getElementFromChar=function(l){for(var u=0;u<this.lines.length;u++){var h=this.lines[u];if(h.staff)for(var f=0;f<h.staff.length;f++)for(var d=h.staff[f],p=0;p<d.voices.length;p++)for(var g=d.voices[p],m=0;m<g.length;m++){var y=g[m];if(y.startChar&&y.endChar&&y.startChar<=l&&y.endChar>l)return y}}return null};function n(l){for(var u,h,f,d,p=l.length-1;p>=0;p--){var g=l[p];g.type==="bar"?(g.top=f,g.nextTop=u,u=f,g.bottom=d,g.nextBottom=h,h=d):g.type==="event"&&(f=g.top,d=g.top+g.height)}}function r(l){var u=[];for(var h in l)l.hasOwnProperty(h)&&u.push(l[h]);return u=u.sort(function(f,d){var p=f.milliseconds-d.milliseconds;return p!==0?p:f.type==="bar"?-1:1}),u}this.addElementToEvents=function(l,u,h,f,d,p,g,m,y,b){if(u.hint)return{isTiedState:void 0,duration:0};var T=u.durationClass?u.durationClass:u.duration;if(u.abcelem.rest&&u.abcelem.rest.type==="spacer"&&(T=0),T>0){for(var E=[],w=0;w<u.elemset.length;w++)u.elemset[w]!==null&&E.push(u.elemset[w]);var x=u.startTie;if(y!==void 0)l["event"+y].elements.push(E),b&&(l["event"+h]||(l["event"+h]={type:"event",milliseconds:h,line:p,measureNumber:g,top:f,height:d,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),l["event"+h].measureStart=!0,b=!1),x||(y=void 0);else{if(!l["event"+h])l["event"+h]={type:"event",milliseconds:h,line:p,measureNumber:g,top:f,height:d,left:u.x,width:u.w,elements:[E],startChar:u.abcelem.startChar,endChar:u.abcelem.endChar,startCharArray:[u.abcelem.startChar],endCharArray:[u.abcelem.endChar],midiPitches:u.abcelem.midiPitches?R$.cloneArray(u.abcelem.midiPitches):[]},u.abcelem.midiGraceNotePitches&&(l["event"+h].midiGraceNotePitches=R$.cloneArray(u.abcelem.midiGraceNotePitches));else{if(l["event"+h].left?l["event"+h].left=Math.min(l["event"+h].left,u.x):l["event"+h].left=u.x,l["event"+h].elements.push(E),l["event"+h].startCharArray.push(u.abcelem.startChar),l["event"+h].endCharArray.push(u.abcelem.endChar),l["event"+h].startChar===null&&(l["event"+h].startChar=u.abcelem.startChar),l["event"+h].endChar===null&&(l["event"+h].endChar=u.abcelem.endChar),u.abcelem.midiPitches&&u.abcelem.midiPitches.length){l["event"+h].midiPitches||(l["event"+h].midiPitches=[]);for(var w=0;w<u.abcelem.midiPitches.length;w++)l["event"+h].midiPitches.push(u.abcelem.midiPitches[w])}if(u.abcelem.midiGraceNotePitches&&u.abcelem.midiGraceNotePitches.length){l["event"+h].midiGraceNotePitches||(l["event"+h].midiGraceNotePitches=[]);for(var S=0;S<u.abcelem.midiGraceNotePitches.length;S++)l["event"+h].midiGraceNotePitches.push(u.abcelem.midiGraceNotePitches[S])}}b&&(l["event"+h].measureStart=!0,b=!1)}}return{isTiedState:y,duration:T/m,nextIsBar:b||u.type==="bar"}},this.makeVoicesArray=function(){for(var l=[],u=[],h={},f=0;f<this.engraver.staffgroups.length;f++){var d=this.engraver.staffgroups[f];if(d&&d.staffs&&d.staffs.length>0){var p=d.staffs[0],g=p.absoluteY,m=g-p.top*k$.STEP,y=d.staffs[d.staffs.length-1];g=y.absoluteY;for(var b=g-y.bottom*k$.STEP,T=b-m,E=d.voices,w=0;w<E.length;w++)if(!(E[w].staff&&E[w].staff.isTabStaff)){var x=!1;l[w]||(l[w]=[]),u[w]===void 0&&(u[w]=0);for(var S=E[w].children,A=0;A<S.length;A++)S[A].type==="tempo"&&(h[u[w]]=this.getBpm(S[A].abcelem)),l[w].push({top:m,height:T,line:d.line,measureNumber:u[w],elem:S[A]}),S[A].type==="bar"&&x&&u[w]++,(S[A].type==="note"||S[A].type==="rest")&&(x=!0)}}}return this.tempoLocations=h,l},this.setupEvents=function(l,u,h,f){f||(f=1);for(var d=[],p={},g=l,m,y=!0,b=this.makeVoicesArray(),T=0,E=0;E<b.length;E++){var w=g,x=Math.round(w*1e3),S=0,A=-1,R=b[E],C=h;u=this.getBeatLength()*C/60;for(var N=-1,O=0;O<R.length;O++){var L=R[O].measureNumber;N!==L&&this.tempoLocations[L]&&(C=this.tempoLocations[L],u=f*this.getBeatLength()*C/60,N=L);var k=R[O].elem,M=this.addElementToEvents(p,k,x,R[O].top,R[O].height,R[O].line,R[O].measureNumber,u,m,y);m=M.isTiedState,y=M.nextIsBar,w+=M.duration;var $;if(k.duration>0&&p["event"+x]&&($="event"+x),x=Math.round(w*1e3),k.type==="bar"){var _=k.abcelem.type,F=_==="bar_right_repeat"||_==="bar_dbl_repeat",B=k.abcelem.startEnding==="1",D=_==="bar_left_repeat"||_==="bar_dbl_repeat"||_==="bar_right_repeat";if(F){O>0&&(p[$].endX=k.x),A===-1&&(A=O);var P=0;N=-1;for(var H=S;H<A;H++){L=R[H].measureNumber,N!==L&&this.tempoLocations[L]&&(C=this.tempoLocations[L],u=f*this.getBeatLength()*C/60,N=L);var W=R[H].elem;M=this.addElementToEvents(p,W,x,R[H].top,R[H].height,R[H].line,R[H].measureNumber,u,m,y),m=M.isTiedState,y=M.nextIsBar,w+=M.duration,P=x,x=Math.round(w*1e3)}p["event"+P]&&(p["event"+P].endX=R[A].elem.x),y=!0,A=-1}B&&(A=O),D&&(S=O)}}T=Math.max(T,x)}return d=r(p),n(d),o(this.lines,d),d.push({type:"end",milliseconds:T}),this.addUsefulCallbackInfo(d,C*f),d},this.addUsefulCallbackInfo=function(l,u){for(var h=this.millisecondsPerMeasure(u),f=0;f<l.length;f++){var d=l[f];d.millisecondsPerMeasure=h}};function a(l,u){for(;u<l.length&&l[u].left===null;)u++;return l[u]}function o(l,u){if(!(u.length<1)){for(var h=0;h<u.length-1;h++){var f=u[h],d=a(u,h+1);if(f.left!==null){var p=d&&f.top===d.top?d.left:l[f.line].staffGroup.w;f.endX!==void 0?p>f.left&&(f.endX=Math.min(f.endX,p)):f.endX=p}}var g=u[u.length-1];g.endX=l[g.line].staffGroup.w}}this.getBpm=function(l){var u;if(l||(l=this.metaText?this.metaText.tempo:null),l){u=l.bpm;var h=this.getBeatLength(),f=l.duration&&l.duration.length>0?l.duration[0]:h;u=u*f/h}if(!u){u=180;var d=this.getMeterFraction();d&&d.num!==3&&d.num%3===0&&(u=120)}return u},this.setTiming=function(l,u){if(u=u||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var h=this.metaText?this.metaText.tempo:null,f=this.getBpm(h),d=1;l?h&&(d=l/f):l=f;var p=this.getBeatLength(),g=l/60,m=this.getBarLength(),y=m/p*u/g;y&&(y-=this.getPickupLength()/p/g);var b=p*g;return this.noteTimings=this.setupEvents(y,b,l,d),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*g):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(l){l||(l={});var u=PCe(this,l);return FCe(u,l,this.formatting.percmap,this.formatting.midi)},this.deline=function(l){return BCe(this.lines,l)},this.findSelectableElement=function(l){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(l):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}},$Ce=HCe,O$=m_,WCe=function(e){var t=this,n={},r="";e.reset(),this.setVisualTranspose=function(a){a&&(e.visualTranspose=a)},this.cleanUp=function(a,o,l){yC(e),delete e.runningFonts,UCe(e),e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var u=!1,h,f,d;for(h=0;h<e.lines.length;h++)if(e.lines[h].staff!==void 0){var p=!1;for(f=0;f<e.lines[h].staff.length;f++)if(e.lines[h].staff[f]===void 0)u=!0,e.lines[h].staff[f]=null;else for(d=0;d<e.lines[h].staff[f].voices.length;d++)e.lines[h].staff[f].voices[d]===void 0?e.lines[h].staff[f].voices[d]=[]:bC(e.lines[h].staff[f].voices[d])&&(p=!0);p||(e.lines[h]=null,u=!0)}if(u&&(e.lines=e.lines.filter(function(E){return!!E}),e.lines.forEach(function(E){E.staff&&(E.staff=E.staff.filter(function(w){return!!w}))})),a)for(;qCe(e.lines,a););if(o){for(u=!1,h=0;h<e.lines.length;h++)if(e.lines[h].staff!==void 0)for(f=0;f<e.lines[h].staff.length;f++){var g=!1;for(d=0;d<e.lines[h].staff[f].voices.length;d++)ZCe(e.lines[h].staff[f].voices[d])&&(g=!0);g||(u=!0,e.lines[h].staff[f]=null)}u&&e.lines.forEach(function(E){E.staff&&(E.staff=E.staff.filter(function(w){return!!w}))})}for(YCe(e.lines),h=0;h<e.lines.length;h++)if(e.lines[h].staff)for(f=0;f<e.lines[h].staff.length;f++)delete e.lines[h].staff[f].workingClef;for(;GCe(e););for(var h=0;h<e.lines.length;h++){var m=e.lines[h].staff;if(m)for(e.staffNum=0;e.staffNum<m.length;e.staffNum++)for(m[e.staffNum].clef&&O$.fixClef(m[e.staffNum].clef),e.voiceNum=0;e.voiceNum<m[e.staffNum].voices.length;e.voiceNum++){var y=m[e.staffNum].voices[e.voiceNum];VCe(y,e.staffNum,e.voiceNum,l);for(var b=0;b<y.length;b++)y[b].el_type==="clef"&&O$.fixClef(y[b]);if(y.length>0&&y[y.length-1].barNumber){var T=Aee(e.lines,h);T&&(T.staff[0].barNumber=y[y.length-1].barNumber),delete y[y.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,l},this.addTieToLastNote=function(a){var o=XCe(e);return o&&o.pitches&&o.pitches.length>0?(o.pitches[0].startTie={},a&&(o.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(a,o,l,u){if(u.el_type=a,o!==null&&(u.startChar=o),l!==null&&(u.endChar=l),a==="note"){var h=KCe(u);h>=.25||u.force_end_beam_last&&e.potentialStartBeam!==void 0?Cw(e):u.end_beam&&e.potentialStartBeam!==void 0?u.rest===void 0?JCe(u,e):Cw(e):u.rest===void 0&&(e.potentialStartBeam===void 0?u.end_beam||(e.potentialStartBeam=u,delete e.potentialEndBeam):e.potentialEndBeam=u)}else Cw(e);return delete u.end_beam,delete u.force_end_beam_last,u.rest&&u.rest.type==="invisible"&&delete u.decoration,e.lines.length<=e.lineNum||e.lines[e.lineNum].staff.length<=e.staffNum?!1:(QCe(t,e,u,n,r),!0)},this.appendStartingElement=function(a,o,l,u){yC(e);var h;a==="key"&&(h=u.impliedNaturals,delete u.impliedNaturals,delete u.explicitAccidentals);var f=Object.assign({},u);if(e.lines[e.lineNum]){var d=e.lines[e.lineNum].staff;if(d){d.length<=e.staffNum&&(d[e.staffNum]={},d[e.staffNum].clef=Object.assign({},d[0].clef),d[e.staffNum].key=Object.assign({},d[0].key),d[0].meter&&(d[e.staffNum].meter=Object.assign({},d[0].meter)),d[e.staffNum].workingClef=Object.assign({},d[0].workingClef),d[e.staffNum].voices=[[]]),a==="clef"&&(d[e.staffNum].workingClef=f);for(var p=d[e.staffNum].voices[e.voiceNum],g=0;g<p.length;g++){if(p[g].el_type==="note"||p[g].el_type==="bar"){f.el_type=a,f.startChar=o,f.endChar=l,h&&(f.accidentals=h.concat(f.accidentals)),p.push(f);return}if(p[g].el_type===a){f.el_type=a,f.startChar=o,f.endChar=l,h&&(f.accidentals=h.concat(f.accidentals)),p[g]=f;return}}d[e.staffNum][a]=u}}},this.addSubtitle=function(a,o){Ty(e,{subtitle:{text:a,startChar:o.startChar,endChar:o.endChar}})},this.addSpacing=function(a){e.vskipPending=a},this.addNewPage=function(a){Ty(e,{newpage:a})},this.addSeparator=function(a,o,l,u){Ty(e,{separator:{spaceAbove:Math.round(a),spaceBelow:Math.round(o),lineLength:Math.round(l),startChar:u.startChar,endChar:u.endChar}})},this.addText=function(a,o){Ty(e,{text:{text:a,startChar:o.startChar,endChar:o.endChar}})},this.addCentered=function(a){Ty(e,{text:[{text:a,center:!0}]})},this.changeVoiceScale=function(a){t.appendElement("scale",null,null,{size:a})},this.changeVoiceColor=function(a){t.appendElement("color",null,null,{color:a})},this.startNewLine=function(a){yC(e),a.currentVoiceName&&(r=a.currentVoiceName,n[a.currentVoiceName]=a),e.lines[e.lineNum]===void 0?eRe(t,e,a):e.lines[e.lineNum].staff===void 0?(e.lineNum++,this.startNewLine(a)):e.lines[e.lineNum].staff[e.staffNum]===void 0?Iee(t,e,a):e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]===void 0?b_(t,e,a):bC(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(a)):a.part&&t.appendElement("part",a.part.startChar,a.part.endChar,{title:a.part.title})},this.setRunningFont=function(a,o){e.runningFonts[a]=o},this.setBarNumberImmediate=function(a){var o=this.getCurrentVoice();if(o&&o.length>0){var l=o[o.length-1];if(l.el_type==="bar")l.barNumber!==void 0&&(l.barNumber=a);else return a-1}return a},this.hasBeginMusic=function(){for(var a=0;a<e.lines.length;a++)if(e.lines[a].staff)return!0;return!1},this.isFirstLine=function(a){for(var o=a-1;o>=0;o--)if(e.lines[o].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var a=jCe(e.lines,e.lineNum);if(!a)return null;var o=a.staff[e.staffNum];return o&&o.voices[e.voiceNum]!==void 0?o.voices[e.voiceNum]:null},this.setCurrentVoice=function(a,o,l){e.staffNum=a,e.voiceNum=o,r=l;for(var u=0;u<e.lines.length;u++)if(e.lines[u].staff&&(e.lines[u].staff[a]===void 0||e.lines[u].staff[a].voices[o]===void 0||!bC(e.lines[u].staff[a].voices[o])))return e.lineNum=u,!!(!e.lines[u].staff[a]||e.lines[u].staff[a].voices[o]);return e.lineNum=u,!1},this.addMetaText=function(a,o,l){e.metaText[a]===void 0?(e.metaText[a]=o,e.metaTextInfo[a]=l):(typeof e.metaText[a]=="string"&&typeof o=="string"?e.metaText[a]+=`
`+o:(e.metaText[a]==="string"&&(e.metaText[a]=[{text:e.metaText[a]}]),typeof o=="string"&&(o=[{text:o}]),e.metaText[a]=e.metaText[a].concat(o)),e.metaTextInfo[a].endChar=l.endChar)},this.addMetaTextArray=function(a,o,l){e.metaText[a]===void 0?(e.metaText[a]=[o],e.metaTextInfo[a]=l):(e.metaText[a].push(o),e.metaTextInfo[a].endChar=l.endChar)},this.addMetaTextObj=function(a,o,l){e.metaText[a]=o,e.metaTextInfo[a]=l}};function N$(e){if(!e||typeof e=="string")return!1;for(var t=0;t<e.length;t++)if(typeof e[t]!="string")return!1;return!0}function UCe(e){N$(e.metaText.notes)&&(e.metaText.notes=e.metaText.notes.join(`
`)),N$(e.metaText.history)&&(e.metaText.history=e.metaText.history.join(`
`))}function GCe(e){for(var t=!1,n=[],r=0;r<e.lines.length;r++){var a=e.lines[r];if(a.staff)for(var o=0;o<a.staff.length;o++){for(var l=a.staff[o],u=[],h=0;h<l.voices.length;h++){var f=l.voices[h];u.push({hasOverlay:!1,voice:[],snip:[]}),n[r]=0;for(var d=0,p=!1,g=-1,m=0;m<f.length;m++){var y=f[m];if(y.el_type==="overlay"&&!p){t=!0,p=!0,g=m,u[h].hasOverlay=!0;for(var b=0;b<r;b++)n[b]&&e.lines[b].staff&&l.voices.length>=e.lines[b].staff[0].voices.length&&e.lines[b].staff[0].voices.push([{el_type:"note",duration:n[b],rest:{type:"invisible"},startChar:y.startChar,endChar:y.endChar}])}else y.el_type==="bar"?(p?(p=!1,u[h].snip.push({start:g,len:m-g}),u[h].voice.push(y)):(d>0&&u[h].voice.push({el_type:"note",duration:d,rest:{type:"invisible"},startChar:y.startChar,endChar:y.endChar}),u[h].voice.push(y)),d=0):y.el_type==="note"?p?u[h].voice.push(y):(d+=y.duration,n[r]+=y.duration):(y.el_type==="scale"||y.el_type==="stem"||y.el_type==="overlay"||y.el_type==="style"||y.el_type==="transpose"||y.el_type==="color")&&u[h].voice.push(y)}u[h].hasOverlay&&u[h].snip.length===0&&u[h].snip.push({start:g,len:f.length-g})}for(h=0;h<u.length;h++){var T=u[h];if(T.hasOverlay){T.voice.splice(0,0,{el_type:"stem",direction:"down"}),l.voices.push(T.voice);for(var E=T.snip.length-1;E>=0;E--){var w=T.snip[E];l.voices[h].splice(w.start,w.len),l.voices[h].splice(w.start+1,0,{el_type:"stem",direction:"auto"});var x=zCe(l.voices[h],w.start);l.voices[h].splice(x,0,{el_type:"stem",direction:"up"})}for(E=0;E<l.voices[l.voices.length-1].length;E++){l.voices[l.voices.length-1][E]=Object.assign({},l.voices[l.voices.length-1][E]);var S=l.voices[l.voices.length-1][E];S.el_type==="bar"&&S.startEnding&&delete S.startEnding,S.el_type==="bar"&&S.endEnding&&delete S.endEnding}}}}}return t}function zCe(e,t){for(var n=t-1;n>0&&e[n].el_type!=="bar";n--);return n}function YCe(e){for(var t=!0,n=0;n<e.length;n++){var r=e[n];if(r.staff){for(var a=0;a<r.staff.length;a++){var o=r.staff[a];if(o.title){for(var l=!1,u=0;u<o.title.length;u++)o.title[u]?(o.title[u]=t?o.title[u].name:o.title[u].subname,o.title[u]?l=!0:o.title[u]=""):o.title[u]="";l||delete o.title}}t=!1}}}function VCe(e,t,n,r){r[t]||(r[t]=[]),r[t][n]||(r[t][n]=[]);for(var a,o=function(E,w,x){if(r[t][n][x]===void 0){for(a=0;a<r[t][n].length;a++)if(r[t][n][a]!==void 0){x=a;break}if(r[t][n][x]===void 0){var S=x*100+1;E.endSlur.forEach(function(C){S===C&&--S}),r[t][n][x]=[S]}}for(var A,R=0;R<w;R++)A=r[t][n][x].pop(),E.endSlur.push(A);return r[t][n][x].length===0&&delete r[t][n][x],A},l=function(E,w,x,S){E.startSlur=[],r[t][n][x]===void 0&&(r[t][n][x]=[]);for(var A=x*100+1,R=0;R<w;R++)S&&(S.forEach(function(C){A===C&&++A}),S.forEach(function(C){A===C&&++A}),S.forEach(function(C){A===C&&++A})),r[t][n][x].forEach(function(C){A===C&&++A}),r[t][n][x].forEach(function(C){A===C&&++A}),r[t][n][x].push(A),E.startSlur.push({label:A}),E.dottedSlur&&(E.startSlur[E.startSlur.length-1].style="dotted",delete E.dottedSlur),A++},u=0;u<e.length;u++){var h=e[u];if(h.el_type==="note"){if(h.gracenotes)for(var f=0;f<h.gracenotes.length;f++){if(h.gracenotes[f].endSlur){var d=h.gracenotes[f].endSlur;h.gracenotes[f].endSlur=[];for(var p=0;p<d;p++)o(h.gracenotes[f],1,20)}h.gracenotes[f].startSlur&&(a=h.gracenotes[f].startSlur,l(h.gracenotes[f],a,20))}if(h.endSlur&&(a=h.endSlur,h.endSlur=[],o(h,a,0)),h.startSlur&&(a=h.startSlur,l(h,a,0)),h.pitches){for(var g=[],m=0;m<h.pitches.length;m++)if(h.pitches[m].endSlur){var y=h.pitches[m].endSlur;h.pitches[m].endSlur=[];for(var b=0;b<y;b++){var T=o(h.pitches[m],1,m+1);g.push(T)}}for(m=0;m<h.pitches.length;m++)h.pitches[m].startSlur&&(a=h.pitches[m].startSlur,l(h.pitches[m],a,m+1,g));h.gracenotes&&h.pitches[0].endSlur&&h.pitches[0].endSlur[0]===100&&h.pitches[0].startSlur&&(h.gracenotes[0].endSlur?h.gracenotes[0].endSlur.push(h.pitches[0].startSlur[0].label):h.gracenotes[0].endSlur=[h.pitches[0].startSlur[0].label],h.pitches[0].endSlur.length===1?delete h.pitches[0].endSlur:h.pitches[0].endSlur[0]===100?h.pitches[0].endSlur.shift():h.pitches[0].endSlur[h.pitches[0].endSlur.length-1]===100&&h.pitches[0].endSlur.pop(),r[t][n][1].length===1?delete r[t][n][1]:r[t][n][1].pop())}}}}function qCe(e,t){for(i=0;i<e.length;i++)if(e[i].staff!==void 0)for(s=0;s<e[i].staff.length;s++){var n=[];for(v=0;v<e[i].staff[s].voices.length;v++)for(var r=e[i].staff[s].voices[v],a=0,o=0;o<r.length;o++)if(r[o].el_type==="bar"){if(a++,a>=t&&o<r.length-1){var l=Aee(e,i);if(!l){var u=JSON.parse(JSON.stringify(e[i]));e.push(Object.assign({},u)),l=e[e.length-1];for(var h=0;h<l.staff.length;h++)for(var f=0;f<l.staff[h].voices.length;f++)l.staff[h].voices[f]=[]}var d=o+1,p=e[i].staff[s].voices[v].slice(d);return e[i].staff[s].voices[v]=e[i].staff[s].voices[v].slice(0,d),l.staff[s].voices[v]=n.concat(p.concat(l.staff[s].voices[v])),!0}}else r[o].duration||n.push(r[o])}return!1}function jCe(e,t){for(;t>=0;){if(e[t].staff)return e[t];t--}return null}function Aee(e,t){for(t++;e.length>t;){if(e[t].staff)return e[t];t++}return null}function XCe(e){if(!e.lines[e.lineNum]||!e.lines[e.lineNum].staff||!e.lines[e.lineNum].staff[e.staffNum])return null;var t=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum];if(!t)return null;for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.el_type==="note")return r}return null}function KCe(e){return e.duration?e.duration:0}function yC(e){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function bC(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"||e[t].el_type==="bar")return!0;return!1}function ZCe(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"&&(e[t].rest===void 0||e[t].chord!==void 0))return!0;return!1}function Ty(e,t){e.vskipPending&&(t.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(t)}function QCe(e,t,n,r,a){var o=t.lines[t.lineNum].staff[t.staffNum];if(n.pitches!==void 0){var l=o.workingClef.verticalPos;n.pitches.forEach(function(h){h.verticalPos=h.pitch-l})}if(n.gracenotes!==void 0){var u=o.workingClef.verticalPos;n.gracenotes.forEach(function(h){h.verticalPos=h.pitch-u})}o.voices.length<=t.voiceNum&&(r[a]||(r[a]={}),b_(e,t,r[a])),o.voices[t.voiceNum].push(n)}function JCe(e,t){t.potentialStartBeam.startBeam=!0,e.endBeam=!0,delete t.potentialStartBeam,delete t.potentialEndBeam}function Cw(e){e.potentialStartBeam!==void 0&&e.potentialEndBeam!==void 0&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function Rw(e,t,n){if(e.runningFonts[t]){for(var r=!1,a=Object.keys(n),o=0;o<a.length;o++)e.runningFonts[t][a[o]]!==n[a[o]]&&(r=!0);r&&(e.lines[e.lineNum].staff[e.staffNum][t]=n)}e.runningFonts[t]=n}function b_(e,t,n){var r=t.lines[t.lineNum].staff[t.staffNum];if(r.voices[t.voiceNum]=[],r.title||(r.title=[]),r.title[t.voiceNum]={name:n.name,subname:n.subname},n.style&&e.appendElement("style",null,null,{head:n.style}),n.stem)e.appendElement("stem",null,null,{direction:n.stem});else if(t.voiceNum>0){if(r.voices[0]!==void 0){for(var a=!1,o=0;o<r.voices[0].length;o++)r.voices[0].el_type==="stem"&&(a=!0);if(!a){var l={el_type:"stem",direction:"up"};r.voices[0].splice(0,0,l)}}e.appendElement("stem",null,null,{direction:"down"})}n.scale&&e.appendElement("scale",null,null,{size:n.scale}),n.color&&e.appendElement("color",null,null,{color:n.color})}function Iee(e,t,n){n.key&&n.key.impliedNaturals&&(n.key.accidentals=n.key.accidentals.concat(n.key.impliedNaturals),delete n.key.impliedNaturals),t.lines[t.lineNum].staff[t.staffNum]={voices:[],clef:n.clef,key:n.key,workingClef:n.clef};var r=t.lines[t.lineNum].staff[t.staffNum];n.stafflines!==void 0&&(r.clef.stafflines=n.stafflines,r.workingClef.stafflines=n.stafflines),n.staffscale&&(r.staffscale=n.staffscale),n.annotationfont&&Rw(t,"annotationfont",n.annotationfont),n.gchordfont&&Rw(t,"gchordfont",n.gchordfont),n.tripletfont&&Rw(t,"tripletfont",n.tripletfont),n.vocalfont&&Rw(t,"vocalfont",n.vocalfont),n.bracket&&(r.bracket=n.bracket),n.brace&&(r.brace=n.brace),n.connectBarLines&&(r.connectBarLines=n.connectBarLines),n.barNumber&&(r.barNumber=n.barNumber),b_(e,t,n),n.part&&e.appendElement("part",n.part.startChar,n.part.endChar,{title:n.part.title}),n.meter!==void 0&&(r.meter=n.meter),t.vskipPending&&(t.lines[t.lineNum].vskip=t.vskipPending,delete t.vskipPending)}function eRe(e,t,n){t.lines[t.lineNum]={staff:[]},Iee(e,t,n)}var tRe=WCe,a0=$h,L$=p_,nRe=JIe,rRe=hCe,iRe=fCe,aRe=bee,sRe=$Ce,oRe=tRe,lRe=function(){var e=new sRe,t=new oRe(e),n,r="",a="";this.getTune=function(){var S={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,metaTextInfo:e.metaTextInfo,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline,findSelectableElement:e.findSelectableElement,getSelectableArray:e.getSelectableArray};return e.lineBreaks&&(S.lineBreaks=e.lineBreaks),e.visualTranspose&&(S.visualTranspose=e.visualTranspose),S};function o(S,A,R){S.positioning||(S.positioning={}),S.positioning[A]=R}function l(S,A,R){S.fonts||(S.fonts={}),S.fonts[A]=R}var u={reset:function(){for(var S in this)this.hasOwnProperty(S)&&typeof this[S]!="function"&&delete this[S];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(S,A){return this[S].decoration!==A[S].decoration||this[S].face!==A[S].face||this[S].size!==A[S].size||this[S].style!==A[S].style||this[S].weight!==A[S].weight},addFormattingOptions:function(S,A,R){R==="note"?(this.vocalPosition!=="auto"&&o(S,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&o(S,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(S,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(S,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(S,"volumePosition",this.volumePosition),this.differentFont("annotationfont",A)&&l(S,"annotationfont",this.annotationfont),this.differentFont("gchordfont",A)&&l(S,"gchordfont",this.gchordfont),this.differentFont("vocalfont",A)&&l(S,"vocalfont",this.vocalfont),this.differentFont("tripletfont",A)&&l(S,"tripletfont",this.tripletfont)):R==="bar"&&(this.dynamicPosition!=="auto"&&o(S,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(S,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(S,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(S,"volumePosition",this.volumePosition),this.differentFont("measurefont",A)&&l(S,"measurefont",this.measurefont),this.differentFont("repeatfont",A)&&l(S,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var S=0;S<this.inTie.length;S++)if(this.endingHoldOver.inTie.push([]),this.inTie[S])for(var A=0;A<this.inTie[S].length;A++)this.endingHoldOver.inTie[S].push(this.inTie[S][A]);for(var R in this.inTieChord)this.inTieChord.hasOwnProperty(R)&&(this.endingHoldOver.inTieChord[R]=this.inTieChord[R])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var S=0;S<this.endingHoldOver.inTie.length;S++){this.inTie.push([]);for(var A=0;A<this.endingHoldOver.inTie[S].length;A++)this.inTie[S].push(this.endingHoldOver.inTie[S][A])}for(var R in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(R)&&(this.inTieChord[R]=this.endingHoldOver.inTieChord[R])}}},h=function(S){u.warnings||(u.warnings=[]),u.warnings.push(S)},f=function(S){u.warningObjects||(u.warningObjects=[]),u.warningObjects.push(S)},d=function(S){var A=S.replace(/\x12/g," ");return A=A.replace(/&/g,"&amp;"),A=A.replace(/</g,"&lt;"),A.replace(/>/g,"&gt;")},p=function(S,A,R){A||(A=" ");var C=A[R];(C===" "||!C)&&(C="SPACE");var N=d(A.substring(R-64,R))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+C+"</span>"+d(A.substring(R+1).substring(0,64));h("Music Line:"+n.lineIndex+":"+(R+1)+": "+S+":  "+N),f({message:S,line:A,startChar:u.iChar+R,column:R})},g,m;this.getWarnings=function(){return u.warnings},this.getWarningObjects=function(){return u.warningObjects};var y=function(S,A){if(A.indexOf("")>=0){r+=A;return}if(A=r+A,r="",!S){p("Can't add words before the first line of music",S,0);return}A=a0.strip(A),A[A.length-1]!=="-"&&(A=A+" ");for(var R=[],C=0,N=!1,O=function(M){var $=a0.strip(A.substring(C,M));if($=$.replace(/\\([-_*|~])/g,"$1"),C=M+1,$.length>0){N&&($=$.replace(/~/g," "));var _=A[M];return _!=="_"&&_!=="-"&&(_=" "),R.push({syllable:n.translateString($),divider:_}),N=!1,!0}return!1},L=!1,k=0;k<A.length;k++){switch(A[k]){case" ":case"":O(k);break;case"-":!L&&!O(k)&&R.length>0&&(a0.last(R).divider="-",R.push({skip:!0,to:"next"}));break;case"_":L||(O(k),R.push({skip:!0,to:"slur"}));break;case"*":L||(O(k),R.push({skip:!0,to:"next"}));break;case"|":L||(O(k),R.push({skip:!0,to:"bar"}));break;case"~":L||(N=!0);break}L=A[k]==="\\"}S.forEach(function(M){if(R.length!==0){if(R[0].skip){switch(R[0].to){case"next":M.el_type==="note"&&M.pitches!==null&&R.shift();break;case"slur":M.el_type==="note"&&M.pitches!==null&&R.shift();break;case"bar":M.el_type==="bar"&&R.shift();break}M.el_type!=="bar"&&(M.lyric===void 0?M.lyric=[{syllable:"",divider:" "}]:M.lyric.push({syllable:"",divider:" "}))}else if(M.el_type==="note"&&M.rest===void 0){var $=R.shift();$.syllable&&($.syllable=$.syllable.replace(/ +/g," ")),M.lyric===void 0?M.lyric=[$]:M.lyric.push($)}}})},b=function(S,A){if(A.indexOf("")>=0){a+=A;return}if(A=a+A,a="",!S){p("Can't add symbols before the first line of music",S,0);return}A=a0.strip(A),A[A.length-1]!=="-"&&(A=A+" ");for(var R=[],C=0,N=!1,O=function(k){var M=a0.strip(A.substring(C,k));if(C=k+1,M.length>0){N&&(M=M.replace(/~/g," "));var $=A[k];return $!=="_"&&$!=="-"&&($=" "),R.push({syllable:n.translateString(M),divider:$}),N=!1,!0}return!1},L=0;L<A.length;L++)switch(A[L]){case" ":case"":O(L);break;case"-":!O(L)&&R.length>0&&(a0.last(R).divider="-",R.push({skip:!0,to:"next"}));break;case"_":O(L),R.push({skip:!0,to:"slur"});break;case"*":O(L),R.push({skip:!0,to:"next"});break;case"|":O(L),R.push({skip:!0,to:"bar"});break;case"~":N=!0;break}S.forEach(function(k){if(R.length!==0){if(R[0].skip)switch(R[0].to){case"next":k.el_type==="note"&&k.pitches!==null&&R.shift();break;case"slur":k.el_type==="note"&&k.pitches!==null&&R.shift();break;case"bar":k.el_type==="bar"&&R.shift();break}else if(k.el_type==="note"&&k.rest===void 0){var M=R.shift();k.lyric===void 0?k.lyric=[M]:k.lyric.push(M)}}})},T=function(S){if(a0.startsWith(S,"%%")){var A=L$.addDirective(S.substring(2));A&&p(A,S,2);return}var R=S.indexOf("%");if(R>=0&&(S=S.substring(0,R)),S=S.replace(/\s+$/,""),S.length!==0){if(r){y(t.getCurrentVoice(),S.substring(2));return}if(a){b(t.getCurrentVoice(),S.substring(2));return}if(S.length<2||S[1]!==":"||m.lineContinuation){m.parseMusic(S);return}var C=g.parseHeader(S);C.regular&&m.parseMusic(S),C.newline&&m.startNewLine(),C.words&&y(t.getCurrentVoice(),S.substring(2)),C.symbols&&b(t.getCurrentVoice(),S.substring(2))}};function E(S,A){S.push({el_type:"hint"});for(var R=0;R<A.length;R++){var C=A[R],N=Object.assign({},C);if(S.push(N),C.el_type==="bar")return}}function w(S,A){for(var R=0;R<S.length;R++){var C=S[R],N=A[R];if(N)for(var O=0;O<N.voices.length;O++){var L=N.voices[O],k=C.voices[O];k&&E(k,L)}}}function x(){for(var S=0;S<e.lines.length;S++){var A=e.lines[S].staff;if(A){for(var R=S+1;R<e.lines.length&&e.lines[R].staff===void 0;)R++;if(R<e.lines.length){var C=e.lines[R].staff;w(A,C)}}}}this.parse=function(S,A,R){A||(A={}),R||(R=0),e.reset(),S=S.replace(/\r\n?/g,`
`)+`
`;var C=S.split(`
\\`);if(C.length>1){for(var N=1;N<C.length;N++)for(;C[N].length>0&&C[N][0]!==`
`;)C[N]=C[N].substr(1),C[N-1]+=" ";S=C.join("  ")}S=S.replace(/\\([ \t]*)(%.*)*\n/g,function(F,B,D){var P=D?Array(D.length+1).join(" "):"";return B+""+P+`
`});var O=S.split(`
`);a0.last(O).length===0&&O.pop(),n=new iRe(O,u),g=new nRe(n,p,u,e,t),m=new rRe(n,p,u,e,t,g),A.print&&(e.media="print"),u.reset(),u.iChar=R,A.visualTranspose?(u.globalTranspose=parseInt(A.visualTranspose),u.globalTranspose===0?u.globalTranspose=void 0:t.setVisualTranspose(A.visualTranspose)):u.globalTranspose=void 0,A.lineBreaks&&(u.lineBreaks=A.lineBreaks),g.reset(n,p,u,e);try{A.format&&L$.globalFormatting(A.format);for(var L=n.nextLine();L;){if(A.header_only&&u.is_in_header===!1||A.stop_on_warning&&u.warnings)throw"normal_abort";var k=u.is_in_header;T(L),k&&!u.is_in_header&&(t.setRunningFont("annotationfont",u.annotationfont),t.setRunningFont("gchordfont",u.gchordfont),t.setRunningFont("tripletfont",u.tripletfont),t.setRunningFont("vocalfont",u.vocalfont)),L=n.nextLine()}r&&y(t.getCurrentVoice(),""),a&&b(t.getCurrentVoice(),""),u.openSlurs=t.cleanUp(u.barsperstaff,u.staffnonote,u.openSlurs)}catch(F){if(F!=="normal_abort")throw F}var M=11*72,$=8.5*72;switch(u.papersize){case"legal":M=14*72,$=8.5*72;break;case"A4":M=11.7*72,$=8.3*72;break}if(u.landscape){var _=M;M=$,$=_}e.formatting.pagewidth||(e.formatting.pagewidth=$),e.formatting.pageheight||(e.formatting.pageheight=M),A.hint_measures&&x(),aRe.wrapLines(e,u.lineBreaks,u.barNumbers)}},Cee=lRe,Ey=$h,cRe=function(e){var t="",n=e.match(/(\s*)/);e=Ey.strip(e);for(var r=e.split(`
X:`),a=1;a<r.length;a++)r[a]="X:"+r[a];var o=n?n[0].length:0,l=[];if(r.forEach(function(d){l.push({abc:d,startPos:o}),o+=d.length+1}),l.length>1&&!Ey.startsWith(l[0].abc,"X:")){var u=l.shift(),h=u.abc.split(`
`);h.forEach(function(d){Ey.startsWith(d,"%%")&&(t+=d+`
`)})}var f=t;return l.forEach(function(d){var p=d.abc.indexOf(`

`);p>0&&(d.abc=d.abc.substring(0,p)),d.pure=d.abc,d.abc=t+d.abc,d.title="";var g=d.pure.split("T:");g.length>1&&(g=g[1].split(`
`),d.title=Ey.strip(g[0]));var m=d.pure.substring(2,d.pure.indexOf(`
`));d.id=Ey.strip(m)}),{header:f,tunes:l}},uRe=cRe;function T_(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var n=3;this.bar={pitch:n,pitch2:t*e,height:5}}T_.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)};T_.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var r=this.bar.pitch2/2;if(e.name=="dots.dot")return n?(t.pitch=r,!1):(t.pitch=r+this.lineSpace,!0);break}return n};var hRe=T_,Tf=function(t,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Tf.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&this.children[n].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)};Tf.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])};Tf.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))};Tf.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};Tf.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)};Tf.prototype.addBeam=function(e){this.beams.push(e)};Tf.prototype.setWidth=function(e){this.w=e};var Ree=Tf,fRe=function(e,t,n,r){if(e)for(var a=0;a<e.length;a++){var o=e[a],l=o.getAttribute("highlight");l||(l="fill"),o.setAttribute(l,r);var u=o.getAttribute("class");u||(u=""),u=u.replace(n,""),u=u.replace(t,""),t.length>0&&(u.length>0&&u[u.length-1]!==" "&&(u+=" "),u+=t),o.setAttribute("class",u)}},E_=fRe,dRe=E_,pRe=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#ff0000"),dRe(this.elemset,e,"",t)},kee=pRe,gRe=E_,mRe=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#000000"),gRe(this.elemset,"",e,t)},Oee=mRe,vRe=kee,yRe=Oee,Na=function(t,n,r,a,o,l){l||(l={}),this.tuneNumber=o,this.abcelem=t,this.duration=n,this.durationClass=l.durationClassOveride?l.durationClassOveride:this.duration,this.minspacing=r||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=a,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Na.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};Na.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)};Na.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)};Na.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)};Na.prototype.addFixed=function(e){this._addChild(e)};Na.prototype.addFixedX=function(e){this._addChild(e)};Na.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)};Na.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])};Na.prototype._addChild=function(e){var t=!0;this.abcelem.el_type=="clef"&&e.type=="barNumber"&&(t=!1),e.parent=this,this.children[this.children.length]=e,t&&this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};Na.prototype.pushTop=function(e){e!==void 0&&(this.top===void 0?this.top=e:this.top=Math.max(e,this.top))};Na.prototype.pushBottom=function(e){e!==void 0&&(this.bottom===void 0?this.bottom=e:this.bottom=Math.min(e,this.bottom))};Na.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)};Na.prototype.center=function(e,t){var n=(t.x-e.x)/2+e.x;this.x=n-this.w/2;for(var r=0;r<this.children.length;r++)this.children[r].setX(this.x)};Na.prototype.setHint=function(){this.hint=!0};Na.prototype.highlight=function(e,t){vRe.bind(this)(e,t)};Na.prototype.unhighlight=function(e,t){yRe.bind(this)(e,t)};var gv=Na,mv=function(t,n,r,a,o){switch(o=o||{},this.x=0,this.c=t,this.dx=n,this.w=r,this.pitch=a,this.scalex=o.scalex||1,this.scaley=o.scaley||1,this.type=o.type||"symbol",this.pitch2=o.pitch2,this.linewidth=o.linewidth,this.klass=o.klass,this.anchor=o.anchor?o.anchor:"middle",this.top=a,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=a,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),o.thickness&&(this.top+=o.thickness/2,this.bottom-=o.thickness/2),o.stemHeight&&(o.stemHeight>0?this.top+=o.stemHeight:this.bottom+=o.stemHeight),o.dim&&(this.dim=o.dim),o.position&&(this.position=o.position),this.height=o.height?o.height:4,o.top&&(this.top=o.top),o.bottom&&(this.bottom=o.bottom),o.name?this.name=o.name:this.c?this.name=this.c:this.name=this.type,o.realWidth?this.realWidth=o.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":o.position&&o.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};mv.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,n=this.x-t-e,r=n+this.realWidth+e;return{left:n,right:r}};mv.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1};mv.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};mv.prototype.getLane=function(){return this.lane===void 0?0:this.lane};mv.prototype.setX=function(e){this.x=e+this.dx};var Eu=mv,Nee=gv,w_=Eu;function bRe(e){return e!=null&&e.constructor===Object}function WO(e,t){for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||bRe(t[n])||(e[n]=t[n]))}function Lee(e){var t=new Nee("",0,0,"",0);return WO(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},WO(t.abcelem,e.abcelem),t.abcelem.el_type==="note"&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function TRe(e,t){var n=Lee(e);if(t)for(var r=e.children,a=!0,o=0;o<r.length;o++){var l=r[o],u=new w_("",0,0,0,"");WO(u,l),a=t.tablature.setRelative(l,u,a),n.children.push(u)}return n}function ERe(e,t,n){var r="tab.tiny",a=7.5;e.isTabBig&&(r="tab.big",a=10);var o={el_type:"tab",icon:r,Ypos:a};if(a+=e.tabSymbolOffset,!e.hideTabSymbol){var l=new Nee(o,0,0,"symbol",0);l.x=t;var u=new w_(r,0,0,7.5,"tab");u.x=n,l.children.push(u),l.abcelem.el_type=="tab"&&(u.pitch=a)}return l}function wRe(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var n=e.extra[t];if(n.type=="lyric")return{bottom:n.bottom,height:n.height}}return null}function _ee(){this.accidentals=null}function xRe(e){for(var t=0,n=0;n<e.length;n++)e[n].tabNameInfos||t++;return t}function UO(e,t,n,r,a){var o=r.num;r.note.quarter!=null&&(o=o.toString(),o+=r.note.quarter);var l=e.semantics.stringToPitch(r.str);n.notes.push({num:o,str:r.str,pitch:r.note.emit()});var u={type:"tabNumber"},h=new w_(o,0,0,l+.3,u);return h.x=t,h.isGrace=a,h.isAltered=r.note.isAltered,h}function Dee(e,t){var n=0;if(e.extra){for(var r=0;r<e.extra.length;r++)if(e.extra[r].c.indexOf("noteheads")>=0){if(n===t)return e.extra[r].x+e.extra[r].w/2;n++}}return-1}function SRe(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function _$(e,t,n){var r=e.semantics.notesToNumber(t,n);if(r.error)return e.setError(r.error),r;if(r.graces&&r.notes){var a=r.notes.length-1;r.notes[a].graces=r.graces}return r}function ARe(e,t,n,r,a){for(var o=0;o<r.length;o++){var l={el_type:"note",startChar:n.abcelem.startChar,endChar:n.abcelem.endChar,notes:[],grace:!0},u=Dee(n,o),h=r[o],f=UO(e,u,l,h,!0);t.children.push(f),a.push(l)}}_ee.prototype.build=function(e,t,n,r,a,o,l){xRe(t);var u=t[a+r],h=t[l],f=null,d=null;u.children[0].abcelem.el_type!="clef"&&o!="none"&&u.children.splice(0,0,o);for(var p=0;p<u.children.length;p++){var g=u.children[p],m=g.x,y=m;switch(g.isClef&&(h.children.push(ERe(e,m,y)),g.abcelem.type.indexOf("-8")>=0&&(e.semantics.clefTranspose=-12),g.abcelem.type.indexOf("+8")>=0&&(e.semantics.clefTranspose=12)),g.type){case"staff-extra key-signature":this.accidentals=g.abcelem.accidentals,e.semantics.accidentals=this.accidentals;break;case"bar":e.semantics.measureAccidentals={};var b=!1;p===u.children.length-1&&(b=!0);var T=TRe(g,e);if(T.abcelem.barNumber){delete T.abcelem.barNumber;for(var E=0;E<T.children.length;E++)if(T.children[E].type==="barNumber"){T.children.splice(E,1);break}}T.abcelem.lastBar=b,h.children.push(T),n.push({el_type:g.abcelem.el_type,type:g.abcelem.type,endChar:g.abcelem.endChar,startChar:g.abcelem.startChar,abselem:T});break;case"rest":var w=SRe(g);if(w){if(f=_$(e,null,w),f.error)return;L={el_type:"note",startChar:g.abcelem.startChar,endChar:g.abcelem.endChar,notes:[],grace:!0},ARe(e,x,g,f.graces,n)}break;case"note":var x=Lee(g);x.x=g.heads[0].x+g.heads[0].w/2,x.lyricDim=wRe(g);var S=g.abcelem.pitches,A=g.abcelem.gracenotes;if(x.type="tabNumber",f=_$(e,S,A),f.error)return;if(f.graces){var R=f.notes.length-1;f.notes[R].graces=f.graces}d={el_type:"note",startChar:g.abcelem.startChar,endChar:g.abcelem.endChar,notes:[]};for(var C=0;C<f.notes.length;C++){var N=f.notes[C];if(N.graces)for(var O=0;O<N.graces.length;O++){var L={el_type:"note",startChar:g.abcelem.startChar,endChar:g.abcelem.endChar,notes:[],grace:!0},k=Dee(g,O),M=N.graces[O],$=UO(e,k,L,M,!0);x.children.push($),n.push(L)}var _=UO(e,x.x+g.heads[C].dx,d,N,!1);x.children.push(_)}d.notes.length>0&&(d.abselem=x,n.push(d),h.children.push(x));break}}};var IRe=_ee,CRe=Ree,RRe=IRe,kRe=fo;function ORe(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function NRe(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.specialY&&r.specialY.lyricHeightBelow>t&&(t=r.specialY.lyricHeightBelow)}return t}function LRe(e,t,n){var r=e.semantics,a=t.controller.getTextSize,o=r.tabInfos(e),l=r.suppress(e),u=!0;if(l&&(u=!1),u){var h=a.calc(o,"tablabelfont","text instrumentname");return n.tabNameInfos={textSize:{height:h.height,width:h.width},name:o},h.height}return 0}function _Re(e,t){return t[e].isTabStaff?e===t.length-1?!0:!t[e+1].isTabStaff:!1}function DRe(e){for(var t=0,n=0;n<e.length;n++)e[n].isTabStaff||t++;return t}function MRe(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return n;return-1}function PRe(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var n=MRe(e,t);e[t].hasStaff=e[n],e[n].hasTab||(e[n].hasTab=[]),e[n].hasTab.push(e[t])}}function FRe(e,t){return DRe(e)===1&&t.voices.length>1}function BRe(e,t){for(var n=0,r=0,a=!0,o=0;a;){if(!t[n])return-1;if(t[n].isTabStaff||(o=t[n].voices.length),t[n].isTabStaff){if(r++,_Re(n,t)&&r<o)return n+1}else if(r=0,n>=e&&(n+1==t.length||!t[n+1].isTabStaff))return n+1;if(n++,n>t.length)return-1}}function HRe(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return e[n];return null}function $Re(e,t){var n=e[t],r=n.children[0].abcelem;return r.el_type==="clef"?null:t==0?"none":e[t-1].children[0]}function WRe(e,t,n,r){var a=new RRe,o={clef:{type:"TAB"}},l=e.linePitch*e.nbLines,u=n.staff;if(u){var h=u[0];if(h&&h.clef&&h.clef.stafflines==0){e.setError("No tablatures when stafflines=0");return}u.splice(u.length,0,o)}var f=n.staffGroup,d=f.voices,p=d[0],g=NRe(p),m=3,y=r,b=f.staffs[y],T=l+m-b.bottom-g;b.isTabStaff&&(T=b.top);var E={bottom:-1,isTabStaff:!0,specialY:ORe(),lines:e.nbLines,linePitch:e.linePitch,dy:.15,top:T},w=BRe(r,f.staffs);if(w!==-1){E.parentIndex=w-1,f.staffs.splice(w,0,E),f.height+=l+m;var x=HRe(f.staffs,w),S=1;FRe(f.staffs,x)&&(S=x.voices.length),o.voices=[];for(var A=0;A<S;A++){var R=new CRe(0,0);A>0&&(R.duplicate=!0);var C=LRe(e,t,R)/kRe.STEP;C=Math.max(C,1),f.staffs[r].top+=1,f.height+=C,R.staff=E;var N=d.length;d.splice(d.length,0,R);var O=$Re(d,A+r);o.voices[A]=[],a.build(e,d,o.voices[A],A,r,O,N)}PRe(f.staffs)}}var URe=WRe,GRe={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},GO=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function zRe(e){var t=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(t&&t.length===5){var n=GRe[t[1]],r=GO.indexOf(t[2]),a=t[4].length-t[3].length;return 48+r+n+a*12}return 0}function YRe(e){e=parseInt(e,10);var t=Math.floor(e/12),n=e%12,r=GO[n];if(r==="-"&&(r="^"+GO[n-1]),t>4)for(r=r.toLowerCase(),t-=5;t>0;)r+="'",t--;else for(;t<4;)r+=",",t++;return r}var Mee={noteToMidi:zRe,midiToNote:YRe},{noteToMidi:VRe,midiToNote:x_}=Mee;function Tl(e,t){var n=VRe(e);t&&(n+=t);var r=x_(n),a=!1,o=!1,l=!1,u=null,h=null,f=!1,d=0;e.startsWith("_")?(a=!0,d=-1,e[1]=="/"?(a=!1,h="v",d=0):e[1]=="_"&&(f=!0,d-=1)):e.startsWith("^")?(o=!0,d=1,e[1]=="/"?(o=!1,h="^",d=0):e[1]=="^"&&(f=!0,d+=1)):e.startsWith("=")&&(u=!0,d=0),l=a||o||h!=null,(l||u)&&(h!=null||f?r=e.slice(2):r=e.slice(1));var p=(r.match(/,/g)||[]).length,g=(r.match(/'/g)||[]).length;this.pitch=n,this.pitchAltered=0,this.name=r,this.acc=d,this.isSharp=o,this.isKeySharp=!1,this.isDouble=f,this.isAltered=l,this.isFlat=a,this.isKeyFlat=!1,this.natural=u,this.quarter=h,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=p,this.isQuoted=g}function qRe(e){var t=e.name,n=new Tl(t);return n.pitch=e.pitch,n.hasComma=e.hasComma,n.isLower=e.isLower,n.isQuoted=e.isQuoted,n.isSharp=e.isSharp,n.isKeySharp=e.isKeySharp,n.isFlat=e.isFlat,n.isKeyFlat=e.isKeyFlat,n}Tl.prototype.sameNoteAs=function(e){return e.pitch===this.pitch};Tl.prototype.isLowerThan=function(e){return e.pitch>this.pitch};Tl.prototype.checkKeyAccidentals=function(e,t){if(!(this.isAltered||this.natural)){if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(e)for(var n=this.name,r=0;r<e.length;r++){var a=e[r];n==a.note.toUpperCase()&&(a.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),a.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};Tl.prototype.getAccidentalEquiv=function(){var e=qRe(this);return e.isSharp||e.isKeySharp?(e=e.nextNote(),e.isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&(e=e.prevNote(),e.isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e};Tl.prototype.nextNote=function(){var e=x_(this.pitch+1+this.pitchAltered);return new Tl(e)};Tl.prototype.prevNote=function(){var e=x_(this.pitch-1+this.pitchAltered);return new Tl(e)};Tl.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var n=0;n<this.hasComma;n++)e+=",";return e};Tl.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(this.quarter=="^"?e="^/"+e:e="_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var n=1;n<=this.isQuoted;n++)e+="'"}return e};var Pee=Tl,D$=Pee,M$=["A","B","C","D","E","F","G"];function jRe(e,t){var n=new D$(e),r=new D$(t);if(r.isLowerThan(n)){var a=n.emit(),o=r.emit();return{error:"Invalid string Instrument tuning : "+o+" string lower than "+a+" string"}}var l=[],u=M$.indexOf(n.name),h=M$.indexOf(r.name);if(u==-1||h==-1)return l;for(var f=!1;!f;)l.push(n.emit()),n=n.nextNote(),n.sameNoteAs(r)&&(f=!0);return l}var XRe=jRe;const{noteToMidi:KRe}=Mee;var y4=Pee,ZRe=XRe;function QRe(e){var t=null,n=e.tuning;if(e.capo>0){t=[];for(var r=0;r<n.length;r++){for(var a=new y4(n[r]),o=0;o<e.capo;o++)a=a.nextNote();t[r]=a.emit()}}return t}function JRe(e){var t=[],n=e.tuning;e.capo>0&&(n=e.capoTuning);for(var r=n.length-1,a=0;a<n.length;a++){var o=e.highestNote;a!=n.length-1&&(o=n[a+1]);var l=ZRe(n[a],o);if(l.error)return l;t[r--]=l}return t}function eke(e){var t=[];t[0]=[];for(var n=e.strings,r=1;r<n.length;r++)t[r]=n[r-1];return t}function tke(e,t){for(var n=0;n<t.length-1;n++){var r=t[n],a=t[n+1];if(r.str==a.str){if(r.str==e.strings.length-1){r.num="?",a.num="?";return}a.num<r.num?(a.str++,a=P$(e,a.note,a.str,e.secondPos,e.strings[a.str].length)):(r.str++,r=P$(e,r.note,r.str,e.secondPos,e.strings[r.str].length)),t[n]=r,t[n+1]=a}}return null}function nke(e,t){for(var n=[],r=0;r<t.length;r++)if(!t[r].endTie){var a=new y4(t[r].name,e.clefTranspose);a.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var o=zO(e,a);n.push(o)}return tke(e,n),n}function P$(e,t,n,r,a){var o=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),r&&(o=r);var l=t.emitNoAccidentals(),u=o[n].indexOf(l),h=t.acc;if(u!=-1){if(r&&(u+=a),(t.isFlat||t.acc==-1)&&u==0){var f=t.getAccidentalEquiv();n++,u=o[n].indexOf(f.emit()),h=0}return{num:u+h,str:n,note:t}}return null}function zO(e,t){if(t.isAltered||t.natural){var n;t.isFlat?t.isDouble?n="__":n="_":t.isSharp?t.isDouble?n="^^":n="^":t.natural&&(n="="),e.measureAccidentals[t.name.toUpperCase()]=n}for(var r=e.stringPitches.length-1;r>=0;r--)if(t.pitch+t.pitchAltered>=e.stringPitches[r]){var a=t.pitch+t.pitchAltered-e.stringPitches[r];return t.quarter==="^"?a-=.5:t.quarter==="v"&&(a+=.5),{num:Math.round(a),str:e.stringPitches.length-1-r,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}vv.prototype.stringToPitch=function(e){var t=5.3,n=this.strings.length-1;return t+(n-e)*this.linePitch};function F$(e,t){var n={num:"?",str:0,note:t};e.push(n),e.error=t.emit()+": unexpected note for instrument"}vv.prototype.notesToNumber=function(e,t){var n,r,a=null,o=null;if(e&&(o=[],e.length>1?(o=nke(this,e),o.error&&(a=o.error)):e[0].endTie||(n=new y4(e[0].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),r=zO(this,n),r?o.push(r):(F$(o,n),a=o.error))),a)return o;var l=null;if(t){l=[];for(var u=0;u<t.length;u++)n=new y4(t[u].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),r=zO(this,n),r?l.push(r):(F$(l,n),a=o.error)}return{notes:o,graces:l,error:a}};vv.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();n[0]==="_"?n=n[1]+"b ":n[0]==="^"&&(n=n[1]+"# "),e.push(n)}return e.join("")};vv.prototype.tabInfos=function(e){var t=e.params.label;if(t){var n=t.indexOf("%T"),r="";return n!=-1&&(r=this.toString(),e.capo>0&&(r+=" capo:"+e.capo),t=t.replace("%T",r)),t}return""};vv.prototype.suppress=function(e){var t=e.params.suppress;return!!t};function vv(e){var t=e.tuning,n=e.capo,r=e.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",r&&(this.highestNote=r),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var a=0;a<this.tuning.length;a++){var o=KRe(this.tuning[a])+this.capo;this.stringPitches.push(o)}if(this.capo>0&&(this.capoTuning=QRe(this)),this.strings=JRe(this),this.strings.error){e.setError(this.strings.error),e.inError=!0;return}this.secondPos=eke(this)}var rke=vv,ike=hRe,ake=URe,ske=rke;cA.prototype.init=function(e,t,n,r){this.tune=e,this.params=n,this.tuneNumber=t,this.inError=!1,this.abcTune=e,this.linePitch=3,this.nbLines=r.defaultTuning.length,this.isTabBig=r.isTabBig,this.tabSymbolOffset=r.tabSymbolOffset,this.capo=n.capo,this.transpose=n.visualTranspose,this.hideTabSymbol=n.hideTabSymbol,this.tablature=new ike(this.nbLines,this.linePitch);var a=n.tuning;a||(a=r.defaultTuning),this.tuning=a,this.semantics=new ske(this)};cA.prototype.setError=function(e){e&&(this.error=e,this.inError=!0,this.tune.warnings?this.tune.warnings.push(e):this.tune.warnings=[e])};cA.prototype.render=function(e,t,n){this.inError||this.tablature.bypass(t)||ake(this,e,t,n)};function cA(){}var oke=function(){return{name:"StringTab",tablature:cA}},lke=oke,cke=lke,uke={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},hke={inited:!1,plugins:{},register:function(e){var t=e.name,n=e.tablature;this.plugins[t]=n},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,n){this.inited||(this.register(new cke),this.inited=!0);var r=null;if(n.tablature){var a=n.tablature;r=[];for(var o=0;o<a.length;o++){var l=a[o],u=l.instrument;if(u==null)return this.setError(e,"tablature 'instrument' is missing"),r;var h=uke[u],f=null;if(h&&(f=this.plugins[h.name]),f){n.visualTranspose!=0&&(l.visualTranspose=n.visualTranspose),l.abcSrc=n.tablature.abcSrc;var d={classz:f,tuneNumber:t,params:l,instance:null,tabType:h};r.push(d)}else if(u==="")r.push(null);else return this.setError(e,"Undefined tablature plugin: "+u),r}}return r},layoutTablatures:function(t,n){var r=n.tablatures,a=0;if(r&&r.length>0)for(var o=r.length,l=0;l<o;++l)r[l]&&r[l].params.firstStaffOnly&&(r[l].params.suppress=!1);for(var u=0;u<n.lines.length;u++){var h=n.lines[u];if(h.staff&&a++,a>1&&r&&r.length>0)for(var o=r.length,l=0;l<o;++l)r[l].params.firstStaffOnly&&(r[l].params.suppress=!0);var f=h.staff;if(f){for(var d=f.length,p=0;p<f.length;p++)if(r[p]&&p<d){var g=r[p];g.instance==null&&(g.instance=new g.classz,g.instance.init(n,g.tuneNumber,g.params,g.tabType)),g.instance.render(t,h,p)}}}}},Fee=hke,fke=Cee,dke=uRe,pke=Fee,zu={};(function(){zu.numberOfTunes=function(t){var n=t.split(`
X:`),r=n.length;return r===0&&(r=1),r};var e=zu.TuneBook=function(t){var n=dke(t);this.header=n.header,this.tunes=n.tunes};e.prototype.getTuneById=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].id===""+t)return this.tunes[n];return null},e.prototype.getTuneByTitle=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].title===t)return this.tunes[n];return null},zu.parseOnly=function(t,n){for(var r=zu.numberOfTunes(t),a=[],o=0;o<r;o++)a.push(1);function l(){}return zu.renderEngine(l,a,t,n)},zu.renderEngine=function(t,n,r,a){var o=[],l=function(b){return b&&!b.propertyIsEnumerable("length")&&typeof b=="object"&&typeof b.length=="number"};if(!(n===void 0||r===void 0)){l(n)||(n=[n]),a===void 0&&(a={});for(var u=a.startingTune?parseInt(a.startingTune,10):0,h=new e(r),f=new fke,d=0;d<n.length;d++){var p=n[d];if(p==="*"||typeof p=="string"&&(p=document.getElementById(p)),p)if(u>=0&&u<h.tunes.length){f.parse(h.tunes[u].abc,a,h.tunes[u].startPos-h.header.length);var g=f.getTune();a.tablature&&(g.tablatures=pke.preparePlugins(g,u,a));var m=f.getWarnings();m&&(g.warnings=m);var y=t(p,g,d,h.tunes[u].abc);o.push(y||g)}else p.innerHTML&&(p.innerHTML="");u++}return o}},zu.extractMeasures=function(t){for(var n=[],r=new e(t),a=0;a<r.tunes.length;a++){for(var o=r.tunes[a],l=o.abc.split("K:"),u=l[1].split(`
`),h=l[0]+"K:"+u[0]+`
`,f=null,d=null,p=null,g=[],m=!1,y=zu.parseOnly(o.abc)[0],b=y.getPickupLength()>0,T=0;T<y.lines.length;T++){var E=y.lines[T];if(E.staff)for(var w=0;w<1;w++)for(var x=E.staff[w],S=0;S<1;S++)for(var A=x.voices[S],R=0;R<A.length;R++){var C=A[R];if(p===null&&C.startChar>=0&&(p=C.startChar,C.chord===void 0?d=f:d=null),C.chord&&(f=C),C.el_type==="bar"){if(m){var N=o.abc.substring(p,C.endChar),O={abc:N};f=d&&d.chord&&d.chord.length>0?d.chord[0].name:null,f&&(O.lastChord=f),C.startEnding&&(O.startEnding=C.startEnding),C.endEnding&&(O.endEnding=C.endEnding),g.push(O),p=null,m=!1}}else C.el_type==="note"&&(m=!0)}}n.push({header:h,measures:g,hasPickup:b})}return n}})();var uA=zu,B$=gee,{relativeMajor:H$,transposeKey:TC,relativeMode:$$}=pee,W$=dee,Bee;(function(){Bee=function(x,S,A){if(S==="TEST")return{keyAccidentals:B$,relativeMajor:H$,transposeKey:TC,relativeMode:$$,transposeChordName:W$};A=parseInt(A,10);var R=[],C;for(C=0;C<S.length;C++)R=R.concat(e(x,S[C],A));R=R.sort(function(L,k){return k.start-L.start});var N=x.split("");for(C=0;C<R.length;C++){var O=R[C];N.splice(O.start,O.end-O.start,O.note)}return N.join("")};function e(x,S,A){var R=[],C=S.getKeySignature();if(C.root==="Hp"||C.root==="HP")return R;R=R.concat(t(x,A));for(var N=0;N<S.lines.length;N++){var O=S.lines[N].staff;if(O)for(var L=0;L<O.length;L++){var k=O[L];k.clef.type!=="perc"&&(R=R.concat(n(x,k.voices,k.key,A)))}}return R}function t(x,S){for(var A=[],R=x.split("K:"),C=R[0].length,N=1;N<R.length;N++){var O=R[N],L=O.match(/^( *)([A-G])([#b]?)(\w*)/);if(L){var k=C+2+L[1].length,M=L[2]+L[3]+L[4],$=h({root:L[2],acc:L[3],mode:L[4]},S),_=$.root+$.acc+$.mode;A.push({start:k,end:k+M.length,note:_})}C+=O.length+2}return A}function n(x,S,A,R){for(var C=[],N=h(A,R),O=0;O<S.length;O++)C=C.concat(o(x,S[O],A.root,r(A),N,R));return C}function r(x){for(var S={},A=0;A<x.accidentals.length;A++){var R=x.accidentals[A];R.acc==="flat"?S[R.note.toUpperCase()]="_":R.acc==="sharp"&&(S[R.note.toUpperCase()]="^")}return S}function a(x,S,A){var R=l.indexOf(x.root)-l.indexOf(S);return S==="none"&&(R=l.indexOf(x.root)),R===0?A>2?R+=7:A===-12&&(R-=7):A>0&&R<0?R+=7:A<0&&R>0&&(R-=7),A>12?R+=7:A<-12&&(R-=7),R}function o(x,S,A,R,C,N){for(var O=[],L=a(C,A,N),k={},M={},$=0;$<S.length;$++){var _=S[$];if(_.chord)for(var F=0;F<_.chord.length;F++){var B=_.chord[F];if(B.position==="default"){var D=C.accidentals.length&&C.accidentals[0].acc==="flat",P=W$(B.name,N,D,!0);P=P.replace(/♭/g,"b").replace(/♯/g,"#"),P!==B.name&&O.push(E(x,_.startChar,_.endChar,P))}}if(_.el_type==="note"&&_.pitches){for(var H=0;H<_.pitches.length;H++){var W=y(_.pitches[H].name,A,R,k);W.acc&&(k[W.name.toUpperCase()]=W.acc);var U=f(W,C,L,M);U.acc&&(M[U.upper]=U.acc),O.push(b(x,_.startChar,_.endChar,U.acc+U.name,H))}if(_.gracenotes)for(var V=0;V<_.gracenotes.length;V++){var G=y(_.gracenotes[V].name,A,R,k);G.acc&&(k[G.name.toUpperCase()]=G.acc);var ee=f(G,C,L,k);ee.acc&&(M[ee.upper]=ee.acc),O.push(T(x,_.startChar,_.endChar,ee.acc+ee.name,V))}}else _.el_type==="bar"?(k={},M={}):_.el_type==="keySignature"&&(A=_.root,R=r(_),C=h(_,N),L=a(C,A,N))}return O}var l="CDEFGAB",u=[",,,,",",,,",",,",",","","'","''","'''","''''"];function h(x,S){if(x.root==="none")return{root:TC("C",S),mode:"",acc:"",accidentals:[]};var A=H$(x.root+x.acc+x.mode),R=TC(A,S),C=$$(R,x.mode),N=B$(R);return{root:C[0],mode:x.mode,acc:C.length>1?C[1]:"",accidentals:N}}function f(x,S,A,R){for(var C=x.pitch,N=l.indexOf(x.name),O=l.indexOf(S.root),L=(O+C)%7,k=N+A,M=x.oct;k>6;)M++,k-=7;for(;k<0;)M--,k+=7;for(var $=l[L],_="",F=x.adj,B="=",D=0;D<S.accidentals.length;D++)if(S.accidentals[D].note.toLowerCase()===$.toLowerCase()){F=F+(S.accidentals[D].acc==="flat"?-1:1),B=S.accidentals[D].acc==="flat"?"_":"^";break}switch(F){case-2:_="__";break;case-1:_="_";break;case 0:_="=";break;case 1:_="^";break;case 2:_="^^";break;case-3:var P={};return P.pitch=x.pitch-1,P.oct=x.oct,P.name=l[l.indexOf(x.name)-1],P.name||(P.name="B",P.oct--),P.name==="B"||P.name==="E"?P.adj=x.adj+1:P.adj=x.adj+2,f(P,S,A+1,R);case 3:var P={};return P.pitch=x.pitch+1,P.oct=x.oct,P.name=l[l.indexOf(x.name)+1],P.name||(P.name="C",P.oct++),P.name==="C"||P.name==="F"?P.adj=x.adj-1:P.adj=x.adj-2,f(P,S,A+1,R)}switch((R[$]===_||!R[$]&&_===B)&&!x.courtesy&&(_=""),M){case 0:$=$+",,,";break;case 1:$=$+",,";break;case 2:$=$+",";break;case 4:$=$.toLowerCase();break;case 5:$=$.toLowerCase()+"'";break;case 6:$=$.toLowerCase()+"''";break;case 7:$=$.toLowerCase()+"'''";break;case 8:$=$.toLowerCase()+"''''";break}return M>4&&($=$.toLowerCase()),{acc:_,name:$,upper:$.toUpperCase()}}var d=/([_^=]*)([A-Ga-g])([,']*)/,p=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,g=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,m=/(\s*)$/;function y(x,S,A,R){var C=S==="none"?0:l.indexOf(S),N=x.match(d),O=N[2].toUpperCase(),L=l.indexOf(O)-C;L<0&&(L+=7);var k=u.indexOf(N[3]);O===N[2]&&k--;var M=R[O]||A[O]||"=";return{acc:N[1],name:O,pitch:L,oct:k,adj:w(N[1],A[O],R[O]),courtesy:N[1]===M}}function b(x,S,A,R,C){var N=x.substring(S,A),O=N.match(new RegExp(p.source+m.source),"");if(O){var L=O[1].length,k=O[2].length+O[3].length+O[4].length,M=A-S-L-k;S+=M,A-=k}else{var $=/([^\[]*)/,_=/\[/,F=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(O=N.match(new RegExp($.source+_.source+g.source+g.source+g.source+g.source+g.source+g.source+g.source+g.source+F.source+m.source)),O){for(var B=1+O[1].length,D=0;D<C;D++)O[D*3+2]&&(B+=O[D*3+2].length),O[D*3+3]&&(B+=O[D*3+3].length),O[D*3+4]&&(B+=O[D*3+4].length);S+=B;var P=O[C*3+2]?O[C*3+2].length:0;A=S+P}}return{start:S,end:A,note:R}}function T(x,S,A,R,C){var N=x.substring(S,A),O=/\{/,L=/\}/,k=/([^\{]*)/,M=/(\/*)/,$=N.match(new RegExp(k.source+O.source+M.source+g.source+M.source+g.source+M.source+g.source+M.source+g.source+M.source+g.source+M.source+g.source+M.source+g.source+M.source+g.source+L.source));if($){for(var _=1+$[1].length,F=0;F<C;F++)$[F*3+2]&&(_+=$[F*3+2].length),$[F*3+3]&&(_+=$[F*3+3].length),$[F*3+4]&&(_+=$[F*3+4].length),$[F*3+5]&&(_+=$[F*3+5].length);$[C*3+2]&&(_+=$[F*3+2].length),S+=_;var B=$[C*3+3]?$[C*3+3].length:0;B+=$[C*3+4]?$[C*3+4].length:0,B+=$[C*3+5]?$[C*3+5].length:0,A=S+B}return{start:S,end:A,note:R}}function E(x,S,A,R){var C=x.substring(S,A).match(/([^"]+)?(".+")+/);return C[1]&&(S+=C[1].length),A=S+C[2].length,{start:S+1,end:A-1,note:R}}function w(x,S,A){if(!x&&A&&(x=A),!x)return 0;switch(S){case void 0:switch(x){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(x){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(x){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var gke=Bee,kp=function(t,n,r,a){this.type="BeamElem",this.isflat=!!r,this.isgrace=!!(n&&n==="grace"),this.forceup=!!(this.isgrace||n&&n==="up"),this.forcedown=!!(n&&n==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],a&&a.duration?(this.duration=a.duration,a.startTriplet&&(this.duration*=a.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};kp.prototype.setHint=function(){this.hint=!0};kp.prototype.runningDirection=function(e){var t=e.averagepitch;t!==void 0&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)};kp.prototype.add=function(e){var t=e.abcelem.averagepitch;t!==void 0&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(this.min===void 0||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(this.max===void 0||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))};kp.prototype.addBeam=function(e){this.beams.push(e)};kp.prototype.setStemDirection=function(){if(this.average=Hee(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}delete this.count,this.total=0};kp.prototype.calcDir=function(){if(this.average=Hee(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}for(var t=this.stemsUp?"up":"down",n=0;n<this.elems.length;n++)for(var r=0;r<this.elems[n].heads.length;r++)this.elems[n].heads[r].stemDir=t};function Hee(e,t){return t?e/t:0}var mke=kp,WT=function(t,n){this.startVoice=t,this.type=n};WT.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};WT.prototype.continuing=function(e){this.lastContinuedVoice=e};WT.prototype.getWidth=function(){return 10};WT.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)};var vke=WT,yke=fo,Co={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};Co["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};Co["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};Co["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};Co["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var U$=function(e){for(var t=[],n=0,r=e.length;n<r;n++){t[n]=[];for(var a=0,o=e[n].length;a<o;a++)t[n][a]=e[n][a]}return t},bke=function(e,t,n){for(var r=0,a=e.length;r<a;r++){var o=e[r],l,u;for(l=1,u=o.length;l<u;l++)o[l]*=l%2?t:n}},Tke={printSymbol:function(e,t,n,r,a){if(!Co[n])return null;var o=U$(Co[n].d);o[0][1]+=e,o[0][2]+=t;for(var l="",u=0;u<o.length;u++)l+=o[u].join(" ");return a.path=l,r.path(a)},getPathForSymbol:function(e,t,n,r,a){if(r=r||1,a=a||1,!Co[n])return null;var o=U$(Co[n].d);return(r!==1||a!==1)&&bke(o,r,a),o[0][1]+=e,o[0][2]+=t,o},getSymbolWidth:function(e){return Co[e]?Co[e].w:0},symbolHeightInPitches:function(e){var t=Co[e]?Co[e].h:0;return t/yke.STEP},getSymbolAlign:function(e){return e.substring(0,7)==="scripts"&&e!=="scripts.roll"?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(e,t){Co[e]=t}},Ef=Tke,Eke=gv,wy=Ef,EC=Eu,wke=function(e,t){var n,r=0;e.el_type="clef";var a=new Eke(e,0,10,"staff-extra clef",t);switch(a.isClef=!0,e.type){case"treble":n="clefs.G";break;case"tenor":n="clefs.C";break;case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",r=1;break;case"tenor+8":n="clefs.C",r=1;break;case"bass+8":n="clefs.F",r=1;break;case"alto+8":n="clefs.C",r=1;break;case"treble-8":n="clefs.G",r=-1;break;case"tenor-8":n="clefs.C",r=-1;break;case"bass-8":n="clefs.F",r=-1;break;case"alto-8":n="clefs.C",r=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:a.addFixed(new EC("clef="+e.type,0,0,void 0,{type:"debug"}))}var o=5;if(n){var l=wy.symbolHeightInPitches(n),u=xke(n);if(a.addRight(new EC(n,o,wy.getSymbolWidth(n),e.clefPos,{top:l+e.clefPos+u,bottom:e.clefPos+u})),r!==0){var h=.6666666666666666,f=(wy.getSymbolWidth(n)-wy.getSymbolWidth("8")*h)/2,d=r>0?a.top+3:a.bottom-1,p=r>0?a.top+3:a.bottom-3,g=p-2;e.type==="bass-8"&&(d=3,f=0),a.addRight(new EC("8",o+f,wy.getSymbolWidth("8")*h,d,{scalex:h,scaley:h,top:p,bottom:g}))}}return a};function xke(e){switch(e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var Ske=wke,Ake=gv,kw=Ef,Ike=Eu,Cke=function(e,t){if(e.el_type="keySignature",!e.accidentals||e.accidentals.length===0)return null;var n=new Ake(e,0,10,"staff-extra key-signature",t);n.isKeySig=!0;var r=0;return e.accidentals.forEach(function(a){var o,l=0;switch(a.acc){case"sharp":o="accidentals.sharp",l=-3;break;case"natural":o="accidentals.nat";break;case"flat":o="accidentals.flat",l=-1.2;break;case"quartersharp":o="accidentals.halfsharp",l=-2.5;break;case"quarterflat":o="accidentals.halfflat",l=-1.2;break;default:o="accidentals.flat"}n.addRight(new Ike(o,r,kw.getSymbolWidth(o),a.verticalPos,{thickness:kw.symbolHeightInPitches(o),top:a.verticalPos+kw.symbolHeightInPitches(o)+l,bottom:a.verticalPos+l})),r+=kw.getSymbolWidth(o)+2},this),n},Rke=Cke,Hl=Ef,ig=Eu,kke=function(e,t,n,r){r||(r={});var a=r.dir!==void 0?r.dir:null,o=r.headx!==void 0?r.headx:0,l=r.extrax!==void 0?r.extrax:0,u=r.flag!==void 0?r.flag:null,h=r.dot!==void 0?r.dot:0,f=r.dotshiftx!==void 0?r.dotshiftx:0,d=r.scale!==void 0?r.scale:1,p=r.accidentalSlot!==void 0?r.accidentalSlot:[],g=r.shouldExtendStem!==void 0?r.shouldExtendStem:!1,m=r.printAccidentals!==void 0?r.printAccidentals:!0,y=n.verticalPos,b,T=0,E=0,w=0;if(t===void 0)e.addFixed(new ig("pitch is undefined",0,0,0,{type:"debug"}));else if(t==="")b=new ig(null,0,0,y);else{var x=o;if(n.printer_shift){var S=n.printer_shift==="same"?1:0;x=a==="down"?-Hl.getSymbolWidth(t)*d+S:Hl.getSymbolWidth(t)*d-S}var A={scalex:d,scaley:d,thickness:Hl.symbolHeightInPitches(t)*d,name:n.name};if(b=new ig(t,x,Hl.getSymbolWidth(t)*d,y,A),b.stemDir=a,u){var R=y+(a==="down"?-7:7)*d;g&&(a==="down"&&R>6&&(R=6),a==="up"&&R<6&&(R=6));var C=a==="down"?o:o+b.w-.6;e.addRight(new ig(u,C,Hl.getSymbolWidth(u)*d,R,{scalex:d,scaley:d}))}for(E=b.w+f-2+5*h;h>0;h--){var N=1-Math.abs(y)%2;e.addRight(new ig("dots.dot",b.w+f-2+5*h,Hl.getSymbolWidth("dots.dot"),y+N))}}if(b&&(b.highestVert=n.highestVert),m&&n.accidental){var O;switch(n.accidental){case"quartersharp":O="accidentals.halfsharp";break;case"dblsharp":O="accidentals.dblsharp";break;case"sharp":O="accidentals.sharp";break;case"quarterflat":O="accidentals.halfflat";break;case"flat":O="accidentals.flat";break;case"dblflat":O="accidentals.dblflat";break;case"natural":O="accidentals.nat"}for(var L=!1,k=l,M=0;M<p.length;M++)if(y-p[M][0]>=6){p[M][0]=y,k=p[M][1],L=!0;break}L===!1&&(k-=Hl.getSymbolWidth(O)*d+2,p.push([y,k]),T=Hl.getSymbolWidth(O)*d+2);var $=Hl.symbolHeightInPitches(O);e.addExtra(new ig(O,k,Hl.getSymbolWidth(O),y,{scalex:d,scaley:d,top:y+$/2,bottom:y-$/2})),w=Hl.getSymbolWidth(O)/2}return{notehead:b,accidentalshiftx:T,dotshiftx:E,extraLeft:w}},Oke=kke,Nke=gv,hi=Ef,Mc=Eu,Lke=function(e,t){e.el_type="timeSignature";var n=new Nke(e,0,10,"staff-extra time-signature",t);if(e.type==="specified")for(var r=0,a=0;a<e.value.length;a++)if(a!==0&&(n.addRight(new Mc("+",r+1,hi.getSymbolWidth("+"),6,{thickness:hi.symbolHeightInPitches("+")})),r+=hi.getSymbolWidth("+")+2),e.value[a].den){for(var o=0,l=0;l<e.value[a].num.length;l++)o+=hi.getSymbolWidth(e.value[a].num[l]);var u=0;for(l=0;l<e.value[a].num.length;l++)u+=hi.getSymbolWidth(e.value[a].den[l]);var h=Math.max(o,u);n.addRight(new Mc(e.value[a].num,r+(h-o)/2,o,8,{thickness:hi.symbolHeightInPitches(e.value[a].num[0])})),n.addRight(new Mc(e.value[a].den,r+(h-u)/2,u,4,{thickness:hi.symbolHeightInPitches(e.value[a].den[0])})),r+=h}else{for(var f=0,d=0;d<e.value[a].num.length;d++)f+=hi.getSymbolWidth(e.value[a].num[d]);n.addRight(new Mc(e.value[a].num,r,f,6,{thickness:hi.symbolHeightInPitches(e.value[a].num[0])})),r+=f}else e.type==="common_time"?n.addRight(new Mc("timesig.common",0,hi.getSymbolWidth("timesig.common"),6,{thickness:hi.symbolHeightInPitches("timesig.common")})):e.type==="cut_time"?n.addRight(new Mc("timesig.cut",0,hi.getSymbolWidth("timesig.cut"),6,{thickness:hi.symbolHeightInPitches("timesig.cut")})):e.type==="tempus_imperfectum"?n.addRight(new Mc("timesig.imperfectum",0,hi.getSymbolWidth("timesig.imperfectum"),6,{thickness:hi.symbolHeightInPitches("timesig.imperfectum")})):e.type==="tempus_imperfectum_prolatio"?n.addRight(new Mc("timesig.imperfectum2",0,hi.getSymbolWidth("timesig.imperfectum2"),6,{thickness:hi.symbolHeightInPitches("timesig.imperfectum2")})):e.type==="tempus_perfectum"?n.addRight(new Mc("timesig.perfectum",0,hi.getSymbolWidth("timesig.perfectum"),6,{thickness:hi.symbolHeightInPitches("timesig.perfectum")})):e.type==="tempus_perfectum_prolatio"?n.addRight(new Mc("timesig.perfectum2",0,hi.getSymbolWidth("timesig.perfectum2"),6,{thickness:hi.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return n},_ke=Lke,Dke=function(t,n,r){this.type="DynamicDecoration",this.anchor=t,this.dec=n,r==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},Mke=Dke,Pke=function(t,n,r,a){this.type="CrescendoElem",this.anchor1=t,this.anchor2=n,this.dir=r,a==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},Fke=Pke,Bke=function(t,n){this.type="GlissandoElem",this.anchor1=t,this.anchor2=n},Hke=Bke,zo=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};zo.prototype.addInternalNote=function(e){this.internalNotes.push(e)};zo.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};zo.prototype.setStartX=function(e){this.startLimitX=e};zo.prototype.setEndX=function(e){this.endLimitX=e};zo.prototype.setHint=function(){this.hint=!0};zo.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}};zo.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var n=this.internalNotes[t];n.stemDir==="down"&&(e=!0)}this.above=e}};zo.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t};zo.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};zo.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var n=!!this.anchor1.parent.beam,r=!!this.anchor2.parent.beam;if(n){var a=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];a||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(r){var o=this.anchor2.parent===this.anchor2.parent.beam.elems[0];o||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};zo.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}};zo.prototype.getYBounds=function(){var e=10,t=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,t),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,t),this.calcSlurY());var n,r;return this.above?(r=Math.min(this.startY,this.endY),n=r+3):(n=Math.min(this.startY,this.endY),r=n-3),[n,r]};var $ee=zo,$ke=Mke,G$=Fke,Wke=Hke,tc=Ef,Bd=Eu,Uke=$ee,S_=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},Gke=function(e,t,n,r,a,o,l,u,h){for(var f,d=0;d<t.length;d++){if(t[d]==="staccato"||t[d]==="tenuto"||t[d]==="accent"&&!h){var p="scripts."+t[d];if(t[d]==="accent"&&(p="scripts.sforzato"),f===void 0?f=l==="down"?n+2:u-2:f=l==="down"?f+2:f-2,t[d]==="accent")l==="up"?f--:f++;else switch(f){case 2:case 4:case 6:case 8:case 10:l==="up"?f--:f++;break}n>9&&f++;var g=r/2;tc.getSymbolAlign(p)!=="center"&&(g-=tc.getSymbolWidth(p)/2),a.addFixedX(new Bd(p,g,tc.getSymbolWidth(p),f))}if(t[d]==="slide"&&a.heads[0]){var m=a.heads[0].pitch;m-=2;var y=new Bd("",-o-15,0,m-1),b=new Bd("",-o-5,0,m+1);a.addFixedX(y),a.addFixedX(b),e.addOther(new Uke({anchor1:y,anchor2:b,fixedY:!0}))}}return f===void 0&&(f=n),{above:f,below:a.bottom}},zke=function(e,t,n,r){for(var a=0;a<t.length;a++)switch(t[a]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var o=new $ke(n,t[a],r);e.addOther(o)}},Yke=function(e,t,n,r,a){function o(){if(r.heads.length===0)return 10;for(var f=r.heads[0].pitch,d=1;d<r.heads.length;d++)f=Math.max(f,r.heads[d].pitch);return f}function l(){if(r.heads.length===0)return 2;for(var f=r.heads[0].pitch,d=1;d<r.heads.length;d++)f=Math.min(f,r.heads[d].pitch);return f}function u(f,d){var p=a==="down"?l()+1:o()+9;a!=="down"&&d===1&&p--;var g=n/2;g+=a==="down"?-5:3;for(var m=0;m<d;m++)p-=1,r.addFixedX(new Bd(f,g,tc.getSymbolWidth(f),p))}for(var h=0;h<e.length;h++)switch(e[h]){case"/":u("flags.ugrace",1);break;case"//":u("flags.ugrace",2);break;case"///":u("flags.ugrace",3);break;case"////":u("flags.ugrace",4);break}},Vke=function(e,t,n,r,a,o,l,u){function h(b,T){b==="above"?r.above+=T:r.below-=T}function f(b){var T;return b==="above"?(T=r.above,T<o&&(T=o)):(T=r.below,T>l&&(T=l)),T}function d(b,T,E){var w=f(T),x=2,S=5;n.addFixedX(new Bd(b,t/2,0,w+x,{type:"decoration",klass:"ornament",thickness:3,anchor:E})),h(T,S)}function p(b,T){var E=t/2;tc.getSymbolAlign(b)!=="center"&&(E-=tc.getSymbolWidth(b)/2);var w=tc.symbolHeightInPitches(b)+1,x=f(T);x=T==="above"?x+w/2:x-w/2,n.addFixedX(new Bd(b,E,tc.getSymbolWidth(b),x,{klass:"ornament",thickness:tc.symbolHeightInPitches(b),position:T})),h(T,w)}for(var g={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},m=!1,y=0;y<e.length;y++)switch(e[y]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":d(e[y],a,"middle"),m=!0;break;case"D.C.alcoda":d("D.C. al coda",a,"end"),m=!0;break;case"D.C.alfine":d("D.C. al fine",a,"end"),m=!0;break;case"D.S.alcoda":d("D.S. al coda",a,"end"),m=!0;break;case"D.S.alfine":d("D.S. al fine",a,"end"),m=!0;break;case"fine":d("FINE",a,"middle"),m=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":p(g[e[y]],a),m=!0;break;case"invertedfermata":p(g[e[y]],"below"),m=!0;break;case"mark":n.klass="mark";break;case"accent":u&&(p("scripts.sforzato",a),m=!0);break}return m};function qke(e,t,n){for(var r=0;r<e.length;r++)switch(e[r]){case"arpeggio":for(var a=t.abcelem.minpitch-1;a<=t.abcelem.maxpitch;a+=2)t.addExtra(new Bd("scripts.arpeggio",-tc.getSymbolWidth("scripts.arpeggio")*2-n,0,a+2,{klass:"ornament",thickness:tc.symbolHeightInPitches("scripts.arpeggio")}));break}}S_.prototype.dynamicDecoration=function(e,t,n,r){for(var a,o,l,u=0;u<t.length;u++)switch(t[u]){case"diminuendo(":this.startDiminuendoX=n,a=void 0;break;case"diminuendo)":a={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,o=void 0;break;case"crescendo)":o={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=n,l=void 0;break;case"~)":case"glissando)":l={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0;break}a&&e.addOther(new G$(a.start,a.stop,">",r)),o&&e.addOther(new G$(o.start,o.stop,"<",r)),l&&e.addOther(new Wke(l.start,l.stop))};S_.prototype.createDecoration=function(e,t,n,r,a,o,l,u,h,f,d){h||(h={ornamentPosition:"above",volumePosition:f?"above":"below",dynamicPosition:f?"above":"below"}),zke(e,t,a,h.volumePosition),this.dynamicDecoration(e,t,a,h.dynamicPosition),Yke(t,n,r,a,l);var p=Gke(e,t,n,r,a,o,l,u,d);p.above=Math.max(p.above,this.minTop),p.below=Math.min(p.below,u),Vke(t,r,a,p,h.ornamentPosition,this.minTop,u,d),qke(t,a,o)};var jke=S_,Xke=function(t,n,r){this.type="EndingElem",this.text=t,this.anchor1=n,this.anchor2=r,this.endingHeightAbove=5,this.pitch=void 0},Kke=Xke,Zke=function(e){for(var t=0,n=0;n<e.voices.length;n++){var r=e.voices[n].staff;e.voices[n].duplicate||(t+=r.top,t+=-r.bottom)}return t},Qke=Zke,Jke=Qke,yv=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};yv.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])};yv.prototype.addVoice=function(e,t,n){var r=this.voices.length;this.voices[r]=e,this.staffs[t]?this.staffs[t].voices.push(r):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[r],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]};yv.prototype.setHeight=function(){this.height=Jke(this)};yv.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)};yv.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};var eOe=yv,tOe=gv,nOe=Eu,A_=function(t,n,r){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=n,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(r,t,n))};A_.prototype.setX=function(e){this.x=e};A_.prototype.createNote=function(e,t,n){var r=.75,a=t.duration[0],o=new tOe(t,a,1,"tempo",n),l,u,h;a<=1/32?(h="noteheads.quarter",u="flags.u32nd",l=0):a<=1/16?(h="noteheads.quarter",u="flags.u16th",l=0):a<=3/32?(h="noteheads.quarter",u="flags.u16nd",l=1):a<=1/8?(h="noteheads.quarter",u="flags.u8th",l=0):a<=3/16?(h="noteheads.quarter",u="flags.u8th",l=1):a<=1/4?(h="noteheads.quarter",l=0):a<=3/8?(h="noteheads.quarter",l=1):a<=1/2?(h="noteheads.half",l=0):a<=3/4?(h="noteheads.half",l=1):a<=1?(h="noteheads.whole",l=0):a<=1.5?(h="noteheads.whole",l=1):a<=2?(h="noteheads.dbl",l=0):(h="noteheads.dbl",l=1);var f=e(o,h,{verticalPos:0},{dir:"up",flag:u,dot:l,scale:r}),d=f.notehead;o.addHead(d);var p;if(h!=="noteheads.whole"&&h!=="noteheads.dbl"){var g=.3333333333333333*r,m=5*r,y=d.dx+d.w,b=-.6;p=new nOe(null,y,0,g,{type:"stem",pitch2:m,linewidth:b}),o.addRight(p)}return o};var rOe=A_,hA=function(t,n,r){this.type="TripletElem",this.anchor1=n,this.number=t,this.durationClass=("d"+Math.round(n.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=r.flatBeams};hA.prototype.isClosed=function(){return!!this.anchor2};hA.prototype.middleNote=function(e){this.middleElems.push(e)};hA.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var iOe=hA;function z$(e){switch(e){case"B#":return"H#";case"B♯":return"H♯";case"B":return"H";case"Bb":return"B";case"B♭":return"B"}return e}function aOe(e,t,n){var r=e.split(`
`);for(let a=0;a<r.length;a++){let l=r[a].match(/^([ABCDEFG][♯♭]?)?([^\/]+)?(\/([ABCDEFG][#b♯♭]?))?/);if(!l)continue;let u=l[1]||"",h=l[2]||"",f=l[4]||"";n&&(u=z$(u),f=z$(f));const d=t?"":"",p=f?"/"+f:"";r[a]=[u,h,p].join(d)}return r.join(`
`)}var sOe=aOe,ag=Eu,wC=fo;const oOe=sOe;var lOe=function(e,t,n,r,a,o,l,u){for(var h=0;h<n.chord.length;h++){var f=n.chord[h].position,d=n.chord[h].rel_position,p=f==="left"||f==="right"||f==="below"||f==="above"||!!d,g,m;p?(g="annotationfont",m="abcjs-annotation"):(g="gchordfont",m="abcjs-chord");var y=e.attr(g,m),b=n.chord[h].name,T;if(typeof b=="string")T=Y$(b,f,d,p,g,m,y,e,t,n,r,a,o,l,u),r=T.roomTaken,a=T.roomTakenRight;else for(var E=0;E<b.length;E++)T=Y$(b[E].text,f,d,p,g,m,y,e,t,n,r,a,o,l,u),r=T.roomTaken,a=T.roomTakenRight}return{roomTaken:r,roomTakenRight:a}};function Y$(e,t,n,r,a,o,l,u,h,f,d,p,g,m,y){for(var b=e.split(`
`),T=b.length-1;T>=0;T--){var E=b[T],w=0,x;r||(E=oOe(E,m,y));var S=u.calc(E,a,o),A=S.width,R=S.height/wC.STEP;switch(t){case"left":d+=A+7,w=-d,x=f.averagepitch,h.addExtra(new ag(E,w,A+4,x,{type:"text",height:R,dim:l,position:"left"}));break;case"right":p+=4,w=p,x=f.averagepitch,h.addRight(new ag(E,w,A+4,x,{type:"text",height:R,dim:l,position:"right"}));break;case"below":h.addRight(new ag(E,0,0,void 0,{type:"text",position:"below",height:R,dim:l,realWidth:A}));break;case"above":h.addRight(new ag(E,0,0,void 0,{type:"text",position:"above",height:R,dim:l,realWidth:A}));break;default:if(n){var C=n.y+3*wC.STEP;h.addRight(new ag(E,w+n.x,0,f.minpitch+C/wC.STEP,{position:"relative",type:"text",height:R,dim:l}))}else{var N="above";f.positioning&&f.positioning.chordPosition&&(N=f.positioning.chordPosition),N!=="hidden"&&h.addCentered(new ag(E,g/2,A,void 0,{type:"chord",position:N,height:R,dim:l,realWidth:A}))}}}return{roomTaken:d,roomTakenRight:p}}var cOe=lOe,l1=gv,Wee=mke,V$=vke,Uee=Ske,Gee=Rke,UT=Oke,zee=_ke,uOe=jke,Yee=Kke,W2=Ef,mi=Eu,GT=fo,hOe=eOe,Vee=rOe,c1=$ee,fOe=iOe,dOe=Ree,qee=cOe,pOe=xee,C0=$h,YO=function(e){var t=0;return e.duration&&(t=e.duration),t},sc=!1,Ql={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},Si=function(e,t,n){this.decoration=new uOe,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.initialClef=n.initialClef,this.jazzchords=!!n.jazzchords,this.accentAbove=!!n.accentAbove,this.germanAlphabet=!!n.germanAlphabet,this.reset()};Si.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};Si.prototype.setStemHeight=function(e){this.stemHeight=Math.round(e*10/GT.STEP)/10};Si.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t};Si.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)};Si.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]};Si.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].voices.length;n++)for(var r=0;r<e[t].voices[n].length;r++){var a=e[t].voices[n][r];if(a.lyric){(!a.positioning||a.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};Si.prototype.createABCLine=function(e,t,n){this.minY=2,this.containsLyrics(e);var r=new hOe(this.getTextSize);this.tempoSet=!1;for(var a=0;a<e.length;a++)sc&&this.restoreState(),sc=!1,this.createABCStaff(r,e[a],t,a,n);return r};Si.prototype.createABCStaff=function(e,t,n,r,a){e.getTextSize.updateFonts(t);for(var o=0;o<t.voices.length;o++){var l=new dOe(o,t.voices.length);o===0?(l.barfrom=t.connectBarLines==="start"||t.connectBarLines==="continue",l.barto=t.connectBarLines==="continue"||t.connectBarLines==="end"):l.duplicate=!0,t.title&&t.title[o]&&(l.header=t.title[o].replace(/\\n/g,`
`),l.headerPosition=6+e.getTextSize.baselineToCenter(l.header,"voicefont","staff-extra voice-name",o,t.voices.length)/GT.STEP),t.clef&&t.clef.type==="perc"&&(l.isPercussion=!0);var u=(!this.initialClef||a===0)&&Uee(t.clef,this.tuneNumber);u&&(o===0&&t.barNumber&&this.addMeasureNumber(t.barNumber,u),l.addChild(u),this.startlimitelem=u);var h=Gee(t.key,this.tuneNumber);if(h&&(l.addChild(h),this.startlimitelem=h),t.meter){t.meter.type==="specified"?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var f=zee(t.meter,this.tuneNumber);l.addChild(f),this.startlimitelem=f}l.duplicate&&(l.children=[]);var d=t.clef.stafflines||t.clef.stafflines===0?t.clef.stafflines:5;e.addVoice(l,r,d);var p=d===1;this.createABCVoice(t.voices[o],n,r,o,p,l),e.setStaffLimits(l),o===0&&(t.brace==="start"||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new V$(l,"brace"))):t.brace==="end"&&e.brace?e.brace[e.brace.length-1].setBottomStaff(l):t.brace==="continue"&&e.brace&&e.brace[e.brace.length-1].continuing(l),t.bracket==="start"||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new V$(l,"bracket"))):t.bracket==="end"&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(l):t.bracket==="continue"&&e.bracket&&e.bracket[e.bracket.length-1].continuing(l))}};function gOe(e,t){var n=e[t];if(n.el_type!=="note"||!n.startBeam||n.endBeam)return{count:1,elem:n};for(var r=[];t<e.length&&e[t].el_type==="note"&&(r.push(e[t]),!e[t].endBeam);)t++;return{count:r.length,elem:r}}Si.prototype.createABCVoice=function(e,t,n,r,a,o){this.popCrossLineElems(n,r),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new Yee("",null,null),o.addOther(this.partstartelem));var l=o.voicetotal<2?-1:o.voicenumber;for(var u in this.slurs)this.slurs.hasOwnProperty(u)&&(this.slurs[u]=new c1({force:this.slurs[u].force,voiceNumber:l,stemDir:this.slurs[u].stemDir,style:this.slurs[u].dotted}),sc&&this.slurs[u].setHint(),o.addOther(this.slurs[u]));for(var h=0;h<this.ties.length;h++)this.ties[h]=new c1({force:this.ties[h].force,stemDir:this.ties[h].stemDir,voiceNumber:l,style:this.ties[h].dotted}),sc&&this.ties[h].setHint(),o.addOther(this.ties[h]);for(var f=0;f<this.abcline.length;f++)mOe(this.abcline[f]),this.minY=Math.min(this.abcline[f].minpitch,this.minY);for(var d=n===0,p=0;p<this.abcline.length;){var g=gOe(this.abcline,p),m=this.createABCElement(d,a,o,g.elem);if(m)for(h=0;h<m.length;h++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var y=new l1(t,0,0,"tempo",this.tuneNumber,{});y.addFixedX(new Vee(t,this.tuneNumber,UT)),o.addChild(y)}o.addChild(m[h])}p+=g.count}this.pushCrossLineElems(n,r)};Si.prototype.saveState=function(){this.tiesSave=C0.cloneArray(this.ties),this.slursSave=C0.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=C0.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=C0.cloneHashOfArrayOfHash(this.tiesbyvoice)};Si.prototype.restoreState=function(){this.ties=C0.cloneArray(this.tiesSave),this.slurs=C0.cloneHashOfHash(this.slursSave),this.slursbyvoice=C0.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=C0.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};Si.prototype.createABCElement=function(e,t,n,r){var a=[];switch(r.el_type){case void 0:a=this.createBeam(t,n,r);break;case"note":a[0]=this.createNote(r,!1,t,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":a[0]=this.createBarLine(n,r,e),n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"meter":a[0]=zee(r,this.tuneNumber),this.startlimitelem=a[0],n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"clef":if(a[0]=Uee(r,this.tuneNumber),!a[0])return null;n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"key":var o=Gee(r,this.tuneNumber);o&&(a[0]=o,this.startlimitelem=a[0]),n.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"stem":this.stemdir=r.direction==="auto"?void 0:r.direction;break;case"part":var l=new l1(r,0,0,"part",this.tuneNumber),u=this.getTextSize.calc(r.title,"partsfont","part");l.addFixedX(new mi(r.title,0,0,void 0,{type:"part",height:u.height/GT.STEP})),a[0]=l;break;case"tempo":var h=new l1(r,0,0,"tempo",this.tuneNumber);h.addFixedX(new Vee(r,this.tuneNumber,UT)),a[0]=h;break;case"style":r.head==="normal"?delete this.style:this.style=r.head;break;case"hint":sc=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=r.size;break;case"color":this.voiceColor=r.color,n.color=this.voiceColor;break;default:var f=new l1(r,0,0,"unsupported",this.tuneNumber);f.addFixed(new mi("element type "+r.el_type,0,0,void 0,{type:"debug"})),a[0]=f}return a};function mOe(e){if(e.pitches){vOe(e);for(var t=0,n=0;n<e.pitches.length;n++)t+=e.pitches[n].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}Si.prototype.createBeam=function(e,t,n){var r=[],a=new Wee(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);sc&&a.setHint();for(var o=0;o<n.length;o++)a.runningDirection(n[o]);a.setStemDirection();var l=this.stemdir;for(this.stemdir=a.stemsUp?"up":"down",o=0;o<n.length;o++){var u=n[o],h=this.createNote(u,!0,e,t);r.push(h),a.add(h),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return a.calcDir(),t.addBeam(a),this.stemdir=l,r};var vOe=function(e){var t;do{t=!0;for(var n=0;n<e.pitches.length-1;n++)if(e.pitches[n].pitch>e.pitches[n+1].pitch){t=!1;var r=e.pitches[n];e.pitches[n]=e.pitches[n+1],e.pitches[n+1]=r}}while(!t)},jee=function(e,t,n,r,a,o,l,u,h){for(var f=n;f>11;f--)f%2===0&&!r&&e.addFixed(new mi(null,u,(a+4)*h,f,{type:"ledger"}));for(f=t;f<1;f++)f%2===0&&!r&&e.addFixed(new mi(null,u,(a+4)*h,f,{type:"ledger"}));for(f=0;f<o.length;f++){var d=a;l==="down"&&(d=-d),e.addFixed(new mi(null,d+u,(a+4)*h,o[f],{type:"ledger"}))}};Si.prototype.addGraceNotes=function(e,t,n,r,a,o,l){var u=.6,h=3.5/5;a=Math.round(a*h);var f=null,d;e.gracenotes.length>1&&(f=new Wee(a,"grace",o),sc&&f.setHint(),f.mainNote=n);var p,g=[];for(p=e.gracenotes.length-1;p>=0;p--)l+=10,g[p]=l,e.gracenotes[p].accidental&&(l+=7);for(p=0;p<e.gracenotes.length;p++){var m=e.gracenotes[p].verticalPos;d=f?null:Ql.uflags[o?5:3];var y=[],b=UT(n,"noteheads.quarter",e.gracenotes[p],{dir:"up",headx:-g[p],extrax:-g[p],flag:d,scale:u*this.voiceScale,accidentalSlot:y});b.notehead.highestVert=b.notehead.pitch+a;var T=b.notehead;if(this.addSlursAndTies(n,e.gracenotes[p],T,t,"up",!0),n.addExtra(T),e.gracenotes[p].acciaccatura){var E=e.gracenotes[p].verticalPos+7*u,w=f?5:6;n.addRight(new mi("flags.ugrace",-g[p]+w,0,E,{scalex:u,scaley:u}))}if(f){var x=e.gracenotes[p].duration/2;o&&(x/=2);var S={heads:[T],abcelem:{averagepitch:m,minpitch:m,maxpitch:m,duration:x}};f.add(S)}else{var A=m+.3333333333333333*u,R=m+7*u,C=T.dx+T.w,N=-.6;n.addExtra(new mi(null,C,0,A,{type:"stem",pitch2:R,linewidth:N}))}jee(n,m,m,!1,W2.getSymbolWidth("noteheads.quarter"),[],!0,T.dx-1,.6);var O=e.rest&&(e.rest.type==="spacer"||e.rest.type==="invisible");p===0&&!o&&this.graceSlurs&&!O&&t.addOther(new c1({anchor1:T,anchor2:r,isGrace:!0}))}return f&&(f.calcDir(),t.addBeam(f)),l};function yOe(e,t,n,r,a,o,l,u,h){var f,d=7,p,g,m;switch(a&&(o==="down"&&(d=3),o==="up"&&(d=11)),l&&(n<.5||n<1?d=7:d=5),t.rest.type){case"whole":f=Ql.rest[0],t.averagepitch=d,t.minpitch=d,t.maxpitch=d,r=0;break;case"rest":t.style==="rhythm"?f=Ql.rhythm[-u]:f=Ql.rest[-u],t.averagepitch=d,t.minpitch=d,t.maxpitch=d;break;case"invisible":case"invisible-multimeasure":case"spacer":f="",t.averagepitch=d,t.minpitch=d,t.maxpitch=d;break;case"multimeasure":f=Ql.rest.multi,t.averagepitch=d,t.minpitch=d,t.maxpitch=d,r=0;var y=W2.getSymbolWidth(f);e.addHead(new mi(f,y,y*2,7));var b=new mi(""+t.rest.text,y,y,16,{type:"multimeasure-text"});e.addExtra(b)}if(t.rest.type.indexOf("multimeasure")<0&&t.rest.type!=="invisible"){var T=UT(e,f,{verticalPos:d},{dot:r,scale:h});p=T.notehead,p&&(e.addHead(p),g=T.accidentalshiftx,m=T.dotshiftx)}return{noteHead:p,roomTaken:g,roomTakenRight:m}}function q$(e,t){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return;e.push(t)}Si.prototype.addNoteToAbcElement=function(e,t,n,r,a,o,l,u,h){var f=0,d,p=0,g=0,m,y,b=[],T=[],E=0,w=t.averagepitch>=6?"down":"up";r&&(w=r),a=t.style?t.style:a,(!a||a==="normal")&&(a="note");var x;o?x=Ql[a].nostem:x=Ql[a][-l],x||console.log("noteSymbol:",a,l,o);var S;for(S=w==="down"?t.pitches.length-2:1;w==="down"?S>=0:S<t.pitches.length;S=w==="down"?S-1:S+1){var A=t.pitches[w==="down"?S+1:S-1],R=t.pitches[S],C=w==="down"?A.pitch-R.pitch:R.pitch-A.pitch;C<=1&&!A.printer_shift&&(R.printer_shift=C?"different":"same",(R.verticalPos>11||R.verticalPos<1)&&b.push(R.verticalPos-R.verticalPos%2),w==="down"?p=W2.getSymbolWidth(x)+2:f=W2.getSymbolWidth(x)+2)}var N=t.pitches.length;for(S=0;S<t.pitches.length;S++){if(!u){var O;w==="down"&&S!==0||w==="up"&&S!==N-1?O=null:O=Ql[w==="down"?"dflags":"uflags"][-l]}var L;if(t.pitches[S].style)L=Ql[t.pitches[S].style][-l];else if(h.isPercussion&&this.percmap){L=x;var k=this.percmap[pOe(t.pitches[S])];k&&k.noteHead&&Ql[k.noteHead]&&(L=Ql[k.noteHead][-l])}else L=x;t.pitches[S].highestVert=t.pitches[S].verticalPos;var M=(r==="up"||w==="up")&&S===0,$=(r==="down"||w==="down")&&S===N-1;if(M||$){if((t.startSlur||N===1)&&(t.pitches[S].highestVert=t.pitches[N-1].verticalPos,YO(t)<1&&(r==="up"||w==="up")&&(t.pitches[S].highestVert+=6)),t.startSlur)for(t.pitches[S].startSlur||(t.pitches[S].startSlur=[]),y=0;y<t.startSlur.length;y++)q$(t.pitches[S].startSlur,t.startSlur[y]);if(t.endSlur)for(t.pitches[S].highestVert=t.pitches[N-1].verticalPos,YO(t)<1&&(r==="up"||w==="up")&&(t.pitches[S].highestVert+=6),t.pitches[S].endSlur||(t.pitches[S].endSlur=[]),y=0;y<t.endSlur.length;y++)q$(t.pitches[S].endSlur,t.endSlur[y])}var _=!u&&l<=-1,F=UT(e,L,t.pitches[S],{dir:w,extrax:-p,flag:O,dot:n,dotshiftx:f,scale:this.voiceScale,accidentalSlot:T,shouldExtendStem:!r,printAccidentals:!h.isPercussion});E=Math.max(W2.getSymbolWidth(L),E),e.extraw-=F.extraLeft,d=F.notehead,d&&(this.addSlursAndTies(e,t.pitches[S],d,h,_?w:null,!1),t.gracenotes&&t.gracenotes.length>0&&(d.bottom=d.bottom-1),e.addHead(d)),p+=F.accidentalshiftx,g=Math.max(g,F.dotshiftx)}if(_){var B=Math.round(70*this.voiceScale)/10,D=w==="down"?t.minpitch-B:t.minpitch+1/3;D>6&&!r&&(D=6);var P=w==="down"?t.maxpitch-1/3:t.maxpitch+B;P<6&&!r&&(P=6);var H=w==="down"||e.heads.length===0?0:e.heads[0].w,W=w==="down"?1:-1;d&&d.c==="noteheads.slash.quarter"&&(w==="down"?P-=1:D+=1),d&&d.c==="noteheads.triangle.quarter"&&(w==="down"?P-=.7:D-=1.2),e.addRight(new mi(null,H,0,D,{type:"stem",pitch2:P,linewidth:W,bottom:D-1})),m=Math.min(D,P)}return{noteHead:d,roomTaken:p,roomTakenRight:g,min:m,additionalLedgers:b,dir:w,symbolWidth:E}};Si.prototype.addLyric=function(e,t){var n="";t.lyric.forEach(function(o){var l=o.divider===" "?"":o.divider;n+=o.syllable+l+`
`});var r=this.getTextSize.calc(n,"vocalfont","lyric"),a=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new mi(n,0,r.width,void 0,{type:"lyric",position:a,height:r.height/GT.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};Si.prototype.createNote=function(e,t,n,r){var a=null,o=0,l=0,u=0,h=[],f,d=YO(e),p=!1;d===0&&(p=!0,d=.25,t=!0);for(var g=Math.floor(Math.log(d)/Math.log(2)),m=0,y=Math.pow(2,g),b=y/2;y<d;m++,y+=b,b/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var T=d*this.tripletmultiplier;e.rest&&e.rest.type==="multimeasure"&&(T=1),e.rest&&e.rest.type==="invisible-multimeasure"&&(T=this.measureLength*e.rest.text);var E=e.rest?"rest":"note",w=new l1(e,T,1,E,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(sc&&w.setHint(),e.rest){this.measureLength===d&&e.rest.type!=="invisible"&&e.rest.type!=="spacer"&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var x=yOe(w,e,d,m,r.voicetotal>1,this.stemdir,n,g,this.voiceScale);a=x.noteHead,o=x.roomTaken,l=x.roomTakenRight}else{var S=this.addNoteToAbcElement(w,e,m,this.stemdir,this.style,p,g,t,r);S.min!==void 0&&(this.minY=Math.min(S.min,this.minY)),a=S.noteHead,o=S.roomTaken,l=S.roomTakenRight,h=S.additionalLedgers,f=S.dir,u=S.symbolWidth}if(e.lyric!==void 0&&this.addLyric(w,e),e.gracenotes!==void 0&&(o+=this.addGraceNotes(e,r,w,a,this.stemHeight*this.voiceScale,this.isBagpipes,o)),e.decoration){var A=t&&f!=="up"?Math.min(-3,w.bottom-6):w.bottom;this.decoration.createDecoration(r,e.decoration,w.top,a?a.w:0,w,o,f,A,e.positioning,this.hasVocals,this.accentAbove)}if(e.barNumber&&w.addFixed(new mi(e.barNumber,-10,0,0,{type:"barNumber"})),jee(w,e.minpitch,e.maxpitch,e.rest,u,h,f,-2,1),e.chord!==void 0){var R=qee(this.getTextSize,w,e,o,l,u,this.jazzchords,this.germanAlphabet);o=R.roomTaken,l=R.roomTakenRight}return e.startTriplet&&(this.triplet=new fOe(e.startTriplet,a,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(a),this.triplet&&!e.startTriplet&&!e.endTriplet&&!(e.rest&&e.rest.type==="spacer")&&this.triplet.middleNote(a),w};Si.prototype.addSlursAndTies=function(e,t,n,r,a,o){if(t.endTie&&this.ties.length>0){for(var l=!1,u=0;u<this.ties.length;u++)if(this.ties[u].anchor1&&this.ties[u].anchor1.pitch===n.pitch){this.ties[u].setEndAnchor(n),r.setRange(this.ties[u]),this.ties.splice(u,1),l=!0;break}l||(this.ties[0].setEndAnchor(n),r.setRange(this.ties[0]),this.ties.splice(0,1))}var h=r.voicetotal<2?-1:r.voicenumber;if(t.startTie){var f=new c1({anchor1:n,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:o,voiceNumber:h,style:t.startTie.style});sc&&f.setHint(),this.ties[this.ties.length]=f,r.addOther(f),e.startTie=!0}var d,p;if(t.endSlur)for(var g=0;g<t.endSlur.length;g++)p=t.endSlur[g],this.slurs[p]?(d=this.slurs[p],d.setEndAnchor(n),r.setRange(d),delete this.slurs[p]):(d=new c1({anchor2:n,stemDir:this.stemdir,voiceNumber:h}),sc&&d.setHint(),r.addOther(d)),this.startlimitelem&&d.setStartX(this.startlimitelem);else if(!o)for(var m in this.slurs)this.slurs.hasOwnProperty(m)&&this.slurs[m].addInternalNote(n);if(t.startSlur)for(g=0;g<t.startSlur.length;g++)p=t.startSlur[g].label,d=new c1({anchor1:n,stemDir:this.stemdir,voiceNumber:h,style:t.startSlur[g].style}),sc&&d.setHint(),this.slurs[p]=d,r.addOther(d)};Si.prototype.addMeasureNumber=function(e,t){var n=this.getTextSize.calc(e,"measurefont","bar-number"),r=0;t.isClef&&(r+=n.width/2);var a=n.width>10&&t.abcelem.type==="treble"?13.5:11;t.addFixed(new mi(e,r,n.width,a+n.height/GT.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};Si.prototype.createBarLine=function(e,t,n){var r=new l1(t,0,10,"bar",this.tuneNumber),a=null,o=0;t.barNumber&&this.addMeasureNumber(t.barNumber,r);var l=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",u=t.type!=="bar_left_repeat"&&t.type!=="bar_thick_thin"&&t.type!=="bar_invisible",h=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat"||t.type==="bar_left_repeat"||t.type==="bar_thin_thick"||t.type==="bar_thick_thin",f=t.type==="bar_left_repeat"||t.type==="bar_thick_thin"||t.type==="bar_thin_thin"||t.type==="bar_dbl_repeat",d=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat";if(l||d){for(var p in this.slurs)this.slurs.hasOwnProperty(p)&&this.slurs[p].setEndX(r);this.startlimitelem=r}if(l&&(r.addRight(new mi("dots.dot",o,1,7)),r.addRight(new mi("dots.dot",o,1,5)),o+=6),u&&(a=new mi(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),r.addRight(a)),t.type==="bar_invisible"&&(a=new mi(null,o,1,2,{type:"none",pitch2:10,linewidth:.6}),r.addRight(a)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,h?3:1,r,0,"down",2,t.positioning,this.hasVocals,this.accentAbove),h&&(o+=4,a=new mi(null,o,4,2,{type:"bar",pitch2:10,linewidth:4}),r.addRight(a),o+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=a,this.partstartelem=null),f&&(o+=3,a=new mi(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),r.addRight(a)),d&&(o+=3,r.addRight(new mi("dots.dot",o,1,7)),r.addRight(new mi("dots.dot",o,1,5))),t.startEnding&&n){var g=this.getTextSize.calc(t.startEnding,"repeatfont","").width;r.minspacing+=g+10,this.partstartelem=new Yee(t.startEnding,a,null),e.addOther(this.partstartelem)}return r.extraw-=5,t.chord!==void 0&&qee(this.getTextSize,r,t,0,0,0,!1,this.germanAlphabet),r};var bOe=Si,io="http://www.w3.org/2000/svg";function Sr(e){this.svg=I_(),this.currentGroup=[],e.appendChild(this.svg)}Sr.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=I_(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}};Sr.prototype.setTitle=function(e){var t=document.createElement("title"),n=document.createTextNode(e);t.appendChild(n),this.svg.insertBefore(t,this.svg.firstChild)};Sr.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var r=t/e*100;this.svg.parentNode.style["padding-bottom"]=r+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};Sr.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)};Sr.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)};Sr.prototype.setScale=function(e){e!==1?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};Sr.prototype.insertStyles=function(e){var t=document.createElementNS(io,"style");t.textContent=e,this.svg.insertBefore(t,this.svg.firstChild)};Sr.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);if(this.dummySvg){var n=document.querySelector("body");n.removeChild(this.dummySvg),this.dummySvg=null}};function j$(e,t,n){var r=n-e;return"M "+e+" "+t+" l "+r+" 0 l 0 1  l "+-r+" 0  z "}function X$(e,t,n){var r=n-t;return"M "+e+" "+t+" l 0 "+r+" l 1 0  l 0 "+-r+"  z "}Sr.prototype.rect=function(e){var t=[],n=e.x,r=e.y,a=e.x+e.width,o=e.y+e.height;return t.push(j$(n,r,a)),t.push(j$(n,o,a)),t.push(X$(a,r,o)),t.push(X$(n,o,r)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})};Sr.prototype.dottedLine=function(e){var t=document.createElementNS(io,"line");t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(t,this.svg.firstChild)};Sr.prototype.rectBeneath=function(e){var t=document.createElementNS(io,"rect");t.setAttribute("x",e.x),t.setAttribute("width",e.width),t.setAttribute("y",e.y),t.setAttribute("height",e.height),e.stroke&&t.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&t.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&t.setAttribute("fill",e.fill),e["fill-opacity"]&&t.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(t,this.svg.firstChild)};Sr.prototype.text=function(e,t,n){var r=document.createElementNS(io,"text");r.setAttribute("stroke","none");for(var a in t)t.hasOwnProperty(a)&&r.setAttribute(a,t[a]);for(var o=(""+e).split(`
`),l=0;l<o.length;l++){var u=document.createElementNS(io,"tspan");if(u.setAttribute("x",t.x?t.x:0),l!==0&&u.setAttribute("dy","1.2em"),o[l].indexOf("")!==-1){var h=o[l].split("");if(u.textContent=h[0],h[1]){var f=document.createElementNS(io,"tspan");f.setAttribute("dy","-0.3em"),f.setAttribute("style","font-size:0.7em"),f.textContent=h[1],u.appendChild(f)}if(h[2]){var d=h[1]?"0.4em":"0.1em",p=document.createElementNS(io,"tspan");p.setAttribute("dy",d),p.setAttribute("style","font-size:0.7em"),p.textContent=h[2],u.appendChild(p)}}else u.textContent=o[l];r.appendChild(u)}return n?n.appendChild(r):this.append(r),r};Sr.prototype.richTextLine=function(e,t,n,r,a,o){var l=document.createElementNS(io,"text");l.setAttribute("stroke","none"),l.setAttribute("class",r),l.setAttribute("x",t),l.setAttribute("y",n),l.setAttribute("text-anchor",a),l.setAttribute("dominant-baseline","middle");for(var u=0;u<e.length;u++){for(var h=e[u],f=document.createElementNS(io,"tspan"),d=Object.keys(h.attrs),p=0;p<d.length;p++){var g=h.attrs[d[p]];g!==""&&f.setAttribute(d[p],g)}f.textContent=h.content,l.appendChild(f)}return o?o.appendChild(l):this.append(l),l};Sr.prototype.guessWidth=function(e,t){var n=this.createDummySvg(),r=this.text(e,t,n),a;try{a=r.getBBox(),isNaN(a.height)||!a.height?a={width:t["font-size"]/2,height:t["font-size"]+2}:a={width:a.width,height:a.height}}catch{a={width:t["font-size"]/2,height:t["font-size"]+2}}return n.removeChild(r),a};Sr.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=I_();var e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",e.join(""));var t=document.querySelector("body");t.appendChild(this.dummySvg)}return this.dummySvg};var xC={};Sr.prototype.getTextSize=function(e,t,n){if(typeof e=="number"&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var r;if(e.length<20&&(r=e+JSON.stringify(t),xC[r]))return xC[r];var a=!n;n||(n=this.text(e,t));var o;try{o=n.getBBox(),isNaN(o.height)||!o.height?o=this.guessWidth(e,t):o={width:o.width,height:o.height}}catch{o=this.guessWidth(e,t)}return a&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(n):this.svg.removeChild(n)),r&&(xC[r]=o),o};Sr.prototype.openGroup=function(e){e=e||{};var t=document.createElementNS(io,"g");return e.klass&&t.setAttribute("class",e.klass),e.fill&&t.setAttribute("fill",e.fill),e.stroke&&t.setAttribute("stroke",e.stroke),e["data-name"]&&t.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(t):this.append(t),this.currentGroup.unshift(t),t};Sr.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&e.children.length===0?(e.parentElement.removeChild(e),null):e};Sr.prototype.path=function(e){var t=document.createElementNS(io,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):e[n]!==void 0&&t.setAttributeNS(null,n,e[n]));return this.append(t),t};Sr.prototype.pathToBack=function(e){var t=document.createElementNS(io,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):t.setAttributeNS(null,n,e[n]));return this.prepend(t),t};Sr.prototype.lineToBack=function(e){for(var t=document.createElementNS(io,"line"),n=Object.keys(e),r=0;r<n.length;r++)t.setAttribute(n[r],e[n[r]]);return this.prepend(t),t};Sr.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)};Sr.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)};Sr.prototype.setAttributeOnElement=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttributeNS(null,n,t[n])};Sr.prototype.moveElementToChild=function(e,t){e.appendChild(t)};function I_(){var e=document.createElementNS(io,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}var TOe=Sr,Xee=fo,EOe=TOe,_l=function(e){this.paper=new EOe(e),this.controller=null,this.space=3*Xee.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};_l.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};_l.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint=e.media==="print",this.setPadding(e)};_l.prototype.setLineThickness=function(e){this.lineThickness=e};_l.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}};_l.prototype.setPadding=function(e){function t(n,r,a,o,l){e.formatting[a]!==void 0?n.padding[r]=e.formatting[a]:n.paddingOverride[r]!==void 0?n.padding[r]=n.paddingOverride[r]:n.isPrint?n.padding[r]=o:n.padding[r]=l}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)};_l.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e};_l.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};_l.prototype.setVerticalSpace=function(e){e.staffsep!==void 0&&(this.spacing.staffSeparation=e.staffsep*4/3),e.composerspace!==void 0&&(this.spacing.composer=e.composerspace*4/3),e.partsspace!==void 0&&(this.spacing.parts=e.partsspace*4/3),e.textspace!==void 0&&(this.spacing.text=e.textspace*4/3),e.musicspace!==void 0&&(this.spacing.music=e.musicspace*4/3),e.titlespace!==void 0&&(this.spacing.title=e.titlespace*4/3),e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=e.sysstaffsep*4/3),e.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=e.stafftopmargin*4/3),e.subtitlespace!==void 0&&(this.spacing.subtitle=e.subtitlespace*4/3),e.topspace!==void 0&&(this.spacing.top=e.topspace*4/3),e.vocalspace!==void 0&&(this.spacing.vocal=e.vocalspace*4/3),e.wordsspace!==void 0&&(this.spacing.words=e.wordsspace*4/3)};_l.prototype.calcY=function(e){return this.y-e*Xee.STEP};_l.prototype.moveY=function(e,t){t===void 0&&(t=1),this.y+=e*t};_l.prototype.absolutemoveY=function(e){this.y=e};var wOe=_l;function xOe(e,t,n,r,a,o){var l=e.text;this.rows=[];var u;t&&this.rows.push({move:t});var h=n.calc("textfont","defined-text");if(l==="")this.rows.push({move:h.attr["font-size"]*2});else if(typeof l=="string")this.rows.push({move:h.attr["font-size"]/2}),this.rows.push({left:r,text:l,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u=o.calc(l,"textfont","defined-text"),this.rows.push({move:u.height});else if(l){for(var f=0,d=r,p="textfont",g=0;g<l.length;g++)l[g].font?p=l[g].font:p="textfont",this.rows.push({left:d,text:l[g].text,font:p,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u=o.calc(l[g].text,n.calc(p,"defined-text").font,"defined-text"),d+=u.width+u.height/2,f=Math.max(f,u.height);this.rows.push({move:f})}else if(e.length===1){var m=a/2;this.rows.push({left:m,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u=o.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:u.height})}}var SOe=xOe;function AOe(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}var IOe=AOe;function COe(e,t,n,r,a,o){this.rows=[],e&&this.rows.push({move:e});var l=t.titleleft?"start":"middle",u=t.titleleft?a:r;this.rows.push({left:u,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:l,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var h=o.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:h.height})}var ROe=COe;function kOe(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var r={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar,"dominant-baseline":t["dominant-baseline"]};t.absElemType&&(r.absElemType=t.absElemType),!t.inGroup&&t.klass&&(r.klass=t.klass),t.name&&(r.name=t.name),e.push(r);var a=n.calc("A",t.font,t.klass),o=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&o--,!t.noMove){var l=a.height*1.1*o;e.push({move:Math.round(l)}),t.marginBottom&&e.push({move:t.marginBottom})}}}var C_=kOe;const OOe=C_;function NOe(e,t,n,r,a,o,l,u){var h=u.calc("i",n,r);if(t==="")e.push({move:h.height});else{if(typeof t=="string"){OOe(e,{marginLeft:o,text:t,font:n,klass:r,marginTop:l.marginTop,anchor:l.anchor,absElemType:l.absElemType,info:l.info,name:a},u);return}l.marginTop&&e.push({move:l.marginTop});var f=0,d={left:o,anchor:l.anchor,phrases:[]};r&&(d.klass=r),e.push(d);for(var p=0;p<t.length;p++){var g=t[p],m=g.font?g.font:u.attr(n,r).font,y={content:g.text};m&&(y.attrs={"font-family":u.getFamily(m.face),"font-size":m.size,"font-weight":m.weight,"font-style":m.style,"font-decoration":m.decoration}),d.phrases.push(y);var b=u.calc(g.text,m,r);f=Math.max(f,b.height),g.text[g.text.length-1]===" "&&h.width}e.push({move:f})}}var Kee=NOe;const Ow=C_,xy=Kee;function LOe(e,t,n,r,a,o,l,u,h,f){if(this.rows=[],e.header&&o){var d=f.calc("X","headerfont","abcjs-header abcjs-meta-top").height;Ow(this.rows,{marginLeft:l,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-d,info:t.header,name:"header"},f),Ow(this.rows,{marginLeft:l+a/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-d,anchor:"middle",info:t.header,name:"header"},f),Ow(this.rows,{marginLeft:l+a,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-d,anchor:"end",info:t.header,name:"header"},f)}o&&this.rows.push({move:u.top});var p=n.titleleft?"start":"middle",g=n.titleleft?l:l+a/2;if(e.title){var m=h?"abcjs-title":"";xy(this.rows,e.title,"titlefont",m,"title",g,{marginTop:u.title,anchor:p,absElemType:"title",info:t.title},f)}if(r.length)for(var y=0;y<r.length&&r[y].subtitle;){var m=h?"abcjs-text abcjs-subtitle":"";xy(this.rows,r[y].subtitle.text,"subtitlefont",m,"subtitle",g,{marginTop:u.subtitle,anchor:p,absElemType:"subtitle",info:r[y].subtitle},f),y++}if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:u.composer}),e.rhythm&&e.rhythm.length>0){var b=!!(e.composer||e.origin),m=h?"abcjs-rhythm":"";Ow(this.rows,{marginLeft:l,text:e.rhythm,font:"infofont",klass:m,absElemType:"rhythm",noMove:b,info:t.rhythm,name:"rhythm"},f)}e.composer&&e.composer,e.origin&&e.origin;var T=e.composer?e.composer:"";if(e.origin&&(typeof T=="string"&&typeof e.origin=="string"?T+=" ("+e.origin+")":typeof T=="string"&&typeof e.origin!="string"?(T=[{text:T}],T.push({text:" ("}),T=T.concat(e.origin),T.push({text:")"})):(T.push({text:" ("}),T=T.concat(e.origin),T.push({text:")"}))),T){var m=h?"abcjs-composer":"";xy(this.rows,T,"composerfont",m,"composer",l+a,{anchor:"end",absElemType:"composer",info:t.composer},f)}}if(e.author&&e.author.length>0){var m=h?"abcjs-author":"";xy(this.rows,e.author,"composerfont",m,"author",l+a,{anchor:"end",absElemType:"author",info:t.author},f)}if(e.partOrder&&e.partOrder.length>0){var m=h?"abcjs-part-order":"";xy(this.rows,e.partOrder,"partsfont",m,"part-order",l,{absElemType:"partOrder",info:t.partOrder,anchor:"start"},f)}}var _Oe=LOe;const U2=C_,Zee=Kee;function fA(e,t,n,r,a,o,l){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,r,a,o,l),this.extraText(e,r,a,o,l),e.footer&&n&&this.footer(e.footer,t,r,l)}fA.prototype.unalignedWords=function(e,t,n,r,a){var o=r?"abcjs-unaligned-words":"",l="wordsfont",u=a.calc("i",l,o);this.rows.push({move:n.words}),VO(this.rows,"",e,t,l,"unalignedWords","unalignedWords",o,"unalignedWords",n,r,a),this.rows.push({move:u.height})};function zf(e,t,n,r,a,o,l){n&&(t&&(typeof n=="string"?n=t+n:n=[{text:t}].concat(n)),a=o?"abcjs-extra-text "+a:"",Zee(e,n,"historyfont",a,"description",r,{absElemType:"extraText",anchor:"start"},l))}function VO(e,t,n,r,a,o,l,u,h,f,d,p){if(n){u=d?"abcjs-extra-text "+u:"";var g=p.calc("A",a,u);if(typeof n=="string")t&&(n=t+`
`+n),U2(e,{marginLeft:r,text:n,font:a,absElemType:"extraText",name:h,"dominant-baseline":"middle",klass:u},p);else{e.push({startGroup:l,klass:u,name:h}),e.push({move:f.info}),t&&(U2(e,{marginLeft:r,text:t,font:a,absElemType:"extraText",name:h,"dominant-baseline":"middle"},p),e.push({move:g.height*3/4}));for(var m=0;m<n.length;m++)Zee(e,n[m],a,"",h,r,{anchor:"start"},p),m<n.length-1&&typeof n[m]=="string"&&typeof n[m+1]!="string"&&e.push({move:g.height*3/4});e.push({endGroup:l,absElemType:o,startChar:-1,endChar:-1,name:h}),e.push({move:g.height})}}}fA.prototype.extraText=function(e,t,n,r,a){zf(this.rows,"Book: ",e.book,t,"abcjs-book",r,a),zf(this.rows,"Source: ",e.source,t,"abcjs-source",r,a),zf(this.rows,"Discography: ",e.discography,t,"abcjs-discography",r,a),VO(this.rows,"Notes:",e.notes,t,"historyfont","extraText","notes","abcjs-notes","description",n,r,a),zf(this.rows,"Transcription: ",e.transcription,t,"abcjs-transcription",r,a),VO(this.rows,"History:",e.history,t,"historyfont","extraText","history","abcjs-history","description",n,r,a),zf(this.rows,"Copyright: ",e["abc-copyright"],t,"abcjs-copyright",r,a),zf(this.rows,"Creator: ",e["abc-creator"],t,"abcjs-creator",r,a),zf(this.rows,"Edited By: ",e["abc-edited-by"],t,"abcjs-edited-by",r,a)};fA.prototype.footer=function(e,t,n,r){var a="header meta-bottom",o="footerfont";this.rows.push({startGroup:"footer",klass:a}),U2(this.rows,{marginLeft:n,text:e.left,font:o,klass:a,name:"footer"},r),U2(this.rows,{marginLeft:n+t/2,text:e.center,font:o,klass:a,anchor:"middle",name:"footer"},r),U2(this.rows,{marginLeft:n+t,text:e.right,font:o,klass:a,anchor:"end",name:"footer"},r)};var DOe=fA;function SC(e,t,n,r){if(e.indexOf(t)===0){var a=e.replace(t,""),o=parseInt(a,10);""+o===a&&(n[r]=o)}}function MOe(e,t){var n=[];if(e.absEl.elemset){for(var r={},a=0;a<e.absEl.elemset.length;a++){var o=e.absEl.elemset[a];if(o)for(var l=o.getAttribute("class").split(" "),u=0;u<l.length;u++)r[l[u]]=!0}for(var h=0;h<Object.keys(r).length;h++)n.push(Object.keys(r)[h])}for(var f={},d=0;d<n.length;d++)SC(n[d],"abcjs-v",f,"voice"),SC(n[d],"abcjs-l",f,"line"),SC(n[d],"abcjs-m",f,"measure");e.staffPos&&(f.staffPos=e.staffPos);for(var p=t.target;p&&p.dataset&&!p.dataset.name&&p.tagName.toLowerCase()!=="svg";)p=p.parentNode;for(var g=t.target;g&&g.dataset&&!g.dataset.index&&g.tagName.toLowerCase()!=="svg";)g=g.parentNode;return g&&g.dataset&&(f.name=g.dataset.name,f.clickedName=p.dataset.name,f.parentClasses=g.classList),p&&p.classList&&(f.clickedClasses=p.classList),f.selectableElement=e.svgEl,{classes:n,analysis:f}}var Qee=MOe,b4=fo,POe=Qee;function FOe(e,t){if(e.rangeHighlight=qOe,e.dragging)for(var n=0;n<e.selectables.length;n++){var r=e.selectables[n];r.svgEl.getAttribute("selectable")==="true"&&(r.svgEl.setAttribute("tabindex",0),r.svgEl.setAttribute("data-index",n),r.svgEl.addEventListener("keydown",$Oe.bind(e)),r.svgEl.addEventListener("keyup",WOe.bind(e)),r.svgEl.addEventListener("focus",HOe.bind(e)))}for(var a=0;a<t.length;a++)t[a].addEventListener("touchstart",K$.bind(e),{passive:!0}),t[a].addEventListener("touchmove",Z$.bind(e),{passive:!0}),t[a].addEventListener("touchend",Ib.bind(e),{passive:!0}),t[a].addEventListener("mousedown",K$.bind(e)),t[a].addEventListener("mousemove",Z$.bind(e)),t[a].addEventListener("mouseup",Ib.bind(e))}function BOe(e){var t=1,n=1,r=e.target.closest("svg"),a=0;r&&r.viewBox&&r.viewBox.baseVal&&(r.viewBox.baseVal.width!==0&&(t=r.viewBox.baseVal.width/r.clientWidth),r.viewBox.baseVal.height!==0&&(n=r.viewBox.baseVal.height/r.clientHeight),a=r.viewBox.baseVal.y);var o=e.target&&e.target.tagName==="svg",l,u;return o?(l=e.offsetX,u=e.offsetY):(l=e.layerX,u=e.layerY),l=l*t,u=u*n,[l,u+a]}function HOe(e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&ete.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function $Oe(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function WOe(e){var t=!1,n=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",Ib.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*b4.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*b4.STEP+")"));break;case 9:this.dragYStep!==0&&Ib.bind(this)(e);break}t&&e.preventDefault()}function UOe(e,t){if(!t)return-1;for(var n=0;n<e.length;n++)if(t.dataset.index===e[n].svgEl.dataset.index)return n;return-1}function GOe(e,t,n){for(var r=9999999,a=-1,o=0;o<e.selectables.length&&r>0;o++){var l=e.selectables[o];if(e.getDim(l),l.dim.left<t&&l.dim.right>t&&l.dim.top<n&&l.dim.bottom>n)a=o,r=0;else if(l.dim.top<n&&l.dim.bottom>n){var u=Math.min(Math.abs(l.dim.left-t),Math.abs(l.dim.right-t));u<r&&(r=u,a=o)}else if(l.dim.left<t&&l.dim.right>t){var h=Math.min(Math.abs(l.dim.top-n),Math.abs(l.dim.bottom-n));h<r&&(r=h,a=o)}else{var f=Math.abs(t-l.dim.left)>Math.abs(t-l.dim.right)?Math.abs(t-l.dim.right):Math.abs(t-l.dim.left),d=Math.abs(n-l.dim.top)>Math.abs(n-l.dim.bottom)?Math.abs(n-l.dim.bottom):Math.abs(n-l.dim.top),p=Math.sqrt(f*f+d*d);p<r&&(r=p,a=o)}}return a>=0&&r<=12?a:-1}function zOe(e,t,n){if(e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY)return[t.offsetX,t.offsetY];var r=Math.abs(t.layerY/n-t.offsetY);return r<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}function YOe(e){if(!e)return null;if(e.tagName==="svg")return e;if(!e.getAttribute)return null;for(var t=e.getAttribute("selectable");!t;)e.parentElement?(e=e.parentElement,e.tagName==="svg"?t=!0:t=e.getAttribute("selectable")):t=!0;return e}function Jee(e,t){var n,r,a,o=UOe(e.selectables,YOe(t.target));return o>=0?(a=zOe(e.selectables[o].svgEl.getBBox(),t,e.scale),n=a[0],r=a[1]):(a=BOe(t),n=a[0],r=a[1],o=GOe(e,n,r)),{x:n,y:r,clickedOn:o}}function R_(e){if(!(!e||!e.target||!e.touches||e.touches.length<1)){var t=e.target.getBoundingClientRect(),n=e.touches[0].pageX-t.left,r=e.touches[0].pageY-t.top;e.touches[0].offsetX=n,e.touches[0].offsetY=r,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function K$(e){var t=e;e.type==="touchstart"&&(R_(e),e.touches.length>0&&(t=e.touches[0]));var n=Jee(this,t);n.clickedOn>=0&&(e.type==="touchstart"||e.button===0)&&this.selectables[n.clickedOn]&&(this.dragTarget=this.selectables[n.clickedOn],this.dragIndex=n.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:n.x,y:n.y},this.dragging&&this.dragTarget.isDraggable&&(jOe(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function Z$(e){var t=e;if(e.type==="touchmove"&&(R_(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var n=Jee(this,t),r=Math.round((n.y-this.dragMouseStart.y)/b4.STEP);r!==this.dragYStep&&(this.dragYStep=r,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+r*b4.STEP+")"))}}function Ib(e){var t=e;e.type==="touchend"&&this.lastTouchMove&&(R_(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(tte.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),ete.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),XOe(this.renderer.svg,"abcjs-dragging-in-progress"))}function VOe(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",Ib.bind(this)({target:this.dragTarget.svgEl}))}function ete(e,t,n,r,a){for(var o=POe(e,a),l=o.classes,u=o.analysis,h=0;h<this.listeners.length;h++)this.listeners[h](e.absEl.abcelem,e.absEl.tuneNumber,l.join(" "),u,{step:t,max:n,index:r,setSelection:VOe.bind(this)},a)}function tte(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function qOe(e,t){tte.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var r=this.staffgroups[n].voices,a=0;a<r.length;a++)for(var o=r[a].children,l=0;l<o.length;l++){var u=o[l].abcelem.startChar,h=o[l].abcelem.endChar;(t>u&&e<h||t===e&&t===h)&&(this.selected[this.selected.length]=o[l],o[l].highlight(void 0,this.selectionColor))}}function nte(e){var t=e.getAttribute("class");t||(t="");for(var n=t.split(" "),r={},a=0;a<n.length;a++)r[n[a]]=!0;return r}function rte(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);e.setAttribute("class",n.join(" "))}function jOe(e,t){if(e){var n=nte(e.svg);n[t]=!0,rte(e.svg,n)}}function XOe(e,t){if(e){var n=nte(e.svg);delete n[t],rte(e.svg,n)}}var KOe=FOe;function ZOe(e,t,n,r,a){return t+(r-t)/(n-e)*(a-e)}var k_=ZOe,QOe=Eu,qO=fo,jO=k_,JOe=function(e){if(!(e.elems.length===0||e.allrests)){var t=tNe(e.stemsUp,e.isgrace),n=e.elems[0],r=e.elems[e.elems.length-1],a=0,o=e.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;a=J$(n,e.stemsUp,o,a),a=J$(r,e.stemsUp,o,a),a=Math.max(e.stemHeight,a+3);var l=nNe(e.average,e.elems.length,a,e.stemsUp,n.abcelem.averagepitch,r.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),u=ite(e.stemsUp,n,r);e.addBeam({startX:u[0],endX:u[1],startY:l[0],endY:l[1],dy:t});for(var h=iNe(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),f=0;f<h.length;f++)e.addBeam(h[f]);rNe(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}},Q$=function(e){return e===void 0?0:Math.floor(Math.log(e)/Math.log(2))};function J$(e,t,n,r){if(!e.children)return r;for(var a=0;a<e.children.length;a++){var o=e.children[a];t&&o.top!==void 0&&o.c==="flags.ugrace"?r=Math.max(r,o.top-n):!t&&o.bottom!==void 0&&o.c==="flags.ugrace"&&(r=Math.max(r,n-o.bottom+7))}return r}function eNe(e,t,n,r){if(r)return 0;var a=e-t,o=n/2;return a>o&&(a=o),a<-o&&(a=-o),a}function tNe(e,t){var n=e?qO.STEP:-qO.STEP;return t&&(n=n*.4),n}function ite(e,t,n){var r=t.heads[e?0:t.heads.length-1],a=n.heads[e?0:n.heads.length-1],o=r.x;e&&(o+=r.w-.6);var l=a.x;return l+=e?a.w:.6,[o,l]}function nNe(e,t,n,r,a,o,l,u,h,f){var d=n-2,p=n-2,g=Math.round(r?Math.max(e+d,h+p):Math.min(e-d,u-p)),m=eNe(a,o,t,l),y=g+Math.floor(m/2),b=g+Math.floor(-m/2);return f||(r&&g<6||!r&&g>6)&&(y=6,b=6),[y,b]}function rNe(e,t,n,r,a){for(var o=0;o<e.length;o++){var l=e[o];if(!l.abcelem.rest){var u=!l.addExtra,h=u?a:l,f=l.heads[t?0:l.heads.length-1],d=1/5,p=f.pitch+(t?d:-d),g=t?f.w:0;u||(g+=f.dx);var m=f.x+g,y=jO(n.startX,n.startY,n.endX,n.endY,m),b=t?-.6:.6;t||(y-=r/2/qO.STEP),u&&(g+=l.heads[0].dx),f.c==="noteheads.slash.quarter"&&(t?p+=1:p-=1);var T=new QOe(null,g,0,p,{type:"stem",pitch2:y,linewidth:b});T.setX(h.x),h.addRight(T)}}}function iNe(e,t,n,r,a){for(var o=[],l=[],u=0;u<e.length;u++){var h=e[u];if(!h.abcelem.rest){var f=h.heads[t?0:h.heads.length-1],d=f.x+(t?f.w:0),p=jO(n.startX,n.startY,n.endX,n.endY,d),g=t?-1.5:1.5;r&&(g=g*2/3);var m=h.abcelem.duration;m===0&&(m=.25);for(var y=Q$(m);y<-3;y++){var b=-4-y;if(l[b]?l[b].single=!1:l[b]={x:d+(t?-.6:0),y:p+g*(b+1),durlog:y,single:!0},u>0&&h.abcelem.beambr&&h.abcelem.beambr<=b+1){l[b].split||(l[b].split=[l[b].x]);var T=ite(t,e[u-1],h);l[b].split[l[b].split.length-1]>=T[0]&&(T[0]+=h.w),l[b].split.push(T[0]),l[b].split.push(T[1])}}for(var E=l.length-1;E>=0;E--)if(u===e.length-1||Q$(e[u+1].abcelem.duration)>-E-4){var w=d,x=p+g*(E+1);l[E].single&&(w=u===0?d+5:d-5,x=jO(n.startX,n.startY,n.endX,n.endY,w)+g*(E+1));var S={startX:l[E].x,endX:w,startY:l[E].y,endY:x,dy:a};if(l[E].split!==void 0){var A=l[E].split;S.endX<=A[A.length-1]&&(A[A.length-1]-=h.w),A.push(S.endX),S.split=l[E].split}o.push(S),l=l.slice(0,E)}}}return o}var aNe=JOe,sNe=k_;function oNe(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(e.hasBeam&&(t.elems[0]!==e.anchor1.parent||t.elems[t.elems.length-1]!==e.anchor2.parent)&&(e.hasBeam=!1),e.hasBeam){var n=AC(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=lNe(n,e.anchor2.x,t),e.yTextPos+=AC(t)?3:-2,e.xTextPos=cNe(n,e.anchor2.x),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,AC(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,e.anchor1.parent.type==="rest"&&e.anchor2.parent.type!=="rest"?e.startNote=e.endNote:e.anchor2.parent.type==="rest"&&e.anchor1.parent.type!=="rest"&&(e.endNote=e.startNote);for(var r=0,a=0;a<e.middleElems.length;a++)r=Math.max(r,e.middleElems[a].top);r+=4,(r>e.startNote||r>e.endNote)&&(e.startNote=r,e.endNote=r),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}delete e.middleElems,delete e.flatBeams}function AC(e){return e.stemsUp}function lNe(e,t,n){if(n.beams.length===0)return 0;n=n.beams[0];var r=e+(t-e)/2;return sNe(n.startX,n.startY,n.endX,n.endY,r)}function cNe(e,t){return e+(t-e)/2}var uNe=oNe,hNe=aNe,fNe=k_,dNe=uNe,pNe=function(e){for(var t=0;t<e.beams.length;t++)if(e.beams[t].type==="BeamElem"){hNe(e.beams[t]),gNe(e.beams[t]);for(var n=0;n<e.beams[t].elems.length;n++)e.adjustRange(e.beams[t].elems[n])}for(e.staff.specialY.chordLines=mNe(e.children),t=0;t<e.otherchildren.length;t++){var r=e.otherchildren[t];r.type==="TripletElem"&&(dNe(r),e.adjustRange(r))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)};function gNe(e){for(var t=1.5,n=0;n<e.elems.length;n++){var r=e.elems[n];if(r.top)for(var a=bNe(r,e),o=0;o<r.children.length;o++){var l=r.children[o];if(l.klass==="ornament"&&l.position!=="below"&&l.bottom-t<a){var u=a-l.bottom+t;l.bottom+=u,l.top+=u,l.pitch+=u,a=r.top=l.top}}}}function eW(e,t){var n=t.getChordDim();if(n){for(var r=0;r<e.length;r++){var a=e[r]<n.left;if(a){r>0&&t.putChordInLane(r),e[r]=n.right;return}}e.push(n.right),t.putChordInLane(e.length-1)}}function mNe(e){var t=[0],n=[0],r,a,o;for(r=0;r<e.length;r++){for(a=0;a<e[r].children.length;a++)o=e[r].children[a],o.chordHeightAbove&&eW(t,o);for(a=e[r].children.length-1;a>=0;a--)o=e[r].children[a],o.chordHeightBelow&&eW(n,o)}return(t.length>1||n.length>1)&&yNe(e,t.length,n.length),{above:t.length,below:n.length}}function vNe(e){for(var t=0,n=0;n<e.children.length;n++){var r=e.children[n];r.chordHeightBelow&&t++}return t}function yNe(e,t,n){for(var r=0;r<e.length;r++){vNe(e[r]);for(var a=0;a<e[r].children.length;a++){var o=e[r].children[a];o.chordHeightAbove&&o.invertLane(t)}}}function bNe(e,t){return t=t.beams[0],fNe(t.startX,t.startY,t.endX,t.endY,e.x)}var TNe=pNe,u1=fo,ENe=function(e,t){for(var n,r=0;r<t.staffs.length;r++){var a=t.staffs[r],o={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(a.originalTop=a.top,a.originalBottom=a.bottom),sg(a,o,"lyricHeightAbove"),sg(a,o,"chordHeightAbove",a.specialY.chordLines.above),a.specialY.endingHeightAbove&&(a.specialY.chordHeightAbove?a.top+=2:a.top+=a.specialY.endingHeightAbove+d0,o.endingHeightAbove=a.top),a.specialY.dynamicHeightAbove&&a.specialY.volumeHeightAbove?(a.top+=Math.max(a.specialY.dynamicHeightAbove,a.specialY.volumeHeightAbove)+d0,o.dynamicHeightAbove=a.top,o.volumeHeightAbove=a.top):(sg(a,o,"dynamicHeightAbove"),sg(a,o,"volumeHeightAbove")),sg(a,o,"partHeightAbove"),sg(a,o,"tempoHeightAbove"),a.specialY.lyricHeightBelow&&(a.specialY.lyricHeightBelow+=e.spacing.vocal/u1.STEP,o.lyricHeightBelow=a.bottom,a.bottom-=a.specialY.lyricHeightBelow+d0),a.specialY.chordHeightBelow){o.chordHeightBelow=a.bottom;var l=a.specialY.chordHeightBelow;a.specialY.chordLines.below&&(l*=a.specialY.chordLines.below),a.bottom-=l+d0}a.specialY.volumeHeightBelow&&a.specialY.dynamicHeightBelow?(o.volumeHeightBelow=a.bottom,o.dynamicHeightBelow=a.bottom,a.bottom-=Math.max(a.specialY.volumeHeightBelow,a.specialY.dynamicHeightBelow)+d0):a.specialY.volumeHeightBelow?(o.volumeHeightBelow=a.bottom,a.bottom-=a.specialY.volumeHeightBelow+d0):a.specialY.dynamicHeightBelow&&(o.dynamicHeightBelow=a.bottom,a.bottom-=a.specialY.dynamicHeightBelow+d0),e.showDebug&&e.showDebug.indexOf("box")>=0&&(a.positionY=o);for(var u=0;u<a.voices.length;u++){var h=t.voices[a.voices[u]];wNe(o,h,e.spacing)}if(n!==void 0){var f=a.top-10,d=n+f,p=e.spacing.systemStaffSeparation/u1.STEP,g=p-d;g>0&&(a.top+=g)}a.top+=e.spacing.staffTopMargin/u1.STEP,n=2-a.bottom}},d0=1;function sg(e,t,n,r){if(e.specialY[n]){var a=e.specialY[n];r&&(a*=r),e.top+=a+d0,t[n]=e.top}}function wNe(e,t,n){var r,a;for(r=0;r<t.children.length;r++)a=t.children[r],xNe(e,a,n);for(r=0;r<t.otherchildren.length;r++)switch(a=t.otherchildren[r],a.type){case"CrescendoElem":SNe(e,a);break;case"DynamicDecoration":ANe(e,a);break;case"EndingElem":INe(e,a);break;case"TieElem":var o=a.getYBounds();t.staff.top=Math.max(t.staff.top,o[0]),t.staff.top=Math.max(t.staff.top,o[1]),t.staff.bottom=Math.min(t.staff.bottom,o[0]),t.staff.bottom=Math.min(t.staff.bottom,o[1]);break}}function xNe(e,t,n){for(var r=0;r<t.children.length;r++){var a=t.children[r];for(var o in t.specialY)t.specialY.hasOwnProperty(o)&&a[o]&&(a.pitch=e[o],a.top===void 0&&(a.type==="TempoElement"?CNe(e,a):RNe(e,a,n),t.pushTop(a.top),t.pushBottom(a.bottom)))}}function SNe(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function ANe(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function INe(e,t){t.pitch=e.endingHeightAbove-2}function CNe(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var n=t.pitch-t.totalHeightInPitches+1;t.note.top=n,t.note.bottom=n;for(var r=0;r<t.note.children.length;r++){var a=t.note.children[r];a.top+=n,a.bottom+=n,a.pitch+=n,a.pitch2!==void 0&&(a.pitch2+=n)}}}function RNe(e,t,n){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+n.vocal/u1.STEP,t.bottom=e.lyricHeightBelow+n.vocal/u1.STEP,t.pitch-=n.vocal/u1.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove;break}(t.pitch===void 0||t.top===void 0)&&console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}var kNe=ENe,Wh=function(){};Wh.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0};Wh.layoutEnded=function(e){return e.i>=e.children.length};Wh.getNextX=function(e){return Math.max(e.minx,e.nextx)};Wh.getSpacingUnits=function(e){return Math.sqrt(e.spacingduration*8)};Wh.layoutOneItem=function(e,t,n,r,a){var o=n.children[n.i];if(!o)return 0;var l=e-n.minx,u=n.durationindex+o.duration>0?r:0;if(o.abcelem.el_type==="note"&&!o.abcelem.rest&&n.voicenumber!==0&&a){var h=a.children[a.i],f=h&&(o.abcelem.maxpitch<=h.abcelem.maxpitch+1&&o.abcelem.maxpitch>=h.abcelem.minpitch-1||o.abcelem.minpitch<=h.abcelem.maxpitch+1&&o.abcelem.minpitch>=h.abcelem.minpitch-1);if(f&&o.abcelem.minpitch===h.abcelem.minpitch&&o.abcelem.maxpitch===h.abcelem.maxpitch&&h.heads&&h.heads.length>0&&o.heads&&o.heads.length>0&&h.heads[0].c===o.heads[0].c&&(f=!1),f){var d=h.heads&&h.heads.length>0?h.heads[0].realWidth:h.fixed.w;o.adjustedWidth||(o.adjustedWidth=d+o.w),o.w=o.adjustedWidth;for(var p=0;p<o.children.length;p++){var g=o.children[p];g.name.indexOf("accidental")<0&&(g.adjustedWidth||(g.adjustedWidth=g.dx+d),g.dx=g.adjustedWidth)}}}var m=ONe(o,u);return l<m&&(n.i===0||o.type!=="bar"||n.children[n.i-1].type!=="part"&&n.children[n.i-1].type!=="tempo")&&(e+=m-l),o.setX(e),n.spacingduration=o.duration,n.minx=e+NNe(o),n.i!==n.children.length-1&&(n.minx+=o.minspacing),this.updateNextX(e,t,n),e};Wh.shiftRight=function(e,t){var n=t.children[t.i];n&&(n.setX(n.x+e),t.minx+=e,t.nextx+=e)};Wh.updateNextX=function(e,t,n){n.nextx=e+t*this.getSpacingUnits(n)};Wh.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,e.children[e.i].type==="bar"&&(e.durationindex=Math.round(e.durationindex*64)/64),e.i++)};function ONe(e,t){var n=0;return(e.type==="note"||e.type==="bar")&&(n=t),-e.extraw+n}function NNe(e){return e.w}var LNe=Wh,So=LNe;function _Ne(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];if(r.children.length>0){var a=r.children.length-1,o=r.children[a];if(o.abcelem.el_type==="bar"){var l=o.children[0].x;l>t?t=l:o.children[0].x=t}}}}var DNe=function(e,t,n,r,a){var o=1e-7,l=0,u=1e3,h=a;r.startx=h;var f,d=0;for(n&&console.log("init layout",e),f=0;f<r.voices.length;f++)So.beginLayout(h,r.voices[f]);for(var p=0;!MNe(r.voices);){for(d=null,f=0;f<r.voices.length;f++)!So.layoutEnded(r.voices[f])&&(!d||IC(r.voices[f])<d)&&(d=IC(r.voices[f]));var g=[],m=[];for(f=0;f<r.voices.length;f++){var y=IC(r.voices[f]);y-d>o?m.push(r.voices[f]):g.push(r.voices[f])}p=0;var b=0;for(f=0;f<g.length;f++)So.getNextX(g[f])>h&&(h=So.getNextX(g[f]),p=So.getSpacingUnits(g[f]),b=g[f].spacingduration);l+=p,u=Math.min(u,p),n&&console.log("currentduration: ",d,l,u);var T=void 0;for(f=0;f<g.length;f++){var E=g[f];E.voicenumber===0&&(T=f);var w=T!==void 0&&g[T].voicenumber!==E.voicenumber?g[T]:void 0;PNe(E,w)||(w=void 0);var x=So.layoutOneItem(h,e,E,t,w),S=x-h;if(S>0){h=x;for(var A=0;A<f;A++)So.shiftRight(S,g[A])}}for(f=0;f<m.length;f++)m[f].spacingduration-=b,So.updateNextX(h,e,m[f]);for(f=0;f<g.length;f++){var R=g[f];So.updateIndices(R)}}for(f=0;f<r.voices.length;f++)So.getNextX(r.voices[f])>h&&(h=So.getNextX(r.voices[f]),p=So.getSpacingUnits(r.voices[f]));return _Ne(r.voices),l+=p,r.setWidth(h),{spacingUnits:l,minSpace:u}};function MNe(e){for(var t=0;t<e.length;t++)if(!So.layoutEnded(e[t]))return!1;return!0}function IC(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function PNe(e,t){return!e||!e.staff||!e.staff.voices||e.staff.voices.length===0||!t||!t.staff||!t.staff.voices||t.staff.voices.length===0?!1:e.staff.voices[0]===t.staff.voices[0]}var FNe=DNe;function BNe(e,t,n,r,a){var o=e.padding.left,l=0,u,h;for(u=0;u<n.length;u++)n[u].header&&(h=t.calc(n[u].header,"voicefont",""),l=Math.max(l,h.width));if(l=tW(l,r,t),l=tW(l,a,t),l){var f=t.calc("A","voicefont","");l+=f.width}o+=l;var d=0;return d=nW(r,o,d),d=nW(a,o,d),o+d}function tW(e,t,n){if(t){for(var r=0;r<t.length;r++)if(t[r].header){var a=n.calc(t[r].header,"voicefont","");e=Math.max(e,a.width)}}return e}function nW(e,t,n){if(e)for(var r=0;r<e.length;r++)HNe(t,e[r]),n=Math.max(n,e[r].getWidth());return n}function HNe(e,t){t.x=e}var ate=BNe,$Ne=ate;function WNe(e,t,n){var r=$Ne(e,t.getTextSize,t.voices,t.brace,t.bracket),a=UNe(t,n.minPadding),o=a.totalDuration,l=a.minSpacing,u=l*o;n.minWidth&&(u=Math.max(u,n.minWidth));var h=n.minPadding?n.minPadding/2:2;t.startx=r,t.w=u+r;for(var f=0;f<t.voices.length;f++){var d=t.voices[f];d.startx=r,d.w=u+r;for(var p=r,g=!1,m=0,y=0;y<d.children.length;y++){var b=d.children[y];g||(b.duration!==0?(g=!0,m=(u+r-p)/o,t.gridStart=p):(b.x=p,p+=b.w+b.minspacing)),g&&(n.align==="center"?b.x=p+b.duration*m/2-b.w/2:b.duration===0?b.x=p+1-b.w:b.x=p+h-b.extraw,p+=b.duration*m);for(var T=0;T<b.children.length;T++){var E=b.children[T],w=E.dx?E.dx:0;E.x=b.x+w}}t.gridEnd=p}return u}function UNe(e,t){for(var n=0,r=0,a=0;a<e.voices.length;a++){for(var o=0,l=e.voices[a],u=0;u<l.children.length;u++){var h=l.children[u];if(o+=h.duration,h.duration){var f=(h.w+t)/h.duration;n=Math.max(n,f)}}r=Math.max(r,o)}return{totalDuration:r,minSpacing:n}}var GNe=WNe,zNe=TNe,YNe=kNe,VNe=FNe,qNe=ate,jNe=GNe,XNe=function(e,t,n,r,a,o){var l,u,h=n;for(l=0;l<t.lines.length;l++)if(u=t.lines[l],u.staff){var f;o!==void 0?f=jNe(e,u.staffGroup,o):f=KNe(e,h,r,u.staffGroup,t.formatting,l===t.lines.length-1,!1),Math.round(f)>Math.round(h)&&(h=f,a&&(l=-1))}for(l=0;l<t.lines.length;l++)if(u=t.lines[l],u.staffGroup&&u.staffGroup.voices){for(var d=0;d<u.staffGroup.voices.length;d++)zNe(u.staffGroup.voices[d]);YNe(e,u.staffGroup)}for(l=0;l<t.lines.length;l++)u=t.lines[l],u.staffGroup&&u.staffGroup.setHeight();return h},KNe=function(e,t,n,r,a,o,l){for(var u=qNe(e,r.getTextSize,r.voices,r.brace,r.bracket),h=n,f=0;f<8;f++){var d=VNe(h,e.minPadding,l,r,u);if(h=ZNe(o,a.stretchlast,t+e.padding.left,r.w,h,d.spacingUnits,d.minSpace,e.padding.left+e.padding.right),h===null)break}return QNe(r.voices),r.w-u};function ZNe(e,t,n,r,a,o,l,u){if(e)if(t===void 0){if(r/n<.66)return null}else{var h=1-(r+u)/n,f=h<t;if(!f)return null}if(Math.abs(n-r)<2)return null;var d=o*a,p=r-d;return o>0?(a=(n-p)/o,a*l>50&&(a=50/l),a):null}function QNe(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=1;r<n.children.length-1;r++){var a=n.children[r];if(a.abcelem.rest&&(a.abcelem.rest.type==="whole"||a.abcelem.rest.type==="multimeasure")){var o=n.children[r-1],l=n.children[r+1];a.center(o,l)}}}var JNe=XNe,Dl=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};Dl.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Dl.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Dl.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Dl.prototype.isInMeasure=function(){return this.measureNumber!==null};Dl.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Dl.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Dl.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Dl.prototype.incrNote=function(){this.noteNumber++};Dl.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e};Dl.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Dl.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="abcjs-tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var n=0;n<t.length;n++)t[n].indexOf("abcjs-")!==0&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")};var e8e=Dl,dA=function(t,n){this.formatting=t,this.classes=n};dA.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)};dA.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};dA.prototype.calc=function(e,t){var n;typeof e=="string"?(n=this.formatting[e],n?n={face:n.face,size:Math.round(n.size*4/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):n={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var r=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*r;var a={"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)};return{font:n,attr:a}};var t8e=dA,bv=function(t,n){this.getFontAndAttr=t,this.svg=n};bv.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)};bv.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)};bv.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};bv.prototype.calc=function(e,t,n,r){var a;typeof t=="string"?a=this.attr(t,n):a={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":this.getFamily(t.face),"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var o=this.svg.getTextSize(e,a.attr,r);return a.font.box?{height:o.height+a.font.padding*4,width:o.width+a.font.padding*4}:o};bv.prototype.baselineToCenter=function(e,t,n,r,a){var o=this.calc(e,t,n).height,l=this.attr(t,n).font.size;return o*.5+(a-r-2)*l};var n8e=bv,r8e=function(){for(var e=0,t,n=arguments[e++],r=[],a,o,l,u;n;){if(a=/^[^\x25]+/.exec(n))r.push(a[0]);else if(a=/^\x25{2}/.exec(n))r.push("%");else if(a=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((t=arguments[a[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(a[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(a[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=a[6]?t.toExponential(a[6]):t.toExponential();break;case"f":t=a[6]?parseFloat(t).toFixed(a[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&a[6]?t.substring(0,a[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(a[7])&&a[2]&&t>0?"+"+t:t,l=a[3]?a[3]=="0"?"0":a[3][1]:" ",u=a[5]-String(t).length,o=a[5]?str_repeat(l,u):"",r.push(a[4]?t+o:o+t)}else throw"Huh ?!";n=n.substring(a[0].length)}return r.join("")},Op=r8e;function i8e(e){return parseFloat(e.toFixed(2))}var wu=i8e,rW=wu;function a8e(e,t,n){var r=t.y;if(t.phrases){var u=e.paper.richTextLine(t.phrases,t.x,t.y,t.klass,t.anchor);return u}if(t.lane){var a=t.dim.font.size*.25;r+=(t.dim.font.size+a)*t.lane}var o;t.dim?(o=t.dim,o.attr.class=t.klass):o=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(o.attr["text-anchor"]=t.anchor),t["dominant-baseline"]&&(o.attr["dominant-baseline"]=t["dominant-baseline"]),o.attr.x=t.x,o.attr.y=r,t.centerVertically||(o.attr.y+=o.font.size),t.type==="debugfont"&&(console.log("Debug msg: "+t.text),o.attr.stroke="#ff0000"),t.cursor&&(o.attr.cursor=t.cursor);var l=t.text.replace(/\n\n/g,`
 
`);l=l.replace(/^\n/,` 
`),o.font.box&&(n||e.paper.openGroup({klass:o.attr.class,fill:e.foregroundColor,"data-name":t.name}),o.attr["text-anchor"]==="end"?o.attr.x-=o.font.padding:o.attr["text-anchor"]==="start"&&(o.attr.x+=o.font.padding),o.attr.y+=o.font.padding,delete o.attr.class),t.noClass&&delete o.attr.class,o.attr.x=rW(o.attr.x),o.attr.y=rW(o.attr.y),t.name&&(o.attr["data-name"]=t.name);var u=e.paper.text(l,o.attr);if(o.font.box){var h=u.getBBox(),f=0;o.attr["text-anchor"]==="middle"?f=h.width/2+o.font.padding:o.attr["text-anchor"]==="end"&&(f=h.width+o.font.padding*2);var d=0;t.centerVertically&&(d=h.height-o.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-f),y:Math.round(r-d),width:Math.round(h.width+o.font.padding*2),height:Math.round(h.height+o.font.padding*2)}),n||(u=e.paper.closeGroup())}return u}var wf=a8e,K3=Op,jl=fo,s8e=wf;function o8e(e,t,n){var r=t.startVoice.staff.absoluteY-jl.STEP*10;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-jl.STEP*2:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-jl.STEP*2:t.endY=t.startVoice.staff.absoluteY-jl.STEP*2,u8e(e,t.x,r,t.endY,t.type,t.header,n)}function l8e(e,t,n,r,a){t+=jl.STEP;var o=jl.STEP*.75,l=jl.STEP*.75,u=r-n,h=K3("M %f %f l %f %f l %f %f l %f %f z",t,n-l,0,u+l*2,o,0,0,-(u+l*2)),f=jl.STEP*2,d=jl.STEP;return h+=K3("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,n-l,f*.6,d*.2,f,-d,-f*.1,d*.3,-f,d+jl.STEP),h+=K3("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,n+l+u,f*.6,-d*.2,f,d,-f*.1,-d*.3,-f,-d-jl.STEP),e.paper.path({path:h,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}function c8e(e,t,n,r,a){var o=r-n,l=iW(t,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,o/5.5,o/3.14,o/2,o/2.93,o/4.88,0]);return l+=iW(t,n,[0,17.5,-7.5,6.6,-5,20,0],[o/2,o/1.46,o/1.22,o,o/1.19,o/1.42,o/2]),e.paper.path({path:l,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}function iW(e,t,n,r){return K3("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+n[0],t+r[0],e+n[1],t+r[1],e+n[2],t+r[2],e+n[3],t+r[3],e+n[4],t+r[4],e+n[5],t+r[5],e+n[6],t+r[6])}var u8e=function(e,t,n,r,a,o,l){var u;if(o){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":a});var h=n+(r-n)/2;h=h-e.controller.getTextSize.baselineToCenter(o,"voicefont","staff-extra voice-name",0,1),s8e(e,{x:e.padding.left,y:h,text:o,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return a==="brace"?u=c8e(e,t,n,r,a):a==="bracket"&&(u=l8e(e,t,n,r,a)),o&&(u=e.paper.closeGroup()),l.wrapSvgEl({el_type:a,startChar:-1,endChar:-1},u),u},h8e=o8e;function f8e(e,t,n){var r=e.paper.path(t);return r}var zT=f8e,d8e=Op,p8e=zT,g8e=wu;function m8e(e,t,n){(!t.anchor1||!t.anchor2||!t.anchor1.heads||!t.anchor2.heads||t.anchor1.heads.length===0||t.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var r=4,a=e.calcY(t.anchor1.heads[0].pitch),o=e.calcY(t.anchor2.heads[0].pitch),l=t.anchor1.x+t.anchor1.w/2,u=t.anchor2.x+t.anchor2.w/2,h=v8e(l,a,u,o),f=t.anchor1.w/2+r,d=t.anchor2.w/2+r,p=y8e(l,a,u,o),g=XO(a,p,f);XO(o,p,-d);var m=b8e(h-f-d),y=A8e(e,l+f,g,m,p);return n.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},y),[y]}function v8e(e,t,n,r){var a=n-e,o=r-t;return Math.sqrt(a*a+o*o)}function y8e(e,t,n,r){return(r-t)/(n-e)}function XO(e,t,n){return g8e(e+n*t)}function b8e(e){var t=5;return Math.max(2,Math.floor((e-t*2)/6))}var T8e=[[3.5,-4.8]],E8e=[[1.5,-1],[.3,-.3],[-3.5,3.8]],w8e=[[-1.5,2]],x8e=[[3,4],[3,-4]],S8e=[[-3,4],[-3,-4]];function Sy(e,t){for(var n="",r=0;r<e.length;r++)n+="l"+e[r][0]+" "+XO(e[r][1],t,e[r][0]);return n}var A8e=function(e,t,n,r,a){var o=d8e("M %f %f",t,n);o+=Sy(T8e,a);var l;for(l=0;l<r;l++)o+=Sy(x8e,a);for(o+=Sy(E8e,a),l=0;l<r;l++)o+=Sy(S8e,a);return o+=Sy(w8e,a)+"z",p8e(e,{path:o,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})},I8e=m8e,C8e=Op,R8e=zT,og=wu;function k8e(e,t,n){t.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var r=e.calcY(t.pitch)+4,a=8,o=t.anchor1?t.anchor1.x:0,l=t.anchor2?t.anchor2.x:800,u;return t.dir==="<"?u=aW(e,r+a/2,r,r+a/2,r+a,o,l):u=aW(e,r,r+a/2,r+a,r+a/2,o,l),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},u),[u]}var aW=function(e,t,n,r,a,o,l){t=og(t),n=og(n),r=og(r),a=og(a),o=og(o),l=og(l);var u=C8e("M %f %f L %f %f M %f %f L %f %f",o,t,l,n,o,r,l,a);return R8e(e,{path:u,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},O8e=k8e,sW=wu;function YT(){this.ingroup=!1}YT.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};YT.prototype.isInGroup=function(){return this.ingroup};YT.prototype.addPath=function(e){if(e=e||[],e.length!==0){e[0][0]="m",e[0][1]=sW(e[0][1]-this.lastM[0]),e[0][2]=sW(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,n=e.length;t<n;t++)e[t][0]==="m"&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}};YT.prototype.endGroup=function(e,t){this.ingroup=!1;for(var n="",r=0;r<this.path.length;r++)n+=this.path[r].join(" ");this.path=[];var a=this.paper.closeGroup();return a&&(a.setAttribute("class",this.controller.classes.generate(e)),a.setAttribute("fill",this.controller.renderer.foregroundColor),a.setAttribute("stroke","none"),a.setAttribute("data-name",t)),a};var N8e=new YT,O_=N8e,oW=wf,lg=Ef,lW=O_;function L8e(e,t,n,r,a){var o,l;if(!r)return null;if(r.length>1&&r.indexOf(".")<0){var u=lW.isInGroup()?"":a.klass;e.paper.openGroup({"data-name":a.name,klass:u});for(var h=0,f=0;f<r.length;f++){var d=r[f];l=lg.getYCorr(d),o=lg.printSymbol(t+h,e.calcY(n+l),d,e.paper,{stroke:a.stroke,fill:a.fill}),o?f<r.length-1&&(h+=_8e(d,r[f+1],lg.getSymbolWidth(d))):oW(e,{x:t,y:e.y,text:"no symbol:"+r,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var p=e.paper.closeGroup();return p}else return l=lg.getYCorr(r),lW.isInGroup()?o=lg.printSymbol(t,e.calcY(n+l),r,e.paper,{"data-name":a.name}):o=lg.printSymbol(t,e.calcY(n+l),r,e.paper,{klass:a.klass,stroke:a.stroke,fill:a.fill,"data-name":a.name}),o||(oW(e,{x:t,y:e.y,text:"no symbol:"+r,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function _8e(e,t,n){var r=n;return e==="f"&&t==="f"&&(r=r*2/3),e==="p"&&t==="p"&&(r=r*5/6),e==="f"&&t==="z"&&(r=r*5/8),r}var ste=L8e,D8e=ste;function M8e(e,t,n){t.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var r=D8e(e,t.anchor.x,t.pitch,t.dec,{klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},r),[r]}var P8e=M8e,F8e=Op,B8e=wf,H8e=zT,Nw=wu;function $8e(e,t,n){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||W8e(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),B8e(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var r=e.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},r),r}function Lw(e,t,n,r){return F8e("M %f %f L %f %f",Nw(e),Nw(t),Nw(n),Nw(r))}function W8e(e,t,n,r,a){n=e.calcY(n),a=e.calcY(a);var o=5,l="";l+=Lw(t,n,t,n+o),l+=Lw(r,a,r,a+o);var u=t+(r-t)/2,h=8,f=(a-n)/(r-t),d=u-h,p=n+(d-t)*f;l+=Lw(t,n,d,p);var g=u+h,m=n+(g-t)*f;l+=Lw(g,m,r,a),H8e(e,{path:l,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}var U8e=$8e,CC=Op,G8e=wf,z8e=zT,Yf=wu;function Y8e(e,t,n,r,a){t.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var o=Yf(e.calcY(t.pitch)),l=20,u="";t.anchor1&&(n=Yf(t.anchor1.x+t.anchor1.w),u+=CC("M %f %f L %f %f ",n,o,n,Yf(o+l))),t.anchor2&&(r=Yf(t.anchor2.x),u+=CC("M %f %f L %f %f ",r,o,r,Yf(o+l))),u+=CC("M %f %f L %f %f ",n,o,r,o),e.paper.openGroup({klass:e.controller.classes.generate("ending"),"data-name":"ending"}),z8e(e,{path:u,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&G8e(e,{x:Yf(n+5),y:Yf(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var h=e.paper.closeGroup();return a.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},h),[h]}var V8e=Y8e,cW=Op,Qo=wu;function q8e(e,t,n,r,a){j8e(t,n,r);var o="";t.anchor1?o+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:o+="abcjs-start-edge",t.anchor2?o+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:o+=" abcjs-end-edge",t.hint&&(o="abcjs-hint");var l=t.fixedY?1.5:0,u=X8e(e,t.startX,t.endX,t.startY+l,t.endY+l,t.above,o,t.isTie,t.dotted),h=-1;t.anchor1&&!t.isTie&&(h=t.anchor1.parent.abcelem.startChar-1);var f=-1;return t.anchor2&&!t.isTie&&(f=t.anchor2.parent.abcelem.endChar+1),a.wrapSvgEl({el_type:"slur",startChar:h,endChar:f},u),[u]}var j8e=function(e,t,n){!e.anchor1||!e.anchor2||e.anchor1.pitch===e.anchor2.pitch&&e.internalNotes.length===0?e.isTie=!0:e.isTie=!1,e.isTie?(e.calcTieDirection(),e.calcX(t,n),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,n),e.calcSlurY()),e.avoidCollisionAbove()},X8e=function(e,t,n,r,a,o,l,u,h){var f=u?1.2:1.5;t=Qo(t+6),n=Qo(n+4),r=r+(o?f:-f),a=a+(o?f:-f);var d=Qo(e.calcY(r)),p=Qo(e.calcY(a)),g=n-t,m=p-d,y=Math.sqrt(g*g+m*m),b=g/y,T=m/y,E=y/3.5,w=u?10:25,x=(o?-1:1)*Math.min(w,Math.max(4,E)),S=Qo(t+E*b-x*T),A=Qo(d+E*T+x*b),R=Qo(n-E*b-x*T),C=Qo(p-E*T+x*b),N=2;l?l+=" slur":l="slur",l+=u?" tie":" legato";var O;if(h){l+=" dotted";var L=cW("M %f %f C %f %f %f %f %f %f",t,d,S,A,R,C,n,p);O=e.paper.path({path:L,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(l),"data-name":u?"tie":"slur"})}else{var k=cW("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,d,S,A,R,C,n,p,Qo(R-N*T),Qo(C+N*b),Qo(S-N*T),Qo(A+N*b),t,d);O=e.paper.path({path:k,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(l),"data-name":u?"tie":"slur"})}return O},K8e=q8e,Z8e=zT,cg=wu;function Q8e(e,t){if(t.beams.length!==0){for(var n="",r=0;r<t.beams.length;r++){var a=t.beams[r];if(a.split){for(var o=J8e(e,a.startX,a.startY,a.endX,a.endY),l=[],u=0;u<a.split.length;u+=2)l.push([a.split[u],a.split[u+1]]);for(u=0;u<l.length;u++){var h=hW(a.startX,a.startY,o,l[u][0]),f=hW(a.startX,a.startY,o,l[u][1]);n+=uW(e,l[u][0],h,l[u][1],f,a.dy)}}else n+=uW(e,a.startX,a.startY,a.endX,a.endY,a.dy)}var d=("abcjs-d"+t.duration).replace(/\./g,"-"),p=e.controller.classes.generate("beam-elem "+d),g=Z8e(e,{path:n,stroke:"none",fill:e.foregroundColor,class:p});return[g]}}function uW(e,t,n,r,a,o){n=cg(e.calcY(n)),a=cg(e.calcY(a)),t=cg(t),r=cg(r);var l=cg(n+o),u=cg(a+o);return"M"+t+" "+n+" L"+r+" "+a+"L"+r+" "+u+" L"+t+" "+l+"z"}function J8e(e,t,n,r,a){return(a-n)/(r-t)}function hW(e,t,n,r){var a=r-e;return t+a*n}var e7e=Q8e,t7e=O_,ug=wu;function n7e(e,t,n,r,a,o,l){if(n<0||r<a){var u=ug(a);a=ug(r),r=u}else r=ug(r),a=ug(a);t=ug(t);var h=ug(t+n);if(e.firefox112){t+=n/2;var d={x1:t,x2:t,y1:r,y2:a,stroke:e.foregroundColor,"stroke-width":Math.abs(n)};return o&&(d.class=o),l&&(d["data-name"]=l),e.paper.lineToBack(d)}for(var f=[["M",t,r],["L",t,a],["L",h,a],["L",h,r],["z"]],d={path:""},p=0;p<f.length;p++)d.path+=f[p].join(" ");return o&&(d.class=o),l&&(d["data-name"]=l),t7e.isInGroup()||(d.stroke="none",d.fill=e.foregroundColor),e.paper.pathToBack(d)}var ote=n7e,r7e=Op,_w=wu;function i7e(e,t,n,r,a,o,l){var u=e.foregroundColor;t=_w(t),n=_w(n);var h=_w(r-l),f=_w(r+l);if(e.firefox112){r+=l/2;var d={x1:t,x2:n,y1:r,y2:r,stroke:e.foregroundColor,"stroke-width":Math.abs(l*2)};return a&&(d.class=a),o&&(d["data-name"]=o),e.paper.lineToBack(d)}var p=r7e("M %f %f L %f %f L %f %f L %f %f z",t,h,n,h,n,f,t,f),g={path:p,stroke:"none",fill:u};o&&(g["data-name"]=o),a&&(g.class=a);var m=e.paper.pathToBack(g);return m}var a7e=i7e,s7e=a7e;function o7e(e,t,n,r,a,o,l){var u=e.calcY(r);return s7e(e,t,n,u,a,o,l)}var lte=o7e,Bu=wf,fW=ote,l7e=lte,c7e=ste;function u7e(e,t,n){t.pitch===void 0&&window.console.error(t.type+" Relative Element y-coordinate not set.");var r=e.calcY(t.pitch);switch(t.type){case"symbol":if(t.c===null)return null;var a="symbol";t.klass&&(a+=" "+t.klass),t.graphelem=c7e(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(a),name:t.name});break;case"debug":t.graphelem=Bu(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var o="middle",l="tabnumberfont",u="abcjs-tab-number";t.isGrace&&(l="tabgracefont",r+=2.5,u="tab-grace"),t.graphelem=Bu(e,{x:t.x,y:r,text:""+t.c,type:l,klass:e.controller.classes.generate(u),anchor:o,centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=Bu(e,{x:t.x,y:r,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=Bu(e,{x:t.x,y:r,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=Bu(e,{x:t.x,y:r,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=Bu(e,{x:t.x,y:r+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=Bu(e,{x:t.x,y:r,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=Bu(e,{x:t.x+t.w/2,y:r,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=Bu(e,{x:t.x,y:r,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=fW(e,t.x,t.linewidth+e.lineThickness,r,n||e.calcY(t.pitch2),null,"bar");break;case"stem":var h=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=fW(e,t.x,h,r,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=l7e(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness);break}return t.scalex!==1&&t.graphelem&&h7e(e.paper,t.graphelem,t.scalex,t.scaley,t.x,r),t.graphelem}function h7e(e,t,n,r,a,o){e.setAttributeOnElement(t,{style:"transform:scale("+n+","+r+");transform-origin:"+a+"px "+o+"px;"})}var cte=u7e,f7e=cte,RC=wf;function d7e(e,t){var n=t.x;t.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var r=e.calcY(t.pitch)+2,a,o;if(t.tempo.preString){a=RC(e,{x:n,y:r,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),o=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",a);var l=o.width,u=l/t.tempo.preString.length;n+=l+u}if(t.note){t.note.setX(n);for(var h=0;h<t.note.children.length;h++)f7e(e,t.note.children[h],n);n+=t.note.w+5;var f="= "+t.tempo.bpm;a=RC(e,{x:n,y:r,text:f,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),o=e.controller.getTextSize.calc(f,"tempofont","tempo",a);var d=o.width,p=d/f.length;n+=d+p}t.tempo.postString&&RC(e,{x:n,y:r,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var p7e=d7e,g7e=p7e,m7e=cte,v7e=fo,dW=E_,pW=O_;function y7e(e,t,n,r,a){if(!t.invisible){var o=t.children.length>0&&t.children[0].type==="TempoElement";t.elemset=[],pW.beginGroup(e.paper,e.controller);for(var l=0;l<t.children.length;l++){var u=t.children[l];switch(u.type){case"TempoElement":g7e(e,u);break;default:var h=m7e(e,u,n);u.type==="symbol"&&u.c&&u.c.indexOf("notehead")>=0&&h.setAttribute("class","abcjs-notehead")}}var f=t.type;if((t.type==="note"||t.type==="rest")&&(t.counters=e.controller.classes.getCurrent(),f+=" d"+Math.round(t.durationClass*1e3)/1e3,f=f.replace(/\./g,"-"),t.abcelem.pitches))for(var d=0;d<t.abcelem.pitches.length;d++)f+=" p"+t.abcelem.pitches[d].pitch;var p=pW.endGroup(f,t.type);if(p){if(t.cloned&&(t.cloned.overrideClasses=p.className.baseVal),t.overrideClasses){var g=p.classList&&p.classList.length>0?p.classList[0]+" ":"";p.setAttribute("class",g+t.overrideClasses)}if(o)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,r.add(t,p,!1,a);else{t.elemset.push(p);var m=!1;(t.type==="note"||t.type==="tabNumber")&&(m=!0),r.add(t,p,m,a)}}else t.elemset.length>0&&r.add(t,t.elemset[0],t.type==="note",a);if(t.klass&&dW(t.elemset,"mark","","#00ff00"),t.hint&&dW(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var y=0;y<t.heads.length;y++)t.notePositions.push({x:t.heads[y].x+t.heads[y].w/2,y:a.zero-t.heads[y].pitch*v7e.STEP})}}}var b7e=y7e,T7e=I8e,E7e=O8e,w7e=P8e,x7e=U8e,S7e=V8e,A7e=K8e,I7e=e7e,C7e=wf,gW=b7e;function R7e(e,t,n,r,a){var o=t.w-1;e.staffbottom=t.staff.bottom;var l=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var u=C7e(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);r.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},u)}var h,f,d=!1;for(h=0;h<t.children.length;h++){f=t.children[h],(f.type==="note"||f.type==="rest")&&(d=!0);var p=!1;f.type!=="staff-extra"&&!e.controller.classes.isInMeasure()&&(e.controller.classes.startMeasure(),p=!0),t.staff.isTabStaff&&(f.invisible=!1,f.type=="bar"&&f.abcelem.lastBar&&(n=t.topLine)),gW(e,f,t.barto||h===t.children.length-1?n:0,r,a),(f.type==="note"||k7e(f))&&e.controller.classes.incrNote(),f.type==="bar"&&!p&&d&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),h=0;h<t.beams.length;h++){var g=t.beams[h];g==="bar"?e.controller.classes.incrMeasure():I7e(e,g)}for(e.controller.classes.startMeasure(),h=0;h<t.otherchildren.length;h++)if(f=t.otherchildren[h],f==="bar")e.controller.classes.incrMeasure();else switch(f.type){case"GlissandoElem":f.elemset=T7e(e,f,r);break;case"CrescendoElem":f.elemset=E7e(e,f,r);break;case"DynamicDecoration":f.elemset=w7e(e,f,r);break;case"TripletElem":x7e(e,f,r);break;case"EndingElem":f.elemset=S7e(e,f,t.startx+10,o,r);break;case"TieElem":f.elemset=A7e(e,f,t.startx+10,o,r);break;default:console.log(f),gW(e,f,t.startx+10,o,r)}e.foregroundColor=l}function k7e(e){return e.type!=="rest"?!1:!!(e.abcelem&&e.abcelem.rest&&e.abcelem.rest.type!=="spacer")}var O7e=R7e,mW=lte;function N7e(e,t,n,r,a,o){var l="abcjs-top-line",u=2;a&&(u=a),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var h=0,f=0;if(r===1)mW(e,t,n,6,l,null,o+e.lineThickness),h=e.calcY(10),f=e.calcY(2);else for(var d=r-1;d>=0;d--){var p=(d+1)*u;f=e.calcY(p),h===0&&(h=f),mW(e,t,n,p,l,null,o+e.lineThickness),l=void 0}return e.paper.closeGroup(),[h,f]}var L7e=N7e;function _7e(e,t,n){var r=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),r}var D7e=_7e;function M7e(e,t){var n="rgba(0,0,0,255)",r="rgba(0,0,0,0)",a=Math.round(e.y),o=e.controller.width,l=(o-t)/2,u=l+t,h="M "+l+" "+a+" L "+u+" "+a+" L "+u+" "+(a+1)+" L "+l+" "+(a+1)+" L "+l+" "+a+" z";e.paper.pathToBack({path:h,stroke:r,fill:n,class:e.controller.classes.generate("defined-text")})}var P7e=M7e,F7e=P7e,B7e=wf;function H7e(e,t,n){for(var r=0;r<t.rows.length;r++){var a=t.rows[r];if(a.absmove)e.absolutemoveY(a.absmove);else if(a.move)e.moveY(a.move);else if(a.text||a.phrases){var o=a.left?a.left:0,l=B7e(e,{x:o,y:e.y,text:a.text,phrases:a.phrases,"dominant-baseline":a["dominant-baseline"],type:a.font,klass:a.klass,name:a.name,anchor:a.anchor});a.absElemType&&n.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:a.text},l)}else if(a.separator)F7e(e,a.separator);else if(a.startGroup)e.paper.openGroup({klass:a.klass,"data-name":a.name});else if(a.endGroup){var u=e.paper.closeGroup();a.absElemType&&n.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:""},u)}}}var ute=H7e,Dg=fo,$7e=h8e,W7e=O7e,U7e=L7e,T4=D7e,G7e=ote,z7e=ute;function Y7e(e,t,n,r){for(var a,o=e.y,l=0;l<t.staffs.length;l++){var u=t.staffs[l];e.moveY(Dg.STEP,u.top),u.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&u.voices&&V7e(e,t.voices,u.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:o,y2:o,stroke:"#0000ff"}),T4(e,{x:e.padding.left,y:e.calcY(u.originalTop),width:e.controller.width,height:e.calcY(u.originalBottom)-e.calcY(u.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),a=0,S(u,"chordHeightAbove"),S(u,"chordHeightBelow"),S(u,"dynamicHeightAbove"),S(u,"dynamicHeightBelow"),S(u,"endingHeightAbove"),S(u,"lyricHeightAbove"),S(u,"lyricHeightBelow"),S(u,"partHeightAbove"),S(u,"tempoHeightAbove"),S(u,"volumeHeightAbove"),S(u,"volumeHeightBelow"))),e.moveY(Dg.STEP,-u.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var h,f,d=2,p=0,g=0;g<t.voices.length;g++){var m=t.voices[g].staff,y=t.voices[g].tabNameInfos;if(e.y=m.absoluteY,e.controller.classes.incrVoice(),!t.voices[g].duplicate){if(h||(h=e.calcY(10)),f=e.calcY(d),m.lines!==0){m.linePitch&&(d=m.linePitch),e.controller.classes.newMeasure();var b=U7e(e,t.startx,t.w,m.lines,m.linePitch,.35);f=b[1],m.bottomLine=f,m.topLine=b[0],m.hasTab&&(p=m.topLine),m.hasStaff&&(p=m.hasStaff.topLine,t.voices[g].barto=!0,t.voices[g].topLine=h)}vW(e,m.absoluteY,t.brace,g,n),vW(e,m.absoluteY,t.bracket,g,n)}W7e(e,t.voices[g],p,n,{top:o,zero:e.y,height:t.height*Dg.STEP});var T=0;if(y){var E={rows:[]};E.rows.push({absmove:f+2});var w=8;E.rows.push({left:t.startx+w,text:y.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),E.rows.push({move:y.textSize.height}),z7e(e,E),T=y.textSize.height}e.controller.classes.newMeasure(),t.voices[g].duplicate||(p=e.calcY(2+T))}e.controller.classes.newMeasure();var x=t.staffs.length;x>1&&(h=t.staffs[0].topLine,f=t.staffs[x-1].bottomLine,G7e(e,t.startx,.6,h,f,null)),e.y=o;function S(A,R){var C=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(A.positionY&&A.positionY[R]){var N=A.specialY[R]*Dg.STEP;R==="chordHeightAbove"&&A.specialY.chordLines&&A.specialY.chordLines.above&&(N*=A.specialY.chordLines.above),R==="chordHeightBelow"&&A.specialY.chordLines&&A.specialY.chordLines.below&&(N*=A.specialY.chordLines.below),T4(e,{x:e.padding.left,y:e.calcY(A.positionY[R]),width:e.controller.width,height:N,fill:C[a],stroke:C[a],"fill-opacity":.4,"stroke-opacity":.4},R.substr(0,4)),a+=1,a>6&&(a=0)}}}function vW(e,t,n,r,a){if(n)for(var o=0;o<n.length;o++)n[o].isStartVoice(r)&&(n[o].startY=t-Dg.STEP*10,n[o].elemset=$7e(e,n[o],a))}function V7e(e,t,n){for(var r=0;r<n.length;r++)for(var a=t[n[r]].children,o=0;o<a.length;o++){var l=a[o],u=l.getFixedCoords();if(!(l.invisible||u.t===void 0||u.b===void 0)){var h=(u.t-u.b)*Dg.STEP;T4(e,{x:u.x,y:e.calcY(u.t),width:u.w,height:h,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var f=0;f<l.children.length;f++){var d=l.children[f],p=d.getChordDim();if(p){var g=e.calcY(d.pitch);g+=d.dim.font.size*d.getLane(),T4(e,{x:p.left,y:g,width:p.right-p.left,height:d.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var q7e=Y7e;function j7e(e,t,n,r){var a=(t+e.padding.left+e.padding.right)*n,o=(e.y+e.padding.bottom)*n;if(e.isPrint&&(o=Math.max(o,1056)),e.ariaLabel!==""){var l="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(l+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(l);var u=e.ariaLabel?e.ariaLabel:l;e.paper.setAttribute("aria-label",u)}var h=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+h.join(" ")+"}");var f={overflow:"hidden"};r==="resize"?e.paper.setResponsiveWidth(a,o):(f.width="",f.height=o+"px",n<1?(f.width=a+"px",e.paper.setSize(a/n,o/n)):e.paper.setSize(a,o)),e.paper.setScale(n),e.paper.setParentStyles(f)}var X7e=j7e,K7e=kee,Z7e=Oee;function VT(e,t,n){this.elements=[],this.paper=e,this.tuneNumber=n,this.selectTypes=t}VT.prototype.getElements=function(){return this.elements};VT.prototype.add=function(e,t,n,r){if(this.canSelect(e)){var a;this.selectTypes===void 0?a={selectable:!1,"data-index":this.elements.length}:a={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,a);var o={absEl:e,svgEl:t,isDraggable:n};r!==void 0&&(o.staffPos=r),this.elements.push(o)}};VT.prototype.canSelect=function(e){return this.selectTypes===!1||!e||!e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?e.abcelem.el_type==="note"||e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(e.abcelem.el_type)>=0};VT.prototype.wrapSvgEl=function(e,t){var n={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:K7e,unhighlight:Z7e};this.add(n,t,!1)};var Q7e=VT,J7e=q7e,eLe=X7e,kC=ute,hte=fo,tLe=Q7e;function nLe(e,t,n,r,a,o,l,u,h,f){var d=new tLe(e.paper,u,h),p={};t.shouldAddClasses&&(p.klass="abcjs-meta-top"),e.paper.openGroup(p),e.moveY(e.padding.top),kC(e,n.topText,d),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var g=[],m=0;m<n.lines.length;m++){t.incrLine();var y=n.lines[m];if(y.staff){t.shouldAddClasses&&(p.klass="abcjs-staff-wrapper abcjs-l"+t.lineNumber),e.paper.openGroup(p),y.vskip&&e.moveY(y.vskip),g.length>=1&&iLe(e,e.spacing.staffSeparation,g[g.length-1],y.staffGroup);var b=rLe(e,y.staffGroup,d);b.line=f+m,g.push(b),e.paper.closeGroup()}else y.nonMusic&&(t.shouldAddClasses&&(p.klass="abcjs-non-music"),e.paper.openGroup(p),kC(e,y.nonMusic,d),e.paper.closeGroup())}return t.reset(),n.bottomText&&n.bottomText.rows&&n.bottomText.rows.length>0&&(t.shouldAddClasses&&(p.klass="abcjs-meta-bottom"),e.paper.openGroup(p),e.moveY(24),kC(e,n.bottomText,d),e.paper.closeGroup()),eLe(e,a,l,o),{staffgroups:g,selectables:d.getElements()}}function rLe(e,t,n,r){J7e(e,t,n);var a=t.height*hte.STEP;return e.y+=a,t}function iLe(e,t,n,r){var a=n.staffs[n.staffs.length-1],o=-(a.bottom-2),l=r.staffs[0].top-10,u=l+o,h=u*hte.STEP;h<t&&e.moveY(t-h)}var aLe=nLe,sLe=Qee;function oLe(e){for(var t=e;t&&t.attributes&&t.tagName.toLowerCase()!=="svg"&&!t.attributes.selectable;)t=t.parentNode;if(t&&t.attributes&&t.attributes.selectable){var n=t.attributes["data-index"].nodeValue;if(n&&(n=parseInt(n,10),n>=0&&n<this.selectables.length)){var r=this.selectables[n],a=sLe(r,e);return a.index=n,a.element=r,a}}return null}var lLe=oLe,cLe=fo,uLe=bOe,hLe=wOe,fLe=SOe,dLe=IOe,pLe=ROe,fte=_Oe,gLe=DOe,mLe=KOe,dte=JNe,vLe=e8e,pte=t8e,gte=n8e,yLe=aLe,bLe=Fee,TLe=lLe,xu=function(e,t){t=t||{},this.findSelectableElement=TLe,this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*cLe.SPACE,this.initialClef=t.initialClef,this.timeBasedLayout=t.timeBasedLayout,this.expandToWidest=!!t.expandToWidest,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new vLe({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new hLe(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.accentAbove&&(this.accentAbove=t.accentAbove),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",t.ariaLabel!==void 0&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};xu.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};xu.prototype.engraveABC=function(e,t,n){e[0]===void 0&&(e=[e]),this.reset();for(var r=0;r<e.length;r++)t===void 0&&(t=r),this.getFontAndAttr=new pte(e[r].formatting,this.classes),this.getTextSize=new gte(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[r],t,n)};xu.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)};xu.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new pte(e.formatting,this.classes),this.getTextSize=new gte(this.getFontAndAttr,this.renderer.paper);var t=this.jazzchords;this.setupTune(e,0),this.constructTuneElements(e),dte(this.renderer,e,0,this.space,this.timeBasedLayout);for(var n=[],r,a=!0,o=0;o<e.lines.length;o++){var l=e.lines[o];if(l.staff){if(a&&(r={left:0,measureWidths:[],total:0},n.push(r),a=!1),l.staffGroup.voices.length>0)for(var u=l.staffGroup.voices[0],h=!1,f=0,d=0;d<u.children.length;d++){var p=u.children[d];!h&&!p.isClef&&!p.isKeySig&&(h=!0,r.left=p.x,f=p.x),p.type==="bar"&&(r.measureWidths.push(p.x-f),r.total+=p.x-f,f=p.x)}}else a=!0}return this.jazzchords=t,n};xu.prototype.setupTune=function(e,t){this.classes.reset(),e.formatting.jazzchords!==void 0&&(this.jazzchords=e.formatting.jazzchords),e.formatting.accentAbove!==void 0&&(this.accentAbove=e.formatting.accentAbove),this.renderer.newTune(e),this.engraver=new uLe(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:e.formatting.graceSlurs!==!1,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=e.formatting.scale?e.formatting.scale:this.scale;return this.responsive==="resize"&&(n=void 0),n===void 0&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n};xu.prototype.constructTuneElements=function(e){e.topText=new fte(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var t,n,r=!1,a=!1;for(t=0;t<e.lines.length;t++)if(n=e.lines[t],n.staff)a=!0,n.staffGroup=this.engraver.createABCLine(n.staff,r?null:e.metaText.tempo,t),r=!0;else if(n.subtitle){if(a){var o=this.width/2+this.renderer.padding.left;n.nonMusic=new pLe(this.renderer.spacing.subtitle,e.formatting,n.subtitle,o,this.renderer.padding.left,this.getTextSize)}}else n.text!==void 0?(a=!0,n.nonMusic=new fLe(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):n.separator!==void 0&&n.separator.lineLength&&(a=!0,n.nonMusic=new dLe(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));e.bottomText=new gLe(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};xu.prototype.engraveTune=function(e,t,n){var r=this.jazzchords,a=this.setupTune(e,t);this.constructTuneElements(e);var o=dte(this.renderer,e,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&o>this.width+1&&(e.topText=new fte(e.metaText,e.metaTextInfo,e.formatting,e.lines,o,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),e.lines&&e.lines.length>0))for(var l=e.lines.length,u=0;u<l;++u){var h=e.lines[u];if(h.nonMusic&&h.nonMusic.rows&&h.nonMusic.rows.length>0)for(var f=h.nonMusic.rows.length,d=0;d<f;++d){var p=h.nonMusic.rows[d];p.left&&(h.subtitle?p.left=o/2+this.renderer.padding.left:h.text&&h.text.length>0&&h.text[0].center&&(p.left=o/2+this.renderer.padding.left))}}e.tablatures&&bLe.layoutTablatures(this.renderer,e);var g=yLe(this.renderer,this.classes,e,this.width,o,this.responsive,a,this.selectTypes,t,n);if(this.staffgroups=g.staffgroups,this.selectables=g.selectables,this.oneSvgPerLine){var m=this.renderer.paper.svg.parentNode;this.svgs=ELe(this.renderer,m,e.metaText.title,this.responsive,a)}else this.svgs=[this.renderer.paper.svg];mLe(this,this.svgs),this.jazzchords=r};function ELe(e,t,n,r,a){n||(n="Untitled");var o=t.querySelector("svg");r==="resize"&&(t.style.paddingBottom="");for(var l=o.querySelector("style"),u=r==="resize"?o.viewBox.baseVal.width:o.getAttribute("width"),h=t.querySelectorAll("svg > g"),f=0,d=[],p=0;p<h.length;p++){var g=h[p],m=g.getBBox(),y=m.y-f,b=m.height+y,T=document.createElement("div"),E="overflow: hidden;";r!=="resize"&&(E+="height:"+b*a+"px;"),T.setAttribute("style",E);var w=wLe(o),x='Sheet Music for "'+n+'" section '+(p+1);w.setAttribute("aria-label",x),r!=="resize"&&w.setAttribute("height",b),r==="resize"&&(w.style.position="");var S=e.firefox112?b+1:b;w.setAttribute("viewBox","0 "+f+" "+u+" "+S),w.appendChild(l.cloneNode(!0));var A=document.createElement("title");A.innerText=x,w.appendChild(A),w.appendChild(g),T.appendChild(w),d.push(w),t.appendChild(T),f=m.y+m.height}return t.removeChild(o),d}function wLe(e){for(var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg"),r=0;r<e.attributes.length;r++){var a=e.attributes[r];a.name!=="height"&&a.name!="aria-label"&&n.setAttribute(a.name,a.value)}return n}xu.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim};xu.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e};var mte=xu,xLe=uA,vte=mte,SLe=Cee,ALe=bee,Z3={};function yW(){var e=window.innerWidth;for(var t in Z3)if(Z3.hasOwnProperty(t)){var n=Z3[t],r=n.offsetLeft;e-=r*2,n.style.width=e+"px"}}try{window.addEventListener("resize",yW),window.addEventListener("orientationChange",yW)}catch{}function yte(e,t,n,r,a){n.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",Z3[e.id]=e,e=e.children[0]):n.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var o=new vte(e,n);if(o.engraveABC(t,r,a),t.engraver=o,n.viewportVertical||n.viewportHorizontal){var l=e.parentNode;l.style.width=e.style.width}}var ILe=function(e,t,n,r,a){var o={},l;if(n){for(l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);o.warnings_id&&o.tablature&&(o.tablature.warning_id=o.warnings_id)}if(r)for(l in r)r.hasOwnProperty(l)&&(l==="listener"?r[l].highlight&&(o.clickListener=r[l].highlight):o[l]=r[l]);if(a)for(l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);function u(h,f,d,p){var g=!1;return h==="*"&&(g=!0,h=document.createElement("div"),h.setAttribute("style","visibility: hidden;"),document.body.appendChild(h)),!g&&o.wrap&&o.staffwidth?(f=CLe(h,f,d,p,o),f):(o.afterParsing&&o.afterParsing(f,d,p),yte(h,f,o,d,0),g&&h.parentNode.removeChild(h),null)}return xLe.renderEngine(u,e,t,o)};function CLe(e,t,n,r,a){var o=new vte(e,a),l=o.getMeasureWidths(t),u=ALe.calcLineWraps(t,l,a);if(u.reParse){var h=new SLe;h.parse(r,u.revisedParams),t=h.getTune();var f=h.getWarnings();f&&(t.warnings=f)}return a.afterParsing&&a.afterParsing(t,n,r),yte(e,t,u.revisedParams,n,0),t.explanation=u.explanation,t}var bte=ILe,RLe=uA,kLe=mte,OLe=function(e,t){function n(r,a,o,l){r=document.createElement("div"),r.setAttribute("style","visibility: hidden;"),document.body.appendChild(r);var u=new kLe(r,t),h=u.getMeasureWidths(a);return r.parentNode.removeChild(r),{sections:h}}return RLe.renderEngine(n,"*",e,t)},NLe=OLe,LLe={},N_=LLe,OC=N_,_Le=function(e,t,n,r){OC[t]||(OC[t]={});var a=OC[t];return a[n]||(a[n]=new Promise(function(o,l){var u=new XMLHttpRequest;let h=e+t+"-mp3/"+n+".mp3";u.open("GET",h,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status!==200){l(Error("Can't load sound at "+h+" status="+u.status));return}var f=function(p){o({instrument:t,name:n,status:"loaded",audioBuffer:p})},d=r.decodeAudioData(u.response,f,function(){l(Error("Can't decode sound at "+h))});d&&typeof d.catch=="function"&&d.catch(l)},u.onerror=function(){l(Error("Can't load sound at "+h))},u.send()}).catch(o=>{throw console.error("Didn't load note",t,n,":",o.message),o})),a[n]},DLe=_Le,MLe=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],L_=MLe,NC=L_,PLe=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push([]);var r=NC[0];return e.tracks.forEach(function(a,o){a.forEach(function(l){switch(l.cmd){case"note":var u=l.instrument!==void 0?NC[l.instrument]:r;if(l.duration>0){var h=l.gap?l.gap:0,f=l.duration;h=Math.min(h,f*2/3);var d={pitch:l.pitch,instrument:u,start:Math.round(l.start*1e6)/1e6,end:Math.round((l.start+f-h)*1e6)/1e6,volume:l.volume};l.startChar&&(d.startChar=l.startChar),l.endChar&&(d.endChar=l.endChar),l.style&&(d.style=l.style),l.cents&&(d.cents=l.cents),t[o].push(d)}break;case"program":r=NC[l.instrument];break;case"text":break;default:console.log("Unhandled midi event",l)}})}),t},FLe=PLe;function BLe(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}var pA=BLe,HLe=pA;function $Le(){return window.abcjsAudioContext||HLe(),window.abcjsAudioContext}var Tv=$Le,WLe=Tv;function ULe(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=WLe();if(e)return e.resume!==void 0}var gA=ULe,GLe={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},__=GLe,zLe=function(e){return window.URL.createObjectURL(YLe(e.audioBuffers))};function YLe(e){var t=e[0],n=t.numberOfChannels,r=t.length*n*2+44,a=new ArrayBuffer(r),o=new DataView(a),l=[],u,h,f=0,d=0;for(g(1179011410),g(r-8),g(1163280727),g(544501094),g(16),p(1),p(n),g(t.sampleRate),g(t.sampleRate*2*n),p(n*2),p(16),g(1635017060),g(r-d-4),u=0;u<n;u++)l.push(t.getChannelData(u));for(;d<r;){for(u=0;u<l.length;u++)h=Math.max(-1,Math.min(1,l[u][f])),h=(.5+h<0?h*32768:h*32767)|0,o.setInt16(d,h,!0),d+=2;f++}return new Blob([a],{type:"audio/wav"});function p(m){o.setUint16(d,m,!0),d+=2}function g(m){o.setUint32(d,m,!0),d+=4}}var VLe=zLe;function qLe(e){return Math.pow(2,e/1200)}var Tte=qLe,bW=N_,jLe=__,XLe=Tte;function KLe(e,t,n,r,a,o,l,u,h){var f=window.OfflineAudioContext||window.webkitOfflineAudioContext,d=n.len*n.tempoMultiplier;o&&(d+=o/1e3),d-=u,d<0&&(d=.005);var p=new f(2,Math.floor((d+l)*t),t),g=jLe[n.pitch];if(!bW[n.instrument])return h&&h("placeNote skipped (instrument empty): "+n.instrument+":"+g),Promise.resolve();var m=bW[n.instrument][g];return m?m.then(function(y){var b=p.createBufferSource();b.buffer=y.audioBuffer;var T=n.volume/96*a;b.gainNode=p.createGain(),n.pan&&p.createStereoPanner&&(b.panNode=p.createStereoPanner(),b.panNode.pan.setValueAtTime(n.pan,0)),b.gainNode.gain.value=T,b.gainNode.gain.linearRampToValueAtTime(b.gainNode.gain.value,d),b.gainNode.gain.linearRampToValueAtTime(0,d+l),n.cents&&(b.playbackRate.value=XLe(n.cents)),b.panNode?(b.panNode.connect(p.destination),b.gainNode.connect(b.panNode)):b.gainNode.connect(p.destination),b.connect(b.gainNode),b.start(0),b.noteOff?b.noteOff(d+l):b.stop(d+l);var E;return p.oncomplete=function(w){if(w.renderedBuffer&&w.renderedBuffer.getChannelData)for(var x=0;x<r.length;x++){var S=r[x]*n.tempoMultiplier;o&&(S-=o/1e3),S<0&&(S=0),S=Math.floor(S*t),ZLe(e,w.renderedBuffer,S)}h&&h("placeNote: "+n.instrument+":"+g),E()},p.startRendering(),new Promise(function(w){E=w})}).catch(function(y){return h&&h("placeNote catch: "+y.message),Promise.resolve()}):(h&&h("placeNote skipped: "+n.instrument+":"+g),Promise.resolve())}var ZLe=function(e,t,n){for(var r=0;r<2;r++)for(var a=t.getChannelData(r),o=e.getChannelData(r),l=0;l<a.length;l++)o[l+n]+=a[l]},QLe=KLe,JLe=DLe,e_e=FLe,t_e=pA,Wr=Tv,n_e=gA,r_e=__,Dw=L_,i_e=VLe,a_e=QLe,TW=N_,Vf="MIDI is not supported in this browser.",EW="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",wW="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",s_e="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function o_e(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.options=void 0,e.pickupLength=0,e.init=function(r){r||(r={}),r.options&&(e.options=r.options),t_e(r.audioContext);var a=Wr().currentTime;if(e.debugCallback=r.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:Vf});var o=r.options?r.options:{};e.soundFontUrl=o.soundFontUrl?o.soundFontUrl:wW,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),o.soundFontVolumeMultiplier||o.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=o.soundFontVolumeMultiplier:e.soundFontUrl===wW||e.soundFontUrl===s_e?e.soundFontVolumeMultiplier=3:e.soundFontUrl===EW?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,o.programOffsets?e.programOffsets=o.programOffsets:e.soundFontUrl===EW?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var l=o.fadeLength!==void 0?parseInt(o.fadeLength,10):NaN;if(e.fadeLength=isNaN(l)?200:l,l=o.noteEnd!==void 0?parseInt(o.noteEnd,10):NaN,e.noteEnd=isNaN(l)?0:l,e.pan=o.pan,e.meterSize=1,r.visualObj){e.flattened=r.visualObj.setUpAudio(o);var u=r.visualObj.getMeterFraction();u.den&&(e.meterSize=r.visualObj.getMeterFraction().num/r.visualObj.getMeterFraction().den),e.pickupLength=r.visualObj.getPickupLength()}else if(r.sequence)e.flattened=r.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=r.millisecondsPerMeasure?r.millisecondsPerMeasure:r.visualObj?r.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=r.visualObj?r.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=o.sequenceCallback,e.callbackContext=o.callbackContext,e.onEnded=o.onEnded,e.meterFraction=r.visualObj?r.visualObj.getMeterFraction():{den:1};var h={},f=[],d=[],p=Dw[0];e.flattened.tracks.forEach(function(T){T.forEach(function(E){if(E.cmd==="program"&&Dw[E.instrument]&&(p=Dw[E.instrument]),E.pitch!==void 0){var w=E.pitch,x=r_e[w],S=E.instrument!==void 0?Dw[E.instrument]:p;if(x)if(h[S]||(h[S]={}),!TW[S]||!TW[S][x])h[S][x]=!0;else{var A=S+":"+x;f.indexOf(A)<0&&f.push(A)}else{var R=S+":"+x;console.log("Can't find note: ",w,R),d.indexOf(R)<0&&d.push(R)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((Wr().currentTime-a)*1e3)+"ms"),a=Wr().currentTime;var g=[];Object.keys(h).forEach(function(T){Object.keys(h[T]).forEach(function(E){g.push({instrument:T,note:E})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(g));for(var m=[],y=256,b=0;b<g.length;b+=y)m.push(g.slice(b,b+y));return new Promise(function(T,E){var w={cached:f,error:d,loaded:[]},x=0,S=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+x+" len="+m.length),x<m.length?e._loadBatch(m[x],e.soundFontUrl,a).then(function(A){e.debugCallback&&e.debugCallback("loadBatch then"),a=Wr().currentTime,A&&(A.error&&(w.error=w.error.concat(A.error)),A.loaded&&(w.loaded=w.loaded.concat(A.loaded))),x++,S()},E):(e.debugCallback&&e.debugCallback("resolve init"),T(w))};S()})},e._loadBatch=function(r,a,o,l){var u=[];return r.forEach(function(h){e.debugCallback&&e.debugCallback("getNote "+h.instrument+":"+h.note),u.push(JLe(a,h.instrument,h.note,Wr()))}),Promise.all(u).then(function(h){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((Wr().currentTime-o)*1e3)+"ms");for(var f=[],d=[],p=[],g=[],m=0;m<h.length;m++){var y=h[m],b=y.instrument+":"+y.name;y.status==="loaded"?f.push(b):y.status==="pending"?p.push(b):y.status==="cached"?d.push(b):g.push(b+" "+y.message)}if(p.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(p)),l?l=l*2:l=50,l<9e4)return new Promise(function(w,x){setTimeout(function(){var S=[];for(m=0;m<p.length;m++)b=p[m].split(":"),S.push({instrument:b[0],note:b[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(S)),e._loadBatch(S,a,o,l).then(function(A){w(A)}).catch(function(A){x(A)})},l)});for(var T=[],E=0;E<r.length;E++)T.push(r[E].instrument+"/"+r[E].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+T.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:f,cached:d,error:g})}).catch(function(h){e.debugCallback&&e.debugCallback("loadBatch catch "+h.message)})},e.prime=function(){var r=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(a){var o=Wr().currentTime,l=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*l,e.duration<=0)return e.audioBuffers=[],a({status:"empty",seconds:0});e.duration+=r;var u=Math.floor(Wr().sampleRate*e.duration);e.stop();var h=e_e(e.flattened);e.options.swing&&n(h,e.options.swing,e.meterFraction,e.pickupLength),e.sequenceCallback&&e.sequenceCallback(h,e.callbackContext);var f=t(h.length,e.pan),d={};h.forEach(function(w,x){var S=f&&f.length>x?f[x]:0;w.forEach(function(A){var R=A.instrument+":"+A.pitch+":"+A.volume+":"+Math.round((A.end-A.start)*1e3)/1e3+":"+S+":"+l+":"+(A.cents?A.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+R),d[R]||(d[R]=[]),d[R].push(A.start)})});for(var p=[],g=Wr().createBuffer(2,u,Wr().sampleRate),m=0;m<Object.keys(d).length;m++){var y=Object.keys(d)[m],b=y.split(":"),T=b[6]!==void 0?parseFloat(b[6]):0;b={instrument:b[0],pitch:parseInt(b[1],10),volume:parseInt(b[2],10),len:parseFloat(b[3]),pan:parseFloat(b[4]),tempoMultiplier:parseFloat(b[5]),cents:T},p.push(a_e(g,Wr().sampleRate,b,d[y],e.soundFontVolumeMultiplier,e.programOffsets[b.instrument],r,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[g],e.debugCallback&&(e.debugCallback("sampleRate = "+Wr().sampleRate),e.debugCallback("totalSamples = "+u),e.debugCallback("creationTime = "+Math.floor((Wr().currentTime-o)*1e3)+"ms"));function E(w){var x=w&&w.audioBuffers&&w.audioBuffers.length>0?w.audioBuffers[0].duration:0;return{status:Wr().state,duration:x}}Promise.all(p).then(function(){Wr().state==="suspended"?Wr().resume().then(function(){a(E(e))}):Wr().state==="interrupted"?Wr().suspend().then(function(){Wr().resume().then(function(){a(E(e))})}):a(E(e))})})):Promise.reject(new Error(Vf))};function t(r,a){if(a==null)return null;var o=[];if(a.length){for(var l=0;l<r;l++)if(l<a.length){var u=parseFloat(a[l]);u<-1?u=-1:u>1&&(u=1),o.push(u)}else o.push(0);return o}else{var h=parseFloat(a);if(h*(r-1)>2)return null;for(var f=r%2===0,d=f?0-h/2:0,p=d+h,g=0;g<r;g++)f=g%2===0,f?(o.push(d),d-=h):(o.push(p),p+=h);return o}}e.start=function(){if(!e.audioBufferPossible)throw new Error(Vf);e.debugCallback&&e.debugCallback("start called");var r=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(r),e.startTimeSec=Wr().currentTime-r,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(Vf);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(r,a){var o;switch(a){case"seconds":o=r;break;case"beats":o=r*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:o=(e.duration-e.fadeLength/1e3)*r;break}if(!e.audioBufferPossible)throw new Error(Vf);e.debugCallback&&e.debugCallback("seek called sec="+o),e.isRunning?(e.stop(),e._kickOffSound(o)):e.pausedTimeSec=o,e.pausedTimeSec=o},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(a){try{a.stop()}catch(o){console.log("direct source didn't stop:",o)}}),e.directSource=[];var r=Wr().currentTime-e.startTimeSec;return r},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return i_e(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return n_e()?!0:(console.warn(Vf),e.debugCallback&&e.debugCallback(Vf),!1)},e._kickOffSound=function(r){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(a,o){e.directSource[o]=Wr().createBufferSource(),e.directSource[o].buffer=a,e.directSource[o].connect(Wr().destination)}),e.directSource.forEach(function(a){a.start(0,r)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})};function n(r,a,o,l){if(!(o.den!=4&&o.den!=8)&&(a=parseFloat(a),!(isNaN(a)||a<=50))){a>75&&(a=75),a=a/50-1;var u=0,h=.25;o.den===8&&(h=h/2);for(var f=h/2,d=f*a,p=0;p<r.length;p++)for(var g=r[p],m=0;m<g.length;m++){var y=g[m];if((y.start-l)%f==0&&(y.start-l)%h!=0&&(m==0||g[m-1].start<=g[m].start-f)&&(m==g.length-1||g[m+1].start>=g[m].start+f)){var b=y.start;y.start+=d,y.volume*=1+u,m>0&&g[m-1].end==b&&(g[m-1].end=y.start,g[m-1].volume*=1-u)}}}}}var D_=o_e,l_e=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,r,a,o){var l={cmd:"note",duration:r,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:a};o&&(l.cents=o),e.tracks[t].push(l),e.starts[t]+=r,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}},Ete=l_e,c_e=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,u_e=c_e,h_e=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,f_e=h_e,d_e=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,p_e=d_e,g_e=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,m_e=g_e,v_e=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,y_e=v_e,b_e=gA,wte=pA,G2=Tv,T_e=u_e,E_e=f_e,w_e=p_e,x_e=m_e,S_e=y_e;function A_e(e,t){var n=this;if(typeof e=="string"){var r=e;if(e=document.querySelector(r),!e)throw new Error('Cannot find element "'+r+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=e,n.options={},t&&(n.options=Object.assign({},t)),n.options.ac&&wte(n.options.ac),I_e(n.parent,n.options),C_e(n),n.disable=function(o){var l=n.parent.querySelector(".abcjs-inline-audio");o?l.classList.add("abcjs-disabled"):l.classList.remove("abcjs-disabled")},n.setWarp=function(o,l){var u=n.parent.querySelector(".abcjs-midi-tempo");u.value=Math.round(l),n.setTempo(o)},n.setTempo=function(o){var l=n.parent.querySelector(".abcjs-midi-current-tempo");l&&(l.innerHTML=Math.round(o))},n.resetAll=function(){for(var o=n.parent.querySelectorAll(".abcjs-pushed"),l=0;l<o.length;l++){var u=o[l];u.classList.remove("abcjs-pushed")}},n.pushPlay=function(o){var l=n.parent.querySelector(".abcjs-midi-start");l&&(o?l.classList.add("abcjs-pushed"):l.classList.remove("abcjs-pushed"))},n.pushLoop=function(o){var l=n.parent.querySelector(".abcjs-midi-loop");l&&(o?l.classList.add("abcjs-pushed"):l.classList.remove("abcjs-pushed"))},n.setProgress=function(o,l){var u=n.parent.querySelector(".abcjs-midi-progress-background"),h=n.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!u||!h)){var f=u.clientWidth,d=f*o;h.style.left=d+"px";var p=n.parent.querySelector(".abcjs-midi-clock");if(p){var g=l*o/1e3,m=Math.floor(g/60),y=Math.floor(g%60),b=y<10?"0"+y:y;p.innerHTML=m+":"+b}}},n.options.afterResume){var a=!1;n.options.ac?a=n.options.ac.state!=="suspended":G2()&&(a=G2().state!=="suspended"),a&&n.options.afterResume()}}function I_e(e,t){var n=!!t.loopHandler,r=!!t.restartHandler,a=!!t.playHandler||!!t.playPromiseHandler,o=!!t.progressHandler,l=!!t.warpHandler,u=t.hasClock!==!1,h=`<div class="abcjs-inline-audio">
`;if(n){var f=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.",d=t.repeatAria?t.repeatAria:f;h+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+f+'" aria-label="'+d+'">'+T_e+`</button>
`}if(r){var p=t.restartTitle?t.restartTitle:"Click to go to beginning.",g=t.restartAria?t.restartAria:p;h+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+p+'" aria-label="'+g+'">'+S_e+`</button>
`}if(a){var m=t.playTitle?t.playTitle:"Click to play/pause.",y=t.playAria?t.playAria:m;h+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+m+'" aria-label="'+y+'">'+E_e+w_e+x_e+`</button>
`}if(o){var b=t.randomTitle?t.randomTitle:"Click to change the playback position.",T=t.randomAria?t.randomAria:b;h+='<button type="button" class="abcjs-midi-progress-background" title="'+b+'" aria-label="'+T+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(u&&(h+=`<span class="abcjs-midi-clock"></span>
`),l){var E=t.warpTitle?t.warpTitle:"Change the playback speed.",w=t.warpAria?t.warpAria:E,x=t.bpm?t.bpm:"BPM";h+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+E+'" aria-label="'+w+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+x+`)</span></span>
`}h+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',h+=`</div>
`,e.innerHTML=h}function Ay(e,t,n,r,a){var o=!0;if(G2()?o=G2().state==="suspended":wte(),!b_e())throw{status:"NotSupported",message:"This browser does not support audio."};(o||a)&&n&&n.classList.add("abcjs-loading"),o?G2().resume().then(function(){r?r().then(function(l){LC(e,t,n,a)}):LC(e,t,n,a)}):LC(e,t,n,a)}function LC(e,t,n,r){r?e(t).then(function(){n&&n.classList.remove("abcjs-loading")}):(e(t),n&&n.classList.remove("abcjs-loading"))}function C_e(e){var t=!!e.options.loopHandler,n=!!e.options.restartHandler,r=!!e.options.playHandler||!!e.options.playPromiseHandler,a=!!e.options.progressHandler,o=!!e.options.warpHandler,l=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(u){Ay(e.options.loopHandler,u,l,e.options.afterResume)}),n&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(u){Ay(e.options.restartHandler,u,l,e.options.afterResume)}),r&&l.addEventListener("click",function(u){Ay(e.options.playPromiseHandler||e.options.playHandler,u,l,e.options.afterResume,!!e.options.playPromiseHandler)}),a&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(u){Ay(e.options.progressHandler,u,l,e.options.afterResume)}),o&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(u){Ay(e.options.warpHandler,u,l,e.options.afterResume)})}var xte=A_e,R_e=Ete,k_e=D_,O_e=Tv;function N_e(e,t,n,r,a){for(var o=new R_e,l=0;l<e.length;l++){var u=e[l],h=o.addTrack();if(o.setInstrument(h,u.instrument),l===0&&t)for(var f=0;f<t.length;f++){var d=t[f];o.appendNote(h,d.pitch,1/64,d.volume,d.cents)}o.appendNote(h,u.pitch,u.duration,u.volume,u.cents)}var p=O_e();return p.state==="suspended"?p.resume().then(function(){return xW(o,n,r,a)}):xW(o,n,r,a)}function xW(e,t,n,r){var a=new k_e;return a.init({sequence:e,millisecondsPerMeasure:t,options:{soundFontUrl:n},debugCallback:r}).then(function(){return a.prime()}).then(function(){return a.start(),Promise.resolve()})}var L_e=N_e,__e=xte,D_e=D_,M_e=d_,SW=Tv;function P_e(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(n,r,a){a||(a={}),a.displayPlay===void 0&&(a.displayPlay=!0),a.displayProgress===void 0&&(a.displayProgress=!0),e.control=new __e(n,{loopHandler:a.displayLoop?e.toggleLoop:void 0,restartHandler:a.displayRestart?e.restart:void 0,playPromiseHandler:a.displayPlay?e.play:void 0,progressHandler:a.displayProgress?e.randomAccess:void 0,warpHandler:a.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=r,e.disable(!0)},e.disable=function(n){e.control&&e.control.disable(n)},e.setTune=function(n,r,a){return e.visualObj=n,e.disable(!1),e.options=a||{},e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,r?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var n=e.visualObj.millisecondsPerMeasure()*100/e.warp;e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/n*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0;var r;return e.midiBuffer||(e.midiBuffer=new D_e),SW().resume().then(function(a){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:n})}).then(function(a){return r=a,e.midiBuffer.prime()}).then(function(){var a=16;return e.cursorControl&&e.cursorControl.beatSubdivisions!==void 0&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(a=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new M_e(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:a}),e.cursorControl&&e.cursorControl.onReady&&typeof e.cursorControl.onReady=="function"&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:r})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)};function t(n){return new Promise(function(r){setTimeout(r,n)})}e.runWhenReady=function(n,r){return e.visualObj?e.isLoading?t(500).then(function(){return e.isLoading?e.runWhenReady(n,r):n(r)}):e.isLoaded?n(r):e.go().then(function(){return n(r)}):Promise.resolve({status:"loading"})},e._play=function(){return SW().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&typeof e.cursorControl.onStart=="function"&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(n){return e.runWhenReady(e._randomAccess,n)},e._randomAccess=function(n){var r=n.target.classList.contains("abcjs-midi-progress-indicator")?n.target.parentNode:n.target,a=(n.x-r.getBoundingClientRect().left)/r.offsetWidth;return a<0&&(a=0),a>1&&(a=1),e.seek(a),Promise.resolve({status:"ok"})},e.seek=function(n,r){e.timer&&e.midiBuffer&&(e.timer.setProgress(n,r),e.midiBuffer.seek(n,r))},e.setWarp=function(n){if(parseInt(n,10)>0){e.warp=parseInt(n,10);var r=e.isStarted,a=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(a,e.midiBuffer.duration*1e3),e.control&&e.control.setWarp(e.currentTempo,e.warp),r?e.play().then(function(){return e.seek(a),Promise.resolve()}):(e.seek(a),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(n){var r=n.target.value;return e.setWarp(r)},e.setProgress=function(n,r){e.percent=n,e.control&&e.control.setProgress(n,r)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&typeof e.cursorControl.onFinished=="function"&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(n,r,a,o){var l=n/r;e.setProgress(l,a),e.cursorControl&&e.cursorControl.onBeat&&typeof e.cursorControl.onBeat=="function"&&e.cursorControl.onBeat(n,r,a,o)},e.eventCallback=function(n){if(n)e.cursorControl&&e.cursorControl.onEvent&&typeof e.cursorControl.onEvent=="function"&&e.cursorControl.onEvent(n);else return e.finished()},e.lineEndCallback=function(n,r){e.cursorControl&&e.cursorControl.onLineEnd&&typeof e.cursorControl.onLineEnd=="function"&&e.cursorControl.onLineEnd(n,r)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(n){var r=e.getUrl(),a=document.createElement("a");document.body.appendChild(a),a.setAttribute("style","display: none;"),a.href=r,a.download=n||"output.wav",a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)}}var Ste=P_e,F_e=Tte,Ate;(function(){function e(d,p){for(var g in p)p.hasOwnProperty(g)&&d.setAttribute(g,p[g]);return d}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(d){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+u(Math.round(6e7/d),6),this.endTrack())},t.prototype.setGlobalInfo=function(d,p,g,m){if(this.trackcount===0){this.startTrack();var y=Math.round(6e7/d);this.track+="%00%FF%51%03"+u(y,6),g&&(this.track+=a(g)),m&&(this.track+=o(m)),p&&(this.track+=r(p,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var d=u(this.track.length/3+4,8);this.track="MTrk"+d+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(d,p){switch(d){case"name":this.trackName=r(p,"%03");break}},t.prototype.setInstrument=function(d){this.trackInstrument="%00%C0"+u(d,2),this.instrument=d},t.prototype.setChannel=function(d,p){this.channel=d;var g="%00%B"+this.channel.toString(16);this.track+=g+"%79%00",this.track+=g+"%40%00",this.track+=g+"%5B%30",p||(p=0),p=Math.round((p+1)*64),this.track+=g+"%0A"+u(p,2),this.track+=g+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var n=4096;t.prototype.startNote=function(d,p,g){if(this.track+=f(this.silencelength),this.silencelength=0,g){this.track+="%e"+this.channel.toString(16);var m=Math.round(F_e(g)*n);this.track+=h(8192+m),this.track+=f(0),this.noteWarped[d]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+d.toString(16)+u(p,2)},t.prototype.endNote=function(d){this.track+=f(this.silencelength),this.silencelength=0,this.noteWarped[d]&&(this.track+="%e"+this.channel.toString(16),this.track+=h(8192),this.track+=f(0),this.noteWarped[d]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+d.toString(16)+"%00"},t.prototype.addRest=function(d){this.silencelength+=d,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+u(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(d,p){var g=this.getData(),m=e(document.createElement("a"),{href:g});if(m.innerHTML="download midi",d.insertBefore(m,d.firstChild),!p){var y=e(document.createElement("embed"),{src:g,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});d.insertBefore(y,d.firstChild)}};function r(d,p){for(var g="",m=0;m<d.length;m++)g+=u(d.charCodeAt(m),2);return"%00%FF"+p+u(g.length/3,2)+g}function a(d){if(!d||!d.accidentals)return"";for(var p="%00%FF%59%02",g=0,m=256,y=0;y<d.accidentals.length;y++)d.accidentals[y].acc==="sharp"?g++:d.accidentals[y].acc==="flat"&&m--;var b=u(m!==256?m:g,2),T=d.mode==="m"?"%01":"%00";return p+b+T}function o(d){var p="%00%FF%58%04"+u(d.num,2),g={1:0,2:1,4:2,8:3,16:4,32:5},m=g[d.den];if(!m)return"";p+=u(m,2);var y;switch(d.num+"/"+d.den){case"2/4":case"3/4":case"4/4":case"5/4":y=24;break;case"6/4":y=72;break;case"2/2":case"3/2":case"4/2":y=48;break;case"3/8":case"6/8":case"9/8":case"12/8":y=36;break}return y?(p+=u(y,2),p+"%08"):""}function l(d){for(var p="",g=0;g<d.length;g+=2)p+="%",p+=d.substr(g,2);return p}function u(d,p){var g=d.toString(16);for(g=g.split(".")[0];g.length<p;)g="0"+g;return g.length>p&&(g=g.substring(0,p)),l(g)}function h(d){d=Math.round(d);var p=d%128,g=d-p;return u(g*2+p,4)}function f(d){var p=0,g=[];for(d=Math.round(d);d!==0;)g.push(d&127),d=d>>7;for(var m=g.length-1;m>=0;m--){p=p<<8;var y=g[m];m!==0&&(y=y|128),p=p|y}var b=p.toString(16).length;return b+=b%2,u(p,b)}Ate=function(){return new t}})();var Ite=Ate,B_e=Ite,Cte;(function(){var e=1920;Cte=function(r,a){a===void 0&&(a={});var o=r.setUpAudio(a),l=B_e(),u=r.metaText?r.metaText.title:void 0;u&&u.length>128&&(u=u.substring(0,124)+"...");var h=r.getKeySignature(),f=r.getMeterFraction(),d=o.tempo,p=d/60;if(f.den==8){var g=r.millisecondsPerMeasure();d=6e4/(g/f.num)/2,p=d/60}l.setGlobalInfo(d,u,h,f);for(var m=0;m<o.tracks.length;m++){l.startTrack();for(var y={},b=0;b<o.tracks[m].length;b++){var T=o.tracks[m][b];switch(T.cmd){case"text":l.setText(T.type,T.text);break;case"program":var E=0;a.pan&&a.pan.length>m&&(E=a.pan[m]),T.instrument===128?(l.setChannel(9,E),l.setInstrument(0)):(l.setChannel(T.channel,E),l.setInstrument(T.instrument));break;case"note":var w=T.gap*p,x=T.start,S=x+T.duration-w;y[x]||(y[x]=[]),y[x].push({pitch:T.pitch,volume:T.volume,cents:T.cents}),y[S]||(y[S]=[]),y[S].push({pitch:T.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+T.cmd)}}t(l,y,e),l.endTrack()}return l.getData()};function t(n,r,a){for(var o=Object.keys(r),l=0;l<o.length;l++)o[l]=parseFloat(o[l]);o.sort(function(m,y){return m-y});for(var u=0,h=0;h<o.length;h++){var f=r[o[h]];if(o[h]>u){var d=(o[h]-u)*a;n.addRest(d),u=o[h]}for(var p=0;p<f.length;p++){var g=f[p];g.volume?n.startNote(g.pitch,g.volume,g.cents):n.endNote(g.pitch)}}}})();var H_e=Cte,$_e=uA,W_e=H_e,U_e=function(e,t){var n={};if(t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.generateInline=!1;function a(o,l,u){var h=W_e(l,n);switch(n.midiOutputType){case"encoded":return h;case"binary":var f=h.replace("data:audio/midi,","");f=f.replace(/MThd/g,"%4d%54%68%64"),f=f.replace(/MTrk/g,"%4d%54%72%6b");for(var d=new ArrayBuffer(f.length/3),p=new Uint8Array(d),g=0;g<f.length/3;g++){var m=g*3+1,y=parseInt(f.substring(m,m+2),16);p[g]=y}return p;case"link":default:return z_e(l,n,h,u)}}return typeof e=="string"?$_e.renderEngine(a,"*",e,n):a(null,e,0)};function G_e(e){var t={};return e&&t.toString.call(e)==="[object Function]"}var z_e=function(e,t,n,r){var a=["abcjs-download-midi","abcjs-midi-"+r];t.downloadClass&&a.push(t.downloadClass);var o='<div class="'+a.join(" ")+'">';t.preTextDownload&&(o+=t.preTextDownload);var l=e.metaText&&e.metaText.title?e.metaText.title:"Untitled",u;t.downloadLabel&&G_e(t.downloadLabel)?u=t.downloadLabel(e,r):t.downloadLabel?u=t.downloadLabel.replace(/%T/,l):u='Download MIDI for "'+l+'"',l=l.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var h=t.fileName?t.fileName:l+".midi";return o+='<a download="'+h+'" href="'+n+'">'+u+"</a>",t.postTextDownload&&(o+=t.postTextDownload),o+"</div>"},Y_e=U_e;try{if(typeof window.CustomEvent!="function"){var AW=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};AW.prototype=window.Event.prototype,window.CustomEvent=AW}}catch{}var xf=function(e){typeof e=="string"?this.textarea=document.getElementById(e):this.textarea=e,this.initialText=this.textarea.value,this.isDragging=!1};xf.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}};xf.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}};xf.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};xf.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}this.textarea.focus()};xf.prototype.getString=function(){return this.textarea.value};xf.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};xf.prototype.getElem=function(){return this.textarea};var Rte=xf,kte=$h,V_e=Ste,q_e=gA,j_e=bte,X_e=Rte;function K_e(e){var t={},n;if(e.abcjsParams)for(n in e.abcjsParams)e.abcjsParams.hasOwnProperty(n)&&(t[n]=e.abcjsParams[n]);if(e.midi_options)for(n in e.midi_options)e.midi_options.hasOwnProperty(n)&&(t[n]=e.midi_options[n]);if(e.parser_options)for(n in e.parser_options)e.parser_options.hasOwnProperty(n)&&(t[n]=e.parser_options[n]);if(e.render_options)for(n in e.render_options)e.render_options.hasOwnProperty(n)&&(t[n]=e.render_options[n]);return t.tablature&&e.warnings_id&&(t.tablature.warnings_id=e.warnings_id),t}var is=function(e,t){this.abcjsParams=K_e(t),t.indicate_changed&&(this.indicate_changed=!0),typeof e=="string"?this.editarea=new X_e(e):this.editarea=e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&q_e()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&(typeof t.midi_download_id=="string"?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof t.midi_id=="string"?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?typeof t.warnings_id=="string"?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(n,r){var a=function(o,l){var u=o.className;return u.length>0&&(u===l||new RegExp("(^|\\s)"+l+"(\\s|$)").test(u))};return a(n,r)||(n.className+=(n.className?" ":"")+r),n},this.removeClassName=function(n,r){return n.className=kte.strip(n.className.replace(new RegExp("(^|\\s+)"+r+"(\\s+|$)")," ")),n},this.setReadOnly=function(n){var r="abc_textarea_readonly",a=this.editarea.getElem();n?(a.setAttribute("readonly","yes"),this.addClassName(a,r)):(a.removeAttribute("readonly"),this.removeClassName(a,r))}};is.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new V_e,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}};is.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=j_e(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};is.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()};is.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}};is.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)};is.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)};is.prototype.fireSelectionChanged=function(){this.updateSelection()};is.prototype.setDirtyStyle=function(e){if(this.indicate_changed!==void 0){var t=function(o,l){var u=function(h,f){var d=h.className;return d.length>0&&(d===f||new RegExp("(^|\\s)"+f+"(\\s|$)").test(d))};return u(o,l)||(o.className+=(o.className?" ":"")+l),o},n=function(o,l){return o.className=kte.strip(o.className.replace(new RegExp("(^|\\s+)"+l+"(\\s+|$)")," ")),o},r="abc_textarea_dirty",a=this.editarea.getElem();e?t(a,r):n(a,r)}};is.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}};is.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};is.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};is.prototype.highlight=function(e,t,n,r,a,o){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,n,r,a,o)};is.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()};is.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};is.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()};var Z_e=is,Q_e=RIe,IW=LIe,CW=uA,J_e=Eee,e9e=gke,Ml={};Ml.signature="abcjs-basic v"+Q_e;Object.keys(IW).forEach(function(e){Ml[e]=IW[e]});Object.keys(CW).forEach(function(e){Ml[e]=CW[e]});Ml.renderAbc=bte;Ml.tuneMetrics=NLe;Ml.TimingCallbacks=d_;var t9e=Ef;Ml.setGlyph=t9e.setSymbol;Ml.strTranspose=e9e;var n9e=D_,r9e=L_,i9e=__,a9e=Ete,s9e=xte,o9e=pA,l9e=Tv,c9e=gA,u9e=L_e,h9e=Ste,f9e=Y_e,d9e=Ite;Ml.synth={CreateSynth:n9e,instrumentIndexToName:r9e,pitchToNoteName:i9e,SynthController:h9e,SynthSequence:a9e,CreateSynthControl:s9e,registerAudioContext:o9e,activeAudioContext:l9e,supportsAudio:c9e,playEvent:u9e,getMidiFile:f9e,sequence:J_e,midiRenderer:d9e};Ml.Editor=Z_e;Ml.EditArea=Rte;var p9e=Ml;const g9e=Go(p9e);function m9e(){return function(e){return jd(e,"code",t=>{if(t.lang==="abc"){const n="frontmatter"in t&&t.frontmatter,r={regular:540};let a=r;n&&"staffwidths"in n&&(a=n.staffwidths||r);const o=[];for(const[l,u]of Object.entries(a)){const h=document.createElement("div");h.className=l;const f={responsive:"resize",staffwidth:u,textboxpadding:0,format:{vocalfont:"serif 16"}};g9e.renderAbc(h,t.value,{...f,...n}),h.children[0].setAttribute("xmlns","http://www.w3.org/2000/svg"),o.push(cee(h))}t.data={hName:"div",hProperties:{},hChildren:o}}})}}function RW(e){if(e)throw e}var Q3=Object.prototype.hasOwnProperty,Ote=Object.prototype.toString,kW=Object.defineProperty,OW=Object.getOwnPropertyDescriptor,NW=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Ote.call(t)==="[object Array]"},LW=function(t){if(!t||Ote.call(t)!=="[object Object]")return!1;var n=Q3.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Q3.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Q3.call(t,a)},_W=function(t,n){kW&&n.name==="__proto__"?kW(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},DW=function(t,n){if(n==="__proto__")if(Q3.call(t,n)){if(OW)return OW(t,n).value}else return;return t[n]},v9e=function e(){var t,n,r,a,o,l,u=arguments[0],h=1,f=arguments.length,d=!1;for(typeof u=="boolean"&&(d=u,u=arguments[1]||{},h=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});h<f;++h)if(t=arguments[h],t!=null)for(n in t)r=DW(u,n),a=DW(t,n),u!==a&&(d&&a&&(LW(a)||(o=NW(a)))?(o?(o=!1,l=r&&NW(r)?r:[]):l=r&&LW(r)?r:{},_W(u,{name:n,newValue:e(d,l,a)})):typeof a<"u"&&_W(u,{name:n,newValue:a}));return u};const _C=Go(v9e);function KO(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function y9e(){const e=[],t={run:n,use:r};return t;function n(...a){let o=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...a);function u(h,...f){const d=e[++o];let p=-1;if(h){l(h);return}for(;++p<a.length;)(f[p]===null||f[p]===void 0)&&(f[p]=a[p]);a=f,d?b9e(d,u)(...f):l(null,...f)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function b9e(e,t){let n;return r;function r(...l){const u=e.length>l.length;let h;u&&l.push(a);try{h=e.apply(this,l)}catch(f){const d=f;if(u&&n)throw d;return a(d)}u||(h&&h.then&&typeof h.then=="function"?h.then(o,a):h instanceof Error?a(h):o(h))}function a(l,...u){n||(n=!0,t(l,...u))}function o(l){a(null,l)}}class po extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?a=t:!o.cause&&t&&(l=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?o.ruleId=r:(o.source=r.slice(0,h),o.ruleId=r.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=u?u.line:void 0,this.name=F2(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}po.prototype.file="";po.prototype.name="";po.prototype.reason="";po.prototype.message="";po.prototype.stack="";po.prototype.column=void 0;po.prototype.line=void 0;po.prototype.ancestors=void 0;po.prototype.cause=void 0;po.prototype.fatal=void 0;po.prototype.place=void 0;po.prototype.ruleId=void 0;po.prototype.source=void 0;const $c={basename:T9e,dirname:E9e,extname:w9e,join:x9e,sep:"/"};function T9e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');qT(e);let n=0,r=-1,a=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else l<0&&(o=!0,l=a+1),u>-1&&(e.codePointAt(a)===t.codePointAt(u--)?u<0&&(r=a):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function E9e(e){if(qT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function w9e(e){qT(e);let t=e.length,n=-1,r=0,a=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function x9e(...e){let t=-1,n;for(;++t<e.length;)qT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":S9e(n)}function S9e(e){qT(e);const t=e.codePointAt(0)===47;let n=A9e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function A9e(e,t){let n="",r=0,a=-1,o=0,l=-1,u,h;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(a===l-1||o===1))if(a!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),a=l,o=0;continue}}else if(n.length>0){n="",r=0,a=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,l):n=e.slice(a+1,l),r=l-a-1;a=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function qT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const I9e={cwd:C9e};function C9e(){return"/"}function ZO(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function R9e(e){if(typeof e=="string")e=new URL(e);else if(!ZO(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return k9e(e)}function k9e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const DC=["history","path","basename","stem","extname","dirname"];class O9e{constructor(t){let n;t?ZO(t)?n={path:t}:typeof t=="string"||N9e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":I9e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<DC.length;){const o=DC[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)DC.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?$c.basename(this.path):void 0}set basename(t){PC(t,"basename"),MC(t,"basename"),this.path=$c.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?$c.dirname(this.path):void 0}set dirname(t){MW(this.basename,"dirname"),this.path=$c.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?$c.extname(this.path):void 0}set extname(t){if(MC(t,"extname"),MW(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$c.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ZO(t)&&(t=R9e(t)),PC(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?$c.basename(this.path,this.extname):void 0}set stem(t){PC(t,"stem"),MC(t,"stem"),this.path=$c.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new po(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function MC(e,t){if(e&&e.includes($c.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+$c.sep+"`")}function PC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function MW(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function N9e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const L9e=function(e){const r=this.constructor.prototype,a=r[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},_9e={}.hasOwnProperty;class M_ extends L9e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=y9e()}copy(){const t=new M_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_C(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(HC("data",this.frozen),this.namespace[t]=n,this):_9e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(HC("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Mw(t),r=this.parser||this.Parser;return FC("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),FC("process",this.parser||this.Parser),BC("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,l){const u=Mw(t),h=r.parse(u);r.run(h,u,function(d,p,g){if(d||!p||!g)return f(d);const m=p,y=r.stringify(m,g);P9e(y)?g.value=y:g.result=y,f(d,g)});function f(d,p){d||!p?l(d):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),FC("processSync",this.parser||this.Parser),BC("processSync",this.compiler||this.Compiler),this.process(t,a),FW("processSync","process",n),r;function a(o,l){n=!0,RW(o),r=l}}run(t,n,r){PW(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const h=Mw(n);a.run(t,h,f);function f(d,p,g){const m=p||t;d?u(d):l?l(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,a;return this.run(t,n,o),FW("runSync","run",r),a;function o(l,u){RW(l),a=u,r=!0}}stringify(t,n){this.freeze();const r=Mw(n),a=this.compiler||this.Compiler;return BC("stringify",a),PW(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(HC("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...p]=f;h(d,p)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(a.settings=_C(!0,a.settings,f.settings))}function u(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const p=f[d];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,d){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...d]);else if(d.length>0){let[m,...y]=d;const b=r[g][1];KO(b)&&KO(m)&&(m=_C(!0,b,m)),r[g]=[f,m,...y]}}}}const D9e=new M_().freeze();function FC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function BC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function HC(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function PW(e){if(!KO(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function FW(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Mw(e){return M9e(e)?e:new O9e(e)}function M9e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function P9e(e){return typeof e=="string"||F9e(e)}function F9e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const B9e=()=>async(e,t)=>{jd(e,function(n){if(n.type==="containerDirective"||n.type==="leafDirective"||n.type==="textDirective"){if(n.name!=="clip")return;const r=n.data||(n.data={}),a=n.attributes||{},o=a.src,l=a.begin||"",u=a.end||"";n.type==="textDirective"&&t.fail("Unexpected `:clip` text directive, use two colons for a leaf directive",n),o||t.fail("Unexpected missing `src` on `clip` directive",n);const h=n.children.length>0&&n.children[0].hasOwnProperty("value")?n.children[0].value:"",f={type:"element",tagName:"button",properties:{},children:[{type:"text",value:h}]},d={type:"element",tagName:"audio",properties:{src:o,dataClipBegin:l,dataClipEnd:u,preload:"auto",style:"display: none;"},children:[]};r.hName="div",r.hChildren=[d,f],r.hProperties={class:"clip-container"}}})},BW={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function Nte(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function H9e(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function $9e(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function HW(e){return $9e(e)||Nte(e)}const W9e=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function h1(e,t){const n=t||{},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,a=[];let o=0,l=-1,u="",h,f;n.position&&("start"in n.position||"indent"in n.position?(f=n.position.indent,h=n.position.start):h=n.position);let d=(h?h.line:0)||1,p=(h?h.column:0)||1,g=y(),m;for(o--;++o<=e.length;)if(m===10&&(p=(f?f[l]:0)||1),m=e.charCodeAt(o),m===38){const E=e.charCodeAt(o+1);if(E===9||E===10||E===12||E===32||E===38||E===60||Number.isNaN(E)||r&&E===r){u+=String.fromCharCode(m),p++;continue}const w=o+1;let x=w,S=w,A;if(E===35){S=++x;const $=e.charCodeAt(S);$===88||$===120?(A="hexadecimal",S=++x):A="decimal"}else A="named";let R="",C="",N="";const O=A==="named"?HW:A==="decimal"?Nte:H9e;for(S--;++S<=e.length;){const $=e.charCodeAt(S);if(!O($))break;N+=String.fromCharCode($),A==="named"&&OJ.includes(N)&&(R=N,C=Ab(N))}let L=e.charCodeAt(S)===59;if(L){S++;const $=A==="named"?Ab(N):!1;$&&(R=N,C=$)}let k=1+S-w,M="";if(!(!L&&n.nonTerminated===!1))if(!N)A!=="named"&&b(4,k);else if(A==="named"){if(L&&!C)b(5,1);else if(R!==N&&(S=x+R.length,k=1+S-x,L=!1),!L){const $=R?1:3;if(n.attribute){const _=e.charCodeAt(S);_===61?(b($,k),C=""):HW(_)?C="":b($,k)}else b($,k)}M=C}else{L||b(2,k);let $=Number.parseInt(N,A==="hexadecimal"?16:10);if(U9e($))b(7,k),M="�";else if($ in BW)b(6,k),M=BW[$];else{let _="";G9e($)&&b(6,k),$>65535&&($-=65536,_+=String.fromCharCode($>>>10|55296),$=56320|$&1023),M=_+String.fromCharCode($)}}if(M){T(),g=y(),o=S-1,p+=S-w+1,a.push(M);const $=y();$.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,M,{start:g,end:$},e.slice(w-1,S)),g=$}else N=e.slice(w-1,S),u+=N,p+=N.length,o=S-1}else m===10&&(d++,l++,p=0),Number.isNaN(m)?T():(u+=String.fromCharCode(m),p++);return a.join("");function y(){return{line:d,column:p,offset:o+((h?h.offset:0)||0)}}function b(E,w){let x;n.warning&&(x=y(),x.column+=w,x.offset+=w,n.warning.call(n.warningContext||void 0,W9e[E],x,E))}function T(){u&&(a.push(u),n.text&&n.text.call(n.textContext||void 0,u,{start:g,end:y()}),u="")}}function U9e(e){return e>=55296&&e<=57343||e>1114111}function G9e(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}const z9e={}.hasOwnProperty,Y9e={},$W=/^[^\t\n\r "#'.<=>`}]+$/,V9e=/^[^\t\n\r "'<=>`}]+$/;function q9e(){return{canContainEols:["textDirective"],enter:{directiveContainer:X9e,directiveContainerAttributes:WC,directiveContainerLabel:Q9e,directiveLeaf:K9e,directiveLeafAttributes:WC,directiveText:Z9e,directiveTextAttributes:WC},exit:{directiveContainer:qC,directiveContainerAttributeClassValue:GC,directiveContainerAttributeIdValue:UC,directiveContainerAttributeName:YC,directiveContainerAttributeValue:zC,directiveContainerAttributes:VC,directiveContainerLabel:J9e,directiveContainerName:$C,directiveLeaf:qC,directiveLeafAttributeClassValue:GC,directiveLeafAttributeIdValue:UC,directiveLeafAttributeName:YC,directiveLeafAttributeValue:zC,directiveLeafAttributes:VC,directiveLeafName:$C,directiveText:qC,directiveTextAttributeClassValue:GC,directiveTextAttributeIdValue:UC,directiveTextAttributeName:YC,directiveTextAttributeValue:zC,directiveTextAttributes:VC,directiveTextName:$C}}}function j9e(e){const t=Y9e;if(t.quote!=='"'&&t.quote!=="'"&&t.quote!==null&&t.quote!==void 0)throw new Error("Invalid quote `"+t.quote+"`, expected `'` or `\"`");return n.peek=eDe,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(o,l,u,h){const f=u.createTracker(h),d=tDe(o),p=u.enter(o.type);let g=f.move(d+(o.name||"")),m;if(o.type==="containerDirective"){const y=(o.children||[])[0];m=WW(y)?y:void 0}else m=o;if(m&&m.children&&m.children.length>0){const y=u.enter("label"),b=`${o.type}Label`,T=u.enter(b);g+=f.move("["),g+=f.move(u.containerPhrasing(m,{...f.current(),before:g,after:"]"})),g+=f.move("]"),T(),y()}if(g+=f.move(r(o,u)),o.type==="containerDirective"){const y=(o.children||[])[0];let b=o;WW(y)&&(b=Object.assign({},o,{children:o.children.slice(1)})),b&&b.children&&b.children.length>0&&(g+=f.move(`
`),g+=f.move(u.containerFlow(b,f.current()))),g+=f.move(`
`+d)}return p(),g}function r(o,l){const u=o.attributes||{},h=[];let f,d,p,g;for(g in u)if(z9e.call(u,g)&&u[g]!==void 0&&u[g]!==null){const m=String(u[g]);if(g==="id")p=t.preferShortcut!==!1&&$W.test(m)?"#"+m:a("id",m,o,l);else if(g==="class"){const y=m.split(/[\t\n\r ]+/g),b=[],T=[];let E=-1;for(;++E<y.length;)(t.preferShortcut!==!1&&$W.test(y[E])?T:b).push(y[E]);f=b.length>0?a("class",b.join(" "),o,l):"",d=T.length>0?"."+T.join("."):""}else h.push(a(g,m,o,l))}return f&&h.unshift(f),d&&h.unshift(d),p&&h.unshift(p),h.length>0?"{"+h.join(" ")+"}":""}function a(o,l,u,h){if(t.collapseEmptyAttributes!==!1&&!l)return o;if(t.preferUnquoted&&V9e.test(l))return o+"="+l;const f=t.quote||h.options.quote||'"',d=f==='"'?"'":'"',p=t.quoteSmart&&ym(l,f)>ym(l,d)?d:f,g=u.type==="textDirective"?[p]:[p,`
`,"\r"];return o+"="+p+LJ(l,{subset:g})+p}}function X9e(e){P_.call(this,"containerDirective",e)}function K9e(e){P_.call(this,"leafDirective",e)}function Z9e(e){P_.call(this,"textDirective",e)}function P_(e,t){this.enter({type:e,name:"",attributes:{},children:[]},t)}function $C(e){const t=this.stack[this.stack.length-1];t.type==="containerDirective"||t.type==="leafDirective"||t.type,t.name=this.sliceSerialize(e)}function Q9e(e){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},e)}function J9e(e){this.exit(e)}function WC(){this.data.directiveAttributes=[],this.buffer()}function UC(e){this.data.directiveAttributes.push(["id",h1(this.sliceSerialize(e),{attribute:!0})])}function GC(e){this.data.directiveAttributes.push(["class",h1(this.sliceSerialize(e),{attribute:!0})])}function zC(e){const t=this.data.directiveAttributes;t[t.length-1][1]=h1(this.sliceSerialize(e),{attribute:!0})}function YC(e){this.data.directiveAttributes.push([this.sliceSerialize(e),""])}function VC(){const e=this.data.directiveAttributes,t={};let n=-1;for(;++n<e.length;){const a=e[n];a[0]==="class"&&t.class?t.class+=" "+a[1]:t[a[0]]=a[1]}this.data.directiveAttributes=void 0,this.resume();const r=this.stack[this.stack.length-1];r.type==="containerDirective"||r.type==="leafDirective"||r.type,r.attributes=t}function qC(e){this.exit(e)}function eDe(){return":"}function WW(e){return!!(e&&e.type==="paragraph"&&e.data&&e.data.directiveLabel)}function tDe(e){let t=0;return e.type==="containerDirective"?($T(e,function(n,r){if(n.type==="containerDirective"){let a=r.length,o=0;for(;a--;)r[a].type==="containerDirective"&&o++;o>t&&(t=o)}}),t+=3):e.type==="leafDirective"?t=2:t=1,":".repeat(t)}function F_(e,t,n,r,a,o,l,u,h,f,d,p,g,m,y){let b,T;return E;function E(F){return e.enter(r),e.enter(a),e.consume(F),e.exit(a),w}function w(F){return F===35?(b=l,x(F)):F===46?(b=u,x(F)):F===58||F===95||Ni(F)?(e.enter(o),e.enter(h),e.consume(F),R):y&&Kt(F)?Bt(e,w,"whitespace")(F):!y&&gn(F)?eo(e,w)(F):_(F)}function x(F){const B=b+"Marker";return e.enter(o),e.enter(b),e.enter(B),e.consume(F),e.exit(B),S}function S(F){if(F===null||F===34||F===35||F===39||F===46||F===60||F===61||F===62||F===96||F===125||gn(F))return n(F);const B=b+"Value";return e.enter(B),e.consume(F),A}function A(F){if(F===null||F===34||F===39||F===60||F===61||F===62||F===96)return n(F);if(F===35||F===46||F===125||gn(F)){const B=b+"Value";return e.exit(B),e.exit(b),e.exit(o),w(F)}return e.consume(F),A}function R(F){return F===45||F===46||F===58||F===95||wi(F)?(e.consume(F),R):(e.exit(h),y&&Kt(F)?Bt(e,C,"whitespace")(F):!y&&gn(F)?eo(e,C)(F):C(F))}function C(F){return F===61?(e.enter(f),e.consume(F),e.exit(f),N):(e.exit(o),w(F))}function N(F){return F===null||F===60||F===61||F===62||F===96||F===125||y&&bt(F)?n(F):F===34||F===39?(e.enter(d),e.enter(g),e.consume(F),e.exit(g),T=F,L):y&&Kt(F)?Bt(e,N,"whitespace")(F):!y&&gn(F)?eo(e,N)(F):(e.enter(p),e.enter(m),e.consume(F),T=void 0,O)}function O(F){return F===null||F===34||F===39||F===60||F===61||F===62||F===96?n(F):F===125||gn(F)?(e.exit(m),e.exit(p),e.exit(o),w(F)):(e.consume(F),O)}function L(F){return F===T?(e.enter(g),e.consume(F),e.exit(g),e.exit(d),e.exit(o),$):(e.enter(p),k(F))}function k(F){return F===T?(e.exit(p),L(F)):F===null?n(F):bt(F)?y?n(F):eo(e,k)(F):(e.enter(m),e.consume(F),M)}function M(F){return F===T||F===null||bt(F)?(e.exit(m),k(F)):(e.consume(F),M)}function $(F){return F===125||gn(F)?w(F):_(F)}function _(F){return F===125?(e.enter(a),e.consume(F),e.exit(a),e.exit(r),t):n(F)}}function B_(e,t,n,r,a,o,l){let u=0,h=0,f;return d;function d(T){return e.enter(r),e.enter(a),e.consume(T),e.exit(a),p}function p(T){return T===93?(e.enter(a),e.consume(T),e.exit(a),e.exit(r),t):(e.enter(o),g(T))}function g(T){if(T===93&&!h)return b(T);const E=e.enter("chunkText",{contentType:"text",previous:f});return f&&(f.next=E),f=E,m(T)}function m(T){return T===null||u>999||T===91&&++h>32?n(T):T===93&&!h--?(e.exit("chunkText"),b(T)):bt(T)?l?n(T):(e.consume(T),e.exit("chunkText"),g):(e.consume(T),T===92?y:m)}function y(T){return T===91||T===92||T===93?(e.consume(T),u++,m):m(T)}function b(T){return e.exit(o),e.enter(a),e.consume(T),e.exit(a),e.exit(r),t}}function H_(e,t,n,r){const a=this;return o;function o(u){return Ni(u)?(e.enter(r),e.consume(u),l):n(u)}function l(u){return u===45||u===95||wi(u)?(e.consume(u),l):(e.exit(r),a.previous===45||a.previous===95?n(u):t(u))}}const nDe={tokenize:aDe,concrete:!0},rDe={tokenize:sDe,partial:!0},iDe={tokenize:oDe,partial:!0},Pw={tokenize:lDe,partial:!0};function aDe(e,t,n){const r=this,a=r.events[r.events.length-1],o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let l=0,u;return h;function h(O){return e.enter("directiveContainer"),e.enter("directiveContainerFence"),e.enter("directiveContainerSequence"),f(O)}function f(O){return O===58?(e.consume(O),l++,f):l<3?n(O):(e.exit("directiveContainerSequence"),H_.call(r,e,d,n,"directiveContainerName")(O))}function d(O){return O===91?e.attempt(rDe,p,p)(O):p(O)}function p(O){return O===123?e.attempt(iDe,g,g)(O):g(O)}function g(O){return Bt(e,m,"whitespace")(O)}function m(O){return e.exit("directiveContainerFence"),O===null?C(O):bt(O)?r.interrupt?t(O):e.attempt(Pw,y,C)(O):n(O)}function y(O){return O===null?C(O):bt(O)?e.check(Pw,x,C)(O):(e.enter("directiveContainerContent"),b(O))}function b(O){return e.attempt({tokenize:N,partial:!0},R,o?Bt(e,T,"linePrefix",o+1):T)(O)}function T(O){return O===null?R(O):bt(O)?e.check(Pw,w,R)(O):w(O)}function E(O){if(O===null){const L=e.exit("chunkDocument");return r.parser.lazy[L.start.line]=!1,R(O)}return bt(O)?e.check(Pw,S,A)(O):(e.consume(O),E)}function w(O){const L=e.enter("chunkDocument",{contentType:"document",previous:u});return u&&(u.next=L),u=L,E(O)}function x(O){return e.enter("directiveContainerContent"),b(O)}function S(O){e.consume(O);const L=e.exit("chunkDocument");return r.parser.lazy[L.start.line]=!1,b}function A(O){const L=e.exit("chunkDocument");return r.parser.lazy[L.start.line]=!1,R(O)}function R(O){return e.exit("directiveContainerContent"),C(O)}function C(O){return e.exit("directiveContainer"),t(O)}function N(O,L,k){let M=0;return Bt(O,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function $(B){return O.enter("directiveContainerFence"),O.enter("directiveContainerSequence"),_(B)}function _(B){return B===58?(O.consume(B),M++,_):M<l?k(B):(O.exit("directiveContainerSequence"),Bt(O,F,"whitespace")(B))}function F(B){return B===null||bt(B)?(O.exit("directiveContainerFence"),L(B)):k(B)}}}function sDe(e,t,n){return B_(e,t,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function oDe(e,t,n){return F_(e,t,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function lDe(e,t,n){const r=this;return a;function a(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const cDe={tokenize:fDe},uDe={tokenize:dDe,partial:!0},hDe={tokenize:pDe,partial:!0};function fDe(e,t,n){const r=this;return a;function a(d){return e.enter("directiveLeaf"),e.enter("directiveLeafSequence"),e.consume(d),o}function o(d){return d===58?(e.consume(d),e.exit("directiveLeafSequence"),H_.call(r,e,l,n,"directiveLeafName")):n(d)}function l(d){return d===91?e.attempt(uDe,u,u)(d):u(d)}function u(d){return d===123?e.attempt(hDe,h,h)(d):h(d)}function h(d){return Bt(e,f,"whitespace")(d)}function f(d){return d===null||bt(d)?(e.exit("directiveLeaf"),t(d)):n(d)}}function dDe(e,t,n){return B_(e,t,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function pDe(e,t,n){return F_(e,t,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const gDe={tokenize:bDe,previous:yDe},mDe={tokenize:TDe,partial:!0},vDe={tokenize:EDe,partial:!0};function yDe(e){return e!==58||this.events[this.events.length-1][1].type==="characterEscape"}function bDe(e,t,n){const r=this;return a;function a(h){return e.enter("directiveText"),e.enter("directiveTextMarker"),e.consume(h),e.exit("directiveTextMarker"),H_.call(r,e,o,n,"directiveTextName")}function o(h){return h===58?n(h):h===91?e.attempt(mDe,l,l)(h):l(h)}function l(h){return h===123?e.attempt(vDe,u,u)(h):u(h)}function u(h){return e.exit("directiveText"),t(h)}}function TDe(e,t,n){return B_(e,t,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function EDe(e,t,n){return F_(e,t,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function wDe(){return{text:{58:gDe},flow:{58:[nDe,cDe]}}}function xDe(){const t=this.data(),n=t.micromarkExtensions||(t.micromarkExtensions=[]),r=t.fromMarkdownExtensions||(t.fromMarkdownExtensions=[]),a=t.toMarkdownExtensions||(t.toMarkdownExtensions=[]);n.push(wDe()),r.push(q9e()),a.push(j9e())}const $_=function(e,t,n,r,a){const o=wc(t);return Lte(e)?o.call(a,e,n,r):!1},wc=function(e){if(e==null)return IDe;if(typeof e=="string")return ADe(e);if(typeof e=="object")return SDe(e);if(typeof e=="function")return W_(e);throw new Error("Expected function, string, or array as `test`")};function SDe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wc(e[n]);return W_(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function ADe(e){return W_(t);function t(n){return n.tagName===e}}function W_(e){return t;function t(n,r,a){return!!(Lte(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function IDe(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Lte(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const U_=wc(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),CDe=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],RDe=["button","input","select","textarea"],kDe=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],ODe={},G_=pv(["comment","doctype"]);function NDe(e,t){_te(e,{collapse:BDe((t||ODe).newlines?PDe:FDe),whitespace:"normal"})}function _te(e,t){if("children"in e){const n={...t};return(e.type==="root"||Pte(e))&&(n.before=!0,n.after=!0),n.whitespace=HDe(e,t),_De(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return LDe(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:G_(e),stripAtStart:!1,remove:!1}}function LDe(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let a=0,o=n.length;return t.before&&UW(n.charAt(0))&&a++,a!==o&&UW(n.charAt(o-1))&&(t.after?o--:r.stripAtStart=!0),a===o?r.remove=!0:e.value=n.slice(a,o),r}function _De(e,t){let n=t.before;const r=t.after,a=e.children;let o=a.length,l=-1;for(;++l<o;){const u=_te(a[l],{...t,after:Dte(a,l,r),before:n});u.remove?(a.splice(l,1),l--,o--):u.ignore||(n=u.stripAtStart),Mte(a[l])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function Dte(e,t,n){for(;++t<e.length;){const r=e[t];let a=DDe(r);if(a===void 0&&"children"in r&&!MDe(r)&&(a=Dte(r.children,-1)),typeof a=="boolean")return a}return n}function DDe(e){if(e.type==="element"){if(Mte(e))return!1;if(Pte(e))return!0}else if(e.type==="text"){if(!Fd(e))return!1}else if(!G_(e))return!1}function Mte(e){return U_(e)||$_(e,RDe)}function Pte(e){return $_(e,CDe)}function MDe(e){return!!(e.type==="element"&&e.properties.hidden)||G_(e)||$_(e,kDe)}function UW(e){return e===" "||e===`
`}function PDe(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function FDe(){return" "}function BDe(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function HDe(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}const $De={}.hasOwnProperty;function WDe(e,t){const n=e.type==="element"&&$De.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const UDe=new Set(["pingback","prefetch","stylesheet"]);function GDe(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!UDe.has(String(t[n])))return!1;return!0}const zDe=wc(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),YDe=wc("meta");function VDe(e){return!!(e.type==="text"||zDe(e)||U_(e)||GDe(e)||YDe(e)&&WDe(e,"itemProp"))}const qDe=["pre","script","style","textarea"],jDe={};function XDe(e,t){const n=t||jDe,r={blanks:n.blanks||[],head:!1,indentInitial:n.indentInitial!==!1,indent:typeof n.indent=="number"?" ".repeat(n.indent):typeof n.indent=="string"?n.indent:"  "};NDe(e,{newlines:!0}),$T(e,a);function a(l,u){if(!("children"in l))return;if(l.type==="element"&&l.tagName==="head"&&(r.head=!0),r.head&&l.type==="element"&&l.tagName==="body"&&(r.head=!1),l.type==="element"&&qDe.includes(l.tagName))return see;if(l.children.length===0||!jC(r,l))return;let h=u.length;r.indentInitial||h--;let f=!1;for(const g of l.children)(g.type==="comment"||g.type==="text")&&(g.value.includes(`
`)&&(f=!0),g.value=g.value.replace(/ *\n/g,"$&"+r.indent.repeat(h)));const d=[];let p;for(const g of l.children)(jC(r,g)||f&&!p)&&(o(d,h,g),f=!0),p=g,d.push(g);p&&(f||jC(r,p))&&(Fd(p)&&(d.pop(),p=d[d.length-1]),o(d,h-1)),l.children=d}function o(l,u,h){const f=l[l.length-1],d=f&&Fd(f)?l[l.length-2]:f,p=(GW(r,d)&&GW(r,h)?`

`:`
`)+r.indent.repeat(Math.max(u,0));f&&f.type==="text"?f.value=Fd(f)?p:f.value+p:l.push({type:"text",value:p})}}function GW(e,t){return!!(t&&t.type==="element"&&e.blanks.length>0&&e.blanks.includes(t.tagName))}function jC(e,t){return t.type==="root"||(t.type==="element"?e.head||t.tagName==="script"||U_(t)||!VDe(t):!1)}function KDe(e){return function(t){XDe(t,e)}}const ZDe=/\d/,QDe=["-","_","/","."];function JDe(e=""){if(!ZDe.test(e))return e!==e.toLowerCase()}function eMe(e,t){const n=QDe,r=[];if(!e||typeof e!="string")return r;let a="",o,l;for(const u of e){const h=n.includes(u);if(h===!0){r.push(a),a="",o=void 0;continue}const f=JDe(u);if(l===!1){if(o===!1&&f===!0){r.push(a),a=u,o=f;continue}if(o===!0&&f===!1&&a.length>1){const d=a.at(-1);r.push(a.slice(0,Math.max(0,a.length-1))),a=d+u,o=f;continue}}a+=u,o=f,l=h}return r.push(a),r}function QO(e,t){return e?(Array.isArray(e)?e:eMe(e)).map(n=>n.toLowerCase()).join("-"):""}const z_=Symbol.for("yaml.alias"),JO=Symbol.for("yaml.document"),M0=Symbol.for("yaml.map"),Fte=Symbol.for("yaml.pair"),du=Symbol.for("yaml.scalar"),Ev=Symbol.for("yaml.seq"),El=Symbol.for("yaml.node.type"),Np=e=>!!e&&typeof e=="object"&&e[El]===z_,Lp=e=>!!e&&typeof e=="object"&&e[El]===JO,wv=e=>!!e&&typeof e=="object"&&e[El]===M0,Fr=e=>!!e&&typeof e=="object"&&e[El]===Fte,dr=e=>!!e&&typeof e=="object"&&e[El]===du,xv=e=>!!e&&typeof e=="object"&&e[El]===Ev;function Yr(e){if(e&&typeof e=="object")switch(e[El]){case M0:case Ev:return!0}return!1}function jr(e){if(e&&typeof e=="object")switch(e[El]){case z_:case M0:case du:case Ev:return!0}return!1}const tMe=e=>(dr(e)||Yr(e))&&!!e.anchor,Zs=Symbol("break visit"),Bte=Symbol("skip children"),lu=Symbol("remove node");function V0(e,t){const n=Hte(t);Lp(e)?Mg(null,e.contents,n,Object.freeze([e]))===lu&&(e.contents=null):Mg(null,e,n,Object.freeze([]))}V0.BREAK=Zs;V0.SKIP=Bte;V0.REMOVE=lu;function Mg(e,t,n,r){const a=$te(e,t,n,r);if(jr(a)||Fr(a))return Wte(e,r,a),Mg(e,a,n,r);if(typeof a!="symbol"){if(Yr(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const l=Mg(o,t.items[o],n,r);if(typeof l=="number")o=l-1;else{if(l===Zs)return Zs;l===lu&&(t.items.splice(o,1),o-=1)}}}else if(Fr(t)){r=Object.freeze(r.concat(t));const o=Mg("key",t.key,n,r);if(o===Zs)return Zs;o===lu&&(t.key=null);const l=Mg("value",t.value,n,r);if(l===Zs)return Zs;l===lu&&(t.value=null)}}return a}async function mA(e,t){const n=Hte(t);Lp(e)?await Pg(null,e.contents,n,Object.freeze([e]))===lu&&(e.contents=null):await Pg(null,e,n,Object.freeze([]))}mA.BREAK=Zs;mA.SKIP=Bte;mA.REMOVE=lu;async function Pg(e,t,n,r){const a=await $te(e,t,n,r);if(jr(a)||Fr(a))return Wte(e,r,a),Pg(e,a,n,r);if(typeof a!="symbol"){if(Yr(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const l=await Pg(o,t.items[o],n,r);if(typeof l=="number")o=l-1;else{if(l===Zs)return Zs;l===lu&&(t.items.splice(o,1),o-=1)}}}else if(Fr(t)){r=Object.freeze(r.concat(t));const o=await Pg("key",t.key,n,r);if(o===Zs)return Zs;o===lu&&(t.key=null);const l=await Pg("value",t.value,n,r);if(l===Zs)return Zs;l===lu&&(t.value=null)}}return a}function Hte(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function $te(e,t,n,r){var a,o,l,u,h;if(typeof n=="function")return n(e,t,r);if(wv(t))return(a=n.Map)==null?void 0:a.call(n,e,t,r);if(xv(t))return(o=n.Seq)==null?void 0:o.call(n,e,t,r);if(Fr(t))return(l=n.Pair)==null?void 0:l.call(n,e,t,r);if(dr(t))return(u=n.Scalar)==null?void 0:u.call(n,e,t,r);if(Np(t))return(h=n.Alias)==null?void 0:h.call(n,e,t,r)}function Wte(e,t,n){const r=t[t.length-1];if(Yr(r))r.items[e]=n;else if(Fr(r))e==="key"?r.key=n:r.value=n;else if(Lp(r))r.contents=n;else{const a=Np(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${a} parent`)}}const nMe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},rMe=e=>e.replace(/[!,[\]{}]/g,t=>nMe[t]);class bs{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},bs.defaultYaml,t),this.tags=Object.assign({},bs.defaultTags,n)}clone(){const t=new bs(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new bs(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:bs.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},bs.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:bs.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},bs.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),a=r.shift();switch(a){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,l]=r;return this.tags[o]=l,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const l=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,l),!1}}default:return n(0,`Unknown directive ${a}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const l=t.slice(2,-1);return l==="!"||l==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),l)}const[,r,a]=t.match(/^(.*!)([^!]*)$/s);a||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(a)}catch(l){return n(String(l)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+rMe(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let a;if(t&&r.length>0&&jr(t.contents)){const o={};V0(t.contents,(l,u)=>{jr(u)&&u.tag&&(o[u.tag]=!0)}),a=Object.keys(o)}else a=[];for(const[o,l]of r)o==="!!"&&l==="tag:yaml.org,2002:"||(!t||a.some(u=>u.startsWith(l)))&&n.push(`%TAG ${o} ${l}`);return n.join(`
`)}}bs.defaultYaml={explicit:!1,version:"1.2"};bs.defaultTags={"!!":"tag:yaml.org,2002:"};function Ute(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function Gte(e){const t=new Set;return V0(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function zte(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function iMe(e,t){const n=[],r=new Map;let a=null;return{onAnchor:o=>{n.push(o),a||(a=Gte(e));const l=zte(t,a);return a.add(l),l},setAnchors:()=>{for(const o of n){const l=r.get(o);if(typeof l=="object"&&l.anchor&&(dr(l.node)||Yr(l.node)))l.node.anchor=l.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=o,u}}},sourceObjects:r}}function Fg(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let a=0,o=r.length;a<o;++a){const l=r[a],u=Fg(e,r,String(a),l);u===void 0?delete r[a]:u!==l&&(r[a]=u)}else if(r instanceof Map)for(const a of Array.from(r.keys())){const o=r.get(a),l=Fg(e,r,a,o);l===void 0?r.delete(a):l!==o&&r.set(a,l)}else if(r instanceof Set)for(const a of Array.from(r)){const o=Fg(e,r,a,a);o===void 0?r.delete(a):o!==a&&(r.delete(a),r.add(o))}else for(const[a,o]of Object.entries(r)){const l=Fg(e,r,a,o);l===void 0?delete r[a]:l!==o&&(r[a]=l)}return e.call(t,n,r)}function vl(e,t,n){if(Array.isArray(e))return e.map((r,a)=>vl(r,String(a),n));if(e&&typeof e.toJSON=="function"){if(!n||!tMe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const a=e.toJSON(t,n);return n.onCreate&&n.onCreate(a),a}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class Y_{constructor(t){Object.defineProperty(this,El,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:a,reviver:o}={}){if(!Lp(t))throw new TypeError("A document argument is required");const l={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},u=vl(this,"",l);if(typeof a=="function")for(const{count:h,res:f}of l.anchors.values())a(f,h);return typeof o=="function"?Fg(o,{"":u},"",u):u}}class vA extends Y_{constructor(t){super(z_),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return V0(t,{Node:(r,a)=>{if(a===this)return V0.BREAK;a.anchor===this.source&&(n=a)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:a,maxAliasCount:o}=n,l=this.resolve(a);if(!l){const h=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(h)}let u=r.get(l);if(u||(vl(l,null,n),u=r.get(l)),!u||u.res===void 0){const h="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(h)}if(o>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=J3(a,l,r)),u.count*u.aliasCount>o)){const h="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(h)}return u.res}toString(t,n,r){const a=`*${this.source}`;if(t){if(Ute(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${a} `}return a}}function J3(e,t,n){if(Np(t)){const r=t.resolve(e),a=n&&r&&n.get(r);return a?a.count*a.aliasCount:0}else if(Yr(t)){let r=0;for(const a of t.items){const o=J3(e,a,n);o>r&&(r=o)}return r}else if(Fr(t)){const r=J3(e,t.key,n),a=J3(e,t.value,n);return Math.max(r,a)}return 1}const Yte=e=>!e||typeof e!="function"&&typeof e!="object";class dn extends Y_{constructor(t){super(du),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:vl(this.value,t,n)}toString(){return String(this.value)}}dn.BLOCK_FOLDED="BLOCK_FOLDED";dn.BLOCK_LITERAL="BLOCK_LITERAL";dn.PLAIN="PLAIN";dn.QUOTE_DOUBLE="QUOTE_DOUBLE";dn.QUOTE_SINGLE="QUOTE_SINGLE";const aMe="tag:yaml.org,2002:";function sMe(e,t,n){if(t){const r=n.filter(o=>o.tag===t),a=r.find(o=>!o.format)??r[0];if(!a)throw new Error(`Tag ${t} not found`);return a}return n.find(r=>{var a;return((a=r.identify)==null?void 0:a.call(r,e))&&!r.format})}function Cb(e,t,n){var p,g,m;if(Lp(e)&&(e=e.contents),jr(e))return e;if(Fr(e)){const y=(g=(p=n.schema[M0]).createNode)==null?void 0:g.call(p,n.schema,null,n);return y.items.push(e),y}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:a,onTagObj:o,schema:l,sourceObjects:u}=n;let h;if(r&&e&&typeof e=="object"){if(h=u.get(e),h)return h.anchor||(h.anchor=a(e)),new vA(h.anchor);h={anchor:null,node:null},u.set(e,h)}t!=null&&t.startsWith("!!")&&(t=aMe+t.slice(2));let f=sMe(e,t,l.tags);if(!f){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const y=new dn(e);return h&&(h.node=y),y}f=e instanceof Map?l[M0]:Symbol.iterator in Object(e)?l[Ev]:l[M0]}o&&(o(f),delete n.onTagObj);const d=f!=null&&f.createNode?f.createNode(n.schema,e,n):typeof((m=f==null?void 0:f.nodeClass)==null?void 0:m.from)=="function"?f.nodeClass.from(n.schema,e,n):new dn(e);return t?d.tag=t:f.default||(d.tag=f.tag),h&&(h.node=d),d}function E4(e,t,n){let r=n;for(let a=t.length-1;a>=0;--a){const o=t[a];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const l=[];l[o]=r,r=l}else r=new Map([[o,r]])}return Cb(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const t2=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;let Vte=class extends Y_{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>jr(r)||Fr(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(t2(t))this.add(n);else{const[r,...a]=t,o=this.get(r,!0);if(Yr(o))o.addIn(a,n);else if(o===void 0&&this.schema)this.set(r,E4(this.schema,a,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${a}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const a=this.get(n,!0);if(Yr(a))return a.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...a]=t,o=this.get(r,!0);return a.length===0?!n&&dr(o)?o.value:o:Yr(o)?o.getIn(a,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!Fr(n))return!1;const r=n.value;return r==null||t&&dr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const a=this.get(n,!0);return Yr(a)?a.hasIn(r):!1}setIn(t,n){const[r,...a]=t;if(a.length===0)this.set(r,n);else{const o=this.get(r,!0);if(Yr(o))o.setIn(a,n);else if(o===void 0&&this.schema)this.set(r,E4(this.schema,a,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${a}`)}}};const oMe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function rh(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const wd=(e,t,n)=>e.endsWith(`
`)?rh(n,t):n.includes(`
`)?`
`+rh(n,t):(e.endsWith(" ")?"":" ")+n,qte="flow",eN="block",ex="quoted";function yA(e,t,n="flow",{indentAtStart:r,lineWidth:a=80,minContentWidth:o=20,onFold:l,onOverflow:u}={}){if(!a||a<0)return e;a<o&&(o=0);const h=Math.max(1+o,1+a-t.length);if(e.length<=h)return e;const f=[],d={};let p=a-t.length;typeof r=="number"&&(r>a-Math.max(2,o)?f.push(0):p=a-r);let g,m,y=!1,b=-1,T=-1,E=-1;n===eN&&(b=zW(e,b,t.length),b!==-1&&(p=b+h));for(let x;x=e[b+=1];){if(n===ex&&x==="\\"){switch(T=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}E=b}if(x===`
`)n===eN&&(b=zW(e,b,t.length)),p=b+t.length+h,g=void 0;else{if(x===" "&&m&&m!==" "&&m!==`
`&&m!=="	"){const S=e[b+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(g=b)}if(b>=p)if(g)f.push(g),p=g+h,g=void 0;else if(n===ex){for(;m===" "||m==="	";)m=x,x=e[b+=1],y=!0;const S=b>E+1?b-2:T-1;if(d[S])return e;f.push(S),d[S]=!0,p=S+h,g=void 0}else y=!0}m=x}if(y&&u&&u(),f.length===0)return e;l&&l();let w=e.slice(0,f[0]);for(let x=0;x<f.length;++x){const S=f[x],A=f[x+1]||e.length;S===0?w=`
${t}${e.slice(0,A)}`:(n===ex&&d[S]&&(w+=`${e[S]}\\`),w+=`
${t}${e.slice(S+1,A)}`)}return w}function zW(e,t,n){let r=t,a=t+1,o=e[a];for(;o===" "||o==="	";)if(t<a+n)o=e[++t];else{do o=e[++t];while(o&&o!==`
`);r=t,a=t+1,o=e[a]}return r}const bA=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),TA=e=>/^(%|---|\.\.\.)/m.test(e);function lMe(e,t,n){if(!t||t<0)return!1;const r=t-n,a=e.length;if(a<=r)return!1;for(let o=0,l=0;o<a;++o)if(e[o]===`
`){if(o-l>r)return!0;if(l=o+1,a-l<=r)return!1}return!0}function z2(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,a=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(TA(e)?"  ":"");let l="",u=0;for(let h=0,f=n[h];f;f=n[++h])if(f===" "&&n[h+1]==="\\"&&n[h+2]==="n"&&(l+=n.slice(u,h)+"\\ ",h+=1,u=h,f="\\"),f==="\\")switch(n[h+1]){case"u":{l+=n.slice(u,h);const d=n.substr(h+2,4);switch(d){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:d.substr(0,2)==="00"?l+="\\x"+d.substr(2):l+=n.substr(h,6)}h+=5,u=h+1}break;case"n":if(r||n[h+2]==='"'||n.length<a)h+=1;else{for(l+=n.slice(u,h)+`

`;n[h+2]==="\\"&&n[h+3]==="n"&&n[h+4]!=='"';)l+=`
`,h+=2;l+=o,n[h+2]===" "&&(l+="\\"),h+=1,u=h+1}break;default:h+=1}return l=u?l+n.slice(u):n,r?l:yA(l,o,ex,bA(t,!1))}function tN(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return z2(e,t);const n=t.indent||(TA(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:yA(r,n,qte,bA(t,!1))}function Bg(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=z2;else{const a=e.includes('"'),o=e.includes("'");a&&!o?r=tN:o&&!a?r=z2:r=n?tN:z2}return r(e,t)}let nN;try{nN=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{nN=/\n+(?!\n|$)/g}function tx({comment:e,type:t,value:n},r,a,o){const{blockQuote:l,commentString:u,lineWidth:h}=r.options;if(!l||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Bg(n,r);const f=r.indent||(r.forceBlockIndent||TA(n)?"  ":""),d=l==="literal"?!0:l==="folded"||t===dn.BLOCK_FOLDED?!1:t===dn.BLOCK_LITERAL?!0:!lMe(n,h,f.length);if(!n)return d?`|
`:`>
`;let p,g;for(g=n.length;g>0;--g){const A=n[g-1];if(A!==`
`&&A!=="	"&&A!==" ")break}let m=n.substring(g);const y=m.indexOf(`
`);y===-1?p="-":n===m||y!==m.length-1?(p="+",o&&o()):p="",m&&(n=n.slice(0,-m.length),m[m.length-1]===`
`&&(m=m.slice(0,-1)),m=m.replace(nN,`$&${f}`));let b=!1,T,E=-1;for(T=0;T<n.length;++T){const A=n[T];if(A===" ")b=!0;else if(A===`
`)E=T;else break}let w=n.substring(0,E<T?E+1:T);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${f}`));let S=(b?f?"2":"1":"")+p;if(e&&(S+=" "+u(e.replace(/ ?[\r\n]+/g," ")),a&&a()),!d){const A=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);let R=!1;const C=bA(r,!0);l!=="folded"&&t!==dn.BLOCK_FOLDED&&(C.onOverflow=()=>{R=!0});const N=yA(`${w}${A}${m}`,f,eN,C);if(!R)return`>${S}
${f}${N}`}return n=n.replace(/\n+/g,`$&${f}`),`|${S}
${f}${w}${n}${m}`}function cMe(e,t,n,r){const{type:a,value:o}=e,{actualString:l,implicitKey:u,indent:h,indentStep:f,inFlow:d}=t;if(u&&o.includes(`
`)||d&&/[[\]{},]/.test(o))return Bg(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return u||d||!o.includes(`
`)?Bg(o,t):tx(e,t,n,r);if(!u&&!d&&a!==dn.PLAIN&&o.includes(`
`))return tx(e,t,n,r);if(TA(o)){if(h==="")return t.forceBlockIndent=!0,tx(e,t,n,r);if(u&&h===f)return Bg(o,t)}const p=o.replace(/\n+/g,`$&
${h}`);if(l){const g=b=>{var T;return b.default&&b.tag!=="tag:yaml.org,2002:str"&&((T=b.test)==null?void 0:T.test(p))},{compat:m,tags:y}=t.doc.schema;if(y.some(g)||m!=null&&m.some(g))return Bg(o,t)}return u?p:yA(p,h,qte,bA(t,!1))}function jT(e,t,n,r){const{implicitKey:a,inFlow:o}=t,l=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:u}=e;u!==dn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(l.value)&&(u=dn.QUOTE_DOUBLE);const h=d=>{switch(d){case dn.BLOCK_FOLDED:case dn.BLOCK_LITERAL:return a||o?Bg(l.value,t):tx(l,t,n,r);case dn.QUOTE_DOUBLE:return z2(l.value,t);case dn.QUOTE_SINGLE:return tN(l.value,t);case dn.PLAIN:return cMe(l,t,n,r);default:return null}};let f=h(u);if(f===null){const{defaultKeyType:d,defaultStringType:p}=t.options,g=a&&d||p;if(f=h(g),f===null)throw new Error(`Unsupported default string type ${g}`)}return f}function jte(e,t){const n=Object.assign({blockQuote:!0,commentString:oMe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function uMe(e,t){var a;if(t.tag){const o=e.filter(l=>l.tag===t.tag);if(o.length>0)return o.find(l=>l.format===t.format)??o[0]}let n,r;if(dr(t)){r=t.value;let o=e.filter(l=>{var u;return(u=l.identify)==null?void 0:u.call(l,r)});if(o.length>1){const l=o.filter(u=>u.test);l.length>0&&(o=l)}n=o.find(l=>l.format===t.format)??o.find(l=>!l.format)}else r=t,n=e.find(o=>o.nodeClass&&r instanceof o.nodeClass);if(!n){const o=((a=r==null?void 0:r.constructor)==null?void 0:a.name)??typeof r;throw new Error(`Tag not resolved for ${o} value`)}return n}function hMe(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const a=[],o=(dr(e)||Yr(e))&&e.anchor;o&&Ute(o)&&(n.add(o),a.push(`&${o}`));const l=e.tag?e.tag:t.default?null:t.tag;return l&&a.push(r.directives.tagString(l)),a.join(" ")}function Tm(e,t,n,r){var h;if(Fr(e))return e.toString(t,n,r);if(Np(e)){if(t.doc.directives)return e.toString(t);if((h=t.resolvedAliases)!=null&&h.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a;const o=jr(e)?e:t.doc.createNode(e,{onTagObj:f=>a=f});a||(a=uMe(t.doc.schema.tags,o));const l=hMe(o,a,t);l.length>0&&(t.indentAtStart=(t.indentAtStart??0)+l.length+1);const u=typeof a.stringify=="function"?a.stringify(o,t,n,r):dr(o)?jT(o,t,n,r):o.toString(t,n,r);return l?dr(o)||u[0]==="{"||u[0]==="["?`${l} ${u}`:`${l}
${t.indent}${u}`:u}function fMe({key:e,value:t},n,r,a){const{allNullValues:o,doc:l,indent:u,indentStep:h,options:{commentString:f,indentSeq:d,simpleKeys:p}}=n;let g=jr(e)&&e.comment||null;if(p){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(Yr(e)||!jr(e)&&typeof e=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let m=!p&&(!e||g&&t==null&&!n.inFlow||Yr(e)||(dr(e)?e.type===dn.BLOCK_FOLDED||e.type===dn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!m&&(p||!o),indent:u+h});let y=!1,b=!1,T=Tm(e,n,()=>y=!0,()=>b=!0);if(!m&&!n.inFlow&&T.length>1024){if(p)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(n.inFlow){if(o||t==null)return y&&r&&r(),T===""?"?":m?`? ${T}`:T}else if(o&&!p||t==null&&m)return T=`? ${T}`,g&&!y?T+=wd(T,n.indent,f(g)):b&&a&&a(),T;y&&(g=null),m?(g&&(T+=wd(T,n.indent,f(g))),T=`? ${T}
${u}:`):(T=`${T}:`,g&&(T+=wd(T,n.indent,f(g))));let E,w,x;jr(t)?(E=!!t.spaceBefore,w=t.commentBefore,x=t.comment):(E=!1,w=null,x=null,t&&typeof t=="object"&&(t=l.createNode(t))),n.implicitKey=!1,!m&&!g&&dr(t)&&(n.indentAtStart=T.length+1),b=!1,!d&&h.length>=2&&!n.inFlow&&!m&&xv(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let S=!1;const A=Tm(t,n,()=>S=!0,()=>b=!0);let R=" ";if(g||E||w){if(R=E?`
`:"",w){const C=f(w);R+=`
${rh(C,n.indent)}`}A===""&&!n.inFlow?R===`
`&&(R=`

`):R+=`
${n.indent}`}else if(!m&&Yr(t)){const C=A[0],N=A.indexOf(`
`),O=N!==-1,L=n.inFlow??t.flow??t.items.length===0;if(O||!L){let k=!1;if(O&&(C==="&"||C==="!")){let M=A.indexOf(" ");C==="&"&&M!==-1&&M<N&&A[M+1]==="!"&&(M=A.indexOf(" ",M+1)),(M===-1||N<M)&&(k=!0)}k||(R=`
${n.indent}`)}}else(A===""||A[0]===`
`)&&(R="");return T+=R+A,n.inFlow?S&&r&&r():x&&!S?T+=wd(T,n.indent,f(x)):b&&a&&a(),T}function Xte(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const Fw="<<",ph={identify:e=>e===Fw||typeof e=="symbol"&&e.description===Fw,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new dn(Symbol(Fw)),{addToJSMap:Kte}),stringify:()=>Fw},dMe=(e,t)=>(ph.identify(t)||dr(t)&&(!t.type||t.type===dn.PLAIN)&&ph.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===ph.tag&&n.default));function Kte(e,t,n){if(n=e&&Np(n)?n.resolve(e.doc):n,xv(n))for(const r of n.items)XC(e,t,r);else if(Array.isArray(n))for(const r of n)XC(e,t,r);else XC(e,t,n)}function XC(e,t,n){const r=e&&Np(n)?n.resolve(e.doc):n;if(!wv(r))throw new Error("Merge sources must be maps or map aliases");const a=r.toJSON(null,e,Map);for(const[o,l]of a)t instanceof Map?t.has(o)||t.set(o,l):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0});return t}function Zte(e,t,{key:n,value:r}){if(jr(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(dMe(e,n))Kte(e,t,r);else{const a=vl(n,"",e);if(t instanceof Map)t.set(a,vl(r,a,e));else if(t instanceof Set)t.add(a);else{const o=pMe(n,a,e),l=vl(r,o,e);o in t?Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0}):t[o]=l}}return t}function pMe(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(jr(e)&&(n!=null&&n.doc)){const r=jte(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const a=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(a);o.length>40&&(o=o.substring(0,36)+'..."'),Xte(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return a}return JSON.stringify(t)}function V_(e,t,n){const r=Cb(e,void 0,n),a=Cb(t,void 0,n);return new Qa(r,a)}class Qa{constructor(t,n=null){Object.defineProperty(this,El,{value:Fte}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return jr(n)&&(n=n.clone(t)),jr(r)&&(r=r.clone(t)),new Qa(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Zte(n,r,this)}toString(t,n,r){return t!=null&&t.doc?fMe(this,t,n,r):JSON.stringify(this)}}function Qte(e,t,n){return(t.inFlow??e.flow?mMe:gMe)(e,t,n)}function gMe({comment:e,items:t},n,{blockItemPrefix:r,flowChars:a,itemIndent:o,onChompKeep:l,onComment:u}){const{indent:h,options:{commentString:f}}=n,d=Object.assign({},n,{indent:o,type:null});let p=!1;const g=[];for(let y=0;y<t.length;++y){const b=t[y];let T=null;if(jr(b))!p&&b.spaceBefore&&g.push(""),w4(n,g,b.commentBefore,p),b.comment&&(T=b.comment);else if(Fr(b)){const w=jr(b.key)?b.key:null;w&&(!p&&w.spaceBefore&&g.push(""),w4(n,g,w.commentBefore,p))}p=!1;let E=Tm(b,d,()=>T=null,()=>p=!0);T&&(E+=wd(E,o,f(T))),p&&T&&(p=!1),g.push(r+E)}let m;if(g.length===0)m=a.start+a.end;else{m=g[0];for(let y=1;y<g.length;++y){const b=g[y];m+=b?`
${h}${b}`:`
`}}return e?(m+=`
`+rh(f(e),h),u&&u()):p&&l&&l(),m}function mMe({items:e},t,{flowChars:n,itemIndent:r}){const{indent:a,indentStep:o,flowCollectionPadding:l,options:{commentString:u}}=t;r+=o;const h=Object.assign({},t,{indent:r,inFlow:!0,type:null});let f=!1,d=0;const p=[];for(let y=0;y<e.length;++y){const b=e[y];let T=null;if(jr(b))b.spaceBefore&&p.push(""),w4(t,p,b.commentBefore,!1),b.comment&&(T=b.comment);else if(Fr(b)){const w=jr(b.key)?b.key:null;w&&(w.spaceBefore&&p.push(""),w4(t,p,w.commentBefore,!1),w.comment&&(f=!0));const x=jr(b.value)?b.value:null;x?(x.comment&&(T=x.comment),x.commentBefore&&(f=!0)):b.value==null&&(w!=null&&w.comment)&&(T=w.comment)}T&&(f=!0);let E=Tm(b,h,()=>T=null);y<e.length-1&&(E+=","),T&&(E+=wd(E,r,u(T))),!f&&(p.length>d||E.includes(`
`))&&(f=!0),p.push(E),d=p.length}const{start:g,end:m}=n;if(p.length===0)return g+m;if(!f){const y=p.reduce((b,T)=>b+T.length+2,2);f=t.options.lineWidth>0&&y>t.options.lineWidth}if(f){let y=g;for(const b of p)y+=b?`
${o}${a}${b}`:`
`;return`${y}
${a}${m}`}else return`${g}${l}${p.join(" ")}${l}${m}`}function w4({indent:e,options:{commentString:t}},n,r,a){if(r&&a&&(r=r.replace(/^\n+/,"")),r){const o=rh(t(r),e);n.push(o.trimStart())}}function xd(e,t){const n=dr(t)?t.value:t;for(const r of e)if(Fr(r)&&(r.key===t||r.key===n||dr(r.key)&&r.key.value===n))return r}class Lo extends Vte{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(M0,t),this.items=[]}static from(t,n,r){const{keepUndefined:a,replacer:o}=r,l=new this(t),u=(h,f)=>{if(typeof o=="function")f=o.call(n,h,f);else if(Array.isArray(o)&&!o.includes(h))return;(f!==void 0||a)&&l.items.push(V_(h,f,r))};if(n instanceof Map)for(const[h,f]of n)u(h,f);else if(n&&typeof n=="object")for(const h of Object.keys(n))u(h,n[h]);return typeof t.sortMapEntries=="function"&&l.items.sort(t.sortMapEntries),l}add(t,n){var l;let r;Fr(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Qa(t,t==null?void 0:t.value):r=new Qa(t.key,t.value);const a=xd(this.items,r.key),o=(l=this.schema)==null?void 0:l.sortMapEntries;if(a){if(!n)throw new Error(`Key ${r.key} already set`);dr(a.value)&&Yte(r.value)?a.value.value=r.value:a.value=r.value}else if(o){const u=this.items.findIndex(h=>o(r,h)<0);u===-1?this.items.push(r):this.items.splice(u,0,r)}else this.items.push(r)}delete(t){const n=xd(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=xd(this.items,t),a=r==null?void 0:r.value;return(!n&&dr(a)?a.value:a)??void 0}has(t){return!!xd(this.items,t)}set(t,n){this.add(new Qa(t,n),!0)}toJSON(t,n,r){const a=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(a);for(const o of this.items)Zte(n,a,o);return a}toString(t,n,r){if(!t)return JSON.stringify(this);for(const a of this.items)if(!Fr(a))throw new Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Qte(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const Sv={collection:"map",default:!0,nodeClass:Lo,tag:"tag:yaml.org,2002:map",resolve(e,t){return wv(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Lo.from(e,t,n)};class q0 extends Vte{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Ev,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Bw(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Bw(t);if(typeof r!="number")return;const a=this.items[r];return!n&&dr(a)?a.value:a}has(t){const n=Bw(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Bw(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const a=this.items[r];dr(a)&&Yte(n)?a.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let a=0;for(const o of this.items)r.push(vl(o,String(a++),n));return r}toString(t,n,r){return t?Qte(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:a}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let l=0;for(let u of n){if(typeof a=="function"){const h=n instanceof Set?u:String(l++);u=a.call(n,h,u)}o.items.push(Cb(u,void 0,r))}}return o}}function Bw(e){let t=dr(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Av={collection:"seq",default:!0,nodeClass:q0,tag:"tag:yaml.org,2002:seq",resolve(e,t){return xv(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>q0.from(e,t,n)},EA={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),jT(e,t,n,r)}},wA={identify:e=>e==null,createNode:()=>new dn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new dn(null),stringify:({source:e},t)=>typeof e=="string"&&wA.test.test(e)?e:t.options.nullStr},q_={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new dn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&q_.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function xc({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const a=typeof r=="number"?r:Number(r);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let l=o.indexOf(".");l<0&&(l=o.length,o+=".");let u=t-(o.length-l-1);for(;u-- >0;)o+="0"}return o}const Jte={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xc},ene={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():xc(e)}},tne={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new dn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:xc},xA=e=>typeof e=="bigint"||Number.isInteger(e),j_=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function nne(e,t,n){const{value:r}=e;return xA(r)&&r>=0?n+r.toString(t):xc(e)}const rne={identify:e=>xA(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>j_(e,2,8,n),stringify:e=>nne(e,8,"0o")},ine={identify:xA,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>j_(e,0,10,n),stringify:xc},ane={identify:e=>xA(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>j_(e,2,16,n),stringify:e=>nne(e,16,"0x")},vMe=[Sv,Av,EA,wA,q_,rne,ine,ane,Jte,ene,tne];function YW(e){return typeof e=="bigint"||Number.isInteger(e)}const Hw=({value:e})=>JSON.stringify(e),yMe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Hw},{identify:e=>e==null,createNode:()=>new dn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Hw},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:Hw},{identify:YW,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>YW(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Hw}],bMe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},TMe=[Sv,Av].concat(yMe,bMe),X_={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,a,o){const l=n;let u;if(typeof btoa=="function"){let h="";for(let f=0;f<l.length;++f)h+=String.fromCharCode(l[f]);u=btoa(h)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=dn.BLOCK_LITERAL),t!==dn.QUOTE_DOUBLE){const h=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),f=Math.ceil(u.length/h),d=new Array(f);for(let p=0,g=0;p<f;++p,g+=h)d[p]=u.substr(g,h);u=d.join(t===dn.BLOCK_LITERAL?`
`:" ")}return jT({comment:e,type:t,value:u},r,a,o)}};function sne(e,t){if(xv(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!Fr(r)){if(wv(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const a=r.items[0]||new Qa(new dn(null));if(r.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${r.commentBefore}
${a.key.commentBefore}`:r.commentBefore),r.comment){const o=a.value??a.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=a}e.items[n]=Fr(r)?r:new Qa(r)}}else t("Expected a sequence for this tag");return e}function one(e,t,n){const{replacer:r}=n,a=new q0(e);a.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let l of t){typeof r=="function"&&(l=r.call(t,String(o++),l));let u,h;if(Array.isArray(l))if(l.length===2)u=l[0],h=l[1];else throw new TypeError(`Expected [key, value] tuple: ${l}`);else if(l&&l instanceof Object){const f=Object.keys(l);if(f.length===1)u=f[0],h=l[u];else throw new TypeError(`Expected tuple with one key, not ${f.length} keys`)}else u=l;a.items.push(V_(u,h,n))}return a}const K_={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sne,createNode:one};class f1 extends q0{constructor(){super(),this.add=Lo.prototype.add.bind(this),this.delete=Lo.prototype.delete.bind(this),this.get=Lo.prototype.get.bind(this),this.has=Lo.prototype.has.bind(this),this.set=Lo.prototype.set.bind(this),this.tag=f1.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const a of this.items){let o,l;if(Fr(a)?(o=vl(a.key,"",n),l=vl(a.value,o,n)):o=vl(a,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,l)}return r}static from(t,n,r){const a=one(t,n,r),o=new this;return o.items=a.items,o}}f1.tag="tag:yaml.org,2002:omap";const Z_={collection:"seq",identify:e=>e instanceof Map,nodeClass:f1,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=sne(e,t),r=[];for(const{key:a}of n.items)dr(a)&&(r.includes(a.value)?t(`Ordered maps must not include duplicate keys: ${a.value}`):r.push(a.value));return Object.assign(new f1,n)},createNode:(e,t,n)=>f1.from(e,t,n)};function lne({value:e,source:t},n){return t&&(e?cne:une).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const cne={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new dn(!0),stringify:lne},une={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new dn(!1),stringify:lne},EMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xc},wMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():xc(e)}},xMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new dn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:xc},XT=e=>typeof e=="bigint"||Number.isInteger(e);function SA(e,t,n,{intAsBigInt:r}){const a=e[0];if((a==="-"||a==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const l=BigInt(e);return a==="-"?BigInt(-1)*l:l}const o=parseInt(e,n);return a==="-"?-1*o:o}function Q_(e,t,n){const{value:r}=e;if(XT(r)){const a=r.toString(t);return r<0?"-"+n+a.substr(1):n+a}return xc(e)}const SMe={identify:XT,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>SA(e,2,2,n),stringify:e=>Q_(e,2,"0b")},AMe={identify:XT,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>SA(e,1,8,n),stringify:e=>Q_(e,8,"0")},IMe={identify:XT,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>SA(e,0,10,n),stringify:xc},CMe={identify:XT,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>SA(e,2,16,n),stringify:e=>Q_(e,16,"0x")};class d1 extends Lo{constructor(t){super(t),this.tag=d1.tag}add(t){let n;Fr(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Qa(t.key,null):n=new Qa(t,null),xd(this.items,n.key)||this.items.push(n)}get(t,n){const r=xd(this.items,t);return!n&&Fr(r)?dr(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=xd(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Qa(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:a}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let l of n)typeof a=="function"&&(l=a.call(n,l,l)),o.items.push(V_(l,null,r));return o}}d1.tag="tag:yaml.org,2002:set";const J_={collection:"map",identify:e=>e instanceof Set,nodeClass:d1,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>d1.from(e,t,n),resolve(e,t){if(wv(e)){if(e.hasAllNullValues(!0))return Object.assign(new d1,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function e9(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,a=l=>t?BigInt(l):Number(l),o=r.replace(/_/g,"").split(":").reduce((l,u)=>l*a(60)+a(u),a(0));return n==="-"?a(-1)*o:o}function hne(e){let{value:t}=e,n=l=>l;if(typeof t=="bigint")n=l=>BigInt(l);else if(isNaN(t)||!isFinite(t))return xc(e);let r="";t<0&&(r="-",t*=n(-1));const a=n(60),o=[t%a];return t<60?o.unshift(0):(t=(t-o[0])/a,o.unshift(t%a),t>=60&&(t=(t-o[0])/a,o.unshift(t))),r+o.map(l=>String(l).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const fne={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>e9(e,n),stringify:hne},dne={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>e9(e,!1),stringify:hne},AA={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(AA.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,a,o,l,u]=t.map(Number),h=t[7]?Number((t[7]+"00").substr(1,3)):0;let f=Date.UTC(n,r-1,a,o||0,l||0,u||0,h);const d=t[8];if(d&&d!=="Z"){let p=e9(d,!1);Math.abs(p)<30&&(p*=60),f-=6e4*p}return new Date(f)},stringify:({value:e})=>e.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},VW=[Sv,Av,EA,wA,cne,une,SMe,AMe,IMe,CMe,EMe,wMe,xMe,X_,ph,Z_,K_,J_,fne,dne,AA],qW=new Map([["core",vMe],["failsafe",[Sv,Av,EA]],["json",TMe],["yaml11",VW],["yaml-1.1",VW]]),jW={binary:X_,bool:q_,float:tne,floatExp:ene,floatNaN:Jte,floatTime:dne,int:ine,intHex:ane,intOct:rne,intTime:fne,map:Sv,merge:ph,null:wA,omap:Z_,pairs:K_,seq:Av,set:J_,timestamp:AA},RMe={"tag:yaml.org,2002:binary":X_,"tag:yaml.org,2002:merge":ph,"tag:yaml.org,2002:omap":Z_,"tag:yaml.org,2002:pairs":K_,"tag:yaml.org,2002:set":J_,"tag:yaml.org,2002:timestamp":AA};function KC(e,t,n){const r=qW.get(t);if(r&&!e)return n&&!r.includes(ph)?r.concat(ph):r.slice();let a=r;if(!a)if(Array.isArray(e))a=[];else{const o=Array.from(qW.keys()).filter(l=>l!=="yaml11").map(l=>JSON.stringify(l)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${o} or define customTags array`)}if(Array.isArray(e))for(const o of e)a=a.concat(o);else typeof e=="function"&&(a=e(a.slice()));return n&&(a=a.concat(ph)),a.reduce((o,l)=>{const u=typeof l=="string"?jW[l]:l;if(!u){const h=JSON.stringify(l),f=Object.keys(jW).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag ${h}; use one of ${f}`)}return o.includes(u)||o.push(u),o},[])}const kMe=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;let pne=class gne{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:a,schema:o,sortMapEntries:l,toStringDefaults:u}){this.compat=Array.isArray(t)?KC(t,"compat"):t?KC(null,t):null,this.name=typeof o=="string"&&o||"core",this.knownTags=a?RMe:{},this.tags=KC(n,this.name,r),this.toStringOptions=u??null,Object.defineProperty(this,M0,{value:Sv}),Object.defineProperty(this,du,{value:EA}),Object.defineProperty(this,Ev,{value:Av}),this.sortMapEntries=typeof l=="function"?l:l===!0?kMe:null}clone(){const t=Object.create(gne.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};function OMe(e,t){var h;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const f=e.directives.toString(e);f?(n.push(f),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const a=jte(e,t),{commentString:o}=a.options;if(e.commentBefore){n.length!==1&&n.unshift("");const f=o(e.commentBefore);n.unshift(rh(f,""))}let l=!1,u=null;if(e.contents){if(jr(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const p=o(e.contents.commentBefore);n.push(rh(p,""))}a.forceBlockIndent=!!e.comment,u=e.contents.comment}const f=u?void 0:()=>l=!0;let d=Tm(e.contents,a,()=>u=null,f);u&&(d+=wd(d,"",o(u))),(d[0]==="|"||d[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${d}`:n.push(d)}else n.push(Tm(e.contents,a));if((h=e.directives)!=null&&h.docEnd)if(e.comment){const f=o(e.comment);f.includes(`
`)?(n.push("..."),n.push(rh(f,""))):n.push(`... ${f}`)}else n.push("...");else{let f=e.comment;f&&l&&(f=f.replace(/^\n+/,"")),f&&((!l||u)&&n[n.length-1]!==""&&n.push(""),n.push(rh(o(f),"")))}return n.join(`
`)+`
`}class Iv{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,El,{value:JO});let a=null;typeof n=="function"||Array.isArray(n)?a=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:l}=o;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(l=this.directives.yaml.version)):this.directives=new bs({version:l}),this.setSchema(l,r),this.contents=t===void 0?null:this.createNode(t,a,r)}clone(){const t=Object.create(Iv.prototype,{[El]:{value:JO}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=jr(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){hg(this.contents)&&this.contents.add(t)}addIn(t,n){hg(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=Gte(this);t.anchor=!n||r.has(n)?zte(n||"a",r):n}return new vA(t.anchor)}createNode(t,n,r){let a;if(typeof n=="function")t=n.call({"":t},"",t),a=n;else if(Array.isArray(n)){const T=w=>typeof w=="number"||w instanceof String||w instanceof Number,E=n.filter(T).map(String);E.length>0&&(n=n.concat(E)),a=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:l,flow:u,keepUndefined:h,onTagObj:f,tag:d}=r??{},{onAnchor:p,setAnchors:g,sourceObjects:m}=iMe(this,l||"a"),y={aliasDuplicateObjects:o??!0,keepUndefined:h??!1,onAnchor:p,onTagObj:f,replacer:a,schema:this.schema,sourceObjects:m},b=Cb(t,d,y);return u&&Yr(b)&&(b.flow=!0),g(),b}createPair(t,n,r={}){const a=this.createNode(t,null,r),o=this.createNode(n,null,r);return new Qa(a,o)}delete(t){return hg(this.contents)?this.contents.delete(t):!1}deleteIn(t){return t2(t)?this.contents==null?!1:(this.contents=null,!0):hg(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Yr(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return t2(t)?!n&&dr(this.contents)?this.contents.value:this.contents:Yr(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Yr(this.contents)?this.contents.has(t):!1}hasIn(t){return t2(t)?this.contents!==void 0:Yr(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=E4(this.schema,[t],n):hg(this.contents)&&this.contents.set(t,n)}setIn(t,n){t2(t)?this.contents=n:this.contents==null?this.contents=E4(this.schema,Array.from(t),n):hg(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new bs({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new bs({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const a=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${a}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new pne(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:a,onAnchor:o,reviver:l}={}){const u={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof a=="number"?a:100},h=vl(this.contents,n??"",u);if(typeof o=="function")for(const{count:f,res:d}of u.anchors.values())o(d,f);return typeof l=="function"?Fg(l,{"":h},"",h):h}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return OMe(this,t)}}function hg(e){if(Yr(e))return!0;throw new Error("Expected a YAML collection as document contents")}class t9 extends Error{constructor(t,n,r,a){super(),this.name=t,this.code=r,this.message=a,this.pos=n}}class Sd extends t9{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class mne extends t9{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const x4=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(u=>t.linePos(u));const{line:r,col:a}=n.linePos[0];n.message+=` at line ${r}, column ${a}`;let o=a-1,l=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&l.length>80){const u=Math.min(o-39,l.length-79);l="…"+l.substring(u),o-=u-1}if(l.length>80&&(l=l.substring(0,79)+"…"),r>1&&/^ *$/.test(l.substring(0,o))){let u=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);u.length>80&&(u=u.substring(0,79)+`…
`),l=u+l}if(/[^ ]/.test(l)){let u=1;const h=n.linePos[1];h&&h.line===r&&h.col>a&&(u=Math.max(1,Math.min(h.col-a,80-o)));const f=" ".repeat(o)+"^".repeat(u);n.message+=`:

${l}
${f}
`}};function Em(e,{flow:t,indicator:n,next:r,offset:a,onError:o,parentIndent:l,startOnNewline:u}){let h=!1,f=u,d=u,p="",g="",m=!1,y=!1,b=null,T=null,E=null,w=null,x=null,S=null,A=null;for(const N of e)switch(y&&(N.type!=="space"&&N.type!=="newline"&&N.type!=="comma"&&o(N.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),b&&(f&&N.type!=="comment"&&N.type!=="newline"&&o(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),b=null),N.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&N.source.includes("	")&&(b=N),d=!0;break;case"comment":{d||o(N,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const O=N.source.substring(1)||" ";p?p+=g+O:p=O,g="",f=!1;break}case"newline":f?p?p+=N.source:(!S||n!=="seq-item-ind")&&(h=!0):g+=N.source,f=!0,m=!0,(T||E)&&(w=N),d=!0;break;case"anchor":T&&o(N,"MULTIPLE_ANCHORS","A node can have at most one anchor"),N.source.endsWith(":")&&o(N.offset+N.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),T=N,A===null&&(A=N.offset),f=!1,d=!1,y=!0;break;case"tag":{E&&o(N,"MULTIPLE_TAGS","A node can have at most one tag"),E=N,A===null&&(A=N.offset),f=!1,d=!1,y=!0;break}case n:(T||E)&&o(N,"BAD_PROP_ORDER",`Anchors and tags must be after the ${N.source} indicator`),S&&o(N,"UNEXPECTED_TOKEN",`Unexpected ${N.source} in ${t??"collection"}`),S=N,f=n==="seq-item-ind"||n==="explicit-key-ind",d=!1;break;case"comma":if(t){x&&o(N,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),x=N,f=!1,d=!1;break}default:o(N,"UNEXPECTED_TOKEN",`Unexpected ${N.type} token`),f=!1,d=!1}const R=e[e.length-1],C=R?R.offset+R.source.length:a;return y&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b&&(f&&b.indent<=l||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&o(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:x,found:S,spaceBefore:h,comment:p,hasNewline:m,anchor:T,tag:E,newlineAfterProp:w,end:C,start:A??C}}function Rb(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(Rb(t.key)||Rb(t.value))return!0}return!1;default:return!0}}function rN(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&Rb(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function vne(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const a=typeof r=="function"?r:(o,l)=>o===l||dr(o)&&dr(l)&&o.value===l.value;return t.some(o=>a(o.key,n))}const XW="All mapping items must start at the same column";function NMe({composeNode:e,composeEmptyNode:t},n,r,a,o){var d;const l=(o==null?void 0:o.nodeClass)??Lo,u=new l(n.schema);n.atRoot&&(n.atRoot=!1);let h=r.offset,f=null;for(const p of r.items){const{start:g,key:m,sep:y,value:b}=p,T=Em(g,{indicator:"explicit-key-ind",next:m??(y==null?void 0:y[0]),offset:h,onError:a,parentIndent:r.indent,startOnNewline:!0}),E=!T.found;if(E){if(m&&(m.type==="block-seq"?a(h,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==r.indent&&a(h,"BAD_INDENT",XW)),!T.anchor&&!T.tag&&!y){f=T.end,T.comment&&(u.comment?u.comment+=`
`+T.comment:u.comment=T.comment);continue}(T.newlineAfterProp||Rb(m))&&a(m??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((d=T.found)==null?void 0:d.indent)!==r.indent&&a(h,"BAD_INDENT",XW);n.atKey=!0;const w=T.end,x=m?e(n,m,T,a):t(n,w,g,null,T,a);n.schema.compat&&rN(r.indent,m,a),n.atKey=!1,vne(n,u.items,x)&&a(w,"DUPLICATE_KEY","Map keys must be unique");const S=Em(y??[],{indicator:"map-value-ind",next:b,offset:x.range[2],onError:a,parentIndent:r.indent,startOnNewline:!m||m.type==="block-scalar"});if(h=S.end,S.found){E&&((b==null?void 0:b.type)==="block-map"&&!S.hasNewline&&a(h,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&T.start<S.found.offset-1024&&a(x.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const A=b?e(n,b,S,a):t(n,h,y,null,S,a);n.schema.compat&&rN(r.indent,b,a),h=A.range[2];const R=new Qa(x,A);n.options.keepSourceTokens&&(R.srcToken=p),u.items.push(R)}else{E&&a(x.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),S.comment&&(x.comment?x.comment+=`
`+S.comment:x.comment=S.comment);const A=new Qa(x);n.options.keepSourceTokens&&(A.srcToken=p),u.items.push(A)}}return f&&f<h&&a(f,"IMPOSSIBLE","Map comment with trailing content"),u.range=[r.offset,h,f??h],u}function LMe({composeNode:e,composeEmptyNode:t},n,r,a,o){const l=(o==null?void 0:o.nodeClass)??q0,u=new l(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let h=r.offset,f=null;for(const{start:d,value:p}of r.items){const g=Em(d,{indicator:"seq-item-ind",next:p,offset:h,onError:a,parentIndent:r.indent,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||p)p&&p.type==="block-seq"?a(g.end,"BAD_INDENT","All sequence items must start at the same column"):a(h,"MISSING_CHAR","Sequence item without - indicator");else{f=g.end,g.comment&&(u.comment=g.comment);continue}const m=p?e(n,p,g,a):t(n,g.end,d,null,g,a);n.schema.compat&&rN(r.indent,p,a),h=m.range[2],u.items.push(m)}return u.range=[r.offset,h,f??h],u}function KT(e,t,n,r){let a="";if(e){let o=!1,l="";for(const u of e){const{source:h,type:f}=u;switch(f){case"space":o=!0;break;case"comment":{n&&!o&&r(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=h.substring(1)||" ";a?a+=l+d:a=d,l="";break}case"newline":a&&(l+=h),o=!0;break;default:r(u,"UNEXPECTED_TOKEN",`Unexpected ${f} at node end`)}t+=h.length}}return{comment:a,offset:t}}const ZC="Block collections are not allowed within flow collections",QC=e=>e&&(e.type==="block-map"||e.type==="block-seq");function _Me({composeNode:e,composeEmptyNode:t},n,r,a,o){const l=r.start.source==="{",u=l?"flow map":"flow sequence",h=(o==null?void 0:o.nodeClass)??(l?Lo:q0),f=new h(n.schema);f.flow=!0;const d=n.atRoot;d&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let p=r.offset+r.start.source.length;for(let T=0;T<r.items.length;++T){const E=r.items[T],{start:w,key:x,sep:S,value:A}=E,R=Em(w,{flow:u,indicator:"explicit-key-ind",next:x??(S==null?void 0:S[0]),offset:p,onError:a,parentIndent:r.indent,startOnNewline:!1});if(!R.found){if(!R.anchor&&!R.tag&&!S&&!A){T===0&&R.comma?a(R.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`):T<r.items.length-1&&a(R.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${u}`),R.comment&&(f.comment?f.comment+=`
`+R.comment:f.comment=R.comment),p=R.end;continue}!l&&n.options.strict&&Rb(x)&&a(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(T===0)R.comma&&a(R.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${u}`);else if(R.comma||a(R.start,"MISSING_CHAR",`Missing , between ${u} items`),R.comment){let C="";e:for(const N of w)switch(N.type){case"comma":case"space":break;case"comment":C=N.source.substring(1);break e;default:break e}if(C){let N=f.items[f.items.length-1];Fr(N)&&(N=N.value??N.key),N.comment?N.comment+=`
`+C:N.comment=C,R.comment=R.comment.substring(C.length+1)}}if(!l&&!S&&!R.found){const C=A?e(n,A,R,a):t(n,R.end,S,null,R,a);f.items.push(C),p=C.range[2],QC(A)&&a(C.range,"BLOCK_IN_FLOW",ZC)}else{n.atKey=!0;const C=R.end,N=x?e(n,x,R,a):t(n,C,w,null,R,a);QC(x)&&a(N.range,"BLOCK_IN_FLOW",ZC),n.atKey=!1;const O=Em(S??[],{flow:u,indicator:"map-value-ind",next:A,offset:N.range[2],onError:a,parentIndent:r.indent,startOnNewline:!1});if(O.found){if(!l&&!R.found&&n.options.strict){if(S)for(const M of S){if(M===O.found)break;if(M.type==="newline"){a(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}R.start<O.found.offset-1024&&a(O.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?a(A,"MISSING_CHAR",`Missing space after : in ${u}`):a(O.start,"MISSING_CHAR",`Missing , or : between ${u} items`));const L=A?e(n,A,O,a):O.found?t(n,O.end,S,null,O,a):null;L?QC(A)&&a(L.range,"BLOCK_IN_FLOW",ZC):O.comment&&(N.comment?N.comment+=`
`+O.comment:N.comment=O.comment);const k=new Qa(N,L);if(n.options.keepSourceTokens&&(k.srcToken=E),l){const M=f;vne(n,M.items,N)&&a(C,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(k)}else{const M=new Lo(n.schema);M.flow=!0,M.items.push(k);const $=(L??N).range;M.range=[N.range[0],$[1],$[2]],f.items.push(M)}p=L?L.range[2]:O.end}}const g=l?"}":"]",[m,...y]=r.end;let b=p;if(m&&m.source===g)b=m.offset+m.source.length;else{const T=u[0].toUpperCase()+u.substring(1),E=d?`${T} must end with a ${g}`:`${T} in block collection must be sufficiently indented and end with a ${g}`;a(p,d?"MISSING_CHAR":"BAD_INDENT",E),m&&m.source.length!==1&&y.unshift(m)}if(y.length>0){const T=KT(y,b,n.options.strict,a);T.comment&&(f.comment?f.comment+=`
`+T.comment:f.comment=T.comment),f.range=[r.offset,b,T.offset]}else f.range=[r.offset,b,b];return f}function JC(e,t,n,r,a,o){const l=n.type==="block-map"?NMe(e,t,n,r,o):n.type==="block-seq"?LMe(e,t,n,r,o):_Me(e,t,n,r,o),u=l.constructor;return a==="!"||a===u.tagName?(l.tag=u.tagName,l):(a&&(l.tag=a),l)}function DMe(e,t,n,r,a){var g;const o=r.tag,l=o?t.directives.tagName(o.source,m=>a(o,"TAG_RESOLVE_FAILED",m)):null;if(n.type==="block-seq"){const{anchor:m,newlineAfterProp:y}=r,b=m&&o?m.offset>o.offset?m:o:m??o;b&&(!y||y.offset<b.offset)&&a(b,"MISSING_CHAR","Missing newline after block sequence props")}const u=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!o||!l||l==="!"||l===Lo.tagName&&u==="map"||l===q0.tagName&&u==="seq")return JC(e,t,n,a,l);let h=t.schema.tags.find(m=>m.tag===l&&m.collection===u);if(!h){const m=t.schema.knownTags[l];if(m&&m.collection===u)t.schema.tags.push(Object.assign({},m,{default:!1})),h=m;else return m!=null&&m.collection?a(o,"BAD_COLLECTION_TYPE",`${m.tag} used for ${u} collection, but expects ${m.collection}`,!0):a(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${l}`,!0),JC(e,t,n,a,l)}const f=JC(e,t,n,a,l,h),d=((g=h.resolve)==null?void 0:g.call(h,f,m=>a(o,"TAG_RESOLVE_FAILED",m),t.options))??f,p=jr(d)?d:new dn(d);return p.range=f.range,p.tag=l,h!=null&&h.format&&(p.format=h.format),p}function yne(e,t,n){const r=t.offset,a=MMe(t,e.options.strict,n);if(!a)return{value:"",type:null,comment:"",range:[r,r,r]};const o=a.mode===">"?dn.BLOCK_FOLDED:dn.BLOCK_LITERAL,l=t.source?PMe(t.source):[];let u=l.length;for(let b=l.length-1;b>=0;--b){const T=l[b][1];if(T===""||T==="\r")u=b;else break}if(u===0){const b=a.chomp==="+"&&l.length>0?`
`.repeat(Math.max(1,l.length-1)):"";let T=r+a.length;return t.source&&(T+=t.source.length),{value:b,type:o,comment:a.comment,range:[r,T,T]}}let h=t.indent+a.indent,f=t.offset+a.length,d=0;for(let b=0;b<u;++b){const[T,E]=l[b];if(E===""||E==="\r")a.indent===0&&T.length>h&&(h=T.length);else{T.length<h&&n(f+T.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),a.indent===0&&(h=T.length),d=b,h===0&&!e.atRoot&&n(f,"BAD_INDENT","Block scalar values in collections must be indented");break}f+=T.length+E.length+1}for(let b=l.length-1;b>=u;--b)l[b][0].length>h&&(u=b+1);let p="",g="",m=!1;for(let b=0;b<d;++b)p+=l[b][0].slice(h)+`
`;for(let b=d;b<u;++b){let[T,E]=l[b];f+=T.length+E.length+1;const w=E[E.length-1]==="\r";if(w&&(E=E.slice(0,-1)),E&&T.length<h){const S=`Block scalar lines must not be less indented than their ${a.indent?"explicit indentation indicator":"first line"}`;n(f-E.length-(w?2:1),"BAD_INDENT",S),T=""}o===dn.BLOCK_LITERAL?(p+=g+T.slice(h)+E,g=`
`):T.length>h||E[0]==="	"?(g===" "?g=`
`:!m&&g===`
`&&(g=`

`),p+=g+T.slice(h)+E,g=`
`,m=!0):E===""?g===`
`?p+=`
`:g=`
`:(p+=g+E,g=" ",m=!1)}switch(a.chomp){case"-":break;case"+":for(let b=u;b<l.length;++b)p+=`
`+l[b][0].slice(h);p[p.length-1]!==`
`&&(p+=`
`);break;default:p+=`
`}const y=r+a.length+t.source.length;return{value:p,type:o,comment:a.comment,range:[r,y,y]}}function MMe({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:a}=t[0],o=a[0];let l=0,u="",h=-1;for(let g=1;g<a.length;++g){const m=a[g];if(!u&&(m==="-"||m==="+"))u=m;else{const y=Number(m);!l&&y?l=y:h===-1&&(h=e+g)}}h!==-1&&r(h,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${a}`);let f=!1,d="",p=a.length;for(let g=1;g<t.length;++g){const m=t[g];switch(m.type){case"space":f=!0;case"newline":p+=m.source.length;break;case"comment":n&&!f&&r(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),p+=m.source.length,d=m.source.substring(1);break;case"error":r(m,"UNEXPECTED_TOKEN",m.message),p+=m.source.length;break;default:{const y=`Unexpected token in block scalar header: ${m.type}`;r(m,"UNEXPECTED_TOKEN",y);const b=m.source;b&&typeof b=="string"&&(p+=b.length)}}}return{mode:o,indent:l,chomp:u,comment:d,length:p}}function PMe(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let l=1;l<t.length;l+=2)o.push([t[l],t[l+1]]);return o}function bne(e,t,n){const{offset:r,type:a,source:o,end:l}=e;let u,h;const f=(g,m,y)=>n(r+g,m,y);switch(a){case"scalar":u=dn.PLAIN,h=FMe(o,f);break;case"single-quoted-scalar":u=dn.QUOTE_SINGLE,h=BMe(o,f);break;case"double-quoted-scalar":u=dn.QUOTE_DOUBLE,h=HMe(o,f);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${a}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const d=r+o.length,p=KT(l,d,t,n);return{value:h,type:u,comment:p.comment,range:[r,d,p.offset]}}function FMe(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Tne(e)}function BMe(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Tne(e.slice(1,-1)).replace(/''/g,"'")}function Tne(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let a=r[1],o=" ",l=t.lastIndex;for(n.lastIndex=l;r=n.exec(e);)r[1]===""?o===`
`?a+=o:o=`
`:(a+=o+r[1],o=" "),l=n.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=l,r=u.exec(e),a+o+((r==null?void 0:r[1])??"")}function HMe(e,t){let n="";for(let r=1;r<e.length-1;++r){const a=e[r];if(!(a==="\r"&&e[r+1]===`
`))if(a===`
`){const{fold:o,offset:l}=$Me(e,r);n+=o,r=l}else if(a==="\\"){let o=e[++r];const l=WMe[o];if(l)n+=l;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const u={x:2,u:4,U:8}[o];n+=UMe(e,r+1,u,t),r+=u}else{const u=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(a===" "||a==="	"){const o=r;let l=e[r+1];for(;l===" "||l==="	";)l=e[++r+1];l!==`
`&&!(l==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):a)}else n+=a}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function $Me(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const WMe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function UMe(e,t,n,r){const a=e.substr(t,n),l=a.length===n&&/^[0-9a-fA-F]+$/.test(a)?parseInt(a,16):NaN;if(isNaN(l)){const u=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(l)}function Ene(e,t,n,r){const{value:a,type:o,comment:l,range:u}=t.type==="block-scalar"?yne(e,t,r):bne(t,e.options.strict,r),h=n?e.directives.tagName(n.source,p=>r(n,"TAG_RESOLVE_FAILED",p)):null;let f;e.options.stringKeys&&e.atKey?f=e.schema[du]:h?f=GMe(e.schema,a,h,n,r):t.type==="scalar"?f=zMe(e,a,t,r):f=e.schema[du];let d;try{const p=f.resolve(a,g=>r(n??t,"TAG_RESOLVE_FAILED",g),e.options);d=dr(p)?p:new dn(p)}catch(p){const g=p instanceof Error?p.message:String(p);r(n??t,"TAG_RESOLVE_FAILED",g),d=new dn(a)}return d.range=u,d.source=a,o&&(d.type=o),h&&(d.tag=h),f.format&&(d.format=f.format),l&&(d.comment=l),d}function GMe(e,t,n,r,a){var u;if(n==="!")return e[du];const o=[];for(const h of e.tags)if(!h.collection&&h.tag===n)if(h.default&&h.test)o.push(h);else return h;for(const h of o)if((u=h.test)!=null&&u.test(t))return h;const l=e.knownTags[n];return l&&!l.collection?(e.tags.push(Object.assign({},l,{default:!1,test:void 0})),l):(a(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[du])}function zMe({atKey:e,directives:t,schema:n},r,a,o){const l=n.tags.find(u=>{var h;return(u.default===!0||e&&u.default==="key")&&((h=u.test)==null?void 0:h.test(r))})||n[du];if(n.compat){const u=n.compat.find(h=>{var f;return h.default&&((f=h.test)==null?void 0:f.test(r))})??n[du];if(l.tag!==u.tag){const h=t.tagString(l.tag),f=t.tagString(u.tag),d=`Value may be parsed as either ${h} or ${f}`;o(a,"TAG_RESOLVE_FAILED",d,!0)}}return l}function YMe(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let a=t[r];switch(a.type){case"space":case"comment":case"newline":e-=a.source.length;continue}for(a=t[++r];(a==null?void 0:a.type)==="space";)e+=a.source.length,a=t[++r];break}}return e}const VMe={composeNode:wne,composeEmptyNode:n9};function wne(e,t,n,r){const a=e.atKey,{spaceBefore:o,comment:l,anchor:u,tag:h}=n;let f,d=!0;switch(t.type){case"alias":f=qMe(e,t,r),(u||h)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Ene(e,t,h,r),u&&(f.anchor=u.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=DMe(VMe,e,t,n,r),u&&(f.anchor=u.source.substring(1));break;default:{const p=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",p),f=n9(e,t.offset,void 0,null,n,r),d=!1}}return u&&f.anchor===""&&r(u,"BAD_ALIAS","Anchor cannot be an empty string"),a&&e.options.stringKeys&&(!dr(f)||typeof f.value!="string"||f.tag&&f.tag!=="tag:yaml.org,2002:str")&&r(h??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(f.spaceBefore=!0),l&&(t.type==="scalar"&&t.source===""?f.comment=l:f.commentBefore=l),e.options.keepSourceTokens&&d&&(f.srcToken=t),f}function n9(e,t,n,r,{spaceBefore:a,comment:o,anchor:l,tag:u,end:h},f){const d={type:"scalar",offset:YMe(t,n,r),indent:-1,source:""},p=Ene(e,d,u,f);return l&&(p.anchor=l.source.substring(1),p.anchor===""&&f(l,"BAD_ALIAS","Anchor cannot be an empty string")),a&&(p.spaceBefore=!0),o&&(p.comment=o,p.range[2]=h),p}function qMe({options:e},{offset:t,source:n,end:r},a){const o=new vA(n.substring(1));o.source===""&&a(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&a(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const l=t+n.length,u=KT(r,l,e.strict,a);return o.range=[t,l,u.offset],u.comment&&(o.comment=u.comment),o}function jMe(e,t,{offset:n,start:r,value:a,end:o},l){const u=Object.assign({_directives:t},e),h=new Iv(void 0,u),f={atKey:!1,atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},d=Em(r,{indicator:"doc-start",next:a??(o==null?void 0:o[0]),offset:n,onError:l,parentIndent:0,startOnNewline:!0});d.found&&(h.directives.docStart=!0,a&&(a.type==="block-map"||a.type==="block-seq")&&!d.hasNewline&&l(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=a?wne(f,a,d,l):n9(f,d.end,r,null,d,l);const p=h.contents.range[2],g=KT(o,p,!1,l);return g.comment&&(h.comment=g.comment),h.range=[n,p,g.offset],h}function Iy(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function KW(e){var a;let t="",n=!1,r=!1;for(let o=0;o<e.length;++o){const l=e[o];switch(l[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(l.substring(1)||" "),n=!0,r=!1;break;case"%":((a=e[o+1])==null?void 0:a[0])!=="#"&&(o+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class r9{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,a,o)=>{const l=Iy(n);o?this.warnings.push(new mne(l,r,a)):this.errors.push(new Sd(l,r,a))},this.directives=new bs({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:a}=KW(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(a||t.directives.docStart||!o)t.commentBefore=r;else if(Yr(o)&&!o.flow&&o.items.length>0){let l=o.items[0];Fr(l)&&(l=l.key);const u=l.commentBefore;l.commentBefore=u?`${r}
${u}`:r}else{const l=o.commentBefore;o.commentBefore=l?`${r}
${l}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:KW(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const a of t)yield*this.next(a);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,a)=>{const o=Iy(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,a)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=jMe(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Sd(Iy(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Sd(Iy(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=KT(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Sd(Iy(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),a=new Iv(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),a.range=[0,n,n],this.decorate(a,!1),yield a}}}function XMe(e,t=!0,n){if(e){const r=(a,o,l)=>{const u=typeof a=="number"?a:Array.isArray(a)?a[0]:a.offset;if(n)n(u,o,l);else throw new Sd([u,u+1],o,l)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return bne(e,t,r);case"block-scalar":return yne({options:{strict:t}},e,r)}}return null}function KMe(e,t){const{implicitKey:n=!1,indent:r,inFlow:a=!1,offset:o=-1,type:l="PLAIN"}=t,u=jT({type:l,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}}),h=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(u[0]){case"|":case">":{const f=u.indexOf(`
`),d=u.substring(0,f),p=u.substring(f+1)+`
`,g=[{type:"block-scalar-header",offset:o,indent:r,source:d}];return xne(g,h)||g.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:o,indent:r,props:g,source:p}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:u,end:h};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:u,end:h};default:return{type:"scalar",offset:o,indent:r,source:u,end:h}}}function ZMe(e,t,n={}){let{afterKey:r=!1,implicitKey:a=!1,inFlow:o=!1,type:l}=n,u="indent"in e?e.indent:null;if(r&&typeof u=="number"&&(u+=2),!l)switch(e.type){case"single-quoted-scalar":l="QUOTE_SINGLE";break;case"double-quoted-scalar":l="QUOTE_DOUBLE";break;case"block-scalar":{const f=e.props[0];if(f.type!=="block-scalar-header")throw new Error("Invalid block scalar header");l=f.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:l="PLAIN"}const h=jT({type:l,value:t},{implicitKey:a||u===null,indent:u!==null&&u>0?" ".repeat(u):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(h[0]){case"|":case">":QMe(e,h);break;case'"':eR(e,h,"double-quoted-scalar");break;case"'":eR(e,h,"single-quoted-scalar");break;default:eR(e,h,"scalar")}}function QMe(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),a=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=r,e.source=a}else{const{offset:o}=e,l="indent"in e?e.indent:-1,u=[{type:"block-scalar-header",offset:o,indent:l,source:r}];xne(u,"end"in e?e.end:void 0)||u.push({type:"newline",offset:-1,indent:l,source:`
`});for(const h of Object.keys(e))h!=="type"&&h!=="offset"&&delete e[h];Object.assign(e,{type:"block-scalar",indent:l,props:u,source:a})}}function xne(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function eR(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let a=t.length;e.props[0].type==="block-scalar-header"&&(a-=e.props[0].source.length);for(const o of r)o.offset+=a;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const a={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[a]});break}default:{const r="indent"in e?e.indent:-1,a="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:n,indent:r,source:t,end:a})}}}const JMe=e=>"type"in e?S4(e):nx(e);function S4(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=S4(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=nx(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=nx(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=nx(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function nx({start:e,key:t,sep:n,value:r}){let a="";for(const o of e)a+=o.source;if(t&&(a+=S4(t)),n)for(const o of n)a+=o.source;return r&&(a+=S4(r)),a}const iN=Symbol("break visit"),ePe=Symbol("skip children"),Sne=Symbol("remove item");function Xd(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Ane(Object.freeze([]),e,t)}Xd.BREAK=iN;Xd.SKIP=ePe;Xd.REMOVE=Sne;Xd.itemAtPath=(e,t)=>{let n=e;for(const[r,a]of t){const o=n==null?void 0:n[r];if(o&&"items"in o)n=o.items[a];else return}return n};Xd.parentCollection=(e,t)=>{const n=Xd.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],a=n==null?void 0:n[r];if(a&&"items"in a)return a;throw new Error("Parent collection not found")};function Ane(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const a of["key","value"]){const o=t[a];if(o&&"items"in o){for(let l=0;l<o.items.length;++l){const u=Ane(Object.freeze(e.concat([[a,l]])),o.items[l],n);if(typeof u=="number")l=u-1;else{if(u===iN)return iN;u===Sne&&(o.items.splice(l,1),l-=1)}}typeof r=="function"&&a==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const IA="\uFEFF",CA="",RA="",kb="",tPe=e=>!!e&&"items"in e,nPe=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function rPe(e){switch(e){case IA:return"<BOM>";case CA:return"<DOC>";case RA:return"<FLOW_END>";case kb:return"<SCALAR>";default:return JSON.stringify(e)}}function Ine(e){switch(e){case IA:return"byte-order-mark";case CA:return"doc-mode";case RA:return"flow-error-end";case kb:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const iPe=Object.freeze(Object.defineProperty({__proto__:null,BOM:IA,DOCUMENT:CA,FLOW_END:RA,SCALAR:kb,createScalarToken:KMe,isCollection:tPe,isScalar:nPe,prettyToken:rPe,resolveAsScalar:XMe,setScalarValue:ZMe,stringify:JMe,tokenType:Ine,visit:Xd},Symbol.toStringTag,{value:"Module"}));function $l(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const ZW=new Set("0123456789ABCDEFabcdef"),aPe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),$w=new Set(",[]{}"),sPe=new Set(` ,[]{}
\r	`),tR=e=>!e||sPe.has(e);let Cne=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const a=this.buffer[r+t+1];if(a===`
`||!a&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&$l(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===IA&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const o=t[r-1];if(o===" "||o==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const a=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-a),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield CA,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&$l(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!$l(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&$l(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(tR),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const a=this.getLine();if(a===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&a[0]!=="#"||r===0&&(a.startsWith("---")||a.startsWith("..."))&&$l(a[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(a[0]==="]"||a[0]==="}")))return this.flowLevel=0,yield RA,yield*this.parseLineStart();let o=0;for(;a[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),a[o]){case void 0:return"flow";case"#":return yield*this.pushCount(a.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(tR),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const l=this.charAt(1);if(this.flowKey||$l(l)||l===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let a=r.indexOf(`
`,this.pos);if(a!==-1){for(;a!==-1;){const o=this.continueScalar(a+1);if(o===-1)break;a=r.indexOf(`
`,o)}a!==-1&&(n=a-(r[a-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>$l(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let o=this.pos;r=this.buffer[o];++o)switch(r){case" ":n+=1;break;case`
`:t=o,n=0;break;case"\r":{const l=this.buffer[o+1];if(!l&&!this.atEnd)return this.setNext("block-scalar");if(l===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const o=this.continueScalar(t+1);if(o===-1)break;t=this.buffer.indexOf(`
`,o)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let a=t+1;for(r=this.buffer[a];r===" ";)r=this.buffer[++a];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++a];t=a-1}else if(!this.blockScalarKeep)do{let o=t-1,l=this.buffer[o];l==="\r"&&(l=this.buffer[--o]);const u=o;for(;l===" ";)l=this.buffer[--o];if(l===`
`&&o>=this.pos&&o+1+n>u)t=o;else break}while(!0);return yield kb,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,a;for(;a=this.buffer[++r];)if(a===":"){const o=this.buffer[r+1];if($l(o)||t&&$w.has(o))break;n=r}else if($l(a)){let o=this.buffer[r+1];if(a==="\r"&&(o===`
`?(r+=1,a=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&$w.has(o))break;if(a===`
`){const l=this.continueScalar(r+1);if(l===-1)break;r=Math.max(r,l-2)}}else{if(t&&$w.has(a))break;n=r}return!a&&!this.atEnd?this.setNext("plain-scalar"):(yield kb,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(tR))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if($l(n)||t&&$w.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!$l(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(aPe.has(n))n=this.buffer[++t];else if(n==="%"&&ZW.has(this.buffer[t+1])&&ZW.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const a=n-this.pos;return a>0&&(yield this.buffer.substr(this.pos,a),this.pos=n),a}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};class Rne{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const a=this.lineStarts[n-1];return{line:n,col:t-a+1}}}}function pd(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function QW(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function kne(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ww(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function fg(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function JW(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!pd(t.start,"explicit-key-ind")&&!pd(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,kne(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}let i9=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Cne,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Ine(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&JW(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const a=r.items[r.items.length-1];if(a.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(a.sep)a.value=n;else{Object.assign(a,{key:n,sep:[]}),this.onKeyLine=!a.explicitKey;return}break}case"block-seq":{const a=r.items[r.items.length-1];a.value?r.items.push({start:[],value:n}):a.value=n;break}case"flow-collection":{const a=r.items[r.items.length-1];!a||a.value?r.items.push({start:[],key:n,sep:[]}):a.sep?a.value=n:Object.assign(a,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const a=n.items[n.items.length-1];a&&!a.sep&&!a.value&&a.start.length>0&&QW(a.start)===-1&&(n.indent===0||a.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=a.start:r.items.push({start:a.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{QW(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Ww(this.peek(2)),r=fg(n);let a;t.end?(a=t.end,a.push(this.sourceToken),delete t.end):a=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const a="end"in n.value?n.value.end:void 0,o=Array.isArray(a)?a[a.length-1]:void 0;(o==null?void 0:o.type)==="comment"?a==null||a.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const a=t.items[t.items.length-2],o=(r=a==null?void 0:a.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const a=!this.onKeyLine&&this.indent===t.indent,o=a&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let l=[];if(o&&n.sep&&!n.value){const u=[];for(let h=0;h<n.sep.length;++h){const f=n.sep[h];switch(f.type){case"newline":u.push(h);break;case"space":break;case"comment":f.indent>t.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(l=n.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":o||n.value?(l.push(this.sourceToken),t.items.push({start:l}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):o||n.value?(l.push(this.sourceToken),t.items.push({start:l,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(pd(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]});else if(kne(n.key)&&!pd(n.sep,"newline")){const u=fg(n.start),h=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:h,sep:f}]})}else l.length>0?n.sep=n.sep.concat(l,this.sourceToken):n.sep.push(this.sourceToken);else if(pd(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const u=fg(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||o?t.items.push({start:l,key:null,sep:[this.sourceToken]}):pd(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const u=this.flowScalar(this.type);o||n.value?(t.items.push({start:l,key:u,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(u):(Object.assign(n,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{const u=this.startBlockValue(t);if(u){a&&u.type!=="block-seq"&&t.items.push({start:l}),this.stack.push(u);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const a="end"in n.value?n.value.end:void 0,o=Array.isArray(a)?a[a.length-1]:void 0;(o==null?void 0:o.type)==="comment"?a==null||a.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const a=t.items[t.items.length-2],o=(r=a==null?void 0:a.value)==null?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||pd(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const a=this.startBlockValue(t);if(a){this.stack.push(a);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:a,sep:[]}):n.sep?this.stack.push(a):Object.assign(n,{key:a,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const a=Ww(r),o=fg(a);JW(t);const l=t.end.splice(1,t.end.length);l.push(this.sourceToken);const u={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:l}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Ww(t),r=fg(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Ww(t),r=fg(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};function One(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Rne||null,prettyErrors:t}}function oPe(e,t={}){const{lineCounter:n,prettyErrors:r}=One(t),a=new i9(n==null?void 0:n.addNewLine),o=new r9(t),l=Array.from(o.compose(a.parse(e)));if(r&&n)for(const u of l)u.errors.forEach(x4(e,n)),u.warnings.forEach(x4(e,n));return l.length>0?l:Object.assign([],{empty:!0},o.streamInfo())}function Nne(e,t={}){const{lineCounter:n,prettyErrors:r}=One(t),a=new i9(n==null?void 0:n.addNewLine),o=new r9(t);let l=null;for(const u of o.compose(a.parse(e),!0,e.length))if(!l)l=u;else if(l.options.logLevel!=="silent"){l.errors.push(new Sd(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(l.errors.forEach(x4(e,n)),l.warnings.forEach(x4(e,n))),l}function Lne(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const a=Nne(e,n);if(!a)return null;if(a.warnings.forEach(o=>Xte(a.options.logLevel,o)),a.errors.length>0){if(a.options.logLevel!=="silent")throw a.errors[0];a.errors=[]}return a.toJS(Object.assign({reviver:r},n))}function a9(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const a=Math.round(n);n=a<1?void 0:a>8?{indent:8}:{indent:a}}if(e===void 0){const{keepUndefined:a}=n??t??{};if(!a)return}return Lp(e)&&!r?e.toString(n):new Iv(e,r,n).toString(n)}const lPe=Object.freeze(Object.defineProperty({__proto__:null,Alias:vA,CST:iPe,Composer:r9,Document:Iv,Lexer:Cne,LineCounter:Rne,Pair:Qa,Parser:i9,Scalar:dn,Schema:pne,YAMLError:t9,YAMLMap:Lo,YAMLParseError:Sd,YAMLSeq:q0,YAMLWarning:mne,isAlias:Np,isCollection:Yr,isDocument:Lp,isMap:wv,isNode:jr,isPair:Fr,isScalar:dr,isSeq:xv,parse:Lne,parseAllDocuments:oPe,parseDocument:Nne,stringify:a9,visit:V0,visitAsync:mA},Symbol.toStringTag,{value:"Module"}));function _ne(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Dne(e){return e}function cPe(e,t){t=t||{};const n=t.delimiter||".",r=t.maxDepth,a=t.transformKey||Dne,o={};function l(u,h,f){f=f||1,Object.keys(u).forEach(function(d){const p=u[d],g=t.safe&&Array.isArray(p),m=Object.prototype.toString.call(p),y=_ne(p),b=m==="[object Object]"||m==="[object Array]",T=h?h+n+a(d):a(d);if(!g&&!y&&b&&Object.keys(p).length&&(!t.maxDepth||f<r))return l(p,T,f+1);o[T]=p})}return l(e),o}function kA(e,t){t=t||{};const n=t.delimiter||".",r=t.overwrite||!1,a=t.transformKey||Dne,o={};if(_ne(e)||Object.prototype.toString.call(e)!=="[object Object]")return e;function u(d){const p=Number(d);return isNaN(p)||d.indexOf(".")!==-1||t.object?d:p}function h(d,p,g){return Object.keys(g).reduce(function(m,y){return m[d+n+y]=g[y],m},p)}function f(d){const p=Object.prototype.toString.call(d),g=p==="[object Array]",m=p==="[object Object]";if(d){if(g)return!d.length;if(m)return!Object.keys(d).length}else return!0}return e=Object.keys(e).reduce(function(d,p){const g=Object.prototype.toString.call(e[p]);return!(g==="[object Object]"||g==="[object Array]")||f(e[p])?(d[p]=e[p],d):h(p,d,cPe(e[p],t))},{}),Object.keys(e).forEach(function(d){const p=d.split(n).map(a);let g=u(p.shift()),m=u(p[0]),y=o;for(;m!==void 0;){if(g==="__proto__")return;const b=Object.prototype.toString.call(y[g]),T=b==="[object Object]"||b==="[object Array]";if(!r&&!T&&typeof y[g]<"u")return;(r&&!T||!r&&y[g]==null)&&(y[g]=typeof m=="number"&&!t.object?[]:{}),y=y[g],p.length>0&&(g=u(p.shift()),m=u(p[0]))}y[g]=kA(e[d],t)}),o}function uPe(e,t,n,r){const a=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),hPe);return a(),l}function hPe(e,t,n){return">"+(n?"":" ")+e}function fPe(e,t){return eU(e,t.inConstruct,!0)&&!eU(e,t.notInConstruct,!1)}function eU(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function tU(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&fPe(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dPe(e,t){const n=String(e);let r=n.indexOf(t),a=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++o>l&&(l=o):o=1,a=r+t.length,r=n.indexOf(t,a);return l}function pPe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function gPe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function mPe(e,t,n,r){const a=gPe(n),o=e.value||"",l=a==="`"?"GraveAccent":"Tilde";if(pPe(e,n)){const p=n.enter("codeIndented"),g=n.indentLines(o,vPe);return p(),g}const u=n.createTracker(r),h=a.repeat(Math.max(dPe(o,a)+1,3)),f=n.enter("codeFenced");let d=u.move(h);if(e.lang){const p=n.enter(`codeFencedLang${l}`);d+=u.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...u.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${l}`);d+=u.move(" "),d+=u.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...u.current()})),p()}return d+=u.move(`
`),o&&(d+=u.move(o+`
`)),d+=u.move(h),f(),d}function vPe(e,t,n){return(n?"":"    ")+e}function s9(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function yPe(e,t,n,r){const a=s9(n),o=a==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const h=n.createTracker(r);let f=h.move("[");return f+=h.move(n.safe(n.associationId(e),{before:f,after:"]",...h.current()})),f+=h.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(e.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(u=n.enter("destinationRaw"),f+=h.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...h.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=h.move(" "+a),f+=h.move(n.safe(e.title,{before:f,after:a,...h.current()})),f+=h.move(a),u()),l(),f}function bPe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ob(e){return"&#x"+e.toString(16).toUpperCase()+";"}function A4(e,t,n){const r=bm(e),a=bm(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Mne.peek=TPe;function Mne(e,t,n,r){const a=bPe(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(a);let h=l.move(n.containerPhrasing(e,{after:a,before:u,...l.current()}));const f=h.charCodeAt(0),d=A4(r.before.charCodeAt(r.before.length-1),f,a);d.inside&&(h=Ob(f)+h.slice(1));const p=h.charCodeAt(h.length-1),g=A4(r.after.charCodeAt(0),p,a);g.inside&&(h=h.slice(0,-1)+Ob(p));const m=l.move(a);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},u+h+m}function TPe(e,t,n){return n.options.emphasis||"*"}function EPe(e,t){let n=!1;return jd(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,DO}),!!((!e.depth||e.depth<3)&&o_(e)&&(t.options.setext||n))}function wPe(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(EPe(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),g=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),d(),g+`
`+(a===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const l="#".repeat(a),u=n.enter("headingAtx"),h=n.enter("phrasing");o.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=Ob(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),h(),u(),f}Pne.peek=xPe;function Pne(e){return e.value||""}function xPe(){return"<"}Fne.peek=SPe;function Fne(e,t,n,r){const a=s9(n),o=a==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const h=n.createTracker(r);let f=h.move("![");return f+=h.move(n.safe(e.alt,{before:f,after:"]",...h.current()})),f+=h.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(e.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(u=n.enter("destinationRaw"),f+=h.move(n.safe(e.url,{before:f,after:e.title?" ":")",...h.current()}))),u(),e.title&&(u=n.enter(`title${o}`),f+=h.move(" "+a),f+=h.move(n.safe(e.title,{before:f,after:a,...h.current()})),f+=h.move(a),u()),f+=h.move(")"),l(),f}function SPe(){return"!"}Bne.peek=APe;function Bne(e,t,n,r){const a=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let h=u.move("![");const f=n.safe(e.alt,{before:h,after:"]",...u.current()});h+=u.move(f+"]["),l();const d=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:h,after:"]",...u.current()});return l(),n.stack=d,o(),a==="full"||!f||f!==p?h+=u.move(p+"]"):a==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function APe(){return"!"}Hne.peek=IPe;function Hne(e,t,n){let r=e.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let h;if(l.atBreak)for(;h=u.exec(r);){let f=h.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(h.index+1)}}return a+r+a}function IPe(){return"`"}function $ne(e,t){const n=o_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Wne.peek=CPe;function Wne(e,t,n,r){const a=s9(n),o=a==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,h;if($ne(e,n)){const d=n.stack;n.stack=[],u=n.enter("autolink");let p=l.move("<");return p+=l.move(n.containerPhrasing(e,{before:p,after:">",...l.current()})),p+=l.move(">"),u(),n.stack=d,p}u=n.enter("link"),h=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(h=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),h(),e.title&&(h=n.enter(`title${o}`),f+=l.move(" "+a),f+=l.move(n.safe(e.title,{before:f,after:a,...l.current()})),f+=l.move(a),h()),f+=l.move(")"),u(),f}function CPe(e,t,n){return $ne(e,n)?"<":"["}Une.peek=RPe;function Une(e,t,n,r){const a=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let h=u.move("[");const f=n.containerPhrasing(e,{before:h,after:"]",...u.current()});h+=u.move(f+"]["),l();const d=n.stack;n.stack=[],l=n.enter("reference");const p=n.safe(n.associationId(e),{before:h,after:"]",...u.current()});return l(),n.stack=d,o(),a==="full"||!f||f!==p?h+=u.move(p+"]"):a==="shortcut"?h=h.slice(0,-1):h+=u.move("]"),h}function RPe(){return"["}function o9(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function kPe(e){const t=o9(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function OPe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Gne(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function NPe(e,t,n,r){const a=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?OPe(n):o9(n);const u=e.ordered?l==="."?")":".":kPe(n);let h=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),Gne(n)===l&&d){let p=-1;for(;++p<e.children.length;){const g=e.children[p];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(l=u),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,a(),f}function LPe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function _Pe(e,t,n,r){const a=LPe(n);let o=n.bulletCurrent||o9(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const h=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),d);return h(),f;function d(p,g,m){return g?(m?"":" ".repeat(l))+p:(m?o:o+" ".repeat(l-o.length))+p}}function DPe(e,t,n,r){const a=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),a(),l}const MPe=pv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function PPe(e,t,n,r){return(e.children.some(function(l){return MPe(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function FPe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}zne.peek=BPe;function zne(e,t,n,r){const a=FPe(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(a+a);let h=l.move(n.containerPhrasing(e,{after:a,before:u,...l.current()}));const f=h.charCodeAt(0),d=A4(r.before.charCodeAt(r.before.length-1),f,a);d.inside&&(h=Ob(f)+h.slice(1));const p=h.charCodeAt(h.length-1),g=A4(r.after.charCodeAt(0),p,a);g.inside&&(h=h.slice(0,-1)+Ob(p));const m=l.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},u+h+m}function BPe(e,t,n){return n.options.strong||"*"}function HPe(e,t,n,r){return n.safe(e.value,r)}function $Pe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function WPe(e,t,n){const r=(Gne(n)+(n.options.ruleSpaces?" ":"")).repeat($Pe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const T0={blockquote:uPe,break:tU,code:mPe,definition:yPe,emphasis:Mne,hardBreak:tU,heading:wPe,html:Pne,image:Fne,imageReference:Bne,inlineCode:Hne,link:Wne,linkReference:Une,list:NPe,listItem:_Pe,paragraph:DPe,root:PPe,strong:zne,text:HPe,thematicBreak:WPe},I4="---",UPe="```yaml [props]",GPe=`
`,zPe="\r";function YPe(e,t=""){if(!Object.keys(e).length)return t.trim();e=kA(e||{},{});const n=[I4,a9(e).trim(),I4,""].join(`
`);return t?[n,t.trim(),""].join(`
`):n}function VPe(e,t=""){return Object.keys(e).length?(e=kA(e||{},{}),[UPe,a9(e).trim(),"```",t].join(`
`)):""}function qPe(e){let t={};if(e.startsWith(I4)){const n=e.indexOf(GPe+I4);if(n!==-1){const r=e[n-1]===zPe,a=e.slice(4,n-(r?1:0));a&&(t=Lne(a),e=e.slice(n+4+(r?1:0)))}}return{content:e,data:kA(t||{},{})}}function C4(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,a=n.line||1,o=n.column||1;return{move:h,current:l,shift:u};function l(){return{now:{line:a,column:o},lineShift:r}}function u(f){r+=f}function h(f=""){const d=f.split(/\r?\n|\r/g),p=d[d.length-1];return a+=d.length-1,o=d.length===1?o+p.length:1+p.length+r,f}}function jPe(e,t,n={}){const r=t.indexStack,a=e.children||[],o=C4(n),l=[];let u=-1;for(r.push(-1);++u<a.length;){const h=a[u];r[r.length-1]=u,l.push(o.move(t.handle(h,e,t,{before:"",after:"",...o.current()})))}return r.pop(),l.join("")}function XPe(e,t,n={}){const r=t.indexStack,a=e.children||[],o=C4(n),l=[];let u=-1;for(r.push(-1);++u<a.length;){const f=a[u];r[r.length-1]=u,l.push(o.move(t.handle(f,e,t,{before:`
`,after:`
`,...o.current()}))),f.type!=="list"&&(t.bulletLastUsed=void 0),u<a.length-1&&l.push(o.move(h(f,a[u+1])))}return r.pop(),l.join("");function h(f,d){let p=t.join.length;for(;p--;){const g=t.join[p](f,d,e,t);if(g===!0||g===1)break;if(typeof g=="number")return`
`.repeat(1+g);if(g===!1)return`

\x3C!---->

`}return`

`}}function KPe(e,t,n){const r=t.indexStack,a=e.children||[],o=[];let l=-1,u=n.before;r.push(-1);let h=C4(n);for(;++l<a.length;){const f=a[l];let d;if(r[r.length-1]=l,l+1<a.length){let p=t.handle.handlers[a[l+1].type];p&&p.peek&&(p=p.peek),d=p?p(a[l+1],e,t,{before:"",after:"",...h.current()}).charAt(0):""}else d=n.after;o.length>0&&(u==="\r"||u===`
`)&&f.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),u=" ",h=C4(n),h.move(o.join(""))),o.push(h.move(t.handle(f,e,t,{...h.current(),before:u,after:d}))),u=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function ZPe(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}const QPe=new Set(["componentContainerSection","containerComponent","leafComponent"]),Yne=new Set(["componentContainerSection","componentContainerDataSection","containerComponent","leafComponent","table","pre","code","textComponent"]),JPe={}.hasOwnProperty,nU=/^[^\t\n\r "#'.<=>`}]+$/,eFe=2;function rU(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}const tFe=(e={})=>{const t=(m,{safeTypes:y=[]})=>{var T;const b=E=>Yne.has(E)||y.includes(E);(T=m.mdc)!=null&&T.unwrapped&&(m.children=[{type:m.mdc.unwrapped,children:m.children.filter(E=>!b(E.type))},...m.children.filter(E=>b(E.type))])},n=m=>{const y=Object.entries(m.fmAttributes||{});if(y.length===0)return"";const b=y.sort(([T],[E])=>T.localeCompare(E)).reduce((T,[E,w])=>{if(E!=null&&E.startsWith(":")&&f(w)){try{w=JSON.parse(w)}catch{}E=E.slice(1)}return T[E]=w,T},{});return`
`+(e!=null&&e.yamlCodeBlockProps?VPe(b).trim():YPe(b).trim())},r=m=>{e.autoUnwrap&&t(m,typeof e.autoUnwrap=="boolean"?{}:e.autoUnwrap)};function a(m,y,b){return b.indexStack=b.stack,r(m),`#${m.name}${d(m,b)}
${p(m,b)}`.trim()}function o(m,y,b){let T;b.indexStack=b.stack;const E=b.enter(m.type);if(m.name==="span")T=`[${p(m,b)}]${d(m,b)}`;else if(m.name==="binding"){const w=m.attributes||{};T=w.defaultValue?`{{ ${w.value} || '${w.defaultValue}' }}`:`{{ ${w.value} }}`}else T=":"+(m.name||"")+h(m,b)+d(m,b);return E(),T}let l=0;function u(m,y,b){var C;b.indexStack=b.stack;const T=":".repeat(eFe+l);l+=1;const E=b.enter(m.type);let w=T+(m.name||"")+h(m,b);const x=m.children.filter(N=>N.type!=="componentContainerSection"),S=m.children.filter(N=>N.type==="componentContainerSection");m.children=[...x,...S],m.fmAttributes=m.fmAttributes||{};const A=d(m,b);((w+A).length>((e==null?void 0:e.maxAttributesLength)||80)||Object.keys(m.fmAttributes).length>0||(C=m.children)!=null&&C.some(N=>N.type==="componentContainerSection"))&&(Object.assign(m.fmAttributes,m.attributes),m.attributes=[]),r(m),w+=d(m,b),w+=n(m);let R;return m.type==="containerComponent"&&(R=p(m,b),R&&(w+=`
`+R),w+=`
`+T,l>1&&(w=w.split(`
`).map(N=>"  "+N).join(`
`))),l-=1,E(),w}u.peek=function(){return":"};function h(m,y){let b=m;if(m.type==="containerComponent"){if(!g(m))return"";b=m.children[0]}const T=y.enter("label"),E=y.enter(m.type+"Label"),w=KPe(b,y,{before:"[",after:"]"});return E(),T(),w?"["+w+"]":""}const f=m=>{try{return JSON.parse(m),!0}catch{return!1}};function d(m,y){const b=ZPe(y),T=m.type==="textComponent"?[b]:[b,`
`,"\r"],E=Object.fromEntries(Object.entries(m.attributes||{}).sort(([L],[k])=>L.localeCompare(k))),w=[];let x,S="",A="",R,C,N;for(C in E)if(JPe.call(E,C)&&E[C]!=null)if(R=String(E[C]),C==="id")x=nU.test(R)?"#"+R:O("id",R);else if(C==="class"){for(R=R.split(/[\t\n\r ]+/g),S=[],A=[],N=-1;++N<R.length;)(nU.test(R[N])?A:S).push(R[N]);S=S.length?O("class",S.join(" ")):"",A=A.length?"."+A.join("."):""}else C.startsWith(":")&&R==="true"?w.push(C.slice(1)):C.startsWith(":")&&f(R)?w.push(`${C}='${R.replace(/([^/])'/g,"$1\\'")}'`):w.push(O(C,R));return S&&w.unshift(S),A&&w.unshift(A),x&&w.unshift(x),w.length?"{"+w.join(" ")+"}":"";function O(L,k){return L+"="+b+LJ(k,{subset:T})+b}}function p(m,y){const b=g(m)?Object.assign({},m,{children:m.children.slice(1)}):m;return m.type==="textComponent"?jPe(b,y):XPe(b,y)}function g(m){return m.children&&m.children[0]&&m.children[0].data&&m.children[0].data.componentLabel}return{compilePattern:rU,unsafe:[{character:"\r",inConstruct:["leafComponentLabel","containerComponentLabel"]},{character:`
`,inConstruct:["leafComponentLabel","containerComponentLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}],handlers:{containerComponent:u,textComponent:o,componentContainerSection:a,image:(m,y,b,T)=>T0.image(m,y,b,T)+d(m,b),link:(m,y,b,T)=>T0.link(m,y,b,T)+d(m,b),linkReference:(m,y,b,T)=>T0.linkReference(m,y,b,T)+d(m,b),strong:(m,y,b,T)=>T0.strong(m,y,b,T)+d(m,b),inlineCode:(m,y,b)=>(b.compilePattern=b.compilePattern||rU,T0.inlineCode(m,y,b)+d(m,b)),emphasis:(m,y,b,T)=>T0.emphasis(m,y,b,T)+d(m,b)}}},nFe=(e={})=>{const t=["textComponent"],n=D=>{var H;const P=D.children[0];P&&((H=P.children)!=null&&H.length)&&P.children[0].type==="code"&&P.children[0].lang==="yaml"&&P.children[0].meta==="[props]"&&(D.rawData=P.children[0].value,D.mdc=D.mdc||{},D.mdc.codeBlockProps=!0,P.children.splice(0,1))},r=(D,{safeTypes:P=[]})=>{if(!QPe.has(D.type))return;const H=D.children.filter(V=>V.type!=="componentContainerSection");if(H.length!==1)return;const W=H[0];if(Yne.has(W.type)||P.includes(W.type))return;const U=D.children.indexOf(W);D.children.splice(U,1,...(W==null?void 0:W.children)||[]),D.mdc=D.mdc||{},D.mdc.unwrapped=W.type},a=D=>{e.yamlCodeBlockProps&&n(D),e.autoUnwrap&&r(D,typeof e.autoUnwrap=="boolean"?{}:e.autoUnwrap)},o={componentContainer:f,componentContainerSection:p,componentContainerDataSection:g,componentContainerAttributes:N,componentContainerLabel:R,bindingContent:u,componentLeaf:T,componentLeafAttributes:N,componentText:w,textSpan:E,componentTextAttributes:N},l={bindingContent:h,componentContainerSectionTitle:b,listUnordered:F,listOrdered:F,listItem:F,componentContainerSection:m,componentContainerDataSection:y,componentContainer:d,componentContainerAttributeClassValue:L,componentContainerAttributeIdValue:O,componentContainerAttributeName:M,componentContainerAttributeValue:k,componentContainerAttributes:$,componentContainerLabel:C,componentContainerName:S,componentContainerAttributeInitializerMarker(){const D=this.data.componentAttributes;D[D.length-1][1]=""},componentLeaf:_,componentLeafAttributeClassValue:L,componentLeafAttributeIdValue:O,componentLeafAttributeName:M,componentLeafAttributeValue:k,componentLeafAttributes:$,componentLeafName:A,componentText:_,textSpan:_,componentTextAttributeClassValue:L,componentTextAttributeIdValue:O,componentTextAttributeName:M,componentTextAttributeValue:k,componentTextAttributes:$,componentTextName:S};function u(D){var W;const H=/([^|]*)(?:\|\|\s*'(.*)')?/.exec(this.sliceSerialize(D));this.enter({type:"textComponent",name:"binding",attributes:{value:(W=H==null?void 0:H[1])==null?void 0:W.trim(),defaultValue:H==null?void 0:H[2]}},D)}function h(D){this.exit(D)}function f(D){x.call(this,"containerComponent",D)}function d(D){const P=this.stack[this.stack.length-1];if(P.children.length>1){const H=P.children.find(W=>W.rawData);P.rawData=H==null?void 0:H.rawData}a(P),P.children=P.children.flatMap(H=>{var W,U;return H.rawData?[]:H.name==="default"&&Object.keys(H.attributes).length===0||!H.name?((W=H.mdc)!=null&&W.unwrapped&&(P.mdc=P.mdc||{},P.mdc.unwrapped=(U=H.mdc)==null?void 0:U.unwrapped),H.children):(H.data={hName:"component-slot",hProperties:{...H.attributes,[`v-slot:${H.name}`]:""}},H)}),this.exit(D)}function p(D){x.call(this,"componentContainerSection",D)}function g(D){x.call(this,"componentContainerDataSection",D)}function m(D){const P=this.stack[this.stack.length-1];B.call(this,P),a(P),this.exit(D)}function y(D){let P=this.stack[this.stack.length-1];P=B.call(this,P),P.type==="componentContainerDataSection"&&(P.rawData=this.sliceSerialize(D),this.exit(D))}function b(D){var P;this.stack[this.stack.length-1].name=(P=this.sliceSerialize(D))==null?void 0:P.trim()}function T(D){x.call(this,"leafComponent",D)}function E(D){this.enter({type:"textComponent",name:"span",attributes:{},children:[]},D)}function w(D){x.call(this,"textComponent",D)}function x(D,P){this.enter({type:D,name:"",attributes:{},children:[]},P)}function S(D){this.stack[this.stack.length-1].name=QO(this.sliceSerialize(D))}function A(D){this.stack[this.stack.length-1].name=this.sliceSerialize(D)}function R(D){this.enter({type:"paragraph",data:{componentLabel:!0},children:[]},D)}function C(D){this.exit(D)}function N(){this.data.componentAttributes=[],this.buffer()}function O(D){this.data.componentAttributes.push(["id",h1(this.sliceSerialize(D))])}function L(D){this.data.componentAttributes.push(["class",h1(this.sliceSerialize(D))])}function k(D){const P=this.data.componentAttributes,H=P[P.length-1];H[1]=(typeof H[1]=="string"?H[1]:"")+h1(this.sliceSerialize(D))}function M(D){this.data.componentAttributes.push([this.sliceSerialize(D),!0])}function $(){var V,G;const D=this.data.componentAttributes,P={};let H=-1,W;for(;++H<D.length;){W=D[H];const ee=QO(W[0]);ee==="class"&&P.class?P.class+=" "+W[1]:P[ee]=W[1]}this.data.componentAttributes=D,this.resume();let U=this.stack[this.stack.length-1];if(U.type!=="textComponent"||U.name==="span")for(;!((V=U.position)!=null&&V.end)&&((G=U.children)==null?void 0:G.length)>0;)U=U.children[U.children.length-1];U.attributes=P}function _(D){this.exit(D)}function F(D){const[P]=this.tokenStack[this.tokenStack.length-1];P.type===D.type&&this.exit(D)}function B(D){for(;D.type==="listItem"||D.type==="list";){const[P]=this.tokenStack[this.tokenStack.length-1];this.exit(P),D=this.stack[this.stack.length-1]}return D}return{canContainEols:t,enter:o,exit:l}},rFe=2,iFe=3,iU=35,aFe=1,Ze={EOF:null,space:32,quotationMark:34,hash:35,apostrophe:39,openingParentheses:40,star:42,dash:45,dot:46,colon:58,LessThan:60,equals:61,greaterThan:62,uppercaseX:88,openingSquareBracket:91,backSlash:92,closingSquareBracket:93,underscore:95,backTick:96,lowercaseX:120,openingCurlyBracket:123,closingCurlyBracket:125};function l9(e,t,n,r,a,o,l){let u=0,h=0;return f;function f(b){if(b!==Ze.openingSquareBracket)throw new Error("expected `[`");return e.enter(r),e.enter(a),e.consume(b),e.exit(a),d}function d(b){return b===Ze.closingSquareBracket?(e.enter(a),e.consume(b),e.exit(a),e.exit(r),t):(e.enter(o),p(b))}function p(b){return b===Ze.EOF||u>999?n(b):b===Ze.closingSquareBracket&&!h--?m(b):bt(b)?l?n(b):(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkText",{contentType:"text"}),g(b))}function g(b){return b===Ze.EOF||bt(b)||u>999?(e.exit("chunkText"),p(b)):b===Ze.openingSquareBracket&&++h>3?n(b):b===Ze.closingSquareBracket&&!h--?(e.exit("chunkText"),m(b)):(e.consume(b),b===Ze.backSlash?y:g)}function m(b){return e.exit(o),e.enter(a),e.consume(b),e.exit(a),e.exit(r),t}function y(b){return b===Ze.openingSquareBracket||b===Ze.backSlash||b===Ze.closingSquareBracket?(e.consume(b),u++,g):g(b)}}const sFe={tokenize:uFe,partial:!0},oFe={tokenize:fFe,partial:!0},lFe={tokenize:dFe,partial:!0};function cFe(e,t,n){const r=this;return a;function a(h){if(h!==Ze.openingSquareBracket)throw new Error("expected `[`");return r.previous===Ze.EOF&&r._gfmTasklistFirstContentOfListItem?e.check(oFe,n,o)(h):r.previous===Ze.openingSquareBracket?n(h):e.check(lFe,n,o)(h)}function o(h){return e.enter("textSpan"),e.attempt(sFe,l,n)(h)}function l(h){return h===Ze.openingParentheses||h===Ze.openingSquareBracket?n(h):u(h)}function u(h){return e.exit("textSpan"),t(h)}}function uFe(e,t,n){return l9(e,t,n,"componentTextLabel","componentTextLabelMarker","componentTextLabelString")}const hFe={tokenize:cFe};function fFe(e,t,n){return r;function r(o){return e.enter("formGfmTaskCheckbox"),e.consume(o),a}function a(o){return Kt(o)||o===Ze.uppercaseX||o===Ze.lowercaseX?(e.consume(o),a):o===Ze.closingSquareBracket?(e.exit("formGfmTaskCheckbox"),t(o)):n(o)}}function dFe(e,t,n){return r;function r(o){return e.enter("doubleBracket"),e.consume(o),a}function a(o){return o!==Ze.openingSquareBracket?n(o):(e.exit("doubleBracket"),t(o))}}function c9(e,t,n,r,a,o,l,u,h,f,d,p,g,m,y){let b,T,E=!1;return w;function w(H){return e.enter(r),e.enter(a),e.consume(H),e.exit(a),x}function x(H){return H===Ze.hash?(b=l,S(H)):H===Ze.dot?(b=u,S(H)):H===Ze.colon||H===Ze.underscore||Ni(H)?(e.enter(o),e.enter(h),e.consume(H),E=H===Ze.colon,H===Ze.colon?C:O):y&&Kt(H)?Bt(e,x,"whitespace")(H):!y&&gn(H)?eo(e,x)(H):P(H)}function S(H){return e.enter(o),e.enter(b),e.enter(b+"Marker"),e.consume(H),e.exit(b+"Marker"),A}function A(H){return H===Ze.EOF||H===Ze.quotationMark||H===Ze.hash||H===Ze.apostrophe||H===Ze.dot||H===Ze.LessThan||H===Ze.equals||H===Ze.greaterThan||H===Ze.backTick||H===Ze.closingCurlyBracket||gn(H)?n(H):(e.enter(b+"Value"),e.consume(H),R)}function R(H){return H===Ze.EOF||H===Ze.quotationMark||H===Ze.apostrophe||H===Ze.LessThan||H===Ze.equals||H===Ze.greaterThan||H===Ze.backTick?n(H):H===Ze.hash||H===Ze.dot||H===Ze.closingCurlyBracket||gn(H)?(e.exit(b+"Value"),e.exit(b),e.exit(o),x(H)):(e.consume(H),R)}function C(H){return H===Ze.dash||wi(H)?(e.consume(H),C):(e.exit(h),y&&Kt(H)?Bt(e,N,"whitespace")(H):!y&&gn(H)?eo(e,N)(H):N(H))}function N(H){return H===Ze.equals?(e.enter(f),e.consume(H),e.exit(f),k):(e.exit(o),n(H))}function O(H){return H===Ze.dash||H===Ze.dot||H===Ze.colon||H===Ze.underscore||wi(H)?(e.consume(H),O):(e.exit(h),y&&Kt(H)?Bt(e,L,"whitespace")(H):!y&&gn(H)?eo(e,L)(H):L(H))}function L(H){return H===Ze.equals?(e.enter(f),e.consume(H),e.exit(f),k):(e.exit(o),x(H))}function k(H){return H===Ze.EOF||H===Ze.LessThan||H===Ze.equals||H===Ze.greaterThan||H===Ze.backTick||H===Ze.closingCurlyBracket||y&&bt(H)?n(H):H===Ze.quotationMark||H===Ze.apostrophe?(e.enter(d),e.enter(g),e.consume(H),e.exit(g),T=H,$):y&&Kt(H)?Bt(e,k,"whitespace")(H):!y&&gn(H)?eo(e,k)(H):(e.enter(p),e.enter(m),e.consume(H),T=void 0,M)}function M(H){return H===Ze.EOF||H===Ze.quotationMark||H===Ze.apostrophe||H===Ze.LessThan||H===Ze.equals||H===Ze.greaterThan||H===Ze.backTick?n(H):H===Ze.closingCurlyBracket||gn(H)?(e.exit(m),e.exit(p),e.exit(o),x(H)):(e.consume(H),M)}function $(H){return H===T?(e.enter(g),e.consume(H),e.exit(g),e.exit(d),e.exit(o),D):(e.enter(p),_(H))}function _(H){return H===T?(e.exit(p),$(H)):H===Ze.EOF?n(H):bt(H)?y?n(H):eo(e,_)(H):(e.enter(m),e.consume(H),F)}function F(H){return E&&H===Ze.backSlash?(e.exit(m),e.exit(p),e.enter("escapeCharacter"),e.consume(H),e.exit("escapeCharacter"),e.enter(p),e.enter(m),B):H===T||H===Ze.EOF||bt(H)?(e.exit(m),_(H)):(e.consume(H),F)}function B(H){return e.consume(H),F}function D(H){return H===Ze.closingCurlyBracket||gn(H)?x(H):P(H)}function P(H){return H===Ze.closingCurlyBracket?(e.enter(a),e.consume(H),e.exit(a),e.exit(r),t):n(H)}}const pFe={tokenize:vFe,partial:!0},gFe=["textSpan","attentionSequence","codeText","link","image"];function mFe(e,t,n){const r=this;return a;function a(o){if(o!==Ze.openingCurlyBracket)throw new Error("expected `{`");const l=r.events[r.events.length-1];return bt(r.previous)||!l||!gFe.includes(l[1].type)?n(o):e.attempt(pFe,t,n)(o)}}function vFe(e,t,n){return c9(e,t,n,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const yFe={tokenize:mFe};function bFe(e,t,n){return r;function r(o){return o!==Ze.closingCurlyBracket?n(o):(e.exit("bindingContent"),e.enter("bindingFence"),e.consume(o),a)}function a(o){return o!==Ze.closingCurlyBracket?n(o):(e.consume(o),e.exit("bindingFence"),t)}}function TFe(e,t,n){return r;function r(u){if(u!==Ze.openingCurlyBracket)throw new Error("expected `{`");return e.enter("bindingFence"),e.consume(u),a}function a(u){return u!==Ze.openingCurlyBracket?n(u):(e.consume(u),e.exit("bindingFence"),e.enter("bindingContent"),o)}function o(u){return u===Ze.closingCurlyBracket?e.attempt({tokenize:bFe,partial:!0},l,h=>(e.consume(h),o))(u):(e.consume(u),o)}function l(u){return t(u)}}const EFe={tokenize:TFe};function Vne(e,t,n,r){const a=this;return o;function o(u){return Ni(u)?(e.enter(r),e.consume(u),l):n(u)}function l(u){return u===Ze.dash||u===Ze.underscore||wi(u)?(e.consume(u),l):(e.exit(r),a.previous===Ze.underscore?n(u):t(u))}}const aU={tokenize:xFe,partial:!0},sU={tokenize:SFe,partial:!0};function qne(e){return e!==Ze.colon||this.events[this.events.length-1][1].type==="characterEscape"}function wFe(e,t,n){const r=this;return a;function a(f){if(f!==Ze.colon)throw new Error("expected `:`");if(r.previous!==null&&!gn(r.previous)&&![Ze.openingSquareBracket,Ze.star,Ze.underscore,Ze.openingParentheses].includes(r.previous))return n(f);if(!qne.call(r,r.previous))throw new Error("expected correct previous");return e.enter("componentText"),e.enter("componentTextMarker"),e.consume(f),e.exit("componentTextMarker"),Vne.call(r,e,o,n,"componentTextName")}function o(f){return f===Ze.colon?n(f):f===Ze.openingSquareBracket?e.attempt(aU,u,u)(f):f===Ze.openingCurlyBracket?e.attempt(sU,l,l)(f):h(f)}function l(f){return f===Ze.openingSquareBracket?e.attempt(aU,u,u)(f):h(f)}function u(f){return f===Ze.openingCurlyBracket?e.attempt(sU,h,h)(f):h(f)}function h(f){return e.exit("componentText"),t(f)}}function xFe(e,t,n){return l9(e,t,n,"componentTextLabel","componentTextLabelMarker","componentTextLabelString")}function SFe(e,t,n){return c9(e,t,n,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const jne={tokenize:wFe,previous:qne};function Xne(e){let t=-1,n=0;for(;++t<e.length;)n+=typeof e[t]=="string"?e[t].length:1;return n}function AFe(e,t){const n=e[e.length-1];return!n||n[1].type!==t?0:Xne(n[2].sliceStream(n[1]))}function aN(e){let t=0,n=e.length-1,r=e[n];for(;n>=0&&r&&r[1].type==="linePrefix"&&r[0]==="exit";)t+=Xne(r[2].sliceStream(r[1])),n-=1,r=e[n];return t}const IFe=e=>{const t={isOpen:!1,enter:n=>{const r=t.isOpen;return t.exit(n),n.enter(e),t.isOpen=!0,()=>{t.isOpen=r}},enterOnce:n=>{const r=t.isOpen;return t.isOpen||(n.enter(e),t.isOpen=!0),()=>{t.isOpen=r}},exit:n=>{const r=t.isOpen;return t.isOpen&&(n.exit(e),t.isOpen=!1),()=>{t.isOpen=r}}};return t},CFe={tokenize:RFe,partial:!0};function RFe(e,t,n){let r=0;return a;function a(l){return e.enter("codeFenced"),o(l)}function o(l){return l===Ze.backTick?(r++,e.consume(l),o):(e.exit("codeFenced"),r>=3?t(l):n(l))}}function kFe(e,t,n,r,a){let o;return e.attempt({tokenize:l,partial:!0},u,r);function l(p,g,m){const y=this;let b=0,T=0;return w;function E(S){return Kt(S)?(p.consume(S),T+=1,E):(p.exit("space"),w(S))}function w(S){return Kt(S)?(p.enter("space"),E(S)):(T===0&&(T=aN(y.events)),p.enter("componentContainerSectionSequence"),x(S))}function x(S){return S===Ze.dash||Kt(S)?(p.consume(S),b++,x):b<iFe||T!==a||!bt(S)?m(S):(p.exit("componentContainerSectionSequence"),Bt(p,g,"whitespace")(S))}}function u(p){return e.enter("componentContainerDataSection"),e.attempt({tokenize:l,partial:!0},d,h)(p)}function h(p){if(p===null)return e.exit("componentContainerDataSection"),e.exit("componentContainer"),t(p);const g=e.enter("chunkDocument",{contentType:"document",previous:o});return o&&(o.next=g),o=g,f(p)}function f(p){return p===null?(e.exit("chunkDocument"),e.exit("componentContainerDataSection"),e.exit("componentContainer"),t(p)):bt(p)?(e.consume(p),e.exit("chunkDocument"),e.attempt({tokenize:l,partial:!0},d,h)):(e.consume(p),f)}function d(p){return e.exit("componentContainerDataSection"),Bt(e,r,"whitespace")(p)}}const OFe={tokenize:LFe,partial:!0},nR={tokenize:_Fe,partial:!0};function NFe(e,t,n){const r=this,a=aN(this.events);let o=0,l;const u=[];let h=!0,f=!1;const d=IFe("componentContainerSection");return p;function p(k){if(k!==Ze.colon)throw new Error("expected `:`");return e.enter("componentContainer"),e.enter("componentContainerFence"),e.enter("componentContainerSequence"),b(k)}function g(k,M,$){let _=0,F=0,B;return D;function D(H){return F=aN(r.events),B=d.exit(k),k.enter("componentContainerSectionSequence"),P(H)}function P(H){return H===iU?(k.consume(H),_++,P):_!==aFe||F!==a||!Ni(H)?(B(),$(H)):(k.exit("componentContainerSectionSequence"),Bt(k,M,"whitespace")(H))}}function m(k){return d.enter(e),bt(k)?Bt(e,R,"whitespace")(k):(e.enter("componentContainerSectionTitle"),y(k))}function y(k){return k===Ze.openingCurlyBracket?e.check(nR,M=>(e.exit("componentContainerSectionTitle"),e.attempt(nR,Bt(e,R,"linePrefix",4),n)(M)),M=>(e.consume(M),y))(k):bt(k)?(e.exit("componentContainerSectionTitle"),Bt(e,R,"linePrefix",4)(k)):(e.consume(k),y)}function b(k){return k===Ze.colon?(e.consume(k),o++,b):o<rFe?n(k):(e.exit("componentContainerSequence"),Vne.call(r,e,T,n,"componentContainerName")(k))}function T(k){return k===Ze.openingSquareBracket?e.attempt(OFe,E,E)(k):E(k)}function E(k){return k===Ze.openingCurlyBracket?e.attempt(nR,w,w)(k):w(k)}function w(k){return Bt(e,x,"whitespace")(k)}function x(k){return e.exit("componentContainerFence"),k===null?(e.exit("componentContainer"),t(k)):bt(k)?(e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),r.interrupt?t:S):n(k)}function S(k){return k===null?(e.exit("componentContainer"),t(k)):h&&(k===Ze.dash||Kt(k))?(h=!1,kFe(e,t,n,S,a)(k)):(e.enter("componentContainerContent"),R(k))}function A(k){return k===null?O(k):k===Ze.backTick?e.check(CFe,M=>(f=!f,C(M)),C)(k):f?C(k):!u.length&&(k===iU||k===Ze.space)?e.attempt({tokenize:g,partial:!0},m,C)(k):k===Ze.colon?e.attempt({tokenize:L,partial:!0},O,C)(k):C(k)}function R(k){return k===null?O(k):a?Bt(e,A,"linePrefix",a+1)(k):A(k)}function C(k){if(k===null)return O(k);d.enterOnce(e);const M=e.enter("chunkDocument",{contentType:"document",previous:l});return l&&(l.next=M),l=M,N(k)}function N(k){return k===null?(e.exit("chunkDocument"),O(k)):bt(k)?(e.consume(k),e.exit("chunkDocument"),R):(e.consume(k),N)}function O(k){return d.exit(e),e.exit("componentContainerContent"),e.exit("componentContainer"),t(k)}function L(k,M,$){let _=0;return Bt(k,F,"linePrefix",4);function F(P){return k.enter("componentContainerFence"),k.enter("componentContainerSequence"),B(P)}function B(P){return P===Ze.colon?(k.consume(P),_++,B):u.length?(_===u[u.length-1]&&u.pop(),$(P)):_!==o?$(P):(k.exit("componentContainerSequence"),Bt(k,D,"whitespace")(P))}function D(P){return P===null||bt(P)?(k.exit("componentContainerFence"),M(P)):(u.push(_),$(P))}}}function LFe(e,t,n){return l9(e,t,n,"componentContainerLabel","componentContainerLabelMarker","componentContainerLabelString",!0)}function _Fe(e,t,n){return c9(e,t,n,"componentContainerAttributes","componentContainerAttributesMarker","componentContainerAttribute","componentContainerAttributeId","componentContainerAttributeClass","componentContainerAttributeName","componentContainerAttributeInitializerMarker","componentContainerAttributeValueLiteral","componentContainerAttributeValue","componentContainerAttributeValueMarker","componentContainerAttributeValueData",!0)}const Kne={tokenize:NFe,concrete:!0};function DFe(e,t,n){const r=this;return Bt(e,a,"linePrefix");function a(o){if(AFe(r.events,"linePrefix")<4)return n(o);switch(o){case Ze.backTick:return LO.tokenize.call(r,e,t,n)(o);case Ze.colon:return Kne.tokenize.call(r,e,t,n)(o);default:return n(o)}}}const rR={tokenize:DFe};function MFe(e,t,n){const r=this,a=jne.tokenize.call(r,e,Bt(e,l,"linePrefix"),n);return Bt(e,o,"linePrefix");function o(u){return u===Ze.colon?a(u):n(u)}function l(u){return bt(u)||u===Ze.EOF?t(u):n(u)}}const PFe={tokenize:MFe};function FFe(){return{text:{[Ze.colon]:jne,[Ze.openingSquareBracket]:[hFe],[Ze.openingCurlyBracket]:[EFe,yFe]},flow:{[Ze.colon]:[Kne,PFe]},flowInitial:{"-2":rR,"-1":rR,[Ze.space]:rR}}}const BFe=e=>`---
${e}
---`,HFe=function(t={}){var a,o,l;const n=this.data();t.autoUnwrap===void 0&&((a=t.experimental)!=null&&a.autoUnwrap)&&(t.autoUnwrap=t.experimental.autoUnwrap?{safeTypes:[]}:!1),t.yamlCodeBlockProps===void 0&&((o=t.experimental)!=null&&o.componentCodeBlockYamlProps)&&(t.yamlCodeBlockProps=t.experimental.componentCodeBlockYamlProps),r("micromarkExtensions",FFe()),r("fromMarkdownExtensions",nFe(t)),r("toMarkdownExtensions",tFe(t));function r(u,h){n[u]||(n[u]=[]),n[u].push(h)}return(l=t==null?void 0:t.components)!=null&&l.length?async(u,{data:h})=>{const f=[];return jd(u,["textComponent","leafComponent","containerComponent"],d=>{oU(d);const{instance:p,options:g}=t.components.find(m=>m.name===d.name)||{};p&&f.push(p(g)(d,h))}),await Promise.all(f),u}:u=>{jd(u,["textComponent","leafComponent","containerComponent"],h=>{oU(h)})}};function oU(e){const t=e.data||(e.data={});e.fmAttributes=$Fe(e),t.hName=QO(e.name),t.hProperties=WFe({...e.attributes,...e.fmAttributes})}function $Fe(e){if(e.rawData){const t=e.rawData.replace(/\s-+$/,""),{data:n}=qPe(BFe(t));return n}return{}}function WFe(e){const t=Object.entries(e).map(([n,r])=>n.startsWith(":")?[n,r]:typeof r=="string"?[n,r]:[`:${n}`,JSON.stringify(r)]);return Object.fromEntries(t)}const UFe=/^---(?:\r?\n|\r)(?:([\s\S]*?)(?:\r?\n|\r))?---(?:\r?\n|\r|$)/;function GFe(e,t){const n={},r=n.strip,a=n.yaml||{};let o=String(e);const l=UFe.exec(o);l?(e.data.matter=lPe.parse(l[1],a),r&&(o=o.slice(l[0].length),e.value=e.value&&typeof e.value=="object"?new TextEncoder().encode(o):o)):e.data.matter={}}function zFe(){return function(e,t){GFe(t)}}var Zne={exports:{}};(function(e){(function(){var t;t=e.exports=a,t.format=a,t.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(t.printf=n);function n(){console.log(a.apply(null,arguments))}function r(o,l){return a.apply(null,[o].concat(l))}function a(o){for(var l=1,u=[].slice.call(arguments),h=0,f=o.length,d="",p,g=!1,m,y,b=!1,T,E=function(){return u[l++]},w=function(){for(var x="";/\d/.test(o[h]);)x+=o[h++],p=o[h];return x.length>0?parseInt(x):null};h<f;++h)if(p=o[h],g)switch(g=!1,p=="."?(b=!1,p=o[++h]):p=="0"&&o[h+1]=="."?(b=!0,h+=2,p=o[h]):b=!0,T=w(),p){case"b":d+=parseInt(E(),10).toString(2);break;case"c":m=E(),typeof m=="string"||m instanceof String?d+=m:d+=String.fromCharCode(parseInt(m,10));break;case"d":d+=parseInt(E(),10);break;case"f":y=String(parseFloat(E()).toFixed(T||6)),d+=b?y:y.replace(/^0/,"");break;case"j":d+=JSON.stringify(E());break;case"o":d+="0"+parseInt(E(),10).toString(8);break;case"s":d+=E();break;case"x":d+="0x"+parseInt(E(),10).toString(16);break;case"X":d+="0x"+parseInt(E(),10).toString(16).toUpperCase();break;default:d+=p;break}else p==="%"?g=!0:d+=p;return d}})()})(Zne);var YFe=Zne.exports;const VFe=Go(YFe),Uw=Object.assign(qf(Error),{eval:qf(EvalError),range:qf(RangeError),reference:qf(ReferenceError),syntax:qf(SyntaxError),type:qf(TypeError),uri:qf(URIError)});function qf(e){return t.displayName=e.displayName||e.name,t;function t(n,...r){const a=n&&VFe(n,...r);return new e(a)}}const Gw={}.hasOwnProperty,lU={yaml:"-",toml:"+"};function u9(e){const t=[];let n=-1;const r=Array.isArray(e)?e:e?[e]:["yaml"];for(;++n<r.length;)t[n]=qFe(r[n]);return t}function qFe(e){let t=e;if(typeof t=="string"){if(!Gw.call(lU,t))throw Uw("Missing matter definition for `%s`",t);t={type:t,marker:lU[t]}}else if(typeof t!="object")throw Uw("Expected matter to be an object, not `%j`",t);if(!Gw.call(t,"type"))throw Uw("Missing `type` in matter `%j`",t);if(!Gw.call(t,"fence")&&!Gw.call(t,"marker"))throw Uw("Missing `marker` or `fence` in matter `%j`",t);return t}function jFe(e){const t=u9(e),n={};let r=-1;for(;++r<t.length;){const a=t[r],o=sN(a,"open").charCodeAt(0),l=XFe(a),u=n[o];Array.isArray(u)?u.push(l):n[o]=[l]}return{flow:n}}function XFe(e){const t=e.anywhere,n=e.type,r=n+"Fence",a=r+"Sequence",o=n+"Value",l={tokenize:d,partial:!0};let u,h=0;return{tokenize:f,concrete:!0};function f(p,g,m){const y=this;return b;function b(C){const N=y.now();return N.column===1&&(N.line===1||t)&&(u=sN(e,"open"),h=0,C===u.charCodeAt(h))?(p.enter(n),p.enter(r),p.enter(a),T(C)):m(C)}function T(C){return h===u.length?(p.exit(a),Kt(C)?(p.enter("whitespace"),E(C)):w(C)):C===u.charCodeAt(h++)?(p.consume(C),T):m(C)}function E(C){return Kt(C)?(p.consume(C),E):(p.exit("whitespace"),w(C))}function w(C){return bt(C)?(p.exit(r),p.enter("lineEnding"),p.consume(C),p.exit("lineEnding"),u=sN(e,"close"),h=0,p.attempt(l,R,x)):m(C)}function x(C){return C===null||bt(C)?A(C):(p.enter(o),S(C))}function S(C){return C===null||bt(C)?(p.exit(o),A(C)):(p.consume(C),S)}function A(C){return C===null?m(C):(p.enter("lineEnding"),p.consume(C),p.exit("lineEnding"),p.attempt(l,R,x))}function R(C){return p.exit(n),g(C)}}function d(p,g,m){let y=0;return b;function b(x){return x===u.charCodeAt(y)?(p.enter(r),p.enter(a),T(x)):m(x)}function T(x){return y===u.length?(p.exit(a),Kt(x)?(p.enter("whitespace"),E(x)):w(x)):x===u.charCodeAt(y++)?(p.consume(x),T):m(x)}function E(x){return Kt(x)?(p.consume(x),E):(p.exit("whitespace"),w(x))}function w(x){return x===null||bt(x)?(p.exit(r),g(x)):m(x)}}}function sN(e,t){return e.marker?cU(e.marker,t).repeat(3):cU(e.fence,t)}function cU(e,t){return typeof e=="string"?e:e[t]}function KFe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ZFe(e){const t=u9(e),n={},r={};let a=-1;for(;++a<t.length;){const o=t[a];n[o.type]=QFe(o),r[o.type]=JFe,r[o.type+"Value"]=eBe}return{enter:n,exit:r}}function QFe(e){return t;function t(n){this.enter({type:e.type,value:""},n),this.buffer()}}function JFe(e){const t=this.resume(),n=this.stack[this.stack.length-1];this.exit(e),n.value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function eBe(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function tBe(e){const t=[],n={},r=u9(e);let a=-1;for(;++a<r.length;){const o=r[a];n[o.type]=nBe(o);const l=oN(o,"open");t.push({atBreak:!0,character:l.charAt(0),after:KFe(l.charAt(1))})}return{unsafe:t,handlers:n}}function nBe(e){const t=oN(e,"open"),n=oN(e,"close");return r;function r(a){return t+(a.value?`
`+a.value:"")+`
`+n}}function oN(e,t){return e.marker?uU(e.marker,t).repeat(3):uU(e.fence,t)}function uU(e,t){return typeof e=="string"?e:e[t]}const rBe="yaml";function iBe(e){const t=this,n=e||rBe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(jFe(n)),o.push(ZFe(n)),l.push(tBe(n))}var aBe=Qne;function Qne(e){if(typeof e=="string")return cBe(e);if(e==null)return uBe;if(typeof e=="object")return("length"in e?lBe:oBe)(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function sBe(e){for(var t=[],n=e.length,r=-1;++r<n;)t[r]=Qne(e[r]);return t}function oBe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function lBe(e){var t=sBe(e),n=t.length;return r;function r(){for(var a=-1;++a<n;)if(t[a].apply(this,arguments))return!0;return!1}}function cBe(e){return t;function t(n){return!!(n&&n.type===e)}}function uBe(){return!0}var hBe=OA,fBe=aBe,Jne=!0,ere="skip",rx=!1;OA.CONTINUE=Jne;OA.SKIP=ere;OA.EXIT=rx;function OA(e,t,n,r){var a;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),a=fBe(t),o(e,null,[]);function o(u,h,f){var d=[],p;return(!t||a(u,h,f[f.length-1]||null))&&(d=hU(n(u,f)),d[0]===rx)?d:u.children&&d[0]!==ere?(p=hU(l(u.children,f.concat(u))),p[0]===rx?p:d):d}function l(u,h){for(var f=-1,d=r?-1:1,p=(r?u.length:f)+d,g;p>f&&p<u.length;){if(g=o(u[p],p,h),g[0]===rx)return g;p=typeof g[1]=="number"?g[1]:p+d}}}function hU(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[Jne,e]:[e]}var dBe=LA,NA=hBe,pBe=NA.CONTINUE,gBe=NA.SKIP,mBe=NA.EXIT;LA.CONTINUE=pBe;LA.SKIP=gBe;LA.EXIT=mBe;function LA(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),NA(e,t,a,r);function a(o,l){var u=l[l.length-1],h=u?u.children.indexOf(o):null;return n(o,h,u)}}var h9={exports:{}},oi={},ZT={},Pl={};function tre(e){return typeof e>"u"||e===null}function vBe(e){return typeof e=="object"&&e!==null}function yBe(e){return Array.isArray(e)?e:tre(e)?[]:[e]}function bBe(e,t){var n,r,a,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)a=o[n],e[a]=t[a];return e}function TBe(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function EBe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Pl.isNothing=tre;Pl.isObject=vBe;Pl.toArray=yBe;Pl.repeat=TBe;Pl.isNegativeZero=EBe;Pl.extend=bBe;function Nb(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Nb.prototype=Object.create(Error.prototype);Nb.prototype.constructor=Nb;Nb.prototype.toString=function(t){var n=this.name+": ";return n+=this.reason||"(unknown reason)",!t&&this.mark&&(n+=" "+this.mark.toString()),n};var QT=Nb,fU=Pl;function f9(e,t,n,r,a){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=a}f9.prototype.getSnippet=function(t,n){var r,a,o,l,u;if(!this.buffer)return null;for(t=t||4,n=n||75,r="",a=this.position;a>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(a-1))===-1;)if(a-=1,this.position-a>n/2-1){r=" ... ",a+=5;break}for(o="",l=this.position;l<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(l))===-1;)if(l+=1,l-this.position>n/2-1){o=" ... ",l-=5;break}return u=this.buffer.slice(a,l),fU.repeat(" ",t)+r+u+o+`
`+fU.repeat(" ",t+this.position-a+r.length)+"^"};f9.prototype.toString=function(t){var n,r="";return this.name&&(r+='in "'+this.name+'" '),r+="at line "+(this.line+1)+", column "+(this.column+1),t||(n=this.getSnippet(),n&&(r+=`:
`+n)),r};var wBe=f9,dU=QT,xBe=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],SBe=["scalar","sequence","mapping"];function ABe(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function IBe(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(xBe.indexOf(n)===-1)throw new dU('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=ABe(t.styleAliases||null),SBe.indexOf(this.kind)===-1)throw new dU('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var ha=IBe,pU=Pl,ix=QT,CBe=ha;function lN(e,t,n){var r=[];return e.include.forEach(function(a){n=lN(a,t,n)}),e[t].forEach(function(a){n.forEach(function(o,l){o.tag===a.tag&&o.kind===a.kind&&r.push(l)}),n.push(a)}),n.filter(function(a,o){return r.indexOf(o)===-1})}function RBe(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},t,n;function r(a){e[a.kind][a.tag]=e.fallback[a.tag]=a}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function Hg(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new ix("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=lN(this,"implicit",[]),this.compiledExplicit=lN(this,"explicit",[]),this.compiledTypeMap=RBe(this.compiledImplicit,this.compiledExplicit)}Hg.DEFAULT=null;Hg.create=function(){var t,n;switch(arguments.length){case 1:t=Hg.DEFAULT,n=arguments[0];break;case 2:t=arguments[0],n=arguments[1];break;default:throw new ix("Wrong number of arguments for Schema.create function")}if(t=pU.toArray(t),n=pU.toArray(n),!t.every(function(r){return r instanceof Hg}))throw new ix("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every(function(r){return r instanceof CBe}))throw new ix("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Hg({include:t,explicit:n})};var Cv=Hg,kBe=ha,OBe=new kBe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),NBe=ha,LBe=new NBe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),_Be=ha,DBe=new _Be("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),MBe=Cv,d9=new MBe({explicit:[OBe,LBe,DBe]}),PBe=ha;function FBe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function BBe(){return null}function HBe(e){return e===null}var $Be=new PBe("tag:yaml.org,2002:null",{kind:"scalar",resolve:FBe,construct:BBe,predicate:HBe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),WBe=ha;function UBe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function GBe(e){return e==="true"||e==="True"||e==="TRUE"}function zBe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var YBe=new WBe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:UBe,construct:GBe,predicate:zBe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),VBe=Pl,qBe=ha;function jBe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function XBe(e){return 48<=e&&e<=55}function KBe(e){return 48<=e&&e<=57}function ZBe(e){if(e===null)return!1;var t=e.length,n=0,r=!1,a;if(!t)return!1;if(a=e[n],(a==="-"||a==="+")&&(a=e[++n]),a==="0"){if(n+1===t)return!0;if(a=e[++n],a==="b"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(a!=="0"&&a!=="1")return!1;r=!0}return r&&a!=="_"}if(a==="x"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!jBe(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}for(;n<t;n++)if(a=e[n],a!=="_"){if(!XBe(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}if(a==="_")return!1;for(;n<t;n++)if(a=e[n],a!=="_"){if(a===":")break;if(!KBe(e.charCodeAt(n)))return!1;r=!0}return!r||a==="_"?!1:a!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(n))}function QBe(e){var t=e,n=1,r,a,o=[];return t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0"?0:r==="0"?t[1]==="b"?n*parseInt(t.slice(2),2):t[1]==="x"?n*parseInt(t,16):n*parseInt(t,8):t.indexOf(":")!==-1?(t.split(":").forEach(function(l){o.unshift(parseInt(l,10))}),t=0,a=1,o.forEach(function(l){t+=l*a,a*=60}),n*t):n*parseInt(t,10)}function JBe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!VBe.isNegativeZero(e)}var eHe=new qBe("tag:yaml.org,2002:int",{kind:"scalar",resolve:ZBe,construct:QBe,predicate:JBe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),nre=Pl,tHe=ha,nHe=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rHe(e){return!(e===null||!nHe.test(e)||e[e.length-1]==="_")}function iHe(e){var t,n,r,a;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,a=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(o){a.unshift(parseFloat(o,10))}),t=0,r=1,a.forEach(function(o){t+=o*r,r*=60}),n*t):n*parseFloat(t,10)}var aHe=/^[-+]?[0-9]+e/;function sHe(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(nre.isNegativeZero(e))return"-0.0";return n=e.toString(10),aHe.test(n)?n.replace("e",".e"):n}function oHe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||nre.isNegativeZero(e))}var lHe=new tHe("tag:yaml.org,2002:float",{kind:"scalar",resolve:rHe,construct:iHe,predicate:oHe,represent:sHe,defaultStyle:"lowercase"}),cHe=Cv,rre=new cHe({include:[d9],implicit:[$Be,YBe,eHe,lHe]}),uHe=Cv,ire=new uHe({include:[rre]}),hHe=ha,are=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),sre=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function fHe(e){return e===null?!1:are.exec(e)!==null||sre.exec(e)!==null}function dHe(e){var t,n,r,a,o,l,u,h=0,f=null,d,p,g;if(t=are.exec(e),t===null&&(t=sre.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(o=+t[4],l=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(d=+t[10],p=+(t[11]||0),f=(d*60+p)*6e4,t[9]==="-"&&(f=-f)),g=new Date(Date.UTC(n,r,a,o,l,u,h)),f&&g.setTime(g.getTime()-f),g}function pHe(e){return e.toISOString()}var gHe=new hHe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:fHe,construct:dHe,instanceOf:Date,represent:pHe}),mHe=ha;function vHe(e){return e==="<<"||e===null}var yHe=new mHe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:vHe});function ore(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ad;try{var bHe=ore;Ad=bHe("buffer").Buffer}catch{}var THe=ha,p9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function EHe(e){if(e===null)return!1;var t,n,r=0,a=e.length,o=p9;for(n=0;n<a;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function wHe(e){var t,n,r=e.replace(/[\r\n=]/g,""),a=r.length,o=p9,l=0,u=[];for(t=0;t<a;t++)t%4===0&&t&&(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)),l=l<<6|o.indexOf(r.charAt(t));return n=a%4*6,n===0?(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)):n===18?(u.push(l>>10&255),u.push(l>>2&255)):n===12&&u.push(l>>4&255),Ad?Ad.from?Ad.from(u):new Ad(u):u}function xHe(e){var t="",n=0,r,a,o=e.length,l=p9;for(r=0;r<o;r++)r%3===0&&r&&(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]),n=(n<<8)+e[r];return a=o%3,a===0?(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]):a===2?(t+=l[n>>10&63],t+=l[n>>4&63],t+=l[n<<2&63],t+=l[64]):a===1&&(t+=l[n>>2&63],t+=l[n<<4&63],t+=l[64],t+=l[64]),t}function SHe(e){return Ad&&Ad.isBuffer(e)}var AHe=new THe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:EHe,construct:wHe,predicate:SHe,represent:xHe}),IHe=ha,CHe=Object.prototype.hasOwnProperty,RHe=Object.prototype.toString;function kHe(e){if(e===null)return!0;var t=[],n,r,a,o,l,u=e;for(n=0,r=u.length;n<r;n+=1){if(a=u[n],l=!1,RHe.call(a)!=="[object Object]")return!1;for(o in a)if(CHe.call(a,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function OHe(e){return e!==null?e:[]}var NHe=new IHe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:kHe,construct:OHe}),LHe=ha,_He=Object.prototype.toString;function DHe(e){if(e===null)return!0;var t,n,r,a,o,l=e;for(o=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(r=l[t],_He.call(r)!=="[object Object]"||(a=Object.keys(r),a.length!==1))return!1;o[t]=[a[0],r[a[0]]]}return!0}function MHe(e){if(e===null)return[];var t,n,r,a,o,l=e;for(o=new Array(l.length),t=0,n=l.length;t<n;t+=1)r=l[t],a=Object.keys(r),o[t]=[a[0],r[a[0]]];return o}var PHe=new LHe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:DHe,construct:MHe}),FHe=ha,BHe=Object.prototype.hasOwnProperty;function HHe(e){if(e===null)return!0;var t,n=e;for(t in n)if(BHe.call(n,t)&&n[t]!==null)return!1;return!0}function $He(e){return e!==null?e:{}}var WHe=new FHe("tag:yaml.org,2002:set",{kind:"mapping",resolve:HHe,construct:$He}),UHe=Cv,JT=new UHe({include:[ire],implicit:[gHe,yHe],explicit:[AHe,NHe,PHe,WHe]}),GHe=ha;function zHe(){return!0}function YHe(){}function VHe(){return""}function qHe(e){return typeof e>"u"}var jHe=new GHe("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:zHe,construct:YHe,predicate:qHe,represent:VHe}),XHe=ha;function KHe(e){if(e===null||e.length===0)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";return!(t[0]==="/"&&(n&&(r=n[1]),r.length>3||t[t.length-r.length-1]!=="/"))}function ZHe(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return t[0]==="/"&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)}function QHe(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function JHe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var e$e=new XHe("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:KHe,construct:ZHe,predicate:JHe,represent:QHe}),R4;try{var t$e=ore;R4=t$e("esprima")}catch{typeof window<"u"&&(R4=window.esprima)}var n$e=ha;function r$e(e){if(e===null)return!1;try{var t="("+e+")",n=R4.parse(t,{range:!0});return!(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function i$e(e){var t="("+e+")",n=R4.parse(t,{range:!0}),r=[],a;if(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return n.body[0].expression.params.forEach(function(o){r.push(o.name)}),a=n.body[0].expression.body.range,n.body[0].expression.body.type==="BlockStatement"?new Function(r,t.slice(a[0]+1,a[1]-1)):new Function(r,"return "+t.slice(a[0],a[1]))}function a$e(e){return e.toString()}function s$e(e){return Object.prototype.toString.call(e)==="[object Function]"}var o$e=new n$e("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r$e,construct:i$e,predicate:s$e,represent:a$e}),gU=Cv,_A=gU.DEFAULT=new gU({include:[JT],explicit:[jHe,e$e,o$e]}),eh=Pl,lre=QT,l$e=wBe,cre=JT,c$e=_A,j0=Object.prototype.hasOwnProperty,k4=1,ure=2,hre=3,O4=4,iR=1,u$e=2,mU=3,h$e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,f$e=/[\x85\u2028\u2029]/,d$e=/[,\[\]\{\}]/,fre=/^(?:!|!!|![a-z\-]+!)$/i,dre=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function vU(e){return Object.prototype.toString.call(e)}function cu(e){return e===10||e===13}function Hd(e){return e===9||e===32}function ao(e){return e===9||e===32||e===10||e===13}function $g(e){return e===44||e===91||e===93||e===123||e===125}function p$e(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function g$e(e){return e===120?2:e===117?4:e===85?8:0}function m$e(e){return 48<=e&&e<=57?e-48:-1}function yU(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function v$e(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var pre=new Array(256),gre=new Array(256);for(var dg=0;dg<256;dg++)pre[dg]=yU(dg)?1:0,gre[dg]=yU(dg);function y$e(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||c$e,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function mre(e,t){return new lre(t,new l$e(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function tn(e,t){throw mre(e,t)}function N4(e,t){e.onWarning&&e.onWarning.call(null,mre(e,t))}var bU={YAML:function(t,n,r){var a,o,l;t.version!==null&&tn(t,"duplication of %YAML directive"),r.length!==1&&tn(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),a===null&&tn(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),l=parseInt(a[2],10),o!==1&&tn(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&N4(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var a,o;r.length!==2&&tn(t,"TAG directive accepts exactly two arguments"),a=r[0],o=r[1],fre.test(a)||tn(t,"ill-formed tag handle (first argument) of the TAG directive"),j0.call(t.tagMap,a)&&tn(t,'there is a previously declared suffix for "'+a+'" tag handle'),dre.test(o)||tn(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[a]=o}};function P0(e,t,n,r){var a,o,l,u;if(t<n){if(u=e.input.slice(t,n),r)for(a=0,o=u.length;a<o;a+=1)l=u.charCodeAt(a),l===9||32<=l&&l<=1114111||tn(e,"expected valid JSON character");else h$e.test(u)&&tn(e,"the stream contains non-printable characters");e.result+=u}}function TU(e,t,n,r){var a,o,l,u;for(eh.isObject(n)||tn(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),l=0,u=a.length;l<u;l+=1)o=a[l],j0.call(t,o)||(t[o]=n[o],r[o]=!0)}function Wg(e,t,n,r,a,o,l,u){var h,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),h=0,f=a.length;h<f;h+=1)Array.isArray(a[h])&&tn(e,"nested arrays are not supported inside keys"),typeof a=="object"&&vU(a[h])==="[object Object]"&&(a[h]="[object Object]");if(typeof a=="object"&&vU(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(h=0,f=o.length;h<f;h+=1)TU(e,t,o[h],n);else TU(e,t,o,n);else!e.json&&!j0.call(n,a)&&j0.call(t,a)&&(e.line=l||e.line,e.position=u||e.position,tn(e,"duplicated mapping key")),t[a]=o,delete n[a];return t}function g9(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):tn(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Li(e,t,n){for(var r=0,a=e.input.charCodeAt(e.position);a!==0;){for(;Hd(a);)a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(cu(a))for(g9(e),a=e.input.charCodeAt(e.position),r++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&N4(e,"deficient indentation"),r}function DA(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||ao(n)))}function m9(e,t){t===1?e.result+=" ":t>1&&(e.result+=eh.repeat(`
`,t-1))}function b$e(e,t,n){var r,a,o,l,u,h,f,d,p=e.kind,g=e.result,m;if(m=e.input.charCodeAt(e.position),ao(m)||$g(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(a=e.input.charCodeAt(e.position+1),ao(a)||n&&$g(a)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,u=!1;m!==0;){if(m===58){if(a=e.input.charCodeAt(e.position+1),ao(a)||n&&$g(a))break}else if(m===35){if(r=e.input.charCodeAt(e.position-1),ao(r))break}else{if(e.position===e.lineStart&&DA(e)||n&&$g(m))break;if(cu(m))if(h=e.line,f=e.lineStart,d=e.lineIndent,Li(e,!1,-1),e.lineIndent>=t){u=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=h,e.lineStart=f,e.lineIndent=d;break}}u&&(P0(e,o,l,!1),m9(e,e.line-h),o=l=e.position,u=!1),Hd(m)||(l=e.position+1),m=e.input.charCodeAt(++e.position)}return P0(e,o,l,!1),e.result?!0:(e.kind=p,e.result=g,!1)}function T$e(e,t){var n,r,a;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(P0(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,a=e.position;else return!0;else cu(n)?(P0(e,r,a,!0),m9(e,Li(e,!1,t)),r=a=e.position):e.position===e.lineStart&&DA(e)?tn(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);tn(e,"unexpected end of the stream within a single quoted scalar")}function E$e(e,t){var n,r,a,o,l,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return P0(e,n,e.position,!0),e.position++,!0;if(u===92){if(P0(e,n,e.position,!0),u=e.input.charCodeAt(++e.position),cu(u))Li(e,!1,t);else if(u<256&&pre[u])e.result+=gre[u],e.position++;else if((l=g$e(u))>0){for(a=l,o=0;a>0;a--)u=e.input.charCodeAt(++e.position),(l=p$e(u))>=0?o=(o<<4)+l:tn(e,"expected hexadecimal character");e.result+=v$e(o),e.position++}else tn(e,"unknown escape sequence");n=r=e.position}else cu(u)?(P0(e,n,r,!0),m9(e,Li(e,!1,t)),n=r=e.position):e.position===e.lineStart&&DA(e)?tn(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}tn(e,"unexpected end of the stream within a double quoted scalar")}function w$e(e,t){var n=!0,r,a=e.tag,o,l=e.anchor,u,h,f,d,p,g={},m,y,b,T;if(T=e.input.charCodeAt(e.position),T===91)h=93,p=!1,o=[];else if(T===123)h=125,p=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),T=e.input.charCodeAt(++e.position);T!==0;){if(Li(e,!0,t),T=e.input.charCodeAt(e.position),T===h)return e.position++,e.tag=a,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=o,!0;n||tn(e,"missed comma between flow collection entries"),y=m=b=null,f=d=!1,T===63&&(u=e.input.charCodeAt(e.position+1),ao(u)&&(f=d=!0,e.position++,Li(e,!0,t))),r=e.line,wm(e,t,k4,!1,!0),y=e.tag,m=e.result,Li(e,!0,t),T=e.input.charCodeAt(e.position),(d||e.line===r)&&T===58&&(f=!0,T=e.input.charCodeAt(++e.position),Li(e,!0,t),wm(e,t,k4,!1,!0),b=e.result),p?Wg(e,o,g,y,m,b):f?o.push(Wg(e,null,g,y,m,b)):o.push(m),Li(e,!0,t),T=e.input.charCodeAt(e.position),T===44?(n=!0,T=e.input.charCodeAt(++e.position)):n=!1}tn(e,"unexpected end of the stream within a flow collection")}function x$e(e,t){var n,r,a=iR,o=!1,l=!1,u=t,h=0,f=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)iR===a?a=p===43?mU:u$e:tn(e,"repeat of a chomping mode identifier");else if((d=m$e(p))>=0)d===0?tn(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?tn(e,"repeat of an indentation width identifier"):(u=t+d-1,l=!0);else break;if(Hd(p)){do p=e.input.charCodeAt(++e.position);while(Hd(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!cu(p)&&p!==0)}for(;p!==0;){for(g9(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),cu(p)){h++;continue}if(e.lineIndent<u){a===mU?e.result+=eh.repeat(`
`,o?1+h:h):a===iR&&o&&(e.result+=`
`);break}for(r?Hd(p)?(f=!0,e.result+=eh.repeat(`
`,o?1+h:h)):f?(f=!1,e.result+=eh.repeat(`
`,h+1)):h===0?o&&(e.result+=" "):e.result+=eh.repeat(`
`,h):e.result+=eh.repeat(`
`,o?1+h:h),o=!0,l=!0,h=0,n=e.position;!cu(p)&&p!==0;)p=e.input.charCodeAt(++e.position);P0(e,n,e.position,!1)}return!0}function EU(e,t){var n,r=e.tag,a=e.anchor,o=[],l,u=!1,h;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),h=e.input.charCodeAt(e.position);h!==0&&!(h!==45||(l=e.input.charCodeAt(e.position+1),!ao(l)));){if(u=!0,e.position++,Li(e,!0,-1)&&e.lineIndent<=t){o.push(null),h=e.input.charCodeAt(e.position);continue}if(n=e.line,wm(e,t,hre,!1,!0),o.push(e.result),Li(e,!0,-1),h=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&h!==0)tn(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=r,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}function S$e(e,t,n){var r,a,o,l,u=e.tag,h=e.anchor,f={},d={},p=null,g=null,m=null,y=!1,b=!1,T;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),T=e.input.charCodeAt(e.position);T!==0;){if(r=e.input.charCodeAt(e.position+1),o=e.line,l=e.position,(T===63||T===58)&&ao(r))T===63?(y&&(Wg(e,f,d,p,g,null),p=g=m=null),b=!0,y=!0,a=!0):y?(y=!1,a=!0):tn(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,T=r;else if(wm(e,n,ure,!1,!0))if(e.line===o){for(T=e.input.charCodeAt(e.position);Hd(T);)T=e.input.charCodeAt(++e.position);if(T===58)T=e.input.charCodeAt(++e.position),ao(T)||tn(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Wg(e,f,d,p,g,null),p=g=m=null),b=!0,y=!1,a=!1,p=e.tag,g=e.result;else if(b)tn(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=h,!0}else if(b)tn(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=h,!0;else break;if((e.line===o||e.lineIndent>t)&&(wm(e,t,O4,!0,a)&&(y?g=e.result:m=e.result),y||(Wg(e,f,d,p,g,m,o,l),p=g=m=null),Li(e,!0,-1),T=e.input.charCodeAt(e.position)),e.lineIndent>t&&T!==0)tn(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Wg(e,f,d,p,g,null),b&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=f),b}function A$e(e){var t,n=!1,r=!1,a,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&tn(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(r=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):tn(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!ao(l);)l===33&&(r?tn(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),fre.test(a)||tn(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),d$e.test(o)&&tn(e,"tag suffix cannot contain flow indicator characters")}return o&&!dre.test(o)&&tn(e,"tag name cannot contain such characters: "+o),n?e.tag=o:j0.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:tn(e,'undeclared tag handle "'+a+'"'),!0}function I$e(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&tn(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ao(n)&&!$g(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&tn(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function C$e(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ao(r)&&!$g(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&tn(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),j0.call(e.anchorMap,n)||tn(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Li(e,!0,-1),!0}function wm(e,t,n,r,a){var o,l,u,h=1,f=!1,d=!1,p,g,m,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=u=O4===n||hre===n,r&&Li(e,!0,-1)&&(f=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),h===1)for(;A$e(e)||I$e(e);)Li(e,!0,-1)?(f=!0,u=o,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):u=!1;if(u&&(u=f||a),(h===1||O4===n)&&(k4===n||ure===n?y=t:y=t+1,b=e.position-e.lineStart,h===1?u&&(EU(e,b)||S$e(e,b,y))||w$e(e,y)?d=!0:(l&&x$e(e,y)||T$e(e,y)||E$e(e,y)?d=!0:C$e(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&tn(e,"alias node should not have any properties")):b$e(e,y,k4===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):h===0&&(d=u&&EU(e,b))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&tn(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,g=e.implicitTypes.length;p<g;p+=1)if(m=e.implicitTypes[p],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else j0.call(e.typeMap[e.kind||"fallback"],e.tag)?(m=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&m.kind!==e.kind&&tn(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result)?(e.result=m.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):tn(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):tn(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function R$e(e){var t=e.position,n,r,a,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(l=e.input.charCodeAt(e.position))!==0&&(Li(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!ao(l);)l=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),a=[],r.length<1&&tn(e,"directive name must not be less than one character in length");l!==0;){for(;Hd(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!cu(l));break}if(cu(l))break;for(n=e.position;l!==0&&!ao(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(n,e.position))}l!==0&&g9(e),j0.call(bU,r)?bU[r](e,r,a):N4(e,'unknown document directive "'+r+'"')}if(Li(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Li(e,!0,-1)):o&&tn(e,"directives end mark is expected"),wm(e,e.lineIndent-1,O4,!1,!0),Li(e,!0,-1),e.checkLineBreaks&&f$e.test(e.input.slice(t,e.position))&&N4(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&DA(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Li(e,!0,-1));return}if(e.position<e.length-1)tn(e,"end of the stream or a document separator is expected");else return}function vre(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new y$e(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,tn(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)R$e(n);return n.documents}function yre(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=vre(e,n);if(typeof t!="function")return r;for(var a=0,o=r.length;a<o;a+=1)t(r[a])}function bre(e,t){var n=vre(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new lre("expected a single document in the stream, but found more")}}function k$e(e,t,n){return typeof t=="object"&&t!==null&&typeof n>"u"&&(n=t,t=null),yre(e,t,eh.extend({schema:cre},n))}function O$e(e,t){return bre(e,eh.extend({schema:cre},t))}ZT.loadAll=yre;ZT.load=bre;ZT.safeLoadAll=k$e;ZT.safeLoad=O$e;var v9={},eE=Pl,tE=QT,N$e=_A,L$e=JT,Tre=Object.prototype.toString,Ere=Object.prototype.hasOwnProperty,_$e=9,Lb=10,D$e=13,M$e=32,P$e=33,F$e=34,wre=35,B$e=37,H$e=38,$$e=39,W$e=42,xre=44,U$e=45,Sre=58,G$e=61,z$e=62,Y$e=63,V$e=64,Are=91,Ire=93,q$e=96,Cre=123,j$e=124,Rre=125,as={};as[0]="\\0";as[7]="\\a";as[8]="\\b";as[9]="\\t";as[10]="\\n";as[11]="\\v";as[12]="\\f";as[13]="\\r";as[27]="\\e";as[34]='\\"';as[92]="\\\\";as[133]="\\N";as[160]="\\_";as[8232]="\\L";as[8233]="\\P";var X$e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function K$e(e,t){var n,r,a,o,l,u,h;if(t===null)return{};for(n={},r=Object.keys(t),a=0,o=r.length;a<o;a+=1)l=r[a],u=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),h=e.compiledTypeMap.fallback[l],h&&Ere.call(h.styleAliases,u)&&(u=h.styleAliases[u]),n[l]=u;return n}function wU(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new tE("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+eE.repeat("0",r-t.length)+t}function Z$e(e){this.schema=e.schema||N$e,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=eE.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=K$e(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function xU(e,t){for(var n=eE.repeat(" ",t),r=0,a=-1,o="",l,u=e.length;r<u;)a=e.indexOf(`
`,r),a===-1?(l=e.slice(r),r=u):(l=e.slice(r,a+1),r=a+1),l.length&&l!==`
`&&(o+=n),o+=l;return o}function cN(e,t){return`
`+eE.repeat(" ",e.indent*t)}function Q$e(e,t){var n,r,a;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(a=e.implicitTypes[n],a.resolve(t))return!0;return!1}function y9(e){return e===M$e||e===_$e}function xm(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function J$e(e){return xm(e)&&!y9(e)&&e!==65279&&e!==D$e&&e!==Lb}function SU(e,t){return xm(e)&&e!==65279&&e!==xre&&e!==Are&&e!==Ire&&e!==Cre&&e!==Rre&&e!==Sre&&(e!==wre||t&&J$e(t))}function eWe(e){return xm(e)&&e!==65279&&!y9(e)&&e!==U$e&&e!==Y$e&&e!==Sre&&e!==xre&&e!==Are&&e!==Ire&&e!==Cre&&e!==Rre&&e!==wre&&e!==H$e&&e!==W$e&&e!==P$e&&e!==j$e&&e!==G$e&&e!==z$e&&e!==$$e&&e!==F$e&&e!==B$e&&e!==V$e&&e!==q$e}function kre(e){var t=/^\n* /;return t.test(e)}var Ore=1,Nre=2,Lre=3,_re=4,ax=5;function tWe(e,t,n,r,a){var o,l,u,h=!1,f=!1,d=r!==-1,p=-1,g=eWe(e.charCodeAt(0))&&!y9(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(l=e.charCodeAt(o),!xm(l))return ax;u=o>0?e.charCodeAt(o-1):null,g=g&&SU(l,u)}else{for(o=0;o<e.length;o++){if(l=e.charCodeAt(o),l===Lb)h=!0,d&&(f=f||o-p-1>r&&e[p+1]!==" ",p=o);else if(!xm(l))return ax;u=o>0?e.charCodeAt(o-1):null,g=g&&SU(l,u)}f=f||d&&o-p-1>r&&e[p+1]!==" "}return!h&&!f?g&&!a(e)?Ore:Nre:n>9&&kre(e)?ax:f?_re:Lre}function nWe(e,t,n,r){e.dump=function(){if(t.length===0)return"''";if(!e.noCompatMode&&X$e.indexOf(t)!==-1)return"'"+t+"'";var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=r||e.flowLevel>-1&&n>=e.flowLevel;function u(h){return Q$e(e,h)}switch(tWe(t,l,e.indent,o,u)){case Ore:return t;case Nre:return"'"+t.replace(/'/g,"''")+"'";case Lre:return"|"+AU(t,e.indent)+IU(xU(t,a));case _re:return">"+AU(t,e.indent)+IU(xU(rWe(t,o),a));case ax:return'"'+iWe(t)+'"';default:throw new tE("impossible error: invalid scalar style")}}()}function AU(e,t){var n=kre(e)?String(t):"",r=e[e.length-1]===`
`,a=r&&(e[e.length-2]===`
`||e===`
`),o=a?"+":r?"":"-";return n+o+`
`}function IU(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function rWe(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,n.lastIndex=f,CU(e.slice(0,f),t)}(),a=e[0]===`
`||e[0]===" ",o,l;l=n.exec(e);){var u=l[1],h=l[2];o=h[0]===" ",r+=u+(!a&&!o&&h!==""?`
`:"")+CU(h,t),a=o}return r}function CU(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,a=0,o,l=0,u=0,h="";r=n.exec(e);)u=r.index,u-a>t&&(o=l>a?l:u,h+=`
`+e.slice(a,o),a=o+1),l=u;return h+=`
`,e.length-a>t&&l>a?h+=e.slice(a,l)+`
`+e.slice(l+1):h+=e.slice(a),h.slice(1)}function iWe(e){for(var t="",n,r,a,o=0;o<e.length;o++){if(n=e.charCodeAt(o),n>=55296&&n<=56319&&(r=e.charCodeAt(o+1),r>=56320&&r<=57343)){t+=wU((n-55296)*1024+r-56320+65536),o++;continue}a=as[n],t+=!a&&xm(n)?e[o]:a||wU(n)}return t}function aWe(e,t,n){var r="",a=e.tag,o,l;for(o=0,l=n.length;o<l;o+=1)Kd(e,t,n[o],!1,!1)&&(o!==0&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=a,e.dump="["+r+"]"}function sWe(e,t,n,r){var a="",o=e.tag,l,u;for(l=0,u=n.length;l<u;l+=1)Kd(e,t+1,n[l],!0,!0)&&((!r||l!==0)&&(a+=cN(e,t)),e.dump&&Lb===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}function oWe(e,t,n){var r="",a=e.tag,o=Object.keys(n),l,u,h,f,d;for(l=0,u=o.length;l<u;l+=1)d="",l!==0&&(d+=", "),e.condenseFlow&&(d+='"'),h=o[l],f=n[h],Kd(e,t,h,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Kd(e,t,f,!1,!1)&&(d+=e.dump,r+=d));e.tag=a,e.dump="{"+r+"}"}function lWe(e,t,n,r){var a="",o=e.tag,l=Object.keys(n),u,h,f,d,p,g;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new tE("sortKeys must be a boolean or a function");for(u=0,h=l.length;u<h;u+=1)g="",(!r||u!==0)&&(g+=cN(e,t)),f=l[u],d=n[f],Kd(e,t+1,f,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Lb===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,p&&(g+=cN(e,t)),Kd(e,t+1,d,!0,p)&&(e.dump&&Lb===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,a+=g));e.tag=o,e.dump=a||"{}"}function RU(e,t,n){var r,a,o,l,u,h;for(a=n?e.explicitTypes:e.implicitTypes,o=0,l=a.length;o<l;o+=1)if(u=a[o],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(e.tag=n?u.tag:"?",u.represent){if(h=e.styleMap[u.tag]||u.defaultStyle,Tre.call(u.represent)==="[object Function]")r=u.represent(t,h);else if(Ere.call(u.represent,h))r=u.represent[h](t,h);else throw new tE("!<"+u.tag+'> tag resolver accepts not "'+h+'" style');e.dump=r}return!0}return!1}function Kd(e,t,n,r,a,o){e.tag=null,e.dump=n,RU(e,n,!1)||RU(e,n,!0);var l=Tre.call(e.dump);r&&(r=e.flowLevel<0||e.flowLevel>t);var u=l==="[object Object]"||l==="[object Array]",h,f;if(u&&(h=e.duplicates.indexOf(n),f=h!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(a=!1),f&&e.usedDuplicates[h])e.dump="*ref_"+h;else{if(u&&f&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0),l==="[object Object]")r&&Object.keys(e.dump).length!==0?(lWe(e,t,e.dump,a),f&&(e.dump="&ref_"+h+e.dump)):(oWe(e,t,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump));else if(l==="[object Array]"){var d=e.noArrayIndent&&t>0?t-1:t;r&&e.dump.length!==0?(sWe(e,d,e.dump,a),f&&(e.dump="&ref_"+h+e.dump)):(aWe(e,d,e.dump),f&&(e.dump="&ref_"+h+" "+e.dump))}else if(l==="[object String]")e.tag!=="?"&&nWe(e,e.dump,t,o);else{if(e.skipInvalid)return!1;throw new tE("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function cWe(e,t){var n=[],r=[],a,o;for(uN(e,n,r),a=0,o=r.length;a<o;a+=1)t.duplicates.push(n[r[a]]);t.usedDuplicates=new Array(o)}function uN(e,t,n){var r,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)n.indexOf(a)===-1&&n.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)uN(e[a],t,n);else for(r=Object.keys(e),a=0,o=r.length;a<o;a+=1)uN(e[r[a]],t,n)}function Dre(e,t){t=t||{};var n=new Z$e(t);return n.noRefs||cWe(e,n),Kd(n,0,e,!0,!0)?n.dump+`
`:""}function uWe(e,t){return Dre(e,eE.extend({schema:L$e},t))}v9.dump=Dre;v9.safeDump=uWe;var MA=ZT,Mre=v9;function PA(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}oi.Type=ha;oi.Schema=Cv;oi.FAILSAFE_SCHEMA=d9;oi.JSON_SCHEMA=rre;oi.CORE_SCHEMA=ire;oi.DEFAULT_SAFE_SCHEMA=JT;oi.DEFAULT_FULL_SCHEMA=_A;oi.load=MA.load;oi.loadAll=MA.loadAll;oi.safeLoad=MA.safeLoad;oi.safeLoadAll=MA.safeLoadAll;oi.dump=Mre.dump;oi.safeDump=Mre.safeDump;oi.YAMLException=QT;oi.MINIMAL_SCHEMA=d9;oi.SAFE_SCHEMA=JT;oi.DEFAULT_SCHEMA=_A;oi.scan=PA("scan");oi.parse=PA("parse");oi.compose=PA("compose");oi.addConstructor=PA("addConstructor");var hWe=oi,fWe=hWe,dWe=fWe,pWe="\\ufeff?",gWe=typeof process<"u"?process.platform:"",mWe="^("+pWe+"(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+(gWe==="win32"?"\\r?":"")+"(?:\\n)?)",Pre=new RegExp(mWe,"m");h9.exports=vWe;h9.exports.test=TWe;function vWe(e){e=e||"";var t=e.split(/(\r?\n)/);return t[0]&&/= yaml =|---/.test(t[0])?bWe(e):{attributes:{},body:e,bodyBegin:1}}function yWe(e,t){for(var n=1,r=t.indexOf(`
`),a=e.index+e[0].length;r!==-1;){if(r>=a)return n;n++,r=t.indexOf(`
`,r+1)}return n}function bWe(e){var t=Pre.exec(e);if(!t)return{attributes:{},body:e,bodyBegin:1};var n=t[t.length-1].replace(/^\s+|\s+$/g,""),r=dWe.load(n)||{},a=e.replace(t[0],""),o=yWe(t,e);return{attributes:r,body:a,bodyBegin:o,frontmatter:n}}function TWe(e){return e=e||"",Pre.test(e)}var EWe=h9.exports;const wWe=dBe,xWe=EWe,SWe=()=>(t,n)=>(wWe(t,"code",r=>{const a=xWe(r.value);r.frontmatter=a.attributes,r.value=a.body}),t);var AWe=SWe;const IWe=Go(AWe),CWe={role:"group"},RWe=["src"],kWe=["value"],OWe=["disabled"],NWe={class:"sliders"},LWe=["max"],_We=["value"],DWe=Tu({__name:"AudioScrubber",props:{duration:{default:0},durationModifiers:{}},emits:["update:duration"],setup(e){const t=TZ(e,"duration"),n=dh(),r=hn(""),a=hn("Play"),o=hn(0),l=hn(0),u=hn(0),h=hn(0),f=hn(0),d=hn(0),p=hn(0),g=hn(),m=bi(()=>i1(d.value*1e3,"mm:ss")),y=bi(()=>i1(p.value*1e3,"mm:ss"));function b(){d.value=60*l.value+u.value}const{copy:T}=m4e({source:m.value});U0(()=>{var A,R,C,N;(A=g.value)==null||A.addEventListener("loadedmetadata",O=>{a.value="Play",t.value=O.target.duration,console.log(m.value)}),(R=g.value)==null||R.addEventListener("play",()=>{a.value="Stop"}),(C=g.value)==null||C.addEventListener("pause",O=>{a.value="Play",O.target.currentTime=d.value,console.log("seek to",d.value)}),(N=g.value)==null||N.addEventListener("timeupdate",O=>{p.value=O.target.currentTime})}),ic(f,A=>{h.value=A-d.value}),ic(d,A=>{o.value=Math.floor(A/(60*60)),l.value=Math.floor((A-o.value*60*60)/60),u.value=A-o.value*60*60-l.value*60,g.value.currentTime=d.value,A>=f.value&&(f.value=A)});const E=bi(()=>{const A=n.findItemByHref(""+r.value);return A==null?void 0:A.getContentUrl()});function w(){var A;if(r.value!=""){const R=n.findItemByHref(""+r.value),C=R==null?void 0:R.getContentUrl();(A=g.value)==null||A.setAttribute("src",C)}}const x=bi(()=>n.getAudioItems());function S(){g.value&&(g.value.paused?g.value.play():g.value.pause())}return(A,R)=>(br(),Jr("form",null,[Qe("fieldset",CWe,[Qe("audio",{src:E.value,ref_key:"audioEl",ref:g,style:{display:"none"}},null,8,RWe),Hi(Qe("select",{name:"",id:"","onUpdate:modelValue":R[0]||(R[0]=C=>r.value=C),onChange:w},[R[6]||(R[6]=Qe("option",{disabled:"",value:""},"Audio track",-1)),(br(!0),Jr(xa,null,e4(x.value,C=>(br(),Jr("option",{value:C.href,key:C.href},No(C.id),9,kWe))),128))],544),[[NZ,r.value]]),Qe("button",{onClick:fd(S,["prevent"]),disabled:r.value==""},No(a.value),9,OWe),Qe("div",NWe,[Hi(Qe("input",{type:"range",name:"begin",id:"begin","onUpdate:modelValue":R[1]||(R[1]=C=>d.value=C),max:t.value},null,8,LWe),[[Ts,d.value]])]),Hi(Qe("input",{type:"number",name:"",id:"","onUpdate:modelValue":R[2]||(R[2]=C=>o.value=C),max:"2",min:"0"},null,512),[[Ts,o.value]]),Hi(Qe("input",{type:"number",name:"",id:"",onChange:b,"onUpdate:modelValue":R[3]||(R[3]=C=>l.value=C),max:"59",min:"0"},null,544),[[Ts,l.value]]),Hi(Qe("input",{type:"number",name:"",id:"",onChange:b,"onUpdate:modelValue":R[4]||(R[4]=C=>u.value=C),max:"59",min:"0"},null,544),[[Ts,u.value]]),Qe("input",{type:"text",name:"",id:"",size:"6",readonly:"",onClick:R[5]||(R[5]=C=>Vn(T)(m.value.value)),value:m.value.value},null,8,_We),Qr(No(y.value),1),R[7]||(R[7]=Qe("br",null,null,-1)),Qr(No(Vn(i1)(t.value*1e3,"mm:ss")),1)])]))}}),MWe=hv(DWe,[["__scopeId","data-v-4a28b15d"]]);new DOMParser;function PWe(e,t){const n=FWe(e);return cee(n)}function FWe(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const kU=function(e,t,n){const r=pv(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},OU=/\n/g,NU=/[\t ]+/g,hN=wc("br"),LU=wc(YWe),BWe=wc("p"),_U=wc("tr"),HWe=wc(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",zWe,VWe]),Fre=wc(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function $We(e,t){const n=t||{},r="children"in e?e.children:[],a=Fre(e),o=$re(e,{whitespace:n.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...Hre(e,{breakBefore:!0,breakAfter:!0}));let u=-1;for(;++u<r.length;)l.push(...Bre(r[u],e,{whitespace:o,breakBefore:u?void 0:a,breakAfter:u<r.length-1?hN(r[u+1]):a}));const h=[];let f;for(u=-1;++u<l.length;){const d=l[u];typeof d=="number"?f!==void 0&&d>f&&(f=d):d&&(f!==void 0&&f>-1&&h.push(`
`.repeat(f)||" "),f=-1,h.push(d))}return h.join("")}function Bre(e,t,n){return e.type==="element"?WWe(e,t,n):e.type==="text"?n.whitespace==="normal"?Hre(e,n):UWe(e):[]}function WWe(e,t,n){const r=$re(e,n),a=e.children||[];let o=-1,l=[];if(HWe(e))return l;let u,h;for(hN(e)||_U(e)&&kU(t,e,_U)?h=`
`:BWe(e)?(u=2,h=2):Fre(e)&&(u=1,h=1);++o<a.length;)l=l.concat(Bre(a[o],e,{whitespace:r,breakBefore:o?void 0:u,breakAfter:o<a.length-1?hN(a[o+1]):h}));return LU(e)&&kU(t,e,LU)&&l.push("	"),u&&l.unshift(u),h&&l.push(h),l}function Hre(e,t){const n=String(e.value),r=[],a=[];let o=0;for(;o<=n.length;){OU.lastIndex=o;const h=OU.exec(n),f=h&&"index"in h?h.index:n.length;r.push(GWe(n.slice(o,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,f===n.length?t.breakAfter:!0)),o=f+1}let l=-1,u;for(;++l<r.length;)r[l].charCodeAt(r[l].length-1)===8203||l<r.length-1&&r[l+1].charCodeAt(0)===8203?(a.push(r[l]),u=void 0):r[l]?(typeof u=="number"&&a.push(u),a.push(r[l]),u=0):(l===0||l===r.length-1)&&a.push(0);return a}function UWe(e){return[String(e.value)]}function GWe(e,t,n){const r=[];let a=0,o;for(;a<e.length;){NU.lastIndex=a;const l=NU.exec(e);o=l?l.index:e.length,!a&&!o&&l&&!t&&r.push(""),a!==o&&r.push(e.slice(a,o)),a=l?o+l[0].length:o}return a!==o&&!n&&r.push(""),r.join(" ")}function $re(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function zWe(e){return!!(e.properties||{}).hidden}function YWe(e){return e.tagName==="td"||e.tagName==="th"}function VWe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}var Wre={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cs,function(){var n=1e3,r=6e4,a=36e5,o="millisecond",l="second",u="minute",h="hour",f="day",d="week",p="month",g="quarter",m="year",y="date",b="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var F=["th","st","nd","rd"],B=_%100;return"["+_+(F[(B-20)%10]||F[B]||F[0])+"]"}},x=function(_,F,B){var D=String(_);return!D||D.length>=F?_:""+Array(F+1-D.length).join(B)+_},S={s:x,z:function(_){var F=-_.utcOffset(),B=Math.abs(F),D=Math.floor(B/60),P=B%60;return(F<=0?"+":"-")+x(D,2,"0")+":"+x(P,2,"0")},m:function _(F,B){if(F.date()<B.date())return-_(B,F);var D=12*(B.year()-F.year())+(B.month()-F.month()),P=F.clone().add(D,p),H=B-P<0,W=F.clone().add(D+(H?-1:1),p);return+(-(D+(B-P)/(H?P-W:W-P))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:p,y:m,w:d,d:f,D:y,h,m:u,s:l,ms:o,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},A="en",R={};R[A]=w;var C="$isDayjsObject",N=function(_){return _ instanceof M||!(!_||!_[C])},O=function _(F,B,D){var P;if(!F)return A;if(typeof F=="string"){var H=F.toLowerCase();R[H]&&(P=H),B&&(R[H]=B,P=H);var W=F.split("-");if(!P&&W.length>1)return _(W[0])}else{var U=F.name;R[U]=F,P=U}return!D&&P&&(A=P),P||!D&&A},L=function(_,F){if(N(_))return _.clone();var B=typeof F=="object"?F:{};return B.date=_,B.args=arguments,new M(B)},k=S;k.l=O,k.i=N,k.w=function(_,F){return L(_,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var M=function(){function _(B){this.$L=O(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[C]=!0}var F=_.prototype;return F.parse=function(B){this.$d=function(D){var P=D.date,H=D.utc;if(P===null)return new Date(NaN);if(k.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var W=P.match(T);if(W){var U=W[2]-1||0,V=(W[7]||"0").substring(0,3);return H?new Date(Date.UTC(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,V)):new Date(W[1],U,W[3]||1,W[4]||0,W[5]||0,W[6]||0,V)}}return new Date(P)}(B),this.init()},F.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},F.$utils=function(){return k},F.isValid=function(){return this.$d.toString()!==b},F.isSame=function(B,D){var P=L(B);return this.startOf(D)<=P&&P<=this.endOf(D)},F.isAfter=function(B,D){return L(B)<this.startOf(D)},F.isBefore=function(B,D){return this.endOf(D)<L(B)},F.$g=function(B,D,P){return k.u(B)?this[D]:this.set(P,B)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(B,D){var P=this,H=!!k.u(D)||D,W=k.p(B),U=function(Y,K){var Z=k.w(P.$u?Date.UTC(P.$y,K,Y):new Date(P.$y,K,Y),P);return H?Z:Z.endOf(f)},V=function(Y,K){return k.w(P.toDate()[Y].apply(P.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(K)),P)},G=this.$W,ee=this.$M,ce=this.$D,Q="set"+(this.$u?"UTC":"");switch(W){case m:return H?U(1,0):U(31,11);case p:return H?U(1,ee):U(0,ee+1);case d:var re=this.$locale().weekStart||0,le=(G<re?G+7:G)-re;return U(H?ce-le:ce+(6-le),ee);case f:case y:return V(Q+"Hours",0);case h:return V(Q+"Minutes",1);case u:return V(Q+"Seconds",2);case l:return V(Q+"Milliseconds",3);default:return this.clone()}},F.endOf=function(B){return this.startOf(B,!1)},F.$set=function(B,D){var P,H=k.p(B),W="set"+(this.$u?"UTC":""),U=(P={},P[f]=W+"Date",P[y]=W+"Date",P[p]=W+"Month",P[m]=W+"FullYear",P[h]=W+"Hours",P[u]=W+"Minutes",P[l]=W+"Seconds",P[o]=W+"Milliseconds",P)[H],V=H===f?this.$D+(D-this.$W):D;if(H===p||H===m){var G=this.clone().set(y,1);G.$d[U](V),G.init(),this.$d=G.set(y,Math.min(this.$D,G.daysInMonth())).$d}else U&&this.$d[U](V);return this.init(),this},F.set=function(B,D){return this.clone().$set(B,D)},F.get=function(B){return this[k.p(B)]()},F.add=function(B,D){var P,H=this;B=Number(B);var W=k.p(D),U=function(ee){var ce=L(H);return k.w(ce.date(ce.date()+Math.round(ee*B)),H)};if(W===p)return this.set(p,this.$M+B);if(W===m)return this.set(m,this.$y+B);if(W===f)return U(1);if(W===d)return U(7);var V=(P={},P[u]=r,P[h]=a,P[l]=n,P)[W]||1,G=this.$d.getTime()+B*V;return k.w(G,this)},F.subtract=function(B,D){return this.add(-1*B,D)},F.format=function(B){var D=this,P=this.$locale();if(!this.isValid())return P.invalidDate||b;var H=B||"YYYY-MM-DDTHH:mm:ssZ",W=k.z(this),U=this.$H,V=this.$m,G=this.$M,ee=P.weekdays,ce=P.months,Q=P.meridiem,re=function(K,Z,z,X){return K&&(K[Z]||K(D,H))||z[Z].slice(0,X)},le=function(K){return k.s(U%12||12,K,"0")},Y=Q||function(K,Z,z){var X=K<12?"AM":"PM";return z?X.toLowerCase():X};return H.replace(E,function(K,Z){return Z||function(z){switch(z){case"YY":return String(D.$y).slice(-2);case"YYYY":return k.s(D.$y,4,"0");case"M":return G+1;case"MM":return k.s(G+1,2,"0");case"MMM":return re(P.monthsShort,G,ce,3);case"MMMM":return re(ce,G);case"D":return D.$D;case"DD":return k.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return re(P.weekdaysMin,D.$W,ee,2);case"ddd":return re(P.weekdaysShort,D.$W,ee,3);case"dddd":return ee[D.$W];case"H":return String(U);case"HH":return k.s(U,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return Y(U,V,!0);case"A":return Y(U,V,!1);case"m":return String(V);case"mm":return k.s(V,2,"0");case"s":return String(D.$s);case"ss":return k.s(D.$s,2,"0");case"SSS":return k.s(D.$ms,3,"0");case"Z":return W}return null}(K)||W.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(B,D,P){var H,W=this,U=k.p(D),V=L(B),G=(V.utcOffset()-this.utcOffset())*r,ee=this-V,ce=function(){return k.m(W,V)};switch(U){case m:H=ce()/12;break;case p:H=ce();break;case g:H=ce()/3;break;case d:H=(ee-G)/6048e5;break;case f:H=(ee-G)/864e5;break;case h:H=ee/a;break;case u:H=ee/r;break;case l:H=ee/n;break;default:H=ee}return P?H:k.a(H)},F.daysInMonth=function(){return this.endOf(p).$D},F.$locale=function(){return R[this.$L]},F.locale=function(B,D){if(!B)return this.$L;var P=this.clone(),H=O(B,D,!0);return H&&(P.$L=H),P},F.clone=function(){return k.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},_}(),$=M.prototype;return L.prototype=$,[["$ms",o],["$s",l],["$m",u],["$H",h],["$W",f],["$M",p],["$y",m],["$D",y]].forEach(function(_){$[_[1]]=function(F){return this.$g(F,_[0],_[1])}}),L.extend=function(_,F){return _.$i||(_(F,M,L),_.$i=!0),L},L.locale=O,L.isDayjs=N,L.unix=function(_){return L(1e3*_)},L.en=R[A],L.Ls=R,L.p={},L})})(Wre);var qWe=Wre.exports;const Xa=Go(qWe),sx={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},r)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const a=n<.5?n*(1+t):n+t-n*t,o=2*n-a;switch(r){case"r":return sx.hue2rgb(o,a,e+1/3)*255;case"g":return sx.hue2rgb(o,a,e)*255;case"b":return sx.hue2rgb(o,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},r)=>{e/=255,t/=255,n/=255;const a=Math.max(e,t,n),o=Math.min(e,t,n),l=(a+o)/2;if(r==="l")return l*100;if(a===o)return 0;const u=a-o,h=l>.5?u/(2-a-o):u/(a+o);if(r==="s")return h*100;switch(a){case e:return((t-n)/u+(t<n?6:0))*60;case t:return((n-e)/u+2)*60;case n:return((e-t)/u+4)*60;default:return-1}}},jWe={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},XWe={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},on={channel:sx,lang:jWe,unit:XWe},p0={};for(let e=0;e<=255;e++)p0[e]=on.unit.dec2hex(e);const $a={ALL:0,RGB:1,HSL:2};let KWe=class{constructor(){this.type=$a.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=$a.ALL}is(t){return this.type===t}};class ZWe{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new KWe}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=$a.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:r,l:a}=t;n===void 0&&(t.h=on.channel.rgb2hsl(t,"h")),r===void 0&&(t.s=on.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=on.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:r,b:a}=t;n===void 0&&(t.r=on.channel.hsl2rgb(t,"r")),r===void 0&&(t.g=on.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=on.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is($a.HSL)&&n!==void 0?n:(this._ensureHSL(),on.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is($a.HSL)&&n!==void 0?n:(this._ensureHSL(),on.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is($a.HSL)&&n!==void 0?n:(this._ensureHSL(),on.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is($a.RGB)&&n!==void 0?n:(this._ensureRGB(),on.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is($a.RGB)&&n!==void 0?n:(this._ensureRGB(),on.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is($a.RGB)&&n!==void 0?n:(this._ensureRGB(),on.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set($a.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set($a.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set($a.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set($a.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set($a.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set($a.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const FA=new ZWe({r:0,g:0,b:0,a:0},"transparent"),p1={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(p1.re);if(!t)return;const n=t[1],r=parseInt(n,16),a=n.length,o=a%4===0,l=a>4,u=l?1:17,h=l?8:4,f=o?0:-1,d=l?255:15;return FA.set({r:(r>>h*(f+3)&d)*u,g:(r>>h*(f+2)&d)*u,b:(r>>h*(f+1)&d)*u,a:o?(r&d)*u/255:1},e)},stringify:e=>{const{r:t,g:n,b:r,a}=e;return a<1?`#${p0[Math.round(t)]}${p0[Math.round(n)]}${p0[Math.round(r)]}${p0[Math.round(a*255)]}`:`#${p0[Math.round(t)]}${p0[Math.round(n)]}${p0[Math.round(r)]}`}},Id={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Id.hueRe);if(t){const[,n,r]=t;switch(r){case"grad":return on.channel.clamp.h(parseFloat(n)*.9);case"rad":return on.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return on.channel.clamp.h(parseFloat(n)*360)}}return on.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(Id.re);if(!n)return;const[,r,a,o,l,u]=n;return FA.set({h:Id._hue2deg(r),s:on.channel.clamp.s(parseFloat(a)),l:on.channel.clamp.l(parseFloat(o)),a:l?on.channel.clamp.a(u?parseFloat(l)/100:parseFloat(l)):1},e)},stringify:e=>{const{h:t,s:n,l:r,a}=e;return a<1?`hsla(${on.lang.round(t)}, ${on.lang.round(n)}%, ${on.lang.round(r)}%, ${a})`:`hsl(${on.lang.round(t)}, ${on.lang.round(n)}%, ${on.lang.round(r)}%)`}},Y2={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Y2.colors[e];if(t)return p1.parse(t)},stringify:e=>{const t=p1.stringify(e);for(const n in Y2.colors)if(Y2.colors[n]===t)return n}},n2={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(n2.re);if(!n)return;const[,r,a,o,l,u,h,f,d]=n;return FA.set({r:on.channel.clamp.r(a?parseFloat(r)*2.55:parseFloat(r)),g:on.channel.clamp.g(l?parseFloat(o)*2.55:parseFloat(o)),b:on.channel.clamp.b(h?parseFloat(u)*2.55:parseFloat(u)),a:f?on.channel.clamp.a(d?parseFloat(f)/100:parseFloat(f)):1},e)},stringify:e=>{const{r:t,g:n,b:r,a}=e;return a<1?`rgba(${on.lang.round(t)}, ${on.lang.round(n)}, ${on.lang.round(r)}, ${on.lang.round(a)})`:`rgb(${on.lang.round(t)}, ${on.lang.round(n)}, ${on.lang.round(r)})`}},yc={format:{keyword:Y2,hex:p1,rgb:n2,rgba:n2,hsl:Id,hsla:Id},parse:e=>{if(typeof e!="string")return e;const t=p1.parse(e)||n2.parse(e)||Id.parse(e)||Y2.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is($a.HSL)||e.data.r===void 0?Id.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?n2.stringify(e):p1.stringify(e)},Ure=(e,t)=>{const n=yc.parse(e);for(const r in t)n[r]=on.channel.clamp[r](t[r]);return yc.stringify(n)},$d=(e,t,n=0,r=1)=>{if(typeof e!="number")return Ure(e,{a:t});const a=FA.set({r:on.channel.clamp.r(e),g:on.channel.clamp.g(t),b:on.channel.clamp.b(n),a:on.channel.clamp.a(r)});return yc.stringify(a)},Gre=(e,t)=>on.lang.round(yc.parse(e)[t]),QWe=e=>{const{r:t,g:n,b:r}=yc.parse(e),a=.2126*on.channel.toLinear(t)+.7152*on.channel.toLinear(n)+.0722*on.channel.toLinear(r);return on.lang.round(a)},JWe=e=>QWe(e)>=.5,Sf=e=>!JWe(e),zre=(e,t,n)=>{const r=yc.parse(e),a=r[t],o=on.channel.clamp[t](a+n);return a!==o&&(r[t]=o),yc.stringify(r)},Dt=(e,t)=>zre(e,"l",t),Gt=(e,t)=>zre(e,"l",-t),Ue=(e,t)=>{const n=yc.parse(e),r={};for(const a in t)t[a]&&(r[a]=n[a]+t[a]);return Ure(e,r)},eUe=(e,t,n=50)=>{const{r,g:a,b:o,a:l}=yc.parse(e),{r:u,g:h,b:f,a:d}=yc.parse(t),p=n/100,g=p*2-1,m=l-d,b=((g*m===-1?g:(g+m)/(1+g*m))+1)/2,T=1-b,E=r*b+u*T,w=a*b+h*T,x=o*b+f*T,S=l*p+d*(1-p);return $d(E,w,x,S)},xt=(e,t=100)=>{const n=yc.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,eUe(n,e,t)};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Yre,setPrototypeOf:DU,isFrozen:tUe,getPrototypeOf:nUe,getOwnPropertyDescriptor:rUe}=Object;let{freeze:Os,seal:wl,create:Vre}=Object,{apply:fN,construct:dN}=typeof Reflect<"u"&&Reflect;Os||(Os=function(t){return t});wl||(wl=function(t){return t});fN||(fN=function(t,n,r){return t.apply(n,r)});dN||(dN=function(t,n){return new t(...n)});const zw=Ns(Array.prototype.forEach),iUe=Ns(Array.prototype.lastIndexOf),MU=Ns(Array.prototype.pop),Cy=Ns(Array.prototype.push),aUe=Ns(Array.prototype.splice),ox=Ns(String.prototype.toLowerCase),aR=Ns(String.prototype.toString),PU=Ns(String.prototype.match),Ry=Ns(String.prototype.replace),sUe=Ns(String.prototype.indexOf),oUe=Ns(String.prototype.trim),Yl=Ns(Object.prototype.hasOwnProperty),fs=Ns(RegExp.prototype.test),ky=lUe(TypeError);function Ns(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return fN(e,t,r)}}function lUe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dN(e,n)}}function Sn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ox;DU&&DU(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const o=n(a);o!==a&&(tUe(t)||(t[r]=o),a=o)}e[a]=!0}return e}function cUe(e){for(let t=0;t<e.length;t++)Yl(e,t)||(e[t]=null);return e}function id(e){const t=Vre(null);for(const[n,r]of Yre(e))Yl(e,n)&&(Array.isArray(r)?t[n]=cUe(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=id(r):t[n]=r);return t}function Oy(e,t){for(;e!==null;){const r=rUe(e,t);if(r){if(r.get)return Ns(r.get);if(typeof r.value=="function")return Ns(r.value)}e=nUe(e)}function n(){return null}return n}const FU=Os(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sR=Os(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),oR=Os(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uUe=Os(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lR=Os(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hUe=Os(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),BU=Os(["#text"]),HU=Os(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),cR=Os(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$U=Os(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yw=Os(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fUe=wl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dUe=wl(/<%[\w\W]*|[\w\W]*%>/gm),pUe=wl(/\$\{[\w\W]*/gm),gUe=wl(/^data-[\-\w.\u00B7-\uFFFF]+$/),mUe=wl(/^aria-[\-\w]+$/),qre=wl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vUe=wl(/^(?:\w+script|data):/i),yUe=wl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jre=wl(/^html$/i),bUe=wl(/^[a-z][.\w]*(-[.\w]+)+$/i);var WU=Object.freeze({__proto__:null,ARIA_ATTR:mUe,ATTR_WHITESPACE:yUe,CUSTOM_ELEMENT:bUe,DATA_ATTR:gUe,DOCTYPE_NAME:jre,ERB_EXPR:dUe,IS_ALLOWED_URI:qre,IS_SCRIPT_OR_DATA:vUe,MUSTACHE_EXPR:fUe,TMPLIT_EXPR:pUe});const Ny={element:1,text:3,progressingInstruction:7,comment:8,document:9},TUe=function(){return typeof window>"u"?null:window},EUe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},UU=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xre(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TUe();const t=It=>Xre(It);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==Ny.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:u,Element:h,NodeFilter:f,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:m}=e,y=h.prototype,b=Oy(y,"cloneNode"),T=Oy(y,"remove"),E=Oy(y,"nextSibling"),w=Oy(y,"childNodes"),x=Oy(y,"parentNode");if(typeof l=="function"){const It=n.createElement("template");It.content&&It.content.ownerDocument&&(n=It.content.ownerDocument)}let S,A="";const{implementation:R,createNodeIterator:C,createDocumentFragment:N,getElementsByTagName:O}=n,{importNode:L}=r;let k=UU();t.isSupported=typeof Yre=="function"&&typeof x=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:$,TMPLIT_EXPR:_,DATA_ATTR:F,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:H}=WU;let{IS_ALLOWED_URI:W}=WU,U=null;const V=Sn({},[...FU,...sR,...oR,...lR,...BU]);let G=null;const ee=Sn({},[...HU,...cR,...$U,...Yw]);let ce=Object.seal(Vre(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,re=null,le=!0,Y=!0,K=!1,Z=!0,z=!1,X=!0,te=!1,ne=!1,Ae=!1,he=!1,oe=!1,de=!1,be=!0,fe=!1;const Ie="user-content-";let Re=!0,ke=!1,De={},se=null;const j=Sn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let me=null;const ue=Sn({},["audio","video","img","source","image","track"]);let we=null;const ie=Sn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oe="http://www.w3.org/1998/Math/MathML",ae="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Ee=ge,ye=!1,Se=null;const Ce=Sn({},[Oe,ae,ge],aR);let Fe=Sn({},["mi","mo","mn","ms","mtext"]),Ne=Sn({},["annotation-xml"]);const Ve=Sn({},["title","style","font","a","script"]);let et=null;const Rt=["application/xhtml+xml","text/html"],pt="text/html";let ut=null,qe=null;const je=n.createElement("form"),ft=function(Be){return Be instanceof RegExp||Be instanceof Function},Ke=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qe&&qe===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=id(Be),et=Rt.indexOf(Be.PARSER_MEDIA_TYPE)===-1?pt:Be.PARSER_MEDIA_TYPE,ut=et==="application/xhtml+xml"?aR:ox,U=Yl(Be,"ALLOWED_TAGS")?Sn({},Be.ALLOWED_TAGS,ut):V,G=Yl(Be,"ALLOWED_ATTR")?Sn({},Be.ALLOWED_ATTR,ut):ee,Se=Yl(Be,"ALLOWED_NAMESPACES")?Sn({},Be.ALLOWED_NAMESPACES,aR):Ce,we=Yl(Be,"ADD_URI_SAFE_ATTR")?Sn(id(ie),Be.ADD_URI_SAFE_ATTR,ut):ie,me=Yl(Be,"ADD_DATA_URI_TAGS")?Sn(id(ue),Be.ADD_DATA_URI_TAGS,ut):ue,se=Yl(Be,"FORBID_CONTENTS")?Sn({},Be.FORBID_CONTENTS,ut):j,Q=Yl(Be,"FORBID_TAGS")?Sn({},Be.FORBID_TAGS,ut):{},re=Yl(Be,"FORBID_ATTR")?Sn({},Be.FORBID_ATTR,ut):{},De=Yl(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,le=Be.ALLOW_ARIA_ATTR!==!1,Y=Be.ALLOW_DATA_ATTR!==!1,K=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,z=Be.SAFE_FOR_TEMPLATES||!1,X=Be.SAFE_FOR_XML!==!1,te=Be.WHOLE_DOCUMENT||!1,he=Be.RETURN_DOM||!1,oe=Be.RETURN_DOM_FRAGMENT||!1,de=Be.RETURN_TRUSTED_TYPE||!1,Ae=Be.FORCE_BODY||!1,be=Be.SANITIZE_DOM!==!1,fe=Be.SANITIZE_NAMED_PROPS||!1,Re=Be.KEEP_CONTENT!==!1,ke=Be.IN_PLACE||!1,W=Be.ALLOWED_URI_REGEXP||qre,Ee=Be.NAMESPACE||ge,Fe=Be.MATHML_TEXT_INTEGRATION_POINTS||Fe,Ne=Be.HTML_INTEGRATION_POINTS||Ne,ce=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&ft(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&ft(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z&&(Y=!1),oe&&(he=!0),De&&(U=Sn({},BU),G=[],De.html===!0&&(Sn(U,FU),Sn(G,HU)),De.svg===!0&&(Sn(U,sR),Sn(G,cR),Sn(G,Yw)),De.svgFilters===!0&&(Sn(U,oR),Sn(G,cR),Sn(G,Yw)),De.mathMl===!0&&(Sn(U,lR),Sn(G,$U),Sn(G,Yw))),Be.ADD_TAGS&&(U===V&&(U=id(U)),Sn(U,Be.ADD_TAGS,ut)),Be.ADD_ATTR&&(G===ee&&(G=id(G)),Sn(G,Be.ADD_ATTR,ut)),Be.ADD_URI_SAFE_ATTR&&Sn(we,Be.ADD_URI_SAFE_ATTR,ut),Be.FORBID_CONTENTS&&(se===j&&(se=id(se)),Sn(se,Be.FORBID_CONTENTS,ut)),Re&&(U["#text"]=!0),te&&Sn(U,["html","head","body"]),U.table&&(Sn(U,["tbody"]),delete Q.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw ky('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ky('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=Be.TRUSTED_TYPES_POLICY,A=S.createHTML("")}else S===void 0&&(S=EUe(m,a)),S!==null&&typeof A=="string"&&(A=S.createHTML(""));Os&&Os(Be),qe=Be}},at=Sn({},[...sR,...oR,...uUe]),Ft=Sn({},[...lR,...hUe]),st=function(Be){let tt=x(Be);(!tt||!tt.tagName)&&(tt={namespaceURI:Ee,tagName:"template"});const Ct=ox(Be.tagName),pn=ox(tt.tagName);return Se[Be.namespaceURI]?Be.namespaceURI===ae?tt.namespaceURI===ge?Ct==="svg":tt.namespaceURI===Oe?Ct==="svg"&&(pn==="annotation-xml"||Fe[pn]):!!at[Ct]:Be.namespaceURI===Oe?tt.namespaceURI===ge?Ct==="math":tt.namespaceURI===ae?Ct==="math"&&Ne[pn]:!!Ft[Ct]:Be.namespaceURI===ge?tt.namespaceURI===ae&&!Ne[pn]||tt.namespaceURI===Oe&&!Fe[pn]?!1:!Ft[Ct]&&(Ve[Ct]||!at[Ct]):!!(et==="application/xhtml+xml"&&Se[Be.namespaceURI]):!1},Je=function(Be){Cy(t.removed,{element:Be});try{x(Be).removeChild(Be)}catch{T(Be)}},gt=function(Be,tt){try{Cy(t.removed,{attribute:tt.getAttributeNode(Be),from:tt})}catch{Cy(t.removed,{attribute:null,from:tt})}if(tt.removeAttribute(Be),Be==="is")if(he||oe)try{Je(tt)}catch{}else try{tt.setAttribute(Be,"")}catch{}},Nt=function(Be){let tt=null,Ct=null;if(Ae)Be="<remove></remove>"+Be;else{const pr=PU(Be,/^[\r\n\t ]+/);Ct=pr&&pr[0]}et==="application/xhtml+xml"&&Ee===ge&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const pn=S?S.createHTML(Be):Be;if(Ee===ge)try{tt=new g().parseFromString(pn,et)}catch{}if(!tt||!tt.documentElement){tt=R.createDocument(Ee,"template",null);try{tt.documentElement.innerHTML=ye?A:pn}catch{}}const ir=tt.body||tt.documentElement;return Be&&Ct&&ir.insertBefore(n.createTextNode(Ct),ir.childNodes[0]||null),Ee===ge?O.call(tt,te?"html":"body")[0]:te?tt.documentElement:ir},yt=function(Be){return C.call(Be.ownerDocument||Be,Be,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},nn=function(Be){return Be instanceof p&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof d)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},Wn=function(Be){return typeof u=="function"&&Be instanceof u};function ln(It,Be,tt){zw(It,Ct=>{Ct.call(t,Be,tt,qe)})}const Kr=function(Be){let tt=null;if(ln(k.beforeSanitizeElements,Be,null),nn(Be))return Je(Be),!0;const Ct=ut(Be.nodeName);if(ln(k.uponSanitizeElement,Be,{tagName:Ct,allowedTags:U}),Be.hasChildNodes()&&!Wn(Be.firstElementChild)&&fs(/<[/\w]/g,Be.innerHTML)&&fs(/<[/\w]/g,Be.textContent)||Be.nodeType===Ny.progressingInstruction||X&&Be.nodeType===Ny.comment&&fs(/<[/\w]/g,Be.data))return Je(Be),!0;if(!U[Ct]||Q[Ct]){if(!Q[Ct]&&Ar(Ct)&&(ce.tagNameCheck instanceof RegExp&&fs(ce.tagNameCheck,Ct)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Ct)))return!1;if(Re&&!se[Ct]){const pn=x(Be)||Be.parentNode,ir=w(Be)||Be.childNodes;if(ir&&pn){const pr=ir.length;for(let _r=pr-1;_r>=0;--_r){const Ir=b(ir[_r],!0);Ir.__removalCount=(Be.__removalCount||0)+1,pn.insertBefore(Ir,E(Be))}}}return Je(Be),!0}return Be instanceof h&&!st(Be)||(Ct==="noscript"||Ct==="noembed"||Ct==="noframes")&&fs(/<\/no(script|embed|frames)/i,Be.innerHTML)?(Je(Be),!0):(z&&Be.nodeType===Ny.text&&(tt=Be.textContent,zw([M,$,_],pn=>{tt=Ry(tt,pn," ")}),Be.textContent!==tt&&(Cy(t.removed,{element:Be.cloneNode()}),Be.textContent=tt)),ln(k.afterSanitizeElements,Be,null),!1)},cr=function(Be,tt,Ct){if(be&&(tt==="id"||tt==="name")&&(Ct in n||Ct in je))return!1;if(!(Y&&!re[tt]&&fs(F,tt))){if(!(le&&fs(B,tt))){if(!G[tt]||re[tt]){if(!(Ar(Be)&&(ce.tagNameCheck instanceof RegExp&&fs(ce.tagNameCheck,Be)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Be))&&(ce.attributeNameCheck instanceof RegExp&&fs(ce.attributeNameCheck,tt)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(tt))||tt==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&fs(ce.tagNameCheck,Ct)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Ct))))return!1}else if(!we[tt]){if(!fs(W,Ry(Ct,P,""))){if(!((tt==="src"||tt==="xlink:href"||tt==="href")&&Be!=="script"&&sUe(Ct,"data:")===0&&me[Be])){if(!(K&&!fs(D,Ry(Ct,P,"")))){if(Ct)return!1}}}}}}return!0},Ar=function(Be){return Be!=="annotation-xml"&&PU(Be,H)},In=function(Be){ln(k.beforeSanitizeAttributes,Be,null);const{attributes:tt}=Be;if(!tt||nn(Be))return;const Ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let pn=tt.length;for(;pn--;){const ir=tt[pn],{name:pr,namespaceURI:_r,value:Ir}=ir,Et=ut(pr);let St=pr==="value"?Ir:oUe(Ir);if(Ct.attrName=Et,Ct.attrValue=St,Ct.keepAttr=!0,Ct.forceKeepAttr=void 0,ln(k.uponSanitizeAttribute,Be,Ct),St=Ct.attrValue,fe&&(Et==="id"||Et==="name")&&(gt(pr,Be),St=Ie+St),X&&fs(/((--!?|])>)|<\/(style|title)/i,St)){gt(pr,Be);continue}if(Ct.forceKeepAttr||(gt(pr,Be),!Ct.keepAttr))continue;if(!Z&&fs(/\/>/i,St)){gt(pr,Be);continue}z&&zw([M,$,_],lt=>{St=Ry(St,lt," ")});const Vt=ut(Be.nodeName);if(cr(Vt,Et,St)){if(S&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!_r)switch(m.getAttributeType(Vt,Et)){case"TrustedHTML":{St=S.createHTML(St);break}case"TrustedScriptURL":{St=S.createScriptURL(St);break}}try{_r?Be.setAttributeNS(_r,pr,St):Be.setAttribute(pr,St),nn(Be)?Je(Be):MU(t.removed)}catch{}}}ln(k.afterSanitizeAttributes,Be,null)},ui=function It(Be){let tt=null;const Ct=yt(Be);for(ln(k.beforeSanitizeShadowDOM,Be,null);tt=Ct.nextNode();)ln(k.uponSanitizeShadowNode,tt,null),Kr(tt),In(tt),tt.content instanceof o&&It(tt.content);ln(k.afterSanitizeShadowDOM,Be,null)};return t.sanitize=function(It){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=null,Ct=null,pn=null,ir=null;if(ye=!It,ye&&(It="\x3C!-->"),typeof It!="string"&&!Wn(It))if(typeof It.toString=="function"){if(It=It.toString(),typeof It!="string")throw ky("dirty is not a string, aborting")}else throw ky("toString is not a function");if(!t.isSupported)return It;if(ne||Ke(Be),t.removed=[],typeof It=="string"&&(ke=!1),ke){if(It.nodeName){const Ir=ut(It.nodeName);if(!U[Ir]||Q[Ir])throw ky("root node is forbidden and cannot be sanitized in-place")}}else if(It instanceof u)tt=Nt("\x3C!---->"),Ct=tt.ownerDocument.importNode(It,!0),Ct.nodeType===Ny.element&&Ct.nodeName==="BODY"||Ct.nodeName==="HTML"?tt=Ct:tt.appendChild(Ct);else{if(!he&&!z&&!te&&It.indexOf("<")===-1)return S&&de?S.createHTML(It):It;if(tt=Nt(It),!tt)return he?null:de?A:""}tt&&Ae&&Je(tt.firstChild);const pr=yt(ke?It:tt);for(;pn=pr.nextNode();)Kr(pn),In(pn),pn.content instanceof o&&ui(pn.content);if(ke)return It;if(he){if(oe)for(ir=N.call(tt.ownerDocument);tt.firstChild;)ir.appendChild(tt.firstChild);else ir=tt;return(G.shadowroot||G.shadowrootmode)&&(ir=L.call(r,ir,!0)),ir}let _r=te?tt.outerHTML:tt.innerHTML;return te&&U["!doctype"]&&tt.ownerDocument&&tt.ownerDocument.doctype&&tt.ownerDocument.doctype.name&&fs(jre,tt.ownerDocument.doctype.name)&&(_r="<!DOCTYPE "+tt.ownerDocument.doctype.name+`>
`+_r),z&&zw([M,$,_],Ir=>{_r=Ry(_r,Ir," ")}),S&&de?S.createHTML(_r):_r},t.setConfig=function(){let It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke(It),ne=!0},t.clearConfig=function(){qe=null,ne=!1},t.isValidAttribute=function(It,Be,tt){qe||Ke({});const Ct=ut(It),pn=ut(Be);return cr(Ct,pn,tt)},t.addHook=function(It,Be){typeof Be=="function"&&Cy(k[It],Be)},t.removeHook=function(It,Be){if(Be!==void 0){const tt=iUe(k[It],Be);return tt===-1?void 0:aUe(k[It],tt,1)[0]}return MU(k[It])},t.removeHooks=function(It){k[It]=[]},t.removeAllHooks=function(){k=UU()},t}var Sm=Xre(),Kre=Object.defineProperty,I=(e,t)=>Kre(e,"name",{value:t,configurable:!0}),Zre=(e,t)=>{for(var n in t)Kre(e,n,{get:t[n],enumerable:!0})},Hu={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ve={trace:I((...e)=>{},"trace"),debug:I((...e)=>{},"debug"),info:I((...e)=>{},"info"),warn:I((...e)=>{},"warn"),error:I((...e)=>{},"error"),fatal:I((...e)=>{},"fatal")},b9=I(function(e="fatal"){let t=Hu.fatal;typeof e=="string"?e.toLowerCase()in Hu&&(t=Hu[e]):typeof e=="number"&&(t=e),ve.trace=()=>{},ve.debug=()=>{},ve.info=()=>{},ve.warn=()=>{},ve.error=()=>{},ve.fatal=()=>{},t<=Hu.fatal&&(ve.fatal=console.error?console.error.bind(console,Jo("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Jo("FATAL"))),t<=Hu.error&&(ve.error=console.error?console.error.bind(console,Jo("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Jo("ERROR"))),t<=Hu.warn&&(ve.warn=console.warn?console.warn.bind(console,Jo("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Jo("WARN"))),t<=Hu.info&&(ve.info=console.info?console.info.bind(console,Jo("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Jo("INFO"))),t<=Hu.debug&&(ve.debug=console.debug?console.debug.bind(console,Jo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Jo("DEBUG"))),t<=Hu.trace&&(ve.trace=console.debug?console.debug.bind(console,Jo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Jo("TRACE")))},"setLogLevel"),Jo=I(e=>`%c${Xa().format("ss.SSS")} : ${e} : `,"format"),Qre=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,V2=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,wUe=/\s*%%.*\n/gm,k1,Jre=(k1=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},I(k1,"UnknownDiagramError"),k1),Am={},T9=I(function(e,t){e=e.replace(Qre,"").replace(V2,"").replace(wUe,`
`);for(const[n,{detector:r}]of Object.entries(Am))if(r(e,t))return n;throw new Jre(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),eie=I((...e)=>{for(const{id:t,detector:n,loader:r}of e)tie(t,n,r)},"registerLazyLoadedDiagrams"),tie=I((e,t,n)=>{Am[e]&&ve.warn(`Detector with key ${e} already exists. Overwriting.`),Am[e]={detector:t,loader:n},ve.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),xUe=I(e=>Am[e].loader,"getDiagramLoader"),pN=I((e,t,{depth:n=2,clobber:r=!1}={})=>{const a={depth:n,clobber:r};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(o=>pN(e,o,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(o=>{e.includes(o)||e.push(o)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=pN(e[o],t[o],{depth:n-1,clobber:r})):(r||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},"assignWithDepth"),zi=pN,BA="#ffffff",HA="#f2f2f2",Ss=I((e,t)=>t?Ue(e,{s:-40,l:10}):Ue(e,{s:-40,l:-10}),"mkBorder"),O1,SUe=(O1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var n,r,a,o,l,u,h,f,d,p,g;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ue(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ue(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ss(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ss(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ss(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ss(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||xt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||xt(this.tertiaryColor),this.lineColor=this.lineColor||xt(this.background),this.arrowheadColor=this.arrowheadColor||xt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Gt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||xt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Dt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330}),this.darkMode)for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScale"+m]=Gt(this["cScale"+m],75);else for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScale"+m]=Gt(this["cScale"+m],25);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleInv"+m]=this["cScaleInv"+m]||xt(this["cScale"+m]);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this.darkMode?this["cScalePeer"+m]=this["cScalePeer"+m]||Dt(this["cScale"+m],10):this["cScalePeer"+m]=this["cScalePeer"+m]||Gt(this["cScale"+m],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleLabel"+m]=this["cScaleLabel"+m]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let m=0;m<5;m++)this["surface"+m]=this["surface"+m]||Ue(this.mainBkg,{h:180,s:-15,l:t*(5+m*3)}),this["surfacePeer"+m]=this["surfacePeer"+m]||Ue(this.mainBkg,{h:180,s:-15,l:t*(8+m*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ue(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ue(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ue(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ue(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ue(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ue(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ue(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ue(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ue(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ue(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ue(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ue(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ue(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ue(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ue(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Sf(this.quadrant1Fill)?Dt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((n=this.xyChart)==null?void 0:n.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((o=this.xyChart)==null?void 0:o.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((u=this.xyChart)==null?void 0:u.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((f=this.xyChart)==null?void 0:f.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((d=this.xyChart)==null?void 0:d.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((g=this.xyChart)==null?void 0:g.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ue(this.primaryColor,{h:-30}),this.git4=this.git4||Ue(this.primaryColor,{h:-60}),this.git5=this.git5||Ue(this.primaryColor,{h:-90}),this.git6=this.git6||Ue(this.primaryColor,{h:60}),this.git7=this.git7||Ue(this.primaryColor,{h:120}),this.darkMode?(this.git0=Dt(this.git0,25),this.git1=Dt(this.git1,25),this.git2=Dt(this.git2,25),this.git3=Dt(this.git3,25),this.git4=Dt(this.git4,25),this.git5=Dt(this.git5,25),this.git6=Dt(this.git6,25),this.git7=Dt(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||xt(this.git0),this.gitInv1=this.gitInv1||xt(this.git1),this.gitInv2=this.gitInv2||xt(this.git2),this.gitInv3=this.gitInv3||xt(this.git3),this.gitInv4=this.gitInv4||xt(this.git4),this.gitInv5=this.gitInv5||xt(this.git5),this.gitInv6=this.gitInv6||xt(this.git6),this.gitInv7=this.gitInv7||xt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||BA,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||HA}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},I(O1,"Theme"),O1),AUe=I(e=>{const t=new SUe;return t.calculate(e),t},"getThemeVariables"),N1,IUe=(N1=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Dt(this.primaryColor,16),this.tertiaryColor=Ue(this.primaryColor,{h:-160}),this.primaryBorderColor=xt(this.background),this.secondaryBorderColor=Ss(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ss(this.tertiaryColor,this.darkMode),this.primaryTextColor=xt(this.primaryColor),this.secondaryTextColor=xt(this.secondaryColor),this.tertiaryTextColor=xt(this.tertiaryColor),this.lineColor=xt(this.background),this.textColor=xt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Dt(xt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=$d(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Gt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Gt(this.sectionBkgColor,10),this.taskBorderColor=$d(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=$d(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,r,a,o,l,u,h,f,d,p;this.secondBkg=Dt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Dt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Dt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330});for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||xt(this["cScale"+g]);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScalePeer"+g]=this["cScalePeer"+g]||Dt(this["cScale"+g],10);for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||Ue(this.mainBkg,{h:30,s:-30,l:-(-10+g*4)}),this["surfacePeer"+g]=this["surfacePeer"+g]||Ue(this.mainBkg,{h:30,s:-30,l:-(-7+g*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.scaleLabelColor;for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["pie"+g]=this["cScale"+g];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Sf(this.quadrant1Fill)?Dt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Dt(this.secondaryColor,20),this.git1=Dt(this.pie2||this.secondaryColor,20),this.git2=Dt(this.pie3||this.tertiaryColor,20),this.git3=Dt(this.pie4||Ue(this.primaryColor,{h:-30}),20),this.git4=Dt(this.pie5||Ue(this.primaryColor,{h:-60}),20),this.git5=Dt(this.pie6||Ue(this.primaryColor,{h:-90}),10),this.git6=Dt(this.pie7||Ue(this.primaryColor,{h:60}),10),this.git7=Dt(this.pie8||Ue(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||xt(this.git0),this.gitInv1=this.gitInv1||xt(this.git1),this.gitInv2=this.gitInv2||xt(this.git2),this.gitInv3=this.gitInv3||xt(this.git3),this.gitInv4=this.gitInv4||xt(this.git4),this.gitInv5=this.gitInv5||xt(this.git5),this.gitInv6=this.gitInv6||xt(this.git6),this.gitInv7=this.gitInv7||xt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||xt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||xt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Dt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Dt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},I(N1,"Theme"),N1),CUe=I(e=>{const t=new IUe;return t.calculate(e),t},"getThemeVariables"),L1,RUe=(L1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ue(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ue(this.primaryColor,{h:-160}),this.primaryBorderColor=Ss(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ss(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ss(this.tertiaryColor,this.darkMode),this.primaryTextColor=xt(this.primaryColor),this.secondaryTextColor=xt(this.secondaryColor),this.tertiaryTextColor=xt(this.tertiaryColor),this.lineColor=xt(this.background),this.textColor=xt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=$d(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,r,a,o,l,u,h,f,d,p;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Gt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Gt(this.tertiaryColor,40);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Gt(this["cScale"+g],10),this["cScalePeer"+g]=this["cScalePeer"+g]||Gt(this["cScale"+g],25);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||Ue(this["cScale"+g],{h:180});for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||Ue(this.mainBkg,{h:30,l:-(5+g*5)}),this["surfacePeer"+g]=this["surfacePeer"+g]||Ue(this.mainBkg,{h:30,l:-(7+g*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||xt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||xt(this.labelTextColor);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Dt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ue(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ue(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ue(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ue(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ue(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ue(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ue(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ue(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ue(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ue(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Sf(this.quadrant1Fill)?Dt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ue(this.primaryColor,{h:-30}),this.git4=this.git4||Ue(this.primaryColor,{h:-60}),this.git5=this.git5||Ue(this.primaryColor,{h:-90}),this.git6=this.git6||Ue(this.primaryColor,{h:60}),this.git7=this.git7||Ue(this.primaryColor,{h:120}),this.darkMode?(this.git0=Dt(this.git0,25),this.git1=Dt(this.git1,25),this.git2=Dt(this.git2,25),this.git3=Dt(this.git3,25),this.git4=Dt(this.git4,25),this.git5=Dt(this.git5,25),this.git6=Dt(this.git6,25),this.git7=Dt(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||Gt(xt(this.git0),25),this.gitInv1=this.gitInv1||xt(this.git1),this.gitInv2=this.gitInv2||xt(this.git2),this.gitInv3=this.gitInv3||xt(this.git3),this.gitInv4=this.gitInv4||xt(this.git4),this.gitInv5=this.gitInv5||xt(this.git5),this.gitInv6=this.gitInv6||xt(this.git6),this.gitInv7=this.gitInv7||xt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||xt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||xt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||BA,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||HA}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},I(L1,"Theme"),L1),E9=I(e=>{const t=new RUe;return t.calculate(e),t},"getThemeVariables"),_1,kUe=(_1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Dt("#cde498",10),this.primaryBorderColor=Ss(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ss(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ss(this.tertiaryColor,this.darkMode),this.primaryTextColor=xt(this.primaryColor),this.secondaryTextColor=xt(this.secondaryColor),this.tertiaryTextColor=xt(this.primaryColor),this.lineColor=xt(this.background),this.textColor=xt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,r,a,o,l,u,h,f,d,p;this.actorBorder=Gt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Gt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Gt(this.tertiaryColor,40);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Gt(this["cScale"+g],10),this["cScalePeer"+g]=this["cScalePeer"+g]||Gt(this["cScale"+g],25);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||Ue(this["cScale"+g],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.scaleLabelColor;for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||Ue(this.mainBkg,{h:30,s:-30,l:-(5+g*5)}),this["surfacePeer"+g]=this["surfacePeer"+g]||Ue(this.mainBkg,{h:30,s:-30,l:-(8+g*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ue(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ue(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ue(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ue(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ue(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ue(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ue(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ue(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ue(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Sf(this.quadrant1Fill)?Dt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ue(this.primaryColor,{h:-30}),this.git4=this.git4||Ue(this.primaryColor,{h:-60}),this.git5=this.git5||Ue(this.primaryColor,{h:-90}),this.git6=this.git6||Ue(this.primaryColor,{h:60}),this.git7=this.git7||Ue(this.primaryColor,{h:120}),this.darkMode?(this.git0=Dt(this.git0,25),this.git1=Dt(this.git1,25),this.git2=Dt(this.git2,25),this.git3=Dt(this.git3,25),this.git4=Dt(this.git4,25),this.git5=Dt(this.git5,25),this.git6=Dt(this.git6,25),this.git7=Dt(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||xt(this.git0),this.gitInv1=this.gitInv1||xt(this.git1),this.gitInv2=this.gitInv2||xt(this.git2),this.gitInv3=this.gitInv3||xt(this.git3),this.gitInv4=this.gitInv4||xt(this.git4),this.gitInv5=this.gitInv5||xt(this.git5),this.gitInv6=this.gitInv6||xt(this.git6),this.gitInv7=this.gitInv7||xt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||xt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||xt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||BA,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||HA}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},I(_1,"Theme"),_1),OUe=I(e=>{const t=new kUe;return t.calculate(e),t},"getThemeVariables"),D1,NUe=(D1=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Dt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ue(this.primaryColor,{h:-160}),this.primaryBorderColor=Ss(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ss(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ss(this.tertiaryColor,this.darkMode),this.primaryTextColor=xt(this.primaryColor),this.secondaryTextColor=xt(this.secondaryColor),this.tertiaryTextColor=xt(this.tertiaryColor),this.lineColor=xt(this.background),this.textColor=xt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,r,a,o,l,u,h,f,d,p;this.secondBkg=Dt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Dt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||xt(this["cScale"+g]);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this.darkMode?this["cScalePeer"+g]=this["cScalePeer"+g]||Dt(this["cScale"+g],10):this["cScalePeer"+g]=this["cScalePeer"+g]||Gt(this["cScale"+g],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.scaleLabelColor;for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||Ue(this.mainBkg,{l:-(5+g*5)}),this["surfacePeer"+g]=this["surfacePeer"+g]||Ue(this.mainBkg,{l:-(8+g*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Dt(this.contrast,30),this.sectionBkgColor2=Dt(this.contrast,30),this.taskBorderColor=Gt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Dt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Gt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128});for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["pie"+g]=this["cScale"+g];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Sf(this.quadrant1Fill)?Dt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Gt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ue(this.primaryColor,{h:-30}),this.git4=this.pie5||Ue(this.primaryColor,{h:-60}),this.git5=this.pie6||Ue(this.primaryColor,{h:-90}),this.git6=this.pie7||Ue(this.primaryColor,{h:60}),this.git7=this.pie8||Ue(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||xt(this.git0),this.gitInv1=this.gitInv1||xt(this.git1),this.gitInv2=this.gitInv2||xt(this.git2),this.gitInv3=this.gitInv3||xt(this.git3),this.gitInv4=this.gitInv4||xt(this.git4),this.gitInv5=this.gitInv5||xt(this.git5),this.gitInv6=this.gitInv6||xt(this.git6),this.gitInv7=this.gitInv7||xt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||BA,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||HA}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(r=>{this[r]=t[r]}),this.updateColors(),n.forEach(r=>{this[r]=t[r]})}},I(D1,"Theme"),D1),LUe=I(e=>{const t=new NUe;return t.calculate(e),t},"getThemeVariables"),gh={base:{getThemeVariables:AUe},dark:{getThemeVariables:CUe},default:{getThemeVariables:E9},forest:{getThemeVariables:OUe},neutral:{getThemeVariables:LUe}},s0={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},nie={...s0,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:gh.default.getThemeVariables(),sequence:{...s0.sequence,messageFont:I(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:I(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:I(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...s0.gantt,tickInterval:void 0,useWidth:void 0},c4:{...s0.c4,useWidth:void 0,personFont:I(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:I(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:I(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:I(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:I(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:I(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:I(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:I(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:I(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:I(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:I(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:I(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:I(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:I(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:I(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:I(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:I(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:I(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:I(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:I(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:I(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:I(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...s0.pie,useWidth:984},xyChart:{...s0.xyChart,useWidth:void 0},requirement:{...s0.requirement,useWidth:void 0},packet:{...s0.packet}},rie=I((e,t="")=>Object.keys(e).reduce((n,r)=>Array.isArray(e[r])?n:typeof e[r]=="object"&&e[r]!==null?[...n,t+r,...rie(e[r],"")]:[...n,t+r],[]),"keyify"),_Ue=new Set(rie(nie,"")),Mn=nie,L4=I(e=>{if(ve.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>L4(t));return}for(const t of Object.keys(e)){if(ve.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!_Ue.has(t)||e[t]==null){ve.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ve.debug("sanitizing object",t),L4(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)t.includes(r)&&(ve.debug("sanitizing css option",t),e[t]=DUe(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ve.debug("After sanitization",e)}},"sanitizeDirective"),DUe=I(e=>{let t=0,n=0;for(const r of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?t++:r==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Im=Object.freeze(Mn),Qs=zi({},Im),iie,Cm=[],q2=zi({},Im),$A=I((e,t)=>{let n=zi({},e),r={};for(const a of t)oie(a),r=zi(r,a);if(n=zi(n,r),r.theme&&r.theme in gh){const a=zi({},iie),o=zi(a.themeVariables||{},r.themeVariables);n.theme&&n.theme in gh&&(n.themeVariables=gh[n.theme].getThemeVariables(o))}return q2=n,lie(q2),q2},"updateCurrentConfig"),MUe=I(e=>(Qs=zi({},Im),Qs=zi(Qs,e),e.theme&&gh[e.theme]&&(Qs.themeVariables=gh[e.theme].getThemeVariables(e.themeVariables)),$A(Qs,Cm),Qs),"setSiteConfig"),PUe=I(e=>{iie=zi({},e)},"saveConfigFromInitialize"),FUe=I(e=>(Qs=zi(Qs,e),$A(Qs,Cm),Qs),"updateSiteConfig"),aie=I(()=>zi({},Qs),"getSiteConfig"),sie=I(e=>(lie(e),zi(q2,e),Br()),"setConfig"),Br=I(()=>zi({},q2),"getConfig"),oie=I(e=>{e&&(["secure",...Qs.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ve.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&oie(e[t])}))},"sanitize"),BUe=I(e=>{var t;L4(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Cm.push(e),$A(Qs,Cm)},"addDirective"),_4=I((e=Qs)=>{Cm=[],$A(e,Cm)},"reset"),HUe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},GU={},$Ue=I(e=>{GU[e]||(ve.warn(HUe[e]),GU[e]=!0)},"issueWarning"),lie=I(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&$Ue("LAZY_LOAD_DEPRECATED")},"checkConfig"),Rv=/<br\s*\/?>/gi,WUe=I(e=>e?hie(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),UUe=(()=>{let e=!1;return()=>{e||(cie(),e=!0)}})();function cie(){const e="data-temp-href-target";Sm.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Sm.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}I(cie,"setupDompurifyHooks");var uie=I(e=>(UUe(),Sm.sanitize(e)),"removeScript"),zU=I((e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=t.securityLevel;r==="antiscript"||r==="strict"?e=uie(e):r!=="loose"&&(e=hie(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=VUe(e))}return e},"sanitizeMore"),or=I((e,t)=>e&&(t.dompurifyConfig?e=Sm.sanitize(zU(e,t),t.dompurifyConfig).toString():e=Sm.sanitize(zU(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),GUe=I((e,t)=>typeof e=="string"?or(e,t):e.flat().map(n=>or(n,t)),"sanitizeTextOrArray"),zUe=I(e=>Rv.test(e),"hasBreaks"),YUe=I(e=>e.split(Rv),"splitBreaks"),VUe=I(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),hie=I(e=>e.replace(Rv,"#br#"),"breakToPlaceholder"),qUe=I(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),ur=I(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),jUe=I(function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},"getMax"),XUe=I(function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},"getMin"),ad=I(function(e){const t=e.split(/(,)/),n=[];for(let r=0;r<t.length;r++){let a=t[r];if(a===","&&r>0&&r+1<t.length){const o=t[r-1],l=t[r+1];KUe(o,l)&&(a=o+","+l,r++,n.pop())}n.push(ZUe(a))}return n.join("")},"parseGenericTypes"),gN=I((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),KUe=I((e,t)=>{const n=gN(e,"~"),r=gN(t,"~");return n===1&&r===1},"shouldCombineSets"),ZUe=I(e=>{const t=gN(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const r=[...e];let a=r.indexOf("~"),o=r.lastIndexOf("~");for(;a!==-1&&o!==-1&&a!==o;)r[a]="<",r[o]=">",a=r.indexOf("~"),o=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),YU=I(()=>window.MathMLElement!==void 0,"isMathMLSupported"),mN=/\$\$(.*)\$\$/g,ts=I(e=>{var t;return(((t=e.match(mN))==null?void 0:t.length)??0)>0},"hasKatex"),nE=I(async(e,t)=>{e=await rE(e,t);const n=document.createElement("div");n.innerHTML=e,n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const r=document.querySelector("body");r==null||r.insertAdjacentElement("beforeend",n);const a={width:n.clientWidth,height:n.clientHeight};return n.remove(),a},"calculateMathMLDimensions"),rE=I(async(e,t)=>{if(!ts(e))return e;if(!(YU()||t.legacyMathML||t.forceLegacyMathML))return e.replace(mN,"MathML is unsupported in this environment.");const{default:n}=await wn(async()=>{const{default:a}=await Promise.resolve().then(()=>Mlt);return{default:a}},void 0,import.meta.url),r=t.forceLegacyMathML||!YU()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Rv).map(a=>ts(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(mN,(a,o)=>n.renderToString(o,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),ot={getRows:WUe,sanitizeText:or,sanitizeTextOrArray:GUe,hasBreaks:zUe,splitBreaks:YUe,lineBreakRegex:Rv,removeScript:uie,getUrl:qUe,evaluate:ur,getMax:jUe,getMin:XUe},QUe=I(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),JUe=I(function(e,t,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${t}px;`)):(r.set("height",e),r.set("width",t)),r},"calculateSvgSizeAttrs"),ss=I(function(e,t,n,r){const a=JUe(t,n,r);QUe(e,a)},"configureSvgSize"),kv=I(function(e,t,n,r){const a=t.node().getBBox(),o=a.width,l=a.height;ve.info(`SVG bounds: ${o}x${l}`,a);let u=0,h=0;ve.info(`Graph bounds: ${u}x${h}`,e),u=o+n*2,h=l+n*2,ve.info(`Calculated bounds: ${u}x${h}`),ss(t,h,u,r);const f=`${a.x-n} ${a.y-n} ${a.width+2*n} ${a.height+2*n}`;t.attr("viewBox",f)},"setupGraphViewbox"),lx={},eGe=I((e,t,n)=>{let r="";return e in lx&&lx[e]?r=lx[e](n):ve.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${t}
`},"getStyles"),tGe=I((e,t)=>{t!==void 0&&(lx[e]=t)},"addStylesForDiagram"),nGe=eGe,w9={};Zre(w9,{clear:()=>fa,getAccDescription:()=>Da,getAccTitle:()=>La,getDiagramTitle:()=>Ma,setAccDescription:()=>_a,setAccTitle:()=>da,setDiagramTitle:()=>Ds});var x9="",S9="",A9="",I9=I(e=>or(e,Br()),"sanitizeText"),fa=I(()=>{x9="",A9="",S9=""},"clear"),da=I(e=>{x9=I9(e).replace(/^\s+/g,"")},"setAccTitle"),La=I(()=>x9,"getAccTitle"),_a=I(e=>{A9=I9(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Da=I(()=>A9,"getAccDescription"),Ds=I(e=>{S9=I9(e)},"setDiagramTitle"),Ma=I(()=>S9,"getDiagramTitle"),VU=ve,rGe=b9,Pe=Br,qU=sie,fie=Im,die=I(e=>or(e,Pe()),"sanitizeText"),pie=kv,iGe=I(()=>w9,"getCommonDb"),D4={},M4=I((e,t,n)=>{var r;D4[e]&&VU.warn(`Diagram with id ${e} already registered. Overwriting.`),D4[e]=t,n&&tie(e,n),tGe(e,t.styles),(r=t.injectUtils)==null||r.call(t,VU,rGe,Pe,die,pie,iGe(),()=>{})},"registerDiagram"),vN=I(e=>{if(e in D4)return D4[e];throw new aGe(e)},"getDiagram"),M1,aGe=(M1=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},I(M1,"DiagramNotFoundError"),M1);function C9(e){return typeof e>"u"||e===null}I(C9,"isNothing");function gie(e){return typeof e=="object"&&e!==null}I(gie,"isObject");function mie(e){return Array.isArray(e)?e:C9(e)?[]:[e]}I(mie,"toArray");function vie(e,t){var n,r,a,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)a=o[n],e[a]=t[a];return e}I(vie,"extend");function yie(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}I(yie,"repeat");function bie(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}I(bie,"isNegativeZero");var sGe=C9,oGe=gie,lGe=mie,cGe=yie,uGe=bie,hGe=vie,Yi={isNothing:sGe,isObject:oGe,toArray:lGe,repeat:cGe,isNegativeZero:uGe,extend:hGe};function R9(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}I(R9,"formatError");function Rm(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=R9(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}I(Rm,"YAMLException$1");Rm.prototype=Object.create(Error.prototype);Rm.prototype.constructor=Rm;Rm.prototype.toString=I(function(t){return this.name+": "+R9(this,t)},"toString");var to=Rm;function cx(e,t,n,r,a){var o="",l="",u=Math.floor(a/2)-1;return r-t>u&&(o=" ... ",t=r-u+o.length),n-r>u&&(l=" ...",n=r+u-l.length),{str:o+e.slice(t,n).replace(/\t/g,"→")+l,pos:r-t+o.length}}I(cx,"getLine");function ux(e,t){return Yi.repeat(" ",t-e.length)+e}I(ux,"padStart");function Tie(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],a=[],o,l=-1;o=n.exec(e.buffer);)a.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=r.length-2);l<0&&(l=r.length-1);var u="",h,f,d=Math.min(e.line+t.linesAfter,a.length).toString().length,p=t.maxLength-(t.indent+d+3);for(h=1;h<=t.linesBefore&&!(l-h<0);h++)f=cx(e.buffer,r[l-h],a[l-h],e.position-(r[l]-r[l-h]),p),u=Yi.repeat(" ",t.indent)+ux((e.line-h+1).toString(),d)+" | "+f.str+`
`+u;for(f=cx(e.buffer,r[l],a[l],e.position,p),u+=Yi.repeat(" ",t.indent)+ux((e.line+1).toString(),d)+" | "+f.str+`
`,u+=Yi.repeat("-",t.indent+d+3+f.pos)+`^
`,h=1;h<=t.linesAfter&&!(l+h>=a.length);h++)f=cx(e.buffer,r[l+h],a[l+h],e.position-(r[l]-r[l+h]),p),u+=Yi.repeat(" ",t.indent)+ux((e.line+h+1).toString(),d)+" | "+f.str+`
`;return u.replace(/\n$/,"")}I(Tie,"makeSnippet");var fGe=Tie,dGe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],pGe=["scalar","sequence","mapping"];function Eie(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}I(Eie,"compileStyleAliases");function wie(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(dGe.indexOf(n)===-1)throw new to('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Eie(t.styleAliases||null),pGe.indexOf(this.kind)===-1)throw new to('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}I(wie,"Type$1");var Ja=wie;function yN(e,t){var n=[];return e[t].forEach(function(r){var a=n.length;n.forEach(function(o,l){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(a=l)}),n[a]=r}),n}I(yN,"compileList");function xie(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(I(r,"collectType"),t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}I(xie,"compileMap");function P4(e){return this.extend(e)}I(P4,"Schema$1");P4.prototype.extend=I(function(t){var n=[],r=[];if(t instanceof Ja)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new to("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof Ja))throw new to("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new to("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new to("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof Ja))throw new to("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(P4.prototype);return a.implicit=(this.implicit||[]).concat(n),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=yN(a,"implicit"),a.compiledExplicit=yN(a,"explicit"),a.compiledTypeMap=xie(a.compiledImplicit,a.compiledExplicit),a},"extend");var gGe=P4,mGe=new Ja("tag:yaml.org,2002:str",{kind:"scalar",construct:I(function(e){return e!==null?e:""},"construct")}),vGe=new Ja("tag:yaml.org,2002:seq",{kind:"sequence",construct:I(function(e){return e!==null?e:[]},"construct")}),yGe=new Ja("tag:yaml.org,2002:map",{kind:"mapping",construct:I(function(e){return e!==null?e:{}},"construct")}),bGe=new gGe({explicit:[mGe,vGe,yGe]});function Sie(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}I(Sie,"resolveYamlNull");function Aie(){return null}I(Aie,"constructYamlNull");function Iie(e){return e===null}I(Iie,"isNull");var TGe=new Ja("tag:yaml.org,2002:null",{kind:"scalar",resolve:Sie,construct:Aie,predicate:Iie,represent:{canonical:I(function(){return"~"},"canonical"),lowercase:I(function(){return"null"},"lowercase"),uppercase:I(function(){return"NULL"},"uppercase"),camelcase:I(function(){return"Null"},"camelcase"),empty:I(function(){return""},"empty")},defaultStyle:"lowercase"});function Cie(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}I(Cie,"resolveYamlBoolean");function Rie(e){return e==="true"||e==="True"||e==="TRUE"}I(Rie,"constructYamlBoolean");function kie(e){return Object.prototype.toString.call(e)==="[object Boolean]"}I(kie,"isBoolean");var EGe=new Ja("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Cie,construct:Rie,predicate:kie,represent:{lowercase:I(function(e){return e?"true":"false"},"lowercase"),uppercase:I(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:I(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Oie(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}I(Oie,"isHexCode");function Nie(e){return 48<=e&&e<=55}I(Nie,"isOctCode");function Lie(e){return 48<=e&&e<=57}I(Lie,"isDecCode");function _ie(e){if(e===null)return!1;var t=e.length,n=0,r=!1,a;if(!t)return!1;if(a=e[n],(a==="-"||a==="+")&&(a=e[++n]),a==="0"){if(n+1===t)return!0;if(a=e[++n],a==="b"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(a!=="0"&&a!=="1")return!1;r=!0}return r&&a!=="_"}if(a==="x"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!Oie(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}if(a==="o"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!Nie(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}}if(a==="_")return!1;for(;n<t;n++)if(a=e[n],a!=="_"){if(!Lie(e.charCodeAt(n)))return!1;r=!0}return!(!r||a==="_")}I(_ie,"resolveYamlInteger");function Die(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}I(Die,"constructYamlInteger");function Mie(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Yi.isNegativeZero(e)}I(Mie,"isInteger");var wGe=new Ja("tag:yaml.org,2002:int",{kind:"scalar",resolve:_ie,construct:Die,predicate:Mie,represent:{binary:I(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:I(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:I(function(e){return e.toString(10)},"decimal"),hexadecimal:I(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),xGe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Pie(e){return!(e===null||!xGe.test(e)||e[e.length-1]==="_")}I(Pie,"resolveYamlFloat");function Fie(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}I(Fie,"constructYamlFloat");var SGe=/^[-+]?[0-9]+e/;function Bie(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Yi.isNegativeZero(e))return"-0.0";return n=e.toString(10),SGe.test(n)?n.replace("e",".e"):n}I(Bie,"representYamlFloat");function Hie(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Yi.isNegativeZero(e))}I(Hie,"isFloat");var AGe=new Ja("tag:yaml.org,2002:float",{kind:"scalar",resolve:Pie,construct:Fie,predicate:Hie,represent:Bie,defaultStyle:"lowercase"}),$ie=bGe.extend({implicit:[TGe,EGe,wGe,AGe]}),IGe=$ie,Wie=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Uie=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Gie(e){return e===null?!1:Wie.exec(e)!==null||Uie.exec(e)!==null}I(Gie,"resolveYamlTimestamp");function zie(e){var t,n,r,a,o,l,u,h=0,f=null,d,p,g;if(t=Wie.exec(e),t===null&&(t=Uie.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(o=+t[4],l=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(d=+t[10],p=+(t[11]||0),f=(d*60+p)*6e4,t[9]==="-"&&(f=-f)),g=new Date(Date.UTC(n,r,a,o,l,u,h)),f&&g.setTime(g.getTime()-f),g}I(zie,"constructYamlTimestamp");function Yie(e){return e.toISOString()}I(Yie,"representYamlTimestamp");var CGe=new Ja("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Gie,construct:zie,instanceOf:Date,represent:Yie});function Vie(e){return e==="<<"||e===null}I(Vie,"resolveYamlMerge");var RGe=new Ja("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Vie}),k9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function qie(e){if(e===null)return!1;var t,n,r=0,a=e.length,o=k9;for(n=0;n<a;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}I(qie,"resolveYamlBinary");function jie(e){var t,n,r=e.replace(/[\r\n=]/g,""),a=r.length,o=k9,l=0,u=[];for(t=0;t<a;t++)t%4===0&&t&&(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)),l=l<<6|o.indexOf(r.charAt(t));return n=a%4*6,n===0?(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)):n===18?(u.push(l>>10&255),u.push(l>>2&255)):n===12&&u.push(l>>4&255),new Uint8Array(u)}I(jie,"constructYamlBinary");function Xie(e){var t="",n=0,r,a,o=e.length,l=k9;for(r=0;r<o;r++)r%3===0&&r&&(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]),n=(n<<8)+e[r];return a=o%3,a===0?(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]):a===2?(t+=l[n>>10&63],t+=l[n>>4&63],t+=l[n<<2&63],t+=l[64]):a===1&&(t+=l[n>>2&63],t+=l[n<<4&63],t+=l[64],t+=l[64]),t}I(Xie,"representYamlBinary");function Kie(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}I(Kie,"isBinary");var kGe=new Ja("tag:yaml.org,2002:binary",{kind:"scalar",resolve:qie,construct:jie,predicate:Kie,represent:Xie}),OGe=Object.prototype.hasOwnProperty,NGe=Object.prototype.toString;function Zie(e){if(e===null)return!0;var t=[],n,r,a,o,l,u=e;for(n=0,r=u.length;n<r;n+=1){if(a=u[n],l=!1,NGe.call(a)!=="[object Object]")return!1;for(o in a)if(OGe.call(a,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}I(Zie,"resolveYamlOmap");function Qie(e){return e!==null?e:[]}I(Qie,"constructYamlOmap");var LGe=new Ja("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Zie,construct:Qie}),_Ge=Object.prototype.toString;function Jie(e){if(e===null)return!0;var t,n,r,a,o,l=e;for(o=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(r=l[t],_Ge.call(r)!=="[object Object]"||(a=Object.keys(r),a.length!==1))return!1;o[t]=[a[0],r[a[0]]]}return!0}I(Jie,"resolveYamlPairs");function eae(e){if(e===null)return[];var t,n,r,a,o,l=e;for(o=new Array(l.length),t=0,n=l.length;t<n;t+=1)r=l[t],a=Object.keys(r),o[t]=[a[0],r[a[0]]];return o}I(eae,"constructYamlPairs");var DGe=new Ja("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Jie,construct:eae}),MGe=Object.prototype.hasOwnProperty;function tae(e){if(e===null)return!0;var t,n=e;for(t in n)if(MGe.call(n,t)&&n[t]!==null)return!1;return!0}I(tae,"resolveYamlSet");function nae(e){return e!==null?e:{}}I(nae,"constructYamlSet");var PGe=new Ja("tag:yaml.org,2002:set",{kind:"mapping",resolve:tae,construct:nae}),rae=IGe.extend({implicit:[CGe,RGe],explicit:[kGe,LGe,DGe,PGe]}),X0=Object.prototype.hasOwnProperty,F4=1,iae=2,aae=3,B4=4,uR=1,FGe=2,jU=3,BGe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,HGe=/[\x85\u2028\u2029]/,$Ge=/[,\[\]\{\}]/,sae=/^(?:!|!!|![a-z\-]+!)$/i,oae=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bN(e){return Object.prototype.toString.call(e)}I(bN,"_class");function oc(e){return e===10||e===13}I(oc,"is_EOL");function F0(e){return e===9||e===32}I(F0,"is_WHITE_SPACE");function As(e){return e===9||e===32||e===10||e===13}I(As,"is_WS_OR_EOL");function Cd(e){return e===44||e===91||e===93||e===123||e===125}I(Cd,"is_FLOW_INDICATOR");function lae(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}I(lae,"fromHexCode");function cae(e){return e===120?2:e===117?4:e===85?8:0}I(cae,"escapedHexLen");function uae(e){return 48<=e&&e<=57?e-48:-1}I(uae,"fromDecimalCode");function TN(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}I(TN,"simpleEscapeSequence");function hae(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}I(hae,"charFromCodepoint");var fae=new Array(256),dae=new Array(256);for(jf=0;jf<256;jf++)fae[jf]=TN(jf)?1:0,dae[jf]=TN(jf);var jf;function pae(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||rae,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}I(pae,"State$1");function O9(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=fGe(n),new to(t,n)}I(O9,"generateError");function Wt(e,t){throw O9(e,t)}I(Wt,"throwError");function _b(e,t){e.onWarning&&e.onWarning.call(null,O9(e,t))}I(_b,"throwWarning");var XU={YAML:I(function(t,n,r){var a,o,l;t.version!==null&&Wt(t,"duplication of %YAML directive"),r.length!==1&&Wt(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),a===null&&Wt(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),l=parseInt(a[2],10),o!==1&&Wt(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&_b(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:I(function(t,n,r){var a,o;r.length!==2&&Wt(t,"TAG directive accepts exactly two arguments"),a=r[0],o=r[1],sae.test(a)||Wt(t,"ill-formed tag handle (first argument) of the TAG directive"),X0.call(t.tagMap,a)&&Wt(t,'there is a previously declared suffix for "'+a+'" tag handle'),oae.test(o)||Wt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Wt(t,"tag prefix is malformed: "+o)}t.tagMap[a]=o},"handleTagDirective")};function mh(e,t,n,r){var a,o,l,u;if(t<n){if(u=e.input.slice(t,n),r)for(a=0,o=u.length;a<o;a+=1)l=u.charCodeAt(a),l===9||32<=l&&l<=1114111||Wt(e,"expected valid JSON character");else BGe.test(u)&&Wt(e,"the stream contains non-printable characters");e.result+=u}}I(mh,"captureSegment");function EN(e,t,n,r){var a,o,l,u;for(Yi.isObject(n)||Wt(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),l=0,u=a.length;l<u;l+=1)o=a[l],X0.call(t,o)||(t[o]=n[o],r[o]=!0)}I(EN,"mergeMappings");function Rd(e,t,n,r,a,o,l,u,h){var f,d;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),f=0,d=a.length;f<d;f+=1)Array.isArray(a[f])&&Wt(e,"nested arrays are not supported inside keys"),typeof a=="object"&&bN(a[f])==="[object Object]"&&(a[f]="[object Object]");if(typeof a=="object"&&bN(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(f=0,d=o.length;f<d;f+=1)EN(e,t,o[f],n);else EN(e,t,o,n);else!e.json&&!X0.call(n,a)&&X0.call(t,a)&&(e.line=l||e.line,e.lineStart=u||e.lineStart,e.position=h||e.position,Wt(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[a]=o,delete n[a];return t}I(Rd,"storeMappingPair");function WA(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Wt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}I(WA,"readLineBreak");function Ei(e,t,n){for(var r=0,a=e.input.charCodeAt(e.position);a!==0;){for(;F0(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(oc(a))for(WA(e),a=e.input.charCodeAt(e.position),r++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&_b(e,"deficient indentation"),r}I(Ei,"skipSeparationSpace");function iE(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||As(n)))}I(iE,"testDocumentSeparator");function UA(e,t){t===1?e.result+=" ":t>1&&(e.result+=Yi.repeat(`
`,t-1))}I(UA,"writeFoldedLines");function gae(e,t,n){var r,a,o,l,u,h,f,d,p=e.kind,g=e.result,m;if(m=e.input.charCodeAt(e.position),As(m)||Cd(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(a=e.input.charCodeAt(e.position+1),As(a)||n&&Cd(a)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,u=!1;m!==0;){if(m===58){if(a=e.input.charCodeAt(e.position+1),As(a)||n&&Cd(a))break}else if(m===35){if(r=e.input.charCodeAt(e.position-1),As(r))break}else{if(e.position===e.lineStart&&iE(e)||n&&Cd(m))break;if(oc(m))if(h=e.line,f=e.lineStart,d=e.lineIndent,Ei(e,!1,-1),e.lineIndent>=t){u=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=h,e.lineStart=f,e.lineIndent=d;break}}u&&(mh(e,o,l,!1),UA(e,e.line-h),o=l=e.position,u=!1),F0(m)||(l=e.position+1),m=e.input.charCodeAt(++e.position)}return mh(e,o,l,!1),e.result?!0:(e.kind=p,e.result=g,!1)}I(gae,"readPlainScalar");function mae(e,t){var n,r,a;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(mh(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,a=e.position;else return!0;else oc(n)?(mh(e,r,a,!0),UA(e,Ei(e,!1,t)),r=a=e.position):e.position===e.lineStart&&iE(e)?Wt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);Wt(e,"unexpected end of the stream within a single quoted scalar")}I(mae,"readSingleQuotedScalar");function vae(e,t){var n,r,a,o,l,u;if(u=e.input.charCodeAt(e.position),u!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(u=e.input.charCodeAt(e.position))!==0;){if(u===34)return mh(e,n,e.position,!0),e.position++,!0;if(u===92){if(mh(e,n,e.position,!0),u=e.input.charCodeAt(++e.position),oc(u))Ei(e,!1,t);else if(u<256&&fae[u])e.result+=dae[u],e.position++;else if((l=cae(u))>0){for(a=l,o=0;a>0;a--)u=e.input.charCodeAt(++e.position),(l=lae(u))>=0?o=(o<<4)+l:Wt(e,"expected hexadecimal character");e.result+=hae(o),e.position++}else Wt(e,"unknown escape sequence");n=r=e.position}else oc(u)?(mh(e,n,r,!0),UA(e,Ei(e,!1,t)),n=r=e.position):e.position===e.lineStart&&iE(e)?Wt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Wt(e,"unexpected end of the stream within a double quoted scalar")}I(vae,"readDoubleQuotedScalar");function yae(e,t){var n=!0,r,a,o,l=e.tag,u,h=e.anchor,f,d,p,g,m,y=Object.create(null),b,T,E,w;if(w=e.input.charCodeAt(e.position),w===91)d=93,m=!1,u=[];else if(w===123)d=125,m=!0,u={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),w=e.input.charCodeAt(++e.position);w!==0;){if(Ei(e,!0,t),w=e.input.charCodeAt(e.position),w===d)return e.position++,e.tag=l,e.anchor=h,e.kind=m?"mapping":"sequence",e.result=u,!0;n?w===44&&Wt(e,"expected the node content, but found ','"):Wt(e,"missed comma between flow collection entries"),T=b=E=null,p=g=!1,w===63&&(f=e.input.charCodeAt(e.position+1),As(f)&&(p=g=!0,e.position++,Ei(e,!0,t))),r=e.line,a=e.lineStart,o=e.position,Zd(e,t,F4,!1,!0),T=e.tag,b=e.result,Ei(e,!0,t),w=e.input.charCodeAt(e.position),(g||e.line===r)&&w===58&&(p=!0,w=e.input.charCodeAt(++e.position),Ei(e,!0,t),Zd(e,t,F4,!1,!0),E=e.result),m?Rd(e,u,y,T,b,E,r,a,o):p?u.push(Rd(e,null,y,T,b,E,r,a,o)):u.push(b),Ei(e,!0,t),w=e.input.charCodeAt(e.position),w===44?(n=!0,w=e.input.charCodeAt(++e.position)):n=!1}Wt(e,"unexpected end of the stream within a flow collection")}I(yae,"readFlowCollection");function bae(e,t){var n,r,a=uR,o=!1,l=!1,u=t,h=0,f=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)uR===a?a=p===43?jU:FGe:Wt(e,"repeat of a chomping mode identifier");else if((d=uae(p))>=0)d===0?Wt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Wt(e,"repeat of an indentation width identifier"):(u=t+d-1,l=!0);else break;if(F0(p)){do p=e.input.charCodeAt(++e.position);while(F0(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!oc(p)&&p!==0)}for(;p!==0;){for(WA(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),oc(p)){h++;continue}if(e.lineIndent<u){a===jU?e.result+=Yi.repeat(`
`,o?1+h:h):a===uR&&o&&(e.result+=`
`);break}for(r?F0(p)?(f=!0,e.result+=Yi.repeat(`
`,o?1+h:h)):f?(f=!1,e.result+=Yi.repeat(`
`,h+1)):h===0?o&&(e.result+=" "):e.result+=Yi.repeat(`
`,h):e.result+=Yi.repeat(`
`,o?1+h:h),o=!0,l=!0,h=0,n=e.position;!oc(p)&&p!==0;)p=e.input.charCodeAt(++e.position);mh(e,n,e.position,!1)}return!0}I(bae,"readBlockScalar");function wN(e,t){var n,r=e.tag,a=e.anchor,o=[],l,u=!1,h;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),h=e.input.charCodeAt(e.position);h!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Wt(e,"tab characters must not be used in indentation")),!(h!==45||(l=e.input.charCodeAt(e.position+1),!As(l))));){if(u=!0,e.position++,Ei(e,!0,-1)&&e.lineIndent<=t){o.push(null),h=e.input.charCodeAt(e.position);continue}if(n=e.line,Zd(e,t,aae,!1,!0),o.push(e.result),Ei(e,!0,-1),h=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&h!==0)Wt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return u?(e.tag=r,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}I(wN,"readBlockSequence");function Tae(e,t,n){var r,a,o,l,u,h,f=e.tag,d=e.anchor,p={},g=Object.create(null),m=null,y=null,b=null,T=!1,E=!1,w;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),w=e.input.charCodeAt(e.position);w!==0;){if(!T&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Wt(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(w===63||w===58)&&As(r))w===63?(T&&(Rd(e,p,g,m,y,null,l,u,h),m=y=b=null),E=!0,T=!0,a=!0):T?(T=!1,a=!0):Wt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,w=r;else{if(l=e.line,u=e.lineStart,h=e.position,!Zd(e,n,iae,!1,!0))break;if(e.line===o){for(w=e.input.charCodeAt(e.position);F0(w);)w=e.input.charCodeAt(++e.position);if(w===58)w=e.input.charCodeAt(++e.position),As(w)||Wt(e,"a whitespace character is expected after the key-value separator within a block mapping"),T&&(Rd(e,p,g,m,y,null,l,u,h),m=y=b=null),E=!0,T=!1,a=!1,m=e.tag,y=e.result;else if(E)Wt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=d,!0}else if(E)Wt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=d,!0}if((e.line===o||e.lineIndent>t)&&(T&&(l=e.line,u=e.lineStart,h=e.position),Zd(e,t,B4,!0,a)&&(T?y=e.result:b=e.result),T||(Rd(e,p,g,m,y,b,l,u,h),m=y=b=null),Ei(e,!0,-1),w=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&w!==0)Wt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return T&&Rd(e,p,g,m,y,null,l,u,h),E&&(e.tag=f,e.anchor=d,e.kind="mapping",e.result=p),E}I(Tae,"readBlockMapping");function Eae(e){var t,n=!1,r=!1,a,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&Wt(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(r=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):Wt(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!As(l);)l===33&&(r?Wt(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),sae.test(a)||Wt(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),$Ge.test(o)&&Wt(e,"tag suffix cannot contain flow indicator characters")}o&&!oae.test(o)&&Wt(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Wt(e,"tag name is malformed: "+o)}return n?e.tag=o:X0.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:Wt(e,'undeclared tag handle "'+a+'"'),!0}I(Eae,"readTagProperty");function wae(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Wt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!As(n)&&!Cd(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Wt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}I(wae,"readAnchorProperty");function xae(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!As(r)&&!Cd(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Wt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),X0.call(e.anchorMap,n)||Wt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ei(e,!0,-1),!0}I(xae,"readAlias");function Zd(e,t,n,r,a){var o,l,u,h=1,f=!1,d=!1,p,g,m,y,b,T;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=u=B4===n||aae===n,r&&Ei(e,!0,-1)&&(f=!0,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)),h===1)for(;Eae(e)||wae(e);)Ei(e,!0,-1)?(f=!0,u=o,e.lineIndent>t?h=1:e.lineIndent===t?h=0:e.lineIndent<t&&(h=-1)):u=!1;if(u&&(u=f||a),(h===1||B4===n)&&(F4===n||iae===n?b=t:b=t+1,T=e.position-e.lineStart,h===1?u&&(wN(e,T)||Tae(e,T,b))||yae(e,b)?d=!0:(l&&bae(e,b)||mae(e,b)||vae(e,b)?d=!0:xae(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&Wt(e,"alias node should not have any properties")):gae(e,b,F4===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):h===0&&(d=u&&wN(e,T))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Wt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,g=e.implicitTypes.length;p<g;p+=1)if(y=e.implicitTypes[p],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(X0.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,m=e.typeMap.multi[e.kind||"fallback"],p=0,g=m.length;p<g;p+=1)if(e.tag.slice(0,m[p].tag.length)===m[p].tag){y=m[p];break}y||Wt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&Wt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Wt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}I(Zd,"composeNode");function Sae(e){var t=e.position,n,r,a,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(Ei(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!As(l);)l=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),a=[],r.length<1&&Wt(e,"directive name must not be less than one character in length");l!==0;){for(;F0(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!oc(l));break}if(oc(l))break;for(n=e.position;l!==0&&!As(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(n,e.position))}l!==0&&WA(e),X0.call(XU,r)?XU[r](e,r,a):_b(e,'unknown document directive "'+r+'"')}if(Ei(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ei(e,!0,-1)):o&&Wt(e,"directives end mark is expected"),Zd(e,e.lineIndent-1,B4,!1,!0),Ei(e,!0,-1),e.checkLineBreaks&&HGe.test(e.input.slice(t,e.position))&&_b(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&iE(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ei(e,!0,-1));return}if(e.position<e.length-1)Wt(e,"end of the stream or a document separator is expected");else return}I(Sae,"readDocument");function N9(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new pae(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,Wt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Sae(n);return n.documents}I(N9,"loadDocuments");function WGe(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=N9(e,n);if(typeof t!="function")return r;for(var a=0,o=r.length;a<o;a+=1)t(r[a])}I(WGe,"loadAll$1");function Aae(e,t){var n=N9(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new to("expected a single document in the stream, but found more")}}I(Aae,"load$1");var UGe=Aae,GGe={load:UGe},Iae=Object.prototype.toString,Cae=Object.prototype.hasOwnProperty,L9=65279,zGe=9,Db=10,YGe=13,VGe=32,qGe=33,jGe=34,xN=35,XGe=37,KGe=38,ZGe=39,QGe=42,Rae=44,JGe=45,H4=58,eze=61,tze=62,nze=63,rze=64,kae=91,Oae=93,ize=96,Nae=123,aze=124,Lae=125,os={};os[0]="\\0";os[7]="\\a";os[8]="\\b";os[9]="\\t";os[10]="\\n";os[11]="\\v";os[12]="\\f";os[13]="\\r";os[27]="\\e";os[34]='\\"';os[92]="\\\\";os[133]="\\N";os[160]="\\_";os[8232]="\\L";os[8233]="\\P";var sze=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],oze=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function _ae(e,t){var n,r,a,o,l,u,h;if(t===null)return{};for(n={},r=Object.keys(t),a=0,o=r.length;a<o;a+=1)l=r[a],u=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),h=e.compiledTypeMap.fallback[l],h&&Cae.call(h.styleAliases,u)&&(u=h.styleAliases[u]),n[l]=u;return n}I(_ae,"compileStyleMap");function Dae(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new to("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Yi.repeat("0",r-t.length)+t}I(Dae,"encodeHex");var lze=1,Mb=2;function Mae(e){this.schema=e.schema||rae,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Yi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=_ae(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Mb:lze,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}I(Mae,"State");function SN(e,t){for(var n=Yi.repeat(" ",t),r=0,a=-1,o="",l,u=e.length;r<u;)a=e.indexOf(`
`,r),a===-1?(l=e.slice(r),r=u):(l=e.slice(r,a+1),r=a+1),l.length&&l!==`
`&&(o+=n),o+=l;return o}I(SN,"indentString");function $4(e,t){return`
`+Yi.repeat(" ",e.indent*t)}I($4,"generateNextLine");function Pae(e,t){var n,r,a;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(a=e.implicitTypes[n],a.resolve(t))return!0;return!1}I(Pae,"testImplicitResolving");function Pb(e){return e===VGe||e===zGe}I(Pb,"isWhitespace");function km(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==L9||65536<=e&&e<=1114111}I(km,"isPrintable");function AN(e){return km(e)&&e!==L9&&e!==YGe&&e!==Db}I(AN,"isNsCharOrWhitespace");function IN(e,t,n){var r=AN(e),a=r&&!Pb(e);return(n?r:r&&e!==Rae&&e!==kae&&e!==Oae&&e!==Nae&&e!==Lae)&&e!==xN&&!(t===H4&&!a)||AN(t)&&!Pb(t)&&e===xN||t===H4&&a}I(IN,"isPlainSafe");function Fae(e){return km(e)&&e!==L9&&!Pb(e)&&e!==JGe&&e!==nze&&e!==H4&&e!==Rae&&e!==kae&&e!==Oae&&e!==Nae&&e!==Lae&&e!==xN&&e!==KGe&&e!==QGe&&e!==qGe&&e!==aze&&e!==eze&&e!==tze&&e!==ZGe&&e!==jGe&&e!==XGe&&e!==rze&&e!==ize}I(Fae,"isPlainSafeFirst");function Bae(e){return!Pb(e)&&e!==H4}I(Bae,"isPlainSafeLast");function Ug(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}I(Ug,"codePointAt");function _9(e){var t=/^\n* /;return t.test(e)}I(_9,"needIndentIndicator");var Hae=1,CN=2,$ae=3,Wae=4,kg=5;function Uae(e,t,n,r,a,o,l,u){var h,f=0,d=null,p=!1,g=!1,m=r!==-1,y=-1,b=Fae(Ug(e,0))&&Bae(Ug(e,e.length-1));if(t||l)for(h=0;h<e.length;f>=65536?h+=2:h++){if(f=Ug(e,h),!km(f))return kg;b=b&&IN(f,d,u),d=f}else{for(h=0;h<e.length;f>=65536?h+=2:h++){if(f=Ug(e,h),f===Db)p=!0,m&&(g=g||h-y-1>r&&e[y+1]!==" ",y=h);else if(!km(f))return kg;b=b&&IN(f,d,u),d=f}g=g||m&&h-y-1>r&&e[y+1]!==" "}return!p&&!g?b&&!l&&!a(e)?Hae:o===Mb?kg:CN:n>9&&_9(e)?kg:l?o===Mb?kg:CN:g?Wae:$ae}I(Uae,"chooseScalarStyle");function Gae(e,t,n,r,a){e.dump=function(){if(t.length===0)return e.quotingType===Mb?'""':"''";if(!e.noCompatMode&&(sze.indexOf(t)!==-1||oze.test(t)))return e.quotingType===Mb?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=r||e.flowLevel>-1&&n>=e.flowLevel;function h(f){return Pae(e,f)}switch(I(h,"testAmbiguity"),Uae(t,u,e.indent,l,h,e.quotingType,e.forceQuotes&&!r,a)){case Hae:return t;case CN:return"'"+t.replace(/'/g,"''")+"'";case $ae:return"|"+RN(t,e.indent)+kN(SN(t,o));case Wae:return">"+RN(t,e.indent)+kN(SN(zae(t,l),o));case kg:return'"'+Yae(t)+'"';default:throw new to("impossible error: invalid scalar style")}}()}I(Gae,"writeScalar");function RN(e,t){var n=_9(e)?String(t):"",r=e[e.length-1]===`
`,a=r&&(e[e.length-2]===`
`||e===`
`),o=a?"+":r?"":"-";return n+o+`
`}I(RN,"blockHeader");function kN(e){return e[e.length-1]===`
`?e.slice(0,-1):e}I(kN,"dropEndingNewline");function zae(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,n.lastIndex=f,ON(e.slice(0,f),t)}(),a=e[0]===`
`||e[0]===" ",o,l;l=n.exec(e);){var u=l[1],h=l[2];o=h[0]===" ",r+=u+(!a&&!o&&h!==""?`
`:"")+ON(h,t),a=o}return r}I(zae,"foldString");function ON(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,a=0,o,l=0,u=0,h="";r=n.exec(e);)u=r.index,u-a>t&&(o=l>a?l:u,h+=`
`+e.slice(a,o),a=o+1),l=u;return h+=`
`,e.length-a>t&&l>a?h+=e.slice(a,l)+`
`+e.slice(l+1):h+=e.slice(a),h.slice(1)}I(ON,"foldLine");function Yae(e){for(var t="",n=0,r,a=0;a<e.length;n>=65536?a+=2:a++)n=Ug(e,a),r=os[n],!r&&km(n)?(t+=e[a],n>=65536&&(t+=e[a+1])):t+=r||Dae(n);return t}I(Yae,"escapeString");function Vae(e,t,n){var r="",a=e.tag,o,l,u;for(o=0,l=n.length;o<l;o+=1)u=n[o],e.replacer&&(u=e.replacer.call(n,String(o),u)),(pu(e,t,u,!1,!1)||typeof u>"u"&&pu(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=a,e.dump="["+r+"]"}I(Vae,"writeFlowSequence");function NN(e,t,n,r){var a="",o=e.tag,l,u,h;for(l=0,u=n.length;l<u;l+=1)h=n[l],e.replacer&&(h=e.replacer.call(n,String(l),h)),(pu(e,t+1,h,!0,!0,!1,!0)||typeof h>"u"&&pu(e,t+1,null,!0,!0,!1,!0))&&((!r||a!=="")&&(a+=$4(e,t)),e.dump&&Db===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}I(NN,"writeBlockSequence");function qae(e,t,n){var r="",a=e.tag,o=Object.keys(n),l,u,h,f,d;for(l=0,u=o.length;l<u;l+=1)d="",r!==""&&(d+=", "),e.condenseFlow&&(d+='"'),h=o[l],f=n[h],e.replacer&&(f=e.replacer.call(n,h,f)),pu(e,t,h,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),pu(e,t,f,!1,!1)&&(d+=e.dump,r+=d));e.tag=a,e.dump="{"+r+"}"}I(qae,"writeFlowMapping");function jae(e,t,n,r){var a="",o=e.tag,l=Object.keys(n),u,h,f,d,p,g;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new to("sortKeys must be a boolean or a function");for(u=0,h=l.length;u<h;u+=1)g="",(!r||a!=="")&&(g+=$4(e,t)),f=l[u],d=n[f],e.replacer&&(d=e.replacer.call(n,f,d)),pu(e,t+1,f,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Db===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,p&&(g+=$4(e,t)),pu(e,t+1,d,!0,p)&&(e.dump&&Db===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,a+=g));e.tag=o,e.dump=a||"{}"}I(jae,"writeBlockMapping");function LN(e,t,n){var r,a,o,l,u,h;for(a=n?e.explicitTypes:e.implicitTypes,o=0,l=a.length;o<l;o+=1)if(u=a[o],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof t=="object"&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(n?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(h=e.styleMap[u.tag]||u.defaultStyle,Iae.call(u.represent)==="[object Function]")r=u.represent(t,h);else if(Cae.call(u.represent,h))r=u.represent[h](t,h);else throw new to("!<"+u.tag+'> tag resolver accepts not "'+h+'" style');e.dump=r}return!0}return!1}I(LN,"detectType");function pu(e,t,n,r,a,o,l){e.tag=null,e.dump=n,LN(e,n,!1)||LN(e,n,!0);var u=Iae.call(e.dump),h=r,f;r&&(r=e.flowLevel<0||e.flowLevel>t);var d=u==="[object Object]"||u==="[object Array]",p,g;if(d&&(p=e.duplicates.indexOf(n),g=p!==-1),(e.tag!==null&&e.tag!=="?"||g||e.indent!==2&&t>0)&&(a=!1),g&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&g&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),u==="[object Object]")r&&Object.keys(e.dump).length!==0?(jae(e,t,e.dump,a),g&&(e.dump="&ref_"+p+e.dump)):(qae(e,t,e.dump),g&&(e.dump="&ref_"+p+" "+e.dump));else if(u==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?NN(e,t-1,e.dump,a):NN(e,t,e.dump,a),g&&(e.dump="&ref_"+p+e.dump)):(Vae(e,t,e.dump),g&&(e.dump="&ref_"+p+" "+e.dump));else if(u==="[object String]")e.tag!=="?"&&Gae(e,e.dump,t,o,h);else{if(u==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new to("unacceptable kind of an object to dump "+u)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}I(pu,"writeNode");function Xae(e,t){var n=[],r=[],a,o;for(W4(e,n,r),a=0,o=r.length;a<o;a+=1)t.duplicates.push(n[r[a]]);t.usedDuplicates=new Array(o)}I(Xae,"getDuplicateReferences");function W4(e,t,n){var r,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)n.indexOf(a)===-1&&n.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)W4(e[a],t,n);else for(r=Object.keys(e),a=0,o=r.length;a<o;a+=1)W4(e[r[a]],t,n)}I(W4,"inspectNode");function cze(e,t){t=t||{};var n=new Mae(t);n.noRefs||Xae(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),pu(n,0,r,!0,!0)?n.dump+`
`:""}I(cze,"dump$1");function uze(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}I(uze,"renamed");var D9=$ie,M9=GGe.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const hze=Object.freeze({left:0,top:0,width:16,height:16}),U4=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Kae=Object.freeze({...hze,...U4}),fze=Object.freeze({...Kae,body:"",hidden:!1}),dze=Object.freeze({width:null,height:null}),pze=Object.freeze({...dze,...U4}),gze=(e,t,n,r="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;r=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const u=a.pop(),h=a.pop(),f={provider:a.length>0?a[0]:r,prefix:h,name:u};return hR(f)?f:null}const o=a[0],l=o.split("-");if(l.length>1){const u={provider:r,prefix:l.shift(),name:l.join("-")};return hR(u)?u:null}if(n&&r===""){const u={provider:r,prefix:"",name:o};return hR(u,n)?u:null}return null},hR=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function mze(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function KU(e,t){const n=mze(e,t);for(const r in fze)r in U4?r in e&&!(r in n)&&(n[r]=U4[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function vze(e,t){const n=e.icons,r=e.aliases||Object.create(null),a=Object.create(null);function o(l){if(n[l])return a[l]=[];if(!(l in a)){a[l]=null;const u=r[l]&&r[l].parent,h=u&&o(u);h&&(a[l]=[u].concat(h))}return a[l]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(o),a}function ZU(e,t,n){const r=e.icons,a=e.aliases||Object.create(null);let o={};function l(u){o=KU(r[u]||a[u],o)}return l(t),n.forEach(l),KU(e,o)}function yze(e,t){if(e.icons[t])return ZU(e,t,[]);const n=vze(e,[t])[t];return n?ZU(e,t,n):null}const bze=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Tze=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function QU(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(bze);if(r===null||!r.length)return e;const a=[];let o=r.shift(),l=Tze.test(o);for(;;){if(l){const u=parseFloat(o);isNaN(u)?a.push(o):a.push(Math.ceil(u*t*n)/n)}else a.push(o);if(o=r.shift(),o===void 0)return a.join("");l=!l}}function Eze(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const a=e.indexOf(">",r),o=e.indexOf("</"+t);if(a===-1||o===-1)break;const l=e.indexOf(">",o);if(l===-1)break;n+=e.slice(a+1,o).trim(),e=e.slice(0,r).trim()+e.slice(l+1)}return{defs:n,content:e}}function wze(e,t){return e?"<defs>"+e+"</defs>"+t:t}function xze(e,t,n){const r=Eze(e);return wze(r.defs,t+r.content+n)}const Sze=e=>e==="unset"||e==="undefined"||e==="none";function Aze(e,t){const n={...Kae,...e},r={...pze,...t},a={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(b=>{const T=[],E=b.hFlip,w=b.vFlip;let x=b.rotate;E?w?x+=2:(T.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),T.push("scale(-1 1)"),a.top=a.left=0):w&&(T.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),T.push("scale(1 -1)"),a.top=a.left=0);let S;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:S=a.height/2+a.top,T.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:T.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:S=a.width/2+a.left,T.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}x%2===1&&(a.left!==a.top&&(S=a.left,a.left=a.top,a.top=S),a.width!==a.height&&(S=a.width,a.width=a.height,a.height=S)),T.length&&(o=xze(o,'<g transform="'+T.join(" ")+'">',"</g>"))});const l=r.width,u=r.height,h=a.width,f=a.height;let d,p;l===null?(p=u===null?"1em":u==="auto"?f:u,d=QU(p,h/f)):(d=l==="auto"?h:l,p=u===null?QU(d,f/h):u==="auto"?f:u);const g={},m=(b,T)=>{Sze(T)||(g[b]=T.toString())};m("width",d),m("height",p);const y=[a.left,a.top,h,f];return g.viewBox=y.join(" "),{attributes:g,viewBox:y,body:o}}const Ize=/\sid="(\S+)"/g,Cze="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Rze=0;function kze(e,t=Cze){const n=[];let r;for(;r=Ize.exec(e);)n.push(r[1]);if(!n.length)return e;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(o=>{const l=typeof t=="function"?t(o):t+(Rze++).toString(),u=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+u+')([")]|\\.[a-z])',"g"),"$1"+l+a+"$3")}),e=e.replace(new RegExp(a,"g"),""),e}function Oze(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}var Zae={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},_N=new Map,Qae=new Map,Jae=I(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ve.debug("Registering icon pack:",t.name),"loader"in t)Qae.set(t.name,t.loader);else if("icons"in t)_N.set(t.name,t.icons);else throw ve.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Nze=I(async(e,t)=>{const n=gze(e,!0,t!==void 0);if(!n)throw new Error(`Invalid icon name: ${e}`);const r=n.prefix||t;if(!r)throw new Error(`Icon name must contain a prefix: ${e}`);let a=_N.get(r);if(!a){const l=Qae.get(r);if(!l)throw new Error(`Icon set not found: ${n.prefix}`);try{a={...await l(),prefix:r},_N.set(r,a)}catch(u){throw ve.error(u),new Error(`Failed to load icon set: ${n.prefix}`)}}const o=yze(a,n.name);if(!o)throw new Error(`Icon not found: ${e}`);return o},"getRegisteredIconData"),Qd=I(async(e,t)=>{let n;try{n=await Nze(e,t==null?void 0:t.fallbackPrefix)}catch(o){ve.error(o),n=Zae}const r=Aze(n,t);return Oze(kze(r.body),r.attributes)},"getIconSVG"),aE=I(({flowchart:e})=>{var a,o;const t=((a=e==null?void 0:e.subGraphTitleMargin)==null?void 0:a.top)??0,n=((o=e==null?void 0:e.subGraphTitleMargin)==null?void 0:o.bottom)??0,r=t+n;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),P9={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.BLANK_URL=aa.relativeFirstCharacters=aa.whitespaceEscapeCharsRegex=aa.urlSchemeRegex=aa.ctrlCharactersRegex=aa.htmlCtrlEntityRegex=aa.htmlEntitiesRegex=aa.invalidProtocolRegex=void 0;aa.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;aa.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;aa.htmlCtrlEntityRegex=/&(newline|tab);/gi;aa.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;aa.urlSchemeRegex=/^.+(:|&colon;)/gim;aa.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;aa.relativeFirstCharacters=[".","/"];aa.BLANK_URL="about:blank";Object.defineProperty(P9,"__esModule",{value:!0});var Af=P9.sanitizeUrl=void 0,Wa=aa;function Lze(e){return Wa.relativeFirstCharacters.indexOf(e[0])>-1}function _ze(e){var t=e.replace(Wa.ctrlCharactersRegex,"");return t.replace(Wa.htmlEntitiesRegex,function(n,r){return String.fromCharCode(r)})}function Dze(e){return URL.canParse(e)}function JU(e){try{return decodeURIComponent(e)}catch{return e}}function Mze(e){if(!e)return Wa.BLANK_URL;var t,n=JU(e.trim());do n=_ze(n).replace(Wa.htmlCtrlEntityRegex,"").replace(Wa.ctrlCharactersRegex,"").replace(Wa.whitespaceEscapeCharsRegex,"").trim(),n=JU(n),t=n.match(Wa.ctrlCharactersRegex)||n.match(Wa.htmlEntitiesRegex)||n.match(Wa.htmlCtrlEntityRegex)||n.match(Wa.whitespaceEscapeCharsRegex);while(t&&t.length>0);var r=n;if(!r)return Wa.BLANK_URL;if(Lze(r))return r;var a=r.trimStart(),o=a.match(Wa.urlSchemeRegex);if(!o)return r;var l=o[0].toLowerCase().trim();if(Wa.invalidProtocolRegex.test(l))return Wa.BLANK_URL;var u=a.replace(/\\/g,"/");if(l==="mailto:"||l.includes("://"))return u;if(l==="http:"||l==="https:"){if(!Dze(u))return Wa.BLANK_URL;var h=new URL(u);return h.protocol=h.protocol.toLowerCase(),h.hostname=h.hostname.toLowerCase(),h.toString()}return u}Af=P9.sanitizeUrl=Mze;function hx(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pze(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F9(e){let t,n,r;e.length!==2?(t=hx,n=(u,h)=>hx(e(u),h),r=(u,h)=>e(u)-h):(t=e===hx||e===Pze?e:Fze,n=e,r=e);function a(u,h,f=0,d=u.length){if(f<d){if(t(h,h)!==0)return d;do{const p=f+d>>>1;n(u[p],h)<0?f=p+1:d=p}while(f<d)}return f}function o(u,h,f=0,d=u.length){if(f<d){if(t(h,h)!==0)return d;do{const p=f+d>>>1;n(u[p],h)<=0?f=p+1:d=p}while(f<d)}return f}function l(u,h,f=0,d=u.length){const p=a(u,h,f,d-1);return p>f&&r(u[p-1],h)>-r(u[p],h)?p-1:p}return{left:a,center:l,right:o}}function Fze(){return 0}function Bze(e){return e===null?NaN:+e}const Hze=F9(hx),$ze=Hze.right;F9(Bze).center;class eG extends Map{constructor(t,n=Gze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(tG(this,t))}has(t){return super.has(tG(this,t))}set(t,n){return super.set(Wze(this,t),n)}delete(t){return super.delete(Uze(this,t))}}function tG({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Wze({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Uze({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Gze(e){return e!==null&&typeof e=="object"?e.valueOf():e}const zze=Math.sqrt(50),Yze=Math.sqrt(10),Vze=Math.sqrt(2);function G4(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=zze?10:o>=Yze?5:o>=Vze?2:1;let u,h,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),h=Math.round(t*f),u/f<e&&++u,h/f>t&&--h,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),h=Math.round(t/f),u*f<e&&++u,h*f>t&&--h),h<u&&.5<=n&&n<2?G4(e,t,n*2):[u,h,f]}function qze(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,o,l]=r?G4(t,e,n):G4(e,t,n);if(!(o>=a))return[];const u=o-a+1,h=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)h[f]=(o-f)/-l;else for(let f=0;f<u;++f)h[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)h[f]=(a+f)/-l;else for(let f=0;f<u;++f)h[f]=(a+f)*l;return h}function DN(e,t,n){return t=+t,e=+e,n=+n,G4(e,t,n)[2]}function MN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?DN(t,e,n):DN(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function jze(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Xze(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function Kze(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}function Zze(e){return e}var fx=1,fR=2,PN=3,Vw=4,nG=1e-6;function Qze(e){return"translate("+e+",0)"}function Jze(e){return"translate(0,"+e+")"}function eYe(e){return t=>+e(t)}function tYe(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function nYe(){return!this.__axis}function ese(e,t){var n=[],r=null,a=null,o=6,l=6,u=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===fx||e===Vw?-1:1,d=e===Vw||e===fR?"x":"y",p=e===fx||e===PN?Qze:Jze;function g(m){var y=r??(t.ticks?t.ticks.apply(t,n):t.domain()),b=a??(t.tickFormat?t.tickFormat.apply(t,n):Zze),T=Math.max(o,0)+u,E=t.range(),w=+E[0]+h,x=+E[E.length-1]+h,S=(t.bandwidth?tYe:eYe)(t.copy(),h),A=m.selection?m.selection():m,R=A.selectAll(".domain").data([null]),C=A.selectAll(".tick").data(y,t).order(),N=C.exit(),O=C.enter().append("g").attr("class","tick"),L=C.select("line"),k=C.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(O),L=L.merge(O.append("line").attr("stroke","currentColor").attr(d+"2",f*o)),k=k.merge(O.append("text").attr("fill","currentColor").attr(d,f*T).attr("dy",e===fx?"0em":e===PN?"0.71em":"0.32em")),m!==A&&(R=R.transition(m),C=C.transition(m),L=L.transition(m),k=k.transition(m),N=N.transition(m).attr("opacity",nG).attr("transform",function(M){return isFinite(M=S(M))?p(M+h):this.getAttribute("transform")}),O.attr("opacity",nG).attr("transform",function(M){var $=this.parentNode.__axis;return p(($&&isFinite($=$(M))?$:S(M))+h)})),N.remove(),R.attr("d",e===Vw||e===fR?l?"M"+f*l+","+w+"H"+h+"V"+x+"H"+f*l:"M"+h+","+w+"V"+x:l?"M"+w+","+f*l+"V"+h+"H"+x+"V"+f*l:"M"+w+","+h+"H"+x),C.attr("opacity",1).attr("transform",function(M){return p(S(M)+h)}),L.attr(d+"2",f*o),k.attr(d,f*T).text(b),A.filter(nYe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===fR?"start":e===Vw?"end":"middle"),A.each(function(){this.__axis=S})}return g.scale=function(m){return arguments.length?(t=m,g):t},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),g):n.slice()},g.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),g):r&&r.slice()},g.tickFormat=function(m){return arguments.length?(a=m,g):a},g.tickSize=function(m){return arguments.length?(o=l=+m,g):o},g.tickSizeInner=function(m){return arguments.length?(o=+m,g):o},g.tickSizeOuter=function(m){return arguments.length?(l=+m,g):l},g.tickPadding=function(m){return arguments.length?(u=+m,g):u},g.offset=function(m){return arguments.length?(h=+m,g):h},g}function rYe(e){return ese(fx,e)}function iYe(e){return ese(PN,e)}var aYe={value:()=>{}};function tse(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dx(n)}function dx(e){this._=e}function sYe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}dx.prototype=tse.prototype={constructor:dx,on:function(e,t){var n=this._,r=sYe(e+"",n),a,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((a=(e=r[o]).type)&&(a=oYe(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(a=(e=r[o]).type)n[a]=rG(n[a],e.name,t);else if(t==null)for(a in n)n[a]=rG(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dx(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function oYe(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function rG(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=aYe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var FN="http://www.w3.org/1999/xhtml";const iG={svg:"http://www.w3.org/2000/svg",xhtml:FN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function GA(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),iG.hasOwnProperty(t)?{space:iG[t],local:e}:e}function lYe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===FN&&t.documentElement.namespaceURI===FN?t.createElement(e):t.createElementNS(n,e)}}function cYe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nse(e){var t=GA(e);return(t.local?cYe:lYe)(t)}function uYe(){}function B9(e){return e==null?uYe:function(){return this.querySelector(e)}}function hYe(e){typeof e!="function"&&(e=B9(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],l=o.length,u=r[a]=new Array(l),h,f,d=0;d<l;++d)(h=o[d])&&(f=e.call(h,h.__data__,d,o))&&("__data__"in h&&(f.__data__=h.__data__),u[d]=f);return new Wo(r,this._parents)}function fYe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dYe(){return[]}function rse(e){return e==null?dYe:function(){return this.querySelectorAll(e)}}function pYe(e){return function(){return fYe(e.apply(this,arguments))}}function gYe(e){typeof e=="function"?e=pYe(e):e=rse(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var l=t[o],u=l.length,h,f=0;f<u;++f)(h=l[f])&&(r.push(e.call(h,h.__data__,f,l)),a.push(h));return new Wo(r,a)}function ise(e){return function(){return this.matches(e)}}function ase(e){return function(t){return t.matches(e)}}var mYe=Array.prototype.find;function vYe(e){return function(){return mYe.call(this.children,e)}}function yYe(){return this.firstElementChild}function bYe(e){return this.select(e==null?yYe:vYe(typeof e=="function"?e:ase(e)))}var TYe=Array.prototype.filter;function EYe(){return Array.from(this.children)}function wYe(e){return function(){return TYe.call(this.children,e)}}function xYe(e){return this.selectAll(e==null?EYe:wYe(typeof e=="function"?e:ase(e)))}function SYe(e){typeof e!="function"&&(e=ise(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],l=o.length,u=r[a]=[],h,f=0;f<l;++f)(h=o[f])&&e.call(h,h.__data__,f,o)&&u.push(h);return new Wo(r,this._parents)}function sse(e){return new Array(e.length)}function AYe(){return new Wo(this._enter||this._groups.map(sse),this._parents)}function z4(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}z4.prototype={constructor:z4,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function IYe(e){return function(){return e}}function CYe(e,t,n,r,a,o){for(var l=0,u,h=t.length,f=o.length;l<f;++l)(u=t[l])?(u.__data__=o[l],r[l]=u):n[l]=new z4(e,o[l]);for(;l<h;++l)(u=t[l])&&(a[l]=u)}function RYe(e,t,n,r,a,o,l){var u,h,f=new Map,d=t.length,p=o.length,g=new Array(d),m;for(u=0;u<d;++u)(h=t[u])&&(g[u]=m=l.call(h,h.__data__,u,t)+"",f.has(m)?a[u]=h:f.set(m,h));for(u=0;u<p;++u)m=l.call(e,o[u],u,o)+"",(h=f.get(m))?(r[u]=h,h.__data__=o[u],f.delete(m)):n[u]=new z4(e,o[u]);for(u=0;u<d;++u)(h=t[u])&&f.get(g[u])===h&&(a[u]=h)}function kYe(e){return e.__data__}function OYe(e,t){if(!arguments.length)return Array.from(this,kYe);var n=t?RYe:CYe,r=this._parents,a=this._groups;typeof e!="function"&&(e=IYe(e));for(var o=a.length,l=new Array(o),u=new Array(o),h=new Array(o),f=0;f<o;++f){var d=r[f],p=a[f],g=p.length,m=NYe(e.call(d,d&&d.__data__,f,r)),y=m.length,b=u[f]=new Array(y),T=l[f]=new Array(y),E=h[f]=new Array(g);n(d,p,b,T,E,m,t);for(var w=0,x=0,S,A;w<y;++w)if(S=b[w]){for(w>=x&&(x=w+1);!(A=T[x])&&++x<y;);S._next=A||null}}return l=new Wo(l,r),l._enter=u,l._exit=h,l}function NYe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LYe(){return new Wo(this._exit||this._groups.map(sse),this._parents)}function _Ye(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function DYe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,l=Math.min(a,o),u=new Array(a),h=0;h<l;++h)for(var f=n[h],d=r[h],p=f.length,g=u[h]=new Array(p),m,y=0;y<p;++y)(m=f[y]||d[y])&&(g[y]=m);for(;h<a;++h)u[h]=n[h];return new Wo(u,this._parents)}function MYe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],l;--a>=0;)(l=r[a])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function PYe(e){e||(e=FYe);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var l=n[o],u=l.length,h=a[o]=new Array(u),f,d=0;d<u;++d)(f=l[d])&&(h[d]=f);h.sort(t)}return new Wo(a,this._parents).order()}function FYe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function BYe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HYe(){return Array.from(this)}function $Ye(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var l=r[a];if(l)return l}return null}function WYe(){let e=0;for(const t of this)++e;return e}function UYe(){return!this.node()}function GYe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,l=a.length,u;o<l;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}function zYe(e){return function(){this.removeAttribute(e)}}function YYe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VYe(e,t){return function(){this.setAttribute(e,t)}}function qYe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jYe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XYe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KYe(e,t){var n=GA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?YYe:zYe:typeof t=="function"?n.local?XYe:jYe:n.local?qYe:VYe)(n,t))}function ose(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ZYe(e){return function(){this.style.removeProperty(e)}}function QYe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function JYe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function eVe(e,t,n){return arguments.length>1?this.each((t==null?ZYe:typeof t=="function"?JYe:QYe)(e,t,n??"")):Om(this.node(),e)}function Om(e,t){return e.style.getPropertyValue(t)||ose(e).getComputedStyle(e,null).getPropertyValue(t)}function tVe(e){return function(){delete this[e]}}function nVe(e,t){return function(){this[e]=t}}function rVe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function iVe(e,t){return arguments.length>1?this.each((t==null?tVe:typeof t=="function"?rVe:nVe)(e,t)):this.node()[e]}function lse(e){return e.trim().split(/^|\s+/)}function H9(e){return e.classList||new cse(e)}function cse(e){this._node=e,this._names=lse(e.getAttribute("class")||"")}cse.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function use(e,t){for(var n=H9(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function hse(e,t){for(var n=H9(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function aVe(e){return function(){use(this,e)}}function sVe(e){return function(){hse(this,e)}}function oVe(e,t){return function(){(t.apply(this,arguments)?use:hse)(this,e)}}function lVe(e,t){var n=lse(e+"");if(arguments.length<2){for(var r=H9(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?oVe:t?aVe:sVe)(n,t))}function cVe(){this.textContent=""}function uVe(e){return function(){this.textContent=e}}function hVe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fVe(e){return arguments.length?this.each(e==null?cVe:(typeof e=="function"?hVe:uVe)(e)):this.node().textContent}function dVe(){this.innerHTML=""}function pVe(e){return function(){this.innerHTML=e}}function gVe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function mVe(e){return arguments.length?this.each(e==null?dVe:(typeof e=="function"?gVe:pVe)(e)):this.node().innerHTML}function vVe(){this.nextSibling&&this.parentNode.appendChild(this)}function yVe(){return this.each(vVe)}function bVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TVe(){return this.each(bVe)}function EVe(e){var t=typeof e=="function"?e:nse(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wVe(){return null}function xVe(e,t){var n=typeof e=="function"?e:nse(e),r=t==null?wVe:typeof t=="function"?t:B9(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function SVe(){var e=this.parentNode;e&&e.removeChild(this)}function AVe(){return this.each(SVe)}function IVe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CVe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RVe(e){return this.select(e?CVe:IVe)}function kVe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function OVe(e){return function(t){e.call(this,t,this.__data__)}}function NVe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function LVe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function _Ve(e,t,n){return function(){var r=this.__on,a,o=OVe(t);if(r){for(var l=0,u=r.length;l<u;++l)if((a=r[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function DVe(e,t,n){var r=NVe(e+""),a,o=r.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var h=0,f=u.length,d;h<f;++h)for(a=0,d=u[h];a<o;++a)if((l=r[a]).type===d.type&&l.name===d.name)return d.value}return}for(u=t?_Ve:LVe,a=0;a<o;++a)this.each(u(r[a],t,n));return this}function fse(e,t,n){var r=ose(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function MVe(e,t){return function(){return fse(this,e,t)}}function PVe(e,t){return function(){return fse(this,e,t.apply(this,arguments))}}function FVe(e,t){return this.each((typeof t=="function"?PVe:MVe)(e,t))}function*BVe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,l;a<o;++a)(l=r[a])&&(yield l)}var dse=[null];function Wo(e,t){this._groups=e,this._parents=t}function sE(){return new Wo([[document.documentElement]],dse)}function HVe(){return this}Wo.prototype=sE.prototype={constructor:Wo,select:hYe,selectAll:gYe,selectChild:bYe,selectChildren:xYe,filter:SYe,data:OYe,enter:AYe,exit:LYe,join:_Ye,merge:DYe,selection:HVe,order:MYe,sort:PYe,call:BYe,nodes:HYe,node:$Ye,size:WYe,empty:UYe,each:GYe,attr:KYe,style:eVe,property:iVe,classed:lVe,text:fVe,html:mVe,raise:yVe,lower:TVe,append:EVe,insert:xVe,remove:AVe,clone:RVe,datum:kVe,on:DVe,dispatch:FVe,[Symbol.iterator]:BVe};function it(e){return typeof e=="string"?new Wo([[document.querySelector(e)]],[document.documentElement]):new Wo([[e]],dse)}function oE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _p(){}var Fb=.7,Y4=1/Fb,g1="\\s*([+-]?\\d+)\\s*",Bb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Ve=/^#([0-9a-f]{3,8})$/,WVe=new RegExp(`^rgb\\(${g1},${g1},${g1}\\)$`),UVe=new RegExp(`^rgb\\(${uu},${uu},${uu}\\)$`),GVe=new RegExp(`^rgba\\(${g1},${g1},${g1},${Bb}\\)$`),zVe=new RegExp(`^rgba\\(${uu},${uu},${uu},${Bb}\\)$`),YVe=new RegExp(`^hsl\\(${Bb},${uu},${uu}\\)$`),VVe=new RegExp(`^hsla\\(${Bb},${uu},${uu},${Bb}\\)$`),aG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oE(_p,Jd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sG,formatHex:sG,formatHex8:qVe,formatHsl:jVe,formatRgb:oG,toString:oG});function sG(){return this.rgb().formatHex()}function qVe(){return this.rgb().formatHex8()}function jVe(){return gse(this).formatHsl()}function oG(){return this.rgb().formatRgb()}function Jd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$Ve.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lG(t):n===3?new Ka(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WVe.exec(e))?new Ka(t[1],t[2],t[3],1):(t=UVe.exec(e))?new Ka(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GVe.exec(e))?qw(t[1],t[2],t[3],t[4]):(t=zVe.exec(e))?qw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YVe.exec(e))?hG(t[1],t[2]/100,t[3]/100,1):(t=VVe.exec(e))?hG(t[1],t[2]/100,t[3]/100,t[4]):aG.hasOwnProperty(e)?lG(aG[e]):e==="transparent"?new Ka(NaN,NaN,NaN,0):null}function lG(e){return new Ka(e>>16&255,e>>8&255,e&255,1)}function qw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ka(e,t,n,r)}function pse(e){return e instanceof _p||(e=Jd(e)),e?(e=e.rgb(),new Ka(e.r,e.g,e.b,e.opacity)):new Ka}function BN(e,t,n,r){return arguments.length===1?pse(e):new Ka(e,t,n,r??1)}function Ka(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}oE(Ka,BN,zA(_p,{brighter(e){return e=e==null?Y4:Math.pow(Y4,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fb:Math.pow(Fb,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ka(Wd(this.r),Wd(this.g),Wd(this.b),V4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cG,formatHex:cG,formatHex8:XVe,formatRgb:uG,toString:uG}));function cG(){return`#${kd(this.r)}${kd(this.g)}${kd(this.b)}`}function XVe(){return`#${kd(this.r)}${kd(this.g)}${kd(this.b)}${kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function uG(){const e=V4(this.opacity);return`${e===1?"rgb(":"rgba("}${Wd(this.r)}, ${Wd(this.g)}, ${Wd(this.b)}${e===1?")":`, ${e})`}`}function V4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kd(e){return e=Wd(e),(e<16?"0":"")+e.toString(16)}function hG(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nc(e,t,n,r)}function gse(e){if(e instanceof nc)return new nc(e.h,e.s,e.l,e.opacity);if(e instanceof _p||(e=Jd(e)),!e)return new nc;if(e instanceof nc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-a,h=(o+a)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=h<.5?o+a:2-o-a,l*=60):u=h>0&&h<1?0:l,new nc(l,u,h,e.opacity)}function KVe(e,t,n,r){return arguments.length===1?gse(e):new nc(e,t,n,r??1)}function nc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}oE(nc,KVe,zA(_p,{brighter(e){return e=e==null?Y4:Math.pow(Y4,e),new nc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fb:Math.pow(Fb,e),new nc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ka(dR(e>=240?e-240:e+120,a,r),dR(e,a,r),dR(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new nc(fG(this.h),jw(this.s),jw(this.l),V4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=V4(this.opacity);return`${e===1?"hsl(":"hsla("}${fG(this.h)}, ${jw(this.s)*100}%, ${jw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fG(e){return e=(e||0)%360,e<0?e+360:e}function jw(e){return Math.max(0,Math.min(1,e||0))}function dR(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ZVe=Math.PI/180,QVe=180/Math.PI,q4=18,mse=.96422,vse=1,yse=.82521,bse=4/29,m1=6/29,Tse=3*m1*m1,JVe=m1*m1*m1;function Ese(e){if(e instanceof hu)return new hu(e.l,e.a,e.b,e.opacity);if(e instanceof ih)return wse(e);e instanceof Ka||(e=pse(e));var t=vR(e.r),n=vR(e.g),r=vR(e.b),a=pR((.2225045*t+.7168786*n+.0606169*r)/vse),o,l;return t===n&&n===r?o=l=a:(o=pR((.4360747*t+.3850649*n+.1430804*r)/mse),l=pR((.0139322*t+.0971045*n+.7141733*r)/yse)),new hu(116*a-16,500*(o-a),200*(a-l),e.opacity)}function eqe(e,t,n,r){return arguments.length===1?Ese(e):new hu(e,t,n,r??1)}function hu(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}oE(hu,eqe,zA(_p,{brighter(e){return new hu(this.l+q4*(e??1),this.a,this.b,this.opacity)},darker(e){return new hu(this.l-q4*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=mse*gR(t),e=vse*gR(e),n=yse*gR(n),new Ka(mR(3.1338561*t-1.6168667*e-.4906146*n),mR(-.9787684*t+1.9161415*e+.033454*n),mR(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function pR(e){return e>JVe?Math.pow(e,1/3):e/Tse+bse}function gR(e){return e>m1?e*e*e:Tse*(e-bse)}function mR(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function vR(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function tqe(e){if(e instanceof ih)return new ih(e.h,e.c,e.l,e.opacity);if(e instanceof hu||(e=Ese(e)),e.a===0&&e.b===0)return new ih(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*QVe;return new ih(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function HN(e,t,n,r){return arguments.length===1?tqe(e):new ih(e,t,n,r??1)}function ih(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function wse(e){if(isNaN(e.h))return new hu(e.l,0,0,e.opacity);var t=e.h*ZVe;return new hu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}oE(ih,HN,zA(_p,{brighter(e){return new ih(this.h,this.c,this.l+q4*(e??1),this.opacity)},darker(e){return new ih(this.h,this.c,this.l-q4*(e??1),this.opacity)},rgb(){return wse(this).rgb()}}));const YA=e=>()=>e;function xse(e,t){return function(n){return e+n*t}}function nqe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rqe(e,t){var n=t-e;return n?xse(e,n>180||n<-180?n-360*Math.round(n/360):n):YA(isNaN(e)?t:e)}function iqe(e){return(e=+e)==1?j2:function(t,n){return n-t?nqe(t,n,e):YA(isNaN(t)?n:t)}}function j2(e,t){var n=t-e;return n?xse(e,n):YA(isNaN(e)?t:e)}const j4=function e(t){var n=iqe(t);function r(a,o){var l=n((a=BN(a)).r,(o=BN(o)).r),u=n(a.g,o.g),h=n(a.b,o.b),f=j2(a.opacity,o.opacity);return function(d){return a.r=l(d),a.g=u(d),a.b=h(d),a.opacity=f(d),a+""}}return r.gamma=e,r}(1);function aqe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function sqe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oqe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)a[l]=$9(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=a[l](u);return o}}function lqe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cqe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=$9(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var $N=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yR=new RegExp($N.source,"g");function uqe(e){return function(){return e}}function hqe(e){return function(t){return e(t)+""}}function Sse(e,t){var n=$N.lastIndex=yR.lastIndex=0,r,a,o,l=-1,u=[],h=[];for(e=e+"",t=t+"";(r=$N.exec(e))&&(a=yR.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,h.push({i:l,x:Jl(r,a)})),n=yR.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?h[0]?hqe(h[0].x):uqe(t):(t=h.length,function(f){for(var d=0,p;d<t;++d)u[(p=h[d]).i]=p.x(f);return u.join("")})}function $9(e,t){var n=typeof t,r;return t==null||n==="boolean"?YA(t):(n==="number"?Jl:n==="string"?(r=Jd(t))?(t=r,j4):Sse:t instanceof Jd?j4:t instanceof Date?lqe:sqe(t)?aqe:Array.isArray(t)?oqe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cqe:Jl)(e,t)}function fqe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var dG=180/Math.PI,WN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ase(e,t,n,r,a,o){var l,u,h;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(h=e*n+t*r)&&(n-=e*h,r-=t*h),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,h/=u),e*r<t*n&&(e=-e,t=-t,h=-h,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*dG,skewX:Math.atan(h)*dG,scaleX:l,scaleY:u}}var Xw;function dqe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?WN:Ase(t.a,t.b,t.c,t.d,t.e,t.f)}function pqe(e){return e==null||(Xw||(Xw=document.createElementNS("http://www.w3.org/2000/svg","g")),Xw.setAttribute("transform",e),!(e=Xw.transform.baseVal.consolidate()))?WN:(e=e.matrix,Ase(e.a,e.b,e.c,e.d,e.e,e.f))}function Ise(e,t,n,r){function a(f){return f.length?f.pop()+" ":""}function o(f,d,p,g,m,y){if(f!==p||d!==g){var b=m.push("translate(",null,t,null,n);y.push({i:b-4,x:Jl(f,p)},{i:b-2,x:Jl(d,g)})}else(p||g)&&m.push("translate("+p+t+g+n)}function l(f,d,p,g){f!==d?(f-d>180?d+=360:d-f>180&&(f+=360),g.push({i:p.push(a(p)+"rotate(",null,r)-2,x:Jl(f,d)})):d&&p.push(a(p)+"rotate("+d+r)}function u(f,d,p,g){f!==d?g.push({i:p.push(a(p)+"skewX(",null,r)-2,x:Jl(f,d)}):d&&p.push(a(p)+"skewX("+d+r)}function h(f,d,p,g,m,y){if(f!==p||d!==g){var b=m.push(a(m)+"scale(",null,",",null,")");y.push({i:b-4,x:Jl(f,p)},{i:b-2,x:Jl(d,g)})}else(p!==1||g!==1)&&m.push(a(m)+"scale("+p+","+g+")")}return function(f,d){var p=[],g=[];return f=e(f),d=e(d),o(f.translateX,f.translateY,d.translateX,d.translateY,p,g),l(f.rotate,d.rotate,p,g),u(f.skewX,d.skewX,p,g),h(f.scaleX,f.scaleY,d.scaleX,d.scaleY,p,g),f=d=null,function(m){for(var y=-1,b=g.length,T;++y<b;)p[(T=g[y]).i]=T.x(m);return p.join("")}}}var gqe=Ise(dqe,"px, ","px)","deg)"),mqe=Ise(pqe,", ",")",")");function vqe(e){return function(t,n){var r=e((t=HN(t)).h,(n=HN(n)).h),a=j2(t.c,n.c),o=j2(t.l,n.l),l=j2(t.opacity,n.opacity);return function(u){return t.h=r(u),t.c=a(u),t.l=o(u),t.opacity=l(u),t+""}}}const yqe=vqe(rqe);var Nm=0,r2=0,Ly=0,Cse=1e3,X4,i2,K4=0,ep=0,VA=0,Hb=typeof performance=="object"&&performance.now?performance:Date,Rse=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function W9(){return ep||(Rse(bqe),ep=Hb.now()+VA)}function bqe(){ep=0}function Z4(){this._call=this._time=this._next=null}Z4.prototype=kse.prototype={constructor:Z4,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?W9():+n)+(t==null?0:+t),!this._next&&i2!==this&&(i2?i2._next=this:X4=this,i2=this),this._call=e,this._time=n,UN()},stop:function(){this._call&&(this._call=null,this._time=1/0,UN())}};function kse(e,t,n){var r=new Z4;return r.restart(e,t,n),r}function Tqe(){W9(),++Nm;for(var e=X4,t;e;)(t=ep-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Nm}function pG(){ep=(K4=Hb.now())+VA,Nm=r2=0;try{Tqe()}finally{Nm=0,wqe(),ep=0}}function Eqe(){var e=Hb.now(),t=e-K4;t>Cse&&(VA-=t,K4=e)}function wqe(){for(var e,t=X4,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:X4=n);i2=e,UN(r)}function UN(e){if(!Nm){r2&&(r2=clearTimeout(r2));var t=e-ep;t>24?(e<1/0&&(r2=setTimeout(pG,e-Hb.now()-VA)),Ly&&(Ly=clearInterval(Ly))):(Ly||(K4=Hb.now(),Ly=setInterval(Eqe,Cse)),Nm=1,Rse(pG))}}function gG(e,t,n){var r=new Z4;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var xqe=tse("start","end","cancel","interrupt"),Sqe=[],Ose=0,mG=1,GN=2,px=3,vG=4,zN=5,gx=6;function qA(e,t,n,r,a,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Aqe(e,n,{name:t,index:r,group:a,on:xqe,tween:Sqe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ose})}function U9(e,t){var n=Sc(e,t);if(n.state>Ose)throw new Error("too late; already scheduled");return n}function Su(e,t){var n=Sc(e,t);if(n.state>px)throw new Error("too late; already running");return n}function Sc(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Aqe(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=kse(o,0,n.time);function o(f){n.state=mG,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var d,p,g,m;if(n.state!==mG)return h();for(d in r)if(m=r[d],m.name===n.name){if(m.state===px)return gG(l);m.state===vG?(m.state=gx,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=gx,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(gG(function(){n.state===px&&(n.state=vG,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=GN,n.on.call("start",e,e.__data__,n.index,n.group),n.state===GN){for(n.state=px,a=new Array(g=n.tween.length),d=0,p=-1;d<g;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++p]=m);a.length=p+1}}function u(f){for(var d=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(h),n.state=zN,1),p=-1,g=a.length;++p<g;)a[p].call(e,d);n.state===zN&&(n.on.call("end",e,e.__data__,n.index,n.group),h())}function h(){n.state=gx,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function Iqe(e,t){var n=e.__transition,r,a,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}a=r.state>GN&&r.state<zN,r.state=gx,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function Cqe(e){return this.each(function(){Iqe(this,e)})}function Rqe(e,t){var n,r;return function(){var a=Su(this,e),o=a.tween;if(o!==n){r=n=o;for(var l=0,u=r.length;l<u;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}a.tween=r}}function kqe(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=Su(this,e),l=o.tween;if(l!==r){a=(r=l).slice();for(var u={name:t,value:n},h=0,f=a.length;h<f;++h)if(a[h].name===t){a[h]=u;break}h===f&&a.push(u)}o.tween=a}}function Oqe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Sc(this.node(),n).tween,a=0,o=r.length,l;a<o;++a)if((l=r[a]).name===e)return l.value;return null}return this.each((t==null?Rqe:kqe)(n,e,t))}function G9(e,t,n){var r=e._id;return e.each(function(){var a=Su(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Sc(a,r).value[t]}}function Nse(e,t){var n;return(typeof t=="number"?Jl:t instanceof Jd?j4:(n=Jd(t))?(t=n,j4):Sse)(e,t)}function Nqe(e){return function(){this.removeAttribute(e)}}function Lqe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _qe(e,t,n){var r,a=n+"",o;return function(){var l=this.getAttribute(e);return l===a?null:l===r?o:o=t(r=l,n)}}function Dqe(e,t,n){var r,a=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===r?o:o=t(r=l,n)}}function Mqe(e,t,n){var r,a,o;return function(){var l,u=n(this),h;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),h=u+"",l===h?null:l===r&&h===a?o:(a=h,o=t(r=l,u)))}}function Pqe(e,t,n){var r,a,o;return function(){var l,u=n(this),h;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),h=u+"",l===h?null:l===r&&h===a?o:(a=h,o=t(r=l,u)))}}function Fqe(e,t){var n=GA(e),r=n==="transform"?mqe:Nse;return this.attrTween(e,typeof t=="function"?(n.local?Pqe:Mqe)(n,r,G9(this,"attr."+e,t)):t==null?(n.local?Lqe:Nqe)(n):(n.local?Dqe:_qe)(n,r,t))}function Bqe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Hqe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $qe(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Hqe(e,o)),n}return a._value=t,a}function Wqe(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Bqe(e,o)),n}return a._value=t,a}function Uqe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=GA(e);return this.tween(n,(r.local?$qe:Wqe)(r,t))}function Gqe(e,t){return function(){U9(this,e).delay=+t.apply(this,arguments)}}function zqe(e,t){return t=+t,function(){U9(this,e).delay=t}}function Yqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gqe:zqe)(t,e)):Sc(this.node(),t).delay}function Vqe(e,t){return function(){Su(this,e).duration=+t.apply(this,arguments)}}function qqe(e,t){return t=+t,function(){Su(this,e).duration=t}}function jqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vqe:qqe)(t,e)):Sc(this.node(),t).duration}function Xqe(e,t){if(typeof t!="function")throw new Error;return function(){Su(this,e).ease=t}}function Kqe(e){var t=this._id;return arguments.length?this.each(Xqe(t,e)):Sc(this.node(),t).ease}function Zqe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Su(this,e).ease=n}}function Qqe(e){if(typeof e!="function")throw new Error;return this.each(Zqe(this._id,e))}function Jqe(e){typeof e!="function"&&(e=ise(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],l=o.length,u=r[a]=[],h,f=0;f<l;++f)(h=o[f])&&e.call(h,h.__data__,f,o)&&u.push(h);return new wh(r,this._parents,this._name,this._id)}function eje(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),l=new Array(r),u=0;u<o;++u)for(var h=t[u],f=n[u],d=h.length,p=l[u]=new Array(d),g,m=0;m<d;++m)(g=h[m]||f[m])&&(p[m]=g);for(;u<r;++u)l[u]=t[u];return new wh(l,this._parents,this._name,this._id)}function tje(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function nje(e,t,n){var r,a,o=tje(t)?U9:Su;return function(){var l=o(this,e),u=l.on;u!==r&&(a=(r=u).copy()).on(t,n),l.on=a}}function rje(e,t){var n=this._id;return arguments.length<2?Sc(this.node(),n).on.on(e):this.each(nje(n,e,t))}function ije(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function aje(){return this.on("end.remove",ije(this._id))}function sje(e){var t=this._name,n=this._id;typeof e!="function"&&(e=B9(e));for(var r=this._groups,a=r.length,o=new Array(a),l=0;l<a;++l)for(var u=r[l],h=u.length,f=o[l]=new Array(h),d,p,g=0;g<h;++g)(d=u[g])&&(p=e.call(d,d.__data__,g,u))&&("__data__"in d&&(p.__data__=d.__data__),f[g]=p,qA(f[g],t,n,g,f,Sc(d,n)));return new wh(o,this._parents,t,n)}function oje(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rse(e));for(var r=this._groups,a=r.length,o=[],l=[],u=0;u<a;++u)for(var h=r[u],f=h.length,d,p=0;p<f;++p)if(d=h[p]){for(var g=e.call(d,d.__data__,p,h),m,y=Sc(d,n),b=0,T=g.length;b<T;++b)(m=g[b])&&qA(m,t,n,b,g,y);o.push(g),l.push(d)}return new wh(o,l,t,n)}var lje=sE.prototype.constructor;function cje(){return new lje(this._groups,this._parents)}function uje(e,t){var n,r,a;return function(){var o=Om(this,e),l=(this.style.removeProperty(e),Om(this,e));return o===l?null:o===n&&l===r?a:a=t(n=o,r=l)}}function Lse(e){return function(){this.style.removeProperty(e)}}function hje(e,t,n){var r,a=n+"",o;return function(){var l=Om(this,e);return l===a?null:l===r?o:o=t(r=l,n)}}function fje(e,t,n){var r,a,o;return function(){var l=Om(this,e),u=n(this),h=u+"";return u==null&&(h=u=(this.style.removeProperty(e),Om(this,e))),l===h?null:l===r&&h===a?o:(a=h,o=t(r=l,u))}}function dje(e,t){var n,r,a,o="style."+t,l="end."+o,u;return function(){var h=Su(this,e),f=h.on,d=h.value[o]==null?u||(u=Lse(t)):void 0;(f!==n||a!==d)&&(r=(n=f).copy()).on(l,a=d),h.on=r}}function pje(e,t,n){var r=(e+="")=="transform"?gqe:Nse;return t==null?this.styleTween(e,uje(e,r)).on("end.style."+e,Lse(e)):typeof t=="function"?this.styleTween(e,fje(e,r,G9(this,"style."+e,t))).each(dje(this._id,e)):this.styleTween(e,hje(e,r,t),n).on("end.style."+e,null)}function gje(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function mje(e,t,n){var r,a;function o(){var l=t.apply(this,arguments);return l!==a&&(r=(a=l)&&gje(e,l,n)),r}return o._value=t,o}function vje(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,mje(e,t,n??""))}function yje(e){return function(){this.textContent=e}}function bje(e){return function(){var t=e(this);this.textContent=t??""}}function Tje(e){return this.tween("text",typeof e=="function"?bje(G9(this,"text",e)):yje(e==null?"":e+""))}function Eje(e){return function(t){this.textContent=e.call(this,t)}}function wje(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&Eje(a)),t}return r._value=e,r}function xje(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,wje(e))}function Sje(){for(var e=this._name,t=this._id,n=_se(),r=this._groups,a=r.length,o=0;o<a;++o)for(var l=r[o],u=l.length,h,f=0;f<u;++f)if(h=l[f]){var d=Sc(h,t);qA(h,e,n,f,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wh(r,this._parents,e,n)}function Aje(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,l){var u={value:l},h={value:function(){--a===0&&o()}};n.each(function(){var f=Su(this,r),d=f.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(h)),f.on=t}),a===0&&o()})}var Ije=0;function wh(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _se(){return++Ije}var $u=sE.prototype;wh.prototype={constructor:wh,select:sje,selectAll:oje,selectChild:$u.selectChild,selectChildren:$u.selectChildren,filter:Jqe,merge:eje,selection:cje,transition:Sje,call:$u.call,nodes:$u.nodes,node:$u.node,size:$u.size,empty:$u.empty,each:$u.each,on:rje,attr:Fqe,attrTween:Uqe,style:pje,styleTween:vje,text:Tje,textTween:xje,remove:aje,tween:Oqe,delay:Yqe,duration:jqe,ease:Kqe,easeVarying:Qqe,end:Aje,[Symbol.iterator]:$u[Symbol.iterator]};function Cje(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Rje={time:null,delay:0,duration:250,ease:Cje};function kje(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Oje(e){var t,n;e instanceof wh?(t=e._id,e=e._name):(t=_se(),(n=Rje).time=W9(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var l=r[o],u=l.length,h,f=0;f<u;++f)(h=l[f])&&qA(h,e,t,f,l,n||kje(h,t));return new wh(r,this._parents,e,t)}sE.prototype.interrupt=Cqe;sE.prototype.transition=Oje;const YN=Math.PI,VN=2*YN,sd=1e-6,Nje=VN-sd;function Dse(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Lje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Dse;const n=10**t;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}let _je=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Dse:Lje(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,o,l){this._append`C${+t},${+n},${+r},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,a,o){if(t=+t,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,h=r-t,f=a-n,d=l-t,p=u-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>sd)if(!(Math.abs(p*h-f*d)>sd)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-l,y=a-u,b=h*h+f*f,T=m*m+y*y,E=Math.sqrt(b),w=Math.sqrt(g),x=o*Math.tan((YN-Math.acos((b+g-T)/(2*E*w)))/2),S=x/w,A=x/E;Math.abs(S-1)>sd&&this._append`L${t+S*d},${n+S*p}`,this._append`A${o},${o},0,0,${+(p*m>d*y)},${this._x1=t+A*h},${this._y1=n+A*f}`}}arc(t,n,r,a,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),h=r*Math.sin(a),f=t+u,d=n+h,p=1^l,g=l?a-o:o-a;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>sd||Math.abs(this._y1-d)>sd)&&this._append`L${f},${d}`,r&&(g<0&&(g=g%VN+VN),g>Nje?this._append`A${r},${r},0,1,${p},${t-u},${n-h}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:g>sd&&this._append`A${r},${r},0,${+(g>=YN)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function Dje(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Q4(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Lm(e){return e=Q4(Math.abs(e)),e?e[1]:NaN}function Mje(e,t){return function(n,r){for(var a=n.length,o=[],l=0,u=e[0],h=0;a>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),o.push(n.substring(a-=u,a+u)),!((h+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Pje(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Fje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function J4(e){if(!(t=Fje.exec(e)))throw new Error("invalid format: "+e);var t;return new z9({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}J4.prototype=z9.prototype;function z9(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bje(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Mse;function Hje(e,t){var n=Q4(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(Mse=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Q4(e,Math.max(0,t+o-1))[0]}function yG(e,t){var n=Q4(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const bG={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dje,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yG(e*100,t),r:yG,s:Hje,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TG(e){return e}var EG=Array.prototype.map,wG=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $je(e){var t=e.grouping===void 0||e.thousands===void 0?TG:Mje(EG.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?TG:Pje(EG.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function f(p){p=J4(p);var g=p.fill,m=p.align,y=p.sign,b=p.symbol,T=p.zero,E=p.width,w=p.comma,x=p.precision,S=p.trim,A=p.type;A==="n"?(w=!0,A="g"):bG[A]||(x===void 0&&(x=12),S=!0,A="g"),(T||g==="0"&&m==="=")&&(T=!0,g="0",m="=");var R=b==="$"?n:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",C=b==="$"?r:/[%p]/.test(A)?l:"",N=bG[A],O=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function L(k){var M=R,$=C,_,F,B;if(A==="c")$=N(k)+$,k="";else{k=+k;var D=k<0||1/k<0;if(k=isNaN(k)?h:N(Math.abs(k),x),S&&(k=Bje(k)),D&&+k==0&&y!=="+"&&(D=!1),M=(D?y==="("?y:u:y==="-"||y==="("?"":y)+M,$=(A==="s"?wG[8+Mse/3]:"")+$+(D&&y==="("?")":""),O){for(_=-1,F=k.length;++_<F;)if(B=k.charCodeAt(_),48>B||B>57){$=(B===46?a+k.slice(_+1):k.slice(_))+$,k=k.slice(0,_);break}}}w&&!T&&(k=t(k,1/0));var P=M.length+k.length+$.length,H=P<E?new Array(E-P+1).join(g):"";switch(w&&T&&(k=t(H+k,H.length?E-$.length:1/0),H=""),m){case"<":k=M+k+$+H;break;case"=":k=M+H+k+$;break;case"^":k=H.slice(0,P=H.length>>1)+M+k+$+H.slice(P);break;default:k=H+M+k+$;break}return o(k)}return L.toString=function(){return p+""},L}function d(p,g){var m=f((p=J4(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(Lm(g)/3)))*3,b=Math.pow(10,-y),T=wG[8+y/3];return function(E){return m(b*E)+T}}return{format:f,formatPrefix:d}}var Kw,Pse,Fse;Wje({thousands:",",grouping:[3],currency:["$",""]});function Wje(e){return Kw=$je(e),Pse=Kw.format,Fse=Kw.formatPrefix,Kw}function Uje(e){return Math.max(0,-Lm(Math.abs(e)))}function Gje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lm(t)/3)))*3-Lm(Math.abs(e)))}function zje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lm(t)-Lm(e))+1}function jA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const xG=Symbol("implicit");function XA(){var e=new eG,t=[],n=[],r=xG;function a(o){let l=e.get(o);if(l===void 0){if(r!==xG)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new eG;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return XA(t,n).unknown(r)},jA.apply(a,arguments),a}function qN(){var e=XA().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,o,l,u=!1,h=0,f=0,d=.5;delete e.unknown;function p(){var g=t().length,m=a<r,y=m?a:r,b=m?r:a;o=(b-y)/Math.max(1,g-h+f*2),u&&(o=Math.floor(o)),y+=(b-y-o*(g-h))*d,l=o*(1-h),u&&(y=Math.round(y),l=Math.round(l));var T=Kze(g).map(function(E){return y+o*E});return n(m?T.reverse():T)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,a]=g,r=+r,a=+a,p()):[r,a]},e.rangeRound=function(g){return[r,a]=g,r=+r,a=+a,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(g){return arguments.length?(u=!!g,p()):u},e.padding=function(g){return arguments.length?(h=Math.min(1,f=+g),p()):h},e.paddingInner=function(g){return arguments.length?(h=Math.min(1,g),p()):h},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},e.copy=function(){return qN(t(),[r,a]).round(u).paddingInner(h).paddingOuter(f).align(d)},jA.apply(p(),arguments)}function Yje(e){return function(){return e}}function Vje(e){return+e}var SG=[0,1];function Gg(e){return e}function jN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Yje(isNaN(t)?NaN:.5)}function qje(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function jje(e,t,n){var r=e[0],a=e[1],o=t[0],l=t[1];return a<r?(r=jN(a,r),o=n(l,o)):(r=jN(r,a),o=n(o,l)),function(u){return o(r(u))}}function Xje(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)a[l]=jN(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var h=$ze(e,u,1,r)-1;return o[h](a[h](u))}}function Bse(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kje(){var e=SG,t=SG,n=$9,r,a,o,l=Gg,u,h,f;function d(){var g=Math.min(e.length,t.length);return l!==Gg&&(l=qje(e[0],e[g-1])),u=g>2?Xje:jje,h=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(h||(h=u(e.map(r),t,n)))(r(l(g)))}return p.invert=function(g){return l(a((f||(f=u(t,e.map(r),Jl)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Vje),d()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=fqe,d()},p.clamp=function(g){return arguments.length?(l=g?!0:Gg,d()):l!==Gg},p.interpolate=function(g){return arguments.length?(n=g,d()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,m){return r=g,a=m,d()}}function Hse(){return Kje()(Gg,Gg)}function Zje(e,t,n,r){var a=MN(e,t,n),o;switch(r=J4(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Gje(a,l))&&(r.precision=o),Fse(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zje(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Uje(a))&&(r.precision=o-(r.type==="%")*2);break}}return Pse(r)}function Qje(e){var t=e.domain;return e.ticks=function(n){var r=t();return qze(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Zje(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,o=r.length-1,l=r[a],u=r[o],h,f,d=10;for(u<l&&(f=l,l=u,u=f,f=a,a=o,o=f);d-- >0;){if(f=DN(l,u,n),f===h)return r[a]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;h=f}return e},e}function _m(){var e=Hse();return e.copy=function(){return Bse(e,_m())},jA.apply(e,arguments),Qje(e)}function Jje(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],l;return o<a&&(l=n,n=r,r=l,l=a,a=o,o=l),e[n]=t.floor(a),e[r]=t.ceil(o),e}const bR=new Date,TR=new Date;function Ji(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const l=a(o),u=a.ceil(o);return o-l<u-o?l:u},a.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,u)=>{const h=[];if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return h;let f;do h.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return h},a.filter=o=>Ji(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(a.count=(o,l)=>(bR.setTime(+o),TR.setTime(+l),e(bR),e(TR),Math.floor(n(bR,TR))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?l=>r(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const Dm=Ji(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ji(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Dm);Dm.range;const ah=1e3,fl=ah*60,sh=fl*60,xh=sh*24,Y9=xh*7,AG=xh*30,ER=xh*365,R0=Ji(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ah)},(e,t)=>(t-e)/ah,e=>e.getUTCSeconds());R0.range;const $b=Ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ah)},(e,t)=>{e.setTime(+e+t*fl)},(e,t)=>(t-e)/fl,e=>e.getMinutes());$b.range;const eXe=Ji(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fl)},(e,t)=>(t-e)/fl,e=>e.getUTCMinutes());eXe.range;const Wb=Ji(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ah-e.getMinutes()*fl)},(e,t)=>{e.setTime(+e+t*sh)},(e,t)=>(t-e)/sh,e=>e.getHours());Wb.range;const tXe=Ji(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*sh)},(e,t)=>(t-e)/sh,e=>e.getUTCHours());tXe.range;const tp=Ji(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fl)/xh,e=>e.getDate()-1);tp.range;const V9=Ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>e.getUTCDate()-1);V9.range;const nXe=Ji(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>Math.floor(e/xh));nXe.range;function Dp(e){return Ji(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fl)/Y9)}const lE=Dp(0),Ub=Dp(1),$se=Dp(2),Wse=Dp(3),np=Dp(4),Use=Dp(5),Gse=Dp(6);lE.range;Ub.range;$se.range;Wse.range;np.range;Use.range;Gse.range;function Mp(e){return Ji(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Y9)}const zse=Mp(0),eS=Mp(1),rXe=Mp(2),iXe=Mp(3),Mm=Mp(4),aXe=Mp(5),sXe=Mp(6);zse.range;eS.range;rXe.range;iXe.range;Mm.range;aXe.range;sXe.range;const Gb=Ji(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gb.range;const oXe=Ji(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oXe.range;const Sh=Ji(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ji(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Sh.range;const rp=Ji(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ji(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});rp.range;function lXe(e,t,n,r,a,o){const l=[[R0,1,ah],[R0,5,5*ah],[R0,15,15*ah],[R0,30,30*ah],[o,1,fl],[o,5,5*fl],[o,15,15*fl],[o,30,30*fl],[a,1,sh],[a,3,3*sh],[a,6,6*sh],[a,12,12*sh],[r,1,xh],[r,2,2*xh],[n,1,Y9],[t,1,AG],[t,3,3*AG],[e,1,ER]];function u(f,d,p){const g=d<f;g&&([f,d]=[d,f]);const m=p&&typeof p.range=="function"?p:h(f,d,p),y=m?m.range(f,+d+1):[];return g?y.reverse():y}function h(f,d,p){const g=Math.abs(d-f)/p,m=F9(([,,T])=>T).right(l,g);if(m===l.length)return e.every(MN(f/ER,d/ER,p));if(m===0)return Dm.every(Math.max(MN(f,d,p),1));const[y,b]=l[g/l[m-1][2]<l[m][2]/g?m-1:m];return y.every(b)}return[u,h]}const[cXe,uXe]=lXe(Sh,Gb,lE,tp,Wb,$b);function wR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _y(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hXe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,l=e.shortDays,u=e.months,h=e.shortMonths,f=Dy(a),d=My(a),p=Dy(o),g=My(o),m=Dy(l),y=My(l),b=Dy(u),T=My(u),E=Dy(h),w=My(h),x={a:D,A:P,b:H,B:W,c:null,d:NG,e:NG,f:DXe,g:zXe,G:VXe,H:NXe,I:LXe,j:_Xe,L:Yse,m:MXe,M:PXe,p:U,q:V,Q:DG,s:MG,S:FXe,u:BXe,U:HXe,V:$Xe,w:WXe,W:UXe,x:null,X:null,y:GXe,Y:YXe,Z:qXe,"%":_G},S={a:G,A:ee,b:ce,B:Q,c:null,d:LG,e:LG,f:ZXe,g:oKe,G:cKe,H:jXe,I:XXe,j:KXe,L:qse,m:QXe,M:JXe,p:re,q:le,Q:DG,s:MG,S:eKe,u:tKe,U:nKe,V:rKe,w:iKe,W:aKe,x:null,X:null,y:sKe,Y:lKe,Z:uKe,"%":_G},A={a:L,A:k,b:M,B:$,c:_,d:kG,e:kG,f:CXe,g:RG,G:CG,H:OG,I:OG,j:xXe,L:IXe,m:wXe,M:SXe,p:O,q:EXe,Q:kXe,s:OXe,S:AXe,u:mXe,U:vXe,V:yXe,w:gXe,W:bXe,x:F,X:B,y:RG,Y:CG,Z:TXe,"%":RXe};x.x=R(n,x),x.X=R(r,x),x.c=R(t,x),S.x=R(n,S),S.X=R(r,S),S.c=R(t,S);function R(Y,K){return function(Z){var z=[],X=-1,te=0,ne=Y.length,Ae,he,oe;for(Z instanceof Date||(Z=new Date(+Z));++X<ne;)Y.charCodeAt(X)===37&&(z.push(Y.slice(te,X)),(he=IG[Ae=Y.charAt(++X)])!=null?Ae=Y.charAt(++X):he=Ae==="e"?" ":"0",(oe=K[Ae])&&(Ae=oe(Z,he)),z.push(Ae),te=X+1);return z.push(Y.slice(te,X)),z.join("")}}function C(Y,K){return function(Z){var z=_y(1900,void 0,1),X=N(z,Y,Z+="",0),te,ne;if(X!=Z.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(K&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(te=xR(_y(z.y,0,1)),ne=te.getUTCDay(),te=ne>4||ne===0?eS.ceil(te):eS(te),te=V9.offset(te,(z.V-1)*7),z.y=te.getUTCFullYear(),z.m=te.getUTCMonth(),z.d=te.getUTCDate()+(z.w+6)%7):(te=wR(_y(z.y,0,1)),ne=te.getDay(),te=ne>4||ne===0?Ub.ceil(te):Ub(te),te=tp.offset(te,(z.V-1)*7),z.y=te.getFullYear(),z.m=te.getMonth(),z.d=te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ne="Z"in z?xR(_y(z.y,0,1)).getUTCDay():wR(_y(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(ne+5)%7:z.w+z.U*7-(ne+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,xR(z)):wR(z)}}function N(Y,K,Z,z){for(var X=0,te=K.length,ne=Z.length,Ae,he;X<te;){if(z>=ne)return-1;if(Ae=K.charCodeAt(X++),Ae===37){if(Ae=K.charAt(X++),he=A[Ae in IG?K.charAt(X++):Ae],!he||(z=he(Y,Z,z))<0)return-1}else if(Ae!=Z.charCodeAt(z++))return-1}return z}function O(Y,K,Z){var z=f.exec(K.slice(Z));return z?(Y.p=d.get(z[0].toLowerCase()),Z+z[0].length):-1}function L(Y,K,Z){var z=m.exec(K.slice(Z));return z?(Y.w=y.get(z[0].toLowerCase()),Z+z[0].length):-1}function k(Y,K,Z){var z=p.exec(K.slice(Z));return z?(Y.w=g.get(z[0].toLowerCase()),Z+z[0].length):-1}function M(Y,K,Z){var z=E.exec(K.slice(Z));return z?(Y.m=w.get(z[0].toLowerCase()),Z+z[0].length):-1}function $(Y,K,Z){var z=b.exec(K.slice(Z));return z?(Y.m=T.get(z[0].toLowerCase()),Z+z[0].length):-1}function _(Y,K,Z){return N(Y,t,K,Z)}function F(Y,K,Z){return N(Y,n,K,Z)}function B(Y,K,Z){return N(Y,r,K,Z)}function D(Y){return l[Y.getDay()]}function P(Y){return o[Y.getDay()]}function H(Y){return h[Y.getMonth()]}function W(Y){return u[Y.getMonth()]}function U(Y){return a[+(Y.getHours()>=12)]}function V(Y){return 1+~~(Y.getMonth()/3)}function G(Y){return l[Y.getUTCDay()]}function ee(Y){return o[Y.getUTCDay()]}function ce(Y){return h[Y.getUTCMonth()]}function Q(Y){return u[Y.getUTCMonth()]}function re(Y){return a[+(Y.getUTCHours()>=12)]}function le(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var K=R(Y+="",x);return K.toString=function(){return Y},K},parse:function(Y){var K=C(Y+="",!1);return K.toString=function(){return Y},K},utcFormat:function(Y){var K=R(Y+="",S);return K.toString=function(){return Y},K},utcParse:function(Y){var K=C(Y+="",!0);return K.toString=function(){return Y},K}}}var IG={"-":"",_:" ",0:"0"},pa=/^\s*\d+/,fXe=/^%/,dXe=/[\\^$*+?|[\]().{}]/g;function Yn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function pXe(e){return e.replace(dXe,"\\$&")}function Dy(e){return new RegExp("^(?:"+e.map(pXe).join("|")+")","i")}function My(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function gXe(e,t,n){var r=pa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mXe(e,t,n){var r=pa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vXe(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function yXe(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bXe(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function CG(e,t,n){var r=pa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function RG(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TXe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EXe(e,t,n){var r=pa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wXe(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kG(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xXe(e,t,n){var r=pa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function OG(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SXe(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AXe(e,t,n){var r=pa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function IXe(e,t,n){var r=pa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function CXe(e,t,n){var r=pa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RXe(e,t,n){var r=fXe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kXe(e,t,n){var r=pa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function OXe(e,t,n){var r=pa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NG(e,t){return Yn(e.getDate(),t,2)}function NXe(e,t){return Yn(e.getHours(),t,2)}function LXe(e,t){return Yn(e.getHours()%12||12,t,2)}function _Xe(e,t){return Yn(1+tp.count(Sh(e),e),t,3)}function Yse(e,t){return Yn(e.getMilliseconds(),t,3)}function DXe(e,t){return Yse(e,t)+"000"}function MXe(e,t){return Yn(e.getMonth()+1,t,2)}function PXe(e,t){return Yn(e.getMinutes(),t,2)}function FXe(e,t){return Yn(e.getSeconds(),t,2)}function BXe(e){var t=e.getDay();return t===0?7:t}function HXe(e,t){return Yn(lE.count(Sh(e)-1,e),t,2)}function Vse(e){var t=e.getDay();return t>=4||t===0?np(e):np.ceil(e)}function $Xe(e,t){return e=Vse(e),Yn(np.count(Sh(e),e)+(Sh(e).getDay()===4),t,2)}function WXe(e){return e.getDay()}function UXe(e,t){return Yn(Ub.count(Sh(e)-1,e),t,2)}function GXe(e,t){return Yn(e.getFullYear()%100,t,2)}function zXe(e,t){return e=Vse(e),Yn(e.getFullYear()%100,t,2)}function YXe(e,t){return Yn(e.getFullYear()%1e4,t,4)}function VXe(e,t){var n=e.getDay();return e=n>=4||n===0?np(e):np.ceil(e),Yn(e.getFullYear()%1e4,t,4)}function qXe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yn(t/60|0,"0",2)+Yn(t%60,"0",2)}function LG(e,t){return Yn(e.getUTCDate(),t,2)}function jXe(e,t){return Yn(e.getUTCHours(),t,2)}function XXe(e,t){return Yn(e.getUTCHours()%12||12,t,2)}function KXe(e,t){return Yn(1+V9.count(rp(e),e),t,3)}function qse(e,t){return Yn(e.getUTCMilliseconds(),t,3)}function ZXe(e,t){return qse(e,t)+"000"}function QXe(e,t){return Yn(e.getUTCMonth()+1,t,2)}function JXe(e,t){return Yn(e.getUTCMinutes(),t,2)}function eKe(e,t){return Yn(e.getUTCSeconds(),t,2)}function tKe(e){var t=e.getUTCDay();return t===0?7:t}function nKe(e,t){return Yn(zse.count(rp(e)-1,e),t,2)}function jse(e){var t=e.getUTCDay();return t>=4||t===0?Mm(e):Mm.ceil(e)}function rKe(e,t){return e=jse(e),Yn(Mm.count(rp(e),e)+(rp(e).getUTCDay()===4),t,2)}function iKe(e){return e.getUTCDay()}function aKe(e,t){return Yn(eS.count(rp(e)-1,e),t,2)}function sKe(e,t){return Yn(e.getUTCFullYear()%100,t,2)}function oKe(e,t){return e=jse(e),Yn(e.getUTCFullYear()%100,t,2)}function lKe(e,t){return Yn(e.getUTCFullYear()%1e4,t,4)}function cKe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Mm(e):Mm.ceil(e),Yn(e.getUTCFullYear()%1e4,t,4)}function uKe(){return"+0000"}function _G(){return"%"}function DG(e){return+e}function MG(e){return Math.floor(+e/1e3)}var pg,tS;hKe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hKe(e){return pg=hXe(e),tS=pg.format,pg.parse,pg.utcFormat,pg.utcParse,pg}function fKe(e){return new Date(e)}function dKe(e){return e instanceof Date?+e:+new Date(+e)}function Xse(e,t,n,r,a,o,l,u,h,f){var d=Hse(),p=d.invert,g=d.domain,m=f(".%L"),y=f(":%S"),b=f("%I:%M"),T=f("%I %p"),E=f("%a %d"),w=f("%b %d"),x=f("%B"),S=f("%Y");function A(R){return(h(R)<R?m:u(R)<R?y:l(R)<R?b:o(R)<R?T:r(R)<R?a(R)<R?E:w:n(R)<R?x:S)(R)}return d.invert=function(R){return new Date(p(R))},d.domain=function(R){return arguments.length?g(Array.from(R,dKe)):g().map(fKe)},d.ticks=function(R){var C=g();return e(C[0],C[C.length-1],R??10)},d.tickFormat=function(R,C){return C==null?A:f(C)},d.nice=function(R){var C=g();return(!R||typeof R.range!="function")&&(R=t(C[0],C[C.length-1],R??10)),R?g(Jje(C,R)):d},d.copy=function(){return Bse(d,Xse(e,t,n,r,a,o,l,u,h,f))},d}function pKe(){return jA.apply(Xse(cXe,uXe,Sh,Gb,lE,tp,Wb,$b,R0,tS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gKe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const mKe=gKe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function vi(e){return function(){return e}}const PG=Math.abs,Ha=Math.atan2,Xf=Math.cos,vKe=Math.max,SR=Math.min,Pc=Math.sin,zg=Math.sqrt,Ua=1e-12,zb=Math.PI,nS=zb/2,mx=2*zb;function yKe(e){return e>1?0:e<-1?zb:Math.acos(e)}function FG(e){return e>=1?nS:e<=-1?-nS:Math.asin(e)}function Kse(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _je(t)}function bKe(e){return e.innerRadius}function TKe(e){return e.outerRadius}function EKe(e){return e.startAngle}function wKe(e){return e.endAngle}function xKe(e){return e&&e.padAngle}function SKe(e,t,n,r,a,o,l,u){var h=n-e,f=r-t,d=l-a,p=u-o,g=p*h-d*f;if(!(g*g<Ua))return g=(d*(t-o)-p*(e-a))/g,[e+g*h,t+g*f]}function Zw(e,t,n,r,a,o,l){var u=e-n,h=t-r,f=(l?o:-o)/zg(u*u+h*h),d=f*h,p=-f*u,g=e+d,m=t+p,y=n+d,b=r+p,T=(g+y)/2,E=(m+b)/2,w=y-g,x=b-m,S=w*w+x*x,A=a-o,R=g*b-y*m,C=(x<0?-1:1)*zg(vKe(0,A*A*S-R*R)),N=(R*x-w*C)/S,O=(-R*w-x*C)/S,L=(R*x+w*C)/S,k=(-R*w+x*C)/S,M=N-T,$=O-E,_=L-T,F=k-E;return M*M+$*$>_*_+F*F&&(N=L,O=k),{cx:N,cy:O,x01:-d,y01:-p,x11:N*(a/A-1),y11:O*(a/A-1)}}function Pm(){var e=bKe,t=TKe,n=vi(0),r=null,a=EKe,o=wKe,l=xKe,u=null,h=Kse(f);function f(){var d,p,g=+e.apply(this,arguments),m=+t.apply(this,arguments),y=a.apply(this,arguments)-nS,b=o.apply(this,arguments)-nS,T=PG(b-y),E=b>y;if(u||(u=d=h()),m<g&&(p=m,m=g,g=p),!(m>Ua))u.moveTo(0,0);else if(T>mx-Ua)u.moveTo(m*Xf(y),m*Pc(y)),u.arc(0,0,m,y,b,!E),g>Ua&&(u.moveTo(g*Xf(b),g*Pc(b)),u.arc(0,0,g,b,y,E));else{var w=y,x=b,S=y,A=b,R=T,C=T,N=l.apply(this,arguments)/2,O=N>Ua&&(r?+r.apply(this,arguments):zg(g*g+m*m)),L=SR(PG(m-g)/2,+n.apply(this,arguments)),k=L,M=L,$,_;if(O>Ua){var F=FG(O/g*Pc(N)),B=FG(O/m*Pc(N));(R-=F*2)>Ua?(F*=E?1:-1,S+=F,A-=F):(R=0,S=A=(y+b)/2),(C-=B*2)>Ua?(B*=E?1:-1,w+=B,x-=B):(C=0,w=x=(y+b)/2)}var D=m*Xf(w),P=m*Pc(w),H=g*Xf(A),W=g*Pc(A);if(L>Ua){var U=m*Xf(x),V=m*Pc(x),G=g*Xf(S),ee=g*Pc(S),ce;if(T<zb)if(ce=SKe(D,P,G,ee,U,V,H,W)){var Q=D-ce[0],re=P-ce[1],le=U-ce[0],Y=V-ce[1],K=1/Pc(yKe((Q*le+re*Y)/(zg(Q*Q+re*re)*zg(le*le+Y*Y)))/2),Z=zg(ce[0]*ce[0]+ce[1]*ce[1]);k=SR(L,(g-Z)/(K-1)),M=SR(L,(m-Z)/(K+1))}else k=M=0}C>Ua?M>Ua?($=Zw(G,ee,D,P,m,M,E),_=Zw(U,V,H,W,m,M,E),u.moveTo($.cx+$.x01,$.cy+$.y01),M<L?u.arc($.cx,$.cy,M,Ha($.y01,$.x01),Ha(_.y01,_.x01),!E):(u.arc($.cx,$.cy,M,Ha($.y01,$.x01),Ha($.y11,$.x11),!E),u.arc(0,0,m,Ha($.cy+$.y11,$.cx+$.x11),Ha(_.cy+_.y11,_.cx+_.x11),!E),u.arc(_.cx,_.cy,M,Ha(_.y11,_.x11),Ha(_.y01,_.x01),!E))):(u.moveTo(D,P),u.arc(0,0,m,w,x,!E)):u.moveTo(D,P),!(g>Ua)||!(R>Ua)?u.lineTo(H,W):k>Ua?($=Zw(H,W,U,V,g,-k,E),_=Zw(D,P,G,ee,g,-k,E),u.lineTo($.cx+$.x01,$.cy+$.y01),k<L?u.arc($.cx,$.cy,k,Ha($.y01,$.x01),Ha(_.y01,_.x01),!E):(u.arc($.cx,$.cy,k,Ha($.y01,$.x01),Ha($.y11,$.x11),!E),u.arc(0,0,g,Ha($.cy+$.y11,$.cx+$.x11),Ha(_.cy+_.y11,_.cx+_.x11),E),u.arc(_.cx,_.cy,k,Ha(_.y11,_.x11),Ha(_.y01,_.x01),!E))):u.arc(0,0,g,A,S,E)}if(u.closePath(),d)return u=null,d+""||null}return f.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-zb/2;return[Xf(p)*d,Pc(p)*d]},f.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:vi(+d),f):e},f.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:vi(+d),f):t},f.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:vi(+d),f):n},f.padRadius=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:vi(+d),f):r},f.startAngle=function(d){return arguments.length?(a=typeof d=="function"?d:vi(+d),f):a},f.endAngle=function(d){return arguments.length?(o=typeof d=="function"?d:vi(+d),f):o},f.padAngle=function(d){return arguments.length?(l=typeof d=="function"?d:vi(+d),f):l},f.context=function(d){return arguments.length?(u=d??null,f):u},f}function Zse(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qse(e){this._context=e}Qse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jse(e){return new Qse(e)}function AKe(e){return e[0]}function IKe(e){return e[1]}function ip(e,t){var n=vi(!0),r=null,a=Jse,o=null,l=Kse(u);e=typeof e=="function"?e:e===void 0?AKe:vi(e),t=typeof t=="function"?t:t===void 0?IKe:vi(t);function u(h){var f,d=(h=Zse(h)).length,p,g=!1,m;for(r==null&&(o=a(m=l())),f=0;f<=d;++f)!(f<d&&n(p=h[f],f,h))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(p,f,h),+t(p,f,h));if(m)return o=null,m+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:vi(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:vi(+h),u):t},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:vi(!!h),u):n},u.curve=function(h){return arguments.length?(a=h,r!=null&&(o=a(r)),u):a},u.context=function(h){return arguments.length?(h==null?r=o=null:o=a(r=h),u):r},u}function CKe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function RKe(e){return e}function kKe(){var e=RKe,t=CKe,n=null,r=vi(0),a=vi(mx),o=vi(0);function l(u){var h,f=(u=Zse(u)).length,d,p,g=0,m=new Array(f),y=new Array(f),b=+r.apply(this,arguments),T=Math.min(mx,Math.max(-mx,a.apply(this,arguments)-b)),E,w=Math.min(Math.abs(T)/f,o.apply(this,arguments)),x=w*(T<0?-1:1),S;for(h=0;h<f;++h)(S=y[m[h]=h]=+e(u[h],h,u))>0&&(g+=S);for(t!=null?m.sort(function(A,R){return t(y[A],y[R])}):n!=null&&m.sort(function(A,R){return n(u[A],u[R])}),h=0,p=g?(T-f*x)/g:0;h<f;++h,b=E)d=m[h],S=y[d],E=b+(S>0?S*p:0)+x,y[d]={data:u[d],index:h,value:S,startAngle:b,endAngle:E,padAngle:w};return y}return l.value=function(u){return arguments.length?(e=typeof u=="function"?u:vi(+u),l):e},l.sortValues=function(u){return arguments.length?(t=u,n=null,l):t},l.sort=function(u){return arguments.length?(n=u,t=null,l):n},l.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:vi(+u),l):r},l.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:vi(+u),l):a},l.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:vi(+u),l):o},l}class eoe{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function OKe(e){return new eoe(e,!0)}function NKe(e){return new eoe(e,!1)}function K0(){}function rS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KA(e){this._context=e}KA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cE(e){return new KA(e)}function toe(e){this._context=e}toe.prototype={areaStart:K0,areaEnd:K0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LKe(e){return new toe(e)}function noe(e){this._context=e}noe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Ke(e){return new noe(e)}function roe(e,t){this._basis=new KA(e),this._beta=t}roe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],a=t[0],o=e[n]-r,l=t[n]-a,u=-1,h;++u<=n;)h=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+h*o),this._beta*t[u]+(1-this._beta)*(a+h*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const DKe=function e(t){function n(r){return t===1?new KA(r):new roe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function iS(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function q9(e,t){this._context=e,this._k=(1-t)/6}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:iS(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:iS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const MKe=function e(t){function n(r){return new q9(r,t)}return n.tension=function(r){return e(+r)},n}(0);function j9(e,t){this._context=e,this._k=(1-t)/6}j9.prototype={areaStart:K0,areaEnd:K0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:iS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const PKe=function e(t){function n(r){return new j9(r,t)}return n.tension=function(r){return e(+r)},n}(0);function X9(e,t){this._context=e,this._k=(1-t)/6}X9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iS(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FKe=function e(t){function n(r){return new X9(r,t)}return n.tension=function(r){return e(+r)},n}(0);function K9(e,t,n){var r=e._x1,a=e._y1,o=e._x2,l=e._y2;if(e._l01_a>Ua){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,h=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/h,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/h}if(e._l23_a>Ua){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*f+e._x1*e._l23_2a-t*e._l12_2a)/d,l=(l*f+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,a,o,l,e._x2,e._y2)}function ioe(e,t){this._context=e,this._alpha=t}ioe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:K9(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BKe=function e(t){function n(r){return t?new ioe(r,t):new q9(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function aoe(e,t){this._context=e,this._alpha=t}aoe.prototype={areaStart:K0,areaEnd:K0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:K9(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HKe=function e(t){function n(r){return t?new aoe(r,t):new j9(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function soe(e,t){this._context=e,this._alpha=t}soe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:K9(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $Ke=function e(t){function n(r){return t?new soe(r,t):new X9(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function ooe(e){this._context=e}ooe.prototype={areaStart:K0,areaEnd:K0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WKe(e){return new ooe(e)}function BG(e){return e<0?-1:1}function HG(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),l=(n-e._y1)/(a||r<0&&-0),u=(o*a+l*r)/(r+a);return(BG(o)+BG(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function $G(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function AR(e,t,n){var r=e._x0,a=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,a+u*t,o-u,l-u*n,o,l)}function aS(e){this._context=e}aS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AR(this,this._t0,$G(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AR(this,$G(this,n=HG(this,e,t)),n);break;default:AR(this,this._t0,n=HG(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function loe(e){this._context=new coe(e)}(loe.prototype=Object.create(aS.prototype)).point=function(e,t){aS.prototype.point.call(this,t,e)};function coe(e){this._context=e}coe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}};function UKe(e){return new aS(e)}function GKe(e){return new loe(e)}function uoe(e){this._context=e}uoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=WG(e),a=WG(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WG(e){var t,n=e.length-1,r,a=new Array(n),o=new Array(n),l=new Array(n);for(a[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(a[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(l[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function zKe(e){return new uoe(e)}function ZA(e,t){this._context=e,this._t=t}ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function YKe(e){return new ZA(e,.5)}function VKe(e){return new ZA(e,0)}function qKe(e){return new ZA(e,1)}function a2(e,t,n){this.k=e,this.x=t,this.y=n}a2.prototype={constructor:a2,scale:function(e){return e===1?this:new a2(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new a2(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};a2.prototype;var hoe=typeof global=="object"&&global&&global.Object===Object&&global,jKe=typeof self=="object"&&self&&self.Object===Object&&self,Au=hoe||jKe||Function("return this")(),xl=Au.Symbol,foe=Object.prototype,XKe=foe.hasOwnProperty,KKe=foe.toString,Py=xl?xl.toStringTag:void 0;function ZKe(e){var t=XKe.call(e,Py),n=e[Py];try{e[Py]=void 0;var r=!0}catch{}var a=KKe.call(e);return r&&(t?e[Py]=n:delete e[Py]),a}var QKe=Object.prototype,JKe=QKe.toString;function eZe(e){return JKe.call(e)}var tZe="[object Null]",nZe="[object Undefined]",UG=xl?xl.toStringTag:void 0;function Uh(e){return e==null?e===void 0?nZe:tZe:UG&&UG in Object(e)?ZKe(e):eZe(e)}function lo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rZe="[object AsyncFunction]",iZe="[object Function]",aZe="[object GeneratorFunction]",sZe="[object Proxy]";function Sl(e){if(!lo(e))return!1;var t=Uh(e);return t==iZe||t==aZe||t==rZe||t==sZe}var IR=Au["__core-js_shared__"],GG=function(){var e=/[^.]+$/.exec(IR&&IR.keys&&IR.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oZe(e){return!!GG&&GG in e}var lZe=Function.prototype,cZe=lZe.toString;function Pp(e){if(e!=null){try{return cZe.call(e)}catch{}try{return e+""}catch{}}return""}var uZe=/[\\^$.*+?()[\]{}|]/g,hZe=/^\[object .+?Constructor\]$/,fZe=Function.prototype,dZe=Object.prototype,pZe=fZe.toString,gZe=dZe.hasOwnProperty,mZe=RegExp("^"+pZe.call(gZe).replace(uZe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vZe(e){if(!lo(e)||oZe(e))return!1;var t=Sl(e)?mZe:hZe;return t.test(Pp(e))}function yZe(e,t){return e==null?void 0:e[t]}function Fp(e,t){var n=yZe(e,t);return vZe(n)?n:void 0}var Yb=Fp(Object,"create");function bZe(){this.__data__=Yb?Yb(null):{},this.size=0}function TZe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var EZe="__lodash_hash_undefined__",wZe=Object.prototype,xZe=wZe.hasOwnProperty;function SZe(e){var t=this.__data__;if(Yb){var n=t[e];return n===EZe?void 0:n}return xZe.call(t,e)?t[e]:void 0}var AZe=Object.prototype,IZe=AZe.hasOwnProperty;function CZe(e){var t=this.__data__;return Yb?t[e]!==void 0:IZe.call(t,e)}var RZe="__lodash_hash_undefined__";function kZe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yb&&t===void 0?RZe:t,this}function ap(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ap.prototype.clear=bZe;ap.prototype.delete=TZe;ap.prototype.get=SZe;ap.prototype.has=CZe;ap.prototype.set=kZe;function OZe(){this.__data__=[],this.size=0}function Ov(e,t){return e===t||e!==e&&t!==t}function QA(e,t){for(var n=e.length;n--;)if(Ov(e[n][0],t))return n;return-1}var NZe=Array.prototype,LZe=NZe.splice;function _Ze(e){var t=this.__data__,n=QA(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():LZe.call(t,n,1),--this.size,!0}function DZe(e){var t=this.__data__,n=QA(t,e);return n<0?void 0:t[n][1]}function MZe(e){return QA(this.__data__,e)>-1}function PZe(e,t){var n=this.__data__,r=QA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Gh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gh.prototype.clear=OZe;Gh.prototype.delete=_Ze;Gh.prototype.get=DZe;Gh.prototype.has=MZe;Gh.prototype.set=PZe;var Vb=Fp(Au,"Map");function FZe(){this.size=0,this.__data__={hash:new ap,map:new(Vb||Gh),string:new ap}}function BZe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function JA(e,t){var n=e.__data__;return BZe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function HZe(e){var t=JA(this,e).delete(e);return this.size-=t?1:0,t}function $Ze(e){return JA(this,e).get(e)}function WZe(e){return JA(this,e).has(e)}function UZe(e,t){var n=JA(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zh.prototype.clear=FZe;zh.prototype.delete=HZe;zh.prototype.get=$Ze;zh.prototype.has=WZe;zh.prototype.set=UZe;var GZe="Expected a function";function Nv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(GZe);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var l=e.apply(this,r);return n.cache=o.set(a,l)||o,l};return n.cache=new(Nv.Cache||zh),n}Nv.Cache=zh;function zZe(){this.__data__=new Gh,this.size=0}function YZe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function VZe(e){return this.__data__.get(e)}function qZe(e){return this.__data__.has(e)}var jZe=200;function XZe(e,t){var n=this.__data__;if(n instanceof Gh){var r=n.__data__;if(!Vb||r.length<jZe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zh(r)}return n.set(e,t),this.size=n.size,this}function lc(e){var t=this.__data__=new Gh(e);this.size=t.size}lc.prototype.clear=zZe;lc.prototype.delete=YZe;lc.prototype.get=VZe;lc.prototype.has=qZe;lc.prototype.set=XZe;var sS=function(){try{var e=Fp(Object,"defineProperty");return e({},"",{}),e}catch{}}();function uE(e,t,n){t=="__proto__"&&sS?sS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function XN(e,t,n){(n!==void 0&&!Ov(e[t],n)||n===void 0&&!(t in e))&&uE(e,t,n)}function KZe(e){return function(t,n,r){for(var a=-1,o=Object(t),l=r(t),u=l.length;u--;){var h=l[++a];if(n(o[h],h,o)===!1)break}return t}}var Z9=KZe(),doe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zG=doe&&typeof module=="object"&&module&&!module.nodeType&&module,ZZe=zG&&zG.exports===doe,YG=ZZe?Au.Buffer:void 0,VG=YG?YG.allocUnsafe:void 0;function poe(e,t){if(t)return e.slice();var n=e.length,r=VG?VG(n):new e.constructor(n);return e.copy(r),r}var oS=Au.Uint8Array;function Q9(e){var t=new e.constructor(e.byteLength);return new oS(t).set(new oS(e)),t}function goe(e,t){var n=t?Q9(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function moe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var qG=Object.create,QZe=function(){function e(){}return function(t){if(!lo(t))return{};if(qG)return qG(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function voe(e,t){return function(n){return e(t(n))}}var J9=voe(Object.getPrototypeOf,Object),JZe=Object.prototype;function hE(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||JZe;return e===n}function yoe(e){return typeof e.constructor=="function"&&!hE(e)?QZe(J9(e)):{}}function Al(e){return e!=null&&typeof e=="object"}var eQe="[object Arguments]";function jG(e){return Al(e)&&Uh(e)==eQe}var boe=Object.prototype,tQe=boe.hasOwnProperty,nQe=boe.propertyIsEnumerable,Fm=jG(function(){return arguments}())?jG:function(e){return Al(e)&&tQe.call(e,"callee")&&!nQe.call(e,"callee")},An=Array.isArray,rQe=9007199254740991;function eD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rQe}function Iu(e){return e!=null&&eD(e.length)&&!Sl(e)}function lS(e){return Al(e)&&Iu(e)}function iQe(){return!1}var Toe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XG=Toe&&typeof module=="object"&&module&&!module.nodeType&&module,aQe=XG&&XG.exports===Toe,KG=aQe?Au.Buffer:void 0,sQe=KG?KG.isBuffer:void 0,Bm=sQe||iQe,oQe="[object Object]",lQe=Function.prototype,cQe=Object.prototype,Eoe=lQe.toString,uQe=cQe.hasOwnProperty,hQe=Eoe.call(Object);function fQe(e){if(!Al(e)||Uh(e)!=oQe)return!1;var t=J9(e);if(t===null)return!0;var n=uQe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Eoe.call(n)==hQe}var dQe="[object Arguments]",pQe="[object Array]",gQe="[object Boolean]",mQe="[object Date]",vQe="[object Error]",yQe="[object Function]",bQe="[object Map]",TQe="[object Number]",EQe="[object Object]",wQe="[object RegExp]",xQe="[object Set]",SQe="[object String]",AQe="[object WeakMap]",IQe="[object ArrayBuffer]",CQe="[object DataView]",RQe="[object Float32Array]",kQe="[object Float64Array]",OQe="[object Int8Array]",NQe="[object Int16Array]",LQe="[object Int32Array]",_Qe="[object Uint8Array]",DQe="[object Uint8ClampedArray]",MQe="[object Uint16Array]",PQe="[object Uint32Array]",Rr={};Rr[RQe]=Rr[kQe]=Rr[OQe]=Rr[NQe]=Rr[LQe]=Rr[_Qe]=Rr[DQe]=Rr[MQe]=Rr[PQe]=!0;Rr[dQe]=Rr[pQe]=Rr[IQe]=Rr[gQe]=Rr[CQe]=Rr[mQe]=Rr[vQe]=Rr[yQe]=Rr[bQe]=Rr[TQe]=Rr[EQe]=Rr[wQe]=Rr[xQe]=Rr[SQe]=Rr[AQe]=!1;function FQe(e){return Al(e)&&eD(e.length)&&!!Rr[Uh(e)]}function fE(e){return function(t){return e(t)}}var woe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X2=woe&&typeof module=="object"&&module&&!module.nodeType&&module,BQe=X2&&X2.exports===woe,CR=BQe&&hoe.process,Z0=function(){try{var e=X2&&X2.require&&X2.require("util").types;return e||CR&&CR.binding&&CR.binding("util")}catch{}}(),ZG=Z0&&Z0.isTypedArray,e6=ZG?fE(ZG):FQe;function KN(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var HQe=Object.prototype,$Qe=HQe.hasOwnProperty;function dE(e,t,n){var r=e[t];(!($Qe.call(e,t)&&Ov(r,n))||n===void 0&&!(t in e))&&uE(e,t,n)}function Lv(e,t,n,r){var a=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var u=t[o],h=void 0;h===void 0&&(h=e[u]),a?uE(n,u,h):dE(n,u,h)}return n}function WQe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var UQe=9007199254740991,GQe=/^(?:0|[1-9]\d*)$/;function t6(e,t){var n=typeof e;return t=t??UQe,!!t&&(n=="number"||n!="symbol"&&GQe.test(e))&&e>-1&&e%1==0&&e<t}var zQe=Object.prototype,YQe=zQe.hasOwnProperty;function xoe(e,t){var n=An(e),r=!n&&Fm(e),a=!n&&!r&&Bm(e),o=!n&&!r&&!a&&e6(e),l=n||r||a||o,u=l?WQe(e.length,String):[],h=u.length;for(var f in e)(t||YQe.call(e,f))&&!(l&&(f=="length"||a&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||t6(f,h)))&&u.push(f);return u}function VQe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var qQe=Object.prototype,jQe=qQe.hasOwnProperty;function XQe(e){if(!lo(e))return VQe(e);var t=hE(e),n=[];for(var r in e)r=="constructor"&&(t||!jQe.call(e,r))||n.push(r);return n}function Bp(e){return Iu(e)?xoe(e,!0):XQe(e)}function KQe(e){return Lv(e,Bp(e))}function ZQe(e,t,n,r,a,o,l){var u=KN(e,n),h=KN(t,n),f=l.get(h);if(f){XN(e,n,f);return}var d=o?o(u,h,n+"",e,t,l):void 0,p=d===void 0;if(p){var g=An(h),m=!g&&Bm(h),y=!g&&!m&&e6(h);d=h,g||m||y?An(u)?d=u:lS(u)?d=moe(u):m?(p=!1,d=poe(h,!0)):y?(p=!1,d=goe(h,!0)):d=[]:fQe(h)||Fm(h)?(d=u,Fm(u)?d=KQe(u):(!lo(u)||Sl(u))&&(d=yoe(h))):p=!1}p&&(l.set(h,d),a(d,h,r,o,l),l.delete(h)),XN(e,n,d)}function Soe(e,t,n,r,a){e!==t&&Z9(t,function(o,l){if(a||(a=new lc),lo(o))ZQe(e,t,l,n,Soe,r,a);else{var u=r?r(KN(e,l),o,l+"",e,t,a):void 0;u===void 0&&(u=o),XN(e,l,u)}},Bp)}function Ah(e){return e}function QQe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var QG=Math.max;function Aoe(e,t,n){return t=QG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=QG(r.length-t,0),l=Array(o);++a<o;)l[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(l),QQe(e,this,u)}}function Yg(e){return function(){return e}}var JQe=sS?function(e,t){return sS(e,"toString",{configurable:!0,enumerable:!1,value:Yg(t),writable:!0})}:Ah,eJe=800,tJe=16,nJe=Date.now;function rJe(e){var t=0,n=0;return function(){var r=nJe(),a=tJe-(r-n);if(n=r,a>0){if(++t>=eJe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ioe=rJe(JQe);function pE(e,t){return Ioe(Aoe(e,t,Ah),e+"")}function qb(e,t,n){if(!lo(n))return!1;var r=typeof t;return(r=="number"?Iu(n)&&t6(t,n.length):r=="string"&&t in n)?Ov(n[t],e):!1}function Coe(e){return pE(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,l=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,l&&qb(n[0],n[1],l)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t})}var cS=Coe(function(e,t,n){Soe(e,t,n)}),Roe="​",iJe={curveBasis:cE,curveBasisClosed:LKe,curveBasisOpen:_Ke,curveBumpX:OKe,curveBumpY:NKe,curveBundle:DKe,curveCardinalClosed:PKe,curveCardinalOpen:FKe,curveCardinal:MKe,curveCatmullRomClosed:HKe,curveCatmullRomOpen:$Ke,curveCatmullRom:BKe,curveLinear:Jse,curveLinearClosed:WKe,curveMonotoneX:UKe,curveMonotoneY:GKe,curveNatural:zKe,curveStep:YKe,curveStepAfter:qKe,curveStepBefore:VKe},aJe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sJe=I(function(e,t){const n=koe(e,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const l=n.map(u=>u.args);L4(l),r=zi(r,[...l])}else r=n.args;if(!r)return;let a=T9(e,t);const o="config";return r[o]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),r[a]=r[o],delete r[o]),r},"detectInit"),koe=I(function(e,t=null){var n,r;try{const a=new RegExp(`[%]{2}(?![{]${aJe.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(a,"").replace(/'/gm,'"'),ve.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let o;const l=[];for(;(o=V2.exec(e))!==null;)if(o.index===V2.lastIndex&&V2.lastIndex++,o&&!t||t&&((n=o[1])!=null&&n.match(t))||t&&((r=o[2])!=null&&r.match(t))){const u=o[1]?o[1]:o[2],h=o[3]?o[3].trim():o[4]?JSON.parse(o[4].trim()):null;l.push({type:u,args:h})}return l.length===0?{type:e,args:null}:l.length===1?l[0]:l}catch(a){return ve.error(`ERROR: ${a.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),oJe=I(function(e){return e.replace(V2,"")},"removeDirectives"),lJe=I(function(e,t){for(const[n,r]of t.entries())if(r.match(e))return n;return-1},"isSubstringInArray");function tD(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return iJe[n]??t}I(tD,"interpolateToCurve");function Ooe(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?Af(n):n}I(Ooe,"formatUrl");var cJe=I((e,...t)=>{const n=e.split("."),r=n.length-1,a=n[r];let o=window;for(let l=0;l<r;l++)if(o=o[n[l]],!o){ve.error(`Function name: ${e} not found in window`);return}o[a](...t)},"runFunc");function nD(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}I(nD,"distance");function Noe(e){let t,n=0;e.forEach(a=>{n+=nD(a,t),t=a});const r=n/2;return rD(e,r)}I(Noe,"traverseEdge");function Loe(e){return e.length===1?e[0]:Noe(e)}I(Loe,"calcLabelPosition");var JG=I((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),rD=I((e,t)=>{let n,r=t;for(const a of e){if(n){const o=nD(a,n);if(o<r)r-=o;else{const l=r/o;if(l<=0)return n;if(l>=1)return{x:a.x,y:a.y};if(l>0&&l<1)return{x:JG((1-l)*n.x+l*a.x,5),y:JG((1-l)*n.y+l*a.y,5)}}}n=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),uJe=I((e,t,n)=>{ve.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const a=rD(t,25),o=e?10:5,l=Math.atan2(t[0].y-a.y,t[0].x-a.x),u={x:0,y:0};return u.x=Math.sin(l)*o+(t[0].x+a.x)/2,u.y=-Math.cos(l)*o+(t[0].y+a.y)/2,u},"calcCardinalityPosition");function _oe(e,t,n){const r=structuredClone(n);ve.info("our points",r),t!=="start_left"&&t!=="start_right"&&r.reverse();const a=25+e,o=rD(r,a),l=10+e*.5,u=Math.atan2(r[0].y-o.y,r[0].x-o.x),h={x:0,y:0};return t==="start_left"?(h.x=Math.sin(u+Math.PI)*l+(r[0].x+o.x)/2,h.y=-Math.cos(u+Math.PI)*l+(r[0].y+o.y)/2):t==="end_right"?(h.x=Math.sin(u-Math.PI)*l+(r[0].x+o.x)/2-5,h.y=-Math.cos(u-Math.PI)*l+(r[0].y+o.y)/2-5):t==="end_left"?(h.x=Math.sin(u)*l+(r[0].x+o.x)/2-5,h.y=-Math.cos(u)*l+(r[0].y+o.y)/2-5):(h.x=Math.sin(u)*l+(r[0].x+o.x)/2,h.y=-Math.cos(u)*l+(r[0].y+o.y)/2),h}I(_oe,"calcTerminalLabelPosition");function iD(e){let t="",n="";for(const r of e)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":t=t+r+";");return{style:t,labelStyle:n}}I(iD,"getStylesFromArray");var ez=0,Doe=I(()=>(ez++,"id-"+Math.random().toString(36).substr(2,12)+"-"+ez),"generateId");function Moe(e){let t="";const n="0123456789abcdef",r=n.length;for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t}I(Moe,"makeRandomHex");var Poe=I(e=>Moe(e.length),"random"),hJe=I(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),fJe=I(function(e,t){const n=t.text.replace(ot.lineBreakRegex," "),[,r]=If(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",r),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);const o=a.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(n),a},"drawSimpleText"),Foe=Nv((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),ot.lineBreakRegex.test(e)))return e;const r=e.split(" ").filter(Boolean),a=[];let o="";return r.forEach((l,u)=>{const h=yl(`${l} `,n),f=yl(o,n);if(h>t){const{hyphenatedStrings:g,remainingWord:m}=dJe(l,t,"-",n);a.push(o,...g),o=m}else f+h>=t?(a.push(o),o=l):o=[o,l].filter(Boolean).join(" ");u+1===r.length&&a.push(o)}),a.filter(l=>l!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),dJe=Nv((e,t,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const a=[...e],o=[];let l="";return a.forEach((u,h)=>{const f=`${l}${u}`;if(yl(f,r)>=t){const p=h+1,g=a.length===p,m=`${f}${n}`;o.push(g?f:m),l=""}else l=f}),{hyphenatedStrings:o,remainingWord:l}},(e,t,n="-",r)=>`${e}${t}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function uS(e,t){return aD(e,t).height}I(uS,"calculateTextHeight");function yl(e,t){return aD(e,t).width}I(yl,"calculateTextWidth");var aD=Nv((e,t)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,o]=If(n),l=["sans-serif",r],u=e.split(ot.lineBreakRegex),h=[],f=it("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const d=f.append("svg");for(const g of l){let m=0;const y={width:0,height:0,lineHeight:0};for(const b of u){const T=hJe();T.text=b||Roe;const E=fJe(d,T).style("font-size",o).style("font-weight",a).style("font-family",g),w=(E._groups||E)[0][0].getBBox();if(w.width===0&&w.height===0)throw new Error("svg element not in render tree");y.width=Math.round(Math.max(y.width,w.width)),m=Math.round(w.height),y.height+=m,y.lineHeight=Math.round(Math.max(y.lineHeight,m))}h.push(y)}d.remove();const p=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[p]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),P1,pJe=(P1=class{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}},I(P1,"InitIDGenerator"),P1),Qw,gJe=I(function(e){return Qw=Qw||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Qw.innerHTML=e,unescape(Qw.textContent)},"entityDecode");function sD(e){return"str"in e}I(sD,"isDetailedError");var mJe=I((e,t,n,r)=>{var o;if(!r)return;const a=(o=e.node())==null?void 0:o.getBBox();a&&e.append("text").text(r).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-n).attr("class",t)},"insertTitle"),If=I(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function Yh(e,t){return cS({},e,t)}I(Yh,"cleanAndMerge");var fn={assignWithDepth:zi,wrapLabel:Foe,calculateTextHeight:uS,calculateTextWidth:yl,calculateTextDimensions:aD,cleanAndMerge:Yh,detectInit:sJe,detectDirective:koe,isSubstringInArray:lJe,interpolateToCurve:tD,calcLabelPosition:Loe,calcCardinalityPosition:uJe,calcTerminalLabelPosition:_oe,formatUrl:Ooe,getStylesFromArray:iD,generateId:Doe,random:Poe,runFunc:cJe,entityDecode:gJe,insertTitle:mJe,parseFontSize:If,InitIDGenerator:pJe},vJe=I(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?"ﬂ°°"+r+"¶ß":"ﬂ°"+r+"¶ß"}),t},"encodeEntities"),Ih=I(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Boe=I((e,t,{counter:n=0,prefix:r,suffix:a})=>`${r?`${r}_`:""}${e}_${t}_${n}${a?`_${a}`:""}`,"getEdgeId");function Rs(e){return e??null}I(Rs,"handleUndefinedAttr");function oD(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Hp=oD();function Hoe(e){Hp=e}const $oe=/[&<>"']/,yJe=new RegExp($oe.source,"g"),Woe=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bJe=new RegExp(Woe.source,"g"),TJe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tz=e=>TJe[e];function Ro(e,t){if(t){if($oe.test(e))return e.replace(yJe,tz)}else if(Woe.test(e))return e.replace(bJe,tz);return e}const EJe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function wJe(e){return e.replace(EJe,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const xJe=/(^|[^\[])\^/g;function lr(e,t){let n=typeof e=="string"?e:e.source;t=t||"";const r={replace:(a,o)=>{let l=typeof o=="string"?o:o.source;return l=l.replace(xJe,"$1"),n=n.replace(a,l),r},getRegex:()=>new RegExp(n,t)};return r}function nz(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const K2={exec:()=>null};function rz(e,t){const n=e.replace(/\|/g,(o,l,u)=>{let h=!1,f=l;for(;--f>=0&&u[f]==="\\";)h=!h;return h?"|":" |"}),r=n.split(/ \|/);let a=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;a<r.length;a++)r[a]=r[a].trim().replace(/\\\|/g,"|");return r}function Fy(e,t,n){const r=e.length;if(r===0)return"";let a=0;for(;a<r&&e.charAt(r-a-1)===t;)a++;return e.slice(0,r-a)}function SJe(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function iz(e,t,n,r){const a=t.href,o=t.title?Ro(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const u={type:"link",raw:n,href:a,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,u}return{type:"image",raw:n,href:a,title:o,text:Ro(l)}}function AJe(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(a=>{const o=a.match(/^\s+/);if(o===null)return a;const[l]=o;return l.length>=r.length?a.slice(r.length):a}).join(`
`)}class hS{constructor(t){xn(this,"options");xn(this,"rules");xn(this,"lexer");this.options=t||Hp}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Fy(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],a=AJe(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:a}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const a=Fy(r,"#");(this.options.pedantic||!a||/ $/.test(a))&&(r=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:Fy(n[0],`
`)}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){let r=Fy(n[0],`
`).split(`
`),a="",o="";const l=[];for(;r.length>0;){let u=!1;const h=[];let f;for(f=0;f<r.length;f++)if(/^ {0,3}>/.test(r[f]))h.push(r[f]),u=!0;else if(!u)h.push(r[f]);else break;r=r.slice(f);const d=h.join(`
`),p=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");a=a?`${a}
${d}`:d,o=o?`${o}
${p}`:p;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,l,!0),this.lexer.state.top=g,r.length===0)break;const m=l[l.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const y=m,b=y.raw+`
`+r.join(`
`),T=this.blockquote(b);l[l.length-1]=T,a=a.substring(0,a.length-y.raw.length)+T.raw,o=o.substring(0,o.length-y.text.length)+T.text;break}else if((m==null?void 0:m.type)==="list"){const y=m,b=y.raw+`
`+r.join(`
`),T=this.list(b);l[l.length-1]=T,a=a.substring(0,a.length-m.raw.length)+T.raw,o=o.substring(0,o.length-y.raw.length)+T.raw,r=b.substring(l[l.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:l,text:o}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim();const a=r.length>1,o={type:"list",raw:"",ordered:a,start:a?+r.slice(0,-1):"",loose:!1,items:[]};r=a?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=a?r:"[*+-]");const l=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u=!1;for(;t;){let h=!1,f="",d="";if(!(n=l.exec(t))||this.rules.block.hr.test(t))break;f=n[0],t=t.substring(f.length);let p=n[2].split(`
`,1)[0].replace(/^\t+/,E=>" ".repeat(3*E.length)),g=t.split(`
`,1)[0],m=!p.trim(),y=0;if(this.options.pedantic?(y=2,d=p.trimStart()):m?y=n[1].length+1:(y=n[2].search(/[^ ]/),y=y>4?1:y,d=p.slice(y),y+=n[1].length),m&&/^ *$/.test(g)&&(f+=g+`
`,t=t.substring(g.length+1),h=!0),!h){const E=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;t;){const A=t.split(`
`,1)[0];if(g=A,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),x.test(g)||S.test(g)||E.test(g)||w.test(t))break;if(g.search(/[^ ]/)>=y||!g.trim())d+=`
`+g.slice(y);else{if(m||p.search(/[^ ]/)>=4||x.test(p)||S.test(p)||w.test(p))break;d+=`
`+g}!m&&!g.trim()&&(m=!0),f+=A+`
`,t=t.substring(A.length+1),p=g.slice(y)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(f)&&(u=!0));let b=null,T;this.options.gfm&&(b=/^\[[ xX]\] /.exec(d),b&&(T=b[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:f,task:!!b,checked:T,loose:!1,text:d,tokens:[]}),o.raw+=f}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let h=0;h<o.items.length;h++)if(this.lexer.state.top=!1,o.items[h].tokens=this.lexer.blockTokens(o.items[h].text,[]),!o.loose){const f=o.items[h].tokens.filter(p=>p.type==="space"),d=f.length>0&&f.some(p=>/\n.*\n/.test(p.raw));o.loose=d}if(o.loose)for(let h=0;h<o.items.length;h++)o.items[h].loose=!0;return o}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),a=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:a,title:o}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;const r=rz(n[1]),a=n[2].replace(/^\||\| *$/g,"").split("|"),o=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],l={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===a.length){for(const u of a)/^ *-+: *$/.test(u)?l.align.push("right"):/^ *:-+: *$/.test(u)?l.align.push("center"):/^ *:-+ *$/.test(u)?l.align.push("left"):l.align.push(null);for(let u=0;u<r.length;u++)l.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:l.align[u]});for(const u of o)l.rows.push(rz(u,l.header.length).map((h,f)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:l.align[f]})));return l}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:Ro(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const l=Fy(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{const l=SJe(n[2],"()");if(l>-1){const h=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,h).trim(),n[3]=""}}let a=n[2],o="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],o=l[3])}else o=n[3]?n[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(this.options.pedantic&&!/>$/.test(r)?a=a.slice(1):a=a.slice(1,-1)),iz(n,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const a=(r[2]||r[1]).replace(/\s+/g," "),o=n[a.toLowerCase()];if(!o){const l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return iz(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!a||a[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(a[1]||a[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const l=[...a[0]].length-1;let u,h,f=l,d=0;const p=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,n=n.slice(-1*t.length+l);(a=p.exec(n))!=null;){if(u=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!u)continue;if(h=[...u].length,a[3]||a[4]){f+=h;continue}else if((a[5]||a[6])&&l%3&&!((l+h)%3)){d+=h;continue}if(f-=h,f>0)continue;h=Math.min(h,h+f+d);const g=[...a[0]][0].length,m=t.slice(0,l+a.index+g+h);if(Math.min(l,h)%2){const b=m.slice(1,-1);return{type:"em",raw:m,text:b,tokens:this.lexer.inlineTokens(b)}}const y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const a=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return a&&o&&(r=r.substring(1,r.length-1)),r=Ro(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let r,a;return n[2]==="@"?(r=Ro(n[1]),a="mailto:"+r):(r=Ro(n[1]),a=r),{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let n;if(n=this.rules.inline.url.exec(t)){let a,o;if(n[2]==="@")a=Ro(n[0]),o="mailto:"+a;else{let l;do l=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(l!==n[0]);a=Ro(n[0]),n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Ro(n[0]),{type:"text",raw:n[0],text:r}}}}const IJe=/^(?: *(?:\n|$))+/,CJe=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,RJe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,gE=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kJe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Uoe=/(?:[*+-]|\d{1,9}[.)])/,Goe=lr(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Uoe).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),lD=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,OJe=/^[^\n]+/,cD=/(?!\s*\])(?:\\.|[^\[\]\\])+/,NJe=lr(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",cD).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),LJe=lr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Uoe).getRegex(),n6="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",uD=/\x3C!--(?:-?>|[\s\S]*?(?:-->|$))/,_Je=lr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",uD).replace("tag",n6).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),zoe=lr(lD).replace("hr",gE).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",n6).getRegex(),DJe=lr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",zoe).getRegex(),hD={blockquote:DJe,code:CJe,def:NJe,fences:RJe,heading:kJe,hr:gE,html:_Je,lheading:Goe,list:LJe,newline:IJe,paragraph:zoe,table:K2,text:OJe},az=lr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",gE).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",n6).getRegex(),MJe={...hD,table:az,paragraph:lr(lD).replace("hr",gE).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",az).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",n6).getRegex()},PJe={...hD,html:lr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",uD).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:K2,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:lr(lD).replace("hr",gE).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Goe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Yoe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,FJe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Voe=/^( {2,}|\\)\n(?!\s*$)/,BJe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mE="\\p{P}\\p{S}",HJe=lr(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,mE).getRegex(),$Je=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,WJe=lr(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,mE).getRegex(),UJe=lr("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,mE).getRegex(),GJe=lr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,mE).getRegex(),zJe=lr(/\\([punct])/,"gu").replace(/punct/g,mE).getRegex(),YJe=lr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),VJe=lr(uD).replace("(?:-->|$)","-->").getRegex(),qJe=lr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",VJe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fS=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jJe=lr(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",fS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qoe=lr(/^!?\[(label)\]\[(ref)\]/).replace("label",fS).replace("ref",cD).getRegex(),joe=lr(/^!?\[(ref)\](?:\[\])?/).replace("ref",cD).getRegex(),XJe=lr("reflink|nolink(?!\\()","g").replace("reflink",qoe).replace("nolink",joe).getRegex(),fD={_backpedal:K2,anyPunctuation:zJe,autolink:YJe,blockSkip:$Je,br:Voe,code:FJe,del:K2,emStrongLDelim:WJe,emStrongRDelimAst:UJe,emStrongRDelimUnd:GJe,escape:Yoe,link:jJe,nolink:joe,punctuation:HJe,reflink:qoe,reflinkSearch:XJe,tag:qJe,text:BJe,url:K2},KJe={...fD,link:lr(/^!?\[(label)\]\((.*?)\)/).replace("label",fS).getRegex(),reflink:lr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fS).getRegex()},ZN={...fD,escape:lr(Yoe).replace("])","~|])").getRegex(),url:lr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ZJe={...ZN,br:lr(Voe).replace("{2,}","*").getRegex(),text:lr(ZN.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jw={normal:hD,gfm:MJe,pedantic:PJe},By={normal:fD,gfm:ZN,breaks:ZJe,pedantic:KJe};class Xc{constructor(t){xn(this,"tokens");xn(this,"options");xn(this,"state");xn(this,"tokenizer");xn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Hp,this.options.tokenizer=this.options.tokenizer||new hS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Jw.normal,inline:By.normal};this.options.pedantic?(n.block=Jw.pedantic,n.inline=By.pedantic):this.options.gfm&&(n.block=Jw.gfm,this.options.breaks?n.inline=By.breaks:n.inline=By.gfm),this.tokenizer.rules=n}static get rules(){return{block:Jw,inline:By}}static lex(t,n){return new Xc(n).lex(t)}static lexInline(t,n){return new Xc(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(u,h,f)=>h+"    ".repeat(f.length));let a,o,l;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(a=u.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))){if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length),a.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const h=t.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},h),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){o=n[n.length-1],r&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(a),r=l.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(a);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,a,o,l=t,u,h,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,u.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(h||(f=""),h=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),a=n[n.length-1],a&&r.type==="text"&&a.type==="text"?(a.raw+=r.raw,a.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),a=n[n.length-1],a&&r.type==="text"&&a.type==="text"?(a.raw+=r.raw,a.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,l,f)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=t.slice(1);let g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},p),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(o=t.substring(0,d+1))}if(r=this.tokenizer.inlineText(o)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),h=!0,a=n[n.length-1],a&&a.type==="text"?(a.raw+=r.raw,a.text+=r.text):n.push(r);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class dS{constructor(t){xn(this,"options");xn(this,"parser");this.options=t||Hp}space(t){return""}code({text:t,lang:n,escaped:r}){var l;const a=(l=(n||"").match(/^\S*/))==null?void 0:l[0],o=t.replace(/\n$/,"")+`
`;return a?'<pre><code class="language-'+Ro(a)+'">'+(r?o:Ro(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:Ro(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){const n=t.ordered,r=t.start;let a="";for(let u=0;u<t.items.length;u++){const h=t.items[u];a+=this.listitem(h)}const o=n?"ol":"ul",l=n&&r!==1?' start="'+r+'"':"";return"<"+o+l+`>
`+a+"</"+o+`>
`}listitem(t){let n="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):n+=r+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",r="";for(let o=0;o<t.header.length;o++)r+=this.tablecell(t.header[o]);n+=this.tablerow({text:r});let a="";for(let o=0;o<t.rows.length;o++){const l=t.rows[o];r="";for(let u=0;u<l.length;u++)r+=this.tablecell(l[u]);a+=this.tablerow({text:r})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const n=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:r}){const a=this.parser.parseInline(r),o=nz(t);if(o===null)return a;t=o;let l='<a href="'+t+'"';return n&&(l+=' title="'+n+'"'),l+=">"+a+"</a>",l}image({href:t,title:n,text:r}){const a=nz(t);if(a===null)return r;t=a;let o=`<img src="${t}" alt="${r}"`;return n&&(o+=` title="${n}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class dD{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Kc{constructor(t){xn(this,"options");xn(this,"renderer");xn(this,"textRenderer");this.options=t||Hp,this.options.renderer=this.options.renderer||new dS,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new dD}static parse(t,n){return new Kc(n).parse(t)}static parseInline(t,n){return new Kc(n).parseInline(t)}parse(t,n=!0){let r="";for(let a=0;a<t.length;a++){const o=t[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=o,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){r+=h||"";continue}}const l=o;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let u=l,h=this.renderer.text(u);for(;a+1<t.length&&t[a+1].type==="text";)u=t[++a],h+=`
`+this.renderer.text(u);n?r+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h}]}):r+=h;continue}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(t,n){n=n||this.renderer;let r="";for(let a=0;a<t.length;a++){const o=t[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=u||"";continue}}const l=o;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}}class Z2{constructor(t){xn(this,"options");this.options=t||Hp}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}xn(Z2,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Fh,Xoe,QN,Koe;class QJe{constructor(...t){SF(this,Fh);xn(this,"defaults",oD());xn(this,"options",this.setOptions);xn(this,"parse",iy(this,Fh,QN).call(this,Xc.lex,Kc.parse));xn(this,"parseInline",iy(this,Fh,QN).call(this,Xc.lexInline,Kc.parseInline));xn(this,"Parser",Kc);xn(this,"Renderer",dS);xn(this,"TextRenderer",dD);xn(this,"Lexer",Xc);xn(this,"Tokenizer",hS);xn(this,"Hooks",Z2);this.use(...t)}walkTokens(t,n){var a,o;let r=[];for(const l of t)switch(r=r.concat(n.call(this,l)),l.type){case"table":{const u=l;for(const h of u.header)r=r.concat(this.walkTokens(h.tokens,n));for(const h of u.rows)for(const f of h)r=r.concat(this.walkTokens(f.tokens,n));break}case"list":{const u=l;r=r.concat(this.walkTokens(u.items,n));break}default:{const u=l;(o=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(h=>{const f=u[h].flat(1/0);r=r.concat(this.walkTokens(f,n))}):u.tokens&&(r=r.concat(this.walkTokens(u.tokens,n)))}}return r}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const a={...r};if(a.async=this.defaults.async||a.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const l=n.renderers[o.name];l?n.renderers[o.name]=function(...u){let h=o.renderer.apply(this,u);return h===!1&&(h=l.apply(this,u)),h}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=n[o.level];l?l.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),a.extensions=n),r.renderer){const o=this.defaults.renderer||new dS(this.defaults);for(const l in r.renderer){if(!(l in o))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const u=l;let h=r.renderer[u];r.useNewRenderer||(h=iy(this,Fh,Xoe).call(this,h,u,o));const f=o[u];o[u]=(...d)=>{let p=h.apply(o,d);return p===!1&&(p=f.apply(o,d)),p||""}}a.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new hS(this.defaults);for(const l in r.tokenizer){if(!(l in o))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const u=l,h=r.tokenizer[u],f=o[u];o[u]=(...d)=>{let p=h.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}a.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new Z2;for(const l in r.hooks){if(!(l in o))throw new Error(`hook '${l}' does not exist`);if(l==="options")continue;const u=l,h=r.hooks[u],f=o[u];Z2.passThroughHooks.has(l)?o[u]=d=>{if(this.defaults.async)return Promise.resolve(h.call(o,d)).then(g=>f.call(o,g));const p=h.call(o,d);return f.call(o,p)}:o[u]=(...d)=>{let p=h.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}a.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,l=r.walkTokens;a.walkTokens=function(u){let h=[];return h.push(l.call(this,u)),o&&(h=h.concat(o.call(this,u))),h}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return Xc.lex(t,n??this.defaults)}parser(t,n){return Kc.parse(t,n??this.defaults)}}Fh=new WeakSet,Xoe=function(t,n,r){switch(n){case"heading":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,r.parser.parseInline(a.tokens),a.depth,wJe(r.parser.parseInline(a.tokens,r.parser.textRenderer)))};case"code":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.text,a.lang,!!a.escaped)};case"table":return function(a){if(!a.type||a.type!==n)return t.apply(this,arguments);let o="",l="";for(let h=0;h<a.header.length;h++)l+=this.tablecell({text:a.header[h].text,tokens:a.header[h].tokens,header:!0,align:a.align[h]});o+=this.tablerow({text:l});let u="";for(let h=0;h<a.rows.length;h++){const f=a.rows[h];l="";for(let d=0;d<f.length;d++)l+=this.tablecell({text:f[d].text,tokens:f[d].tokens,header:!1,align:a.align[d]});u+=this.tablerow({text:l})}return t.call(this,o,u)};case"blockquote":return function(a){if(!a.type||a.type!==n)return t.apply(this,arguments);const o=this.parser.parse(a.tokens);return t.call(this,o)};case"list":return function(a){if(!a.type||a.type!==n)return t.apply(this,arguments);const o=a.ordered,l=a.start,u=a.loose;let h="";for(let f=0;f<a.items.length;f++){const d=a.items[f],p=d.checked,g=d.task;let m="";if(d.task){const y=this.checkbox({checked:!!p});u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=y+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=y+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:y+" "}):m+=y+" "}m+=this.parser.parse(d.tokens,u),h+=this.listitem({type:"list_item",raw:m,text:m,task:g,checked:!!p,loose:u,tokens:d.tokens})}return t.call(this,h,o,l)};case"html":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.text,a.block)};case"paragraph":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"escape":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.text)};case"link":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.href,a.title,this.parser.parseInline(a.tokens))};case"image":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.href,a.title,a.text)};case"strong":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"em":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"codespan":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.text)};case"del":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"text":return function(a){return!a.type||a.type!==n?t.apply(this,arguments):t.call(this,a.text)}}return t},QN=function(t,n){return(r,a)=>{const o={...a},l={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(l.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),l.async=!0);const u=iy(this,Fh,Koe).call(this,!!l.silent,!!l.async);if(typeof r>"u"||r===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(l.hooks&&(l.hooks.options=l),l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(r):r).then(h=>t(h,l)).then(h=>l.hooks?l.hooks.processAllTokens(h):h).then(h=>l.walkTokens?Promise.all(this.walkTokens(h,l.walkTokens)).then(()=>h):h).then(h=>n(h,l)).then(h=>l.hooks?l.hooks.postprocess(h):h).catch(u);try{l.hooks&&(r=l.hooks.preprocess(r));let h=t(r,l);l.hooks&&(h=l.hooks.processAllTokens(h)),l.walkTokens&&this.walkTokens(h,l.walkTokens);let f=n(h,l);return l.hooks&&(f=l.hooks.postprocess(f)),f}catch(h){return u(h)}}},Koe=function(t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const a="<p>An error occurred:</p><pre>"+Ro(r.message+"",!0)+"</pre>";return n?Promise.resolve(a):a}if(n)return Promise.reject(r);throw r}};const sp=new QJe;function Qn(e,t){return sp.parse(e,t)}Qn.options=Qn.setOptions=function(e){return sp.setOptions(e),Qn.defaults=sp.defaults,Hoe(Qn.defaults),Qn};Qn.getDefaults=oD;Qn.defaults=Hp;Qn.use=function(...e){return sp.use(...e),Qn.defaults=sp.defaults,Hoe(Qn.defaults),Qn};Qn.walkTokens=function(e,t){return sp.walkTokens(e,t)};Qn.parseInline=sp.parseInline;Qn.Parser=Kc;Qn.parser=Kc.parse;Qn.Renderer=dS;Qn.TextRenderer=dD;Qn.Lexer=Xc;Qn.lexer=Xc.lex;Qn.Tokenizer=hS;Qn.Hooks=Z2;Qn.parse=Qn;Qn.options;Qn.setOptions;Qn.use;Qn.walkTokens;Qn.parseInline;Kc.parse;Xc.lex;function Zoe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.from(typeof e=="string"?[e]:e);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var a=r.reduce(function(u,h){var f=h.match(/\n([\t ]+|(?!\s).)/g);return f?u.concat(f.map(function(d){var p,g;return(g=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0})):u},[]);if(a.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");r=r.map(function(u){return u.replace(o,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var l=r[0];return t.forEach(function(u,h){var f=l.match(/(?:^|\n)( *)$/),d=f?f[1]:"",p=u;typeof u=="string"&&u.includes(`
`)&&(p=String(u).split(`
`).map(function(g,m){return m===0?g:""+d+g}).join(`
`)),l+=p+r[h+1]}),l}function Qoe(e,{markdownAutoWrap:t}){const r=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=Zoe(r);return t===!1?a.replace(/ /g,"&nbsp;"):a}I(Qoe,"preprocessMarkdown");function Joe(e,t={}){const n=Qoe(e,t),r=Qn.lexer(n),a=[[]];let o=0;function l(u,h="normal"){u.type==="text"?u.text.split(`
`).forEach((d,p)=>{p!==0&&(o++,a.push([])),d.split(" ").forEach(g=>{g=g.replace(/&#39;/g,"'"),g&&a[o].push({content:g,type:h})})}):u.type==="strong"||u.type==="em"?u.tokens.forEach(f=>{l(f,u.type)}):u.type==="html"&&a[o].push({content:u.text,type:"normal"})}return I(l,"processNode"),r.forEach(u=>{var h;u.type==="paragraph"?(h=u.tokens)==null||h.forEach(f=>{l(f)}):u.type==="html"&&a[o].push({content:u.text,type:"normal"})}),a}I(Joe,"markdownToLines");function ele(e,{markdownAutoWrap:t}={}){const n=Qn.lexer(e);function r(a){var o,l,u;return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${(o=a.tokens)==null?void 0:o.map(r).join("")}</strong>`:a.type==="em"?`<em>${(l=a.tokens)==null?void 0:l.map(r).join("")}</em>`:a.type==="paragraph"?`<p>${(u=a.tokens)==null?void 0:u.map(r).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:`Unsupported markdown: ${a.type}`}return I(r,"output"),n.map(r).join("")}I(ele,"markdownToHTML");function tle(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}I(tle,"splitTextToChars");function nle(e,t){const n=tle(t.content);return pD(e,[],n,t.type)}I(nle,"splitWordToFitWidth");function pD(e,t,n,r){if(n.length===0)return[{content:t.join(""),type:r},{content:"",type:r}];const[a,...o]=n,l=[...t,a];return e([{content:l.join(""),type:r}])?pD(e,l,o,r):(t.length===0&&a&&(t.push(a),n.shift()),[{content:t.join(""),type:r},{content:n.join(""),type:r}])}I(pD,"splitWordToFitWidthRecursion");function rle(e,t){if(e.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return pS(e,t)}I(rle,"splitLineToFitWidth");function pS(e,t,n=[],r=[]){if(e.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let a="";e[0].content===" "&&(a=" ",e.shift());const o=e.shift()??{content:" ",type:"normal"},l=[...r];if(a!==""&&l.push({content:a,type:"normal"}),l.push(o),t(l))return pS(e,t,n,l);if(r.length>0)n.push(r),e.unshift(o);else if(o.content){const[u,h]=nle(t,o);n.push([u]),h.content&&e.unshift(h)}return pS(e,t,n)}I(pS,"splitLineToFitWidthRecursion");function JN(e,t){t&&e.attr("style",t)}I(JN,"applyStyle");async function ile(e,t,n,r,a=!1){const o=e.append("foreignObject");o.attr("width",`${10*n}px`),o.attr("height",`${10*n}px`);const l=o.append("xhtml:div");let u=t.label;t.label&&ts(t.label)&&(u=await rE(t.label.replace(ot.lineBreakRegex,`
`),Pe()));const h=t.isNode?"nodeLabel":"edgeLabel",f=l.append("span");f.html(u),JN(f,t.labelStyle),f.attr("class",`${h} ${r}`),JN(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",n+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&l.attr("class","labelBkg");let d=l.node().getBoundingClientRect();return d.width===n&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",n+"px"),d=l.node().getBoundingClientRect()),o.node()}I(ile,"addHtmlSpan");function r6(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}I(r6,"createTspan");function ale(e,t,n){const r=e.append("text"),a=r6(r,1,t);i6(a,n);const o=a.node().getComputedTextLength();return r.remove(),o}I(ale,"computeWidthOfText");function sle(e,t,n){var l;const r=e.append("text"),a=r6(r,1,t);i6(a,[{content:n,type:"normal"}]);const o=(l=a.node())==null?void 0:l.getBoundingClientRect();return o&&r.remove(),o}I(sle,"computeDimensionOfText");function ole(e,t,n,r=!1){const o=t.append("g"),l=o.insert("rect").attr("class","background").attr("style","stroke: none"),u=o.append("text").attr("y","-10.1");let h=0;for(const f of n){const d=I(g=>ale(o,1.1,g)<=e,"checkWidth"),p=d(f)?[f]:rle(f,d);for(const g of p){const m=r6(u,h,1.1);i6(m,g),h++}}if(r){const f=u.node().getBBox(),d=2;return l.attr("x",f.x-d).attr("y",f.y-d).attr("width",f.width+2*d).attr("height",f.height+2*d),o.node()}else return u.node()}I(ole,"createFormattedText");function i6(e,t){e.text(""),t.forEach((n,r)=>{const a=e.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?a.text(n.content):a.text(" "+n.content)})}I(i6,"updateTextContentAndStyles");function gD(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}I(gD,"replaceIconSubstring");var Fl=I(async(e,t="",{style:n="",isTitle:r=!1,classes:a="",useHtmlLabels:o=!0,isNode:l=!0,width:u=200,addSvgBackground:h=!1}={},f)=>{if(ve.debug("XYZ createText",t,n,r,a,o,l,"addSvgBackground: ",h),o){const d=ele(t,f),p=gD(Ih(d)),g=t.replace(/\\\\/g,"\\"),m={isNode:l,label:ts(t)?g:p,labelStyle:n.replace("fill:","color:")};return await ile(e,m,u,a,h)}else{const d=t.replace(/<br\s*\/?>/g,"<br/>"),p=Joe(d.replace("<br>","<br/>"),f),g=ole(u,e,p,t?h:!1);if(l){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const m=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");it(g).attr("style",m)}else{const m=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");it(g).select("rect").attr("style",m.replace(/background:/g,"fill:"));const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");it(g).select("text").attr("style",y)}return g}},"createText");function RR(e,t,n){if(e&&e.length){const[r,a]=t,o=Math.PI/180*n,l=Math.cos(o),u=Math.sin(o);for(const h of e){const[f,d]=h;h[0]=(f-r)*l-(d-a)*u+r,h[1]=(f-r)*u+(d-a)*l+a}}}function JJe(e,t){return e[0]===t[0]&&e[1]===t[1]}function eet(e,t,n,r=1){const a=n,o=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,u=[0,0];if(a)for(const f of l)RR(f,u,a);const h=function(f,d,p){const g=[];for(const w of f){const x=[...w];JJe(x[0],x[x.length-1])||x.push([x[0][0],x[0][1]]),x.length>2&&g.push(x)}const m=[];d=Math.max(d,.1);const y=[];for(const w of g)for(let x=0;x<w.length-1;x++){const S=w[x],A=w[x+1];if(S[1]!==A[1]){const R=Math.min(S[1],A[1]);y.push({ymin:R,ymax:Math.max(S[1],A[1]),x:R===S[1]?S[0]:A[0],islope:(A[0]-S[0])/(A[1]-S[1])})}}if(y.sort((w,x)=>w.ymin<x.ymin?-1:w.ymin>x.ymin?1:w.x<x.x?-1:w.x>x.x?1:w.ymax===x.ymax?0:(w.ymax-x.ymax)/Math.abs(w.ymax-x.ymax)),!y.length)return m;let b=[],T=y[0].ymin,E=0;for(;b.length||y.length;){if(y.length){let w=-1;for(let x=0;x<y.length&&!(y[x].ymin>T);x++)w=x;y.splice(0,w+1).forEach(x=>{b.push({s:T,edge:x})})}if(b=b.filter(w=>!(w.edge.ymax<=T)),b.sort((w,x)=>w.edge.x===x.edge.x?0:(w.edge.x-x.edge.x)/Math.abs(w.edge.x-x.edge.x)),(p!==1||E%d==0)&&b.length>1)for(let w=0;w<b.length;w+=2){const x=w+1;if(x>=b.length)break;const S=b[w].edge,A=b[x].edge;m.push([[Math.round(S.x),T],[Math.round(A.x),T]])}T+=p,b.forEach(w=>{w.edge.x=w.edge.x+p*w.edge.islope}),E++}return m}(l,o,r);if(a){for(const f of l)RR(f,u,-a);(function(f,d,p){const g=[];f.forEach(m=>g.push(...m)),RR(g,d,p)})(h,u,-a)}return h}function vE(e,t){var n;const r=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let o=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(o=a),eet(e,a,r,o||1)}class mD{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const r=vE(t,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(t,n){const r=[];for(const a of t)r.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],n));return r}}function a6(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class tet extends mD{fillPolygons(t,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const a=vE(t,Object.assign({},n,{hachureGap:r})),o=Math.PI/180*n.hachureAngle,l=[],u=.5*r*Math.cos(o),h=.5*r*Math.sin(o);for(const[f,d]of a)a6([f,d])&&l.push([[f[0]-u,f[1]+h],[...d]],[[f[0]+u,f[1]-h],[...d]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}}class net extends mD{fillPolygons(t,n){const r=this._fillPolygons(t,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),o=this._fillPolygons(t,a);return r.ops=r.ops.concat(o.ops),r}}let ret=class{constructor(t){this.helper=t}fillPolygons(t,n){const r=vE(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(t,n){const r=[];let a=n.hachureGap;a<0&&(a=4*n.strokeWidth),a=Math.max(a,.1);let o=n.fillWeight;o<0&&(o=n.strokeWidth/2);const l=a/4;for(const u of t){const h=a6(u),f=h/a,d=Math.ceil(f)-1,p=h-d*a,g=(u[0][0]+u[1][0])/2-a/4,m=Math.min(u[0][1],u[1][1]);for(let y=0;y<d;y++){const b=m+p+y*a,T=g-l+2*Math.random()*l,E=b-l+2*Math.random()*l,w=this.helper.ellipse(T,E,o,o,n);r.push(...w.ops)}}return{type:"fillSketch",ops:r}}},iet=class{constructor(t){this.helper=t}fillPolygons(t,n){const r=vE(t,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(t,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,a=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,o=[];return t.forEach(l=>{const u=a6(l),h=Math.floor(u/(r+a)),f=(u+a-h*(r+a))/2;let d=l[0],p=l[1];d[0]>p[0]&&(d=l[1],p=l[0]);const g=Math.atan((p[1]-d[1])/(p[0]-d[0]));for(let m=0;m<h;m++){const y=m*(r+a),b=y+r,T=[d[0]+y*Math.cos(g)+f*Math.cos(g),d[1]+y*Math.sin(g)+f*Math.sin(g)],E=[d[0]+b*Math.cos(g)+f*Math.cos(g),d[1]+b*Math.sin(g)+f*Math.sin(g)];o.push(...this.helper.doubleLineOps(T[0],T[1],E[0],E[1],n))}}),o}};class aet{constructor(t){this.helper=t}fillPolygons(t,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,a=n.zigzagOffset<0?r:n.zigzagOffset,o=vE(t,n=Object.assign({},n,{hachureGap:r+a}));return{type:"fillSketch",ops:this.zigzagLines(o,a,n)}}zigzagLines(t,n,r){const a=[];return t.forEach(o=>{const l=a6(o),u=Math.round(l/(2*n));let h=o[0],f=o[1];h[0]>f[0]&&(h=o[1],f=o[0]);const d=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let p=0;p<u;p++){const g=2*p*n,m=2*(p+1)*n,y=Math.sqrt(2*Math.pow(n,2)),b=[h[0]+g*Math.cos(d),h[1]+g*Math.sin(d)],T=[h[0]+m*Math.cos(d),h[1]+m*Math.sin(d)],E=[b[0]+y*Math.cos(d+Math.PI/4),b[1]+y*Math.sin(d+Math.PI/4)];a.push(...this.helper.doubleLineOps(b[0],b[1],E[0],E[1],r),...this.helper.doubleLineOps(E[0],E[1],T[0],T[1],r))}}),a}}const $s={};let set=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const oet=0,kR=1,sz=2,e3={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function OR(e,t){return e.type===t}function vD(e){const t=[],n=function(l){const u=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))u[u.length]={type:oet,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];u[u.length]={type:kR,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return u[u.length]={type:sz,text:""},u}(e);let r="BOD",a=0,o=n[a];for(;!OR(o,sz);){let l=0;const u=[];if(r==="BOD"){if(o.text!=="M"&&o.text!=="m")return vD("M0,0"+e);a++,l=e3[o.text],r=o.text}else OR(o,kR)?l=e3[r]:(a++,l=e3[o.text],r=o.text);if(!(a+l<n.length))throw new Error("Path data ended short");for(let h=a;h<a+l;h++){const f=n[h];if(!OR(f,kR))throw new Error("Param not a number: "+r+","+f.text);u[u.length]=+f.text}if(typeof e3[r]!="number")throw new Error("Bad segment: "+r);{const h={key:r,data:u};t.push(h),a+=l,o=n[a],r==="M"&&(r="L"),r==="m"&&(r="l")}}return t}function lle(e){let t=0,n=0,r=0,a=0;const o=[];for(const{key:l,data:u}of e)switch(l){case"M":o.push({key:"M",data:[...u]}),[t,n]=u,[r,a]=u;break;case"m":t+=u[0],n+=u[1],o.push({key:"M",data:[t,n]}),r=t,a=n;break;case"L":o.push({key:"L",data:[...u]}),[t,n]=u;break;case"l":t+=u[0],n+=u[1],o.push({key:"L",data:[t,n]});break;case"C":o.push({key:"C",data:[...u]}),t=u[4],n=u[5];break;case"c":{const h=u.map((f,d)=>d%2?f+n:f+t);o.push({key:"C",data:h}),t=h[4],n=h[5];break}case"Q":o.push({key:"Q",data:[...u]}),t=u[2],n=u[3];break;case"q":{const h=u.map((f,d)=>d%2?f+n:f+t);o.push({key:"Q",data:h}),t=h[2],n=h[3];break}case"A":o.push({key:"A",data:[...u]}),t=u[5],n=u[6];break;case"a":t+=u[5],n+=u[6],o.push({key:"A",data:[u[0],u[1],u[2],u[3],u[4],t,n]});break;case"H":o.push({key:"H",data:[...u]}),t=u[0];break;case"h":t+=u[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...u]}),n=u[0];break;case"v":n+=u[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...u]}),t=u[2],n=u[3];break;case"s":{const h=u.map((f,d)=>d%2?f+n:f+t);o.push({key:"S",data:h}),t=h[2],n=h[3];break}case"T":o.push({key:"T",data:[...u]}),t=u[0],n=u[1];break;case"t":t+=u[0],n+=u[1],o.push({key:"T",data:[t,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=r,n=a}return o}function cle(e){const t=[];let n="",r=0,a=0,o=0,l=0,u=0,h=0;for(const{key:f,data:d}of e){switch(f){case"M":t.push({key:"M",data:[...d]}),[r,a]=d,[o,l]=d;break;case"C":t.push({key:"C",data:[...d]}),r=d[4],a=d[5],u=d[2],h=d[3];break;case"L":t.push({key:"L",data:[...d]}),[r,a]=d;break;case"H":r=d[0],t.push({key:"L",data:[r,a]});break;case"V":a=d[0],t.push({key:"L",data:[r,a]});break;case"S":{let p=0,g=0;n==="C"||n==="S"?(p=r+(r-u),g=a+(a-h)):(p=r,g=a),t.push({key:"C",data:[p,g,...d]}),u=d[0],h=d[1],r=d[2],a=d[3];break}case"T":{const[p,g]=d;let m=0,y=0;n==="Q"||n==="T"?(m=r+(r-u),y=a+(a-h)):(m=r,y=a);const b=r+2*(m-r)/3,T=a+2*(y-a)/3,E=p+2*(m-p)/3,w=g+2*(y-g)/3;t.push({key:"C",data:[b,T,E,w,p,g]}),u=m,h=y,r=p,a=g;break}case"Q":{const[p,g,m,y]=d,b=r+2*(p-r)/3,T=a+2*(g-a)/3,E=m+2*(p-m)/3,w=y+2*(g-y)/3;t.push({key:"C",data:[b,T,E,w,m,y]}),u=p,h=g,r=m,a=y;break}case"A":{const p=Math.abs(d[0]),g=Math.abs(d[1]),m=d[2],y=d[3],b=d[4],T=d[5],E=d[6];p===0||g===0?(t.push({key:"C",data:[r,a,T,E,T,E]}),r=T,a=E):(r!==T||a!==E)&&(ule(r,a,T,E,p,g,m,y,b).forEach(function(w){t.push({key:"C",data:w})}),r=T,a=E);break}case"Z":t.push({key:"Z",data:[]}),r=o,a=l}n=f}return t}function Hy(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function ule(e,t,n,r,a,o,l,u,h,f){const d=(p=l,Math.PI*p/180);var p;let g=[],m=0,y=0,b=0,T=0;if(f)[m,y,b,T]=f;else{[e,t]=Hy(e,t,-d),[n,r]=Hy(n,r,-d);const $=(e-n)/2,_=(t-r)/2;let F=$*$/(a*a)+_*_/(o*o);F>1&&(F=Math.sqrt(F),a*=F,o*=F);const B=a*a,D=o*o,P=B*D-B*_*_-D*$*$,H=B*_*_+D*$*$,W=(u===h?-1:1)*Math.sqrt(Math.abs(P/H));b=W*a*_/o+(e+n)/2,T=W*-o*$/a+(t+r)/2,m=Math.asin(parseFloat(((t-T)/o).toFixed(9))),y=Math.asin(parseFloat(((r-T)/o).toFixed(9))),e<b&&(m=Math.PI-m),n<b&&(y=Math.PI-y),m<0&&(m=2*Math.PI+m),y<0&&(y=2*Math.PI+y),h&&m>y&&(m-=2*Math.PI),!h&&y>m&&(y-=2*Math.PI)}let E=y-m;if(Math.abs(E)>120*Math.PI/180){const $=y,_=n,F=r;y=h&&y>m?m+120*Math.PI/180*1:m+120*Math.PI/180*-1,g=ule(n=b+a*Math.cos(y),r=T+o*Math.sin(y),_,F,a,o,l,0,h,[y,$,b,T])}E=y-m;const w=Math.cos(m),x=Math.sin(m),S=Math.cos(y),A=Math.sin(y),R=Math.tan(E/4),C=4/3*a*R,N=4/3*o*R,O=[e,t],L=[e+C*x,t-N*w],k=[n+C*A,r-N*S],M=[n,r];if(L[0]=2*O[0]-L[0],L[1]=2*O[1]-L[1],f)return[L,k,M].concat(g);{g=[L,k,M].concat(g);const $=[];for(let _=0;_<g.length;_+=3){const F=Hy(g[_][0],g[_][1],d),B=Hy(g[_+1][0],g[_+1][1],d),D=Hy(g[_+2][0],g[_+2][1],d);$.push([F[0],F[1],B[0],B[1],D[0],D[1]])}return $}}const cet={randOffset:function(e,t){return rn(e,t)},randOffsetWithRange:function(e,t,n){return gS(e,t,n)},ellipse:function(e,t,n,r,a){const o=fle(n,r,a);return e8(e,t,a,o).opset},doubleLineOps:function(e,t,n,r,a){return Q0(e,t,n,r,a,!0)}};function hle(e,t,n,r,a){return{type:"path",ops:Q0(e,t,n,r,a)}}function vx(e,t,n){const r=(e||[]).length;if(r>2){const a=[];for(let o=0;o<r-1;o++)a.push(...Q0(e[o][0],e[o][1],e[o+1][0],e[o+1][1],n));return t&&a.push(...Q0(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:a}}return r===2?hle(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function uet(e,t,n,r,a){return function(o,l){return vx(o,!0,l)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function oz(e,t){if(e.length){const n=typeof e[0][0]=="number"?[e]:e,r=t3(n[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:t3(n[0],1.5*(1+.22*t.roughness),uz(t));for(let o=1;o<n.length;o++){const l=n[o];if(l.length){const u=t3(l,1*(1+.2*t.roughness),t),h=t.disableMultiStroke?[]:t3(l,1.5*(1+.22*t.roughness),uz(t));for(const f of u)f.op!=="move"&&r.push(f);for(const f of h)f.op!=="move"&&a.push(f)}}return{type:"path",ops:r.concat(a)}}return{type:"path",ops:[]}}function fle(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),o=2*Math.PI/a;let l=Math.abs(e/2),u=Math.abs(t/2);const h=1-n.curveFitting;return l+=rn(l*h,n),u+=rn(u*h,n),{increment:o,rx:l,ry:u}}function e8(e,t,n,r){const[a,o]=hz(r.increment,e,t,r.rx,r.ry,1,r.increment*gS(.1,gS(.4,1,n),n),n);let l=mS(a,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[u]=hz(r.increment,e,t,r.rx,r.ry,1.5,0,n),h=mS(u,null,n);l=l.concat(h)}return{estimatedPoints:o,opset:{type:"path",ops:l}}}function lz(e,t,n,r,a,o,l,u,h){const f=e,d=t;let p=Math.abs(n/2),g=Math.abs(r/2);p+=rn(.01*p,h),g+=rn(.01*g,h);let m=a,y=o;for(;m<0;)m+=2*Math.PI,y+=2*Math.PI;y-m>2*Math.PI&&(m=0,y=2*Math.PI);const b=2*Math.PI/h.curveStepCount,T=Math.min(b/2,(y-m)/2),E=fz(T,f,d,p,g,m,y,1,h);if(!h.disableMultiStroke){const w=fz(T,f,d,p,g,m,y,1.5,h);E.push(...w)}return l&&(u?E.push(...Q0(f,d,f+p*Math.cos(m),d+g*Math.sin(m),h),...Q0(f,d,f+p*Math.cos(y),d+g*Math.sin(y),h)):E.push({op:"lineTo",data:[f,d]},{op:"lineTo",data:[f+p*Math.cos(m),d+g*Math.sin(m)]})),{type:"path",ops:E}}function cz(e,t){const n=cle(lle(vD(e))),r=[];let a=[0,0],o=[0,0];for(const{key:l,data:u}of n)switch(l){case"M":o=[u[0],u[1]],a=[u[0],u[1]];break;case"L":r.push(...Q0(o[0],o[1],u[0],u[1],t)),o=[u[0],u[1]];break;case"C":{const[h,f,d,p,g,m]=u;r.push(...het(h,f,d,p,g,m,o,t)),o=[g,m];break}case"Z":r.push(...Q0(o[0],o[1],a[0],a[1],t)),o=[a[0],a[1]]}return{type:"path",ops:r}}function NR(e,t){const n=[];for(const r of e)if(r.length){const a=t.maxRandomnessOffset||0,o=r.length;if(o>2){n.push({op:"move",data:[r[0][0]+rn(a,t),r[0][1]+rn(a,t)]});for(let l=1;l<o;l++)n.push({op:"lineTo",data:[r[l][0]+rn(a,t),r[l][1]+rn(a,t)]})}}return{type:"fillPath",ops:n}}function gg(e,t){return function(n,r){let a=n.fillStyle||"hachure";if(!$s[a])switch(a){case"zigzag":$s[a]||($s[a]=new tet(r));break;case"cross-hatch":$s[a]||($s[a]=new net(r));break;case"dots":$s[a]||($s[a]=new ret(r));break;case"dashed":$s[a]||($s[a]=new iet(r));break;case"zigzag-line":$s[a]||($s[a]=new aet(r));break;default:a="hachure",$s[a]||($s[a]=new mD(r))}return $s[a]}(t,cet).fillPolygons(e,t)}function uz(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function dle(e){return e.randomizer||(e.randomizer=new set(e.seed||0)),e.randomizer.next()}function gS(e,t,n,r=1){return n.roughness*r*(dle(n)*(t-e)+e)}function rn(e,t,n=1){return gS(-e,e,t,n)}function Q0(e,t,n,r,a,o=!1){const l=o?a.disableMultiStrokeFill:a.disableMultiStroke,u=t8(e,t,n,r,a,!0,!1);if(l)return u;const h=t8(e,t,n,r,a,!0,!0);return u.concat(h)}function t8(e,t,n,r,a,o,l){const u=Math.pow(e-n,2)+Math.pow(t-r,2),h=Math.sqrt(u);let f=1;f=h<200?1:h>500?.4:-.0016668*h+1.233334;let d=a.maxRandomnessOffset||0;d*d*100>u&&(d=h/10);const p=d/2,g=.2+.2*dle(a);let m=a.bowing*a.maxRandomnessOffset*(r-t)/200,y=a.bowing*a.maxRandomnessOffset*(e-n)/200;m=rn(m,a,f),y=rn(y,a,f);const b=[],T=()=>rn(p,a,f),E=()=>rn(d,a,f),w=a.preserveVertices;return l?b.push({op:"move",data:[e+(w?0:T()),t+(w?0:T())]}):b.push({op:"move",data:[e+(w?0:rn(d,a,f)),t+(w?0:rn(d,a,f))]}),l?b.push({op:"bcurveTo",data:[m+e+(n-e)*g+T(),y+t+(r-t)*g+T(),m+e+2*(n-e)*g+T(),y+t+2*(r-t)*g+T(),n+(w?0:T()),r+(w?0:T())]}):b.push({op:"bcurveTo",data:[m+e+(n-e)*g+E(),y+t+(r-t)*g+E(),m+e+2*(n-e)*g+E(),y+t+2*(r-t)*g+E(),n+(w?0:E()),r+(w?0:E())]}),b}function t3(e,t,n){if(!e.length)return[];const r=[];r.push([e[0][0]+rn(t,n),e[0][1]+rn(t,n)]),r.push([e[0][0]+rn(t,n),e[0][1]+rn(t,n)]);for(let a=1;a<e.length;a++)r.push([e[a][0]+rn(t,n),e[a][1]+rn(t,n)]),a===e.length-1&&r.push([e[a][0]+rn(t,n),e[a][1]+rn(t,n)]);return mS(r,null,n)}function mS(e,t,n){const r=e.length,a=[];if(r>3){const o=[],l=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let u=1;u+2<r;u++){const h=e[u];o[0]=[h[0],h[1]],o[1]=[h[0]+(l*e[u+1][0]-l*e[u-1][0])/6,h[1]+(l*e[u+1][1]-l*e[u-1][1])/6],o[2]=[e[u+1][0]+(l*e[u][0]-l*e[u+2][0])/6,e[u+1][1]+(l*e[u][1]-l*e[u+2][1])/6],o[3]=[e[u+1][0],e[u+1][1]],a.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else r===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):r===2&&a.push(...t8(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return a}function hz(e,t,n,r,a,o,l,u){const h=[],f=[];if(u.roughness===0){e/=4,f.push([t+r*Math.cos(-e),n+a*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const p=[t+r*Math.cos(d),n+a*Math.sin(d)];h.push(p),f.push(p)}f.push([t+r*Math.cos(0),n+a*Math.sin(0)]),f.push([t+r*Math.cos(e),n+a*Math.sin(e)])}else{const d=rn(.5,u)-Math.PI/2;f.push([rn(o,u)+t+.9*r*Math.cos(d-e),rn(o,u)+n+.9*a*Math.sin(d-e)]);const p=2*Math.PI+d-.01;for(let g=d;g<p;g+=e){const m=[rn(o,u)+t+r*Math.cos(g),rn(o,u)+n+a*Math.sin(g)];h.push(m),f.push(m)}f.push([rn(o,u)+t+r*Math.cos(d+2*Math.PI+.5*l),rn(o,u)+n+a*Math.sin(d+2*Math.PI+.5*l)]),f.push([rn(o,u)+t+.98*r*Math.cos(d+l),rn(o,u)+n+.98*a*Math.sin(d+l)]),f.push([rn(o,u)+t+.9*r*Math.cos(d+.5*l),rn(o,u)+n+.9*a*Math.sin(d+.5*l)])}return[f,h]}function fz(e,t,n,r,a,o,l,u,h){const f=o+rn(.1,h),d=[];d.push([rn(u,h)+t+.9*r*Math.cos(f-e),rn(u,h)+n+.9*a*Math.sin(f-e)]);for(let p=f;p<=l;p+=e)d.push([rn(u,h)+t+r*Math.cos(p),rn(u,h)+n+a*Math.sin(p)]);return d.push([t+r*Math.cos(l),n+a*Math.sin(l)]),d.push([t+r*Math.cos(l),n+a*Math.sin(l)]),mS(d,null,h)}function het(e,t,n,r,a,o,l,u){const h=[],f=[u.maxRandomnessOffset||1,(u.maxRandomnessOffset||1)+.3];let d=[0,0];const p=u.disableMultiStroke?1:2,g=u.preserveVertices;for(let m=0;m<p;m++)m===0?h.push({op:"move",data:[l[0],l[1]]}):h.push({op:"move",data:[l[0]+(g?0:rn(f[0],u)),l[1]+(g?0:rn(f[0],u))]}),d=g?[a,o]:[a+rn(f[m],u),o+rn(f[m],u)],h.push({op:"bcurveTo",data:[e+rn(f[m],u),t+rn(f[m],u),n+rn(f[m],u),r+rn(f[m],u),d[0],d[1]]});return h}function $y(e){return[...e]}function dz(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push($y(e[0]),$y(e[1]),$y(e[2]),$y(e[2]));else{const a=[];a.push(e[0],e[0]);for(let u=1;u<e.length;u++)a.push(e[u]),u===e.length-1&&a.push(e[u]);const o=[],l=1-t;r.push($y(a[0]));for(let u=1;u+2<a.length;u++){const h=a[u];o[0]=[h[0],h[1]],o[1]=[h[0]+(l*a[u+1][0]-l*a[u-1][0])/6,h[1]+(l*a[u+1][1]-l*a[u-1][1])/6],o[2]=[a[u+1][0]+(l*a[u][0]-l*a[u+2][0])/6,a[u+1][1]+(l*a[u][1]-l*a[u+2][1])/6],o[3]=[a[u+1][0],a[u+1][1]],r.push(o[1],o[2],o[3])}}return r}function yx(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function fet(e,t,n){const r=yx(t,n);if(r===0)return yx(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return a=Math.max(0,Math.min(1,a)),yx(e,od(t,n,a))}function od(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function n8(e,t,n,r){const a=r||[];if(function(u,h){const f=u[h+0],d=u[h+1],p=u[h+2],g=u[h+3];let m=3*d[0]-2*f[0]-g[0];m*=m;let y=3*d[1]-2*f[1]-g[1];y*=y;let b=3*p[0]-2*g[0]-f[0];b*=b;let T=3*p[1]-2*g[1]-f[1];return T*=T,m<b&&(m=b),y<T&&(y=T),m+y}(e,t)<n){const u=e[t+0];a.length?(o=a[a.length-1],l=u,Math.sqrt(yx(o,l))>1&&a.push(u)):a.push(u),a.push(e[t+3])}else{const h=e[t+0],f=e[t+1],d=e[t+2],p=e[t+3],g=od(h,f,.5),m=od(f,d,.5),y=od(d,p,.5),b=od(g,m,.5),T=od(m,y,.5),E=od(b,T,.5);n8([h,g,b,E],0,n,a),n8([E,T,y,p],0,n,a)}var o,l;return a}function det(e,t){return vS(e,0,e.length,t)}function vS(e,t,n,r,a){const o=a||[],l=e[t],u=e[n-1];let h=0,f=1;for(let d=t+1;d<n-1;++d){const p=fet(e[d],l,u);p>h&&(h=p,f=d)}return Math.sqrt(h)>r?(vS(e,t,f+1,r,o),vS(e,f,n,r,o)):(o.length||o.push(l),o.push(u)),o}function LR(e,t=.15,n){const r=[],a=(e.length-1)/3;for(let o=0;o<a;o++)n8(e,3*o,t,r);return n&&n>0?vS(r,0,r.length,n):r}const Eo="none";class yS{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,r){return{shape:t,sets:n||[],options:r||this.defaultOptions}}line(t,n,r,a,o){const l=this._o(o);return this._d("line",[hle(t,n,r,a,l)],l)}rectangle(t,n,r,a,o){const l=this._o(o),u=[],h=uet(t,n,r,a,l);if(l.fill){const f=[[t,n],[t+r,n],[t+r,n+a],[t,n+a]];l.fillStyle==="solid"?u.push(NR([f],l)):u.push(gg([f],l))}return l.stroke!==Eo&&u.push(h),this._d("rectangle",u,l)}ellipse(t,n,r,a,o){const l=this._o(o),u=[],h=fle(r,a,l),f=e8(t,n,l,h);if(l.fill)if(l.fillStyle==="solid"){const d=e8(t,n,l,h).opset;d.type="fillPath",u.push(d)}else u.push(gg([f.estimatedPoints],l));return l.stroke!==Eo&&u.push(f.opset),this._d("ellipse",u,l)}circle(t,n,r,a){const o=this.ellipse(t,n,r,r,a);return o.shape="circle",o}linearPath(t,n){const r=this._o(n);return this._d("linearPath",[vx(t,!1,r)],r)}arc(t,n,r,a,o,l,u=!1,h){const f=this._o(h),d=[],p=lz(t,n,r,a,o,l,u,!0,f);if(u&&f.fill)if(f.fillStyle==="solid"){const g=Object.assign({},f);g.disableMultiStroke=!0;const m=lz(t,n,r,a,o,l,!0,!1,g);m.type="fillPath",d.push(m)}else d.push(function(g,m,y,b,T,E,w){const x=g,S=m;let A=Math.abs(y/2),R=Math.abs(b/2);A+=rn(.01*A,w),R+=rn(.01*R,w);let C=T,N=E;for(;C<0;)C+=2*Math.PI,N+=2*Math.PI;N-C>2*Math.PI&&(C=0,N=2*Math.PI);const O=(N-C)/w.curveStepCount,L=[];for(let k=C;k<=N;k+=O)L.push([x+A*Math.cos(k),S+R*Math.sin(k)]);return L.push([x+A*Math.cos(N),S+R*Math.sin(N)]),L.push([x,S]),gg([L],w)}(t,n,r,a,o,l,f));return f.stroke!==Eo&&d.push(p),this._d("arc",d,f)}curve(t,n){const r=this._o(n),a=[],o=oz(t,r);if(r.fill&&r.fill!==Eo)if(r.fillStyle==="solid"){const l=oz(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],u=t;if(u.length){const h=typeof u[0][0]=="number"?[u]:u;for(const f of h)f.length<3?l.push(...f):f.length===3?l.push(...LR(dz([f[0],f[0],f[1],f[2]]),10,(1+r.roughness)/2)):l.push(...LR(dz(f),10,(1+r.roughness)/2))}l.length&&a.push(gg([l],r))}return r.stroke!==Eo&&a.push(o),this._d("curve",a,r)}polygon(t,n){const r=this._o(n),a=[],o=vx(t,!0,r);return r.fill&&(r.fillStyle==="solid"?a.push(NR([t],r)):a.push(gg([t],r))),r.stroke!==Eo&&a.push(o),this._d("polygon",a,r)}path(t,n){const r=this._o(n),a=[];if(!t)return this._d("path",a,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=r.fill&&r.fill!=="transparent"&&r.fill!==Eo,l=r.stroke!==Eo,u=!!(r.simplification&&r.simplification<1),h=function(d,p,g){const m=cle(lle(vD(d))),y=[];let b=[],T=[0,0],E=[];const w=()=>{E.length>=4&&b.push(...LR(E,p)),E=[]},x=()=>{w(),b.length&&(y.push(b),b=[])};for(const{key:A,data:R}of m)switch(A){case"M":x(),T=[R[0],R[1]],b.push(T);break;case"L":w(),b.push([R[0],R[1]]);break;case"C":if(!E.length){const C=b.length?b[b.length-1]:T;E.push([C[0],C[1]])}E.push([R[0],R[1]]),E.push([R[2],R[3]]),E.push([R[4],R[5]]);break;case"Z":w(),b.push([T[0],T[1]])}if(x(),!g)return y;const S=[];for(const A of y){const R=det(A,g);R.length&&S.push(R)}return S}(t,1,u?4-4*(r.simplification||1):(1+r.roughness)/2),f=cz(t,r);if(o)if(r.fillStyle==="solid")if(h.length===1){const d=cz(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else a.push(NR(h,r));else a.push(gg(h,r));return l&&(u?h.forEach(d=>{a.push(vx(d,!1,r))}):a.push(f)),this._d("path",a,r)}opsToPath(t,n){let r="";for(const a of t.ops){const o=typeof n=="number"&&n>=0?a.data.map(l=>+l.toFixed(n)):a.data;switch(a.op){case"move":r+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":r+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":r+=`L${o[0]} ${o[1]} `}}return r.trim()}toPaths(t){const n=t.sets||[],r=t.options||this.defaultOptions,a=[];for(const o of n){let l=null;switch(o.type){case"path":l={d:this.opsToPath(o),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Eo};break;case"fillPath":l={d:this.opsToPath(o),stroke:Eo,strokeWidth:0,fill:r.fill||Eo};break;case"fillSketch":l=this.fillSketch(o,r)}l&&a.push(l)}return a}fillSketch(t,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||Eo,strokeWidth:r,fill:Eo}}_mergedShape(t){return t.filter((n,r)=>r===0||n.op!=="move")}}class pet{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new yS(n)}draw(t){const n=t.sets||[],r=t.options||this.getDefaultOptions(),a=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const l of n)switch(l.type){case"path":a.save(),a.strokeStyle=r.stroke==="none"?"transparent":r.stroke,a.lineWidth=r.strokeWidth,r.strokeLineDash&&a.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(a.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(a,l,o),a.restore();break;case"fillPath":{a.save(),a.fillStyle=r.fill||"";const u=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,l,o,u),a.restore();break}case"fillSketch":this.fillSketch(a,l,r)}}fillSketch(t,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=a,this._drawToContext(t,n,r.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,r,a="nonzero"){t.beginPath();for(const o of n.ops){const l=typeof r=="number"&&r>=0?o.data.map(u=>+u.toFixed(r)):o.data;switch(o.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}n.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,r,a,o){const l=this.gen.line(t,n,r,a,o);return this.draw(l),l}rectangle(t,n,r,a,o){const l=this.gen.rectangle(t,n,r,a,o);return this.draw(l),l}ellipse(t,n,r,a,o){const l=this.gen.ellipse(t,n,r,a,o);return this.draw(l),l}circle(t,n,r,a){const o=this.gen.circle(t,n,r,a);return this.draw(o),o}linearPath(t,n){const r=this.gen.linearPath(t,n);return this.draw(r),r}polygon(t,n){const r=this.gen.polygon(t,n);return this.draw(r),r}arc(t,n,r,a,o,l,u=!1,h){const f=this.gen.arc(t,n,r,a,o,l,u,h);return this.draw(f),f}curve(t,n){const r=this.gen.curve(t,n);return this.draw(r),r}path(t,n){const r=this.gen.path(t,n);return this.draw(r),r}}const n3="http://www.w3.org/2000/svg";class get{constructor(t,n){this.svg=t,this.gen=new yS(n)}draw(t){const n=t.sets||[],r=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,o=a.createElementNS(n3,"g"),l=t.options.fixedDecimalPlaceDigits;for(const u of n){let h=null;switch(u.type){case"path":h=a.createElementNS(n3,"path"),h.setAttribute("d",this.opsToPath(u,l)),h.setAttribute("stroke",r.stroke),h.setAttribute("stroke-width",r.strokeWidth+""),h.setAttribute("fill","none"),r.strokeLineDash&&h.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":h=a.createElementNS(n3,"path"),h.setAttribute("d",this.opsToPath(u,l)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",r.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(a,u,r)}h&&o.appendChild(h)}return o}fillSketch(t,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const o=t.createElementNS(n3,"path");return o.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),o.setAttribute("stroke",r.fill||""),o.setAttribute("stroke-width",a+""),o.setAttribute("fill","none"),r.fillLineDash&&o.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,r,a,o){const l=this.gen.line(t,n,r,a,o);return this.draw(l)}rectangle(t,n,r,a,o){const l=this.gen.rectangle(t,n,r,a,o);return this.draw(l)}ellipse(t,n,r,a,o){const l=this.gen.ellipse(t,n,r,a,o);return this.draw(l)}circle(t,n,r,a){const o=this.gen.circle(t,n,r,a);return this.draw(o)}linearPath(t,n){const r=this.gen.linearPath(t,n);return this.draw(r)}polygon(t,n){const r=this.gen.polygon(t,n);return this.draw(r)}arc(t,n,r,a,o,l,u=!1,h){const f=this.gen.arc(t,n,r,a,o,l,u,h);return this.draw(f)}curve(t,n){const r=this.gen.curve(t,n);return this.draw(r)}path(t,n){const r=this.gen.path(t,n);return this.draw(r)}}var Ht={canvas:(e,t)=>new pet(e,t),svg:(e,t)=>new get(e,t),generator:e=>new yS(e),newSeed:()=>yS.newSeed()},cn=I(async(e,t,n)=>{var p,g;let r;const a=t.useHtmlLabels||ur((p=Pe())==null?void 0:p.htmlLabels);n?r=n:r="node default";const o=e.insert("g").attr("class",r).attr("id",t.domId||t.id),l=o.insert("g").attr("class","label").attr("style",Rs(t.labelStyle));let u;t.label===void 0?u="":u=typeof t.label=="string"?t.label:t.label[0];const h=await Fl(l,or(Ih(u),Pe()),{useHtmlLabels:a,width:t.width||((g=Pe().flowchart)==null?void 0:g.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let f=h.getBBox();const d=((t==null?void 0:t.padding)??0)/2;if(a){const m=h.children[0],y=it(h),b=m.getElementsByTagName("img");if(b){const T=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(E=>new Promise(w=>{function x(){if(E.style.display="flex",E.style.flexDirection="column",T){const S=Pe().fontSize?Pe().fontSize:window.getComputedStyle(document.body).fontSize,A=5,[R=Mn.fontSize]=If(S),C=R*A+"px";E.style.minWidth=C,E.style.maxWidth=C}else E.style.width="100%";w(E)}I(x,"setupImage"),setTimeout(()=>{E.complete&&x()}),E.addEventListener("error",x),E.addEventListener("load",x)})))}f=m.getBoundingClientRect(),y.attr("width",f.width),y.attr("height",f.height)}return a?l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):l.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:f,halfPadding:d,label:l}},"labelHelper"),_R=I(async(e,t,n)=>{var h,f,d,p,g,m;const r=n.useHtmlLabels||ur((f=(h=Pe())==null?void 0:h.flowchart)==null?void 0:f.htmlLabels),a=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),o=await Fl(a,or(Ih(t),Pe()),{useHtmlLabels:r,width:n.width||((p=(d=Pe())==null?void 0:d.flowchart)==null?void 0:p.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let l=o.getBBox();const u=n.padding/2;if(ur((m=(g=Pe())==null?void 0:g.flowchart)==null?void 0:m.htmlLabels)){const y=o.children[0],b=it(o);l=y.getBoundingClientRect(),b.attr("width",l.width),b.attr("height",l.height)}return r?a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):a.attr("transform","translate(0, "+-l.height/2+")"),n.centerLabel&&a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:l,halfPadding:u,label:a}},"insertLabel"),Ut=I((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),un=I((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function _n(e){const t=e.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return t.push("Z"),t.join(" ")}I(_n,"createPathFromPoints");function J0(e,t,n,r,a,o){const l=[],h=n-e,f=r-t,d=h/o,p=2*Math.PI/d,g=t+f/2;for(let m=0;m<=50;m++){const y=m/50,b=e+y*h,T=g+a*Math.sin(p*(b-e));l.push({x:b,y:T})}return l}I(J0,"generateFullSineWavePoints");function yD(e,t,n,r,a,o){const l=[],u=a*Math.PI/180,d=(o*Math.PI/180-u)/(r-1);for(let p=0;p<r;p++){const g=u+p*d,m=e+n*Math.cos(g),y=t+n*Math.sin(g);l.push({x:-m,y:-y})}return l}I(yD,"generateCirclePoints");var met=I((e,t)=>{var n=e.x,r=e.y,a=t.x-n,o=t.y-r,l=e.width/2,u=e.height/2,h,f;return Math.abs(o)*l>Math.abs(a)*u?(o<0&&(u=-u),h=o===0?0:u*a/o,f=u):(a<0&&(l=-l),h=l,f=a===0?0:l*o/a),{x:n+h,y:r+f}},"intersectRect"),_v=met;function ple(e,t){t&&e.attr("style",t)}I(ple,"applyStyle");async function gle(e){const t=it(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div");let r=e.label;e.label&&ts(e.label)&&(r=await rE(e.label.replace(ot.lineBreakRegex,`
`),Pe()));const a=e.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+a+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+r+"</span>"),ple(n,e.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}I(gle,"addHtmlLabel");var vet=I(async(e,t,n,r)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),ur(Pe().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),ve.info("vertexText"+a);const o={isNode:r,label:Ih(a).replace(/fa[blrs]?:fa-[\w-]+/g,u=>`<i class='${u.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await gle(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof a=="string"?l=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?l=a:l=[];for(const u of l){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),n?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),o.appendChild(h)}return o}},"createLabel"),Od=vet,Vh=I((e,t,n,r,a)=>["M",e+a,t,"H",e+n-a,"A",a,a,0,0,1,e+n,t+a,"V",t+r-a,"A",a,a,0,0,1,e+n-a,t+r,"H",e+a,"A",a,a,0,0,1,e,t+r-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),yet=I(e=>{const{handDrawnSeed:t}=Pe();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Dv=I(e=>{const t=bet([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),bet=I(e=>{const t=new Map;return e.forEach(n=>{const[r,a]=n.split(":");t.set(r.trim(),a==null?void 0:a.trim())}),t},"styles2Map"),Yt=I(e=>{const{stylesArray:t}=Dv(e),n=[],r=[],a=[],o=[];return t.forEach(l=>{const u=l[0];u==="color"||u==="font-size"||u==="font-family"||u==="font-weight"||u==="font-style"||u==="text-decoration"||u==="text-align"||u==="text-transform"||u==="line-height"||u==="letter-spacing"||u==="word-spacing"||u==="text-shadow"||u==="text-overflow"||u==="white-space"||u==="word-wrap"||u==="word-break"||u==="overflow-wrap"||u==="hyphens"?n.push(l.join(":")+" !important"):(r.push(l.join(":")+" !important"),u.includes("stroke")&&a.push(l.join(":")+" !important"),u==="fill"&&o.push(l.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:o}},"styles2String"),$t=I((e,t)=>{var h;const{themeVariables:n,handDrawnSeed:r}=Pe(),{nodeBorder:a,mainBkg:o}=n,{stylesMap:l}=Dv(e);return Object.assign({roughness:.7,fill:l.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||a,seed:r,strokeWidth:((h=l.get("stroke-width"))==null?void 0:h.replace("px",""))||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides"),mle=I(async(e,t)=>{ve.info("Creating subgraph rect for ",t.id,t);const n=Pe(),{themeVariables:r,handDrawnSeed:a}=n,{clusterBkg:o,clusterBorder:l}=r,{labelStyles:u,nodeStyles:h,borderStyles:f,backgroundStyles:d}=Yt(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=ur(n.flowchart.htmlLabels),m=p.insert("g").attr("class","cluster-label "),y=await Fl(m,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0});let b=y.getBBox();if(ur(n.flowchart.htmlLabels)){const C=y.children[0],N=it(y);b=C.getBoundingClientRect(),N.attr("width",b.width),N.attr("height",b.height)}const T=t.width<=b.width+t.padding?b.width+t.padding:t.width;t.width<=b.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height,w=t.x-T/2,x=t.y-E/2;ve.trace("Data ",t,JSON.stringify(t));let S;if(t.look==="handDrawn"){const C=Ht.svg(p),N=$t(t,{roughness:.7,fill:o,stroke:l,fillWeight:3,seed:a}),O=C.path(Vh(w,x,T,E,0),N);S=p.insert(()=>(ve.debug("Rough node insert CXC",O),O),":first-child"),S.select("path:nth-child(2)").attr("style",f.join(";")),S.select("path").attr("style",d.join(";").replace("fill","stroke"))}else S=p.insert("rect",":first-child"),S.attr("style",h).attr("rx",t.rx).attr("ry",t.ry).attr("x",w).attr("y",x).attr("width",T).attr("height",E);const{subGraphTitleTopMargin:A}=aE(n);if(m.attr("transform",`translate(${t.x-b.width/2}, ${t.y-t.height/2+A})`),u){const C=m.select("span");C&&C.attr("style",u)}const R=S.node().getBBox();return t.offsetX=0,t.width=R.width,t.height=R.height,t.offsetY=b.height-t.padding/2,t.intersect=function(C){return _v(t,C)},{cluster:p,labelBBox:b}},"rect"),Tet=I((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id),r=n.insert("rect",":first-child"),a=0*t.padding,o=a/2;r.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2-o).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const l=r.node().getBBox();return t.width=l.width,t.height=l.height,t.intersect=function(u){return _v(t,u)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),Eet=I(async(e,t)=>{const n=Pe(),{themeVariables:r,handDrawnSeed:a}=n,{altBackground:o,compositeBackground:l,compositeTitleBackground:u,nodeBorder:h}=r,f=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=f.insert("g",":first-child"),p=f.insert("g").attr("class","cluster-label");let g=f.append("rect");const m=p.node().appendChild(await Od(t.label,t.labelStyle,void 0,!0));let y=m.getBBox();if(ur(n.flowchart.htmlLabels)){const O=m.children[0],L=it(m);y=O.getBoundingClientRect(),L.attr("width",y.width),L.attr("height",y.height)}const b=0*t.padding,T=b/2,E=(t.width<=y.width+t.padding?y.width+t.padding:t.width)+b;t.width<=y.width+t.padding?t.diff=(E-t.width)/2-t.padding:t.diff=-t.padding;const w=t.height+b,x=t.height+b-y.height-6,S=t.x-E/2,A=t.y-w/2;t.width=E;const R=t.y-t.height/2-T+y.height+2;let C;if(t.look==="handDrawn"){const O=t.cssClasses.includes("statediagram-cluster-alt"),L=Ht.svg(f),k=t.rx||t.ry?L.path(Vh(S,A,E,w,10),{roughness:.7,fill:u,fillStyle:"solid",stroke:h,seed:a}):L.rectangle(S,A,E,w,{seed:a});C=f.insert(()=>k,":first-child");const M=L.rectangle(S,R,E,x,{fill:O?o:l,fillStyle:O?"hachure":"solid",stroke:h,seed:a});C=f.insert(()=>k,":first-child"),g=f.insert(()=>M)}else C=d.insert("rect",":first-child"),C.attr("class","outer").attr("x",S).attr("y",A).attr("width",E).attr("height",w).attr("data-look",t.look),g.attr("class","inner").attr("x",S).attr("y",R).attr("width",E).attr("height",x);p.attr("transform",`translate(${t.x-y.width/2}, ${A+1-(ur(n.flowchart.htmlLabels)?0:3)})`);const N=C.node().getBBox();return t.height=N.height,t.offsetX=0,t.offsetY=y.height-t.padding/2,t.labelBBox=y,t.intersect=function(O){return _v(t,O)},{cluster:f,labelBBox:y}},"roundedWithTitle"),wet=I(async(e,t)=>{ve.info("Creating subgraph rect for ",t.id,t);const n=Pe(),{themeVariables:r,handDrawnSeed:a}=n,{clusterBkg:o,clusterBorder:l}=r,{labelStyles:u,nodeStyles:h,borderStyles:f,backgroundStyles:d}=Yt(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=ur(n.flowchart.htmlLabels),m=p.insert("g").attr("class","cluster-label "),y=await Fl(m,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0,width:t.width});let b=y.getBBox();if(ur(n.flowchart.htmlLabels)){const C=y.children[0],N=it(y);b=C.getBoundingClientRect(),N.attr("width",b.width),N.attr("height",b.height)}const T=t.width<=b.width+t.padding?b.width+t.padding:t.width;t.width<=b.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height,w=t.x-T/2,x=t.y-E/2;ve.trace("Data ",t,JSON.stringify(t));let S;if(t.look==="handDrawn"){const C=Ht.svg(p),N=$t(t,{roughness:.7,fill:o,stroke:l,fillWeight:4,seed:a}),O=C.path(Vh(w,x,T,E,t.rx),N);S=p.insert(()=>(ve.debug("Rough node insert CXC",O),O),":first-child"),S.select("path:nth-child(2)").attr("style",f.join(";")),S.select("path").attr("style",d.join(";").replace("fill","stroke"))}else S=p.insert("rect",":first-child"),S.attr("style",h).attr("rx",t.rx).attr("ry",t.ry).attr("x",w).attr("y",x).attr("width",T).attr("height",E);const{subGraphTitleTopMargin:A}=aE(n);if(m.attr("transform",`translate(${t.x-b.width/2}, ${t.y-t.height/2+A})`),u){const C=m.select("span");C&&C.attr("style",u)}const R=S.node().getBBox();return t.offsetX=0,t.width=R.width,t.height=R.height,t.offsetY=b.height-t.padding/2,t.intersect=function(C){return _v(t,C)},{cluster:p,labelBBox:b}},"kanbanSection"),xet=I((e,t)=>{const n=Pe(),{themeVariables:r,handDrawnSeed:a}=n,{nodeBorder:o}=r,l=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),u=l.insert("g",":first-child"),h=0*t.padding,f=t.width+h;t.diff=-t.padding;const d=t.height+h,p=t.x-f/2,g=t.y-d/2;t.width=f;let m;if(t.look==="handDrawn"){const T=Ht.svg(l).rectangle(p,g,f,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:o,seed:a});m=l.insert(()=>T,":first-child")}else m=u.insert("rect",":first-child"),m.attr("class","divider").attr("x",p).attr("y",g).attr("width",f).attr("height",d).attr("data-look",t.look);const y=m.node().getBBox();return t.height=y.height,t.offsetX=0,t.offsetY=0,t.intersect=function(b){return _v(t,b)},{cluster:l,labelBBox:{}}},"divider"),Aet=mle,Iet={rect:mle,squareRect:Aet,roundedWithTitle:Eet,noteGroup:Tet,divider:xet,kanbanSection:wet},vle=new Map,bD=I(async(e,t)=>{const n=t.shape||"rect",r=await Iet[n](e,t);return vle.set(t.id,r),r},"insertCluster"),Cet=I(()=>{vle=new Map},"clear");function yle(e,t){return e.intersect(t)}I(yle,"intersectNode");var Ret=yle;function ble(e,t,n,r){var a=e.x,o=e.y,l=a-r.x,u=o-r.y,h=Math.sqrt(t*t*u*u+n*n*l*l),f=Math.abs(t*n*l/h);r.x<a&&(f=-f);var d=Math.abs(t*n*u/h);return r.y<o&&(d=-d),{x:a+f,y:o+d}}I(ble,"intersectEllipse");var Tle=ble;function Ele(e,t,n){return Tle(e,t,t,n)}I(Ele,"intersectCircle");var ket=Ele;function wle(e,t,n,r){var a,o,l,u,h,f,d,p,g,m,y,b,T,E,w;if(a=t.y-e.y,l=e.x-t.x,h=t.x*e.y-e.x*t.y,g=a*n.x+l*n.y+h,m=a*r.x+l*r.y+h,!(g!==0&&m!==0&&r8(g,m))&&(o=r.y-n.y,u=n.x-r.x,f=r.x*n.y-n.x*r.y,d=o*e.x+u*e.y+f,p=o*t.x+u*t.y+f,!(d!==0&&p!==0&&r8(d,p))&&(y=a*u-o*l,y!==0)))return b=Math.abs(y/2),T=l*f-u*h,E=T<0?(T-b)/y:(T+b)/y,T=o*h-a*f,w=T<0?(T-b)/y:(T+b)/y,{x:E,y:w}}I(wle,"intersectLine");function r8(e,t){return e*t>0}I(r8,"sameSign");var Oet=wle;function xle(e,t,n){let r=e.x,a=e.y,o=[],l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){l=Math.min(l,d.x),u=Math.min(u,d.y)}):(l=Math.min(l,t.x),u=Math.min(u,t.y));let h=r-e.width/2-l,f=a-e.height/2-u;for(let d=0;d<t.length;d++){let p=t[d],g=t[d<t.length-1?d+1:0],m=Oet(e,n,{x:h+p.x,y:f+p.y},{x:h+g.x,y:f+g.y});m&&o.push(m)}return o.length?(o.length>1&&o.sort(function(d,p){let g=d.x-n.x,m=d.y-n.y,y=Math.sqrt(g*g+m*m),b=p.x-n.x,T=p.y-n.y,E=Math.sqrt(b*b+T*T);return y<E?-1:y===E?0:1}),o[0]):e}I(xle,"intersectPolygon");var Net=xle,_t={node:Ret,circle:ket,ellipse:Tle,polygon:Net,rect:_v};function Sle(e,t){const{labelStyles:n}=Yt(t);t.labelStyle=n;const r=un(t);let a=r;r||(a="anchor");const o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=1,{cssStyles:u}=t,h=Ht.svg(o),f=$t(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(f.roughness=0);const d=h.circle(0,0,l*2,f),p=o.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",Rs(u)),Ut(t,p),t.intersect=function(g){return ve.info("Circle intersect",t,l,g),_t.circle(t,l,g)},o}I(Sle,"anchor");function i8(e,t,n,r,a,o,l){const h=(e+n)/2,f=(t+r)/2,d=Math.atan2(r-t,n-e),p=(n-e)/2,g=(r-t)/2,m=p/a,y=g/o,b=Math.sqrt(m**2+y**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const T=Math.sqrt(1-b**2),E=h+T*o*Math.sin(d)*(l?-1:1),w=f-T*a*Math.cos(d)*(l?-1:1),x=Math.atan2((t-w)/o,(e-E)/a);let A=Math.atan2((r-w)/o,(n-E)/a)-x;l&&A<0&&(A+=2*Math.PI),!l&&A>0&&(A-=2*Math.PI);const R=[];for(let C=0;C<20;C++){const N=C/19,O=x+N*A,L=E+a*Math.cos(O),k=w+o*Math.sin(O);R.push({x:L,y:k})}return R}I(i8,"generateArcPoints");async function Ale(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=o.width+t.padding+20,u=o.height+t.padding,h=u/2,f=h/(2.5+u/50),{cssStyles:d}=t,p=[{x:l/2,y:-u/2},{x:-l/2,y:-u/2},...i8(-l/2,-u/2,-l/2,u/2,f,h,!1),{x:l/2,y:u/2},...i8(l/2,u/2,l/2,-u/2,f,h,!0)],g=Ht.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=_n(p),b=g.path(y,m),T=a.insert(()=>b,":first-child");return T.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(${f/2}, 0)`),Ut(t,T),t.intersect=function(E){return _t.polygon(t,p,E)},a}I(Ale,"bowTieRect");function qh(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}I(qh,"insertPolygonShape");async function Ile(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=o.height+t.padding,u=12,h=o.width+t.padding+u,f=0,d=h,p=-l,g=0,m=[{x:f+u,y:p},{x:d,y:p},{x:d,y:g},{x:f,y:g},{x:f,y:p+u},{x:f+u,y:p}];let y;const{cssStyles:b}=t;if(t.look==="handDrawn"){const T=Ht.svg(a),E=$t(t,{}),w=_n(m),x=T.path(w,E);y=a.insert(()=>x,":first-child").attr("transform",`translate(${-h/2}, ${l/2})`),b&&y.attr("style",b)}else y=qh(a,h,l,m);return r&&y.attr("style",r),Ut(t,y),t.intersect=function(T){return _t.polygon(t,m,T)},a}I(Ile,"card");function Cle(e,t){const{nodeStyles:n}=Yt(t);t.label="";const r=e.insert("g").attr("class",un(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,o=Math.max(28,t.width??0),l=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}],u=Ht.svg(r),h=$t(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=_n(l),d=u.path(f,h),p=r.insert(()=>d,":first-child");return a&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),t.width=28,t.height=28,t.intersect=function(g){return _t.polygon(t,l,g)},r}I(Cle,"choice");async function Rle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,halfPadding:l}=await cn(e,t,un(t)),u=o.width/2+l;let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Ht.svg(a),p=$t(t,{}),g=d.circle(0,0,u*2,p);h=a.insert(()=>g,":first-child"),h.attr("class","basic label-container").attr("style",Rs(f))}else h=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",u).attr("cx",0).attr("cy",0);return Ut(t,h),t.intersect=function(d){return ve.info("Circle intersect",t,u,d),_t.circle(t,u,d)},a}I(Rle,"circle");function kle(e){const t=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=e*2,a={x:r/2*t,y:r/2*n},o={x:-(r/2)*t,y:r/2*n},l={x:-(r/2)*t,y:-(r/2)*n},u={x:r/2*t,y:-(r/2)*n};return`M ${o.x},${o.y} L ${u.x},${u.y}
                   M ${a.x},${a.y} L ${l.x},${l.y}`}I(kle,"createLine");function Ole(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n,t.label="";const a=e.insert("g").attr("class",un(t)).attr("id",t.domId??t.id),o=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:l}=t,u=Ht.svg(a),h=$t(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=u.circle(0,0,o*2,h),d=kle(o),p=u.path(d,h),g=a.insert(()=>f,":first-child");return g.insert(()=>p),l&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",l),r&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",r),Ut(t,g),t.intersect=function(m){return ve.info("crossedCircle intersect",t,{radius:o,point:m}),_t.circle(t,o,m)},a}I(Ole,"crossedCircle");function Yu(e,t,n,r=100,a=0,o=180){const l=[],u=a*Math.PI/180,d=(o*Math.PI/180-u)/(r-1);for(let p=0;p<r;p++){const g=u+p*d,m=e+n*Math.cos(g),y=t+n*Math.sin(g);l.push({x:-m,y:-y})}return l}I(Yu,"generateCirclePoints");async function Nle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=o.width+(t.padding??0),h=o.height+(t.padding??0),f=Math.max(5,h*.1),{cssStyles:d}=t,p=[...Yu(u/2,-h/2,f,30,-90,0),{x:-u/2-f,y:f},...Yu(u/2+f*2,-f,f,20,-180,-270),...Yu(u/2+f*2,f,f,20,-90,-180),{x:-u/2-f,y:-h/2},...Yu(u/2,h/2,f,20,0,90)],g=[{x:u/2,y:-h/2-f},{x:-u/2,y:-h/2-f},...Yu(u/2,-h/2,f,20,-90,0),{x:-u/2-f,y:-f},...Yu(u/2+u*.1,-f,f,20,-180,-270),...Yu(u/2+u*.1,f,f,20,-90,-180),{x:-u/2-f,y:h/2},...Yu(u/2,h/2,f,20,0,90),{x:-u/2,y:h/2+f},{x:u/2,y:h/2+f}],m=Ht.svg(a),y=$t(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const T=_n(p).replace("Z",""),E=m.path(T,y),w=_n(g),x=m.path(w,{...y}),S=a.insert("g",":first-child");return S.insert(()=>x,":first-child").attr("stroke-opacity",0),S.insert(()=>E,":first-child"),S.attr("class","text"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(${f}, 0)`),l.attr("transform",`translate(${-u/2+f-(o.x-(o.left??0))},${-h/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,S),t.intersect=function(A){return _t.polygon(t,g,A)},a}I(Nle,"curlyBraceLeft");function Vu(e,t,n,r=100,a=0,o=180){const l=[],u=a*Math.PI/180,d=(o*Math.PI/180-u)/(r-1);for(let p=0;p<r;p++){const g=u+p*d,m=e+n*Math.cos(g),y=t+n*Math.sin(g);l.push({x:m,y})}return l}I(Vu,"generateCirclePoints");async function Lle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=o.width+(t.padding??0),h=o.height+(t.padding??0),f=Math.max(5,h*.1),{cssStyles:d}=t,p=[...Vu(u/2,-h/2,f,20,-90,0),{x:u/2+f,y:-f},...Vu(u/2+f*2,-f,f,20,-180,-270),...Vu(u/2+f*2,f,f,20,-90,-180),{x:u/2+f,y:h/2},...Vu(u/2,h/2,f,20,0,90)],g=[{x:-u/2,y:-h/2-f},{x:u/2,y:-h/2-f},...Vu(u/2,-h/2,f,20,-90,0),{x:u/2+f,y:-f},...Vu(u/2+f*2,-f,f,20,-180,-270),...Vu(u/2+f*2,f,f,20,-90,-180),{x:u/2+f,y:h/2},...Vu(u/2,h/2,f,20,0,90),{x:u/2,y:h/2+f},{x:-u/2,y:h/2+f}],m=Ht.svg(a),y=$t(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const T=_n(p).replace("Z",""),E=m.path(T,y),w=_n(g),x=m.path(w,{...y}),S=a.insert("g",":first-child");return S.insert(()=>x,":first-child").attr("stroke-opacity",0),S.insert(()=>E,":first-child"),S.attr("class","text"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(${-f}, 0)`),l.attr("transform",`translate(${-u/2+(t.padding??0)/2-(o.x-(o.left??0))},${-h/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,S),t.intersect=function(A){return _t.polygon(t,g,A)},a}I(Lle,"curlyBraceRight");function va(e,t,n,r=100,a=0,o=180){const l=[],u=a*Math.PI/180,d=(o*Math.PI/180-u)/(r-1);for(let p=0;p<r;p++){const g=u+p*d,m=e+n*Math.cos(g),y=t+n*Math.sin(g);l.push({x:-m,y:-y})}return l}I(va,"generateCirclePoints");async function _le(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=o.width+(t.padding??0),h=o.height+(t.padding??0),f=Math.max(5,h*.1),{cssStyles:d}=t,p=[...va(u/2,-h/2,f,30,-90,0),{x:-u/2-f,y:f},...va(u/2+f*2,-f,f,20,-180,-270),...va(u/2+f*2,f,f,20,-90,-180),{x:-u/2-f,y:-h/2},...va(u/2,h/2,f,20,0,90)],g=[...va(-u/2+f+f/2,-h/2,f,20,-90,-180),{x:u/2-f/2,y:f},...va(-u/2-f/2,-f,f,20,0,90),...va(-u/2-f/2,f,f,20,-90,0),{x:u/2-f/2,y:-f},...va(-u/2+f+f/2,h/2,f,30,-180,-270)],m=[{x:u/2,y:-h/2-f},{x:-u/2,y:-h/2-f},...va(u/2,-h/2,f,20,-90,0),{x:-u/2-f,y:-f},...va(u/2+f*2,-f,f,20,-180,-270),...va(u/2+f*2,f,f,20,-90,-180),{x:-u/2-f,y:h/2},...va(u/2,h/2,f,20,0,90),{x:-u/2,y:h/2+f},{x:u/2-f-f/2,y:h/2+f},...va(-u/2+f+f/2,-h/2,f,20,-90,-180),{x:u/2-f/2,y:f},...va(-u/2-f/2,-f,f,20,0,90),...va(-u/2-f/2,f,f,20,-90,0),{x:u/2-f/2,y:-f},...va(-u/2+f+f/2,h/2,f,30,-180,-270)],y=Ht.svg(a),b=$t(t,{fill:"none"});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=_n(p).replace("Z",""),w=y.path(E,b),S=_n(g).replace("Z",""),A=y.path(S,b),R=_n(m),C=y.path(R,{...b}),N=a.insert("g",":first-child");return N.insert(()=>C,":first-child").attr("stroke-opacity",0),N.insert(()=>w,":first-child"),N.insert(()=>A,":first-child"),N.attr("class","text"),d&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",d),r&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",r),N.attr("transform",`translate(${f-f/4}, 0)`),l.attr("transform",`translate(${-u/2+(t.padding??0)/2-(o.x-(o.left??0))},${-h/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,N),t.intersect=function(O){return _t.polygon(t,m,O)},a}I(_le,"curlyBraces");async function Dle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=80,u=20,h=Math.max(l,(o.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),f=Math.max(u,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=f/2,{cssStyles:p}=t,g=Ht.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=h,b=f,T=y-d,E=b/4,w=[{x:T,y:0},{x:E,y:0},{x:0,y:b/2},{x:E,y:b},{x:T,y:b},...yD(-T,-b/2,d,50,270,90)],x=_n(w),S=g.path(x,m),A=a.insert(()=>S,":first-child");return A.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",p),r&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",r),A.attr("transform",`translate(${-h/2}, ${-f/2})`),Ut(t,A),t.intersect=function(R){return _t.polygon(t,w,R)},a}I(Dle,"curvedTrapezoid");var Let=I((e,t,n,r,a,o)=>[`M${e},${t+o}`,`a${a},${o} 0,0,0 ${n},0`,`a${a},${o} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${o} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),_et=I((e,t,n,r,a,o)=>[`M${e},${t+o}`,`M${e+n},${t+o}`,`a${a},${o} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${o} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),Det=I((e,t,n,r,a,o)=>[`M${e-n/2},${-r/2}`,`a${a},${o} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function Mle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+t.padding,t.width??0),h=u/2,f=h/(2.5+u/50),d=Math.max(o.height+f+t.padding,t.height??0);let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const m=Ht.svg(a),y=_et(0,0,u,d,h,f),b=Det(0,f,u,d,h,f),T=m.path(y,$t(t,{})),E=m.path(b,$t(t,{fill:"none"}));p=a.insert(()=>E,":first-child"),p=a.insert(()=>T,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{const m=Let(0,0,u,d,h,f);p=a.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Rs(g)).attr("style",r)}return p.attr("label-offset-y",f),p.attr("transform",`translate(${-u/2}, ${-(d/2+f)})`),Ut(t,p),l.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+(t.padding??0)/1.5-(o.y-(o.top??0))})`),t.intersect=function(m){const y=_t.rect(t,m),b=y.x-(t.x??0);if(h!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-f)){let T=f*f*(1-b*b/(h*h));T>0&&(T=Math.sqrt(T)),T=f-T,m.y-(t.y??0)>0&&(T=-T),y.y+=T}return y},a}I(Mle,"cylinder");async function Ple(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=o.width+t.padding,h=o.height+t.padding,f=h*.2,d=-u/2,p=-h/2-f/2,{cssStyles:g}=t,m=Ht.svg(a),y=$t(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:d,y:p+f},{x:-d,y:p+f},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+f}],T=m.polygon(b.map(w=>[w.x,w.y]),y),E=a.insert(()=>T,":first-child");return E.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",g),r&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",r),l.attr("transform",`translate(${d+(t.padding??0)/2-(o.x-(o.left??0))}, ${p+f+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,E),t.intersect=function(w){return _t.rect(t,w)},a}I(Ple,"dividedRectangle");async function Fle(e,t){var g,m;const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,halfPadding:l}=await cn(e,t,un(t)),h=o.width/2+l+5,f=o.width/2+l;let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const y=Ht.svg(a),b=$t(t,{roughness:.2,strokeWidth:2.5}),T=$t(t,{roughness:.2,strokeWidth:1.5}),E=y.circle(0,0,h*2,b),w=y.circle(0,0,f*2,T);d=a.insert("g",":first-child"),d.attr("class",Rs(t.cssClasses)).attr("style",Rs(p)),(g=d.node())==null||g.appendChild(E),(m=d.node())==null||m.appendChild(w)}else{d=a.insert("g",":first-child");const y=d.insert("circle",":first-child"),b=d.insert("circle");d.attr("class","basic label-container").attr("style",r),y.attr("class","outer-circle").attr("style",r).attr("r",h).attr("cx",0).attr("cy",0),b.attr("class","inner-circle").attr("style",r).attr("r",f).attr("cx",0).attr("cy",0)}return Ut(t,d),t.intersect=function(y){return ve.info("DoubleCircle intersect",t,h,y),_t.circle(t,h,y)},a}I(Fle,"doublecircle");function Ble(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:a}=Yt(t);t.label="",t.labelStyle=r;const o=e.insert("g").attr("class",un(t)).attr("id",t.domId??t.id),l=7,{cssStyles:u}=t,h=Ht.svg(o),{nodeBorder:f}=n,d=$t(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const p=h.circle(0,0,l*2,d),g=o.insert(()=>p,":first-child");return g.selectAll("path").attr("style",`fill: ${f} !important;`),u&&u.length>0&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",u),a&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",a),Ut(t,g),t.intersect=function(m){return ve.info("filledCircle intersect",t,{radius:l,point:m}),_t.circle(t,l,m)},o}I(Ble,"filledCircle");async function Hle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=o.width+(t.padding??0),h=u+o.height,f=u+o.height,d=[{x:0,y:-h},{x:f,y:-h},{x:f/2,y:0}],{cssStyles:p}=t,g=Ht.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=_n(d),b=g.path(y,m),T=a.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return p&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",p),r&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",r),t.width=u,t.height=h,Ut(t,T),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-h/2+(t.padding??0)/2+(o.y-(o.top??0))})`),t.intersect=function(E){return ve.info("Triangle intersect",t,d,E),_t.polygon(t,d,E)},a}I(Hle,"flippedTriangle");function $le(e,t,{dir:n,config:{state:r,themeVariables:a}}){const{nodeStyles:o}=Yt(t);t.label="";const l=e.insert("g").attr("class",un(t)).attr("id",t.domId??t.id),{cssStyles:u}=t;let h=Math.max(70,(t==null?void 0:t.width)??0),f=Math.max(10,(t==null?void 0:t.height)??0);n==="LR"&&(h=Math.max(10,(t==null?void 0:t.width)??0),f=Math.max(70,(t==null?void 0:t.height)??0));const d=-1*h/2,p=-1*f/2,g=Ht.svg(l),m=$t(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=g.rectangle(d,p,h,f,m),b=l.insert(()=>y,":first-child");u&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",u),o&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",o),Ut(t,b);const T=(r==null?void 0:r.padding)??0;return t.width&&t.height&&(t.width+=T/2||0,t.height+=T/2||0),t.intersect=function(E){return _t.rect(t,E)},l}I($le,"forkJoin");async function Wle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const a=80,o=50,{shapeSvg:l,bbox:u}=await cn(e,t,un(t)),h=Math.max(a,u.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(o,u.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=f/2,{cssStyles:p}=t,g=Ht.svg(l),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-h/2,y:-f/2},{x:h/2-d,y:-f/2},...yD(-h/2+d,0,d,50,90,270),{x:h/2-d,y:f/2},{x:-h/2,y:f/2}],b=_n(y),T=g.path(b,m),E=l.insert(()=>T,":first-child");return E.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",p),r&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",r),Ut(t,E),t.intersect=function(w){return ve.info("Pill intersect",t,{radius:d,point:w}),_t.polygon(t,y,w)},l}I(Wle,"halfRoundedRectangle");var Met=I((e,t,n,r,a)=>[`M${e+a},${t}`,`L${e+n-a},${t}`,`L${e+n},${t-r/2}`,`L${e+n-a},${t-r}`,`L${e+a},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createHexagonPathD");async function Ule(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=4,u=o.height+t.padding,h=u/l,f=o.width+2*h+t.padding,d=[{x:h,y:0},{x:f-h,y:0},{x:f,y:-u/2},{x:f-h,y:-u},{x:h,y:-u},{x:0,y:-u/2}];let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const m=Ht.svg(a),y=$t(t,{}),b=Met(0,0,f,u,h),T=m.path(b,y);p=a.insert(()=>T,":first-child").attr("transform",`translate(${-f/2}, ${u/2})`),g&&p.attr("style",g)}else p=qh(a,f,u,d);return r&&p.attr("style",r),t.width=f,t.height=u,Ut(t,p),t.intersect=function(m){return _t.polygon(t,d,m)},a}I(Ule,"hexagon");async function Gle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.label="",t.labelStyle=n;const{shapeSvg:a}=await cn(e,t,un(t)),o=Math.max(30,(t==null?void 0:t.width)??0),l=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:u}=t,h=Ht.svg(a),f=$t(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const d=[{x:0,y:0},{x:o,y:0},{x:0,y:l},{x:o,y:l}],p=_n(d),g=h.path(p,f),m=a.insert(()=>g,":first-child");return m.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",u),r&&t.look!=="handDrawn"&&m.selectChildren("path").attr("style",r),m.attr("transform",`translate(${-o/2}, ${-l/2})`),Ut(t,m),t.intersect=function(y){return ve.info("Pill intersect",t,{points:d}),_t.polygon(t,d,y)},a}I(Gle,"hourglass");async function zle(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=Yt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,u=Math.max(o,l),h=r==null?void 0:r.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:f,bbox:d,label:p}=await cn(e,t,"icon-shape default"),g=t.pos==="t",m=u,y=u,{nodeBorder:b}=n,{stylesMap:T}=Dv(t),E=-y/2,w=-m/2,x=t.label?8:0,S=Ht.svg(f),A=$t(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const R=S.rectangle(E,w,y,m,A),C=Math.max(y,d.width),N=m+d.height+x,O=S.rectangle(-C/2,-N/2,C,N,{...A,fill:"transparent",stroke:"none"}),L=f.insert(()=>R,":first-child"),k=f.insert(()=>O);if(t.icon){const M=f.append("g");M.html(`<g>${await Qd(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const $=M.node().getBBox(),_=$.width,F=$.height,B=$.x,D=$.y;M.attr("transform",`translate(${-_/2-B},${g?d.height/2+x/2-F/2-D:-d.height/2-x/2-F/2-D})`),M.attr("style",`color: ${T.get("stroke")??b};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-N/2:N/2-d.height})`),L.attr("transform",`translate(0,${g?d.height/2+x/2:-d.height/2-x/2})`),Ut(t,k),t.intersect=function(M){if(ve.info("iconSquare intersect",t,M),!t.label)return _t.rect(t,M);const $=t.x??0,_=t.y??0,F=t.height??0;let B=[];return g?B=[{x:$-d.width/2,y:_-F/2},{x:$+d.width/2,y:_-F/2},{x:$+d.width/2,y:_-F/2+d.height+x},{x:$+y/2,y:_-F/2+d.height+x},{x:$+y/2,y:_+F/2},{x:$-y/2,y:_+F/2},{x:$-y/2,y:_-F/2+d.height+x},{x:$-d.width/2,y:_-F/2+d.height+x}]:B=[{x:$-y/2,y:_-F/2},{x:$+y/2,y:_-F/2},{x:$+y/2,y:_-F/2+m},{x:$+d.width/2,y:_-F/2+m},{x:$+d.width/2/2,y:_+F/2},{x:$-d.width/2,y:_+F/2},{x:$-d.width/2,y:_-F/2+m},{x:$-y/2,y:_-F/2+m}],_t.polygon(t,B,M)},f}I(zle,"icon");async function Yle(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=Yt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,u=Math.max(o,l),h=r==null?void 0:r.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:f,bbox:d,label:p}=await cn(e,t,"icon-shape default"),g=20,m=t.label?8:0,y=t.pos==="t",{nodeBorder:b,mainBkg:T}=n,{stylesMap:E}=Dv(t),w=Ht.svg(f),x=$t(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=E.get("fill");x.stroke=S??T;const A=f.append("g");t.icon&&A.html(`<g>${await Qd(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const R=A.node().getBBox(),C=R.width,N=R.height,O=R.x,L=R.y,k=Math.max(C,N)*Math.SQRT2+g*2,M=w.circle(0,0,k,x),$=Math.max(k,d.width),_=k+d.height+m,F=w.rectangle(-$/2,-_/2,$,_,{...x,fill:"transparent",stroke:"none"}),B=f.insert(()=>M,":first-child"),D=f.insert(()=>F);return A.attr("transform",`translate(${-C/2-O},${y?d.height/2+m/2-N/2-L:-d.height/2-m/2-N/2-L})`),A.attr("style",`color: ${E.get("stroke")??b};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${y?-_/2:_/2-d.height})`),B.attr("transform",`translate(0,${y?d.height/2+m/2:-d.height/2-m/2})`),Ut(t,D),t.intersect=function(P){return ve.info("iconSquare intersect",t,P),_t.rect(t,P)},f}I(Yle,"iconCircle");async function Vle(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=Yt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,u=Math.max(o,l),h=r==null?void 0:r.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:f,bbox:d,halfPadding:p,label:g}=await cn(e,t,"icon-shape default"),m=t.pos==="t",y=u+p*2,b=u+p*2,{nodeBorder:T,mainBkg:E}=n,{stylesMap:w}=Dv(t),x=-b/2,S=-y/2,A=t.label?8:0,R=Ht.svg(f),C=$t(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const N=w.get("fill");C.stroke=N??E;const O=R.path(Vh(x,S,b,y,5),C),L=Math.max(b,d.width),k=y+d.height+A,M=R.rectangle(-L/2,-k/2,L,k,{...C,fill:"transparent",stroke:"none"}),$=f.insert(()=>O,":first-child").attr("class","icon-shape2"),_=f.insert(()=>M);if(t.icon){const F=f.append("g");F.html(`<g>${await Qd(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const B=F.node().getBBox(),D=B.width,P=B.height,H=B.x,W=B.y;F.attr("transform",`translate(${-D/2-H},${m?d.height/2+A/2-P/2-W:-d.height/2-A/2-P/2-W})`),F.attr("style",`color: ${w.get("stroke")??T};`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-k/2:k/2-d.height})`),$.attr("transform",`translate(0,${m?d.height/2+A/2:-d.height/2-A/2})`),Ut(t,_),t.intersect=function(F){if(ve.info("iconSquare intersect",t,F),!t.label)return _t.rect(t,F);const B=t.x??0,D=t.y??0,P=t.height??0;let H=[];return m?H=[{x:B-d.width/2,y:D-P/2},{x:B+d.width/2,y:D-P/2},{x:B+d.width/2,y:D-P/2+d.height+A},{x:B+b/2,y:D-P/2+d.height+A},{x:B+b/2,y:D+P/2},{x:B-b/2,y:D+P/2},{x:B-b/2,y:D-P/2+d.height+A},{x:B-d.width/2,y:D-P/2+d.height+A}]:H=[{x:B-b/2,y:D-P/2},{x:B+b/2,y:D-P/2},{x:B+b/2,y:D-P/2+y},{x:B+d.width/2,y:D-P/2+y},{x:B+d.width/2/2,y:D+P/2},{x:B-d.width/2,y:D+P/2},{x:B-d.width/2,y:D-P/2+y},{x:B-b/2,y:D-P/2+y}],_t.polygon(t,H,F)},f}I(Vle,"iconRounded");async function qle(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=Yt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,u=Math.max(o,l),h=r==null?void 0:r.wrappingWidth;t.width=Math.max(u,h??0);const{shapeSvg:f,bbox:d,halfPadding:p,label:g}=await cn(e,t,"icon-shape default"),m=t.pos==="t",y=u+p*2,b=u+p*2,{nodeBorder:T,mainBkg:E}=n,{stylesMap:w}=Dv(t),x=-b/2,S=-y/2,A=t.label?8:0,R=Ht.svg(f),C=$t(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const N=w.get("fill");C.stroke=N??E;const O=R.path(Vh(x,S,b,y,.1),C),L=Math.max(b,d.width),k=y+d.height+A,M=R.rectangle(-L/2,-k/2,L,k,{...C,fill:"transparent",stroke:"none"}),$=f.insert(()=>O,":first-child"),_=f.insert(()=>M);if(t.icon){const F=f.append("g");F.html(`<g>${await Qd(t.icon,{height:u,width:u,fallbackPrefix:""})}</g>`);const B=F.node().getBBox(),D=B.width,P=B.height,H=B.x,W=B.y;F.attr("transform",`translate(${-D/2-H},${m?d.height/2+A/2-P/2-W:-d.height/2-A/2-P/2-W})`),F.attr("style",`color: ${w.get("stroke")??T};`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-k/2:k/2-d.height})`),$.attr("transform",`translate(0,${m?d.height/2+A/2:-d.height/2-A/2})`),Ut(t,_),t.intersect=function(F){if(ve.info("iconSquare intersect",t,F),!t.label)return _t.rect(t,F);const B=t.x??0,D=t.y??0,P=t.height??0;let H=[];return m?H=[{x:B-d.width/2,y:D-P/2},{x:B+d.width/2,y:D-P/2},{x:B+d.width/2,y:D-P/2+d.height+A},{x:B+b/2,y:D-P/2+d.height+A},{x:B+b/2,y:D+P/2},{x:B-b/2,y:D+P/2},{x:B-b/2,y:D-P/2+d.height+A},{x:B-d.width/2,y:D-P/2+d.height+A}]:H=[{x:B-b/2,y:D-P/2},{x:B+b/2,y:D-P/2},{x:B+b/2,y:D-P/2+y},{x:B+d.width/2,y:D-P/2+y},{x:B+d.width/2/2,y:D+P/2},{x:B-d.width/2,y:D+P/2},{x:B-d.width/2,y:D-P/2+y},{x:B-b/2,y:D-P/2+y}],_t.polygon(t,H,F)},f}I(qle,"iconSquare");async function jle(e,t,{config:{flowchart:n}}){const r=new Image;r.src=(t==null?void 0:t.img)??"",await r.decode();const a=Number(r.naturalWidth.toString().replace("px","")),o=Number(r.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/o;const{labelStyles:l}=Yt(t);t.labelStyle=l;const u=n==null?void 0:n.wrappingWidth;t.defaultWidth=n==null?void 0:n.wrappingWidth;const h=Math.max(t.label?u??0:0,(t==null?void 0:t.assetWidth)??a),f=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:h,d=t.constraint==="on"?f/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??o;t.width=Math.max(f,u??0);const{shapeSvg:p,bbox:g,label:m}=await cn(e,t,"image-shape default"),y=t.pos==="t",b=-f/2,T=-d/2,E=t.label?8:0,w=Ht.svg(p),x=$t(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=w.rectangle(b,T,f,d,x),A=Math.max(f,g.width),R=d+g.height+E,C=w.rectangle(-A/2,-R/2,A,R,{...x,fill:"none",stroke:"none"}),N=p.insert(()=>S,":first-child"),O=p.insert(()=>C);if(t.img){const L=p.append("image");L.attr("href",t.img),L.attr("width",f),L.attr("height",d),L.attr("preserveAspectRatio","none"),L.attr("transform",`translate(${-f/2},${y?R/2-d:-R/2})`)}return m.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${y?-d/2-g.height/2-E/2:d/2-g.height/2+E/2})`),N.attr("transform",`translate(0,${y?g.height/2+E/2:-g.height/2-E/2})`),Ut(t,O),t.intersect=function(L){if(ve.info("iconSquare intersect",t,L),!t.label)return _t.rect(t,L);const k=t.x??0,M=t.y??0,$=t.height??0;let _=[];return y?_=[{x:k-g.width/2,y:M-$/2},{x:k+g.width/2,y:M-$/2},{x:k+g.width/2,y:M-$/2+g.height+E},{x:k+f/2,y:M-$/2+g.height+E},{x:k+f/2,y:M+$/2},{x:k-f/2,y:M+$/2},{x:k-f/2,y:M-$/2+g.height+E},{x:k-g.width/2,y:M-$/2+g.height+E}]:_=[{x:k-f/2,y:M-$/2},{x:k+f/2,y:M-$/2},{x:k+f/2,y:M-$/2+d},{x:k+g.width/2,y:M-$/2+d},{x:k+g.width/2/2,y:M+$/2},{x:k-g.width/2,y:M+$/2},{x:k-g.width/2,y:M-$/2+d},{x:k-f/2,y:M-$/2+d}],_t.polygon(t,_,L)},p}I(jle,"imageSquare");async function Xle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=[{x:0,y:0},{x:l,y:0},{x:l+3*u/6,y:-u},{x:-3*u/6,y:-u}];let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=Ht.svg(a),g=$t(t,{}),m=_n(h),y=p.path(m,g);f=a.insert(()=>y,":first-child").attr("transform",`translate(${-l/2}, ${u/2})`),d&&f.attr("style",d)}else f=qh(a,l,u,h);return r&&f.attr("style",r),t.width=l,t.height=u,Ut(t,f),t.intersect=function(p){return _t.polygon(t,h,p)},a}I(Xle,"inv_trapezoid");async function s6(e,t,n){const{labelStyles:r,nodeStyles:a}=Yt(t);t.labelStyle=r;const{shapeSvg:o,bbox:l}=await cn(e,t,un(t)),u=Math.max(l.width+n.labelPaddingX*2,(t==null?void 0:t.width)||0),h=Math.max(l.height+n.labelPaddingY*2,(t==null?void 0:t.height)||0),f=-u/2,d=-h/2;let p,{rx:g,ry:m}=t;const{cssStyles:y}=t;if(n!=null&&n.rx&&n.ry&&(g=n.rx,m=n.ry),t.look==="handDrawn"){const b=Ht.svg(o),T=$t(t,{}),E=g||m?b.path(Vh(f,d,u,h,g||0),T):b.rectangle(f,d,u,h,T);p=o.insert(()=>E,":first-child"),p.attr("class","basic label-container").attr("style",Rs(y))}else p=o.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",a).attr("rx",Rs(g)).attr("ry",Rs(m)).attr("x",f).attr("y",d).attr("width",u).attr("height",h);return Ut(t,p),t.intersect=function(b){return _t.rect(t,b)},o}I(s6,"drawRect");async function Kle(e,t){const{shapeSvg:n,bbox:r,label:a}=await cn(e,t,"label"),o=n.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Ut(t,o),t.intersect=function(h){return _t.rect(t,h)},n}I(Kle,"labelRect");async function Zle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),h=[{x:0,y:0},{x:l+3*u/6,y:0},{x:l,y:-u},{x:-(3*u)/6,y:-u}];let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=Ht.svg(a),g=$t(t,{}),m=_n(h),y=p.path(m,g);f=a.insert(()=>y,":first-child").attr("transform",`translate(${-l/2}, ${u/2})`),d&&f.attr("style",d)}else f=qh(a,l,u,h);return r&&f.attr("style",r),t.width=l,t.height=u,Ut(t,f),t.intersect=function(p){return _t.polygon(t,h,p)},a}I(Zle,"lean_left");async function Qle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),h=[{x:-3*u/6,y:0},{x:l,y:0},{x:l+3*u/6,y:-u},{x:0,y:-u}];let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=Ht.svg(a),g=$t(t,{}),m=_n(h),y=p.path(m,g);f=a.insert(()=>y,":first-child").attr("transform",`translate(${-l/2}, ${u/2})`),d&&f.attr("style",d)}else f=qh(a,l,u,h);return r&&f.attr("style",r),t.width=l,t.height=u,Ut(t,f),t.intersect=function(p){return _t.polygon(t,h,p)},a}I(Qle,"lean_right");function Jle(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.label="",t.labelStyle=n;const a=e.insert("g").attr("class",un(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,l=Math.max(35,(t==null?void 0:t.width)??0),u=Math.max(35,(t==null?void 0:t.height)??0),h=7,f=[{x:l,y:0},{x:0,y:u+h/2},{x:l-2*h,y:u+h/2},{x:0,y:2*u},{x:l,y:u-h/2},{x:2*h,y:u-h/2}],d=Ht.svg(a),p=$t(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=_n(f),m=d.path(g,p),y=a.insert(()=>m,":first-child");return o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),r&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",r),y.attr("transform",`translate(-${l/2},${-u})`),Ut(t,y),t.intersect=function(b){return ve.info("lightningBolt intersect",t,b),_t.polygon(t,f,b)},a}I(Jle,"lightningBolt");var Pet=I((e,t,n,r,a,o,l)=>[`M${e},${t+o}`,`a${a},${o} 0,0,0 ${n},0`,`a${a},${o} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${o} 0,0,0 ${n},0`,`l0,${-r}`,`M${e},${t+o+l}`,`a${a},${o} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),Fet=I((e,t,n,r,a,o,l)=>[`M${e},${t+o}`,`M${e+n},${t+o}`,`a${a},${o} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${o} 0,0,0 ${n},0`,`l0,${-r}`,`M${e},${t+o+l}`,`a${a},${o} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),Bet=I((e,t,n,r,a,o)=>[`M${e-n/2},${-r/2}`,`a${a},${o} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function ece(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0),t.width??0),h=u/2,f=h/(2.5+u/50),d=Math.max(o.height+f+(t.padding??0),t.height??0),p=d*.1;let g;const{cssStyles:m}=t;if(t.look==="handDrawn"){const y=Ht.svg(a),b=Fet(0,0,u,d,h,f,p),T=Bet(0,f,u,d,h,f),E=$t(t,{}),w=y.path(b,E),x=y.path(T,E);a.insert(()=>x,":first-child").attr("class","line"),g=a.insert(()=>w,":first-child"),g.attr("class","basic label-container"),m&&g.attr("style",m)}else{const y=Pet(0,0,u,d,h,f,p);g=a.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Rs(m)).attr("style",r)}return g.attr("label-offset-y",f),g.attr("transform",`translate(${-u/2}, ${-(d/2+f)})`),Ut(t,g),l.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+f-(o.y-(o.top??0))})`),t.intersect=function(y){const b=_t.rect(t,y),T=b.x-(t.x??0);if(h!=0&&(Math.abs(T)<(t.width??0)/2||Math.abs(T)==(t.width??0)/2&&Math.abs(b.y-(t.y??0))>(t.height??0)/2-f)){let E=f*f*(1-T*T/(h*h));E>0&&(E=Math.sqrt(E)),E=f-E,y.y-(t.y??0)>0&&(E=-E),b.y+=E}return b},a}I(ece,"linedCylinder");async function tce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=h/4,d=h+f,{cssStyles:p}=t,g=Ht.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-u/2-u/2*.1,y:-d/2},{x:-u/2-u/2*.1,y:d/2},...J0(-u/2-u/2*.1,d/2,u/2+u/2*.1,d/2,f,.8),{x:u/2+u/2*.1,y:-d/2},{x:-u/2-u/2*.1,y:-d/2},{x:-u/2,y:-d/2},{x:-u/2,y:d/2*1.1},{x:-u/2,y:-d/2}],b=g.polygon(y.map(E=>[E.x,E.y]),m),T=a.insert(()=>b,":first-child");return T.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",p),r&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-u/2+(t.padding??0)+u/2*.1/2-(o.x-(o.left??0))},${-h/2+(t.padding??0)-f/2-(o.y-(o.top??0))})`),Ut(t,T),t.intersect=function(E){return _t.polygon(t,y,E)},a}I(tce,"linedWaveEdgedRect");async function nce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=5,d=-u/2,p=-h/2,{cssStyles:g}=t,m=Ht.svg(a),y=$t(t,{}),b=[{x:d-f,y:p+f},{x:d-f,y:p+h+f},{x:d+u-f,y:p+h+f},{x:d+u-f,y:p+h},{x:d+u,y:p+h},{x:d+u,y:p+h-f},{x:d+u+f,y:p+h-f},{x:d+u+f,y:p-f},{x:d+f,y:p-f},{x:d+f,y:p},{x:d,y:p},{x:d,y:p+f}],T=[{x:d,y:p+f},{x:d+u-f,y:p+f},{x:d+u-f,y:p+h},{x:d+u,y:p+h},{x:d+u,y:p},{x:d,y:p}];t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const E=_n(b),w=m.path(E,y),x=_n(T),S=m.path(x,{...y,fill:"none"}),A=a.insert(()=>S,":first-child");return A.insert(()=>w,":first-child"),A.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",g),r&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",r),l.attr("transform",`translate(${-(o.width/2)-f-(o.x-(o.left??0))}, ${-(o.height/2)+f-(o.y-(o.top??0))})`),Ut(t,A),t.intersect=function(R){return _t.polygon(t,b,R)},a}I(nce,"multiRect");async function rce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=h/4,d=h+f,p=-u/2,g=-d/2,m=5,{cssStyles:y}=t,b=J0(p-m,g+d+m,p+u-m,g+d+m,f,.8),T=b==null?void 0:b[b.length-1],E=[{x:p-m,y:g+m},{x:p-m,y:g+d+m},...b,{x:p+u-m,y:T.y-m},{x:p+u,y:T.y-m},{x:p+u,y:T.y-2*m},{x:p+u+m,y:T.y-2*m},{x:p+u+m,y:g-m},{x:p+m,y:g-m},{x:p+m,y:g},{x:p,y:g},{x:p,y:g+m}],w=[{x:p,y:g+m},{x:p+u-m,y:g+m},{x:p+u-m,y:T.y-m},{x:p+u,y:T.y-m},{x:p+u,y:g},{x:p,y:g}],x=Ht.svg(a),S=$t(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=_n(E),R=x.path(A,S),C=_n(w),N=x.path(C,S),O=a.insert(()=>R,":first-child");return O.insert(()=>N),O.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",y),r&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",r),O.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-(o.width/2)-m-(o.x-(o.left??0))}, ${-(o.height/2)+m-f/2-(o.y-(o.top??0))})`),Ut(t,O),t.intersect=function(L){return _t.polygon(t,E,L)},a}I(rce,"multiWaveEdgedRectangle");async function ice(e,t,{config:{themeVariables:n}}){var E;const{labelStyles:r,nodeStyles:a}=Yt(t);t.labelStyle=r,t.useHtmlLabels||((E=Br().flowchart)==null?void 0:E.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:l,bbox:u}=await cn(e,t,un(t)),h=Math.max(u.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(u.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-h/2,p=-f/2,{cssStyles:g}=t,m=Ht.svg(l),y=$t(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=m.rectangle(d,p,h,f,y),T=l.insert(()=>b,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",g),a&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",a),Ut(t,T),t.intersect=function(w){return _t.rect(t,w)},l}I(ice,"note");var Het=I((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function ace(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=o.width+t.padding,u=o.height+t.padding,h=l+u,f=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=Ht.svg(a),m=$t(t,{}),y=Het(0,0,h),b=g.path(y,m);d=a.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`),p&&d.attr("style",p)}else d=qh(a,h,h,f);return r&&d.attr("style",r),Ut(t,d),t.intersect=function(g){return ve.debug(`APA12 Intersect called SPLIT
point:`,g,`
node:
`,t,`
res:`,_t.polygon(t,f,g)),_t.polygon(t,f,g)},a}I(ace,"question");async function sce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),f=-u/2,d=-h/2,p=d/2,g=[{x:f+p,y:d},{x:f,y:0},{x:f+p,y:-d},{x:-f,y:-d},{x:-f,y:d}],{cssStyles:m}=t,y=Ht.svg(a),b=$t(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const T=_n(g),E=y.path(T,b),w=a.insert(()=>E,":first-child");return w.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",m),r&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(${-p/2},0)`),l.attr("transform",`translate(${-p/2-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Ut(t,w),t.intersect=function(x){return _t.polygon(t,g,x)},a}I(sce,"rect_left_inv_arrow");async function oce(e,t){var N,O;const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";const o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=o.insert("g"),u=o.insert("g").attr("class","label").attr("style",r),h=t.description,f=t.label,d=u.node().appendChild(await Od(f,t.labelStyle,!0,!0));let p={width:0,height:0};if(ur((O=(N=Pe())==null?void 0:N.flowchart)==null?void 0:O.htmlLabels)){const L=d.children[0],k=it(d);p=L.getBoundingClientRect(),k.attr("width",p.width),k.attr("height",p.height)}ve.info("Text 2",h);const g=h||[],m=d.getBBox(),y=u.node().appendChild(await Od(g.join?g.join("<br/>"):g,t.labelStyle,!0,!0)),b=y.children[0],T=it(y);p=b.getBoundingClientRect(),T.attr("width",p.width),T.attr("height",p.height);const E=(t.padding||0)/2;it(y).attr("transform","translate( "+(p.width>m.width?0:(m.width-p.width)/2)+", "+(m.height+E+5)+")"),it(d).attr("transform","translate( "+(p.width<m.width?0:-(m.width-p.width)/2)+", 0)"),p=u.node().getBBox(),u.attr("transform","translate("+-p.width/2+", "+(-p.height/2-E+3)+")");const w=p.width+(t.padding||0),x=p.height+(t.padding||0),S=-p.width/2-E,A=-p.height/2-E;let R,C;if(t.look==="handDrawn"){const L=Ht.svg(o),k=$t(t,{}),M=L.path(Vh(S,A,w,x,t.rx||0),k),$=L.line(-p.width/2-E,-p.height/2-E+m.height+E,p.width/2+E,-p.height/2-E+m.height+E,k);C=o.insert(()=>(ve.debug("Rough node insert CXC",M),$),":first-child"),R=o.insert(()=>(ve.debug("Rough node insert CXC",M),M),":first-child")}else R=l.insert("rect",":first-child"),C=l.insert("line"),R.attr("class","outer title-state").attr("style",r).attr("x",-p.width/2-E).attr("y",-p.height/2-E).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0)),C.attr("class","divider").attr("x1",-p.width/2-E).attr("x2",p.width/2+E).attr("y1",-p.height/2-E+m.height+E).attr("y2",-p.height/2-E+m.height+E);return Ut(t,R),t.intersect=function(L){return _t.rect(t,L)},o}I(oce,"rectWithTitle");async function lce(e,t){const n={rx:5,ry:5,labelPaddingX:((t==null?void 0:t.padding)||0)*1,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return s6(e,t,n)}I(lce,"roundedRect");async function cce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=(t==null?void 0:t.padding)??0,h=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-o.width/2-u,p=-o.height/2-u,{cssStyles:g}=t,m=Ht.svg(a),y=$t(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:d,y:p},{x:d+h+8,y:p},{x:d+h+8,y:p+f},{x:d-8,y:p+f},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+f}],T=m.polygon(b.map(w=>[w.x,w.y]),y),E=a.insert(()=>T,":first-child");return E.attr("class","basic label-container").attr("style",Rs(g)),r&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",r),g&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",r),l.attr("transform",`translate(${-h/2+4+(t.padding??0)-(o.x-(o.left??0))},${-f/2+(t.padding??0)-(o.y-(o.top??0))})`),Ut(t,E),t.intersect=function(w){return _t.rect(t,w)},a}I(cce,"shadedProcess");async function uce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=-u/2,d=-h/2,{cssStyles:p}=t,g=Ht.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:f,y:d},{x:f,y:d+h},{x:f+u,y:d+h},{x:f+u,y:d-h/2}],b=_n(y),T=g.path(b,m),E=a.insert(()=>T,":first-child");return E.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",p),r&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",r),E.attr("transform",`translate(0, ${h/4})`),l.attr("transform",`translate(${-u/2+(t.padding??0)-(o.x-(o.left??0))}, ${-h/4+(t.padding??0)-(o.y-(o.top??0))})`),Ut(t,E),t.intersect=function(w){return _t.polygon(t,y,w)},a}I(uce,"slopedRect");async function hce(e,t){const n={rx:0,ry:0,labelPaddingX:((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return s6(e,t,n)}I(hce,"squareRect");async function fce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=o.height+t.padding,u=o.width+l/4+t.padding;let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Ht.svg(a),p=$t(t,{}),g=Vh(-u/2,-l/2,u,l,l/2),m=d.path(g,p);h=a.insert(()=>m,":first-child"),h.attr("class","basic label-container").attr("style",Rs(f))}else h=a.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",r).attr("rx",l/2).attr("ry",l/2).attr("x",-u/2).attr("y",-l/2).attr("width",u).attr("height",l);return Ut(t,h),t.intersect=function(d){return _t.rect(t,d)},a}I(fce,"stadium");async function dce(e,t){return s6(e,t,{rx:5,ry:5})}I(dce,"state");function pce(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:a}=Yt(t);t.labelStyle=r;const{cssStyles:o}=t,{lineColor:l,stateBorder:u,nodeBorder:h}=n,f=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=Ht.svg(f),p=$t(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=d.circle(0,0,14,{...p,stroke:l,strokeWidth:2}),m=u??h,y=d.circle(0,0,5,{...p,fill:m,stroke:m,strokeWidth:2,fillStyle:"solid"}),b=f.insert(()=>g,":first-child");return b.insert(()=>y),o&&b.selectAll("path").attr("style",o),a&&b.selectAll("path").attr("style",a),Ut(t,b),t.intersect=function(T){return _t.circle(t,7,T)},f}I(pce,"stateEnd");function gce(e,t,{config:{themeVariables:n}}){const{lineColor:r}=n,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let o;if(t.look==="handDrawn"){const u=Ht.svg(a).circle(0,0,14,yet(r));o=a.insert(()=>u),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else o=a.insert("circle",":first-child"),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Ut(t,o),t.intersect=function(l){return _t.circle(t,7,l)},a}I(gce,"stateStart");async function mce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=((t==null?void 0:t.padding)||0)/2,u=o.width+t.padding,h=o.height+t.padding,f=-o.width/2-l,d=-o.height/2-l,p=[{x:0,y:0},{x:u,y:0},{x:u,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:u+8,y:0},{x:u+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(t.look==="handDrawn"){const g=Ht.svg(a),m=$t(t,{}),y=g.rectangle(f-8,d,u+16,h,m),b=g.line(f,d,f,d+h,m),T=g.line(f+u,d,f+u,d+h,m);a.insert(()=>b,":first-child"),a.insert(()=>T,":first-child");const E=a.insert(()=>y,":first-child"),{cssStyles:w}=t;E.attr("class","basic label-container").attr("style",Rs(w)),Ut(t,E)}else{const g=qh(a,u,h,p);r&&g.attr("style",r),Ut(t,g)}return t.intersect=function(g){return _t.polygon(t,p,g)},a}I(mce,"subroutine");async function vce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-l/2,f=-u/2,d=.2*u,p=.2*u,{cssStyles:g}=t,m=Ht.svg(a),y=$t(t,{}),b=[{x:h-d/2,y:f},{x:h+l+d/2,y:f},{x:h+l+d/2,y:f+u},{x:h-d/2,y:f+u}],T=[{x:h+l-d/2,y:f+u},{x:h+l+d/2,y:f+u},{x:h+l+d/2,y:f+u-p}];t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const E=_n(b),w=m.path(E,y),x=_n(T),S=m.path(x,{...y,fillStyle:"solid"}),A=a.insert(()=>S,":first-child");return A.insert(()=>w,":first-child"),A.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",g),r&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",r),Ut(t,A),t.intersect=function(R){return _t.polygon(t,b,R)},a}I(vce,"taggedRect");async function yce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=h/4,d=.2*u,p=.2*h,g=h+f,{cssStyles:m}=t,y=Ht.svg(a),b=$t(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const T=[{x:-u/2-u/2*.1,y:g/2},...J0(-u/2-u/2*.1,g/2,u/2+u/2*.1,g/2,f,.8),{x:u/2+u/2*.1,y:-g/2},{x:-u/2-u/2*.1,y:-g/2}],E=-u/2+u/2*.1,w=-g/2-p*.4,x=[{x:E+u-d,y:(w+h)*1.4},{x:E+u,y:w+h-p},{x:E+u,y:(w+h)*.9},...J0(E+u,(w+h)*1.3,E+u-d,(w+h)*1.5,-h*.03,.5)],S=_n(T),A=y.path(S,b),R=_n(x),C=y.path(R,{...b,fillStyle:"solid"}),N=a.insert(()=>C,":first-child");return N.insert(()=>A,":first-child"),N.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",m),r&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",r),N.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-u/2+(t.padding??0)-(o.x-(o.left??0))},${-h/2+(t.padding??0)-f/2-(o.y-(o.top??0))})`),Ut(t,N),t.intersect=function(O){return _t.polygon(t,T,O)},a}I(yce,"taggedWaveEdgedRectangle");async function bce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=Math.max(o.width+t.padding,(t==null?void 0:t.width)||0),u=Math.max(o.height+t.padding,(t==null?void 0:t.height)||0),h=-l/2,f=-u/2,d=a.insert("rect",":first-child");return d.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",h).attr("y",f).attr("width",l).attr("height",u),Ut(t,d),t.intersect=function(p){return _t.rect(t,p)},a}I(bce,"text");var $et=I((e,t,n,r,a,o)=>`M${e},${t}
    a${a},${o} 0,0,1 0,${-r}
    l${n},0
    a${a},${o} 0,0,1 0,${r}
    M${n},${-r}
    a${a},${o} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),Wet=I((e,t,n,r,a,o)=>[`M${e},${t}`,`M${e+n},${t}`,`a${a},${o} 0,0,0 0,${-r}`,`l${-n},0`,`a${a},${o} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),Uet=I((e,t,n,r,a,o)=>[`M${e+n/2},${-r/2}`,`a${a},${o} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function Tce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l,halfPadding:u}=await cn(e,t,un(t)),h=t.look==="neo"?u*2:u,f=o.height+h,d=f/2,p=d/(2.5+f/50),g=o.width+p+h,{cssStyles:m}=t;let y;if(t.look==="handDrawn"){const b=Ht.svg(a),T=Wet(0,0,g,f,p,d),E=Uet(0,0,g,f,p,d),w=b.path(T,$t(t,{})),x=b.path(E,$t(t,{fill:"none"}));y=a.insert(()=>x,":first-child"),y=a.insert(()=>w,":first-child"),y.attr("class","basic label-container"),m&&y.attr("style",m)}else{const b=$et(0,0,g,f,p,d);y=a.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",Rs(m)).attr("style",r),y.attr("class","basic label-container"),m&&y.selectAll("path").attr("style",m),r&&y.selectAll("path").attr("style",r)}return y.attr("label-offset-x",p),y.attr("transform",`translate(${-g/2}, ${f/2} )`),l.attr("transform",`translate(${-(o.width/2)-p-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Ut(t,y),t.intersect=function(b){const T=_t.rect(t,b),E=T.y-(t.y??0);if(d!=0&&(Math.abs(E)<(t.height??0)/2||Math.abs(E)==(t.height??0)/2&&Math.abs(T.x-(t.x??0))>(t.width??0)/2-p)){let w=p*p*(1-E*E/(d*d));w!=0&&(w=Math.sqrt(Math.abs(w))),w=p-w,b.x-(t.x??0)>0&&(w=-w),T.x+=w}return T},a}I(Tce,"tiltedCylinder");async function Ece(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=o.width+t.padding,u=o.height+t.padding,h=[{x:-3*u/6,y:0},{x:l+3*u/6,y:0},{x:l,y:-u},{x:0,y:-u}];let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=Ht.svg(a),g=$t(t,{}),m=_n(h),y=p.path(m,g);f=a.insert(()=>y,":first-child").attr("transform",`translate(${-l/2}, ${u/2})`),d&&f.attr("style",d)}else f=qh(a,l,u,h);return r&&f.attr("style",r),t.width=l,t.height=u,Ut(t,f),t.intersect=function(p){return _t.polygon(t,h,p)},a}I(Ece,"trapezoid");async function wce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=60,u=20,h=Math.max(l,o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(u,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:d}=t,p=Ht.svg(a),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-h/2*.8,y:-f/2},{x:h/2*.8,y:-f/2},{x:h/2,y:-f/2*.6},{x:h/2,y:f/2},{x:-h/2,y:f/2},{x:-h/2,y:-f/2*.6}],y=_n(m),b=p.path(y,g),T=a.insert(()=>b,":first-child");return T.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",d),r&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",r),Ut(t,T),t.intersect=function(E){return _t.polygon(t,m,E)},a}I(wce,"trapezoidalPentagon");async function xce(e,t){var w;const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=ur((w=Pe().flowchart)==null?void 0:w.htmlLabels),h=o.width+(t.padding??0),f=h+o.height,d=h+o.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-f}],{cssStyles:g}=t,m=Ht.svg(a),y=$t(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=_n(p),T=m.path(b,y),E=a.insert(()=>T,":first-child").attr("transform",`translate(${-f/2}, ${f/2})`);return g&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",g),r&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",r),t.width=h,t.height=f,Ut(t,E),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${f/2-(o.height+(t.padding??0)/(u?2:1)-(o.y-(o.top??0)))})`),t.intersect=function(x){return ve.info("Triangle intersect",t,p,x),_t.polygon(t,p,x)},a}I(xce,"triangle");async function Sce(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=h/8,d=h+f,{cssStyles:p}=t,m=70-u,y=m>0?m/2:0,b=Ht.svg(a),T=$t(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=[{x:-u/2-y,y:d/2},...J0(-u/2-y,d/2,u/2+y,d/2,f,.8),{x:u/2+y,y:-d/2},{x:-u/2-y,y:-d/2}],w=_n(E),x=b.path(w,T),S=a.insert(()=>x,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),r&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-u/2+(t.padding??0)-(o.x-(o.left??0))},${-h/2+(t.padding??0)-f-(o.y-(o.top??0))})`),Ut(t,S),t.intersect=function(A){return _t.polygon(t,E,A)},a}I(Sce,"waveEdgedRectangle");async function Ace(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o}=await cn(e,t,un(t)),l=100,u=50,h=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=h/f;let p=h,g=f;p>g*d?g=p/d:p=g*d,p=Math.max(p,l),g=Math.max(g,u);const m=Math.min(g*.2,g/4),y=g+m*2,{cssStyles:b}=t,T=Ht.svg(a),E=$t(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const w=[{x:-p/2,y:y/2},...J0(-p/2,y/2,p/2,y/2,m,1),{x:p/2,y:-y/2},...J0(p/2,-y/2,-p/2,-y/2,m,-1)],x=_n(w),S=T.path(x,E),A=a.insert(()=>S,":first-child");return A.attr("class","basic label-container"),b&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",b),r&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",r),Ut(t,A),t.intersect=function(R){return _t.polygon(t,w,R)},a}I(Ace,"waveRectangle");async function Ice(e,t){const{labelStyles:n,nodeStyles:r}=Yt(t);t.labelStyle=n;const{shapeSvg:a,bbox:o,label:l}=await cn(e,t,un(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=5,d=-u/2,p=-h/2,{cssStyles:g}=t,m=Ht.svg(a),y=$t(t,{}),b=[{x:d-f,y:p-f},{x:d-f,y:p+h},{x:d+u,y:p+h},{x:d+u,y:p-f}],T=`M${d-f},${p-f} L${d+u},${p-f} L${d+u},${p+h} L${d-f},${p+h} L${d-f},${p-f}
                M${d-f},${p} L${d+u},${p}
                M${d},${p-f} L${d},${p+h}`;t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const E=m.path(T,y),w=a.insert(()=>E,":first-child");return w.attr("transform",`translate(${f/2}, ${f/2})`),w.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",g),r&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",r),l.attr("transform",`translate(${-(o.width/2)+f/2-(o.x-(o.left??0))}, ${-(o.height/2)+f/2-(o.y-(o.top??0))})`),Ut(t,w),t.intersect=function(x){return _t.polygon(t,b,x)},a}I(Ice,"windowPane");async function Cce(e,t,n,r,a=n.class.padding??12){const o=r?0:3,l=e.insert("g").attr("class",un(t)).attr("id",t.domId||t.id);let u=null,h=null,f=null,d=null,p=0,g=0,m=0;if(u=l.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const w=t.annotations[0];await s2(u,{text:`«${w}»`},0),p=u.node().getBBox().height}h=l.insert("g").attr("class","label-group text"),await s2(h,t,0,["font-weight: bolder"]);const y=h.node().getBBox();g=y.height,f=l.insert("g").attr("class","members-group text");let b=0;for(const w of t.members){const x=await s2(f,w,b,[w.parseClassifier()]);b+=x+o}m=f.node().getBBox().height,m<=0&&(m=a/2),d=l.insert("g").attr("class","methods-group text");let T=0;for(const w of t.methods){const x=await s2(d,w,T,[w.parseClassifier()]);T+=x+o}let E=l.node().getBBox();if(u!==null){const w=u.node().getBBox();u.attr("transform",`translate(${-w.width/2})`)}return h.attr("transform",`translate(${-y.width/2}, ${p})`),E=l.node().getBBox(),f.attr("transform",`translate(0, ${p+g+a*2})`),E=l.node().getBBox(),d.attr("transform",`translate(0, ${p+g+(m?m+a*4:a*2)})`),E=l.node().getBBox(),{shapeSvg:l,bbox:E}}I(Cce,"textHelper");async function s2(e,t,n,r=[]){const a=e.insert("g").attr("class","label").attr("style",r.join("; ")),o=Br();let l="useHtmlLabels"in t?t.useHtmlLabels:ur(o.htmlLabels)??!0,u="";"text"in t?u=t.text:u=t.label,!l&&u.startsWith("\\")&&(u=u.substring(1)),ts(u)&&(l=!0);const h=await Fl(a,die(Ih(u)),{width:yl(u,o)+50,classes:"markdown-node-label",useHtmlLabels:l},o);let f,d=1;if(l){const p=h.children[0],g=it(h);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);const m=p.getElementsByTagName("img");if(m){const y=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(b=>new Promise(T=>{function E(){var w;if(b.style.display="flex",b.style.flexDirection="column",y){const x=((w=o.fontSize)==null?void 0:w.toString())??window.getComputedStyle(document.body).fontSize,A=parseInt(x,10)*5+"px";b.style.minWidth=A,b.style.maxWidth=A}else b.style.width="100%";T(b)}I(E,"setupImage"),setTimeout(()=>{b.complete&&E()}),b.addEventListener("error",E),b.addEventListener("load",E)})))}f=p.getBoundingClientRect(),g.attr("width",f.width),g.attr("height",f.height)}else{r.includes("font-weight: bolder")&&it(h).selectAll("tspan").attr("font-weight",""),d=h.children.length;const p=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(p.textContent=u[0]+u.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),u[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),f=h.getBBox()}return a.attr("transform","translate(0,"+(-f.height/(2*d)+n)+")"),f.height}I(s2,"addText");async function Rce(e,t){var O,L;const n=Pe(),r=n.class.padding??12,a=r,o=t.useHtmlLabels??ur(n.htmlLabels)??!0,l=t;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:u,bbox:h}=await Cce(e,t,n,o,a),{labelStyles:f,nodeStyles:d}=Yt(t);t.labelStyle=f,t.cssStyles=l.styles||"";const p=((O=l.styles)==null?void 0:O.join(";"))||d||"";t.cssStyles||(t.cssStyles=p.replaceAll("!important","").split(";"));const g=l.members.length===0&&l.methods.length===0&&!((L=n.class)!=null&&L.hideEmptyMembersBox),m=Ht.svg(u),y=$t(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=h.width;let T=h.height;l.members.length===0&&l.methods.length===0?T+=a:l.members.length>0&&l.methods.length===0&&(T+=a*2);const E=-b/2,w=-T/2,x=m.rectangle(E-r,w-r-(g?r:l.members.length===0&&l.methods.length===0?-r/2:0),b+2*r,T+2*r+(g?r*2:l.members.length===0&&l.methods.length===0?-r:0),y),S=u.insert(()=>x,":first-child");S.attr("class","basic label-container");const A=S.node().getBBox();u.selectAll(".text").each((k,M,$)=>{var H;const _=it($[M]),F=_.attr("transform");let B=0;if(F){const U=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(F);U&&(B=parseFloat(U[2]))}let D=B+w+r-(g?r:l.members.length===0&&l.methods.length===0?-r/2:0);o||(D-=4);let P=E;(_.attr("class").includes("label-group")||_.attr("class").includes("annotation-group"))&&(P=-((H=_.node())==null?void 0:H.getBBox().width)/2||0,u.selectAll("text").each(function(W,U,V){window.getComputedStyle(V[U]).textAnchor==="middle"&&(P=0)})),_.attr("transform",`translate(${P}, ${D})`)});const R=u.select(".annotation-group").node().getBBox().height-(g?r/2:0)||0,C=u.select(".label-group").node().getBBox().height-(g?r/2:0)||0,N=u.select(".members-group").node().getBBox().height-(g?r/2:0)||0;if(l.members.length>0||l.methods.length>0||g){const k=m.line(A.x,R+C+w+r,A.x+A.width,R+C+w+r,y);u.insert(()=>k).attr("class","divider").attr("style",p)}if(g||l.members.length>0||l.methods.length>0){const k=m.line(A.x,R+C+N+w+a*2+r,A.x+A.width,R+C+N+w+r+a*2,y);u.insert(()=>k).attr("class","divider").attr("style",p)}if(l.look!=="handDrawn"&&u.selectAll("path").attr("style",p),S.select(":nth-child(2)").attr("style",p),u.selectAll(".divider").select("path").attr("style",p),t.labelStyle?u.selectAll("span").attr("style",t.labelStyle):u.selectAll("span").attr("style",p),!o){const k=RegExp(/color\s*:\s*([^;]*)/),M=k.exec(p);if(M){const $=M[0].replace("color","fill");u.selectAll("tspan").attr("style",$)}else if(f){const $=k.exec(f);if($){const _=$[0].replace("color","fill");u.selectAll("tspan").attr("style",_)}}}return Ut(t,S),t.intersect=function(k){return _t.rect(t,k)},u}I(Rce,"classBox");var Get=I(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kce(e,t,{config:n}){var M,$;const{labelStyles:r,nodeStyles:a}=Yt(t);t.labelStyle=r||"";const o=10,l=t.width;t.width=(t.width??200)-10;const{shapeSvg:u,bbox:h,label:f}=await cn(e,t,un(t)),d=t.padding||10;let p="",g;"ticket"in t&&t.ticket&&((M=n==null?void 0:n.kanban)!=null&&M.ticketBaseUrl)&&(p=($=n==null?void 0:n.kanban)==null?void 0:$.ticketBaseUrl.replace("#TICKET#",t.ticket),g=u.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));const m={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let y,b;g?{label:y,bbox:b}=await _R(g,"ticket"in t&&t.ticket||"",m):{label:y,bbox:b}=await _R(u,"ticket"in t&&t.ticket||"",m);const{label:T,bbox:E}=await _R(u,"assigned"in t&&t.assigned||"",m);t.width=l;const w=10,x=(t==null?void 0:t.width)||0,S=Math.max(b.height,E.height)/2,A=Math.max(h.height+w*2,(t==null?void 0:t.height)||0)+S,R=-x/2,C=-A/2;f.attr("transform","translate("+(d-x/2)+", "+(-S-h.height/2)+")"),y.attr("transform","translate("+(d-x/2)+", "+(-S+h.height/2)+")"),T.attr("transform","translate("+(d+x/2-E.width-2*o)+", "+(-S+h.height/2)+")");let N;const{rx:O,ry:L}=t,{cssStyles:k}=t;if(t.look==="handDrawn"){const _=Ht.svg(u),F=$t(t,{}),B=O||L?_.path(Vh(R,C,x,A,O||0),F):_.rectangle(R,C,x,A,F);N=u.insert(()=>B,":first-child"),N.attr("class","basic label-container").attr("style",k||null)}else{N=u.insert("rect",":first-child"),N.attr("class","basic label-container __APA__").attr("style",a).attr("rx",O??5).attr("ry",L??5).attr("x",R).attr("y",C).attr("width",x).attr("height",A);const _="priority"in t&&t.priority;if(_){const F=u.append("line"),B=R+2,D=C+Math.floor((O??0)/2),P=C+A-Math.floor((O??0)/2);F.attr("x1",B).attr("y1",D).attr("x2",B).attr("y2",P).attr("stroke-width","4").attr("stroke",Get(_))}}return Ut(t,N),t.height=A,t.intersect=function(_){return _t.rect(t,_)},u}I(kce,"kanbanItem");var zet=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:hce},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:lce},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:fce},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:mce},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Mle},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Rle},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:ace},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Ule},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Qle},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Zle},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Ece},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Xle},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Fle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:bce},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Ile},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:cce},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:gce},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:pce},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:$le},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Gle},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Nle},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Lle},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:_le},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Jle},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Sce},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Wle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Tce},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:ece},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Dle},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Ple},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:xce},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Ice},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Ble},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:wce},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Hle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:uce},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:rce},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:nce},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Ale},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Ole},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:yce},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:vce},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Ace},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:sce},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:tce}],Yet=I(()=>{const t=[...Object.entries({state:dce,choice:Cle,note:ice,rectWithTitle:oce,labelRect:Kle,iconSquare:qle,iconCircle:Yle,icon:zle,iconRounded:Vle,imageSquare:jle,anchor:Sle,kanbanItem:kce,classBox:Rce}),...zet.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(a=>[a,n.handler]))];return Object.fromEntries(t)},"generateShapeMap"),Oce=Yet();function Nce(e){return e in Oce}I(Nce,"isValidShape");var o6=new Map;async function l6(e,t,n){let r,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const o=t.shape?Oce[t.shape]:void 0;if(!o)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let l;n.config.securityLevel==="sandbox"?l="_top":t.linkTarget&&(l=t.linkTarget||"_blank"),r=e.insert("svg:a").attr("xlink:href",t.link).attr("target",l??null),a=await o(r,t,n)}else a=await o(e,t,n),r=a;return t.tooltip&&a.attr("title",t.tooltip),o6.set(t.id,r),t.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}I(l6,"insertNode");var Vet=I((e,t)=>{o6.set(t.id,e)},"setNodeElem"),qet=I(()=>{o6.clear()},"clear"),a8=I(e=>{const t=o6.get(e.id);ve.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8,r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-n)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r},"positionNode"),el={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function o2(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Mr(e),t=Mr(t);const[n,r]=[e.x,e.y],[a,o]=[t.x,t.y],l=a-n,u=o-r;return{angle:Math.atan(u/l),deltaX:l,deltaY:u}}I(o2,"calculateDeltaAndAngle");var Mr=I(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),Lce=I(e=>({x:I(function(t,n,r){let a=0;const o=Mr(r[0]).x<Mr(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(el,e.arrowTypeStart)){const{angle:m,deltaX:y}=o2(r[0],r[1]);a=el[e.arrowTypeStart]*Math.cos(m)*(y>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(el,e.arrowTypeEnd)){const{angle:m,deltaX:y}=o2(r[r.length-1],r[r.length-2]);a=el[e.arrowTypeEnd]*Math.cos(m)*(y>=0?1:-1)}const l=Math.abs(Mr(t).x-Mr(r[r.length-1]).x),u=Math.abs(Mr(t).y-Mr(r[r.length-1]).y),h=Math.abs(Mr(t).x-Mr(r[0]).x),f=Math.abs(Mr(t).y-Mr(r[0]).y),d=el[e.arrowTypeStart],p=el[e.arrowTypeEnd],g=1;if(l<p&&l>0&&u<p){let m=p+g-l;m*=o==="right"?-1:1,a-=m}if(h<d&&h>0&&f<d){let m=d+g-h;m*=o==="right"?-1:1,a+=m}return Mr(t).x+a},"x"),y:I(function(t,n,r){let a=0;const o=Mr(r[0]).y<Mr(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(el,e.arrowTypeStart)){const{angle:m,deltaY:y}=o2(r[0],r[1]);a=el[e.arrowTypeStart]*Math.abs(Math.sin(m))*(y>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(el,e.arrowTypeEnd)){const{angle:m,deltaY:y}=o2(r[r.length-1],r[r.length-2]);a=el[e.arrowTypeEnd]*Math.abs(Math.sin(m))*(y>=0?1:-1)}const l=Math.abs(Mr(t).y-Mr(r[r.length-1]).y),u=Math.abs(Mr(t).x-Mr(r[r.length-1]).x),h=Math.abs(Mr(t).y-Mr(r[0]).y),f=Math.abs(Mr(t).x-Mr(r[0]).x),d=el[e.arrowTypeStart],p=el[e.arrowTypeEnd],g=1;if(l<p&&l>0&&u<p){let m=p+g-l;m*=o==="up"?-1:1,a-=m}if(h<d&&h>0&&f<d){let m=d+g-h;m*=o==="up"?-1:1,a+=m}return Mr(t).y+a},"y")}),"getLineFunctionsWithOffset"),jet=I((e,t,n,r,a)=>{t.arrowTypeStart&&pz(e,"start",t.arrowTypeStart,n,r,a),t.arrowTypeEnd&&pz(e,"end",t.arrowTypeEnd,n,r,a)},"addEdgeMarkers"),Xet={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},pz=I((e,t,n,r,a,o)=>{const l=Xet[n];if(!l){ve.warn(`Unknown arrow type: ${n}`);return}const u=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${r}#${a}_${o}-${l}${u})`)},"addEdgeMarker"),bS=new Map,Ta=new Map,Ket=I(()=>{bS.clear(),Ta.clear()},"clear"),Wy=I(e=>e?e.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),_ce=I(async(e,t)=>{let n=ur(Pe().flowchart.htmlLabels);const r=await Fl(e,t.label,{style:Wy(t.labelStyle),useHtmlLabels:n,addSvgBackground:!0,isNode:!1});ve.info("abc82",t,t.labelType);const a=e.insert("g").attr("class","edgeLabel"),o=a.insert("g").attr("class","label");o.node().appendChild(r);let l=r.getBBox();if(n){const h=r.children[0],f=it(r);l=h.getBoundingClientRect(),f.attr("width",l.width),f.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),bS.set(t.id,a),t.width=l.width,t.height=l.height;let u;if(t.startLabelLeft){const h=await Od(t.startLabelLeft,Wy(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Ta.get(t.id)||Ta.set(t.id,{}),Ta.get(t.id).startLeft=f,l2(u,t.startLabelLeft)}if(t.startLabelRight){const h=await Od(t.startLabelRight,Wy(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=f.node().appendChild(h),d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Ta.get(t.id)||Ta.set(t.id,{}),Ta.get(t.id).startRight=f,l2(u,t.startLabelRight)}if(t.endLabelLeft){const h=await Od(t.endLabelLeft,Wy(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),f.node().appendChild(h),Ta.get(t.id)||Ta.set(t.id,{}),Ta.get(t.id).endLeft=f,l2(u,t.endLabelLeft)}if(t.endLabelRight){const h=await Od(t.endLabelRight,Wy(t.labelStyle)),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),f.node().appendChild(h),Ta.get(t.id)||Ta.set(t.id,{}),Ta.get(t.id).endRight=f,l2(u,t.endLabelRight)}return r},"insertEdgeLabel");function l2(e,t){Pe().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}I(l2,"setTerminalWidth");var Dce=I((e,t)=>{ve.debug("Moving label abc88 ",e.id,e.label,bS.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const r=Pe(),{subGraphTitleTotalMargin:a}=aE(r);if(e.label){const o=bS.get(e.id);let l=e.x,u=e.y;if(n){const h=fn.calcLabelPosition(n);ve.debug("Moving label "+e.label+" from (",l,",",u,") to (",h.x,",",h.y,") abc88"),t.updatedPath&&(l=h.x,u=h.y)}o.attr("transform",`translate(${l}, ${u+a/2})`)}if(e.startLabelLeft){const o=Ta.get(e.id).startLeft;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}if(e.startLabelRight){const o=Ta.get(e.id).startRight;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}if(e.endLabelLeft){const o=Ta.get(e.id).endLeft;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}if(e.endLabelRight){const o=Ta.get(e.id).endRight;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}},"positionEdgeLabel"),Zet=I((e,t)=>{const n=e.x,r=e.y,a=Math.abs(t.x-n),o=Math.abs(t.y-r),l=e.width/2,u=e.height/2;return a>=l||o>=u},"outsideNode"),Qet=I((e,t,n)=>{ve.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const r=e.x,a=e.y,o=Math.abs(r-n.x),l=e.width/2;let u=n.x<t.x?l-o:l+o;const h=e.height/2,f=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*l>Math.abs(r-t.x)*h){let p=n.y<t.y?t.y-h-a:a-h-t.y;u=d*p/f;const g={x:n.x<t.x?n.x+u:n.x-d+u,y:n.y<t.y?n.y+f-p:n.y-f+p};return u===0&&(g.x=t.x,g.y=t.y),d===0&&(g.x=t.x),f===0&&(g.y=t.y),ve.debug(`abc89 top/bottom calc, Q ${f}, q ${p}, R ${d}, r ${u}`,g),g}else{n.x<t.x?u=t.x-l-r:u=r-l-t.x;let p=f*u/d,g=n.x<t.x?n.x+d-u:n.x-d+u,m=n.y<t.y?n.y+p:n.y-p;return ve.debug(`sides calc abc89, Q ${f}, q ${p}, R ${d}, r ${u}`,{_x:g,_y:m}),u===0&&(g=t.x,m=t.y),d===0&&(g=t.x),f===0&&(m=t.y),{x:g,y:m}}},"intersection"),gz=I((e,t)=>{ve.warn("abc88 cutPathAtIntersect",e,t);let n=[],r=e[0],a=!1;return e.forEach(o=>{if(ve.info("abc88 checking point",o,t),!Zet(t,o)&&!a){const l=Qet(t,r,o);ve.debug("abc88 inside",o,r,l),ve.debug("abc88 intersection",l,t);let u=!1;n.forEach(h=>{u=u||h.x===l.x&&h.y===l.y}),n.some(h=>h.x===l.x&&h.y===l.y)?ve.warn("abc88 no intersect",l,n):n.push(l),a=!0}else ve.warn("abc88 outside",o,r),r=o,a||n.push(o)}),ve.debug("returning points",n),n},"cutPathAtIntersect");function Mce(e){const t=[],n=[];for(let r=1;r<e.length-1;r++){const a=e[r-1],o=e[r],l=e[r+1];(a.x===o.x&&o.y===l.y&&Math.abs(o.x-l.x)>5&&Math.abs(o.y-a.y)>5||a.y===o.y&&o.x===l.x&&Math.abs(o.x-a.x)>5&&Math.abs(o.y-l.y)>5)&&(t.push(o),n.push(r))}return{cornerPoints:t,cornerPointPositions:n}}I(Mce,"extractCornerPoints");var mz=I(function(e,t,n){const r=t.x-e.x,a=t.y-e.y,o=Math.sqrt(r*r+a*a),l=n/o;return{x:t.x-l*r,y:t.y-l*a}},"findAdjacentPoint"),Jet=I(function(e){const{cornerPointPositions:t}=Mce(e),n=[];for(let r=0;r<e.length;r++)if(t.includes(r)){const a=e[r-1],o=e[r+1],l=e[r],u=mz(a,l,5),h=mz(o,l,5),f=h.x-u.x,d=h.y-u.y;n.push(u);const p=Math.sqrt(2)*2;let g={x:l.x,y:l.y};if(Math.abs(o.x-a.x)>10&&Math.abs(o.y-a.y)>=10){ve.debug("Corner point fixing",Math.abs(o.x-a.x),Math.abs(o.y-a.y));const m=5;l.x===u.x?g={x:f<0?u.x-m+p:u.x+m-p,y:d<0?u.y-p:u.y+p}:g={x:f<0?u.x-p:u.x+p,y:d<0?u.y-m+p:u.y+m-p}}else ve.debug("Corner point skipping fixing",Math.abs(o.x-a.x),Math.abs(o.y-a.y));n.push(g,h)}else n.push(e[r]);return n},"fixCorners"),Pce=I(function(e,t,n,r,a,o,l){const{handDrawnSeed:u}=Pe();let h=t.points,f=!1;const d=a;var p=o;p.intersect&&d.intersect&&(h=h.slice(1,t.points.length-1),h.unshift(d.intersect(h[0])),ve.debug("Last point APA12",t.start,"-->",t.end,h[h.length-1],p,p.intersect(h[h.length-1])),h.push(p.intersect(h[h.length-1]))),t.toCluster&&(ve.info("to cluster abc88",n.get(t.toCluster)),h=gz(t.points,n.get(t.toCluster).node),f=!0),t.fromCluster&&(ve.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(h,null,2)),h=gz(h.reverse(),n.get(t.fromCluster).node).reverse(),f=!0);let g=h.filter(C=>!Number.isNaN(C.y));g=Jet(g);let m=cE;t.curve&&(m=t.curve);const{x:y,y:b}=Lce(t),T=ip().x(y).y(b).curve(m);let E;switch(t.thickness){case"normal":E="edge-thickness-normal";break;case"thick":E="edge-thickness-thick";break;case"invisible":E="edge-thickness-invisible";break;default:E="edge-thickness-normal"}switch(t.pattern){case"solid":E+=" edge-pattern-solid";break;case"dotted":E+=" edge-pattern-dotted";break;case"dashed":E+=" edge-pattern-dashed";break;default:E+=" edge-pattern-solid"}let w,x=T(g);const S=Array.isArray(t.style)?t.style:[t.style];if(t.look==="handDrawn"){const C=Ht.svg(e);Object.assign([],g);const N=C.path(x,{roughness:.3,seed:u});E+=" transition",w=it(N).select("path").attr("id",t.id).attr("class"," "+E+(t.classes?" "+t.classes:"")).attr("style",S?S.reduce((L,k)=>L+";"+k,""):"");let O=w.attr("d");w.attr("d",O),e.node().appendChild(w.node())}else w=e.append("path").attr("d",x).attr("id",t.id).attr("class"," "+E+(t.classes?" "+t.classes:"")).attr("style",S?S.reduce((C,N)=>C+";"+N,""):"");let A="";(Pe().flowchart.arrowMarkerAbsolute||Pe().state.arrowMarkerAbsolute)&&(A=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,A=A.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),ve.info("arrowTypeStart",t.arrowTypeStart),ve.info("arrowTypeEnd",t.arrowTypeEnd),jet(w,t,A,l,r);let R={};return f&&(R.updatedPath=h),R.originalPath=t.points,R},"insertEdge"),ett=I((e,t,n,r)=>{t.forEach(a=>{utt[a](e,n,r)})},"insertMarkers"),ttt=I((e,t,n)=>{ve.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),ntt=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),rtt=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),itt=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),att=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),stt=I((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),ott=I((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),ltt=I((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),ctt=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),utt={extension:ttt,composition:ntt,aggregation:rtt,dependency:itt,lollipop:att,point:stt,circle:ott,cross:ltt,barb:ctt},Fce=ett,htt={common:ot,getConfig:Br,insertCluster:bD,insertEdge:Pce,insertEdgeLabel:_ce,insertMarkers:Fce,insertNode:l6,interpolateToCurve:tD,labelHelper:cn,log:ve,positionEdgeLabel:Dce},jb={},Bce=I(e=>{for(const t of e)jb[t.name]=t},"registerLayoutLoaders"),ftt=I(()=>{Bce([{name:"dagre",loader:I(async()=>await wn(()=>Promise.resolve().then(()=>tdt),void 0,import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");ftt();var TD=I(async(e,t)=>{if(!(e.layoutAlgorithm in jb))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const n=jb[e.layoutAlgorithm];return(await n.loader()).render(e,t,htt,{algorithm:n.algorithm})},"render"),Hce=I((e="",{fallback:t="dagre"}={})=>{if(e in jb)return e;if(t in jb)return ve.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),s8="11.4.1",Cf=I(e=>{var a;const{securityLevel:t}=Pe();let n=it("body");if(t==="sandbox"){const l=((a=it(`#i${e}`).node())==null?void 0:a.contentDocument)??document;n=it(l.body)}return n.select(`#${e}`)},"selectSvgElement"),$ce="comm",Wce="rule",Uce="decl",dtt="@import",ptt="@namespace",gtt="@keyframes",mtt="@layer",Gce=Math.abs,ED=String.fromCharCode;function zce(e){return e.trim()}function bx(e,t,n){return e.replace(t,n)}function vtt(e,t,n){return e.indexOf(t,n)}function v1(e,t){return e.charCodeAt(t)|0}function Hm(e,t,n){return e.slice(t,n)}function Uc(e){return e.length}function ytt(e){return e.length}function r3(e,t){return t.push(e),e}var c6=1,$m=1,Yce=0,Il=0,ki=0,Mv="";function wD(e,t,n,r,a,o,l,u){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:c6,column:$m,length:l,return:"",siblings:u}}function btt(){return ki}function Ttt(){return ki=Il>0?v1(Mv,--Il):0,$m--,ki===10&&($m=1,c6--),ki}function cc(){return ki=Il<Yce?v1(Mv,Il++):0,$m++,ki===10&&($m=1,c6++),ki}function k0(){return v1(Mv,Il)}function Tx(){return Il}function u6(e,t){return Hm(Mv,e,t)}function Xb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ett(e){return c6=$m=1,Yce=Uc(Mv=e),Il=0,[]}function wtt(e){return Mv="",e}function DR(e){return zce(u6(Il-1,o8(e===91?e+2:e===40?e+1:e)))}function xtt(e){for(;(ki=k0())&&ki<33;)cc();return Xb(e)>2||Xb(ki)>3?"":" "}function Stt(e,t){for(;--t&&cc()&&!(ki<48||ki>102||ki>57&&ki<65||ki>70&&ki<97););return u6(e,Tx()+(t<6&&k0()==32&&cc()==32))}function o8(e){for(;cc();)switch(ki){case e:return Il;case 34:case 39:e!==34&&e!==39&&o8(ki);break;case 40:e===41&&o8(e);break;case 92:cc();break}return Il}function Att(e,t){for(;cc()&&e+ki!==57;)if(e+ki===84&&k0()===47)break;return"/*"+u6(t,Il-1)+"*"+ED(e===47?e:cc())}function Itt(e){for(;!Xb(k0());)cc();return u6(e,Il)}function Ctt(e){return wtt(Ex("",null,null,null,[""],e=Ett(e),0,[0],e))}function Ex(e,t,n,r,a,o,l,u,h){for(var f=0,d=0,p=l,g=0,m=0,y=0,b=1,T=1,E=1,w=0,x="",S=a,A=o,R=r,C=x;T;)switch(y=w,w=cc()){case 40:if(y!=108&&v1(C,p-1)==58){vtt(C+=bx(DR(w),"&","&\f"),"&\f",Gce(f?u[f-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:C+=DR(w);break;case 9:case 10:case 13:case 32:C+=xtt(y);break;case 92:C+=Stt(Tx()-1,7);continue;case 47:switch(k0()){case 42:case 47:r3(Rtt(Att(cc(),Tx()),t,n,h),h),(Xb(y||1)==5||Xb(k0()||1)==5)&&Uc(C)&&Hm(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*b:u[f++]=Uc(C)*E;case 125*b:case 59:case 0:switch(w){case 0:case 125:T=0;case 59+d:E==-1&&(C=bx(C,/\f/g,"")),m>0&&(Uc(C)-p||b===0&&y===47)&&r3(m>32?yz(C+";",r,n,p-1,h):yz(bx(C," ","")+";",r,n,p-2,h),h);break;case 59:C+=";";default:if(r3(R=vz(C,t,n,f,d,a,u,x,S=[],A=[],p,o),o),w===123)if(d===0)Ex(C,t,R,R,S,o,p,u,A);else{switch(g){case 99:if(v1(C,3)===110)break;case 108:if(v1(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Ex(e,R,R,r&&r3(vz(e,R,R,0,0,a,u,x,a,S=[],p,A),A),a,A,p,u,r?S:A):Ex(C,R,R,R,[""],A,0,u,A)}}f=d=m=0,b=E=1,x=C="",p=l;break;case 58:p=1+Uc(C),m=y;default:if(b<1){if(w==123)--b;else if(w==125&&b++==0&&Ttt()==125)continue}switch(C+=ED(w),w*b){case 38:E=d>0?1:(C+="\f",-1);break;case 44:u[f++]=(Uc(C)-1)*E,E=1;break;case 64:k0()===45&&(C+=DR(cc())),g=k0(),d=p=Uc(x=C+=Itt(Tx())),w++;break;case 45:y===45&&Uc(C)==2&&(b=0)}}return o}function vz(e,t,n,r,a,o,l,u,h,f,d,p){for(var g=a-1,m=a===0?o:[""],y=ytt(m),b=0,T=0,E=0;b<r;++b)for(var w=0,x=Hm(e,g+1,g=Gce(T=l[b])),S=e;w<y;++w)(S=zce(T>0?m[w]+" "+x:bx(x,/&\f/g,m[w])))&&(h[E++]=S);return wD(e,t,n,a===0?Wce:u,h,f,d,p)}function Rtt(e,t,n,r){return wD(e,t,n,$ce,ED(btt()),Hm(e,2,-2),0,r)}function yz(e,t,n,r,a){return wD(e,t,n,Uce,Hm(e,0,r),Hm(e,r+1,-1),r,a)}function l8(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function ktt(e,t,n,r){switch(e.type){case mtt:if(e.children.length)break;case dtt:case ptt:case Uce:return e.return=e.return||e.value;case $ce:return"";case gtt:return e.return=e.value+"{"+l8(e.children,r)+"}";case Wce:if(!Uc(e.value=e.props.join(",")))return""}return Uc(n=l8(e.children,r))?e.return=e.value+"{"+n+"}":""}var Ott=voe(Object.keys,Object),Ntt=Object.prototype,Ltt=Ntt.hasOwnProperty;function Vce(e){if(!hE(e))return Ott(e);var t=[];for(var n in Object(e))Ltt.call(e,n)&&n!="constructor"&&t.push(n);return t}var c8=Fp(Au,"DataView"),u8=Fp(Au,"Promise"),y1=Fp(Au,"Set"),h8=Fp(Au,"WeakMap"),bz="[object Map]",_tt="[object Object]",Tz="[object Promise]",Ez="[object Set]",wz="[object WeakMap]",xz="[object DataView]",Dtt=Pp(c8),Mtt=Pp(Vb),Ptt=Pp(u8),Ftt=Pp(y1),Btt=Pp(h8),ol=Uh;(c8&&ol(new c8(new ArrayBuffer(1)))!=xz||Vb&&ol(new Vb)!=bz||u8&&ol(u8.resolve())!=Tz||y1&&ol(new y1)!=Ez||h8&&ol(new h8)!=wz)&&(ol=function(e){var t=Uh(e),n=t==_tt?e.constructor:void 0,r=n?Pp(n):"";if(r)switch(r){case Dtt:return xz;case Mtt:return bz;case Ptt:return Tz;case Ftt:return Ez;case Btt:return wz}return t});var Htt="[object Map]",$tt="[object Set]",Wtt=Object.prototype,Utt=Wtt.hasOwnProperty;function qn(e){if(e==null)return!0;if(Iu(e)&&(An(e)||typeof e=="string"||typeof e.splice=="function"||Bm(e)||e6(e)||Fm(e)))return!e.length;var t=ol(e);if(t==Htt||t==$tt)return!e.size;if(hE(e))return!Vce(e).length;for(var n in e)if(Utt.call(e,n))return!1;return!0}var qce="c4",Gtt=I(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),ztt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Jdt);return{diagram:t}},void 0,import.meta.url);return{id:qce,diagram:e}},"loader"),Ytt={id:qce,detector:Gtt,loader:ztt},Vtt=Ytt,jce="flowchart",qtt=I((e,t)=>{var n,r;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),jtt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>wM);return{diagram:t}},void 0,import.meta.url);return{id:jce,diagram:e}},"loader"),Xtt={id:jce,detector:qtt,loader:jtt},Ktt=Xtt,Xce="flowchart-v2",Ztt=I((e,t)=>{var n,r,a;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"?!1:(((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((a=t==null?void 0:t.flowchart)==null?void 0:a.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),Qtt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>wM);return{diagram:t}},void 0,import.meta.url);return{id:Xce,diagram:e}},"loader"),Jtt={id:Xce,detector:Ztt,loader:Qtt},ent=Jtt,Kce="er",tnt=I(e=>/^\s*erDiagram/.test(e),"detector"),nnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>wgt);return{diagram:t}},void 0,import.meta.url);return{id:Kce,diagram:e}},"loader"),rnt={id:Kce,detector:tnt,loader:nnt},int=rnt,Zce="gitGraph",ant=I(e=>/^\s*gitGraph/.test(e),"detector"),snt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>GTt);return{diagram:t}},void 0,import.meta.url);return{id:Zce,diagram:e}},"loader"),ont={id:Zce,detector:ant,loader:snt},lnt=ont,Qce="gantt",cnt=I(e=>/^\s*gantt/.test(e),"detector"),unt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>$Et);return{diagram:t}},void 0,import.meta.url);return{id:Qce,diagram:e}},"loader"),hnt={id:Qce,detector:cnt,loader:unt},fnt=hnt,Jce="info",dnt=I(e=>/^\s*info/.test(e),"detector"),pnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>jEt);return{diagram:t}},void 0,import.meta.url);return{id:Jce,diagram:e}},"loader"),gnt={id:Jce,detector:dnt,loader:pnt},eue="pie",mnt=I(e=>/^\s*pie/.test(e),"detector"),vnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>hwt);return{diagram:t}},void 0,import.meta.url);return{id:eue,diagram:e}},"loader"),ynt={id:eue,detector:mnt,loader:vnt},tue="quadrantChart",bnt=I(e=>/^\s*quadrantChart/.test(e),"detector"),Tnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Twt);return{diagram:t}},void 0,import.meta.url);return{id:tue,diagram:e}},"loader"),Ent={id:tue,detector:bnt,loader:Tnt},wnt=Ent,nue="xychart",xnt=I(e=>/^\s*xychart-beta/.test(e),"detector"),Snt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Mwt);return{diagram:t}},void 0,import.meta.url);return{id:nue,diagram:e}},"loader"),Ant={id:nue,detector:xnt,loader:Snt},Int=Ant,rue="requirement",Cnt=I(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Rnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>d3t);return{diagram:t}},void 0,import.meta.url);return{id:rue,diagram:e}},"loader"),knt={id:rue,detector:Cnt,loader:Rnt},Ont=knt,iue="sequence",Nnt=I(e=>/^\s*sequenceDiagram/.test(e),"detector"),Lnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>pxt);return{diagram:t}},void 0,import.meta.url);return{id:iue,diagram:e}},"loader"),_nt={id:iue,detector:Nnt,loader:Lnt},Dnt=_nt,aue="class",Mnt=I((e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),Pnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Vxt);return{diagram:t}},void 0,import.meta.url);return{id:aue,diagram:e}},"loader"),Fnt={id:aue,detector:Mnt,loader:Pnt},Bnt=Fnt,sue="classDiagram",Hnt=I((e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),$nt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>jxt);return{diagram:t}},void 0,import.meta.url);return{id:sue,diagram:e}},"loader"),Wnt={id:sue,detector:Hnt,loader:$nt},Unt=Wnt,oue="state",Gnt=I((e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),znt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>aSt);return{diagram:t}},void 0,import.meta.url);return{id:oue,diagram:e}},"loader"),Ynt={id:oue,detector:Gnt,loader:znt},Vnt=Ynt,lue="stateDiagram",qnt=I((e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},"detector"),jnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>oSt);return{diagram:t}},void 0,import.meta.url);return{id:lue,diagram:e}},"loader"),Xnt={id:lue,detector:qnt,loader:jnt},Knt=Xnt,cue="journey",Znt=I(e=>/^\s*journey/.test(e),"detector"),Qnt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>kSt);return{diagram:t}},void 0,import.meta.url);return{id:cue,diagram:e}},"loader"),Jnt={id:cue,detector:Znt,loader:Qnt},ert=Jnt,trt=I((e,t,n)=>{ve.debug(`rendering svg for syntax error
`);const r=Cf(t),a=r.append("g");r.attr("viewBox","0 0 2412 512"),ss(r,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),uue={draw:trt},nrt=uue,rrt={db:{},renderer:uue,parser:{parse:I(()=>{},"parse")}},irt=rrt,hue="flowchart-elk",art=I((e,t={})=>{var n;return/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),srt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>wM);return{diagram:t}},void 0,import.meta.url);return{id:hue,diagram:e}},"loader"),ort={id:hue,detector:art,loader:srt},lrt=ort,fue="timeline",crt=I(e=>/^\s*timeline/.test(e),"detector"),urt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ZSt);return{diagram:t}},void 0,import.meta.url);return{id:fue,diagram:e}},"loader"),hrt={id:fue,detector:crt,loader:urt},frt=hrt,due="mindmap",drt=I(e=>/^\s*mindmap/.test(e),"detector"),prt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>MNt);return{diagram:t}},void 0,import.meta.url);return{id:due,diagram:e}},"loader"),grt={id:due,detector:drt,loader:prt},mrt=grt,pue="kanban",vrt=I(e=>/^\s*kanban/.test(e),"detector"),yrt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>t8t);return{diagram:t}},void 0,import.meta.url);return{id:pue,diagram:e}},"loader"),brt={id:pue,detector:vrt,loader:yrt},Trt=brt,gue="sankey",Ert=I(e=>/^\s*sankey-beta/.test(e),"detector"),wrt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>F8t);return{diagram:t}},void 0,import.meta.url);return{id:gue,diagram:e}},"loader"),xrt={id:gue,detector:Ert,loader:wrt},Srt=xrt,mue="packet",Art=I(e=>/^\s*packet-beta/.test(e),"detector"),Irt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>J8t);return{diagram:t}},void 0,import.meta.url);return{id:mue,diagram:e}},"loader"),Crt={id:mue,detector:Art,loader:Irt},vue="block",Rrt=I(e=>/^\s*block-beta/.test(e),"detector"),krt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ALt);return{diagram:t}},void 0,import.meta.url);return{id:vue,diagram:e}},"loader"),Ort={id:vue,detector:Rrt,loader:krt},Nrt=Ort,yue="architecture",Lrt=I(e=>/^\s*architecture/.test(e),"detector"),_rt=I(async()=>{const{diagram:e}=await wn(async()=>{const{diagram:t}=await Promise.resolve().then(()=>l_t);return{diagram:t}},void 0,import.meta.url);return{id:yue,diagram:e}},"loader"),Drt={id:yue,detector:Lrt,loader:_rt},Mrt=Drt,Sz=!1,h6=I(()=>{Sz||(Sz=!0,M4("error",irt,e=>e.toLowerCase().trim()==="error"),M4("---",{db:{clear:I(()=>{},"clear")},styles:{},renderer:{draw:I(()=>{},"draw")},parser:{parse:I(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:I(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),eie(Vtt,Trt,Unt,Bnt,int,fnt,gnt,ynt,Ont,Dnt,lrt,ent,Ktt,mrt,frt,lnt,Knt,Vnt,ert,wnt,Srt,Crt,Int,Nrt,Mrt))},"addDiagrams"),Prt=I(async()=>{ve.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Am).map(async([n,{detector:r,loader:a}])=>{if(a)try{vN(n)}catch{try{const{diagram:o,id:l}=await a();M4(l,o,r)}catch(o){throw ve.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete Am[n],o}}}))).filter(n=>n.status==="rejected");if(t.length>0){ve.error(`Failed to load ${t.length} external diagrams`);for(const n of t)ve.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),Frt="graphics-document document";function bue(e,t){e.attr("role",Frt),t!==""&&e.attr("aria-roledescription",t)}I(bue,"setA11yDiagramInfo");function Tue(e,t,n,r){if(e.insert!==void 0){if(n){const a=`chart-desc-${r}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(n)}if(t){const a=`chart-title-${r}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}I(Tue,"addSVGa11yTitleDescription");var Gd,f8=(Gd=class{constructor(t,n,r,a,o){this.type=t,this.text=n,this.db=r,this.parser=a,this.renderer=o}static async fromText(t,n={}){var f,d;const r=Br(),a=T9(t,r);t=vJe(t)+`
`;try{vN(a)}catch{const p=xUe(a);if(!p)throw new Jre(`Diagram ${a} not found.`);const{id:g,diagram:m}=await p();M4(g,m)}const{db:o,parser:l,renderer:u,init:h}=vN(a);return l.parser&&(l.parser.yy=o),(f=o.clear)==null||f.call(o),h==null||h(r),n.title&&((d=o.setDiagramTitle)==null||d.call(o,n.title)),await l.parse(t),new Gd(a,t,o,l,u)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}},I(Gd,"Diagram"),Gd),Az=[],Brt=I(()=>{Az.forEach(e=>{e()}),Az=[]},"attachFunctions"),Hrt=I(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function Eue(e){const t=e.match(Qre);if(!t)return{text:e,metadata:{}};let n=M9(t[1],{schema:D9})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:e.slice(t[0].length),metadata:r}}I(Eue,"extractFrontMatter");var $rt=I(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Wrt=I(e=>{const{text:t,metadata:n}=Eue(e),{displayMode:r,title:a,config:o={}}=n;return r&&(o.gantt||(o.gantt={}),o.gantt.displayMode=r),{title:a,config:o,text:t}},"processFrontmatter"),Urt=I(e=>{const t=fn.detectInit(e)??{},n=fn.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:r})=>r==="wrap"):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:oJe(e),directive:t}},"processDirectives");function xD(e){const t=$rt(e),n=Wrt(t),r=Urt(n.text),a=Yh(n.config,r.directive);return e=Hrt(r.text),{code:e,title:n.title,config:a}}I(xD,"preprocessDiagram");function wue(e){const t=new TextEncoder().encode(e),n=Array.from(t,r=>String.fromCodePoint(r)).join("");return btoa(n)}I(wue,"toBase64");var Grt=5e4,zrt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Yrt="sandbox",Vrt="loose",qrt="http://www.w3.org/2000/svg",jrt="http://www.w3.org/1999/xlink",Xrt="http://www.w3.org/1999/xhtml",Krt="100%",Zrt="100%",Qrt="border:0;margin:0;",Jrt="margin:0",eit="allow-top-navigation-by-user-activation allow-popups",tit='The "iframe" tag is not supported by your browser.',nit=["foreignobject"],rit=["dominant-baseline"];function SD(e){const t=xD(e);return _4(),BUe(t.config??{}),t}I(SD,"processAndSetConfigs");async function xue(e,t){h6();try{const{code:n,config:r}=SD(e);return{diagramType:(await Aue(n)).type,config:r}}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}}I(xue,"parse");var Iz=I((e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),iit=I((e,t=new Map)=>{var r;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const u=e.htmlLabels??((r=e.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(h=>{qn(h.styles)||u.forEach(f=>{n+=Iz(h.id,f,h.styles)}),qn(h.textStyles)||(n+=Iz(h.id,"tspan",((h==null?void 0:h.textStyles)||[]).map(f=>f.replace("color","fill"))))})}return n},"createCssStyles"),ait=I((e,t,n,r)=>{const a=iit(e,n),o=nGe(t,a,e.themeVariables);return l8(Ctt(`${r}{${o}}`),ktt)},"createUserStyles"),sit=I((e="",t,n)=>{let r=e;return!n&&!t&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=Ih(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),oit=I((e="",t)=>{var a,o;const n=(o=(a=t==null?void 0:t.viewBox)==null?void 0:a.baseVal)!=null&&o.height?t.viewBox.baseVal.height+"px":Zrt,r=wue(`<body style="${Jrt}">${e}</body>`);return`<iframe style="width:${Krt};height:${n};${Qrt}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${eit}">
  ${tit}
</iframe>`},"putIntoIFrame"),Cz=I((e,t,n,r,a)=>{const o=e.append("div");o.attr("id",n),r&&o.attr("style",r);const l=o.append("svg").attr("id",t).attr("width","100%").attr("xmlns",qrt);return a&&l.attr("xmlns:xlink",a),l.append("g"),e},"appendDivSvgG");function d8(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}I(d8,"sandboxedIframe");var lit=I((e,t,n,r)=>{var a,o,l;(a=e.getElementById(t))==null||a.remove(),(o=e.getElementById(n))==null||o.remove(),(l=e.getElementById(r))==null||l.remove()},"removeExistingElements"),cit=I(async function(e,t,n){var M,$,_,F,B,D;h6();const r=SD(t);t=r.code;const a=Br();ve.debug(a),t.length>((a==null?void 0:a.maxTextSize)??Grt)&&(t=zrt);const o="#"+e,l="i"+e,u="#"+l,h="d"+e,f="#"+h,d=I(()=>{const H=it(g?u:f).node();H&&"remove"in H&&H.remove()},"removeTempElements");let p=it("body");const g=a.securityLevel===Yrt,m=a.securityLevel===Vrt,y=a.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),g){const P=d8(it(n),l);p=it(P.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=it(n);Cz(p,e,h,`font-family: ${y}`,jrt)}else{if(lit(document,e,h,l),g){const P=d8(it("body"),l);p=it(P.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=it("body");Cz(p,e,h)}let b,T;try{b=await f8.fromText(t,{title:r.title})}catch(P){if(a.suppressErrorRendering)throw d(),P;b=await f8.fromText("error"),T=P}const E=p.select(f).node(),w=b.type,x=E.firstChild,S=x.firstChild,A=($=(M=b.renderer).getClasses)==null?void 0:$.call(M,t,b),R=ait(a,w,A,o),C=document.createElement("style");C.innerHTML=R,x.insertBefore(C,S);try{await b.renderer.draw(t,e,s8,b)}catch(P){throw a.suppressErrorRendering?d():nrt.draw(t,e,s8),P}const N=p.select(`${f} svg`),O=(F=(_=b.db).getAccTitle)==null?void 0:F.call(_),L=(D=(B=b.db).getAccDescription)==null?void 0:D.call(B);Iue(w,N,O,L),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Xrt);let k=p.select(f).node().innerHTML;if(ve.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),k=sit(k,g,ur(a.arrowMarkerAbsolute)),g){const P=p.select(f+" svg").node();k=oit(k,P)}else m||(k=Sm.sanitize(k,{ADD_TAGS:nit,ADD_ATTR:rit,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Brt(),T)throw T;return d(),{diagramType:w,svg:k,bindFunctions:b.db.bindFunctions}},"render");function Sue(e={}){var r;const t=zi({},e);t!=null&&t.fontFamily&&!((r=t.themeVariables)!=null&&r.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),PUe(t),t!=null&&t.theme&&t.theme in gh?t.themeVariables=gh[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=gh.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?MUe(t):aie();b9(n.logLevel),h6()}I(Sue,"initialize");var Aue=I((e,t={})=>{const{code:n}=xD(e);return f8.fromText(n,t)},"getDiagramFromText");function Iue(e,t,n,r){bue(t,e),Tue(t,n,r,t.attr("id"))}I(Iue,"addA11yInfo");var op=Object.freeze({render:cit,parse:xue,getDiagramFromText:Aue,initialize:Sue,getConfig:Br,setConfig:sie,getSiteConfig:aie,updateSiteConfig:FUe,reset:I(()=>{_4()},"reset"),globalReset:I(()=>{_4(Im)},"globalReset"),defaultConfig:Im});b9(Br().logLevel);_4(Br());var uit=I((e,t,n)=>{ve.warn(e),sD(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Cue=I(async function(e={querySelector:".mermaid"}){try{await hit(e)}catch(t){if(sD(t)&&ve.error(t.str),Fo.parseError&&Fo.parseError(t),!e.suppressErrors)throw ve.error("Use the suppressErrors option to suppress these errors"),t}},"run"),hit=I(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const r=op.getConfig();ve.debug(`${e?"":"No "}Callback function found`);let a;if(n)a=n;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ve.debug(`Found ${a.length} diagrams`),(r==null?void 0:r.startOnLoad)!==void 0&&(ve.debug("Start On Load: "+(r==null?void 0:r.startOnLoad)),op.updateSiteConfig({startOnLoad:r==null?void 0:r.startOnLoad}));const o=new fn.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let l;const u=[];for(const h of Array.from(a)){if(ve.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const f=`mermaid-${o.next()}`;l=h.innerHTML,l=Zoe(fn.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=fn.detectInit(l);d&&ve.debug("Detected early reinit: ",d);try{const{svg:p,bindFunctions:g}=await Nue(f,l,h);h.innerHTML=p,e&&await e(f),g&&g(h)}catch(p){uit(p,u,Fo.parseError)}}if(u.length>0)throw u[0]},"runThrowsErrors"),Rue=I(function(e){op.initialize(e)},"initialize"),fit=I(async function(e,t,n){ve.warn("mermaid.init is deprecated. Please use run instead."),e&&Rue(e);const r={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?r.querySelector=t:t&&(t instanceof HTMLElement?r.nodes=[t]:r.nodes=t),await Cue(r)},"init"),dit=I(async(e,{lazyLoad:t=!0}={})=>{h6(),eie(...e),t===!1&&await Prt()},"registerExternalDiagrams"),kue=I(function(){if(Fo.startOnLoad){const{startOnLoad:e}=op.getConfig();e&&Fo.run().catch(t=>ve.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",kue,!1);var pit=I(function(e){Fo.parseError=e},"setParseErrorHandler"),TS=[],MR=!1,Oue=I(async()=>{if(!MR){for(MR=!0;TS.length>0;){const e=TS.shift();if(e)try{await e()}catch(t){ve.error("Error executing queue",t)}}MR=!1}},"executeQueue"),git=I(async(e,t)=>new Promise((n,r)=>{const a=I(()=>new Promise((o,l)=>{op.parse(e,t).then(u=>{o(u),n(u)},u=>{var h;ve.error("Error parsing",u),(h=Fo.parseError)==null||h.call(Fo,u),l(u),r(u)})}),"performCall");TS.push(a),Oue().catch(r)}),"parse"),Nue=I((e,t,n)=>new Promise((r,a)=>{const o=I(()=>new Promise((l,u)=>{op.render(e,t,n).then(h=>{l(h),r(h)},h=>{var f;ve.error("Error parsing",h),(f=Fo.parseError)==null||f.call(Fo,h),u(h),a(h)})}),"performCall");TS.push(o),Oue().catch(a)}),"render"),Fo={startOnLoad:!0,mermaidAPI:op,parse:git,render:Nue,init:fit,run:Cue,registerExternalDiagrams:dit,registerLayoutLoaders:Bce,initialize:Rue,parseError:void 0,contentLoaded:kue,setParseErrorHandler:pit,detectType:T9,registerIconPacks:Jae},Lue=Fo;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const mit=new DOMParser,vit=new XMLSerializer;function Rz(e,t){const n=e.getAttribute(t);if(!n)return;let r="";for(const a of n.split(/\s+/)){const o=e.getElementById(a);o&&(r+=o.textContent)}return r}const yit=(e,t)=>Promise.allSettled(e.map(async(n,r)=>{const a=`${(t==null?void 0:t.prefix)??"mermaid"}-${r}`,{svg:o}=await Lue.render(a,n),l=mit.parseFromString(o,"text/html"),[u]=l.getElementsByTagName("svg"),{height:h,width:f}=u.viewBox.baseVal,d=Rz(u,"aria-describedby"),p=Rz(u,"aria-labelledby"),g={height:h,id:a,svg:vit.serializeToString(u),width:f};return d&&(g.description=d),p&&(g.title=p),g})),bit=()=>yit;var Tit={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},PR=Tit,AD={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function Eit(e){return e.trim().replace(AD.whitespace," ")}function wit(e){return encodeURIComponent(e).replace(AD.urlHexPairs,Sit)}function xit(e){return Object.keys(PR).forEach(function(t){PR[t].test(e)&&(e=e.replace(PR[t],t))}),e}function Sit(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function p8(e){if(typeof e!="string")throw new TypeError("Expected a string, but received "+typeof e);e.charCodeAt(0)===65279&&(e=e.slice(1));var t=xit(Eit(e)).replace(AD.quotes,"'");return"data:image/svg+xml,"+wit(t)}p8.toSrcset=function(t){return p8(t).replace(/ /g,"%20")};var Ait=p8;const kz=Go(Ait),Iit=/\w/,Oz=["img-png","img-svg","inline-svg","pre-mermaid"];function Cit(e="inline-svg"){if(Oz.includes(e))return e;throw new Error(`Expected strategy to be one of ${Oz.join(", ")}, got: ${e}`)}function Rit(e,t){var a;let n;if(e.tagName==="pre"){if(t==="pre-mermaid")return!1;n="mermaid"}else if(e.tagName==="code")n="language-mermaid";else return!1;let r=(a=e.properties)==null?void 0:a.className;return typeof r=="string"&&(r=p4(r)),Array.isArray(r)?r.includes(n):!1}function Nz(e,t){return e.screenshot?`data:image/png;base64,${e.screenshot.toString("base64")}`:t?kz.toSrcset(e.svg):kz(e.svg)}function kit(e){return e==="dark"?"light":"dark"}function Oit(e,t,n){let r,a;n==="dark"?(r=t||e,a=e):(r=e,a=t);const o={type:"element",tagName:"img",properties:{alt:r.description||"",height:r.height,id:r.id,src:Nz(r),title:r.title,width:r.width},children:[]};return t?{type:"element",tagName:"picture",properties:{},children:[{type:"element",tagName:"source",properties:{height:a.height,id:a.id,media:`(prefers-color-scheme: ${kit(n)})`,srcset:Nz(a,!0),width:a.width},children:[]},o]}:o}function Lz(e,t,n,r){const{ancestors:a,diagram:o}=t;if(r!=null&&r.errorFallback)return r.errorFallback(a.at(-1),o,e,n);const l=n.message(e,{ruleId:"rehype-mermaid",source:"rehype-mermaid",ancestors:a});throw l.fatal=!0,l.url="https://github.com/remcohaszing/rehype-mermaid",l}function Nit(e){if(typeof e.properties.content!="string")return;const t=p4(e.properties.content);for(const n of t)if(n==="light"||n==="dark")return n}const Lit=e=>{const t=Cit(e==null?void 0:e.strategy),n=bit();let r=e==null?void 0:e.colorScheme;return(a,o)=>{const l=[];if($T(a,"element",(h,f)=>{if(!r&&h.tagName==="meta"&&h.properties.name==="color-scheme"&&(r=Nit(h)),!Rit(h,t))return;const d=f.at(-1);let p=f;if(d.type==="element"&&d.tagName==="pre"){for(const g of d.children)if(g.type==="text"){if(Iit.test(g.value))return}else if(g!==h)return}else p=[...p,h];l.push({diagram:$We(h,{whitespace:"pre"}),ancestors:p})}),!l.length)return;if(t==="pre-mermaid"){for(const{ancestors:h,diagram:f}of l){const d=h.at(-2),p=h.at(-1);d.children[d.children.indexOf(p)]={type:"element",tagName:"pre",properties:{className:["mermaid"]},children:[{type:"text",value:f}]}}return}const u=[n(l.map(h=>h.diagram),{...e,screenshot:t==="img-png"})];return e!=null&&e.dark&&u.push(n(l.map(h=>h.diagram),{...e,screenshot:t==="img-png",mermaidConfig:e.dark===!0?{theme:"dark"}:e.dark,prefix:`${e.prefix||"mermaid"}-dark`})),Promise.all(u).then(([h,f])=>{for(const[d,p]of l.entries()){const g=h[d],m=f==null?void 0:f[d];let y;g.status==="rejected"?y=Lz(g.reason,p,o,e):(m==null?void 0:m.status)==="rejected"?y=Lz(m.reason,p,o,e):t==="inline-svg"?y=PWe(g.value.svg).children[0]:y=Oit(g.value,m==null?void 0:m.value,r);const{ancestors:b}=p,T=b.at(-1),E=b.at(-2),w=E.children.indexOf(T);y?E.children[w]=y:E.children.splice(w,1)}})}};function _it(){return function(e){jd(e,function(t){if(t.type==="containerDirective"||t.type==="leafDirective"||t.type==="textDirective"){const n=t.data||(t.data={}),r=lee(t.name,t.attributes||{});n.hName=r.tagName,n.hProperties=r.properties}})}}var Dit=_ue;function _ue(e){if(typeof e=="string")return Bit(e);if(e==null)return Hit;if(typeof e=="object")return("length"in e?Fit:Pit)(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function Mit(e){for(var t=[],n=e.length,r=-1;++r<n;)t[r]=_ue(e[r]);return t}function Pit(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Fit(e){var t=Mit(e),n=t.length;return r;function r(){for(var a=-1;++a<n;)if(t[a].apply(this,arguments))return!0;return!1}}function Bit(e){return t;function t(n){return!!(n&&n.type===e)}}function Hit(){return!0}var $it=f6,Wit=Dit,Due=!0,Mue="skip",wx=!1;f6.CONTINUE=Due;f6.SKIP=Mue;f6.EXIT=wx;function f6(e,t,n,r){var a;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),a=Wit(t),o(e,null,[]);function o(u,h,f){var d=[],p;return(!t||a(u,h,f[f.length-1]||null))&&(d=_z(n(u,f)),d[0]===wx)?d:u.children&&d[0]!==Mue?(p=_z(l(u.children,f.concat(u))),p[0]===wx?p:d):d}function l(u,h){for(var f=-1,d=r?-1:1,p=(r?u.length:f)+d,g;p>f&&p<u.length;){if(g=o(u[p],p,h),g[0]===wx)return g;p=typeof g[1]=="number"?g[1]:p+d}}}function _z(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[Due,e]:[e]}var Uit=p6,d6=$it,Git=d6.CONTINUE,zit=d6.SKIP,Yit=d6.EXIT;p6.CONTINUE=Git;p6.SKIP=zit;p6.EXIT=Yit;function p6(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),d6(e,t,a,r);function a(o,l){var u=l[l.length-1],h=u?u.children.indexOf(o):null;return n(o,h,u)}}var ID={};Object.defineProperty(ID,"__esModule",{value:!0});function Vit(e){return!!e}ID.validateOptions=Vit;var Dz=Cs&&Cs.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(f){try{h(r.next(f))}catch(d){o(d)}}function u(f){try{h(r.throw(f))}catch(d){o(d)}}function h(f){f.done?a(f.value):new n(function(d){d(f.value)}).then(l,u)}h((r=r.apply(e,t||[])).next())})};const qit=Uit,Pue=ID,Fue=e=>{if(!Pue.validateOptions(e))throw new Error("Invalid options");return(n,r)=>Dz(void 0,void 0,void 0,function*(){let a=[];return qit(n,"code",o=>{const l=typeof e.transform=="function"?e.transform(o):e.transform;a.push(Promise.resolve(l).then(u=>Dz(this,void 0,void 0,function*(){if(u){const h=o.data&&o.data.hChildren||[{type:"text",value:o.value}],f=o.data&&o.data.hProperties||(o.lang?{className:["language-"+o.lang]}:{}),d=o;d.type="code-extra",d.data||(d.data={});const p=u.before?yield Promise.resolve(u.before):[],g=u.after?yield Promise.resolve(u.after):[],m=[...p,{type:"element",tagName:"pre",children:[{type:"element",tagName:"code",properties:f,children:h}]},...g];if(d.data.hName="div",d.data.hProperties={className:["code-extra"]},d.data.hChildren=m,u.transform)return u.transform(d)}})))}),yield Promise.all(a),n})};Fue.validateOptions=Pue.validateOptions;var jit=Fue;const Xit=Go(jit);function Kit(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Zit(e,t,n){const a=pv((n||{}).ignore||[]),o=Qit(t);let l=-1;for(;++l<o.length;)$T(e,"text",u);function u(f,d){let p=-1,g;for(;++p<d.length;){const m=d[p],y=g?g.children:void 0;if(a(m,y?y.indexOf(m):void 0,g))return;g=m}if(g)return h(f,d)}function h(f,d){const p=d[d.length-1],g=o[l][0],m=o[l][1];let y=0;const T=p.children.indexOf(f);let E=!1,w=[];g.lastIndex=0;let x=g.exec(f.value);for(;x;){const S=x.index,A={index:x.index,input:x.input,stack:[...d,f]};let R=m(...x,A);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?g.lastIndex=S+1:(y!==S&&w.push({type:"text",value:f.value.slice(y,S)}),Array.isArray(R)?w.push(...R):R&&w.push(R),y=S+x[0].length,E=!0),!g.global)break;x=g.exec(f.value)}return E?(y<f.value.length&&w.push({type:"text",value:f.value.slice(y)}),p.children.splice(T,1,...w)):w=[f],T+w.length}}function Qit(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Jit(a[0]),eat(a[1])])}return t}function Jit(e){return typeof e=="string"?new RegExp(Kit(e),"g"):e}function eat(e){return typeof e=="function"?e:function(){return e}}const FR="phrasing",BR=["autolink","link","image","label"];function tat(){return{transforms:[lat],enter:{literalAutolink:rat,literalAutolinkEmail:HR,literalAutolinkHttp:HR,literalAutolinkWww:HR},exit:{literalAutolink:oat,literalAutolinkEmail:sat,literalAutolinkHttp:iat,literalAutolinkWww:aat}}}function nat(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:FR,notInConstruct:BR},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:FR,notInConstruct:BR},{character:":",before:"[ps]",after:"\\/",inConstruct:FR,notInConstruct:BR}]}}function rat(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function HR(e){this.config.enter.autolinkProtocol.call(this,e)}function iat(e){this.config.exit.autolinkProtocol.call(this,e)}function aat(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function sat(e){this.config.exit.autolinkEmail.call(this,e)}function oat(e){this.exit(e)}function lat(e){Zit(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cat],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),uat]],{ignore:["link","linkReference"]})}function cat(e,t,n,r,a){let o="";if(!Bue(a)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!hat(n)))return!1;const l=fat(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function uat(e,t,n,r){return!Bue(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function hat(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fat(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=ym(e,"(");let o=ym(e,")");for(;r!==-1&&a>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function Bue(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||qd(n)||iA(n))&&(!t||n!==47)}Hue.peek=Eat;function dat(){this.buffer()}function pat(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function gat(){this.buffer()}function mat(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function vat(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ac(this.sliceSerialize(e)).toLowerCase(),n.label=t}function yat(e){this.exit(e)}function bat(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ac(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Tat(e){this.exit(e)}function Eat(){return"["}function Hue(e,t,n,r){const a=n.createTracker(r);let o=a.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=a.move(n.safe(n.associationId(e),{after:"]",before:o})),u(),l(),o+=a.move("]"),o}function wat(){return{enter:{gfmFootnoteCallString:dat,gfmFootnoteCall:pat,gfmFootnoteDefinitionLabelString:gat,gfmFootnoteDefinition:mat},exit:{gfmFootnoteCallString:vat,gfmFootnoteCall:yat,gfmFootnoteDefinitionLabelString:bat,gfmFootnoteDefinition:Tat}}}function xat(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Hue},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,o,l){const u=o.createTracker(l);let h=u.move("[^");const f=o.enter("footnoteDefinition"),d=o.enter("label");return h+=u.move(o.safe(o.associationId(r),{before:h,after:"]"})),d(),h+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),h+=u.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),t?$ue:Sat))),f(),h}}function Sat(e,t,n){return t===0?e:$ue(e,t,n)}function $ue(e,t,n){return(n?"":"    ")+e}const Aat=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Wue.peek=Oat;function Iat(){return{canContainEols:["delete"],enter:{strikethrough:Rat},exit:{strikethrough:kat}}}function Cat(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Aat}],handlers:{delete:Wue}}}function Rat(e){this.enter({type:"delete",children:[]},e)}function kat(e){this.exit(e)}function Wue(e,t,n,r){const a=n.createTracker(r),o=n.enter("strikethrough");let l=a.move("~~");return l+=n.containerPhrasing(e,{...a.current(),before:l,after:"~"}),l+=a.move("~~"),o(),l}function Oat(){return"~"}function Nat(e){return e.length}function Lat(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||Nat,o=[],l=[],u=[],h=[];let f=0,d=-1;for(;++d<e.length;){const b=[],T=[];let E=-1;for(e[d].length>f&&(f=e[d].length);++E<e[d].length;){const w=_at(e[d][E]);if(n.alignDelimiters!==!1){const x=a(w);T[E]=x,(h[E]===void 0||x>h[E])&&(h[E]=x)}b.push(w)}l[d]=b,u[d]=T}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<f;)o[p]=Mz(r[p]);else{const b=Mz(r);for(;++p<f;)o[p]=b}p=-1;const g=[],m=[];for(;++p<f;){const b=o[p];let T="",E="";b===99?(T=":",E=":"):b===108?T=":":b===114&&(E=":");let w=n.alignDelimiters===!1?1:Math.max(1,h[p]-T.length-E.length);const x=T+"-".repeat(w)+E;n.alignDelimiters!==!1&&(w=T.length+w+E.length,w>h[p]&&(h[p]=w),m[p]=w),g[p]=x}l.splice(1,0,g),u.splice(1,0,m),d=-1;const y=[];for(;++d<l.length;){const b=l[d],T=u[d];p=-1;const E=[];for(;++p<f;){const w=b[p]||"";let x="",S="";if(n.alignDelimiters!==!1){const A=h[p]-(T[p]||0),R=o[p];R===114?x=" ".repeat(A):R===99?A%2?(x=" ".repeat(A/2+.5),S=" ".repeat(A/2-.5)):(x=" ".repeat(A/2),S=x):S=" ".repeat(A)}n.delimiterStart!==!1&&!p&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||p)&&E.push(" "),n.alignDelimiters!==!1&&E.push(x),E.push(w),n.alignDelimiters!==!1&&E.push(S),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||p!==f-1)&&E.push("|")}y.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return y.join(`
`)}function _at(e){return e==null?"":String(e)}function Mz(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Dat(){return{enter:{table:Mat,tableData:Pz,tableHeader:Pz,tableRow:Fat},exit:{codeText:Bat,table:Pat,tableData:$R,tableHeader:$R,tableRow:$R}}}function Mat(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Pat(e){this.exit(e),this.data.inTable=void 0}function Fat(e){this.enter({type:"tableRow",children:[]},e)}function $R(e){this.exit(e)}function Pz(e){this.enter({type:"tableCell",children:[]},e)}function Bat(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Hat));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Hat(e,t){return t==="|"?t:e}function $at(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:l,tableCell:h,tableRow:u}};function l(m,y,b,T){return f(d(m,b,T),m.align)}function u(m,y,b,T){const E=p(m,b,T),w=f([E]);return w.slice(0,w.indexOf(`
`))}function h(m,y,b,T){const E=b.enter("tableCell"),w=b.enter("phrasing"),x=b.containerPhrasing(m,{...T,before:o,after:o});return w(),E(),x}function f(m,y){return Lat(m,{align:y,alignDelimiters:r,padding:n,stringLength:a})}function d(m,y,b){const T=m.children;let E=-1;const w=[],x=y.enter("table");for(;++E<T.length;)w[E]=p(T[E],y,b);return x(),w}function p(m,y,b){const T=m.children;let E=-1;const w=[],x=y.enter("tableRow");for(;++E<T.length;)w[E]=h(T[E],m,y,b);return x(),w}function g(m,y,b){let T=T0.inlineCode(m,y,b);return b.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function Wat(){return{exit:{taskListCheckValueChecked:Fz,taskListCheckValueUnchecked:Fz,paragraph:Gat}}}function Uat(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:zat}}}function Fz(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Gat(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let o=-1,l;for(;++o<a.length;){const u=a[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function zat(e,t,n,r){const a=e.children[0],o=typeof e.checked=="boolean"&&a&&a.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let h=T0.listItem(e,t,n,{...r,...u.current()});return o&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),h;function f(d){return d+l}}function Yat(){return[tat(),wat(),Iat(),Dat(),Wat()]}function Vat(e){return{extensions:[nat(),xat(e),Cat(),$at(e),Uat()]}}const qat={tokenize:Jat,partial:!0},Uue={tokenize:est,partial:!0},Gue={tokenize:tst,partial:!0},zue={tokenize:nst,partial:!0},jat={tokenize:rst,partial:!0},Yue={name:"wwwAutolink",tokenize:Zat,previous:que},Vue={name:"protocolAutolink",tokenize:Qat,previous:jue},jh={name:"emailAutolink",tokenize:Kat,previous:Xue},Cu={};function Xat(){return{text:Cu}}let Kf=48;for(;Kf<123;)Cu[Kf]=jh,Kf++,Kf===58?Kf=65:Kf===91&&(Kf=97);Cu[43]=jh;Cu[45]=jh;Cu[46]=jh;Cu[95]=jh;Cu[72]=[jh,Vue];Cu[104]=[jh,Vue];Cu[87]=[jh,Yue];Cu[119]=[jh,Yue];function Kat(e,t,n){const r=this;let a,o;return l;function l(p){return!g8(p)||!Xue.call(r,r.previous)||CD(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(p))}function u(p){return g8(p)?(e.consume(p),u):p===64?(e.consume(p),h):n(p)}function h(p){return p===46?e.check(jat,d,f)(p):p===45||p===95||wi(p)?(o=!0,e.consume(p),h):d(p)}function f(p){return e.consume(p),a=!0,h}function d(p){return o&&a&&Ni(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function Zat(e,t,n){const r=this;return a;function a(l){return l!==87&&l!==119||!que.call(r,r.previous)||CD(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(qat,e.attempt(Uue,e.attempt(Gue,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function Qat(e,t,n){const r=this;let a="",o=!1;return l;function l(p){return(p===72||p===104)&&jue.call(r,r.previous)&&!CD(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(p),e.consume(p),u):n(p)}function u(p){if(Ni(p)&&a.length<5)return a+=String.fromCodePoint(p),e.consume(p),u;if(p===58){const g=a.toLowerCase();if(g==="http"||g==="https")return e.consume(p),h}return n(p)}function h(p){return p===47?(e.consume(p),o?f:(o=!0,h)):n(p)}function f(p){return p===null||g4(p)||gn(p)||qd(p)||iA(p)?n(p):e.attempt(Uue,e.attempt(Gue,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Jat(e,t,n){let r=0;return a;function a(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),a):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function est(e,t,n){let r,a,o;return l;function l(f){return f===46||f===95?e.check(zue,h,u)(f):f===null||gn(f)||qd(f)||f!==45&&iA(f)?h(f):(o=!0,e.consume(f),l)}function u(f){return f===95?r=!0:(a=r,r=void 0),e.consume(f),l}function h(f){return a||r||!o?n(f):t(f)}}function tst(e,t){let n=0,r=0;return a;function a(l){return l===40?(n++,e.consume(l),a):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(zue,t,o)(l):l===null||gn(l)||qd(l)?t(l):(e.consume(l),a)}function o(l){return l===41&&r++,e.consume(l),a}}function nst(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),o):u===93?(e.consume(u),a):u===60||u===null||gn(u)||qd(u)?t(u):n(u)}function a(u){return u===null||u===40||u===91||gn(u)||qd(u)?t(u):r(u)}function o(u){return Ni(u)?l(u):n(u)}function l(u){return u===59?(e.consume(u),r):Ni(u)?(e.consume(u),l):n(u)}}function rst(e,t,n){return r;function r(o){return e.consume(o),a}function a(o){return wi(o)?n(o):t(o)}}function que(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||gn(e)}function jue(e){return!Ni(e)}function Xue(e){return!(e===47||g8(e))}function g8(e){return e===43||e===45||e===46||e===95||wi(e)}function CD(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ist={tokenize:fst,partial:!0};function ast(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cst,continuation:{tokenize:ust},exit:hst}},text:{91:{name:"gfmFootnoteCall",tokenize:lst},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sst,resolveTo:ost}}}}function sst(e,t,n){const r=this;let a=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;a--;){const h=r.events[a][1];if(h.type==="labelImage"){l=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return u;function u(h){if(!l||!l._balanced)return n(h);const f=ac(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function ost(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function lst(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),h}function h(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(p){if(o>999||p===93&&!l||p===null||p===91||gn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return a.includes(ac(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return gn(p)||(l=!0),o++,e.consume(p),p===92?d:f}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function cst(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return h;function h(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(y)}function d(y){if(l>999||y===93&&!u||y===null||y===91||gn(y))return n(y);if(y===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return o=ac(r.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return gn(y)||(u=!0),l++,e.consume(y),y===92?p:d}function p(y){return y===91||y===92||y===93?(e.consume(y),l++,d):d(y)}function g(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),a.includes(o)||a.push(o),Bt(e,m,"gfmFootnoteDefinitionWhitespace")):n(y)}function m(y){return t(y)}}function ust(e,t,n){return e.check(HT,t,e.attempt(ist,t,n))}function hst(e){e.exit("gfmFootnoteDefinition")}function fst(e,t,n){const r=this;return Bt(e,a,"gfmFootnoteDefinitionIndent",5);function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function dst(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(l,u){let h=-1;for(;++h<l.length;)if(l[h][0]==="enter"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._close){let f=h;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[h][1].end.offset-l[h][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[h][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[h][1].end)},p={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[h][1].start)},g=[["enter",d,u],["enter",l[f][1],u],["exit",l[f][1],u],["enter",p,u]],m=u.parser.constructs.insideSpan.null;m&&Po(g,g.length,0,aA(m,l.slice(f+1,h),u)),Po(g,g.length,0,[["exit",p,u],["enter",l[h][1],u],["exit",l[h][1],u],["exit",d,u]]),Po(l,f-1,h-f+3,g),h=f+g.length-2;break}}for(h=-1;++h<l.length;)l[h][1].type==="strikethroughSequenceTemporary"&&(l[h][1].type="data");return l}function o(l,u,h){const f=this.previous,d=this.events;let p=0;return g;function g(y){return f===126&&d[d.length-1][1].type!=="characterEscape"?h(y):(l.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const b=bm(f);if(y===126)return p>1?h(y):(l.consume(y),p++,m);if(p<2&&!n)return h(y);const T=l.exit("strikethroughSequenceTemporary"),E=bm(y);return T._open=!E||E===2&&!!b,T._close=!b||b===2&&!!E,u(y)}}}class pst{constructor(){this.map=[]}add(t,n,r){gst(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const o of a)t.push(o);a=r.pop()}this.map.length=0}}function gst(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function mst(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function vst(){return{flow:{null:{name:"table",tokenize:yst,resolveAll:bst}}}}function yst(e,t,n){const r=this;let a=0,o=0,l;return u;function u(L){let k=r.events.length-1;for(;k>-1;){const _=r.events[k][1].type;if(_==="lineEnding"||_==="linePrefix")k--;else break}const M=k>-1?r.events[k][1].type:null,$=M==="tableHead"||M==="tableRow"?R:h;return $===R&&r.parser.lazy[r.now().line]?n(L):$(L)}function h(L){return e.enter("tableHead"),e.enter("tableRow"),f(L)}function f(L){return L===124||(l=!0,o+=1),d(L)}function d(L){return L===null?n(L):bt(L)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),m):n(L):Kt(L)?Bt(e,d,"whitespace")(L):(o+=1,l&&(l=!1,a+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),l=!0,d):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||gn(L)?(e.exit("data"),d(L)):(e.consume(L),L===92?g:p)}function g(L){return L===92||L===124?(e.consume(L),p):p(L)}function m(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),l=!1,Kt(L)?Bt(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):y(L))}function y(L){return L===45||L===58?T(L):L===124?(l=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),b):A(L)}function b(L){return Kt(L)?Bt(e,T,"whitespace")(L):T(L)}function T(L){return L===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),E):L===45?(o+=1,E(L)):L===null||bt(L)?S(L):A(L)}function E(L){return L===45?(e.enter("tableDelimiterFiller"),w(L)):A(L)}function w(L){return L===45?(e.consume(L),w):L===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(L))}function x(L){return Kt(L)?Bt(e,S,"whitespace")(L):S(L)}function S(L){return L===124?y(L):L===null||bt(L)?!l||a!==o?A(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):A(L)}function A(L){return n(L)}function R(L){return e.enter("tableRow"),C(L)}function C(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),C):L===null||bt(L)?(e.exit("tableRow"),t(L)):Kt(L)?Bt(e,C,"whitespace")(L):(e.enter("data"),N(L))}function N(L){return L===null||L===124||gn(L)?(e.exit("data"),C(L)):(e.consume(L),L===92?O:N)}function O(L){return L===92||L===124?(e.consume(L),N):N(L)}}function bst(e,t){let n=-1,r=!0,a=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,h=0,f,d,p;const g=new pst;for(;++n<e.length;){const m=e[n],y=m[1];m[0]==="enter"?y.type==="tableHead"?(u=!1,h!==0&&(Bz(g,t,h,f,d),d=void 0,h=0),f={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(n,0,[["enter",f,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,p=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},g.add(n,0,[["enter",d,t]])),a=y.type==="tableDelimiterRow"?2:d?3:1):a&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],p=i3(g,t,o,a,void 0,p),o=[0,0,0,0]),l[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],p=i3(g,t,o,a,void 0,p)),o=l,l=[o[1],n,0,0])):y.type==="tableHead"?(u=!0,h=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(h=n,o[1]!==0?(l[0]=l[1],p=i3(g,t,o,a,n,p)):l[1]!==0&&(p=i3(g,t,l,a,n,p)),a=0):a&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(l[3]=n)}for(h!==0&&Bz(g,t,h,f,d),g.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=mst(t.events,n))}return e}function i3(e,t,n,r,a,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},Og(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const h=Og(t.events,n[1]);if(o={type:l,start:Object.assign({},h),end:Object.assign({},h)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=Og(t.events,n[2]),d=Og(t.events,n[3]),p={type:u,start:Object.assign({},f),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const g=t.events[n[2]],m=t.events[n[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,b=n[3]-n[2]-1;e.add(y,b,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return a!==void 0&&(o.end=Object.assign({},Og(t.events,a)),e.add(a,0,[["exit",o,t]]),o=void 0),o}function Bz(e,t,n,r,a){const o=[],l=Og(t.events,n);a&&(a.end=Object.assign({},l),o.push(["exit",a,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function Og(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Tst={name:"tasklistCheck",tokenize:wst};function Est(){return{text:{91:Tst}}}function wst(e,t,n){const r=this;return a;function a(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),o)}function o(h){return gn(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),l):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),l):n(h)}function l(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(h)}function u(h){return bt(h)?t(h):Kt(h)?e.check({tokenize:xst},t,n)(h):n(h)}}function xst(e,t,n){return Bt(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Sst(e){return BJ([Xat(),ast(),dst(e),vst(),Est()])}const Ast={};function Ist(e){const t=this,n=e||Ast,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Sst(n)),o.push(Yat()),l.push(Vat(n))}const Cst=["value"],Rst={key:0},kst={role:"group"},Ost=["disabled"],Nst={key:1},Lst={key:2},_st=["readonly"],Dst=["src"],Mst=Tu({__name:"ChapterView",props:Z2e({name:String},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=new Yd("epub-editor"),n=e,r=hn("working"),a=hn(""),o=hn(""),l=hn(0),u=hn(["working"]),h=hn(r.value),f=x4e("auto_save",!0);let d;d4e(f,()=>{console.log("changed!"),p()},{throttle:500});function p(){f.value?d=f4e(w,()=>{L()},{debounce:2e3}):d&&d()}async function g(){var k;if(r.value!=""){a.value=r.value=="working"?"":r.value;const M=await navigator.storage.getDirectory(),$=(k=n.name)==null?void 0:k.replaceAll("/","_"),_=await M.getDirectoryHandle(`${$}-versions`,{create:!1});if(_){if(console.log("loading version",r.value),h.value=="working"){const D=await(await _.getFileHandle(r.value,{create:!0})).createWritable();await D.write(w.value||""),await D.close(),h.value=r.value}const F=await _.getFileHandle(r.value,{create:!1});F&&(w.value=await(await F.getFile()).text())}}}function m(k){console.log(k)}async function y(){var B;const k=await navigator.storage.getDirectory(),M=(B=n.name)==null?void 0:B.replaceAll("/","_"),F=await(await(await k.getDirectoryHandle(`${M}-versions`,{create:!0})).getFileHandle(a.value,{create:!0})).createWritable();await F.write(w.value||""),await F.close(),T(M),a.value=""}async function b(){var _;const k=await navigator.storage.getDirectory(),M=(_=n.name)==null?void 0:_.replaceAll("/","_");let $;try{$=await k.getDirectoryHandle(`${M}-versions`,{create:!1})}catch(F){console.log(F)}$&&await $.removeEntry(a.value),T(M),r.value="working",a.value=""}async function T(k){const M=await navigator.storage.getDirectory();let $;const _=`${k}-versions`;try{$=await M.getDirectoryHandle(_,{create:!1})}catch(F){console.log(F,_)}if(u.value.length=0,$)for await(const[F,B]of $.entries())console.log(F,B),u.value.push(F);else console.log("no directoryHandle for ",k)}async function E(k){const M=await navigator.storage.getDirectory();let $;const _=`${k}-versions`;try{$=await M.getDirectoryHandle(_,{create:!1})}catch(F){console.log(F,_)}if($)for await(const[F,B]of $.entries())console.log(F,B),$.removeEntry(F);else console.log("no directoryHandle for ",k)}const w=hn(""),x=hn(),S=TZ(e,"modelValue");S.value={source_filename:"",fixed_layout:!1},ic(n,async k=>{k.name&&(w.value=await R(k.name),r.value="working",g(),T(k.name.replaceAll("/","_")))});function A(k){return k.split(".").pop()}async function R(k){const M=A(k);if(console.log(k,M),k&&M&&["mimetype","xml","opf","xhtml","html","ncx","css","js","md","smil","svg"].includes(M)){const $=await t.promises.readFile(k);if(console.log($),o.value="",M=="md")try{const _=dh();let F=(await t.promises.readFile(k.replace(".md",".xhtml"))).toString();const D=new DOMParser().parseFromString(F,"text/xml");[{tag:"script",attr:"src"},{tag:"link",attr:"href"},{tag:"a",attr:"href"},{tag:"audio",attr:"src"},{tag:"video",attr:"src"},{tag:"video",attr:"poster"},{tag:"img",attr:"src"},{tag:"button.clip",attr:"data-src"},{tag:"span.clip",attr:"data-src"}].forEach(H=>{Array.from(D.querySelectorAll(H.tag)).forEach(W=>{console.log(W,H.attr);const U=_.findItemByHref(W.getAttribute(H.attr)),V=U==null?void 0:U.getContentUrl();W.setAttribute(H.attr,V)})}),F=new XMLSerializer().serializeToString(D),x.value=URL.createObjectURL(new Blob([F],{type:"application/xhtml+xml"}))}catch(_){throw console.log(`no xhtml for manifest markdown item: ${k}`),_}else x.value=void 0;return typeof $=="string"?$:new TextDecoder().decode($)}if(k&&M&&["jpg","jpeg","png"].includes(M.toLowerCase())){const $=await t.promises.readFile(k);o.value=URL.createObjectURL(new Blob([$])),x.value=void 0}k&&M&&["xhtml"].includes(M.toLowerCase())&&(x.value=void 0,o.value="")}U0(async()=>{w.value=await R(n.name),p()});function C(){const k=document.getElementById("preview").contentWindow;k&&(k.focus(),k.print())}async function N(){var k;if(n.name&&confirm(`Delete "${n.name}"?`)){const M=r_(),$=n.name.split("/");console.log($);const _=$.length>1?M.manifest.findItemByHref($[2]):void 0;console.log(_.href),M.manifest.removeItem(_.id),await t.promises.writeFile("/EPUB/content.opf",a1()),await t.promises.unlink(n.name);const F=(k=n.name)==null?void 0:k.replaceAll("/","_");await E(F)}}async function O(k){k.key==="s"&&(k.ctrlKey||k.metaKey)&&(k.preventDefault(),await L())}async function L(){var M,$;const k=FT();if(n.name&&w.value){t.promises.writeFile(n.name,w.value).then(D=>{typeof D=="string"&&(w.value=D)});const _=dh();let F;const B=(M=n.name)==null?void 0:M.match(/\/.*\/(.*)\.md/);if(Lue.initialize({securityLevel:"loose",theme:"base",htmlLabels:!1}),B){const D=_.getItem(B[1]),P=await D9e().use(T6e).use(HFe).use(Ist).use(xDe).use(IWe).use(B9e).use(m9e).use(_it).use(Xit,{transform:re=>re.lang=="neumes"?{transform:le=>{le.data.hChildren=[{type:"element",tagName:"table",properties:{class:le.lang},children:[{type:"element",tagName:"tbody",children:[...le.value.split(`
`).map((Y,K)=>({type:"element",tagName:"tr",children:[{type:"element",tagName:"td",children:[{type:"element",tagName:"pre",properties:{className:"neumes-"+(K%2==0?"arrows":"text")},children:[{type:"text",value:Y}]}]}]}))]}]}]}}:null}).use(pIe).use(Lit,{strategy:"inline-svg"}).use(KDe).use(y5e,{collapseEmptyAttributes:!1,closeEmptyElements:!0,closeSelfClosing:!0,voids:["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","input","keygen","link","meta","param","source","track","wbr"]}).use(iBe).use(zFe).process(w.value);let H=P.value.toString();const W=P.data.matter&&P.data.matter.hasOwnProperty("title")?P.data.matter.title:k.title;let U;if("matter"in P.data&&P.data.matter&&typeof P.data.matter=="object"&&("script"in P.data.matter&&(Object.prototype.toString.call(P.data.matter.script)=="[object Array]"?(U="",P.data.matter.script.forEach(re=>{U+=`<script src="${re}" type="text/javascript"><\/script>`})):typeof P.data.matter.script=="string"&&(U=`<script src="${P.data.matter.script}" type="text/javascript"><\/script>`)),"fixed-layout"in P.data.matter&&D)){F="rendition:layout-pre-paginated rendition:orientation-portrait rendition:spread-none";const re=rA();re.getItem(D.id).properties=F}U&&D&&(D.properties="scripted"),new DOMParser().parseFromString(H,"text/html").querySelectorAll("svg").length>0&&D&&(D.properties+=" svg"),H=H.replaceAll("controls>",'controls="controls">').replaceAll(new RegExp("<pre>(.*)</pre>","g"),"<div>$1</div>");const ee=`/EPUB/${B[1]}.xhtml`;await t.promises.writeFile(ee,`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE xhtml5>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/" xml:lang="${k.lang}">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>${W}</title>
  <link href="blitz.css" rel="stylesheet" />
  <link href="page.css" rel="stylesheet" />
  ${U||""}
  </head>
<body>
  <div class="print-header">Print Header 2024</div>
  ${H}
</body>
</html>`),R(n.name);const ce=document.getElementById("preview"),Q=ce.contentWindow;if(Q){const re=Q.scrollX,le=Q.scrollY;ce.onload=function(){Q.scrollTo(re,le)},Q.location.reload()}}else{const D=($=n.name)==null?void 0:$.match(/\/.*\/(.*\.*)$/),H=dh().findItemByHref(D[1]);H&&H.setContent(w.value)}}await t.promises.writeFile("/EPUB/content.opf",a1())}return(k,M)=>(br(),Jr("container",null,[Qe("content-footer",null,[yi(MWe,{duration:l.value,onTime:m},null,8,["duration"]),Qe("nav",null,[Qe("ul",null,[Qe("li",null,[Hi(Qe("select",{name:"",id:"","onUpdate:modelValue":M[0]||(M[0]=$=>r.value=$),onChange:g},[M[4]||(M[4]=Qe("option",{disabled:"",value:""},"Version",-1)),(br(!0),Jr(xa,null,e4(u.value,$=>(br(),Jr("option",{value:$,key:$},No($),9,Cst))),128))],544),[[NZ,r.value]])]),r.value=="working"?(br(),Jr("li",Rst,[Qe("fieldset",kst,[Hi(Qe("input",{type:"text","onUpdate:modelValue":M[1]||(M[1]=$=>a.value=$),placeholder:"version description"},null,512),[[Ts,a.value]]),Qe("button",{disabled:a.value&&a.value!=""?void 0:!0,onClick:y}," Commit ",8,Ost)])])):O2("",!0),r.value=="working"?(br(),Jr("li",Nst)):(br(),Jr("li",Lst,[M[5]||(M[5]=Qe("button",null,"Compare",-1)),M[6]||(M[6]=Qr("  ")),Qe("button",{class:"secondary",onClick:b}," ⊗ ")]))]),Qe("ul",null,[Qe("li",null,No(e.name),1),Qe("li",null,[x.value?(br(),Jr("button",{key:0,onClick:C},"Print")):O2("",!0)]),Qe("li",null,[Qe("button",{onClick:N},"Delete")]),Qe("li",null,[Qe("button",{onClick:L},"Save")]),Qe("li",null,[Hi(Qe("input",{type:"checkbox",id:"auto_save","onUpdate:modelValue":M[2]||(M[2]=$=>qr(f)?f.value=$:null)},null,512),[[OZ,Vn(f)]]),M[7]||(M[7]=Qe("label",{for:"auto_save"},"Auto save",-1))])])])]),Qe("content",null,[Hi(Qe("textarea",{name:"editor",id:"editor","onUpdate:modelValue":M[3]||(M[3]=$=>w.value=$),spellcheck:"false",onKeydown:O,readonly:r.value!="working",style:$5(`background-image: url(${o.value}); background-size: contain;`)},null,44,_st),[[Ts,w.value]]),x.value?(br(),Jr("iframe",{key:0,id:"preview",name:"preview",src:x.value},null,8,Dst)):O2("",!0)])]))}}),Pst=hv(Mst,[["__scopeId","data-v-8634a1ba"]]),Hz=Object.freeze(Object.defineProperty({__proto__:null,default:Pst},Symbol.toStringTag,{value:"Module"})),Fst=Tu({__name:"ContentOpf",setup(e){const t=new Yd("epub-editor"),n=hn("");return t.promises.readFile("/EPUB/content.opf").then(r=>{n.value=""+r}),(r,a)=>(br(),Jr("container",null,[a[1]||(a[1]=Qe("content-footer",null,null,-1)),Hi(Qe("textarea",{name:"editor",id:"editor","onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o),spellcheck:"false"},null,512),[[Ts,n.value]])]))}}),Bst=hv(Fst,[["__scopeId","data-v-c65af1a4"]]),Hst=Object.freeze(Object.defineProperty({__proto__:null,default:Bst},Symbol.toStringTag,{value:"Module"}));class ko{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new ko(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class bl{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new bl(n,ko.range(this,t))}}class ht{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,a,o,l=n&&n.loc;if(l&&l.start<=l.end){var u=l.lexer.input;a=l.start,o=l.end,a===u.length?r+=" at end of input: ":r+=" at position "+(a+1)+": ";var h=u.slice(a,o).replace(/[^]/g,"$&̲"),f;a>15?f="…"+u.slice(a-15,a):f=u.slice(0,a);var d;o+15<u.length?d=u.slice(o,o+15)+"…":d=u.slice(o),r+=f+h+d}var p=new Error(r);return p.name="ParseError",p.__proto__=ht.prototype,p.position=a,a!=null&&o!=null&&(p.length=o-a),p.rawMessage=t,p}}ht.prototype.__proto__=Error.prototype;var $st=function(t,n){return t.indexOf(n)!==-1},Wst=function(t,n){return t===void 0?n:t},Ust=/([A-Z])/g,Gst=function(t){return t.replace(Ust,"-$1").toLowerCase()},zst={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Yst=/[&><"']/g;function Vst(e){return String(e).replace(Yst,t=>zst[t])}var Kue=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},qst=function(t){var n=Kue(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},jst=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},Xst=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},jt={contains:$st,deflt:Wst,escape:Vst,hyphenate:Gst,getBaseElem:Kue,isCharacterBox:qst,protocolFromUrl:Xst},Q2={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function Kst(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class RD{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Q2)if(Q2.hasOwnProperty(n)){var r=Q2[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:Kst(r)}}reportNonstrict(t,n,r){var a=this.strict;if(typeof a=="function"&&(a=a(t,n,r)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ht("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var a=this.strict;if(typeof a=="function")try{a=a(t,n,r)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=jt.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}let o0=class{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Yc[Zst[this.id]]}sub(){return Yc[Qst[this.id]]}fracNum(){return Yc[Jst[this.id]]}fracDen(){return Yc[eot[this.id]]}cramp(){return Yc[tot[this.id]]}text(){return Yc[not[this.id]]}isTight(){return this.size>=2}};var kD=0,ES=1,b1=2,vh=3,Kb=4,dl=5,Wm=6,Is=7,Yc=[new o0(kD,0,!1),new o0(ES,0,!0),new o0(b1,1,!1),new o0(vh,1,!0),new o0(Kb,2,!1),new o0(dl,2,!0),new o0(Wm,3,!1),new o0(Is,3,!0)],Zst=[Kb,dl,Kb,dl,Wm,Is,Wm,Is],Qst=[dl,dl,dl,dl,Is,Is,Is,Is],Jst=[b1,vh,Kb,dl,Wm,Is,Wm,Is],eot=[vh,vh,dl,dl,Is,Is,Is,Is],tot=[ES,ES,vh,vh,dl,dl,Is,Is],not=[kD,ES,b1,vh,b1,vh,b1,vh],Jt={DISPLAY:Yc[kD],TEXT:Yc[b1],SCRIPT:Yc[Kb],SCRIPTSCRIPT:Yc[Wm]},m8=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function rot(e){for(var t=0;t<m8.length;t++)for(var n=m8[t],r=0;r<n.blocks.length;r++){var a=n.blocks[r];if(e>=a[0]&&e<=a[1])return n.name}return null}var xx=[];m8.forEach(e=>e.blocks.forEach(t=>xx.push(...t)));function Zue(e){for(var t=0;t<xx.length;t+=2)if(e>=xx[t]&&e<=xx[t+1])return!0;return!1}var mg=80,iot=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},aot=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sot=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},oot=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},lot=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},cot=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},uot=function(t,n,r){var a=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},hot=function(t,n,r){n=1e3*n;var a="";switch(t){case"sqrtMain":a=iot(n,mg);break;case"sqrtSize1":a=aot(n,mg);break;case"sqrtSize2":a=sot(n,mg);break;case"sqrtSize3":a=oot(n,mg);break;case"sqrtSize4":a=lot(n,mg);break;case"sqrtTall":a=uot(n,mg,r)}return a},fot=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},$z={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},dot=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class yE{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return jt.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var Zc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},a3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Wz={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Que(e,t){Zc[e]=t}function OD(e,t,n){if(!Zc[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),a=Zc[t][r];if(!a&&e[0]in Wz&&(r=Wz[e[0]].charCodeAt(0),a=Zc[t][r]),!a&&n==="text"&&Zue(r)&&(a=Zc[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var WR={};function pot(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!WR[t]){var n=WR[t]={cssEmPerMu:a3.quad[t]/18};for(var r in a3)a3.hasOwnProperty(r)&&(n[r]=a3[r][t])}return WR[t]}var got=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Uz=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Gz=function(t,n){return n.size<2?t:got[t-1][n.size-1]};class Ku{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ku.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Uz[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Ku(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:Gz(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Uz[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=Gz(Ku.BASESIZE,t);return this.size===n&&this.textSize===Ku.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ku.BASESIZE?["sizing","reset-size"+this.size,"size"+Ku.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=pot(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ku.BASESIZE=6;var v8={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},mot={ex:!0,em:!0,mu:!0},Jue=function(t){return typeof t!="string"&&(t=t.unit),t in v8||t in mot||t==="ex"},Gr=function(t,n){var r;if(t.unit in v8)r=v8[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var a;if(n.style.isTight()?a=n.havingStyle(n.style.text()):a=n,t.unit==="ex")r=a.fontMetrics().xHeight;else if(t.unit==="em")r=a.fontMetrics().quad;else throw new ht("Invalid unit: '"+t.unit+"'");a!==n&&(r*=a.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},vt=function(t){return+t.toFixed(4)+"em"},ef=function(t){return t.filter(n=>n).join(" ")},ehe=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var a=n.getColor();a&&(this.style.color=a)}},the=function(t){var n=document.createElement(t);n.className=ef(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&n.setAttribute(a,this.attributes[a]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},vot=/[\s"'>/=\x00-\x1f]/,nhe=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+jt.escape(ef(this.classes))+'"');var r="";for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=jt.hyphenate(a)+":"+this.style[a]+";");r&&(n+=' style="'+jt.escape(r)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(vot.test(o))throw new ht("Invalid attribute name '"+o+"'");n+=" "+o+'="'+jt.escape(this.attributes[o])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+t+">",n};class bE{constructor(t,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ehe.call(this,t,r,a),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return jt.contains(this.classes,t)}toNode(){return the.call(this,"span")}toMarkup(){return nhe.call(this,"span")}}class ND{constructor(t,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ehe.call(this,n,a),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return jt.contains(this.classes,t)}toNode(){return the.call(this,"a")}toMarkup(){return nhe.call(this,"a")}}class yot{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return jt.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+jt.escape(this.src)+'"'+(' alt="'+jt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=jt.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+jt.escape(n)+'"'),t+="'/>",t}}var bot={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Cl{constructor(t,n,r,a,o,l,u,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=a||0,this.skew=o||0,this.width=l||0,this.classes=u||[],this.style=h||{},this.maxFontSize=0;var f=rot(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=bot[this.text])}hasClass(t){return jt.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=vt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ef(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=jt.escape(ef(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=jt.hyphenate(a)+":"+this.style[a]+";");r&&(t=!0,n+=' style="'+jt.escape(r)+'"');var o=jt.escape(this.text);return t?(n+=">",n+=o,n+="</span>",n):o}}class Ch{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+jt.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class tf{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",$z[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+jt.escape(this.alternate)+'"/>':'<path d="'+jt.escape($z[this.pathName])+'"/>'}}class y8{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+jt.escape(this.attributes[n])+'"');return t+="/>",t}}function zz(e){if(e instanceof Cl)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Tot(e){if(e instanceof bE)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var Eot={bin:1,close:1,inner:1,open:1,punct:1,rel:1},wot={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Er={math:{},text:{}};function q(e,t,n,r,a,o){Er[e][a]={font:t,group:n,replace:r},o&&r&&(Er[e][r]=Er[e][a])}var J="math",rt="text",pe="main",_e="ams",Hr="accent-token",kt="bin",Ms="close",Pv="inner",Qt="mathord",Mi="op-token",Yo="open",g6="punct",Me="rel",Xh="spacing",He="textord";q(J,pe,Me,"≡","\\equiv",!0);q(J,pe,Me,"≺","\\prec",!0);q(J,pe,Me,"≻","\\succ",!0);q(J,pe,Me,"∼","\\sim",!0);q(J,pe,Me,"⊥","\\perp");q(J,pe,Me,"⪯","\\preceq",!0);q(J,pe,Me,"⪰","\\succeq",!0);q(J,pe,Me,"≃","\\simeq",!0);q(J,pe,Me,"∣","\\mid",!0);q(J,pe,Me,"≪","\\ll",!0);q(J,pe,Me,"≫","\\gg",!0);q(J,pe,Me,"≍","\\asymp",!0);q(J,pe,Me,"∥","\\parallel");q(J,pe,Me,"⋈","\\bowtie",!0);q(J,pe,Me,"⌣","\\smile",!0);q(J,pe,Me,"⊑","\\sqsubseteq",!0);q(J,pe,Me,"⊒","\\sqsupseteq",!0);q(J,pe,Me,"≐","\\doteq",!0);q(J,pe,Me,"⌢","\\frown",!0);q(J,pe,Me,"∋","\\ni",!0);q(J,pe,Me,"∝","\\propto",!0);q(J,pe,Me,"⊢","\\vdash",!0);q(J,pe,Me,"⊣","\\dashv",!0);q(J,pe,Me,"∋","\\owns");q(J,pe,g6,".","\\ldotp");q(J,pe,g6,"⋅","\\cdotp");q(J,pe,He,"#","\\#");q(rt,pe,He,"#","\\#");q(J,pe,He,"&","\\&");q(rt,pe,He,"&","\\&");q(J,pe,He,"ℵ","\\aleph",!0);q(J,pe,He,"∀","\\forall",!0);q(J,pe,He,"ℏ","\\hbar",!0);q(J,pe,He,"∃","\\exists",!0);q(J,pe,He,"∇","\\nabla",!0);q(J,pe,He,"♭","\\flat",!0);q(J,pe,He,"ℓ","\\ell",!0);q(J,pe,He,"♮","\\natural",!0);q(J,pe,He,"♣","\\clubsuit",!0);q(J,pe,He,"℘","\\wp",!0);q(J,pe,He,"♯","\\sharp",!0);q(J,pe,He,"♢","\\diamondsuit",!0);q(J,pe,He,"ℜ","\\Re",!0);q(J,pe,He,"♡","\\heartsuit",!0);q(J,pe,He,"ℑ","\\Im",!0);q(J,pe,He,"♠","\\spadesuit",!0);q(J,pe,He,"§","\\S",!0);q(rt,pe,He,"§","\\S");q(J,pe,He,"¶","\\P",!0);q(rt,pe,He,"¶","\\P");q(J,pe,He,"†","\\dag");q(rt,pe,He,"†","\\dag");q(rt,pe,He,"†","\\textdagger");q(J,pe,He,"‡","\\ddag");q(rt,pe,He,"‡","\\ddag");q(rt,pe,He,"‡","\\textdaggerdbl");q(J,pe,Ms,"⎱","\\rmoustache",!0);q(J,pe,Yo,"⎰","\\lmoustache",!0);q(J,pe,Ms,"⟯","\\rgroup",!0);q(J,pe,Yo,"⟮","\\lgroup",!0);q(J,pe,kt,"∓","\\mp",!0);q(J,pe,kt,"⊖","\\ominus",!0);q(J,pe,kt,"⊎","\\uplus",!0);q(J,pe,kt,"⊓","\\sqcap",!0);q(J,pe,kt,"∗","\\ast");q(J,pe,kt,"⊔","\\sqcup",!0);q(J,pe,kt,"◯","\\bigcirc",!0);q(J,pe,kt,"∙","\\bullet",!0);q(J,pe,kt,"‡","\\ddagger");q(J,pe,kt,"≀","\\wr",!0);q(J,pe,kt,"⨿","\\amalg");q(J,pe,kt,"&","\\And");q(J,pe,Me,"⟵","\\longleftarrow",!0);q(J,pe,Me,"⇐","\\Leftarrow",!0);q(J,pe,Me,"⟸","\\Longleftarrow",!0);q(J,pe,Me,"⟶","\\longrightarrow",!0);q(J,pe,Me,"⇒","\\Rightarrow",!0);q(J,pe,Me,"⟹","\\Longrightarrow",!0);q(J,pe,Me,"↔","\\leftrightarrow",!0);q(J,pe,Me,"⟷","\\longleftrightarrow",!0);q(J,pe,Me,"⇔","\\Leftrightarrow",!0);q(J,pe,Me,"⟺","\\Longleftrightarrow",!0);q(J,pe,Me,"↦","\\mapsto",!0);q(J,pe,Me,"⟼","\\longmapsto",!0);q(J,pe,Me,"↗","\\nearrow",!0);q(J,pe,Me,"↩","\\hookleftarrow",!0);q(J,pe,Me,"↪","\\hookrightarrow",!0);q(J,pe,Me,"↘","\\searrow",!0);q(J,pe,Me,"↼","\\leftharpoonup",!0);q(J,pe,Me,"⇀","\\rightharpoonup",!0);q(J,pe,Me,"↙","\\swarrow",!0);q(J,pe,Me,"↽","\\leftharpoondown",!0);q(J,pe,Me,"⇁","\\rightharpoondown",!0);q(J,pe,Me,"↖","\\nwarrow",!0);q(J,pe,Me,"⇌","\\rightleftharpoons",!0);q(J,_e,Me,"≮","\\nless",!0);q(J,_e,Me,"","\\@nleqslant");q(J,_e,Me,"","\\@nleqq");q(J,_e,Me,"⪇","\\lneq",!0);q(J,_e,Me,"≨","\\lneqq",!0);q(J,_e,Me,"","\\@lvertneqq");q(J,_e,Me,"⋦","\\lnsim",!0);q(J,_e,Me,"⪉","\\lnapprox",!0);q(J,_e,Me,"⊀","\\nprec",!0);q(J,_e,Me,"⋠","\\npreceq",!0);q(J,_e,Me,"⋨","\\precnsim",!0);q(J,_e,Me,"⪹","\\precnapprox",!0);q(J,_e,Me,"≁","\\nsim",!0);q(J,_e,Me,"","\\@nshortmid");q(J,_e,Me,"∤","\\nmid",!0);q(J,_e,Me,"⊬","\\nvdash",!0);q(J,_e,Me,"⊭","\\nvDash",!0);q(J,_e,Me,"⋪","\\ntriangleleft");q(J,_e,Me,"⋬","\\ntrianglelefteq",!0);q(J,_e,Me,"⊊","\\subsetneq",!0);q(J,_e,Me,"","\\@varsubsetneq");q(J,_e,Me,"⫋","\\subsetneqq",!0);q(J,_e,Me,"","\\@varsubsetneqq");q(J,_e,Me,"≯","\\ngtr",!0);q(J,_e,Me,"","\\@ngeqslant");q(J,_e,Me,"","\\@ngeqq");q(J,_e,Me,"⪈","\\gneq",!0);q(J,_e,Me,"≩","\\gneqq",!0);q(J,_e,Me,"","\\@gvertneqq");q(J,_e,Me,"⋧","\\gnsim",!0);q(J,_e,Me,"⪊","\\gnapprox",!0);q(J,_e,Me,"⊁","\\nsucc",!0);q(J,_e,Me,"⋡","\\nsucceq",!0);q(J,_e,Me,"⋩","\\succnsim",!0);q(J,_e,Me,"⪺","\\succnapprox",!0);q(J,_e,Me,"≆","\\ncong",!0);q(J,_e,Me,"","\\@nshortparallel");q(J,_e,Me,"∦","\\nparallel",!0);q(J,_e,Me,"⊯","\\nVDash",!0);q(J,_e,Me,"⋫","\\ntriangleright");q(J,_e,Me,"⋭","\\ntrianglerighteq",!0);q(J,_e,Me,"","\\@nsupseteqq");q(J,_e,Me,"⊋","\\supsetneq",!0);q(J,_e,Me,"","\\@varsupsetneq");q(J,_e,Me,"⫌","\\supsetneqq",!0);q(J,_e,Me,"","\\@varsupsetneqq");q(J,_e,Me,"⊮","\\nVdash",!0);q(J,_e,Me,"⪵","\\precneqq",!0);q(J,_e,Me,"⪶","\\succneqq",!0);q(J,_e,Me,"","\\@nsubseteqq");q(J,_e,kt,"⊴","\\unlhd");q(J,_e,kt,"⊵","\\unrhd");q(J,_e,Me,"↚","\\nleftarrow",!0);q(J,_e,Me,"↛","\\nrightarrow",!0);q(J,_e,Me,"⇍","\\nLeftarrow",!0);q(J,_e,Me,"⇏","\\nRightarrow",!0);q(J,_e,Me,"↮","\\nleftrightarrow",!0);q(J,_e,Me,"⇎","\\nLeftrightarrow",!0);q(J,_e,Me,"△","\\vartriangle");q(J,_e,He,"ℏ","\\hslash");q(J,_e,He,"▽","\\triangledown");q(J,_e,He,"◊","\\lozenge");q(J,_e,He,"Ⓢ","\\circledS");q(J,_e,He,"®","\\circledR");q(rt,_e,He,"®","\\circledR");q(J,_e,He,"∡","\\measuredangle",!0);q(J,_e,He,"∄","\\nexists");q(J,_e,He,"℧","\\mho");q(J,_e,He,"Ⅎ","\\Finv",!0);q(J,_e,He,"⅁","\\Game",!0);q(J,_e,He,"‵","\\backprime");q(J,_e,He,"▲","\\blacktriangle");q(J,_e,He,"▼","\\blacktriangledown");q(J,_e,He,"■","\\blacksquare");q(J,_e,He,"⧫","\\blacklozenge");q(J,_e,He,"★","\\bigstar");q(J,_e,He,"∢","\\sphericalangle",!0);q(J,_e,He,"∁","\\complement",!0);q(J,_e,He,"ð","\\eth",!0);q(rt,pe,He,"ð","ð");q(J,_e,He,"╱","\\diagup");q(J,_e,He,"╲","\\diagdown");q(J,_e,He,"□","\\square");q(J,_e,He,"□","\\Box");q(J,_e,He,"◊","\\Diamond");q(J,_e,He,"¥","\\yen",!0);q(rt,_e,He,"¥","\\yen",!0);q(J,_e,He,"✓","\\checkmark",!0);q(rt,_e,He,"✓","\\checkmark");q(J,_e,He,"ℶ","\\beth",!0);q(J,_e,He,"ℸ","\\daleth",!0);q(J,_e,He,"ℷ","\\gimel",!0);q(J,_e,He,"ϝ","\\digamma",!0);q(J,_e,He,"ϰ","\\varkappa");q(J,_e,Yo,"┌","\\@ulcorner",!0);q(J,_e,Ms,"┐","\\@urcorner",!0);q(J,_e,Yo,"└","\\@llcorner",!0);q(J,_e,Ms,"┘","\\@lrcorner",!0);q(J,_e,Me,"≦","\\leqq",!0);q(J,_e,Me,"⩽","\\leqslant",!0);q(J,_e,Me,"⪕","\\eqslantless",!0);q(J,_e,Me,"≲","\\lesssim",!0);q(J,_e,Me,"⪅","\\lessapprox",!0);q(J,_e,Me,"≊","\\approxeq",!0);q(J,_e,kt,"⋖","\\lessdot");q(J,_e,Me,"⋘","\\lll",!0);q(J,_e,Me,"≶","\\lessgtr",!0);q(J,_e,Me,"⋚","\\lesseqgtr",!0);q(J,_e,Me,"⪋","\\lesseqqgtr",!0);q(J,_e,Me,"≑","\\doteqdot");q(J,_e,Me,"≓","\\risingdotseq",!0);q(J,_e,Me,"≒","\\fallingdotseq",!0);q(J,_e,Me,"∽","\\backsim",!0);q(J,_e,Me,"⋍","\\backsimeq",!0);q(J,_e,Me,"⫅","\\subseteqq",!0);q(J,_e,Me,"⋐","\\Subset",!0);q(J,_e,Me,"⊏","\\sqsubset",!0);q(J,_e,Me,"≼","\\preccurlyeq",!0);q(J,_e,Me,"⋞","\\curlyeqprec",!0);q(J,_e,Me,"≾","\\precsim",!0);q(J,_e,Me,"⪷","\\precapprox",!0);q(J,_e,Me,"⊲","\\vartriangleleft");q(J,_e,Me,"⊴","\\trianglelefteq");q(J,_e,Me,"⊨","\\vDash",!0);q(J,_e,Me,"⊪","\\Vvdash",!0);q(J,_e,Me,"⌣","\\smallsmile");q(J,_e,Me,"⌢","\\smallfrown");q(J,_e,Me,"≏","\\bumpeq",!0);q(J,_e,Me,"≎","\\Bumpeq",!0);q(J,_e,Me,"≧","\\geqq",!0);q(J,_e,Me,"⩾","\\geqslant",!0);q(J,_e,Me,"⪖","\\eqslantgtr",!0);q(J,_e,Me,"≳","\\gtrsim",!0);q(J,_e,Me,"⪆","\\gtrapprox",!0);q(J,_e,kt,"⋗","\\gtrdot");q(J,_e,Me,"⋙","\\ggg",!0);q(J,_e,Me,"≷","\\gtrless",!0);q(J,_e,Me,"⋛","\\gtreqless",!0);q(J,_e,Me,"⪌","\\gtreqqless",!0);q(J,_e,Me,"≖","\\eqcirc",!0);q(J,_e,Me,"≗","\\circeq",!0);q(J,_e,Me,"≜","\\triangleq",!0);q(J,_e,Me,"∼","\\thicksim");q(J,_e,Me,"≈","\\thickapprox");q(J,_e,Me,"⫆","\\supseteqq",!0);q(J,_e,Me,"⋑","\\Supset",!0);q(J,_e,Me,"⊐","\\sqsupset",!0);q(J,_e,Me,"≽","\\succcurlyeq",!0);q(J,_e,Me,"⋟","\\curlyeqsucc",!0);q(J,_e,Me,"≿","\\succsim",!0);q(J,_e,Me,"⪸","\\succapprox",!0);q(J,_e,Me,"⊳","\\vartriangleright");q(J,_e,Me,"⊵","\\trianglerighteq");q(J,_e,Me,"⊩","\\Vdash",!0);q(J,_e,Me,"∣","\\shortmid");q(J,_e,Me,"∥","\\shortparallel");q(J,_e,Me,"≬","\\between",!0);q(J,_e,Me,"⋔","\\pitchfork",!0);q(J,_e,Me,"∝","\\varpropto");q(J,_e,Me,"◀","\\blacktriangleleft");q(J,_e,Me,"∴","\\therefore",!0);q(J,_e,Me,"∍","\\backepsilon");q(J,_e,Me,"▶","\\blacktriangleright");q(J,_e,Me,"∵","\\because",!0);q(J,_e,Me,"⋘","\\llless");q(J,_e,Me,"⋙","\\gggtr");q(J,_e,kt,"⊲","\\lhd");q(J,_e,kt,"⊳","\\rhd");q(J,_e,Me,"≂","\\eqsim",!0);q(J,pe,Me,"⋈","\\Join");q(J,_e,Me,"≑","\\Doteq",!0);q(J,_e,kt,"∔","\\dotplus",!0);q(J,_e,kt,"∖","\\smallsetminus");q(J,_e,kt,"⋒","\\Cap",!0);q(J,_e,kt,"⋓","\\Cup",!0);q(J,_e,kt,"⩞","\\doublebarwedge",!0);q(J,_e,kt,"⊟","\\boxminus",!0);q(J,_e,kt,"⊞","\\boxplus",!0);q(J,_e,kt,"⋇","\\divideontimes",!0);q(J,_e,kt,"⋉","\\ltimes",!0);q(J,_e,kt,"⋊","\\rtimes",!0);q(J,_e,kt,"⋋","\\leftthreetimes",!0);q(J,_e,kt,"⋌","\\rightthreetimes",!0);q(J,_e,kt,"⋏","\\curlywedge",!0);q(J,_e,kt,"⋎","\\curlyvee",!0);q(J,_e,kt,"⊝","\\circleddash",!0);q(J,_e,kt,"⊛","\\circledast",!0);q(J,_e,kt,"⋅","\\centerdot");q(J,_e,kt,"⊺","\\intercal",!0);q(J,_e,kt,"⋒","\\doublecap");q(J,_e,kt,"⋓","\\doublecup");q(J,_e,kt,"⊠","\\boxtimes",!0);q(J,_e,Me,"⇢","\\dashrightarrow",!0);q(J,_e,Me,"⇠","\\dashleftarrow",!0);q(J,_e,Me,"⇇","\\leftleftarrows",!0);q(J,_e,Me,"⇆","\\leftrightarrows",!0);q(J,_e,Me,"⇚","\\Lleftarrow",!0);q(J,_e,Me,"↞","\\twoheadleftarrow",!0);q(J,_e,Me,"↢","\\leftarrowtail",!0);q(J,_e,Me,"↫","\\looparrowleft",!0);q(J,_e,Me,"⇋","\\leftrightharpoons",!0);q(J,_e,Me,"↶","\\curvearrowleft",!0);q(J,_e,Me,"↺","\\circlearrowleft",!0);q(J,_e,Me,"↰","\\Lsh",!0);q(J,_e,Me,"⇈","\\upuparrows",!0);q(J,_e,Me,"↿","\\upharpoonleft",!0);q(J,_e,Me,"⇃","\\downharpoonleft",!0);q(J,pe,Me,"⊶","\\origof",!0);q(J,pe,Me,"⊷","\\imageof",!0);q(J,_e,Me,"⊸","\\multimap",!0);q(J,_e,Me,"↭","\\leftrightsquigarrow",!0);q(J,_e,Me,"⇉","\\rightrightarrows",!0);q(J,_e,Me,"⇄","\\rightleftarrows",!0);q(J,_e,Me,"↠","\\twoheadrightarrow",!0);q(J,_e,Me,"↣","\\rightarrowtail",!0);q(J,_e,Me,"↬","\\looparrowright",!0);q(J,_e,Me,"↷","\\curvearrowright",!0);q(J,_e,Me,"↻","\\circlearrowright",!0);q(J,_e,Me,"↱","\\Rsh",!0);q(J,_e,Me,"⇊","\\downdownarrows",!0);q(J,_e,Me,"↾","\\upharpoonright",!0);q(J,_e,Me,"⇂","\\downharpoonright",!0);q(J,_e,Me,"⇝","\\rightsquigarrow",!0);q(J,_e,Me,"⇝","\\leadsto");q(J,_e,Me,"⇛","\\Rrightarrow",!0);q(J,_e,Me,"↾","\\restriction");q(J,pe,He,"‘","`");q(J,pe,He,"$","\\$");q(rt,pe,He,"$","\\$");q(rt,pe,He,"$","\\textdollar");q(J,pe,He,"%","\\%");q(rt,pe,He,"%","\\%");q(J,pe,He,"_","\\_");q(rt,pe,He,"_","\\_");q(rt,pe,He,"_","\\textunderscore");q(J,pe,He,"∠","\\angle",!0);q(J,pe,He,"∞","\\infty",!0);q(J,pe,He,"′","\\prime");q(J,pe,He,"△","\\triangle");q(J,pe,He,"Γ","\\Gamma",!0);q(J,pe,He,"Δ","\\Delta",!0);q(J,pe,He,"Θ","\\Theta",!0);q(J,pe,He,"Λ","\\Lambda",!0);q(J,pe,He,"Ξ","\\Xi",!0);q(J,pe,He,"Π","\\Pi",!0);q(J,pe,He,"Σ","\\Sigma",!0);q(J,pe,He,"Υ","\\Upsilon",!0);q(J,pe,He,"Φ","\\Phi",!0);q(J,pe,He,"Ψ","\\Psi",!0);q(J,pe,He,"Ω","\\Omega",!0);q(J,pe,He,"A","Α");q(J,pe,He,"B","Β");q(J,pe,He,"E","Ε");q(J,pe,He,"Z","Ζ");q(J,pe,He,"H","Η");q(J,pe,He,"I","Ι");q(J,pe,He,"K","Κ");q(J,pe,He,"M","Μ");q(J,pe,He,"N","Ν");q(J,pe,He,"O","Ο");q(J,pe,He,"P","Ρ");q(J,pe,He,"T","Τ");q(J,pe,He,"X","Χ");q(J,pe,He,"¬","\\neg",!0);q(J,pe,He,"¬","\\lnot");q(J,pe,He,"⊤","\\top");q(J,pe,He,"⊥","\\bot");q(J,pe,He,"∅","\\emptyset");q(J,_e,He,"∅","\\varnothing");q(J,pe,Qt,"α","\\alpha",!0);q(J,pe,Qt,"β","\\beta",!0);q(J,pe,Qt,"γ","\\gamma",!0);q(J,pe,Qt,"δ","\\delta",!0);q(J,pe,Qt,"ϵ","\\epsilon",!0);q(J,pe,Qt,"ζ","\\zeta",!0);q(J,pe,Qt,"η","\\eta",!0);q(J,pe,Qt,"θ","\\theta",!0);q(J,pe,Qt,"ι","\\iota",!0);q(J,pe,Qt,"κ","\\kappa",!0);q(J,pe,Qt,"λ","\\lambda",!0);q(J,pe,Qt,"μ","\\mu",!0);q(J,pe,Qt,"ν","\\nu",!0);q(J,pe,Qt,"ξ","\\xi",!0);q(J,pe,Qt,"ο","\\omicron",!0);q(J,pe,Qt,"π","\\pi",!0);q(J,pe,Qt,"ρ","\\rho",!0);q(J,pe,Qt,"σ","\\sigma",!0);q(J,pe,Qt,"τ","\\tau",!0);q(J,pe,Qt,"υ","\\upsilon",!0);q(J,pe,Qt,"ϕ","\\phi",!0);q(J,pe,Qt,"χ","\\chi",!0);q(J,pe,Qt,"ψ","\\psi",!0);q(J,pe,Qt,"ω","\\omega",!0);q(J,pe,Qt,"ε","\\varepsilon",!0);q(J,pe,Qt,"ϑ","\\vartheta",!0);q(J,pe,Qt,"ϖ","\\varpi",!0);q(J,pe,Qt,"ϱ","\\varrho",!0);q(J,pe,Qt,"ς","\\varsigma",!0);q(J,pe,Qt,"φ","\\varphi",!0);q(J,pe,kt,"∗","*",!0);q(J,pe,kt,"+","+");q(J,pe,kt,"−","-",!0);q(J,pe,kt,"⋅","\\cdot",!0);q(J,pe,kt,"∘","\\circ",!0);q(J,pe,kt,"÷","\\div",!0);q(J,pe,kt,"±","\\pm",!0);q(J,pe,kt,"×","\\times",!0);q(J,pe,kt,"∩","\\cap",!0);q(J,pe,kt,"∪","\\cup",!0);q(J,pe,kt,"∖","\\setminus",!0);q(J,pe,kt,"∧","\\land");q(J,pe,kt,"∨","\\lor");q(J,pe,kt,"∧","\\wedge",!0);q(J,pe,kt,"∨","\\vee",!0);q(J,pe,He,"√","\\surd");q(J,pe,Yo,"⟨","\\langle",!0);q(J,pe,Yo,"∣","\\lvert");q(J,pe,Yo,"∥","\\lVert");q(J,pe,Ms,"?","?");q(J,pe,Ms,"!","!");q(J,pe,Ms,"⟩","\\rangle",!0);q(J,pe,Ms,"∣","\\rvert");q(J,pe,Ms,"∥","\\rVert");q(J,pe,Me,"=","=");q(J,pe,Me,":",":");q(J,pe,Me,"≈","\\approx",!0);q(J,pe,Me,"≅","\\cong",!0);q(J,pe,Me,"≥","\\ge");q(J,pe,Me,"≥","\\geq",!0);q(J,pe,Me,"←","\\gets");q(J,pe,Me,">","\\gt",!0);q(J,pe,Me,"∈","\\in",!0);q(J,pe,Me,"","\\@not");q(J,pe,Me,"⊂","\\subset",!0);q(J,pe,Me,"⊃","\\supset",!0);q(J,pe,Me,"⊆","\\subseteq",!0);q(J,pe,Me,"⊇","\\supseteq",!0);q(J,_e,Me,"⊈","\\nsubseteq",!0);q(J,_e,Me,"⊉","\\nsupseteq",!0);q(J,pe,Me,"⊨","\\models");q(J,pe,Me,"←","\\leftarrow",!0);q(J,pe,Me,"≤","\\le");q(J,pe,Me,"≤","\\leq",!0);q(J,pe,Me,"<","\\lt",!0);q(J,pe,Me,"→","\\rightarrow",!0);q(J,pe,Me,"→","\\to");q(J,_e,Me,"≱","\\ngeq",!0);q(J,_e,Me,"≰","\\nleq",!0);q(J,pe,Xh," ","\\ ");q(J,pe,Xh," ","\\space");q(J,pe,Xh," ","\\nobreakspace");q(rt,pe,Xh," ","\\ ");q(rt,pe,Xh," "," ");q(rt,pe,Xh," ","\\space");q(rt,pe,Xh," ","\\nobreakspace");q(J,pe,Xh,null,"\\nobreak");q(J,pe,Xh,null,"\\allowbreak");q(J,pe,g6,",",",");q(J,pe,g6,";",";");q(J,_e,kt,"⊼","\\barwedge",!0);q(J,_e,kt,"⊻","\\veebar",!0);q(J,pe,kt,"⊙","\\odot",!0);q(J,pe,kt,"⊕","\\oplus",!0);q(J,pe,kt,"⊗","\\otimes",!0);q(J,pe,He,"∂","\\partial",!0);q(J,pe,kt,"⊘","\\oslash",!0);q(J,_e,kt,"⊚","\\circledcirc",!0);q(J,_e,kt,"⊡","\\boxdot",!0);q(J,pe,kt,"△","\\bigtriangleup");q(J,pe,kt,"▽","\\bigtriangledown");q(J,pe,kt,"†","\\dagger");q(J,pe,kt,"⋄","\\diamond");q(J,pe,kt,"⋆","\\star");q(J,pe,kt,"◃","\\triangleleft");q(J,pe,kt,"▹","\\triangleright");q(J,pe,Yo,"{","\\{");q(rt,pe,He,"{","\\{");q(rt,pe,He,"{","\\textbraceleft");q(J,pe,Ms,"}","\\}");q(rt,pe,He,"}","\\}");q(rt,pe,He,"}","\\textbraceright");q(J,pe,Yo,"{","\\lbrace");q(J,pe,Ms,"}","\\rbrace");q(J,pe,Yo,"[","\\lbrack",!0);q(rt,pe,He,"[","\\lbrack",!0);q(J,pe,Ms,"]","\\rbrack",!0);q(rt,pe,He,"]","\\rbrack",!0);q(J,pe,Yo,"(","\\lparen",!0);q(J,pe,Ms,")","\\rparen",!0);q(rt,pe,He,"<","\\textless",!0);q(rt,pe,He,">","\\textgreater",!0);q(J,pe,Yo,"⌊","\\lfloor",!0);q(J,pe,Ms,"⌋","\\rfloor",!0);q(J,pe,Yo,"⌈","\\lceil",!0);q(J,pe,Ms,"⌉","\\rceil",!0);q(J,pe,He,"\\","\\backslash");q(J,pe,He,"∣","|");q(J,pe,He,"∣","\\vert");q(rt,pe,He,"|","\\textbar",!0);q(J,pe,He,"∥","\\|");q(J,pe,He,"∥","\\Vert");q(rt,pe,He,"∥","\\textbardbl");q(rt,pe,He,"~","\\textasciitilde");q(rt,pe,He,"\\","\\textbackslash");q(rt,pe,He,"^","\\textasciicircum");q(J,pe,Me,"↑","\\uparrow",!0);q(J,pe,Me,"⇑","\\Uparrow",!0);q(J,pe,Me,"↓","\\downarrow",!0);q(J,pe,Me,"⇓","\\Downarrow",!0);q(J,pe,Me,"↕","\\updownarrow",!0);q(J,pe,Me,"⇕","\\Updownarrow",!0);q(J,pe,Mi,"∐","\\coprod");q(J,pe,Mi,"⋁","\\bigvee");q(J,pe,Mi,"⋀","\\bigwedge");q(J,pe,Mi,"⨄","\\biguplus");q(J,pe,Mi,"⋂","\\bigcap");q(J,pe,Mi,"⋃","\\bigcup");q(J,pe,Mi,"∫","\\int");q(J,pe,Mi,"∫","\\intop");q(J,pe,Mi,"∬","\\iint");q(J,pe,Mi,"∭","\\iiint");q(J,pe,Mi,"∏","\\prod");q(J,pe,Mi,"∑","\\sum");q(J,pe,Mi,"⨂","\\bigotimes");q(J,pe,Mi,"⨁","\\bigoplus");q(J,pe,Mi,"⨀","\\bigodot");q(J,pe,Mi,"∮","\\oint");q(J,pe,Mi,"∯","\\oiint");q(J,pe,Mi,"∰","\\oiiint");q(J,pe,Mi,"⨆","\\bigsqcup");q(J,pe,Mi,"∫","\\smallint");q(rt,pe,Pv,"…","\\textellipsis");q(J,pe,Pv,"…","\\mathellipsis");q(rt,pe,Pv,"…","\\ldots",!0);q(J,pe,Pv,"…","\\ldots",!0);q(J,pe,Pv,"⋯","\\@cdots",!0);q(J,pe,Pv,"⋱","\\ddots",!0);q(J,pe,He,"⋮","\\varvdots");q(rt,pe,He,"⋮","\\varvdots");q(J,pe,Hr,"ˊ","\\acute");q(J,pe,Hr,"ˋ","\\grave");q(J,pe,Hr,"¨","\\ddot");q(J,pe,Hr,"~","\\tilde");q(J,pe,Hr,"ˉ","\\bar");q(J,pe,Hr,"˘","\\breve");q(J,pe,Hr,"ˇ","\\check");q(J,pe,Hr,"^","\\hat");q(J,pe,Hr,"⃗","\\vec");q(J,pe,Hr,"˙","\\dot");q(J,pe,Hr,"˚","\\mathring");q(J,pe,Qt,"","\\@imath");q(J,pe,Qt,"","\\@jmath");q(J,pe,He,"ı","ı");q(J,pe,He,"ȷ","ȷ");q(rt,pe,He,"ı","\\i",!0);q(rt,pe,He,"ȷ","\\j",!0);q(rt,pe,He,"ß","\\ss",!0);q(rt,pe,He,"æ","\\ae",!0);q(rt,pe,He,"œ","\\oe",!0);q(rt,pe,He,"ø","\\o",!0);q(rt,pe,He,"Æ","\\AE",!0);q(rt,pe,He,"Œ","\\OE",!0);q(rt,pe,He,"Ø","\\O",!0);q(rt,pe,Hr,"ˊ","\\'");q(rt,pe,Hr,"ˋ","\\`");q(rt,pe,Hr,"ˆ","\\^");q(rt,pe,Hr,"˜","\\~");q(rt,pe,Hr,"ˉ","\\=");q(rt,pe,Hr,"˘","\\u");q(rt,pe,Hr,"˙","\\.");q(rt,pe,Hr,"¸","\\c");q(rt,pe,Hr,"˚","\\r");q(rt,pe,Hr,"ˇ","\\v");q(rt,pe,Hr,"¨",'\\"');q(rt,pe,Hr,"˝","\\H");q(rt,pe,Hr,"◯","\\textcircled");var rhe={"--":!0,"---":!0,"``":!0,"''":!0};q(rt,pe,He,"–","--",!0);q(rt,pe,He,"–","\\textendash");q(rt,pe,He,"—","---",!0);q(rt,pe,He,"—","\\textemdash");q(rt,pe,He,"‘","`",!0);q(rt,pe,He,"‘","\\textquoteleft");q(rt,pe,He,"’","'",!0);q(rt,pe,He,"’","\\textquoteright");q(rt,pe,He,"“","``",!0);q(rt,pe,He,"“","\\textquotedblleft");q(rt,pe,He,"”","''",!0);q(rt,pe,He,"”","\\textquotedblright");q(J,pe,He,"°","\\degree",!0);q(rt,pe,He,"°","\\degree");q(rt,pe,He,"°","\\textdegree",!0);q(J,pe,He,"£","\\pounds");q(J,pe,He,"£","\\mathsterling",!0);q(rt,pe,He,"£","\\pounds");q(rt,pe,He,"£","\\textsterling",!0);q(J,_e,He,"✠","\\maltese");q(rt,_e,He,"✠","\\maltese");var Yz='0123456789/@."';for(var UR=0;UR<Yz.length;UR++){var Vz=Yz.charAt(UR);q(J,pe,He,Vz,Vz)}var qz='0123456789!@*()-=+";:?/.,';for(var GR=0;GR<qz.length;GR++){var jz=qz.charAt(GR);q(rt,pe,He,jz,jz)}var wS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var zR=0;zR<wS.length;zR++){var s3=wS.charAt(zR);q(J,pe,Qt,s3,s3),q(rt,pe,He,s3,s3)}q(J,_e,He,"C","ℂ");q(rt,_e,He,"C","ℂ");q(J,_e,He,"H","ℍ");q(rt,_e,He,"H","ℍ");q(J,_e,He,"N","ℕ");q(rt,_e,He,"N","ℕ");q(J,_e,He,"P","ℙ");q(rt,_e,He,"P","ℙ");q(J,_e,He,"Q","ℚ");q(rt,_e,He,"Q","ℚ");q(J,_e,He,"R","ℝ");q(rt,_e,He,"R","ℝ");q(J,_e,He,"Z","ℤ");q(rt,_e,He,"Z","ℤ");q(J,pe,Qt,"h","ℎ");q(rt,pe,Qt,"h","ℎ");var an="";for(var ds=0;ds<wS.length;ds++){var Zr=wS.charAt(ds);an=String.fromCharCode(55349,56320+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56372+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56424+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56580+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56684+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56736+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56788+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56840+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56944+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),ds<26&&(an=String.fromCharCode(55349,56632+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an),an=String.fromCharCode(55349,56476+ds),q(J,pe,Qt,Zr,an),q(rt,pe,He,Zr,an))}an="𝕜";q(J,pe,Qt,"k",an);q(rt,pe,He,"k",an);for(var Zf=0;Zf<10;Zf++){var l0=Zf.toString();an=String.fromCharCode(55349,57294+Zf),q(J,pe,Qt,l0,an),q(rt,pe,He,l0,an),an=String.fromCharCode(55349,57314+Zf),q(J,pe,Qt,l0,an),q(rt,pe,He,l0,an),an=String.fromCharCode(55349,57324+Zf),q(J,pe,Qt,l0,an),q(rt,pe,He,l0,an),an=String.fromCharCode(55349,57334+Zf),q(J,pe,Qt,l0,an),q(rt,pe,He,l0,an)}var b8="ÐÞþ";for(var YR=0;YR<b8.length;YR++){var o3=b8.charAt(YR);q(J,pe,Qt,o3,o3),q(rt,pe,He,o3,o3)}var l3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Xz=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],xot=function(t,n){var r=t.charCodeAt(0),a=t.charCodeAt(1),o=(r-55296)*1024+(a-56320)+65536,l=n==="math"?0:1;if(119808<=o&&o<120484){var u=Math.floor((o-119808)/26);return[l3[u][2],l3[u][l]]}else if(120782<=o&&o<=120831){var h=Math.floor((o-120782)/10);return[Xz[h][2],Xz[h][l]]}else{if(o===120485||o===120486)return[l3[0][2],l3[0][l]];if(120486<o&&o<120782)return["",""];throw new ht("Unsupported character: "+t)}},m6=function(t,n,r){return Er[r][t]&&Er[r][t].replace&&(t=Er[r][t].replace),{value:t,metrics:OD(t,n,r)}},Xl=function(t,n,r,a,o){var l=m6(t,n,r),u=l.metrics;t=l.value;var h;if(u){var f=u.italic;(r==="text"||a&&a.font==="mathit")&&(f=0),h=new Cl(t,u.height,u.depth,f,u.skew,u.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),h=new Cl(t,0,0,0,0,0,o);if(a){h.maxFontSize=a.sizeMultiplier,a.style.isTight()&&h.classes.push("mtight");var d=a.getColor();d&&(h.style.color=d)}return h},Sot=function(t,n,r,a){return a===void 0&&(a=[]),r.font==="boldsymbol"&&m6(t,"Main-Bold",n).metrics?Xl(t,"Main-Bold",n,r,a.concat(["mathbf"])):t==="\\"||Er[n][t].font==="main"?Xl(t,"Main-Regular",n,r,a):Xl(t,"AMS-Regular",n,r,a.concat(["amsrm"]))},Aot=function(t,n,r,a,o){return o!=="textord"&&m6(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Iot=function(t,n,r){var a=t.mode,o=t.text,l=["mord"],u=a==="math"||a==="text"&&n.font,h=u?n.font:n.fontFamily,f="",d="";if(o.charCodeAt(0)===55349&&([f,d]=xot(o,a)),f.length>0)return Xl(o,f,a,n,l.concat(d));if(h){var p,g;if(h==="boldsymbol"){var m=Aot(o,a,n,l,r);p=m.fontName,g=[m.fontClass]}else u?(p=she[h].fontName,g=[h]):(p=c3(h,n.fontWeight,n.fontShape),g=[h,n.fontWeight,n.fontShape]);if(m6(o,p,a).metrics)return Xl(o,p,a,n,l.concat(g));if(rhe.hasOwnProperty(o)&&p.slice(0,10)==="Typewriter"){for(var y=[],b=0;b<o.length;b++)y.push(Xl(o[b],p,a,n,l.concat(g)));return ahe(y)}}if(r==="mathord")return Xl(o,"Math-Italic",a,n,l.concat(["mathnormal"]));if(r==="textord"){var T=Er[a][o]&&Er[a][o].font;if(T==="ams"){var E=c3("amsrm",n.fontWeight,n.fontShape);return Xl(o,E,a,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var w=c3("textrm",n.fontWeight,n.fontShape);return Xl(o,w,a,n,l.concat(n.fontWeight,n.fontShape))}else{var x=c3(T,n.fontWeight,n.fontShape);return Xl(o,x,a,n,l.concat(x,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Cot=(e,t)=>{if(ef(e.classes)!==ef(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},Rot=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Cl&&r instanceof Cl&&Cot(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},LD=function(t){for(var n=0,r=0,a=0,o=0;o<t.children.length;o++){var l=t.children[o];l.height>n&&(n=l.height),l.depth>r&&(r=l.depth),l.maxFontSize>a&&(a=l.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=a},zs=function(t,n,r,a){var o=new bE(t,n,r,a);return LD(o),o},ihe=(e,t,n,r)=>new bE(e,t,n,r),kot=function(t,n,r){var a=zs([t],[],n);return a.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),a.style.borderBottomWidth=vt(a.height),a.maxFontSize=1,a},Oot=function(t,n,r,a){var o=new ND(t,n,r,a);return LD(o),o},ahe=function(t){var n=new yE(t);return LD(n),n},Not=function(t,n){return t instanceof yE?zs([],[t],n):t},Lot=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],a=-n[0].shift-n[0].elem.depth,o=a,l=1;l<n.length;l++){var u=-n[l].shift-o-n[l].elem.depth,h=u-(n[l-1].elem.height+n[l-1].elem.depth);o=o+u,r.push({type:"kern",size:h}),r.push(n[l])}return{children:r,depth:a}}var f;if(t.positionType==="top"){for(var d=t.positionData,p=0;p<t.children.length;p++){var g=t.children[p];d-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}f=d}else if(t.positionType==="bottom")f=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")f=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")f=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:f}},_ot=function(t,n){for(var{children:r,depth:a}=Lot(t),o=0,l=0;l<r.length;l++){var u=r[l];if(u.type==="elem"){var h=u.elem;o=Math.max(o,h.maxFontSize,h.height)}}o+=2;var f=zs(["pstrut"],[]);f.style.height=vt(o);for(var d=[],p=a,g=a,m=a,y=0;y<r.length;y++){var b=r[y];if(b.type==="kern")m+=b.size;else{var T=b.elem,E=b.wrapperClasses||[],w=b.wrapperStyle||{},x=zs(E,[f,T],void 0,w);x.style.top=vt(-o-m-T.depth),b.marginLeft&&(x.style.marginLeft=b.marginLeft),b.marginRight&&(x.style.marginRight=b.marginRight),d.push(x),m+=T.height+T.depth}p=Math.min(p,m),g=Math.max(g,m)}var S=zs(["vlist"],d);S.style.height=vt(g);var A;if(p<0){var R=zs([],[]),C=zs(["vlist"],[R]);C.style.height=vt(-p);var N=zs(["vlist-s"],[new Cl("​")]);A=[zs(["vlist-r"],[S,N]),zs(["vlist-r"],[C])]}else A=[zs(["vlist-r"],[S])];var O=zs(["vlist-t"],A);return A.length===2&&O.classes.push("vlist-t2"),O.height=g,O.depth=-p,O},Dot=(e,t)=>{var n=zs(["mspace"],[],t),r=Gr(e,t);return n.style.marginRight=vt(r),n},c3=function(t,n,r){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",a+"-"+o},she={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ohe={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Mot=function(t,n){var[r,a,o]=ohe[t],l=new tf(r),u=new Ch([l],{width:vt(a),height:vt(o),style:"width:"+vt(a),viewBox:"0 0 "+1e3*a+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),h=ihe(["overlay"],[u],n);return h.height=o,h.style.height=vt(o),h.style.width=vt(a),h},ze={fontMap:she,makeSymbol:Xl,mathsym:Sot,makeSpan:zs,makeSvgSpan:ihe,makeLineSpan:kot,makeAnchor:Oot,makeFragment:ahe,wrapFragment:Not,makeVList:_ot,makeOrd:Iot,makeGlue:Dot,staticSvg:Mot,svgData:ohe,tryCombineChars:Rot},Ur={number:3,unit:"mu"},Qf={number:4,unit:"mu"},Wu={number:5,unit:"mu"},Pot={mord:{mop:Ur,mbin:Qf,mrel:Wu,minner:Ur},mop:{mord:Ur,mop:Ur,mrel:Wu,minner:Ur},mbin:{mord:Qf,mop:Qf,mopen:Qf,minner:Qf},mrel:{mord:Wu,mop:Wu,mopen:Wu,minner:Wu},mopen:{},mclose:{mop:Ur,mbin:Qf,mrel:Wu,minner:Ur},mpunct:{mord:Ur,mop:Ur,mrel:Wu,mopen:Ur,mclose:Ur,mpunct:Ur,minner:Ur},minner:{mord:Ur,mop:Ur,mbin:Qf,mrel:Wu,mopen:Ur,mpunct:Ur,minner:Ur}},Fot={mord:{mop:Ur},mop:{mord:Ur,mop:Ur},mbin:{},mrel:{},mopen:{},mclose:{mop:Ur},mpunct:{},minner:{mop:Ur}},lhe={},xS={},SS={};function At(e){for(var{type:t,names:n,props:r,handler:a,htmlBuilder:o,mathmlBuilder:l}=e,u={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:a},h=0;h<n.length;++h)lhe[n[h]]=u;t&&(o&&(xS[t]=o),l&&(SS[t]=l))}function $p(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;At({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var AS=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},xi=function(t){return t.type==="ordgroup"?t.body:[t]},Rh=ze.makeSpan,Bot=["leftmost","mbin","mopen","mrel","mop","mpunct"],Hot=["rightmost","mrel","mclose","mpunct"],$ot={display:Jt.DISPLAY,text:Jt.TEXT,script:Jt.SCRIPT,scriptscript:Jt.SCRIPTSCRIPT},Wot={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Xi=function(t,n,r,a){a===void 0&&(a=[null,null]);for(var o=[],l=0;l<t.length;l++){var u=$n(t[l],n);if(u instanceof yE){var h=u.children;o.push(...h)}else o.push(u)}if(ze.tryCombineChars(o),!r)return o;var f=n;if(t.length===1){var d=t[0];d.type==="sizing"?f=n.havingSize(d.size):d.type==="styling"&&(f=n.havingStyle($ot[d.style]))}var p=Rh([a[0]||"leftmost"],[],n),g=Rh([a[1]||"rightmost"],[],n),m=r==="root";return Kz(o,(y,b)=>{var T=b.classes[0],E=y.classes[0];T==="mbin"&&jt.contains(Hot,E)?b.classes[0]="mord":E==="mbin"&&jt.contains(Bot,T)&&(y.classes[0]="mord")},{node:p},g,m),Kz(o,(y,b)=>{var T=T8(b),E=T8(y),w=T&&E?y.hasClass("mtight")?Fot[T][E]:Pot[T][E]:null;if(w)return ze.makeGlue(w,f)},{node:p},g,m),o},Kz=function e(t,n,r,a,o){a&&t.push(a);for(var l=0;l<t.length;l++){var u=t[l],h=che(u);if(h){e(h.children,n,r,null,o);continue}var f=!u.hasClass("mspace");if(f){var d=n(u,r.node);d&&(r.insertAfter?r.insertAfter(d):(t.unshift(d),l++))}f?r.node=u:o&&u.hasClass("newline")&&(r.node=Rh(["leftmost"])),r.insertAfter=(p=>g=>{t.splice(p+1,0,g),l++})(l)}a&&t.pop()},che=function(t){return t instanceof yE||t instanceof ND||t instanceof bE&&t.hasClass("enclosing")?t:null},Uot=function e(t,n){var r=che(t);if(r){var a=r.children;if(a.length){if(n==="right")return e(a[a.length-1],"right");if(n==="left")return e(a[0],"left")}}return t},T8=function(t,n){return t?(n&&(t=Uot(t,n)),Wot[t.classes[0]]||null):null},Zb=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Rh(n.concat(r))},$n=function(t,n,r){if(!t)return Rh();if(xS[t.type]){var a=xS[t.type](t,n);if(r&&n.size!==r.size){a=Rh(n.sizingClasses(r),[a],n);var o=n.sizeMultiplier/r.sizeMultiplier;a.height*=o,a.depth*=o}return a}else throw new ht("Got group of unknown type: '"+t.type+"'")};function u3(e,t){var n=Rh(["base"],e,t),r=Rh(["strut"]);return r.style.height=vt(n.height+n.depth),n.depth&&(r.style.verticalAlign=vt(-n.depth)),n.children.unshift(r),n}function E8(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=Xi(e,t,"root"),a;r.length===2&&r[1].hasClass("tag")&&(a=r.pop());for(var o=[],l=[],u=0;u<r.length;u++)if(l.push(r[u]),r[u].hasClass("mbin")||r[u].hasClass("mrel")||r[u].hasClass("allowbreak")){for(var h=!1;u<r.length-1&&r[u+1].hasClass("mspace")&&!r[u+1].hasClass("newline");)u++,l.push(r[u]),r[u].hasClass("nobreak")&&(h=!0);h||(o.push(u3(l,t)),l=[])}else r[u].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(u3(l,t)),l=[]),o.push(r[u]));l.length>0&&o.push(u3(l,t));var f;n?(f=u3(Xi(n,t,!0)),f.classes=["tag"],o.push(f)):a&&o.push(a);var d=Rh(["katex-html"],o);if(d.setAttribute("aria-hidden","true"),f){var p=f.children[0];p.style.height=vt(d.height+d.depth),d.depth&&(p.style.verticalAlign=vt(-d.depth))}return d}function uhe(e){return new yE(e)}class _o{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=ef(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Qc&&this.children[r+1]instanceof Qc){for(var a=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Qc;)a+=this.children[++r].toText();t.appendChild(new Qc(a).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=jt.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+jt.escape(ef(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Qc{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return jt.escape(this.toText())}toText(){return this.text}}class Got{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",vt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+vt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ct={MathNode:_o,TextNode:Qc,SpaceNode:Got,newDocumentFragment:uhe},Rl=function(t,n,r){return Er[n][t]&&Er[n][t].replace&&t.charCodeAt(0)!==55349&&!(rhe.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=Er[n][t].replace),new ct.TextNode(t)},_D=function(t){return t.length===1?t[0]:new ct.MathNode("mrow",t)},DD=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var a=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=t.text;if(jt.contains(["\\imath","\\jmath"],o))return null;Er[a][o]&&Er[a][o].replace&&(o=Er[a][o].replace);var l=ze.fontMap[r].fontName;return OD(o,l,a)?ze.fontMap[r].variant:null};function VR(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Qc&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof Qc&&n.text===","}else return!1}var go=function(t,n,r){if(t.length===1){var a=fr(t[0],n);return r&&a instanceof _o&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var o=[],l,u=0;u<t.length;u++){var h=fr(t[u],n);if(h instanceof _o&&l instanceof _o){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(VR(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&VR(l))h.children=[...l.children,...h.children],o.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||VR(l))){var f=h.children[0];f instanceof _o&&f.type==="mn"&&(f.children=[...l.children,...f.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var d=l.children[0];if(d instanceof Qc&&d.text==="̸"&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var p=h.children[0];p instanceof Qc&&p.text.length>0&&(p.text=p.text.slice(0,1)+"̸"+p.text.slice(1),o.pop())}}}o.push(h),l=h}return o},nf=function(t,n,r){return _D(go(t,n,r))},fr=function(t,n){if(!t)return new ct.MathNode("mrow");if(SS[t.type]){var r=SS[t.type](t,n);return r}else throw new ht("Got group of unknown type: '"+t.type+"'")};function Zz(e,t,n,r,a){var o=go(e,n),l;o.length===1&&o[0]instanceof _o&&jt.contains(["mrow","mtable"],o[0].type)?l=o[0]:l=new ct.MathNode("mrow",o);var u=new ct.MathNode("annotation",[new ct.TextNode(t)]);u.setAttribute("encoding","application/x-tex");var h=new ct.MathNode("semantics",[l,u]),f=new ct.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&f.setAttribute("display","block");var d=a?"katex":"katex-mathml";return ze.makeSpan([d],[f])}var hhe=function(t){return new Ku({style:t.displayMode?Jt.DISPLAY:Jt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},fhe=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=ze.makeSpan(r,[t])}return t},zot=function(t,n,r){var a=hhe(r),o;if(r.output==="mathml")return Zz(t,n,a,r.displayMode,!0);if(r.output==="html"){var l=E8(t,a);o=ze.makeSpan(["katex"],[l])}else{var u=Zz(t,n,a,r.displayMode,!1),h=E8(t,a);o=ze.makeSpan(["katex"],[u,h])}return fhe(o,r)},Yot=function(t,n,r){var a=hhe(r),o=E8(t,a),l=ze.makeSpan(["katex"],[o]);return fhe(l,r)},Vot={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},qot=function(t){var n=new ct.MathNode("mo",[new ct.TextNode(Vot[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},jot={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Xot=function(t){return t.type==="ordgroup"?t.body.length:1},Kot=function(t,n){function r(){var u=4e5,h=t.label.slice(1);if(jt.contains(["widehat","widecheck","widetilde","utilde"],h)){var f=t,d=Xot(f.base),p,g,m;if(d>5)h==="widehat"||h==="widecheck"?(p=420,u=2364,m=.42,g=h+"4"):(p=312,u=2340,m=.34,g="tilde4");else{var y=[1,1,2,2,3,3][d];h==="widehat"||h==="widecheck"?(u=[0,1062,2364,2364,2364][y],p=[0,239,300,360,420][y],m=[0,.24,.3,.3,.36,.42][y],g=h+y):(u=[0,600,1033,2339,2340][y],p=[0,260,286,306,312][y],m=[0,.26,.286,.3,.306,.34][y],g="tilde"+y)}var b=new tf(g),T=new Ch([b],{width:"100%",height:vt(m),viewBox:"0 0 "+u+" "+p,preserveAspectRatio:"none"});return{span:ze.makeSvgSpan([],[T],n),minWidth:0,height:m}}else{var E=[],w=jot[h],[x,S,A]=w,R=A/1e3,C=x.length,N,O;if(C===1){var L=w[3];N=["hide-tail"],O=[L]}else if(C===2)N=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(C===3)N=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var k=0;k<C;k++){var M=new tf(x[k]),$=new Ch([M],{width:"400em",height:vt(R),viewBox:"0 0 "+u+" "+A,preserveAspectRatio:O[k]+" slice"}),_=ze.makeSvgSpan([N[k]],[$],n);if(C===1)return{span:_,minWidth:S,height:R};_.style.height=vt(R),E.push(_)}return{span:ze.makeSpan(["stretchy"],E,n),minWidth:S,height:R}}}var{span:a,minWidth:o,height:l}=r();return a.height=l,a.style.height=vt(l),o>0&&(a.style.minWidth=vt(o)),a},Zot=function(t,n,r,a,o){var l,u=t.height+t.depth+r+a;if(/fbox|color|angl/.test(n)){if(l=ze.makeSpan(["stretchy",n],[],o),n==="fbox"){var h=o.color&&o.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new y8({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new y8({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Ch(f,{width:"100%",height:vt(u)});l=ze.makeSvgSpan([],[d],o)}return l.height=u,l.style.height=vt(u),l},kh={encloseSpan:Zot,mathMLnode:qot,svgSpan:Kot};function bn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function MD(e){var t=v6(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function v6(e){return e&&(e.type==="atom"||wot.hasOwnProperty(e.type))?e:null}var PD=(e,t)=>{var n,r,a;e&&e.type==="supsub"?(r=bn(e.base,"accent"),n=r.base,e.base=n,a=Tot($n(e,t)),e.base=r):(r=bn(e,"accent"),n=r.base);var o=$n(n,t.havingCrampedStyle()),l=r.isShifty&&jt.isCharacterBox(n),u=0;if(l){var h=jt.getBaseElem(n),f=$n(h,t.havingCrampedStyle());u=zz(f).skew}var d=r.label==="\\c",p=d?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight),g;if(r.isStretchy)g=kh.svgSpan(r,t),g=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:u>0?{width:"calc(100% - "+vt(2*u)+")",marginLeft:vt(2*u)}:void 0}]},t);else{var m,y;r.label==="\\vec"?(m=ze.staticSvg("vec",t),y=ze.svgData.vec[1]):(m=ze.makeOrd({mode:r.mode,text:r.label},t,"textord"),m=zz(m),m.italic=0,y=m.width,d&&(p+=m.depth)),g=ze.makeSpan(["accent-body"],[m]);var b=r.label==="\\textcircled";b&&(g.classes.push("accent-full"),p=o.height);var T=u;b||(T-=y/2),g.style.left=vt(T),r.label==="\\textcircled"&&(g.style.top=".2em"),g=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-p},{type:"elem",elem:g}]},t)}var E=ze.makeSpan(["mord","accent"],[g],t);return a?(a.children[0]=E,a.height=Math.max(E.height,a.height),a.classes[0]="mord",a):E},dhe=(e,t)=>{var n=e.isStretchy?kh.mathMLnode(e.label):new ct.MathNode("mo",[Rl(e.label,e.mode)]),r=new ct.MathNode("mover",[fr(e.base,t),n]);return r.setAttribute("accent","true"),r},Qot=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));At({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=AS(t[0]),r=!Qot.test(e.funcName),a=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:a,base:n}},htmlBuilder:PD,mathmlBuilder:dhe});At({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:PD,mathmlBuilder:dhe});At({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:a}},htmlBuilder:(e,t)=>{var n=$n(e.base,t),r=kh.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,o=ze.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:n}]},t);return ze.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var n=kh.mathMLnode(e.label),r=new ct.MathNode("munder",[fr(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var h3=e=>{var t=new ct.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};At({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:a}=e;return{type:"xArrow",mode:r.mode,label:a,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),a=ze.wrapFragment($n(e.body,r,t),t),o=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(o+"-arrow-pad");var l;e.below&&(r=t.havingStyle(n.sub()),l=ze.wrapFragment($n(e.below,r,t),t),l.classes.push(o+"-arrow-pad"));var u=kh.svgSpan(e,t),h=-t.fontMetrics().axisHeight+.5*u.height,f=-t.fontMetrics().axisHeight-.5*u.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(f-=a.depth);var d;if(l){var p=-t.fontMetrics().axisHeight+l.height+.5*u.height+.111;d=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:f},{type:"elem",elem:u,shift:h},{type:"elem",elem:l,shift:p}]},t)}else d=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:f},{type:"elem",elem:u,shift:h}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),ze.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var n=kh.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var a=h3(fr(e.body,t));if(e.below){var o=h3(fr(e.below,t));r=new ct.MathNode("munderover",[n,o,a])}else r=new ct.MathNode("mover",[n,a])}else if(e.below){var l=h3(fr(e.below,t));r=new ct.MathNode("munder",[n,l])}else r=h3(),r=new ct.MathNode("mover",[n,r]);return r}});var Jot=ze.makeSpan;function phe(e,t){var n=Xi(e.body,t,!0);return Jot([e.mclass],n,t)}function ghe(e,t){var n,r=go(e.body,t);return e.mclass==="minner"?n=new ct.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new ct.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new ct.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}At({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:xi(a),isCharacterBox:jt.isCharacterBox(a)}},htmlBuilder:phe,mathmlBuilder:ghe});var y6=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};At({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:y6(t[0]),body:xi(t[1]),isCharacterBox:jt.isCharacterBox(t[1])}}});At({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,a=t[1],o=t[0],l;r!=="\\stackrel"?l=y6(a):l="mrel";var u={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:xi(a)},h={type:"supsub",mode:o.mode,base:u,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:l,body:[h],isCharacterBox:jt.isCharacterBox(h)}},htmlBuilder:phe,mathmlBuilder:ghe});At({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:y6(t[0]),body:xi(t[0])}},htmlBuilder(e,t){var n=Xi(e.body,t,!0),r=ze.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=go(e.body,t),r=new ct.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var elt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Qz=()=>({type:"styling",body:[],mode:"math",style:"display"}),Jz=e=>e.type==="textord"&&e.text==="@",tlt=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function nlt(e,t,n){var r=elt[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=n.callFunction("\\\\cdleft",[t[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},l=n.callFunction("\\Big",[o],[]),u=n.callFunction("\\\\cdright",[t[1]],[]),h={type:"ordgroup",mode:"math",body:[a,l,u]};return n.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function rlt(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ht("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],a=[r],o=0;o<t.length;o++){for(var l=t[o],u=Qz(),h=0;h<l.length;h++)if(!Jz(l[h]))u.body.push(l[h]);else{r.push(u),h+=1;var f=MD(l[h]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var p=0;p<2;p++){for(var g=!0,m=h+1;m<l.length;m++){if(tlt(l[m],f)){g=!1,h=m;break}if(Jz(l[m]))throw new ht("Missing a "+f+" character to complete a CD arrow.",l[m]);d[p].body.push(l[m])}if(g)throw new ht("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new ht('Expected one of "<>AV=|." after @',l[h]);var y=nlt(f,d,e),b={type:"styling",body:[y],mode:"math",style:"display"};r.push(b),u=Qz()}o%2===0?r.push(u):r.shift(),r=[],a.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var T=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}At({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=ze.wrapFragment($n(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=vt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new ct.MathNode("mrow",[fr(e.label,t)]);return n=new ct.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ct.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});At({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=ze.wrapFragment($n(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new ct.MathNode("mrow",[fr(e.fragment,t)])}});At({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=bn(t[0],"ordgroup"),a=r.body,o="",l=0;l<a.length;l++){var u=bn(a[l],"textord");o+=u.text}var h=parseInt(o),f;if(isNaN(h))throw new ht("\\@char has non-numeric argument "+o);if(h<0||h>=1114111)throw new ht("\\@char with invalid code point "+o);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var mhe=(e,t)=>{var n=Xi(e.body,t.withColor(e.color),!1);return ze.makeFragment(n)},vhe=(e,t)=>{var n=go(e.body,t.withColor(e.color)),r=new ct.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};At({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=bn(t[0],"color-token").color,a=t[1];return{type:"color",mode:n.mode,color:r,body:xi(a)}},htmlBuilder:mhe,mathmlBuilder:vhe});At({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,a=bn(t[0],"color-token").color;n.gullet.macros.set("\\current@color",a);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:a,body:o}},htmlBuilder:mhe,mathmlBuilder:vhe});At({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,a=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:a&&bn(a,"size").value}},htmlBuilder(e,t){var n=ze.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=vt(Gr(e.size,t)))),n},mathmlBuilder(e,t){var n=new ct.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",vt(Gr(e.size,t)))),n}});var w8={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},yhe=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ht("Expected a control sequence",e);return t},ilt=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},bhe=(e,t,n,r)=>{var a=e.gullet.macros.get(n.text);a==null&&(n.noexpand=!0,a={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,a,r)};At({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(w8[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=w8[r.text]),bn(t.parseFunction(),"internal");throw new ht("Invalid token after macro prefix",r)}});At({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),a=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ht("Expected a control sequence",r);for(var o=0,l,u=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){l=t.gullet.future(),u[o].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ht('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new ht('Argument number "'+r.text+'" out of order');o++,u.push([])}else{if(r.text==="EOF")throw new ht("Expected a macro definition");u[o].push(r.text)}var{tokens:h}=t.gullet.consumeArg();return l&&h.unshift(l),(n==="\\edef"||n==="\\xdef")&&(h=t.gullet.expandTokens(h),h.reverse()),t.gullet.macros.set(a,{tokens:h,numArgs:o,delimiters:u},n===w8[n]),{type:"internal",mode:t.mode}}});At({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=yhe(t.gullet.popToken());t.gullet.consumeSpaces();var a=ilt(t);return bhe(t,r,a,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});At({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=yhe(t.gullet.popToken()),a=t.gullet.popToken(),o=t.gullet.popToken();return bhe(t,r,o,n==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var c2=function(t,n,r){var a=Er.math[t]&&Er.math[t].replace,o=OD(a||t,n,r);if(!o)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return o},FD=function(t,n,r,a){var o=r.havingBaseStyle(n),l=ze.makeSpan(a.concat(o.sizingClasses(r)),[t],r),u=o.sizeMultiplier/r.sizeMultiplier;return l.height*=u,l.depth*=u,l.maxFontSize=o.sizeMultiplier,l},The=function(t,n,r){var a=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/a.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=vt(o),t.height-=o,t.depth+=o},alt=function(t,n,r,a,o,l){var u=ze.makeSymbol(t,"Main-Regular",o,a),h=FD(u,n,a,l);return r&&The(h,a,n),h},slt=function(t,n,r,a){return ze.makeSymbol(t,"Size"+n+"-Regular",r,a)},Ehe=function(t,n,r,a,o,l){var u=slt(t,n,o,a),h=FD(ze.makeSpan(["delimsizing","size"+n],[u],a),Jt.TEXT,a,l);return r&&The(h,a,Jt.TEXT),h},qR=function(t,n,r){var a;n==="Size1-Regular"?a="delim-size1":a="delim-size4";var o=ze.makeSpan(["delimsizinginner",a],[ze.makeSpan([],[ze.makeSymbol(t,n,r)])]);return{type:"elem",elem:o}},jR=function(t,n,r){var a=Zc["Size4-Regular"][t.charCodeAt(0)]?Zc["Size4-Regular"][t.charCodeAt(0)][4]:Zc["Size1-Regular"][t.charCodeAt(0)][4],o=new tf("inner",fot(t,Math.round(1e3*n))),l=new Ch([o],{width:vt(a),height:vt(n),style:"width:"+vt(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),u=ze.makeSvgSpan([],[l],r);return u.height=n,u.style.height=vt(n),u.style.width=vt(a),{type:"elem",elem:u}},x8=.008,f3={type:"kern",size:-1*x8},olt=["|","\\lvert","\\rvert","\\vert"],llt=["\\|","\\lVert","\\rVert","\\Vert"],whe=function(t,n,r,a,o,l){var u,h,f,d,p="",g=0;u=f=d=t,h=null;var m="Size1-Regular";t==="\\uparrow"?f=d="⏐":t==="\\Uparrow"?f=d="‖":t==="\\downarrow"?u=f="⏐":t==="\\Downarrow"?u=f="‖":t==="\\updownarrow"?(u="\\uparrow",f="⏐",d="\\downarrow"):t==="\\Updownarrow"?(u="\\Uparrow",f="‖",d="\\Downarrow"):jt.contains(olt,t)?(f="∣",p="vert",g=333):jt.contains(llt,t)?(f="∥",p="doublevert",g=556):t==="["||t==="\\lbrack"?(u="⎡",f="⎢",d="⎣",m="Size4-Regular",p="lbrack",g=667):t==="]"||t==="\\rbrack"?(u="⎤",f="⎥",d="⎦",m="Size4-Regular",p="rbrack",g=667):t==="\\lfloor"||t==="⌊"?(f=u="⎢",d="⎣",m="Size4-Regular",p="lfloor",g=667):t==="\\lceil"||t==="⌈"?(u="⎡",f=d="⎢",m="Size4-Regular",p="lceil",g=667):t==="\\rfloor"||t==="⌋"?(f=u="⎥",d="⎦",m="Size4-Regular",p="rfloor",g=667):t==="\\rceil"||t==="⌉"?(u="⎤",f=d="⎥",m="Size4-Regular",p="rceil",g=667):t==="("||t==="\\lparen"?(u="⎛",f="⎜",d="⎝",m="Size4-Regular",p="lparen",g=875):t===")"||t==="\\rparen"?(u="⎞",f="⎟",d="⎠",m="Size4-Regular",p="rparen",g=875):t==="\\{"||t==="\\lbrace"?(u="⎧",h="⎨",d="⎩",f="⎪",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(u="⎫",h="⎬",d="⎭",f="⎪",m="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(u="⎧",d="⎩",f="⎪",m="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(u="⎫",d="⎭",f="⎪",m="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(u="⎧",d="⎭",f="⎪",m="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(u="⎫",d="⎩",f="⎪",m="Size4-Regular");var y=c2(u,m,o),b=y.height+y.depth,T=c2(f,m,o),E=T.height+T.depth,w=c2(d,m,o),x=w.height+w.depth,S=0,A=1;if(h!==null){var R=c2(h,m,o);S=R.height+R.depth,A=2}var C=b+x+S,N=Math.max(0,Math.ceil((n-C)/(A*E))),O=C+N*A*E,L=a.fontMetrics().axisHeight;r&&(L*=a.sizeMultiplier);var k=O/2-L,M=[];if(p.length>0){var $=O-b-x,_=Math.round(O*1e3),F=dot(p,Math.round($*1e3)),B=new tf(p,F),D=(g/1e3).toFixed(3)+"em",P=(_/1e3).toFixed(3)+"em",H=new Ch([B],{width:D,height:P,viewBox:"0 0 "+g+" "+_}),W=ze.makeSvgSpan([],[H],a);W.height=_/1e3,W.style.width=D,W.style.height=P,M.push({type:"elem",elem:W})}else{if(M.push(qR(d,m,o)),M.push(f3),h===null){var U=O-b-x+2*x8;M.push(jR(f,U,a))}else{var V=(O-b-x-S)/2+2*x8;M.push(jR(f,V,a)),M.push(f3),M.push(qR(h,m,o)),M.push(f3),M.push(jR(f,V,a))}M.push(f3),M.push(qR(u,m,o))}var G=a.havingBaseStyle(Jt.TEXT),ee=ze.makeVList({positionType:"bottom",positionData:k,children:M},G);return FD(ze.makeSpan(["delimsizing","mult"],[ee],G),Jt.TEXT,a,l)},XR=80,KR=.08,ZR=function(t,n,r,a,o){var l=hot(t,a,r),u=new tf(t,l),h=new Ch([u],{width:"400em",height:vt(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return ze.makeSvgSpan(["hide-tail"],[h],o)},clt=function(t,n){var r=n.havingBaseSizing(),a=Ihe("\\surd",t*r.sizeMultiplier,Ahe,r),o=r.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),u,h=0,f=0,d=0,p;return a.type==="small"?(d=1e3+1e3*l+XR,t<1?o=1:t<1.4&&(o=.7),h=(1+l+KR)/o,f=(1+l)/o,u=ZR("sqrtMain",h,d,l,n),u.style.minWidth="0.853em",p=.833/o):a.type==="large"?(d=(1e3+XR)*J2[a.size],f=(J2[a.size]+l)/o,h=(J2[a.size]+l+KR)/o,u=ZR("sqrtSize"+a.size,h,d,l,n),u.style.minWidth="1.02em",p=1/o):(h=t+l+KR,f=t+l,d=Math.floor(1e3*t+l)+XR,u=ZR("sqrtTall",h,d,l,n),u.style.minWidth="0.742em",p=1.056),u.height=f,u.style.height=vt(h),{span:u,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*o}},xhe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],ult=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],She=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],J2=[0,1.2,1.8,2.4,3],hlt=function(t,n,r,a,o){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),jt.contains(xhe,t)||jt.contains(She,t))return Ehe(t,n,!1,r,a,o);if(jt.contains(ult,t))return whe(t,J2[n],!1,r,a,o);throw new ht("Illegal delimiter: '"+t+"'")},flt=[{type:"small",style:Jt.SCRIPTSCRIPT},{type:"small",style:Jt.SCRIPT},{type:"small",style:Jt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],dlt=[{type:"small",style:Jt.SCRIPTSCRIPT},{type:"small",style:Jt.SCRIPT},{type:"small",style:Jt.TEXT},{type:"stack"}],Ahe=[{type:"small",style:Jt.SCRIPTSCRIPT},{type:"small",style:Jt.SCRIPT},{type:"small",style:Jt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],plt=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},Ihe=function(t,n,r,a){for(var o=Math.min(2,3-a.style.size),l=o;l<r.length&&r[l].type!=="stack";l++){var u=c2(t,plt(r[l]),"math"),h=u.height+u.depth;if(r[l].type==="small"){var f=a.havingBaseStyle(r[l].style);h*=f.sizeMultiplier}if(h>n)return r[l]}return r[r.length-1]},Che=function(t,n,r,a,o,l){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var u;jt.contains(She,t)?u=flt:jt.contains(xhe,t)?u=Ahe:u=dlt;var h=Ihe(t,n,u,a);return h.type==="small"?alt(t,h.style,r,a,o,l):h.type==="large"?Ehe(t,h.size,r,a,o,l):whe(t,n,r,a,o,l)},glt=function(t,n,r,a,o,l){var u=a.fontMetrics().axisHeight*a.sizeMultiplier,h=901,f=5/a.fontMetrics().ptPerEm,d=Math.max(n-u,r+u),p=Math.max(d/500*h,2*d-f);return Che(t,p,!0,a,o,l)},yh={sqrtImage:clt,sizedDelim:hlt,sizeToMaxHeight:J2,customSizedDelim:Che,leftRightDelim:glt},eY={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},mlt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function b6(e,t){var n=v6(e);if(n&&jt.contains(mlt,n.text))return n;throw n?new ht("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ht("Invalid delimiter type '"+e.type+"'",e)}At({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=b6(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:eY[e.funcName].size,mclass:eY[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?ze.makeSpan([e.mclass]):yh.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Rl(e.delim,e.mode));var n=new ct.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=vt(yh.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function tY(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}At({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ht("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:b6(t[0],e).text,color:n}}});At({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=b6(t[0],e),r=e.parser;++r.leftrightDepth;var a=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=bn(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:a,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{tY(e);for(var n=Xi(e.body,t,!0,["mopen","mclose"]),r=0,a=0,o=!1,l=0;l<n.length;l++)n[l].isMiddle?o=!0:(r=Math.max(n[l].height,r),a=Math.max(n[l].depth,a));r*=t.sizeMultiplier,a*=t.sizeMultiplier;var u;if(e.left==="."?u=Zb(t,["mopen"]):u=yh.leftRightDelim(e.left,r,a,t,e.mode,["mopen"]),n.unshift(u),o)for(var h=1;h<n.length;h++){var f=n[h],d=f.isMiddle;d&&(n[h]=yh.leftRightDelim(d.delim,r,a,d.options,e.mode,[]))}var p;if(e.right===".")p=Zb(t,["mclose"]);else{var g=e.rightColor?t.withColor(e.rightColor):t;p=yh.leftRightDelim(e.right,r,a,g,e.mode,["mclose"])}return n.push(p),ze.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{tY(e);var n=go(e.body,t);if(e.left!=="."){var r=new ct.MathNode("mo",[Rl(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var a=new ct.MathNode("mo",[Rl(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),n.push(a)}return _D(n)}});At({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=b6(t[0],e);if(!e.parser.leftrightDepth)throw new ht("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Zb(t,[]);else{n=yh.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Rl("|","text"):Rl(e.delim,e.mode),r=new ct.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var BD=(e,t)=>{var n=ze.wrapFragment($n(e.body,t),t),r=e.label.slice(1),a=t.sizeMultiplier,o,l=0,u=jt.isCharacterBox(e.body);if(r==="sout")o=ze.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var h=Gr({number:.6,unit:"pt"},t),f=Gr({number:.35,unit:"ex"},t),d=t.havingBaseSizing();a=a/d.sizeMultiplier;var p=n.height+n.depth+h+f;n.style.paddingLeft=vt(p/2+h);var g=Math.floor(1e3*p*a),m=cot(g),y=new Ch([new tf("phase",m)],{width:"400em",height:vt(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});o=ze.makeSvgSpan(["hide-tail"],[y],t),o.style.height=vt(p),l=n.depth+h+f}else{/cancel/.test(r)?u||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var b=0,T=0,E=0;/box/.test(r)?(E=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),b=t.fontMetrics().fboxsep+(r==="colorbox"?0:E),T=b):r==="angl"?(E=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),b=4*E,T=Math.max(0,.25-n.depth)):(b=u?.2:0,T=b),o=kh.encloseSpan(n,r,b,T,t),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=vt(E)):r==="angl"&&E!==.049&&(o.style.borderTopWidth=vt(E),o.style.borderRightWidth=vt(E)),l=n.depth+T,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}var w;if(e.backgroundColor)w=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:n,shift:0}]},t);else{var x=/cancel|phase/.test(r)?["svg-align"]:[];w=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:x}]},t)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!u?ze.makeSpan(["mord","cancel-lap"],[w],t):ze.makeSpan(["mord"],[w],t)},HD=(e,t)=>{var n=0,r=new ct.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[fr(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};At({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:a}=e,o=bn(t[0],"color-token").color,l=t[1];return{type:"enclose",mode:r.mode,label:a,backgroundColor:o,body:l}},htmlBuilder:BD,mathmlBuilder:HD});At({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:a}=e,o=bn(t[0],"color-token").color,l=bn(t[1],"color-token").color,u=t[2];return{type:"enclose",mode:r.mode,label:a,backgroundColor:l,borderColor:o,body:u}},htmlBuilder:BD,mathmlBuilder:HD});At({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});At({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"enclose",mode:n.mode,label:r,body:a}},htmlBuilder:BD,mathmlBuilder:HD});At({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var Rhe={};function Ru(e){for(var{type:t,names:n,props:r,handler:a,htmlBuilder:o,mathmlBuilder:l}=e,u={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},h=0;h<n.length;++h)Rhe[n[h]]=u;o&&(xS[t]=o),l&&(SS[t]=l)}var khe={};function Te(e,t){khe[e]=t}function nY(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var T6=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ht("{"+e.envName+"} can be used only in display mode.")};function $D(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Rf(e,t,n){var{hskipBeforeAndAfter:r,addJot:a,cols:o,arraystretch:l,colSeparationType:u,autoTag:h,singleRow:f,emptySingleRow:d,maxNumCols:p,leqno:g}=t;if(e.gullet.beginGroup(),f||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)l=1;else if(l=parseFloat(m),!l||l<0)throw new ht("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var y=[],b=[y],T=[],E=[],w=h!=null?[]:void 0;function x(){h&&e.gullet.macros.set("\\@eqnsw","1",!0)}function S(){w&&(e.gullet.macros.get("\\df@tag")?(w.push(e.subparse([new bl("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!h&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),E.push(nY(e));;){var A=e.parseExpression(!1,f?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),y.push(A);var R=e.fetch().text;if(R==="&"){if(p&&y.length===p){if(f||u)throw new ht("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(R==="\\end"){S(),y.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(b.length>1||!d)&&b.pop(),E.length<b.length+1&&E.push([]);break}else if(R==="\\\\"){e.consume();var C=void 0;e.gullet.future().text!==" "&&(C=e.parseSizeGroup(!0)),T.push(C?C.value:null),S(),E.push(nY(e)),y=[],b.push(y),x()}else throw new ht("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:l,body:b,cols:o,rowGaps:T,hskipBeforeAndAfter:r,hLinesBeforeRow:E,colSeparationType:u,tags:w,leqno:g}}function WD(e){return e.slice(0,1)==="d"?"display":"text"}var ku=function(t,n){var r,a,o=t.body.length,l=t.hLinesBeforeRow,u=0,h=new Array(o),f=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,g=5*p;if(t.colSeparationType&&t.colSeparationType==="small"){var m=n.havingStyle(Jt.SCRIPT).sizeMultiplier;g=.2778*(m/n.sizeMultiplier)}var y=t.colSeparationType==="CD"?Gr({number:3,unit:"ex"},n):12*p,b=3*p,T=t.arraystretch*y,E=.7*T,w=.3*T,x=0;function S(oe){for(var de=0;de<oe.length;++de)de>0&&(x+=.25),f.push({pos:x,isDashed:oe[de]})}for(S(l[0]),r=0;r<t.body.length;++r){var A=t.body[r],R=E,C=w;u<A.length&&(u=A.length);var N=new Array(A.length);for(a=0;a<A.length;++a){var O=$n(A[a],n);C<O.depth&&(C=O.depth),R<O.height&&(R=O.height),N[a]=O}var L=t.rowGaps[r],k=0;L&&(k=Gr(L,n),k>0&&(k+=w,C<k&&(C=k),k=0)),t.addJot&&(C+=b),N.height=R,N.depth=C,x+=R,N.pos=x,x+=C+k,h[r]=N,S(l[r+1])}var M=x/2+n.fontMetrics().axisHeight,$=t.cols||[],_=[],F,B,D=[];if(t.tags&&t.tags.some(oe=>oe))for(r=0;r<o;++r){var P=h[r],H=P.pos-M,W=t.tags[r],U=void 0;W===!0?U=ze.makeSpan(["eqn-num"],[],n):W===!1?U=ze.makeSpan([],[],n):U=ze.makeSpan([],Xi(W,n,!0),n),U.depth=P.depth,U.height=P.height,D.push({type:"elem",elem:U,shift:H})}for(a=0,B=0;a<u||B<$.length;++a,++B){for(var V=$[B]||{},G=!0;V.type==="separator";){if(G||(F=ze.makeSpan(["arraycolsep"],[]),F.style.width=vt(n.fontMetrics().doubleRuleSep),_.push(F)),V.separator==="|"||V.separator===":"){var ee=V.separator==="|"?"solid":"dashed",ce=ze.makeSpan(["vertical-separator"],[],n);ce.style.height=vt(x),ce.style.borderRightWidth=vt(d),ce.style.borderRightStyle=ee,ce.style.margin="0 "+vt(-d/2);var Q=x-M;Q&&(ce.style.verticalAlign=vt(-Q)),_.push(ce)}else throw new ht("Invalid separator type: "+V.separator);B++,V=$[B]||{},G=!1}if(!(a>=u)){var re=void 0;(a>0||t.hskipBeforeAndAfter)&&(re=jt.deflt(V.pregap,g),re!==0&&(F=ze.makeSpan(["arraycolsep"],[]),F.style.width=vt(re),_.push(F)));var le=[];for(r=0;r<o;++r){var Y=h[r],K=Y[a];if(K){var Z=Y.pos-M;K.depth=Y.depth,K.height=Y.height,le.push({type:"elem",elem:K,shift:Z})}}le=ze.makeVList({positionType:"individualShift",children:le},n),le=ze.makeSpan(["col-align-"+(V.align||"c")],[le]),_.push(le),(a<u-1||t.hskipBeforeAndAfter)&&(re=jt.deflt(V.postgap,g),re!==0&&(F=ze.makeSpan(["arraycolsep"],[]),F.style.width=vt(re),_.push(F)))}}if(h=ze.makeSpan(["mtable"],_),f.length>0){for(var z=ze.makeLineSpan("hline",n,d),X=ze.makeLineSpan("hdashline",n,d),te=[{type:"elem",elem:h,shift:0}];f.length>0;){var ne=f.pop(),Ae=ne.pos-M;ne.isDashed?te.push({type:"elem",elem:X,shift:Ae}):te.push({type:"elem",elem:z,shift:Ae})}h=ze.makeVList({positionType:"individualShift",children:te},n)}if(D.length===0)return ze.makeSpan(["mord"],[h],n);var he=ze.makeVList({positionType:"individualShift",children:D},n);return he=ze.makeSpan(["tag"],[he],n),ze.makeFragment([h,he])},vlt={c:"center ",l:"left ",r:"right "},Ou=function(t,n){for(var r=[],a=new ct.MathNode("mtd",[],["mtr-glue"]),o=new ct.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<t.body.length;l++){for(var u=t.body[l],h=[],f=0;f<u.length;f++)h.push(new ct.MathNode("mtd",[fr(u[f],n)]));t.tags&&t.tags[l]&&(h.unshift(a),h.push(a),t.leqno?h.unshift(o):h.push(o)),r.push(new ct.MathNode("mtr",h))}var d=new ct.MathNode("mtable",r),p=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);d.setAttribute("rowspacing",vt(p));var g="",m="";if(t.cols&&t.cols.length>0){var y=t.cols,b="",T=!1,E=0,w=y.length;y[0].type==="separator"&&(g+="top ",E=1),y[y.length-1].type==="separator"&&(g+="bottom ",w-=1);for(var x=E;x<w;x++)y[x].type==="align"?(m+=vlt[y[x].align],T&&(b+="none "),T=!0):y[x].type==="separator"&&T&&(b+=y[x].separator==="|"?"solid ":"dashed ",T=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(b)&&d.setAttribute("columnlines",b.trim())}if(t.colSeparationType==="align"){for(var S=t.cols||[],A="",R=1;R<S.length;R++)A+=R%2?"0em ":"1em ";d.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var C="",N=t.hLinesBeforeRow;g+=N[0].length>0?"left ":"",g+=N[N.length-1].length>0?"right ":"";for(var O=1;O<N.length-1;O++)C+=N[O].length===0?"none ":N[O][0]?"dashed ":"solid ";return/[sd]/.test(C)&&d.setAttribute("rowlines",C.trim()),g!==""&&(d=new ct.MathNode("menclose",[d]),d.setAttribute("notation",g.trim())),t.arraystretch&&t.arraystretch<1&&(d=new ct.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},Ohe=function(t,n){t.envName.indexOf("ed")===-1&&T6(t);var r=[],a=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",l=Rf(t.parser,{cols:r,addJot:!0,autoTag:o?void 0:$D(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),u,h=0,f={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",p=0;p<n[0].body.length;p++){var g=bn(n[0].body[p],"textord");d+=g.text}u=Number(d),h=u*2}var m=!h;l.body.forEach(function(E){for(var w=1;w<E.length;w+=2){var x=bn(E[w],"styling"),S=bn(x.body[0],"ordgroup");S.body.unshift(f)}if(m)h<E.length&&(h=E.length);else{var A=E.length/2;if(u<A)throw new ht("Too many math in a row: "+("expected "+u+", but got "+A),E[0])}});for(var y=0;y<h;++y){var b="r",T=0;y%2===1?b="l":y>0&&m&&(T=1),r[y]={type:"align",align:b,pregap:T,postgap:0}}return l.colSeparationType=m?"align":"alignat",l};Ru({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=v6(t[0]),r=n?[t[0]]:bn(t[0],"ordgroup").body,a=r.map(function(l){var u=MD(l),h=u.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new ht("Unknown column alignment: "+h,l)}),o={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return Rf(e.parser,o,WD(e.envName))},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),n=a.fetch().text,"lcr".indexOf(n)===-1)throw new ht("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),r.cols=[{type:"align",align:n}]}}var o=Rf(e.parser,r,WD(e.envName)),l=Math.max(0,...o.body.map(u=>u.length));return o.cols=new Array(l).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=Rf(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=v6(t[0]),r=n?[t[0]]:bn(t[0],"ordgroup").body,a=r.map(function(l){var u=MD(l),h=u.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new ht("Unknown column alignment: "+h,l)});if(a.length>1)throw new ht("{subarray} can contain only one column");var o={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=Rf(e.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ht("{subarray} can contain only one column");return o},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Rf(e.parser,t,WD(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ohe,htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){jt.contains(["gather","gather*"],e.envName)&&T6(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$D(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Rf(e.parser,t,"display")},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ohe,htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){T6(e);var t={autoTag:$D(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Rf(e.parser,t,"display")},htmlBuilder:ku,mathmlBuilder:Ou});Ru({type:"array",names:["CD"],props:{numArgs:0},handler(e){return T6(e),rlt(e.parser)},htmlBuilder:ku,mathmlBuilder:Ou});Te("\\nonumber","\\gdef\\@eqnsw{0}");Te("\\notag","\\nonumber");At({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ht(e.funcName+" valid only within array environment")}});var rY=Rhe;At({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];if(a.type!=="ordgroup")throw new ht("Invalid environment name",a);for(var o="",l=0;l<a.body.length;++l)o+=bn(a.body[l],"textord").text;if(r==="\\begin"){if(!rY.hasOwnProperty(o))throw new ht("No such environment: "+o,a);var u=rY[o],{args:h,optArgs:f}=n.parseArguments("\\begin{"+o+"}",u),d={mode:n.mode,envName:o,parser:n},p=u.handler(d,h,f);n.expect("\\end",!1);var g=n.nextToken,m=bn(n.parseFunction(),"environment");if(m.name!==o)throw new ht("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",g);return p}return{type:"environment",mode:n.mode,name:o,nameGroup:a}}});var Nhe=(e,t)=>{var n=e.font,r=t.withFont(n);return $n(e.body,r)},Lhe=(e,t)=>{var n=e.font,r=t.withFont(n);return fr(e.body,r)},iY={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};At({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=AS(t[0]),o=r;return o in iY&&(o=iY[o]),{type:"font",mode:n.mode,font:o.slice(1),body:a}},htmlBuilder:Nhe,mathmlBuilder:Lhe});At({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],a=jt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:y6(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:a}}});At({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:a}=e,{mode:o}=n,l=n.parseExpression(!0,a),u="math"+r.slice(1);return{type:"font",mode:o,font:u,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:Nhe,mathmlBuilder:Lhe});var _he=(e,t)=>{var n=t;return e==="display"?n=n.id>=Jt.SCRIPT.id?n.text():Jt.DISPLAY:e==="text"&&n.size===Jt.DISPLAY.size?n=Jt.TEXT:e==="script"?n=Jt.SCRIPT:e==="scriptscript"&&(n=Jt.SCRIPTSCRIPT),n},UD=(e,t)=>{var n=_he(e.size,t.style),r=n.fracNum(),a=n.fracDen(),o;o=t.havingStyle(r);var l=$n(e.numer,o,t);if(e.continued){var u=8.5/t.fontMetrics().ptPerEm,h=3.5/t.fontMetrics().ptPerEm;l.height=l.height<u?u:l.height,l.depth=l.depth<h?h:l.depth}o=t.havingStyle(a);var f=$n(e.denom,o,t),d,p,g;e.hasBarLine?(e.barSize?(p=Gr(e.barSize,t),d=ze.makeLineSpan("frac-line",t,p)):d=ze.makeLineSpan("frac-line",t),p=d.height,g=d.height):(d=null,p=0,g=t.fontMetrics().defaultRuleThickness);var m,y,b;n.size===Jt.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,p>0?y=3*g:y=7*g,b=t.fontMetrics().denom1):(p>0?(m=t.fontMetrics().num2,y=g):(m=t.fontMetrics().num3,y=3*g),b=t.fontMetrics().denom2);var T;if(d){var w=t.fontMetrics().axisHeight;m-l.depth-(w+.5*p)<y&&(m+=y-(m-l.depth-(w+.5*p))),w-.5*p-(f.height-b)<y&&(b+=y-(w-.5*p-(f.height-b)));var x=-(w-.5*p);T=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:b},{type:"elem",elem:d,shift:x},{type:"elem",elem:l,shift:-m}]},t)}else{var E=m-l.depth-(f.height-b);E<y&&(m+=.5*(y-E),b+=.5*(y-E)),T=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:b},{type:"elem",elem:l,shift:-m}]},t)}o=t.havingStyle(n),T.height*=o.sizeMultiplier/t.sizeMultiplier,T.depth*=o.sizeMultiplier/t.sizeMultiplier;var S;n.size===Jt.DISPLAY.size?S=t.fontMetrics().delim1:n.size===Jt.SCRIPTSCRIPT.size?S=t.havingStyle(Jt.SCRIPT).fontMetrics().delim2:S=t.fontMetrics().delim2;var A,R;return e.leftDelim==null?A=Zb(t,["mopen"]):A=yh.customSizedDelim(e.leftDelim,S,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?R=ze.makeSpan([]):e.rightDelim==null?R=Zb(t,["mclose"]):R=yh.customSizedDelim(e.rightDelim,S,!0,t.havingStyle(n),e.mode,["mclose"]),ze.makeSpan(["mord"].concat(o.sizingClasses(t)),[A,ze.makeSpan(["mfrac"],[T]),R],t)},GD=(e,t)=>{var n=new ct.MathNode("mfrac",[fr(e.numer,t),fr(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=Gr(e.barSize,t);n.setAttribute("linethickness",vt(r))}var a=_he(e.size,t.style);if(a.size!==t.style.size){n=new ct.MathNode("mstyle",[n]);var o=a.size===Jt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var l=[];if(e.leftDelim!=null){var u=new ct.MathNode("mo",[new ct.TextNode(e.leftDelim.replace("\\",""))]);u.setAttribute("fence","true"),l.push(u)}if(l.push(n),e.rightDelim!=null){var h=new ct.MathNode("mo",[new ct.TextNode(e.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return _D(l)}return n};At({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],o=t[1],l,u=null,h=null,f="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,u="(",h=")";break;case"\\\\bracefrac":l=!1,u="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,u="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:a,denom:o,hasBarLine:l,leftDelim:u,rightDelim:h,size:f,barSize:null}},htmlBuilder:UD,mathmlBuilder:GD});At({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],o=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:a,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});At({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,a;switch(n){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:r}}});var aY=["display","text","script","scriptscript"],sY=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};At({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],a=t[5],o=AS(t[0]),l=o.type==="atom"&&o.family==="open"?sY(o.text):null,u=AS(t[1]),h=u.type==="atom"&&u.family==="close"?sY(u.text):null,f=bn(t[2],"size"),d,p=null;f.isBlank?d=!0:(p=f.value,d=p.number>0);var g="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var y=bn(m.body[0],"textord");g=aY[Number(y.text)]}}else m=bn(m,"textord"),g=aY[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:a,continued:!1,hasBarLine:d,barSize:p,leftDelim:l,rightDelim:h,size:g}},htmlBuilder:UD,mathmlBuilder:GD});At({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:a}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:bn(t[0],"size").value,token:a}}});At({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0],o=jst(bn(t[1],"infix").size),l=t[2],u=o.number>0;return{type:"genfrac",mode:n.mode,numer:a,denom:l,continued:!1,hasBarLine:u,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:UD,mathmlBuilder:GD});var Dhe=(e,t)=>{var n=t.style,r,a;e.type==="supsub"?(r=e.sup?$n(e.sup,t.havingStyle(n.sup()),t):$n(e.sub,t.havingStyle(n.sub()),t),a=bn(e.base,"horizBrace")):a=bn(e,"horizBrace");var o=$n(a.base,t.havingBaseStyle(Jt.DISPLAY)),l=kh.svgSpan(a,t),u;if(a.isOver?(u=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},t),u.children[0].children[0].children[1].classes.push("svg-align")):(u=ze.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},t),u.children[0].children[0].children[0].classes.push("svg-align")),r){var h=ze.makeSpan(["mord",a.isOver?"mover":"munder"],[u],t);a.isOver?u=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:r}]},t):u=ze.makeVList({positionType:"bottom",positionData:h.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:h}]},t)}return ze.makeSpan(["mord",a.isOver?"mover":"munder"],[u],t)},ylt=(e,t)=>{var n=kh.mathMLnode(e.label);return new ct.MathNode(e.isOver?"mover":"munder",[fr(e.base,t),n])};At({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:Dhe,mathmlBuilder:ylt});At({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],a=bn(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:n.mode,href:a,body:xi(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Xi(e.body,t,!1);return ze.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=nf(e.body,t);return n instanceof _o||(n=new _o("mrow",[n])),n.setAttribute("href",e.href),n}});At({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=bn(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var a=[],o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),a.push({type:"textord",mode:"text",text:l})}var u={type:"text",mode:n.mode,font:"\\texttt",body:a};return{type:"href",mode:n.mode,href:r,body:xi(u)}}});At({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:xi(t[0])}},htmlBuilder(e,t){var n=Xi(e.body,t,!1);return ze.makeFragment(n)},mathmlBuilder(e,t){return new ct.MathNode("mrow",go(e.body,t))}});At({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:a}=e,o=bn(t[0],"raw").string,l=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u,h={};switch(r){case"\\htmlClass":h.class=o,u={command:"\\htmlClass",class:o};break;case"\\htmlId":h.id=o,u={command:"\\htmlId",id:o};break;case"\\htmlStyle":h.style=o,u={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var f=o.split(","),d=0;d<f.length;d++){var p=f[d].split("=");if(p.length!==2)throw new ht("Error parsing key-value for \\htmlData");h["data-"+p[0].trim()]=p[1].trim()}u={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(u)?{type:"html",mode:n.mode,attributes:h,body:xi(l)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Xi(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var a=ze.makeSpan(r,n,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&a.setAttribute(o,e.attributes[o]);return a},mathmlBuilder:(e,t)=>nf(e.body,t)});At({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:xi(t[0]),mathml:xi(t[1])}},htmlBuilder:(e,t)=>{var n=Xi(e.html,t,!1);return ze.makeFragment(n)},mathmlBuilder:(e,t)=>nf(e.mathml,t)});var QR=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ht("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!Jue(r))throw new ht("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};At({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,a={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},u="";if(n[0])for(var h=bn(n[0],"raw").string,f=h.split(","),d=0;d<f.length;d++){var p=f[d].split("=");if(p.length===2){var g=p[1].trim();switch(p[0].trim()){case"alt":u=g;break;case"width":a=QR(g);break;case"height":o=QR(g);break;case"totalheight":l=QR(g);break;default:throw new ht("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var m=bn(t[0],"url").url;return u===""&&(u=m,u=u.replace(/^.*[\\/]/,""),u=u.substring(0,u.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:u,width:a,height:o,totalheight:l,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=Gr(e.height,t),r=0;e.totalheight.number>0&&(r=Gr(e.totalheight,t)-n);var a=0;e.width.number>0&&(a=Gr(e.width,t));var o={height:vt(n+r)};a>0&&(o.width=vt(a)),r>0&&(o.verticalAlign=vt(-r));var l=new yot(e.src,e.alt,o);return l.height=n,l.depth=r,l},mathmlBuilder:(e,t)=>{var n=new ct.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=Gr(e.height,t),a=0;if(e.totalheight.number>0&&(a=Gr(e.totalheight,t)-r,n.setAttribute("valign",vt(-a))),n.setAttribute("height",vt(r+a)),e.width.number>0){var o=Gr(e.width,t);n.setAttribute("width",vt(o))}return n.setAttribute("src",e.src),n}});At({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,a=bn(t[0],"size");if(n.settings.strict){var o=r[1]==="m",l=a.value.unit==="mu";o?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+a.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:a.value}},htmlBuilder(e,t){return ze.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Gr(e.dimension,t);return new ct.SpaceNode(n)}});At({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:a}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=ze.makeSpan([],[$n(e.body,t)]),n=ze.makeSpan(["inner"],[n],t)):n=ze.makeSpan(["inner"],[$n(e.body,t)]);var r=ze.makeSpan(["fix"],[]),a=ze.makeSpan([e.alignment],[n,r],t),o=ze.makeSpan(["strut"]);return o.style.height=vt(a.height+a.depth),a.depth&&(o.style.verticalAlign=vt(-a.depth)),a.children.unshift(o),a=ze.makeSpan(["thinbox"],[a],t),ze.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var n=new ct.MathNode("mpadded",[fr(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});At({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,a=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",l=r.parseExpression(!1,o);return r.expect(o),r.switchMode(a),{type:"styling",mode:r.mode,style:"text",body:l}}});At({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ht("Mismatched "+e.funcName)}});var oY=(e,t)=>{switch(t.style.size){case Jt.DISPLAY.size:return e.display;case Jt.TEXT.size:return e.text;case Jt.SCRIPT.size:return e.script;case Jt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};At({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:xi(t[0]),text:xi(t[1]),script:xi(t[2]),scriptscript:xi(t[3])}},htmlBuilder:(e,t)=>{var n=oY(e,t),r=Xi(n,t,!1);return ze.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=oY(e,t);return nf(n,t)}});var Mhe=(e,t,n,r,a,o,l)=>{e=ze.makeSpan([],[e]);var u=n&&jt.isCharacterBox(n),h,f;if(t){var d=$n(t,r.havingStyle(a.sup()),r);f={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var p=$n(n,r.havingStyle(a.sub()),r);h={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var g;if(f&&h){var m=r.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+e.depth+l;g=ze.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:vt(-o)},{type:"kern",size:h.kern},{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:vt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(h){var y=e.height-l;g=ze.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:vt(-o)},{type:"kern",size:h.kern},{type:"elem",elem:e}]},r)}else if(f){var b=e.depth+l;g=ze.makeVList({positionType:"bottom",positionData:b,children:[{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:vt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var T=[g];if(h&&o!==0&&!u){var E=ze.makeSpan(["mspace"],[],r);E.style.marginRight=vt(o),T.unshift(E)}return ze.makeSpan(["mop","op-limits"],T,r)},Phe=["\\smallint"],Fv=(e,t)=>{var n,r,a=!1,o;e.type==="supsub"?(n=e.sup,r=e.sub,o=bn(e.base,"op"),a=!0):o=bn(e,"op");var l=t.style,u=!1;l.size===Jt.DISPLAY.size&&o.symbol&&!jt.contains(Phe,o.name)&&(u=!0);var h;if(o.symbol){var f=u?"Size2-Regular":"Size1-Regular",d="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(d=o.name.slice(1),o.name=d==="oiint"?"\\iint":"\\iiint"),h=ze.makeSymbol(o.name,f,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),d.length>0){var p=h.italic,g=ze.staticSvg(d+"Size"+(u?"2":"1"),t);h=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:g,shift:u?.08:0}]},t),o.name="\\"+d,h.classes.unshift("mop"),h.italic=p}}else if(o.body){var m=Xi(o.body,t,!0);m.length===1&&m[0]instanceof Cl?(h=m[0],h.classes[0]="mop"):h=ze.makeSpan(["mop"],m,t)}else{for(var y=[],b=1;b<o.name.length;b++)y.push(ze.mathsym(o.name[b],o.mode,t));h=ze.makeSpan(["mop"],y,t)}var T=0,E=0;return(h instanceof Cl||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(T=(h.height-h.depth)/2-t.fontMetrics().axisHeight,E=h.italic),a?Mhe(h,n,r,t,l,E,T):(T&&(h.style.position="relative",h.style.top=vt(T)),h)},TE=(e,t)=>{var n;if(e.symbol)n=new _o("mo",[Rl(e.name,e.mode)]),jt.contains(Phe,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new _o("mo",go(e.body,t));else{n=new _o("mi",[new Qc(e.name.slice(1))]);var r=new _o("mo",[Rl("⁡","text")]);e.parentIsSupSub?n=new _o("mrow",[n,r]):n=uhe([n,r])}return n},blt={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};At({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=r;return a.length===1&&(a=blt[a]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Fv,mathmlBuilder:TE});At({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:xi(r)}},htmlBuilder:Fv,mathmlBuilder:TE});var Tlt={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};At({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Fv,mathmlBuilder:TE});At({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Fv,mathmlBuilder:TE});At({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=Tlt[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Fv,mathmlBuilder:TE});var Fhe=(e,t)=>{var n,r,a=!1,o;e.type==="supsub"?(n=e.sup,r=e.sub,o=bn(e.base,"operatorname"),a=!0):o=bn(e,"operatorname");var l;if(o.body.length>0){for(var u=o.body.map(p=>{var g=p.text;return typeof g=="string"?{type:"textord",mode:p.mode,text:g}:p}),h=Xi(u,t.withFont("mathrm"),!0),f=0;f<h.length;f++){var d=h[f];d instanceof Cl&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ze.makeSpan(["mop"],h,t)}else l=ze.makeSpan(["mop"],[],t);return a?Mhe(l,n,r,t,t.style,0,0):l},Elt=(e,t)=>{for(var n=go(e.body,t.withFont("mathrm")),r=!0,a=0;a<n.length;a++){var o=n[a];if(!(o instanceof ct.SpaceNode))if(o instanceof ct.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof ct.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var u=n.map(d=>d.toText()).join("");n=[new ct.TextNode(u)]}var h=new ct.MathNode("mi",n);h.setAttribute("mathvariant","normal");var f=new ct.MathNode("mo",[Rl("⁡","text")]);return e.parentIsSupSub?new ct.MathNode("mrow",[h,f]):ct.newDocumentFragment([h,f])};At({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,a=t[0];return{type:"operatorname",mode:n.mode,body:xi(a),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Fhe,mathmlBuilder:Elt});Te("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");$p({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?ze.makeFragment(Xi(e.body,t,!1)):ze.makeSpan(["mord"],Xi(e.body,t,!0),t)},mathmlBuilder(e,t){return nf(e.body,t,!0)}});At({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=$n(e.body,t.havingCrampedStyle()),r=ze.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,o=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r},{type:"kern",size:a}]},t);return ze.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var n=new ct.MathNode("mo",[new ct.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new ct.MathNode("mover",[fr(e.body,t),n]);return r.setAttribute("accent","true"),r}});At({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:xi(r)}},htmlBuilder:(e,t)=>{var n=Xi(e.body,t.withPhantom(),!1);return ze.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=go(e.body,t);return new ct.MathNode("mphantom",n)}});At({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=ze.makeSpan([],[$n(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),ze.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=go(xi(e.body),t),r=new ct.MathNode("mphantom",n),a=new ct.MathNode("mpadded",[r]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});At({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=ze.makeSpan(["inner"],[$n(e.body,t.withPhantom())]),r=ze.makeSpan(["fix"],[]);return ze.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=go(xi(e.body),t),r=new ct.MathNode("mphantom",n),a=new ct.MathNode("mpadded",[r]);return a.setAttribute("width","0px"),a}});At({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=bn(t[0],"size").value,a=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:a}},htmlBuilder(e,t){var n=$n(e.body,t),r=Gr(e.dy,t);return ze.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new ct.MathNode("mpadded",[fr(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});At({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});At({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,a=n[0],o=bn(t[0],"size"),l=bn(t[1],"size");return{type:"rule",mode:r.mode,shift:a&&bn(a,"size").value,width:o.value,height:l.value}},htmlBuilder(e,t){var n=ze.makeSpan(["mord","rule"],[],t),r=Gr(e.width,t),a=Gr(e.height,t),o=e.shift?Gr(e.shift,t):0;return n.style.borderRightWidth=vt(r),n.style.borderTopWidth=vt(a),n.style.bottom=vt(o),n.width=r,n.height=a+o,n.depth=-o,n.maxFontSize=a*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Gr(e.width,t),r=Gr(e.height,t),a=e.shift?Gr(e.shift,t):0,o=t.color&&t.getColor()||"black",l=new ct.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",vt(n)),l.setAttribute("height",vt(r));var u=new ct.MathNode("mpadded",[l]);return a>=0?u.setAttribute("height",vt(a)):(u.setAttribute("height",vt(a)),u.setAttribute("depth",vt(-a))),u.setAttribute("voffset",vt(a)),u}});function Bhe(e,t,n){for(var r=Xi(e,t,!1),a=t.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var l=r[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(r[o].classes,t.sizingClasses(n)):r[o].classes[l+1]==="reset-size"+t.size&&(r[o].classes[l+1]="reset-size"+n.size),r[o].height*=a,r[o].depth*=a}return ze.makeFragment(r)}var lY=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],wlt=(e,t)=>{var n=t.havingSize(e.size);return Bhe(e.body,n,t)};At({type:"sizing",names:lY,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:a}=e,o=a.parseExpression(!1,n);return{type:"sizing",mode:a.mode,size:lY.indexOf(r)+1,body:o}},htmlBuilder:wlt,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=go(e.body,n),a=new ct.MathNode("mstyle",r);return a.setAttribute("mathsize",vt(n.sizeMultiplier)),a}});At({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,a=!1,o=!1,l=n[0]&&bn(n[0],"ordgroup");if(l)for(var u="",h=0;h<l.body.length;++h){var f=l.body[h];if(u=f.text,u==="t")a=!0;else if(u==="b")o=!0;else{a=!1,o=!1;break}}else a=!0,o=!0;var d=t[0];return{type:"smash",mode:r.mode,body:d,smashHeight:a,smashDepth:o}},htmlBuilder:(e,t)=>{var n=ze.makeSpan([],[$n(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].depth=0;var o=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return ze.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var n=new ct.MathNode("mpadded",[fr(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});At({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,a=n[0],o=t[0];return{type:"sqrt",mode:r.mode,body:o,index:a}},htmlBuilder(e,t){var n=$n(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=ze.wrapFragment(n,t);var r=t.fontMetrics(),a=r.defaultRuleThickness,o=a;t.style.id<Jt.TEXT.id&&(o=t.fontMetrics().xHeight);var l=a+o/4,u=n.height+n.depth+l+a,{span:h,ruleWidth:f,advanceWidth:d}=yh.sqrtImage(u,t),p=h.height-f;p>n.height+n.depth+l&&(l=(l+p-n.height-n.depth)/2);var g=h.height-n.height-l-f;n.style.paddingLeft=vt(d);var m=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:h},{type:"kern",size:f}]},t);if(e.index){var y=t.havingStyle(Jt.SCRIPTSCRIPT),b=$n(e.index,y,t),T=.6*(m.height-m.depth),E=ze.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:b}]},t),w=ze.makeSpan(["root"],[E]);return ze.makeSpan(["mord","sqrt"],[w,m],t)}else return ze.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new ct.MathNode("mroot",[fr(n,t),fr(r,t)]):new ct.MathNode("msqrt",[fr(n,t)])}});var cY={display:Jt.DISPLAY,text:Jt.TEXT,script:Jt.SCRIPT,scriptscript:Jt.SCRIPTSCRIPT};At({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:a}=e,o=a.parseExpression(!0,n),l=r.slice(1,r.length-5);return{type:"styling",mode:a.mode,style:l,body:o}},htmlBuilder(e,t){var n=cY[e.style],r=t.havingStyle(n).withFont("");return Bhe(e.body,r,t)},mathmlBuilder(e,t){var n=cY[e.style],r=t.havingStyle(n),a=go(e.body,r),o=new ct.MathNode("mstyle",a),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},u=l[e.style];return o.setAttribute("scriptlevel",u[0]),o.setAttribute("displaystyle",u[1]),o}});var xlt=function(t,n){var r=t.base;if(r)if(r.type==="op"){var a=r.limits&&(n.style.size===Jt.DISPLAY.size||r.alwaysHandleSupSub);return a?Fv:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===Jt.DISPLAY.size||r.limits);return o?Fhe:null}else{if(r.type==="accent")return jt.isCharacterBox(r.base)?PD:null;if(r.type==="horizBrace"){var l=!t.sub;return l===r.isOver?Dhe:null}else return null}else return null};$p({type:"supsub",htmlBuilder(e,t){var n=xlt(e,t);if(n)return n(e,t);var{base:r,sup:a,sub:o}=e,l=$n(r,t),u,h,f=t.fontMetrics(),d=0,p=0,g=r&&jt.isCharacterBox(r);if(a){var m=t.havingStyle(t.style.sup());u=$n(a,m,t),g||(d=l.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(o){var y=t.havingStyle(t.style.sub());h=$n(o,y,t),g||(p=l.depth+y.fontMetrics().subDrop*y.sizeMultiplier/t.sizeMultiplier)}var b;t.style===Jt.DISPLAY?b=f.sup1:t.style.cramped?b=f.sup3:b=f.sup2;var T=t.sizeMultiplier,E=vt(.5/f.ptPerEm/T),w=null;if(h){var x=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(l instanceof Cl||x)&&(w=vt(-l.italic))}var S;if(u&&h){d=Math.max(d,b,u.depth+.25*f.xHeight),p=Math.max(p,f.sub2);var A=f.defaultRuleThickness,R=4*A;if(d-u.depth-(h.height-p)<R){p=R-(d-u.depth)+h.height;var C=.8*f.xHeight-(d-u.depth);C>0&&(d+=C,p-=C)}var N=[{type:"elem",elem:h,shift:p,marginRight:E,marginLeft:w},{type:"elem",elem:u,shift:-d,marginRight:E}];S=ze.makeVList({positionType:"individualShift",children:N},t)}else if(h){p=Math.max(p,f.sub1,h.height-.8*f.xHeight);var O=[{type:"elem",elem:h,marginLeft:w,marginRight:E}];S=ze.makeVList({positionType:"shift",positionData:p,children:O},t)}else if(u)d=Math.max(d,b,u.depth+.25*f.xHeight),S=ze.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:u,marginRight:E}]},t);else throw new Error("supsub must have either sup or sub.");var L=T8(l,"right")||"mord";return ze.makeSpan([L],[l,ze.makeSpan(["msupsub"],[S])],t)},mathmlBuilder(e,t){var n=!1,r,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var o=[fr(e.base,t)];e.sub&&o.push(fr(e.sub,t)),e.sup&&o.push(fr(e.sup,t));var l;if(n)l=r?"mover":"munder";else if(e.sub)if(e.sup){var f=e.base;f&&f.type==="op"&&f.limits&&t.style===Jt.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(t.style===Jt.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=e.base;h&&h.type==="op"&&h.limits&&(t.style===Jt.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||t.style===Jt.DISPLAY)?l="munder":l="msub"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Jt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Jt.DISPLAY)?l="mover":l="msup"}return new ct.MathNode(l,o)}});$p({type:"atom",htmlBuilder(e,t){return ze.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new ct.MathNode("mo",[Rl(e.text,e.mode)]);if(e.family==="bin"){var r=DD(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var Hhe={mi:"italic",mn:"normal",mtext:"normal"};$p({type:"mathord",htmlBuilder(e,t){return ze.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new ct.MathNode("mi",[Rl(e.text,e.mode,t)]),r=DD(e,t)||"italic";return r!==Hhe[n.type]&&n.setAttribute("mathvariant",r),n}});$p({type:"textord",htmlBuilder(e,t){return ze.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Rl(e.text,e.mode,t),r=DD(e,t)||"normal",a;return e.mode==="text"?a=new ct.MathNode("mtext",[n]):/[0-9]/.test(e.text)?a=new ct.MathNode("mn",[n]):e.text==="\\prime"?a=new ct.MathNode("mo",[n]):a=new ct.MathNode("mi",[n]),r!==Hhe[a.type]&&a.setAttribute("mathvariant",r),a}});var JR={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ek={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};$p({type:"spacing",htmlBuilder(e,t){if(ek.hasOwnProperty(e.text)){var n=ek[e.text].className||"";if(e.mode==="text"){var r=ze.makeOrd(e,t,"textord");return r.classes.push(n),r}else return ze.makeSpan(["mspace",n],[ze.mathsym(e.text,e.mode,t)],t)}else{if(JR.hasOwnProperty(e.text))return ze.makeSpan(["mspace",JR[e.text]],[],t);throw new ht('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(ek.hasOwnProperty(e.text))n=new ct.MathNode("mtext",[new ct.TextNode(" ")]);else{if(JR.hasOwnProperty(e.text))return new ct.MathNode("mspace");throw new ht('Unknown type of space "'+e.text+'"')}return n}});var uY=()=>{var e=new ct.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};$p({type:"tag",mathmlBuilder(e,t){var n=new ct.MathNode("mtable",[new ct.MathNode("mtr",[uY(),new ct.MathNode("mtd",[nf(e.body,t)]),uY(),new ct.MathNode("mtd",[nf(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var hY={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},fY={"\\textbf":"textbf","\\textmd":"textmd"},Slt={"\\textit":"textit","\\textup":"textup"},dY=(e,t)=>{var n=e.font;if(n){if(hY[n])return t.withTextFontFamily(hY[n]);if(fY[n])return t.withTextFontWeight(fY[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(Slt[n])};At({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,a=t[0];return{type:"text",mode:n.mode,body:xi(a),font:r}},htmlBuilder(e,t){var n=dY(e,t),r=Xi(e.body,n,!0);return ze.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=dY(e,t);return nf(e.body,n)}});At({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=$n(e.body,t),r=ze.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,o=ze.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:a},{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n}]},t);return ze.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var n=new ct.MathNode("mo",[new ct.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new ct.MathNode("munder",[fr(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});At({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=$n(e.body,t),r=t.fontMetrics().axisHeight,a=.5*(n.height-r-(n.depth+r));return ze.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new ct.MathNode("mpadded",[fr(e.body,t)],["vcenter"])}});At({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ht("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=pY(e),r=[],a=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),r.push(ze.makeSymbol(l,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return ze.makeSpan(["mord","text"].concat(a.sizingClasses(t)),ze.tryCombineChars(r),a)},mathmlBuilder(e,t){var n=new ct.TextNode(pY(e)),r=new ct.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var pY=e=>e.body.replace(/ /g,e.star?"␣":" "),O0=lhe,$he=`[ \r
	]`,Alt="\\\\[a-zA-Z@]+",Ilt="\\\\[^\uD800-\uDFFF]",Clt="("+Alt+")"+$he+"*",Rlt=`\\\\(
|[ \r	]+
?)[ \r	]*`,S8="[̀-ͯ]",klt=new RegExp(S8+"+$"),Olt="("+$he+"+)|"+(Rlt+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(S8+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(S8+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Clt)+("|"+Ilt+")");let gY=class{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(Olt,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new bl("EOF",new ko(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ht("Unexpected character: '"+t[n]+"'",new bl(t[n],new ko(this,n,n+1)));var a=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[a]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new bl(a,new ko(this,n,this.tokenRegex.lastIndex))}};class Nlt{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ht("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var Llt=khe;Te("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});Te("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});Te("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});Te("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});Te("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});Te("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Te("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var mY={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Te("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ht("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=mY[t.text],r==null||r>=n)throw new ht("Invalid base-"+n+" digit "+t.text);for(var a;(a=mY[e.future().text])!=null&&a<n;)r*=n,r+=a,e.popToken()}return"\\@char{"+r+"}"});var zD=(e,t,n,r)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new ht("\\newcommand's first argument must be a macro name");var o=a[0].text,l=e.isDefined(o);if(l&&!t)throw new ht("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!n)throw new ht("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var u=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var h="",f=e.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=e.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new ht("Invalid number of arguments: "+h);u=parseInt(h),a=e.consumeArg().tokens}return l&&r||e.macros.set(o,{tokens:a,numArgs:u}),""};Te("\\newcommand",e=>zD(e,!1,!0,!1));Te("\\renewcommand",e=>zD(e,!0,!1,!1));Te("\\providecommand",e=>zD(e,!0,!0,!0));Te("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});Te("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});Te("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),O0[n],Er.math[n],Er.text[n]),""});Te("\\bgroup","{");Te("\\egroup","}");Te("~","\\nobreakspace");Te("\\lq","`");Te("\\rq","'");Te("\\aa","\\r a");Te("\\AA","\\r A");Te("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");Te("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Te("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");Te("ℬ","\\mathscr{B}");Te("ℰ","\\mathscr{E}");Te("ℱ","\\mathscr{F}");Te("ℋ","\\mathscr{H}");Te("ℐ","\\mathscr{I}");Te("ℒ","\\mathscr{L}");Te("ℳ","\\mathscr{M}");Te("ℛ","\\mathscr{R}");Te("ℭ","\\mathfrak{C}");Te("ℌ","\\mathfrak{H}");Te("ℨ","\\mathfrak{Z}");Te("\\Bbbk","\\Bbb{k}");Te("·","\\cdotp");Te("\\llap","\\mathllap{\\textrm{#1}}");Te("\\rlap","\\mathrlap{\\textrm{#1}}");Te("\\clap","\\mathclap{\\textrm{#1}}");Te("\\mathstrut","\\vphantom{(}");Te("\\underbar","\\underline{\\text{#1}}");Te("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Te("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");Te("\\ne","\\neq");Te("≠","\\neq");Te("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");Te("∉","\\notin");Te("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");Te("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");Te("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");Te("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");Te("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");Te("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");Te("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");Te("⟂","\\perp");Te("‼","\\mathclose{!\\mkern-0.8mu!}");Te("∌","\\notni");Te("⌜","\\ulcorner");Te("⌝","\\urcorner");Te("⌞","\\llcorner");Te("⌟","\\lrcorner");Te("©","\\copyright");Te("®","\\textregistered");Te("️","\\textregistered");Te("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Te("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Te("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Te("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Te("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");Te("⋮","\\vdots");Te("\\varGamma","\\mathit{\\Gamma}");Te("\\varDelta","\\mathit{\\Delta}");Te("\\varTheta","\\mathit{\\Theta}");Te("\\varLambda","\\mathit{\\Lambda}");Te("\\varXi","\\mathit{\\Xi}");Te("\\varPi","\\mathit{\\Pi}");Te("\\varSigma","\\mathit{\\Sigma}");Te("\\varUpsilon","\\mathit{\\Upsilon}");Te("\\varPhi","\\mathit{\\Phi}");Te("\\varPsi","\\mathit{\\Psi}");Te("\\varOmega","\\mathit{\\Omega}");Te("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Te("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Te("\\boxed","\\fbox{$\\displaystyle{#1}$}");Te("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Te("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Te("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");Te("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");Te("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var vY={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Te("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in vY?t=vY[n]:(n.slice(0,4)==="\\not"||n in Er.math&&jt.contains(["bin","rel"],Er.math[n].group))&&(t="\\dotsb"),t});var YD={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Te("\\dotso",function(e){var t=e.future().text;return t in YD?"\\ldots\\,":"\\ldots"});Te("\\dotsc",function(e){var t=e.future().text;return t in YD&&t!==","?"\\ldots\\,":"\\ldots"});Te("\\cdots",function(e){var t=e.future().text;return t in YD?"\\@cdots\\,":"\\@cdots"});Te("\\dotsb","\\cdots");Te("\\dotsm","\\cdots");Te("\\dotsi","\\!\\cdots");Te("\\dotsx","\\ldots\\,");Te("\\DOTSI","\\relax");Te("\\DOTSB","\\relax");Te("\\DOTSX","\\relax");Te("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Te("\\,","\\tmspace+{3mu}{.1667em}");Te("\\thinspace","\\,");Te("\\>","\\mskip{4mu}");Te("\\:","\\tmspace+{4mu}{.2222em}");Te("\\medspace","\\:");Te("\\;","\\tmspace+{5mu}{.2777em}");Te("\\thickspace","\\;");Te("\\!","\\tmspace-{3mu}{.1667em}");Te("\\negthinspace","\\!");Te("\\negmedspace","\\tmspace-{4mu}{.2222em}");Te("\\negthickspace","\\tmspace-{5mu}{.277em}");Te("\\enspace","\\kern.5em ");Te("\\enskip","\\hskip.5em\\relax");Te("\\quad","\\hskip1em\\relax");Te("\\qquad","\\hskip2em\\relax");Te("\\tag","\\@ifstar\\tag@literal\\tag@paren");Te("\\tag@paren","\\tag@literal{({#1})}");Te("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ht("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Te("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Te("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Te("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Te("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Te("\\newline","\\\\\\relax");Te("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Whe=vt(Zc["Main-Regular"][84][1]-.7*Zc["Main-Regular"][65][1]);Te("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Whe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Te("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Whe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Te("\\hspace","\\@ifstar\\@hspacer\\@hspace");Te("\\@hspace","\\hskip #1\\relax");Te("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Te("\\ordinarycolon",":");Te("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Te("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Te("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Te("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Te("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Te("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Te("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Te("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Te("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Te("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Te("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Te("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Te("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Te("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Te("∷","\\dblcolon");Te("∹","\\eqcolon");Te("≔","\\coloneqq");Te("≕","\\eqqcolon");Te("⩴","\\Coloneqq");Te("\\ratio","\\vcentcolon");Te("\\coloncolon","\\dblcolon");Te("\\colonequals","\\coloneqq");Te("\\coloncolonequals","\\Coloneqq");Te("\\equalscolon","\\eqqcolon");Te("\\equalscoloncolon","\\Eqqcolon");Te("\\colonminus","\\coloneq");Te("\\coloncolonminus","\\Coloneq");Te("\\minuscolon","\\eqcolon");Te("\\minuscoloncolon","\\Eqcolon");Te("\\coloncolonapprox","\\Colonapprox");Te("\\coloncolonsim","\\Colonsim");Te("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Te("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Te("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Te("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Te("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");Te("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Te("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Te("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Te("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Te("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Te("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Te("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Te("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Te("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");Te("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");Te("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");Te("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");Te("\\nleqq","\\html@mathml{\\@nleqq}{≰}");Te("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");Te("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");Te("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");Te("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");Te("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");Te("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");Te("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");Te("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");Te("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");Te("\\imath","\\html@mathml{\\@imath}{ı}");Te("\\jmath","\\html@mathml{\\@jmath}{ȷ}");Te("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");Te("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");Te("⟦","\\llbracket");Te("⟧","\\rrbracket");Te("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");Te("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");Te("⦃","\\lBrace");Te("⦄","\\rBrace");Te("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");Te("⦵","\\minuso");Te("\\darr","\\downarrow");Te("\\dArr","\\Downarrow");Te("\\Darr","\\Downarrow");Te("\\lang","\\langle");Te("\\rang","\\rangle");Te("\\uarr","\\uparrow");Te("\\uArr","\\Uparrow");Te("\\Uarr","\\Uparrow");Te("\\N","\\mathbb{N}");Te("\\R","\\mathbb{R}");Te("\\Z","\\mathbb{Z}");Te("\\alef","\\aleph");Te("\\alefsym","\\aleph");Te("\\Alpha","\\mathrm{A}");Te("\\Beta","\\mathrm{B}");Te("\\bull","\\bullet");Te("\\Chi","\\mathrm{X}");Te("\\clubs","\\clubsuit");Te("\\cnums","\\mathbb{C}");Te("\\Complex","\\mathbb{C}");Te("\\Dagger","\\ddagger");Te("\\diamonds","\\diamondsuit");Te("\\empty","\\emptyset");Te("\\Epsilon","\\mathrm{E}");Te("\\Eta","\\mathrm{H}");Te("\\exist","\\exists");Te("\\harr","\\leftrightarrow");Te("\\hArr","\\Leftrightarrow");Te("\\Harr","\\Leftrightarrow");Te("\\hearts","\\heartsuit");Te("\\image","\\Im");Te("\\infin","\\infty");Te("\\Iota","\\mathrm{I}");Te("\\isin","\\in");Te("\\Kappa","\\mathrm{K}");Te("\\larr","\\leftarrow");Te("\\lArr","\\Leftarrow");Te("\\Larr","\\Leftarrow");Te("\\lrarr","\\leftrightarrow");Te("\\lrArr","\\Leftrightarrow");Te("\\Lrarr","\\Leftrightarrow");Te("\\Mu","\\mathrm{M}");Te("\\natnums","\\mathbb{N}");Te("\\Nu","\\mathrm{N}");Te("\\Omicron","\\mathrm{O}");Te("\\plusmn","\\pm");Te("\\rarr","\\rightarrow");Te("\\rArr","\\Rightarrow");Te("\\Rarr","\\Rightarrow");Te("\\real","\\Re");Te("\\reals","\\mathbb{R}");Te("\\Reals","\\mathbb{R}");Te("\\Rho","\\mathrm{P}");Te("\\sdot","\\cdot");Te("\\sect","\\S");Te("\\spades","\\spadesuit");Te("\\sub","\\subset");Te("\\sube","\\subseteq");Te("\\supe","\\supseteq");Te("\\Tau","\\mathrm{T}");Te("\\thetasym","\\vartheta");Te("\\weierp","\\wp");Te("\\Zeta","\\mathrm{Z}");Te("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Te("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Te("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Te("\\bra","\\mathinner{\\langle{#1}|}");Te("\\ket","\\mathinner{|{#1}\\rangle}");Te("\\braket","\\mathinner{\\langle{#1}\\rangle}");Te("\\Bra","\\left\\langle#1\\right|");Te("\\Ket","\\left|#1\\right\\rangle");var Uhe=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.consumeArg().tokens,l=t.macros.get("|"),u=t.macros.get("\\|");t.macros.beginGroup();var h=p=>g=>{e&&(g.macros.set("|",l),a.length&&g.macros.set("\\|",u));var m=p;if(!p&&a.length){var y=g.future();y.text==="|"&&(g.popToken(),m=!0)}return{tokens:m?a:r,numArgs:0}};t.macros.set("|",h(!1)),a.length&&t.macros.set("\\|",h(!0));var f=t.consumeArg().tokens,d=t.expandTokens([...o,...f,...n]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};Te("\\bra@ket",Uhe(!1));Te("\\bra@set",Uhe(!0));Te("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Te("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Te("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Te("\\angln","{\\angl n}");Te("\\blue","\\textcolor{##6495ed}{#1}");Te("\\orange","\\textcolor{##ffa500}{#1}");Te("\\pink","\\textcolor{##ff00af}{#1}");Te("\\red","\\textcolor{##df0030}{#1}");Te("\\green","\\textcolor{##28ae7b}{#1}");Te("\\gray","\\textcolor{gray}{#1}");Te("\\purple","\\textcolor{##9d38bd}{#1}");Te("\\blueA","\\textcolor{##ccfaff}{#1}");Te("\\blueB","\\textcolor{##80f6ff}{#1}");Te("\\blueC","\\textcolor{##63d9ea}{#1}");Te("\\blueD","\\textcolor{##11accd}{#1}");Te("\\blueE","\\textcolor{##0c7f99}{#1}");Te("\\tealA","\\textcolor{##94fff5}{#1}");Te("\\tealB","\\textcolor{##26edd5}{#1}");Te("\\tealC","\\textcolor{##01d1c1}{#1}");Te("\\tealD","\\textcolor{##01a995}{#1}");Te("\\tealE","\\textcolor{##208170}{#1}");Te("\\greenA","\\textcolor{##b6ffb0}{#1}");Te("\\greenB","\\textcolor{##8af281}{#1}");Te("\\greenC","\\textcolor{##74cf70}{#1}");Te("\\greenD","\\textcolor{##1fab54}{#1}");Te("\\greenE","\\textcolor{##0d923f}{#1}");Te("\\goldA","\\textcolor{##ffd0a9}{#1}");Te("\\goldB","\\textcolor{##ffbb71}{#1}");Te("\\goldC","\\textcolor{##ff9c39}{#1}");Te("\\goldD","\\textcolor{##e07d10}{#1}");Te("\\goldE","\\textcolor{##a75a05}{#1}");Te("\\redA","\\textcolor{##fca9a9}{#1}");Te("\\redB","\\textcolor{##ff8482}{#1}");Te("\\redC","\\textcolor{##f9685d}{#1}");Te("\\redD","\\textcolor{##e84d39}{#1}");Te("\\redE","\\textcolor{##bc2612}{#1}");Te("\\maroonA","\\textcolor{##ffbde0}{#1}");Te("\\maroonB","\\textcolor{##ff92c6}{#1}");Te("\\maroonC","\\textcolor{##ed5fa6}{#1}");Te("\\maroonD","\\textcolor{##ca337c}{#1}");Te("\\maroonE","\\textcolor{##9e034e}{#1}");Te("\\purpleA","\\textcolor{##ddd7ff}{#1}");Te("\\purpleB","\\textcolor{##c6b9fc}{#1}");Te("\\purpleC","\\textcolor{##aa87ff}{#1}");Te("\\purpleD","\\textcolor{##7854ab}{#1}");Te("\\purpleE","\\textcolor{##543b78}{#1}");Te("\\mintA","\\textcolor{##f5f9e8}{#1}");Te("\\mintB","\\textcolor{##edf2df}{#1}");Te("\\mintC","\\textcolor{##e0e5cc}{#1}");Te("\\grayA","\\textcolor{##f6f7f7}{#1}");Te("\\grayB","\\textcolor{##f0f1f2}{#1}");Te("\\grayC","\\textcolor{##e3e5e6}{#1}");Te("\\grayD","\\textcolor{##d6d8da}{#1}");Te("\\grayE","\\textcolor{##babec2}{#1}");Te("\\grayF","\\textcolor{##888d93}{#1}");Te("\\grayG","\\textcolor{##626569}{#1}");Te("\\grayH","\\textcolor{##3b3e40}{#1}");Te("\\grayI","\\textcolor{##21242c}{#1}");Te("\\kaBlue","\\textcolor{##314453}{#1}");Te("\\kaGreen","\\textcolor{##71B307}{#1}");var Ghe={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class _lt{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Nlt(Llt,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new gY(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:a,end:r}=this.consumeArg(["]"])}else({tokens:a,start:n,end:r}=this.consumeArg());return this.pushToken(new bl("EOF",r.loc)),this.pushTokens(a),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var a=this.future(),o,l=0,u=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new ht("Extra }",o)}else if(o.text==="EOF")throw new ht("Unexpected end of input in a macro argument, expected '"+(t&&r?t[u]:"}")+"'",o);if(t&&r)if((l===0||l===1&&t[u]==="{")&&o.text===t[u]){if(++u,u===t.length){n.splice(-u,u);break}}else u=0}while(l!==0||r);return a.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:a,end:o}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ht("The length of delimiters doesn't match the number of args!");for(var r=n[0],a=0;a<r.length;a++){var o=this.popToken();if(r[a]!==o.text)throw new ht("Use of the macro doesn't match its definition",o)}}for(var l=[],u=0;u<t;u++)l.push(this.consumeArg(n&&n[u+1]).tokens);return l}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ht("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,a=n.noexpand?null:this._getExpansion(r);if(a==null||t&&a.unexpandable){if(t&&a==null&&r[0]==="\\"&&!this.isDefined(r))throw new ht("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=a.tokens,l=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){o=o.slice();for(var u=o.length-1;u>=0;--u){var h=o[u];if(h.text==="#"){if(u===0)throw new ht("Incomplete placeholder at end of macro body",h);if(h=o[--u],h.text==="#")o.splice(u+1,1);else if(/^[1-9]$/.test(h.text))o.splice(u,2,...l[+h.text-1]);else throw new ht("Not a valid argument number",h)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new bl(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),n.push(a)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var a=typeof n=="function"?n(this):n;if(typeof a=="string"){var o=0;if(a.indexOf("#")!==-1)for(var l=a.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var u=new gY(a,this.settings),h=[],f=u.lex();f.text!=="EOF";)h.push(f),f=u.lex();h.reverse();var d={tokens:h,numArgs:o};return d}return a}isDefined(t){return this.macros.has(t)||O0.hasOwnProperty(t)||Er.math.hasOwnProperty(t)||Er.text.hasOwnProperty(t)||Ghe.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:O0.hasOwnProperty(t)&&!O0[t].primitive}}var yY=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,d3=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),tk={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},bY={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let zhe=class Yhe{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new _lt(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ht("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new bl("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(Yhe.endOfExpression.indexOf(a.text)!==-1||n&&a.text===n||t&&O0[a.text]&&O0[a.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,a=0;a<t.length;a++)if(t[a].type==="infix"){if(n!==-1)throw new ht("only one infix operator per group",t[a].token);n=a,r=t[a].replaceWith}if(n!==-1&&r){var o,l,u=t.slice(0,n),h=t.slice(n+1);u.length===1&&u[0].type==="ordgroup"?o=u[0]:o={type:"ordgroup",mode:this.mode,body:u},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return r==="\\\\abovefrac"?f=this.callFunction(r,[o,t[n],l],[]):f=this.callFunction(r,[o,l],[]),[f]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var a=this.parseGroup(t);if(!a)throw new ht("Expected group after '"+r+"'",n);return a}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var a={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return o}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,a;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var l=o.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new ht("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new ht("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(a)throw new ht("Double subscript",o);a=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new ht("Double superscript",o);var u={type:"textord",mode:this.mode,text:"\\prime"},h=[u];for(this.consume();this.fetch().text==="'";)h.push(u),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:h}}else if(d3[o.text]){var f=yY.test(o.text),d=[];for(d.push(new bl(d3[o.text])),this.consume();;){var p=this.fetch().text;if(!d3[p]||yY.test(p)!==f)break;d.unshift(new bl(d3[p])),this.consume()}var g=this.subparse(d);f?a={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||a?{type:"supsub",mode:this.mode,base:n,sup:r,sub:a}:n}parseFunction(t,n){var r=this.fetch(),a=r.text,o=O0[a];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new ht("Got function '"+a+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new ht("Can't use function '"+a+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new ht("Can't use function '"+a+"' in math mode",r);var{args:l,optArgs:u}=this.parseArguments(a,o);return this.callFunction(a,l,u,r,t)}callFunction(t,n,r,a,o){var l={funcName:t,parser:this,token:a,breakOnTokenText:o},u=O0[t];if(u&&u.handler)return u.handler(l,n,r);throw new ht("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var a=[],o=[],l=0;l<r;l++){var u=n.argTypes&&n.argTypes[l],h=l<n.numOptionalArgs;(n.primitive&&u==null||n.type==="sqrt"&&l===1&&o[0]==null)&&(u="primitive");var f=this.parseGroupOfType("argument to '"+t+"'",u,h);if(h)o.push(f);else if(f!=null)a.push(f);else throw new ht("Null argument, please report this as a bug")}return{args:a,optArgs:o}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var a=this.parseArgumentGroup(r,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new ht("A primitive argument cannot be optional");var l=this.parseGroup(t);if(l==null)throw new ht("Expected group as "+t,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ht("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var a="",o;(o=this.fetch()).text!=="EOF";)a+=o.text,this.consume();return this.consume(),r.text=a,r}parseRegexGroup(t,n){for(var r=this.fetch(),a=r,o="",l;(l=this.fetch()).text!=="EOF"&&t.test(o+l.text);)a=l,o+=a.text,this.consume();if(o==="")throw new ht("Invalid "+n+": '"+r.text+"'",r);return r.range(a,o)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ht("Invalid color: '"+n.text+"'",n);var a=r[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!a)throw new ht("Invalid size: '"+n.text+"'",n);var o={number:+(a[1]+a[2]),unit:a[3]};if(!Jue(o))throw new ht("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var a=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(a),l}parseGroup(t,n){var r=this.fetch(),a=r.text,o;if(a==="{"||a==="\\begingroup"){this.consume();var l=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var u=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:ko.range(r,h),body:u,semisimple:a==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,t)||this.parseSymbol(),o==null&&a[0]==="\\"&&!Ghe.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ht("Undefined control sequence: "+a,r);o=this.formatUnsupportedCmd(a),this.consume()}return o}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var a=t[r],o=a.text;o==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:ko.range(a,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:ko.range(a,t[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&t[r+1].text===o&&(t.splice(r,2,{type:"textord",mode:"text",loc:ko.range(a,t[r+1]),text:o+o}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),a=r.charAt(0)==="*";if(a&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ht(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:a}}bY.hasOwnProperty(n[0])&&!Er[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=bY[n[0]]+n.slice(1));var o=klt.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var l;if(Er[this.mode][n]){this.settings.strict&&this.mode==="math"&&b8.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var u=Er[this.mode][n].group,h=ko.range(t),f;if(Eot.hasOwnProperty(u)){var d=u;f={type:"atom",mode:this.mode,family:d,loc:h,text:n}}else f={type:u,mode:this.mode,loc:h,text:n};l=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Zue(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),l={type:"textord",mode:"text",loc:ko.range(t),text:n};else return null;if(this.consume(),o)for(var p=0;p<o[0].length;p++){var g=o[0][p];if(!tk[g])throw new ht("Unknown accent ' "+g+"'",t);var m=tk[g][this.mode]||tk[g].text;if(!m)throw new ht("Accent "+g+" unsupported in "+this.mode+" mode",t);l={type:"accent",mode:this.mode,loc:ko.range(t),label:m,isStretchy:!1,isShifty:!0,base:l}}return l}};zhe.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var VD=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new zhe(t,n);delete r.gullet.macros.current["\\df@tag"];var a=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ht("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:r.subparse([new bl("\\df@tag")])}]}return a},qD=function(t,n,r){n.textContent="";var a=E6(t,r).toNode();n.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),qD=function(){throw new ht("KaTeX doesn't work in quirks mode.")});var Vhe=function(t,n){var r=E6(t,n).toMarkup();return r},qhe=function(t,n){var r=new RD(n);return VD(t,r)},jhe=function(t,n,r){if(r.throwOnError||!(t instanceof ht))throw t;var a=ze.makeSpan(["katex-error"],[new Cl(n)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+r.errorColor),a},E6=function(t,n){var r=new RD(n);try{var a=VD(t,r);return zot(a,t,r)}catch(o){return jhe(o,t,r)}},Xhe=function(t,n){var r=new RD(n);try{var a=VD(t,r);return Yot(a,t,r)}catch(o){return jhe(o,t,r)}},Khe="0.16.21",Zhe={Span:bE,Anchor:ND,SymbolNode:Cl,SvgNode:Ch,PathNode:tf,LineNode:y8},Dlt={version:Khe,render:qD,renderToString:Vhe,ParseError:ht,SETTINGS_SCHEMA:Q2,__parse:qhe,__renderToDomTree:E6,__renderToHTMLTree:Xhe,__setFontMetrics:Que,__defineSymbol:q,__defineFunction:At,__defineMacro:Te,__domTree:Zhe};const Mlt=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ht,SETTINGS_SCHEMA:Q2,__defineFunction:At,__defineMacro:Te,__defineSymbol:q,__domTree:Zhe,__parse:qhe,__renderToDomTree:E6,__renderToHTMLTree:Xhe,__setFontMetrics:Que,default:Dlt,get render(){return qD},renderToString:Vhe,version:Khe},Symbol.toStringTag,{value:"Module"}));var Plt="[object Symbol]";function lp(e){return typeof e=="symbol"||Al(e)&&Uh(e)==Plt}function Ud(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var TY=xl?xl.prototype:void 0,EY=TY?TY.toString:void 0;function Qhe(e){if(typeof e=="string")return e;if(An(e))return Ud(e,Qhe)+"";if(lp(e))return EY?EY.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Flt=/\s/;function Blt(e){for(var t=e.length;t--&&Flt.test(e.charAt(t)););return t}var Hlt=/^\s+/;function $lt(e){return e&&e.slice(0,Blt(e)+1).replace(Hlt,"")}var wY=NaN,Wlt=/^[-+]0x[0-9a-f]+$/i,Ult=/^0b[01]+$/i,Glt=/^0o[0-7]+$/i,zlt=parseInt;function Ylt(e){if(typeof e=="number")return e;if(lp(e))return wY;if(lo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$lt(e);var n=Ult.test(e);return n||Glt.test(e)?zlt(e.slice(2),n?2:8):Wlt.test(e)?wY:+e}var Vlt=1/0,qlt=17976931348623157e292;function Sx(e){if(!e)return e===0?e:0;if(e=Ylt(e),e===Vlt||e===-1/0){var t=e<0?-1:1;return t*qlt}return e===e?e:0}function w6(e){var t=Sx(e),n=t%1;return t===t?n?t-n:t:0}function Pi(){}function Jhe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function e0e(e,t,n,r){for(var a=e.length,o=n+-1;++o<a;)if(t(e[o],o,e))return o;return-1}function jlt(e){return e!==e}function Xlt(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function jD(e,t,n){return t===t?Xlt(e,t,n):e0e(e,jlt,n)}function t0e(e,t){var n=e==null?0:e.length;return!!n&&jD(e,t,0)>-1}function Gi(e){return Iu(e)?xoe(e):Vce(e)}var Klt=Object.prototype,Zlt=Klt.hasOwnProperty,Uo=Coe(function(e,t){if(hE(t)||Iu(t)){Lv(t,Gi(t),e);return}for(var n in t)Zlt.call(t,n)&&dE(e,n,t[n])}),Qlt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jlt=/^\w*$/;function XD(e,t){if(An(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||lp(e)?!0:Jlt.test(e)||!Qlt.test(e)||t!=null&&e in Object(t)}var ect=500;function tct(e){var t=Nv(e,function(r){return n.size===ect&&n.clear(),r}),n=t.cache;return t}var nct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rct=/\\(\\)?/g,ict=tct(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nct,function(n,r,a,o){t.push(a?o.replace(rct,"$1"):r||n)}),t});function n0e(e){return e==null?"":Qhe(e)}function x6(e,t){return An(e)?e:XD(e,t)?[e]:ict(n0e(e))}function EE(e){if(typeof e=="string"||lp(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function S6(e,t){t=x6(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[EE(t[n++])];return n&&n==r?e:void 0}function act(e,t,n){var r=e==null?void 0:S6(e,t);return r===void 0?n:r}function KD(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var xY=xl?xl.isConcatSpreadable:void 0;function sct(e){return An(e)||Fm(e)||!!(xY&&e&&e[xY])}function wE(e,t,n,r,a){var o=-1,l=e.length;for(n||(n=sct),a||(a=[]);++o<l;){var u=e[o];n(u)?KD(a,u):r||(a[a.length]=u)}return a}function la(e){var t=e==null?0:e.length;return t?wE(e):[]}function oct(e){return Ioe(Aoe(e,void 0,la),e+"")}function r0e(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}function lct(e,t,n,r){var a=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function cct(e,t){return e&&Lv(t,Gi(t),e)}function uct(e,t){return e&&Lv(t,Bp(t),e)}function ZD(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var l=e[n];t(l,n,e)&&(o[a++]=l)}return o}function i0e(){return[]}var hct=Object.prototype,fct=hct.propertyIsEnumerable,SY=Object.getOwnPropertySymbols,QD=SY?function(e){return e==null?[]:(e=Object(e),ZD(SY(e),function(t){return fct.call(e,t)}))}:i0e;function dct(e,t){return Lv(e,QD(e),t)}var pct=Object.getOwnPropertySymbols,a0e=pct?function(e){for(var t=[];e;)KD(t,QD(e)),e=J9(e);return t}:i0e;function gct(e,t){return Lv(e,a0e(e),t)}function s0e(e,t,n){var r=t(e);return An(e)?r:KD(r,n(e))}function A8(e){return s0e(e,Gi,QD)}function o0e(e){return s0e(e,Bp,a0e)}var mct=Object.prototype,vct=mct.hasOwnProperty;function yct(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&vct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function bct(e,t){var n=t?Q9(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Tct=/\w*$/;function Ect(e){var t=new e.constructor(e.source,Tct.exec(e));return t.lastIndex=e.lastIndex,t}var AY=xl?xl.prototype:void 0,IY=AY?AY.valueOf:void 0;function wct(e){return IY?Object(IY.call(e)):{}}var xct="[object Boolean]",Sct="[object Date]",Act="[object Map]",Ict="[object Number]",Cct="[object RegExp]",Rct="[object Set]",kct="[object String]",Oct="[object Symbol]",Nct="[object ArrayBuffer]",Lct="[object DataView]",_ct="[object Float32Array]",Dct="[object Float64Array]",Mct="[object Int8Array]",Pct="[object Int16Array]",Fct="[object Int32Array]",Bct="[object Uint8Array]",Hct="[object Uint8ClampedArray]",$ct="[object Uint16Array]",Wct="[object Uint32Array]";function Uct(e,t,n){var r=e.constructor;switch(t){case Nct:return Q9(e);case xct:case Sct:return new r(+e);case Lct:return bct(e,n);case _ct:case Dct:case Mct:case Pct:case Fct:case Bct:case Hct:case $ct:case Wct:return goe(e,n);case Act:return new r;case Ict:case kct:return new r(e);case Cct:return Ect(e);case Rct:return new r;case Oct:return wct(e)}}var Gct="[object Map]";function zct(e){return Al(e)&&ol(e)==Gct}var CY=Z0&&Z0.isMap,Yct=CY?fE(CY):zct,Vct="[object Set]";function qct(e){return Al(e)&&ol(e)==Vct}var RY=Z0&&Z0.isSet,jct=RY?fE(RY):qct,Xct=1,Kct=2,Zct=4,l0e="[object Arguments]",Qct="[object Array]",Jct="[object Boolean]",eut="[object Date]",tut="[object Error]",c0e="[object Function]",nut="[object GeneratorFunction]",rut="[object Map]",iut="[object Number]",u0e="[object Object]",aut="[object RegExp]",sut="[object Set]",out="[object String]",lut="[object Symbol]",cut="[object WeakMap]",uut="[object ArrayBuffer]",hut="[object DataView]",fut="[object Float32Array]",dut="[object Float64Array]",put="[object Int8Array]",gut="[object Int16Array]",mut="[object Int32Array]",vut="[object Uint8Array]",yut="[object Uint8ClampedArray]",but="[object Uint16Array]",Tut="[object Uint32Array]",mr={};mr[l0e]=mr[Qct]=mr[uut]=mr[hut]=mr[Jct]=mr[eut]=mr[fut]=mr[dut]=mr[put]=mr[gut]=mr[mut]=mr[rut]=mr[iut]=mr[u0e]=mr[aut]=mr[sut]=mr[out]=mr[lut]=mr[vut]=mr[yut]=mr[but]=mr[Tut]=!0;mr[tut]=mr[c0e]=mr[cut]=!1;function eb(e,t,n,r,a,o){var l,u=t&Xct,h=t&Kct,f=t&Zct;if(l!==void 0)return l;if(!lo(e))return e;var d=An(e);if(d){if(l=yct(e),!u)return moe(e,l)}else{var p=ol(e),g=p==c0e||p==nut;if(Bm(e))return poe(e,u);if(p==u0e||p==l0e||g&&!a){if(l=h||g?{}:yoe(e),!u)return h?gct(e,uct(l,e)):dct(e,cct(l,e))}else{if(!mr[p])return a?e:{};l=Uct(e,p,u)}}o||(o=new lc);var m=o.get(e);if(m)return m;o.set(e,l),jct(e)?e.forEach(function(T){l.add(eb(T,t,n,T,e,o))}):Yct(e)&&e.forEach(function(T,E){l.set(E,eb(T,t,n,E,e,o))});var y=f?h?o0e:A8:h?Bp:Gi,b=d?void 0:y(e);return Jhe(b||e,function(T,E){b&&(E=T,T=e[E]),dE(l,E,eb(T,t,n,E,e,o))}),l}var Eut=4;function Ki(e){return eb(e,Eut)}var wut=1,xut=4;function Sut(e){return eb(e,wut|xut)}function xE(e){for(var t=-1,n=e==null?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a}var Aut="__lodash_hash_undefined__";function Iut(e){return this.__data__.set(e,Aut),this}function Cut(e){return this.__data__.has(e)}function Um(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zh;++t<n;)this.add(e[t])}Um.prototype.add=Um.prototype.push=Iut;Um.prototype.has=Cut;function h0e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function JD(e,t){return e.has(t)}var Rut=1,kut=2;function f0e(e,t,n,r,a,o){var l=n&Rut,u=e.length,h=t.length;if(u!=h&&!(l&&h>u))return!1;var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=-1,g=!0,m=n&kut?new Um:void 0;for(o.set(e,t),o.set(t,e);++p<u;){var y=e[p],b=t[p];if(r)var T=l?r(b,y,p,t,e,o):r(y,b,p,e,t,o);if(T!==void 0){if(T)continue;g=!1;break}if(m){if(!h0e(t,function(E,w){if(!JD(m,w)&&(y===E||a(y,E,n,r,o)))return m.push(w)})){g=!1;break}}else if(!(y===b||a(y,b,n,r,o))){g=!1;break}}return o.delete(e),o.delete(t),g}function Out(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function eM(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Nut=1,Lut=2,_ut="[object Boolean]",Dut="[object Date]",Mut="[object Error]",Put="[object Map]",Fut="[object Number]",But="[object RegExp]",Hut="[object Set]",$ut="[object String]",Wut="[object Symbol]",Uut="[object ArrayBuffer]",Gut="[object DataView]",kY=xl?xl.prototype:void 0,nk=kY?kY.valueOf:void 0;function zut(e,t,n,r,a,o,l){switch(n){case Gut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Uut:return!(e.byteLength!=t.byteLength||!o(new oS(e),new oS(t)));case _ut:case Dut:case Fut:return Ov(+e,+t);case Mut:return e.name==t.name&&e.message==t.message;case But:case $ut:return e==t+"";case Put:var u=Out;case Hut:var h=r&Nut;if(u||(u=eM),e.size!=t.size&&!h)return!1;var f=l.get(e);if(f)return f==t;r|=Lut,l.set(e,t);var d=f0e(u(e),u(t),r,a,o,l);return l.delete(e),d;case Wut:if(nk)return nk.call(e)==nk.call(t)}return!1}var Yut=1,Vut=Object.prototype,qut=Vut.hasOwnProperty;function jut(e,t,n,r,a,o){var l=n&Yut,u=A8(e),h=u.length,f=A8(t),d=f.length;if(h!=d&&!l)return!1;for(var p=h;p--;){var g=u[p];if(!(l?g in t:qut.call(t,g)))return!1}var m=o.get(e),y=o.get(t);if(m&&y)return m==t&&y==e;var b=!0;o.set(e,t),o.set(t,e);for(var T=l;++p<h;){g=u[p];var E=e[g],w=t[g];if(r)var x=l?r(w,E,g,t,e,o):r(E,w,g,e,t,o);if(!(x===void 0?E===w||a(E,w,n,r,o):x)){b=!1;break}T||(T=g=="constructor")}if(b&&!T){var S=e.constructor,A=t.constructor;S!=A&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(b=!1)}return o.delete(e),o.delete(t),b}var Xut=1,OY="[object Arguments]",NY="[object Array]",p3="[object Object]",Kut=Object.prototype,LY=Kut.hasOwnProperty;function Zut(e,t,n,r,a,o){var l=An(e),u=An(t),h=l?NY:ol(e),f=u?NY:ol(t);h=h==OY?p3:h,f=f==OY?p3:f;var d=h==p3,p=f==p3,g=h==f;if(g&&Bm(e)){if(!Bm(t))return!1;l=!0,d=!1}if(g&&!d)return o||(o=new lc),l||e6(e)?f0e(e,t,n,r,a,o):zut(e,t,h,n,r,a,o);if(!(n&Xut)){var m=d&&LY.call(e,"__wrapped__"),y=p&&LY.call(t,"__wrapped__");if(m||y){var b=m?e.value():e,T=y?t.value():t;return o||(o=new lc),a(b,T,n,r,o)}}return g?(o||(o=new lc),jut(e,t,n,r,a,o)):!1}function tM(e,t,n,r,a){return e===t?!0:e==null||t==null||!Al(e)&&!Al(t)?e!==e&&t!==t:Zut(e,t,n,r,tM,a)}var Qut=1,Jut=2;function eht(e,t,n,r){var a=n.length,o=a;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=n[a];var u=l[0],h=e[u],f=l[1];if(l[2]){if(h===void 0&&!(u in e))return!1}else{var d=new lc,p;if(!(p===void 0?tM(f,h,Qut|Jut,r,d):p))return!1}}return!0}function d0e(e){return e===e&&!lo(e)}function tht(e){for(var t=Gi(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,d0e(a)]}return t}function p0e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function nht(e){var t=tht(e);return t.length==1&&t[0][2]?p0e(t[0][0],t[0][1]):function(n){return n===e||eht(n,e,t)}}function rht(e,t){return e!=null&&t in Object(e)}function g0e(e,t,n){t=x6(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var l=EE(t[r]);if(!(o=e!=null&&n(e,l)))break;e=e[l]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&eD(a)&&t6(l,a)&&(An(e)||Fm(e)))}function m0e(e,t){return e!=null&&g0e(e,t,rht)}var iht=1,aht=2;function sht(e,t){return XD(e)&&d0e(t)?p0e(EE(e),t):function(n){var r=act(n,e);return r===void 0&&r===t?m0e(n,e):tM(t,r,iht|aht)}}function oht(e){return function(t){return t==null?void 0:t[e]}}function lht(e){return function(t){return S6(t,e)}}function cht(e){return XD(e)?oht(EE(e)):lht(e)}function mo(e){return typeof e=="function"?e:e==null?Ah:typeof e=="object"?An(e)?sht(e[0],e[1]):nht(e):cht(e)}function uht(e,t,n,r){for(var a=-1,o=e==null?0:e.length;++a<o;){var l=e[a];t(r,l,n(l),e)}return r}function nM(e,t){return e&&Z9(e,t,Gi)}function hht(e,t){return function(n,r){if(n==null)return n;if(!Iu(n))return e(n,r);for(var a=n.length,o=-1,l=Object(n);++o<a&&r(l[o],o,l)!==!1;);return n}}var Wp=hht(nM);function fht(e,t,n,r){return Wp(e,function(a,o,l){t(r,a,n(a),l)}),r}function dht(e,t){return function(n,r){var a=An(n)?uht:fht,o=t?t():{};return a(n,e,mo(r),o)}}var v0e=Object.prototype,pht=v0e.hasOwnProperty,A6=pE(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&qb(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],l=Bp(o),u=-1,h=l.length;++u<h;){var f=l[u],d=e[f];(d===void 0||Ov(d,v0e[f])&&!pht.call(e,f))&&(e[f]=o[f])}return e}),ght=200;function mht(e,t,n,r){var a=-1,o=t0e,l=!0,u=e.length,h=[],f=t.length;if(!u)return h;t.length>=ght&&(o=JD,l=!1,t=new Um(t));e:for(;++a<u;){var d=e[a],p=d;if(d=d!==0?d:0,l&&p===p){for(var g=f;g--;)if(t[g]===p)continue e;h.push(d)}else o(t,p,r)||h.push(d)}return h}var I6=pE(function(e,t){return lS(e)?mht(e,wE(t,1,lS,!0)):[]});function gu(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function ba(e,t,n){var r=e==null?0:e.length;return r?(t=t===void 0?1:w6(t),r0e(e,t<0?0:t,r)):[]}function Qb(e,t,n){var r=e==null?0:e.length;return r?(t=t===void 0?1:w6(t),t=r-t,r0e(e,0,t<0?0:t)):[]}function rM(e){return typeof e=="function"?e:Ah}function Ge(e,t){var n=An(e)?Jhe:Wp;return n(e,rM(t))}function vht(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function yht(e,t){var n=!0;return Wp(e,function(r,a,o){return n=!!t(r,a,o),n}),n}function uc(e,t,n){var r=An(e)?vht:yht;return r(e,mo(t))}function y0e(e,t){var n=[];return Wp(e,function(r,a,o){t(r,a,o)&&n.push(r)}),n}function ai(e,t){var n=An(e)?ZD:y0e;return n(e,mo(t))}function bht(e){return function(t,n,r){var a=Object(t);if(!Iu(t)){var o=mo(n);t=Gi(t),n=function(u){return o(a[u],u,a)}}var l=e(t,n,r);return l>-1?a[o?t[l]:l]:void 0}}var Tht=Math.max;function Eht(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:w6(n);return a<0&&(a=Tht(r+a,0)),e0e(e,mo(t),a)}var Oh=bht(Eht);function bc(e){return e&&e.length?e[0]:void 0}function b0e(e,t){var n=-1,r=Iu(e)?Array(e.length):[];return Wp(e,function(a,o,l){r[++n]=t(a,o,l)}),r}function mt(e,t){var n=An(e)?Ud:b0e;return n(e,mo(t))}function Bo(e,t){return wE(mt(e,t))}function wht(e,t){return e==null?e:Z9(e,rM(t),Bp)}function xht(e,t){return e&&nM(e,rM(t))}var Sht=Object.prototype,Aht=Sht.hasOwnProperty,Iht=dht(function(e,t,n){Aht.call(e,n)?e[n].push(t):uE(e,n,[t])});function Cht(e,t){return e>t}var Rht=Object.prototype,kht=Rht.hasOwnProperty;function Oht(e,t){return e!=null&&kht.call(e,t)}function Xt(e,t){return e!=null&&g0e(e,t,Oht)}var Nht="[object String]";function co(e){return typeof e=="string"||!An(e)&&Al(e)&&Uh(e)==Nht}function Lht(e,t){return Ud(t,function(n){return e[n]})}function sr(e){return e==null?[]:Lht(e,Gi(e))}var _ht=Math.max;function Ps(e,t,n,r){e=Iu(e)?e:sr(e),n=n?w6(n):0;var a=e.length;return n<0&&(n=_ht(a+n,0)),co(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&jD(e,t,n)>-1}function _Y(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=0;return jD(e,t,a)}var Dht="[object RegExp]";function Mht(e){return Al(e)&&Uh(e)==Dht}var DY=Z0&&Z0.isRegExp,Nh=DY?fE(DY):Mht;function Jn(e){return e===void 0}function T0e(e,t){return e<t}function C6(e,t){var n={};return t=mo(t),nM(e,function(r,a,o){uE(n,a,t(r,a,o))}),n}function iM(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],l=t(o);if(l!=null&&(u===void 0?l===l&&!lp(l):n(l,u)))var u=l,h=o}return h}function cp(e){return e&&e.length?iM(e,Ah,Cht):void 0}function Gm(e){return e&&e.length?iM(e,Ah,T0e):void 0}function aM(e,t){return e&&e.length?iM(e,mo(t),T0e):void 0}var Pht="Expected a function";function Fht(e){if(typeof e!="function")throw new TypeError(Pht);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Bht(e,t,n,r){if(!lo(e))return e;t=x6(t,e);for(var a=-1,o=t.length,l=o-1,u=e;u!=null&&++a<o;){var h=EE(t[a]),f=n;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(a!=l){var d=u[h];f=void 0,f===void 0&&(f=lo(d)?d:t6(t[a+1])?[]:{})}dE(u,h,f),u=u[h]}return e}function E0e(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var l=t[r],u=S6(e,l);n(u,l)&&Bht(o,x6(l,e),u)}return o}function Ac(e,t){if(e==null)return{};var n=Ud(o0e(e),function(r){return[r]});return t=mo(t),E0e(e,n,function(r,a){return t(r,a[0])})}function Hht(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function $ht(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=lp(e),l=t!==void 0,u=t===null,h=t===t,f=lp(t);if(!u&&!f&&!o&&e>t||o&&l&&h&&!u&&!f||r&&l&&h||!n&&h||!a)return 1;if(!r&&!o&&!f&&e<t||f&&n&&a&&!r&&!o||u&&n&&a||!l&&a||!h)return-1}return 0}function Wht(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,l=a.length,u=n.length;++r<l;){var h=$ht(a[r],o[r]);if(h){if(r>=u)return h;var f=n[r];return h*(f=="desc"?-1:1)}}return e.index-t.index}function Uht(e,t,n){t.length?t=Ud(t,function(o){return An(o)?function(l){return S6(l,o.length===1?o[0]:o)}:o}):t=[Ah];var r=-1;t=Ud(t,fE(mo));var a=b0e(e,function(o,l,u){var h=Ud(t,function(f){return f(o)});return{criteria:h,index:++r,value:o}});return Hht(a,function(o,l){return Wht(o,l,n)})}function Ght(e,t){return E0e(e,t,function(n,r){return m0e(e,r)})}var IS=oct(function(e,t){return e==null?{}:Ght(e,t)}),zht=Math.ceil,Yht=Math.max;function Vht(e,t,n,r){for(var a=-1,o=Yht(zht((t-e)/(n||1)),0),l=Array(o);o--;)l[++a]=e,e+=n;return l}function qht(e){return function(t,n,r){return r&&typeof r!="number"&&qb(t,n,r)&&(n=r=void 0),t=Sx(t),n===void 0?(n=t,t=0):n=Sx(n),r=r===void 0?t<n?1:-1:Sx(r),Vht(t,n,r)}}var zm=qht();function jht(e,t,n,r,a){return a(e,function(o,l,u){n=r?(r=!1,o):t(n,o,l,u)}),n}function Di(e,t,n){var r=An(e)?lct:jht,a=arguments.length<3;return r(e,mo(t),n,a,Wp)}function R6(e,t){var n=An(e)?ZD:y0e;return n(e,Fht(mo(t)))}function Xht(e,t){var n;return Wp(e,function(r,a,o){return n=t(r,a,o),!n}),!!n}function w0e(e,t,n){var r=An(e)?h0e:Xht;return r(e,mo(t))}var SE=pE(function(e,t){if(e==null)return[];var n=t.length;return n>1&&qb(e,t[0],t[1])?t=[]:n>2&&qb(t[0],t[1],t[2])&&(t=[t[0]]),Uht(e,wE(t),[])}),Kht=1/0,Zht=y1&&1/eM(new y1([,-0]))[1]==Kht?function(e){return new y1(e)}:Pi,Qht=200;function sM(e,t,n){var r=-1,a=t0e,o=e.length,l=!0,u=[],h=u;if(o>=Qht){var f=t?null:Zht(e);if(f)return eM(f);l=!1,a=JD,h=new Um}else h=t?[]:u;e:for(;++r<o;){var d=e[r],p=t?t(d):d;if(d=d!==0?d:0,l&&p===p){for(var g=h.length;g--;)if(h[g]===p)continue e;t&&h.push(p),u.push(d)}else a(h,p,n)||(h!==u&&h.push(p),u.push(d))}return u}var Jht=pE(function(e){return sM(wE(e,1,lS,!0))});function oM(e){return e&&e.length?sM(e):[]}function e0t(e,t){return e&&e.length?sM(e,mo(t)):[]}var t0t=0;function lM(e){var t=++t0t;return n0e(e)+t}function n0t(e,t,n){for(var r=-1,a=e.length,o=t.length,l={};++r<a;){var u=r<o?t[r]:void 0;n(l,e[r],u)}return l}function r0t(e,t){return n0t(e||[],t||[],dE)}var i0t="\0",Jf="\0",MY="";class ls{constructor(t={}){this._isDirected=Object.prototype.hasOwnProperty.call(t,"directed")?t.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Yg(void 0),this._defaultEdgeLabelFn=Yg(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Jf]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return Sl(t)||(t=Yg(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return Gi(this._nodes)}sources(){var t=this;return ai(this.nodes(),function(n){return qn(t._in[n])})}sinks(){var t=this;return ai(this.nodes(),function(n){return qn(t._out[n])})}setNodes(t,n){var r=arguments,a=this;return Ge(t,function(o){r.length>1?a.setNode(o,n):a.setNode(o)}),this}setNode(t,n){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=Jf,this._children[t]={},this._children[Jf][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var n=r=>this.removeEdge(this._edgeObjs[r]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Ge(this.children(t),r=>{this.setParent(r)}),delete this._children[t]),Ge(Gi(this._in[t]),n),delete this._in[t],delete this._preds[t],Ge(Gi(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Jn(n))n=Jf;else{n+="";for(var r=n;!Jn(r);r=this.parent(r))if(r===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var n=this._parent[t];if(n!==Jf)return n}}children(t){if(Jn(t)&&(t=Jf),this._isCompound){var n=this._children[t];if(n)return Gi(n)}else{if(t===Jf)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var n=this._preds[t];if(n)return Gi(n)}successors(t){var n=this._sucs[t];if(n)return Gi(n)}neighbors(t){var n=this.predecessors(t);if(n)return Jht(n,this.successors(t))}isLeaf(t){var n;return this.isDirected()?n=this.successors(t):n=this.neighbors(t),n.length===0}filterNodes(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Ge(this._nodes,function(l,u){t(u)&&n.setNode(u,l)}),Ge(this._edgeObjs,function(l){n.hasNode(l.v)&&n.hasNode(l.w)&&n.setEdge(l,r.edge(l))});var a={};function o(l){var u=r.parent(l);return u===void 0||n.hasNode(u)?(a[l]=u,u):u in a?a[u]:o(u)}return this._isCompound&&Ge(n.nodes(),function(l){n.setParent(l,o(l))}),n}setDefaultEdgeLabel(t){return Sl(t)||(t=Yg(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return sr(this._edgeObjs)}setPath(t,n){var r=this,a=arguments;return Di(t,function(o,l){return a.length>1?r.setEdge(o,l,n):r.setEdge(o,l),l}),this}setEdge(){var t,n,r,a,o=!1,l=arguments[0];typeof l=="object"&&l!==null&&"v"in l?(t=l.v,n=l.w,r=l.name,arguments.length===2&&(a=arguments[1],o=!0)):(t=l,n=arguments[1],r=arguments[3],arguments.length>2&&(a=arguments[2],o=!0)),t=""+t,n=""+n,Jn(r)||(r=""+r);var u=u2(this._isDirected,t,n,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,u))return o&&(this._edgeLabels[u]=a),this;if(!Jn(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[u]=o?a:this._defaultEdgeLabelFn(t,n,r);var h=a0t(this._isDirected,t,n,r);return t=h.v,n=h.w,Object.freeze(h),this._edgeObjs[u]=h,PY(this._preds[n],t),PY(this._sucs[t],n),this._in[n][u]=h,this._out[t][u]=h,this._edgeCount++,this}edge(t,n,r){var a=arguments.length===1?rk(this._isDirected,arguments[0]):u2(this._isDirected,t,n,r);return this._edgeLabels[a]}hasEdge(t,n,r){var a=arguments.length===1?rk(this._isDirected,arguments[0]):u2(this._isDirected,t,n,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,a)}removeEdge(t,n,r){var a=arguments.length===1?rk(this._isDirected,arguments[0]):u2(this._isDirected,t,n,r),o=this._edgeObjs[a];return o&&(t=o.v,n=o.w,delete this._edgeLabels[a],delete this._edgeObjs[a],FY(this._preds[n],t),FY(this._sucs[t],n),delete this._in[n][a],delete this._out[t][a],this._edgeCount--),this}inEdges(t,n){var r=this._in[t];if(r){var a=sr(r);return n?ai(a,function(o){return o.v===n}):a}}outEdges(t,n){var r=this._out[t];if(r){var a=sr(r);return n?ai(a,function(o){return o.w===n}):a}}nodeEdges(t,n){var r=this.inEdges(t,n);if(r)return r.concat(this.outEdges(t,n))}}ls.prototype._nodeCount=0;ls.prototype._edgeCount=0;function PY(e,t){e[t]?e[t]++:e[t]=1}function FY(e,t){--e[t]||delete e[t]}function u2(e,t,n,r){var a=""+t,o=""+n;if(!e&&a>o){var l=a;a=o,o=l}return a+MY+o+MY+(Jn(r)?i0t:r)}function a0t(e,t,n,r){var a=""+t,o=""+n;if(!e&&a>o){var l=a;a=o,o=l}var u={v:a,w:o};return r&&(u.name=r),u}function rk(e,t){return u2(e,t.v,t.w,t.name)}class s0t{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,n=t._prev;if(n!==t)return BY(n),n}enqueue(t){var n=this._sentinel;t._prev&&t._next&&BY(t),t._next=n._next,n._next._prev=t,n._next=t,t._prev=n}toString(){for(var t=[],n=this._sentinel,r=n._prev;r!==n;)t.push(JSON.stringify(r,o0t)),r=r._prev;return"["+t.join(", ")+"]"}}function BY(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o0t(e,t){if(e!=="_next"&&e!=="_prev")return t}var l0t=Yg(1);function c0t(e,t){if(e.nodeCount()<=1)return[];var n=h0t(e,t||l0t),r=u0t(n.graph,n.buckets,n.zeroIdx);return la(mt(r,function(a){return e.outEdges(a.v,a.w)}))}function u0t(e,t,n){for(var r=[],a=t[t.length-1],o=t[0],l;e.nodeCount();){for(;l=o.dequeue();)ik(e,t,n,l);for(;l=a.dequeue();)ik(e,t,n,l);if(e.nodeCount()){for(var u=t.length-2;u>0;--u)if(l=t[u].dequeue(),l){r=r.concat(ik(e,t,n,l,!0));break}}}return r}function ik(e,t,n,r,a){var o=a?[]:void 0;return Ge(e.inEdges(r.v),function(l){var u=e.edge(l),h=e.node(l.v);a&&o.push({v:l.v,w:l.w}),h.out-=u,I8(t,n,h)}),Ge(e.outEdges(r.v),function(l){var u=e.edge(l),h=l.w,f=e.node(h);f.in-=u,I8(t,n,f)}),e.removeNode(r.v),o}function h0t(e,t){var n=new ls,r=0,a=0;Ge(e.nodes(),function(u){n.setNode(u,{v:u,in:0,out:0})}),Ge(e.edges(),function(u){var h=n.edge(u.v,u.w)||0,f=t(u),d=h+f;n.setEdge(u.v,u.w,d),a=Math.max(a,n.node(u.v).out+=f),r=Math.max(r,n.node(u.w).in+=f)});var o=zm(a+r+3).map(function(){return new s0t}),l=r+1;return Ge(n.nodes(),function(u){I8(o,l,n.node(u))}),{graph:n,buckets:o,zeroIdx:l}}function I8(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function f0t(e){var t=e.graph().acyclicer==="greedy"?c0t(e,n(e)):d0t(e);Ge(t,function(r){var a=e.edge(r);e.removeEdge(r),a.forwardName=r.name,a.reversed=!0,e.setEdge(r.w,r.v,a,lM("rev"))});function n(r){return function(a){return r.edge(a).weight}}}function d0t(e){var t=[],n={},r={};function a(o){Object.prototype.hasOwnProperty.call(r,o)||(r[o]=!0,n[o]=!0,Ge(e.outEdges(o),function(l){Object.prototype.hasOwnProperty.call(n,l.w)?t.push(l):a(l.w)}),delete n[o])}return Ge(e.nodes(),a),t}function p0t(e){Ge(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}function Bv(e,t,n,r){var a;do a=lM(r);while(e.hasNode(a));return n.dummy=t,e.setNode(a,n),a}function g0t(e){var t=new ls().setGraph(e.graph());return Ge(e.nodes(),function(n){t.setNode(n,e.node(n))}),Ge(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},a=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+a.weight,minlen:Math.max(r.minlen,a.minlen)})}),t}function x0e(e){var t=new ls({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ge(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Ge(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function HY(e,t){var n=e.x,r=e.y,a=t.x-n,o=t.y-r,l=e.width/2,u=e.height/2;if(!a&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var h,f;return Math.abs(o)*l>Math.abs(a)*u?(o<0&&(u=-u),h=u*a/o,f=u):(a<0&&(l=-l),h=l,f=l*o/a),{x:n+h,y:r+f}}function k6(e){var t=mt(zm(S0e(e)+1),function(){return[]});return Ge(e.nodes(),function(n){var r=e.node(n),a=r.rank;Jn(a)||(t[a][r.order]=n)}),t}function m0t(e){var t=Gm(mt(e.nodes(),function(n){return e.node(n).rank}));Ge(e.nodes(),function(n){var r=e.node(n);Xt(r,"rank")&&(r.rank-=t)})}function v0t(e){var t=Gm(mt(e.nodes(),function(o){return e.node(o).rank})),n=[];Ge(e.nodes(),function(o){var l=e.node(o).rank-t;n[l]||(n[l]=[]),n[l].push(o)});var r=0,a=e.graph().nodeRankFactor;Ge(n,function(o,l){Jn(o)&&l%a!==0?--r:r&&Ge(o,function(u){e.node(u).rank+=r})})}function $Y(e,t,n,r){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=r),Bv(e,"border",a,t)}function S0e(e){return cp(mt(e.nodes(),function(t){var n=e.node(t).rank;if(!Jn(n))return n}))}function y0t(e,t){var n={lhs:[],rhs:[]};return Ge(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function b0t(e,t){return t()}function T0t(e){function t(n){var r=e.children(n),a=e.node(n);if(r.length&&Ge(r,t),Object.prototype.hasOwnProperty.call(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var o=a.minRank,l=a.maxRank+1;o<l;++o)WY(e,"borderLeft","_bl",n,a,o),WY(e,"borderRight","_br",n,a,o)}}Ge(e.children(),t)}function WY(e,t,n,r,a,o){var l={width:0,height:0,rank:o,borderType:t},u=a[t][o-1],h=Bv(e,"border",l,n);a[t][o]=h,e.setParent(h,r),u&&e.setEdge(u,h,{weight:1})}function E0t(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&A0e(e)}function w0t(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&x0t(e),(t==="lr"||t==="rl")&&(S0t(e),A0e(e))}function A0e(e){Ge(e.nodes(),function(t){UY(e.node(t))}),Ge(e.edges(),function(t){UY(e.edge(t))})}function UY(e){var t=e.width;e.width=e.height,e.height=t}function x0t(e){Ge(e.nodes(),function(t){ak(e.node(t))}),Ge(e.edges(),function(t){var n=e.edge(t);Ge(n.points,ak),Object.prototype.hasOwnProperty.call(n,"y")&&ak(n)})}function ak(e){e.y=-e.y}function S0t(e){Ge(e.nodes(),function(t){sk(e.node(t))}),Ge(e.edges(),function(t){var n=e.edge(t);Ge(n.points,sk),Object.prototype.hasOwnProperty.call(n,"x")&&sk(n)})}function sk(e){var t=e.x;e.x=e.y,e.y=t}function A0t(e){e.graph().dummyChains=[],Ge(e.edges(),function(t){I0t(e,t)})}function I0t(e,t){var n=t.v,r=e.node(n).rank,a=t.w,o=e.node(a).rank,l=t.name,u=e.edge(t),h=u.labelRank;if(o!==r+1){e.removeEdge(t);var f=void 0,d,p;for(p=0,++r;r<o;++p,++r)u.points=[],f={width:0,height:0,edgeLabel:u,edgeObj:t,rank:r},d=Bv(e,"edge",f,"_d"),r===h&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),e.setEdge(n,d,{weight:u.weight},l),p===0&&e.graph().dummyChains.push(d),n=d;e.setEdge(n,a,{weight:u.weight},l)}}function C0t(e){Ge(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,a;for(e.setEdge(n.edgeObj,r);n.dummy;)a=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=a,n=e.node(t)})}function cM(e){var t={};function n(r){var a=e.node(r);if(Object.prototype.hasOwnProperty.call(t,r))return a.rank;t[r]=!0;var o=Gm(mt(e.outEdges(r),function(l){return n(l.w)-e.edge(l).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),a.rank=o}Ge(e.sources(),n)}function Jb(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function I0e(e){var t=new ls({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var a,o;R0t(t,e)<r;)a=k0t(t,e),o=t.hasNode(a.v)?Jb(e,a):-Jb(e,a),O0t(t,e,o);return t}function R0t(e,t){function n(r){Ge(t.nodeEdges(r),function(a){var o=a.v,l=r===o?a.w:o;!e.hasNode(l)&&!Jb(t,a)&&(e.setNode(l,{}),e.setEdge(r,l,{}),n(l))})}return Ge(e.nodes(),n),e.nodeCount()}function k0t(e,t){return aM(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Jb(t,n)})}function O0t(e,t,n){Ge(e.nodes(),function(r){t.node(r).rank+=n})}function N0t(){}N0t.prototype=new Error;function C0e(e,t,n){An(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],o={};return Ge(t,function(l){if(!e.hasNode(l))throw new Error("Graph does not have node: "+l);R0e(e,l,n==="post",o,r,a)}),a}function R0e(e,t,n,r,a,o){Object.prototype.hasOwnProperty.call(r,t)||(r[t]=!0,n||o.push(t),Ge(a(t),function(l){R0e(e,l,n,r,a,o)}),n&&o.push(t))}function L0t(e,t){return C0e(e,t,"post")}function _0t(e,t){return C0e(e,t,"pre")}Up.initLowLimValues=hM;Up.initCutValues=uM;Up.calcCutValue=k0e;Up.leaveEdge=N0e;Up.enterEdge=L0e;Up.exchangeEdges=_0e;function Up(e){e=g0t(e),cM(e);var t=I0e(e);hM(t),uM(t,e);for(var n,r;n=N0e(t);)r=L0e(t,e,n),_0e(t,e,n,r)}function uM(e,t){var n=L0t(e,e.nodes());n=n.slice(0,n.length-1),Ge(n,function(r){D0t(e,t,r)})}function D0t(e,t,n){var r=e.node(n),a=r.parent;e.edge(n,a).cutvalue=k0e(e,t,n)}function k0e(e,t,n){var r=e.node(n),a=r.parent,o=!0,l=t.edge(n,a),u=0;return l||(o=!1,l=t.edge(a,n)),u=l.weight,Ge(t.nodeEdges(n),function(h){var f=h.v===n,d=f?h.w:h.v;if(d!==a){var p=f===o,g=t.edge(h).weight;if(u+=p?g:-g,P0t(e,n,d)){var m=e.edge(n,d).cutvalue;u+=p?-m:m}}}),u}function hM(e,t){arguments.length<2&&(t=e.nodes()[0]),O0e(e,{},1,t)}function O0e(e,t,n,r,a){var o=n,l=e.node(r);return t[r]=!0,Ge(e.neighbors(r),function(u){Object.prototype.hasOwnProperty.call(t,u)||(n=O0e(e,t,n,u,r))}),l.low=o,l.lim=n++,a?l.parent=a:delete l.parent,n}function N0e(e){return Oh(e.edges(),function(t){return e.edge(t).cutvalue<0})}function L0e(e,t,n){var r=n.v,a=n.w;t.hasEdge(r,a)||(r=n.w,a=n.v);var o=e.node(r),l=e.node(a),u=o,h=!1;o.lim>l.lim&&(u=l,h=!0);var f=ai(t.edges(),function(d){return h===GY(e,e.node(d.v),u)&&h!==GY(e,e.node(d.w),u)});return aM(f,function(d){return Jb(t,d)})}function _0e(e,t,n,r){var a=n.v,o=n.w;e.removeEdge(a,o),e.setEdge(r.v,r.w,{}),hM(e),uM(e,t),M0t(e,t)}function M0t(e,t){var n=Oh(e.nodes(),function(a){return!t.node(a).parent}),r=_0t(e,n);r=r.slice(1),Ge(r,function(a){var o=e.node(a).parent,l=t.edge(a,o),u=!1;l||(l=t.edge(o,a),u=!0),t.node(a).rank=t.node(o).rank+(u?l.minlen:-l.minlen)})}function P0t(e,t,n){return e.hasEdge(t,n)}function GY(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}function F0t(e){switch(e.graph().ranker){case"network-simplex":zY(e);break;case"tight-tree":H0t(e);break;case"longest-path":B0t(e);break;default:zY(e)}}var B0t=cM;function H0t(e){cM(e),I0e(e)}function zY(e){Up(e)}function $0t(e){var t=Bv(e,"root",{},"_root"),n=W0t(e),r=cp(sr(n))-1,a=2*r+1;e.graph().nestingRoot=t,Ge(e.edges(),function(l){e.edge(l).minlen*=a});var o=U0t(e)+1;Ge(e.children(),function(l){D0e(e,t,a,o,r,n,l)}),e.graph().nodeRankFactor=a}function D0e(e,t,n,r,a,o,l){var u=e.children(l);if(!u.length){l!==t&&e.setEdge(t,l,{weight:0,minlen:n});return}var h=$Y(e,"_bt"),f=$Y(e,"_bb"),d=e.node(l);e.setParent(h,l),d.borderTop=h,e.setParent(f,l),d.borderBottom=f,Ge(u,function(p){D0e(e,t,n,r,a,o,p);var g=e.node(p),m=g.borderTop?g.borderTop:p,y=g.borderBottom?g.borderBottom:p,b=g.borderTop?r:2*r,T=m!==y?1:a-o[l]+1;e.setEdge(h,m,{weight:b,minlen:T,nestingEdge:!0}),e.setEdge(y,f,{weight:b,minlen:T,nestingEdge:!0})}),e.parent(l)||e.setEdge(t,h,{weight:0,minlen:a+o[l]})}function W0t(e){var t={};function n(r,a){var o=e.children(r);o&&o.length&&Ge(o,function(l){n(l,a+1)}),t[r]=a}return Ge(e.children(),function(r){n(r,1)}),t}function U0t(e){return Di(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function G0t(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Ge(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}function z0t(e,t,n){var r={},a;Ge(n,function(o){for(var l=e.parent(o),u,h;l;){if(u=e.parent(l),u?(h=r[u],r[u]=l):(h=a,a=l),h&&h!==l){t.setEdge(h,l);return}l=u}})}function Y0t(e,t,n){var r=V0t(e),a=new ls({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return Ge(e.nodes(),function(o){var l=e.node(o),u=e.parent(o);(l.rank===t||l.minRank<=t&&t<=l.maxRank)&&(a.setNode(o),a.setParent(o,u||r),Ge(e[n](o),function(h){var f=h.v===o?h.w:h.v,d=a.edge(f,o),p=Jn(d)?0:d.weight;a.setEdge(f,o,{weight:e.edge(h).weight+p})}),Object.prototype.hasOwnProperty.call(l,"minRank")&&a.setNode(o,{borderLeft:l.borderLeft[t],borderRight:l.borderRight[t]}))}),a}function V0t(e){for(var t;e.hasNode(t=lM("_root")););return t}function q0t(e,t){for(var n=0,r=1;r<t.length;++r)n+=j0t(e,t[r-1],t[r]);return n}function j0t(e,t,n){for(var r=r0t(n,mt(n,function(f,d){return d})),a=la(mt(t,function(f){return SE(mt(e.outEdges(f),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")})),o=1;o<n.length;)o<<=1;var l=2*o-1;o-=1;var u=mt(new Array(l),function(){return 0}),h=0;return Ge(a.forEach(function(f){var d=f.pos+o;u[d]+=f.weight;for(var p=0;d>0;)d%2&&(p+=u[d+1]),d=d-1>>1,u[d]+=f.weight;h+=f.weight*p})),h}function X0t(e){var t={},n=ai(e.nodes(),function(u){return!e.children(u).length}),r=cp(mt(n,function(u){return e.node(u).rank})),a=mt(zm(r+1),function(){return[]});function o(u){if(!Xt(t,u)){t[u]=!0;var h=e.node(u);a[h.rank].push(u),Ge(e.successors(u),o)}}var l=SE(n,function(u){return e.node(u).rank});return Ge(l,o),a}function K0t(e,t){return mt(t,function(n){var r=e.inEdges(n);if(r.length){var a=Di(r,function(o,l){var u=e.edge(l),h=e.node(l.v);return{sum:o.sum+u.weight*h.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:n}})}function Z0t(e,t){var n={};Ge(e,function(a,o){var l=n[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:o};Jn(a.barycenter)||(l.barycenter=a.barycenter,l.weight=a.weight)}),Ge(t.edges(),function(a){var o=n[a.v],l=n[a.w];!Jn(o)&&!Jn(l)&&(l.indegree++,o.out.push(n[a.w]))});var r=ai(n,function(a){return!a.indegree});return Q0t(r)}function Q0t(e){var t=[];function n(o){return function(l){l.merged||(Jn(l.barycenter)||Jn(o.barycenter)||l.barycenter>=o.barycenter)&&J0t(o,l)}}function r(o){return function(l){l.in.push(o),--l.indegree===0&&e.push(l)}}for(;e.length;){var a=e.pop();t.push(a),Ge(a.in.reverse(),n(a)),Ge(a.out,r(a))}return mt(ai(t,function(o){return!o.merged}),function(o){return IS(o,["vs","i","barycenter","weight"])})}function J0t(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}function eft(e,t){var n=y0t(e,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),r=n.lhs,a=SE(n.rhs,function(d){return-d.i}),o=[],l=0,u=0,h=0;r.sort(tft(!!t)),h=YY(o,a,h),Ge(r,function(d){h+=d.vs.length,o.push(d.vs),l+=d.barycenter*d.weight,u+=d.weight,h=YY(o,a,h)});var f={vs:la(o)};return u&&(f.barycenter=l/u,f.weight=u),f}function YY(e,t,n){for(var r;t.length&&(r=gu(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function tft(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}function M0e(e,t,n,r){var a=e.children(t),o=e.node(t),l=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,h={};l&&(a=ai(a,function(y){return y!==l&&y!==u}));var f=K0t(e,a);Ge(f,function(y){if(e.children(y.v).length){var b=M0e(e,y.v,n,r);h[y.v]=b,Object.prototype.hasOwnProperty.call(b,"barycenter")&&rft(y,b)}});var d=Z0t(f,n);nft(d,h);var p=eft(d,r);if(l&&(p.vs=la([l,p.vs,u]),e.predecessors(l).length)){var g=e.node(e.predecessors(l)[0]),m=e.node(e.predecessors(u)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+m.order)/(p.weight+2),p.weight+=2}return p}function nft(e,t){Ge(e,function(n){n.vs=la(n.vs.map(function(r){return t[r]?t[r].vs:r}))})}function rft(e,t){Jn(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function ift(e){var t=S0e(e),n=VY(e,zm(1,t+1),"inEdges"),r=VY(e,zm(t-1,-1,-1),"outEdges"),a=X0t(e);qY(e,a);for(var o=Number.POSITIVE_INFINITY,l,u=0,h=0;h<4;++u,++h){aft(u%2?n:r,u%4>=2),a=k6(e);var f=q0t(e,a);f<o&&(h=0,l=Sut(a),o=f)}qY(e,l)}function VY(e,t,n){return mt(t,function(r){return Y0t(e,r,n)})}function aft(e,t){var n=new ls;Ge(e,function(r){var a=r.graph().root,o=M0e(r,a,n,t);Ge(o.vs,function(l,u){r.node(l).order=u}),z0t(r,n,o.vs)})}function qY(e,t){Ge(t,function(n){Ge(n,function(r,a){e.node(r).order=a})})}function sft(e){var t=lft(e);Ge(e.graph().dummyChains,function(n){for(var r=e.node(n),a=r.edgeObj,o=oft(e,t,a.v,a.w),l=o.path,u=o.lca,h=0,f=l[h],d=!0;n!==a.w;){if(r=e.node(n),d){for(;(f=l[h])!==u&&e.node(f).maxRank<r.rank;)h++;f===u&&(d=!1)}if(!d){for(;h<l.length-1&&e.node(f=l[h+1]).minRank<=r.rank;)h++;f=l[h]}e.setParent(n,f),n=e.successors(n)[0]}})}function oft(e,t,n,r){var a=[],o=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim),h,f;h=n;do h=e.parent(h),a.push(h);while(h&&(t[h].low>l||u>t[h].lim));for(f=h,h=r;(h=e.parent(h))!==f;)o.push(h);return{path:a.concat(o.reverse()),lca:f}}function lft(e){var t={},n=0;function r(a){var o=n;Ge(e.children(a),r),t[a]={low:o,lim:n++}}return Ge(e.children(),r),t}function cft(e,t){var n={};function r(a,o){var l=0,u=0,h=a.length,f=gu(o);return Ge(o,function(d,p){var g=hft(e,d),m=g?e.node(g).order:h;(g||d===f)&&(Ge(o.slice(u,p+1),function(y){Ge(e.predecessors(y),function(b){var T=e.node(b),E=T.order;(E<l||m<E)&&!(T.dummy&&e.node(y).dummy)&&P0e(n,b,y)})}),u=p+1,l=m)}),o}return Di(t,r),n}function uft(e,t){var n={};function r(o,l,u,h,f){var d;Ge(zm(l,u),function(p){d=o[p],e.node(d).dummy&&Ge(e.predecessors(d),function(g){var m=e.node(g);m.dummy&&(m.order<h||m.order>f)&&P0e(n,g,d)})})}function a(o,l){var u=-1,h,f=0;return Ge(l,function(d,p){if(e.node(d).dummy==="border"){var g=e.predecessors(d);g.length&&(h=e.node(g[0]).order,r(l,f,p,u,h),f=p,u=h)}r(l,f,l.length,h,o.length)}),l}return Di(t,a),n}function hft(e,t){if(e.node(t).dummy)return Oh(e.predecessors(t),function(n){return e.node(n).dummy})}function P0e(e,t,n){if(t>n){var r=t;t=n,n=r}var a=e[t];a||(e[t]=a={}),a[n]=!0}function fft(e,t,n){if(t>n){var r=t;t=n,n=r}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],n)}function dft(e,t,n,r){var a={},o={},l={};return Ge(t,function(u){Ge(u,function(h,f){a[h]=h,o[h]=h,l[h]=f})}),Ge(t,function(u){var h=-1;Ge(u,function(f){var d=r(f);if(d.length){d=SE(d,function(b){return l[b]});for(var p=(d.length-1)/2,g=Math.floor(p),m=Math.ceil(p);g<=m;++g){var y=d[g];o[f]===f&&h<l[y]&&!fft(n,f,y)&&(o[y]=f,o[f]=a[f]=a[y],h=l[y])}}})}),{root:a,align:o}}function pft(e,t,n,r,a){var o={},l=gft(e,t,n,a),u=a?"borderLeft":"borderRight";function h(p,g){for(var m=l.nodes(),y=m.pop(),b={};y;)b[y]?p(y):(b[y]=!0,m.push(y),m=m.concat(g(y))),y=m.pop()}function f(p){o[p]=l.inEdges(p).reduce(function(g,m){return Math.max(g,o[m.v]+l.edge(m))},0)}function d(p){var g=l.outEdges(p).reduce(function(y,b){return Math.min(y,o[b.w]-l.edge(b))},Number.POSITIVE_INFINITY),m=e.node(p);g!==Number.POSITIVE_INFINITY&&m.borderType!==u&&(o[p]=Math.max(o[p],g))}return h(f,l.predecessors.bind(l)),h(d,l.successors.bind(l)),Ge(r,function(p){o[p]=o[n[p]]}),o}function gft(e,t,n,r){var a=new ls,o=e.graph(),l=Tft(o.nodesep,o.edgesep,r);return Ge(t,function(u){var h;Ge(u,function(f){var d=n[f];if(a.setNode(d),h){var p=n[h],g=a.edge(p,d);a.setEdge(p,d,Math.max(l(e,f,h),g||0))}h=f})}),a}function mft(e,t){return aM(sr(t),function(n){var r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return wht(n,function(o,l){var u=Eft(e,l)/2;r=Math.max(o+u,r),a=Math.min(o-u,a)}),r-a})}function vft(e,t){var n=sr(t),r=Gm(n),a=cp(n);Ge(["u","d"],function(o){Ge(["l","r"],function(l){var u=o+l,h=e[u],f;if(h!==t){var d=sr(h);f=l==="l"?r-Gm(d):a-cp(d),f&&(e[u]=C6(h,function(p){return p+f}))}})})}function yft(e,t){return C6(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var a=SE(mt(e,r));return(a[1]+a[2])/2})}function bft(e){var t=k6(e),n=cS(cft(e,t),uft(e,t)),r={},a;Ge(["u","d"],function(l){a=l==="u"?t:sr(t).reverse(),Ge(["l","r"],function(u){u==="r"&&(a=mt(a,function(p){return sr(p).reverse()}));var h=(l==="u"?e.predecessors:e.successors).bind(e),f=dft(e,a,n,h),d=pft(e,a,f.root,f.align,u==="r");u==="r"&&(d=C6(d,function(p){return-p})),r[l+u]=d})});var o=mft(e,r);return vft(r,o),yft(r,e.graph().align)}function Tft(e,t,n){return function(r,a,o){var l=r.node(a),u=r.node(o),h=0,f;if(h+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":f=-l.width/2;break;case"r":f=l.width/2;break}if(f&&(h+=n?f:-f),f=0,h+=(l.dummy?t:e)/2,h+=(u.dummy?t:e)/2,h+=u.width/2,Object.prototype.hasOwnProperty.call(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":f=u.width/2;break;case"r":f=-u.width/2;break}return f&&(h+=n?f:-f),f=0,h}}function Eft(e,t){return e.node(t).width}function wft(e){e=x0e(e),xft(e),xht(bft(e),function(t,n){e.node(n).x=t})}function xft(e){var t=k6(e),n=e.graph().ranksep,r=0;Ge(t,function(a){var o=cp(mt(a,function(l){return e.node(l).height}));Ge(a,function(l){e.node(l).y=r+o/2}),r+=o+n})}function O6(e,t){var n=b0t;n("layout",()=>{var r=n("  buildLayoutGraph",()=>Dft(e));n("  runLayout",()=>Sft(r,n)),n("  updateInputGraph",()=>Aft(e,r))})}function Sft(e,t){t("    makeSpaceForEdgeLabels",()=>Mft(e)),t("    removeSelfEdges",()=>zft(e)),t("    acyclic",()=>f0t(e)),t("    nestingGraph.run",()=>$0t(e)),t("    rank",()=>F0t(x0e(e))),t("    injectEdgeLabelProxies",()=>Pft(e)),t("    removeEmptyRanks",()=>v0t(e)),t("    nestingGraph.cleanup",()=>G0t(e)),t("    normalizeRanks",()=>m0t(e)),t("    assignRankMinMax",()=>Fft(e)),t("    removeEdgeLabelProxies",()=>Bft(e)),t("    normalize.run",()=>A0t(e)),t("    parentDummyChains",()=>sft(e)),t("    addBorderSegments",()=>T0t(e)),t("    order",()=>ift(e)),t("    insertSelfEdges",()=>Yft(e)),t("    adjustCoordinateSystem",()=>E0t(e)),t("    position",()=>wft(e)),t("    positionSelfEdges",()=>Vft(e)),t("    removeBorderNodes",()=>Gft(e)),t("    normalize.undo",()=>C0t(e)),t("    fixupEdgeLabelCoords",()=>Wft(e)),t("    undoCoordinateSystem",()=>w0t(e)),t("    translateGraph",()=>Hft(e)),t("    assignNodeIntersects",()=>$ft(e)),t("    reversePoints",()=>Uft(e)),t("    acyclic.undo",()=>p0t(e))}function Aft(e,t){Ge(e.nodes(),function(n){var r=e.node(n),a=t.node(n);r&&(r.x=a.x,r.y=a.y,t.children(n).length&&(r.width=a.width,r.height=a.height))}),Ge(e.edges(),function(n){var r=e.edge(n),a=t.edge(n);r.points=a.points,Object.prototype.hasOwnProperty.call(a,"x")&&(r.x=a.x,r.y=a.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var Ift=["nodesep","edgesep","ranksep","marginx","marginy"],Cft={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Rft=["acyclicer","ranker","rankdir","align"],kft=["width","height"],Oft={width:0,height:0},Nft=["minlen","weight","width","height","labeloffset"],Lft={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_ft=["labelpos"];function Dft(e){var t=new ls({multigraph:!0,compound:!0}),n=lk(e.graph());return t.setGraph(cS({},Cft,ok(n,Ift),IS(n,Rft))),Ge(e.nodes(),function(r){var a=lk(e.node(r));t.setNode(r,A6(ok(a,kft),Oft)),t.setParent(r,e.parent(r))}),Ge(e.edges(),function(r){var a=lk(e.edge(r));t.setEdge(r,cS({},Lft,ok(a,Nft),IS(a,_ft)))}),t}function Mft(e){var t=e.graph();t.ranksep/=2,Ge(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Pft(e){Ge(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),a=e.node(t.w),o={rank:(a.rank-r.rank)/2+r.rank,e:t};Bv(e,"edge-proxy",o,"_ep")}})}function Fft(e){var t=0;Ge(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=cp(t,r.maxRank))}),e.graph().maxRank=t}function Bft(e){Ge(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Hft(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,a=0,o=e.graph(),l=o.marginx||0,u=o.marginy||0;function h(f){var d=f.x,p=f.y,g=f.width,m=f.height;t=Math.min(t,d-g/2),n=Math.max(n,d+g/2),r=Math.min(r,p-m/2),a=Math.max(a,p+m/2)}Ge(e.nodes(),function(f){h(e.node(f))}),Ge(e.edges(),function(f){var d=e.edge(f);Object.prototype.hasOwnProperty.call(d,"x")&&h(d)}),t-=l,r-=u,Ge(e.nodes(),function(f){var d=e.node(f);d.x-=t,d.y-=r}),Ge(e.edges(),function(f){var d=e.edge(f);Ge(d.points,function(p){p.x-=t,p.y-=r}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=t),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=r)}),o.width=n-t+l,o.height=a-r+u}function $ft(e){Ge(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),a=e.node(t.w),o,l;n.points?(o=n.points[0],l=n.points[n.points.length-1]):(n.points=[],o=a,l=r),n.points.unshift(HY(r,o)),n.points.push(HY(a,l))})}function Wft(e){Ge(e.edges(),function(t){var n=e.edge(t);if(Object.prototype.hasOwnProperty.call(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Uft(e){Ge(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Gft(e){Ge(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),a=e.node(n.borderBottom),o=e.node(gu(n.borderLeft)),l=e.node(gu(n.borderRight));n.width=Math.abs(l.x-o.x),n.height=Math.abs(a.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),Ge(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function zft(e){Ge(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Yft(e){var t=k6(e);Ge(t,function(n){var r=0;Ge(n,function(a,o){var l=e.node(a);l.order=o+r,Ge(l.selfEdges,function(u){Bv(e,"selfedge",{width:u.label.width,height:u.label.height,rank:l.rank,order:o+ ++r,e:u.e,label:u.label},"_se")}),delete l.selfEdges})})}function Vft(e){Ge(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),a=r.x+r.width/2,o=r.y,l=n.x-a,u=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:a+2*l/3,y:o-u},{x:a+5*l/6,y:o-u},{x:a+l,y:o},{x:a+5*l/6,y:o+u},{x:a+2*l/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}})}function ok(e,t){return C6(IS(e,t),Number)}function lk(e){var t={};return Ge(e,function(n,r){t[r.toLowerCase()]=n}),t}function Jc(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:qft(e),edges:jft(e)};return Jn(e.graph())||(t.value=Ki(e.graph())),t}function qft(e){return mt(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),a={v:t};return Jn(n)||(a.value=n),Jn(r)||(a.parent=r),a})}function jft(e){return mt(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return Jn(t.name)||(r.name=t.name),Jn(n)||(r.value=n),r})}var En=new Map,Nd=new Map,F0e=new Map,Xft=I(()=>{Nd.clear(),F0e.clear(),En.clear()},"clear"),CS=I((e,t)=>{const n=Nd.get(t)||[];return ve.trace("In isDescendant",t," ",e," = ",n.includes(e)),n.includes(e)},"isDescendant"),Kft=I((e,t)=>{const n=Nd.get(t)||[];return ve.info("Descendants of ",t," is ",n),ve.info("Edge is ",e),e.v===t||e.w===t?!1:n?n.includes(e.v)||CS(e.v,t)||CS(e.w,t)||n.includes(e.w):(ve.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),B0e=I((e,t,n,r)=>{ve.warn("Copying children of ",e,"root",r,"data",t.node(e),r);const a=t.children(e)||[];e!==r&&a.push(e),ve.warn("Copying (nodes) clusterId",e,"nodes",a),a.forEach(o=>{if(t.children(o).length>0)B0e(o,t,n,r);else{const l=t.node(o);ve.info("cp ",o," to ",r," with parent ",e),n.setNode(o,l),r!==t.parent(o)&&(ve.warn("Setting parent",o,t.parent(o)),n.setParent(o,t.parent(o))),e!==r&&o!==e?(ve.debug("Setting parent",o,e),n.setParent(o,e)):(ve.info("In copy ",e,"root",r,"data",t.node(e),r),ve.debug("Not Setting parent for node=",o,"cluster!==rootId",e!==r,"node!==clusterId",o!==e));const u=t.edges(o);ve.debug("Copying Edges",u),u.forEach(h=>{ve.info("Edge",h);const f=t.edge(h.v,h.w,h.name);ve.info("Edge data",f,r);try{Kft(h,r)?(ve.info("Copying as ",h.v,h.w,f,h.name),n.setEdge(h.v,h.w,f,h.name),ve.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):ve.info("Skipping copy of edge ",h.v,"-->",h.w," rootId: ",r," clusterId:",e)}catch(d){ve.error(d)}})}ve.debug("Removing node",o),t.removeNode(o)})},"copy"),H0e=I((e,t)=>{const n=t.children(e);let r=[...n];for(const a of n)F0e.set(a,e),r=[...r,...H0e(a,t)];return r},"extractDescendants"),Zft=I((e,t,n)=>{const r=e.edges().filter(h=>h.v===t||h.w===t),a=e.edges().filter(h=>h.v===n||h.w===n),o=r.map(h=>({v:h.v===t?n:h.v,w:h.w===t?t:h.w})),l=a.map(h=>({v:h.v,w:h.w}));return o.filter(h=>l.some(f=>h.v===f.v&&h.w===f.w))},"findCommonEdges"),eT=I((e,t,n)=>{const r=t.children(e);if(ve.trace("Searching children of id ",e,r),r.length<1)return e;let a;for(const o of r){const l=eT(o,t,n),u=Zft(t,n,l);if(l)if(u.length>0)a=l;else return l}return a},"findNonClusterChild"),jY=I(e=>!En.has(e)||!En.get(e).externalConnections?e:En.has(e)?En.get(e).id:e,"getAnchorId"),Qft=I((e,t)=>{if(!e||t>10){ve.debug("Opting out, no graph ");return}else ve.debug("Opting in, graph ");e.nodes().forEach(function(n){e.children(n).length>0&&(ve.warn("Cluster identified",n," Replacement id in edges: ",eT(n,e,n)),Nd.set(n,H0e(n,e)),En.set(n,{id:eT(n,e,n),clusterData:e.node(n)}))}),e.nodes().forEach(function(n){const r=e.children(n),a=e.edges();r.length>0?(ve.debug("Cluster identified",n,Nd),a.forEach(o=>{const l=CS(o.v,n),u=CS(o.w,n);l^u&&(ve.warn("Edge: ",o," leaves cluster ",n),ve.warn("Descendants of XXX ",n,": ",Nd.get(n)),En.get(n).externalConnections=!0)})):ve.debug("Not a cluster ",n,Nd)});for(let n of En.keys()){const r=En.get(n).id,a=e.parent(r);a!==n&&En.has(a)&&!En.get(a).externalConnections&&(En.get(n).id=a)}e.edges().forEach(function(n){const r=e.edge(n);ve.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),ve.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(e.edge(n)));let a=n.v,o=n.w;if(ve.warn("Fix XXX",En,"ids:",n.v,n.w,"Translating: ",En.get(n.v)," --- ",En.get(n.w)),En.get(n.v)||En.get(n.w)){if(ve.warn("Fixing and trying - removing XXX",n.v,n.w,n.name),a=jY(n.v),o=jY(n.w),e.removeEdge(n.v,n.w,n.name),a!==n.v){const l=e.parent(a);En.get(l).externalConnections=!0,r.fromCluster=n.v}if(o!==n.w){const l=e.parent(o);En.get(l).externalConnections=!0,r.toCluster=n.w}ve.warn("Fix Replacing with XXX",a,o,n.name),e.setEdge(a,o,r,n.name)}}),ve.warn("Adjusted Graph",Jc(e)),$0e(e,0),ve.trace(En)},"adjustClustersAndEdges"),$0e=I((e,t)=>{var a,o;if(ve.warn("extractor - ",t,Jc(e),e.children("D")),t>10){ve.error("Bailing out");return}let n=e.nodes(),r=!1;for(const l of n){const u=e.children(l);r=r||u.length>0}if(!r){ve.debug("Done, no node has children",e.nodes());return}ve.debug("Nodes = ",n,t);for(const l of n)if(ve.debug("Extracting node",l,En,En.has(l)&&!En.get(l).externalConnections,!e.parent(l),e.node(l),e.children("D")," Depth ",t),!En.has(l))ve.debug("Not a cluster",l,t);else if(!En.get(l).externalConnections&&e.children(l)&&e.children(l).length>0){ve.warn("Cluster without external connections, without a parent and with children",l,t);let h=e.graph().rankdir==="TB"?"LR":"TB";(o=(a=En.get(l))==null?void 0:a.clusterData)!=null&&o.dir&&(h=En.get(l).clusterData.dir,ve.warn("Fixing dir",En.get(l).clusterData.dir,h));const f=new ls({multigraph:!0,compound:!0}).setGraph({rankdir:h,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ve.warn("Old graph before copy",Jc(e)),B0e(l,e,f,l),e.setNode(l,{clusterNode:!0,id:l,clusterData:En.get(l).clusterData,label:En.get(l).label,graph:f}),ve.warn("New graph after copy node: (",l,")",Jc(f)),ve.debug("Old graph after copy",Jc(e))}else ve.warn("Cluster ** ",l," **not meeting the criteria !externalConnections:",!En.get(l).externalConnections," no parent: ",!e.parent(l)," children ",e.children(l)&&e.children(l).length>0,e.children("D"),t),ve.debug(En);n=e.nodes(),ve.warn("New list of nodes",n);for(const l of n){const u=e.node(l);ve.warn(" Now next level",l,u),u!=null&&u.clusterNode&&$0e(u.graph,t+1)}},"extractor"),W0e=I((e,t)=>{if(t.length===0)return[];let n=Object.assign([],t);return t.forEach(r=>{const a=e.children(r),o=W0e(e,a);n=[...n,...o]}),n},"sorter"),Jft=I(e=>W0e(e,e.children()),"sortNodesByHierarchy"),U0e=I(async(e,t,n,r,a,o)=>{ve.warn("Graph in recursive render:XAX",Jc(t),a);const l=t.graph().rankdir;ve.trace("Dir in recursive render - dir:",l);const u=e.insert("g").attr("class","root");t.nodes()?ve.info("Recursive render XXX",t.nodes()):ve.info("No nodes found for",t),t.edges().length>0&&ve.info("Recursive edges",t.edge(t.edges()[0]));const h=u.insert("g").attr("class","clusters"),f=u.insert("g").attr("class","edgePaths"),d=u.insert("g").attr("class","edgeLabels"),p=u.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(b){const T=t.node(b);if(a!==void 0){const E=JSON.parse(JSON.stringify(a.clusterData));ve.trace(`Setting data for parent cluster XXX
 Node.id = `,b,`
 data=`,E.height,`
Parent cluster`,a.height),t.setNode(a.id,E),t.parent(b)||(ve.trace("Setting parent",b,a.id),t.setParent(b,a.id,E))}if(ve.info("(Insert) Node XXX"+b+": "+JSON.stringify(t.node(b))),T!=null&&T.clusterNode){ve.info("Cluster identified XBX",b,T.width,t.node(b));const{ranksep:E,nodesep:w}=t.graph();T.graph.setGraph({...T.graph.graph(),ranksep:E+25,nodesep:w});const x=await U0e(p,T.graph,n,r,t.node(b),o),S=x.elem;Ut(T,S),T.diff=x.diff||0,ve.info("New compound node after recursive render XAX",b,"width",T.width,"height",T.height),Vet(S,T)}else t.children(b).length>0?(ve.trace("Cluster - the non recursive path XBX",b,T.id,T,T.width,"Graph:",t),ve.trace(eT(T.id,t)),En.set(T.id,{id:eT(T.id,t),node:T})):(ve.trace("Node - the non recursive path XAX",b,p,t.node(b),l),await l6(p,t.node(b),{config:o,dir:l}))})),await I(async()=>{const b=t.edges().map(async function(T){const E=t.edge(T.v,T.w,T.name);ve.info("Edge "+T.v+" -> "+T.w+": "+JSON.stringify(T)),ve.info("Edge "+T.v+" -> "+T.w+": ",T," ",JSON.stringify(t.edge(T))),ve.info("Fix",En,"ids:",T.v,T.w,"Translating: ",En.get(T.v),En.get(T.w)),await _ce(d,E)});await Promise.all(b)},"processEdges")(),ve.info("Graph before layout:",JSON.stringify(Jc(t))),ve.info("############################################# XXX"),ve.info("###                Layout                 ### XXX"),ve.info("############################################# XXX"),O6(t),ve.info("Graph after layout:",JSON.stringify(Jc(t)));let m=0,{subGraphTitleTotalMargin:y}=aE(o);return await Promise.all(Jft(t).map(async function(b){var E;const T=t.node(b);if(ve.info("Position XBX => "+b+": ("+T.x,","+T.y,") width: ",T.width," height: ",T.height),T!=null&&T.clusterNode)T.y+=y,ve.info("A tainted cluster node XBX1",b,T.id,T.width,T.height,T.x,T.y,t.parent(b)),En.get(T.id).node=T,a8(T);else if(t.children(b).length>0){ve.info("A pure cluster node XBX1",b,T.id,T.x,T.y,T.width,T.height,t.parent(b)),T.height+=y,t.node(T.parentId);const w=(T==null?void 0:T.padding)/2||0,x=((E=T==null?void 0:T.labelBBox)==null?void 0:E.height)||0,S=x-w||0;ve.debug("OffsetY",S,"labelHeight",x,"halfPadding",w),await bD(h,T),En.get(T.id).node=T}else{const w=t.node(T.parentId);T.y+=y/2,ve.info("A regular node XBX1 - using the padding",T.id,"parent",T.parentId,T.width,T.height,T.x,T.y,"offsetY",T.offsetY,"parent",w,w==null?void 0:w.offsetY,T),a8(T)}})),t.edges().forEach(function(b){const T=t.edge(b);ve.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(T),T),T.points.forEach(S=>S.y+=y/2);const E=t.node(b.v);var w=t.node(b.w);const x=Pce(f,T,En,n,E,w,r);Dce(T,x)}),t.nodes().forEach(function(b){const T=t.node(b);ve.info(b,T.type,T.diff),T.isGroup&&(m=T.diff)}),ve.warn("Returning from recursive render XAX",u,m),{elem:u,diff:m}},"recursiveRender"),edt=I(async(e,t)=>{var o,l,u,h,f,d;const n=new ls({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:((o=e.config)==null?void 0:o.nodeSpacing)||((u=(l=e.config)==null?void 0:l.flowchart)==null?void 0:u.nodeSpacing)||e.nodeSpacing,ranksep:((h=e.config)==null?void 0:h.rankSpacing)||((d=(f=e.config)==null?void 0:f.flowchart)==null?void 0:d.rankSpacing)||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),r=t.select("g");Fce(r,e.markers,e.type,e.diagramId),qet(),Ket(),Cet(),Xft(),e.nodes.forEach(p=>{n.setNode(p.id,{...p}),p.parentId&&n.setParent(p.id,p.parentId)}),ve.debug("Edges:",e.edges),e.edges.forEach(p=>{if(p.start===p.end){const g=p.start,m=g+"---"+g+"---1",y=g+"---"+g+"---2",b=n.node(g);n.setNode(m,{domId:m,id:m,parentId:b.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),n.setParent(m,b.parentId),n.setNode(y,{domId:y,id:y,parentId:b.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),n.setParent(y,b.parentId);const T=structuredClone(p),E=structuredClone(p),w=structuredClone(p);T.label="",T.arrowTypeEnd="none",T.id=g+"-cyclic-special-1",E.arrowTypeEnd="none",E.id=g+"-cyclic-special-mid",w.label="",b.isGroup&&(T.fromCluster=g,w.toCluster=g),w.id=g+"-cyclic-special-2",n.setEdge(g,m,T,g+"-cyclic-special-0"),n.setEdge(m,y,E,g+"-cyclic-special-1"),n.setEdge(y,g,w,g+"-cyc<lic-special-2")}else n.setEdge(p.start,p.end,{...p},p.id)}),ve.warn("Graph at first:",JSON.stringify(Jc(n))),Qft(n),ve.warn("Graph after XAX:",JSON.stringify(Jc(n)));const a=Pe();await U0e(r,n,e.type,e.diagramId,void 0,a)},"render");const tdt=Object.freeze(Object.defineProperty({__proto__:null,render:edt},Symbol.toStringTag,{value:"Module"}));var N6=I((e,t)=>{const n=e.append("rect");if(n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),t.name&&n.attr("name",t.name),t.rx&&n.attr("rx",t.rx),t.ry&&n.attr("ry",t.ry),t.attrs!==void 0)for(const r in t.attrs)n.attr(r,t.attrs[r]);return t.class&&n.attr("class",t.class),n},"drawRect"),G0e=I((e,t)=>{const n={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};N6(e,n).lower()},"drawBackgroundRect"),ndt=I((e,t)=>{const n=t.text.replace(Rv," "),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.attr("class","legend"),r.style("text-anchor",t.anchor),t.class&&r.attr("class",t.class);const a=r.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.text(n),r},"drawText"),rdt=I((e,t,n,r)=>{const a=e.append("image");a.attr("x",t),a.attr("y",n);const o=Af(r);a.attr("xlink:href",o)},"drawImage"),idt=I((e,t,n,r)=>{const a=e.append("use");a.attr("x",t),a.attr("y",n);const o=Af(r);a.attr("xlink:href",`#${o}`)},"drawEmbeddedImage"),Gp=I(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),fM=I(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),RS=function(){var e=I(function(Re,ke,De,se){for(De=De||{},se=Re.length;se--;De[Re[se]]=ke);return De},"o"),t=[1,24],n=[1,25],r=[1,26],a=[1,27],o=[1,28],l=[1,63],u=[1,64],h=[1,65],f=[1,66],d=[1,67],p=[1,68],g=[1,69],m=[1,29],y=[1,30],b=[1,31],T=[1,32],E=[1,33],w=[1,34],x=[1,35],S=[1,36],A=[1,37],R=[1,38],C=[1,39],N=[1,40],O=[1,41],L=[1,42],k=[1,43],M=[1,44],$=[1,45],_=[1,46],F=[1,47],B=[1,48],D=[1,50],P=[1,51],H=[1,52],W=[1,53],U=[1,54],V=[1,55],G=[1,56],ee=[1,57],ce=[1,58],Q=[1,59],re=[1,60],le=[14,42],Y=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],K=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Z=[1,82],z=[1,83],X=[1,84],te=[1,85],ne=[12,14,42],Ae=[12,14,33,42],he=[12,14,33,42,76,77,79,80],oe=[12,33],de=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],be={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:I(function(ke,De,se,j,me,ue,we){var ie=ue.length-1;switch(me){case 3:j.setDirection("TB");break;case 4:j.setDirection("BT");break;case 5:j.setDirection("RL");break;case 6:j.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:j.setC4Type(ue[ie-3]);break;case 19:j.setTitle(ue[ie].substring(6)),this.$=ue[ie].substring(6);break;case 20:j.setAccDescription(ue[ie].substring(15)),this.$=ue[ie].substring(15);break;case 21:this.$=ue[ie].trim(),j.setTitle(this.$);break;case 22:case 23:this.$=ue[ie].trim(),j.setAccDescription(this.$);break;case 28:ue[ie].splice(2,0,"ENTERPRISE"),j.addPersonOrSystemBoundary(...ue[ie]),this.$=ue[ie];break;case 29:ue[ie].splice(2,0,"SYSTEM"),j.addPersonOrSystemBoundary(...ue[ie]),this.$=ue[ie];break;case 30:j.addPersonOrSystemBoundary(...ue[ie]),this.$=ue[ie];break;case 31:ue[ie].splice(2,0,"CONTAINER"),j.addContainerBoundary(...ue[ie]),this.$=ue[ie];break;case 32:j.addDeploymentNode("node",...ue[ie]),this.$=ue[ie];break;case 33:j.addDeploymentNode("nodeL",...ue[ie]),this.$=ue[ie];break;case 34:j.addDeploymentNode("nodeR",...ue[ie]),this.$=ue[ie];break;case 35:j.popBoundaryParseStack();break;case 39:j.addPersonOrSystem("person",...ue[ie]),this.$=ue[ie];break;case 40:j.addPersonOrSystem("external_person",...ue[ie]),this.$=ue[ie];break;case 41:j.addPersonOrSystem("system",...ue[ie]),this.$=ue[ie];break;case 42:j.addPersonOrSystem("system_db",...ue[ie]),this.$=ue[ie];break;case 43:j.addPersonOrSystem("system_queue",...ue[ie]),this.$=ue[ie];break;case 44:j.addPersonOrSystem("external_system",...ue[ie]),this.$=ue[ie];break;case 45:j.addPersonOrSystem("external_system_db",...ue[ie]),this.$=ue[ie];break;case 46:j.addPersonOrSystem("external_system_queue",...ue[ie]),this.$=ue[ie];break;case 47:j.addContainer("container",...ue[ie]),this.$=ue[ie];break;case 48:j.addContainer("container_db",...ue[ie]),this.$=ue[ie];break;case 49:j.addContainer("container_queue",...ue[ie]),this.$=ue[ie];break;case 50:j.addContainer("external_container",...ue[ie]),this.$=ue[ie];break;case 51:j.addContainer("external_container_db",...ue[ie]),this.$=ue[ie];break;case 52:j.addContainer("external_container_queue",...ue[ie]),this.$=ue[ie];break;case 53:j.addComponent("component",...ue[ie]),this.$=ue[ie];break;case 54:j.addComponent("component_db",...ue[ie]),this.$=ue[ie];break;case 55:j.addComponent("component_queue",...ue[ie]),this.$=ue[ie];break;case 56:j.addComponent("external_component",...ue[ie]),this.$=ue[ie];break;case 57:j.addComponent("external_component_db",...ue[ie]),this.$=ue[ie];break;case 58:j.addComponent("external_component_queue",...ue[ie]),this.$=ue[ie];break;case 60:j.addRel("rel",...ue[ie]),this.$=ue[ie];break;case 61:j.addRel("birel",...ue[ie]),this.$=ue[ie];break;case 62:j.addRel("rel_u",...ue[ie]),this.$=ue[ie];break;case 63:j.addRel("rel_d",...ue[ie]),this.$=ue[ie];break;case 64:j.addRel("rel_l",...ue[ie]),this.$=ue[ie];break;case 65:j.addRel("rel_r",...ue[ie]),this.$=ue[ie];break;case 66:j.addRel("rel_b",...ue[ie]),this.$=ue[ie];break;case 67:ue[ie].splice(0,1),j.addRel("rel",...ue[ie]),this.$=ue[ie];break;case 68:j.updateElStyle("update_el_style",...ue[ie]),this.$=ue[ie];break;case 69:j.updateRelStyle("update_rel_style",...ue[ie]),this.$=ue[ie];break;case 70:j.updateLayoutConfig("update_layout_config",...ue[ie]),this.$=ue[ie];break;case 71:this.$=[ue[ie]];break;case 72:ue[ie].unshift(ue[ie-1]),this.$=ue[ie];break;case 73:case 75:this.$=ue[ie].trim();break;case 74:let Oe={};Oe[ue[ie-1].trim()]=ue[ie].trim(),this.$=Oe;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:n,24:r,26:a,28:o,29:49,30:61,32:62,34:l,36:u,37:h,38:f,39:d,40:p,41:g,43:23,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re},{13:70,19:20,20:21,21:22,22:t,23:n,24:r,26:a,28:o,29:49,30:61,32:62,34:l,36:u,37:h,38:f,39:d,40:p,41:g,43:23,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re},{13:71,19:20,20:21,21:22,22:t,23:n,24:r,26:a,28:o,29:49,30:61,32:62,34:l,36:u,37:h,38:f,39:d,40:p,41:g,43:23,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re},{13:72,19:20,20:21,21:22,22:t,23:n,24:r,26:a,28:o,29:49,30:61,32:62,34:l,36:u,37:h,38:f,39:d,40:p,41:g,43:23,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re},{13:73,19:20,20:21,21:22,22:t,23:n,24:r,26:a,28:o,29:49,30:61,32:62,34:l,36:u,37:h,38:f,39:d,40:p,41:g,43:23,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re},{14:[1,74]},e(le,[2,13],{43:23,29:49,30:61,32:62,20:75,34:l,36:u,37:h,38:f,39:d,40:p,41:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re}),e(le,[2,14]),e(Y,[2,16],{12:[1,76]}),e(le,[2,36],{12:[1,77]}),e(K,[2,19]),e(K,[2,20]),{25:[1,78]},{27:[1,79]},e(K,[2,23]),{35:80,75:81,76:Z,77:z,79:X,80:te},{35:86,75:81,76:Z,77:z,79:X,80:te},{35:87,75:81,76:Z,77:z,79:X,80:te},{35:88,75:81,76:Z,77:z,79:X,80:te},{35:89,75:81,76:Z,77:z,79:X,80:te},{35:90,75:81,76:Z,77:z,79:X,80:te},{35:91,75:81,76:Z,77:z,79:X,80:te},{35:92,75:81,76:Z,77:z,79:X,80:te},{35:93,75:81,76:Z,77:z,79:X,80:te},{35:94,75:81,76:Z,77:z,79:X,80:te},{35:95,75:81,76:Z,77:z,79:X,80:te},{35:96,75:81,76:Z,77:z,79:X,80:te},{35:97,75:81,76:Z,77:z,79:X,80:te},{35:98,75:81,76:Z,77:z,79:X,80:te},{35:99,75:81,76:Z,77:z,79:X,80:te},{35:100,75:81,76:Z,77:z,79:X,80:te},{35:101,75:81,76:Z,77:z,79:X,80:te},{35:102,75:81,76:Z,77:z,79:X,80:te},{35:103,75:81,76:Z,77:z,79:X,80:te},{35:104,75:81,76:Z,77:z,79:X,80:te},e(ne,[2,59]),{35:105,75:81,76:Z,77:z,79:X,80:te},{35:106,75:81,76:Z,77:z,79:X,80:te},{35:107,75:81,76:Z,77:z,79:X,80:te},{35:108,75:81,76:Z,77:z,79:X,80:te},{35:109,75:81,76:Z,77:z,79:X,80:te},{35:110,75:81,76:Z,77:z,79:X,80:te},{35:111,75:81,76:Z,77:z,79:X,80:te},{35:112,75:81,76:Z,77:z,79:X,80:te},{35:113,75:81,76:Z,77:z,79:X,80:te},{35:114,75:81,76:Z,77:z,79:X,80:te},{35:115,75:81,76:Z,77:z,79:X,80:te},{20:116,29:49,30:61,32:62,34:l,36:u,37:h,38:f,39:d,40:p,41:g,43:23,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re},{12:[1,118],33:[1,117]},{35:119,75:81,76:Z,77:z,79:X,80:te},{35:120,75:81,76:Z,77:z,79:X,80:te},{35:121,75:81,76:Z,77:z,79:X,80:te},{35:122,75:81,76:Z,77:z,79:X,80:te},{35:123,75:81,76:Z,77:z,79:X,80:te},{35:124,75:81,76:Z,77:z,79:X,80:te},{35:125,75:81,76:Z,77:z,79:X,80:te},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(le,[2,15]),e(Y,[2,17],{21:22,19:130,22:t,23:n,24:r,26:a,28:o}),e(le,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:n,24:r,26:a,28:o,34:l,36:u,37:h,38:f,39:d,40:p,41:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x,51:S,52:A,53:R,54:C,55:N,56:O,57:L,58:k,59:M,60:$,61:_,62:F,63:B,64:D,65:P,66:H,67:W,68:U,69:V,70:G,71:ee,72:ce,73:Q,74:re}),e(K,[2,21]),e(K,[2,22]),e(ne,[2,39]),e(Ae,[2,71],{75:81,35:132,76:Z,77:z,79:X,80:te}),e(he,[2,73]),{78:[1,133]},e(he,[2,75]),e(he,[2,76]),e(ne,[2,40]),e(ne,[2,41]),e(ne,[2,42]),e(ne,[2,43]),e(ne,[2,44]),e(ne,[2,45]),e(ne,[2,46]),e(ne,[2,47]),e(ne,[2,48]),e(ne,[2,49]),e(ne,[2,50]),e(ne,[2,51]),e(ne,[2,52]),e(ne,[2,53]),e(ne,[2,54]),e(ne,[2,55]),e(ne,[2,56]),e(ne,[2,57]),e(ne,[2,58]),e(ne,[2,60]),e(ne,[2,61]),e(ne,[2,62]),e(ne,[2,63]),e(ne,[2,64]),e(ne,[2,65]),e(ne,[2,66]),e(ne,[2,67]),e(ne,[2,68]),e(ne,[2,69]),e(ne,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(oe,[2,28]),e(oe,[2,29]),e(oe,[2,30]),e(oe,[2,31]),e(oe,[2,32]),e(oe,[2,33]),e(oe,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(Y,[2,18]),e(le,[2,38]),e(Ae,[2,72]),e(he,[2,74]),e(ne,[2,24]),e(ne,[2,35]),e(de,[2,25]),e(de,[2,26],{12:[1,138]}),e(de,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:I(function(ke,De){if(De.recoverable)this.trace(ke);else{var se=new Error(ke);throw se.hash=De,se}},"parseError"),parse:I(function(ke){var De=this,se=[0],j=[],me=[null],ue=[],we=this.table,ie="",Oe=0,ae=0,ge=2,Ee=1,ye=ue.slice.call(arguments,1),Se=Object.create(this.lexer),Ce={yy:{}};for(var Fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fe)&&(Ce.yy[Fe]=this.yy[Fe]);Se.setInput(ke,Ce.yy),Ce.yy.lexer=Se,Ce.yy.parser=this,typeof Se.yylloc>"u"&&(Se.yylloc={});var Ne=Se.yylloc;ue.push(Ne);var Ve=Se.options&&Se.options.ranges;typeof Ce.yy.parseError=="function"?this.parseError=Ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function et(gt){se.length=se.length-2*gt,me.length=me.length-gt,ue.length=ue.length-gt}I(et,"popStack");function Rt(){var gt;return gt=j.pop()||Se.lex()||Ee,typeof gt!="number"&&(gt instanceof Array&&(j=gt,gt=j.pop()),gt=De.symbols_[gt]||gt),gt}I(Rt,"lex");for(var pt,ut,qe,je,ft={},Ke,at,Ft,st;;){if(ut=se[se.length-1],this.defaultActions[ut]?qe=this.defaultActions[ut]:((pt===null||typeof pt>"u")&&(pt=Rt()),qe=we[ut]&&we[ut][pt]),typeof qe>"u"||!qe.length||!qe[0]){var Je="";st=[];for(Ke in we[ut])this.terminals_[Ke]&&Ke>ge&&st.push("'"+this.terminals_[Ke]+"'");Se.showPosition?Je="Parse error on line "+(Oe+1)+`:
`+Se.showPosition()+`
Expecting `+st.join(", ")+", got '"+(this.terminals_[pt]||pt)+"'":Je="Parse error on line "+(Oe+1)+": Unexpected "+(pt==Ee?"end of input":"'"+(this.terminals_[pt]||pt)+"'"),this.parseError(Je,{text:Se.match,token:this.terminals_[pt]||pt,line:Se.yylineno,loc:Ne,expected:st})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ut+", token: "+pt);switch(qe[0]){case 1:se.push(pt),me.push(Se.yytext),ue.push(Se.yylloc),se.push(qe[1]),pt=null,ae=Se.yyleng,ie=Se.yytext,Oe=Se.yylineno,Ne=Se.yylloc;break;case 2:if(at=this.productions_[qe[1]][1],ft.$=me[me.length-at],ft._$={first_line:ue[ue.length-(at||1)].first_line,last_line:ue[ue.length-1].last_line,first_column:ue[ue.length-(at||1)].first_column,last_column:ue[ue.length-1].last_column},Ve&&(ft._$.range=[ue[ue.length-(at||1)].range[0],ue[ue.length-1].range[1]]),je=this.performAction.apply(ft,[ie,ae,Oe,Ce.yy,qe[1],me,ue].concat(ye)),typeof je<"u")return je;at&&(se=se.slice(0,-1*at*2),me=me.slice(0,-1*at),ue=ue.slice(0,-1*at)),se.push(this.productions_[qe[1]][0]),me.push(ft.$),ue.push(ft._$),Ft=we[se[se.length-2]][se[se.length-1]],se.push(Ft);break;case 3:return!0}}return!0},"parse")},fe=function(){var Re={EOF:1,parseError:I(function(De,se){if(this.yy.parser)this.yy.parser.parseError(De,se);else throw new Error(De)},"parseError"),setInput:I(function(ke,De){return this.yy=De||this.yy||{},this._input=ke,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var ke=this._input[0];this.yytext+=ke,this.yyleng++,this.offset++,this.match+=ke,this.matched+=ke;var De=ke.match(/(?:\r\n?|\n).*/g);return De?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ke},"input"),unput:I(function(ke){var De=ke.length,se=ke.split(/(?:\r\n?|\n)/g);this._input=ke+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-De),this.offset-=De;var j=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),se.length-1&&(this.yylineno-=se.length-1);var me=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:se?(se.length===j.length?this.yylloc.first_column:0)+j[j.length-se.length].length-se[0].length:this.yylloc.first_column-De},this.options.ranges&&(this.yylloc.range=[me[0],me[0]+this.yyleng-De]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(ke){this.unput(this.match.slice(ke))},"less"),pastInput:I(function(){var ke=this.matched.substr(0,this.matched.length-this.match.length);return(ke.length>20?"...":"")+ke.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var ke=this.match;return ke.length<20&&(ke+=this._input.substr(0,20-ke.length)),(ke.substr(0,20)+(ke.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var ke=this.pastInput(),De=new Array(ke.length+1).join("-");return ke+this.upcomingInput()+`
`+De+"^"},"showPosition"),test_match:I(function(ke,De){var se,j,me;if(this.options.backtrack_lexer&&(me={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(me.yylloc.range=this.yylloc.range.slice(0))),j=ke[0].match(/(?:\r\n?|\n).*/g),j&&(this.yylineno+=j.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ke[0].length},this.yytext+=ke[0],this.match+=ke[0],this.matches=ke,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ke[0].length),this.matched+=ke[0],se=this.performAction.call(this,this.yy,this,De,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),se)return se;if(this._backtrack){for(var ue in me)this[ue]=me[ue];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ke,De,se,j;this._more||(this.yytext="",this.match="");for(var me=this._currentRules(),ue=0;ue<me.length;ue++)if(se=this._input.match(this.rules[me[ue]]),se&&(!De||se[0].length>De[0].length)){if(De=se,j=ue,this.options.backtrack_lexer){if(ke=this.test_match(se,me[ue]),ke!==!1)return ke;if(this._backtrack){De=!1;continue}else return!1}else if(!this.options.flex)break}return De?(ke=this.test_match(De,me[j]),ke!==!1?ke:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var De=this.next();return De||this.lex()},"lex"),begin:I(function(De){this.conditionStack.push(De)},"begin"),popState:I(function(){var De=this.conditionStack.length-1;return De>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(De){return De=this.conditionStack.length-1-Math.abs(De||0),De>=0?this.conditionStack[De]:"INITIAL"},"topState"),pushState:I(function(De){this.begin(De)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(De,se,j,me){switch(j){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Re}();be.lexer=fe;function Ie(){this.yy={}}return I(Ie,"Parser"),Ie.prototype=be,be.Parser=Ie,new Ie}();RS.parser=RS;var adt=RS,Tc=[],B0=[""],ks="global",hc="",mu=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],tT=[],dM="",pM=!1,kS=4,OS=2,z0e,sdt=I(function(){return z0e},"getC4Type"),odt=I(function(e){z0e=or(e,Pe())},"setC4Type"),ldt=I(function(e,t,n,r,a,o,l,u,h){if(e==null||t===void 0||t===null||n===void 0||n===null||r===void 0||r===null)return;let f={};const d=tT.find(p=>p.from===t&&p.to===n);if(d?f=d:tT.push(f),f.type=e,f.from=t,f.to=n,f.label={text:r},a==null)f.techn={text:""};else if(typeof a=="object"){let[p,g]=Object.entries(a)[0];f[p]={text:g}}else f.techn={text:a};if(o==null)f.descr={text:""};else if(typeof o=="object"){let[p,g]=Object.entries(o)[0];f[p]={text:g}}else f.descr={text:o};if(typeof l=="object"){let[p,g]=Object.entries(l)[0];f[p]=g}else f.sprite=l;if(typeof u=="object"){let[p,g]=Object.entries(u)[0];f[p]=g}else f.tags=u;if(typeof h=="object"){let[p,g]=Object.entries(h)[0];f[p]=g}else f.link=h;f.wrap=kf()},"addRel"),cdt=I(function(e,t,n,r,a,o,l){if(t===null||n===null)return;let u={};const h=Tc.find(f=>f.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Tc.push(u)),n==null?u.label={text:""}:u.label={text:n},r==null)u.descr={text:""};else if(typeof r=="object"){let[f,d]=Object.entries(r)[0];u[f]={text:d}}else u.descr={text:r};if(typeof a=="object"){let[f,d]=Object.entries(a)[0];u[f]=d}else u.sprite=a;if(typeof o=="object"){let[f,d]=Object.entries(o)[0];u[f]=d}else u.tags=o;if(typeof l=="object"){let[f,d]=Object.entries(l)[0];u[f]=d}else u.link=l;u.typeC4Shape={text:e},u.parentBoundary=ks,u.wrap=kf()},"addPersonOrSystem"),udt=I(function(e,t,n,r,a,o,l,u){if(t===null||n===null)return;let h={};const f=Tc.find(d=>d.alias===t);if(f&&t===f.alias?h=f:(h.alias=t,Tc.push(h)),n==null?h.label={text:""}:h.label={text:n},r==null)h.techn={text:""};else if(typeof r=="object"){let[d,p]=Object.entries(r)[0];h[d]={text:p}}else h.techn={text:r};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]={text:p}}else h.descr={text:a};if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.sprite=o;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];h[d]=p}else h.tags=l;if(typeof u=="object"){let[d,p]=Object.entries(u)[0];h[d]=p}else h.link=u;h.wrap=kf(),h.typeC4Shape={text:e},h.parentBoundary=ks},"addContainer"),hdt=I(function(e,t,n,r,a,o,l,u){if(t===null||n===null)return;let h={};const f=Tc.find(d=>d.alias===t);if(f&&t===f.alias?h=f:(h.alias=t,Tc.push(h)),n==null?h.label={text:""}:h.label={text:n},r==null)h.techn={text:""};else if(typeof r=="object"){let[d,p]=Object.entries(r)[0];h[d]={text:p}}else h.techn={text:r};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]={text:p}}else h.descr={text:a};if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.sprite=o;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];h[d]=p}else h.tags=l;if(typeof u=="object"){let[d,p]=Object.entries(u)[0];h[d]=p}else h.link=u;h.wrap=kf(),h.typeC4Shape={text:e},h.parentBoundary=ks},"addComponent"),fdt=I(function(e,t,n,r,a){if(e===null||t===null)return;let o={};const l=mu.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,mu.push(o)),t==null?o.label={text:""}:o.label={text:t},n==null)o.type={text:"system"};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.type={text:n};if(typeof r=="object"){let[u,h]=Object.entries(r)[0];o[u]=h}else o.tags=r;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.link=a;o.parentBoundary=ks,o.wrap=kf(),hc=ks,ks=e,B0.push(hc)},"addPersonOrSystemBoundary"),ddt=I(function(e,t,n,r,a){if(e===null||t===null)return;let o={};const l=mu.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,mu.push(o)),t==null?o.label={text:""}:o.label={text:t},n==null)o.type={text:"container"};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.type={text:n};if(typeof r=="object"){let[u,h]=Object.entries(r)[0];o[u]=h}else o.tags=r;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.link=a;o.parentBoundary=ks,o.wrap=kf(),hc=ks,ks=e,B0.push(hc)},"addContainerBoundary"),pdt=I(function(e,t,n,r,a,o,l,u){if(t===null||n===null)return;let h={};const f=mu.find(d=>d.alias===t);if(f&&t===f.alias?h=f:(h.alias=t,mu.push(h)),n==null?h.label={text:""}:h.label={text:n},r==null)h.type={text:"node"};else if(typeof r=="object"){let[d,p]=Object.entries(r)[0];h[d]={text:p}}else h.type={text:r};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]={text:p}}else h.descr={text:a};if(typeof l=="object"){let[d,p]=Object.entries(l)[0];h[d]=p}else h.tags=l;if(typeof u=="object"){let[d,p]=Object.entries(u)[0];h[d]=p}else h.link=u;h.nodeType=e,h.parentBoundary=ks,h.wrap=kf(),hc=ks,ks=t,B0.push(hc)},"addDeploymentNode"),gdt=I(function(){ks=hc,B0.pop(),hc=B0.pop(),B0.push(hc)},"popBoundaryParseStack"),mdt=I(function(e,t,n,r,a,o,l,u,h,f,d){let p=Tc.find(g=>g.alias===t);if(!(p===void 0&&(p=mu.find(g=>g.alias===t),p===void 0))){if(n!=null)if(typeof n=="object"){let[g,m]=Object.entries(n)[0];p[g]=m}else p.bgColor=n;if(r!=null)if(typeof r=="object"){let[g,m]=Object.entries(r)[0];p[g]=m}else p.fontColor=r;if(a!=null)if(typeof a=="object"){let[g,m]=Object.entries(a)[0];p[g]=m}else p.borderColor=a;if(o!=null)if(typeof o=="object"){let[g,m]=Object.entries(o)[0];p[g]=m}else p.shadowing=o;if(l!=null)if(typeof l=="object"){let[g,m]=Object.entries(l)[0];p[g]=m}else p.shape=l;if(u!=null)if(typeof u=="object"){let[g,m]=Object.entries(u)[0];p[g]=m}else p.sprite=u;if(h!=null)if(typeof h=="object"){let[g,m]=Object.entries(h)[0];p[g]=m}else p.techn=h;if(f!=null)if(typeof f=="object"){let[g,m]=Object.entries(f)[0];p[g]=m}else p.legendText=f;if(d!=null)if(typeof d=="object"){let[g,m]=Object.entries(d)[0];p[g]=m}else p.legendSprite=d}},"updateElStyle"),vdt=I(function(e,t,n,r,a,o,l){const u=tT.find(h=>h.from===t&&h.to===n);if(u!==void 0){if(r!=null)if(typeof r=="object"){let[h,f]=Object.entries(r)[0];u[h]=f}else u.textColor=r;if(a!=null)if(typeof a=="object"){let[h,f]=Object.entries(a)[0];u[h]=f}else u.lineColor=a;if(o!=null)if(typeof o=="object"){let[h,f]=Object.entries(o)[0];u[h]=parseInt(f)}else u.offsetX=parseInt(o);if(l!=null)if(typeof l=="object"){let[h,f]=Object.entries(l)[0];u[h]=parseInt(f)}else u.offsetY=parseInt(l)}},"updateRelStyle"),ydt=I(function(e,t,n){let r=kS,a=OS;if(typeof t=="object"){const o=Object.values(t)[0];r=parseInt(o)}else r=parseInt(t);if(typeof n=="object"){const o=Object.values(n)[0];a=parseInt(o)}else a=parseInt(n);r>=1&&(kS=r),a>=1&&(OS=a)},"updateLayoutConfig"),bdt=I(function(){return kS},"getC4ShapeInRow"),Tdt=I(function(){return OS},"getC4BoundaryInRow"),Edt=I(function(){return ks},"getCurrentBoundaryParse"),wdt=I(function(){return hc},"getParentBoundaryParse"),Y0e=I(function(e){return e==null?Tc:Tc.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),xdt=I(function(e){return Tc.find(t=>t.alias===e)},"getC4Shape"),Sdt=I(function(e){return Object.keys(Y0e(e))},"getC4ShapeKeys"),V0e=I(function(e){return e==null?mu:mu.filter(t=>t.parentBoundary===e)},"getBoundaries"),Adt=V0e,Idt=I(function(){return tT},"getRels"),Cdt=I(function(){return dM},"getTitle"),Rdt=I(function(e){pM=e},"setWrap"),kf=I(function(){return pM},"autoWrap"),kdt=I(function(){Tc=[],mu=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],hc="",ks="global",B0=[""],tT=[],B0=[""],dM="",pM=!1,kS=4,OS=2},"clear"),Odt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},Ndt={FILLED:0,OPEN:1},Ldt={LEFTOF:0,RIGHTOF:1,OVER:2},_dt=I(function(e){dM=or(e,Pe())},"setTitle"),C8={addPersonOrSystem:cdt,addPersonOrSystemBoundary:fdt,addContainer:udt,addContainerBoundary:ddt,addComponent:hdt,addDeploymentNode:pdt,popBoundaryParseStack:gdt,addRel:ldt,updateElStyle:mdt,updateRelStyle:vdt,updateLayoutConfig:ydt,autoWrap:kf,setWrap:Rdt,getC4ShapeArray:Y0e,getC4Shape:xdt,getC4ShapeKeys:Sdt,getBoundaries:V0e,getBoundarys:Adt,getCurrentBoundaryParse:Edt,getParentBoundaryParse:wdt,getRels:Idt,getTitle:Cdt,getC4Type:sdt,getC4ShapeInRow:bdt,getC4BoundaryInRow:Tdt,setAccTitle:da,getAccTitle:La,getAccDescription:Da,setAccDescription:_a,getConfig:I(()=>Pe().c4,"getConfig"),clear:kdt,LINETYPE:Odt,ARROWTYPE:Ndt,PLACEMENT:Ldt,setTitle:_dt,setC4Type:odt},gM=I(function(e,t){return N6(e,t)},"drawRect"),q0e=I(function(e,t,n,r,a,o){const l=e.append("image");l.attr("width",t),l.attr("height",n),l.attr("x",r),l.attr("y",a);let u=o.startsWith("data:image/png;base64")?o:Af(o);l.attr("xlink:href",u)},"drawImage"),Ddt=I((e,t,n)=>{const r=e.append("g");let a=0;for(let o of t){let l=o.textColor?o.textColor:"#444444",u=o.lineColor?o.lineColor:"#444444",h=o.offsetX?parseInt(o.offsetX):0,f=o.offsetY?parseInt(o.offsetY):0,d="";if(a===0){let g=r.append("line");g.attr("x1",o.startPoint.x),g.attr("y1",o.startPoint.y),g.attr("x2",o.endPoint.x),g.attr("y2",o.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",u),g.style("fill","none"),o.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)"),a=-1}else{let g=r.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",u).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",o.startPoint.x).replaceAll("starty",o.startPoint.y).replaceAll("controlx",o.startPoint.x+(o.endPoint.x-o.startPoint.x)/2-(o.endPoint.x-o.startPoint.x)/4).replaceAll("controly",o.startPoint.y+(o.endPoint.y-o.startPoint.y)/2).replaceAll("stopx",o.endPoint.x).replaceAll("stopy",o.endPoint.y)),o.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)")}let p=n.messageFont();oh(n)(o.label.text,r,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+h,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+f,o.label.width,o.label.height,{fill:l},p),o.techn&&o.techn.text!==""&&(p=n.messageFont(),oh(n)("["+o.techn.text+"]",r,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+h,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+n.messageFontSize+5+f,Math.max(o.label.width,o.techn.width),o.techn.height,{fill:l,"font-style":"italic"},p))}},"drawRels"),Mdt=I(function(e,t,n){const r=e.append("g");let a=t.bgColor?t.bgColor:"none",o=t.borderColor?t.borderColor:"#444444",l=t.fontColor?t.fontColor:"black",u={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(u={"stroke-width":1});let h={x:t.x,y:t.y,fill:a,stroke:o,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:u};gM(r,h);let f=n.boundaryFont();f.fontWeight="bold",f.fontSize=f.fontSize+2,f.fontColor=l,oh(n)(t.label.text,r,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},f),t.type&&t.type.text!==""&&(f=n.boundaryFont(),f.fontColor=l,oh(n)(t.type.text,r,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},f)),t.descr&&t.descr.text!==""&&(f=n.boundaryFont(),f.fontSize=f.fontSize-2,f.fontColor=l,oh(n)(t.descr.text,r,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},f))},"drawBoundary"),Pdt=I(function(e,t,n){var p;let r=t.bgColor?t.bgColor:n[t.typeC4Shape.text+"_bg_color"],a=t.borderColor?t.borderColor:n[t.typeC4Shape.text+"_border_color"],o=t.fontColor?t.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const u=e.append("g");u.attr("class","person-man");const h=Gp();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":h.x=t.x,h.y=t.y,h.fill=r,h.width=t.width,h.height=t.height,h.stroke=a,h.rx=2.5,h.ry=2.5,h.attrs={"stroke-width":.5},gM(u,h);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":u.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":u.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),u.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let f=Ydt(n,t.typeC4Shape.text);switch(u.append("text").attr("fill",o).attr("font-family",f.fontFamily).attr("font-size",f.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":q0e(u,48,48,t.x+t.width/2-24,t.y+t.image.Y,l);break}let d=n[t.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=o,oh(n)(t.label.text,u,t.x,t.y+t.label.Y,t.width,t.height,{fill:o},d),d=n[t.typeC4Shape.text+"Font"](),d.fontColor=o,t.techn&&((p=t.techn)==null?void 0:p.text)!==""?oh(n)(t.techn.text,u,t.x,t.y+t.techn.Y,t.width,t.height,{fill:o,"font-style":"italic"},d):t.type&&t.type.text!==""&&oh(n)(t.type.text,u,t.x,t.y+t.type.Y,t.width,t.height,{fill:o,"font-style":"italic"},d),t.descr&&t.descr.text!==""&&(d=n.personFont(),d.fontColor=o,oh(n)(t.descr.text,u,t.x,t.y+t.descr.Y,t.width,t.height,{fill:o},d)),t.height},"drawC4Shape"),Fdt=I(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Bdt=I(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Hdt=I(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),$dt=I(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Wdt=I(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Udt=I(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Gdt=I(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),zdt=I(function(e){const n=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Ydt=I((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),oh=function(){function e(a,o,l,u,h,f,d){const p=o.append("text").attr("x",l+h/2).attr("y",u+f/2+5).style("text-anchor","middle").text(a);r(p,d)}I(e,"byText");function t(a,o,l,u,h,f,d,p){const{fontSize:g,fontFamily:m,fontWeight:y}=p,b=a.split(ot.lineBreakRegex);for(let T=0;T<b.length;T++){const E=T*g-g*(b.length-1)/2,w=o.append("text").attr("x",l+h/2).attr("y",u).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",y).style("font-family",m);w.append("tspan").attr("dy",E).text(b[T]).attr("alignment-baseline","mathematical"),r(w,d)}}I(t,"byTspan");function n(a,o,l,u,h,f,d,p){const g=o.append("switch"),y=g.append("foreignObject").attr("x",l).attr("y",u).attr("width",h).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,l,u,h,f,d,p),r(y,d)}I(n,"byFo");function r(a,o){for(const l in o)o.hasOwnProperty(l)&&a.attr(l,o[l])}return I(r,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?n:a.textPlacement==="old"?e:t}}(),Gc={drawRect:gM,drawBoundary:Mdt,drawC4Shape:Pdt,drawRels:Ddt,drawImage:q0e,insertArrowHead:$dt,insertArrowEnd:Wdt,insertArrowFilledHead:Udt,insertDynamicNumber:Gdt,insertArrowCrossHead:zdt,insertDatabaseIcon:Fdt,insertComputerIcon:Bdt,insertClockIcon:Hdt},NS=0,LS=0,j0e=4,R8=2;RS.yy=C8;var Mt={},F1,X0e=(F1=class{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,k8(t.db.getConfig())}setData(t,n,r,a){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=a}updateVal(t,n,r,a){t[n]===void 0?t[n]=r:t[n]=a(r,t[n])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,r=n+t.width,a=this.nextData.starty+t.margin*2,o=a+t.height;(n>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>j0e)&&(n=this.nextData.startx+t.margin+Mt.nextLinePaddingX,a=this.nextData.stopy+t.margin*2,this.nextData.stopx=r=n+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=a+t.height,this.nextData.cnt=1),t.x=n,t.y=a,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",a,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",a,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},k8(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},I(F1,"Bounds"),F1),k8=I(function(e){zi(Mt,e),e.fontFamily&&(Mt.personFontFamily=Mt.systemFontFamily=Mt.messageFontFamily=e.fontFamily),e.fontSize&&(Mt.personFontSize=Mt.systemFontSize=Mt.messageFontSize=e.fontSize),e.fontWeight&&(Mt.personFontWeight=Mt.systemFontWeight=Mt.messageFontWeight=e.fontWeight)},"setConf"),Uy=I((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),Ax=I(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),Vdt=I(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");function pl(e,t,n,r,a){if(!t[e].width)if(n)t[e].text=Foe(t[e].text,a,r),t[e].textLines=t[e].text.split(ot.lineBreakRegex).length,t[e].width=a,t[e].height=uS(t[e].text,r);else{let o=t[e].text.split(ot.lineBreakRegex);t[e].textLines=o.length;let l=0;t[e].height=0,t[e].width=0;for(const u of o)t[e].width=Math.max(yl(u,r),t[e].width),l=uS(u,r),t[e].height=t[e].height+l}}I(pl,"calcC4ShapeTextWH");var K0e=I(function(e,t,n){t.x=n.data.startx,t.y=n.data.starty,t.width=n.data.stopx-n.data.startx,t.height=n.data.stopy-n.data.starty,t.label.y=Mt.c4ShapeMargin-35;let r=t.wrap&&Mt.wrap,a=Ax(Mt);a.fontSize=a.fontSize+2,a.fontWeight="bold";let o=yl(t.label.text,a);pl("label",t,r,a,o),Gc.drawBoundary(e,t,Mt)},"drawBoundary"),Z0e=I(function(e,t,n,r){let a=0;for(const o of r){a=0;const l=n[o];let u=Uy(Mt,l.typeC4Shape.text);switch(u.fontSize=u.fontSize-2,l.typeC4Shape.width=yl("«"+l.typeC4Shape.text+"»",u),l.typeC4Shape.height=u.fontSize+2,l.typeC4Shape.Y=Mt.c4ShapePadding,a=l.typeC4Shape.Y+l.typeC4Shape.height-4,l.image={width:0,height:0,Y:0},l.typeC4Shape.text){case"person":case"external_person":l.image.width=48,l.image.height=48,l.image.Y=a,a=l.image.Y+l.image.height;break}l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=a,a=l.image.Y+l.image.height);let h=l.wrap&&Mt.wrap,f=Mt.width-Mt.c4ShapePadding*2,d=Uy(Mt,l.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",pl("label",l,h,d,f),l.label.Y=a+8,a=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let m=Uy(Mt,l.typeC4Shape.text);pl("type",l,h,m,f),l.type.Y=a+5,a=l.type.Y+l.type.height}else if(l.techn&&l.techn.text!==""){l.techn.text="["+l.techn.text+"]";let m=Uy(Mt,l.techn.text);pl("techn",l,h,m,f),l.techn.Y=a+5,a=l.techn.Y+l.techn.height}let p=a,g=l.label.width;if(l.descr&&l.descr.text!==""){let m=Uy(Mt,l.typeC4Shape.text);pl("descr",l,h,m,f),l.descr.Y=a+20,a=l.descr.Y+l.descr.height,g=Math.max(l.label.width,l.descr.width),p=a-l.descr.textLines*5}g=g+Mt.c4ShapePadding,l.width=Math.max(l.width||Mt.width,g,Mt.width),l.height=Math.max(l.height||Mt.height,p,Mt.height),l.margin=l.margin||Mt.c4ShapeMargin,e.insert(l),Gc.drawC4Shape(t,l,Mt)}e.bumpLastMargin(Mt.c4ShapeMargin)},"drawC4ShapeArray"),B1,tl=(B1=class{constructor(t,n){this.x=t,this.y=n}},I(B1,"Point"),B1),XY=I(function(e,t){let n=e.x,r=e.y,a=t.x,o=t.y,l=n+e.width/2,u=r+e.height/2,h=Math.abs(n-a),f=Math.abs(r-o),d=f/h,p=e.height/e.width,g=null;return r==o&&n<a?g=new tl(n+e.width,u):r==o&&n>a?g=new tl(n,u):n==a&&r<o?g=new tl(l,r+e.height):n==a&&r>o&&(g=new tl(l,r)),n>a&&r<o?p>=d?g=new tl(n,u+d*e.width/2):g=new tl(l-h/f*e.height/2,r+e.height):n<a&&r<o?p>=d?g=new tl(n+e.width,u+d*e.width/2):g=new tl(l+h/f*e.height/2,r+e.height):n<a&&r>o?p>=d?g=new tl(n+e.width,u-d*e.width/2):g=new tl(l+e.height/2*h/f,r):n>a&&r>o&&(p>=d?g=new tl(n,u-e.width/2*d):g=new tl(l-e.height/2*h/f,r)),g},"getIntersectPoint"),qdt=I(function(e,t){let n={x:0,y:0};n.x=t.x+t.width/2,n.y=t.y+t.height/2;let r=XY(e,n);n.x=e.x+e.width/2,n.y=e.y+e.height/2;let a=XY(t,n);return{startPoint:r,endPoint:a}},"getIntersectPoints"),jdt=I(function(e,t,n,r){let a=0;for(let o of t){a=a+1;let l=o.wrap&&Mt.wrap,u=Vdt(Mt);r.db.getC4Type()==="C4Dynamic"&&(o.label.text=a+": "+o.label.text);let f=yl(o.label.text,u);pl("label",o,l,u,f),o.techn&&o.techn.text!==""&&(f=yl(o.techn.text,u),pl("techn",o,l,u,f)),o.descr&&o.descr.text!==""&&(f=yl(o.descr.text,u),pl("descr",o,l,u,f));let d=n(o.from),p=n(o.to),g=qdt(d,p);o.startPoint=g.startPoint,o.endPoint=g.endPoint}Gc.drawRels(e,t,Mt)},"drawRels");function mM(e,t,n,r,a){let o=new X0e(a);o.data.widthLimit=n.data.widthLimit/Math.min(R8,r.length);for(let[l,u]of r.entries()){let h=0;u.image={width:0,height:0,Y:0},u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=h,h=u.image.Y+u.image.height);let f=u.wrap&&Mt.wrap,d=Ax(Mt);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",pl("label",u,f,d,o.data.widthLimit),u.label.Y=h+8,h=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let y=Ax(Mt);pl("type",u,f,y,o.data.widthLimit),u.type.Y=h+5,h=u.type.Y+u.type.height}if(u.descr&&u.descr.text!==""){let y=Ax(Mt);y.fontSize=y.fontSize-2,pl("descr",u,f,y,o.data.widthLimit),u.descr.Y=h+20,h=u.descr.Y+u.descr.height}if(l==0||l%R8===0){let y=n.data.startx+Mt.diagramMarginX,b=n.data.stopy+Mt.diagramMarginY+h;o.setData(y,y,b,b)}else{let y=o.data.stopx!==o.data.startx?o.data.stopx+Mt.diagramMarginX:o.data.startx,b=o.data.starty;o.setData(y,y,b,b)}o.name=u.alias;let p=a.db.getC4ShapeArray(u.alias),g=a.db.getC4ShapeKeys(u.alias);g.length>0&&Z0e(o,e,p,g),t=u.alias;let m=a.db.getBoundarys(t);m.length>0&&mM(e,t,o,m,a),u.alias!=="global"&&K0e(e,u,o),n.data.stopy=Math.max(o.data.stopy+Mt.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(o.data.stopx+Mt.c4ShapeMargin,n.data.stopx),NS=Math.max(NS,n.data.stopx),LS=Math.max(LS,n.data.stopy)}}I(mM,"drawInsideBoundary");var Xdt=I(function(e,t,n,r){Mt=Pe().c4;const a=Pe().securityLevel;let o;a==="sandbox"&&(o=it("#i"+t));const l=it(a==="sandbox"?o.nodes()[0].contentDocument.body:"body");let u=r.db;r.db.setWrap(Mt.wrap),j0e=u.getC4ShapeInRow(),R8=u.getC4BoundaryInRow(),ve.debug(`C:${JSON.stringify(Mt,null,2)}`);const h=a==="sandbox"?l.select(`[id="${t}"]`):it(`[id="${t}"]`);Gc.insertComputerIcon(h),Gc.insertDatabaseIcon(h),Gc.insertClockIcon(h);let f=new X0e(r);f.setData(Mt.diagramMarginX,Mt.diagramMarginX,Mt.diagramMarginY,Mt.diagramMarginY),f.data.widthLimit=screen.availWidth,NS=Mt.diagramMarginX,LS=Mt.diagramMarginY;const d=r.db.getTitle();let p=r.db.getBoundarys("");mM(h,"",f,p,r),Gc.insertArrowHead(h),Gc.insertArrowEnd(h),Gc.insertArrowCrossHead(h),Gc.insertArrowFilledHead(h),jdt(h,r.db.getRels(),r.db.getC4Shape,r),f.data.stopx=NS,f.data.stopy=LS;const g=f.data;let y=g.stopy-g.starty+2*Mt.diagramMarginY;const T=g.stopx-g.startx+2*Mt.diagramMarginX;d&&h.append("text").text(d).attr("x",(g.stopx-g.startx)/2-4*Mt.diagramMarginX).attr("y",g.starty+Mt.diagramMarginY),ss(h,y,T,Mt.useMaxWidth);const E=d?60:0;h.attr("viewBox",g.startx-Mt.diagramMarginX+" -"+(Mt.diagramMarginY+E)+" "+T+" "+(y+E)),ve.debug("models:",g)},"draw"),KY={drawPersonOrSystemArray:Z0e,drawBoundary:K0e,setConf:k8,draw:Xdt},Kdt=I(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),Zdt=Kdt,Qdt={parser:adt,db:C8,renderer:KY,styles:Zdt,init:I(({c4:e,wrap:t})=>{KY.setConf(e),C8.setWrap(t)},"init")};const Jdt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Qdt},Symbol.toStringTag,{value:"Module"}));var vM=I((e,t)=>{let n;return t==="sandbox"&&(n=it("#i"+e)),it(t==="sandbox"?n.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement"),yM=I((e,t,n,r)=>{e.attr("class",n);const{width:a,height:o,x:l,y:u}=ept(e,t);ss(e,o,a,r);const h=tpt(l,u,a,o,t);e.attr("viewBox",h),ve.debug(`viewBox configured: ${h} with padding: ${t}`)},"setupViewPortForSVG"),ept=I((e,t)=>{var r;const n=((r=e.node())==null?void 0:r.getBBox())||{width:0,height:0,x:0,y:0};return{width:n.width+t*2,height:n.height+t*2,x:n.x,y:n.y}},"calculateDimensionsWithPadding"),tpt=I((e,t,n,r,a)=>`${e-a} ${t-a} ${n} ${r}`,"createViewBox"),npt="flowchart-",ZY=0,Ym=Pe(),rf=new Map,Vs=[],nT=new Map,Lh=[],bM=new Map,TM=new Map,Ix=0,O8=!0,nl,L6,_6=[],D6=I(e=>ot.sanitizeText(e,Ym),"sanitizeText"),M6=I(function(e){for(const t of rf.values())if(t.id===e)return t.domId;return e},"lookUpDomId"),rpt=I(function(e,t,n,r,a,o,l={},u){var d,p;if(!e||e.trim().length===0)return;let h,f=rf.get(e);if(f===void 0&&(f={id:e,labelType:"text",domId:npt+e+"-"+ZY,styles:[],classes:[]},rf.set(e,f)),ZY++,t!==void 0?(Ym=Pe(),h=D6(t.text.trim()),f.labelType=t.type,h.startsWith('"')&&h.endsWith('"')&&(h=h.substring(1,h.length-1)),f.text=h):f.text===void 0&&(f.text=e),n!==void 0&&(f.type=n),r!=null&&r.forEach(function(g){f.styles.push(g)}),a!=null&&a.forEach(function(g){f.classes.push(g)}),o!==void 0&&(f.dir=o),f.props===void 0?f.props=l:l!==void 0&&Object.assign(f.props,l),u!==void 0){let g;u.includes(`
`)?g=u+`
`:g=`{
`+u+`
}`;const m=M9(g,{schema:D9});if(m.shape){if(m.shape!==m.shape.toLowerCase()||m.shape.includes("_"))throw new Error(`No such shape: ${m.shape}. Shape names should be lowercase.`);if(!Nce(m.shape))throw new Error(`No such shape: ${m.shape}.`);f.type=m==null?void 0:m.shape}m!=null&&m.label&&(f.text=m==null?void 0:m.label),m!=null&&m.icon&&(f.icon=m==null?void 0:m.icon,!((d=m.label)!=null&&d.trim())&&f.text===e&&(f.text="")),m!=null&&m.form&&(f.form=m==null?void 0:m.form),m!=null&&m.pos&&(f.pos=m==null?void 0:m.pos),m!=null&&m.img&&(f.img=m==null?void 0:m.img,!((p=m.label)!=null&&p.trim())&&f.text===e&&(f.text="")),m!=null&&m.constraint&&(f.constraint=m.constraint),m.w&&(f.assetWidth=Number(m.w)),m.h&&(f.assetHeight=Number(m.h))}},"addVertex"),ipt=I(function(e,t,n){const o={start:e,end:t,type:void 0,text:"",labelType:"text"};ve.info("abc78 Got edge...",o);const l=n.text;if(l!==void 0&&(o.text=D6(l.text.trim()),o.text.startsWith('"')&&o.text.endsWith('"')&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=l.type),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length>10?10:n.length),Vs.length<(Ym.maxEdges??500))ve.info("Pushing edge..."),Vs.push(o);else throw new Error(`Edge limit exceeded. ${Vs.length} edges found, but the limit is ${Ym.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),apt=I(function(e,t,n){ve.info("addLink",e,t,n);for(const r of e)for(const a of t)ipt(r,a,n)},"addLink"),spt=I(function(e,t){e.forEach(function(n){n==="default"?Vs.defaultInterpolate=t:Vs[n].interpolate=t})},"updateLinkInterpolate"),opt=I(function(e,t){e.forEach(function(n){var r,a,o,l,u,h;if(typeof n=="number"&&n>=Vs.length)throw new Error(`The index ${n} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Vs.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);n==="default"?Vs.defaultStyle=t:(Vs[n].style=t,(((a=(r=Vs[n])==null?void 0:r.style)==null?void 0:a.length)??0)>0&&!((l=(o=Vs[n])==null?void 0:o.style)!=null&&l.some(f=>f==null?void 0:f.startsWith("fill")))&&((h=(u=Vs[n])==null?void 0:u.style)==null||h.push("fill:none")))})},"updateLink"),lpt=I(function(e,t){e.split(",").forEach(function(n){let r=nT.get(n);r===void 0&&(r={id:n,styles:[],textStyles:[]},nT.set(n,r)),t!=null&&t.forEach(function(a){if(/color/.exec(a)){const o=a.replace("fill","bgFill");r.textStyles.push(o)}r.styles.push(a)})})},"addClass"),cpt=I(function(e){nl=e,/.*</.exec(nl)&&(nl="RL"),/.*\^/.exec(nl)&&(nl="BT"),/.*>/.exec(nl)&&(nl="LR"),/.*v/.exec(nl)&&(nl="TB"),nl==="TD"&&(nl="TB")},"setDirection"),EM=I(function(e,t){for(const n of e.split(",")){const r=rf.get(n);r&&r.classes.push(t);const a=bM.get(n);a&&a.classes.push(t)}},"setClass"),upt=I(function(e,t){if(t!==void 0){t=D6(t);for(const n of e.split(","))TM.set(L6==="gen-1"?M6(n):n,t)}},"setTooltip"),hpt=I(function(e,t,n){const r=M6(e);if(Pe().securityLevel!=="loose"||t===void 0)return;let a=[];if(typeof n=="string"){a=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<a.length;l++){let u=a[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),a[l]=u}}a.length===0&&a.push(e);const o=rf.get(e);o&&(o.haveCallback=!0,_6.push(function(){const l=document.querySelector(`[id="${r}"]`);l!==null&&l.addEventListener("click",function(){fn.runFunc(t,...a)},!1)}))},"setClickFun"),fpt=I(function(e,t,n){e.split(",").forEach(function(r){const a=rf.get(r);a!==void 0&&(a.link=fn.formatUrl(t,Ym),a.linkTarget=n)}),EM(e,"clickable")},"setLink"),Q0e=I(function(e){return TM.get(e)},"getTooltip"),dpt=I(function(e,t,n){e.split(",").forEach(function(r){hpt(r,t,n)}),EM(e,"clickable")},"setClickEvent"),ppt=I(function(e){_6.forEach(function(t){t(e)})},"bindFunctions"),J0e=I(function(){return nl.trim()},"getDirection"),efe=I(function(){return rf},"getVertices"),tfe=I(function(){return Vs},"getEdges"),gpt=I(function(){return nT},"getClasses"),nfe=I(function(e){let t=it(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=it("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),it(e).select("svg").selectAll("g.node").on("mouseover",function(){const a=it(this);if(a.attr("title")===null)return;const l=this==null?void 0:this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(a.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),it(this).classed("hover",!1)})},"setupToolTips");_6.push(nfe);var mpt=I(function(e="gen-1"){rf=new Map,nT=new Map,Vs=[],_6=[nfe],Lh=[],bM=new Map,Ix=0,TM=new Map,O8=!0,L6=e,Ym=Pe(),fa()},"clear"),vpt=I(e=>{L6=e||"gen-2"},"setGen"),ypt=I(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),bpt=I(function(e,t,n){let r=e.text.trim(),a=n.text;e===n&&/\s/.exec(n.text)&&(r=void 0);function o(f){const d={boolean:{},number:{},string:{}},p=[];let g;return{nodeList:f.filter(function(y){const b=typeof y;return y.stmt&&y.stmt==="dir"?(g=y.value,!1):y.trim()===""?!1:b in d?d[b].hasOwnProperty(y)?!1:d[b][y]=!0:p.includes(y)?!1:p.push(y)}),dir:g}}I(o,"uniq");const{nodeList:l,dir:u}=o(t.flat());if(L6==="gen-1")for(let f=0;f<l.length;f++)l[f]=M6(l[f]);r=r??"subGraph"+Ix,a=a||"",a=D6(a),Ix=Ix+1;const h={id:r,nodes:l,title:a.trim(),classes:[],dir:u,labelType:n.type};return ve.info("Adding",h.id,h.nodes,h.dir),h.nodes=ofe(h,Lh).nodes,Lh.push(h),bM.set(r,h),r},"addSubGraph"),Tpt=I(function(e){for(const[t,n]of Lh.entries())if(n.id===e)return t;return-1},"getPosForId"),h2=-1,rfe=[],ife=I(function(e,t){const n=Lh[t].nodes;if(h2=h2+1,h2>2e3)return{result:!1,count:0};if(rfe[h2]=t,Lh[t].id===e)return{result:!0,count:0};let r=0,a=1;for(;r<n.length;){const o=Tpt(n[r]);if(o>=0){const l=ife(e,o);if(l.result)return{result:!0,count:a+l.count};a=a+l.count}r=r+1}return{result:!1,count:a}},"indexNodes2"),Ept=I(function(e){return rfe[e]},"getDepthFirstPos"),wpt=I(function(){h2=-1,Lh.length>0&&ife("none",Lh.length-1)},"indexNodes"),afe=I(function(){return Lh},"getSubGraphs"),xpt=I(()=>O8?(O8=!1,!0):!1,"firstGraph"),Spt=I(e=>{let t=e.trim(),n="arrow_open";switch(t[0]){case"<":n="arrow_point",t=t.slice(1);break;case"x":n="arrow_cross",t=t.slice(1);break;case"o":n="arrow_circle",t=t.slice(1);break}let r="normal";return t.includes("=")&&(r="thick"),t.includes(".")&&(r="dotted"),{type:n,stroke:r}},"destructStartLink"),Apt=I((e,t)=>{const n=t.length;let r=0;for(let a=0;a<n;++a)t[a]===e&&++r;return r},"countChar"),Ipt=I(e=>{const t=e.trim();let n=t.slice(0,-1),r="arrow_open";switch(t.slice(-1)){case"x":r="arrow_cross",t.startsWith("x")&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point",t.startsWith("<")&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle",t.startsWith("o")&&(r="double_"+r,n=n.slice(1));break}let a="normal",o=n.length-1;n.startsWith("=")&&(a="thick"),n.startsWith("~")&&(a="invisible");const l=Apt(".",n);return l&&(a="dotted",o=l),{type:r,stroke:a,length:o}},"destructEndLink"),Cpt=I((e,t)=>{const n=Ipt(e);let r;if(t){if(r=Spt(t),r.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(r.type==="arrow_open")r.type=n.type;else{if(r.type!==n.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return r.type==="double_arrow"&&(r.type="double_arrow_point"),r.length=n.length,r}return n},"destructLink"),sfe=I((e,t)=>{for(const n of e)if(n.nodes.includes(t))return!0;return!1},"exists"),ofe=I((e,t)=>{const n=[];return e.nodes.forEach((r,a)=>{sfe(t,r)||n.push(e.nodes[a])}),{nodes:n}},"makeUniq"),Rpt={firstGraph:xpt},kpt=I(e=>{if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}},"getTypeFromVertex"),Opt=I((e,t)=>e.find(n=>n.id===t),"findNode"),Npt=I(e=>{let t="none",n="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":n=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),n=t;break}return{arrowTypeStart:t,arrowTypeEnd:n}},"destructEdgeType"),Lpt=I((e,t,n,r,a,o)=>{var f;const l=n.get(e.id),u=r.get(e.id)??!1,h=Opt(t,e.id);if(h)h.cssStyles=e.styles,h.cssCompiledStyles=_S(e.classes),h.cssClasses=e.classes.join(" ");else{const d={id:e.id,label:e.text,labelStyle:"",parentId:l,padding:((f=a.flowchart)==null?void 0:f.padding)||8,cssStyles:e.styles,cssCompiledStyles:_S(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:o,link:e.link,linkTarget:e.linkTarget,tooltip:Q0e(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};u?t.push({...d,isGroup:!0,shape:"rect"}):t.push({...d,isGroup:!1,shape:kpt(e)})}},"addNodeFromVertex");function _S(e){let t=[];for(const n of e){const r=nT.get(n);r!=null&&r.styles&&(t=[...t,...r.styles??[]].map(a=>a.trim())),r!=null&&r.textStyles&&(t=[...t,...r.textStyles??[]].map(a=>a.trim()))}return t}I(_S,"getCompiledStyles");var _pt=I(()=>{const e=Pe(),t=[],n=[],r=afe(),a=new Map,o=new Map;for(let h=r.length-1;h>=0;h--){const f=r[h];f.nodes.length>0&&o.set(f.id,!0);for(const d of f.nodes)a.set(d,f.id)}for(let h=r.length-1;h>=0;h--){const f=r[h];t.push({id:f.id,label:f.title,labelStyle:"",parentId:a.get(f.id),padding:8,cssCompiledStyles:_S(f.classes),cssClasses:f.classes.join(" "),shape:"rect",dir:f.dir,isGroup:!0,look:e.look})}efe().forEach(h=>{Lpt(h,t,a,o,e,e.look||"classic")});const u=tfe();return u.forEach((h,f)=>{const{arrowTypeStart:d,arrowTypeEnd:p}=Npt(h.type),g=[...u.defaultStyle??[]];h.style&&g.push(...h.style);const m={id:Boe(h.start,h.end,{counter:f,prefix:"L"}),start:h.start,end:h.end,type:h.type??"normal",label:h.text,labelpos:"c",thickness:h.stroke,minlen:h.length,classes:(h==null?void 0:h.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(h==null?void 0:h.stroke)==="invisible"?"none":d,arrowTypeEnd:(h==null?void 0:h.stroke)==="invisible"?"none":p,arrowheadStyle:"fill: #333",labelStyle:g,style:g,pattern:h.stroke,look:e.look};n.push(m)}),{nodes:t,edges:n,other:{},config:e}},"getData"),ck={defaultConfig:I(()=>fie.flowchart,"defaultConfig"),setAccTitle:da,getAccTitle:La,getAccDescription:Da,getData:_pt,setAccDescription:_a,addVertex:rpt,lookUpDomId:M6,addLink:apt,updateLinkInterpolate:spt,updateLink:opt,addClass:lpt,setDirection:cpt,setClass:EM,setTooltip:upt,getTooltip:Q0e,setClickEvent:dpt,setLink:fpt,bindFunctions:ppt,getDirection:J0e,getVertices:efe,getEdges:tfe,getClasses:gpt,clear:mpt,setGen:vpt,defaultStyle:ypt,addSubGraph:bpt,getDepthFirstPos:Ept,indexNodes:wpt,getSubGraphs:afe,destructLink:Cpt,lex:Rpt,exists:sfe,makeUniq:ofe,setDiagramTitle:Ds,getDiagramTitle:Ma},Dpt=I(function(e,t){return t.db.getClasses()},"getClasses"),Mpt=I(async function(e,t,n,r){var m;ve.info("REF0:"),ve.info("Drawing state diagram (v2)",t);const{securityLevel:a,flowchart:o,layout:l}=Pe();let u;a==="sandbox"&&(u=it("#i"+t));const h=a==="sandbox"?u.nodes()[0].contentDocument:document;ve.debug("Before getData: ");const f=r.db.getData();ve.debug("Data: ",f);const d=vM(t,a),p=J0e();f.type=r.type,f.layoutAlgorithm=Hce(l),f.layoutAlgorithm==="dagre"&&l==="elk"&&ve.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),f.direction=p,f.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,f.rankSpacing=(o==null?void 0:o.rankSpacing)||50,f.markers=["point","circle","cross"],f.diagramId=t,ve.debug("REF1:",f),await TD(f,d);const g=((m=f.config.flowchart)==null?void 0:m.diagramPadding)??8;fn.insertTitle(d,"flowchartTitleText",(o==null?void 0:o.titleTopMargin)||0,r.db.getDiagramTitle()),yM(d,g,"flowchart",(o==null?void 0:o.useMaxWidth)||!1);for(const y of f.nodes){const b=it(`#${t} [id="${y.id}"]`);if(!b||!y.link)continue;const T=h.createElementNS("http://www.w3.org/2000/svg","a");T.setAttributeNS("http://www.w3.org/2000/svg","class",y.cssClasses),T.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),a==="sandbox"?T.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):y.linkTarget&&T.setAttributeNS("http://www.w3.org/2000/svg","target",y.linkTarget);const E=b.insert(function(){return T},":first-child"),w=b.select(".label-container");w&&E.append(function(){return w.node()});const x=b.select(".label");x&&E.append(function(){return x.node()})}},"draw"),Ppt={getClasses:Dpt,draw:Mpt},N8=function(){var e=I(function(Ir,Et,St,Vt){for(St=St||{},Vt=Ir.length;Vt--;St[Ir[Vt]]=Et);return St},"o"),t=[1,4],n=[1,3],r=[1,5],a=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],o=[2,2],l=[1,13],u=[1,14],h=[1,15],f=[1,16],d=[1,23],p=[1,25],g=[1,26],m=[1,27],y=[1,49],b=[1,48],T=[1,29],E=[1,30],w=[1,31],x=[1,32],S=[1,33],A=[1,44],R=[1,46],C=[1,42],N=[1,47],O=[1,43],L=[1,50],k=[1,45],M=[1,51],$=[1,52],_=[1,34],F=[1,35],B=[1,36],D=[1,37],P=[1,57],H=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],W=[1,61],U=[1,60],V=[1,62],G=[8,9,11,75,77],ee=[1,77],ce=[1,90],Q=[1,95],re=[1,94],le=[1,91],Y=[1,87],K=[1,93],Z=[1,89],z=[1,96],X=[1,92],te=[1,97],ne=[1,88],Ae=[8,9,10,11,40,75,77],he=[8,9,10,11,40,46,75,77],oe=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],de=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],be=[44,60,88,101,104,105,108,110,113,114,115],fe=[1,123],Ie=[1,122],Re=[1,130],ke=[1,144],De=[1,145],se=[1,146],j=[1,147],me=[1,132],ue=[1,134],we=[1,138],ie=[1,139],Oe=[1,140],ae=[1,141],ge=[1,142],Ee=[1,143],ye=[1,148],Se=[1,149],Ce=[1,128],Fe=[1,129],Ne=[1,136],Ve=[1,131],et=[1,135],Rt=[1,133],pt=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],ut=[1,151],qe=[1,153],je=[8,9,11],ft=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],Ke=[1,173],at=[1,169],Ft=[1,170],st=[1,174],Je=[1,171],gt=[1,172],Nt=[77,115,118],yt=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],nn=[10,105],Wn=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],ln=[1,242],Kr=[1,240],cr=[1,244],Ar=[1,238],In=[1,239],ui=[1,241],It=[1,243],Be=[1,245],tt=[1,263],Ct=[8,9,11,105],pn=[8,9,10,11,60,83,104,105,108,109,110,111],ir={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:I(function(Et,St,Vt,lt,qt,xe,Cn){var Le=xe.length-1;switch(qt){case 2:this.$=[];break;case 3:(!Array.isArray(xe[Le])||xe[Le].length>0)&&xe[Le-1].push(xe[Le]),this.$=xe[Le-1];break;case 4:case 181:this.$=xe[Le];break;case 11:lt.setDirection("TB"),this.$="TB";break;case 12:lt.setDirection(xe[Le-1]),this.$=xe[Le-1];break;case 27:this.$=xe[Le-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=lt.addSubGraph(xe[Le-6],xe[Le-1],xe[Le-4]);break;case 34:this.$=lt.addSubGraph(xe[Le-3],xe[Le-1],xe[Le-3]);break;case 35:this.$=lt.addSubGraph(void 0,xe[Le-1],void 0);break;case 37:this.$=xe[Le].trim(),lt.setAccTitle(this.$);break;case 38:case 39:this.$=xe[Le].trim(),lt.setAccDescription(this.$);break;case 43:this.$=xe[Le-1]+xe[Le];break;case 44:this.$=xe[Le];break;case 45:lt.addVertex(xe[Le-1][0],void 0,void 0,void 0,void 0,void 0,void 0,xe[Le]),lt.addLink(xe[Le-3].stmt,xe[Le-1],xe[Le-2]),this.$={stmt:xe[Le-1],nodes:xe[Le-1].concat(xe[Le-3].nodes)};break;case 46:lt.addLink(xe[Le-2].stmt,xe[Le],xe[Le-1]),this.$={stmt:xe[Le],nodes:xe[Le].concat(xe[Le-2].nodes)};break;case 47:lt.addLink(xe[Le-3].stmt,xe[Le-1],xe[Le-2]),this.$={stmt:xe[Le-1],nodes:xe[Le-1].concat(xe[Le-3].nodes)};break;case 48:this.$={stmt:xe[Le-1],nodes:xe[Le-1]};break;case 49:lt.addVertex(xe[Le-1][0],void 0,void 0,void 0,void 0,void 0,void 0,xe[Le]),this.$={stmt:xe[Le-1],nodes:xe[Le-1],shapeData:xe[Le]};break;case 50:this.$={stmt:xe[Le],nodes:xe[Le]};break;case 51:this.$=[xe[Le]];break;case 52:lt.addVertex(xe[Le-5][0],void 0,void 0,void 0,void 0,void 0,void 0,xe[Le-4]),this.$=xe[Le-5].concat(xe[Le]);break;case 53:this.$=xe[Le-4].concat(xe[Le]);break;case 54:this.$=xe[Le];break;case 55:this.$=xe[Le-2],lt.setClass(xe[Le-2],xe[Le]);break;case 56:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"square");break;case 57:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"doublecircle");break;case 58:this.$=xe[Le-5],lt.addVertex(xe[Le-5],xe[Le-2],"circle");break;case 59:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"ellipse");break;case 60:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"stadium");break;case 61:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"subroutine");break;case 62:this.$=xe[Le-7],lt.addVertex(xe[Le-7],xe[Le-1],"rect",void 0,void 0,void 0,Object.fromEntries([[xe[Le-5],xe[Le-3]]]));break;case 63:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"cylinder");break;case 64:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"round");break;case 65:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"diamond");break;case 66:this.$=xe[Le-5],lt.addVertex(xe[Le-5],xe[Le-2],"hexagon");break;case 67:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"odd");break;case 68:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"trapezoid");break;case 69:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"inv_trapezoid");break;case 70:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"lean_right");break;case 71:this.$=xe[Le-3],lt.addVertex(xe[Le-3],xe[Le-1],"lean_left");break;case 72:this.$=xe[Le],lt.addVertex(xe[Le]);break;case 73:xe[Le-1].text=xe[Le],this.$=xe[Le-1];break;case 74:case 75:xe[Le-2].text=xe[Le-1],this.$=xe[Le-2];break;case 76:this.$=xe[Le];break;case 77:var Cr=lt.destructLink(xe[Le],xe[Le-2]);this.$={type:Cr.type,stroke:Cr.stroke,length:Cr.length,text:xe[Le-1]};break;case 78:this.$={text:xe[Le],type:"text"};break;case 79:this.$={text:xe[Le-1].text+""+xe[Le],type:xe[Le-1].type};break;case 80:this.$={text:xe[Le],type:"string"};break;case 81:this.$={text:xe[Le],type:"markdown"};break;case 82:var Cr=lt.destructLink(xe[Le]);this.$={type:Cr.type,stroke:Cr.stroke,length:Cr.length};break;case 83:this.$=xe[Le-1];break;case 84:this.$={text:xe[Le],type:"text"};break;case 85:this.$={text:xe[Le-1].text+""+xe[Le],type:xe[Le-1].type};break;case 86:this.$={text:xe[Le],type:"string"};break;case 87:case 102:this.$={text:xe[Le],type:"markdown"};break;case 99:this.$={text:xe[Le],type:"text"};break;case 100:this.$={text:xe[Le-1].text+""+xe[Le],type:xe[Le-1].type};break;case 101:this.$={text:xe[Le],type:"text"};break;case 103:this.$=xe[Le-4],lt.addClass(xe[Le-2],xe[Le]);break;case 104:this.$=xe[Le-4],lt.setClass(xe[Le-2],xe[Le]);break;case 105:case 113:this.$=xe[Le-1],lt.setClickEvent(xe[Le-1],xe[Le]);break;case 106:case 114:this.$=xe[Le-3],lt.setClickEvent(xe[Le-3],xe[Le-2]),lt.setTooltip(xe[Le-3],xe[Le]);break;case 107:this.$=xe[Le-2],lt.setClickEvent(xe[Le-2],xe[Le-1],xe[Le]);break;case 108:this.$=xe[Le-4],lt.setClickEvent(xe[Le-4],xe[Le-3],xe[Le-2]),lt.setTooltip(xe[Le-4],xe[Le]);break;case 109:this.$=xe[Le-2],lt.setLink(xe[Le-2],xe[Le]);break;case 110:this.$=xe[Le-4],lt.setLink(xe[Le-4],xe[Le-2]),lt.setTooltip(xe[Le-4],xe[Le]);break;case 111:this.$=xe[Le-4],lt.setLink(xe[Le-4],xe[Le-2],xe[Le]);break;case 112:this.$=xe[Le-6],lt.setLink(xe[Le-6],xe[Le-4],xe[Le]),lt.setTooltip(xe[Le-6],xe[Le-2]);break;case 115:this.$=xe[Le-1],lt.setLink(xe[Le-1],xe[Le]);break;case 116:this.$=xe[Le-3],lt.setLink(xe[Le-3],xe[Le-2]),lt.setTooltip(xe[Le-3],xe[Le]);break;case 117:this.$=xe[Le-3],lt.setLink(xe[Le-3],xe[Le-2],xe[Le]);break;case 118:this.$=xe[Le-5],lt.setLink(xe[Le-5],xe[Le-4],xe[Le]),lt.setTooltip(xe[Le-5],xe[Le-2]);break;case 119:this.$=xe[Le-4],lt.addVertex(xe[Le-2],void 0,void 0,xe[Le]);break;case 120:this.$=xe[Le-4],lt.updateLink([xe[Le-2]],xe[Le]);break;case 121:this.$=xe[Le-4],lt.updateLink(xe[Le-2],xe[Le]);break;case 122:this.$=xe[Le-8],lt.updateLinkInterpolate([xe[Le-6]],xe[Le-2]),lt.updateLink([xe[Le-6]],xe[Le]);break;case 123:this.$=xe[Le-8],lt.updateLinkInterpolate(xe[Le-6],xe[Le-2]),lt.updateLink(xe[Le-6],xe[Le]);break;case 124:this.$=xe[Le-6],lt.updateLinkInterpolate([xe[Le-4]],xe[Le]);break;case 125:this.$=xe[Le-6],lt.updateLinkInterpolate(xe[Le-4],xe[Le]);break;case 126:case 128:this.$=[xe[Le]];break;case 127:case 129:xe[Le-2].push(xe[Le]),this.$=xe[Le-2];break;case 131:this.$=xe[Le-1]+xe[Le];break;case 179:this.$=xe[Le];break;case 180:this.$=xe[Le-1]+""+xe[Le];break;case 182:this.$=xe[Le-1]+""+xe[Le];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:n,12:r},{1:[3]},e(a,o,{5:6}),{4:7,9:t,10:n,12:r},{4:8,9:t,10:n,12:r},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:l,9:u,10:h,11:f,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:g,38:m,42:28,43:38,44:y,45:39,47:40,60:b,83:T,84:E,85:w,86:x,87:S,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$,120:_,121:F,122:B,123:D},e(a,[2,9]),e(a,[2,10]),e(a,[2,11]),{8:[1,54],9:[1,55],10:P,15:53,18:56},e(H,[2,3]),e(H,[2,4]),e(H,[2,5]),e(H,[2,6]),e(H,[2,7]),e(H,[2,8]),{8:W,9:U,11:V,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:W,9:U,11:V,21:66},{8:W,9:U,11:V,21:67},{8:W,9:U,11:V,21:68},{8:W,9:U,11:V,21:69},{8:W,9:U,11:V,21:70},{8:W,9:U,10:[1,71],11:V,21:72},e(H,[2,36]),{35:[1,73]},{37:[1,74]},e(H,[2,39]),e(G,[2,50],{18:75,39:76,10:P,40:ee}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:ce,44:Q,60:re,79:[1,85],88:le,94:[1,82],96:[1,83],100:84,104:Y,105:K,108:Z,110:z,113:X,114:te,115:ne,119:86},e(H,[2,183]),e(H,[2,184]),e(H,[2,185]),e(H,[2,186]),e(Ae,[2,51]),e(Ae,[2,54],{46:[1,98]}),e(he,[2,72],{112:111,29:[1,99],44:y,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:b,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:A,101:R,104:C,105:N,108:O,110:L,113:k,114:M,115:$}),e(oe,[2,179]),e(oe,[2,140]),e(oe,[2,141]),e(oe,[2,142]),e(oe,[2,143]),e(oe,[2,144]),e(oe,[2,145]),e(oe,[2,146]),e(oe,[2,147]),e(oe,[2,148]),e(oe,[2,149]),e(oe,[2,150]),e(a,[2,12]),e(a,[2,18]),e(a,[2,19]),{9:[1,112]},e(de,[2,26],{18:113,10:P}),e(H,[2,27]),{42:114,43:38,44:y,45:39,47:40,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},e(H,[2,40]),e(H,[2,41]),e(H,[2,42]),e(be,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:fe,118:Ie},e([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),e(H,[2,28]),e(H,[2,29]),e(H,[2,30]),e(H,[2,31]),e(H,[2,32]),{10:Re,12:ke,14:De,27:se,28:124,32:j,44:me,60:ue,75:we,79:[1,126],80:[1,127],82:137,83:ie,84:Oe,85:ae,86:ge,87:Ee,88:ye,89:Se,90:125,104:Ce,108:Fe,110:Ne,113:Ve,114:et,115:Rt},e(pt,o,{5:150}),e(H,[2,37]),e(H,[2,38]),e(G,[2,48],{44:ut}),e(G,[2,49],{18:152,10:P,40:qe}),e(Ae,[2,44]),{44:y,47:154,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},{101:[1,155],102:156,104:[1,157]},{44:y,47:158,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},{44:y,47:159,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},e(je,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},e(je,[2,113],{119:164,10:[1,163],14:ce,44:Q,60:re,88:le,104:Y,105:K,108:Z,110:z,113:X,114:te,115:ne}),e(je,[2,115],{10:[1,165]}),e(ft,[2,181]),e(ft,[2,168]),e(ft,[2,169]),e(ft,[2,170]),e(ft,[2,171]),e(ft,[2,172]),e(ft,[2,173]),e(ft,[2,174]),e(ft,[2,175]),e(ft,[2,176]),e(ft,[2,177]),e(ft,[2,178]),{44:y,47:166,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},{30:167,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:175,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:177,50:[1,176],67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:178,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:179,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:180,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{108:[1,181]},{30:182,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:183,65:[1,184],67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:185,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:186,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{30:187,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},e(oe,[2,180]),e(a,[2,20]),e(de,[2,25]),e(G,[2,46],{39:188,18:189,10:P,40:ee}),e(be,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{77:[1,193],78:194,115:fe,118:Ie},e(Nt,[2,78]),e(Nt,[2,80]),e(Nt,[2,81]),e(Nt,[2,166]),e(Nt,[2,167]),{8:W,9:U,10:Re,11:V,12:ke,14:De,21:196,27:se,29:[1,195],32:j,44:me,60:ue,75:we,82:137,83:ie,84:Oe,85:ae,86:ge,87:Ee,88:ye,89:Se,90:197,104:Ce,108:Fe,110:Ne,113:Ve,114:et,115:Rt},e(yt,[2,99]),e(yt,[2,101]),e(yt,[2,102]),e(yt,[2,155]),e(yt,[2,156]),e(yt,[2,157]),e(yt,[2,158]),e(yt,[2,159]),e(yt,[2,160]),e(yt,[2,161]),e(yt,[2,162]),e(yt,[2,163]),e(yt,[2,164]),e(yt,[2,165]),e(yt,[2,88]),e(yt,[2,89]),e(yt,[2,90]),e(yt,[2,91]),e(yt,[2,92]),e(yt,[2,93]),e(yt,[2,94]),e(yt,[2,95]),e(yt,[2,96]),e(yt,[2,97]),e(yt,[2,98]),{6:11,7:12,8:l,9:u,10:h,11:f,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,198],33:24,34:p,36:g,38:m,42:28,43:38,44:y,45:39,47:40,60:b,83:T,84:E,85:w,86:x,87:S,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$,120:_,121:F,122:B,123:D},{10:P,18:199},{44:[1,200]},e(Ae,[2,43]),{10:[1,201],44:y,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:111,113:k,114:M,115:$},{10:[1,202]},{10:[1,203],105:[1,204]},e(nn,[2,126]),{10:[1,205],44:y,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:111,113:k,114:M,115:$},{10:[1,206],44:y,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:111,113:k,114:M,115:$},{79:[1,207]},e(je,[2,107],{10:[1,208]}),e(je,[2,109],{10:[1,209]}),{79:[1,210]},e(ft,[2,182]),{79:[1,211],97:[1,212]},e(Ae,[2,55],{112:111,44:y,60:b,88:A,101:R,104:C,105:N,108:O,110:L,113:k,114:M,115:$}),{31:[1,213],67:Ke,81:214,115:st,116:Je,117:gt},e(Wn,[2,84]),e(Wn,[2,86]),e(Wn,[2,87]),e(Wn,[2,151]),e(Wn,[2,152]),e(Wn,[2,153]),e(Wn,[2,154]),{49:[1,215],67:Ke,81:214,115:st,116:Je,117:gt},{30:216,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{51:[1,217],67:Ke,81:214,115:st,116:Je,117:gt},{53:[1,218],67:Ke,81:214,115:st,116:Je,117:gt},{55:[1,219],67:Ke,81:214,115:st,116:Je,117:gt},{57:[1,220],67:Ke,81:214,115:st,116:Je,117:gt},{60:[1,221]},{64:[1,222],67:Ke,81:214,115:st,116:Je,117:gt},{66:[1,223],67:Ke,81:214,115:st,116:Je,117:gt},{30:224,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},{31:[1,225],67:Ke,81:214,115:st,116:Je,117:gt},{67:Ke,69:[1,226],71:[1,227],81:214,115:st,116:Je,117:gt},{67:Ke,69:[1,229],71:[1,228],81:214,115:st,116:Je,117:gt},e(G,[2,45],{18:152,10:P,40:qe}),e(G,[2,47],{44:ut}),e(be,[2,75]),e(be,[2,74]),{62:[1,230],67:Ke,81:214,115:st,116:Je,117:gt},e(be,[2,77]),e(Nt,[2,79]),{30:231,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},e(pt,o,{5:232}),e(yt,[2,100]),e(H,[2,35]),{43:233,44:y,45:39,47:40,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},{10:P,18:234},{10:ln,60:Kr,83:cr,91:235,104:Ar,106:236,107:237,108:In,109:ui,110:It,111:Be},{10:ln,60:Kr,83:cr,91:246,103:[1,247],104:Ar,106:236,107:237,108:In,109:ui,110:It,111:Be},{10:ln,60:Kr,83:cr,91:248,103:[1,249],104:Ar,106:236,107:237,108:In,109:ui,110:It,111:Be},{104:[1,250]},{10:ln,60:Kr,83:cr,91:251,104:Ar,106:236,107:237,108:In,109:ui,110:It,111:Be},{44:y,47:252,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},e(je,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},e(je,[2,114]),e(je,[2,116],{10:[1,256]}),e(je,[2,117]),e(he,[2,56]),e(Wn,[2,85]),e(he,[2,57]),{51:[1,257],67:Ke,81:214,115:st,116:Je,117:gt},e(he,[2,64]),e(he,[2,59]),e(he,[2,60]),e(he,[2,61]),{108:[1,258]},e(he,[2,63]),e(he,[2,65]),{66:[1,259],67:Ke,81:214,115:st,116:Je,117:gt},e(he,[2,67]),e(he,[2,68]),e(he,[2,70]),e(he,[2,69]),e(he,[2,71]),e([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:Ke,81:214,115:st,116:Je,117:gt},{6:11,7:12,8:l,9:u,10:h,11:f,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,261],33:24,34:p,36:g,38:m,42:28,43:38,44:y,45:39,47:40,60:b,83:T,84:E,85:w,86:x,87:S,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$,120:_,121:F,122:B,123:D},e(Ae,[2,53]),{43:262,44:y,45:39,47:40,60:b,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$},e(je,[2,119],{105:tt}),e(Ct,[2,128],{107:264,10:ln,60:Kr,83:cr,104:Ar,108:In,109:ui,110:It,111:Be}),e(pn,[2,130]),e(pn,[2,132]),e(pn,[2,133]),e(pn,[2,134]),e(pn,[2,135]),e(pn,[2,136]),e(pn,[2,137]),e(pn,[2,138]),e(pn,[2,139]),e(je,[2,120],{105:tt}),{10:[1,265]},e(je,[2,121],{105:tt}),{10:[1,266]},e(nn,[2,127]),e(je,[2,103],{105:tt}),e(je,[2,104],{112:111,44:y,60:b,88:A,101:R,104:C,105:N,108:O,110:L,113:k,114:M,115:$}),e(je,[2,108]),e(je,[2,110],{10:[1,267]}),e(je,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:W,9:U,11:V,21:272},e(H,[2,34]),e(Ae,[2,52]),{10:ln,60:Kr,83:cr,104:Ar,106:273,107:237,108:In,109:ui,110:It,111:Be},e(pn,[2,131]),{14:ce,44:Q,60:re,88:le,100:274,104:Y,105:K,108:Z,110:z,113:X,114:te,115:ne,119:86},{14:ce,44:Q,60:re,88:le,100:275,104:Y,105:K,108:Z,110:z,113:X,114:te,115:ne,119:86},{97:[1,276]},e(je,[2,118]),e(he,[2,58]),{30:277,67:Ke,79:at,80:Ft,81:168,115:st,116:Je,117:gt},e(he,[2,66]),e(pt,o,{5:278}),e(Ct,[2,129],{107:264,10:ln,60:Kr,83:cr,104:Ar,108:In,109:ui,110:It,111:Be}),e(je,[2,124],{119:164,10:[1,279],14:ce,44:Q,60:re,88:le,104:Y,105:K,108:Z,110:z,113:X,114:te,115:ne}),e(je,[2,125],{119:164,10:[1,280],14:ce,44:Q,60:re,88:le,104:Y,105:K,108:Z,110:z,113:X,114:te,115:ne}),e(je,[2,112]),{31:[1,281],67:Ke,81:214,115:st,116:Je,117:gt},{6:11,7:12,8:l,9:u,10:h,11:f,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,282],33:24,34:p,36:g,38:m,42:28,43:38,44:y,45:39,47:40,60:b,83:T,84:E,85:w,86:x,87:S,88:A,101:R,104:C,105:N,108:O,110:L,112:41,113:k,114:M,115:$,120:_,121:F,122:B,123:D},{10:ln,60:Kr,83:cr,91:283,104:Ar,106:236,107:237,108:In,109:ui,110:It,111:Be},{10:ln,60:Kr,83:cr,91:284,104:Ar,106:236,107:237,108:In,109:ui,110:It,111:Be},e(he,[2,62]),e(H,[2,33]),e(je,[2,122],{105:tt}),e(je,[2,123],{105:tt})],defaultActions:{},parseError:I(function(Et,St){if(St.recoverable)this.trace(Et);else{var Vt=new Error(Et);throw Vt.hash=St,Vt}},"parseError"),parse:I(function(Et){var St=this,Vt=[0],lt=[],qt=[null],xe=[],Cn=this.table,Le="",Cr=0,bF=0,Mye=2,TF=1,Pye=xe.slice.call(arguments,1),ta=Object.create(this.lexer),Pf={yy:{}};for(var CI in this.yy)Object.prototype.hasOwnProperty.call(this.yy,CI)&&(Pf.yy[CI]=this.yy[CI]);ta.setInput(Et,Pf.yy),Pf.yy.lexer=ta,Pf.yy.parser=this,typeof ta.yylloc>"u"&&(ta.yylloc={});var RI=ta.yylloc;xe.push(RI);var Fye=ta.options&&ta.options.ranges;typeof Pf.yy.parseError=="function"?this.parseError=Pf.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Bye(bo){Vt.length=Vt.length-2*bo,qt.length=qt.length-bo,xe.length=xe.length-bo}I(Bye,"popStack");function EF(){var bo;return bo=lt.pop()||ta.lex()||TF,typeof bo!="number"&&(bo instanceof Array&&(lt=bo,bo=lt.pop()),bo=St.symbols_[bo]||bo),bo}I(EF,"lex");for(var Bs,Ff,Xo,kI,Kp={},KE,Mu,wF,ZE;;){if(Ff=Vt[Vt.length-1],this.defaultActions[Ff]?Xo=this.defaultActions[Ff]:((Bs===null||typeof Bs>"u")&&(Bs=EF()),Xo=Cn[Ff]&&Cn[Ff][Bs]),typeof Xo>"u"||!Xo.length||!Xo[0]){var OI="";ZE=[];for(KE in Cn[Ff])this.terminals_[KE]&&KE>Mye&&ZE.push("'"+this.terminals_[KE]+"'");ta.showPosition?OI="Parse error on line "+(Cr+1)+`:
`+ta.showPosition()+`
Expecting `+ZE.join(", ")+", got '"+(this.terminals_[Bs]||Bs)+"'":OI="Parse error on line "+(Cr+1)+": Unexpected "+(Bs==TF?"end of input":"'"+(this.terminals_[Bs]||Bs)+"'"),this.parseError(OI,{text:ta.match,token:this.terminals_[Bs]||Bs,line:ta.yylineno,loc:RI,expected:ZE})}if(Xo[0]instanceof Array&&Xo.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ff+", token: "+Bs);switch(Xo[0]){case 1:Vt.push(Bs),qt.push(ta.yytext),xe.push(ta.yylloc),Vt.push(Xo[1]),Bs=null,bF=ta.yyleng,Le=ta.yytext,Cr=ta.yylineno,RI=ta.yylloc;break;case 2:if(Mu=this.productions_[Xo[1]][1],Kp.$=qt[qt.length-Mu],Kp._$={first_line:xe[xe.length-(Mu||1)].first_line,last_line:xe[xe.length-1].last_line,first_column:xe[xe.length-(Mu||1)].first_column,last_column:xe[xe.length-1].last_column},Fye&&(Kp._$.range=[xe[xe.length-(Mu||1)].range[0],xe[xe.length-1].range[1]]),kI=this.performAction.apply(Kp,[Le,bF,Cr,Pf.yy,Xo[1],qt,xe].concat(Pye)),typeof kI<"u")return kI;Mu&&(Vt=Vt.slice(0,-1*Mu*2),qt=qt.slice(0,-1*Mu),xe=xe.slice(0,-1*Mu)),Vt.push(this.productions_[Xo[1]][0]),qt.push(Kp.$),xe.push(Kp._$),wF=Cn[Vt[Vt.length-2]][Vt[Vt.length-1]],Vt.push(wF);break;case 3:return!0}}return!0},"parse")},pr=function(){var Ir={EOF:1,parseError:I(function(St,Vt){if(this.yy.parser)this.yy.parser.parseError(St,Vt);else throw new Error(St)},"parseError"),setInput:I(function(Et,St){return this.yy=St||this.yy||{},this._input=Et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var Et=this._input[0];this.yytext+=Et,this.yyleng++,this.offset++,this.match+=Et,this.matched+=Et;var St=Et.match(/(?:\r\n?|\n).*/g);return St?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Et},"input"),unput:I(function(Et){var St=Et.length,Vt=Et.split(/(?:\r\n?|\n)/g);this._input=Et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-St),this.offset-=St;var lt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Vt.length-1&&(this.yylineno-=Vt.length-1);var qt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Vt?(Vt.length===lt.length?this.yylloc.first_column:0)+lt[lt.length-Vt.length].length-Vt[0].length:this.yylloc.first_column-St},this.options.ranges&&(this.yylloc.range=[qt[0],qt[0]+this.yyleng-St]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(Et){this.unput(this.match.slice(Et))},"less"),pastInput:I(function(){var Et=this.matched.substr(0,this.matched.length-this.match.length);return(Et.length>20?"...":"")+Et.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var Et=this.match;return Et.length<20&&(Et+=this._input.substr(0,20-Et.length)),(Et.substr(0,20)+(Et.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var Et=this.pastInput(),St=new Array(Et.length+1).join("-");return Et+this.upcomingInput()+`
`+St+"^"},"showPosition"),test_match:I(function(Et,St){var Vt,lt,qt;if(this.options.backtrack_lexer&&(qt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qt.yylloc.range=this.yylloc.range.slice(0))),lt=Et[0].match(/(?:\r\n?|\n).*/g),lt&&(this.yylineno+=lt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lt?lt[lt.length-1].length-lt[lt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Et[0].length},this.yytext+=Et[0],this.match+=Et[0],this.matches=Et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Et[0].length),this.matched+=Et[0],Vt=this.performAction.call(this,this.yy,this,St,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Vt)return Vt;if(this._backtrack){for(var xe in qt)this[xe]=qt[xe];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Et,St,Vt,lt;this._more||(this.yytext="",this.match="");for(var qt=this._currentRules(),xe=0;xe<qt.length;xe++)if(Vt=this._input.match(this.rules[qt[xe]]),Vt&&(!St||Vt[0].length>St[0].length)){if(St=Vt,lt=xe,this.options.backtrack_lexer){if(Et=this.test_match(Vt,qt[xe]),Et!==!1)return Et;if(this._backtrack){St=!1;continue}else return!1}else if(!this.options.flex)break}return St?(Et=this.test_match(St,qt[lt]),Et!==!1?Et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var St=this.next();return St||this.lex()},"lex"),begin:I(function(St){this.conditionStack.push(St)},"begin"),popState:I(function(){var St=this.conditionStack.length-1;return St>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(St){return St=this.conditionStack.length-1-Math.abs(St||0),St>=0?this.conditionStack[St]:"INITIAL"},"topState"),pushState:I(function(St){this.begin(St)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(St,Vt,lt,qt){switch(lt){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),Vt.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const xe=/\n\s*/g;return Vt.yytext=Vt.yytext.replace(xe,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return St.lex.firstGraph()&&this.begin("dir"),12;case 36:return St.lex.firstGraph()&&this.begin("dir"),12;case 37:return St.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Ir}();ir.lexer=pr;function _r(){this.yy={}}return I(_r,"Parser"),_r.prototype=ir,ir.Parser=_r,new _r}();N8.parser=N8;var Fpt=N8,Bpt=I((e,t)=>{const n=Gre,r=n(e,"r"),a=n(e,"g"),o=n(e,"b");return $d(r,a,o,t)},"fade"),Hpt=I(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Bpt(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),$pt=Hpt,Wpt={parser:Fpt,db:ck,renderer:Ppt,styles:$pt,init:I(e=>{e.flowchart||(e.flowchart={}),e.layout&&qU({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,qU({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),ck.clear(),ck.setGen("gen-2")},"init")};const wM=Object.freeze(Object.defineProperty({__proto__:null,diagram:Wpt},Symbol.toStringTag,{value:"Module"})),Upt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Gpt(e){return typeof e=="string"&&Upt.test(e)}const ya=[];for(let e=0;e<256;++e)ya.push((e+256).toString(16).slice(1));function zpt(e,t=0){return ya[e[t+0]]+ya[e[t+1]]+ya[e[t+2]]+ya[e[t+3]]+"-"+ya[e[t+4]]+ya[e[t+5]]+"-"+ya[e[t+6]]+ya[e[t+7]]+"-"+ya[e[t+8]]+ya[e[t+9]]+"-"+ya[e[t+10]]+ya[e[t+11]]+ya[e[t+12]]+ya[e[t+13]]+ya[e[t+14]]+ya[e[t+15]]}function Ypt(e){if(!Gpt(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function Vpt(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const qpt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",jpt="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Xpt(e,t,n){function r(a,o,l,u){var h;if(typeof a=="string"&&(a=Vpt(a)),typeof o=="string"&&(o=Ypt(o)),((h=o)===null||h===void 0?void 0:h.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+a.length);if(f.set(o),f.set(a,o.length),f=n(f),f[6]=f[6]&15|t,f[8]=f[8]&63|128,l){u=u||0;for(let d=0;d<16;++d)l[u+d]=f[d];return l}return zpt(f)}try{r.name=e}catch{}return r.DNS=qpt,r.URL=jpt,r}function Kpt(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function uk(e,t){return e<<t|e>>>32-t}function Zpt(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const l=unescape(encodeURIComponent(e));e=[];for(let u=0;u<l.length;++u)e.push(l.charCodeAt(u))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,a=Math.ceil(r/16),o=new Array(a);for(let l=0;l<a;++l){const u=new Uint32Array(16);for(let h=0;h<16;++h)u[h]=e[l*64+h*4]<<24|e[l*64+h*4+1]<<16|e[l*64+h*4+2]<<8|e[l*64+h*4+3];o[l]=u}o[a-1][14]=(e.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(e.length-1)*8&4294967295;for(let l=0;l<a;++l){const u=new Uint32Array(80);for(let m=0;m<16;++m)u[m]=o[l][m];for(let m=16;m<80;++m)u[m]=uk(u[m-3]^u[m-8]^u[m-14]^u[m-16],1);let h=n[0],f=n[1],d=n[2],p=n[3],g=n[4];for(let m=0;m<80;++m){const y=Math.floor(m/20),b=uk(h,5)+Kpt(y,f,d,p)+g+t[y]+u[m]>>>0;g=p,p=d,d=uk(f,30)>>>0,f=h,h=b}n[0]=n[0]+h>>>0,n[1]=n[1]+f>>>0,n[2]=n[2]+d>>>0,n[3]=n[3]+p>>>0,n[4]=n[4]+g>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}const Qpt=Xpt("v5",80,Zpt);var L8=function(){var e=I(function(N,O,L,k){for(L=L||{},k=N.length;k--;L[N[k]]=O);return L},"o"),t=[6,8,10,20,22,24,26,27,28],n=[1,10],r=[1,11],a=[1,12],o=[1,13],l=[1,14],u=[1,15],h=[1,21],f=[1,22],d=[1,23],p=[1,24],g=[1,25],m=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],y=[1,34],b=[27,28,46,47],T=[41,42,43,44,45],E=[17,34],w=[1,54],x=[1,53],S=[17,34,36,38],A={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:I(function(O,L,k,M,$,_,F){var B=_.length-1;switch($){case 1:break;case 2:this.$=[];break;case 3:_[B-1].push(_[B]),this.$=_[B-1];break;case 4:case 5:this.$=_[B];break;case 6:case 7:this.$=[];break;case 8:M.addEntity(_[B-4]),M.addEntity(_[B-2]),M.addRelationship(_[B-4],_[B],_[B-2],_[B-3]);break;case 9:M.addEntity(_[B-3]),M.addAttributes(_[B-3],_[B-1]);break;case 10:M.addEntity(_[B-2]);break;case 11:M.addEntity(_[B]);break;case 12:M.addEntity(_[B-6],_[B-4]),M.addAttributes(_[B-6],_[B-1]);break;case 13:M.addEntity(_[B-5],_[B-3]);break;case 14:M.addEntity(_[B-3],_[B-1]);break;case 15:case 16:this.$=_[B].trim(),M.setAccTitle(this.$);break;case 17:case 18:this.$=_[B].trim(),M.setAccDescription(this.$);break;case 19:case 43:this.$=_[B];break;case 20:case 41:case 42:this.$=_[B].replace(/"/g,"");break;case 21:case 29:this.$=[_[B]];break;case 22:_[B].push(_[B-1]),this.$=_[B];break;case 23:this.$={attributeType:_[B-1],attributeName:_[B]};break;case 24:this.$={attributeType:_[B-2],attributeName:_[B-1],attributeKeyTypeList:_[B]};break;case 25:this.$={attributeType:_[B-2],attributeName:_[B-1],attributeComment:_[B]};break;case 26:this.$={attributeType:_[B-3],attributeName:_[B-2],attributeKeyTypeList:_[B-1],attributeComment:_[B]};break;case 27:case 28:case 31:this.$=_[B];break;case 30:_[B-2].push(_[B]),this.$=_[B-2];break;case 32:this.$=_[B].replace(/"/g,"");break;case 33:this.$={cardA:_[B],relType:_[B-1],cardB:_[B-2]};break;case 34:this.$=M.Cardinality.ZERO_OR_ONE;break;case 35:this.$=M.Cardinality.ZERO_OR_MORE;break;case 36:this.$=M.Cardinality.ONE_OR_MORE;break;case 37:this.$=M.Cardinality.ONLY_ONE;break;case 38:this.$=M.Cardinality.MD_PARENT;break;case 39:this.$=M.Identification.NON_IDENTIFYING;break;case 40:this.$=M.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:n,22:r,24:a,26:o,27:l,28:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:n,22:r,24:a,26:o,27:l,28:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:h,42:f,43:d,44:p,45:g}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(m,[2,19]),e(m,[2,20]),e(t,[2,4]),{11:29,27:l,28:u},{16:30,17:[1,31],29:32,30:33,34:y},{11:35,27:l,28:u},{40:36,46:[1,37],47:[1,38]},e(b,[2,34]),e(b,[2,35]),e(b,[2,36]),e(b,[2,37]),e(b,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:y},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:h,42:f,43:d,44:p,45:g},e(T,[2,39]),e(T,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(E,[2,23],{32:50,33:51,35:52,37:w,38:x}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(E,[2,24],{33:56,36:[1,57],38:x}),e(E,[2,25]),e(S,[2,29]),e(E,[2,32]),e(S,[2,31]),{16:58,17:[1,59],29:32,30:33,34:y},e(E,[2,26]),{35:60,37:w},{17:[1,61]},e(t,[2,13]),e(S,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:I(function(O,L){if(L.recoverable)this.trace(O);else{var k=new Error(O);throw k.hash=L,k}},"parseError"),parse:I(function(O){var L=this,k=[0],M=[],$=[null],_=[],F=this.table,B="",D=0,P=0,H=2,W=1,U=_.slice.call(arguments,1),V=Object.create(this.lexer),G={yy:{}};for(var ee in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ee)&&(G.yy[ee]=this.yy[ee]);V.setInput(O,G.yy),G.yy.lexer=V,G.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var ce=V.yylloc;_.push(ce);var Q=V.options&&V.options.ranges;typeof G.yy.parseError=="function"?this.parseError=G.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function re(de){k.length=k.length-2*de,$.length=$.length-de,_.length=_.length-de}I(re,"popStack");function le(){var de;return de=M.pop()||V.lex()||W,typeof de!="number"&&(de instanceof Array&&(M=de,de=M.pop()),de=L.symbols_[de]||de),de}I(le,"lex");for(var Y,K,Z,z,X={},te,ne,Ae,he;;){if(K=k[k.length-1],this.defaultActions[K]?Z=this.defaultActions[K]:((Y===null||typeof Y>"u")&&(Y=le()),Z=F[K]&&F[K][Y]),typeof Z>"u"||!Z.length||!Z[0]){var oe="";he=[];for(te in F[K])this.terminals_[te]&&te>H&&he.push("'"+this.terminals_[te]+"'");V.showPosition?oe="Parse error on line "+(D+1)+`:
`+V.showPosition()+`
Expecting `+he.join(", ")+", got '"+(this.terminals_[Y]||Y)+"'":oe="Parse error on line "+(D+1)+": Unexpected "+(Y==W?"end of input":"'"+(this.terminals_[Y]||Y)+"'"),this.parseError(oe,{text:V.match,token:this.terminals_[Y]||Y,line:V.yylineno,loc:ce,expected:he})}if(Z[0]instanceof Array&&Z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+K+", token: "+Y);switch(Z[0]){case 1:k.push(Y),$.push(V.yytext),_.push(V.yylloc),k.push(Z[1]),Y=null,P=V.yyleng,B=V.yytext,D=V.yylineno,ce=V.yylloc;break;case 2:if(ne=this.productions_[Z[1]][1],X.$=$[$.length-ne],X._$={first_line:_[_.length-(ne||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(ne||1)].first_column,last_column:_[_.length-1].last_column},Q&&(X._$.range=[_[_.length-(ne||1)].range[0],_[_.length-1].range[1]]),z=this.performAction.apply(X,[B,P,D,G.yy,Z[1],$,_].concat(U)),typeof z<"u")return z;ne&&(k=k.slice(0,-1*ne*2),$=$.slice(0,-1*ne),_=_.slice(0,-1*ne)),k.push(this.productions_[Z[1]][0]),$.push(X.$),_.push(X._$),Ae=F[k[k.length-2]][k[k.length-1]],k.push(Ae);break;case 3:return!0}}return!0},"parse")},R=function(){var N={EOF:1,parseError:I(function(L,k){if(this.yy.parser)this.yy.parser.parseError(L,k);else throw new Error(L)},"parseError"),setInput:I(function(O,L){return this.yy=L||this.yy||{},this._input=O,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var L=O.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),O},"input"),unput:I(function(O){var L=O.length,k=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===M.length?this.yylloc.first_column:0)+M[M.length-k.length].length-k[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(O){this.unput(this.match.slice(O))},"less"),pastInput:I(function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var O=this.match;return O.length<20&&(O+=this._input.substr(0,20-O.length)),(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var O=this.pastInput(),L=new Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:I(function(O,L){var k,M,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),M=O[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length},this.yytext+=O[0],this.match+=O[0],this.matches=O,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(O[0].length),this.matched+=O[0],k=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var _ in $)this[_]=$[_];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var O,L,k,M;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),_=0;_<$.length;_++)if(k=this._input.match(this.rules[$[_]]),k&&(!L||k[0].length>L[0].length)){if(L=k,M=_,this.options.backtrack_lexer){if(O=this.test_match(k,$[_]),O!==!1)return O;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(O=this.test_match(L,$[M]),O!==!1?O:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var L=this.next();return L||this.lex()},"lex"),begin:I(function(L){this.conditionStack.push(L)},"begin"),popState:I(function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:I(function(L){this.begin(L)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(L,k,M,$){switch(M){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return k.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return k.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return N}();A.lexer=R;function C(){this.yy={}}return I(C,"Parser"),C.prototype=A,A.Parser=C,new C}();L8.parser=L8;var Jpt=L8,gd=new Map,xM=[],egt={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},tgt={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},lfe=I(function(e,t=void 0){return gd.has(e)?!gd.get(e).alias&&t&&(gd.get(e).alias=t,ve.info(`Add alias '${t}' to entity '${e}'`)):(gd.set(e,{attributes:[],alias:t}),ve.info("Added new entity :",e)),gd.get(e)},"addEntity"),ngt=I(()=>gd,"getEntities"),rgt=I(function(e,t){let n=lfe(e),r;for(r=t.length-1;r>=0;r--)n.attributes.push(t[r]),ve.debug("Added attribute ",t[r].attributeName)},"addAttributes"),igt=I(function(e,t,n,r){let a={entityA:e,roleA:t,entityB:n,relSpec:r};xM.push(a),ve.debug("Added new relationship :",a)},"addRelationship"),agt=I(()=>xM,"getRelationships"),sgt=I(function(){gd=new Map,xM=[],fa()},"clear"),ogt={Cardinality:egt,Identification:tgt,getConfig:I(()=>Pe().er,"getConfig"),addEntity:lfe,addAttributes:rgt,getEntities:ngt,addRelationship:igt,getRelationships:agt,clear:sgt,setAccTitle:da,getAccTitle:La,setAccDescription:_a,getAccDescription:Da,setDiagramTitle:Ds,getDiagramTitle:Ma},Wl={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},lgt=I(function(e,t){let n;e.append("defs").append("marker").attr("id",Wl.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Wl.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Wl.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",Wl.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=e.append("defs").append("marker").attr("id",Wl.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=e.append("defs").append("marker").attr("id",Wl.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",Wl.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",Wl.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=e.append("defs").append("marker").attr("id",Wl.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=e.append("defs").append("marker").attr("id",Wl.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Ul={ERMarkers:Wl,insertMarkers:lgt},cgt=/[^\dA-Za-z](\W)*/g,$i={},rT=new Map,ugt=I(function(e){const t=Object.keys(e);for(const n of t)$i[n]=e[n]},"setConf"),hgt=I((e,t,n)=>{const r=$i.entityPadding/3,a=$i.entityPadding/3,o=$i.fontSize*.85,l=t.node().getBBox(),u=[];let h=!1,f=!1,d=0,p=0,g=0,m=0,y=l.height+r*2,b=1;n.forEach(x=>{x.attributeKeyTypeList!==void 0&&x.attributeKeyTypeList.length>0&&(h=!0),x.attributeComment!==void 0&&(f=!0)}),n.forEach(x=>{const S=`${t.node().id}-attr-${b}`;let A=0;const R=ad(x.attributeType),C=e.append("text").classed("er entityLabel",!0).attr("id",`${S}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pe().fontFamily).style("font-size",o+"px").text(R),N=e.append("text").classed("er entityLabel",!0).attr("id",`${S}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pe().fontFamily).style("font-size",o+"px").text(x.attributeName),O={};O.tn=C,O.nn=N;const L=C.node().getBBox(),k=N.node().getBBox();if(d=Math.max(d,L.width),p=Math.max(p,k.width),A=Math.max(L.height,k.height),h){const M=x.attributeKeyTypeList!==void 0?x.attributeKeyTypeList.join(","):"",$=e.append("text").classed("er entityLabel",!0).attr("id",`${S}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pe().fontFamily).style("font-size",o+"px").text(M);O.kn=$;const _=$.node().getBBox();g=Math.max(g,_.width),A=Math.max(A,_.height)}if(f){const M=e.append("text").classed("er entityLabel",!0).attr("id",`${S}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Pe().fontFamily).style("font-size",o+"px").text(x.attributeComment||"");O.cn=M;const $=M.node().getBBox();m=Math.max(m,$.width),A=Math.max(A,$.height)}O.height=A,u.push(O),y+=A+r*2,b+=1});let T=4;h&&(T+=2),f&&(T+=2);const E=d+p+g+m,w={width:Math.max($i.minEntityWidth,Math.max(l.width+$i.entityPadding*2,E+a*T)),height:n.length>0?y:Math.max($i.minEntityHeight,l.height+$i.entityPadding*2)};if(n.length>0){const x=Math.max(0,(w.width-E-a*T)/(T/2));t.attr("transform","translate("+w.width/2+","+(r+l.height/2)+")");let S=l.height+r*2,A="attributeBoxOdd";u.forEach(R=>{const C=S+r+R.height/2;R.tn.attr("transform","translate("+a+","+C+")");const N=e.insert("rect","#"+R.tn.node().id).classed(`er ${A}`,!0).attr("x",0).attr("y",S).attr("width",d+a*2+x).attr("height",R.height+r*2),O=parseFloat(N.attr("x"))+parseFloat(N.attr("width"));R.nn.attr("transform","translate("+(O+a)+","+C+")");const L=e.insert("rect","#"+R.nn.node().id).classed(`er ${A}`,!0).attr("x",O).attr("y",S).attr("width",p+a*2+x).attr("height",R.height+r*2);let k=parseFloat(L.attr("x"))+parseFloat(L.attr("width"));if(h){R.kn.attr("transform","translate("+(k+a)+","+C+")");const M=e.insert("rect","#"+R.kn.node().id).classed(`er ${A}`,!0).attr("x",k).attr("y",S).attr("width",g+a*2+x).attr("height",R.height+r*2);k=parseFloat(M.attr("x"))+parseFloat(M.attr("width"))}f&&(R.cn.attr("transform","translate("+(k+a)+","+C+")"),e.insert("rect","#"+R.cn.node().id).classed(`er ${A}`,"true").attr("x",k).attr("y",S).attr("width",m+a*2+x).attr("height",R.height+r*2)),S+=R.height+r*2,A=A==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else w.height=Math.max($i.minEntityHeight,y),t.attr("transform","translate("+w.width/2+","+w.height/2+")");return w},"drawAttributes"),fgt=I(function(e,t,n){const r=[...t.keys()];let a;return r.forEach(function(o){const l=ufe(o,"entity");rT.set(o,l);const u=e.append("g").attr("id",l);a=a===void 0?l:a;const h="text-"+l,f=u.append("text").classed("er entityLabel",!0).attr("id",h).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Pe().fontFamily).style("font-size",$i.fontSize+"px").text(t.get(o).alias??o),{width:d,height:p}=hgt(u,f,t.get(o).attributes),m=u.insert("rect","#"+h).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",d).attr("height",p).node().getBBox();n.setNode(l,{width:m.width,height:m.height,shape:"rect",id:l})}),a},"drawEntities"),dgt=I(function(e,t){t.nodes().forEach(function(n){n!==void 0&&t.node(n)!==void 0&&e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )")})},"adjustEntities"),cfe=I(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),pgt=I(function(e,t){return e.forEach(function(n){t.setEdge(rT.get(n.entityA),rT.get(n.entityB),{relationship:n},cfe(n))}),e},"addRelationships"),QY=0,ggt=I(function(e,t,n,r,a){QY++;const o=n.edge(rT.get(t.entityA),rT.get(t.entityB),cfe(t)),l=ip().x(function(b){return b.x}).y(function(b){return b.y}).curve(cE),u=e.insert("path","#"+r).classed("er relationshipLine",!0).attr("d",l(o.points)).style("stroke",$i.stroke).style("fill","none");t.relSpec.relType===a.db.Identification.NON_IDENTIFYING&&u.attr("stroke-dasharray","8,8");let h="";switch($i.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),t.relSpec.cardA){case a.db.Cardinality.ZERO_OR_ONE:u.attr("marker-end","url("+h+"#"+Ul.ERMarkers.ZERO_OR_ONE_END+")");break;case a.db.Cardinality.ZERO_OR_MORE:u.attr("marker-end","url("+h+"#"+Ul.ERMarkers.ZERO_OR_MORE_END+")");break;case a.db.Cardinality.ONE_OR_MORE:u.attr("marker-end","url("+h+"#"+Ul.ERMarkers.ONE_OR_MORE_END+")");break;case a.db.Cardinality.ONLY_ONE:u.attr("marker-end","url("+h+"#"+Ul.ERMarkers.ONLY_ONE_END+")");break;case a.db.Cardinality.MD_PARENT:u.attr("marker-end","url("+h+"#"+Ul.ERMarkers.MD_PARENT_END+")");break}switch(t.relSpec.cardB){case a.db.Cardinality.ZERO_OR_ONE:u.attr("marker-start","url("+h+"#"+Ul.ERMarkers.ZERO_OR_ONE_START+")");break;case a.db.Cardinality.ZERO_OR_MORE:u.attr("marker-start","url("+h+"#"+Ul.ERMarkers.ZERO_OR_MORE_START+")");break;case a.db.Cardinality.ONE_OR_MORE:u.attr("marker-start","url("+h+"#"+Ul.ERMarkers.ONE_OR_MORE_START+")");break;case a.db.Cardinality.ONLY_ONE:u.attr("marker-start","url("+h+"#"+Ul.ERMarkers.ONLY_ONE_START+")");break;case a.db.Cardinality.MD_PARENT:u.attr("marker-start","url("+h+"#"+Ul.ERMarkers.MD_PARENT_START+")");break}const f=u.node().getTotalLength(),d=u.node().getPointAtLength(f*.5),p="rel"+QY,g=t.roleA.split(/<br ?\/>/g),m=e.append("text").classed("er relationshipLabel",!0).attr("id",p).attr("x",d.x).attr("y",d.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Pe().fontFamily).style("font-size",$i.fontSize+"px");if(g.length==1)m.text(t.roleA);else{const b=-(g.length-1)*.5;g.forEach((T,E)=>{m.append("tspan").attr("x",d.x).attr("dy",`${E===0?b:1}em`).text(T)})}const y=m.node().getBBox();e.insert("rect","#"+p).classed("er relationshipLabelBox",!0).attr("x",d.x-y.width/2).attr("y",d.y-y.height/2).attr("width",y.width).attr("height",y.height)},"drawRelationshipFromLayout"),mgt=I(function(e,t,n,r){$i=Pe().er,ve.info("Drawing ER diagram");const a=Pe().securityLevel;let o;a==="sandbox"&&(o=it("#i"+t));const u=it(a==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);Ul.insertMarkers(u,$i);let h;h=new ls({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:$i.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const f=fgt(u,r.db.getEntities(),h),d=pgt(r.db.getRelationships(),h);O6(h),dgt(u,h),d.forEach(function(b){ggt(u,b,h,f,r)});const p=$i.diagramPadding;fn.insertTitle(u,"entityTitleText",$i.titleTopMargin,r.db.getDiagramTitle());const g=u.node().getBBox(),m=g.width+p*2,y=g.height+p*2;ss(u,y,m,$i.useMaxWidth),u.attr("viewBox",`${g.x-p} ${g.y-p} ${m} ${y}`)},"draw"),vgt="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function ufe(e="",t=""){const n=e.replace(cgt,"");return`${_8(t)}${_8(n)}${Qpt(e,vgt)}`}I(ufe,"generateId");function _8(e=""){return e.length>0?`${e}-`:""}I(_8,"strWithHyphen");var ygt={setConf:ugt,draw:mgt},bgt=I(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),Tgt=bgt,Egt={parser:Jpt,db:ogt,renderer:ygt,styles:Tgt};const wgt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Egt},Symbol.toStringTag,{value:"Module"}));function AE(e,t){var n,r,a;e.accDescr&&((n=t.setAccDescription)==null||n.call(t,e.accDescr)),e.accTitle&&((r=t.setAccTitle)==null||r.call(t,e.accTitle)),e.title&&((a=t.setDiagramTitle)==null||a.call(t,e.title))}I(AE,"populateCommonDb");var H1,SM=(H1=class{constructor(t){this.init=t,this.records=this.init()}reset(){this.records=this.init()}},I(H1,"ImperativeState"),H1);function Za(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function eu(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function xgt(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function Cx(e){return typeof e=="object"&&e!==null&&Za(e.container)&&eu(e.reference)&&typeof e.message=="string"}class hfe{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,n){return Za(t)&&this.isSubtype(t.$type,n)}isSubtype(t,n){if(t===n)return!0;let r=this.subtypes[t];r||(r=this.subtypes[t]={});const a=r[n];if(a!==void 0)return a;{const o=this.computeIsSubtype(t,n);return r[n]=o,o}}getAllSubTypes(t){const n=this.allSubtypes[t];if(n)return n;{const r=this.getAllTypes(),a=[];for(const o of r)this.isSubtype(o,t)&&a.push(o);return this.allSubtypes[t]=a,a}}}function Vm(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function ffe(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function dfe(e){return Vm(e)&&typeof e.fullText=="string"}class Ya{constructor(t,n){this.startFn=t,this.nextFn=n}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const t=this.iterator();let n=0,r=t.next();for(;!r.done;)n++,r=t.next();return n}toArray(){const t=[],n=this.iterator();let r;do r=n.next(),r.value!==void 0&&t.push(r.value);while(!r.done);return t}toSet(){return new Set(this)}toMap(t,n){const r=this.map(a=>[t?t(a):a,n?n(a):a]);return new Map(r)}toString(){return this.join()}concat(t){const n=t[Symbol.iterator]();return new Ya(()=>({first:this.startFn(),firstDone:!1}),r=>{let a;if(!r.firstDone){do if(a=this.nextFn(r.first),!a.done)return a;while(!a.done);r.firstDone=!0}do if(a=n.next(),!a.done)return a;while(!a.done);return ll})}join(t=","){const n=this.iterator();let r="",a,o=!1;do a=n.next(),a.done||(o&&(r+=t),r+=Sgt(a.value)),o=!0;while(!a.done);return r}indexOf(t,n=0){const r=this.iterator();let a=0,o=r.next();for(;!o.done;){if(a>=n&&o.value===t)return a;o=r.next(),a++}return-1}every(t){const n=this.iterator();let r=n.next();for(;!r.done;){if(!t(r.value))return!1;r=n.next()}return!0}some(t){const n=this.iterator();let r=n.next();for(;!r.done;){if(t(r.value))return!0;r=n.next()}return!1}forEach(t){const n=this.iterator();let r=0,a=n.next();for(;!a.done;)t(a.value,r),a=n.next(),r++}map(t){return new Ya(this.startFn,n=>{const{done:r,value:a}=this.nextFn(n);return r?ll:{done:!1,value:t(a)}})}filter(t){return new Ya(this.startFn,n=>{let r;do if(r=this.nextFn(n),!r.done&&t(r.value))return r;while(!r.done);return ll})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,n){const r=this.iterator();let a=n,o=r.next();for(;!o.done;)a===void 0?a=o.value:a=t(a,o.value),o=r.next();return a}reduceRight(t,n){return this.recursiveReduce(this.iterator(),t,n)}recursiveReduce(t,n,r){const a=t.next();if(a.done)return r;const o=this.recursiveReduce(t,n,r);return o===void 0?a.value:n(o,a.value)}find(t){const n=this.iterator();let r=n.next();for(;!r.done;){if(t(r.value))return r.value;r=n.next()}}findIndex(t){const n=this.iterator();let r=0,a=n.next();for(;!a.done;){if(t(a.value))return r;a=n.next(),r++}return-1}includes(t){const n=this.iterator();let r=n.next();for(;!r.done;){if(r.value===t)return!0;r=n.next()}return!1}flatMap(t){return new Ya(()=>({this:this.startFn()}),n=>{do{if(n.iterator){const o=n.iterator.next();if(o.done)n.iterator=void 0;else return o}const{done:r,value:a}=this.nextFn(n.this);if(!r){const o=t(a);if(DS(o))n.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}}while(n.iterator);return ll})}flat(t){if(t===void 0&&(t=1),t<=0)return this;const n=t>1?this.flat(t-1):this;return new Ya(()=>({this:n.startFn()}),r=>{do{if(r.iterator){const l=r.iterator.next();if(l.done)r.iterator=void 0;else return l}const{done:a,value:o}=n.nextFn(r.this);if(!a)if(DS(o))r.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}while(r.iterator);return ll})}head(){const n=this.iterator().next();if(!n.done)return n.value}tail(t=1){return new Ya(()=>{const n=this.startFn();for(let r=0;r<t;r++)if(this.nextFn(n).done)return n;return n},this.nextFn)}limit(t){return new Ya(()=>({size:0,state:this.startFn()}),n=>(n.size++,n.size>t?ll:this.nextFn(n.state)))}distinct(t){const n=new Set;return this.filter(r=>{const a=t?t(r):r;return n.has(a)?!1:(n.add(a),!0)})}exclude(t,n){const r=new Set;for(const a of t){const o=n?n(a):a;r.add(o)}return this.filter(a=>{const o=n?n(a):a;return!r.has(o)})}}function Sgt(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function DS(e){return!!e&&typeof e[Symbol.iterator]=="function"}const Agt=new Ya(()=>{},()=>ll),ll=Object.freeze({done:!0,value:void 0});function Aa(...e){if(e.length===1){const t=e[0];if(t instanceof Ya)return t;if(DS(t))return new Ya(()=>t[Symbol.iterator](),n=>n.next());if(typeof t.length=="number")return new Ya(()=>({index:0}),n=>n.index<t.length?{done:!1,value:t[n.index++]}:ll)}return e.length>1?new Ya(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const n=t.iterator.next();if(!n.done)return n;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const n=e[t.collIndex++];DS(n)?t.iterator=n[Symbol.iterator]():n&&typeof n.length=="number"&&(t.array=n)}}while(t.iterator||t.array||t.collIndex<e.length);return ll}):Agt}class AM extends Ya{constructor(t,n,r){super(()=>({iterators:r!=null&&r.includeRoot?[[t][Symbol.iterator]()]:[n(t)[Symbol.iterator]()],pruned:!1}),a=>{for(a.pruned&&(a.iterators.pop(),a.pruned=!1);a.iterators.length>0;){const l=a.iterators[a.iterators.length-1].next();if(l.done)a.iterators.pop();else return a.iterators.push(n(l.value)[Symbol.iterator]()),l}return ll})}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),prune:()=>{t.state.pruned=!0},[Symbol.iterator]:()=>t};return t}}var D8;(function(e){function t(o){return o.reduce((l,u)=>l+u,0)}e.sum=t;function n(o){return o.reduce((l,u)=>l*u,0)}e.product=n;function r(o){return o.reduce((l,u)=>Math.min(l,u))}e.min=r;function a(o){return o.reduce((l,u)=>Math.max(l,u))}e.max=a})(D8||(D8={}));function M8(e){return new AM(e,t=>Vm(t)?t.content:[],{includeRoot:!0})}function Igt(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function P8(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function MS(e){if(!e)return;const{offset:t,end:n,range:r}=e;return{range:r,offset:t,end:n,length:n-t}}var x0;(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"})(x0||(x0={}));function Cgt(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return x0.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return x0.After;const n=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,r=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return n&&r?x0.Inside:n?x0.OverlapBack:x0.OverlapFront}function Rgt(e,t){return Cgt(e,t)>x0.After}const kgt=/^[\w\p{L}]$/u;function Ogt(e,t){if(e){const n=Ngt(e,!0);if(n&&JY(n,t))return n;if(dfe(e)){const r=e.content.findIndex(a=>!a.hidden);for(let a=r-1;a>=0;a--){const o=e.content[a];if(JY(o,t))return o}}}}function JY(e,t){return ffe(e)&&t.includes(e.tokenType.name)}function Ngt(e,t=!0){for(;e.container;){const n=e.container;let r=n.content.indexOf(e);for(;r>0;){r--;const a=n.content[r];if(t||!a.hidden)return a}e=n}}class pfe extends Error{constructor(t,n){super(t?`${n} at ${t.range.start.line}:${t.range.start.character}`:n)}}function P6(e){throw new Error("Error! The input value was not handled.")}const hk="AbstractRule",fk="AbstractType",eV="Condition",Lgt="TypeDefinition",tV="ValueLiteral",gfe="AbstractElement";function _gt(e){return tr.isInstance(e,gfe)}const Dgt="ArrayLiteral",Mgt="ArrayType",mfe="BooleanLiteral";function Pgt(e){return tr.isInstance(e,mfe)}const vfe="Conjunction";function Fgt(e){return tr.isInstance(e,vfe)}const yfe="Disjunction";function Bgt(e){return tr.isInstance(e,yfe)}const Hgt="Grammar",bfe="InferredType";function Tfe(e){return tr.isInstance(e,bfe)}const Efe="Interface";function wfe(e){return tr.isInstance(e,Efe)}const xfe="Negation";function $gt(e){return tr.isInstance(e,xfe)}const Wgt="NumberLiteral",Ugt="Parameter",Sfe="ParameterReference";function Ggt(e){return tr.isInstance(e,Sfe)}const Afe="ParserRule";function kl(e){return tr.isInstance(e,Afe)}const zgt="ReferenceType",Ygt="ReturnType";function Vgt(e){return tr.isInstance(e,Ygt)}const Ife="SimpleType";function qgt(e){return tr.isInstance(e,Ife)}const jgt="StringLiteral",F8="TerminalRule";function zp(e){return tr.isInstance(e,F8)}const Cfe="Type";function Rfe(e){return tr.isInstance(e,Cfe)}const Xgt="UnionType",kfe="Action";function F6(e){return tr.isInstance(e,kfe)}const Ofe="Alternatives";function Nfe(e){return tr.isInstance(e,Ofe)}const Lfe="Assignment";function up(e){return tr.isInstance(e,Lfe)}const _fe="CharacterRange";function Kgt(e){return tr.isInstance(e,_fe)}const Dfe="CrossReference";function IM(e){return tr.isInstance(e,Dfe)}const Mfe="EndOfFile";function Zgt(e){return tr.isInstance(e,Mfe)}const Pfe="Group";function CM(e){return tr.isInstance(e,Pfe)}const Ffe="Keyword";function hp(e){return tr.isInstance(e,Ffe)}const Bfe="NegatedToken";function Qgt(e){return tr.isInstance(e,Bfe)}const Hfe="RegexToken";function Jgt(e){return tr.isInstance(e,Hfe)}const $fe="RuleCall";function fp(e){return tr.isInstance(e,$fe)}const Wfe="TerminalAlternatives";function e1t(e){return tr.isInstance(e,Wfe)}const Ufe="TerminalGroup";function t1t(e){return tr.isInstance(e,Ufe)}const Gfe="TerminalRuleCall";function n1t(e){return tr.isInstance(e,Gfe)}const zfe="UnorderedGroup";function Yfe(e){return tr.isInstance(e,zfe)}const Vfe="UntilToken";function r1t(e){return tr.isInstance(e,Vfe)}const qfe="Wildcard";function i1t(e){return tr.isInstance(e,qfe)}class jfe extends hfe{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(t,n){switch(t){case kfe:case Ofe:case Lfe:case _fe:case Dfe:case Mfe:case Pfe:case Ffe:case Bfe:case Hfe:case $fe:case Wfe:case Ufe:case Gfe:case zfe:case Vfe:case qfe:return this.isSubtype(gfe,n);case Dgt:case Wgt:case jgt:return this.isSubtype(tV,n);case Mgt:case zgt:case Ife:case Xgt:return this.isSubtype(Lgt,n);case mfe:return this.isSubtype(eV,n)||this.isSubtype(tV,n);case vfe:case yfe:case xfe:case Sfe:return this.isSubtype(eV,n);case bfe:case Efe:case Cfe:return this.isSubtype(fk,n);case Afe:return this.isSubtype(hk,n)||this.isSubtype(fk,n);case F8:return this.isSubtype(hk,n);default:return!1}}getReferenceType(t){const n=`${t.container.$type}:${t.property}`;switch(n){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return fk;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return hk;case"Grammar:usedGrammars":return Hgt;case"NamedArgument:parameter":case"ParameterReference:parameter":return Ugt;case"TerminalRuleCall:rule":return F8;default:throw new Error(`${n} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}}const tr=new jfe;function a1t(e){for(const[t,n]of Object.entries(e))t.startsWith("$")||(Array.isArray(n)?n.forEach((r,a)=>{Za(r)&&(r.$container=e,r.$containerProperty=t,r.$containerIndex=a)}):Za(n)&&(n.$container=e,n.$containerProperty=t))}function B6(e,t){let n=e;for(;n;){if(t(n))return n;n=n.$container}}function vu(e){const n=s1t(e).$document;if(!n)throw new Error("AST node has no document.");return n}function s1t(e){for(;e.$container;)e=e.$container;return e}function RM(e,t){if(!e)throw new Error("Node must be an AstNode.");const n=t==null?void 0:t.range;return new Ya(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),r=>{for(;r.keyIndex<r.keys.length;){const a=r.keys[r.keyIndex];if(!a.startsWith("$")){const o=e[a];if(Za(o)){if(r.keyIndex++,nV(o,n))return{done:!1,value:o}}else if(Array.isArray(o)){for(;r.arrayIndex<o.length;){const l=r.arrayIndex++,u=o[l];if(Za(u)&&nV(u,n))return{done:!1,value:u}}r.arrayIndex=0}}r.keyIndex++}return ll})}function IE(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new AM(e,n=>RM(n,t))}function T1(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new AM(e,n=>RM(n,t),{includeRoot:!0})}function nV(e,t){var n;if(!t)return!0;const r=(n=e.$cstNode)===null||n===void 0?void 0:n.range;return r?Rgt(r,t):!1}function Xfe(e){return new Ya(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const n=t.keys[t.keyIndex];if(!n.startsWith("$")){const r=e[n];if(eu(r))return t.keyIndex++,{done:!1,value:{reference:r,container:e,property:n}};if(Array.isArray(r)){for(;t.arrayIndex<r.length;){const a=t.arrayIndex++,o=r[a];if(eu(o))return{done:!1,value:{reference:o,container:e,property:n,index:a}}}t.arrayIndex=0}}t.keyIndex++}return ll})}function o1t(e,t){const n=e.getTypeMetaData(t.$type),r=t;for(const a of n.properties)a.defaultValue!==void 0&&r[a.name]===void 0&&(r[a.name]=Kfe(a.defaultValue))}function Kfe(e){return Array.isArray(e)?[...e.map(Kfe)]:e}function sn(e){return e.charCodeAt(0)}function dk(e,t){Array.isArray(e)?e.forEach(function(n){t.push(n)}):t.push(e)}function Gy(e,t){if(e[t]===!0)throw"duplicate flag "+t;e[t],e[t]=!0}function vg(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function l1t(){throw Error("Internal Error - Should never get here!")}function rV(e){return e.type==="Character"}const PS=[];for(let e=sn("0");e<=sn("9");e++)PS.push(e);const FS=[sn("_")].concat(PS);for(let e=sn("a");e<=sn("z");e++)FS.push(e);for(let e=sn("A");e<=sn("Z");e++)FS.push(e);const iV=[sn(" "),sn("\f"),sn(`
`),sn("\r"),sn("	"),sn("\v"),sn("	"),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn(" "),sn("\u2028"),sn("\u2029"),sn(" "),sn(" "),sn("　"),sn("\uFEFF")],c1t=/[0-9a-fA-F]/,g3=/[0-9]/,u1t=/[1-9]/;class Zfe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Gy(r,"global");break;case"i":Gy(r,"ignoreCase");break;case"m":Gy(r,"multiLine");break;case"u":Gy(r,"unicode");break;case"y":Gy(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const t=[],n=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(n)}}alternative(){const t=[],n=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}vg(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(t)}}return l1t()}quantifier(t=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const a=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:a,atMost:a};break;case",":let o;this.isDigit()?(o=this.integerIncludingZero(),n={atLeast:a,atMost:o}):n={atLeast:a,atMost:1/0},this.consumeChar("}");break}if(t===!0&&n===void 0)return;vg(n);break}if(!(t===!0&&n===void 0)&&vg(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let t;const n=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}if(t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),vg(t))return t.loc=this.loc(n),this.isQuantifier()&&(t.quantifier=this.quantifier()),t}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[sn(`
`),sn("\r"),sn("\u2028"),sn("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,n=!1;switch(this.popChar()){case"d":t=PS;break;case"D":t=PS,n=!0;break;case"s":t=iV;break;case"S":t=iV,n=!0;break;case"w":t=FS;break;case"W":t=FS,n=!0;break}if(vg(t))return{type:"Set",value:t,complement:n}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=sn("\f");break;case"n":t=sn(`
`);break;case"r":t=sn("\r");break;case"t":t=sn("	");break;case"v":t=sn("\v");break}if(vg(t))return{type:"Character",value:t}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:sn("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const t=this.popChar();return{type:"Character",value:sn(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const t=this.popChar();return{type:"Character",value:sn(t)}}}characterClass(){const t=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,rV(r)&&this.isRangeDash()){this.consumeChar("-");const a=this.classAtom();if(a.type,rV(a)){if(a.value<r.value)throw Error("Range out of order in character class");t.push({from:r.value,to:a.value})}else dk(r.value,t),t.push(sn("-")),dk(a.value,t)}else dk(r.value,t)}return this.consumeChar("]"),{type:"Set",complement:n,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:sn("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:t,value:n};return t&&(r.idx=this.groupIdx),r}positiveInteger(){let t=this.popChar();if(u1t.test(t)===!1)throw Error("Expecting a positive integer");for(;g3.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(g3.test(t)===!1)throw Error("Expecting an integer");for(;g3.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:sn(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return g3.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let n="";for(let a=0;a<t;a++){const o=this.popChar();if(c1t.test(o)===!1)throw Error("Expecting a HexDecimal digits");n+=o}return{type:"Character",value:parseInt(n,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}class H6{visitChildren(t){for(const n in t){const r=t[n];t.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(a=>{this.visit(a)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}const h1t=/\r?\n/gm,f1t=new Zfe;class d1t extends H6{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const n=String.fromCharCode(t.value);if(!this.multiline&&n===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=$6(n);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(t){if(!this.multiline){const n=this.regex.substring(t.loc.begin,t.loc.end),r=new RegExp(n);this.multiline=!!`
`.match(r)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}}const pk=new d1t;function p1t(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),pk.reset(e),pk.visit(f1t.pattern(e)),pk.multiline}catch{return!1}}function aV(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function $6(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g1t(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:$6(t)).join("")}function m1t(e,t){const n=v1t(e),r=t.match(n);return!!r&&r[0].length>0}function v1t(e){typeof e=="string"&&(e=new RegExp(e));const t=e,n=e.source;let r=0;function a(){let o="",l;function u(f){o+=n.substr(r,f),r+=f}function h(f){o+="(?:"+n.substr(r,f)+"|$)",r+=f}for(;r<n.length;)switch(n[r]){case"\\":switch(n[r+1]){case"c":h(3);break;case"x":h(4);break;case"u":t.unicode?n[r+2]==="{"?h(n.indexOf("}",r)-r+1):h(6):h(2);break;case"p":case"P":t.unicode?h(n.indexOf("}",r)-r+1):h(2);break;case"k":h(n.indexOf(">",r)-r+1);break;default:h(2);break}break;case"[":l=/\[(?:\\.|.)*?\]/g,l.lastIndex=r,l=l.exec(n)||[],h(l[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":u(1);break;case"{":l=/\{\d+,?\d*\}/g,l.lastIndex=r,l=l.exec(n),l?u(l[0].length):h(1);break;case"(":if(n[r+1]==="?")switch(n[r+2]){case":":o+="(?:",r+=3,o+=a()+"|$)";break;case"=":o+="(?=",r+=3,o+=a()+")";break;case"!":l=r,r+=3,a(),o+=n.substr(l,r-l);break;case"<":switch(n[r+3]){case"=":case"!":l=r,r+=4,a(),o+=n.substr(l,r-l);break;default:u(n.indexOf(">",r)-r+1),o+=a()+"|$)";break}break}else u(1),o+=a()+"|$)";break;case")":return++r,o;default:h(1);break}return o}return new RegExp(a(),e.flags)}function y1t(e){return e.rules.find(t=>kl(t)&&t.entry)}function b1t(e){return e.rules.filter(t=>zp(t)&&t.hidden)}function Qfe(e,t){const n=new Set,r=y1t(e);if(!r)return new Set(e.rules);const a=[r].concat(b1t(e));for(const l of a)Jfe(l,n,t);const o=new Set;for(const l of e.rules)(n.has(l.name)||zp(l)&&l.hidden)&&o.add(l);return o}function Jfe(e,t,n){t.add(e.name),IE(e).forEach(r=>{if(fp(r)||n){const a=r.rule.ref;a&&!t.has(a.name)&&Jfe(a,t,n)}})}function T1t(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=tde(e.type.ref);return t==null?void 0:t.terminal}}function E1t(e){return e.hidden&&!NM(e).test(" ")}function w1t(e,t){return!e||!t?[]:kM(e,t,e.astNode,!0)}function ede(e,t,n){if(!e||!t)return;const r=kM(e,t,e.astNode,!0);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function kM(e,t,n,r){if(!r){const a=B6(e.grammarSource,up);if(a&&a.feature===t)return[e]}return Vm(e)&&e.astNode===n?e.content.flatMap(a=>kM(a,t,n,!1)):[]}function x1t(e,t,n){if(!e)return;const r=S1t(e,t,e==null?void 0:e.astNode);if(r.length!==0)return n!==void 0?n=Math.max(0,Math.min(n,r.length-1)):n=0,r[n]}function S1t(e,t,n){if(e.astNode!==n)return[];if(hp(e.grammarSource)&&e.grammarSource.value===t)return[e];const r=M8(e).iterator();let a;const o=[];do if(a=r.next(),!a.done){const l=a.value;l.astNode===n?hp(l.grammarSource)&&l.grammarSource.value===t&&o.push(l):r.prune()}while(!a.done);return o}function A1t(e){var t;const n=e.astNode;for(;n===((t=e.container)===null||t===void 0?void 0:t.astNode);){const r=B6(e.grammarSource,up);if(r)return r;e=e.container}}function tde(e){let t=e;return Tfe(t)&&(F6(t.$container)?t=t.$container.$container:kl(t.$container)?t=t.$container:P6(t.$container)),nde(e,t,new Map)}function nde(e,t,n){var r;function a(o,l){let u;return B6(o,up)||(u=nde(l,l,n)),n.set(e,u),u}if(n.has(e))return n.get(e);n.set(e,void 0);for(const o of IE(t)){if(up(o)&&o.feature.toLowerCase()==="name")return n.set(e,o),o;if(fp(o)&&kl(o.rule.ref))return a(o,o.rule.ref);if(qgt(o)&&(!((r=o.typeRef)===null||r===void 0)&&r.ref))return a(o,o.typeRef.ref)}}function OM(e){return rde(e,new Set)}function rde(e,t){if(t.has(e))return!0;t.add(e);for(const n of IE(e))if(fp(n)){if(!n.rule.ref||kl(n.rule.ref)&&!rde(n.rule.ref,t))return!1}else{if(up(n))return!1;if(F6(n))return!1}return!!e.definition}function ide(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(kl(t))return t.name;if(wfe(t)||Rfe(t))return t.name}}}function W6(e){var t;if(kl(e))return OM(e)?e.name:(t=ide(e))!==null&&t!==void 0?t:e.name;if(wfe(e)||Rfe(e)||Vgt(e))return e.name;if(F6(e)){const n=I1t(e);if(n)return n}else if(Tfe(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function I1t(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return W6(e.type.ref)}function C1t(e){var t,n,r;return zp(e)?(n=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"string":OM(e)?e.name:(r=ide(e))!==null&&r!==void 0?r:e.name}function NM(e){const t={s:!1,i:!1,u:!1},n=Hv(e.definition,t),r=Object.entries(t).filter(([,a])=>a).map(([a])=>a).join("");return new RegExp(n,r)}const LM=/[\s\S]/.source;function Hv(e,t){if(e1t(e))return R1t(e);if(t1t(e))return k1t(e);if(Kgt(e))return L1t(e);if(n1t(e)){const n=e.rule.ref;if(!n)throw new Error("Missing rule reference.");return bh(Hv(n.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(Qgt(e))return N1t(e);if(r1t(e))return O1t(e);if(Jgt(e)){const n=e.regex.lastIndexOf("/"),r=e.regex.substring(1,n),a=e.regex.substring(n+1);return t&&(t.i=a.includes("i"),t.s=a.includes("s"),t.u=a.includes("u")),bh(r,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(i1t(e))return bh(LM,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e==null?void 0:e.$type}`)}}}function R1t(e){return bh(e.elements.map(t=>Hv(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function k1t(e){return bh(e.elements.map(t=>Hv(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function O1t(e){return bh(`${LM}*?${Hv(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function N1t(e){return bh(`(?!${Hv(e.terminal)})${LM}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function L1t(e){return e.right?bh(`[${gk(e.left)}-${gk(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):bh(gk(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function gk(e){return $6(e.value)}function bh(e,t){var n;return(t.wrap!==!1||t.lookahead)&&(e=`(${(n=t.lookahead)!==null&&n!==void 0?n:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function _1t(e){const t=[],n=e.Grammar;for(const r of n.rules)zp(r)&&E1t(r)&&p1t(NM(r))&&t.push(r.name);return{multilineCommentRules:t,nameRegexp:kgt}}function B8(e){console&&console.error&&console.error(`Error: ${e}`)}function ade(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function sde(e){const t=new Date().getTime(),n=e();return{time:new Date().getTime()-t,value:n}}function ode(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}return r(),r(),e}function D1t(e){return M1t(e)?e.LABEL:e.name}function M1t(e){return co(e.LABEL)&&e.LABEL!==""}class Nu{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),Ge(this.definition,n=>{n.accept(t)})}}class Ls extends Nu{constructor(t){super([]),this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class $v extends Nu{constructor(t){super(t.definition),this.orgText="",Uo(this,Ac(t,n=>n!==void 0))}}class uo extends Nu{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Uo(this,Ac(t,n=>n!==void 0))}}let Ca=class extends Nu{constructor(t){super(t.definition),this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}};class Vo extends Nu{constructor(t){super(t.definition),this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}}class qo extends Nu{constructor(t){super(t.definition),this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}}class ri extends Nu{constructor(t){super(t.definition),this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}}class vo extends Nu{constructor(t){super(t.definition),this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}}class yo extends Nu{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Uo(this,Ac(t,n=>n!==void 0))}}class Lr{constructor(t){this.idx=1,Uo(this,Ac(t,n=>n!==void 0))}accept(t){t.visit(this)}}function P1t(e){return mt(e,Rx)}function Rx(e){function t(n){return mt(n,Rx)}if(e instanceof Ls){const n={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return co(e.label)&&(n.label=e.label),n}else{if(e instanceof uo)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ca)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Vo)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof qo)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Rx(new Lr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof vo)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Rx(new Lr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ri)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof yo)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Lr){const n={type:"Terminal",name:e.terminalType.name,label:D1t(e.terminalType),idx:e.idx};co(e.label)&&(n.terminalLabel=e.label);const r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=Nh(r)?r.source:r),n}else{if(e instanceof $v)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}class Wv{visit(t){const n=t;switch(n.constructor){case Ls:return this.visitNonTerminal(n);case uo:return this.visitAlternative(n);case Ca:return this.visitOption(n);case Vo:return this.visitRepetitionMandatory(n);case qo:return this.visitRepetitionMandatoryWithSeparator(n);case vo:return this.visitRepetitionWithSeparator(n);case ri:return this.visitRepetition(n);case yo:return this.visitAlternation(n);case Lr:return this.visitTerminal(n);case $v:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}function F1t(e){return e instanceof uo||e instanceof Ca||e instanceof ri||e instanceof Vo||e instanceof qo||e instanceof vo||e instanceof Lr||e instanceof $v}function BS(e,t=[]){return e instanceof Ca||e instanceof ri||e instanceof vo?!0:e instanceof yo?w0e(e.definition,r=>BS(r,t)):e instanceof Ls&&Ps(t,e)?!1:e instanceof Nu?(e instanceof Ls&&t.push(e),uc(e.definition,r=>BS(r,t))):!1}function B1t(e){return e instanceof yo}function Vc(e){if(e instanceof Ls)return"SUBRULE";if(e instanceof Ca)return"OPTION";if(e instanceof yo)return"OR";if(e instanceof Vo)return"AT_LEAST_ONE";if(e instanceof qo)return"AT_LEAST_ONE_SEP";if(e instanceof vo)return"MANY_SEP";if(e instanceof ri)return"MANY";if(e instanceof Lr)return"CONSUME";throw Error("non exhaustive match")}class U6{walk(t,n=[]){Ge(t.definition,(r,a)=>{const o=ba(t.definition,a+1);if(r instanceof Ls)this.walkProdRef(r,o,n);else if(r instanceof Lr)this.walkTerminal(r,o,n);else if(r instanceof uo)this.walkFlat(r,o,n);else if(r instanceof Ca)this.walkOption(r,o,n);else if(r instanceof Vo)this.walkAtLeastOne(r,o,n);else if(r instanceof qo)this.walkAtLeastOneSep(r,o,n);else if(r instanceof vo)this.walkManySep(r,o,n);else if(r instanceof ri)this.walkMany(r,o,n);else if(r instanceof yo)this.walkOr(r,o,n);else throw Error("non exhaustive match")})}walkTerminal(t,n,r){}walkProdRef(t,n,r){}walkFlat(t,n,r){const a=n.concat(r);this.walk(t,a)}walkOption(t,n,r){const a=n.concat(r);this.walk(t,a)}walkAtLeastOne(t,n,r){const a=[new Ca({definition:t.definition})].concat(n,r);this.walk(t,a)}walkAtLeastOneSep(t,n,r){const a=sV(t,n,r);this.walk(t,a)}walkMany(t,n,r){const a=[new Ca({definition:t.definition})].concat(n,r);this.walk(t,a)}walkManySep(t,n,r){const a=sV(t,n,r);this.walk(t,a)}walkOr(t,n,r){const a=n.concat(r);Ge(t.definition,o=>{const l=new uo({definition:[o]});this.walk(l,a)})}}function sV(e,t,n){return[new Ca({definition:[new Lr({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}function CE(e){if(e instanceof Ls)return CE(e.referencedRule);if(e instanceof Lr)return W1t(e);if(F1t(e))return H1t(e);if(B1t(e))return $1t(e);throw Error("non exhaustive match")}function H1t(e){let t=[];const n=e.definition;let r=0,a=n.length>r,o,l=!0;for(;a&&l;)o=n[r],l=BS(o),t=t.concat(CE(o)),r=r+1,a=n.length>r;return oM(t)}function $1t(e){const t=mt(e.definition,n=>CE(n));return oM(la(t))}function W1t(e){return[e.terminalType]}const lde="_~IN~_";class U1t extends U6{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,n,r){}walkProdRef(t,n,r){const a=z1t(t.referencedRule,t.idx)+this.topProd.name,o=n.concat(r),l=new uo({definition:o}),u=CE(l);this.follows[a]=u}}function G1t(e){const t={};return Ge(e,n=>{const r=new U1t(n).startWalking();Uo(t,r)}),t}function z1t(e,t){return e.name+t+lde}let kx={};const Y1t=new Zfe;function G6(e){const t=e.toString();if(kx.hasOwnProperty(t))return kx[t];{const n=Y1t.pattern(t);return kx[t]=n,n}}function V1t(){kx={}}const cde="Complement Sets are not supported for first char optimization",HS=`Unable to use "first char" lexer optimizations:
`;function q1t(e,t=!1){try{const n=G6(e);return H8(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===cde)t&&ade(`${HS}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";t&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),B8(`${HS}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function H8(e,t,n){switch(e.type){case"Disjunction":for(let a=0;a<e.value.length;a++)H8(e.value[a],t,n);break;case"Alternative":const r=e.value;for(let a=0;a<r.length;a++){const o=r[a];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const l=o;switch(l.type){case"Character":m3(l.value,t,n);break;case"Set":if(l.complement===!0)throw Error(cde);Ge(l.value,h=>{if(typeof h=="number")m3(h,t,n);else{const f=h;if(n===!0)for(let d=f.from;d<=f.to;d++)m3(d,t,n);else{for(let d=f.from;d<=f.to&&d<d2;d++)m3(d,t,n);if(f.to>=d2){const d=f.from>=d2?f.from:d2,p=f.to,g=af(d),m=af(p);for(let y=g;y<=m;y++)t[y]=y}}}});break;case"Group":H8(l.value,t,n);break;default:throw Error("Non Exhaustive Match")}const u=l.quantifier!==void 0&&l.quantifier.atLeast===0;if(l.type==="Group"&&$8(l)===!1||l.type!=="Group"&&u===!1)break}break;default:throw Error("non exhaustive match!")}return sr(t)}function m3(e,t,n){const r=af(e);t[r]=r,n===!0&&j1t(e,t)}function j1t(e,t){const n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){const a=af(r.charCodeAt(0));t[a]=a}else{const a=n.toLowerCase();if(a!==n){const o=af(a.charCodeAt(0));t[o]=o}}}function oV(e,t){return Oh(e.value,n=>{if(typeof n=="number")return Ps(t,n);{const r=n;return Oh(t,a=>r.from<=a&&a<=r.to)!==void 0}})}function $8(e){const t=e.quantifier;return t&&t.atLeast===0?!0:e.value?An(e.value)?uc(e.value,$8):$8(e.value):!1}class X1t extends H6{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){Ps(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?oV(t,this.targetCharCodes)===void 0&&(this.found=!0):oV(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}function _M(e,t){if(t instanceof RegExp){const n=G6(t),r=new X1t(e);return r.visit(n),r.found}else return Oh(t,n=>Ps(e,n.charCodeAt(0)))!==void 0}const dp="PATTERN",f2="defaultMode",v3="modes";let ude=typeof new RegExp("(?:)").sticky=="boolean";function K1t(e,t){t=A6(t,{useSticky:ude,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(w,x)=>x()});const n=t.tracer;n("initCharCodeToOptimizedIndexMap",()=>{bmt()});let r;n("Reject Lexer.NA",()=>{r=R6(e,w=>w[dp]===so.NA)});let a=!1,o;n("Transform Patterns",()=>{a=!1,o=mt(r,w=>{const x=w[dp];if(Nh(x)){const S=x.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!x.ignoreCase?S:S.length===2&&S[0]==="\\"&&!Ps(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:t.useSticky?cV(x):lV(x)}else{if(Sl(x))return a=!0,{exec:x};if(typeof x=="object")return a=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const S=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),A=new RegExp(S);return t.useSticky?cV(A):lV(A)}}else throw Error("non exhaustive match")}})});let l,u,h,f,d;n("misc mapping",()=>{l=mt(r,w=>w.tokenTypeIdx),u=mt(r,w=>{const x=w.GROUP;if(x!==so.SKIPPED){if(co(x))return x;if(Jn(x))return!1;throw Error("non exhaustive match")}}),h=mt(r,w=>{const x=w.LONGER_ALT;if(x)return An(x)?mt(x,A=>_Y(r,A)):[_Y(r,x)]}),f=mt(r,w=>w.PUSH_MODE),d=mt(r,w=>Xt(w,"POP_MODE"))});let p;n("Line Terminator Handling",()=>{const w=dde(t.lineTerminatorCharacters);p=mt(r,x=>!1),t.positionTracking!=="onlyOffset"&&(p=mt(r,x=>Xt(x,"LINE_BREAKS")?!!x.LINE_BREAKS:fde(x,w)===!1&&_M(w,x.PATTERN)))});let g,m,y,b;n("Misc Mapping #2",()=>{g=mt(r,hde),m=mt(o,mmt),y=Di(r,(w,x)=>{const S=x.GROUP;return co(S)&&S!==so.SKIPPED&&(w[S]=[]),w},{}),b=mt(o,(w,x)=>({pattern:o[x],longerAlt:h[x],canLineTerminator:p[x],isCustom:g[x],short:m[x],group:u[x],push:f[x],pop:d[x],tokenTypeIdx:l[x],tokenType:r[x]}))});let T=!0,E=[];return t.safeMode||n("First Char Optimization",()=>{E=Di(r,(w,x,S)=>{if(typeof x.PATTERN=="string"){const A=x.PATTERN.charCodeAt(0),R=af(A);mk(w,R,b[S])}else if(An(x.START_CHARS_HINT)){let A;Ge(x.START_CHARS_HINT,R=>{const C=typeof R=="string"?R.charCodeAt(0):R,N=af(C);A!==N&&(A=N,mk(w,N,b[S]))})}else if(Nh(x.PATTERN))if(x.PATTERN.unicode)T=!1,t.ensureOptimizations&&B8(`${HS}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const A=q1t(x.PATTERN,t.ensureOptimizations);qn(A)&&(T=!1),Ge(A,R=>{mk(w,R,b[S])})}else t.ensureOptimizations&&B8(`${HS}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),T=!1;return w},[])}),{emptyGroups:y,patternIdxToConfig:b,charCodeToPatternIdxToConfig:E,hasCustom:a,canBeOptimized:T}}function Z1t(e,t){let n=[];const r=J1t(e);n=n.concat(r.errors);const a=emt(r.valid),o=a.valid;return n=n.concat(a.errors),n=n.concat(Q1t(o)),n=n.concat(lmt(o)),n=n.concat(cmt(o,t)),n=n.concat(umt(o)),n}function Q1t(e){let t=[];const n=ai(e,r=>Nh(r[dp]));return t=t.concat(nmt(n)),t=t.concat(amt(n)),t=t.concat(smt(n)),t=t.concat(omt(n)),t=t.concat(rmt(n)),t}function J1t(e){const t=ai(e,a=>!Xt(a,dp)),n=mt(t,a=>({message:"Token Type: ->"+a.name+"<- missing static 'PATTERN' property",type:ii.MISSING_PATTERN,tokenTypes:[a]})),r=I6(e,t);return{errors:n,valid:r}}function emt(e){const t=ai(e,a=>{const o=a[dp];return!Nh(o)&&!Sl(o)&&!Xt(o,"exec")&&!co(o)}),n=mt(t,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ii.INVALID_PATTERN,tokenTypes:[a]})),r=I6(e,t);return{errors:n,valid:r}}const tmt=/[^\\][$]/;function nmt(e){class t extends H6{constructor(){super(...arguments),this.found=!1}visitEndAnchor(o){this.found=!0}}const n=ai(e,a=>{const o=a.PATTERN;try{const l=G6(o),u=new t;return u.visit(l),u.found}catch{return tmt.test(o.source)}});return mt(n,a=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+a.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ii.EOI_ANCHOR_FOUND,tokenTypes:[a]}))}function rmt(e){const t=ai(e,r=>r.PATTERN.test(""));return mt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:ii.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const imt=/[^\\[][\^]|^\^/;function amt(e){class t extends H6{constructor(){super(...arguments),this.found=!1}visitStartAnchor(o){this.found=!0}}const n=ai(e,a=>{const o=a.PATTERN;try{const l=G6(o),u=new t;return u.visit(l),u.found}catch{return imt.test(o.source)}});return mt(n,a=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+a.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ii.SOI_ANCHOR_FOUND,tokenTypes:[a]}))}function smt(e){const t=ai(e,r=>{const a=r[dp];return a instanceof RegExp&&(a.multiline||a.global)});return mt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ii.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function omt(e){const t=[];let n=mt(e,o=>Di(e,(l,u)=>(o.PATTERN.source===u.PATTERN.source&&!Ps(t,u)&&u.PATTERN!==so.NA&&(t.push(u),l.push(u)),l),[]));n=xE(n);const r=ai(n,o=>o.length>1);return mt(r,o=>{const l=mt(o,h=>h.name);return{message:`The same RegExp pattern ->${bc(o).PATTERN}<-has been used in all of the following Token Types: ${l.join(", ")} <-`,type:ii.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}})}function lmt(e){const t=ai(e,r=>{if(!Xt(r,"GROUP"))return!1;const a=r.GROUP;return a!==so.SKIPPED&&a!==so.NA&&!co(a)});return mt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ii.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function cmt(e,t){const n=ai(e,a=>a.PUSH_MODE!==void 0&&!Ps(t,a.PUSH_MODE));return mt(n,a=>({message:`Token Type: ->${a.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${a.PUSH_MODE}<-which does not exist`,type:ii.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[a]}))}function umt(e){const t=[],n=Di(e,(r,a,o)=>{const l=a.PATTERN;return l===so.NA||(co(l)?r.push({str:l,idx:o,tokenType:a}):Nh(l)&&fmt(l)&&r.push({str:l.source,idx:o,tokenType:a})),r},[]);return Ge(e,(r,a)=>{Ge(n,({str:o,idx:l,tokenType:u})=>{if(a<l&&hmt(o,r.PATTERN)){const h=`Token: ->${u.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:h,type:ii.UNREACHABLE_PATTERN,tokenTypes:[r,u]})}})}),t}function hmt(e,t){if(Nh(t)){const n=t.exec(e);return n!==null&&n.index===0}else{if(Sl(t))return t(e,0,[],{});if(Xt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function fmt(e){return Oh([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>e.source.indexOf(n)!==-1)===void 0}function lV(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function cV(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function dmt(e,t,n){const r=[];return Xt(e,f2)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+f2+`> property in its definition
`,type:ii.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Xt(e,v3)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+v3+`> property in its definition
`,type:ii.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Xt(e,v3)&&Xt(e,f2)&&!Xt(e.modes,e.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${f2}: <${e.defaultMode}>which does not exist
`,type:ii.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Xt(e,v3)&&Ge(e.modes,(a,o)=>{Ge(a,(l,u)=>{if(Jn(l))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${o}> at index: <${u}>
`,type:ii.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Xt(l,"LONGER_ALT")){const h=An(l.LONGER_ALT)?l.LONGER_ALT:[l.LONGER_ALT];Ge(h,f=>{!Jn(f)&&!Ps(a,f)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${f.name}> on token <${l.name}> outside of mode <${o}>
`,type:ii.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function pmt(e,t,n){const r=[];let a=!1;const o=xE(la(sr(e.modes))),l=R6(o,h=>h[dp]===so.NA),u=dde(n);return t&&Ge(l,h=>{const f=fde(h,u);if(f!==!1){const p={message:ymt(h,f),type:f.issue,tokenType:h};r.push(p)}else Xt(h,"LINE_BREAKS")?h.LINE_BREAKS===!0&&(a=!0):_M(u,h.PATTERN)&&(a=!0)}),t&&!a&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:ii.NO_LINE_BREAKS_FLAGS}),r}function gmt(e){const t={},n=Gi(e);return Ge(n,r=>{const a=e[r];if(An(a))t[r]=[];else throw Error("non exhaustive match")}),t}function hde(e){const t=e.PATTERN;if(Nh(t))return!1;if(Sl(t))return!0;if(Xt(t,"exec"))return!0;if(co(t))return!1;throw Error("non exhaustive match")}function mmt(e){return co(e)&&e.length===1?e.charCodeAt(0):!1}const vmt={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const r=e.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return e.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function fde(e,t){if(Xt(e,"LINE_BREAKS"))return!1;if(Nh(e.PATTERN)){try{_M(t,e.PATTERN)}catch(n){return{issue:ii.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(co(e.PATTERN))return!1;if(hde(e))return{issue:ii.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function ymt(e,t){if(t.issue===ii.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ii.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function dde(e){return mt(e,n=>co(n)?n.charCodeAt(0):n)}function mk(e,t,n){e[t]===void 0?e[t]=[n]:e[t].push(n)}const d2=256;let Ox=[];function af(e){return e<d2?e:Ox[e]}function bmt(){if(qn(Ox)){Ox=new Array(65536);for(let e=0;e<65536;e++)Ox[e]=e>255?255+~~(e/255):e}}function RE(e,t){const n=e.tokenTypeIdx;return n===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[n]===!0}function $S(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let uV=1;const pde={};function kE(e){const t=Tmt(e);Emt(t),xmt(t),wmt(t),Ge(t,n=>{n.isParent=n.categoryMatches.length>0})}function Tmt(e){let t=Ki(e),n=e,r=!0;for(;r;){n=xE(la(mt(n,o=>o.CATEGORIES)));const a=I6(n,t);t=t.concat(a),qn(a)?r=!1:n=a}return t}function Emt(e){Ge(e,t=>{mde(t)||(pde[uV]=t,t.tokenTypeIdx=uV++),hV(t)&&!An(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),hV(t)||(t.CATEGORIES=[]),Smt(t)||(t.categoryMatches=[]),Amt(t)||(t.categoryMatchesMap={})})}function wmt(e){Ge(e,t=>{t.categoryMatches=[],Ge(t.categoryMatchesMap,(n,r)=>{t.categoryMatches.push(pde[r].tokenTypeIdx)})})}function xmt(e){Ge(e,t=>{gde([],t)})}function gde(e,t){Ge(e,n=>{t.categoryMatchesMap[n.tokenTypeIdx]=!0}),Ge(t.CATEGORIES,n=>{const r=e.concat(t);Ps(r,n)||gde(r,n)})}function mde(e){return Xt(e,"tokenTypeIdx")}function hV(e){return Xt(e,"CATEGORIES")}function Smt(e){return Xt(e,"categoryMatches")}function Amt(e){return Xt(e,"categoryMatchesMap")}function Imt(e){return Xt(e,"tokenTypeIdx")}const Cmt={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,n,r,a){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`}};var ii;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(ii||(ii={}));const p2={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Cmt,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(p2);class so{constructor(t,n=p2){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(a,o)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const l=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${l}--> <${a}>`);const{time:u,value:h}=sde(o),f=u>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&f(`${l}<-- <${a}> time: ${u}ms`),this.traceInitIndent--,h}else return o()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Uo({},p2,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let a,o=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===p2.lineTerminatorsPattern)this.config.lineTerminatorsPattern=vmt;else if(this.config.lineTerminatorCharacters===p2.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),An(t)?a={modes:{defaultMode:Ki(t)},defaultMode:f2}:(o=!1,a=Ki(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(dmt(a,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(pmt(a,this.trackStartLines,this.config.lineTerminatorCharacters))})),a.modes=a.modes?a.modes:{},Ge(a.modes,(u,h)=>{a.modes[h]=R6(u,f=>Jn(f))});const l=Gi(a.modes);if(Ge(a.modes,(u,h)=>{this.TRACE_INIT(`Mode: <${h}> processing`,()=>{if(this.modes.push(h),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Z1t(u,l))}),qn(this.lexerDefinitionErrors)){kE(u);let f;this.TRACE_INIT("analyzeTokenTypes",()=>{f=K1t(u,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[h]=f.patternIdxToConfig,this.charCodeToPatternIdxToConfig[h]=f.charCodeToPatternIdxToConfig,this.emptyGroups=Uo({},this.emptyGroups,f.emptyGroups),this.hasCustom=f.hasCustom||this.hasCustom,this.canModeBeOptimized[h]=f.canBeOptimized}})}),this.defaultMode=a.defaultMode,!qn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const h=mt(this.lexerDefinitionErrors,f=>f.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+h)}Ge(this.lexerDefinitionWarning,u=>{ade(u.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(ude?(this.chopInput=Ah,this.match=this.matchWithTest):(this.updateLastIndex=Pi,this.match=this.matchWithExec),o&&(this.handleModes=Pi),this.trackStartLines===!1&&(this.computeNewColumn=Ah),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Pi),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const u=Di(this.canModeBeOptimized,(h,f,d)=>(f===!1&&h.push(d),h),[]);if(n.ensureOptimizations&&!qn(u))throw Error(`Lexer Modes: < ${u.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{V1t()}),this.TRACE_INIT("toFastProperties",()=>{ode(this)})})}tokenize(t,n=this.defaultMode){if(!qn(this.lexerDefinitionErrors)){const a=mt(this.lexerDefinitionErrors,o=>o.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+a)}return this.tokenizeInternal(t,n)}tokenizeInternal(t,n){let r,a,o,l,u,h,f,d,p,g,m,y,b,T,E;const w=t,x=w.length;let S=0,A=0;const R=this.hasCustom?0:Math.floor(t.length/10),C=new Array(R),N=[];let O=this.trackStartLines?1:void 0,L=this.trackStartLines?1:void 0;const k=gmt(this.emptyGroups),M=this.trackStartLines,$=this.config.lineTerminatorsPattern;let _=0,F=[],B=[];const D=[],P=[];Object.freeze(P);let H;function W(){return F}function U(Q){const re=af(Q),le=B[re];return le===void 0?P:le}const V=Q=>{if(D.length===1&&Q.tokenType.PUSH_MODE===void 0){const re=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Q);N.push({offset:Q.startOffset,line:Q.startLine,column:Q.startColumn,length:Q.image.length,message:re})}else{D.pop();const re=gu(D);F=this.patternIdxToConfig[re],B=this.charCodeToPatternIdxToConfig[re],_=F.length;const le=this.canModeBeOptimized[re]&&this.config.safeMode===!1;B&&le?H=U:H=W}};function G(Q){D.push(Q),B=this.charCodeToPatternIdxToConfig[Q],F=this.patternIdxToConfig[Q],_=F.length,_=F.length;const re=this.canModeBeOptimized[Q]&&this.config.safeMode===!1;B&&re?H=U:H=W}G.call(this,n);let ee;const ce=this.config.recoveryEnabled;for(;S<x;){h=null;const Q=w.charCodeAt(S),re=H(Q),le=re.length;for(r=0;r<le;r++){ee=re[r];const Y=ee.pattern;f=null;const K=ee.short;if(K!==!1?Q===K&&(h=Y):ee.isCustom===!0?(E=Y.exec(w,S,C,k),E!==null?(h=E[0],E.payload!==void 0&&(f=E.payload)):h=null):(this.updateLastIndex(Y,S),h=this.match(Y,t,S)),h!==null){if(u=ee.longerAlt,u!==void 0){const Z=u.length;for(o=0;o<Z;o++){const z=F[u[o]],X=z.pattern;if(d=null,z.isCustom===!0?(E=X.exec(w,S,C,k),E!==null?(l=E[0],E.payload!==void 0&&(d=E.payload)):l=null):(this.updateLastIndex(X,S),l=this.match(X,t,S)),l&&l.length>h.length){h=l,f=d,ee=z;break}}}break}}if(h!==null){if(p=h.length,g=ee.group,g!==void 0&&(m=ee.tokenTypeIdx,y=this.createTokenInstance(h,S,m,ee.tokenType,O,L,p),this.handlePayload(y,f),g===!1?A=this.addToken(C,A,y):k[g].push(y)),t=this.chopInput(t,p),S=S+p,L=this.computeNewColumn(L,p),M===!0&&ee.canLineTerminator===!0){let Y=0,K,Z;$.lastIndex=0;do K=$.test(h),K===!0&&(Z=$.lastIndex-1,Y++);while(K===!0);Y!==0&&(O=O+Y,L=p-Z,this.updateTokenEndLineColumnLocation(y,g,Z,Y,O,L,p))}this.handleModes(ee,V,G,y)}else{const Y=S,K=O,Z=L;let z=ce===!1;for(;z===!1&&S<x;)for(t=this.chopInput(t,1),S++,a=0;a<_;a++){const X=F[a],te=X.pattern,ne=X.short;if(ne!==!1?w.charCodeAt(S)===ne&&(z=!0):X.isCustom===!0?z=te.exec(w,S,C,k)!==null:(this.updateLastIndex(te,S),z=te.exec(t)!==null),z===!0)break}if(b=S-Y,L=this.computeNewColumn(L,b),T=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,Y,b,K,Z),N.push({offset:Y,line:K,column:Z,length:b,message:T}),ce===!1)break}}return this.hasCustom||(C.length=A),{tokens:C,groups:k,errors:N}}handleModes(t,n,r,a){if(t.pop===!0){const o=t.push;n(a),o!==void 0&&r.call(this,o)}else t.push!==void 0&&r.call(this,t.push)}chopInput(t,n){return t.substring(n)}updateLastIndex(t,n){t.lastIndex=n}updateTokenEndLineColumnLocation(t,n,r,a,o,l,u){let h,f;n!==void 0&&(h=r===u-1,f=h?-1:0,a===1&&h===!0||(t.endLine=o+f,t.endColumn=l-1+-f))}computeNewColumn(t,n){return t+n}createOffsetOnlyToken(t,n,r,a){return{image:t,startOffset:n,tokenTypeIdx:r,tokenType:a}}createStartOnlyToken(t,n,r,a,o,l){return{image:t,startOffset:n,startLine:o,startColumn:l,tokenTypeIdx:r,tokenType:a}}createFullToken(t,n,r,a,o,l,u){return{image:t,startOffset:n,endOffset:n+u-1,startLine:o,endLine:o,startColumn:l,endColumn:l+u-1,tokenTypeIdx:r,tokenType:a}}addTokenUsingPush(t,n,r){return t.push(r),n}addTokenUsingMemberAccess(t,n,r){return t[n]=r,n++,n}handlePayloadNoCustom(t,n){}handlePayloadWithCustom(t,n){n!==null&&(t.payload=n)}matchWithTest(t,n,r){return t.test(n)===!0?n.substring(r,t.lastIndex):null}matchWithExec(t,n){const r=t.exec(n);return r!==null?r[0]:null}}so.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";so.NA=/NOT_APPLICABLE/;function E1(e){return vde(e)?e.LABEL:e.name}function vde(e){return co(e.LABEL)&&e.LABEL!==""}const Rmt="parent",fV="categories",dV="label",pV="group",gV="push_mode",mV="pop_mode",vV="longer_alt",yV="line_breaks",bV="start_chars_hint";function yde(e){return kmt(e)}function kmt(e){const t=e.pattern,n={};if(n.name=e.name,Jn(t)||(n.PATTERN=t),Xt(e,Rmt))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Xt(e,fV)&&(n.CATEGORIES=e[fV]),kE([n]),Xt(e,dV)&&(n.LABEL=e[dV]),Xt(e,pV)&&(n.GROUP=e[pV]),Xt(e,mV)&&(n.POP_MODE=e[mV]),Xt(e,gV)&&(n.PUSH_MODE=e[gV]),Xt(e,vV)&&(n.LONGER_ALT=e[vV]),Xt(e,yV)&&(n.LINE_BREAKS=e[yV]),Xt(e,bV)&&(n.START_CHARS_HINT=e[bV]),n}const sf=yde({name:"EOF",pattern:so.NA});kE([sf]);function DM(e,t,n,r,a,o,l,u){return{image:t,startOffset:n,endOffset:r,startLine:a,endLine:o,startColumn:l,endColumn:u,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function bde(e,t){return RE(e,t)}const Vg={buildMismatchTokenMessage({expected:e,actual:t,previous:n,ruleName:r}){return`Expecting ${vde(e)?`--> ${E1(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:a}){const o="Expecting: ",u=`
but found: '`+bc(t).image+"'";if(r)return o+r+u;{const h=Di(e,(g,m)=>g.concat(m),[]),f=mt(h,g=>`[${mt(g,m=>E1(m)).join(", ")}]`),p=`one of these possible Token sequences:
${mt(f,(g,m)=>`  ${m+1}. ${g}`).join(`
`)}`;return o+p+u}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const a="Expecting: ",l=`
but found: '`+bc(t).image+"'";if(n)return a+n+l;{const h=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${mt(e,f=>`[${mt(f,d=>E1(d)).join(",")}]`).join(" ,")}>`;return a+h+l}}};Object.freeze(Vg);const Omt={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},Ld={buildDuplicateFoundError(e,t){function n(d){return d instanceof Lr?d.terminalType.name:d instanceof Ls?d.nonTerminalName:""}const r=e.name,a=bc(t),o=a.idx,l=Vc(a),u=n(a),h=o>0;let f=`->${l}${h?o:""}<- ${u?`with argument: ->${u}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return f=f.replace(/[ \t]+/g," "),f=f.replace(/\s\s+/g,`
`),f},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){const t=mt(e.prefixPath,a=>E1(a)).join(", "),n=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){const t=mt(e.prefixPath,a=>E1(a)).join(", "),n=e.alternation.idx===0?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(e){let t=Vc(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){const t=e.topLevelRule.name,n=mt(e.leftRecursionPath,o=>o.name),r=`${t} --> ${n.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof $v?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Nmt(e,t){const n=new Lmt(e,t);return n.resolveRefs(),n.errors}class Lmt extends Wv{constructor(t,n){super(),this.nameToTopRule=t,this.errMsgProvider=n,this.errors=[]}resolveRefs(){Ge(sr(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const n=this.nameToTopRule[t.nonTerminalName];if(n)t.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:r,type:_s.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}class _mt extends U6{constructor(t,n){super(),this.topProd=t,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Ki(this.path.ruleStack).reverse(),this.occurrenceStack=Ki(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,n=[]){this.found||super.walk(t,n)}walkProdRef(t,n,r){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const a=n.concat(r);this.updateExpectedNext(),this.walk(t.referencedRule,a)}}updateExpectedNext(){qn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Dmt extends _mt{constructor(t,n){super(t,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,n,r){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const a=n.concat(r),o=new uo({definition:a});this.possibleTokTypes=CE(o),this.found=!0}}}class z6 extends U6{constructor(t,n){super(),this.topRule=t,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Mmt extends z6{walkMany(t,n,r){if(t.idx===this.occurrence){const a=bc(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof Lr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkMany(t,n,r)}}class TV extends z6{walkManySep(t,n,r){if(t.idx===this.occurrence){const a=bc(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof Lr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkManySep(t,n,r)}}class Pmt extends z6{walkAtLeastOne(t,n,r){if(t.idx===this.occurrence){const a=bc(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof Lr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOne(t,n,r)}}class EV extends z6{walkAtLeastOneSep(t,n,r){if(t.idx===this.occurrence){const a=bc(n.concat(r));this.result.isEndOfRule=a===void 0,a instanceof Lr&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOneSep(t,n,r)}}function W8(e,t,n=[]){n=Ki(n);let r=[],a=0;function o(u){return u.concat(ba(e,a+1))}function l(u){const h=W8(o(u),t,n);return r.concat(h)}for(;n.length<t&&a<e.length;){const u=e[a];if(u instanceof uo)return l(u.definition);if(u instanceof Ls)return l(u.definition);if(u instanceof Ca)r=l(u.definition);else if(u instanceof Vo){const h=u.definition.concat([new ri({definition:u.definition})]);return l(h)}else if(u instanceof qo){const h=[new uo({definition:u.definition}),new ri({definition:[new Lr({terminalType:u.separator})].concat(u.definition)})];return l(h)}else if(u instanceof vo){const h=u.definition.concat([new ri({definition:[new Lr({terminalType:u.separator})].concat(u.definition)})]);r=l(h)}else if(u instanceof ri){const h=u.definition.concat([new ri({definition:u.definition})]);r=l(h)}else{if(u instanceof yo)return Ge(u.definition,h=>{qn(h.definition)===!1&&(r=l(h.definition))}),r;if(u instanceof Lr)n.push(u.terminalType);else throw Error("non exhaustive match")}a++}return r.push({partialPath:n,suffixDef:ba(e,a)}),r}function Tde(e,t,n,r){const a="EXIT_NONE_TERMINAL",o=[a],l="EXIT_ALTERNATIVE";let u=!1;const h=t.length,f=h-r-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!qn(p);){const g=p.pop();if(g===l){u&&gu(p).idx<=f&&p.pop();continue}const m=g.def,y=g.idx,b=g.ruleStack,T=g.occurrenceStack;if(qn(m))continue;const E=m[0];if(E===a){const w={idx:y,def:ba(m),ruleStack:Qb(b),occurrenceStack:Qb(T)};p.push(w)}else if(E instanceof Lr)if(y<h-1){const w=y+1,x=t[w];if(n(x,E.terminalType)){const S={idx:w,def:ba(m),ruleStack:b,occurrenceStack:T};p.push(S)}}else if(y===h-1)d.push({nextTokenType:E.terminalType,nextTokenOccurrence:E.idx,ruleStack:b,occurrenceStack:T}),u=!0;else throw Error("non exhaustive match");else if(E instanceof Ls){const w=Ki(b);w.push(E.nonTerminalName);const x=Ki(T);x.push(E.idx);const S={idx:y,def:E.definition.concat(o,ba(m)),ruleStack:w,occurrenceStack:x};p.push(S)}else if(E instanceof Ca){const w={idx:y,def:ba(m),ruleStack:b,occurrenceStack:T};p.push(w),p.push(l);const x={idx:y,def:E.definition.concat(ba(m)),ruleStack:b,occurrenceStack:T};p.push(x)}else if(E instanceof Vo){const w=new ri({definition:E.definition,idx:E.idx}),x=E.definition.concat([w],ba(m)),S={idx:y,def:x,ruleStack:b,occurrenceStack:T};p.push(S)}else if(E instanceof qo){const w=new Lr({terminalType:E.separator}),x=new ri({definition:[w].concat(E.definition),idx:E.idx}),S=E.definition.concat([x],ba(m)),A={idx:y,def:S,ruleStack:b,occurrenceStack:T};p.push(A)}else if(E instanceof vo){const w={idx:y,def:ba(m),ruleStack:b,occurrenceStack:T};p.push(w),p.push(l);const x=new Lr({terminalType:E.separator}),S=new ri({definition:[x].concat(E.definition),idx:E.idx}),A=E.definition.concat([S],ba(m)),R={idx:y,def:A,ruleStack:b,occurrenceStack:T};p.push(R)}else if(E instanceof ri){const w={idx:y,def:ba(m),ruleStack:b,occurrenceStack:T};p.push(w),p.push(l);const x=new ri({definition:E.definition,idx:E.idx}),S=E.definition.concat([x],ba(m)),A={idx:y,def:S,ruleStack:b,occurrenceStack:T};p.push(A)}else if(E instanceof yo)for(let w=E.definition.length-1;w>=0;w--){const x=E.definition[w],S={idx:y,def:x.definition.concat(ba(m)),ruleStack:b,occurrenceStack:T};p.push(S),p.push(l)}else if(E instanceof uo)p.push({idx:y,def:E.definition.concat(ba(m)),ruleStack:b,occurrenceStack:T});else if(E instanceof $v)p.push(Fmt(E,y,b,T));else throw Error("non exhaustive match")}return d}function Fmt(e,t,n,r){const a=Ki(n);a.push(e.name);const o=Ki(r);return o.push(1),{idx:t,def:e.definition,ruleStack:a,occurrenceStack:o}}var zr;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(zr||(zr={}));function MM(e){if(e instanceof Ca||e==="Option")return zr.OPTION;if(e instanceof ri||e==="Repetition")return zr.REPETITION;if(e instanceof Vo||e==="RepetitionMandatory")return zr.REPETITION_MANDATORY;if(e instanceof qo||e==="RepetitionMandatoryWithSeparator")return zr.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof vo||e==="RepetitionWithSeparator")return zr.REPETITION_WITH_SEPARATOR;if(e instanceof yo||e==="Alternation")return zr.ALTERNATION;throw Error("non exhaustive match")}function wV(e){const{occurrence:t,rule:n,prodType:r,maxLookahead:a}=e,o=MM(r);return o===zr.ALTERNATION?Y6(t,n,a):V6(t,n,o,a)}function Bmt(e,t,n,r,a,o){const l=Y6(e,t,n),u=xde(l)?$S:RE;return o(l,r,u,a)}function Hmt(e,t,n,r,a,o){const l=V6(e,t,a,n),u=xde(l)?$S:RE;return o(l[0],u,r)}function $mt(e,t,n,r){const a=e.length,o=uc(e,l=>uc(l,u=>u.length===1));if(t)return function(l){const u=mt(l,h=>h.GATE);for(let h=0;h<a;h++){const f=e[h],d=f.length,p=u[h];if(!(p!==void 0&&p.call(this)===!1))e:for(let g=0;g<d;g++){const m=f[g],y=m.length;for(let b=0;b<y;b++){const T=this.LA(b+1);if(n(T,m[b])===!1)continue e}return h}}};if(o&&!r){const l=mt(e,h=>la(h)),u=Di(l,(h,f,d)=>(Ge(f,p=>{Xt(h,p.tokenTypeIdx)||(h[p.tokenTypeIdx]=d),Ge(p.categoryMatches,g=>{Xt(h,g)||(h[g]=d)})}),h),{});return function(){const h=this.LA(1);return u[h.tokenTypeIdx]}}else return function(){for(let l=0;l<a;l++){const u=e[l],h=u.length;e:for(let f=0;f<h;f++){const d=u[f],p=d.length;for(let g=0;g<p;g++){const m=this.LA(g+1);if(n(m,d[g])===!1)continue e}return l}}}}function Wmt(e,t,n){const r=uc(e,o=>o.length===1),a=e.length;if(r&&!n){const o=la(e);if(o.length===1&&qn(o[0].categoryMatches)){const u=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===u}}else{const l=Di(o,(u,h,f)=>(u[h.tokenTypeIdx]=!0,Ge(h.categoryMatches,d=>{u[d]=!0}),u),[]);return function(){const u=this.LA(1);return l[u.tokenTypeIdx]===!0}}}else return function(){e:for(let o=0;o<a;o++){const l=e[o],u=l.length;for(let h=0;h<u;h++){const f=this.LA(h+1);if(t(f,l[h])===!1)continue e}return!0}return!1}}class Umt extends U6{constructor(t,n,r){super(),this.topProd=t,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,n,r,a){return t.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(a),!0):!1}walkOption(t,n,r){this.checkIsTarget(t,zr.OPTION,n,r)||super.walkOption(t,n,r)}walkAtLeastOne(t,n,r){this.checkIsTarget(t,zr.REPETITION_MANDATORY,n,r)||super.walkOption(t,n,r)}walkAtLeastOneSep(t,n,r){this.checkIsTarget(t,zr.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(t,n,r)}walkMany(t,n,r){this.checkIsTarget(t,zr.REPETITION,n,r)||super.walkOption(t,n,r)}walkManySep(t,n,r){this.checkIsTarget(t,zr.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(t,n,r)}}class Ede extends Wv{constructor(t,n,r){super(),this.targetOccurrence=t,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(t,n){t.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,zr.OPTION)}visitRepetition(t){this.checkIsTarget(t,zr.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,zr.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,zr.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,zr.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,zr.ALTERNATION)}}function xV(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function vk(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n],a=[];for(let o=0;o<t.length;o++){const l=t[o];a.push(l+"_"+r.tokenTypeIdx);for(let u=0;u<r.categoryMatches.length;u++){const h="_"+r.categoryMatches[u];a.push(l+h)}}t=a}return t}function Gmt(e,t,n){for(let r=0;r<e.length;r++){if(r===n)continue;const a=e[r];for(let o=0;o<t.length;o++){const l=t[o];if(a[l]===!0)return!1}}return!0}function wde(e,t){const n=mt(e,l=>W8([l],1)),r=xV(n.length),a=mt(n,l=>{const u={};return Ge(l,h=>{const f=vk(h.partialPath);Ge(f,d=>{u[d]=!0})}),u});let o=n;for(let l=1;l<=t;l++){const u=o;o=xV(u.length);for(let h=0;h<u.length;h++){const f=u[h];for(let d=0;d<f.length;d++){const p=f[d].partialPath,g=f[d].suffixDef,m=vk(p);if(Gmt(a,m,h)||qn(g)||p.length===t){const b=r[h];if(U8(b,p)===!1){b.push(p);for(let T=0;T<m.length;T++){const E=m[T];a[h][E]=!0}}}else{const b=W8(g,l+1,p);o[h]=o[h].concat(b),Ge(b,T=>{const E=vk(T.partialPath);Ge(E,w=>{a[h][w]=!0})})}}}}return r}function Y6(e,t,n,r){const a=new Ede(e,zr.ALTERNATION,r);return t.accept(a),wde(a.result,n)}function V6(e,t,n,r){const a=new Ede(e,n);t.accept(a);const o=a.result,u=new Umt(t,e,n).startWalking(),h=new uo({definition:o}),f=new uo({definition:u});return wde([h,f],r)}function U8(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length===t.length){for(let a=0;a<r.length;a++){const o=t[a],l=r[a];if((o===l||l.categoryMatchesMap[o.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function zmt(e,t){return e.length<t.length&&uc(e,(n,r)=>{const a=t[r];return n===a||a.categoryMatchesMap[n.tokenTypeIdx]})}function xde(e){return uc(e,t=>uc(t,n=>uc(n,r=>qn(r.categoryMatches))))}function Ymt(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return mt(t,n=>Object.assign({type:_s.CUSTOM_LOOKAHEAD_VALIDATION},n))}function Vmt(e,t,n,r){const a=Bo(e,h=>qmt(h,n)),o=avt(e,t,n),l=Bo(e,h=>tvt(h,n)),u=Bo(e,h=>Kmt(h,e,r,n));return a.concat(o,l,u)}function qmt(e,t){const n=new Xmt;e.accept(n);const r=n.allProductions,a=Iht(r,jmt),o=Ac(a,u=>u.length>1);return mt(sr(o),u=>{const h=bc(u),f=t.buildDuplicateFoundError(e,u),d=Vc(h),p={message:f,type:_s.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:d,occurrence:h.idx},g=Sde(h);return g&&(p.parameter=g),p})}function jmt(e){return`${Vc(e)}_#_${e.idx}_#_${Sde(e)}`}function Sde(e){return e instanceof Lr?e.terminalType.name:e instanceof Ls?e.nonTerminalName:""}class Xmt extends Wv{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Kmt(e,t,n,r){const a=[];if(Di(t,(l,u)=>u.name===e.name?l+1:l,0)>1){const l=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});a.push({message:l,type:_s.DUPLICATE_RULE_NAME,ruleName:e.name})}return a}function Zmt(e,t,n){const r=[];let a;return Ps(t,e)||(a=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:a,type:_s.INVALID_RULE_OVERRIDE,ruleName:e})),r}function Ade(e,t,n,r=[]){const a=[],o=Nx(t.definition);if(qn(o))return[];{const l=e.name;Ps(o,e)&&a.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:_s.LEFT_RECURSION,ruleName:l});const h=I6(o,r.concat([e])),f=Bo(h,d=>{const p=Ki(r);return p.push(d),Ade(e,d,n,p)});return a.concat(f)}}function Nx(e){let t=[];if(qn(e))return t;const n=bc(e);if(n instanceof Ls)t.push(n.referencedRule);else if(n instanceof uo||n instanceof Ca||n instanceof Vo||n instanceof qo||n instanceof vo||n instanceof ri)t=t.concat(Nx(n.definition));else if(n instanceof yo)t=la(mt(n.definition,o=>Nx(o.definition)));else if(!(n instanceof Lr))throw Error("non exhaustive match");const r=BS(n),a=e.length>1;if(r&&a){const o=ba(e);return t.concat(Nx(o))}else return t}class PM extends Wv{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function Qmt(e,t){const n=new PM;e.accept(n);const r=n.alternations;return Bo(r,o=>{const l=Qb(o.definition);return Bo(l,(u,h)=>{const f=Tde([u],[],RE,1);return qn(f)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:o,emptyChoiceIdx:h}),type:_s.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:o.idx,alternative:h+1}]:[]})})}function Jmt(e,t,n){const r=new PM;e.accept(r);let a=r.alternations;return a=R6(a,l=>l.ignoreAmbiguities===!0),Bo(a,l=>{const u=l.idx,h=l.maxLookahead||t,f=Y6(u,e,h,l),d=rvt(f,l,e,n),p=ivt(f,l,e,n);return d.concat(p)})}class evt extends Wv{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function tvt(e,t){const n=new PM;e.accept(n);const r=n.alternations;return Bo(r,o=>o.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:o}),type:_s.TOO_MANY_ALTS,ruleName:e.name,occurrence:o.idx}]:[])}function nvt(e,t,n){const r=[];return Ge(e,a=>{const o=new evt;a.accept(o);const l=o.allProductions;Ge(l,u=>{const h=MM(u),f=u.maxLookahead||t,d=u.idx,g=V6(d,a,h,f)[0];if(qn(la(g))){const m=n.buildEmptyRepetitionError({topLevelRule:a,repetition:u});r.push({message:m,type:_s.NO_NON_EMPTY_LOOKAHEAD,ruleName:a.name})}})}),r}function rvt(e,t,n,r){const a=[],o=Di(e,(u,h,f)=>(t.definition[f].ignoreAmbiguities===!0||Ge(h,d=>{const p=[f];Ge(e,(g,m)=>{f!==m&&U8(g,d)&&t.definition[m].ignoreAmbiguities!==!0&&p.push(m)}),p.length>1&&!U8(a,d)&&(a.push(d),u.push({alts:p,path:d}))}),u),[]);return mt(o,u=>{const h=mt(u.alts,d=>d+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:h,prefixPath:u.path}),type:_s.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:u.alts}})}function ivt(e,t,n,r){const a=Di(e,(l,u,h)=>{const f=mt(u,d=>({idx:h,path:d}));return l.concat(f)},[]);return xE(Bo(a,l=>{if(t.definition[l.idx].ignoreAmbiguities===!0)return[];const h=l.idx,f=l.path,d=ai(a,g=>t.definition[g.idx].ignoreAmbiguities!==!0&&g.idx<h&&zmt(g.path,f));return mt(d,g=>{const m=[g.idx+1,h+1],y=t.idx===0?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:m,prefixPath:g.path}),type:_s.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:y,alternatives:m}})}))}function avt(e,t,n){const r=[],a=mt(t,o=>o.name);return Ge(e,o=>{const l=o.name;if(Ps(a,l)){const u=n.buildNamespaceConflictError(o);r.push({message:u,type:_s.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:l})}}),r}function svt(e){const t=A6(e,{errMsgProvider:Omt}),n={};return Ge(e.rules,r=>{n[r.name]=r}),Nmt(n,t.errMsgProvider)}function ovt(e){return e=A6(e,{errMsgProvider:Ld}),Vmt(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}const Ide="MismatchedTokenException",Cde="NoViableAltException",Rde="EarlyExitException",kde="NotAllInputParsedException",Ode=[Ide,Cde,Rde,kde];Object.freeze(Ode);function WS(e){return Ps(Ode,e.name)}class q6 extends Error{constructor(t,n){super(t),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Nde extends q6{constructor(t,n,r){super(t,n),this.previousToken=r,this.name=Ide}}class lvt extends q6{constructor(t,n,r){super(t,n),this.previousToken=r,this.name=Cde}}class cvt extends q6{constructor(t,n){super(t,n),this.name=kde}}class uvt extends q6{constructor(t,n,r){super(t,n),this.previousToken=r,this.name=Rde}}const yk={},Lde="InRuleRecoveryException";class hvt extends Error{constructor(t){super(t),this.name=Lde}}class fvt{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Xt(t,"recoveryEnabled")?t.recoveryEnabled:_h.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=dvt)}getTokenToInsert(t){const n=DM(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,n,r,a){const o=this.findReSyncTokenType(),l=this.exportLexerState(),u=[];let h=!1;const f=this.LA(1);let d=this.LA(1);const p=()=>{const g=this.LA(0),m=this.errorMessageProvider.buildMismatchTokenMessage({expected:a,actual:f,previous:g,ruleName:this.getCurrRuleFullName()}),y=new Nde(m,f,this.LA(0));y.resyncedTokens=Qb(u),this.SAVE_ERROR(y)};for(;!h;)if(this.tokenMatcher(d,a)){p();return}else if(r.call(this)){p(),t.apply(this,n);return}else this.tokenMatcher(d,o)?h=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,u));this.importLexerState(l)}shouldInRepetitionRecoveryBeTried(t,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,n)))}getFollowsForInRuleRecovery(t,n){const r=this.getCurrentGrammarPath(t,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(t,n){if(this.canRecoverWithSingleTokenInsertion(t,n))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new hvt("sad sad panda")}canPerformInRuleRecovery(t,n){return this.canRecoverWithSingleTokenInsertion(t,n)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,n){if(!this.canTokenTypeBeInsertedInRecovery(t)||qn(n))return!1;const r=this.LA(1);return Oh(n,o=>this.tokenMatcher(r,o))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return Ps(r,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const a=Oh(t,o=>bde(n,o));if(a!==void 0)return a;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return yk;const t=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return mt(t,(r,a)=>a===0?yk:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[a],inRule:this.shortRuleNameToFullName(t[a-1])})}flattenFollowSet(){const t=mt(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return la(t)}getFollowSetFromFollowKey(t){if(t===yk)return[sf];const n=t.ruleName+t.idxInCallingRule+lde+t.inRule;return this.resyncFollows[n]}addToResyncTokens(t,n){return this.tokenMatcher(t,sf)||n.push(t),n}reSyncTo(t){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,t)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return Qb(n)}attemptInRepetitionRecovery(t,n,r,a,o,l,u){}getCurrentGrammarPath(t,n){const r=this.getHumanReadableRuleStack(),a=Ki(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:a,lastTok:t,lastTokOccurrence:n}}getHumanReadableRuleStack(){return mt(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function dvt(e,t,n,r,a,o,l){const u=this.getKeyForAutomaticLookahead(r,a);let h=this.firstAfterRepMap[u];if(h===void 0){const g=this.getCurrRuleFullName(),m=this.getGAstProductions()[g];h=new o(m,a).startWalking(),this.firstAfterRepMap[u]=h}let f=h.token,d=h.occurrence;const p=h.isEndOfRule;this.RULE_STACK.length===1&&p&&f===void 0&&(f=sf,d=1),!(f===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(f,d,l)&&this.tryInRepetitionRecovery(e,t,n,f)}const pvt=4,Of=8,_de=1<<Of,Dde=2<<Of,G8=3<<Of,z8=4<<Of,Y8=5<<Of,Lx=6<<Of;function bk(e,t,n){return n|t|e}class FM{constructor(t){var n;this.maxLookahead=(n=t==null?void 0:t.maxLookahead)!==null&&n!==void 0?n:_h.maxLookahead}validate(t){const n=this.validateNoLeftRecursion(t.rules);if(qn(n)){const r=this.validateEmptyOrAlternatives(t.rules),a=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...n,...r,...a,...o]}return n}validateNoLeftRecursion(t){return Bo(t,n=>Ade(n,n,Ld))}validateEmptyOrAlternatives(t){return Bo(t,n=>Qmt(n,Ld))}validateAmbiguousAlternationAlternatives(t,n){return Bo(t,r=>Jmt(r,n,Ld))}validateSomeNonEmptyLookaheadPath(t,n){return nvt(t,n,Ld)}buildLookaheadForAlternation(t){return Bmt(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,$mt)}buildLookaheadForOptional(t){return Hmt(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,MM(t.prodType),Wmt)}}class gvt{initLooksAhead(t){this.dynamicTokensEnabled=Xt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:_h.dynamicTokensEnabled,this.maxLookahead=Xt(t,"maxLookahead")?t.maxLookahead:_h.maxLookahead,this.lookaheadStrategy=Xt(t,"lookaheadStrategy")?t.lookaheadStrategy:new FM({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){Ge(t,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:a,option:o,repetitionMandatory:l,repetitionMandatoryWithSeparator:u,repetitionWithSeparator:h}=vvt(n);Ge(r,f=>{const d=f.idx===0?"":f.idx;this.TRACE_INIT(`${Vc(f)}${d}`,()=>{const p=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:f.idx,rule:n,maxLookahead:f.maxLookahead||this.maxLookahead,hasPredicates:f.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),g=bk(this.fullRuleNameToShort[n.name],_de,f.idx);this.setLaFuncCache(g,p)})}),Ge(a,f=>{this.computeLookaheadFunc(n,f.idx,G8,"Repetition",f.maxLookahead,Vc(f))}),Ge(o,f=>{this.computeLookaheadFunc(n,f.idx,Dde,"Option",f.maxLookahead,Vc(f))}),Ge(l,f=>{this.computeLookaheadFunc(n,f.idx,z8,"RepetitionMandatory",f.maxLookahead,Vc(f))}),Ge(u,f=>{this.computeLookaheadFunc(n,f.idx,Lx,"RepetitionMandatoryWithSeparator",f.maxLookahead,Vc(f))}),Ge(h,f=>{this.computeLookaheadFunc(n,f.idx,Y8,"RepetitionWithSeparator",f.maxLookahead,Vc(f))})})})}computeLookaheadFunc(t,n,r,a,o,l){this.TRACE_INIT(`${l}${n===0?"":n}`,()=>{const u=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:t,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:a}),h=bk(this.fullRuleNameToShort[t.name],r,n);this.setLaFuncCache(h,u)})}getKeyForAutomaticLookahead(t,n){const r=this.getLastExplicitRuleShortName();return bk(r,t,n)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,n){this.lookAheadFuncsCache.set(t,n)}}class mvt extends Wv{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const y3=new mvt;function vvt(e){y3.reset(),e.accept(y3);const t=y3.dslMethods;return y3.reset(),t}function SV(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function AV(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function yvt(e,t,n){e.children[n]===void 0?e.children[n]=[t]:e.children[n].push(t)}function bvt(e,t,n){e.children[t]===void 0?e.children[t]=[n]:e.children[t].push(n)}const Tvt="name";function Mde(e,t){Object.defineProperty(e,Tvt,{enumerable:!1,configurable:!0,writable:!1,value:t})}function Evt(e,t){const n=Gi(e),r=n.length;for(let a=0;a<r;a++){const o=n[a],l=e[o],u=l.length;for(let h=0;h<u;h++){const f=l[h];f.tokenTypeIdx===void 0&&this[f.name](f.children,t)}}}function wvt(e,t){const n=function(){};Mde(n,e+"BaseSemantics");const r={visit:function(a,o){if(An(a)&&(a=a[0]),!Jn(a))return this[a.name](a.children,o)},validateVisitor:function(){const a=Svt(this,t);if(!qn(a)){const o=mt(a,l=>l.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${o.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=t,n}function xvt(e,t,n){const r=function(){};Mde(r,e+"BaseSemanticsWithDefaults");const a=Object.create(n.prototype);return Ge(t,o=>{a[o]=Evt}),r.prototype=a,r.prototype.constructor=r,r}var V8;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(V8||(V8={}));function Svt(e,t){return Avt(e,t)}function Avt(e,t){const n=ai(t,a=>Sl(e[a])===!1),r=mt(n,a=>({msg:`Missing visitor method: <${a}> on ${e.constructor.name} CST Visitor.`,type:V8.MISSING_METHOD,methodName:a}));return xE(r)}class Ivt{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Xt(t,"nodeLocationTracking")?t.nodeLocationTracking:_h.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Pi,this.cstFinallyStateUpdate=Pi,this.cstPostTerminal=Pi,this.cstPostNonTerminal=Pi,this.cstPostRule=Pi;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=AV,this.setNodeLocationFromNode=AV,this.cstPostRule=Pi,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Pi,this.setNodeLocationFromNode=Pi,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=SV,this.setNodeLocationFromNode=SV,this.cstPostRule=Pi,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Pi,this.setNodeLocationFromNode=Pi,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Pi,this.setNodeLocationFromNode=Pi,this.cstPostRule=Pi,this.setInitialNodeLocation=Pi;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const n=this.LA(1);t.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const n={name:t,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const n=this.LA(0),r=t.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(t){const n=this.LA(0),r=t.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(t,n){const r=this.CST_STACK[this.CST_STACK.length-1];yvt(r,n,t),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(t,n){const r=this.CST_STACK[this.CST_STACK.length-1];bvt(r,n,t),this.setNodeLocationFromNode(r.location,t.location)}getBaseCstVisitorConstructor(){if(Jn(this.baseCstVisitorConstructor)){const t=wvt(this.className,Gi(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Jn(this.baseCstVisitorWithDefaultsConstructor)){const t=xvt(this.className,Gi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class Cvt{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):GS}LA(t){const n=this.currIdx+t;return n<0||this.tokVectorLength<=n?GS:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Rvt{ACTION(t){return t.call(this)}consume(t,n,r){return this.consumeInternal(n,t,r)}subrule(t,n,r){return this.subruleInternal(n,t,r)}option(t,n){return this.optionInternal(n,t)}or(t,n){return this.orInternal(n,t)}many(t,n){return this.manyInternal(t,n)}atLeastOne(t,n){return this.atLeastOneInternal(t,n)}CONSUME(t,n){return this.consumeInternal(t,0,n)}CONSUME1(t,n){return this.consumeInternal(t,1,n)}CONSUME2(t,n){return this.consumeInternal(t,2,n)}CONSUME3(t,n){return this.consumeInternal(t,3,n)}CONSUME4(t,n){return this.consumeInternal(t,4,n)}CONSUME5(t,n){return this.consumeInternal(t,5,n)}CONSUME6(t,n){return this.consumeInternal(t,6,n)}CONSUME7(t,n){return this.consumeInternal(t,7,n)}CONSUME8(t,n){return this.consumeInternal(t,8,n)}CONSUME9(t,n){return this.consumeInternal(t,9,n)}SUBRULE(t,n){return this.subruleInternal(t,0,n)}SUBRULE1(t,n){return this.subruleInternal(t,1,n)}SUBRULE2(t,n){return this.subruleInternal(t,2,n)}SUBRULE3(t,n){return this.subruleInternal(t,3,n)}SUBRULE4(t,n){return this.subruleInternal(t,4,n)}SUBRULE5(t,n){return this.subruleInternal(t,5,n)}SUBRULE6(t,n){return this.subruleInternal(t,6,n)}SUBRULE7(t,n){return this.subruleInternal(t,7,n)}SUBRULE8(t,n){return this.subruleInternal(t,8,n)}SUBRULE9(t,n){return this.subruleInternal(t,9,n)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,n,r=zS){if(Ps(this.definedRulesNames,t)){const l={message:Ld.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:_s.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(l)}this.definedRulesNames.push(t);const a=this.defineRule(t,n,r);return this[t]=a,a}OVERRIDE_RULE(t,n,r=zS){const a=Zmt(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(a);const o=this.defineRule(t,n,r);return this[t]=o,o}BACKTRACK(t,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return t.apply(this,n),!0}catch(a){if(WS(a))return!1;throw a}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return P1t(sr(this.gastProductionsCache))}}class kvt{initRecognizerEngine(t,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=$S,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Xt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(An(t)){if(qn(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(An(t))this.tokensMap=Di(t,(o,l)=>(o[l.name]=l,o),{});else if(Xt(t,"modes")&&uc(la(sr(t.modes)),Imt)){const o=la(sr(t.modes)),l=oM(o);this.tokensMap=Di(l,(u,h)=>(u[h.name]=h,u),{})}else if(lo(t))this.tokensMap=Ki(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=sf;const r=Xt(t,"modes")?la(sr(t.modes)):sr(t),a=uc(r,o=>qn(o.categoryMatches));this.tokenMatcher=a?$S:RE,kE(sr(this.tokensMap))}defineRule(t,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const a=Xt(r,"resyncEnabled")?r.resyncEnabled:zS.resyncEnabled,o=Xt(r,"recoveryValueFunc")?r.recoveryValueFunc:zS.recoveryValueFunc,l=this.ruleShortNameIdx<<pvt+Of;this.ruleShortNameIdx++,this.shortRuleNameToFull[l]=t,this.fullRuleNameToShort[t]=l;let u;return this.outputCst===!0?u=function(...d){try{this.ruleInvocationStateUpdate(l,t,this.subruleIdx),n.apply(this,d);const p=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(p),p}catch(p){return this.invokeRuleCatch(p,a,o)}finally{this.ruleFinallyStateUpdate()}}:u=function(...d){try{return this.ruleInvocationStateUpdate(l,t,this.subruleIdx),n.apply(this,d)}catch(p){return this.invokeRuleCatch(p,a,o)}finally{this.ruleFinallyStateUpdate()}},Object.assign(u,{ruleName:t,originalGrammarAction:n})}invokeRuleCatch(t,n,r){const a=this.RULE_STACK.length===1,o=n&&!this.isBackTracking()&&this.recoveryEnabled;if(WS(t)){const l=t;if(o){const u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))if(l.resyncedTokens=this.reSyncTo(u),this.outputCst){const h=this.CST_STACK[this.CST_STACK.length-1];return h.recoveredNode=!0,h}else return r(t);else{if(this.outputCst){const h=this.CST_STACK[this.CST_STACK.length-1];h.recoveredNode=!0,l.partialCstResult=h}throw l}}else{if(a)return this.moveToTerminatedState(),r(t);throw l}}else throw t}optionInternal(t,n){const r=this.getKeyForAutomaticLookahead(Dde,n);return this.optionInternalLogic(t,n,r)}optionInternalLogic(t,n,r){let a=this.getLaFuncFromCache(r),o;if(typeof t!="function"){o=t.DEF;const l=t.GATE;if(l!==void 0){const u=a;a=()=>l.call(this)&&u.call(this)}}else o=t;if(a.call(this)===!0)return o.call(this)}atLeastOneInternal(t,n){const r=this.getKeyForAutomaticLookahead(z8,t);return this.atLeastOneInternalLogic(t,n,r)}atLeastOneInternalLogic(t,n,r){let a=this.getLaFuncFromCache(r),o;if(typeof n!="function"){o=n.DEF;const l=n.GATE;if(l!==void 0){const u=a;a=()=>l.call(this)&&u.call(this)}}else o=n;if(a.call(this)===!0){let l=this.doSingleRepetition(o);for(;a.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o)}else throw this.raiseEarlyExitException(t,zr.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,n],a,z8,t,Pmt)}atLeastOneSepFirstInternal(t,n){const r=this.getKeyForAutomaticLookahead(Lx,t);this.atLeastOneSepFirstInternalLogic(t,n,r)}atLeastOneSepFirstInternalLogic(t,n,r){const a=n.DEF,o=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){a.call(this);const u=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,u,a,EV],u,Lx,t,EV)}else throw this.raiseEarlyExitException(t,zr.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(t,n){const r=this.getKeyForAutomaticLookahead(G8,t);return this.manyInternalLogic(t,n,r)}manyInternalLogic(t,n,r){let a=this.getLaFuncFromCache(r),o;if(typeof n!="function"){o=n.DEF;const u=n.GATE;if(u!==void 0){const h=a;a=()=>u.call(this)&&h.call(this)}}else o=n;let l=!0;for(;a.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[t,n],a,G8,t,Mmt,l)}manySepFirstInternal(t,n){const r=this.getKeyForAutomaticLookahead(Y8,t);this.manySepFirstInternalLogic(t,n,r)}manySepFirstInternalLogic(t,n,r){const a=n.DEF,o=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){a.call(this);const u=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,u,a,TV],u,Y8,t,TV)}}repetitionSepSecondInternal(t,n,r,a,o){for(;r();)this.CONSUME(n),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,r,a,o],r,Lx,t,o)}doSingleRepetition(t){const n=this.getLexerPosition();return t.call(this),this.getLexerPosition()>n}orInternal(t,n){const r=this.getKeyForAutomaticLookahead(_de,n),a=An(t)?t:t.DEF,l=this.getLaFuncFromCache(r).call(this,a);if(l!==void 0)return a[l].ALT.call(this);this.raiseNoAltException(n,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new cvt(n,t))}}subruleInternal(t,n,r){let a;try{const o=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,a=t.apply(this,o),this.cstPostNonTerminal(a,r!==void 0&&r.LABEL!==void 0?r.LABEL:t.ruleName),a}catch(o){throw this.subruleInternalError(o,r,t.ruleName)}}subruleInternalError(t,n,r){throw WS(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete t.partialCstResult),t}consumeInternal(t,n,r){let a;try{const o=this.LA(1);this.tokenMatcher(o,t)===!0?(this.consumeToken(),a=o):this.consumeInternalError(t,o,r)}catch(o){a=this.consumeInternalRecovery(t,n,o)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:t.name,a),a}consumeInternalError(t,n,r){let a;const o=this.LA(0);throw r!==void 0&&r.ERR_MSG?a=r.ERR_MSG:a=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:n,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Nde(a,n,o))}consumeInternalRecovery(t,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const a=this.getFollowsForInRuleRecovery(t,n);try{return this.tryInRuleRecovery(t,a)}catch(o){throw o.name===Lde?r:o}}else throw r}saveRecogState(){const t=this.errors,n=Ki(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),sf)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Ovt{initErrorHandler(t){this._errors=[],this.errorMessageProvider=Xt(t,"errorMessageProvider")?t.errorMessageProvider:_h.errorMessageProvider}SAVE_ERROR(t){if(WS(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Ki(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Ki(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,n,r){const a=this.getCurrRuleFullName(),o=this.getGAstProductions()[a],u=V6(t,o,n,this.maxLookahead)[0],h=[];for(let d=1;d<=this.maxLookahead;d++)h.push(this.LA(d));const f=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:u,actual:h,previous:this.LA(0),customUserDescription:r,ruleName:a});throw this.SAVE_ERROR(new uvt(f,this.LA(1),this.LA(0)))}raiseNoAltException(t,n){const r=this.getCurrRuleFullName(),a=this.getGAstProductions()[r],o=Y6(t,a,this.maxLookahead),l=[];for(let f=1;f<=this.maxLookahead;f++)l.push(this.LA(f));const u=this.LA(0),h=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:l,previous:u,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new lvt(h,this.LA(1),u))}}class Nvt{initContentAssist(){}computeContentAssist(t,n){const r=this.gastProductionsCache[t];if(Jn(r))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Tde([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const n=bc(t.ruleStack),a=this.getGAstProductions()[n];return new Dmt(a,t).startWalking()}}const j6={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(j6);const IV=!0,CV=Math.pow(2,Of)-1,Pde=yde({name:"RECORDING_PHASE_TOKEN",pattern:so.NA});kE([Pde]);const Fde=DM(Pde,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Fde);const Lvt={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class _vt{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const n=t>0?t:"";this[`CONSUME${n}`]=function(r,a){return this.consumeInternalRecord(r,t,a)},this[`SUBRULE${n}`]=function(r,a){return this.subruleInternalRecord(r,t,a)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,t)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,t)},this[`MANY${n}`]=function(r){this.manyInternalRecord(t,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(t,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(t,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(t,r)}}this.consume=function(t,n,r){return this.consumeInternalRecord(n,t,r)},this.subrule=function(t,n,r){return this.subruleInternalRecord(n,t,r)},this.option=function(t,n){return this.optionInternalRecord(n,t)},this.or=function(t,n){return this.orInternalRecord(n,t)},this.many=function(t,n){this.manyInternalRecord(t,n)},this.atLeastOne=function(t,n){this.atLeastOneInternalRecord(t,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete t[`CONSUME${r}`],delete t[`SUBRULE${r}`],delete t[`OPTION${r}`],delete t[`OR${r}`],delete t[`MANY${r}`],delete t[`MANY_SEP${r}`],delete t[`AT_LEAST_ONE${r}`],delete t[`AT_LEAST_ONE_SEP${r}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,n){return()=>!0}LA_RECORD(t){return GS}topLevelRuleRecord(t,n){try{const r=new $v({definition:[],name:t});return r.name=t,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(t,n){return zy.call(this,Ca,t,n)}atLeastOneInternalRecord(t,n){zy.call(this,Vo,n,t)}atLeastOneSepFirstInternalRecord(t,n){zy.call(this,qo,n,t,IV)}manyInternalRecord(t,n){zy.call(this,ri,n,t)}manySepFirstInternalRecord(t,n){zy.call(this,vo,n,t,IV)}orInternalRecord(t,n){return Dvt.call(this,t,n)}subruleInternalRecord(t,n,r){if(US(n),!t||Xt(t,"ruleName")===!1){const u=new Error(`<SUBRULE${RV(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw u.KNOWN_RECORDER_ERROR=!0,u}const a=gu(this.recordingProdStack),o=t.ruleName,l=new Ls({idx:n,nonTerminalName:o,label:r==null?void 0:r.LABEL,referencedRule:void 0});return a.definition.push(l),this.outputCst?Lvt:j6}consumeInternalRecord(t,n,r){if(US(n),!mde(t)){const l=new Error(`<CONSUME${RV(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw l.KNOWN_RECORDER_ERROR=!0,l}const a=gu(this.recordingProdStack),o=new Lr({idx:n,terminalType:t,label:r==null?void 0:r.LABEL});return a.definition.push(o),Fde}}function zy(e,t,n,r=!1){US(n);const a=gu(this.recordingProdStack),o=Sl(t)?t:t.DEF,l=new e({definition:[],idx:n});return r&&(l.separator=t.SEP),Xt(t,"MAX_LOOKAHEAD")&&(l.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(l),o.call(this),a.definition.push(l),this.recordingProdStack.pop(),j6}function Dvt(e,t){US(t);const n=gu(this.recordingProdStack),r=An(e)===!1,a=r===!1?e:e.DEF,o=new yo({definition:[],idx:t,ignoreAmbiguities:r&&e.IGNORE_AMBIGUITIES===!0});Xt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);const l=w0e(a,u=>Sl(u.GATE));return o.hasPredicates=l,n.definition.push(o),Ge(a,u=>{const h=new uo({definition:[]});o.definition.push(h),Xt(u,"IGNORE_AMBIGUITIES")?h.ignoreAmbiguities=u.IGNORE_AMBIGUITIES:Xt(u,"GATE")&&(h.ignoreAmbiguities=!0),this.recordingProdStack.push(h),u.ALT.call(this),this.recordingProdStack.pop()}),j6}function RV(e){return e===0?"":`${e}`}function US(e){if(e<0||e>CV){const t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${CV+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class Mvt{initPerformanceTracer(t){if(Xt(t,"traceInitPerf")){const n=t.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=_h.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${t}>`);const{time:a,value:o}=sde(n),l=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&l(`${r}<-- <${t}> time: ${a}ms`),this.traceInitIndent--,o}else return n()}}function Pvt(e,t){t.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(a=>{if(a==="constructor")return;const o=Object.getOwnPropertyDescriptor(r,a);o&&(o.get||o.set)?Object.defineProperty(e.prototype,a,o):e.prototype[a]=n.prototype[a]})})}const GS=DM(sf,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(GS);const _h=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Vg,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),zS=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var _s;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(_s||(_s={}));function kV(e=void 0){return function(){return e}}class OE{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{ode(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ge(this.definedRulesNames,a=>{const l=this[a].originalGrammarAction;let u;this.TRACE_INIT(`${a} Rule`,()=>{u=this.topLevelRuleRecord(a,l)}),this.gastProductionsCache[a]=u})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=svt({rules:sr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(qn(r)&&this.skipValidations===!1){const a=ovt({rules:sr(this.gastProductionsCache),tokenTypes:sr(this.tokensMap),errMsgProvider:Ld,grammarName:n}),o=Ymt({lookaheadStrategy:this.lookaheadStrategy,rules:sr(this.gastProductionsCache),tokenTypes:sr(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(a,o)}}),qn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const a=G1t(sr(this.gastProductionsCache));this.resyncFollows=a}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var a,o;(o=(a=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(a,{rules:sr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(sr(this.gastProductionsCache))})),!OE.DEFER_DEFINITION_ERRORS_HANDLING&&!qn(this.definitionErrors))throw t=mt(this.definitionErrors,a=>a.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(t,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Xt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Xt(n,"skipValidations")?n.skipValidations:_h.skipValidations}}OE.DEFER_DEFINITION_ERRORS_HANDLING=!1;Pvt(OE,[fvt,gvt,Ivt,Cvt,kvt,Rvt,Ovt,Nvt,_vt,Mvt]);class Fvt extends OE{constructor(t,n=_h){const r=Ki(n);r.outputCst=!1,super(t,r)}}function qm(e,t,n){return`${e.name}_${t}_${n}`}const of=1,Bvt=2,Bde=4,Hde=5,NE=7,Hvt=8,$vt=9,Wvt=10,Uvt=11,$de=12;class BM{constructor(t){this.target=t}isEpsilon(){return!1}}class HM extends BM{constructor(t,n){super(t),this.tokenType=n}}class Wde extends BM{constructor(t){super(t)}isEpsilon(){return!0}}class $M extends BM{constructor(t,n,r){super(t),this.rule=n,this.followState=r}isEpsilon(){return!0}}function Gvt(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};zvt(t,e);const n=e.length;for(let r=0;r<n;r++){const a=e[r],o=Yp(t,a,a);o!==void 0&&tyt(t,a,o)}return t}function zvt(e,t){const n=t.length;for(let r=0;r<n;r++){const a=t[r],o=ca(e,a,void 0,{type:Bvt}),l=ca(e,a,void 0,{type:NE});o.stop=l,e.ruleToStartState.set(a,o),e.ruleToStopState.set(a,l)}}function Ude(e,t,n){return n instanceof Lr?WM(e,t,n.terminalType,n):n instanceof Ls?eyt(e,t,n):n instanceof yo?Xvt(e,t,n):n instanceof Ca?Kvt(e,t,n):n instanceof ri?Yvt(e,t,n):n instanceof vo?Vvt(e,t,n):n instanceof Vo?qvt(e,t,n):n instanceof qo?jvt(e,t,n):Yp(e,t,n)}function Yvt(e,t,n){const r=ca(e,t,n,{type:Hde});Nf(e,r);const a=Uv(e,t,r,n,Yp(e,t,n));return zde(e,t,n,a)}function Vvt(e,t,n){const r=ca(e,t,n,{type:Hde});Nf(e,r);const a=Uv(e,t,r,n,Yp(e,t,n)),o=WM(e,t,n.separator,n);return zde(e,t,n,a,o)}function qvt(e,t,n){const r=ca(e,t,n,{type:Bde});Nf(e,r);const a=Uv(e,t,r,n,Yp(e,t,n));return Gde(e,t,n,a)}function jvt(e,t,n){const r=ca(e,t,n,{type:Bde});Nf(e,r);const a=Uv(e,t,r,n,Yp(e,t,n)),o=WM(e,t,n.separator,n);return Gde(e,t,n,a,o)}function Xvt(e,t,n){const r=ca(e,t,n,{type:of});Nf(e,r);const a=mt(n.definition,l=>Ude(e,t,l));return Uv(e,t,r,n,...a)}function Kvt(e,t,n){const r=ca(e,t,n,{type:of});Nf(e,r);const a=Uv(e,t,r,n,Yp(e,t,n));return Zvt(e,t,n,a)}function Yp(e,t,n){const r=ai(mt(n.definition,a=>Ude(e,t,a)),a=>a!==void 0);return r.length===1?r[0]:r.length===0?void 0:Jvt(e,r)}function Gde(e,t,n,r,a){const o=r.left,l=r.right,u=ca(e,t,n,{type:Uvt});Nf(e,u);const h=ca(e,t,n,{type:$de});return o.loopback=u,h.loopback=u,e.decisionMap[qm(t,a?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=u,Ci(l,u),a===void 0?(Ci(u,o),Ci(u,h)):(Ci(u,h),Ci(u,a.left),Ci(a.right,o)),{left:o,right:h}}function zde(e,t,n,r,a){const o=r.left,l=r.right,u=ca(e,t,n,{type:Wvt});Nf(e,u);const h=ca(e,t,n,{type:$de}),f=ca(e,t,n,{type:$vt});return u.loopback=f,h.loopback=f,Ci(u,o),Ci(u,h),Ci(l,f),a!==void 0?(Ci(f,h),Ci(f,a.left),Ci(a.right,o)):Ci(f,u),e.decisionMap[qm(t,a?"RepetitionWithSeparator":"Repetition",n.idx)]=u,{left:u,right:h}}function Zvt(e,t,n,r){const a=r.left,o=r.right;return Ci(a,o),e.decisionMap[qm(t,"Option",n.idx)]=a,r}function Nf(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Uv(e,t,n,r,...a){const o=ca(e,t,r,{type:Hvt,start:n});n.end=o;for(const u of a)u!==void 0?(Ci(n,u.left),Ci(u.right,o)):Ci(n,o);const l={left:n,right:o};return e.decisionMap[qm(t,Qvt(r),r.idx)]=n,l}function Qvt(e){if(e instanceof yo)return"Alternation";if(e instanceof Ca)return"Option";if(e instanceof ri)return"Repetition";if(e instanceof vo)return"RepetitionWithSeparator";if(e instanceof Vo)return"RepetitionMandatory";if(e instanceof qo)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function Jvt(e,t){const n=t.length;for(let o=0;o<n-1;o++){const l=t[o];let u;l.left.transitions.length===1&&(u=l.left.transitions[0]);const h=u instanceof $M,f=u,d=t[o+1].left;l.left.type===of&&l.right.type===of&&u!==void 0&&(h&&f.followState===l.right||u.target===l.right)?(h?f.followState=d:u.target=d,nyt(e,l.right)):Ci(l.right,d)}const r=t[0],a=t[n-1];return{left:r.left,right:a.right}}function WM(e,t,n,r){const a=ca(e,t,r,{type:of}),o=ca(e,t,r,{type:of});return UM(a,new HM(o,n)),{left:a,right:o}}function eyt(e,t,n){const r=n.referencedRule,a=e.ruleToStartState.get(r),o=ca(e,t,n,{type:of}),l=ca(e,t,n,{type:of}),u=new $M(a,r,l);return UM(o,u),{left:o,right:l}}function tyt(e,t,n){const r=e.ruleToStartState.get(t);Ci(r,n.left);const a=e.ruleToStopState.get(t);return Ci(n.right,a),{left:r,right:a}}function Ci(e,t){const n=new Wde(t);UM(e,n)}function ca(e,t,n,r){const a=Object.assign({atn:e,production:n,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},r);return e.states.push(a),a}function UM(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function nyt(e,t){e.states.splice(e.states.indexOf(t),1)}const YS={};class q8{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){const n=Yde(t);n in this.map||(this.map[n]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return mt(this.configs,t=>t.alt)}get key(){let t="";for(const n in this.map)t+=n+":";return t}}function Yde(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(n=>n.stateNumber.toString()).join("_")}`}function ryt(e,t){const n={};return r=>{const a=r.toString();let o=n[a];return o!==void 0||(o={atnStartState:e,decision:t,states:{}},n[a]=o),o}}class Vde{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,n){this.predicates[t]=n}toString(){let t="";const n=this.predicates.length;for(let r=0;r<n;r++)t+=this.predicates[r]===!0?"1":"0";return t}}const OV=new Vde;class iyt extends FM{constructor(t){var n;super(),this.logging=(n=t==null?void 0:t.logging)!==null&&n!==void 0?n:r=>console.log(r)}initialize(t){this.atn=Gvt(t.rules),this.dfas=ayt(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){const{prodOccurrence:n,rule:r,hasPredicates:a,dynamicTokensEnabled:o}=t,l=this.dfas,u=this.logging,h=qm(r,"Alternation",n),d=this.atn.decisionMap[h].decision,p=mt(wV({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),g=>mt(g,m=>m[0]));if(NV(p,!1)&&!o){const g=Di(p,(m,y,b)=>(Ge(y,T=>{T&&(m[T.tokenTypeIdx]=b,Ge(T.categoryMatches,E=>{m[E]=b}))}),m),{});return a?function(m){var y;const b=this.LA(1),T=g[b.tokenTypeIdx];if(m!==void 0&&T!==void 0){const E=(y=m[T])===null||y===void 0?void 0:y.GATE;if(E!==void 0&&E.call(this)===!1)return}return T}:function(){const m=this.LA(1);return g[m.tokenTypeIdx]}}else return a?function(g){const m=new Vde,y=g===void 0?0:g.length;for(let T=0;T<y;T++){const E=g==null?void 0:g[T].GATE;m.set(T,E===void 0||E.call(this))}const b=Tk.call(this,l,d,m,u);return typeof b=="number"?b:void 0}:function(){const g=Tk.call(this,l,d,OV,u);return typeof g=="number"?g:void 0}}buildLookaheadForOptional(t){const{prodOccurrence:n,rule:r,prodType:a,dynamicTokensEnabled:o}=t,l=this.dfas,u=this.logging,h=qm(r,a,n),d=this.atn.decisionMap[h].decision,p=mt(wV({maxLookahead:1,occurrence:n,prodType:a,rule:r}),g=>mt(g,m=>m[0]));if(NV(p)&&p[0][0]&&!o){const g=p[0],m=la(g);if(m.length===1&&qn(m[0].categoryMatches)){const b=m[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===b}}else{const y=Di(m,(b,T)=>(T!==void 0&&(b[T.tokenTypeIdx]=!0,Ge(T.categoryMatches,E=>{b[E]=!0})),b),{});return function(){const b=this.LA(1);return y[b.tokenTypeIdx]===!0}}}return function(){const g=Tk.call(this,l,d,OV,u);return typeof g=="object"?!1:g===0}}}function NV(e,t=!0){const n=new Set;for(const r of e){const a=new Set;for(const o of r){if(o===void 0){if(t)break;return!1}const l=[o.tokenTypeIdx].concat(o.categoryMatches);for(const u of l)if(n.has(u)){if(!a.has(u))return!1}else n.add(u),a.add(u)}}return!0}function ayt(e){const t=e.decisionStates.length,n=Array(t);for(let r=0;r<t;r++)n[r]=ryt(e.decisionStates[r],r);return n}function Tk(e,t,n,r){const a=e[t](n);let o=a.start;if(o===void 0){const u=myt(a.atnStartState);o=jde(a,qde(u)),a.start=o}return syt.apply(this,[a,o,n,r])}function syt(e,t,n,r){let a=t,o=1;const l=[];let u=this.LA(o++);for(;;){let h=fyt(a,u);if(h===void 0&&(h=oyt.apply(this,[e,a,u,o,n,r])),h===YS)return hyt(l,a,u);if(h.isAcceptState===!0)return h.prediction;a=h,l.push(u),u=this.LA(o++)}}function oyt(e,t,n,r,a,o){const l=dyt(t.configs,n,a);if(l.size===0)return LV(e,t,n,YS),YS;let u=qde(l);const h=gyt(l,a);if(h!==void 0)u.isAcceptState=!0,u.prediction=h,u.configs.uniqueAlt=h;else if(Tyt(l)){const f=Gm(l.alts);u.isAcceptState=!0,u.prediction=f,u.configs.uniqueAlt=f,lyt.apply(this,[e,r,l.alts,o])}return u=LV(e,t,n,u),u}function lyt(e,t,n,r){const a=[];for(let f=1;f<=t;f++)a.push(this.LA(f).tokenType);const o=e.atnStartState,l=o.rule,u=o.production,h=cyt({topLevelRule:l,ambiguityIndices:n,production:u,prefixPath:a});r(h)}function cyt(e){const t=mt(e.prefixPath,a=>E1(a)).join(", "),n=e.production.idx===0?"":e.production.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${uyt(e.production)}${n}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r}function uyt(e){if(e instanceof Ls)return"SUBRULE";if(e instanceof Ca)return"OPTION";if(e instanceof yo)return"OR";if(e instanceof Vo)return"AT_LEAST_ONE";if(e instanceof qo)return"AT_LEAST_ONE_SEP";if(e instanceof vo)return"MANY_SEP";if(e instanceof ri)return"MANY";if(e instanceof Lr)return"CONSUME";throw Error("non exhaustive match")}function hyt(e,t,n){const r=Bo(t.configs.elements,o=>o.state.transitions),a=e0t(r.filter(o=>o instanceof HM).map(o=>o.tokenType),o=>o.tokenTypeIdx);return{actualToken:n,possibleTokenTypes:a,tokenPath:e}}function fyt(e,t){return e.edges[t.tokenTypeIdx]}function dyt(e,t,n){const r=new q8,a=[];for(const l of e.elements){if(n.is(l.alt)===!1)continue;if(l.state.type===NE){a.push(l);continue}const u=l.state.transitions.length;for(let h=0;h<u;h++){const f=l.state.transitions[h],d=pyt(f,t);d!==void 0&&r.add({state:d,alt:l.alt,stack:l.stack})}}let o;if(a.length===0&&r.size===1&&(o=r),o===void 0){o=new q8;for(const l of r.elements)VS(l,o)}if(a.length>0&&!yyt(o))for(const l of a)o.add(l);return o}function pyt(e,t){if(e instanceof HM&&bde(t,e.tokenType))return e.target}function gyt(e,t){let n;for(const r of e.elements)if(t.is(r.alt)===!0){if(n===void 0)n=r.alt;else if(n!==r.alt)return}return n}function qde(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function LV(e,t,n,r){return r=jde(e,r),t.edges[n.tokenTypeIdx]=r,r}function jde(e,t){if(t===YS)return t;const n=t.configs.key,r=e.states[n];return r!==void 0?r:(t.configs.finalize(),e.states[n]=t,t)}function myt(e){const t=new q8,n=e.transitions.length;for(let r=0;r<n;r++){const o={state:e.transitions[r].target,alt:r,stack:[]};VS(o,t)}return t}function VS(e,t){const n=e.state;if(n.type===NE){if(e.stack.length>0){const a=[...e.stack],l={state:a.pop(),alt:e.alt,stack:a};VS(l,t)}else t.add(e);return}n.epsilonOnlyTransitions||t.add(e);const r=n.transitions.length;for(let a=0;a<r;a++){const o=n.transitions[a],l=vyt(e,o);l!==void 0&&VS(l,t)}}function vyt(e,t){if(t instanceof Wde)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof $M){const n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}}function yyt(e){for(const t of e.elements)if(t.state.type===NE)return!0;return!1}function byt(e){for(const t of e.elements)if(t.state.type!==NE)return!1;return!0}function Tyt(e){if(byt(e))return!0;const t=Eyt(e.elements);return wyt(t)&&!xyt(t)}function Eyt(e){const t=new Map;for(const n of e){const r=Yde(n,!1);let a=t.get(r);a===void 0&&(a={},t.set(r,a)),a[n.alt]=!0}return t}function wyt(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function xyt(e){for(const t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var _V;(function(e){function t(n){return typeof n=="string"}e.is=t})(_V||(_V={}));var j8;(function(e){function t(n){return typeof n=="string"}e.is=t})(j8||(j8={}));var DV;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(DV||(DV={}));var qS;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(qS||(qS={}));var Kn;(function(e){function t(r,a){return r===Number.MAX_VALUE&&(r=qS.MAX_VALUE),a===Number.MAX_VALUE&&(a=qS.MAX_VALUE),{line:r,character:a}}e.create=t;function n(r){let a=r;return Ye.objectLiteral(a)&&Ye.uinteger(a.line)&&Ye.uinteger(a.character)}e.is=n})(Kn||(Kn={}));var Ln;(function(e){function t(r,a,o,l){if(Ye.uinteger(r)&&Ye.uinteger(a)&&Ye.uinteger(o)&&Ye.uinteger(l))return{start:Kn.create(r,a),end:Kn.create(o,l)};if(Kn.is(r)&&Kn.is(a))return{start:r,end:a};throw new Error(`Range#create called with invalid arguments[${r}, ${a}, ${o}, ${l}]`)}e.create=t;function n(r){let a=r;return Ye.objectLiteral(a)&&Kn.is(a.start)&&Kn.is(a.end)}e.is=n})(Ln||(Ln={}));var jS;(function(e){function t(r,a){return{uri:r,range:a}}e.create=t;function n(r){let a=r;return Ye.objectLiteral(a)&&Ln.is(a.range)&&(Ye.string(a.uri)||Ye.undefined(a.uri))}e.is=n})(jS||(jS={}));var MV;(function(e){function t(r,a,o,l){return{targetUri:r,targetRange:a,targetSelectionRange:o,originSelectionRange:l}}e.create=t;function n(r){let a=r;return Ye.objectLiteral(a)&&Ln.is(a.targetRange)&&Ye.string(a.targetUri)&&Ln.is(a.targetSelectionRange)&&(Ln.is(a.originSelectionRange)||Ye.undefined(a.originSelectionRange))}e.is=n})(MV||(MV={}));var X8;(function(e){function t(r,a,o,l){return{red:r,green:a,blue:o,alpha:l}}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&Ye.numberRange(a.red,0,1)&&Ye.numberRange(a.green,0,1)&&Ye.numberRange(a.blue,0,1)&&Ye.numberRange(a.alpha,0,1)}e.is=n})(X8||(X8={}));var PV;(function(e){function t(r,a){return{range:r,color:a}}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&Ln.is(a.range)&&X8.is(a.color)}e.is=n})(PV||(PV={}));var FV;(function(e){function t(r,a,o){return{label:r,textEdit:a,additionalTextEdits:o}}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&Ye.string(a.label)&&(Ye.undefined(a.textEdit)||Xm.is(a))&&(Ye.undefined(a.additionalTextEdits)||Ye.typedArray(a.additionalTextEdits,Xm.is))}e.is=n})(FV||(FV={}));var BV;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(BV||(BV={}));var HV;(function(e){function t(r,a,o,l,u,h){const f={startLine:r,endLine:a};return Ye.defined(o)&&(f.startCharacter=o),Ye.defined(l)&&(f.endCharacter=l),Ye.defined(u)&&(f.kind=u),Ye.defined(h)&&(f.collapsedText=h),f}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&Ye.uinteger(a.startLine)&&Ye.uinteger(a.startLine)&&(Ye.undefined(a.startCharacter)||Ye.uinteger(a.startCharacter))&&(Ye.undefined(a.endCharacter)||Ye.uinteger(a.endCharacter))&&(Ye.undefined(a.kind)||Ye.string(a.kind))}e.is=n})(HV||(HV={}));var K8;(function(e){function t(r,a){return{location:r,message:a}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&jS.is(a.location)&&Ye.string(a.message)}e.is=n})(K8||(K8={}));var $V;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})($V||($V={}));var WV;(function(e){e.Unnecessary=1,e.Deprecated=2})(WV||(WV={}));var UV;(function(e){function t(n){const r=n;return Ye.objectLiteral(r)&&Ye.string(r.href)}e.is=t})(UV||(UV={}));var XS;(function(e){function t(r,a,o,l,u,h){let f={range:r,message:a};return Ye.defined(o)&&(f.severity=o),Ye.defined(l)&&(f.code=l),Ye.defined(u)&&(f.source=u),Ye.defined(h)&&(f.relatedInformation=h),f}e.create=t;function n(r){var a;let o=r;return Ye.defined(o)&&Ln.is(o.range)&&Ye.string(o.message)&&(Ye.number(o.severity)||Ye.undefined(o.severity))&&(Ye.integer(o.code)||Ye.string(o.code)||Ye.undefined(o.code))&&(Ye.undefined(o.codeDescription)||Ye.string((a=o.codeDescription)===null||a===void 0?void 0:a.href))&&(Ye.string(o.source)||Ye.undefined(o.source))&&(Ye.undefined(o.relatedInformation)||Ye.typedArray(o.relatedInformation,K8.is))}e.is=n})(XS||(XS={}));var jm;(function(e){function t(r,a,...o){let l={title:r,command:a};return Ye.defined(o)&&o.length>0&&(l.arguments=o),l}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.string(a.title)&&Ye.string(a.command)}e.is=n})(jm||(jm={}));var Xm;(function(e){function t(o,l){return{range:o,newText:l}}e.replace=t;function n(o,l){return{range:{start:o,end:o},newText:l}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function a(o){const l=o;return Ye.objectLiteral(l)&&Ye.string(l.newText)&&Ln.is(l.range)}e.is=a})(Xm||(Xm={}));var Z8;(function(e){function t(r,a,o){const l={label:r};return a!==void 0&&(l.needsConfirmation=a),o!==void 0&&(l.description=o),l}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&Ye.string(a.label)&&(Ye.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(Ye.string(a.description)||a.description===void 0)}e.is=n})(Z8||(Z8={}));var Km;(function(e){function t(n){const r=n;return Ye.string(r)}e.is=t})(Km||(Km={}));var GV;(function(e){function t(o,l,u){return{range:o,newText:l,annotationId:u}}e.replace=t;function n(o,l,u){return{range:{start:o,end:o},newText:l,annotationId:u}}e.insert=n;function r(o,l){return{range:o,newText:"",annotationId:l}}e.del=r;function a(o){const l=o;return Xm.is(l)&&(Z8.is(l.annotationId)||Km.is(l.annotationId))}e.is=a})(GV||(GV={}));var Q8;(function(e){function t(r,a){return{textDocument:r,edits:a}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&r7.is(a.textDocument)&&Array.isArray(a.edits)}e.is=n})(Q8||(Q8={}));var J8;(function(e){function t(r,a,o){let l={kind:"create",uri:r};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),o!==void 0&&(l.annotationId=o),l}e.create=t;function n(r){let a=r;return a&&a.kind==="create"&&Ye.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||Ye.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||Ye.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||Km.is(a.annotationId))}e.is=n})(J8||(J8={}));var e7;(function(e){function t(r,a,o,l){let u={kind:"rename",oldUri:r,newUri:a};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),l!==void 0&&(u.annotationId=l),u}e.create=t;function n(r){let a=r;return a&&a.kind==="rename"&&Ye.string(a.oldUri)&&Ye.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||Ye.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||Ye.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||Km.is(a.annotationId))}e.is=n})(e7||(e7={}));var t7;(function(e){function t(r,a,o){let l={kind:"delete",uri:r};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(l.options=a),o!==void 0&&(l.annotationId=o),l}e.create=t;function n(r){let a=r;return a&&a.kind==="delete"&&Ye.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||Ye.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||Ye.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||Km.is(a.annotationId))}e.is=n})(t7||(t7={}));var n7;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(a=>Ye.string(a.kind)?J8.is(a)||e7.is(a)||t7.is(a):Q8.is(a)))}e.is=t})(n7||(n7={}));var zV;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.string(a.uri)}e.is=n})(zV||(zV={}));var YV;(function(e){function t(r,a){return{uri:r,version:a}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.string(a.uri)&&Ye.integer(a.version)}e.is=n})(YV||(YV={}));var r7;(function(e){function t(r,a){return{uri:r,version:a}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.string(a.uri)&&(a.version===null||Ye.integer(a.version))}e.is=n})(r7||(r7={}));var VV;(function(e){function t(r,a,o,l){return{uri:r,languageId:a,version:o,text:l}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.string(a.uri)&&Ye.string(a.languageId)&&Ye.integer(a.version)&&Ye.string(a.text)}e.is=n})(VV||(VV={}));var i7;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(i7||(i7={}));var iT;(function(e){function t(n){const r=n;return Ye.objectLiteral(n)&&i7.is(r.kind)&&Ye.string(r.value)}e.is=t})(iT||(iT={}));var qV;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(qV||(qV={}));var jV;(function(e){e.PlainText=1,e.Snippet=2})(jV||(jV={}));var XV;(function(e){e.Deprecated=1})(XV||(XV={}));var KV;(function(e){function t(r,a,o){return{newText:r,insert:a,replace:o}}e.create=t;function n(r){const a=r;return a&&Ye.string(a.newText)&&Ln.is(a.insert)&&Ln.is(a.replace)}e.is=n})(KV||(KV={}));var ZV;(function(e){e.asIs=1,e.adjustIndentation=2})(ZV||(ZV={}));var QV;(function(e){function t(n){const r=n;return r&&(Ye.string(r.detail)||r.detail===void 0)&&(Ye.string(r.description)||r.description===void 0)}e.is=t})(QV||(QV={}));var JV;(function(e){function t(n){return{label:n}}e.create=t})(JV||(JV={}));var eq;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(eq||(eq={}));var KS;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const a=r;return Ye.string(a)||Ye.objectLiteral(a)&&Ye.string(a.language)&&Ye.string(a.value)}e.is=n})(KS||(KS={}));var tq;(function(e){function t(n){let r=n;return!!r&&Ye.objectLiteral(r)&&(iT.is(r.contents)||KS.is(r.contents)||Ye.typedArray(r.contents,KS.is))&&(n.range===void 0||Ln.is(n.range))}e.is=t})(tq||(tq={}));var nq;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(nq||(nq={}));var rq;(function(e){function t(n,r,...a){let o={label:n};return Ye.defined(r)&&(o.documentation=r),Ye.defined(a)?o.parameters=a:o.parameters=[],o}e.create=t})(rq||(rq={}));var iq;(function(e){e.Text=1,e.Read=2,e.Write=3})(iq||(iq={}));var aq;(function(e){function t(n,r){let a={range:n};return Ye.number(r)&&(a.kind=r),a}e.create=t})(aq||(aq={}));var sq;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(sq||(sq={}));var oq;(function(e){e.Deprecated=1})(oq||(oq={}));var lq;(function(e){function t(n,r,a,o,l){let u={name:n,kind:r,location:{uri:o,range:a}};return l&&(u.containerName=l),u}e.create=t})(lq||(lq={}));var cq;(function(e){function t(n,r,a,o){return o!==void 0?{name:n,kind:r,location:{uri:a,range:o}}:{name:n,kind:r,location:{uri:a}}}e.create=t})(cq||(cq={}));var uq;(function(e){function t(r,a,o,l,u,h){let f={name:r,detail:a,kind:o,range:l,selectionRange:u};return h!==void 0&&(f.children=h),f}e.create=t;function n(r){let a=r;return a&&Ye.string(a.name)&&Ye.number(a.kind)&&Ln.is(a.range)&&Ln.is(a.selectionRange)&&(a.detail===void 0||Ye.string(a.detail))&&(a.deprecated===void 0||Ye.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}e.is=n})(uq||(uq={}));var hq;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(hq||(hq={}));var ZS;(function(e){e.Invoked=1,e.Automatic=2})(ZS||(ZS={}));var fq;(function(e){function t(r,a,o){let l={diagnostics:r};return a!=null&&(l.only=a),o!=null&&(l.triggerKind=o),l}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.typedArray(a.diagnostics,XS.is)&&(a.only===void 0||Ye.typedArray(a.only,Ye.string))&&(a.triggerKind===void 0||a.triggerKind===ZS.Invoked||a.triggerKind===ZS.Automatic)}e.is=n})(fq||(fq={}));var dq;(function(e){function t(r,a,o){let l={title:r},u=!0;return typeof a=="string"?(u=!1,l.kind=a):jm.is(a)?l.command=a:l.edit=a,u&&o!==void 0&&(l.kind=o),l}e.create=t;function n(r){let a=r;return a&&Ye.string(a.title)&&(a.diagnostics===void 0||Ye.typedArray(a.diagnostics,XS.is))&&(a.kind===void 0||Ye.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||jm.is(a.command))&&(a.isPreferred===void 0||Ye.boolean(a.isPreferred))&&(a.edit===void 0||n7.is(a.edit))}e.is=n})(dq||(dq={}));var pq;(function(e){function t(r,a){let o={range:r};return Ye.defined(a)&&(o.data=a),o}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ln.is(a.range)&&(Ye.undefined(a.command)||jm.is(a.command))}e.is=n})(pq||(pq={}));var gq;(function(e){function t(r,a){return{tabSize:r,insertSpaces:a}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ye.uinteger(a.tabSize)&&Ye.boolean(a.insertSpaces)}e.is=n})(gq||(gq={}));var mq;(function(e){function t(r,a,o){return{range:r,target:a,data:o}}e.create=t;function n(r){let a=r;return Ye.defined(a)&&Ln.is(a.range)&&(Ye.undefined(a.target)||Ye.string(a.target))}e.is=n})(mq||(mq={}));var vq;(function(e){function t(r,a){return{range:r,parent:a}}e.create=t;function n(r){let a=r;return Ye.objectLiteral(a)&&Ln.is(a.range)&&(a.parent===void 0||e.is(a.parent))}e.is=n})(vq||(vq={}));var yq;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(yq||(yq={}));var bq;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(bq||(bq={}));var Tq;(function(e){function t(n){const r=n;return Ye.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(Tq||(Tq={}));var Eq;(function(e){function t(r,a){return{range:r,text:a}}e.create=t;function n(r){const a=r;return a!=null&&Ln.is(a.range)&&Ye.string(a.text)}e.is=n})(Eq||(Eq={}));var wq;(function(e){function t(r,a,o){return{range:r,variableName:a,caseSensitiveLookup:o}}e.create=t;function n(r){const a=r;return a!=null&&Ln.is(a.range)&&Ye.boolean(a.caseSensitiveLookup)&&(Ye.string(a.variableName)||a.variableName===void 0)}e.is=n})(wq||(wq={}));var xq;(function(e){function t(r,a){return{range:r,expression:a}}e.create=t;function n(r){const a=r;return a!=null&&Ln.is(a.range)&&(Ye.string(a.expression)||a.expression===void 0)}e.is=n})(xq||(xq={}));var Sq;(function(e){function t(r,a){return{frameId:r,stoppedLocation:a}}e.create=t;function n(r){const a=r;return Ye.defined(a)&&Ln.is(r.stoppedLocation)}e.is=n})(Sq||(Sq={}));var a7;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(a7||(a7={}));var s7;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&(a.tooltip===void 0||Ye.string(a.tooltip)||iT.is(a.tooltip))&&(a.location===void 0||jS.is(a.location))&&(a.command===void 0||jm.is(a.command))}e.is=n})(s7||(s7={}));var Aq;(function(e){function t(r,a,o){const l={position:r,label:a};return o!==void 0&&(l.kind=o),l}e.create=t;function n(r){const a=r;return Ye.objectLiteral(a)&&Kn.is(a.position)&&(Ye.string(a.label)||Ye.typedArray(a.label,s7.is))&&(a.kind===void 0||a7.is(a.kind))&&a.textEdits===void 0||Ye.typedArray(a.textEdits,Xm.is)&&(a.tooltip===void 0||Ye.string(a.tooltip)||iT.is(a.tooltip))&&(a.paddingLeft===void 0||Ye.boolean(a.paddingLeft))&&(a.paddingRight===void 0||Ye.boolean(a.paddingRight))}e.is=n})(Aq||(Aq={}));var Iq;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(Iq||(Iq={}));var Cq;(function(e){function t(n,r,a,o){return{insertText:n,filterText:r,range:a,command:o}}e.create=t})(Cq||(Cq={}));var Rq;(function(e){function t(n){return{items:n}}e.create=t})(Rq||(Rq={}));var kq;(function(e){e.Invoked=0,e.Automatic=1})(kq||(kq={}));var Oq;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(Oq||(Oq={}));var Nq;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(Nq||(Nq={}));var Lq;(function(e){function t(n){const r=n;return Ye.objectLiteral(r)&&j8.is(r.uri)&&Ye.string(r.name)}e.is=t})(Lq||(Lq={}));var _q;(function(e){function t(o,l,u,h){return new Syt(o,l,u,h)}e.create=t;function n(o){let l=o;return!!(Ye.defined(l)&&Ye.string(l.uri)&&(Ye.undefined(l.languageId)||Ye.string(l.languageId))&&Ye.uinteger(l.lineCount)&&Ye.func(l.getText)&&Ye.func(l.positionAt)&&Ye.func(l.offsetAt))}e.is=n;function r(o,l){let u=o.getText(),h=a(l,(d,p)=>{let g=d.range.start.line-p.range.start.line;return g===0?d.range.start.character-p.range.start.character:g}),f=u.length;for(let d=h.length-1;d>=0;d--){let p=h[d],g=o.offsetAt(p.range.start),m=o.offsetAt(p.range.end);if(m<=f)u=u.substring(0,g)+p.newText+u.substring(m,u.length);else throw new Error("Overlapping edit");f=g}return u}e.applyEdits=r;function a(o,l){if(o.length<=1)return o;const u=o.length/2|0,h=o.slice(0,u),f=o.slice(u);a(h,l),a(f,l);let d=0,p=0,g=0;for(;d<h.length&&p<f.length;)l(h[d],f[p])<=0?o[g++]=h[d++]:o[g++]=f[p++];for(;d<h.length;)o[g++]=h[d++];for(;p<f.length;)o[g++]=f[p++];return o}})(_q||(_q={}));let Syt=class{constructor(t,n,r,a){this._uri=t,this._languageId=n,this._version=r,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let a=0;a<n.length;a++){r&&(t.push(a),r=!1);let o=n.charAt(a);r=o==="\r"||o===`
`,o==="\r"&&a+1<n.length&&n.charAt(a+1)===`
`&&a++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,a=n.length;if(a===0)return Kn.create(0,t);for(;r<a;){let l=Math.floor((r+a)/2);n[l]>t?a=l:r=l+1}let o=r-1;return Kn.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],a=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,a),r)}get lineCount(){return this.getLineOffsets().length}};var Ye;(function(e){const t=Object.prototype.toString;function n(m){return typeof m<"u"}e.defined=n;function r(m){return typeof m>"u"}e.undefined=r;function a(m){return m===!0||m===!1}e.boolean=a;function o(m){return t.call(m)==="[object String]"}e.string=o;function l(m){return t.call(m)==="[object Number]"}e.number=l;function u(m,y,b){return t.call(m)==="[object Number]"&&y<=m&&m<=b}e.numberRange=u;function h(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=h;function f(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=f;function d(m){return t.call(m)==="[object Function]"}e.func=d;function p(m){return m!==null&&typeof m=="object"}e.objectLiteral=p;function g(m,y){return Array.isArray(m)&&m.every(y)}e.typedArray=g})(Ye||(Ye={}));class Ayt{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(t){return this.rootNode=new Kde(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){const n=new GM;return n.grammarSource=t,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(t,n){const r=new o7(t.startOffset,t.image.length,P8(t),t.tokenType,!1);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(t){const n=t.container;if(n){const r=n.content.indexOf(t);r>=0&&n.content.splice(r,1)}}construct(t){const n=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=n;const r=this.nodeStack.pop();(r==null?void 0:r.content.length)===0&&this.removeNode(r)}addHiddenTokens(t){for(const n of t){const r=new o7(n.startOffset,n.image.length,P8(n),n.tokenType,!0);r.root=this.rootNode,this.addHiddenToken(this.rootNode,r)}}addHiddenToken(t,n){const{offset:r,end:a}=n;for(let o=0;o<t.content.length;o++){const l=t.content[o],{offset:u,end:h}=l;if(Vm(l)&&r>u&&a<h){this.addHiddenToken(l,n);return}else if(a<=u){t.content.splice(o,0,n);return}}t.content.push(n)}}class Xde{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,n;const r=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(n=this.container)===null||n===void 0?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class o7 extends Xde{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,n,r,a,o=!1){super(),this._hidden=o,this._offset=t,this._tokenType=a,this._length=n,this._range=r}}class GM extends Xde{constructor(){super(...arguments),this.content=new zM(this)}get children(){return this.content}get offset(){var t,n;return(n=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&n!==void 0?n:0}get length(){return this.end-this.offset}get end(){var t,n;return(n=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:0}get range(){const t=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(t&&n){if(this._rangeCache===void 0){const{range:r}=t,{range:a}=n;this._rangeCache={start:r.start,end:a.end.line<r.start.line?r.start:a.end}}return this._rangeCache}else return{start:Kn.create(0,0),end:Kn.create(0,0)}}get firstNonHiddenNode(){for(const t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){const n=this.content[t];if(!n.hidden)return n}return this.content[this.content.length-1]}}class zM extends Array{constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,zM.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,n,...r){return this.addParents(r),super.splice(t,n,...r)}addParents(t){for(const n of t)n.container=this.parent}}class Kde extends GM{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}}const l7=Symbol("Datatype");function Ek(e){return e.$type===l7}const Dq="​",Zde=e=>e.endsWith(Dq)?e:e+Dq;class Qde{constructor(t){this._unorderedGroups=new Map,this.lexer=t.parser.Lexer;const n=this.lexer.definition;this.wrapper=new Oyt(n,Object.assign(Object.assign({},t.parser.ParserConfig),{errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,n){this.wrapper.wrapOr(t,n)}optional(t,n){this.wrapper.wrapOption(t,n)}many(t,n){this.wrapper.wrapMany(t,n)}atLeastOne(t,n){this.wrapper.wrapAtLeastOne(t,n)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class Iyt extends Qde{get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new Ayt,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,n){const r=t.fragment?void 0:OM(t)?l7:W6(t),a=this.wrapper.DEFINE_RULE(Zde(t.name),this.startImplementation(r,n).bind(this));return t.entry&&(this.mainRule=a),a}parse(t){this.nodeBuilder.buildRootNode(t);const n=this.lexer.tokenize(t);this.wrapper.input=n.tokens;const r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(n.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:n.errors,parserErrors:this.wrapper.errors}}startImplementation(t,n){return r=>{if(!this.isRecording()){const o={$type:t};this.stack.push(o),t===l7&&(o.value="")}let a;try{a=n(r)}catch{a=void 0}return!this.isRecording()&&a===void 0&&(a=this.construct()),a}}consume(t,n,r){const a=this.wrapper.wrapConsume(t,n);if(!this.isRecording()&&this.isValidToken(a)){const o=this.nodeBuilder.buildLeafNode(a,r),{assignment:l,isCrossRef:u}=this.getAssignment(r),h=this.current;if(l){const f=hp(r)?a.image:this.converter.convert(a.image,o);this.assign(l.operator,l.feature,f,o,u)}else if(Ek(h)){let f=a.image;hp(r)||(f=this.converter.convert(f,o).toString()),h.value+=f}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,n,r,a){let o;this.isRecording()||(o=this.nodeBuilder.buildCompositeNode(r));const l=this.wrapper.wrapSubrule(t,n,a);!this.isRecording()&&o&&o.length>0&&this.performSubruleAssignment(l,r,o)}performSubruleAssignment(t,n,r){const{assignment:a,isCrossRef:o}=this.getAssignment(n);if(a)this.assign(a.operator,a.feature,t,r,o);else if(!a){const l=this.current;if(Ek(l))l.value+=t.toString();else if(typeof t=="object"&&t){const u=t.$type,h=this.assignWithoutOverride(t,l);u&&(h.$type=u);const f=h;this.stack.pop(),this.stack.push(f)}}}action(t,n){if(!this.isRecording()){let r=this.current;if(!r.$cstNode&&n.feature&&n.operator){r=this.construct(!1);const o=r.$cstNode.feature;this.nodeBuilder.buildCompositeNode(o)}const a={$type:t};this.stack.pop(),this.stack.push(a),n.feature&&n.operator&&this.assign(n.operator,n.feature,r,r.$cstNode,!1)}}construct(t=!0){if(this.isRecording())return;const n=this.current;return a1t(n),this.nodeBuilder.construct(n),t&&this.stack.pop(),Ek(n)?this.converter.convert(n.value,n.$cstNode):(o1t(this.astReflection,n),n)}getAssignment(t){if(!this.assignmentMap.has(t)){const n=B6(t,up);this.assignmentMap.set(t,{assignment:n,isCrossRef:n?IM(n.terminal):!1})}return this.assignmentMap.get(t)}assign(t,n,r,a,o){const l=this.current;let u;switch(o&&typeof r=="string"?u=this.linker.buildReference(l,n,a,r):u=r,t){case"=":{l[n]=u;break}case"?=":{l[n]=!0;break}case"+=":Array.isArray(l[n])||(l[n]=[]),l[n].push(u)}}assignWithoutOverride(t,n){for(const[r,a]of Object.entries(n)){const o=t[r];o===void 0?t[r]=a:Array.isArray(o)&&Array.isArray(a)&&(a.push(...o),t[r]=a)}return t}get definitionErrors(){return this.wrapper.definitionErrors}}class Cyt{buildMismatchTokenMessage(t){return Vg.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return Vg.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return Vg.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return Vg.buildEarlyExitMessage(t)}}class Jde extends Cyt{buildMismatchTokenMessage({expected:t,actual:n}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}}class Ryt extends Qde{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();const n=this.lexer.tokenize(t);return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,n){const r=this.wrapper.DEFINE_RULE(Zde(t.name),this.startImplementation(n).bind(this));return t.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return n=>{const r=this.keepStackSize();try{t(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,n,r){this.wrapper.wrapConsume(t,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(t,n,r,a){this.before(r),this.wrapper.wrapSubrule(t,n,a),this.after(r)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(t);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const kyt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Jde};class Oyt extends Fvt{constructor(t,n){const r=n&&"maxLookahead"in n;super(t,Object.assign(Object.assign(Object.assign({},kyt),{lookaheadStrategy:r?new FM({maxLookahead:n.maxLookahead}):new iyt}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,n){return this.RULE(t,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,n){return this.consume(t,n)}wrapSubrule(t,n,r){return this.subrule(t,n,{ARGS:[r]})}wrapOr(t,n){this.or(t,n)}wrapOption(t,n){this.option(t,n)}wrapMany(t,n){this.many(t,n)}wrapAtLeastOne(t,n){this.atLeastOne(t,n)}}function epe(e,t,n){return Nyt({parser:t,tokens:n,rules:new Map,ruleNames:new Map},e),t}function Nyt(e,t){const n=Qfe(t,!1),r=Aa(t.rules).filter(kl).filter(a=>n.has(a));for(const a of r){const o=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});o.rules.set(a.name,e.parser.rule(a,pp(o,a.definition)))}}function pp(e,t,n=!1){let r;if(hp(t))r=Byt(e,t);else if(F6(t))r=Lyt(e,t);else if(up(t))r=pp(e,t.terminal);else if(IM(t))r=tpe(e,t);else if(fp(t))r=_yt(e,t);else if(Nfe(t))r=Myt(e,t);else if(Yfe(t))r=Pyt(e,t);else if(CM(t))r=Fyt(e,t);else if(Zgt(t)){const a=e.consume++;r=()=>e.parser.consume(a,sf,t)}else throw new pfe(t.$cstNode,`Unexpected element type: ${t.$type}`);return npe(e,n?void 0:QS(t),r,t.cardinality)}function Lyt(e,t){const n=W6(t);return()=>e.parser.action(n,t)}function _yt(e,t){const n=t.rule.ref;if(kl(n)){const r=e.subrule++,a=t.arguments.length>0?Dyt(n,t.arguments):()=>({});return o=>e.parser.subrule(r,rpe(e,n),t,a(o))}else if(zp(n)){const r=e.consume++,a=c7(e,n.name);return()=>e.parser.consume(r,a,t)}else if(n)P6();else throw new pfe(t.$cstNode,`Undefined rule type: ${t.$type}`)}function Dyt(e,t){const n=t.map(r=>th(r.value));return r=>{const a={};for(let o=0;o<n.length;o++){const l=e.parameters[o],u=n[o];a[l.name]=u(r)}return a}}function th(e){if(Bgt(e)){const t=th(e.left),n=th(e.right);return r=>t(r)||n(r)}else if(Fgt(e)){const t=th(e.left),n=th(e.right);return r=>t(r)&&n(r)}else if($gt(e)){const t=th(e.value);return n=>!t(n)}else if(Ggt(e)){const t=e.parameter.ref.name;return n=>n!==void 0&&n[t]===!0}else if(Pgt(e)){const t=!!e.true;return()=>t}P6()}function Myt(e,t){if(t.elements.length===1)return pp(e,t.elements[0]);{const n=[];for(const a of t.elements){const o={ALT:pp(e,a,!0)},l=QS(a);l&&(o.GATE=th(l)),n.push(o)}const r=e.or++;return a=>e.parser.alternatives(r,n.map(o=>{const l={ALT:()=>o.ALT(a)},u=o.GATE;return u&&(l.GATE=()=>u(a)),l}))}}function Pyt(e,t){if(t.elements.length===1)return pp(e,t.elements[0]);const n=[];for(const u of t.elements){const h={ALT:pp(e,u,!0)},f=QS(u);f&&(h.GATE=th(f)),n.push(h)}const r=e.or++,a=(u,h)=>{const f=h.getRuleStack().join("-");return`uGroup_${u}_${f}`},o=u=>e.parser.alternatives(r,n.map((h,f)=>{const d={ALT:()=>!0},p=e.parser;d.ALT=()=>{if(h.ALT(u),!p.isRecording()){const m=a(r,p);p.unorderedGroups.get(m)||p.unorderedGroups.set(m,[]);const y=p.unorderedGroups.get(m);typeof(y==null?void 0:y[f])>"u"&&(y[f]=!0)}};const g=h.GATE;return g?d.GATE=()=>g(u):d.GATE=()=>{const m=p.unorderedGroups.get(a(r,p));return!(m!=null&&m[f])},d})),l=npe(e,QS(t),o,"*");return u=>{l(u),e.parser.isRecording()||e.parser.unorderedGroups.delete(a(r,e.parser))}}function Fyt(e,t){const n=t.elements.map(r=>pp(e,r));return r=>n.forEach(a=>a(r))}function QS(e){if(CM(e))return e.guardCondition}function tpe(e,t,n=t.terminal){if(n)if(fp(n)&&kl(n.rule.ref)){const r=e.subrule++;return a=>e.parser.subrule(r,rpe(e,n.rule.ref),t,a)}else if(fp(n)&&zp(n.rule.ref)){const r=e.consume++,a=c7(e,n.rule.ref.name);return()=>e.parser.consume(r,a,t)}else if(hp(n)){const r=e.consume++,a=c7(e,n.value);return()=>e.parser.consume(r,a,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const r=tde(t.type.ref),a=r==null?void 0:r.terminal;if(!a)throw new Error("Could not find name assignment for type: "+W6(t.type.ref));return tpe(e,t,a)}}function Byt(e,t){const n=e.consume++,r=e.tokens[t.value];if(!r)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(n,r,t)}function npe(e,t,n,r){const a=t&&th(t);if(!r)if(a){const o=e.or++;return l=>e.parser.alternatives(o,[{ALT:()=>n(l),GATE:()=>a(l)},{ALT:kV(),GATE:()=>!a(l)}])}else return n;if(r==="*"){const o=e.many++;return l=>e.parser.many(o,{DEF:()=>n(l),GATE:a?()=>a(l):void 0})}else if(r==="+"){const o=e.many++;if(a){const l=e.or++;return u=>e.parser.alternatives(l,[{ALT:()=>e.parser.atLeastOne(o,{DEF:()=>n(u)}),GATE:()=>a(u)},{ALT:kV(),GATE:()=>!a(u)}])}else return l=>e.parser.atLeastOne(o,{DEF:()=>n(l)})}else if(r==="?"){const o=e.optional++;return l=>e.parser.optional(o,{DEF:()=>n(l),GATE:a?()=>a(l):void 0})}else P6()}function rpe(e,t){const n=Hyt(e,t),r=e.rules.get(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function Hyt(e,t){if(kl(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let n=t,r=n.$container,a=t.$type;for(;!kl(r);)(CM(r)||Nfe(r)||Yfe(r))&&(a=r.elements.indexOf(n).toString()+":"+a),n=r,r=r.$container;return a=r.name+":"+a,e.ruleNames.set(t,a),a}}function c7(e,t){const n=e.tokens[t];if(!n)throw new Error(`Token "${t}" not found."`);return n}function $yt(e){const t=e.Grammar,n=e.parser.Lexer,r=new Ryt(e);return epe(t,r,n.definition),r.finalize(),r}function Wyt(e){const t=Uyt(e);return t.finalize(),t}function Uyt(e){const t=e.Grammar,n=e.parser.Lexer,r=new Iyt(e);return epe(t,r,n.definition)}class ipe{buildTokens(t,n){const r=Aa(Qfe(t,!1)),a=this.buildTerminalTokens(r),o=this.buildKeywordTokens(r,a,n);return a.forEach(l=>{const u=l.PATTERN;typeof u=="object"&&u&&"test"in u&&aV(u)?o.unshift(l):o.push(l)}),o}buildTerminalTokens(t){return t.filter(zp).filter(n=>!n.fragment).map(n=>this.buildTerminalToken(n)).toArray()}buildTerminalToken(t){const n=NM(t),r=this.requiresCustomPattern(n)?this.regexPatternFunction(n):n,a={name:t.name,PATTERN:r,LINE_BREAKS:!0};return t.hidden&&(a.GROUP=aV(n)?so.SKIPPED:"hidden"),a}requiresCustomPattern(t){return t.flags.includes("u")?!0:!!(t.source.includes("?<=")||t.source.includes("?<!"))}regexPatternFunction(t){const n=new RegExp(t,t.flags+"y");return(r,a)=>(n.lastIndex=a,n.exec(r))}buildKeywordTokens(t,n,r){return t.filter(kl).flatMap(a=>IE(a).filter(hp)).distinct(a=>a.value).toArray().sort((a,o)=>o.value.length-a.value.length).map(a=>this.buildKeywordToken(a,n,!!(r!=null&&r.caseInsensitive)))}buildKeywordToken(t,n,r){return{name:t.value,PATTERN:this.buildKeywordPattern(t,r),LONGER_ALT:this.findLongerAlt(t,n)}}buildKeywordPattern(t,n){return n?new RegExp(g1t(t.value)):t.value}findLongerAlt(t,n){return n.reduce((r,a)=>{const o=a==null?void 0:a.PATTERN;return o!=null&&o.source&&m1t("^"+o.source+"$",t.value)&&r.push(a),r},[])}}class ape{convert(t,n){let r=n.grammarSource;if(IM(r)&&(r=T1t(r)),fp(r)){const a=r.rule.ref;if(!a)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(a,t,n)}return t}runConverter(t,n,r){var a;switch(t.name.toUpperCase()){case"INT":return ju.convertInt(n);case"STRING":return ju.convertString(n);case"ID":return ju.convertID(n)}switch((a=C1t(t))===null||a===void 0?void 0:a.toLowerCase()){case"number":return ju.convertNumber(n);case"boolean":return ju.convertBoolean(n);case"bigint":return ju.convertBigint(n);case"date":return ju.convertDate(n);default:return n}}}var ju;(function(e){function t(f){let d="";for(let p=1;p<f.length-1;p++){const g=f.charAt(p);if(g==="\\"){const m=f.charAt(++p);d+=n(m)}else d+=g}return d}e.convertString=t;function n(f){switch(f){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return f}}function r(f){return f.charAt(0)==="^"?f.substring(1):f}e.convertID=r;function a(f){return parseInt(f)}e.convertInt=a;function o(f){return BigInt(f)}e.convertBigint=o;function l(f){return new Date(f)}e.convertDate=l;function u(f){return Number(f)}e.convertNumber=u;function h(f){return f.toLowerCase()==="true"}e.convertBoolean=h})(ju||(ju={}));var aT={},X6={};Object.defineProperty(X6,"__esModule",{value:!0});let u7;function h7(){if(u7===void 0)throw new Error("No runtime abstraction layer installed");return u7}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");u7=n}e.install=t})(h7||(h7={}));X6.default=h7;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.stringArray=Va.array=Va.func=Va.error=Va.number=Va.string=Va.boolean=void 0;function Gyt(e){return e===!0||e===!1}Va.boolean=Gyt;function spe(e){return typeof e=="string"||e instanceof String}Va.string=spe;function zyt(e){return typeof e=="number"||e instanceof Number}Va.number=zyt;function Yyt(e){return e instanceof Error}Va.error=Yyt;function Vyt(e){return typeof e=="function"}Va.func=Vyt;function ope(e){return Array.isArray(e)}Va.array=ope;function qyt(e){return ope(e)&&e.every(t=>spe(t))}Va.stringArray=qyt;var Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.Emitter=Zm.Event=void 0;const jyt=X6;var Mq;(function(e){const t={dispose(){}};e.None=function(){return t}})(Mq||(Zm.Event=Mq={}));class Xyt{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let a=0,o=this._callbacks.length;a<o;a++)if(this._callbacks[a]===t)if(this._contexts[a]===n){this._callbacks.splice(a,1),this._contexts.splice(a,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),a=this._contexts.slice(0);for(let o=0,l=r.length;o<l;o++)try{n.push(r[o].apply(a[o],t))}catch(u){(0,jyt.default)().console.error(u)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let lpe=class cpe{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new Xyt),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);const a={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),a.dispose=cpe._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(a),a}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Zm.Emitter=lpe;lpe._noop=function(){};var ua;Object.defineProperty(aT,"__esModule",{value:!0});var f7=aT.CancellationTokenSource=ua=aT.CancellationToken=void 0;const Kyt=X6,Zyt=Va,d7=Zm;var JS;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:d7.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:d7.Event.None});function t(n){const r=n;return r&&(r===e.None||r===e.Cancelled||Zyt.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(JS||(ua=aT.CancellationToken=JS={}));const Qyt=Object.freeze(function(e,t){const n=(0,Kyt.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}});class Pq{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Qyt:(this._emitter||(this._emitter=new d7.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class Jyt{get token(){return this._token||(this._token=new Pq),this._token}cancel(){this._token?this._token.cancel():this._token=JS.Cancelled}dispose(){this._token?this._token instanceof Pq&&this._token.dispose():this._token=JS.None}}f7=aT.CancellationTokenSource=Jyt;function e2t(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}let Fq=0,t2t=10;const e5=Symbol("OperationCancelled");function YM(e){return e===e5}async function fc(e){if(e===ua.None)return;const t=Date.now();if(t-Fq>=t2t&&(Fq=t,await e2t()),e.isCancellationRequested)throw e5}class VM{constructor(){this.promise=new Promise((t,n)=>{this.resolve=r=>(t(r),this),this.reject=r=>(n(r),this)})}}class sT{constructor(t,n,r,a){this._uri=t,this._languageId=n,this._version=r,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(const r of t)if(sT.isIncremental(r)){const a=hpe(r.range),o=this.offsetAt(a.start),l=this.offsetAt(a.end);this._content=this._content.substring(0,o)+r.text+this._content.substring(l,this._content.length);const u=Math.max(a.start.line,0),h=Math.max(a.end.line,0);let f=this._lineOffsets;const d=Bq(r.text,!1,o);if(h-u===d.length)for(let g=0,m=d.length;g<m;g++)f[g+u+1]=d[g];else d.length<1e4?f.splice(u+1,h-u,...d):this._lineOffsets=f=f.slice(0,u+1).concat(d,f.slice(h+1));const p=r.text.length-(l-o);if(p!==0)for(let g=u+1+d.length,m=f.length;g<m;g++)f[g]=f[g]+p}else if(sT.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Bq(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const n=this.getLineOffsets();let r=0,a=n.length;if(a===0)return{line:0,character:t};for(;r<a;){const l=Math.floor((r+a)/2);n[l]>t?a=l:r=l+1}const o=r-1;return t=this.ensureBeforeEOL(t,n[o]),{line:o,character:t-n[o]}}offsetAt(t){const n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;const r=n[t.line];if(t.character<=0)return r;const a=t.line+1<n.length?n[t.line+1]:this._content.length,o=Math.min(r+t.character,a);return this.ensureBeforeEOL(o,r)}ensureBeforeEOL(t,n){for(;t>n&&upe(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var p7;(function(e){function t(a,o,l,u){return new sT(a,o,l,u)}e.create=t;function n(a,o,l){if(a instanceof sT)return a.update(o,l),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(a,o){const l=a.getText(),u=g7(o.map(n2t),(d,p)=>{const g=d.range.start.line-p.range.start.line;return g===0?d.range.start.character-p.range.start.character:g});let h=0;const f=[];for(const d of u){const p=a.offsetAt(d.range.start);if(p<h)throw new Error("Overlapping edit");p>h&&f.push(l.substring(h,p)),d.newText.length&&f.push(d.newText),h=a.offsetAt(d.range.end)}return f.push(l.substr(h)),f.join("")}e.applyEdits=r})(p7||(p7={}));function g7(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),a=e.slice(n);g7(r,t),g7(a,t);let o=0,l=0,u=0;for(;o<r.length&&l<a.length;)t(r[o],a[l])<=0?e[u++]=r[o++]:e[u++]=a[l++];for(;o<r.length;)e[u++]=r[o++];for(;l<a.length;)e[u++]=a[l++];return e}function Bq(e,t,n=0){const r=t?[n]:[];for(let a=0;a<e.length;a++){const o=e.charCodeAt(a);upe(o)&&(o===13&&a+1<e.length&&e.charCodeAt(a+1)===10&&a++,r.push(n+a+1))}return r}function upe(e){return e===13||e===10}function hpe(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function n2t(e){const t=hpe(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var fpe;(()=>{var e={470:a=>{function o(h){if(typeof h!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}function l(h,f){for(var d,p="",g=0,m=-1,y=0,b=0;b<=h.length;++b){if(b<h.length)d=h.charCodeAt(b);else{if(d===47)break;d=47}if(d===47){if(!(m===b-1||y===1))if(m!==b-1&&y===2){if(p.length<2||g!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var T=p.lastIndexOf("/");if(T!==p.length-1){T===-1?(p="",g=0):g=(p=p.slice(0,T)).length-1-p.lastIndexOf("/"),m=b,y=0;continue}}else if(p.length===2||p.length===1){p="",g=0,m=b,y=0;continue}}f&&(p.length>0?p+="/..":p="..",g=2)}else p.length>0?p+="/"+h.slice(m+1,b):p=h.slice(m+1,b),g=b-m-1;m=b,y=0}else d===46&&y!==-1?++y:y=-1}return p}var u={resolve:function(){for(var h,f="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var g;p>=0?g=arguments[p]:(h===void 0&&(h=process.cwd()),g=h),o(g),g.length!==0&&(f=g+"/"+f,d=g.charCodeAt(0)===47)}return f=l(f,!d),d?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(h){if(o(h),h.length===0)return".";var f=h.charCodeAt(0)===47,d=h.charCodeAt(h.length-1)===47;return(h=l(h,!f)).length!==0||f||(h="."),h.length>0&&d&&(h+="/"),f?"/"+h:h},isAbsolute:function(h){return o(h),h.length>0&&h.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var h,f=0;f<arguments.length;++f){var d=arguments[f];o(d),d.length>0&&(h===void 0?h=d:h+="/"+d)}return h===void 0?".":u.normalize(h)},relative:function(h,f){if(o(h),o(f),h===f||(h=u.resolve(h))===(f=u.resolve(f)))return"";for(var d=1;d<h.length&&h.charCodeAt(d)===47;++d);for(var p=h.length,g=p-d,m=1;m<f.length&&f.charCodeAt(m)===47;++m);for(var y=f.length-m,b=g<y?g:y,T=-1,E=0;E<=b;++E){if(E===b){if(y>b){if(f.charCodeAt(m+E)===47)return f.slice(m+E+1);if(E===0)return f.slice(m+E)}else g>b&&(h.charCodeAt(d+E)===47?T=E:E===0&&(T=0));break}var w=h.charCodeAt(d+E);if(w!==f.charCodeAt(m+E))break;w===47&&(T=E)}var x="";for(E=d+T+1;E<=p;++E)E!==p&&h.charCodeAt(E)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+f.slice(m+T):(m+=T,f.charCodeAt(m)===47&&++m,f.slice(m))},_makeLong:function(h){return h},dirname:function(h){if(o(h),h.length===0)return".";for(var f=h.charCodeAt(0),d=f===47,p=-1,g=!0,m=h.length-1;m>=1;--m)if((f=h.charCodeAt(m))===47){if(!g){p=m;break}}else g=!1;return p===-1?d?"/":".":d&&p===1?"//":h.slice(0,p)},basename:function(h,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');o(h);var d,p=0,g=-1,m=!0;if(f!==void 0&&f.length>0&&f.length<=h.length){if(f.length===h.length&&f===h)return"";var y=f.length-1,b=-1;for(d=h.length-1;d>=0;--d){var T=h.charCodeAt(d);if(T===47){if(!m){p=d+1;break}}else b===-1&&(m=!1,b=d+1),y>=0&&(T===f.charCodeAt(y)?--y==-1&&(g=d):(y=-1,g=b))}return p===g?g=b:g===-1&&(g=h.length),h.slice(p,g)}for(d=h.length-1;d>=0;--d)if(h.charCodeAt(d)===47){if(!m){p=d+1;break}}else g===-1&&(m=!1,g=d+1);return g===-1?"":h.slice(p,g)},extname:function(h){o(h);for(var f=-1,d=0,p=-1,g=!0,m=0,y=h.length-1;y>=0;--y){var b=h.charCodeAt(y);if(b!==47)p===-1&&(g=!1,p=y+1),b===46?f===-1?f=y:m!==1&&(m=1):f!==-1&&(m=-1);else if(!g){d=y+1;break}}return f===-1||p===-1||m===0||m===1&&f===p-1&&f===d+1?"":h.slice(f,p)},format:function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return function(f,d){var p=d.dir||d.root,g=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+g:p+"/"+g:g}(0,h)},parse:function(h){o(h);var f={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return f;var d,p=h.charCodeAt(0),g=p===47;g?(f.root="/",d=1):d=0;for(var m=-1,y=0,b=-1,T=!0,E=h.length-1,w=0;E>=d;--E)if((p=h.charCodeAt(E))!==47)b===-1&&(T=!1,b=E+1),p===46?m===-1?m=E:w!==1&&(w=1):m!==-1&&(w=-1);else if(!T){y=E+1;break}return m===-1||b===-1||w===0||w===1&&m===b-1&&m===y+1?b!==-1&&(f.base=f.name=y===0&&g?h.slice(1,b):h.slice(y,b)):(y===0&&g?(f.name=h.slice(1,m),f.base=h.slice(1,b)):(f.name=h.slice(y,m),f.base=h.slice(y,b)),f.ext=h.slice(m,b)),y>0?f.dir=h.slice(0,y-1):g&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,a.exports=u}},t={};function n(a){var o=t[a];if(o!==void 0)return o.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.d=(a,o)=>{for(var l in o)n.o(o,l)&&!n.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:o[l]})},n.o=(a,o)=>Object.prototype.hasOwnProperty.call(a,o),n.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var r={};(()=>{let a;n.r(r),n.d(r,{URI:()=>g,Utils:()=>L}),typeof process=="object"?a=process.platform==="win32":typeof navigator=="object"&&(a=navigator.userAgent.indexOf("Windows")>=0);const o=/^\w[\w\d+.-]*$/,l=/^\//,u=/^\/\//;function h(k,M){if(!k.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${k.authority}", path: "${k.path}", query: "${k.query}", fragment: "${k.fragment}"}`);if(k.scheme&&!o.test(k.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(k.path){if(k.authority){if(!l.test(k.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(k.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const f="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class g{constructor(M,$,_,F,B,D=!1){xn(this,"scheme");xn(this,"authority");xn(this,"path");xn(this,"query");xn(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||f,this.authority=M.authority||f,this.path=M.path||f,this.query=M.query||f,this.fragment=M.fragment||f):(this.scheme=function(P,H){return P||H?P:"file"}(M,D),this.authority=$||f,this.path=function(P,H){switch(P){case"https":case"http":case"file":H?H[0]!==d&&(H=d+H):H=d}return H}(this.scheme,_||f),this.query=F||f,this.fragment=B||f,h(this,D))}static isUri(M){return M instanceof g||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return w(this)}with(M){if(!M)return this;let{scheme:$,authority:_,path:F,query:B,fragment:D}=M;return $===void 0?$=this.scheme:$===null&&($=f),_===void 0?_=this.authority:_===null&&(_=f),F===void 0?F=this.path:F===null&&(F=f),B===void 0?B=this.query:B===null&&(B=f),D===void 0?D=this.fragment:D===null&&(D=f),$===this.scheme&&_===this.authority&&F===this.path&&B===this.query&&D===this.fragment?this:new y($,_,F,B,D)}static parse(M,$=!1){const _=p.exec(M);return _?new y(_[2]||f,R(_[4]||f),R(_[5]||f),R(_[7]||f),R(_[9]||f),$):new y(f,f,f,f,f)}static file(M){let $=f;if(a&&(M=M.replace(/\\/g,d)),M[0]===d&&M[1]===d){const _=M.indexOf(d,2);_===-1?($=M.substring(2),M=d):($=M.substring(2,_),M=M.substring(_)||d)}return new y("file",$,M,f,f)}static from(M){const $=new y(M.scheme,M.authority,M.path,M.query,M.fragment);return h($,!0),$}toString(M=!1){return x(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof g)return M;{const $=new y(M);return $._formatted=M.external,$._fsPath=M._sep===m?M.fsPath:null,$}}return M}}const m=a?1:void 0;class y extends g{constructor(){super(...arguments);xn(this,"_formatted",null);xn(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=w(this)),this._fsPath}toString($=!1){return $?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){const $={$mid:1};return this._fsPath&&($.fsPath=this._fsPath,$._sep=m),this._formatted&&($.external=this._formatted),this.path&&($.path=this.path),this.scheme&&($.scheme=this.scheme),this.authority&&($.authority=this.authority),this.query&&($.query=this.query),this.fragment&&($.fragment=this.fragment),$}}const b={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function T(k,M,$){let _,F=-1;for(let B=0;B<k.length;B++){const D=k.charCodeAt(B);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||M&&D===47||$&&D===91||$&&D===93||$&&D===58)F!==-1&&(_+=encodeURIComponent(k.substring(F,B)),F=-1),_!==void 0&&(_+=k.charAt(B));else{_===void 0&&(_=k.substr(0,B));const P=b[D];P!==void 0?(F!==-1&&(_+=encodeURIComponent(k.substring(F,B)),F=-1),_+=P):F===-1&&(F=B)}}return F!==-1&&(_+=encodeURIComponent(k.substring(F))),_!==void 0?_:k}function E(k){let M;for(let $=0;$<k.length;$++){const _=k.charCodeAt($);_===35||_===63?(M===void 0&&(M=k.substr(0,$)),M+=b[_]):M!==void 0&&(M+=k[$])}return M!==void 0?M:k}function w(k,M){let $;return $=k.authority&&k.path.length>1&&k.scheme==="file"?`//${k.authority}${k.path}`:k.path.charCodeAt(0)===47&&(k.path.charCodeAt(1)>=65&&k.path.charCodeAt(1)<=90||k.path.charCodeAt(1)>=97&&k.path.charCodeAt(1)<=122)&&k.path.charCodeAt(2)===58?k.path[1].toLowerCase()+k.path.substr(2):k.path,a&&($=$.replace(/\//g,"\\")),$}function x(k,M){const $=M?E:T;let _="",{scheme:F,authority:B,path:D,query:P,fragment:H}=k;if(F&&(_+=F,_+=":"),(B||F==="file")&&(_+=d,_+=d),B){let W=B.indexOf("@");if(W!==-1){const U=B.substr(0,W);B=B.substr(W+1),W=U.lastIndexOf(":"),W===-1?_+=$(U,!1,!1):(_+=$(U.substr(0,W),!1,!1),_+=":",_+=$(U.substr(W+1),!1,!0)),_+="@"}B=B.toLowerCase(),W=B.lastIndexOf(":"),W===-1?_+=$(B,!1,!0):(_+=$(B.substr(0,W),!1,!0),_+=B.substr(W))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const W=D.charCodeAt(1);W>=65&&W<=90&&(D=`/${String.fromCharCode(W+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const W=D.charCodeAt(0);W>=65&&W<=90&&(D=`${String.fromCharCode(W+32)}:${D.substr(2)}`)}_+=$(D,!0,!1)}return P&&(_+="?",_+=$(P,!1,!1)),H&&(_+="#",_+=M?H:T(H,!1,!1)),_}function S(k){try{return decodeURIComponent(k)}catch{return k.length>3?k.substr(0,3)+S(k.substr(3)):k}}const A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(k){return k.match(A)?k.replace(A,M=>S(M)):k}var C=n(470);const N=C.posix||C,O="/";var L;(function(k){k.joinPath=function(M,...$){return M.with({path:N.join(M.path,...$)})},k.resolvePath=function(M,...$){let _=M.path,F=!1;_[0]!==O&&(_=O+_,F=!0);let B=N.resolve(_,...$);return F&&B[0]===O&&!M.authority&&(B=B.substring(1)),M.with({path:B})},k.dirname=function(M){if(M.path.length===0||M.path===O)return M;let $=N.dirname(M.path);return $.length===1&&$.charCodeAt(0)===46&&($=""),M.with({path:$})},k.basename=function(M){return N.basename(M.path)},k.extname=function(M){return N.extname(M.path)}})(L||(L={}))})(),fpe=r})();const{URI:Qm,Utils:Yy}=fpe;var lf;(function(e){e.basename=Yy.basename,e.dirname=Yy.dirname,e.extname=Yy.extname,e.joinPath=Yy.joinPath,e.resolvePath=Yy.resolvePath;function t(r,a){return(r==null?void 0:r.toString())===(a==null?void 0:a.toString())}e.equals=t;function n(r,a){const o=typeof r=="string"?r:r.path,l=typeof a=="string"?a:a.path,u=o.split("/").filter(g=>g.length>0),h=l.split("/").filter(g=>g.length>0);let f=0;for(;f<u.length&&u[f]===h[f];f++);const d="../".repeat(u.length-f),p=h.slice(f).join("/");return d+p}e.relative=n})(lf||(lf={}));var Pr;(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(Pr||(Pr={}));class r2t{constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,n=ua.None){const r=await this.fileSystemProvider.readFile(t);return this.createAsync(t,r,n)}fromTextDocument(t,n,r){return n=n??Qm.parse(t.uri),r?this.createAsync(n,t,r):this.create(n,t)}fromString(t,n,r){return r?this.createAsync(n,t,r):this.create(n,t)}fromModel(t,n){return this.create(n,{$model:t})}create(t,n){if(typeof n=="string"){const r=this.parse(t,n);return this.createLangiumDocument(r,t,void 0,n)}else if("$model"in n){const r={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,t)}else{const r=this.parse(t,n.getText());return this.createLangiumDocument(r,t,n)}}async createAsync(t,n,r){if(typeof n=="string"){const a=await this.parseAsync(t,n,r);return this.createLangiumDocument(a,t,void 0,n)}else{const a=await this.parseAsync(t,n.getText(),r);return this.createLangiumDocument(a,t,n)}}createLangiumDocument(t,n,r,a){let o;if(r)o={parseResult:t,uri:n,state:Pr.Parsed,references:[],textDocument:r};else{const l=this.createTextDocumentGetter(n,a);o={parseResult:t,uri:n,state:Pr.Parsed,references:[],get textDocument(){return l()}}}return t.value.$document=o,o}async update(t,n){var r,a;const o=(r=t.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,l=(a=this.textDocuments)===null||a===void 0?void 0:a.get(t.uri.toString()),u=l?l.getText():await this.fileSystemProvider.readFile(t.uri);if(l)Object.defineProperty(t,"textDocument",{value:l});else{const h=this.createTextDocumentGetter(t.uri,u);Object.defineProperty(t,"textDocument",{get:h})}return o!==u&&(t.parseResult=await this.parseAsync(t.uri,u,n),t.parseResult.value.$document=t),t.state=Pr.Parsed,t}parse(t,n){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(n)}parseAsync(t,n,r){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(t,n){const r=this.serviceRegistry;let a;return()=>a??(a=p7.create(t.toString(),r.getServices(t).LanguageMetaData.languageId,0,n??""))}}class i2t{constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory}get all(){return Aa(this.documentMap.values())}addDocument(t){const n=t.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,t)}getDocument(t){const n=t.toString();return this.documentMap.get(n)}async getOrCreateDocument(t,n){let r=this.getDocument(t);return r||(r=await this.langiumDocumentFactory.fromUri(t,n),this.addDocument(r),r)}createDocument(t,n,r){if(r)return this.langiumDocumentFactory.fromString(n,t,r).then(a=>(this.addDocument(a),a));{const a=this.langiumDocumentFactory.fromString(n,t);return this.addDocument(a),a}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){const n=t.toString(),r=this.documentMap.get(n);return r&&(r.state=Pr.Changed,r.precomputedScopes=void 0,r.references=[],r.diagnostics=void 0),r}deleteDocument(t){const n=t.toString(),r=this.documentMap.get(n);return r&&(r.state=Pr.Changed,this.documentMap.delete(n)),r}}class a2t{constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,n=ua.None){for(const r of T1(t.parseResult.value))await fc(n),Xfe(r).forEach(a=>this.doLink(a,t))}doLink(t,n){const r=t.reference;if(r._ref===void 0)try{const a=this.getCandidate(t);if(Cx(a))r._ref=a;else if(r._nodeDescription=a,this.langiumDocuments().hasDocument(a.documentUri)){const o=this.loadAstNode(a);r._ref=o??this.createLinkingError(t,a)}}catch(a){r._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${r.$refText}': ${a}`})}n.references.push(r)}unlink(t){for(const n of t.references)delete n._ref,delete n._nodeDescription;t.references=[]}getCandidate(t){const r=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return r??this.createLinkingError(t)}buildReference(t,n,r,a){const o=this,l={$refNode:r,$refText:a,get ref(){var u;if(Za(this._ref))return this._ref;if(xgt(this._nodeDescription)){const h=o.loadAstNode(this._nodeDescription);this._ref=h??o.createLinkingError({reference:l,container:t,property:n},this._nodeDescription)}else if(this._ref===void 0){const h=o.getLinkedNode({reference:l,container:t,property:n});if(h.error&&vu(t).state<Pr.ComputedScopes)return;this._ref=(u=h.node)!==null&&u!==void 0?u:h.error,this._nodeDescription=h.descr}return Za(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Cx(this._ref)?this._ref:void 0}};return l}getLinkedNode(t){try{const n=this.getCandidate(t);if(Cx(n))return{error:n};const r=this.loadAstNode(n);return r?{node:r,descr:n}:{descr:n,error:this.createLinkingError(t,n)}}catch(n){return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${n}`})}}}loadAstNode(t){if(t.node)return t.node;const n=this.langiumDocuments().getDocument(t.documentUri);if(n)return this.astNodeLocator.getAstNode(n.parseResult.value,t.path)}createLinkingError(t,n){const r=vu(t.container);r.state<Pr.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const a=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${a} named '${t.reference.$refText}'.`,targetDescription:n})}}function s2t(e){return typeof e.name=="string"}class o2t{getName(t){if(s2t(t))return t.name}getNameNode(t){return ede(t.$cstNode,"name")}}class l2t{constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){const n=A1t(t),r=t.astNode;if(n&&r){const a=r[n.feature];if(eu(a))return a.ref;if(Array.isArray(a)){for(const o of a)if(eu(o)&&o.$refNode&&o.$refNode.offset<=t.offset&&o.$refNode.end>=t.end)return o.ref}}if(r){const a=this.nameProvider.getNameNode(r);if(a&&(a===t||Igt(t,a)))return r}}}findDeclarationNode(t){const n=this.findDeclaration(t);if(n!=null&&n.$cstNode){const r=this.nameProvider.getNameNode(n);return r??n.$cstNode}}findReferences(t,n){const r=[];if(n.includeDeclaration){const o=this.getReferenceToSelf(t);o&&r.push(o)}let a=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return n.documentUri&&(a=a.filter(o=>lf.equals(o.sourceUri,n.documentUri))),r.push(...a),Aa(r)}getReferenceToSelf(t){const n=this.nameProvider.getNameNode(t);if(n){const r=vu(t),a=this.nodeLocator.getAstNodePath(t);return{sourceUri:r.uri,sourcePath:a,targetUri:r.uri,targetPath:a,segment:MS(n),local:!0}}}}class qM{constructor(t){if(this.map=new Map,t)for(const[n,r]of t)this.add(n,r)}get size(){return D8.sum(Aa(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,n){if(n===void 0)return this.map.delete(t);{const r=this.map.get(t);if(r){const a=r.indexOf(n);if(a>=0)return r.length===1?this.map.delete(t):r.splice(a,1),!0}return!1}}get(t){var n;return(n=this.map.get(t))!==null&&n!==void 0?n:[]}has(t,n){if(n===void 0)return this.map.has(t);{const r=this.map.get(t);return r?r.indexOf(n)>=0:!1}}add(t,n){return this.map.has(t)?this.map.get(t).push(n):this.map.set(t,[n]),this}addAll(t,n){return this.map.has(t)?this.map.get(t).push(...n):this.map.set(t,Array.from(n)),this}forEach(t){this.map.forEach((n,r)=>n.forEach(a=>t(a,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Aa(this.map.entries()).flatMap(([t,n])=>n.map(r=>[t,r]))}keys(){return Aa(this.map.keys())}values(){return Aa(this.map.values()).flat()}entriesGroupedByKey(){return Aa(this.map.entries())}}class Hq{get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(const[n,r]of t)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(t,n){return this.map.set(t,n),this.inverse.set(n,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){const n=this.map.get(t);return n!==void 0?(this.map.delete(t),this.inverse.delete(n),!0):!1}}class c2t{constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,n=ua.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,n)}async computeExportsForNode(t,n,r=RM,a=ua.None){const o=[];this.exportNode(t,o,n);for(const l of r(t))await fc(a),this.exportNode(l,o,n);return o}exportNode(t,n,r){const a=this.nameProvider.getName(t);a&&n.push(this.descriptions.createDescription(t,a,r))}async computeLocalScopes(t,n=ua.None){const r=t.parseResult.value,a=new qM;for(const o of IE(r))await fc(n),this.processNode(o,t,a);return a}processNode(t,n,r){const a=t.$container;if(a){const o=this.nameProvider.getName(t);o&&r.add(a,this.descriptions.createDescription(t,o,n))}}}class $q{constructor(t,n,r){var a;this.elements=t,this.outerScope=n,this.caseInsensitive=(a=r==null?void 0:r.caseInsensitive)!==null&&a!==void 0?a:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){const n=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===t.toLowerCase()):this.elements.find(r=>r.name===t);if(n)return n;if(this.outerScope)return this.outerScope.getElement(t)}}class u2t{constructor(t,n,r){var a;this.elements=new Map,this.caseInsensitive=(a=r==null?void 0:r.caseInsensitive)!==null&&a!==void 0?a:!1;for(const o of t){const l=this.caseInsensitive?o.name.toLowerCase():o.name;this.elements.set(l,o)}this.outerScope=n}getElement(t){const n=this.caseInsensitive?t.toLowerCase():t,r=this.elements.get(n);if(r)return r;if(this.outerScope)return this.outerScope.getElement(t)}getAllElements(){let t=Aa(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}}class dpe{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class h2t extends dpe{constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,n){this.throwIfDisposed(),this.cache.set(t,n)}get(t,n){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(n){const r=n();return this.cache.set(t,r),r}else return}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}}class f2t extends dpe{constructor(t){super(),this.cache=new Map,this.converter=t??(n=>n)}has(t,n){return this.throwIfDisposed(),this.cacheForContext(t).has(n)}set(t,n,r){this.throwIfDisposed(),this.cacheForContext(t).set(n,r)}get(t,n,r){this.throwIfDisposed();const a=this.cacheForContext(t);if(a.has(n))return a.get(n);if(r){const o=r();return a.set(n,o),o}else return}delete(t,n){return this.throwIfDisposed(),this.cacheForContext(t).delete(n)}clear(t){if(this.throwIfDisposed(),t){const n=this.converter(t);this.cache.delete(n)}else this.cache.clear()}cacheForContext(t){const n=this.converter(t);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class d2t extends h2t{constructor(t){super(),this.onDispose(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class p2t{constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new d2t(t.shared)}getScope(t){const n=[],r=this.reflection.getReferenceType(t),a=vu(t.container).precomputedScopes;if(a){let l=t.container;do{const u=a.get(l);u.length>0&&n.push(Aa(u).filter(h=>this.reflection.isSubtype(h.type,r))),l=l.$container}while(l)}let o=this.getGlobalScope(r,t);for(let l=n.length-1;l>=0;l--)o=this.createScope(n[l],o);return o}createScope(t,n,r){return new $q(Aa(t),n,r)}createScopeForNodes(t,n,r){const a=Aa(t).map(o=>{const l=this.nameProvider.getName(o);if(l)return this.descriptions.createDescription(o,l)}).nonNullable();return new $q(a,n,r)}getGlobalScope(t,n){return this.globalScopeCache.get(t,()=>new u2t(this.indexManager.allElements(t)))}}function g2t(e){return typeof e.$comment=="string"}function Wq(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}class m2t{constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,n={}){const r=n==null?void 0:n.replacer,a=(l,u)=>this.replacer(l,u,n),o=r?(l,u)=>r(l,u,a):a;try{return this.currentDocument=vu(t),JSON.stringify(t,o,n==null?void 0:n.space)}finally{this.currentDocument=void 0}}deserialize(t,n={}){const r=JSON.parse(t);return this.linkNode(r,r,n),r}replacer(t,n,{refText:r,sourceText:a,textRegions:o,comments:l,uriConverter:u}){var h,f,d,p;if(!this.ignoreProperties.has(t))if(eu(n)){const g=n.ref,m=r?n.$refText:void 0;if(g){const y=vu(g);let b="";this.currentDocument&&this.currentDocument!==y&&(u?b=u(y.uri,n):b=y.uri.toString());const T=this.astNodeLocator.getAstNodePath(g);return{$ref:`${b}#${T}`,$refText:m}}else return{$error:(f=(h=n.error)===null||h===void 0?void 0:h.message)!==null&&f!==void 0?f:"Could not resolve reference",$refText:m}}else if(Za(n)){let g;if(o&&(g=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),(!t||n.$document)&&(g!=null&&g.$textRegion)&&(g.$textRegion.documentURI=(d=this.currentDocument)===null||d===void 0?void 0:d.uri.toString())),a&&!t&&(g??(g=Object.assign({},n)),g.$sourceText=(p=n.$cstNode)===null||p===void 0?void 0:p.text),l){g??(g=Object.assign({},n));const m=this.commentProvider.getComment(n);m&&(g.$comment=m.replace(/\r/g,""))}return g??n}else return n}addAstNodeRegionWithAssignmentsTo(t){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(t.$cstNode){const r=t.$textRegion=n(t.$cstNode),a=r.assignments={};return Object.keys(t).filter(o=>!o.startsWith("$")).forEach(o=>{const l=w1t(t.$cstNode,o).map(n);l.length!==0&&(a[o]=l)}),t}}linkNode(t,n,r,a,o,l){for(const[h,f]of Object.entries(t))if(Array.isArray(f))for(let d=0;d<f.length;d++){const p=f[d];Wq(p)?f[d]=this.reviveReference(t,h,n,p,r):Za(p)&&this.linkNode(p,n,r,t,h,d)}else Wq(f)?t[h]=this.reviveReference(t,h,n,f,r):Za(f)&&this.linkNode(f,n,r,t,h);const u=t;u.$container=a,u.$containerProperty=o,u.$containerIndex=l}reviveReference(t,n,r,a,o){let l=a.$refText,u=a.$error;if(a.$ref){const h=this.getRefNode(r,a.$ref,o.uriConverter);if(Za(h))return l||(l=this.nameProvider.getName(h)),{$refText:l??"",ref:h};u=h}if(u){const h={$refText:l??""};return h.error={container:t,property:n,message:u,reference:h},h}else return}getRefNode(t,n,r){try{const a=n.indexOf("#");if(a===0){const h=this.astNodeLocator.getAstNode(t,n.substring(1));return h||"Could not resolve path: "+n}if(a<0){const h=r?r(n):Qm.parse(n),f=this.langiumDocuments.getDocument(h);return f?f.parseResult.value:"Could not find document for URI: "+n}const o=r?r(n.substring(0,a)):Qm.parse(n.substring(0,a)),l=this.langiumDocuments.getDocument(o);if(!l)return"Could not find document for URI: "+n;if(a===n.length-1)return l.parseResult.value;const u=this.astNodeLocator.getAstNode(l.parseResult.value,n.substring(a+1));return u||"Could not resolve URI: "+n}catch(a){return String(a)}}}class v2t{register(t){if(!this.singleton&&!this.map){this.singleton=t;return}if(!this.map&&(this.map={},this.singleton)){for(const n of this.singleton.LanguageMetaData.fileExtensions)this.map[n]=this.singleton;this.singleton=void 0}for(const n of t.LanguageMetaData.fileExtensions)this.map[n]!==void 0&&this.map[n]!==t&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${t.LanguageMetaData.languageId}'.`),this.map[n]=t}getServices(t){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const n=lf.extname(t),r=this.map[n];if(!r)throw new Error(`The service registry contains no services for the extension '${n}'.`);return r}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}function Uq(e){return{code:e}}var t5;(function(e){e.all=["fast","slow","built-in"]})(t5||(t5={}));class y2t{constructor(t){this.entries=new qM,this.reflection=t.shared.AstReflection}register(t,n=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[a,o]of Object.entries(t)){const l=o;if(Array.isArray(l))for(const u of l){const h={check:this.wrapValidationException(u,n),category:r};this.addEntry(a,h)}else if(typeof l=="function"){const u={check:this.wrapValidationException(l,n),category:r};this.addEntry(a,u)}}}wrapValidationException(t,n){return async(r,a,o)=>{try{await t.call(n,r,a,o)}catch(l){if(YM(l))throw l;console.error("An error occurred during validation:",l);const u=l instanceof Error?l.message:String(l);l instanceof Error&&l.stack&&console.error(l.stack),a("error","An error occurred during validation: "+u,{node:r})}}}addEntry(t,n){if(t==="AstNode"){this.entries.add("AstNode",n);return}for(const r of this.reflection.getAllSubTypes(t))this.entries.add(r,n)}getChecks(t,n){let r=Aa(this.entries.get(t)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(a=>n.includes(a.category))),r.map(a=>a.check)}}class b2t{constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,n={},r=ua.None){const a=t.parseResult,o=[];if(await fc(r),(!n.categories||n.categories.includes("built-in"))&&(this.processLexingErrors(a,o,n),n.stopAfterLexingErrors&&o.some(l=>{var u;return((u=l.data)===null||u===void 0?void 0:u.code)===E0.LexingError})||(this.processParsingErrors(a,o,n),n.stopAfterParsingErrors&&o.some(l=>{var u;return((u=l.data)===null||u===void 0?void 0:u.code)===E0.ParsingError}))||(this.processLinkingErrors(t,o,n),n.stopAfterLinkingErrors&&o.some(l=>{var u;return((u=l.data)===null||u===void 0?void 0:u.code)===E0.LinkingError}))))return o;try{o.push(...await this.validateAst(a.value,n,r))}catch(l){if(YM(l))throw l;console.error("An error occurred during validation:",l)}return await fc(r),o}processLexingErrors(t,n,r){for(const a of t.lexerErrors){const o={severity:wk("error"),range:{start:{line:a.line-1,character:a.column-1},end:{line:a.line-1,character:a.column+a.length-1}},message:a.message,data:Uq(E0.LexingError),source:this.getSource()};n.push(o)}}processParsingErrors(t,n,r){for(const a of t.parserErrors){let o;if(isNaN(a.token.startOffset)){if("previousToken"in a){const l=a.previousToken;if(isNaN(l.startOffset)){const u={line:0,character:0};o={start:u,end:u}}else{const u={line:l.endLine-1,character:l.endColumn};o={start:u,end:u}}}}else o=P8(a.token);if(o){const l={severity:wk("error"),range:o,message:a.message,data:Uq(E0.ParsingError),source:this.getSource()};n.push(l)}}}processLinkingErrors(t,n,r){for(const a of t.references){const o=a.error;if(o){const l={node:o.container,property:o.property,index:o.index,data:{code:E0.LinkingError,containerType:o.container.$type,property:o.property,refText:o.reference.$refText}};n.push(this.toDiagnostic("error",o.message,l))}}}async validateAst(t,n,r=ua.None){const a=[],o=(l,u,h)=>{a.push(this.toDiagnostic(l,u,h))};return await Promise.all(T1(t).map(async l=>{await fc(r);const u=this.validationRegistry.getChecks(l.$type,n.categories);for(const h of u)await h(l,o,r)})),a}toDiagnostic(t,n,r){return{message:n,range:T2t(r),severity:wk(t),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function T2t(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=ede(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=x1t(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function wk(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}var E0;(function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(E0||(E0={}));class E2t{constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,n,r=vu(t)){n??(n=this.nameProvider.getName(t));const a=this.astNodeLocator.getAstNodePath(t);if(!n)throw new Error(`Node at path ${a} has no name.`);let o;const l=()=>{var u;return o??(o=MS((u=this.nameProvider.getNameNode(t))!==null&&u!==void 0?u:t.$cstNode))};return{node:t,name:n,get nameSegment(){return l()},selectionSegment:MS(t.$cstNode),type:t.$type,documentUri:r.uri,path:a}}}class w2t{constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,n=ua.None){const r=[],a=t.parseResult.value;for(const o of T1(a))await fc(n),Xfe(o).filter(l=>!Cx(l)).forEach(l=>{const u=this.createDescription(l);u&&r.push(u)});return r}createDescription(t){const n=t.reference.$nodeDescription,r=t.reference.$refNode;if(!n||!r)return;const a=vu(t.container).uri;return{sourceUri:a,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:n.documentUri,targetPath:n.path,segment:MS(r),local:lf.equals(n.documentUri,a)}}}class x2t{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){const n=this.getAstNodePath(t.$container),r=this.getPathSegment(t);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:t,$containerIndex:n}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return n!==void 0?t+this.indexSeparator+n:t}getAstNode(t,n){return n.split(this.segmentSeparator).reduce((a,o)=>{if(!a||o.length===0)return a;const l=o.indexOf(this.indexSeparator);if(l>0){const u=o.substring(0,l),h=parseInt(o.substring(l+1)),f=a[u];return f==null?void 0:f[h]}return a[o]},t)}}class S2t{constructor(t){this._ready=new VM,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var n,r;this.workspaceConfig=(r=(n=t.capabilities.workspace)===null||n===void 0?void 0:n.configuration)!==null&&r!==void 0?r:!1}async initialized(t){if(this.workspaceConfig){if(t.register){const n=this.serviceRegistry.all;t.register({section:n.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(t.fetchConfiguration){const n=this.serviceRegistry.all.map(a=>({section:this.toSectionName(a.LanguageMetaData.languageId)})),r=await t.fetchConfiguration(n);n.forEach((a,o)=>{this.updateSectionConfiguration(a.section,r[o])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(n=>{this.updateSectionConfiguration(n,t.settings[n])})}updateSectionConfiguration(t,n){this.settings[t]=n}async getConfiguration(t,n){await this.ready;const r=this.toSectionName(t);if(this.settings[r])return this.settings[r][n]}toSectionName(t){return`${t}`}}var n5;(function(e){function t(n){return{dispose:async()=>await n()}}e.create=t})(n5||(n5={}));class A2t{constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new qM,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Pr.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,n={},r=ua.None){var a,o;for(const l of t){const u=l.uri.toString();if(l.state===Pr.Validated){if(typeof n.validation=="boolean"&&n.validation)l.state=Pr.IndexedReferences,l.diagnostics=void 0,this.buildState.delete(u);else if(typeof n.validation=="object"){const h=this.buildState.get(u),f=(a=h==null?void 0:h.result)===null||a===void 0?void 0:a.validationChecks;if(f){const p=((o=n.validation.categories)!==null&&o!==void 0?o:t5.all).filter(g=>!f.includes(g));p.length>0&&(this.buildState.set(u,{completed:!1,options:{validation:Object.assign(Object.assign({},n.validation),{categories:p})},result:h.result}),l.state=Pr.IndexedReferences)}}}else this.buildState.delete(u)}this.currentState=Pr.Changed,await this.emitUpdate(t.map(l=>l.uri),[]),await this.buildDocuments(t,n,r)}async update(t,n,r=ua.None){this.currentState=Pr.Changed;for(const l of n)this.langiumDocuments.deleteDocument(l),this.buildState.delete(l.toString()),this.indexManager.remove(l);for(const l of t){if(!this.langiumDocuments.invalidateDocument(l)){const h=this.langiumDocumentFactory.fromModel({$type:"INVALID"},l);h.state=Pr.Changed,this.langiumDocuments.addDocument(h)}this.buildState.delete(l.toString())}const a=Aa(t).concat(n).map(l=>l.toString()).toSet();this.langiumDocuments.all.filter(l=>!a.has(l.uri.toString())&&this.shouldRelink(l,a)).forEach(l=>{this.serviceRegistry.getServices(l.uri).references.Linker.unlink(l),l.state=Math.min(l.state,Pr.ComputedScopes),l.diagnostics=void 0}),await this.emitUpdate(t,n),await fc(r);const o=this.langiumDocuments.all.filter(l=>{var u;return l.state<Pr.Linked||!(!((u=this.buildState.get(l.uri.toString()))===null||u===void 0)&&u.completed)}).toArray();await this.buildDocuments(o,this.updateBuildOptions,r)}async emitUpdate(t,n){await Promise.all(this.updateListeners.map(r=>r(t,n)))}shouldRelink(t,n){return t.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(t,n)}onUpdate(t){return this.updateListeners.push(t),n5.create(()=>{const n=this.updateListeners.indexOf(t);n>=0&&this.updateListeners.splice(n,1)})}async buildDocuments(t,n,r){this.prepareBuild(t,n),await this.runCancelable(t,Pr.Parsed,r,o=>this.langiumDocumentFactory.update(o,r)),await this.runCancelable(t,Pr.IndexedContent,r,o=>this.indexManager.updateContent(o,r)),await this.runCancelable(t,Pr.ComputedScopes,r,async o=>{const l=this.serviceRegistry.getServices(o.uri).references.ScopeComputation;o.precomputedScopes=await l.computeLocalScopes(o,r)}),await this.runCancelable(t,Pr.Linked,r,o=>this.serviceRegistry.getServices(o.uri).references.Linker.link(o,r)),await this.runCancelable(t,Pr.IndexedReferences,r,o=>this.indexManager.updateReferences(o,r));const a=t.filter(o=>this.shouldValidate(o));await this.runCancelable(a,Pr.Validated,r,o=>this.validate(o,r));for(const o of t){const l=this.buildState.get(o.uri.toString());l&&(l.completed=!0)}}prepareBuild(t,n){for(const r of t){const a=r.uri.toString(),o=this.buildState.get(a);(!o||o.completed)&&this.buildState.set(a,{completed:!1,options:n,result:o==null?void 0:o.result})}}async runCancelable(t,n,r,a){const o=t.filter(l=>l.state<n);for(const l of o)await fc(r),await a(l),l.state=n;await this.notifyBuildPhase(o,n,r),this.currentState=n}onBuildPhase(t,n){return this.buildPhaseListeners.add(t,n),n5.create(()=>{this.buildPhaseListeners.delete(t,n)})}waitUntil(t,n,r){let a;if(n&&"path"in n?a=n:r=n,r??(r=ua.None),a){const o=this.langiumDocuments.getDocument(a);if(o&&o.state>t)return Promise.resolve(a)}return this.currentState>=t?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(e5):new Promise((o,l)=>{const u=this.onBuildPhase(t,()=>{if(u.dispose(),h.dispose(),a){const f=this.langiumDocuments.getDocument(a);o(f==null?void 0:f.uri)}else o(void 0)}),h=r.onCancellationRequested(()=>{u.dispose(),h.dispose(),l(e5)})})}async notifyBuildPhase(t,n,r){if(t.length===0)return;const a=this.buildPhaseListeners.get(n);for(const o of a)await fc(r),await o(t,r)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,n){var r,a;const o=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,l=this.getBuildOptions(t).validation,u=typeof l=="object"?l:void 0,h=await o.validateDocument(t,u,n);t.diagnostics?t.diagnostics.push(...h):t.diagnostics=h;const f=this.buildState.get(t.uri.toString());if(f){(r=f.result)!==null&&r!==void 0||(f.result={});const d=(a=u==null?void 0:u.categories)!==null&&a!==void 0?a:t5.all;f.result.validationChecks?f.result.validationChecks.push(...d):f.result.validationChecks=[...d]}}getBuildOptions(t){var n,r;return(r=(n=this.buildState.get(t.uri.toString()))===null||n===void 0?void 0:n.options)!==null&&r!==void 0?r:{}}}class I2t{constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new f2t,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,n){const r=vu(t).uri,a=[];return this.referenceIndex.forEach(o=>{o.forEach(l=>{lf.equals(l.targetUri,r)&&l.targetPath===n&&a.push(l)})}),Aa(a)}allElements(t,n){let r=Aa(this.symbolIndex.keys());return n&&(r=r.filter(a=>!n||n.has(a))),r.map(a=>this.getFileDescriptions(a,t)).flat()}getFileDescriptions(t,n){var r;return n?this.symbolByTypeIndex.get(t,n,()=>{var o;return((o=this.symbolIndex.get(t))!==null&&o!==void 0?o:[]).filter(u=>this.astReflection.isSubtype(u.type,n))}):(r=this.symbolIndex.get(t))!==null&&r!==void 0?r:[]}remove(t){const n=t.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}async updateContent(t,n=ua.None){const a=await this.serviceRegistry.getServices(t.uri).references.ScopeComputation.computeExports(t,n),o=t.uri.toString();this.symbolIndex.set(o,a),this.symbolByTypeIndex.clear(o)}async updateReferences(t,n=ua.None){const a=await this.serviceRegistry.getServices(t.uri).workspace.ReferenceDescriptionProvider.createDescriptions(t,n);this.referenceIndex.set(t.uri.toString(),a)}isAffected(t,n){const r=this.referenceIndex.get(t.uri.toString());return r?r.some(a=>!a.local&&n.has(a.targetUri.toString())):!1}}class C2t{constructor(t){this.initialBuildOptions={},this._ready=new VM,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(t){var n;this.folders=(n=t.workspaceFolders)!==null&&n!==void 0?n:void 0}initialized(t){return this.mutex.write(n=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],n)})}async initializeWorkspace(t,n=ua.None){const r=await this.performStartup(t);await fc(n),await this.documentBuilder.build(r,this.initialBuildOptions,n)}async performStartup(t){const n=this.serviceRegistry.all.flatMap(o=>o.LanguageMetaData.fileExtensions),r=[],a=o=>{r.push(o),this.langiumDocuments.hasDocument(o.uri)||this.langiumDocuments.addDocument(o)};return await this.loadAdditionalDocuments(t,a),await Promise.all(t.map(o=>[o,this.getRootFolder(o)]).map(async o=>this.traverseFolder(...o,n,a))),this._ready.resolve(),r}loadAdditionalDocuments(t,n){return Promise.resolve()}getRootFolder(t){return Qm.parse(t.uri)}async traverseFolder(t,n,r,a){const o=await this.fileSystemProvider.readDirectory(n);await Promise.all(o.map(async l=>{if(this.includeEntry(t,l,r)){if(l.isDirectory)await this.traverseFolder(t,l.uri,r,a);else if(l.isFile){const u=await this.langiumDocuments.getOrCreateDocument(l.uri);a(u)}}}))}includeEntry(t,n,r){const a=lf.basename(n.uri);if(a.startsWith("."))return!1;if(n.isDirectory)return a!=="node_modules"&&a!=="out";if(n.isFile){const o=lf.extname(n.uri);return r.includes(o)}return!1}}class R2t{constructor(t){const n=t.parser.TokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=Gq(n)?Object.values(n):n;this.chevrotainLexer=new so(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(t){var n;const r=this.chevrotainLexer.tokenize(t);return{tokens:r.tokens,errors:r.errors,hidden:(n=r.groups.hidden)!==null&&n!==void 0?n:[]}}toTokenTypeDictionary(t){if(Gq(t))return t;const n=ppe(t)?Object.values(t.modes).flat():t,r={};return n.forEach(a=>r[a.name]=a),r}}function k2t(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function ppe(e){return e&&"modes"in e&&"defaultMode"in e}function Gq(e){return!k2t(e)&&!ppe(e)}function O2t(e,t,n){let r,a;typeof e=="string"?(a=t,r=n):(a=e.range.start,r=t),a||(a=Kn.create(0,0));const o=gpe(e),l=jM(r),u=_2t({lines:o,position:a,options:l});return B2t({index:0,tokens:u,position:a})}function N2t(e,t){const n=jM(t),r=gpe(e);if(r.length===0)return!1;const a=r[0],o=r[r.length-1],l=n.start,u=n.end;return!!(l!=null&&l.exec(a))&&!!(u!=null&&u.exec(o))}function gpe(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(h1t)}const zq=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,L2t=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function _2t(e){var t,n,r;const a=[];let o=e.position.line,l=e.position.character;for(let u=0;u<e.lines.length;u++){const h=u===0,f=u===e.lines.length-1;let d=e.lines[u],p=0;if(h&&e.options.start){const m=(t=e.options.start)===null||t===void 0?void 0:t.exec(d);m&&(p=m.index+m[0].length)}else{const m=(n=e.options.line)===null||n===void 0?void 0:n.exec(d);m&&(p=m.index+m[0].length)}if(f){const m=(r=e.options.end)===null||r===void 0?void 0:r.exec(d);m&&(d=d.substring(0,m.index))}if(d=d.substring(0,F2t(d)),m7(d,p)>=d.length){if(a.length>0){const m=Kn.create(o,l);a.push({type:"break",content:"",range:Ln.create(m,m)})}}else{zq.lastIndex=p;const m=zq.exec(d);if(m){const y=m[0],b=m[1],T=Kn.create(o,l+p),E=Kn.create(o,l+p+y.length);a.push({type:"tag",content:b,range:Ln.create(T,E)}),p+=y.length,p=m7(d,p)}if(p<d.length){const y=d.substring(p),b=Array.from(y.matchAll(L2t));a.push(...D2t(b,y,o,l+p))}}o++,l=0}return a.length>0&&a[a.length-1].type==="break"?a.slice(0,-1):a}function D2t(e,t,n,r){const a=[];if(e.length===0){const o=Kn.create(n,r),l=Kn.create(n,r+t.length);a.push({type:"text",content:t,range:Ln.create(o,l)})}else{let o=0;for(const u of e){const h=u.index,f=t.substring(o,h);f.length>0&&a.push({type:"text",content:t.substring(o,h),range:Ln.create(Kn.create(n,o+r),Kn.create(n,h+r))});let d=f.length+1;const p=u[1];if(a.push({type:"inline-tag",content:p,range:Ln.create(Kn.create(n,o+d+r),Kn.create(n,o+d+p.length+r))}),d+=p.length,u.length===4){d+=u[2].length;const g=u[3];a.push({type:"text",content:g,range:Ln.create(Kn.create(n,o+d+r),Kn.create(n,o+d+g.length+r))})}else a.push({type:"text",content:"",range:Ln.create(Kn.create(n,o+d+r),Kn.create(n,o+d+r))});o=h+u[0].length}const l=t.substring(o);l.length>0&&a.push({type:"text",content:l,range:Ln.create(Kn.create(n,o+r),Kn.create(n,o+r+l.length))})}return a}const M2t=/\S/,P2t=/\s*$/;function m7(e,t){const n=e.substring(t).match(M2t);return n?t+n.index:e.length}function F2t(e){const t=e.match(P2t);if(t&&typeof t.index=="number")return t.index}function B2t(e){var t,n,r,a;const o=Kn.create(e.position.line,e.position.character);if(e.tokens.length===0)return new Yq([],Ln.create(o,o));const l=[];for(;e.index<e.tokens.length;){const f=H2t(e,l[l.length-1]);f&&l.push(f)}const u=(n=(t=l[0])===null||t===void 0?void 0:t.range.start)!==null&&n!==void 0?n:o,h=(a=(r=l[l.length-1])===null||r===void 0?void 0:r.range.end)!==null&&a!==void 0?a:o;return new Yq(l,Ln.create(u,h))}function H2t(e,t){const n=e.tokens[e.index];if(n.type==="tag")return vpe(e,!1);if(n.type==="text"||n.type==="inline-tag")return mpe(e);$2t(n,t),e.index++}function $2t(e,t){if(t){const n=new bpe("",e.range);"inlines"in t?t.inlines.push(n):t.content.inlines.push(n)}}function mpe(e){let t=e.tokens[e.index];const n=t;let r=t;const a=[];for(;t&&t.type!=="break"&&t.type!=="tag";)a.push(W2t(e)),r=t,t=e.tokens[e.index];return new v7(a,Ln.create(n.range.start,r.range.end))}function W2t(e){return e.tokens[e.index].type==="inline-tag"?vpe(e,!0):ype(e)}function vpe(e,t){const n=e.tokens[e.index++],r=n.content.substring(1),a=e.tokens[e.index];if((a==null?void 0:a.type)==="text")if(t){const o=ype(e);return new Sk(r,new v7([o],o.range),t,Ln.create(n.range.start,o.range.end))}else{const o=mpe(e);return new Sk(r,o,t,Ln.create(n.range.start,o.range.end))}else{const o=n.range;return new Sk(r,new v7([],o),t,o)}}function ype(e){const t=e.tokens[e.index++];return new bpe(t.content,t.range)}function jM(e){if(!e)return jM({start:"/**",end:"*/",line:"*"});const{start:t,end:n,line:r}=e;return{start:xk(t,!0),end:xk(n,!1),line:xk(r,!0)}}function xk(e,t){if(typeof e=="string"||typeof e=="object"){const n=typeof e=="string"?$6(e):e.source;return t?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}else return e}class Yq{constructor(t,n){this.elements=t,this.range=n}getTag(t){return this.getAllTags().find(n=>n.name===t)}getTags(t){return this.getAllTags().filter(n=>n.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(const n of this.elements)if(t.length===0)t=n.toString();else{const r=n.toString();t+=Vq(t)+r}return t.trim()}toMarkdown(t){let n="";for(const r of this.elements)if(n.length===0)n=r.toMarkdown(t);else{const a=r.toMarkdown(t);n+=Vq(n)+a}return n.trim()}}class Sk{constructor(t,n,r,a){this.name=t,this.content=n,this.inline=r,this.range=a}toString(){let t=`@${this.name}`;const n=this.content.toString();return this.content.inlines.length===1?t=`${t} ${n}`:this.content.inlines.length>1&&(t=`${t}
${n}`),this.inline?`{${t}}`:t}toMarkdown(t){var n,r;return(r=(n=t==null?void 0:t.renderTag)===null||n===void 0?void 0:n.call(t,this))!==null&&r!==void 0?r:this.toMarkdownDefault(t)}toMarkdownDefault(t){const n=this.content.toMarkdown(t);if(this.inline){const o=U2t(this.name,n,t??{});if(typeof o=="string")return o}let r="";(t==null?void 0:t.tag)==="italic"||(t==null?void 0:t.tag)===void 0?r="*":(t==null?void 0:t.tag)==="bold"?r="**":(t==null?void 0:t.tag)==="bold-italic"&&(r="***");let a=`${r}@${this.name}${r}`;return this.content.inlines.length===1?a=`${a} — ${n}`:this.content.inlines.length>1&&(a=`${a}
${n}`),this.inline?`{${a}}`:a}}function U2t(e,t,n){var r,a;if(e==="linkplain"||e==="linkcode"||e==="link"){const o=t.indexOf(" ");let l=t;if(o>0){const h=m7(t,o);l=t.substring(h),t=t.substring(0,o)}return(e==="linkcode"||e==="link"&&n.link==="code")&&(l=`\`${l}\``),(a=(r=n.renderLink)===null||r===void 0?void 0:r.call(n,t,l))!==null&&a!==void 0?a:G2t(t,l)}}function G2t(e,t){try{return Qm.parse(e,!0),`[${t}](${e})`}catch{return e}}class v7{constructor(t,n){this.inlines=t,this.range=n}toString(){let t="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],a=this.inlines[n+1];t+=r.toString(),a&&a.range.start.line>r.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let n="";for(let r=0;r<this.inlines.length;r++){const a=this.inlines[r],o=this.inlines[r+1];n+=a.toMarkdown(t),o&&o.range.start.line>a.range.start.line&&(n+=`
`)}return n}}class bpe{constructor(t,n){this.text=t,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function Vq(e){return e.endsWith(`
`)?`
`:`

`}class z2t{constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){const n=this.commentProvider.getComment(t);if(n&&N2t(n))return O2t(n).toMarkdown({renderLink:(a,o)=>this.documentationLinkRenderer(t,a,o),renderTag:a=>this.documentationTagRenderer(t,a)})}documentationLinkRenderer(t,n,r){var a;const o=(a=this.findNameInPrecomputedScopes(t,n))!==null&&a!==void 0?a:this.findNameInGlobalScope(t,n);if(o&&o.nameSegment){const l=o.nameSegment.range.start.line+1,u=o.nameSegment.range.start.character+1,h=o.documentUri.with({fragment:`L${l},${u}`});return`[${r}](${h.toString()})`}else return}documentationTagRenderer(t,n){}findNameInPrecomputedScopes(t,n){const a=vu(t).precomputedScopes;if(!a)return;let o=t;do{const u=a.get(o).find(h=>h.name===n);if(u)return u;o=o.$container}while(o)}findNameInGlobalScope(t,n){return this.indexManager.allElements().find(a=>a.name===n)}}class Y2t{constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var n;return g2t(t)?t.$comment:(n=Ogt(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||n===void 0?void 0:n.text}}class V2t{constructor(t){this.syncParser=t.parser.LangiumParser}parse(t){return Promise.resolve(this.syncParser.parse(t))}}class q2t{constructor(){this.previousTokenSource=new f7,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();const n=new f7;return this.previousTokenSource=n,this.enqueue(this.writeQueue,t,n.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,n,r){const a=new VM,o={action:n,deferred:a,cancellationToken:r??ua.None};return t.push(o),this.performNextOperation(),a.promise}async performNextOperation(){if(!this.done)return;const t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else if(this.readQueue.length>0)t.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(t.map(async({action:n,deferred:r,cancellationToken:a})=>{try{const o=await Promise.resolve().then(()=>n(a));r.resolve(o)}catch(o){YM(o)?r.resolve(void 0):r.reject(o)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class j2t{constructor(t){this.grammarElementIdMap=new Hq,this.tokenTypeIdMap=new Hq,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors.map(n=>Object.assign({},n)),parserErrors:t.parserErrors.map(n=>Object.assign({},n)),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}createDehyrationContext(t){const n=new Map,r=new Map;for(const a of T1(t))n.set(a,{});if(t.$cstNode)for(const a of M8(t.$cstNode))r.set(a,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(t,n){const r=n.astNodes.get(t);r.$type=t.$type,r.$containerIndex=t.$containerIndex,r.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(t.$cstNode,n));for(const[a,o]of Object.entries(t))if(!a.startsWith("$"))if(Array.isArray(o)){const l=[];r[a]=l;for(const u of o)Za(u)?l.push(this.dehydrateAstNode(u,n)):eu(u)?l.push(this.dehydrateReference(u,n)):l.push(u)}else Za(o)?r[a]=this.dehydrateAstNode(o,n):eu(o)?r[a]=this.dehydrateReference(o,n):o!==void 0&&(r[a]=o);return r}dehydrateReference(t,n){const r={};return r.$refText=t.$refText,t.$refNode&&(r.$refNode=n.cstNodes.get(t.$refNode)),r}dehydrateCstNode(t,n){const r=n.cstNodes.get(t);return dfe(t)?r.fullText=t.fullText:r.grammarSource=this.getGrammarElementId(t.grammarSource),r.hidden=t.hidden,r.astNode=n.astNodes.get(t.astNode),Vm(t)?r.content=t.content.map(a=>this.dehydrateCstNode(a,n)):ffe(t)&&(r.tokenType=t.tokenType.name,r.offset=t.offset,r.length=t.length,r.startLine=t.range.start.line,r.startColumn=t.range.start.character,r.endLine=t.range.end.line,r.endColumn=t.range.end.character),r}hydrate(t){const n=t.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:t.lexerErrors,parserErrors:t.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(t){const n=new Map,r=new Map;for(const o of T1(t))n.set(o,{});let a;if(t.$cstNode)for(const o of M8(t.$cstNode)){let l;"fullText"in o?(l=new Kde(o.fullText),a=l):"content"in o?l=new GM:"tokenType"in o&&(l=this.hydrateCstLeafNode(o)),l&&(r.set(o,l),l.root=a)}return{astNodes:n,cstNodes:r}}hydrateAstNode(t,n){const r=n.astNodes.get(t);r.$type=t.$type,r.$containerIndex=t.$containerIndex,r.$containerProperty=t.$containerProperty,t.$cstNode&&(r.$cstNode=n.cstNodes.get(t.$cstNode));for(const[a,o]of Object.entries(t))if(!a.startsWith("$"))if(Array.isArray(o)){const l=[];r[a]=l;for(const u of o)Za(u)?l.push(this.setParent(this.hydrateAstNode(u,n),r)):eu(u)?l.push(this.hydrateReference(u,r,a,n)):l.push(u)}else Za(o)?r[a]=this.setParent(this.hydrateAstNode(o,n),r):eu(o)?r[a]=this.hydrateReference(o,r,a,n):o!==void 0&&(r[a]=o);return r}setParent(t,n){return t.$container=n,t}hydrateReference(t,n,r,a){return this.linker.buildReference(n,r,a.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,n,r=0){const a=n.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(a.grammarSource=this.getGrammarElement(t.grammarSource)),a.astNode=n.astNodes.get(t.astNode),Vm(a))for(const o of t.content){const l=this.hydrateCstNode(o,n,r++);a.content.push(l)}return a}hydrateCstLeafNode(t){const n=this.getTokenType(t.tokenType),r=t.offset,a=t.length,o=t.startLine,l=t.startColumn,u=t.endLine,h=t.endColumn,f=t.hidden;return new o7(r,a,{start:{line:o,character:l},end:{line:u,character:h}},n,f)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const n=this.grammarElementIdMap.getKey(t);if(n)return n;throw new Error("Invalid grammar element id: "+t)}createGrammarElementIdMap(){let t=0;for(const n of T1(this.grammar))_gt(n)&&this.grammarElementIdMap.set(n,t++)}}function Gv(e){return{documentation:{CommentProvider:t=>new Y2t(t),DocumentationProvider:t=>new z2t(t)},parser:{AsyncParser:t=>new V2t(t),GrammarConfig:t=>_1t(t),LangiumParser:t=>Wyt(t),CompletionParser:t=>$yt(t),ValueConverter:()=>new ape,TokenBuilder:()=>new ipe,Lexer:t=>new R2t(t),ParserErrorMessageProvider:()=>new Jde},workspace:{AstNodeLocator:()=>new x2t,AstNodeDescriptionProvider:t=>new E2t(t),ReferenceDescriptionProvider:t=>new w2t(t)},references:{Linker:t=>new a2t(t),NameProvider:()=>new o2t,ScopeProvider:t=>new p2t(t),ScopeComputation:t=>new c2t(t),References:t=>new l2t(t)},serializer:{Hydrator:t=>new j2t(t),JsonSerializer:t=>new m2t(t)},validation:{DocumentValidator:t=>new b2t(t),ValidationRegistry:t=>new y2t(t)},shared:()=>e.shared}}function zv(e){return{ServiceRegistry:()=>new v2t,workspace:{LangiumDocuments:t=>new i2t(t),LangiumDocumentFactory:t=>new r2t(t),DocumentBuilder:t=>new A2t(t),IndexManager:t=>new I2t(t),WorkspaceManager:t=>new C2t(t),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new q2t,ConfigurationProvider:t=>new S2t(t)}}}var qq;(function(e){e.merge=(t,n)=>r5(r5({},t),n)})(qq||(qq={}));function Ol(e,t,n,r,a,o,l,u,h){const f=[e,t,n,r,a,o,l,u,h].reduce(r5,{});return Tpe(f)}const jq=Symbol("isProxy");function Tpe(e,t){const n=new Proxy({},{deleteProperty:()=>!1,get:(r,a)=>Kq(r,a,e,t||n),getOwnPropertyDescriptor:(r,a)=>(Kq(r,a,e,t||n),Object.getOwnPropertyDescriptor(r,a)),has:(r,a)=>a in e,ownKeys:()=>[...Reflect.ownKeys(e),jq]});return n[jq]=!0,n}const Xq=Symbol();function Kq(e,t,n,r){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===Xq)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in n){const a=n[t];e[t]=Xq;try{e[t]=typeof a=="function"?a(r):Tpe(a,r)}catch(o){throw e[t]=o instanceof Error?o:void 0,o}return e[t]}else return}function r5(e,t){if(t){for(const[n,r]of Object.entries(t))if(r!==void 0){const a=e[n];a!==null&&r!==null&&typeof a=="object"&&typeof r=="object"?e[n]=r5(a,r):e[n]=r}}return e}class X2t{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const Yv={fileSystemProvider:()=>new X2t},K2t={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},Z2t={AstReflection:()=>new jfe};function Q2t(){const e=Ol(zv(Yv),Z2t),t=Ol(Gv({shared:e}),K2t);return e.ServiceRegistry.register(t),t}function LE(e){var t;const n=Q2t(),r=n.serializer.JsonSerializer.deserialize(e);return n.shared.workspace.LangiumDocumentFactory.fromModel(r,Qm.parse(`memory://${(t=r.name)!==null&&t!==void 0?t:"grammar"}.langium`)),r}var J2t=Object.defineProperty,Lt=(e,t)=>J2t(e,"name",{value:t,configurable:!0}),ebt="Statement",tbt="Architecture";function nbt(e){return Ic.isInstance(e,tbt)}Lt(nbt,"isArchitecture");var Epe="Branch";function rbt(e){return Ic.isInstance(e,Epe)}Lt(rbt,"isBranch");var ibt="Checkout",abt="CherryPicking",wpe="Commit";function sbt(e){return Ic.isInstance(e,wpe)}Lt(sbt,"isCommit");var obt="Common";function lbt(e){return Ic.isInstance(e,obt)}Lt(lbt,"isCommon");var xpe="GitGraph";function cbt(e){return Ic.isInstance(e,xpe)}Lt(cbt,"isGitGraph");var ubt="Info";function hbt(e){return Ic.isInstance(e,ubt)}Lt(hbt,"isInfo");var Spe="Merge";function fbt(e){return Ic.isInstance(e,Spe)}Lt(fbt,"isMerge");var dbt="Packet";function pbt(e){return Ic.isInstance(e,dbt)}Lt(pbt,"isPacket");var gbt="PacketBlock";function mbt(e){return Ic.isInstance(e,gbt)}Lt(mbt,"isPacketBlock");var vbt="Pie";function ybt(e){return Ic.isInstance(e,vbt)}Lt(ybt,"isPie");var bbt="PieSection";function Tbt(e){return Ic.isInstance(e,bbt)}Lt(Tbt,"isPieSection");var Ebt="Direction",$1,Ape=($1=class extends hfe{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(t,n){switch(t){case Epe:case ibt:case abt:case wpe:case Spe:return this.isSubtype(ebt,n);case Ebt:return this.isSubtype(xpe,n);default:return!1}}getReferenceType(t){const n=`${t.container.$type}:${t.property}`;switch(n){default:throw new Error(`${n} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:t,properties:[]}}}},Lt($1,"MermaidAstReflection"),$1),Ic=new Ape,Zq,wbt=Lt(()=>Zq??(Zq=LE('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Qq,xbt=Lt(()=>Qq??(Qq=LE(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),Jq,Sbt=Lt(()=>Jq??(Jq=LE('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),ej,Abt=Lt(()=>ej??(ej=LE('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),tj,Ibt=Lt(()=>tj??(tj=LE(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),Cbt={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Rbt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},kbt={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Obt={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Nbt={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},_E={AstReflection:Lt(()=>new Ape,"AstReflection")},Lbt={Grammar:Lt(()=>wbt(),"Grammar"),LanguageMetaData:Lt(()=>Cbt,"LanguageMetaData"),parser:{}},_bt={Grammar:Lt(()=>xbt(),"Grammar"),LanguageMetaData:Lt(()=>Rbt,"LanguageMetaData"),parser:{}},Dbt={Grammar:Lt(()=>Sbt(),"Grammar"),LanguageMetaData:Lt(()=>kbt,"LanguageMetaData"),parser:{}},Mbt={Grammar:Lt(()=>Abt(),"Grammar"),LanguageMetaData:Lt(()=>Obt,"LanguageMetaData"),parser:{}},Pbt={Grammar:Lt(()=>Ibt(),"Grammar"),LanguageMetaData:Lt(()=>Nbt,"LanguageMetaData"),parser:{}},Fbt=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,Bbt=/accTitle[\t ]*:([^\n\r]*)/,Hbt=/title([\t ][^\n\r]*|)/,$bt={ACC_DESCR:Fbt,ACC_TITLE:Bbt,TITLE:Hbt},W1,XM=(W1=class extends ape{runConverter(t,n,r){let a=this.runCommonConverter(t,n,r);return a===void 0&&(a=this.runCustomConverter(t,n,r)),a===void 0?super.runConverter(t,n,r):a}runCommonConverter(t,n,r){const a=$bt[t.name];if(a===void 0)return;const o=a.exec(n);if(o!==null){if(o[1]!==void 0)return o[1].trim().replace(/[\t ]{2,}/gm," ");if(o[2]!==void 0)return o[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},Lt(W1,"AbstractMermaidValueConverter"),W1),U1,KM=(U1=class extends XM{runCustomConverter(t,n,r){}},Lt(U1,"CommonValueConverter"),U1),G1,Vv=(G1=class extends ipe{constructor(t){super(),this.keywords=new Set(t)}buildKeywordTokens(t,n,r){const a=super.buildKeywordTokens(t,n,r);return a.forEach(o=>{this.keywords.has(o.name)&&o.PATTERN!==void 0&&(o.PATTERN=new RegExp(o.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),a}},Lt(G1,"AbstractMermaidTokenBuilder"),G1),z1;z1=class extends Vv{},Lt(z1,"CommonTokenBuilder");var Y1,Wbt=(Y1=class extends Vv{constructor(){super(["gitGraph"])}},Lt(Y1,"GitGraphTokenBuilder"),Y1),Ipe={parser:{TokenBuilder:Lt(()=>new Wbt,"TokenBuilder"),ValueConverter:Lt(()=>new KM,"ValueConverter")}};function Cpe(e=Yv){const t=Ol(zv(e),_E),n=Ol(Gv({shared:t}),Pbt,Ipe);return t.ServiceRegistry.register(n),{shared:t,GitGraph:n}}Lt(Cpe,"createGitGraphServices");var V1,Ubt=(V1=class extends Vv{constructor(){super(["info","showInfo"])}},Lt(V1,"InfoTokenBuilder"),V1),Rpe={parser:{TokenBuilder:Lt(()=>new Ubt,"TokenBuilder"),ValueConverter:Lt(()=>new KM,"ValueConverter")}};function kpe(e=Yv){const t=Ol(zv(e),_E),n=Ol(Gv({shared:t}),Lbt,Rpe);return t.ServiceRegistry.register(n),{shared:t,Info:n}}Lt(kpe,"createInfoServices");var q1,Gbt=(q1=class extends Vv{constructor(){super(["packet-beta"])}},Lt(q1,"PacketTokenBuilder"),q1),Ope={parser:{TokenBuilder:Lt(()=>new Gbt,"TokenBuilder"),ValueConverter:Lt(()=>new KM,"ValueConverter")}};function Npe(e=Yv){const t=Ol(zv(e),_E),n=Ol(Gv({shared:t}),_bt,Ope);return t.ServiceRegistry.register(n),{shared:t,Packet:n}}Lt(Npe,"createPacketServices");var j1,zbt=(j1=class extends Vv{constructor(){super(["pie","showData"])}},Lt(j1,"PieTokenBuilder"),j1),X1,Ybt=(X1=class extends XM{runCustomConverter(t,n,r){if(t.name==="PIE_SECTION_LABEL")return n.replace(/"/g,"").trim()}},Lt(X1,"PieValueConverter"),X1),Lpe={parser:{TokenBuilder:Lt(()=>new zbt,"TokenBuilder"),ValueConverter:Lt(()=>new Ybt,"ValueConverter")}};function _pe(e=Yv){const t=Ol(zv(e),_E),n=Ol(Gv({shared:t}),Dbt,Lpe);return t.ServiceRegistry.register(n),{shared:t,Pie:n}}Lt(_pe,"createPieServices");var K1,Vbt=(K1=class extends Vv{constructor(){super(["architecture"])}},Lt(K1,"ArchitectureTokenBuilder"),K1),Z1,qbt=(Z1=class extends XM{runCustomConverter(t,n,r){if(t.name==="ARCH_ICON")return n.replace(/[()]/g,"").trim();if(t.name==="ARCH_TEXT_ICON")return n.replace(/["()]/g,"");if(t.name==="ARCH_TITLE")return n.replace(/[[\]]/g,"").trim()}},Lt(Z1,"ArchitectureValueConverter"),Z1),Dpe={parser:{TokenBuilder:Lt(()=>new Vbt,"TokenBuilder"),ValueConverter:Lt(()=>new qbt,"ValueConverter")}};function Mpe(e=Yv){const t=Ol(zv(e),_E),n=Ol(Gv({shared:t}),Mbt,Dpe);return t.ServiceRegistry.register(n),{shared:t,Architecture:n}}Lt(Mpe,"createArchitectureServices");var md={},jbt={info:Lt(async()=>{const{createInfoServices:e}=await wn(async()=>{const{createInfoServices:n}=await Promise.resolve().then(()=>c_t);return{createInfoServices:n}},void 0,import.meta.url),t=e().Info.parser.LangiumParser;md.info=t},"info"),packet:Lt(async()=>{const{createPacketServices:e}=await wn(async()=>{const{createPacketServices:n}=await Promise.resolve().then(()=>u_t);return{createPacketServices:n}},void 0,import.meta.url),t=e().Packet.parser.LangiumParser;md.packet=t},"packet"),pie:Lt(async()=>{const{createPieServices:e}=await wn(async()=>{const{createPieServices:n}=await Promise.resolve().then(()=>h_t);return{createPieServices:n}},void 0,import.meta.url),t=e().Pie.parser.LangiumParser;md.pie=t},"pie"),architecture:Lt(async()=>{const{createArchitectureServices:e}=await wn(async()=>{const{createArchitectureServices:n}=await Promise.resolve().then(()=>f_t);return{createArchitectureServices:n}},void 0,import.meta.url),t=e().Architecture.parser.LangiumParser;md.architecture=t},"architecture"),gitGraph:Lt(async()=>{const{createGitGraphServices:e}=await wn(async()=>{const{createGitGraphServices:n}=await Promise.resolve().then(()=>d_t);return{createGitGraphServices:n}},void 0,import.meta.url),t=e().GitGraph.parser.LangiumParser;md.gitGraph=t},"gitGraph")};async function qv(e,t){const n=jbt[e];if(!n)throw new Error(`Unknown diagram type: ${e}`);md[e]||await n();const a=md[e].parse(t);if(a.lexerErrors.length>0||a.parserErrors.length>0)throw new Xbt(a);return a.value}Lt(qv,"parse");var Q1,Xbt=(Q1=class extends Error{constructor(t){const n=t.lexerErrors.map(a=>a.message).join(`
`),r=t.parserErrors.map(a=>a.message).join(`
`);super(`Parsing failed: ${n} ${r}`),this.result=t}},Lt(Q1,"MermaidParseError"),Q1),rr={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Kbt=Mn.gitGraph,Vp=I(()=>Yh({...Kbt,...Br().gitGraph}),"getConfig"),wt=new SM(()=>{const e=Vp(),t=e.mainBranchName,n=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:n}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}});function K6(){return Poe({length:7})}I(K6,"getID");function Ppe(e,t){const n=Object.create(null);return e.reduce((r,a)=>{const o=t(a);return n[o]||(n[o]=!0,r.push(a)),r},[])}I(Ppe,"uniqBy");var Zbt=I(function(e){wt.records.direction=e},"setDirection"),Qbt=I(function(e){ve.debug("options str",e),e=e==null?void 0:e.trim(),e=e||"{}";try{wt.records.options=JSON.parse(e)}catch(t){ve.error("error while parsing gitGraph options",t.message)}},"setOptions"),Jbt=I(function(){return wt.records.options},"getOptions"),eTt=I(function(e){let t=e.msg,n=e.id;const r=e.type;let a=e.tags;ve.info("commit",t,n,r,a),ve.debug("Entering commit:",t,n,r,a);const o=Vp();n=ot.sanitizeText(n,o),t=ot.sanitizeText(t,o),a=a==null?void 0:a.map(u=>ot.sanitizeText(u,o));const l={id:n||wt.records.seq+"-"+K6(),message:t,seq:wt.records.seq++,type:r??rr.NORMAL,tags:a??[],parents:wt.records.head==null?[]:[wt.records.head.id],branch:wt.records.currBranch};wt.records.head=l,ve.info("main branch",o.mainBranchName),wt.records.commits.set(l.id,l),wt.records.branches.set(wt.records.currBranch,l.id),ve.debug("in pushCommit "+l.id)},"commit"),tTt=I(function(e){let t=e.name;const n=e.order;if(t=ot.sanitizeText(t,Vp()),wt.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);wt.records.branches.set(t,wt.records.head!=null?wt.records.head.id:null),wt.records.branchConfig.set(t,{name:t,order:n}),Fpe(t),ve.debug("in createBranch")},"branch"),nTt=I(e=>{let t=e.branch,n=e.id;const r=e.type,a=e.tags,o=Vp();t=ot.sanitizeText(t,o),n&&(n=ot.sanitizeText(n,o));const l=wt.records.branches.get(wt.records.currBranch),u=wt.records.branches.get(t),h=l?wt.records.commits.get(l):void 0,f=u?wt.records.commits.get(u):void 0;if(h&&f&&h.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(wt.records.currBranch===t){const g=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},g}if(h===void 0||!h){const g=new Error(`Incorrect usage of "merge". Current branch (${wt.records.currBranch})has no commits`);throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},g}if(!wt.records.branches.has(t)){const g=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},g}if(f===void 0||!f){const g=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},g}if(h===f){const g=new Error('Incorrect usage of "merge". Both branches have same head');throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},g}if(n&&wt.records.commits.has(n)){const g=new Error('Incorrect usage of "merge". Commit with id:'+n+" already exists, use different custom Id");throw g.hash={text:`merge ${t} ${n} ${r} ${a==null?void 0:a.join(" ")}`,token:`merge ${t} ${n} ${r} ${a==null?void 0:a.join(" ")}`,expected:[`merge ${t} ${n}_UNIQUE ${r} ${a==null?void 0:a.join(" ")}`]},g}const d=u||"",p={id:n||`${wt.records.seq}-${K6()}`,message:`merged branch ${t} into ${wt.records.currBranch}`,seq:wt.records.seq++,parents:wt.records.head==null?[]:[wt.records.head.id,d],branch:wt.records.currBranch,type:rr.MERGE,customType:r,customId:!!n,tags:a??[]};wt.records.head=p,wt.records.commits.set(p.id,p),wt.records.branches.set(wt.records.currBranch,p.id),ve.debug(wt.records.branches),ve.debug("in mergeBranch")},"merge"),rTt=I(function(e){let t=e.id,n=e.targetId,r=e.tags,a=e.parent;ve.debug("Entering cherryPick:",t,n,r);const o=Vp();if(t=ot.sanitizeText(t,o),n=ot.sanitizeText(n,o),r=r==null?void 0:r.map(h=>ot.sanitizeText(h,o)),a=ot.sanitizeText(a,o),!t||!wt.records.commits.has(t)){const h=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw h.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},h}const l=wt.records.commits.get(t);if(l===void 0||!l)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(a&&!(Array.isArray(l.parents)&&l.parents.includes(a)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const u=l.branch;if(l.type===rr.MERGE&&!a)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!n||!wt.records.commits.has(n)){if(u===wt.records.currBranch){const p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},p}const h=wt.records.branches.get(wt.records.currBranch);if(h===void 0||!h){const p=new Error(`Incorrect usage of "cherry-pick". Current branch (${wt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},p}const f=wt.records.commits.get(h);if(f===void 0||!f){const p=new Error(`Incorrect usage of "cherry-pick". Current branch (${wt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${n}`,token:`cherryPick ${t} ${n}`,expected:["cherry-pick abc"]},p}const d={id:wt.records.seq+"-"+K6(),message:`cherry-picked ${l==null?void 0:l.message} into ${wt.records.currBranch}`,seq:wt.records.seq++,parents:wt.records.head==null?[]:[wt.records.head.id,l.id],branch:wt.records.currBranch,type:rr.CHERRY_PICK,tags:r?r.filter(Boolean):[`cherry-pick:${l.id}${l.type===rr.MERGE?`|parent:${a}`:""}`]};wt.records.head=d,wt.records.commits.set(d.id,d),wt.records.branches.set(wt.records.currBranch,d.id),ve.debug(wt.records.branches),ve.debug("in cherryPick")}},"cherryPick"),Fpe=I(function(e){if(e=ot.sanitizeText(e,Vp()),wt.records.branches.has(e)){wt.records.currBranch=e;const t=wt.records.branches.get(wt.records.currBranch);t===void 0||!t?wt.records.head=null:wt.records.head=wt.records.commits.get(t)??null}else{const t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout");function y7(e,t,n){const r=e.indexOf(t);r===-1?e.push(n):e.splice(r,1,n)}I(y7,"upsert");function ZM(e){const t=e.reduce((a,o)=>a.seq>o.seq?a:o,e[0]);let n="";e.forEach(function(a){a===t?n+="	*":n+="	|"});const r=[n,t.id,t.seq];for(const a in wt.records.branches)wt.records.branches.get(a)===t.id&&r.push(a);if(ve.debug(r.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){const a=wt.records.commits.get(t.parents[0]);y7(e,t,a),t.parents[1]&&e.push(wt.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){const a=wt.records.commits.get(t.parents[0]);y7(e,t,a)}}e=Ppe(e,a=>a.id),ZM(e)}I(ZM,"prettyPrintCommitHistory");var iTt=I(function(){ve.debug(wt.records.commits);const e=Bpe()[0];ZM([e])},"prettyPrint"),aTt=I(function(){wt.reset(),fa()},"clear"),sTt=I(function(){return[...wt.records.branchConfig.values()].map((t,n)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${n}`)}).sort((t,n)=>(t.order??0)-(n.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),oTt=I(function(){return wt.records.branches},"getBranches"),lTt=I(function(){return wt.records.commits},"getCommits"),Bpe=I(function(){const e=[...wt.records.commits.values()];return e.forEach(function(t){ve.debug(t.id)}),e.sort((t,n)=>t.seq-n.seq),e},"getCommitsArray"),cTt=I(function(){return wt.records.currBranch},"getCurrentBranch"),uTt=I(function(){return wt.records.direction},"getDirection"),hTt=I(function(){return wt.records.head},"getHead"),Hpe={commitType:rr,getConfig:Vp,setDirection:Zbt,setOptions:Qbt,getOptions:Jbt,commit:eTt,branch:tTt,merge:nTt,cherryPick:rTt,checkout:Fpe,prettyPrint:iTt,clear:aTt,getBranchesAsObjArray:sTt,getBranches:oTt,getCommits:lTt,getCommitsArray:Bpe,getCurrentBranch:cTt,getDirection:uTt,getHead:hTt,setAccTitle:da,getAccTitle:La,getAccDescription:Da,setAccDescription:_a,setDiagramTitle:Ds,getDiagramTitle:Ma},fTt=I((e,t)=>{AE(e,t),e.dir&&t.setDirection(e.dir);for(const n of e.statements)dTt(n,t)},"populate"),dTt=I((e,t)=>{const r={Commit:I(a=>t.commit(pTt(a)),"Commit"),Branch:I(a=>t.branch(gTt(a)),"Branch"),Merge:I(a=>t.merge(mTt(a)),"Merge"),Checkout:I(a=>t.checkout(vTt(a)),"Checkout"),CherryPicking:I(a=>t.cherryPick(yTt(a)),"CherryPicking")}[e.$type];r?r(e):ve.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),pTt=I(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?rr[e.type]:rr.NORMAL,tags:e.tags??void 0}),"parseCommit"),gTt=I(e=>({name:e.name,order:e.order??0}),"parseBranch"),mTt=I(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?rr[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),vTt=I(e=>e.branch,"parseCheckout"),yTt=I(e=>{var n;return{id:e.id,targetId:"",tags:((n=e.tags)==null?void 0:n.length)===0?void 0:e.tags,parent:e.parent}},"parseCherryPicking"),bTt={parse:I(async e=>{const t=await qv("gitGraph",e);ve.debug(t),fTt(t,Hpe)},"parse")},Ak=Pe(),Oi=Ak==null?void 0:Ak.gitGraph,N0=10,L0=40,Wc=4,Zu=2,vd=8,no=new Map,oo=new Map,i5=30,g2=new Map,a5=[],S0=0,Nn="LR",TTt=I(()=>{no.clear(),oo.clear(),g2.clear(),S0=0,a5=[],Nn="LR"},"clear"),$pe=I(e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(r=>{const a=document.createElementNS("http://www.w3.org/2000/svg","tspan");a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.setAttribute("dy","1em"),a.setAttribute("x","0"),a.setAttribute("class","row"),a.textContent=r.trim(),t.appendChild(a)}),t},"drawText"),Wpe=I(e=>{let t,n,r;return Nn==="BT"?(n=I((a,o)=>a<=o,"comparisonFunc"),r=1/0):(n=I((a,o)=>a>=o,"comparisonFunc"),r=0),e.forEach(a=>{var l,u;const o=Nn==="TB"||Nn=="BT"?(l=oo.get(a))==null?void 0:l.y:(u=oo.get(a))==null?void 0:u.x;o!==void 0&&n(o,r)&&(t=a,r=o)}),t},"findClosestParent"),ETt=I(e=>{let t="",n=1/0;return e.forEach(r=>{const a=oo.get(r).y;a<=n&&(t=r,n=a)}),t||void 0},"findClosestParentBT"),wTt=I((e,t,n)=>{let r=n,a=n;const o=[];e.forEach(l=>{const u=t.get(l);if(!u)throw new Error(`Commit not found for key ${l}`);u.parents.length?(r=STt(u),a=Math.max(r,a)):o.push(u),ATt(u,r)}),r=a,o.forEach(l=>{ITt(l,r,n)}),e.forEach(l=>{const u=t.get(l);if(u!=null&&u.parents.length){const h=ETt(u.parents);r=oo.get(h).y-L0,r<=a&&(a=r);const f=no.get(u.branch).pos,d=r-N0;oo.set(u.id,{x:f,y:d})}})},"setParallelBTPos"),xTt=I(e=>{var r;const t=Wpe(e.parents.filter(a=>a!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);const n=(r=oo.get(t))==null?void 0:r.y;if(n===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return n},"findClosestParentPos"),STt=I(e=>xTt(e)+L0,"calculateCommitPosition"),ATt=I((e,t)=>{const n=no.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);const r=n.pos,a=t+N0;return oo.set(e.id,{x:r,y:a}),{x:r,y:a}},"setCommitPosition"),ITt=I((e,t,n)=>{const r=no.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);const a=t+n,o=r.pos;oo.set(e.id,{x:o,y:a})},"setRootPosition"),CTt=I((e,t,n,r,a,o)=>{if(o===rr.HIGHLIGHT)e.append("rect").attr("x",n.x-10).attr("y",n.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${a%vd} ${r}-outer`),e.append("rect").attr("x",n.x-6).attr("y",n.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${a%vd} ${r}-inner`);else if(o===rr.CHERRY_PICK)e.append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",10).attr("class",`commit ${t.id} ${r}`),e.append("circle").attr("cx",n.x-3).attr("cy",n.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${r}`),e.append("circle").attr("cx",n.x+3).attr("cy",n.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${r}`),e.append("line").attr("x1",n.x+3).attr("y1",n.y+1).attr("x2",n.x).attr("y2",n.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${r}`),e.append("line").attr("x1",n.x-3).attr("y1",n.y+1).attr("x2",n.x).attr("y2",n.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${r}`);else{const l=e.append("circle");if(l.attr("cx",n.x),l.attr("cy",n.y),l.attr("r",t.type===rr.MERGE?9:10),l.attr("class",`commit ${t.id} commit${a%vd}`),o===rr.MERGE){const u=e.append("circle");u.attr("cx",n.x),u.attr("cy",n.y),u.attr("r",6),u.attr("class",`commit ${r} ${t.id} commit${a%vd}`)}o===rr.REVERSE&&e.append("path").attr("d",`M ${n.x-5},${n.y-5}L${n.x+5},${n.y+5}M${n.x-5},${n.y+5}L${n.x+5},${n.y-5}`).attr("class",`commit ${r} ${t.id} commit${a%vd}`)}},"drawCommitBullet"),RTt=I((e,t,n,r)=>{var a;if(t.type!==rr.CHERRY_PICK&&(t.customId&&t.type===rr.MERGE||t.type!==rr.MERGE)&&(Oi!=null&&Oi.showCommitLabel)){const o=e.append("g"),l=o.insert("rect").attr("class","commit-label-bkg"),u=o.append("text").attr("x",r).attr("y",n.y+25).attr("class","commit-label").text(t.id),h=(a=u.node())==null?void 0:a.getBBox();if(h&&(l.attr("x",n.posWithOffset-h.width/2-Zu).attr("y",n.y+13.5).attr("width",h.width+2*Zu).attr("height",h.height+2*Zu),Nn==="TB"||Nn==="BT"?(l.attr("x",n.x-(h.width+4*Wc+5)).attr("y",n.y-12),u.attr("x",n.x-(h.width+4*Wc)).attr("y",n.y+h.height-12)):u.attr("x",n.posWithOffset-h.width/2),Oi.rotateCommitLabel))if(Nn==="TB"||Nn==="BT")u.attr("transform","rotate(-45, "+n.x+", "+n.y+")"),l.attr("transform","rotate(-45, "+n.x+", "+n.y+")");else{const f=-7.5-(h.width+10)/25*9.5,d=10+h.width/25*8.5;o.attr("transform","translate("+f+", "+d+") rotate(-45, "+r+", "+n.y+")")}}},"drawCommitLabel"),kTt=I((e,t,n,r)=>{var a;if(t.tags.length>0){let o=0,l=0,u=0;const h=[];for(const f of t.tags.reverse()){const d=e.insert("polygon"),p=e.append("circle"),g=e.append("text").attr("y",n.y-16-o).attr("class","tag-label").text(f),m=(a=g.node())==null?void 0:a.getBBox();if(!m)throw new Error("Tag bbox not found");l=Math.max(l,m.width),u=Math.max(u,m.height),g.attr("x",n.posWithOffset-m.width/2),h.push({tag:g,hole:p,rect:d,yOffset:o}),o+=20}for(const{tag:f,hole:d,rect:p,yOffset:g}of h){const m=u/2,y=n.y-19.2-g;if(p.attr("class","tag-label-bkg").attr("points",`
      ${r-l/2-Wc/2},${y+Zu}  
      ${r-l/2-Wc/2},${y-Zu}
      ${n.posWithOffset-l/2-Wc},${y-m-Zu}
      ${n.posWithOffset+l/2+Wc},${y-m-Zu}
      ${n.posWithOffset+l/2+Wc},${y+m+Zu}
      ${n.posWithOffset-l/2-Wc},${y+m+Zu}`),d.attr("cy",y).attr("cx",r-l/2+Wc/2).attr("r",1.5).attr("class","tag-hole"),Nn==="TB"||Nn==="BT"){const b=r+g;p.attr("class","tag-label-bkg").attr("points",`
        ${n.x},${b+2}
        ${n.x},${b-2}
        ${n.x+N0},${b-m-2}
        ${n.x+N0+l+4},${b-m-2}
        ${n.x+N0+l+4},${b+m+2}
        ${n.x+N0},${b+m+2}`).attr("transform","translate(12,12) rotate(45, "+n.x+","+r+")"),d.attr("cx",n.x+Wc/2).attr("cy",b).attr("transform","translate(12,12) rotate(45, "+n.x+","+r+")"),f.attr("x",n.x+5).attr("y",b+3).attr("transform","translate(14,14) rotate(45, "+n.x+","+r+")")}}}},"drawCommitTags"),OTt=I(e=>{switch(e.customType??e.type){case rr.NORMAL:return"commit-normal";case rr.REVERSE:return"commit-reverse";case rr.HIGHLIGHT:return"commit-highlight";case rr.MERGE:return"commit-merge";case rr.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),NTt=I((e,t,n,r)=>{const a={x:0,y:0};if(e.parents.length>0){const o=Wpe(e.parents);if(o){const l=r.get(o)??a;return t==="TB"?l.y+L0:t==="BT"?(r.get(e.id)??a).y-L0:l.x+L0}}else return t==="TB"?i5:t==="BT"?(r.get(e.id)??a).y-L0:0;return 0},"calculatePosition"),LTt=I((e,t,n)=>{var l,u;const r=Nn==="BT"&&n?t:t+N0,a=Nn==="TB"||Nn==="BT"?r:(l=no.get(e.branch))==null?void 0:l.pos,o=Nn==="TB"||Nn==="BT"?(u=no.get(e.branch))==null?void 0:u.pos:r;if(o===void 0||a===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:o,y:a,posWithOffset:r}},"getCommitPosition"),nj=I((e,t,n)=>{if(!Oi)throw new Error("GitGraph config not found");const r=e.append("g").attr("class","commit-bullets"),a=e.append("g").attr("class","commit-labels");let o=Nn==="TB"||Nn==="BT"?i5:0;const l=[...t.keys()],u=(Oi==null?void 0:Oi.parallelCommits)??!1,h=I((d,p)=>{var y,b;const g=(y=t.get(d))==null?void 0:y.seq,m=(b=t.get(p))==null?void 0:b.seq;return g!==void 0&&m!==void 0?g-m:0},"sortKeys");let f=l.sort(h);Nn==="BT"&&(u&&wTt(f,t,o),f=f.reverse()),f.forEach(d=>{var m;const p=t.get(d);if(!p)throw new Error(`Commit not found for key ${d}`);u&&(o=NTt(p,Nn,o,oo));const g=LTt(p,o,u);if(n){const y=OTt(p),b=p.customType??p.type,T=((m=no.get(p.branch))==null?void 0:m.index)??0;CTt(r,p,g,y,T,b),RTt(a,p,g,o),kTt(a,p,g,o)}Nn==="TB"||Nn==="BT"?oo.set(p.id,{x:g.x,y:g.posWithOffset}):oo.set(p.id,{x:g.posWithOffset,y:g.y}),o=Nn==="BT"&&u?o+L0:o+L0+N0,o>S0&&(S0=o)})},"drawCommits"),_Tt=I((e,t,n,r,a)=>{const l=(Nn==="TB"||Nn==="BT"?n.x<r.x:n.y<r.y)?t.branch:e.branch,u=I(f=>f.branch===l,"isOnBranchToGetCurve"),h=I(f=>f.seq>e.seq&&f.seq<t.seq,"isBetweenCommits");return[...a.values()].some(f=>h(f)&&u(f))},"shouldRerouteArrow"),m2=I((e,t,n=0)=>{const r=e+Math.abs(e-t)/2;if(n>5)return r;if(a5.every(l=>Math.abs(l-r)>=10))return a5.push(r),r;const o=Math.abs(e-t);return m2(e,t-o/5,n+1)},"findLane"),DTt=I((e,t,n,r)=>{var m,y,b,T,E;const a=oo.get(t.id),o=oo.get(n.id);if(a===void 0||o===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${n.id}`);const l=_Tt(t,n,a,o,r);let u="",h="",f=0,d=0,p=(m=no.get(n.branch))==null?void 0:m.index;n.type===rr.MERGE&&t.id!==n.parents[0]&&(p=(y=no.get(t.branch))==null?void 0:y.index);let g;if(l){u="A 10 10, 0, 0, 0,",h="A 10 10, 0, 0, 1,",f=10,d=10;const w=a.y<o.y?m2(a.y,o.y):m2(o.y,a.y),x=a.x<o.x?m2(a.x,o.x):m2(o.x,a.x);Nn==="TB"?a.x<o.x?g=`M ${a.x} ${a.y} L ${x-f} ${a.y} ${h} ${x} ${a.y+d} L ${x} ${o.y-f} ${u} ${x+d} ${o.y} L ${o.x} ${o.y}`:(p=(b=no.get(t.branch))==null?void 0:b.index,g=`M ${a.x} ${a.y} L ${x+f} ${a.y} ${u} ${x} ${a.y+d} L ${x} ${o.y-f} ${h} ${x-d} ${o.y} L ${o.x} ${o.y}`):Nn==="BT"?a.x<o.x?g=`M ${a.x} ${a.y} L ${x-f} ${a.y} ${u} ${x} ${a.y-d} L ${x} ${o.y+f} ${h} ${x+d} ${o.y} L ${o.x} ${o.y}`:(p=(T=no.get(t.branch))==null?void 0:T.index,g=`M ${a.x} ${a.y} L ${x+f} ${a.y} ${h} ${x} ${a.y-d} L ${x} ${o.y+f} ${u} ${x-d} ${o.y} L ${o.x} ${o.y}`):a.y<o.y?g=`M ${a.x} ${a.y} L ${a.x} ${w-f} ${u} ${a.x+d} ${w} L ${o.x-f} ${w} ${h} ${o.x} ${w+d} L ${o.x} ${o.y}`:(p=(E=no.get(t.branch))==null?void 0:E.index,g=`M ${a.x} ${a.y} L ${a.x} ${w+f} ${h} ${a.x+d} ${w} L ${o.x-f} ${w} ${u} ${o.x} ${w-d} L ${o.x} ${o.y}`)}else u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",f=20,d=20,Nn==="TB"?(a.x<o.x&&(n.type===rr.MERGE&&t.id!==n.parents[0]?g=`M ${a.x} ${a.y} L ${a.x} ${o.y-f} ${u} ${a.x+d} ${o.y} L ${o.x} ${o.y}`:g=`M ${a.x} ${a.y} L ${o.x-f} ${a.y} ${h} ${o.x} ${a.y+d} L ${o.x} ${o.y}`),a.x>o.x&&(u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",f=20,d=20,n.type===rr.MERGE&&t.id!==n.parents[0]?g=`M ${a.x} ${a.y} L ${a.x} ${o.y-f} ${h} ${a.x-d} ${o.y} L ${o.x} ${o.y}`:g=`M ${a.x} ${a.y} L ${o.x+f} ${a.y} ${u} ${o.x} ${a.y+d} L ${o.x} ${o.y}`),a.x===o.x&&(g=`M ${a.x} ${a.y} L ${o.x} ${o.y}`)):Nn==="BT"?(a.x<o.x&&(n.type===rr.MERGE&&t.id!==n.parents[0]?g=`M ${a.x} ${a.y} L ${a.x} ${o.y+f} ${h} ${a.x+d} ${o.y} L ${o.x} ${o.y}`:g=`M ${a.x} ${a.y} L ${o.x-f} ${a.y} ${u} ${o.x} ${a.y-d} L ${o.x} ${o.y}`),a.x>o.x&&(u="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",f=20,d=20,n.type===rr.MERGE&&t.id!==n.parents[0]?g=`M ${a.x} ${a.y} L ${a.x} ${o.y+f} ${u} ${a.x-d} ${o.y} L ${o.x} ${o.y}`:g=`M ${a.x} ${a.y} L ${o.x-f} ${a.y} ${u} ${o.x} ${a.y-d} L ${o.x} ${o.y}`),a.x===o.x&&(g=`M ${a.x} ${a.y} L ${o.x} ${o.y}`)):(a.y<o.y&&(n.type===rr.MERGE&&t.id!==n.parents[0]?g=`M ${a.x} ${a.y} L ${o.x-f} ${a.y} ${h} ${o.x} ${a.y+d} L ${o.x} ${o.y}`:g=`M ${a.x} ${a.y} L ${a.x} ${o.y-f} ${u} ${a.x+d} ${o.y} L ${o.x} ${o.y}`),a.y>o.y&&(n.type===rr.MERGE&&t.id!==n.parents[0]?g=`M ${a.x} ${a.y} L ${o.x-f} ${a.y} ${u} ${o.x} ${a.y-d} L ${o.x} ${o.y}`:g=`M ${a.x} ${a.y} L ${a.x} ${o.y+f} ${h} ${a.x+d} ${o.y} L ${o.x} ${o.y}`),a.y===o.y&&(g=`M ${a.x} ${a.y} L ${o.x} ${o.y}`));if(g===void 0)throw new Error("Line definition not found");e.append("path").attr("d",g).attr("class","arrow arrow"+p%vd)},"drawArrow"),MTt=I((e,t)=>{const n=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(r=>{const a=t.get(r);a.parents&&a.parents.length>0&&a.parents.forEach(o=>{DTt(n,t.get(o),a,t)})})},"drawArrows"),PTt=I((e,t)=>{const n=e.append("g");t.forEach((r,a)=>{var y;const o=a%vd,l=(y=no.get(r.name))==null?void 0:y.pos;if(l===void 0)throw new Error(`Position not found for branch ${r.name}`);const u=n.append("line");u.attr("x1",0),u.attr("y1",l),u.attr("x2",S0),u.attr("y2",l),u.attr("class","branch branch"+o),Nn==="TB"?(u.attr("y1",i5),u.attr("x1",l),u.attr("y2",S0),u.attr("x2",l)):Nn==="BT"&&(u.attr("y1",S0),u.attr("x1",l),u.attr("y2",i5),u.attr("x2",l)),a5.push(l);const h=r.name,f=$pe(h),d=n.insert("rect"),g=n.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);g.node().appendChild(f);const m=f.getBBox();d.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-m.width-4-((Oi==null?void 0:Oi.rotateCommitLabel)===!0?30:0)).attr("y",-m.height/2+8).attr("width",m.width+18).attr("height",m.height+4),g.attr("transform","translate("+(-m.width-14-((Oi==null?void 0:Oi.rotateCommitLabel)===!0?30:0))+", "+(l-m.height/2-1)+")"),Nn==="TB"?(d.attr("x",l-m.width/2-10).attr("y",0),g.attr("transform","translate("+(l-m.width/2-5)+", 0)")):Nn==="BT"?(d.attr("x",l-m.width/2-10).attr("y",S0),g.attr("transform","translate("+(l-m.width/2-5)+", "+S0+")")):d.attr("transform","translate(-19, "+(l-m.height/2)+")")})},"drawBranches"),FTt=I(function(e,t,n,r,a){return no.set(e,{pos:t,index:n}),t+=50+(a?40:0)+(Nn==="TB"||Nn==="BT"?r.width/2:0),t},"setBranchPosition"),BTt=I(function(e,t,n,r){if(TTt(),ve.debug("in gitgraph renderer",e+`
`,"id:",t,n),!Oi)throw new Error("GitGraph config not found");const a=Oi.rotateCommitLabel??!1,o=r.db;g2=o.getCommits();const l=o.getBranchesAsObjArray();Nn=o.getDirection();const u=it(`[id="${t}"]`);let h=0;l.forEach((f,d)=>{var T;const p=$pe(f.name),g=u.append("g"),m=g.insert("g").attr("class","branchLabel"),y=m.insert("g").attr("class","label branch-label");(T=y.node())==null||T.appendChild(p);const b=p.getBBox();h=FTt(f.name,h,d,b,a),y.remove(),m.remove(),g.remove()}),nj(u,g2,!1),Oi.showBranches&&PTt(u,l),MTt(u,g2),nj(u,g2,!0),fn.insertTitle(u,"gitTitleText",Oi.titleTopMargin??0,o.getDiagramTitle()),pie(void 0,u,Oi.diagramPadding,Oi.useMaxWidth)},"draw"),HTt={draw:BTt},$Tt=I(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),WTt=$Tt,UTt={parser:bTt,db:Hpe,renderer:HTt,styles:WTt};const GTt=Object.freeze(Object.defineProperty({__proto__:null,diagram:UTt},Symbol.toStringTag,{value:"Module"}));var Upe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cs,function(){var n="day";return function(r,a,o){var l=function(f){return f.add(4-f.isoWeekday(),n)},u=a.prototype;u.isoWeekYear=function(){return l(this).year()},u.isoWeek=function(f){if(!this.$utils().u(f))return this.add(7*(f-this.isoWeek()),n);var d,p,g,m,y=l(this),b=(d=this.isoWeekYear(),p=this.$u,g=(p?o.utc:o)().year(d).startOf("year"),m=4-g.isoWeekday(),g.isoWeekday()>4&&(m+=7),g.add(m,n));return y.diff(b,"week")+1},u.isoWeekday=function(f){return this.$utils().u(f)?this.day()||7:this.day(this.day()%7?f:f-7)};var h=u.startOf;u.startOf=function(f,d){var p=this.$utils(),g=!!p.u(d)||d;return p.p(f)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):h.bind(this)(f,d)}}})})(Upe);var zTt=Upe.exports;const YTt=Go(zTt);var Gpe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cs,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,o=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,h={},f=function(T){return(T=+T)+(T>68?1900:2e3)},d=function(T){return function(E){this[T]=+E}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(T){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var w=E.match(/([+-]|\d\d)/g),x=60*w[1]+(+w[2]||0);return x===0?0:w[0]==="+"?-x:x}(T)}],g=function(T){var E=h[T];return E&&(E.indexOf?E:E.s.concat(E.f))},m=function(T,E){var w,x=h.meridiem;if(x){for(var S=1;S<=24;S+=1)if(T.indexOf(x(S,0,E))>-1){w=S>12;break}}else w=T===(E?"pm":"PM");return w},y={A:[u,function(T){this.afternoon=m(T,!1)}],a:[u,function(T){this.afternoon=m(T,!0)}],Q:[a,function(T){this.month=3*(T-1)+1}],S:[a,function(T){this.milliseconds=100*+T}],SS:[o,function(T){this.milliseconds=10*+T}],SSS:[/\d{3}/,function(T){this.milliseconds=+T}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[o,d("day")],Do:[u,function(T){var E=h.ordinal,w=T.match(/\d+/);if(this.day=w[0],E)for(var x=1;x<=31;x+=1)E(x).replace(/\[|\]/g,"")===T&&(this.day=x)}],w:[l,d("week")],ww:[o,d("week")],M:[l,d("month")],MM:[o,d("month")],MMM:[u,function(T){var E=g("months"),w=(g("monthsShort")||E.map(function(x){return x.slice(0,3)})).indexOf(T)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[u,function(T){var E=g("months").indexOf(T)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,d("year")],YY:[o,function(T){this.year=f(T)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function b(T){var E,w;E=T,w=h&&h.formats;for(var x=(T=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(L,k,M){var $=M&&M.toUpperCase();return k||w[M]||n[M]||w[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,F,B){return F||B.slice(1)})})).match(r),S=x.length,A=0;A<S;A+=1){var R=x[A],C=y[R],N=C&&C[0],O=C&&C[1];x[A]=O?{regex:N,parser:O}:R.replace(/^\[|\]$/g,"")}return function(L){for(var k={},M=0,$=0;M<S;M+=1){var _=x[M];if(typeof _=="string")$+=_.length;else{var F=_.regex,B=_.parser,D=L.slice($),P=F.exec(D)[0];B.call(k,P),L=L.replace(P,"")}}return function(H){var W=H.afternoon;if(W!==void 0){var U=H.hours;W?U<12&&(H.hours+=12):U===12&&(H.hours=0),delete H.afternoon}}(k),k}}return function(T,E,w){w.p.customParseFormat=!0,T&&T.parseTwoDigitYear&&(f=T.parseTwoDigitYear);var x=E.prototype,S=x.parse;x.parse=function(A){var R=A.date,C=A.utc,N=A.args;this.$u=C;var O=N[1];if(typeof O=="string"){var L=N[2]===!0,k=N[3]===!0,M=L||k,$=N[2];k&&($=N[2]),h=this.$locale(),!L&&$&&(h=w.Ls[$]),this.$d=function(D,P,H,W){try{if(["x","X"].indexOf(P)>-1)return new Date((P==="X"?1e3:1)*D);var U=b(P)(D),V=U.year,G=U.month,ee=U.day,ce=U.hours,Q=U.minutes,re=U.seconds,le=U.milliseconds,Y=U.zone,K=U.week,Z=new Date,z=ee||(V||G?1:Z.getDate()),X=V||Z.getFullYear(),te=0;V&&!G||(te=G>0?G-1:Z.getMonth());var ne,Ae=ce||0,he=Q||0,oe=re||0,de=le||0;return Y?new Date(Date.UTC(X,te,z,Ae,he,oe,de+60*Y.offset*1e3)):H?new Date(Date.UTC(X,te,z,Ae,he,oe,de)):(ne=new Date(X,te,z,Ae,he,oe,de),K&&(ne=W(ne).week(K).toDate()),ne)}catch{return new Date("")}}(R,O,C,w),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),M&&R!=this.format(O)&&(this.$d=new Date("")),h={}}else if(O instanceof Array)for(var _=O.length,F=1;F<=_;F+=1){N[1]=O[F-1];var B=w.apply(this,N);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}F===_&&(this.$d=new Date(""))}else S.call(this,A)}}})})(Gpe);var VTt=Gpe.exports;const qTt=Go(VTt);var zpe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Cs,function(){return function(n,r){var a=r.prototype,o=a.format;a.format=function(l){var u=this,h=this.$locale();if(!this.isValid())return o.bind(this)(l);var f=this.$utils(),d=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return h.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return h.ordinal(u.week(),"W");case"w":case"ww":return f.s(u.week(),p==="w"?1:2,"0");case"W":case"WW":return f.s(u.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return f.s(String(u.$H===0?24:u.$H),p==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return p}});return o.bind(this)(d)}}})})(zpe);var jTt=zpe.exports;const XTt=Go(jTt);var b7=function(){var e=I(function($,_,F,B){for(F=F||{},B=$.length;B--;F[$[B]]=_);return F},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],n=[1,26],r=[1,27],a=[1,28],o=[1,29],l=[1,30],u=[1,31],h=[1,32],f=[1,33],d=[1,34],p=[1,9],g=[1,10],m=[1,11],y=[1,12],b=[1,13],T=[1,14],E=[1,15],w=[1,16],x=[1,19],S=[1,20],A=[1,21],R=[1,22],C=[1,23],N=[1,25],O=[1,35],L={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:I(function(_,F,B,D,P,H,W){var U=H.length-1;switch(P){case 1:return H[U-1];case 2:this.$=[];break;case 3:H[U-1].push(H[U]),this.$=H[U-1];break;case 4:case 5:this.$=H[U];break;case 6:case 7:this.$=[];break;case 8:D.setWeekday("monday");break;case 9:D.setWeekday("tuesday");break;case 10:D.setWeekday("wednesday");break;case 11:D.setWeekday("thursday");break;case 12:D.setWeekday("friday");break;case 13:D.setWeekday("saturday");break;case 14:D.setWeekday("sunday");break;case 15:D.setWeekend("friday");break;case 16:D.setWeekend("saturday");break;case 17:D.setDateFormat(H[U].substr(11)),this.$=H[U].substr(11);break;case 18:D.enableInclusiveEndDates(),this.$=H[U].substr(18);break;case 19:D.TopAxis(),this.$=H[U].substr(8);break;case 20:D.setAxisFormat(H[U].substr(11)),this.$=H[U].substr(11);break;case 21:D.setTickInterval(H[U].substr(13)),this.$=H[U].substr(13);break;case 22:D.setExcludes(H[U].substr(9)),this.$=H[U].substr(9);break;case 23:D.setIncludes(H[U].substr(9)),this.$=H[U].substr(9);break;case 24:D.setTodayMarker(H[U].substr(12)),this.$=H[U].substr(12);break;case 27:D.setDiagramTitle(H[U].substr(6)),this.$=H[U].substr(6);break;case 28:this.$=H[U].trim(),D.setAccTitle(this.$);break;case 29:case 30:this.$=H[U].trim(),D.setAccDescription(this.$);break;case 31:D.addSection(H[U].substr(8)),this.$=H[U].substr(8);break;case 33:D.addTask(H[U-1],H[U]),this.$="task";break;case 34:this.$=H[U-1],D.setClickEvent(H[U-1],H[U],null);break;case 35:this.$=H[U-2],D.setClickEvent(H[U-2],H[U-1],H[U]);break;case 36:this.$=H[U-2],D.setClickEvent(H[U-2],H[U-1],null),D.setLink(H[U-2],H[U]);break;case 37:this.$=H[U-3],D.setClickEvent(H[U-3],H[U-2],H[U-1]),D.setLink(H[U-3],H[U]);break;case 38:this.$=H[U-2],D.setClickEvent(H[U-2],H[U],null),D.setLink(H[U-2],H[U-1]);break;case 39:this.$=H[U-3],D.setClickEvent(H[U-3],H[U-1],H[U]),D.setLink(H[U-3],H[U-2]);break;case 40:this.$=H[U-1],D.setLink(H[U-1],H[U]);break;case 41:case 47:this.$=H[U-1]+" "+H[U];break;case 42:case 43:case 45:this.$=H[U-2]+" "+H[U-1]+" "+H[U];break;case 44:case 46:this.$=H[U-3]+" "+H[U-2]+" "+H[U-1]+" "+H[U];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:n,13:r,14:a,15:o,16:l,17:u,18:h,19:18,20:f,21:d,22:p,23:g,24:m,25:y,26:b,27:T,28:E,29:w,30:x,31:S,33:A,35:R,36:C,37:24,38:N,40:O},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:n,13:r,14:a,15:o,16:l,17:u,18:h,19:18,20:f,21:d,22:p,23:g,24:m,25:y,26:b,27:T,28:E,29:w,30:x,31:S,33:A,35:R,36:C,37:24,38:N,40:O},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:I(function(_,F){if(F.recoverable)this.trace(_);else{var B=new Error(_);throw B.hash=F,B}},"parseError"),parse:I(function(_){var F=this,B=[0],D=[],P=[null],H=[],W=this.table,U="",V=0,G=0,ee=2,ce=1,Q=H.slice.call(arguments,1),re=Object.create(this.lexer),le={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(le.yy[Y]=this.yy[Y]);re.setInput(_,le.yy),le.yy.lexer=re,le.yy.parser=this,typeof re.yylloc>"u"&&(re.yylloc={});var K=re.yylloc;H.push(K);var Z=re.options&&re.options.ranges;typeof le.yy.parseError=="function"?this.parseError=le.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function z(ke){B.length=B.length-2*ke,P.length=P.length-ke,H.length=H.length-ke}I(z,"popStack");function X(){var ke;return ke=D.pop()||re.lex()||ce,typeof ke!="number"&&(ke instanceof Array&&(D=ke,ke=D.pop()),ke=F.symbols_[ke]||ke),ke}I(X,"lex");for(var te,ne,Ae,he,oe={},de,be,fe,Ie;;){if(ne=B[B.length-1],this.defaultActions[ne]?Ae=this.defaultActions[ne]:((te===null||typeof te>"u")&&(te=X()),Ae=W[ne]&&W[ne][te]),typeof Ae>"u"||!Ae.length||!Ae[0]){var Re="";Ie=[];for(de in W[ne])this.terminals_[de]&&de>ee&&Ie.push("'"+this.terminals_[de]+"'");re.showPosition?Re="Parse error on line "+(V+1)+`:
`+re.showPosition()+`
Expecting `+Ie.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Re="Parse error on line "+(V+1)+": Unexpected "+(te==ce?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Re,{text:re.match,token:this.terminals_[te]||te,line:re.yylineno,loc:K,expected:Ie})}if(Ae[0]instanceof Array&&Ae.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ne+", token: "+te);switch(Ae[0]){case 1:B.push(te),P.push(re.yytext),H.push(re.yylloc),B.push(Ae[1]),te=null,G=re.yyleng,U=re.yytext,V=re.yylineno,K=re.yylloc;break;case 2:if(be=this.productions_[Ae[1]][1],oe.$=P[P.length-be],oe._$={first_line:H[H.length-(be||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(be||1)].first_column,last_column:H[H.length-1].last_column},Z&&(oe._$.range=[H[H.length-(be||1)].range[0],H[H.length-1].range[1]]),he=this.performAction.apply(oe,[U,G,V,le.yy,Ae[1],P,H].concat(Q)),typeof he<"u")return he;be&&(B=B.slice(0,-1*be*2),P=P.slice(0,-1*be),H=H.slice(0,-1*be)),B.push(this.productions_[Ae[1]][0]),P.push(oe.$),H.push(oe._$),fe=W[B[B.length-2]][B[B.length-1]],B.push(fe);break;case 3:return!0}}return!0},"parse")},k=function(){var $={EOF:1,parseError:I(function(F,B){if(this.yy.parser)this.yy.parser.parseError(F,B);else throw new Error(F)},"parseError"),setInput:I(function(_,F){return this.yy=F||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var _=this._input[0];this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_;var F=_.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},"input"),unput:I(function(_){var F=_.length,B=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var D=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1&&(this.yylineno-=B.length-1);var P=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===D.length?this.yylloc.first_column:0)+D[D.length-B.length].length-B[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[P[0],P[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(_){this.unput(this.match.slice(_))},"less"),pastInput:I(function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var _=this.pastInput(),F=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+F+"^"},"showPosition"),test_match:I(function(_,F){var B,D,P;if(this.options.backtrack_lexer&&(P={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(P.yylloc.range=this.yylloc.range.slice(0))),D=_[0].match(/(?:\r\n?|\n).*/g),D&&(this.yylineno+=D.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:D?D[D.length-1].length-D[D.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],B=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),B)return B;if(this._backtrack){for(var H in P)this[H]=P[H];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _,F,B,D;this._more||(this.yytext="",this.match="");for(var P=this._currentRules(),H=0;H<P.length;H++)if(B=this._input.match(this.rules[P[H]]),B&&(!F||B[0].length>F[0].length)){if(F=B,D=H,this.options.backtrack_lexer){if(_=this.test_match(B,P[H]),_!==!1)return _;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?(_=this.test_match(F,P[D]),_!==!1?_:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var F=this.next();return F||this.lex()},"lex"),begin:I(function(F){this.conditionStack.push(F)},"begin"),popState:I(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:I(function(F){this.begin(F)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(F,B,D,P){switch(D){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return $}();L.lexer=k;function M(){this.yy={}}return I(M,"Parser"),M.prototype=L,L.Parser=M,new M}();b7.parser=b7;var KTt=b7;Xa.extend(YTt);Xa.extend(qTt);Xa.extend(XTt);var rj={friday:5,saturday:6},tu="",QM="",JM=void 0,eP="",DE=[],ME=[],tP=new Map,nP=[],s5=[],Jm="",rP="",Ype=["active","done","crit","milestone"],iP=[],PE=!1,aP=!1,sP="sunday",o5="saturday",T7=0,ZTt=I(function(){nP=[],s5=[],Jm="",iP=[],_x=0,w7=void 0,Dx=void 0,Fi=[],tu="",QM="",rP="",JM=void 0,eP="",DE=[],ME=[],PE=!1,aP=!1,T7=0,tP=new Map,fa(),sP="sunday",o5="saturday"},"clear"),QTt=I(function(e){QM=e},"setAxisFormat"),JTt=I(function(){return QM},"getAxisFormat"),eEt=I(function(e){JM=e},"setTickInterval"),tEt=I(function(){return JM},"getTickInterval"),nEt=I(function(e){eP=e},"setTodayMarker"),rEt=I(function(){return eP},"getTodayMarker"),iEt=I(function(e){tu=e},"setDateFormat"),aEt=I(function(){PE=!0},"enableInclusiveEndDates"),sEt=I(function(){return PE},"endDatesAreInclusive"),oEt=I(function(){aP=!0},"enableTopAxis"),lEt=I(function(){return aP},"topAxisEnabled"),cEt=I(function(e){rP=e},"setDisplayMode"),uEt=I(function(){return rP},"getDisplayMode"),hEt=I(function(){return tu},"getDateFormat"),fEt=I(function(e){DE=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),dEt=I(function(){return DE},"getIncludes"),pEt=I(function(e){ME=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),gEt=I(function(){return ME},"getExcludes"),mEt=I(function(){return tP},"getLinks"),vEt=I(function(e){Jm=e,nP.push(e)},"addSection"),yEt=I(function(){return nP},"getSections"),bEt=I(function(){let e=ij();const t=10;let n=0;for(;!e&&n<t;)e=ij(),n++;return s5=Fi,s5},"getTasks"),Vpe=I(function(e,t,n,r){return r.includes(e.format(t.trim()))?!1:n.includes("weekends")&&(e.isoWeekday()===rj[o5]||e.isoWeekday()===rj[o5]+1)||n.includes(e.format("dddd").toLowerCase())?!0:n.includes(e.format(t.trim()))},"isInvalidDate"),TEt=I(function(e){sP=e},"setWeekday"),EEt=I(function(){return sP},"getWeekday"),wEt=I(function(e){o5=e},"setWeekend"),qpe=I(function(e,t,n,r){if(!n.length||e.manualEndTime)return;let a;e.startTime instanceof Date?a=Xa(e.startTime):a=Xa(e.startTime,t,!0),a=a.add(1,"d");let o;e.endTime instanceof Date?o=Xa(e.endTime):o=Xa(e.endTime,t,!0);const[l,u]=xEt(a,o,t,n,r);e.endTime=l.toDate(),e.renderEndTime=u},"checkTaskDates"),xEt=I(function(e,t,n,r,a){let o=!1,l=null;for(;e<=t;)o||(l=t.toDate()),o=Vpe(e,n,r,a),o&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,l]},"fixTaskDates"),E7=I(function(e,t,n){n=n.trim();const a=/^after\s+(?<ids>[\d\w- ]+)/.exec(n);if(a!==null){let l=null;for(const h of a.groups.ids.split(" ")){let f=qp(h);f!==void 0&&(!l||f.endTime>l.endTime)&&(l=f)}if(l)return l.endTime;const u=new Date;return u.setHours(0,0,0,0),u}let o=Xa(n,t.trim(),!0);if(o.isValid())return o.toDate();{ve.debug("Invalid date:"+n),ve.debug("With date format:"+t.trim());const l=new Date(n);if(l===void 0||isNaN(l.getTime())||l.getFullYear()<-1e4||l.getFullYear()>1e4)throw new Error("Invalid date:"+n);return l}},"getStartDate"),jpe=I(function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),Xpe=I(function(e,t,n,r=!1){n=n.trim();const o=/^until\s+(?<ids>[\d\w- ]+)/.exec(n);if(o!==null){let d=null;for(const g of o.groups.ids.split(" ")){let m=qp(g);m!==void 0&&(!d||m.startTime<d.startTime)&&(d=m)}if(d)return d.startTime;const p=new Date;return p.setHours(0,0,0,0),p}let l=Xa(n,t.trim(),!0);if(l.isValid())return r&&(l=l.add(1,"d")),l.toDate();let u=Xa(e);const[h,f]=jpe(n);if(!Number.isNaN(h)){const d=u.add(h,f);d.isValid()&&(u=d)}return u.toDate()},"getEndDate"),_x=0,w1=I(function(e){return e===void 0?(_x=_x+1,"task"+_x):e},"parseId"),SEt=I(function(e,t){let n;t.substr(0,1)===":"?n=t.substr(1,t.length):n=t;const r=n.split(","),a={};oP(r,a,Ype);for(let l=0;l<r.length;l++)r[l]=r[l].trim();let o="";switch(r.length){case 1:a.id=w1(),a.startTime=e.endTime,o=r[0];break;case 2:a.id=w1(),a.startTime=E7(void 0,tu,r[0]),o=r[1];break;case 3:a.id=w1(r[0]),a.startTime=E7(void 0,tu,r[1]),o=r[2];break}return o&&(a.endTime=Xpe(a.startTime,tu,o,PE),a.manualEndTime=Xa(o,"YYYY-MM-DD",!0).isValid(),qpe(a,tu,ME,DE)),a},"compileData"),AEt=I(function(e,t){let n;t.substr(0,1)===":"?n=t.substr(1,t.length):n=t;const r=n.split(","),a={};oP(r,a,Ype);for(let o=0;o<r.length;o++)r[o]=r[o].trim();switch(r.length){case 1:a.id=w1(),a.startTime={type:"prevTaskEnd",id:e},a.endTime={data:r[0]};break;case 2:a.id=w1(),a.startTime={type:"getStartDate",startData:r[0]},a.endTime={data:r[1]};break;case 3:a.id=w1(r[0]),a.startTime={type:"getStartDate",startData:r[1]},a.endTime={data:r[2]};break}return a},"parseData"),w7,Dx,Fi=[],Kpe={},IEt=I(function(e,t){const n={section:Jm,type:Jm,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},r=AEt(Dx,t);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=Dx,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=T7,T7++;const a=Fi.push(n);Dx=n.id,Kpe[n.id]=a-1},"addTask"),qp=I(function(e){const t=Kpe[e];return Fi[t]},"findTaskById"),CEt=I(function(e,t){const n={section:Jm,type:Jm,description:e,task:e,classes:[]},r=SEt(w7,t);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,w7=n,s5.push(n)},"addTaskOrg"),ij=I(function(){const e=I(function(n){const r=Fi[n];let a="";switch(Fi[n].raw.startTime.type){case"prevTaskEnd":{const o=qp(r.prevTaskId);r.startTime=o.endTime;break}case"getStartDate":a=E7(void 0,tu,Fi[n].raw.startTime.startData),a&&(Fi[n].startTime=a);break}return Fi[n].startTime&&(Fi[n].endTime=Xpe(Fi[n].startTime,tu,Fi[n].raw.endTime.data,PE),Fi[n].endTime&&(Fi[n].processed=!0,Fi[n].manualEndTime=Xa(Fi[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),qpe(Fi[n],tu,ME,DE))),Fi[n].processed},"compileTask");let t=!0;for(const[n,r]of Fi.entries())e(n),t=t&&r.processed;return t},"compileTasks"),REt=I(function(e,t){let n=t;Pe().securityLevel!=="loose"&&(n=Af(t)),e.split(",").forEach(function(r){qp(r)!==void 0&&(Qpe(r,()=>{window.open(n,"_self")}),tP.set(r,n))}),Zpe(e,"clickable")},"setLink"),Zpe=I(function(e,t){e.split(",").forEach(function(n){let r=qp(n);r!==void 0&&r.classes.push(t)})},"setClass"),kEt=I(function(e,t,n){if(Pe().securityLevel!=="loose"||t===void 0)return;let r=[];if(typeof n=="string"){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<r.length;o++){let l=r[o].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),r[o]=l}}r.length===0&&r.push(e),qp(e)!==void 0&&Qpe(e,()=>{fn.runFunc(t,...r)})},"setClickFun"),Qpe=I(function(e,t){iP.push(function(){const n=document.querySelector(`[id="${e}"]`);n!==null&&n.addEventListener("click",function(){t()})},function(){const n=document.querySelector(`[id="${e}-text"]`);n!==null&&n.addEventListener("click",function(){t()})})},"pushFun"),OEt=I(function(e,t,n){e.split(",").forEach(function(r){kEt(r,t,n)}),Zpe(e,"clickable")},"setClickEvent"),NEt=I(function(e){iP.forEach(function(t){t(e)})},"bindFunctions"),LEt={getConfig:I(()=>Pe().gantt,"getConfig"),clear:ZTt,setDateFormat:iEt,getDateFormat:hEt,enableInclusiveEndDates:aEt,endDatesAreInclusive:sEt,enableTopAxis:oEt,topAxisEnabled:lEt,setAxisFormat:QTt,getAxisFormat:JTt,setTickInterval:eEt,getTickInterval:tEt,setTodayMarker:nEt,getTodayMarker:rEt,setAccTitle:da,getAccTitle:La,setDiagramTitle:Ds,getDiagramTitle:Ma,setDisplayMode:cEt,getDisplayMode:uEt,setAccDescription:_a,getAccDescription:Da,addSection:vEt,getSections:yEt,getTasks:bEt,addTask:IEt,findTaskById:qp,addTaskOrg:CEt,setIncludes:fEt,getIncludes:dEt,setExcludes:pEt,getExcludes:gEt,setClickEvent:OEt,setLink:REt,getLinks:mEt,bindFunctions:NEt,parseDuration:jpe,isInvalidDate:Vpe,setWeekday:TEt,getWeekday:EEt,setWeekend:wEt};function oP(e,t,n){let r=!0;for(;r;)r=!1,n.forEach(function(a){const o="^\\s*"+a+"\\s*$",l=new RegExp(o);e[0].match(l)&&(t[a]=!0,e.shift(1),r=!0)})}I(oP,"getTaskTags");var _Et=I(function(){ve.debug("Something is calling, setConf, remove the call")},"setConf"),aj={monday:Ub,tuesday:$se,wednesday:Wse,thursday:np,friday:Use,saturday:Gse,sunday:lE},DEt=I((e,t)=>{let n=[...e].map(()=>-1/0),r=[...e].sort((o,l)=>o.startTime-l.startTime||o.order-l.order),a=0;for(const o of r)for(let l=0;l<n.length;l++)if(o.startTime>=n[l]){n[l]=o.endTime,o.order=l+t,l>a&&(a=l);break}return a},"getMaxIntersections"),Uu,MEt=I(function(e,t,n,r){const a=Pe().gantt,o=Pe().securityLevel;let l;o==="sandbox"&&(l=it("#i"+t));const u=it(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=o==="sandbox"?l.nodes()[0].contentDocument:document,f=h.getElementById(t);Uu=f.parentElement.offsetWidth,Uu===void 0&&(Uu=1200),a.useWidth!==void 0&&(Uu=a.useWidth);const d=r.db.getTasks();let p=[];for(const N of d)p.push(N.type);p=C(p);const g={};let m=2*a.topPadding;if(r.db.getDisplayMode()==="compact"||a.displayMode==="compact"){const N={};for(const L of d)N[L.section]===void 0?N[L.section]=[L]:N[L.section].push(L);let O=0;for(const L of Object.keys(N)){const k=DEt(N[L],O)+1;O+=k,m+=k*(a.barHeight+a.barGap),g[L]=k}}else{m+=d.length*(a.barHeight+a.barGap);for(const N of p)g[N]=d.filter(O=>O.type===N).length}f.setAttribute("viewBox","0 0 "+Uu+" "+m);const y=u.select(`[id="${t}"]`),b=pKe().domain([Xze(d,function(N){return N.startTime}),jze(d,function(N){return N.endTime})]).rangeRound([0,Uu-a.leftPadding-a.rightPadding]);function T(N,O){const L=N.startTime,k=O.startTime;let M=0;return L>k?M=1:L<k&&(M=-1),M}I(T,"taskCompare"),d.sort(T),E(d,Uu,m),ss(y,m,Uu,a.useMaxWidth),y.append("text").text(r.db.getDiagramTitle()).attr("x",Uu/2).attr("y",a.titleTopMargin).attr("class","titleText");function E(N,O,L){const k=a.barHeight,M=k+a.barGap,$=a.topPadding,_=a.leftPadding,F=_m().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(yqe);x(M,$,_,O,L,N,r.db.getExcludes(),r.db.getIncludes()),S(_,$,O,L),w(N,M,$,_,k,F,O),A(M,$),R(_,$,O,L)}I(E,"makeGantt");function w(N,O,L,k,M,$,_){const B=[...new Set(N.map(W=>W.order))].map(W=>N.find(U=>U.order===W));y.append("g").selectAll("rect").data(B).enter().append("rect").attr("x",0).attr("y",function(W,U){return U=W.order,U*O+L-2}).attr("width",function(){return _-a.rightPadding/2}).attr("height",O).attr("class",function(W){for(const[U,V]of p.entries())if(W.type===V)return"section section"+U%a.numberSectionStyles;return"section section0"});const D=y.append("g").selectAll("rect").data(N).enter(),P=r.db.getLinks();if(D.append("rect").attr("id",function(W){return W.id}).attr("rx",3).attr("ry",3).attr("x",function(W){return W.milestone?b(W.startTime)+k+.5*(b(W.endTime)-b(W.startTime))-.5*M:b(W.startTime)+k}).attr("y",function(W,U){return U=W.order,U*O+L}).attr("width",function(W){return W.milestone?M:b(W.renderEndTime||W.endTime)-b(W.startTime)}).attr("height",M).attr("transform-origin",function(W,U){return U=W.order,(b(W.startTime)+k+.5*(b(W.endTime)-b(W.startTime))).toString()+"px "+(U*O+L+.5*M).toString()+"px"}).attr("class",function(W){const U="task";let V="";W.classes.length>0&&(V=W.classes.join(" "));let G=0;for(const[ce,Q]of p.entries())W.type===Q&&(G=ce%a.numberSectionStyles);let ee="";return W.active?W.crit?ee+=" activeCrit":ee=" active":W.done?W.crit?ee=" doneCrit":ee=" done":W.crit&&(ee+=" crit"),ee.length===0&&(ee=" task"),W.milestone&&(ee=" milestone "+ee),ee+=G,ee+=" "+V,U+ee}),D.append("text").attr("id",function(W){return W.id+"-text"}).text(function(W){return W.task}).attr("font-size",a.fontSize).attr("x",function(W){let U=b(W.startTime),V=b(W.renderEndTime||W.endTime);W.milestone&&(U+=.5*(b(W.endTime)-b(W.startTime))-.5*M),W.milestone&&(V=U+M);const G=this.getBBox().width;return G>V-U?V+G+1.5*a.leftPadding>_?U+k-5:V+k+5:(V-U)/2+U+k}).attr("y",function(W,U){return U=W.order,U*O+a.barHeight/2+(a.fontSize/2-2)+L}).attr("text-height",M).attr("class",function(W){const U=b(W.startTime);let V=b(W.endTime);W.milestone&&(V=U+M);const G=this.getBBox().width;let ee="";W.classes.length>0&&(ee=W.classes.join(" "));let ce=0;for(const[re,le]of p.entries())W.type===le&&(ce=re%a.numberSectionStyles);let Q="";return W.active&&(W.crit?Q="activeCritText"+ce:Q="activeText"+ce),W.done?W.crit?Q=Q+" doneCritText"+ce:Q=Q+" doneText"+ce:W.crit&&(Q=Q+" critText"+ce),W.milestone&&(Q+=" milestoneText"),G>V-U?V+G+1.5*a.leftPadding>_?ee+" taskTextOutsideLeft taskTextOutside"+ce+" "+Q:ee+" taskTextOutsideRight taskTextOutside"+ce+" "+Q+" width-"+G:ee+" taskText taskText"+ce+" "+Q+" width-"+G}),Pe().securityLevel==="sandbox"){let W;W=it("#i"+t);const U=W.nodes()[0].contentDocument;D.filter(function(V){return P.has(V.id)}).each(function(V){var G=U.querySelector("#"+V.id),ee=U.querySelector("#"+V.id+"-text");const ce=G.parentNode;var Q=U.createElement("a");Q.setAttribute("xlink:href",P.get(V.id)),Q.setAttribute("target","_top"),ce.appendChild(Q),Q.appendChild(G),Q.appendChild(ee)})}}I(w,"drawRects");function x(N,O,L,k,M,$,_,F){if(_.length===0&&F.length===0)return;let B,D;for(const{startTime:G,endTime:ee}of $)(B===void 0||G<B)&&(B=G),(D===void 0||ee>D)&&(D=ee);if(!B||!D)return;if(Xa(D).diff(Xa(B),"year")>5){ve.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const P=r.db.getDateFormat(),H=[];let W=null,U=Xa(B);for(;U.valueOf()<=D;)r.db.isInvalidDate(U,P,_,F)?W?W.end=U:W={start:U,end:U}:W&&(H.push(W),W=null),U=U.add(1,"d");y.append("g").selectAll("rect").data(H).enter().append("rect").attr("id",function(G){return"exclude-"+G.start.format("YYYY-MM-DD")}).attr("x",function(G){return b(G.start)+L}).attr("y",a.gridLineStartPadding).attr("width",function(G){const ee=G.end.add(1,"day");return b(ee)-b(G.start)}).attr("height",M-O-a.gridLineStartPadding).attr("transform-origin",function(G,ee){return(b(G.start)+L+.5*(b(G.end)-b(G.start))).toString()+"px "+(ee*N+.5*M).toString()+"px"}).attr("class","exclude-range")}I(x,"drawExcludeDays");function S(N,O,L,k){let M=iYe(b).tickSize(-k+O+a.gridLineStartPadding).tickFormat(tS(r.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));const _=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||a.tickInterval);if(_!==null){const F=_[1],B=_[2],D=r.db.getWeekday()||a.weekday;switch(B){case"millisecond":M.ticks(Dm.every(F));break;case"second":M.ticks(R0.every(F));break;case"minute":M.ticks($b.every(F));break;case"hour":M.ticks(Wb.every(F));break;case"day":M.ticks(tp.every(F));break;case"week":M.ticks(aj[D].every(F));break;case"month":M.ticks(Gb.every(F));break}}if(y.append("g").attr("class","grid").attr("transform","translate("+N+", "+(k-50)+")").call(M).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||a.topAxis){let F=rYe(b).tickSize(-k+O+a.gridLineStartPadding).tickFormat(tS(r.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(_!==null){const B=_[1],D=_[2],P=r.db.getWeekday()||a.weekday;switch(D){case"millisecond":F.ticks(Dm.every(B));break;case"second":F.ticks(R0.every(B));break;case"minute":F.ticks($b.every(B));break;case"hour":F.ticks(Wb.every(B));break;case"day":F.ticks(tp.every(B));break;case"week":F.ticks(aj[P].every(B));break;case"month":F.ticks(Gb.every(B));break}}y.append("g").attr("class","grid").attr("transform","translate("+N+", "+O+")").call(F).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}I(S,"makeGrid");function A(N,O){let L=0;const k=Object.keys(g).map(M=>[M,g[M]]);y.append("g").selectAll("text").data(k).enter().append(function(M){const $=M[0].split(ot.lineBreakRegex),_=-($.length-1)/2,F=h.createElementNS("http://www.w3.org/2000/svg","text");F.setAttribute("dy",_+"em");for(const[B,D]of $.entries()){const P=h.createElementNS("http://www.w3.org/2000/svg","tspan");P.setAttribute("alignment-baseline","central"),P.setAttribute("x","10"),B>0&&P.setAttribute("dy","1em"),P.textContent=D,F.appendChild(P)}return F}).attr("x",10).attr("y",function(M,$){if($>0)for(let _=0;_<$;_++)return L+=k[$-1][1],M[1]*N/2+L*N+O;else return M[1]*N/2+O}).attr("font-size",a.sectionFontSize).attr("class",function(M){for(const[$,_]of p.entries())if(M[0]===_)return"sectionTitle sectionTitle"+$%a.numberSectionStyles;return"sectionTitle"})}I(A,"vertLabels");function R(N,O,L,k){const M=r.db.getTodayMarker();if(M==="off")return;const $=y.append("g").attr("class","today"),_=new Date,F=$.append("line");F.attr("x1",b(_)+N).attr("x2",b(_)+N).attr("y1",a.titleTopMargin).attr("y2",k-a.titleTopMargin).attr("class","today"),M!==""&&F.attr("style",M.replace(/,/g,";"))}I(R,"drawToday");function C(N){const O={},L=[];for(let k=0,M=N.length;k<M;++k)Object.prototype.hasOwnProperty.call(O,N[k])||(O[N[k]]=!0,L.push(N[k]));return L}I(C,"checkUnique")},"draw"),PEt={setConf:_Et,draw:MEt},FEt=I(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),BEt=FEt,HEt={parser:KTt,db:LEt,renderer:PEt,styles:BEt};const $Et=Object.freeze(Object.defineProperty({__proto__:null,diagram:HEt},Symbol.toStringTag,{value:"Module"}));var WEt={parse:I(async e=>{const t=await qv("info",e);ve.debug(t)},"parse")},UEt={version:s8},GEt=I(()=>UEt.version,"getVersion"),zEt={getVersion:GEt},YEt=I((e,t,n)=>{ve.debug(`rendering info diagram
`+e);const r=Cf(t);ss(r,100,400,!0),r.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${n}`)},"draw"),VEt={draw:YEt},qEt={parser:WEt,db:zEt,renderer:VEt};const jEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:qEt},Symbol.toStringTag,{value:"Module"}));var XEt=Mn.pie,lP={sections:new Map,showData:!1},l5=lP.sections,cP=lP.showData,KEt=structuredClone(XEt),ZEt=I(()=>structuredClone(KEt),"getConfig"),QEt=I(()=>{l5=new Map,cP=lP.showData,fa()},"clear"),JEt=I(({label:e,value:t})=>{l5.has(e)||(l5.set(e,t),ve.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),ewt=I(()=>l5,"getSections"),twt=I(e=>{cP=e},"setShowData"),nwt=I(()=>cP,"getShowData"),Jpe={getConfig:ZEt,clear:QEt,setDiagramTitle:Ds,getDiagramTitle:Ma,setAccTitle:da,getAccTitle:La,setAccDescription:_a,getAccDescription:Da,addSection:JEt,getSections:ewt,setShowData:twt,getShowData:nwt},rwt=I((e,t)=>{AE(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),iwt={parse:I(async e=>{const t=await qv("pie",e);ve.debug(t),rwt(t,Jpe)},"parse")},awt=I(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),swt=awt,owt=I(e=>{const t=[...e.entries()].map(r=>({label:r[0],value:r[1]})).sort((r,a)=>a.value-r.value);return kKe().value(r=>r.value)(t)},"createPieArcs"),lwt=I((e,t,n,r)=>{ve.debug(`rendering pie chart
`+e);const a=r.db,o=Pe(),l=Yh(a.getConfig(),o.pie),u=40,h=18,f=4,d=450,p=d,g=Cf(t),m=g.append("g");m.attr("transform","translate("+p/2+","+d/2+")");const{themeVariables:y}=o;let[b]=If(y.pieOuterStrokeWidth);b??(b=2);const T=l.textPosition,E=Math.min(p,d)/2-u,w=Pm().innerRadius(0).outerRadius(E),x=Pm().innerRadius(E*T).outerRadius(E*T);m.append("circle").attr("cx",0).attr("cy",0).attr("r",E+b/2).attr("class","pieOuterCircle");const S=a.getSections(),A=owt(S),R=[y.pie1,y.pie2,y.pie3,y.pie4,y.pie5,y.pie6,y.pie7,y.pie8,y.pie9,y.pie10,y.pie11,y.pie12],C=XA(R);m.selectAll("mySlices").data(A).enter().append("path").attr("d",w).attr("fill",M=>C(M.data.label)).attr("class","pieCircle");let N=0;S.forEach(M=>{N+=M}),m.selectAll("mySlices").data(A).enter().append("text").text(M=>(M.data.value/N*100).toFixed(0)+"%").attr("transform",M=>"translate("+x.centroid(M)+")").style("text-anchor","middle").attr("class","slice"),m.append("text").text(a.getDiagramTitle()).attr("x",0).attr("y",-400/2).attr("class","pieTitleText");const O=m.selectAll(".legend").data(C.domain()).enter().append("g").attr("class","legend").attr("transform",(M,$)=>{const _=h+f,F=_*C.domain().length/2,B=12*h,D=$*_-F;return"translate("+B+","+D+")"});O.append("rect").attr("width",h).attr("height",h).style("fill",C).style("stroke",C),O.data(A).append("text").attr("x",h+f).attr("y",h-f).text(M=>{const{label:$,value:_}=M.data;return a.getShowData()?`${$} [${_}]`:$});const L=Math.max(...O.selectAll("text").nodes().map(M=>(M==null?void 0:M.getBoundingClientRect().width)??0)),k=p+u+h+f+L;g.attr("viewBox",`0 0 ${k} ${d}`),ss(g,d,k,l.useMaxWidth)},"draw"),cwt={draw:lwt},uwt={parser:iwt,db:Jpe,renderer:cwt,styles:swt};const hwt=Object.freeze(Object.defineProperty({__proto__:null,diagram:uwt},Symbol.toStringTag,{value:"Module"}));var x7=function(){var e=I(function(Oe,ae,ge,Ee){for(ge=ge||{},Ee=Oe.length;Ee--;ge[Oe[Ee]]=ae);return ge},"o"),t=[1,3],n=[1,4],r=[1,5],a=[1,6],o=[1,7],l=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],h=[55,56,57],f=[2,36],d=[1,37],p=[1,36],g=[1,38],m=[1,35],y=[1,43],b=[1,41],T=[1,14],E=[1,23],w=[1,18],x=[1,19],S=[1,20],A=[1,21],R=[1,22],C=[1,24],N=[1,25],O=[1,26],L=[1,27],k=[1,28],M=[1,29],$=[1,32],_=[1,33],F=[1,34],B=[1,39],D=[1,40],P=[1,42],H=[1,44],W=[1,62],U=[1,61],V=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],G=[1,65],ee=[1,66],ce=[1,67],Q=[1,68],re=[1,69],le=[1,70],Y=[1,71],K=[1,72],Z=[1,73],z=[1,74],X=[1,75],te=[1,76],ne=[4,5,6,7,8,9,10,11,12,13,14,15,18],Ae=[1,90],he=[1,91],oe=[1,92],de=[1,99],be=[1,93],fe=[1,96],Ie=[1,94],Re=[1,95],ke=[1,97],De=[1,98],se=[1,102],j=[10,55,56,57],me=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ue={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:I(function(ae,ge,Ee,ye,Se,Ce,Fe){var Ne=Ce.length-1;switch(Se){case 23:this.$=Ce[Ne];break;case 24:this.$=Ce[Ne-1]+""+Ce[Ne];break;case 26:this.$=Ce[Ne-1]+Ce[Ne];break;case 27:this.$=[Ce[Ne].trim()];break;case 28:Ce[Ne-2].push(Ce[Ne].trim()),this.$=Ce[Ne-2];break;case 29:this.$=Ce[Ne-4],ye.addClass(Ce[Ne-2],Ce[Ne]);break;case 37:this.$=[];break;case 42:this.$=Ce[Ne].trim(),ye.setDiagramTitle(this.$);break;case 43:this.$=Ce[Ne].trim(),ye.setAccTitle(this.$);break;case 44:case 45:this.$=Ce[Ne].trim(),ye.setAccDescription(this.$);break;case 46:ye.addSection(Ce[Ne].substr(8)),this.$=Ce[Ne].substr(8);break;case 47:ye.addPoint(Ce[Ne-3],"",Ce[Ne-1],Ce[Ne],[]);break;case 48:ye.addPoint(Ce[Ne-4],Ce[Ne-3],Ce[Ne-1],Ce[Ne],[]);break;case 49:ye.addPoint(Ce[Ne-4],"",Ce[Ne-2],Ce[Ne-1],Ce[Ne]);break;case 50:ye.addPoint(Ce[Ne-5],Ce[Ne-4],Ce[Ne-2],Ce[Ne-1],Ce[Ne]);break;case 51:ye.setXAxisLeftText(Ce[Ne-2]),ye.setXAxisRightText(Ce[Ne]);break;case 52:Ce[Ne-1].text+=" ⟶ ",ye.setXAxisLeftText(Ce[Ne-1]);break;case 53:ye.setXAxisLeftText(Ce[Ne]);break;case 54:ye.setYAxisBottomText(Ce[Ne-2]),ye.setYAxisTopText(Ce[Ne]);break;case 55:Ce[Ne-1].text+=" ⟶ ",ye.setYAxisBottomText(Ce[Ne-1]);break;case 56:ye.setYAxisBottomText(Ce[Ne]);break;case 57:ye.setQuadrant1Text(Ce[Ne]);break;case 58:ye.setQuadrant2Text(Ce[Ne]);break;case 59:ye.setQuadrant3Text(Ce[Ne]);break;case 60:ye.setQuadrant4Text(Ce[Ne]);break;case 64:this.$={text:Ce[Ne],type:"text"};break;case 65:this.$={text:Ce[Ne-1].text+""+Ce[Ne],type:Ce[Ne-1].type};break;case 66:this.$={text:Ce[Ne],type:"text"};break;case 67:this.$={text:Ce[Ne],type:"markdown"};break;case 68:this.$=Ce[Ne];break;case 69:this.$=Ce[Ne-1]+""+Ce[Ne];break}},"anonymous"),table:[{18:t,26:1,27:2,28:n,55:r,56:a,57:o},{1:[3]},{18:t,26:8,27:2,28:n,55:r,56:a,57:o},{18:t,26:9,27:2,28:n,55:r,56:a,57:o},e(l,[2,33],{29:10}),e(u,[2,61]),e(u,[2,62]),e(u,[2,63]),{1:[2,30]},{1:[2,31]},e(h,f,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:g,12:m,13:y,14:b,18:T,25:E,35:w,37:x,39:S,41:A,42:R,48:C,50:N,51:O,52:L,53:k,54:M,60:$,61:_,63:F,64:B,65:D,66:P,67:H}),e(l,[2,34]),{27:45,55:r,56:a,57:o},e(h,[2,37]),e(h,f,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:g,12:m,13:y,14:b,18:T,25:E,35:w,37:x,39:S,41:A,42:R,48:C,50:N,51:O,52:L,53:k,54:M,60:$,61:_,63:F,64:B,65:D,66:P,67:H}),e(h,[2,39]),e(h,[2,40]),e(h,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(h,[2,45]),e(h,[2,46]),{18:[1,50]},{4:d,5:p,10:g,12:m,13:y,14:b,43:51,58:31,60:$,61:_,63:F,64:B,65:D,66:P,67:H},{4:d,5:p,10:g,12:m,13:y,14:b,43:52,58:31,60:$,61:_,63:F,64:B,65:D,66:P,67:H},{4:d,5:p,10:g,12:m,13:y,14:b,43:53,58:31,60:$,61:_,63:F,64:B,65:D,66:P,67:H},{4:d,5:p,10:g,12:m,13:y,14:b,43:54,58:31,60:$,61:_,63:F,64:B,65:D,66:P,67:H},{4:d,5:p,10:g,12:m,13:y,14:b,43:55,58:31,60:$,61:_,63:F,64:B,65:D,66:P,67:H},{4:d,5:p,10:g,12:m,13:y,14:b,43:56,58:31,60:$,61:_,63:F,64:B,65:D,66:P,67:H},{4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,44:[1,57],47:[1,58],58:60,59:59,63:F,64:B,65:D,66:P,67:H},e(V,[2,64]),e(V,[2,66]),e(V,[2,67]),e(V,[2,70]),e(V,[2,71]),e(V,[2,72]),e(V,[2,73]),e(V,[2,74]),e(V,[2,75]),e(V,[2,76]),e(V,[2,77]),e(V,[2,78]),e(V,[2,79]),e(V,[2,80]),e(l,[2,35]),e(h,[2,38]),e(h,[2,42]),e(h,[2,43]),e(h,[2,44]),{3:64,4:G,5:ee,6:ce,7:Q,8:re,9:le,10:Y,11:K,12:Z,13:z,14:X,15:te,21:63},e(h,[2,53],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,49:[1,77],63:F,64:B,65:D,66:P,67:H}),e(h,[2,56],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,49:[1,78],63:F,64:B,65:D,66:P,67:H}),e(h,[2,57],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,63:F,64:B,65:D,66:P,67:H}),e(h,[2,58],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,63:F,64:B,65:D,66:P,67:H}),e(h,[2,59],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,63:F,64:B,65:D,66:P,67:H}),e(h,[2,60],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,63:F,64:B,65:D,66:P,67:H}),{45:[1,79]},{44:[1,80]},e(V,[2,65]),e(V,[2,81]),e(V,[2,82]),e(V,[2,83]),{3:82,4:G,5:ee,6:ce,7:Q,8:re,9:le,10:Y,11:K,12:Z,13:z,14:X,15:te,18:[1,81]},e(ne,[2,23]),e(ne,[2,1]),e(ne,[2,2]),e(ne,[2,3]),e(ne,[2,4]),e(ne,[2,5]),e(ne,[2,6]),e(ne,[2,7]),e(ne,[2,8]),e(ne,[2,9]),e(ne,[2,10]),e(ne,[2,11]),e(ne,[2,12]),e(h,[2,52],{58:31,43:83,4:d,5:p,10:g,12:m,13:y,14:b,60:$,61:_,63:F,64:B,65:D,66:P,67:H}),e(h,[2,55],{58:31,43:84,4:d,5:p,10:g,12:m,13:y,14:b,60:$,61:_,63:F,64:B,65:D,66:P,67:H}),{46:[1,85]},{45:[1,86]},{4:Ae,5:he,6:oe,8:de,11:be,13:fe,16:89,17:Ie,18:Re,19:ke,20:De,22:88,23:87},e(ne,[2,24]),e(h,[2,51],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,63:F,64:B,65:D,66:P,67:H}),e(h,[2,54],{59:59,58:60,4:d,5:p,8:W,10:g,12:m,13:y,14:b,18:U,63:F,64:B,65:D,66:P,67:H}),e(h,[2,47],{22:88,16:89,23:100,4:Ae,5:he,6:oe,8:de,11:be,13:fe,17:Ie,18:Re,19:ke,20:De}),{46:[1,101]},e(h,[2,29],{10:se}),e(j,[2,27],{16:103,4:Ae,5:he,6:oe,8:de,11:be,13:fe,17:Ie,18:Re,19:ke,20:De}),e(me,[2,25]),e(me,[2,13]),e(me,[2,14]),e(me,[2,15]),e(me,[2,16]),e(me,[2,17]),e(me,[2,18]),e(me,[2,19]),e(me,[2,20]),e(me,[2,21]),e(me,[2,22]),e(h,[2,49],{10:se}),e(h,[2,48],{22:88,16:89,23:104,4:Ae,5:he,6:oe,8:de,11:be,13:fe,17:Ie,18:Re,19:ke,20:De}),{4:Ae,5:he,6:oe,8:de,11:be,13:fe,16:89,17:Ie,18:Re,19:ke,20:De,22:105},e(me,[2,26]),e(h,[2,50],{10:se}),e(j,[2,28],{16:103,4:Ae,5:he,6:oe,8:de,11:be,13:fe,17:Ie,18:Re,19:ke,20:De})],defaultActions:{8:[2,30],9:[2,31]},parseError:I(function(ae,ge){if(ge.recoverable)this.trace(ae);else{var Ee=new Error(ae);throw Ee.hash=ge,Ee}},"parseError"),parse:I(function(ae){var ge=this,Ee=[0],ye=[],Se=[null],Ce=[],Fe=this.table,Ne="",Ve=0,et=0,Rt=2,pt=1,ut=Ce.slice.call(arguments,1),qe=Object.create(this.lexer),je={yy:{}};for(var ft in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ft)&&(je.yy[ft]=this.yy[ft]);qe.setInput(ae,je.yy),je.yy.lexer=qe,je.yy.parser=this,typeof qe.yylloc>"u"&&(qe.yylloc={});var Ke=qe.yylloc;Ce.push(Ke);var at=qe.options&&qe.options.ranges;typeof je.yy.parseError=="function"?this.parseError=je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ft(In){Ee.length=Ee.length-2*In,Se.length=Se.length-In,Ce.length=Ce.length-In}I(Ft,"popStack");function st(){var In;return In=ye.pop()||qe.lex()||pt,typeof In!="number"&&(In instanceof Array&&(ye=In,In=ye.pop()),In=ge.symbols_[In]||In),In}I(st,"lex");for(var Je,gt,Nt,yt,nn={},Wn,ln,Kr,cr;;){if(gt=Ee[Ee.length-1],this.defaultActions[gt]?Nt=this.defaultActions[gt]:((Je===null||typeof Je>"u")&&(Je=st()),Nt=Fe[gt]&&Fe[gt][Je]),typeof Nt>"u"||!Nt.length||!Nt[0]){var Ar="";cr=[];for(Wn in Fe[gt])this.terminals_[Wn]&&Wn>Rt&&cr.push("'"+this.terminals_[Wn]+"'");qe.showPosition?Ar="Parse error on line "+(Ve+1)+`:
`+qe.showPosition()+`
Expecting `+cr.join(", ")+", got '"+(this.terminals_[Je]||Je)+"'":Ar="Parse error on line "+(Ve+1)+": Unexpected "+(Je==pt?"end of input":"'"+(this.terminals_[Je]||Je)+"'"),this.parseError(Ar,{text:qe.match,token:this.terminals_[Je]||Je,line:qe.yylineno,loc:Ke,expected:cr})}if(Nt[0]instanceof Array&&Nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+gt+", token: "+Je);switch(Nt[0]){case 1:Ee.push(Je),Se.push(qe.yytext),Ce.push(qe.yylloc),Ee.push(Nt[1]),Je=null,et=qe.yyleng,Ne=qe.yytext,Ve=qe.yylineno,Ke=qe.yylloc;break;case 2:if(ln=this.productions_[Nt[1]][1],nn.$=Se[Se.length-ln],nn._$={first_line:Ce[Ce.length-(ln||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(ln||1)].first_column,last_column:Ce[Ce.length-1].last_column},at&&(nn._$.range=[Ce[Ce.length-(ln||1)].range[0],Ce[Ce.length-1].range[1]]),yt=this.performAction.apply(nn,[Ne,et,Ve,je.yy,Nt[1],Se,Ce].concat(ut)),typeof yt<"u")return yt;ln&&(Ee=Ee.slice(0,-1*ln*2),Se=Se.slice(0,-1*ln),Ce=Ce.slice(0,-1*ln)),Ee.push(this.productions_[Nt[1]][0]),Se.push(nn.$),Ce.push(nn._$),Kr=Fe[Ee[Ee.length-2]][Ee[Ee.length-1]],Ee.push(Kr);break;case 3:return!0}}return!0},"parse")},we=function(){var Oe={EOF:1,parseError:I(function(ge,Ee){if(this.yy.parser)this.yy.parser.parseError(ge,Ee);else throw new Error(ge)},"parseError"),setInput:I(function(ae,ge){return this.yy=ge||this.yy||{},this._input=ae,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var ae=this._input[0];this.yytext+=ae,this.yyleng++,this.offset++,this.match+=ae,this.matched+=ae;var ge=ae.match(/(?:\r\n?|\n).*/g);return ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ae},"input"),unput:I(function(ae){var ge=ae.length,Ee=ae.split(/(?:\r\n?|\n)/g);this._input=ae+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ge),this.offset-=ge;var ye=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ee.length-1&&(this.yylineno-=Ee.length-1);var Se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ee?(Ee.length===ye.length?this.yylloc.first_column:0)+ye[ye.length-Ee.length].length-Ee[0].length:this.yylloc.first_column-ge},this.options.ranges&&(this.yylloc.range=[Se[0],Se[0]+this.yyleng-ge]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(ae){this.unput(this.match.slice(ae))},"less"),pastInput:I(function(){var ae=this.matched.substr(0,this.matched.length-this.match.length);return(ae.length>20?"...":"")+ae.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var ae=this.match;return ae.length<20&&(ae+=this._input.substr(0,20-ae.length)),(ae.substr(0,20)+(ae.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var ae=this.pastInput(),ge=new Array(ae.length+1).join("-");return ae+this.upcomingInput()+`
`+ge+"^"},"showPosition"),test_match:I(function(ae,ge){var Ee,ye,Se;if(this.options.backtrack_lexer&&(Se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Se.yylloc.range=this.yylloc.range.slice(0))),ye=ae[0].match(/(?:\r\n?|\n).*/g),ye&&(this.yylineno+=ye.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ye?ye[ye.length-1].length-ye[ye.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ae[0].length},this.yytext+=ae[0],this.match+=ae[0],this.matches=ae,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ae[0].length),this.matched+=ae[0],Ee=this.performAction.call(this,this.yy,this,ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ee)return Ee;if(this._backtrack){for(var Ce in Se)this[Ce]=Se[Ce];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ae,ge,Ee,ye;this._more||(this.yytext="",this.match="");for(var Se=this._currentRules(),Ce=0;Ce<Se.length;Ce++)if(Ee=this._input.match(this.rules[Se[Ce]]),Ee&&(!ge||Ee[0].length>ge[0].length)){if(ge=Ee,ye=Ce,this.options.backtrack_lexer){if(ae=this.test_match(Ee,Se[Ce]),ae!==!1)return ae;if(this._backtrack){ge=!1;continue}else return!1}else if(!this.options.flex)break}return ge?(ae=this.test_match(ge,Se[ye]),ae!==!1?ae:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var ge=this.next();return ge||this.lex()},"lex"),begin:I(function(ge){this.conditionStack.push(ge)},"begin"),popState:I(function(){var ge=this.conditionStack.length-1;return ge>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(ge){return ge=this.conditionStack.length-1-Math.abs(ge||0),ge>=0?this.conditionStack[ge]:"INITIAL"},"topState"),pushState:I(function(ge){this.begin(ge)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(ge,Ee,ye,Se){switch(ye){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Oe}();ue.lexer=we;function ie(){this.yy={}}return I(ie,"Parser"),ie.prototype=ue,ue.Parser=ie,new ie}();x7.parser=x7;var fwt=x7,ps=E9(),J1,dwt=(J1=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var t,n,r,a,o,l,u,h,f,d,p,g,m,y,b,T,E,w;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((t=Mn.quadrantChart)==null?void 0:t.chartWidth)||500,chartWidth:((n=Mn.quadrantChart)==null?void 0:n.chartHeight)||500,titlePadding:((r=Mn.quadrantChart)==null?void 0:r.titlePadding)||10,titleFontSize:((a=Mn.quadrantChart)==null?void 0:a.titleFontSize)||20,quadrantPadding:((o=Mn.quadrantChart)==null?void 0:o.quadrantPadding)||5,xAxisLabelPadding:((l=Mn.quadrantChart)==null?void 0:l.xAxisLabelPadding)||5,yAxisLabelPadding:((u=Mn.quadrantChart)==null?void 0:u.yAxisLabelPadding)||5,xAxisLabelFontSize:((h=Mn.quadrantChart)==null?void 0:h.xAxisLabelFontSize)||16,yAxisLabelFontSize:((f=Mn.quadrantChart)==null?void 0:f.yAxisLabelFontSize)||16,quadrantLabelFontSize:((d=Mn.quadrantChart)==null?void 0:d.quadrantLabelFontSize)||16,quadrantTextTopPadding:((p=Mn.quadrantChart)==null?void 0:p.quadrantTextTopPadding)||5,pointTextPadding:((g=Mn.quadrantChart)==null?void 0:g.pointTextPadding)||5,pointLabelFontSize:((m=Mn.quadrantChart)==null?void 0:m.pointLabelFontSize)||12,pointRadius:((y=Mn.quadrantChart)==null?void 0:y.pointRadius)||5,xAxisPosition:((b=Mn.quadrantChart)==null?void 0:b.xAxisPosition)||"top",yAxisPosition:((T=Mn.quadrantChart)==null?void 0:T.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((E=Mn.quadrantChart)==null?void 0:E.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((w=Mn.quadrantChart)==null?void 0:w.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:ps.quadrant1Fill,quadrant2Fill:ps.quadrant2Fill,quadrant3Fill:ps.quadrant3Fill,quadrant4Fill:ps.quadrant4Fill,quadrant1TextFill:ps.quadrant1TextFill,quadrant2TextFill:ps.quadrant2TextFill,quadrant3TextFill:ps.quadrant3TextFill,quadrant4TextFill:ps.quadrant4TextFill,quadrantPointFill:ps.quadrantPointFill,quadrantPointTextFill:ps.quadrantPointTextFill,quadrantXAxisTextFill:ps.quadrantXAxisTextFill,quadrantYAxisTextFill:ps.quadrantYAxisTextFill,quadrantTitleFill:ps.quadrantTitleFill,quadrantInternalBorderStrokeFill:ps.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:ps.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,ve.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}addClass(t,n){this.classes.set(t,n)}setConfig(t){ve.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){ve.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,n,r,a){const o=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,l={top:t==="top"&&n?o:0,bottom:t==="bottom"&&n?o:0},u=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,h={left:this.config.yAxisPosition==="left"&&r?u:0,right:this.config.yAxisPosition==="right"&&r?u:0},f=this.config.titleFontSize+this.config.titlePadding*2,d={top:a?f:0},p=this.config.quadrantPadding+h.left,g=this.config.quadrantPadding+l.top+d.top,m=this.config.chartWidth-this.config.quadrantPadding*2-h.left-h.right,y=this.config.chartHeight-this.config.quadrantPadding*2-l.top-l.bottom-d.top,b=m/2,T=y/2;return{xAxisSpace:l,yAxisSpace:h,titleSpace:d,quadrantSpace:{quadrantLeft:p,quadrantTop:g,quadrantWidth:m,quadrantHalfWidth:b,quadrantHeight:y,quadrantHalfHeight:T}}}getAxisLabels(t,n,r,a){const{quadrantSpace:o,titleSpace:l}=a,{quadrantHalfHeight:u,quadrantHeight:h,quadrantLeft:f,quadrantHalfWidth:d,quadrantTop:p,quadrantWidth:g}=o,m=!!this.data.xAxisRightText,y=!!this.data.yAxisTopText,b=[];return this.data.xAxisLeftText&&n&&b.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:f+(m?d/2:0),y:t==="top"?this.config.xAxisLabelPadding+l.top:this.config.xAxisLabelPadding+p+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&n&&b.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:f+d+(m?d/2:0),y:t==="top"?this.config.xAxisLabelPadding+l.top:this.config.xAxisLabelPadding+p+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&r&&b.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+f+g+this.config.quadrantPadding,y:p+h-(y?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:y?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&r&&b.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+f+g+this.config.quadrantPadding,y:p+u-(y?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:y?"center":"left",horizontalPos:"top",rotation:-90}),b}getQuadrants(t){const{quadrantSpace:n}=t,{quadrantHalfHeight:r,quadrantLeft:a,quadrantHalfWidth:o,quadrantTop:l}=n,u=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+o,y:l,width:o,height:r,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:l,width:o,height:r,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:l+r,width:o,height:r,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+o,y:l+r,width:o,height:r,fill:this.themeConfig.quadrant4Fill}];for(const h of u)h.text.x=h.x+h.width/2,this.data.points.length===0?(h.text.y=h.y+h.height/2,h.text.horizontalPos="middle"):(h.text.y=h.y+this.config.quadrantTextTopPadding,h.text.horizontalPos="top");return u}getQuadrantPoints(t){const{quadrantSpace:n}=t,{quadrantHeight:r,quadrantLeft:a,quadrantTop:o,quadrantWidth:l}=n,u=_m().domain([0,1]).range([a,l+a]),h=_m().domain([0,1]).range([r+o,o]);return this.data.points.map(d=>{const p=this.classes.get(d.className);return p&&(d={...p,...d}),{x:u(d.x),y:h(d.y),fill:d.color??this.themeConfig.quadrantPointFill,radius:d.radius??this.config.pointRadius,text:{text:d.text,fill:this.themeConfig.quadrantPointTextFill,x:u(d.x),y:h(d.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:d.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:d.strokeWidth??"0px"}})}getBorders(t){const n=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:r}=t,{quadrantHalfHeight:a,quadrantHeight:o,quadrantLeft:l,quadrantHalfWidth:u,quadrantTop:h,quadrantWidth:f}=r;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l-n,y1:h,x2:l+f+n,y2:h},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l+f,y1:h+n,x2:l+f,y2:h+o-n},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l-n,y1:h+o,x2:l+f+n,y2:h+o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l,y1:h+n,x2:l,y2:h+o-n},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:l+u,y1:h+n,x2:l+u,y2:h+o-n},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:l+n,y1:h+a,x2:l+f-n,y2:h+a}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const t=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),n=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),r=this.config.showTitle&&!!this.data.titleText,a=this.data.points.length>0?"bottom":this.config.xAxisPosition,o=this.calculateSpace(a,t,n,r);return{points:this.getQuadrantPoints(o),quadrants:this.getQuadrants(o),axisLabels:this.getAxisLabels(a,t,n,o),borderLines:this.getBorders(o),title:this.getTitle(r)}}},I(J1,"QuadrantBuilder"),J1),em,b3=(em=class extends Error{constructor(t,n,r){super(`value for ${t} ${n} is invalid, please use a valid ${r}`),this.name="InvalidStyleError"}},I(em,"InvalidStyleError"),em);function S7(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}I(S7,"validateHexCode");function ege(e){return!/^\d+$/.test(e)}I(ege,"validateNumber");function tge(e){return!/^\d+px$/.test(e)}I(tge,"validateSizeInPixels");var pwt=Pe();function Lu(e){return or(e.trim(),pwt)}I(Lu,"textSanitizer");var Ia=new dwt;function nge(e){Ia.setData({quadrant1Text:Lu(e.text)})}I(nge,"setQuadrant1Text");function rge(e){Ia.setData({quadrant2Text:Lu(e.text)})}I(rge,"setQuadrant2Text");function ige(e){Ia.setData({quadrant3Text:Lu(e.text)})}I(ige,"setQuadrant3Text");function age(e){Ia.setData({quadrant4Text:Lu(e.text)})}I(age,"setQuadrant4Text");function sge(e){Ia.setData({xAxisLeftText:Lu(e.text)})}I(sge,"setXAxisLeftText");function oge(e){Ia.setData({xAxisRightText:Lu(e.text)})}I(oge,"setXAxisRightText");function lge(e){Ia.setData({yAxisTopText:Lu(e.text)})}I(lge,"setYAxisTopText");function cge(e){Ia.setData({yAxisBottomText:Lu(e.text)})}I(cge,"setYAxisBottomText");function Z6(e){const t={};for(const n of e){const[r,a]=n.trim().split(/\s*:\s*/);if(r==="radius"){if(ege(a))throw new b3(r,a,"number");t.radius=parseInt(a)}else if(r==="color"){if(S7(a))throw new b3(r,a,"hex code");t.color=a}else if(r==="stroke-color"){if(S7(a))throw new b3(r,a,"hex code");t.strokeColor=a}else if(r==="stroke-width"){if(tge(a))throw new b3(r,a,"number of pixels (eg. 10px)");t.strokeWidth=a}else throw new Error(`style named ${r} is not supported.`)}return t}I(Z6,"parseStyles");function uge(e,t,n,r,a){const o=Z6(a);Ia.addPoints([{x:n,y:r,text:Lu(e.text),className:t,...o}])}I(uge,"addPoint");function hge(e,t){Ia.addClass(e,Z6(t))}I(hge,"addClass");function fge(e){Ia.setConfig({chartWidth:e})}I(fge,"setWidth");function dge(e){Ia.setConfig({chartHeight:e})}I(dge,"setHeight");function pge(){const e=Pe(),{themeVariables:t,quadrantChart:n}=e;return n&&Ia.setConfig(n),Ia.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),Ia.setData({titleText:Ma()}),Ia.build()}I(pge,"getQuadrantData");var gwt=I(function(){Ia.clear(),fa()},"clear"),mwt={setWidth:fge,setHeight:dge,setQuadrant1Text:nge,setQuadrant2Text:rge,setQuadrant3Text:ige,setQuadrant4Text:age,setXAxisLeftText:sge,setXAxisRightText:oge,setYAxisTopText:lge,setYAxisBottomText:cge,parseStyles:Z6,addPoint:uge,addClass:hge,getQuadrantData:pge,clear:gwt,setAccTitle:da,getAccTitle:La,setDiagramTitle:Ds,getDiagramTitle:Ma,getAccDescription:Da,setAccDescription:_a},vwt=I((e,t,n,r)=>{var N,O,L;function a(k){return k==="top"?"hanging":"middle"}I(a,"getDominantBaseLine");function o(k){return k==="left"?"start":"middle"}I(o,"getTextAnchor");function l(k){return`translate(${k.x}, ${k.y}) rotate(${k.rotation||0})`}I(l,"getTransformation");const u=Pe();ve.debug(`Rendering quadrant chart
`+e);const h=u.securityLevel;let f;h==="sandbox"&&(f=it("#i"+t));const p=it(h==="sandbox"?f.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),g=p.append("g").attr("class","main"),m=((N=u.quadrantChart)==null?void 0:N.chartWidth)??500,y=((O=u.quadrantChart)==null?void 0:O.chartHeight)??500;ss(p,y,m,((L=u.quadrantChart)==null?void 0:L.useMaxWidth)??!0),p.attr("viewBox","0 0 "+m+" "+y),r.db.setHeight(y),r.db.setWidth(m);const b=r.db.getQuadrantData(),T=g.append("g").attr("class","quadrants"),E=g.append("g").attr("class","border"),w=g.append("g").attr("class","data-points"),x=g.append("g").attr("class","labels"),S=g.append("g").attr("class","title");b.title&&S.append("text").attr("x",0).attr("y",0).attr("fill",b.title.fill).attr("font-size",b.title.fontSize).attr("dominant-baseline",a(b.title.horizontalPos)).attr("text-anchor",o(b.title.verticalPos)).attr("transform",l(b.title)).text(b.title.text),b.borderLines&&E.selectAll("line").data(b.borderLines).enter().append("line").attr("x1",k=>k.x1).attr("y1",k=>k.y1).attr("x2",k=>k.x2).attr("y2",k=>k.y2).style("stroke",k=>k.strokeFill).style("stroke-width",k=>k.strokeWidth);const A=T.selectAll("g.quadrant").data(b.quadrants).enter().append("g").attr("class","quadrant");A.append("rect").attr("x",k=>k.x).attr("y",k=>k.y).attr("width",k=>k.width).attr("height",k=>k.height).attr("fill",k=>k.fill),A.append("text").attr("x",0).attr("y",0).attr("fill",k=>k.text.fill).attr("font-size",k=>k.text.fontSize).attr("dominant-baseline",k=>a(k.text.horizontalPos)).attr("text-anchor",k=>o(k.text.verticalPos)).attr("transform",k=>l(k.text)).text(k=>k.text.text),x.selectAll("g.label").data(b.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(k=>k.text).attr("fill",k=>k.fill).attr("font-size",k=>k.fontSize).attr("dominant-baseline",k=>a(k.horizontalPos)).attr("text-anchor",k=>o(k.verticalPos)).attr("transform",k=>l(k));const C=w.selectAll("g.data-point").data(b.points).enter().append("g").attr("class","data-point");C.append("circle").attr("cx",k=>k.x).attr("cy",k=>k.y).attr("r",k=>k.radius).attr("fill",k=>k.fill).attr("stroke",k=>k.strokeColor).attr("stroke-width",k=>k.strokeWidth),C.append("text").attr("x",0).attr("y",0).text(k=>k.text.text).attr("fill",k=>k.text.fill).attr("font-size",k=>k.text.fontSize).attr("dominant-baseline",k=>a(k.text.horizontalPos)).attr("text-anchor",k=>o(k.text.verticalPos)).attr("transform",k=>l(k.text))},"draw"),ywt={draw:vwt},bwt={parser:fwt,db:mwt,renderer:ywt,styles:I(()=>"","styles")};const Twt=Object.freeze(Object.defineProperty({__proto__:null,diagram:bwt},Symbol.toStringTag,{value:"Module"}));var A7=function(){var e=I(function(F,B,D,P){for(D=D||{},P=F.length;P--;D[F[P]]=B);return D},"o"),t=[1,10,12,14,16,18,19,21,23],n=[2,6],r=[1,3],a=[1,5],o=[1,6],l=[1,7],u=[1,5,10,12,14,16,18,19,21,23,34,35,36],h=[1,25],f=[1,26],d=[1,28],p=[1,29],g=[1,30],m=[1,31],y=[1,32],b=[1,33],T=[1,34],E=[1,35],w=[1,36],x=[1,37],S=[1,43],A=[1,42],R=[1,47],C=[1,50],N=[1,10,12,14,16,18,19,21,23,34,35,36],O=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],L=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],k=[1,64],M={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:I(function(B,D,P,H,W,U,V){var G=U.length-1;switch(W){case 5:H.setOrientation(U[G]);break;case 9:H.setDiagramTitle(U[G].text.trim());break;case 12:H.setLineData({text:"",type:"text"},U[G]);break;case 13:H.setLineData(U[G-1],U[G]);break;case 14:H.setBarData({text:"",type:"text"},U[G]);break;case 15:H.setBarData(U[G-1],U[G]);break;case 16:this.$=U[G].trim(),H.setAccTitle(this.$);break;case 17:case 18:this.$=U[G].trim(),H.setAccDescription(this.$);break;case 19:this.$=U[G-1];break;case 20:this.$=[Number(U[G-2]),...U[G]];break;case 21:this.$=[Number(U[G])];break;case 22:H.setXAxisTitle(U[G]);break;case 23:H.setXAxisTitle(U[G-1]);break;case 24:H.setXAxisTitle({type:"text",text:""});break;case 25:H.setXAxisBand(U[G]);break;case 26:H.setXAxisRangeData(Number(U[G-2]),Number(U[G]));break;case 27:this.$=U[G-1];break;case 28:this.$=[U[G-2],...U[G]];break;case 29:this.$=[U[G]];break;case 30:H.setYAxisTitle(U[G]);break;case 31:H.setYAxisTitle(U[G-1]);break;case 32:H.setYAxisTitle({type:"text",text:""});break;case 33:H.setYAxisRangeData(Number(U[G-2]),Number(U[G]));break;case 37:this.$={text:U[G],type:"text"};break;case 38:this.$={text:U[G],type:"text"};break;case 39:this.$={text:U[G],type:"markdown"};break;case 40:this.$=U[G];break;case 41:this.$=U[G-1]+""+U[G];break}},"anonymous"),table:[e(t,n,{3:1,4:2,7:4,5:r,34:a,35:o,36:l}),{1:[3]},e(t,n,{4:2,7:4,3:8,5:r,34:a,35:o,36:l}),e(t,n,{4:2,7:4,6:9,3:10,5:r,8:[1,11],34:a,35:o,36:l}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(u,[2,34]),e(u,[2,35]),e(u,[2,36]),{1:[2,1]},e(t,n,{4:2,7:4,3:21,5:r,34:a,35:o,36:l}),{1:[2,3]},e(u,[2,5]),e(t,[2,7],{4:22,34:a,35:o,36:l}),{11:23,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},{11:39,13:38,24:S,27:A,29:40,30:41,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},{11:45,15:44,27:R,33:46,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},{11:49,17:48,24:C,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},{11:52,17:51,24:C,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},{20:[1,53]},{22:[1,54]},e(N,[2,18]),{1:[2,2]},e(N,[2,8]),e(N,[2,9]),e(O,[2,37],{40:55,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x}),e(O,[2,38]),e(O,[2,39]),e(L,[2,40]),e(L,[2,42]),e(L,[2,43]),e(L,[2,44]),e(L,[2,45]),e(L,[2,46]),e(L,[2,47]),e(L,[2,48]),e(L,[2,49]),e(L,[2,50]),e(L,[2,51]),e(N,[2,10]),e(N,[2,22],{30:41,29:56,24:S,27:A}),e(N,[2,24]),e(N,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},e(N,[2,11]),e(N,[2,30],{33:60,27:R}),e(N,[2,32]),{31:[1,61]},e(N,[2,12]),{17:62,24:C},{25:63,27:k},e(N,[2,14]),{17:65,24:C},e(N,[2,16]),e(N,[2,17]),e(L,[2,41]),e(N,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(N,[2,31]),{27:[1,69]},e(N,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(N,[2,15]),e(N,[2,26]),e(N,[2,27]),{11:59,32:72,37:24,38:h,39:f,40:27,41:d,42:p,43:g,44:m,45:y,46:b,47:T,48:E,49:w,50:x},e(N,[2,33]),e(N,[2,19]),{25:73,27:k},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:I(function(B,D){if(D.recoverable)this.trace(B);else{var P=new Error(B);throw P.hash=D,P}},"parseError"),parse:I(function(B){var D=this,P=[0],H=[],W=[null],U=[],V=this.table,G="",ee=0,ce=0,Q=2,re=1,le=U.slice.call(arguments,1),Y=Object.create(this.lexer),K={yy:{}};for(var Z in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Z)&&(K.yy[Z]=this.yy[Z]);Y.setInput(B,K.yy),K.yy.lexer=Y,K.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var z=Y.yylloc;U.push(z);var X=Y.options&&Y.options.ranges;typeof K.yy.parseError=="function"?this.parseError=K.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function te(se){P.length=P.length-2*se,W.length=W.length-se,U.length=U.length-se}I(te,"popStack");function ne(){var se;return se=H.pop()||Y.lex()||re,typeof se!="number"&&(se instanceof Array&&(H=se,se=H.pop()),se=D.symbols_[se]||se),se}I(ne,"lex");for(var Ae,he,oe,de,be={},fe,Ie,Re,ke;;){if(he=P[P.length-1],this.defaultActions[he]?oe=this.defaultActions[he]:((Ae===null||typeof Ae>"u")&&(Ae=ne()),oe=V[he]&&V[he][Ae]),typeof oe>"u"||!oe.length||!oe[0]){var De="";ke=[];for(fe in V[he])this.terminals_[fe]&&fe>Q&&ke.push("'"+this.terminals_[fe]+"'");Y.showPosition?De="Parse error on line "+(ee+1)+`:
`+Y.showPosition()+`
Expecting `+ke.join(", ")+", got '"+(this.terminals_[Ae]||Ae)+"'":De="Parse error on line "+(ee+1)+": Unexpected "+(Ae==re?"end of input":"'"+(this.terminals_[Ae]||Ae)+"'"),this.parseError(De,{text:Y.match,token:this.terminals_[Ae]||Ae,line:Y.yylineno,loc:z,expected:ke})}if(oe[0]instanceof Array&&oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+he+", token: "+Ae);switch(oe[0]){case 1:P.push(Ae),W.push(Y.yytext),U.push(Y.yylloc),P.push(oe[1]),Ae=null,ce=Y.yyleng,G=Y.yytext,ee=Y.yylineno,z=Y.yylloc;break;case 2:if(Ie=this.productions_[oe[1]][1],be.$=W[W.length-Ie],be._$={first_line:U[U.length-(Ie||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Ie||1)].first_column,last_column:U[U.length-1].last_column},X&&(be._$.range=[U[U.length-(Ie||1)].range[0],U[U.length-1].range[1]]),de=this.performAction.apply(be,[G,ce,ee,K.yy,oe[1],W,U].concat(le)),typeof de<"u")return de;Ie&&(P=P.slice(0,-1*Ie*2),W=W.slice(0,-1*Ie),U=U.slice(0,-1*Ie)),P.push(this.productions_[oe[1]][0]),W.push(be.$),U.push(be._$),Re=V[P[P.length-2]][P[P.length-1]],P.push(Re);break;case 3:return!0}}return!0},"parse")},$=function(){var F={EOF:1,parseError:I(function(D,P){if(this.yy.parser)this.yy.parser.parseError(D,P);else throw new Error(D)},"parseError"),setInput:I(function(B,D){return this.yy=D||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var B=this._input[0];this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B;var D=B.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},"input"),unput:I(function(B){var D=B.length,P=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),P.length-1&&(this.yylineno-=P.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:P?(P.length===H.length?this.yylloc.first_column:0)+H[H.length-P.length].length-P[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(B){this.unput(this.match.slice(B))},"less"),pastInput:I(function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var B=this.pastInput(),D=new Array(B.length+1).join("-");return B+this.upcomingInput()+`
`+D+"^"},"showPosition"),test_match:I(function(B,D){var P,H,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),H=B[0].match(/(?:\r\n?|\n).*/g),H&&(this.yylineno+=H.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],P=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),P)return P;if(this._backtrack){for(var U in W)this[U]=W[U];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var B,D,P,H;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),U=0;U<W.length;U++)if(P=this._input.match(this.rules[W[U]]),P&&(!D||P[0].length>D[0].length)){if(D=P,H=U,this.options.backtrack_lexer){if(B=this.test_match(P,W[U]),B!==!1)return B;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(B=this.test_match(D,W[H]),B!==!1?B:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var D=this.next();return D||this.lex()},"lex"),begin:I(function(D){this.conditionStack.push(D)},"begin"),popState:I(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:I(function(D){this.begin(D)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(D,P,H,W){switch(H){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return F}();M.lexer=$;function _(){this.yy={}}return I(_,"Parser"),_.prototype=M,M.Parser=_,new _}();A7.parser=A7;var Ewt=A7;function I7(e){return e.type==="bar"}I(I7,"isBarPlot");function uP(e){return e.type==="band"}I(uP,"isBandAxisData");function x1(e){return e.type==="linear"}I(x1,"isLinearAxisData");var tm,gge=(tm=class{constructor(t){this.parentGroup=t}getMaxDimension(t,n){if(!this.parentGroup)return{width:t.reduce((o,l)=>Math.max(l.length,o),0)*n,height:n};const r={width:0,height:0},a=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",n);for(const o of t){const l=sle(a,1,o),u=l?l.width:o.length*n,h=l?l.height:n;r.width=Math.max(r.width,u),r.height=Math.max(r.height,h)}return a.remove(),r}},I(tm,"TextDimensionCalculatorWithFont"),tm),sj=.7,oj=.2,nm,mge=(nm=class{constructor(t,n,r,a){this.axisConfig=t,this.title=n,this.textDimensionCalculator=r,this.axisThemeConfig=a,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(t){this.range=t,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){const t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){sj*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(sj*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let n=t.height;if(this.axisConfig.showAxisLine&&n>this.axisConfig.axisLineWidth&&(n-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const r=this.getLabelDimension(),a=oj*t.width;this.outerPadding=Math.min(r.width/2,a);const o=r.height+this.axisConfig.labelPadding*2;this.labelTextHeight=r.height,o<=n&&(n-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&n>=this.axisConfig.tickLength&&(this.showTick=!0,n-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),a=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,a<=n&&(n-=a,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-n}calculateSpaceIfDrawnVertical(t){let n=t.width;if(this.axisConfig.showAxisLine&&n>this.axisConfig.axisLineWidth&&(n-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const r=this.getLabelDimension(),a=oj*t.height;this.outerPadding=Math.min(r.height/2,a);const o=r.width+this.axisConfig.labelPadding*2;o<=n&&(n-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&n>=this.axisConfig.tickLength&&(this.showTick=!0,n-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),a=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,a<=n&&(n-=a,this.showTitle=!0)}this.boundingRect.width=t.width-n,this.boundingRect.height=t.height}calculateSpace(t){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){const t=[];if(this.showAxisLine){const n=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${n},${this.boundingRect.y} L ${n},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(n=>({text:n.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(n),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const n=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${n},${this.getScaleValue(r)} L ${n-this.axisConfig.tickLength},${this.getScaleValue(r)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){const t=[];if(this.showAxisLine){const n=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${n} L ${this.boundingRect.x+this.boundingRect.width},${n}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(n=>({text:n.toString(),x:this.getScaleValue(n),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const n=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${n} L ${this.getScaleValue(r)},${n+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){const t=[];if(this.showAxisLine){const n=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${n} L ${this.boundingRect.x+this.boundingRect.width},${n}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(n=>({text:n.toString(),x:this.getScaleValue(n),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const n=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${n+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(r)},${n+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},I(nm,"BaseAxis"),nm),rm,wwt=(rm=class extends mge{constructor(t,n,r,a,o){super(t,a,o,n),this.categories=r,this.scale=qN().domain(this.categories).range(this.getRange())}setRange(t){super.setRange(t)}recalculateScale(){this.scale=qN().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),ve.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(t){return this.scale(t)??this.getRange()[0]}},I(rm,"BandAxis"),rm),im,xwt=(im=class extends mge{constructor(t,n,r,a,o){super(t,a,o,n),this.domain=r,this.scale=_m().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const t=[...this.domain];this.axisPosition==="left"&&t.reverse(),this.scale=_m().domain(t).range(this.getRange())}getScaleValue(t){return this.scale(t)}},I(im,"LinearAxis"),im);function C7(e,t,n,r){const a=new gge(r);return uP(e)?new wwt(t,n,e.categories,e.title,a):new xwt(t,n,[e.min,e.max],e.title,a)}I(C7,"getAxis");var am,Swt=(am=class{constructor(t,n,r,a){this.textDimensionCalculator=t,this.chartConfig=n,this.chartData=r,this.chartThemeConfig=a,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){const n=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),r=Math.max(n.width,t.width),a=n.height+2*this.chartConfig.titlePadding;return n.width<=r&&n.height<=a&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=r,this.boundingRect.height=a,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}},I(am,"ChartTitle"),am);function vge(e,t,n,r){const a=new gge(r);return new Swt(a,e,t,n)}I(vge,"getChartTitleComponent");var sm,Awt=(sm=class{constructor(t,n,r,a,o){this.plotData=t,this.xAxis=n,this.yAxis=r,this.orientation=a,this.plotIndex=o}getDrawableElement(){const t=this.plotData.data.map(r=>[this.xAxis.getScaleValue(r[0]),this.yAxis.getScaleValue(r[1])]);let n;return this.orientation==="horizontal"?n=ip().y(r=>r[0]).x(r=>r[1])(t):n=ip().x(r=>r[0]).y(r=>r[1])(t),n?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:n,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},I(sm,"LinePlot"),sm),om,Iwt=(om=class{constructor(t,n,r,a,o,l){this.barData=t,this.boundingRect=n,this.xAxis=r,this.yAxis=a,this.orientation=o,this.plotIndex=l}getDrawableElement(){const t=this.barData.data.map(o=>[this.xAxis.getScaleValue(o[0]),this.yAxis.getScaleValue(o[1])]),r=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),a=r/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(o=>({x:this.boundingRect.x,y:o[0]-a,height:r,width:o[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(o=>({x:o[0]-a,y:o[1],width:r,height:this.boundingRect.y+this.boundingRect.height-o[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},I(om,"BarPlot"),om),lm,Cwt=(lm=class{constructor(t,n,r){this.chartConfig=t,this.chartData=n,this.chartThemeConfig=r,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(t,n){this.xAxis=t,this.yAxis=n}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const t=[];for(const[n,r]of this.chartData.plots.entries())switch(r.type){case"line":{const a=new Awt(r,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,n);t.push(...a.getDrawableElement())}break;case"bar":{const a=new Iwt(r,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,n);t.push(...a.getDrawableElement())}break}return t}},I(lm,"BasePlot"),lm);function yge(e,t,n){return new Cwt(e,t,n)}I(yge,"getPlotComponent");var cm,Rwt=(cm=class{constructor(t,n,r,a){this.chartConfig=t,this.chartData=n,this.componentStore={title:vge(t,n,r,a),plot:yge(t,n,r),xAxis:C7(n.xAxis,t.xAxis,{titleColor:r.xAxisTitleColor,labelColor:r.xAxisLabelColor,tickColor:r.xAxisTickColor,axisLineColor:r.xAxisLineColor},a),yAxis:C7(n.yAxis,t.yAxis,{titleColor:r.yAxisTitleColor,labelColor:r.yAxisLabelColor,tickColor:r.yAxisTickColor,axisLineColor:r.yAxisLineColor},a)}}calculateVerticalSpace(){let t=this.chartConfig.width,n=this.chartConfig.height,r=0,a=0,o=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),l=Math.floor(n*this.chartConfig.plotReservedSpacePercent/100),u=this.componentStore.plot.calculateSpace({width:o,height:l});t-=u.width,n-=u.height,u=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:n}),a=u.height,n-=u.height,this.componentStore.xAxis.setAxisPosition("bottom"),u=this.componentStore.xAxis.calculateSpace({width:t,height:n}),n-=u.height,this.componentStore.yAxis.setAxisPosition("left"),u=this.componentStore.yAxis.calculateSpace({width:t,height:n}),r=u.width,t-=u.width,t>0&&(o+=t,t=0),n>0&&(l+=n,n=0),this.componentStore.plot.calculateSpace({width:o,height:l}),this.componentStore.plot.setBoundingBoxXY({x:r,y:a}),this.componentStore.xAxis.setRange([r,r+o]),this.componentStore.xAxis.setBoundingBoxXY({x:r,y:a+l}),this.componentStore.yAxis.setRange([a,a+l]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(h=>I7(h))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let t=this.chartConfig.width,n=this.chartConfig.height,r=0,a=0,o=0,l=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),u=Math.floor(n*this.chartConfig.plotReservedSpacePercent/100),h=this.componentStore.plot.calculateSpace({width:l,height:u});t-=h.width,n-=h.height,h=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:n}),r=h.height,n-=h.height,this.componentStore.xAxis.setAxisPosition("left"),h=this.componentStore.xAxis.calculateSpace({width:t,height:n}),t-=h.width,a=h.width,this.componentStore.yAxis.setAxisPosition("top"),h=this.componentStore.yAxis.calculateSpace({width:t,height:n}),n-=h.height,o=r+h.height,t>0&&(l+=t,t=0),n>0&&(u+=n,n=0),this.componentStore.plot.calculateSpace({width:l,height:u}),this.componentStore.plot.setBoundingBoxXY({x:a,y:o}),this.componentStore.yAxis.setRange([a,a+l]),this.componentStore.yAxis.setBoundingBoxXY({x:a,y:r}),this.componentStore.xAxis.setRange([o,o+u]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:o}),this.chartData.plots.some(f=>I7(f))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const n of Object.values(this.componentStore))t.push(...n.getDrawableElements());return t}},I(cm,"Orchestrator"),cm),um,kwt=(um=class{static build(t,n,r,a){return new Rwt(t,n,r,a).getDrawableElement()}},I(um,"XYChartBuilder"),um),oT=0,bge,lT=dP(),cT=fP(),nr=pP(),R7=cT.plotColorPalette.split(",").map(e=>e.trim()),Q6=!1,hP=!1;function fP(){const e=E9(),t=Br();return Yh(e.xyChart,t.themeVariables.xyChart)}I(fP,"getChartDefaultThemeConfig");function dP(){const e=Br();return Yh(Mn.xyChart,e.xyChart)}I(dP,"getChartDefaultConfig");function pP(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}I(pP,"getChartDefaultData");function J6(e){const t=Br();return or(e.trim(),t)}I(J6,"textSanitizer");function Tge(e){bge=e}I(Tge,"setTmpSVGG");function Ege(e){e==="horizontal"?lT.chartOrientation="horizontal":lT.chartOrientation="vertical"}I(Ege,"setOrientation");function wge(e){nr.xAxis.title=J6(e.text)}I(wge,"setXAxisTitle");function gP(e,t){nr.xAxis={type:"linear",title:nr.xAxis.title,min:e,max:t},Q6=!0}I(gP,"setXAxisRangeData");function xge(e){nr.xAxis={type:"band",title:nr.xAxis.title,categories:e.map(t=>J6(t.text))},Q6=!0}I(xge,"setXAxisBand");function Sge(e){nr.yAxis.title=J6(e.text)}I(Sge,"setYAxisTitle");function Age(e,t){nr.yAxis={type:"linear",title:nr.yAxis.title,min:e,max:t},hP=!0}I(Age,"setYAxisRangeData");function Ige(e){const t=Math.min(...e),n=Math.max(...e),r=x1(nr.yAxis)?nr.yAxis.min:1/0,a=x1(nr.yAxis)?nr.yAxis.max:-1/0;nr.yAxis={type:"linear",title:nr.yAxis.title,min:Math.min(r,t),max:Math.max(a,n)}}I(Ige,"setYAxisRangeFromPlotData");function mP(e){let t=[];if(e.length===0)return t;if(!Q6){const n=x1(nr.xAxis)?nr.xAxis.min:1/0,r=x1(nr.xAxis)?nr.xAxis.max:-1/0;gP(Math.min(n,1),Math.max(r,e.length))}if(hP||Ige(e),uP(nr.xAxis)&&(t=nr.xAxis.categories.map((n,r)=>[n,e[r]])),x1(nr.xAxis)){const n=nr.xAxis.min,r=nr.xAxis.max,a=(r-n)/(e.length-1),o=[];for(let l=n;l<=r;l+=a)o.push(`${l}`);t=o.map((l,u)=>[l,e[u]])}return t}I(mP,"transformDataWithoutCategory");function vP(e){return R7[e===0?0:e%R7.length]}I(vP,"getPlotColorFromPalette");function Cge(e,t){const n=mP(t);nr.plots.push({type:"line",strokeFill:vP(oT),strokeWidth:2,data:n}),oT++}I(Cge,"setLineData");function Rge(e,t){const n=mP(t);nr.plots.push({type:"bar",fill:vP(oT),data:n}),oT++}I(Rge,"setBarData");function kge(){if(nr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return nr.title=Ma(),kwt.build(lT,nr,cT,bge)}I(kge,"getDrawableElem");function Oge(){return cT}I(Oge,"getChartThemeConfig");function Nge(){return lT}I(Nge,"getChartConfig");var Owt=I(function(){fa(),oT=0,lT=dP(),nr=pP(),cT=fP(),R7=cT.plotColorPalette.split(",").map(e=>e.trim()),Q6=!1,hP=!1},"clear"),Nwt={getDrawableElem:kge,clear:Owt,setAccTitle:da,getAccTitle:La,setDiagramTitle:Ds,getDiagramTitle:Ma,getAccDescription:Da,setAccDescription:_a,setOrientation:Ege,setXAxisTitle:wge,setXAxisRangeData:gP,setXAxisBand:xge,setYAxisTitle:Sge,setYAxisRangeData:Age,setLineData:Cge,setBarData:Rge,setTmpSVGG:Tge,getChartThemeConfig:Oge,getChartConfig:Nge},Lwt=I((e,t,n,r)=>{const a=r.db,o=a.getChartThemeConfig(),l=a.getChartConfig();function u(T){return T==="top"?"text-before-edge":"middle"}I(u,"getDominantBaseLine");function h(T){return T==="left"?"start":T==="right"?"end":"middle"}I(h,"getTextAnchor");function f(T){return`translate(${T.x}, ${T.y}) rotate(${T.rotation||0})`}I(f,"getTextTransformation"),ve.debug(`Rendering xychart chart
`+e);const d=Cf(t),p=d.append("g").attr("class","main"),g=p.append("rect").attr("width",l.width).attr("height",l.height).attr("class","background");ss(d,l.height,l.width,!0),d.attr("viewBox",`0 0 ${l.width} ${l.height}`),g.attr("fill",o.backgroundColor),a.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));const m=a.getDrawableElem(),y={};function b(T){let E=p,w="";for(const[x]of T.entries()){let S=p;x>0&&y[w]&&(S=y[w]),w+=T[x],E=y[w],E||(E=y[w]=S.append("g").attr("class",T[x]))}return E}I(b,"getGroup");for(const T of m){if(T.data.length===0)continue;const E=b(T.groupTexts);switch(T.type){case"rect":E.selectAll("rect").data(T.data).enter().append("rect").attr("x",w=>w.x).attr("y",w=>w.y).attr("width",w=>w.width).attr("height",w=>w.height).attr("fill",w=>w.fill).attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break;case"text":E.selectAll("text").data(T.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",w=>w.fill).attr("font-size",w=>w.fontSize).attr("dominant-baseline",w=>u(w.verticalPos)).attr("text-anchor",w=>h(w.horizontalPos)).attr("transform",w=>f(w)).text(w=>w.text);break;case"path":E.selectAll("path").data(T.data).enter().append("path").attr("d",w=>w.path).attr("fill",w=>w.fill?w.fill:"none").attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break}}},"draw"),_wt={draw:Lwt},Dwt={parser:Ewt,db:Nwt,renderer:_wt};const Mwt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Dwt},Symbol.toStringTag,{value:"Module"}));var k7=function(){var e=I(function(ce,Q,re,le){for(re=re||{},le=ce.length;le--;re[ce[le]]=Q);return re},"o"),t=[1,3],n=[1,4],r=[1,5],a=[1,6],o=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],l=[1,18],u=[2,7],h=[1,22],f=[1,23],d=[1,24],p=[1,25],g=[1,26],m=[1,27],y=[1,20],b=[1,28],T=[1,29],E=[62,63],w=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],x=[1,47],S=[1,48],A=[1,49],R=[1,50],C=[1,51],N=[1,52],O=[1,53],L=[53,54],k=[1,64],M=[1,60],$=[1,61],_=[1,62],F=[1,63],B=[1,65],D=[1,69],P=[1,70],H=[1,67],W=[1,68],U=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],V={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:I(function(Q,re,le,Y,K,Z,z){var X=Z.length-1;switch(K){case 4:this.$=Z[X].trim(),Y.setAccTitle(this.$);break;case 5:case 6:this.$=Z[X].trim(),Y.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Y.addRequirement(Z[X-3],Z[X-4]);break;case 14:Y.setNewReqId(Z[X-2]);break;case 15:Y.setNewReqText(Z[X-2]);break;case 16:Y.setNewReqRisk(Z[X-2]);break;case 17:Y.setNewReqVerifyMethod(Z[X-2]);break;case 20:this.$=Y.RequirementType.REQUIREMENT;break;case 21:this.$=Y.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Y.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Y.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Y.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Y.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Y.RiskLevel.LOW_RISK;break;case 27:this.$=Y.RiskLevel.MED_RISK;break;case 28:this.$=Y.RiskLevel.HIGH_RISK;break;case 29:this.$=Y.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Y.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Y.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Y.VerifyType.VERIFY_TEST;break;case 33:Y.addElement(Z[X-3]);break;case 34:Y.setNewElementType(Z[X-2]);break;case 35:Y.setNewElementDocRef(Z[X-2]);break;case 38:Y.addRelationship(Z[X-2],Z[X],Z[X-4]);break;case 39:Y.addRelationship(Z[X-2],Z[X-4],Z[X]);break;case 40:this.$=Y.Relationships.CONTAINS;break;case 41:this.$=Y.Relationships.COPIES;break;case 42:this.$=Y.Relationships.DERIVES;break;case 43:this.$=Y.Relationships.SATISFIES;break;case 44:this.$=Y.Relationships.VERIFIES;break;case 45:this.$=Y.Relationships.REFINES;break;case 46:this.$=Y.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:n,11:r,13:a},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:n,11:r,13:a},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(o,[2,6]),{3:12,4:2,6:t,9:n,11:r,13:a},{1:[2,2]},{4:17,5:l,7:13,8:u,9:n,11:r,13:a,14:14,15:15,16:16,17:19,23:21,31:h,32:f,33:d,34:p,35:g,36:m,44:y,62:b,63:T},e(o,[2,4]),e(o,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:l,7:31,8:u,9:n,11:r,13:a,14:14,15:15,16:16,17:19,23:21,31:h,32:f,33:d,34:p,35:g,36:m,44:y,62:b,63:T},{4:17,5:l,7:32,8:u,9:n,11:r,13:a,14:14,15:15,16:16,17:19,23:21,31:h,32:f,33:d,34:p,35:g,36:m,44:y,62:b,63:T},{4:17,5:l,7:33,8:u,9:n,11:r,13:a,14:14,15:15,16:16,17:19,23:21,31:h,32:f,33:d,34:p,35:g,36:m,44:y,62:b,63:T},{4:17,5:l,7:34,8:u,9:n,11:r,13:a,14:14,15:15,16:16,17:19,23:21,31:h,32:f,33:d,34:p,35:g,36:m,44:y,62:b,63:T},{4:17,5:l,7:35,8:u,9:n,11:r,13:a,14:14,15:15,16:16,17:19,23:21,31:h,32:f,33:d,34:p,35:g,36:m,44:y,62:b,63:T},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(E,[2,20]),e(E,[2,21]),e(E,[2,22]),e(E,[2,23]),e(E,[2,24]),e(E,[2,25]),e(w,[2,49]),e(w,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:x,56:S,57:A,58:R,59:C,60:N,61:O},{52:54,55:x,56:S,57:A,58:R,59:C,60:N,61:O},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(L,[2,40]),e(L,[2,41]),e(L,[2,42]),e(L,[2,43]),e(L,[2,44]),e(L,[2,45]),e(L,[2,46]),{54:[1,58]},{5:k,20:59,21:M,24:$,26:_,28:F,30:B},{5:D,30:P,46:66,47:H,49:W},{23:71,62:b,63:T},{23:72,62:b,63:T},e(U,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:k,20:77,21:M,24:$,26:_,28:F,30:B},e(U,[2,19]),e(U,[2,33]),{22:[1,78]},{22:[1,79]},{5:D,30:P,46:80,47:H,49:W},e(U,[2,37]),e(U,[2,38]),e(U,[2,39]),{23:81,62:b,63:T},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(U,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(U,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:k,20:106,21:M,24:$,26:_,28:F,30:B},{5:k,20:107,21:M,24:$,26:_,28:F,30:B},{5:k,20:108,21:M,24:$,26:_,28:F,30:B},{5:k,20:109,21:M,24:$,26:_,28:F,30:B},{5:D,30:P,46:110,47:H,49:W},{5:D,30:P,46:111,47:H,49:W},e(U,[2,14]),e(U,[2,15]),e(U,[2,16]),e(U,[2,17]),e(U,[2,34]),e(U,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:I(function(Q,re){if(re.recoverable)this.trace(Q);else{var le=new Error(Q);throw le.hash=re,le}},"parseError"),parse:I(function(Q){var re=this,le=[0],Y=[],K=[null],Z=[],z=this.table,X="",te=0,ne=0,Ae=2,he=1,oe=Z.slice.call(arguments,1),de=Object.create(this.lexer),be={yy:{}};for(var fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,fe)&&(be.yy[fe]=this.yy[fe]);de.setInput(Q,be.yy),be.yy.lexer=de,be.yy.parser=this,typeof de.yylloc>"u"&&(de.yylloc={});var Ie=de.yylloc;Z.push(Ie);var Re=de.options&&de.options.ranges;typeof be.yy.parseError=="function"?this.parseError=be.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ke(ye){le.length=le.length-2*ye,K.length=K.length-ye,Z.length=Z.length-ye}I(ke,"popStack");function De(){var ye;return ye=Y.pop()||de.lex()||he,typeof ye!="number"&&(ye instanceof Array&&(Y=ye,ye=Y.pop()),ye=re.symbols_[ye]||ye),ye}I(De,"lex");for(var se,j,me,ue,we={},ie,Oe,ae,ge;;){if(j=le[le.length-1],this.defaultActions[j]?me=this.defaultActions[j]:((se===null||typeof se>"u")&&(se=De()),me=z[j]&&z[j][se]),typeof me>"u"||!me.length||!me[0]){var Ee="";ge=[];for(ie in z[j])this.terminals_[ie]&&ie>Ae&&ge.push("'"+this.terminals_[ie]+"'");de.showPosition?Ee="Parse error on line "+(te+1)+`:
`+de.showPosition()+`
Expecting `+ge.join(", ")+", got '"+(this.terminals_[se]||se)+"'":Ee="Parse error on line "+(te+1)+": Unexpected "+(se==he?"end of input":"'"+(this.terminals_[se]||se)+"'"),this.parseError(Ee,{text:de.match,token:this.terminals_[se]||se,line:de.yylineno,loc:Ie,expected:ge})}if(me[0]instanceof Array&&me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+j+", token: "+se);switch(me[0]){case 1:le.push(se),K.push(de.yytext),Z.push(de.yylloc),le.push(me[1]),se=null,ne=de.yyleng,X=de.yytext,te=de.yylineno,Ie=de.yylloc;break;case 2:if(Oe=this.productions_[me[1]][1],we.$=K[K.length-Oe],we._$={first_line:Z[Z.length-(Oe||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(Oe||1)].first_column,last_column:Z[Z.length-1].last_column},Re&&(we._$.range=[Z[Z.length-(Oe||1)].range[0],Z[Z.length-1].range[1]]),ue=this.performAction.apply(we,[X,ne,te,be.yy,me[1],K,Z].concat(oe)),typeof ue<"u")return ue;Oe&&(le=le.slice(0,-1*Oe*2),K=K.slice(0,-1*Oe),Z=Z.slice(0,-1*Oe)),le.push(this.productions_[me[1]][0]),K.push(we.$),Z.push(we._$),ae=z[le[le.length-2]][le[le.length-1]],le.push(ae);break;case 3:return!0}}return!0},"parse")},G=function(){var ce={EOF:1,parseError:I(function(re,le){if(this.yy.parser)this.yy.parser.parseError(re,le);else throw new Error(re)},"parseError"),setInput:I(function(Q,re){return this.yy=re||this.yy||{},this._input=Q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var Q=this._input[0];this.yytext+=Q,this.yyleng++,this.offset++,this.match+=Q,this.matched+=Q;var re=Q.match(/(?:\r\n?|\n).*/g);return re?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Q},"input"),unput:I(function(Q){var re=Q.length,le=Q.split(/(?:\r\n?|\n)/g);this._input=Q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-re),this.offset-=re;var Y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),le.length-1&&(this.yylineno-=le.length-1);var K=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:le?(le.length===Y.length?this.yylloc.first_column:0)+Y[Y.length-le.length].length-le[0].length:this.yylloc.first_column-re},this.options.ranges&&(this.yylloc.range=[K[0],K[0]+this.yyleng-re]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(Q){this.unput(this.match.slice(Q))},"less"),pastInput:I(function(){var Q=this.matched.substr(0,this.matched.length-this.match.length);return(Q.length>20?"...":"")+Q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var Q=this.match;return Q.length<20&&(Q+=this._input.substr(0,20-Q.length)),(Q.substr(0,20)+(Q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var Q=this.pastInput(),re=new Array(Q.length+1).join("-");return Q+this.upcomingInput()+`
`+re+"^"},"showPosition"),test_match:I(function(Q,re){var le,Y,K;if(this.options.backtrack_lexer&&(K={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(K.yylloc.range=this.yylloc.range.slice(0))),Y=Q[0].match(/(?:\r\n?|\n).*/g),Y&&(this.yylineno+=Y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Y?Y[Y.length-1].length-Y[Y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Q[0].length},this.yytext+=Q[0],this.match+=Q[0],this.matches=Q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Q[0].length),this.matched+=Q[0],le=this.performAction.call(this,this.yy,this,re,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),le)return le;if(this._backtrack){for(var Z in K)this[Z]=K[Z];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Q,re,le,Y;this._more||(this.yytext="",this.match="");for(var K=this._currentRules(),Z=0;Z<K.length;Z++)if(le=this._input.match(this.rules[K[Z]]),le&&(!re||le[0].length>re[0].length)){if(re=le,Y=Z,this.options.backtrack_lexer){if(Q=this.test_match(le,K[Z]),Q!==!1)return Q;if(this._backtrack){re=!1;continue}else return!1}else if(!this.options.flex)break}return re?(Q=this.test_match(re,K[Y]),Q!==!1?Q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var re=this.next();return re||this.lex()},"lex"),begin:I(function(re){this.conditionStack.push(re)},"begin"),popState:I(function(){var re=this.conditionStack.length-1;return re>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(re){return re=this.conditionStack.length-1-Math.abs(re||0),re>=0?this.conditionStack[re]:"INITIAL"},"topState"),pushState:I(function(re){this.begin(re)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(re,le,Y,K){switch(Y){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return le.yytext=le.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return ce}();V.lexer=G;function ee(){this.yy={}}return I(ee,"Parser"),ee.prototype=V,V.Parser=ee,new ee}();k7.parser=k7;var Pwt=k7,yP=[],ro={},tb=new Map,H0={},nb=new Map,Fwt={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},Bwt={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},Hwt={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},$wt={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},Wwt=I((e,t)=>(tb.has(e)||tb.set(e,{name:e,type:t,id:ro.id,text:ro.text,risk:ro.risk,verifyMethod:ro.verifyMethod}),ro={},tb.get(e)),"addRequirement"),Uwt=I(()=>tb,"getRequirements"),Gwt=I(e=>{ro!==void 0&&(ro.id=e)},"setNewReqId"),zwt=I(e=>{ro!==void 0&&(ro.text=e)},"setNewReqText"),Ywt=I(e=>{ro!==void 0&&(ro.risk=e)},"setNewReqRisk"),Vwt=I(e=>{ro!==void 0&&(ro.verifyMethod=e)},"setNewReqVerifyMethod"),qwt=I(e=>(nb.has(e)||(nb.set(e,{name:e,type:H0.type,docRef:H0.docRef}),ve.info("Added new requirement: ",e)),H0={},nb.get(e)),"addElement"),jwt=I(()=>nb,"getElements"),Xwt=I(e=>{H0!==void 0&&(H0.type=e)},"setNewElementType"),Kwt=I(e=>{H0!==void 0&&(H0.docRef=e)},"setNewElementDocRef"),Zwt=I((e,t,n)=>{yP.push({type:e,src:t,dst:n})},"addRelationship"),Qwt=I(()=>yP,"getRelationships"),Jwt=I(()=>{yP=[],ro={},tb=new Map,H0={},nb=new Map,fa()},"clear"),e3t={RequirementType:Fwt,RiskLevel:Bwt,VerifyType:Hwt,Relationships:$wt,getConfig:I(()=>Pe().req,"getConfig"),addRequirement:Wwt,getRequirements:Uwt,setNewReqId:Gwt,setNewReqText:zwt,setNewReqRisk:Ywt,setNewReqVerifyMethod:Vwt,setAccTitle:da,getAccTitle:La,setAccDescription:_a,getAccDescription:Da,addElement:qwt,getElements:jwt,setNewElementType:Xwt,setNewElementDocRef:Kwt,addRelationship:Zwt,getRelationships:Qwt,clear:Jwt},t3t=I(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),n3t=t3t,O7={CONTAINS:"contains",ARROW:"arrow"},r3t=I((e,t)=>{let n=e.append("defs").append("marker").attr("id",O7.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",O7.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),Lge={ReqMarkers:O7,insertLineEndings:r3t},ei={},lj=0,_ge=I((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",ei.rect_min_width+"px").attr("height",ei.rect_min_height+"px"),"newRectNode"),Dge=I((e,t,n)=>{let r=ei.rect_min_width/2,a=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",r).attr("y",ei.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach(f=>{o==0?a.append("tspan").attr("text-anchor","middle").attr("x",ei.rect_min_width/2).attr("dy",0).text(f):a.append("tspan").attr("text-anchor","middle").attr("x",ei.rect_min_width/2).attr("dy",ei.line_height*.75).text(f),o++});let l=1.5*ei.rect_padding,u=o*ei.line_height*.75,h=l+u;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",ei.rect_min_width).attr("y1",h).attr("y2",h),{titleNode:a,y:h}},"newTitleNode"),Mge=I((e,t,n,r)=>{let a=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",ei.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),o=0;const l=30;let u=[];return n.forEach(h=>{let f=h.length;for(;f>l&&o<3;){let d=h.substring(0,l);h=h.substring(l,h.length),f=h.length,u[u.length]=d,o++}if(o==3){let d=u[u.length-1];u[u.length-1]=d.substring(0,d.length-4)+"..."}else u[u.length]=h;o=0}),u.forEach(h=>{a.append("tspan").attr("x",ei.rect_padding).attr("dy",ei.line_height).text(h)}),a},"newBodyNode"),i3t=I((e,t,n,r)=>{const a=t.node().getTotalLength(),o=t.node().getPointAtLength(a*.5),l="rel"+lj;lj++;const h=e.append("text").attr("class","req relationshipLabel").attr("id",l).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();e.insert("rect","#"+l).attr("class","req reqLabelBox").attr("x",o.x-h.width/2).attr("y",o.y-h.height/2).attr("width",h.width).attr("height",h.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),a3t=I(function(e,t,n,r,a){const o=n.edge(ev(t.src),ev(t.dst)),l=ip().x(function(h){return h.x}).y(function(h){return h.y}),u=e.insert("path","#"+r).attr("class","er relationshipLine").attr("d",l(o.points)).attr("fill","none");t.type==a.db.Relationships.CONTAINS?u.attr("marker-start","url("+ot.getUrl(ei.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(u.attr("stroke-dasharray","10,7"),u.attr("marker-end","url("+ot.getUrl(ei.arrowMarkerAbsolute)+"#"+Lge.ReqMarkers.ARROW+"_line_ending)")),i3t(e,u,ei,`<<${t.type}>>`)},"drawRelationshipFromLayout"),s3t=I((e,t,n)=>{e.forEach((r,a)=>{a=ev(a),ve.info("Added new requirement: ",a);const o=n.append("g").attr("id",a),l="req-"+a,u=_ge(o,l);let h=[],f=Dge(o,a+"_title",[`<<${r.type}>>`,`${r.name}`]);h.push(f.titleNode);let d=Mge(o,a+"_body",[`Id: ${r.id}`,`Text: ${r.text}`,`Risk: ${r.risk}`,`Verification: ${r.verifyMethod}`],f.y);h.push(d);const p=u.node().getBBox();t.setNode(a,{width:p.width,height:p.height,shape:"rect",id:a})})},"drawReqs"),o3t=I((e,t,n)=>{e.forEach((r,a)=>{const o=ev(a),l=n.append("g").attr("id",o),u="element-"+o,h=_ge(l,u);let f=[],d=Dge(l,u+"_title",["<<Element>>",`${a}`]);f.push(d.titleNode);let p=Mge(l,u+"_body",[`Type: ${r.type||"Not Specified"}`,`Doc Ref: ${r.docRef||"None"}`],d.y);f.push(p);const g=h.node().getBBox();t.setNode(o,{width:g.width,height:g.height,shape:"rect",id:o})})},"drawElements"),l3t=I((e,t)=>(e.forEach(function(n){let r=ev(n.src),a=ev(n.dst);t.setEdge(r,a,{relationship:n})}),e),"addRelationships"),c3t=I(function(e,t){t.nodes().forEach(function(n){n!==void 0&&t.node(n)!==void 0&&(e.select("#"+n),e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )"))})},"adjustEntities"),ev=I(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),u3t=I((e,t,n,r)=>{ei=Pe().requirement;const a=ei.securityLevel;let o;a==="sandbox"&&(o=it("#i"+t));const u=it(a==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);Lge.insertLineEndings(u,ei);const h=new ls({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:ei.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let f=r.db.getRequirements(),d=r.db.getElements(),p=r.db.getRelationships();s3t(f,h,u),o3t(d,h,u),l3t(p,h),O6(h),c3t(u,h),p.forEach(function(T){a3t(u,T,h,t,r)});const g=ei.rect_padding,m=u.node().getBBox(),y=m.width+g*2,b=m.height+g*2;ss(u,b,y,ei.useMaxWidth),u.attr("viewBox",`${m.x-g} ${m.y-g} ${y} ${b}`)},"draw"),h3t={draw:u3t},f3t={parser:Pwt,db:e3t,renderer:h3t,styles:n3t};const d3t=Object.freeze(Object.defineProperty({__proto__:null,diagram:f3t},Symbol.toStringTag,{value:"Module"}));var N7=function(){var e=I(function(Y,K,Z,z){for(Z=Z||{},z=Y.length;z--;Z[Y[z]]=K);return Z},"o"),t=[1,2],n=[1,3],r=[1,4],a=[2,4],o=[1,9],l=[1,11],u=[1,13],h=[1,14],f=[1,16],d=[1,17],p=[1,18],g=[1,24],m=[1,25],y=[1,26],b=[1,27],T=[1,28],E=[1,29],w=[1,30],x=[1,31],S=[1,32],A=[1,33],R=[1,34],C=[1,35],N=[1,36],O=[1,37],L=[1,38],k=[1,39],M=[1,41],$=[1,42],_=[1,43],F=[1,44],B=[1,45],D=[1,46],P=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],H=[4,5,16,50,52,53],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],U=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],V=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],G=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],ee=[68,69,70],ce=[1,122],Q={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:I(function(K,Z,z,X,te,ne,Ae){var he=ne.length-1;switch(te){case 3:return X.apply(ne[he]),ne[he];case 4:case 9:this.$=[];break;case 5:case 10:ne[he-1].push(ne[he]),this.$=ne[he-1];break;case 6:case 7:case 11:case 12:this.$=ne[he];break;case 8:case 13:this.$=[];break;case 15:ne[he].type="createParticipant",this.$=ne[he];break;case 16:ne[he-1].unshift({type:"boxStart",boxData:X.parseBoxData(ne[he-2])}),ne[he-1].push({type:"boxEnd",boxText:ne[he-2]}),this.$=ne[he-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(ne[he-2]),sequenceIndexStep:Number(ne[he-1]),sequenceVisible:!0,signalType:X.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(ne[he-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:X.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:X.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:X.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:X.LINETYPE.ACTIVE_START,actor:ne[he-1].actor};break;case 23:this.$={type:"activeEnd",signalType:X.LINETYPE.ACTIVE_END,actor:ne[he-1].actor};break;case 29:X.setDiagramTitle(ne[he].substring(6)),this.$=ne[he].substring(6);break;case 30:X.setDiagramTitle(ne[he].substring(7)),this.$=ne[he].substring(7);break;case 31:this.$=ne[he].trim(),X.setAccTitle(this.$);break;case 32:case 33:this.$=ne[he].trim(),X.setAccDescription(this.$);break;case 34:ne[he-1].unshift({type:"loopStart",loopText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.LOOP_START}),ne[he-1].push({type:"loopEnd",loopText:ne[he-2],signalType:X.LINETYPE.LOOP_END}),this.$=ne[he-1];break;case 35:ne[he-1].unshift({type:"rectStart",color:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.RECT_START}),ne[he-1].push({type:"rectEnd",color:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.RECT_END}),this.$=ne[he-1];break;case 36:ne[he-1].unshift({type:"optStart",optText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.OPT_START}),ne[he-1].push({type:"optEnd",optText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.OPT_END}),this.$=ne[he-1];break;case 37:ne[he-1].unshift({type:"altStart",altText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.ALT_START}),ne[he-1].push({type:"altEnd",signalType:X.LINETYPE.ALT_END}),this.$=ne[he-1];break;case 38:ne[he-1].unshift({type:"parStart",parText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.PAR_START}),ne[he-1].push({type:"parEnd",signalType:X.LINETYPE.PAR_END}),this.$=ne[he-1];break;case 39:ne[he-1].unshift({type:"parStart",parText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.PAR_OVER_START}),ne[he-1].push({type:"parEnd",signalType:X.LINETYPE.PAR_END}),this.$=ne[he-1];break;case 40:ne[he-1].unshift({type:"criticalStart",criticalText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.CRITICAL_START}),ne[he-1].push({type:"criticalEnd",signalType:X.LINETYPE.CRITICAL_END}),this.$=ne[he-1];break;case 41:ne[he-1].unshift({type:"breakStart",breakText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.BREAK_START}),ne[he-1].push({type:"breakEnd",optText:X.parseMessage(ne[he-2]),signalType:X.LINETYPE.BREAK_END}),this.$=ne[he-1];break;case 43:this.$=ne[he-3].concat([{type:"option",optionText:X.parseMessage(ne[he-1]),signalType:X.LINETYPE.CRITICAL_OPTION},ne[he]]);break;case 45:this.$=ne[he-3].concat([{type:"and",parText:X.parseMessage(ne[he-1]),signalType:X.LINETYPE.PAR_AND},ne[he]]);break;case 47:this.$=ne[he-3].concat([{type:"else",altText:X.parseMessage(ne[he-1]),signalType:X.LINETYPE.ALT_ELSE},ne[he]]);break;case 48:ne[he-3].draw="participant",ne[he-3].type="addParticipant",ne[he-3].description=X.parseMessage(ne[he-1]),this.$=ne[he-3];break;case 49:ne[he-1].draw="participant",ne[he-1].type="addParticipant",this.$=ne[he-1];break;case 50:ne[he-3].draw="actor",ne[he-3].type="addParticipant",ne[he-3].description=X.parseMessage(ne[he-1]),this.$=ne[he-3];break;case 51:ne[he-1].draw="actor",ne[he-1].type="addParticipant",this.$=ne[he-1];break;case 52:ne[he-1].type="destroyParticipant",this.$=ne[he-1];break;case 53:this.$=[ne[he-1],{type:"addNote",placement:ne[he-2],actor:ne[he-1].actor,text:ne[he]}];break;case 54:ne[he-2]=[].concat(ne[he-1],ne[he-1]).slice(0,2),ne[he-2][0]=ne[he-2][0].actor,ne[he-2][1]=ne[he-2][1].actor,this.$=[ne[he-1],{type:"addNote",placement:X.PLACEMENT.OVER,actor:ne[he-2].slice(0,2),text:ne[he]}];break;case 55:this.$=[ne[he-1],{type:"addLinks",actor:ne[he-1].actor,text:ne[he]}];break;case 56:this.$=[ne[he-1],{type:"addALink",actor:ne[he-1].actor,text:ne[he]}];break;case 57:this.$=[ne[he-1],{type:"addProperties",actor:ne[he-1].actor,text:ne[he]}];break;case 58:this.$=[ne[he-1],{type:"addDetails",actor:ne[he-1].actor,text:ne[he]}];break;case 61:this.$=[ne[he-2],ne[he]];break;case 62:this.$=ne[he];break;case 63:this.$=X.PLACEMENT.LEFTOF;break;case 64:this.$=X.PLACEMENT.RIGHTOF;break;case 65:this.$=[ne[he-4],ne[he-1],{type:"addMessage",from:ne[he-4].actor,to:ne[he-1].actor,signalType:ne[he-3],msg:ne[he],activate:!0},{type:"activeStart",signalType:X.LINETYPE.ACTIVE_START,actor:ne[he-1].actor}];break;case 66:this.$=[ne[he-4],ne[he-1],{type:"addMessage",from:ne[he-4].actor,to:ne[he-1].actor,signalType:ne[he-3],msg:ne[he]},{type:"activeEnd",signalType:X.LINETYPE.ACTIVE_END,actor:ne[he-4].actor}];break;case 67:this.$=[ne[he-3],ne[he-1],{type:"addMessage",from:ne[he-3].actor,to:ne[he-1].actor,signalType:ne[he-2],msg:ne[he]}];break;case 68:this.$={type:"addParticipant",actor:ne[he]};break;case 69:this.$=X.LINETYPE.SOLID_OPEN;break;case 70:this.$=X.LINETYPE.DOTTED_OPEN;break;case 71:this.$=X.LINETYPE.SOLID;break;case 72:this.$=X.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=X.LINETYPE.DOTTED;break;case 74:this.$=X.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=X.LINETYPE.SOLID_CROSS;break;case 76:this.$=X.LINETYPE.DOTTED_CROSS;break;case 77:this.$=X.LINETYPE.SOLID_POINT;break;case 78:this.$=X.LINETYPE.DOTTED_POINT;break;case 79:this.$=X.parseMessage(ne[he].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:n,6:r},{1:[3]},{3:5,4:t,5:n,6:r},{3:6,4:t,5:n,6:r},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],a,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:l,8:8,9:10,12:12,13:u,14:h,17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},e(P,[2,5]),{9:47,12:12,13:u,14:h,17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},e(P,[2,7]),e(P,[2,8]),e(P,[2,14]),{12:48,50:O,52:L,53:k},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:D},{22:55,70:D},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(P,[2,29]),e(P,[2,30]),{32:[1,61]},{34:[1,62]},e(P,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:D},{22:72,70:D},{22:73,70:D},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:D},{22:90,70:D},{22:91,70:D},{22:92,70:D},e([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),e(P,[2,6]),e(P,[2,15]),e(H,[2,9],{10:93}),e(P,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},e(P,[2,21]),{5:[1,97]},{5:[1,98]},e(P,[2,24]),e(P,[2,25]),e(P,[2,26]),e(P,[2,27]),e(P,[2,28]),e(P,[2,31]),e(P,[2,32]),e(W,a,{7:99}),e(W,a,{7:100}),e(W,a,{7:101}),e(U,a,{40:102,7:103}),e(V,a,{42:104,7:105}),e(V,a,{7:105,42:106}),e(G,a,{45:107,7:108}),e(W,a,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:D},e(ee,[2,69]),e(ee,[2,70]),e(ee,[2,71]),e(ee,[2,72]),e(ee,[2,73]),e(ee,[2,74]),e(ee,[2,75]),e(ee,[2,76]),e(ee,[2,77]),e(ee,[2,78]),{22:118,70:D},{22:120,58:119,70:D},{70:[2,63]},{70:[2,64]},{56:121,81:ce},{56:123,81:ce},{56:124,81:ce},{56:125,81:ce},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:O,52:L,53:k},{5:[1,131]},e(P,[2,19]),e(P,[2,20]),e(P,[2,22]),e(P,[2,23]),{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[1,132],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[1,133],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[1,134],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{16:[1,135]},{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[2,46],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,49:[1,136],50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{16:[1,137]},{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[2,44],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,48:[1,138],50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{16:[1,139]},{16:[1,140]},{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[2,42],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,47:[1,141],50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{4:o,5:l,8:8,9:10,12:12,13:u,14:h,16:[1,142],17:15,18:f,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:m,31:y,33:b,35:T,36:E,37:w,38:x,39:S,41:A,43:R,44:C,46:N,50:O,52:L,53:k,54:M,59:$,60:_,61:F,62:B,70:D},{15:[1,143]},e(P,[2,49]),{15:[1,144]},e(P,[2,51]),e(P,[2,52]),{22:145,70:D},{22:146,70:D},{56:147,81:ce},{56:148,81:ce},{56:149,81:ce},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(P,[2,16]),e(H,[2,10]),{12:151,50:O,52:L,53:k},e(H,[2,12]),e(H,[2,13]),e(P,[2,18]),e(P,[2,34]),e(P,[2,35]),e(P,[2,36]),e(P,[2,37]),{15:[1,152]},e(P,[2,38]),{15:[1,153]},e(P,[2,39]),e(P,[2,40]),{15:[1,154]},e(P,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:ce},{56:158,81:ce},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:D},e(H,[2,11]),e(U,a,{7:103,40:160}),e(V,a,{7:105,42:161}),e(G,a,{7:108,45:162}),e(P,[2,48]),e(P,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:I(function(K,Z){if(Z.recoverable)this.trace(K);else{var z=new Error(K);throw z.hash=Z,z}},"parseError"),parse:I(function(K){var Z=this,z=[0],X=[],te=[null],ne=[],Ae=this.table,he="",oe=0,de=0,be=2,fe=1,Ie=ne.slice.call(arguments,1),Re=Object.create(this.lexer),ke={yy:{}};for(var De in this.yy)Object.prototype.hasOwnProperty.call(this.yy,De)&&(ke.yy[De]=this.yy[De]);Re.setInput(K,ke.yy),ke.yy.lexer=Re,ke.yy.parser=this,typeof Re.yylloc>"u"&&(Re.yylloc={});var se=Re.yylloc;ne.push(se);var j=Re.options&&Re.options.ranges;typeof ke.yy.parseError=="function"?this.parseError=ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function me(Ne){z.length=z.length-2*Ne,te.length=te.length-Ne,ne.length=ne.length-Ne}I(me,"popStack");function ue(){var Ne;return Ne=X.pop()||Re.lex()||fe,typeof Ne!="number"&&(Ne instanceof Array&&(X=Ne,Ne=X.pop()),Ne=Z.symbols_[Ne]||Ne),Ne}I(ue,"lex");for(var we,ie,Oe,ae,ge={},Ee,ye,Se,Ce;;){if(ie=z[z.length-1],this.defaultActions[ie]?Oe=this.defaultActions[ie]:((we===null||typeof we>"u")&&(we=ue()),Oe=Ae[ie]&&Ae[ie][we]),typeof Oe>"u"||!Oe.length||!Oe[0]){var Fe="";Ce=[];for(Ee in Ae[ie])this.terminals_[Ee]&&Ee>be&&Ce.push("'"+this.terminals_[Ee]+"'");Re.showPosition?Fe="Parse error on line "+(oe+1)+`:
`+Re.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[we]||we)+"'":Fe="Parse error on line "+(oe+1)+": Unexpected "+(we==fe?"end of input":"'"+(this.terminals_[we]||we)+"'"),this.parseError(Fe,{text:Re.match,token:this.terminals_[we]||we,line:Re.yylineno,loc:se,expected:Ce})}if(Oe[0]instanceof Array&&Oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ie+", token: "+we);switch(Oe[0]){case 1:z.push(we),te.push(Re.yytext),ne.push(Re.yylloc),z.push(Oe[1]),we=null,de=Re.yyleng,he=Re.yytext,oe=Re.yylineno,se=Re.yylloc;break;case 2:if(ye=this.productions_[Oe[1]][1],ge.$=te[te.length-ye],ge._$={first_line:ne[ne.length-(ye||1)].first_line,last_line:ne[ne.length-1].last_line,first_column:ne[ne.length-(ye||1)].first_column,last_column:ne[ne.length-1].last_column},j&&(ge._$.range=[ne[ne.length-(ye||1)].range[0],ne[ne.length-1].range[1]]),ae=this.performAction.apply(ge,[he,de,oe,ke.yy,Oe[1],te,ne].concat(Ie)),typeof ae<"u")return ae;ye&&(z=z.slice(0,-1*ye*2),te=te.slice(0,-1*ye),ne=ne.slice(0,-1*ye)),z.push(this.productions_[Oe[1]][0]),te.push(ge.$),ne.push(ge._$),Se=Ae[z[z.length-2]][z[z.length-1]],z.push(Se);break;case 3:return!0}}return!0},"parse")},re=function(){var Y={EOF:1,parseError:I(function(Z,z){if(this.yy.parser)this.yy.parser.parseError(Z,z);else throw new Error(Z)},"parseError"),setInput:I(function(K,Z){return this.yy=Z||this.yy||{},this._input=K,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var K=this._input[0];this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K;var Z=K.match(/(?:\r\n?|\n).*/g);return Z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),K},"input"),unput:I(function(K){var Z=K.length,z=K.split(/(?:\r\n?|\n)/g);this._input=K+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Z),this.offset-=Z;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===X.length?this.yylloc.first_column:0)+X[X.length-z.length].length-z[0].length:this.yylloc.first_column-Z},this.options.ranges&&(this.yylloc.range=[te[0],te[0]+this.yyleng-Z]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(K){this.unput(this.match.slice(K))},"less"),pastInput:I(function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var K=this.match;return K.length<20&&(K+=this._input.substr(0,20-K.length)),(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var K=this.pastInput(),Z=new Array(K.length+1).join("-");return K+this.upcomingInput()+`
`+Z+"^"},"showPosition"),test_match:I(function(K,Z){var z,X,te;if(this.options.backtrack_lexer&&(te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(te.yylloc.range=this.yylloc.range.slice(0))),X=K[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+K[0].length},this.yytext+=K[0],this.match+=K[0],this.matches=K,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(K[0].length),this.matched+=K[0],z=this.performAction.call(this,this.yy,this,Z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var ne in te)this[ne]=te[ne];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var K,Z,z,X;this._more||(this.yytext="",this.match="");for(var te=this._currentRules(),ne=0;ne<te.length;ne++)if(z=this._input.match(this.rules[te[ne]]),z&&(!Z||z[0].length>Z[0].length)){if(Z=z,X=ne,this.options.backtrack_lexer){if(K=this.test_match(z,te[ne]),K!==!1)return K;if(this._backtrack){Z=!1;continue}else return!1}else if(!this.options.flex)break}return Z?(K=this.test_match(Z,te[X]),K!==!1?K:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var Z=this.next();return Z||this.lex()},"lex"),begin:I(function(Z){this.conditionStack.push(Z)},"begin"),popState:I(function(){var Z=this.conditionStack.length-1;return Z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(Z){return Z=this.conditionStack.length-1-Math.abs(Z||0),Z>=0?this.conditionStack[Z]:"INITIAL"},"topState"),pushState:I(function(Z){this.begin(Z)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(Z,z,X,te){switch(X){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return z.yytext=z.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return z.yytext=z.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return Y}();Q.lexer=re;function le(){this.yy={}}return I(le,"Parser"),le.prototype=Q,Q.Parser=le,new le}();N7.parser=N7;var p3t=N7,Pt=new SM(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),g3t=I(function(e){Pt.records.boxes.push({name:e.text,wrap:e.wrap??gp(),fill:e.color,actorKeys:[]}),Pt.records.currentBox=Pt.records.boxes.slice(-1)[0]},"addBox"),L7=I(function(e,t,n,r){let a=Pt.records.currentBox;const o=Pt.records.actors.get(e);if(o){if(Pt.records.currentBox&&o.box&&Pt.records.currentBox!==o.box)throw new Error(`A same participant should only be defined in one Box: ${o.name} can't be in '${o.box.name}' and in '${Pt.records.currentBox.name}' at the same time.`);if(a=o.box?o.box:Pt.records.currentBox,o.box=a,o&&t===o.name&&n==null)return}if((n==null?void 0:n.text)==null&&(n={text:t,type:r}),(r==null||n.text==null)&&(n={text:t,type:r}),Pt.records.actors.set(e,{box:a,name:t,description:n.text,wrap:n.wrap??gp(),prevActor:Pt.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:r??"participant"}),Pt.records.prevActor){const l=Pt.records.actors.get(Pt.records.prevActor);l&&(l.nextActor=e)}Pt.records.currentBox&&Pt.records.currentBox.actorKeys.push(e),Pt.records.prevActor=e},"addActor"),m3t=I(e=>{let t,n=0;if(!e)return 0;for(t=0;t<Pt.records.messages.length;t++)Pt.records.messages[t].type===uT.ACTIVE_START&&Pt.records.messages[t].from===e&&n++,Pt.records.messages[t].type===uT.ACTIVE_END&&Pt.records.messages[t].from===e&&n--;return n},"activationCount"),v3t=I(function(e,t,n,r){Pt.records.messages.push({from:e,to:t,message:n.text,wrap:n.wrap??gp(),answer:r})},"addMessage"),fi=I(function(e,t,n,r,a=!1){if(r===uT.ACTIVE_END&&m3t(e??"")<1){const l=new Error("Trying to inactivate an inactive participant ("+e+")");throw l.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},l}return Pt.records.messages.push({from:e,to:t,message:(n==null?void 0:n.text)??"",wrap:(n==null?void 0:n.wrap)??gp(),type:r,activate:a}),!0},"addSignal"),y3t=I(function(){return Pt.records.boxes.length>0},"hasAtLeastOneBox"),b3t=I(function(){return Pt.records.boxes.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),T3t=I(function(){return Pt.records.messages},"getMessages"),E3t=I(function(){return Pt.records.boxes},"getBoxes"),w3t=I(function(){return Pt.records.actors},"getActors"),x3t=I(function(){return Pt.records.createdActors},"getCreatedActors"),S3t=I(function(){return Pt.records.destroyedActors},"getDestroyedActors"),FE=I(function(e){return Pt.records.actors.get(e)},"getActor"),A3t=I(function(){return[...Pt.records.actors.keys()]},"getActorKeys"),I3t=I(function(){Pt.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),C3t=I(function(){Pt.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),R3t=I(()=>Pt.records.sequenceNumbersEnabled,"showSequenceNumbers"),k3t=I(function(e){Pt.records.wrapEnabled=e},"setWrap"),Pge=I(e=>{if(e===void 0)return{};e=e.trim();const t=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}},"extractWrap"),gp=I(()=>{var e;return Pt.records.wrapEnabled!==void 0?Pt.records.wrapEnabled:((e=Pe().sequence)==null?void 0:e.wrap)??!1},"autoWrap"),O3t=I(function(){Pt.reset(),fa()},"clear"),N3t=I(function(e){const t=e.trim(),{wrap:n,cleanedText:r}=Pge(t),a={text:r,wrap:n};return ve.debug(`parseMessage: ${JSON.stringify(a)}`),a},"parseMessage"),L3t=I(function(e){const t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e);let n=t!=null&&t[1]?t[1].trim():"transparent",r=t!=null&&t[2]?t[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",n)||(n="transparent",r=e.trim());else{const l=new Option().style;l.color=n,l.color!==n&&(n="transparent",r=e.trim())}const{wrap:a,cleanedText:o}=Pge(r);return{text:o?or(o,Pe()):void 0,color:n,wrap:a}},"parseBoxData"),uT={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},_3t={FILLED:0,OPEN:1},D3t={LEFTOF:0,RIGHTOF:1,OVER:2},Fge=I(function(e,t,n){const r={actor:e,placement:t,message:n.text,wrap:n.wrap??gp()},a=[].concat(e,e);Pt.records.notes.push(r),Pt.records.messages.push({from:a[0],to:a[1],message:n.text,wrap:n.wrap??gp(),type:uT.NOTE,placement:t})},"addNote"),Bge=I(function(e,t){const n=FE(e);try{let r=or(t.text,Pe());r=r.replace(/&amp;/g,"&"),r=r.replace(/&equals;/g,"=");const a=JSON.parse(r);eI(n,a)}catch(r){ve.error("error while parsing actor link text",r)}},"addLinks"),M3t=I(function(e,t){const n=FE(e);try{const r={};let a=or(t.text,Pe());const o=a.indexOf("@");a=a.replace(/&amp;/g,"&"),a=a.replace(/&equals;/g,"=");const l=a.slice(0,o-1).trim(),u=a.slice(o+1).trim();r[l]=u,eI(n,r)}catch(r){ve.error("error while parsing actor link text",r)}},"addALink");function eI(e,t){if(e.links==null)e.links=t;else for(const n in t)e.links[n]=t[n]}I(eI,"insertLinks");var Hge=I(function(e,t){const n=FE(e);try{const r=or(t.text,Pe()),a=JSON.parse(r);bP(n,a)}catch(r){ve.error("error while parsing actor properties text",r)}},"addProperties");function bP(e,t){if(e.properties==null)e.properties=t;else for(const n in t)e.properties[n]=t[n]}I(bP,"insertProperties");function $ge(){Pt.records.currentBox=void 0}I($ge,"boxEnd");var Wge=I(function(e,t){const n=FE(e),r=document.getElementById(t.text);try{const a=r.innerHTML,o=JSON.parse(a);o.properties&&bP(n,o.properties),o.links&&eI(n,o.links)}catch(a){ve.error("error while parsing actor details text",a)}},"addDetails"),P3t=I(function(e,t){if((e==null?void 0:e.properties)!==void 0)return e.properties[t]},"getActorProperty"),Uge=I(function(e){if(Array.isArray(e))e.forEach(function(t){Uge(t)});else switch(e.type){case"sequenceIndex":Pt.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":L7(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(Pt.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Pt.records.lastCreated=e.actor,L7(e.actor,e.actor,e.description,e.draw),Pt.records.createdActors.set(e.actor,Pt.records.messages.length);break;case"destroyParticipant":Pt.records.lastDestroyed=e.actor,Pt.records.destroyedActors.set(e.actor,Pt.records.messages.length);break;case"activeStart":fi(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":fi(e.actor,void 0,void 0,e.signalType);break;case"addNote":Fge(e.actor,e.placement,e.text);break;case"addLinks":Bge(e.actor,e.text);break;case"addALink":M3t(e.actor,e.text);break;case"addProperties":Hge(e.actor,e.text);break;case"addDetails":Wge(e.actor,e.text);break;case"addMessage":if(Pt.records.lastCreated){if(e.to!==Pt.records.lastCreated)throw new Error("The created participant "+Pt.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Pt.records.lastCreated=void 0}else if(Pt.records.lastDestroyed){if(e.to!==Pt.records.lastDestroyed&&e.from!==Pt.records.lastDestroyed)throw new Error("The destroyed participant "+Pt.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Pt.records.lastDestroyed=void 0}fi(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":g3t(e.boxData);break;case"boxEnd":$ge();break;case"loopStart":fi(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":fi(void 0,void 0,void 0,e.signalType);break;case"rectStart":fi(void 0,void 0,e.color,e.signalType);break;case"rectEnd":fi(void 0,void 0,void 0,e.signalType);break;case"optStart":fi(void 0,void 0,e.optText,e.signalType);break;case"optEnd":fi(void 0,void 0,void 0,e.signalType);break;case"altStart":fi(void 0,void 0,e.altText,e.signalType);break;case"else":fi(void 0,void 0,e.altText,e.signalType);break;case"altEnd":fi(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":da(e.text);break;case"parStart":fi(void 0,void 0,e.parText,e.signalType);break;case"and":fi(void 0,void 0,e.parText,e.signalType);break;case"parEnd":fi(void 0,void 0,void 0,e.signalType);break;case"criticalStart":fi(void 0,void 0,e.criticalText,e.signalType);break;case"option":fi(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":fi(void 0,void 0,void 0,e.signalType);break;case"breakStart":fi(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":fi(void 0,void 0,void 0,e.signalType);break}},"apply"),cj={addActor:L7,addMessage:v3t,addSignal:fi,addLinks:Bge,addDetails:Wge,addProperties:Hge,autoWrap:gp,setWrap:k3t,enableSequenceNumbers:I3t,disableSequenceNumbers:C3t,showSequenceNumbers:R3t,getMessages:T3t,getActors:w3t,getCreatedActors:x3t,getDestroyedActors:S3t,getActor:FE,getActorKeys:A3t,getActorProperty:P3t,getAccTitle:La,getBoxes:E3t,getDiagramTitle:Ma,setDiagramTitle:Ds,getConfig:I(()=>Pe().sequence,"getConfig"),clear:O3t,parseMessage:N3t,parseBoxData:L3t,LINETYPE:uT,ARROWTYPE:_3t,PLACEMENT:D3t,addNote:Fge,setAccTitle:da,apply:Uge,setAccDescription:_a,getAccDescription:Da,hasAtLeastOneBox:y3t,hasAtLeastOneBoxWithTitle:b3t},F3t=I(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),B3t=F3t,_d=18*2,Gge="actor-top",zge="actor-bottom",H3t="actor-box",uj="actor-man",TP=I(function(e,t){return N6(e,t)},"drawRect"),$3t=I(function(e,t,n,r,a){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const o=t.links,l=t.actorCnt,u=t.rectData;var h="none";a&&(h="block !important");const f=e.append("g");f.attr("id","actor"+l+"_popup"),f.attr("class","actorPopupMenu"),f.attr("display",h);var d="";u.class!==void 0&&(d=" "+u.class);let p=u.width>n?u.width:n;const g=f.append("rect");if(g.attr("class","actorPopupMenuPanel"+d),g.attr("x",u.x),g.attr("y",u.height),g.attr("fill",u.fill),g.attr("stroke",u.stroke),g.attr("width",p),g.attr("height",u.height),g.attr("rx",u.rx),g.attr("ry",u.ry),o!=null){var m=20;for(let T in o){var y=f.append("a"),b=Af(o[T]);y.attr("xlink:href",b),y.attr("target","_blank"),rxt(r)(T,y,u.x+10,u.height+m,p,20,{class:"actor"},r),m+=30}}return g.attr("height",m),{height:u.height+m,width:p}},"drawPopup"),W3t=I(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),c5=I(async function(e,t,n=null){let r=e.append("foreignObject");const a=await rE(t.text,Br()),l=r.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(a).node().getBoundingClientRect();if(r.attr("height",Math.round(l.height)).attr("width",Math.round(l.width)),t.class==="noteText"){const u=e.node().firstChild;u.setAttribute("height",l.height+2*t.textMargin);const h=u.getBBox();r.attr("x",Math.round(h.x+h.width/2-l.width/2)).attr("y",Math.round(h.y+h.height/2-l.height/2))}else if(n){let{startx:u,stopx:h,starty:f}=n;if(u>h){const d=u;u=h,h=d}r.attr("x",Math.round(u+Math.abs(u-h)/2-l.width/2)),t.class==="loopText"?r.attr("y",Math.round(f)):r.attr("y",Math.round(f-l.height))}return[r]},"drawKatex"),tv=I(function(e,t){let n=0,r=0;const a=t.text.split(ot.lineBreakRegex),[o,l]=If(t.fontSize);let u=[],h=0,f=I(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":f=I(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":f=I(()=>Math.round(t.y+(n+r+t.textMargin)/2),"yfunc");break;case"bottom":case"end":f=I(()=>Math.round(t.y+(n+r+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,p]of a.entries()){t.textMargin!==void 0&&t.textMargin===0&&o!==void 0&&(h=d*o);const g=e.append("text");g.attr("x",t.x),g.attr("y",f()),t.anchor!==void 0&&g.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&g.style("font-family",t.fontFamily),l!==void 0&&g.style("font-size",l),t.fontWeight!==void 0&&g.style("font-weight",t.fontWeight),t.fill!==void 0&&g.attr("fill",t.fill),t.class!==void 0&&g.attr("class",t.class),t.dy!==void 0?g.attr("dy",t.dy):h!==0&&g.attr("dy",h);const m=p||Roe;if(t.tspan){const y=g.append("tspan");y.attr("x",t.x),t.fill!==void 0&&y.attr("fill",t.fill),y.text(m)}else g.text(m);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(r+=(g._groups||g)[0][0].getBBox().height,n=r),u.push(g)}return u},"drawText"),Yge=I(function(e,t){function n(a,o,l,u,h){return a+","+o+" "+(a+l)+","+o+" "+(a+l)+","+(o+u-h)+" "+(a+l-h*1.2)+","+(o+u)+" "+a+","+(o+u)}I(n,"genPoints");const r=e.append("polygon");return r.attr("points",n(t.x,t.y,t.width,t.height,7)),r.attr("class","labelBox"),t.y=t.y+t.height/2,tv(e,t),r},"drawLabel"),qc=-1,Vge=I((e,t,n,r)=>{e.select&&n.forEach(a=>{const o=t.get(a),l=e.select("#actor"+o.actorCnt);!r.mirrorActors&&o.stopy?l.attr("y2",o.stopy+o.height/2):r.mirrorActors&&l.attr("y2",o.stopy)})},"fixLifeLineHeights"),U3t=I(function(e,t,n,r){var m,y;const a=r?t.stopy:t.starty,o=t.x+t.width/2,l=a+t.height,u=e.append("g").lower();var h=u;r||(qc++,Object.keys(t.links||{}).length&&!n.forceMenus&&h.attr("onclick",W3t(`actor${qc}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+qc).attr("x1",o).attr("y1",l).attr("x2",o).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),h=u.append("g"),t.actorCnt=qc,t.links!=null&&h.attr("id","root-"+qc));const f=Gp();var d="actor";(m=t.properties)!=null&&m.class?d=t.properties.class:f.fill="#eaeaea",r?d+=` ${zge}`:d+=` ${Gge}`,f.x=t.x,f.y=a,f.width=t.width,f.height=t.height,f.class=d,f.rx=3,f.ry=3,f.name=t.name;const p=TP(h,f);if(t.rectData=f,(y=t.properties)!=null&&y.icon){const b=t.properties.icon.trim();b.charAt(0)==="@"?idt(h,f.x+f.width-20,f.y+10,b.substr(1)):rdt(h,f.x+f.width-20,f.y+10,b)}EP(n,ts(t.description))(t.description,h,f.x,f.y,f.width,f.height,{class:`actor ${H3t}`},n);let g=t.height;if(p.node){const b=p.node().getBBox();t.height=b.height,g=b.height}return g},"drawActorTypeParticipant"),G3t=I(function(e,t,n,r){const a=r?t.stopy:t.starty,o=t.x+t.width/2,l=a+80,u=e.append("g").lower();r||(qc++,u.append("line").attr("id","actor"+qc).attr("x1",o).attr("y1",l).attr("x2",o).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=qc);const h=e.append("g");let f=uj;r?f+=` ${zge}`:f+=` ${Gge}`,h.attr("class",f),h.attr("name",t.name);const d=Gp();d.x=t.x,d.y=a,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,h.append("line").attr("id","actor-man-torso"+qc).attr("x1",o).attr("y1",a+25).attr("x2",o).attr("y2",a+45),h.append("line").attr("id","actor-man-arms"+qc).attr("x1",o-_d/2).attr("y1",a+33).attr("x2",o+_d/2).attr("y2",a+33),h.append("line").attr("x1",o-_d/2).attr("y1",a+60).attr("x2",o).attr("y2",a+45),h.append("line").attr("x1",o).attr("y1",a+45).attr("x2",o+_d/2-2).attr("y2",a+60);const p=h.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",a+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);const g=h.node().getBBox();return t.height=g.height,EP(n,ts(t.description))(t.description,h,d.x,d.y+35,d.width,d.height,{class:`actor ${uj}`},n),t.height},"drawActorTypeActor"),z3t=I(async function(e,t,n,r){switch(t.type){case"actor":return await G3t(e,t,n,r);case"participant":return await U3t(e,t,n,r)}},"drawActor"),Y3t=I(function(e,t,n){const a=e.append("g");qge(a,t),t.name&&EP(n)(t.name,a,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},n),a.lower()},"drawBox"),V3t=I(function(e){return e.append("g")},"anchorElement"),q3t=I(function(e,t,n,r,a){const o=Gp(),l=t.anchored;o.x=t.startx,o.y=t.starty,o.class="activation"+a%3,o.width=t.stopx-t.startx,o.height=n-t.starty,TP(l,o)},"drawActivation"),j3t=I(async function(e,t,n,r){const{boxMargin:a,boxTextMargin:o,labelBoxHeight:l,labelBoxWidth:u,messageFontFamily:h,messageFontSize:f,messageFontWeight:d}=r,p=e.append("g"),g=I(function(b,T,E,w){return p.append("line").attr("x1",b).attr("y1",T).attr("x2",E).attr("y2",w).attr("class","loopLine")},"drawLoopLine");g(t.startx,t.starty,t.stopx,t.starty),g(t.stopx,t.starty,t.stopx,t.stopy),g(t.startx,t.stopy,t.stopx,t.stopy),g(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(b){g(t.startx,b.y,t.stopx,b.y).style("stroke-dasharray","3, 3")});let m=fM();m.text=n,m.x=t.startx,m.y=t.starty,m.fontFamily=h,m.fontSize=f,m.fontWeight=d,m.anchor="middle",m.valign="middle",m.tspan=!1,m.width=u||50,m.height=l||20,m.textMargin=o,m.class="labelText",Yge(p,m),m=jge(),m.text=t.title,m.x=t.startx+u/2+(t.stopx-t.startx)/2,m.y=t.starty+a+o,m.anchor="middle",m.valign="middle",m.textMargin=o,m.class="loopText",m.fontFamily=h,m.fontSize=f,m.fontWeight=d,m.wrap=!0;let y=ts(m.text)?await c5(p,m,t):tv(p,m);if(t.sectionTitles!==void 0){for(const[b,T]of Object.entries(t.sectionTitles))if(T.message){m.text=T.message,m.x=t.startx+(t.stopx-t.startx)/2,m.y=t.sections[b].y+a+o,m.class="loopText",m.anchor="middle",m.valign="middle",m.tspan=!1,m.fontFamily=h,m.fontSize=f,m.fontWeight=d,m.wrap=t.wrap,ts(m.text)?(t.starty=t.sections[b].y,await c5(p,m,t)):tv(p,m);let E=Math.round(y.map(w=>(w._groups||w)[0][0].getBBox().height).reduce((w,x)=>w+x));t.sections[b].height+=E-(a+o)}}return t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),qge=I(function(e,t){G0e(e,t)},"drawBackgroundRect"),X3t=I(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),K3t=I(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Z3t=I(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Q3t=I(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),J3t=I(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),ext=I(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),txt=I(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),jge=I(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),nxt=I(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),EP=function(){function e(o,l,u,h,f,d,p){const g=l.append("text").attr("x",u+f/2).attr("y",h+d/2+5).style("text-anchor","middle").text(o);a(g,p)}I(e,"byText");function t(o,l,u,h,f,d,p,g){const{actorFontSize:m,actorFontFamily:y,actorFontWeight:b}=g,[T,E]=If(m),w=o.split(ot.lineBreakRegex);for(let x=0;x<w.length;x++){const S=x*T-T*(w.length-1)/2,A=l.append("text").attr("x",u+f/2).attr("y",h).style("text-anchor","middle").style("font-size",E).style("font-weight",b).style("font-family",y);A.append("tspan").attr("x",u+f/2).attr("dy",S).text(w[x]),A.attr("y",h+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),a(A,p)}}I(t,"byTspan");function n(o,l,u,h,f,d,p,g){const m=l.append("switch"),b=m.append("foreignObject").attr("x",u).attr("y",h).attr("width",f).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");b.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),t(o,m,u,h,f,d,p,g),a(b,p)}I(n,"byFo");async function r(o,l,u,h,f,d,p,g){const m=await nE(o,Br()),y=l.append("switch"),T=y.append("foreignObject").attr("x",u+f/2-m.width/2).attr("y",h+d/2-m.height/2).attr("width",m.width).attr("height",m.height).append("xhtml:div").style("height","100%").style("width","100%");T.append("div").style("text-align","center").style("vertical-align","middle").html(await rE(o,Br())),t(o,y,u,h,f,d,p,g),a(T,p)}I(r,"byKatex");function a(o,l){for(const u in l)l.hasOwnProperty(u)&&o.attr(u,l[u])}return I(a,"_setTextAttrs"),function(o,l=!1){return l?r:o.textPlacement==="fo"?n:o.textPlacement==="old"?e:t}}(),rxt=function(){function e(a,o,l,u,h,f,d){const p=o.append("text").attr("x",l).attr("y",u).style("text-anchor","start").text(a);r(p,d)}I(e,"byText");function t(a,o,l,u,h,f,d,p){const{actorFontSize:g,actorFontFamily:m,actorFontWeight:y}=p,b=a.split(ot.lineBreakRegex);for(let T=0;T<b.length;T++){const E=T*g-g*(b.length-1)/2,w=o.append("text").attr("x",l).attr("y",u).style("text-anchor","start").style("font-size",g).style("font-weight",y).style("font-family",m);w.append("tspan").attr("x",l).attr("dy",E).text(b[T]),w.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(w,d)}}I(t,"byTspan");function n(a,o,l,u,h,f,d,p){const g=o.append("switch"),y=g.append("foreignObject").attr("x",l).attr("y",u).attr("width",h).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,l,u,h,f,d,p),r(y,d)}I(n,"byFo");function r(a,o){for(const l in o)o.hasOwnProperty(l)&&a.attr(l,o[l])}return I(r,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?n:a.textPlacement==="old"?e:t}}(),di={drawRect:TP,drawText:tv,drawLabel:Yge,drawActor:z3t,drawBox:Y3t,drawPopup:$3t,anchorElement:V3t,drawActivation:q3t,drawLoop:j3t,drawBackgroundRect:qge,insertArrowHead:Q3t,insertArrowFilledHead:J3t,insertSequenceNumber:ext,insertArrowCrossHead:txt,insertDatabaseIcon:X3t,insertComputerIcon:K3t,insertClockIcon:Z3t,getTextObj:jge,getNoteRect:nxt,fixLifeLineHeights:Vge,sanitizeUrl:Af},$e={},nt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:I(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:I(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:I(function(e){this.boxes.push(e)},"addBox"),addActor:I(function(e){this.actors.push(e)},"addActor"),addLoop:I(function(e){this.loops.push(e)},"addLoop"),addMessage:I(function(e){this.messages.push(e)},"addMessage"),addNote:I(function(e){this.notes.push(e)},"addNote"),lastActor:I(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:I(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:I(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:I(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:I(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Zge(Pe())},"init"),updateVal:I(function(e,t,n,r){e[t]===void 0?e[t]=n:e[t]=r(n,e[t])},"updateVal"),updateBounds:I(function(e,t,n,r){const a=this;let o=0;function l(u){return I(function(f){o++;const d=a.sequenceItems.length-o+1;a.updateVal(f,"starty",t-d*$e.boxMargin,Math.min),a.updateVal(f,"stopy",r+d*$e.boxMargin,Math.max),a.updateVal(nt.data,"startx",e-d*$e.boxMargin,Math.min),a.updateVal(nt.data,"stopx",n+d*$e.boxMargin,Math.max),u!=="activation"&&(a.updateVal(f,"startx",e-d*$e.boxMargin,Math.min),a.updateVal(f,"stopx",n+d*$e.boxMargin,Math.max),a.updateVal(nt.data,"starty",t-d*$e.boxMargin,Math.min),a.updateVal(nt.data,"stopy",r+d*$e.boxMargin,Math.max))},"updateItemBounds")}I(l,"updateFn"),this.sequenceItems.forEach(l()),this.activations.forEach(l("activation"))},"updateBounds"),insert:I(function(e,t,n,r){const a=ot.getMin(e,n),o=ot.getMax(e,n),l=ot.getMin(t,r),u=ot.getMax(t,r);this.updateVal(nt.data,"startx",a,Math.min),this.updateVal(nt.data,"starty",l,Math.min),this.updateVal(nt.data,"stopx",o,Math.max),this.updateVal(nt.data,"stopy",u,Math.max),this.updateBounds(a,l,o,u)},"insert"),newActivation:I(function(e,t,n){const r=n.get(e.from),a=tI(e.from).length||0,o=r.x+r.width/2+(a-1)*$e.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+$e.activationWidth,stopy:void 0,actor:e.from,anchored:di.anchorElement(t)})},"newActivation"),endActivation:I(function(e){const t=this.activations.map(function(n){return n.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:I(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:I(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:I(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:I(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:I(function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:nt.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:I(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:I(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:I(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=ot.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:I(function(){return this.verticalPos},"getVerticalPos"),getBounds:I(function(){return{bounds:this.data,models:this.models}},"getBounds")},ixt=I(async function(e,t){nt.bumpVerticalPos($e.boxMargin),t.height=$e.boxMargin,t.starty=nt.getVerticalPos();const n=Gp();n.x=t.startx,n.y=t.starty,n.width=t.width||$e.width,n.class="note";const r=e.append("g"),a=di.drawRect(r,n),o=fM();o.x=t.startx,o.y=t.starty,o.width=n.width,o.dy="1em",o.text=t.message,o.class="noteText",o.fontFamily=$e.noteFontFamily,o.fontSize=$e.noteFontSize,o.fontWeight=$e.noteFontWeight,o.anchor=$e.noteAlign,o.textMargin=$e.noteMargin,o.valign="center";const l=ts(o.text)?await c5(r,o):tv(r,o),u=Math.round(l.map(h=>(h._groups||h)[0][0].getBBox().height).reduce((h,f)=>h+f));a.attr("height",u+2*$e.noteMargin),t.height+=u+2*$e.noteMargin,nt.bumpVerticalPos(u+2*$e.noteMargin),t.stopy=t.starty+u+2*$e.noteMargin,t.stopx=t.startx+n.width,nt.insert(t.startx,t.starty,t.stopx,t.stopy),nt.models.addNote(t)},"drawNote"),mp=I(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),Ng=I(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),_7=I(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");async function Xge(e,t){nt.bumpVerticalPos(10);const{startx:n,stopx:r,message:a}=t,o=ot.splitBreaks(a).length,l=ts(a),u=l?await nE(a,Pe()):fn.calculateTextDimensions(a,mp($e));if(!l){const p=u.height/o;t.height+=p,nt.bumpVerticalPos(p)}let h,f=u.height-10;const d=u.width;if(n===r){h=nt.getVerticalPos()+f,$e.rightAngles||(f+=$e.boxMargin,h=nt.getVerticalPos()+f),f+=30;const p=ot.getMax(d/2,$e.width/2);nt.insert(n-p,nt.getVerticalPos()-10+f,r+p,nt.getVerticalPos()+30+f)}else f+=$e.boxMargin,h=nt.getVerticalPos()+f,nt.insert(n,h-10,r,h);return nt.bumpVerticalPos(f),t.height+=f,t.stopy=t.starty+t.height,nt.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),h}I(Xge,"boundMessage");var axt=I(async function(e,t,n,r){const{startx:a,stopx:o,starty:l,message:u,type:h,sequenceIndex:f,sequenceVisible:d}=t,p=fn.calculateTextDimensions(u,mp($e)),g=fM();g.x=a,g.y=l+10,g.width=o-a,g.class="messageText",g.dy="1em",g.text=u,g.fontFamily=$e.messageFontFamily,g.fontSize=$e.messageFontSize,g.fontWeight=$e.messageFontWeight,g.anchor=$e.messageAlign,g.valign="center",g.textMargin=$e.wrapPadding,g.tspan=!1,ts(g.text)?await c5(e,g,{startx:a,stopx:o,starty:n}):tv(e,g);const m=p.width;let y;a===o?$e.rightAngles?y=e.append("path").attr("d",`M  ${a},${n} H ${a+ot.getMax($e.width/2,m/2)} V ${n+25} H ${a}`):y=e.append("path").attr("d","M "+a+","+n+" C "+(a+60)+","+(n-10)+" "+(a+60)+","+(n+30)+" "+a+","+(n+20)):(y=e.append("line"),y.attr("x1",a),y.attr("y1",n),y.attr("x2",o),y.attr("y2",n)),h===r.db.LINETYPE.DOTTED||h===r.db.LINETYPE.DOTTED_CROSS||h===r.db.LINETYPE.DOTTED_POINT||h===r.db.LINETYPE.DOTTED_OPEN||h===r.db.LINETYPE.BIDIRECTIONAL_DOTTED?(y.style("stroke-dasharray","3, 3"),y.attr("class","messageLine1")):y.attr("class","messageLine0");let b="";$e.arrowMarkerAbsolute&&(b=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,b=b.replace(/\(/g,"\\("),b=b.replace(/\)/g,"\\)")),y.attr("stroke-width",2),y.attr("stroke","none"),y.style("fill","none"),(h===r.db.LINETYPE.SOLID||h===r.db.LINETYPE.DOTTED)&&y.attr("marker-end","url("+b+"#arrowhead)"),(h===r.db.LINETYPE.BIDIRECTIONAL_SOLID||h===r.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(y.attr("marker-start","url("+b+"#arrowhead)"),y.attr("marker-end","url("+b+"#arrowhead)")),(h===r.db.LINETYPE.SOLID_POINT||h===r.db.LINETYPE.DOTTED_POINT)&&y.attr("marker-end","url("+b+"#filled-head)"),(h===r.db.LINETYPE.SOLID_CROSS||h===r.db.LINETYPE.DOTTED_CROSS)&&y.attr("marker-end","url("+b+"#crosshead)"),(d||$e.showSequenceNumbers)&&(y.attr("marker-start","url("+b+"#sequencenumber)"),e.append("text").attr("x",a).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(f))},"drawMessage"),sxt=I(function(e,t,n,r,a,o,l){let u=0,h=0,f,d=0;for(const p of r){const g=t.get(p),m=g.box;f&&f!=m&&(l||nt.models.addBox(f),h+=$e.boxMargin+f.margin),m&&m!=f&&(l||(m.x=u+h,m.y=a),h+=m.margin),g.width=g.width||$e.width,g.height=ot.getMax(g.height||$e.height,$e.height),g.margin=g.margin||$e.actorMargin,d=ot.getMax(d,g.height),n.get(g.name)&&(h+=g.width/2),g.x=u+h,g.starty=nt.getVerticalPos(),nt.insert(g.x,a,g.x+g.width,g.height),u+=g.width+h,g.box&&(g.box.width=u+m.margin-g.box.x),h=g.margin,f=g.box,nt.models.addActor(g)}f&&!l&&nt.models.addBox(f),nt.bumpVerticalPos(d)},"addActorRenderingData"),D7=I(async function(e,t,n,r){if(r){let a=0;nt.bumpVerticalPos($e.boxMargin*2);for(const o of n){const l=t.get(o);l.stopy||(l.stopy=nt.getVerticalPos());const u=await di.drawActor(e,l,$e,!0);a=ot.getMax(a,u)}nt.bumpVerticalPos(a+$e.boxMargin)}else for(const a of n){const o=t.get(a);await di.drawActor(e,o,$e,!1)}},"drawActors"),Kge=I(function(e,t,n,r){let a=0,o=0;for(const l of n){const u=t.get(l),h=lxt(u),f=di.drawPopup(e,u,h,$e,$e.forceMenus,r);f.height>a&&(a=f.height),f.width+u.x>o&&(o=f.width+u.x)}return{maxHeight:a,maxWidth:o}},"drawActorsPopup"),Zge=I(function(e){zi($e,e),e.fontFamily&&($e.actorFontFamily=$e.noteFontFamily=$e.messageFontFamily=e.fontFamily),e.fontSize&&($e.actorFontSize=$e.noteFontSize=$e.messageFontSize=e.fontSize),e.fontWeight&&($e.actorFontWeight=$e.noteFontWeight=$e.messageFontWeight=e.fontWeight)},"setConf"),tI=I(function(e){return nt.activations.filter(function(t){return t.actor===e})},"actorActivations"),hj=I(function(e,t){const n=t.get(e),r=tI(e),a=r.reduce(function(l,u){return ot.getMin(l,u.startx)},n.x+n.width/2-1),o=r.reduce(function(l,u){return ot.getMax(l,u.stopx)},n.x+n.width/2+1);return[a,o]},"activationBounds");function Gl(e,t,n,r,a){nt.bumpVerticalPos(n);let o=r;if(t.id&&t.message&&e[t.id]){const l=e[t.id].width,u=mp($e);t.message=fn.wrapLabel(`[${t.message}]`,l-2*$e.wrapPadding,u),t.width=l,t.wrap=!0;const h=fn.calculateTextDimensions(t.message,u),f=ot.getMax(h.height,$e.labelBoxHeight);o=r+f,ve.debug(`${f} - ${t.message}`)}a(t),nt.bumpVerticalPos(o)}I(Gl,"adjustLoopHeightForWrap");function Qge(e,t,n,r,a,o,l){function u(f,d){f.x<a.get(e.from).x?(nt.insert(t.stopx-d,t.starty,t.startx,t.stopy+f.height/2+$e.noteMargin),t.stopx=t.stopx+d):(nt.insert(t.startx,t.starty,t.stopx+d,t.stopy+f.height/2+$e.noteMargin),t.stopx=t.stopx-d)}I(u,"receiverAdjustment");function h(f,d){f.x<a.get(e.to).x?(nt.insert(t.startx-d,t.starty,t.stopx,t.stopy+f.height/2+$e.noteMargin),t.startx=t.startx+d):(nt.insert(t.stopx,t.starty,t.startx+d,t.stopy+f.height/2+$e.noteMargin),t.startx=t.startx-d)}if(I(h,"senderAdjustment"),o.get(e.to)==r){const f=a.get(e.to),d=f.type=="actor"?_d/2+3:f.width/2+3;u(f,d),f.starty=n-f.height/2,nt.bumpVerticalPos(f.height/2)}else if(l.get(e.from)==r){const f=a.get(e.from);if($e.mirrorActors){const d=f.type=="actor"?_d/2:f.width/2;h(f,d)}f.stopy=n-f.height/2,nt.bumpVerticalPos(f.height/2)}else if(l.get(e.to)==r){const f=a.get(e.to);if($e.mirrorActors){const d=f.type=="actor"?_d/2+3:f.width/2+3;u(f,d)}f.stopy=n-f.height/2,nt.bumpVerticalPos(f.height/2)}}I(Qge,"adjustCreatedDestroyedData");var oxt=I(async function(e,t,n,r){const{securityLevel:a,sequence:o}=Pe();$e=o;let l;a==="sandbox"&&(l=it("#i"+t));const u=it(a==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=a==="sandbox"?l.nodes()[0].contentDocument:document;nt.init(),ve.debug(r.db);const f=a==="sandbox"?u.select(`[id="${t}"]`):it(`[id="${t}"]`),d=r.db.getActors(),p=r.db.getCreatedActors(),g=r.db.getDestroyedActors(),m=r.db.getBoxes();let y=r.db.getActorKeys();const b=r.db.getMessages(),T=r.db.getDiagramTitle(),E=r.db.hasAtLeastOneBox(),w=r.db.hasAtLeastOneBoxWithTitle(),x=await Jge(d,b,r);if($e.height=await e1e(d,x,m),di.insertComputerIcon(f),di.insertDatabaseIcon(f),di.insertClockIcon(f),E&&(nt.bumpVerticalPos($e.boxMargin),w&&nt.bumpVerticalPos(m[0].textMaxHeight)),$e.hideUnusedParticipants===!0){const P=new Set;b.forEach(H=>{P.add(H.from),P.add(H.to)}),y=y.filter(H=>P.has(H))}sxt(f,d,p,y,0,b,!1);const S=await hxt(b,d,x,r);di.insertArrowHead(f),di.insertArrowCrossHead(f),di.insertArrowFilledHead(f),di.insertSequenceNumber(f);function A(P,H){const W=nt.endActivation(P);W.starty+18>H&&(W.starty=H-6,H+=12),di.drawActivation(f,W,H,$e,tI(P.from).length),nt.insert(W.startx,H-10,W.stopx,H)}I(A,"activeEnd");let R=1,C=1;const N=[],O=[];let L=0;for(const P of b){let H,W,U;switch(P.type){case r.db.LINETYPE.NOTE:nt.resetVerticalPos(),W=P.noteModel,await ixt(f,W);break;case r.db.LINETYPE.ACTIVE_START:nt.newActivation(P,f,d);break;case r.db.LINETYPE.ACTIVE_END:A(P,nt.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:Gl(S,P,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,V=>nt.newLoop(V));break;case r.db.LINETYPE.LOOP_END:H=nt.endLoop(),await di.drawLoop(f,H,"loop",$e),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos()),nt.models.addLoop(H);break;case r.db.LINETYPE.RECT_START:Gl(S,P,$e.boxMargin,$e.boxMargin,V=>nt.newLoop(void 0,V.message));break;case r.db.LINETYPE.RECT_END:H=nt.endLoop(),O.push(H),nt.models.addLoop(H),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos());break;case r.db.LINETYPE.OPT_START:Gl(S,P,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,V=>nt.newLoop(V));break;case r.db.LINETYPE.OPT_END:H=nt.endLoop(),await di.drawLoop(f,H,"opt",$e),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos()),nt.models.addLoop(H);break;case r.db.LINETYPE.ALT_START:Gl(S,P,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,V=>nt.newLoop(V));break;case r.db.LINETYPE.ALT_ELSE:Gl(S,P,$e.boxMargin+$e.boxTextMargin,$e.boxMargin,V=>nt.addSectionToLoop(V));break;case r.db.LINETYPE.ALT_END:H=nt.endLoop(),await di.drawLoop(f,H,"alt",$e),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos()),nt.models.addLoop(H);break;case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.PAR_OVER_START:Gl(S,P,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,V=>nt.newLoop(V)),nt.saveVerticalPos();break;case r.db.LINETYPE.PAR_AND:Gl(S,P,$e.boxMargin+$e.boxTextMargin,$e.boxMargin,V=>nt.addSectionToLoop(V));break;case r.db.LINETYPE.PAR_END:H=nt.endLoop(),await di.drawLoop(f,H,"par",$e),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos()),nt.models.addLoop(H);break;case r.db.LINETYPE.AUTONUMBER:R=P.message.start||R,C=P.message.step||C,P.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:Gl(S,P,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,V=>nt.newLoop(V));break;case r.db.LINETYPE.CRITICAL_OPTION:Gl(S,P,$e.boxMargin+$e.boxTextMargin,$e.boxMargin,V=>nt.addSectionToLoop(V));break;case r.db.LINETYPE.CRITICAL_END:H=nt.endLoop(),await di.drawLoop(f,H,"critical",$e),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos()),nt.models.addLoop(H);break;case r.db.LINETYPE.BREAK_START:Gl(S,P,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,V=>nt.newLoop(V));break;case r.db.LINETYPE.BREAK_END:H=nt.endLoop(),await di.drawLoop(f,H,"break",$e),nt.bumpVerticalPos(H.stopy-nt.getVerticalPos()),nt.models.addLoop(H);break;default:try{U=P.msgModel,U.starty=nt.getVerticalPos(),U.sequenceIndex=R,U.sequenceVisible=r.db.showSequenceNumbers();const V=await Xge(f,U);Qge(P,U,V,L,d,p,g),N.push({messageModel:U,lineStartY:V}),nt.models.addMessage(U)}catch(V){ve.error("error while drawing message",V)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(P.type)&&(R=R+C),L++}ve.debug("createdActors",p),ve.debug("destroyedActors",g),await D7(f,d,y,!1);for(const P of N)await axt(f,P.messageModel,P.lineStartY,r);$e.mirrorActors&&await D7(f,d,y,!0),O.forEach(P=>di.drawBackgroundRect(f,P)),Vge(f,d,y,$e);for(const P of nt.models.boxes)P.height=nt.getVerticalPos()-P.y,nt.insert(P.x,P.y,P.x+P.width,P.height),P.startx=P.x,P.starty=P.y,P.stopx=P.startx+P.width,P.stopy=P.starty+P.height,P.stroke="rgb(0,0,0, 0.5)",di.drawBox(f,P,$e);E&&nt.bumpVerticalPos($e.boxMargin);const k=Kge(f,d,y,h),{bounds:M}=nt.getBounds();M.startx===void 0&&(M.startx=0),M.starty===void 0&&(M.starty=0),M.stopx===void 0&&(M.stopx=0),M.stopy===void 0&&(M.stopy=0);let $=M.stopy-M.starty;$<k.maxHeight&&($=k.maxHeight);let _=$+2*$e.diagramMarginY;$e.mirrorActors&&(_=_-$e.boxMargin+$e.bottomMarginAdj);let F=M.stopx-M.startx;F<k.maxWidth&&(F=k.maxWidth);const B=F+2*$e.diagramMarginX;T&&f.append("text").text(T).attr("x",(M.stopx-M.startx)/2-2*$e.diagramMarginX).attr("y",-25),ss(f,_,B,$e.useMaxWidth);const D=T?40:0;f.attr("viewBox",M.startx-$e.diagramMarginX+" -"+($e.diagramMarginY+D)+" "+B+" "+(_+D)),ve.debug("models:",nt.models)},"draw");async function Jge(e,t,n){const r={};for(const a of t)if(e.get(a.to)&&e.get(a.from)){const o=e.get(a.to);if(a.placement===n.db.PLACEMENT.LEFTOF&&!o.prevActor||a.placement===n.db.PLACEMENT.RIGHTOF&&!o.nextActor)continue;const l=a.placement!==void 0,u=!l,h=l?Ng($e):mp($e),f=a.wrap?fn.wrapLabel(a.message,$e.width-2*$e.wrapPadding,h):a.message,p=(ts(f)?await nE(a.message,Pe()):fn.calculateTextDimensions(f,h)).width+2*$e.wrapPadding;u&&a.from===o.nextActor?r[a.to]=ot.getMax(r[a.to]||0,p):u&&a.from===o.prevActor?r[a.from]=ot.getMax(r[a.from]||0,p):u&&a.from===a.to?(r[a.from]=ot.getMax(r[a.from]||0,p/2),r[a.to]=ot.getMax(r[a.to]||0,p/2)):a.placement===n.db.PLACEMENT.RIGHTOF?r[a.from]=ot.getMax(r[a.from]||0,p):a.placement===n.db.PLACEMENT.LEFTOF?r[o.prevActor]=ot.getMax(r[o.prevActor]||0,p):a.placement===n.db.PLACEMENT.OVER&&(o.prevActor&&(r[o.prevActor]=ot.getMax(r[o.prevActor]||0,p/2)),o.nextActor&&(r[a.from]=ot.getMax(r[a.from]||0,p/2)))}return ve.debug("maxMessageWidthPerActor:",r),r}I(Jge,"getMaxMessageWidthPerActor");var lxt=I(function(e){let t=0;const n=_7($e);for(const r in e.links){const o=fn.calculateTextDimensions(r,n).width+2*$e.wrapPadding+2*$e.boxMargin;t<o&&(t=o)}return t},"getRequiredPopupWidth");async function e1e(e,t,n){let r=0;for(const o of e.keys()){const l=e.get(o);l.wrap&&(l.description=fn.wrapLabel(l.description,$e.width-2*$e.wrapPadding,_7($e)));const u=ts(l.description)?await nE(l.description,Pe()):fn.calculateTextDimensions(l.description,_7($e));l.width=l.wrap?$e.width:ot.getMax($e.width,u.width+2*$e.wrapPadding),l.height=l.wrap?ot.getMax(u.height,$e.height):$e.height,r=ot.getMax(r,l.height)}for(const o in t){const l=e.get(o);if(!l)continue;const u=e.get(l.nextActor);if(!u){const p=t[o]+$e.actorMargin-l.width/2;l.margin=ot.getMax(p,$e.actorMargin);continue}const f=t[o]+$e.actorMargin-l.width/2-u.width/2;l.margin=ot.getMax(f,$e.actorMargin)}let a=0;return n.forEach(o=>{const l=mp($e);let u=o.actorKeys.reduce((d,p)=>d+=e.get(p).width+(e.get(p).margin||0),0);u-=2*$e.boxTextMargin,o.wrap&&(o.name=fn.wrapLabel(o.name,u-2*$e.wrapPadding,l));const h=fn.calculateTextDimensions(o.name,l);a=ot.getMax(h.height,a);const f=ot.getMax(u,h.width+2*$e.wrapPadding);if(o.margin=$e.boxTextMargin,u<f){const d=(f-u)/2;o.margin+=d}}),n.forEach(o=>o.textMaxHeight=a),ot.getMax(r,$e.height)}I(e1e,"calculateActorMargins");var cxt=I(async function(e,t,n){const r=t.get(e.from),a=t.get(e.to),o=r.x,l=a.x,u=e.wrap&&e.message;let h=ts(e.message)?await nE(e.message,Pe()):fn.calculateTextDimensions(u?fn.wrapLabel(e.message,$e.width,Ng($e)):e.message,Ng($e));const f={width:u?$e.width:ot.getMax($e.width,h.width+2*$e.noteMargin),height:0,startx:r.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===n.db.PLACEMENT.RIGHTOF?(f.width=u?ot.getMax($e.width,h.width):ot.getMax(r.width/2+a.width/2,h.width+2*$e.noteMargin),f.startx=o+(r.width+$e.actorMargin)/2):e.placement===n.db.PLACEMENT.LEFTOF?(f.width=u?ot.getMax($e.width,h.width+2*$e.noteMargin):ot.getMax(r.width/2+a.width/2,h.width+2*$e.noteMargin),f.startx=o-f.width+(r.width-$e.actorMargin)/2):e.to===e.from?(h=fn.calculateTextDimensions(u?fn.wrapLabel(e.message,ot.getMax($e.width,r.width),Ng($e)):e.message,Ng($e)),f.width=u?ot.getMax($e.width,r.width):ot.getMax(r.width,$e.width,h.width+2*$e.noteMargin),f.startx=o+(r.width-f.width)/2):(f.width=Math.abs(o+r.width/2-(l+a.width/2))+$e.actorMargin,f.startx=o<l?o+r.width/2-$e.actorMargin/2:l+a.width/2-$e.actorMargin/2),u&&(f.message=fn.wrapLabel(e.message,f.width-2*$e.wrapPadding,Ng($e))),ve.debug(`NM:[${f.startx},${f.stopx},${f.starty},${f.stopy}:${f.width},${f.height}=${e.message}]`),f},"buildNoteModel"),uxt=I(function(e,t,n){if(![n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};const[r,a]=hj(e.from,t),[o,l]=hj(e.to,t),u=r<=o;let h=u?a:r,f=u?o:l;const d=Math.abs(o-l)>2,p=I(b=>u?-b:b,"adjustValue");e.from===e.to?f=h:(e.activate&&!d&&(f+=p($e.activationWidth/2-1)),[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(f+=p(3)),[n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(h-=p(3)));const g=[r,a,o,l],m=Math.abs(h-f);e.wrap&&e.message&&(e.message=fn.wrapLabel(e.message,ot.getMax(m+2*$e.wrapPadding,$e.width),mp($e)));const y=fn.calculateTextDimensions(e.message,mp($e));return{width:ot.getMax(e.wrap?0:y.width+2*$e.wrapPadding,m+2*$e.wrapPadding,$e.width),height:0,startx:h,stopx:f,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,g),toBounds:Math.max.apply(null,g)}},"buildMessageModel"),hxt=I(async function(e,t,n,r){const a={},o=[];let l,u,h;for(const f of e){switch(f.id=fn.random({length:10}),f.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.PAR_OVER_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:o.push({id:f.id,msg:f.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:f.message&&(l=o.pop(),a[l.id]=l,a[f.id]=l,o.push(l));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:l=o.pop(),a[l.id]=l;break;case r.db.LINETYPE.ACTIVE_START:{const p=t.get(f.from?f.from:f.to.actor),g=tI(f.from?f.from:f.to.actor).length,m=p.x+p.width/2+(g-1)*$e.activationWidth/2,y={startx:m,stopx:m+$e.activationWidth,actor:f.from,enabled:!0};nt.activations.push(y)}break;case r.db.LINETYPE.ACTIVE_END:{const p=nt.activations.map(g=>g.actor).lastIndexOf(f.from);nt.activations.splice(p,1).splice(0,1)}break}f.placement!==void 0?(u=await cxt(f,t,r),f.noteModel=u,o.forEach(p=>{l=p,l.from=ot.getMin(l.from,u.startx),l.to=ot.getMax(l.to,u.startx+u.width),l.width=ot.getMax(l.width,Math.abs(l.from-l.to))-$e.labelBoxWidth})):(h=uxt(f,t,r),f.msgModel=h,h.startx&&h.stopx&&o.length>0&&o.forEach(p=>{if(l=p,h.startx===h.stopx){const g=t.get(f.from),m=t.get(f.to);l.from=ot.getMin(g.x-h.width/2,g.x-g.width/2,l.from),l.to=ot.getMax(m.x+h.width/2,m.x+g.width/2,l.to),l.width=ot.getMax(l.width,Math.abs(l.to-l.from))-$e.labelBoxWidth}else l.from=ot.getMin(h.startx,l.from),l.to=ot.getMax(h.stopx,l.to),l.width=ot.getMax(l.width,h.width)-$e.labelBoxWidth}))}return nt.activations=[],ve.debug("Loop type widths:",a),a},"calculateLoopBounds"),fxt={bounds:nt,drawActors:D7,drawActorsPopup:Kge,setConf:Zge,draw:oxt},dxt={parser:p3t,db:cj,renderer:fxt,styles:B3t,init:I(({wrap:e})=>{cj.setWrap(e)},"init")};const pxt=Object.freeze(Object.defineProperty({__proto__:null,diagram:dxt},Symbol.toStringTag,{value:"Module"}));var M7=function(){var e=I(function(De,se,j,me){for(j=j||{},me=De.length;me--;j[De[me]]=se);return j},"o"),t=[1,18],n=[1,19],r=[1,20],a=[1,41],o=[1,42],l=[1,26],u=[1,24],h=[1,25],f=[1,32],d=[1,33],p=[1,34],g=[1,45],m=[1,35],y=[1,36],b=[1,37],T=[1,38],E=[1,27],w=[1,28],x=[1,29],S=[1,30],A=[1,31],R=[1,44],C=[1,46],N=[1,43],O=[1,47],L=[1,9],k=[1,8,9],M=[1,58],$=[1,59],_=[1,60],F=[1,61],B=[1,62],D=[1,63],P=[1,64],H=[1,8,9,41],W=[1,76],U=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],V=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],G=[13,58,84,99,101,102],ee=[13,58,71,72,84,99,101,102],ce=[13,58,66,67,68,69,70,84,99,101,102],Q=[1,98],re=[1,115],le=[1,107],Y=[1,113],K=[1,108],Z=[1,109],z=[1,110],X=[1,111],te=[1,112],ne=[1,114],Ae=[22,58,59,80,84,85,86,87,88,89],he=[1,8,9,39,41,44],oe=[1,8,9,22],de=[1,143],be=[1,8,9,59],fe=[1,8,9,22,58,59,80,84,85,86,87,88,89],Ie={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:I(function(se,j,me,ue,we,ie,Oe){var ae=ie.length-1;switch(we){case 8:this.$=ie[ae-1];break;case 9:case 12:case 14:this.$=ie[ae];break;case 10:case 13:this.$=ie[ae-2]+"."+ie[ae];break;case 11:case 15:this.$=ie[ae-1]+ie[ae];break;case 16:case 17:this.$=ie[ae-1]+"~"+ie[ae]+"~";break;case 18:ue.addRelation(ie[ae]);break;case 19:ie[ae-1].title=ue.cleanupLabel(ie[ae]),ue.addRelation(ie[ae-1]);break;case 30:this.$=ie[ae].trim(),ue.setAccTitle(this.$);break;case 31:case 32:this.$=ie[ae].trim(),ue.setAccDescription(this.$);break;case 33:ue.addClassesToNamespace(ie[ae-3],ie[ae-1]);break;case 34:ue.addClassesToNamespace(ie[ae-4],ie[ae-1]);break;case 35:this.$=ie[ae],ue.addNamespace(ie[ae]);break;case 36:this.$=[ie[ae]];break;case 37:this.$=[ie[ae-1]];break;case 38:ie[ae].unshift(ie[ae-2]),this.$=ie[ae];break;case 40:ue.setCssClass(ie[ae-2],ie[ae]);break;case 41:ue.addMembers(ie[ae-3],ie[ae-1]);break;case 42:ue.setCssClass(ie[ae-5],ie[ae-3]),ue.addMembers(ie[ae-5],ie[ae-1]);break;case 43:this.$=ie[ae],ue.addClass(ie[ae]);break;case 44:this.$=ie[ae-1],ue.addClass(ie[ae-1]),ue.setClassLabel(ie[ae-1],ie[ae]);break;case 45:ue.addAnnotation(ie[ae],ie[ae-2]);break;case 46:case 59:this.$=[ie[ae]];break;case 47:ie[ae].push(ie[ae-1]),this.$=ie[ae];break;case 48:break;case 49:ue.addMember(ie[ae-1],ue.cleanupLabel(ie[ae]));break;case 50:break;case 51:break;case 52:this.$={id1:ie[ae-2],id2:ie[ae],relation:ie[ae-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:ie[ae-3],id2:ie[ae],relation:ie[ae-1],relationTitle1:ie[ae-2],relationTitle2:"none"};break;case 54:this.$={id1:ie[ae-3],id2:ie[ae],relation:ie[ae-2],relationTitle1:"none",relationTitle2:ie[ae-1]};break;case 55:this.$={id1:ie[ae-4],id2:ie[ae],relation:ie[ae-2],relationTitle1:ie[ae-3],relationTitle2:ie[ae-1]};break;case 56:ue.addNote(ie[ae],ie[ae-1]);break;case 57:ue.addNote(ie[ae]);break;case 58:this.$=ie[ae-2],ue.defineClass(ie[ae-1],ie[ae]);break;case 60:this.$=ie[ae-2].concat([ie[ae]]);break;case 61:ue.setDirection("TB");break;case 62:ue.setDirection("BT");break;case 63:ue.setDirection("RL");break;case 64:ue.setDirection("LR");break;case 65:this.$={type1:ie[ae-2],type2:ie[ae],lineType:ie[ae-1]};break;case 66:this.$={type1:"none",type2:ie[ae],lineType:ie[ae-1]};break;case 67:this.$={type1:ie[ae-1],type2:"none",lineType:ie[ae]};break;case 68:this.$={type1:"none",type2:"none",lineType:ie[ae]};break;case 69:this.$=ue.relationType.AGGREGATION;break;case 70:this.$=ue.relationType.EXTENSION;break;case 71:this.$=ue.relationType.COMPOSITION;break;case 72:this.$=ue.relationType.DEPENDENCY;break;case 73:this.$=ue.relationType.LOLLIPOP;break;case 74:this.$=ue.lineType.LINE;break;case 75:this.$=ue.lineType.DOTTED_LINE;break;case 76:case 82:this.$=ie[ae-2],ue.setClickEvent(ie[ae-1],ie[ae]);break;case 77:case 83:this.$=ie[ae-3],ue.setClickEvent(ie[ae-2],ie[ae-1]),ue.setTooltip(ie[ae-2],ie[ae]);break;case 78:this.$=ie[ae-2],ue.setLink(ie[ae-1],ie[ae]);break;case 79:this.$=ie[ae-3],ue.setLink(ie[ae-2],ie[ae-1],ie[ae]);break;case 80:this.$=ie[ae-3],ue.setLink(ie[ae-2],ie[ae-1]),ue.setTooltip(ie[ae-2],ie[ae]);break;case 81:this.$=ie[ae-4],ue.setLink(ie[ae-3],ie[ae-2],ie[ae]),ue.setTooltip(ie[ae-3],ie[ae-1]);break;case 84:this.$=ie[ae-3],ue.setClickEvent(ie[ae-2],ie[ae-1],ie[ae]);break;case 85:this.$=ie[ae-4],ue.setClickEvent(ie[ae-3],ie[ae-2],ie[ae-1]),ue.setTooltip(ie[ae-3],ie[ae]);break;case 86:this.$=ie[ae-3],ue.setLink(ie[ae-2],ie[ae]);break;case 87:this.$=ie[ae-4],ue.setLink(ie[ae-3],ie[ae-1],ie[ae]);break;case 88:this.$=ie[ae-4],ue.setLink(ie[ae-3],ie[ae-1]),ue.setTooltip(ie[ae-3],ie[ae]);break;case 89:this.$=ie[ae-5],ue.setLink(ie[ae-4],ie[ae-2],ie[ae]),ue.setTooltip(ie[ae-4],ie[ae-1]);break;case 90:this.$=ie[ae-2],ue.setCssStyle(ie[ae-1],ie[ae]);break;case 91:ue.setCssClass(ie[ae-1],ie[ae]);break;case 92:this.$=[ie[ae]];break;case 93:ie[ae-2].push(ie[ae]),this.$=ie[ae-2];break;case 95:this.$=ie[ae-1]+ie[ae];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:n,37:r,38:22,42:a,43:23,46:o,47:l,49:u,50:h,52:f,54:d,55:p,58:g,60:m,61:y,62:b,63:T,73:E,74:w,76:x,80:S,81:A,84:R,99:C,101:N,102:O},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(L,[2,5],{8:[1,48]}),{8:[1,49]},e(k,[2,18],{22:[1,50]}),e(k,[2,20]),e(k,[2,21]),e(k,[2,22]),e(k,[2,23]),e(k,[2,24]),e(k,[2,25]),e(k,[2,26]),e(k,[2,27]),e(k,[2,28]),e(k,[2,29]),{34:[1,51]},{36:[1,52]},e(k,[2,32]),e(k,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:M,67:$,68:_,69:F,70:B,71:D,72:P}),{39:[1,65]},e(H,[2,39],{39:[1,67],44:[1,66]}),e(k,[2,50]),e(k,[2,51]),{16:68,58:g,84:R,99:C,101:N},{16:39,18:69,19:40,58:g,84:R,99:C,101:N,102:O},{16:39,18:70,19:40,58:g,84:R,99:C,101:N,102:O},{16:39,18:71,19:40,58:g,84:R,99:C,101:N,102:O},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:g,84:R,99:C,101:N,102:O},{13:W,53:75},{56:77,58:[1,78]},e(k,[2,61]),e(k,[2,62]),e(k,[2,63]),e(k,[2,64]),e(U,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:g,84:R,99:C,101:N,102:O}),e(U,[2,14],{20:[1,82]}),{15:83,16:84,58:g,84:R,99:C,101:N},{16:39,18:85,19:40,58:g,84:R,99:C,101:N,102:O},e(V,[2,118]),e(V,[2,119]),e(V,[2,120]),e(V,[2,121]),e([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),e(L,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:t,35:n,37:r,42:a,46:o,47:l,49:u,50:h,52:f,54:d,55:p,58:g,60:m,61:y,62:b,63:T,73:E,74:w,76:x,80:S,81:A,84:R,99:C,101:N,102:O}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:n,37:r,38:22,42:a,43:23,46:o,47:l,49:u,50:h,52:f,54:d,55:p,58:g,60:m,61:y,62:b,63:T,73:E,74:w,76:x,80:S,81:A,84:R,99:C,101:N,102:O},e(k,[2,19]),e(k,[2,30]),e(k,[2,31]),{13:[1,89],16:39,18:88,19:40,58:g,84:R,99:C,101:N,102:O},{51:90,64:56,65:57,66:M,67:$,68:_,69:F,70:B,71:D,72:P},e(k,[2,49]),{65:91,71:D,72:P},e(G,[2,68],{64:92,66:M,67:$,68:_,69:F,70:B}),e(ee,[2,69]),e(ee,[2,70]),e(ee,[2,71]),e(ee,[2,72]),e(ee,[2,73]),e(ce,[2,74]),e(ce,[2,75]),{8:[1,94],24:95,40:93,43:23,46:o},{16:96,58:g,84:R,99:C,101:N},{45:97,49:Q},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:re,57:104,58:le,80:Y,82:105,83:106,84:K,85:Z,86:z,87:X,88:te,89:ne},{58:[1,116]},{13:W,53:117},e(k,[2,57]),e(k,[2,123]),{22:re,57:118,58:le,59:[1,119],80:Y,82:105,83:106,84:K,85:Z,86:z,87:X,88:te,89:ne},e(Ae,[2,59]),{16:39,18:120,19:40,58:g,84:R,99:C,101:N,102:O},e(U,[2,15]),e(U,[2,16]),e(U,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:g,84:R,99:C,101:N},e(he,[2,43],{11:123,12:[1,124]}),e(L,[2,7]),{9:[1,125]},e(oe,[2,52]),{16:39,18:126,19:40,58:g,84:R,99:C,101:N,102:O},{13:[1,128],16:39,18:127,19:40,58:g,84:R,99:C,101:N,102:O},e(G,[2,67],{64:129,66:M,67:$,68:_,69:F,70:B}),e(G,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:o},{8:[1,132],41:[2,36]},e(H,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:Q},{16:39,18:136,19:40,58:g,84:R,99:C,101:N,102:O},e(k,[2,76],{13:[1,137]}),e(k,[2,78],{13:[1,139],75:[1,138]}),e(k,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},e(k,[2,90],{59:de}),e(be,[2,92],{83:144,22:re,58:le,80:Y,84:K,85:Z,86:z,87:X,88:te,89:ne}),e(fe,[2,94]),e(fe,[2,96]),e(fe,[2,97]),e(fe,[2,98]),e(fe,[2,99]),e(fe,[2,100]),e(fe,[2,101]),e(fe,[2,102]),e(fe,[2,103]),e(fe,[2,104]),e(k,[2,91]),e(k,[2,56]),e(k,[2,58],{59:de}),{58:[1,145]},e(U,[2,13]),{15:146,16:84,58:g,84:R,99:C,101:N},{39:[2,11]},e(he,[2,44]),{13:[1,147]},{1:[2,4]},e(oe,[2,54]),e(oe,[2,53]),{16:39,18:148,19:40,58:g,84:R,99:C,101:N,102:O},e(G,[2,65]),e(k,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:o},{45:151,49:Q},e(H,[2,41]),{41:[2,47]},e(k,[2,45]),e(k,[2,77]),e(k,[2,79]),e(k,[2,80],{75:[1,152]}),e(k,[2,83]),e(k,[2,84],{13:[1,153]}),e(k,[2,86],{13:[1,155],75:[1,154]}),{22:re,58:le,80:Y,82:156,83:106,84:K,85:Z,86:z,87:X,88:te,89:ne},e(fe,[2,95]),e(Ae,[2,60]),{39:[2,10]},{14:[1,157]},e(oe,[2,55]),e(k,[2,34]),{41:[2,38]},{41:[1,158]},e(k,[2,81]),e(k,[2,85]),e(k,[2,87]),e(k,[2,88],{75:[1,159]}),e(be,[2,93],{83:144,22:re,58:le,80:Y,84:K,85:Z,86:z,87:X,88:te,89:ne}),e(he,[2,8]),e(H,[2,42]),e(k,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:I(function(se,j){if(j.recoverable)this.trace(se);else{var me=new Error(se);throw me.hash=j,me}},"parseError"),parse:I(function(se){var j=this,me=[0],ue=[],we=[null],ie=[],Oe=this.table,ae="",ge=0,Ee=0,ye=2,Se=1,Ce=ie.slice.call(arguments,1),Fe=Object.create(this.lexer),Ne={yy:{}};for(var Ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ve)&&(Ne.yy[Ve]=this.yy[Ve]);Fe.setInput(se,Ne.yy),Ne.yy.lexer=Fe,Ne.yy.parser=this,typeof Fe.yylloc>"u"&&(Fe.yylloc={});var et=Fe.yylloc;ie.push(et);var Rt=Fe.options&&Fe.options.ranges;typeof Ne.yy.parseError=="function"?this.parseError=Ne.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pt(yt){me.length=me.length-2*yt,we.length=we.length-yt,ie.length=ie.length-yt}I(pt,"popStack");function ut(){var yt;return yt=ue.pop()||Fe.lex()||Se,typeof yt!="number"&&(yt instanceof Array&&(ue=yt,yt=ue.pop()),yt=j.symbols_[yt]||yt),yt}I(ut,"lex");for(var qe,je,ft,Ke,at={},Ft,st,Je,gt;;){if(je=me[me.length-1],this.defaultActions[je]?ft=this.defaultActions[je]:((qe===null||typeof qe>"u")&&(qe=ut()),ft=Oe[je]&&Oe[je][qe]),typeof ft>"u"||!ft.length||!ft[0]){var Nt="";gt=[];for(Ft in Oe[je])this.terminals_[Ft]&&Ft>ye&&gt.push("'"+this.terminals_[Ft]+"'");Fe.showPosition?Nt="Parse error on line "+(ge+1)+`:
`+Fe.showPosition()+`
Expecting `+gt.join(", ")+", got '"+(this.terminals_[qe]||qe)+"'":Nt="Parse error on line "+(ge+1)+": Unexpected "+(qe==Se?"end of input":"'"+(this.terminals_[qe]||qe)+"'"),this.parseError(Nt,{text:Fe.match,token:this.terminals_[qe]||qe,line:Fe.yylineno,loc:et,expected:gt})}if(ft[0]instanceof Array&&ft.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+qe);switch(ft[0]){case 1:me.push(qe),we.push(Fe.yytext),ie.push(Fe.yylloc),me.push(ft[1]),qe=null,Ee=Fe.yyleng,ae=Fe.yytext,ge=Fe.yylineno,et=Fe.yylloc;break;case 2:if(st=this.productions_[ft[1]][1],at.$=we[we.length-st],at._$={first_line:ie[ie.length-(st||1)].first_line,last_line:ie[ie.length-1].last_line,first_column:ie[ie.length-(st||1)].first_column,last_column:ie[ie.length-1].last_column},Rt&&(at._$.range=[ie[ie.length-(st||1)].range[0],ie[ie.length-1].range[1]]),Ke=this.performAction.apply(at,[ae,Ee,ge,Ne.yy,ft[1],we,ie].concat(Ce)),typeof Ke<"u")return Ke;st&&(me=me.slice(0,-1*st*2),we=we.slice(0,-1*st),ie=ie.slice(0,-1*st)),me.push(this.productions_[ft[1]][0]),we.push(at.$),ie.push(at._$),Je=Oe[me[me.length-2]][me[me.length-1]],me.push(Je);break;case 3:return!0}}return!0},"parse")},Re=function(){var De={EOF:1,parseError:I(function(j,me){if(this.yy.parser)this.yy.parser.parseError(j,me);else throw new Error(j)},"parseError"),setInput:I(function(se,j){return this.yy=j||this.yy||{},this._input=se,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var se=this._input[0];this.yytext+=se,this.yyleng++,this.offset++,this.match+=se,this.matched+=se;var j=se.match(/(?:\r\n?|\n).*/g);return j?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),se},"input"),unput:I(function(se){var j=se.length,me=se.split(/(?:\r\n?|\n)/g);this._input=se+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-j),this.offset-=j;var ue=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),me.length-1&&(this.yylineno-=me.length-1);var we=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:me?(me.length===ue.length?this.yylloc.first_column:0)+ue[ue.length-me.length].length-me[0].length:this.yylloc.first_column-j},this.options.ranges&&(this.yylloc.range=[we[0],we[0]+this.yyleng-j]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(se){this.unput(this.match.slice(se))},"less"),pastInput:I(function(){var se=this.matched.substr(0,this.matched.length-this.match.length);return(se.length>20?"...":"")+se.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var se=this.match;return se.length<20&&(se+=this._input.substr(0,20-se.length)),(se.substr(0,20)+(se.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var se=this.pastInput(),j=new Array(se.length+1).join("-");return se+this.upcomingInput()+`
`+j+"^"},"showPosition"),test_match:I(function(se,j){var me,ue,we;if(this.options.backtrack_lexer&&(we={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(we.yylloc.range=this.yylloc.range.slice(0))),ue=se[0].match(/(?:\r\n?|\n).*/g),ue&&(this.yylineno+=ue.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ue?ue[ue.length-1].length-ue[ue.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+se[0].length},this.yytext+=se[0],this.match+=se[0],this.matches=se,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(se[0].length),this.matched+=se[0],me=this.performAction.call(this,this.yy,this,j,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),me)return me;if(this._backtrack){for(var ie in we)this[ie]=we[ie];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var se,j,me,ue;this._more||(this.yytext="",this.match="");for(var we=this._currentRules(),ie=0;ie<we.length;ie++)if(me=this._input.match(this.rules[we[ie]]),me&&(!j||me[0].length>j[0].length)){if(j=me,ue=ie,this.options.backtrack_lexer){if(se=this.test_match(me,we[ie]),se!==!1)return se;if(this._backtrack){j=!1;continue}else return!1}else if(!this.options.flex)break}return j?(se=this.test_match(j,we[ue]),se!==!1?se:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var j=this.next();return j||this.lex()},"lex"),begin:I(function(j){this.conditionStack.push(j)},"begin"),popState:I(function(){var j=this.conditionStack.length-1;return j>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(j){return j=this.conditionStack.length-1-Math.abs(j||0),j>=0?this.conditionStack[j]:"INITIAL"},"topState"),pushState:I(function(j){this.begin(j)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(j,me,ue,we){switch(ue){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return De}();Ie.lexer=Re;function ke(){this.yy={}}return I(ke,"Parser"),ke.prototype=Ie,Ie.Parser=ke,new ke}();M7.parser=M7;var t1e=M7,fj=["#","+","~","-",""],hm,dj=(hm=class{constructor(t,n){this.memberType=n,this.visibility="",this.classifier="",this.text="";const r=or(t,Pe());this.parseMember(r)}getDisplayDetails(){let t=this.visibility+ad(this.id);this.memberType==="method"&&(t+=`(${ad(this.parameters.trim())})`,this.returnType&&(t+=" : "+ad(this.returnType))),t=t.trim();const n=this.parseClassifier();return{displayText:t,cssStyle:n}}parseMember(t){let n="";if(this.memberType==="method"){const o=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(t);if(o){const l=o[1]?o[1].trim():"";if(fj.includes(l)&&(this.visibility=l),this.id=o[2],this.parameters=o[3]?o[3].trim():"",n=o[4]?o[4].trim():"",this.returnType=o[5]?o[5].trim():"",n===""){const u=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(u)&&(n=u,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const a=t.length,o=t.substring(0,1),l=t.substring(a-1);fj.includes(o)&&(this.visibility=o),/[$*]/.exec(l)&&(n=l),this.id=t.substring(this.visibility===""?0:1,n===""?a:a-1)}this.classifier=n,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const r=`${this.visibility?"\\"+this.visibility:""}${ad(this.id)}${this.memberType==="method"?`(${ad(this.parameters)})${this.returnType?" : "+ad(this.returnType):""}`:""}`;this.text=r.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},I(hm,"ClassMember"),hm),nI="classId-",rI=[],Tr=new Map,pj=new Map,hT=[],nv=[],gj=0,Ec=new Map,P7=0,fT=[],vp=I(e=>ot.sanitizeText(e,Pe()),"sanitizeText"),yp=I(function(e){const t=ot.sanitizeText(e,Pe());let n="",r=t;if(t.indexOf("~")>0){const a=t.split("~");r=vp(a[0]),n=vp(a[1])}return{className:r,type:n}},"splitClassNameAndType"),gxt=I(function(e,t){const n=ot.sanitizeText(e,Pe());t&&(t=vp(t));const{className:r}=yp(n);Tr.get(r).label=t,Tr.get(r).text=`${t}${Tr.get(r).type?`<${Tr.get(r).type}>`:""}`},"setClassLabel"),qg=I(function(e){const t=ot.sanitizeText(e,Pe()),{className:n,type:r}=yp(t);if(Tr.has(n))return;const a=ot.sanitizeText(n,Pe());Tr.set(a,{id:a,type:r,label:a,text:`${a}${r?`&lt;${r}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:nI+a+"-"+gj}),gj++},"addClass"),mj=I(function(e,t){const n={id:`interface${nv.length}`,label:e,classId:t};nv.push(n)},"addInterface"),n1e=I(function(e){const t=ot.sanitizeText(e,Pe());if(Tr.has(t))return Tr.get(t).domId;throw new Error("Class not found: "+t)},"lookUpDomId"),mxt=I(function(){rI=[],Tr=new Map,hT=[],nv=[],fT=[],fT.push(i1e),Ec=new Map,P7=0,xP="TB",fa()},"clear"),vxt=I(function(e){return Tr.get(e)},"getClass"),yxt=I(function(){return Tr},"getClasses"),bxt=I(function(){return rI},"getRelations"),Txt=I(function(){return hT},"getNotes"),Ext=I(function(e){ve.debug("Adding relation: "+JSON.stringify(e));const t=[g0.LOLLIPOP,g0.AGGREGATION,g0.COMPOSITION,g0.DEPENDENCY,g0.EXTENSION];e.relation.type1===g0.LOLLIPOP&&!t.includes(e.relation.type2)?(qg(e.id2),mj(e.id1,e.id2),e.id1=`interface${nv.length-1}`):e.relation.type2===g0.LOLLIPOP&&!t.includes(e.relation.type1)?(qg(e.id1),mj(e.id2,e.id1),e.id2=`interface${nv.length-1}`):(qg(e.id1),qg(e.id2)),e.id1=yp(e.id1).className,e.id2=yp(e.id2).className,e.relationTitle1=ot.sanitizeText(e.relationTitle1.trim(),Pe()),e.relationTitle2=ot.sanitizeText(e.relationTitle2.trim(),Pe()),rI.push(e)},"addRelation"),wxt=I(function(e,t){const n=yp(e).className;Tr.get(n).annotations.push(t)},"addAnnotation"),r1e=I(function(e,t){qg(e);const n=yp(e).className,r=Tr.get(n);if(typeof t=="string"){const a=t.trim();a.startsWith("<<")&&a.endsWith(">>")?r.annotations.push(vp(a.substring(2,a.length-2))):a.indexOf(")")>0?r.methods.push(new dj(a,"method")):a&&r.members.push(new dj(a,"attribute"))}},"addMember"),xxt=I(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(n=>r1e(e,n)))},"addMembers"),Sxt=I(function(e,t){const n={id:`note${hT.length}`,class:t,text:e};hT.push(n)},"addNote"),Axt=I(function(e){return e.startsWith(":")&&(e=e.substring(1)),vp(e.trim())},"cleanupLabel"),wP=I(function(e,t){e.split(",").forEach(function(n){let r=n;/\d/.exec(n[0])&&(r=nI+r);const a=Tr.get(r);a&&(a.cssClasses+=" "+t)})},"setCssClass"),Ixt=I(function(e,t){for(const n of e){let r=pj.get(n);r===void 0&&(r={id:n,styles:[],textStyles:[]},pj.set(n,r)),t&&t.forEach(function(a){if(/color/.exec(a)){const o=a.replace("fill","bgFill");r.textStyles.push(o)}r.styles.push(a)}),Tr.forEach(a=>{a.cssClasses.includes(n)&&a.styles.push(...t.flatMap(o=>o.split(",")))})}},"defineClass"),Cxt=I(function(e,t){e.split(",").forEach(function(n){t!==void 0&&(Tr.get(n).tooltip=vp(t))})},"setTooltip"),Rxt=I(function(e,t){return t&&Ec.has(t)?Ec.get(t).classes.get(e).tooltip:Tr.get(e).tooltip},"getTooltip"),kxt=I(function(e,t,n){const r=Pe();e.split(",").forEach(function(a){let o=a;/\d/.exec(a[0])&&(o=nI+o);const l=Tr.get(o);l&&(l.link=fn.formatUrl(t,r),r.securityLevel==="sandbox"?l.linkTarget="_top":typeof n=="string"?l.linkTarget=vp(n):l.linkTarget="_blank")}),wP(e,"clickable")},"setLink"),Oxt=I(function(e,t,n){e.split(",").forEach(function(r){Nxt(r,t,n),Tr.get(r).haveCallback=!0}),wP(e,"clickable")},"setClickEvent"),Nxt=I(function(e,t,n){const r=ot.sanitizeText(e,Pe());if(Pe().securityLevel!=="loose"||t===void 0)return;const o=r;if(Tr.has(o)){const l=n1e(o);let u=[];if(typeof n=="string"){u=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<u.length;h++){let f=u[h].trim();f.startsWith('"')&&f.endsWith('"')&&(f=f.substr(1,f.length-2)),u[h]=f}}u.length===0&&u.push(l),fT.push(function(){const h=document.querySelector(`[id="${l}"]`);h!==null&&h.addEventListener("click",function(){fn.runFunc(t,...u)},!1)})}},"setClickFunc"),Lxt=I(function(e){fT.forEach(function(t){t(e)})},"bindFunctions"),_xt={LINE:0,DOTTED_LINE:1},g0={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},i1e=I(function(e){let t=it(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=it("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),it(e).select("svg").selectAll("g.node").on("mouseover",function(){const a=it(this);if(a.attr("title")===null)return;const l=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(a.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),it(this).classed("hover",!1)})},"setupToolTips");fT.push(i1e);var xP="TB",a1e=I(()=>xP,"getDirection"),Dxt=I(e=>{xP=e},"setDirection"),Mxt=I(function(e){Ec.has(e)||(Ec.set(e,{id:e,classes:new Map,children:{},domId:nI+e+"-"+P7}),P7++)},"addNamespace"),Pxt=I(function(e){return Ec.get(e)},"getNamespace"),Fxt=I(function(){return Ec},"getNamespaces"),Bxt=I(function(e,t){if(Ec.has(e))for(const n of t){const{className:r}=yp(n);Tr.get(r).parent=e,Ec.get(e).classes.set(r,Tr.get(r))}},"addClassesToNamespace"),Hxt=I(function(e,t){const n=Tr.get(e);if(!(!t||!n))for(const r of t)r.includes(",")?n.styles.push(...r.split(",")):n.styles.push(r)},"setCssStyle");function F7(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}I(F7,"getArrowMarker");var $xt=I(()=>{var a;const e=[],t=[],n=Pe();for(const o of Ec.keys()){const l=Ec.get(o);if(l){const u={id:l.id,label:l.id,isGroup:!0,padding:n.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:n.look};e.push(u)}}for(const o of Tr.keys()){const l=Tr.get(o);if(l){const u=l;u.parentId=l.parent,u.look=n.look,e.push(u)}}let r=0;for(const o of hT){r++;const l={id:o.id,label:o.text,isGroup:!1,shape:"note",padding:n.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${n.themeVariables.noteBkgColor}`,`stroke: ${n.themeVariables.noteBorderColor}`],look:n.look};e.push(l);const u=((a=Tr.get(o.class))==null?void 0:a.id)??"";if(u){const h={id:`edgeNote${r}`,start:o.id,end:u,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:n.look};t.push(h)}}for(const o of nv){const l={id:o.id,label:o.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:n.look};e.push(l)}r=0;for(const o of rI){r++;const l={id:Boe(o.id1,o.id2,{prefix:"id",counter:r}),start:o.id1,end:o.id2,type:"normal",label:o.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:F7(o.relation.type1),arrowTypeEnd:F7(o.relation.type2),startLabelRight:o.relationTitle1==="none"?"":o.relationTitle1,endLabelLeft:o.relationTitle2==="none"?"":o.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:o.style||"",pattern:o.relation.lineType==1?"dashed":"solid",look:n.look};t.push(l)}return{nodes:e,edges:t,other:{},config:n,direction:a1e()}},"getData"),u5={setAccTitle:da,getAccTitle:La,getAccDescription:Da,setAccDescription:_a,getConfig:I(()=>Pe().class,"getConfig"),addClass:qg,bindFunctions:Lxt,clear:mxt,getClass:vxt,getClasses:yxt,getNotes:Txt,addAnnotation:wxt,addNote:Sxt,getRelations:bxt,addRelation:Ext,getDirection:a1e,setDirection:Dxt,addMember:r1e,addMembers:xxt,cleanupLabel:Axt,lineType:_xt,relationType:g0,setClickEvent:Oxt,setCssClass:wP,defineClass:Ixt,setLink:kxt,getTooltip:Rxt,setTooltip:Cxt,lookUpDomId:n1e,setDiagramTitle:Ds,getDiagramTitle:Ma,setClassLabel:gxt,addNamespace:Mxt,addClassesToNamespace:Bxt,getNamespace:Pxt,getNamespaces:Fxt,setCssStyle:Hxt,getData:$xt},Wxt=I(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),s1e=Wxt,Uxt=I((e,t="TB")=>{if(!e.doc)return t;let n=t;for(const r of e.doc)r.stmt==="dir"&&(n=r.value);return n},"getDir"),Gxt=I(function(e,t){return t.db.getClasses()},"getClasses"),zxt=I(async function(e,t,n,r){ve.info("REF0:"),ve.info("Drawing class diagram (v3)",t);const{securityLevel:a,state:o,layout:l}=Pe(),u=r.db.getData(),h=vM(t,a);u.type=r.type,u.layoutAlgorithm=Hce(l),u.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,u.rankSpacing=(o==null?void 0:o.rankSpacing)||50,u.markers=["aggregation","extension","composition","dependency","lollipop"],u.diagramId=t,await TD(u,h);const f=8;fn.insertTitle(h,"classDiagramTitleText",(o==null?void 0:o.titleTopMargin)??25,r.db.getDiagramTitle()),yM(h,f,"classDiagram",(o==null?void 0:o.useMaxWidth)??!0)},"draw"),o1e={getClasses:Gxt,draw:zxt,getDir:Uxt},Yxt={parser:t1e,db:u5,renderer:o1e,styles:s1e,init:I(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,u5.clear()},"init")};const Vxt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Yxt},Symbol.toStringTag,{value:"Module"}));var qxt={parser:t1e,db:u5,renderer:o1e,styles:s1e,init:I(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,u5.clear()},"init")};const jxt=Object.freeze(Object.defineProperty({__proto__:null,diagram:qxt},Symbol.toStringTag,{value:"Module"}));var B7=function(){var e=I(function(P,H,W,U){for(W=W||{},U=P.length;U--;W[P[U]]=H);return W},"o"),t=[1,2],n=[1,3],r=[1,4],a=[2,4],o=[1,9],l=[1,11],u=[1,16],h=[1,17],f=[1,18],d=[1,19],p=[1,32],g=[1,20],m=[1,21],y=[1,22],b=[1,23],T=[1,24],E=[1,26],w=[1,27],x=[1,28],S=[1,29],A=[1,30],R=[1,31],C=[1,34],N=[1,35],O=[1,36],L=[1,37],k=[1,33],M=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],$=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],_=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],F={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:I(function(H,W,U,V,G,ee,ce){var Q=ee.length-1;switch(G){case 3:return V.setRootDoc(ee[Q]),ee[Q];case 4:this.$=[];break;case 5:ee[Q]!="nl"&&(ee[Q-1].push(ee[Q]),this.$=ee[Q-1]);break;case 6:case 7:this.$=ee[Q];break;case 8:this.$="nl";break;case 12:this.$=ee[Q];break;case 13:const K=ee[Q-1];K.description=V.trimColon(ee[Q]),this.$=K;break;case 14:this.$={stmt:"relation",state1:ee[Q-2],state2:ee[Q]};break;case 15:const Z=V.trimColon(ee[Q]);this.$={stmt:"relation",state1:ee[Q-3],state2:ee[Q-1],description:Z};break;case 19:this.$={stmt:"state",id:ee[Q-3],type:"default",description:"",doc:ee[Q-1]};break;case 20:var re=ee[Q],le=ee[Q-2].trim();if(ee[Q].match(":")){var Y=ee[Q].split(":");re=Y[0],le=[le,Y[1]]}this.$={stmt:"state",id:re,type:"default",description:le};break;case 21:this.$={stmt:"state",id:ee[Q-3],type:"default",description:ee[Q-5],doc:ee[Q-1]};break;case 22:this.$={stmt:"state",id:ee[Q],type:"fork"};break;case 23:this.$={stmt:"state",id:ee[Q],type:"join"};break;case 24:this.$={stmt:"state",id:ee[Q],type:"choice"};break;case 25:this.$={stmt:"state",id:V.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:ee[Q-1].trim(),note:{position:ee[Q-2].trim(),text:ee[Q].trim()}};break;case 29:this.$=ee[Q].trim(),V.setAccTitle(this.$);break;case 30:case 31:this.$=ee[Q].trim(),V.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:ee[Q-1].trim(),classes:ee[Q].trim()};break;case 34:this.$={stmt:"style",id:ee[Q-1].trim(),styleClass:ee[Q].trim()};break;case 35:this.$={stmt:"applyClass",id:ee[Q-1].trim(),styleClass:ee[Q].trim()};break;case 36:V.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:V.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:V.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:V.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:ee[Q].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:ee[Q-2].trim(),classes:[ee[Q].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:ee[Q-2].trim(),classes:[ee[Q].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:n,6:r},{1:[3]},{3:5,4:t,5:n,6:r},{3:6,4:t,5:n,6:r},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],a,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:l,8:8,9:10,10:12,11:13,12:14,13:15,16:u,17:h,19:f,22:d,24:p,25:g,26:m,27:y,28:b,29:T,32:25,33:E,35:w,37:x,38:S,42:A,45:R,48:C,49:N,50:O,51:L,54:k},e(M,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:u,17:h,19:f,22:d,24:p,25:g,26:m,27:y,28:b,29:T,32:25,33:E,35:w,37:x,38:S,42:A,45:R,48:C,49:N,50:O,51:L,54:k},e(M,[2,7]),e(M,[2,8]),e(M,[2,9]),e(M,[2,10]),e(M,[2,11]),e(M,[2,12],{14:[1,39],15:[1,40]}),e(M,[2,16]),{18:[1,41]},e(M,[2,18],{20:[1,42]}),{23:[1,43]},e(M,[2,22]),e(M,[2,23]),e(M,[2,24]),e(M,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},e(M,[2,28]),{34:[1,48]},{36:[1,49]},e(M,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},e($,[2,42],{55:[1,54]}),e($,[2,43],{55:[1,55]}),e(M,[2,36]),e(M,[2,37]),e(M,[2,38]),e(M,[2,39]),e(M,[2,6]),e(M,[2,13]),{13:56,24:p,54:k},e(M,[2,17]),e(_,a,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},e(M,[2,29]),e(M,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},e(M,[2,14],{14:[1,67]}),{4:o,5:l,8:8,9:10,10:12,11:13,12:14,13:15,16:u,17:h,19:f,21:[1,68],22:d,24:p,25:g,26:m,27:y,28:b,29:T,32:25,33:E,35:w,37:x,38:S,42:A,45:R,48:C,49:N,50:O,51:L,54:k},e(M,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},e(M,[2,32]),e(M,[2,33]),e(M,[2,34]),e(M,[2,35]),e($,[2,44]),e($,[2,45]),e(M,[2,15]),e(M,[2,19]),e(_,a,{7:72}),e(M,[2,26]),e(M,[2,27]),{4:o,5:l,8:8,9:10,10:12,11:13,12:14,13:15,16:u,17:h,19:f,21:[1,73],22:d,24:p,25:g,26:m,27:y,28:b,29:T,32:25,33:E,35:w,37:x,38:S,42:A,45:R,48:C,49:N,50:O,51:L,54:k},e(M,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:I(function(H,W){if(W.recoverable)this.trace(H);else{var U=new Error(H);throw U.hash=W,U}},"parseError"),parse:I(function(H){var W=this,U=[0],V=[],G=[null],ee=[],ce=this.table,Q="",re=0,le=0,Y=2,K=1,Z=ee.slice.call(arguments,1),z=Object.create(this.lexer),X={yy:{}};for(var te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&(X.yy[te]=this.yy[te]);z.setInput(H,X.yy),X.yy.lexer=z,X.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var ne=z.yylloc;ee.push(ne);var Ae=z.options&&z.options.ranges;typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function he(ue){U.length=U.length-2*ue,G.length=G.length-ue,ee.length=ee.length-ue}I(he,"popStack");function oe(){var ue;return ue=V.pop()||z.lex()||K,typeof ue!="number"&&(ue instanceof Array&&(V=ue,ue=V.pop()),ue=W.symbols_[ue]||ue),ue}I(oe,"lex");for(var de,be,fe,Ie,Re={},ke,De,se,j;;){if(be=U[U.length-1],this.defaultActions[be]?fe=this.defaultActions[be]:((de===null||typeof de>"u")&&(de=oe()),fe=ce[be]&&ce[be][de]),typeof fe>"u"||!fe.length||!fe[0]){var me="";j=[];for(ke in ce[be])this.terminals_[ke]&&ke>Y&&j.push("'"+this.terminals_[ke]+"'");z.showPosition?me="Parse error on line "+(re+1)+`:
`+z.showPosition()+`
Expecting `+j.join(", ")+", got '"+(this.terminals_[de]||de)+"'":me="Parse error on line "+(re+1)+": Unexpected "+(de==K?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(me,{text:z.match,token:this.terminals_[de]||de,line:z.yylineno,loc:ne,expected:j})}if(fe[0]instanceof Array&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+de);switch(fe[0]){case 1:U.push(de),G.push(z.yytext),ee.push(z.yylloc),U.push(fe[1]),de=null,le=z.yyleng,Q=z.yytext,re=z.yylineno,ne=z.yylloc;break;case 2:if(De=this.productions_[fe[1]][1],Re.$=G[G.length-De],Re._$={first_line:ee[ee.length-(De||1)].first_line,last_line:ee[ee.length-1].last_line,first_column:ee[ee.length-(De||1)].first_column,last_column:ee[ee.length-1].last_column},Ae&&(Re._$.range=[ee[ee.length-(De||1)].range[0],ee[ee.length-1].range[1]]),Ie=this.performAction.apply(Re,[Q,le,re,X.yy,fe[1],G,ee].concat(Z)),typeof Ie<"u")return Ie;De&&(U=U.slice(0,-1*De*2),G=G.slice(0,-1*De),ee=ee.slice(0,-1*De)),U.push(this.productions_[fe[1]][0]),G.push(Re.$),ee.push(Re._$),se=ce[U[U.length-2]][U[U.length-1]],U.push(se);break;case 3:return!0}}return!0},"parse")},B=function(){var P={EOF:1,parseError:I(function(W,U){if(this.yy.parser)this.yy.parser.parseError(W,U);else throw new Error(W)},"parseError"),setInput:I(function(H,W){return this.yy=W||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var W=H.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},"input"),unput:I(function(H){var W=H.length,U=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),U.length-1&&(this.yylineno-=U.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:U?(U.length===V.length?this.yylloc.first_column:0)+V[V.length-U.length].length-U[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(H){this.unput(this.match.slice(H))},"less"),pastInput:I(function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var H=this.pastInput(),W=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+W+"^"},"showPosition"),test_match:I(function(H,W){var U,V,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),V=H[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],U=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),U)return U;if(this._backtrack){for(var ee in G)this[ee]=G[ee];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,W,U,V;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),ee=0;ee<G.length;ee++)if(U=this._input.match(this.rules[G[ee]]),U&&(!W||U[0].length>W[0].length)){if(W=U,V=ee,this.options.backtrack_lexer){if(H=this.test_match(U,G[ee]),H!==!1)return H;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(H=this.test_match(W,G[V]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var W=this.next();return W||this.lex()},"lex"),begin:I(function(W){this.conditionStack.push(W)},"begin"),popState:I(function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},"topState"),pushState:I(function(W){this.begin(W)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(W,U,V,G){switch(V){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),U.yytext=U.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),U.yytext=U.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),U.yytext=U.yytext.substr(2).trim(),31;case 67:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return U.yytext=U.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return P}();F.lexer=B;function D(){this.yy={}}return I(D,"Parser"),D.prototype=F,F.Parser=D,new D}();B7.parser=B7;var l1e=B7,Xxt="LR",c1e="TB",h5="state",SP="relation",Kxt="classDef",Zxt="style",Qxt="applyClass",BE="default",u1e="divider",h1e="fill:none",f1e="fill: #333",d1e="c",p1e="text",g1e="normal",Ik="rect",Ck="rectWithTitle",Jxt="stateStart",e4t="stateEnd",vj="divider",yj="roundedWithTitle",t4t="note",n4t="noteGroup",HE="statediagram",r4t="state",i4t=`${HE}-${r4t}`,m1e="transition",a4t="note",s4t="note-edge",o4t=`${m1e} ${s4t}`,l4t=`${HE}-${a4t}`,c4t="cluster",u4t=`${HE}-${c4t}`,h4t="cluster-alt",f4t=`${HE}-${h4t}`,v1e="parent",y1e="note",d4t="state",AP="----",p4t=`${AP}${y1e}`,bj=`${AP}${v1e}`,b1e=I((e,t=c1e)=>{if(!e.doc)return t;let n=t;for(const r of e.doc)r.stmt==="dir"&&(n=r.value);return n},"getDir"),g4t=I(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses"),m4t=I(async function(e,t,n,r){ve.info("REF0:"),ve.info("Drawing state diagram (v2)",t);const{securityLevel:a,state:o,layout:l}=Pe();r.db.extract(r.db.getRootDocV2());const u=r.db.getData(),h=vM(t,a);u.type=r.type,u.layoutAlgorithm=l,u.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,u.rankSpacing=(o==null?void 0:o.rankSpacing)||50,u.markers=["barb"],u.diagramId=t,await TD(u,h);const f=8;fn.insertTitle(h,"statediagramTitleText",(o==null?void 0:o.titleTopMargin)??25,r.db.getDiagramTitle()),yM(h,f,HE,(o==null?void 0:o.useMaxWidth)??!0)},"draw"),v4t={getClasses:g4t,draw:m4t,getDir:b1e},Mx=new Map,A0=0;function Px(e="",t=0,n="",r=AP){const a=n!==null&&n.length>0?`${r}${n}`:"";return`${d4t}-${e}${a}-${t}`}I(Px,"stateDomId");var y4t=I((e,t,n,r,a,o,l,u)=>{ve.trace("items",t),t.forEach(h=>{switch(h.stmt){case h5:y2(e,h,n,r,a,o,l,u);break;case BE:y2(e,h,n,r,a,o,l,u);break;case SP:{y2(e,h.state1,n,r,a,o,l,u),y2(e,h.state2,n,r,a,o,l,u);const f={id:"edge"+A0,start:h.state1.id,end:h.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:h1e,labelStyle:"",label:ot.sanitizeText(h.description,Pe()),arrowheadStyle:f1e,labelpos:d1e,labelType:p1e,thickness:g1e,classes:m1e,look:l};a.push(f),A0++}break}})},"setupDoc"),Tj=I((e,t=c1e)=>{let n=t;if(e.doc)for(const r of e.doc)r.stmt==="dir"&&(n=r.value);return n},"getDir");function v2(e,t,n){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(a=>{if(n.get(a)){const o=n.get(a);t.cssCompiledStyles=[...t.cssCompiledStyles,...o.styles]}}));const r=e.find(a=>a.id===t.id);r?Object.assign(r,t):e.push(t)}I(v2,"insertOrUpdateNode");function T1e(e){var t;return((t=e==null?void 0:e.classes)==null?void 0:t.join(" "))??""}I(T1e,"getClassesFromDbInfo");function E1e(e){return(e==null?void 0:e.styles)??[]}I(E1e,"getStylesFromDbInfo");var y2=I((e,t,n,r,a,o,l,u)=>{var g,m;const h=t.id,f=n.get(h),d=T1e(f),p=E1e(f);if(ve.info("dataFetcher parsedItem",t,f,p),h!=="root"){let y=Ik;t.start===!0?y=Jxt:t.start===!1&&(y=e4t),t.type!==BE&&(y=t.type),Mx.get(h)||Mx.set(h,{id:h,shape:y,description:ot.sanitizeText(h,Pe()),cssClasses:`${d} ${i4t}`,cssStyles:p});const b=Mx.get(h);t.description&&(Array.isArray(b.description)?(b.shape=Ck,b.description.push(t.description)):((g=b.description)==null?void 0:g.length)>0?(b.shape=Ck,b.description===h?b.description=[t.description]:b.description=[b.description,t.description]):(b.shape=Ik,b.description=t.description),b.description=ot.sanitizeTextOrArray(b.description,Pe())),((m=b.description)==null?void 0:m.length)===1&&b.shape===Ck&&(b.type==="group"?b.shape=yj:b.shape=Ik),!b.type&&t.doc&&(ve.info("Setting cluster for XCX",h,Tj(t)),b.type="group",b.isGroup=!0,b.dir=Tj(t),b.shape=t.type===u1e?vj:yj,b.cssClasses=`${b.cssClasses} ${u4t} ${o?f4t:""}`);const T={labelStyle:"",shape:b.shape,label:b.description,cssClasses:b.cssClasses,cssCompiledStyles:[],cssStyles:b.cssStyles,id:h,dir:b.dir,domId:Px(h,A0),type:b.type,isGroup:b.type==="group",padding:8,rx:10,ry:10,look:l};if(T.shape===vj&&(T.label=""),e&&e.id!=="root"&&(ve.trace("Setting node ",h," to be child of its parent ",e.id),T.parentId=e.id),T.centerLabel=!0,t.note){const E={labelStyle:"",shape:t4t,label:t.note.text,cssClasses:l4t,cssStyles:[],cssCompilesStyles:[],id:h+p4t+"-"+A0,domId:Px(h,A0,y1e),type:b.type,isGroup:b.type==="group",padding:Pe().flowchart.padding,look:l,position:t.note.position},w=h+bj,x={labelStyle:"",shape:n4t,label:t.note.text,cssClasses:b.cssClasses,cssStyles:[],id:h+bj,domId:Px(h,A0,v1e),type:"group",isGroup:!0,padding:16,look:l,position:t.note.position};A0++,x.id=w,E.parentId=w,v2(r,x,u),v2(r,E,u),v2(r,T,u);let S=h,A=E.id;t.note.position==="left of"&&(S=E.id,A=h),a.push({id:S+"-"+A,start:S,end:A,arrowhead:"none",arrowTypeEnd:"",style:h1e,labelStyle:"",classes:o4t,arrowheadStyle:f1e,labelpos:d1e,labelType:p1e,thickness:g1e,look:l})}else v2(r,T,u)}t.doc&&(ve.trace("Adding nodes children "),y4t(t,t.doc,n,r,a,!o,l,u))},"dataFetcher"),b4t=I(()=>{Mx.clear(),A0=0},"reset"),IP="[*]",w1e="start",x1e=IP,S1e="end",Ej="color",wj="fill",T4t="bgFill",E4t=",";function CP(){return new Map}I(CP,"newClassesList");var f5=[],RP=[],A1e=Xxt,d5=[],S1=CP(),I1e=I(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),p5={root:I1e()},qs=p5.root,dT=0,xj=0,w4t={LINE:0,DOTTED_LINE:1},x4t={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},T3=I(e=>JSON.parse(JSON.stringify(e)),"clone"),S4t=I(e=>{ve.info("Setting root doc",e),d5=e},"setRootDoc"),A4t=I(()=>d5,"getRootDoc"),Fx=I((e,t,n)=>{if(t.stmt===SP)Fx(e,t.state1,!0),Fx(e,t.state2,!1);else if(t.stmt===h5&&(t.id==="[*]"?(t.id=n?e.id+"_start":e.id+"_end",t.start=n):t.id=t.id.trim()),t.doc){const r=[];let a=[],o;for(o=0;o<t.doc.length;o++)if(t.doc[o].type===u1e){const l=T3(t.doc[o]);l.doc=T3(a),r.push(l),a=[]}else a.push(t.doc[o]);if(r.length>0&&a.length>0){const l={stmt:h5,id:Doe(),type:"divider",doc:T3(a)};r.push(T3(l)),t.doc=r}t.doc.forEach(l=>Fx(t,l,!0))}},"docTranslator"),kP=I(()=>(Fx({id:"root"},{id:"root",doc:d5},!0),{id:"root",doc:d5}),"getRootDocV2"),I4t=I(e=>{let t;e.doc?t=e.doc:t=e,ve.info(t),C1e(!0),ve.info("Extract initial document:",t),t.forEach(o=>{switch(ve.warn("Statement",o.stmt),o.stmt){case h5:cf(o.id.trim(),o.type,o.doc,o.description,o.note,o.classes,o.styles,o.textStyles);break;case SP:L1e(o.state1,o.state2,o.description);break;case Kxt:_1e(o.id.trim(),o.classes);break;case Zxt:{const l=o.id.trim().split(","),u=o.styleClass.split(",");l.forEach(h=>{let f=bp(h);if(f===void 0){const d=h.trim();cf(d),f=bp(d)}f.styles=u.map(d=>{var p;return(p=d.replace(/;/g,""))==null?void 0:p.trim()})})}break;case Qxt:OP(o.id.trim(),o.styleClass);break}});const n=R1e(),a=Pe().look;b4t(),y2(void 0,kP(),n,f5,RP,!0,a,S1),f5.forEach(o=>{if(Array.isArray(o.label)){if(o.description=o.label.slice(1),o.isGroup&&o.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+o.id+"]");o.label=o.label[0]}})},"extract"),cf=I(function(e,t=BE,n=null,r=null,a=null,o=null,l=null,u=null){const h=e==null?void 0:e.trim();if(qs.states.has(h)?(qs.states.get(h).doc||(qs.states.get(h).doc=n),qs.states.get(h).type||(qs.states.get(h).type=t)):(ve.info("Adding state ",h,r),qs.states.set(h,{id:h,descriptions:[],type:t,doc:n,note:a,classes:[],styles:[],textStyles:[]})),r&&(ve.info("Setting state description",h,r),typeof r=="string"&&H7(h,r.trim()),typeof r=="object"&&r.forEach(f=>H7(h,f.trim()))),a){const f=qs.states.get(h);f.note=a,f.note.text=ot.sanitizeText(f.note.text,Pe())}o&&(ve.info("Setting state classes",h,o),(typeof o=="string"?[o]:o).forEach(d=>OP(h,d.trim()))),l&&(ve.info("Setting state styles",h,l),(typeof l=="string"?[l]:l).forEach(d=>L4t(h,d.trim()))),u&&(ve.info("Setting state styles",h,l),(typeof u=="string"?[u]:u).forEach(d=>_4t(h,d.trim())))},"addState"),C1e=I(function(e){f5=[],RP=[],p5={root:I1e()},qs=p5.root,dT=0,S1=CP(),e||fa()},"clear"),bp=I(function(e){return qs.states.get(e)},"getState"),R1e=I(function(){return qs.states},"getStates"),C4t=I(function(){ve.info("Documents = ",p5)},"logDocuments"),R4t=I(function(){return qs.relations},"getRelations");function g5(e=""){let t=e;return e===IP&&(dT++,t=`${w1e}${dT}`),t}I(g5,"startIdIfNeeded");function m5(e="",t=BE){return e===IP?w1e:t}I(m5,"startTypeIfNeeded");function k1e(e=""){let t=e;return e===x1e&&(dT++,t=`${S1e}${dT}`),t}I(k1e,"endIdIfNeeded");function O1e(e="",t=BE){return e===x1e?S1e:t}I(O1e,"endTypeIfNeeded");function N1e(e,t,n){let r=g5(e.id.trim()),a=m5(e.id.trim(),e.type),o=g5(t.id.trim()),l=m5(t.id.trim(),t.type);cf(r,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),cf(o,l,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),qs.relations.push({id1:r,id2:o,relationTitle:ot.sanitizeText(n,Pe())})}I(N1e,"addRelationObjs");var L1e=I(function(e,t,n){if(typeof e=="object")N1e(e,t,n);else{const r=g5(e.trim()),a=m5(e),o=k1e(t.trim()),l=O1e(t);cf(r,a),cf(o,l),qs.relations.push({id1:r,id2:o,title:ot.sanitizeText(n,Pe())})}},"addRelation"),H7=I(function(e,t){const n=qs.states.get(e),r=t.startsWith(":")?t.replace(":","").trim():t;n.descriptions.push(ot.sanitizeText(r,Pe()))},"addDescription"),k4t=I(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),O4t=I(()=>(xj++,"divider-id-"+xj),"getDividerId"),_1e=I(function(e,t=""){S1.has(e)||S1.set(e,{id:e,styles:[],textStyles:[]});const n=S1.get(e);t!=null&&t.split(E4t).forEach(r=>{const a=r.replace(/([^;]*);/,"$1").trim();if(RegExp(Ej).exec(r)){const l=a.replace(wj,T4t).replace(Ej,wj);n.textStyles.push(l)}n.styles.push(a)})},"addStyleClass"),N4t=I(function(){return S1},"getClasses"),OP=I(function(e,t){e.split(",").forEach(function(n){let r=bp(n);if(r===void 0){const a=n.trim();cf(a),r=bp(a)}r.classes.push(t)})},"setCssClass"),L4t=I(function(e,t){const n=bp(e);n!==void 0&&n.styles.push(t)},"setStyle"),_4t=I(function(e,t){const n=bp(e);n!==void 0&&n.textStyles.push(t)},"setTextStyle"),D4t=I(()=>A1e,"getDirection"),M4t=I(e=>{A1e=e},"setDirection"),P4t=I(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),F4t=I(()=>{const e=Pe();return{nodes:f5,edges:RP,other:{},config:e,direction:b1e(kP())}},"getData"),nh={getConfig:I(()=>Pe().state,"getConfig"),getData:F4t,addState:cf,clear:C1e,getState:bp,getStates:R1e,getRelations:R4t,getClasses:N4t,getDirection:D4t,addRelation:L1e,getDividerId:O4t,setDirection:M4t,cleanupLabel:k4t,lineType:w4t,relationType:x4t,logDocuments:C4t,getRootDoc:A4t,setRootDoc:S4t,getRootDocV2:kP,extract:I4t,trimColon:P4t,getAccTitle:La,setAccTitle:da,getAccDescription:Da,setAccDescription:_a,addStyleClass:_1e,setCssClass:OP,addDescription:H7,setDiagramTitle:Ds,getDiagramTitle:Ma},B4t=I(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),D1e=B4t,NP={},H4t=I((e,t)=>{NP[e]=t},"set"),$4t=I(e=>NP[e],"get"),M1e=I(()=>Object.keys(NP),"keys"),W4t=I(()=>M1e().length,"size"),U4t={get:$4t,set:H4t,keys:M1e,size:W4t},G4t=I(e=>e.append("circle").attr("class","start-state").attr("r",Pe().state.sizeUnit).attr("cx",Pe().state.padding+Pe().state.sizeUnit).attr("cy",Pe().state.padding+Pe().state.sizeUnit),"drawStartState"),z4t=I(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Pe().state.textHeight).attr("class","divider").attr("x2",Pe().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),Y4t=I((e,t)=>{const n=e.append("text").attr("x",2*Pe().state.padding).attr("y",Pe().state.textHeight+2*Pe().state.padding).attr("font-size",Pe().state.fontSize).attr("class","state-title").text(t.id),r=n.node().getBBox();return e.insert("rect",":first-child").attr("x",Pe().state.padding).attr("y",Pe().state.padding).attr("width",r.width+2*Pe().state.padding).attr("height",r.height+2*Pe().state.padding).attr("rx",Pe().state.radius),n},"drawSimpleState"),V4t=I((e,t)=>{const n=I(function(g,m,y){const b=g.append("tspan").attr("x",2*Pe().state.padding).text(m);y||b.attr("dy",Pe().state.textHeight)},"addTspan"),a=e.append("text").attr("x",2*Pe().state.padding).attr("y",Pe().state.textHeight+1.3*Pe().state.padding).attr("font-size",Pe().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),o=a.height,l=e.append("text").attr("x",Pe().state.padding).attr("y",o+Pe().state.padding*.4+Pe().state.dividerMargin+Pe().state.textHeight).attr("class","state-description");let u=!0,h=!0;t.descriptions.forEach(function(g){u||(n(l,g,h),h=!1),u=!1});const f=e.append("line").attr("x1",Pe().state.padding).attr("y1",Pe().state.padding+o+Pe().state.dividerMargin/2).attr("y2",Pe().state.padding+o+Pe().state.dividerMargin/2).attr("class","descr-divider"),d=l.node().getBBox(),p=Math.max(d.width,a.width);return f.attr("x2",p+3*Pe().state.padding),e.insert("rect",":first-child").attr("x",Pe().state.padding).attr("y",Pe().state.padding).attr("width",p+2*Pe().state.padding).attr("height",d.height+o+2*Pe().state.padding).attr("rx",Pe().state.radius),e},"drawDescrState"),q4t=I((e,t,n)=>{const r=Pe().state.padding,a=2*Pe().state.padding,o=e.node().getBBox(),l=o.width,u=o.x,h=e.append("text").attr("x",0).attr("y",Pe().state.titleShift).attr("font-size",Pe().state.fontSize).attr("class","state-title").text(t.id),d=h.node().getBBox().width+a;let p=Math.max(d,l);p===l&&(p=p+a);let g;const m=e.node().getBBox();t.doc,g=u-r,d>l&&(g=(l-p)/2+r),Math.abs(u-m.x)<r&&d>l&&(g=u-(d-l)/2);const y=1-Pe().state.textHeight;return e.insert("rect",":first-child").attr("x",g).attr("y",y).attr("class",n?"alt-composit":"composit").attr("width",p).attr("height",m.height+Pe().state.textHeight+Pe().state.titleShift+1).attr("rx","0"),h.attr("x",g+r),d<=l&&h.attr("x",u+(p-a)/2-d/2+r),e.insert("rect",":first-child").attr("x",g).attr("y",Pe().state.titleShift-Pe().state.textHeight-Pe().state.padding).attr("width",p).attr("height",Pe().state.textHeight*3).attr("rx",Pe().state.radius),e.insert("rect",":first-child").attr("x",g).attr("y",Pe().state.titleShift-Pe().state.textHeight-Pe().state.padding).attr("width",p).attr("height",m.height+3+2*Pe().state.textHeight).attr("rx",Pe().state.radius),e},"addTitleAndBox"),j4t=I(e=>(e.append("circle").attr("class","end-state-outer").attr("r",Pe().state.sizeUnit+Pe().state.miniPadding).attr("cx",Pe().state.padding+Pe().state.sizeUnit+Pe().state.miniPadding).attr("cy",Pe().state.padding+Pe().state.sizeUnit+Pe().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",Pe().state.sizeUnit).attr("cx",Pe().state.padding+Pe().state.sizeUnit+2).attr("cy",Pe().state.padding+Pe().state.sizeUnit+2)),"drawEndState"),X4t=I((e,t)=>{let n=Pe().state.forkWidth,r=Pe().state.forkHeight;if(t.parentId){let a=n;n=r,r=a}return e.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",Pe().state.padding).attr("y",Pe().state.padding)},"drawForkJoinState"),K4t=I((e,t,n,r)=>{let a=0;const o=r.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let l=e.replace(/\r\n/g,"<br/>");l=l.replace(/\n/g,"<br/>");const u=l.split(ot.lineBreakRegex);let h=1.25*Pe().state.noteMargin;for(const f of u){const d=f.trim();if(d.length>0){const p=o.append("tspan");if(p.text(d),h===0){const g=p.node().getBBox();h+=g.height}a+=h,p.attr("x",t+Pe().state.noteMargin),p.attr("y",n+a+1.25*Pe().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:a}},"_drawLongText"),Z4t=I((e,t)=>{t.attr("class","state-note");const n=t.append("rect").attr("x",0).attr("y",Pe().state.padding),r=t.append("g"),{textWidth:a,textHeight:o}=K4t(e,0,0,r);return n.attr("height",o+2*Pe().state.noteMargin),n.attr("width",a+Pe().state.noteMargin*2),n},"drawNote"),Sj=I(function(e,t){const n=t.id,r={id:n,label:t.id,width:0,height:0},a=e.append("g").attr("id",n).attr("class","stateGroup");t.type==="start"&&G4t(a),t.type==="end"&&j4t(a),(t.type==="fork"||t.type==="join")&&X4t(a,t),t.type==="note"&&Z4t(t.note.text,a),t.type==="divider"&&z4t(a),t.type==="default"&&t.descriptions.length===0&&Y4t(a,t),t.type==="default"&&t.descriptions.length>0&&V4t(a,t);const o=a.node().getBBox();return r.width=o.width+2*Pe().state.padding,r.height=o.height+2*Pe().state.padding,U4t.set(n,r),r},"drawState"),Aj=0,Q4t=I(function(e,t,n){const r=I(function(h){switch(h){case nh.relationType.AGGREGATION:return"aggregation";case nh.relationType.EXTENSION:return"extension";case nh.relationType.COMPOSITION:return"composition";case nh.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(h=>!Number.isNaN(h.y));const a=t.points,o=ip().x(function(h){return h.x}).y(function(h){return h.y}).curve(cE),l=e.append("path").attr("d",o(a)).attr("id","edge"+Aj).attr("class","transition");let u="";if(Pe().state.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),l.attr("marker-end","url("+u+"#"+r(nh.relationType.DEPENDENCY)+"End)"),n.title!==void 0){const h=e.append("g").attr("class","stateLabel"),{x:f,y:d}=fn.calcLabelPosition(t.points),p=ot.getRows(n.title);let g=0;const m=[];let y=0,b=0;for(let w=0;w<=p.length;w++){const x=h.append("text").attr("text-anchor","middle").text(p[w]).attr("x",f).attr("y",d+g),S=x.node().getBBox();y=Math.max(y,S.width),b=Math.min(b,S.x),ve.info(S.x,f,d+g),g===0&&(g=x.node().getBBox().height,ve.info("Title height",g,d)),m.push(x)}let T=g*p.length;if(p.length>1){const w=(p.length-1)*g*.5;m.forEach((x,S)=>x.attr("y",d+S*g-w)),T=g*p.length}const E=h.node().getBBox();h.insert("rect",":first-child").attr("class","box").attr("x",f-y/2-Pe().state.padding/2).attr("y",d-T/2-Pe().state.padding/2-3.5).attr("width",y+Pe().state.padding).attr("height",T+Pe().state.padding),ve.info(E)}Aj++},"drawEdge"),Oo,Rk={},J4t=I(function(){},"setConf"),eSt=I(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),tSt=I(function(e,t,n,r){Oo=Pe().state;const a=Pe().securityLevel;let o;a==="sandbox"&&(o=it("#i"+t));const l=it(a==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?o.nodes()[0].contentDocument:document;ve.debug("Rendering diagram "+e);const h=l.select(`[id='${t}']`);eSt(h);const f=r.db.getRootDoc();P1e(f,h,void 0,!1,l,u,r);const d=Oo.padding,p=h.node().getBBox(),g=p.width+d*2,m=p.height+d*2,y=g*1.75;ss(h,m,y,Oo.useMaxWidth),h.attr("viewBox",`${p.x-Oo.padding}  ${p.y-Oo.padding} `+g+" "+m)},"draw"),nSt=I(e=>e?e.length*Oo.fontSizeFactor:1,"getLabelWidth"),P1e=I((e,t,n,r,a,o,l)=>{const u=new ls({compound:!0,multigraph:!0});let h,f=!0;for(h=0;h<e.length;h++)if(e[h].stmt==="relation"){f=!1;break}n?u.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:f?1:Oo.edgeLengthFactor,nodeSep:f?1:50,isMultiGraph:!0}):u.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:f?1:Oo.edgeLengthFactor,nodeSep:f?1:50,ranker:"tight-tree",isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}}),l.db.extract(e);const d=l.db.getStates(),p=l.db.getRelations(),g=Object.keys(d);for(const E of g){const w=d[E];n&&(w.parentId=n);let x;if(w.doc){let S=t.append("g").attr("id",w.id).attr("class","stateGroup");x=P1e(w.doc,S,w.id,!r,a,o,l);{S=q4t(S,w,r);let A=S.node().getBBox();x.width=A.width,x.height=A.height+Oo.padding/2,Rk[w.id]={y:Oo.compositTitleSize}}}else x=Sj(t,w,u);if(w.note){const S={descriptions:[],id:w.id+"-note",note:w.note,type:"note"},A=Sj(t,S,u);w.note.position==="left of"?(u.setNode(x.id+"-note",A),u.setNode(x.id,x)):(u.setNode(x.id,x),u.setNode(x.id+"-note",A)),u.setParent(x.id,x.id+"-group"),u.setParent(x.id+"-note",x.id+"-group")}else u.setNode(x.id,x)}ve.debug("Count=",u.nodeCount(),u);let m=0;p.forEach(function(E){m++,ve.debug("Setting edge",E),u.setEdge(E.id1,E.id2,{relation:E,width:nSt(E.title),height:Oo.labelHeight*ot.getRows(E.title).length,labelpos:"c"},"id"+m)}),O6(u),ve.debug("Graph after layout",u.nodes());const y=t.node();u.nodes().forEach(function(E){E!==void 0&&u.node(E)!==void 0?(ve.warn("Node "+E+": "+JSON.stringify(u.node(E))),a.select("#"+y.id+" #"+E).attr("transform","translate("+(u.node(E).x-u.node(E).width/2)+","+(u.node(E).y+(Rk[E]?Rk[E].y:0)-u.node(E).height/2)+" )"),a.select("#"+y.id+" #"+E).attr("data-x-shift",u.node(E).x-u.node(E).width/2),o.querySelectorAll("#"+y.id+" #"+E+" .divider").forEach(x=>{const S=x.parentElement;let A=0,R=0;S&&(S.parentElement&&(A=S.parentElement.getBBox().width),R=parseInt(S.getAttribute("data-x-shift"),10),Number.isNaN(R)&&(R=0)),x.setAttribute("x1",0-R+8),x.setAttribute("x2",A-R-8)})):ve.debug("No Node "+E+": "+JSON.stringify(u.node(E)))});let b=y.getBBox();u.edges().forEach(function(E){E!==void 0&&u.edge(E)!==void 0&&(ve.debug("Edge "+E.v+" -> "+E.w+": "+JSON.stringify(u.edge(E))),Q4t(t,u.edge(E),u.edge(E).relation))}),b=y.getBBox();const T={id:n||"root",label:n||"root",width:0,height:0};return T.width=b.width+2*Oo.padding,T.height=b.height+2*Oo.padding,ve.debug("Doc rendered",T,u),T},"renderDoc"),rSt={setConf:J4t,draw:tSt},iSt={parser:l1e,db:nh,renderer:rSt,styles:D1e,init:I(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,nh.clear()},"init")};const aSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:iSt},Symbol.toStringTag,{value:"Module"}));var sSt={parser:l1e,db:nh,renderer:v4t,styles:D1e,init:I(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,nh.clear()},"init")};const oSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:sSt},Symbol.toStringTag,{value:"Module"}));var $7=function(){var e=I(function(p,g,m,y){for(m=m||{},y=p.length;y--;m[p[y]]=g);return m},"o"),t=[6,8,10,11,12,14,16,17,18],n=[1,9],r=[1,10],a=[1,11],o=[1,12],l=[1,13],u=[1,14],h={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:I(function(g,m,y,b,T,E,w){var x=E.length-1;switch(T){case 1:return E[x-1];case 2:this.$=[];break;case 3:E[x-1].push(E[x]),this.$=E[x-1];break;case 4:case 5:this.$=E[x];break;case 6:case 7:this.$=[];break;case 8:b.setDiagramTitle(E[x].substr(6)),this.$=E[x].substr(6);break;case 9:this.$=E[x].trim(),b.setAccTitle(this.$);break;case 10:case 11:this.$=E[x].trim(),b.setAccDescription(this.$);break;case 12:b.addSection(E[x].substr(8)),this.$=E[x].substr(8);break;case 13:b.addTask(E[x-1],E[x]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:n,12:r,14:a,16:o,17:l,18:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:n,12:r,14:a,16:o,17:l,18:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:I(function(g,m){if(m.recoverable)this.trace(g);else{var y=new Error(g);throw y.hash=m,y}},"parseError"),parse:I(function(g){var m=this,y=[0],b=[],T=[null],E=[],w=this.table,x="",S=0,A=0,R=2,C=1,N=E.slice.call(arguments,1),O=Object.create(this.lexer),L={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(L.yy[k]=this.yy[k]);O.setInput(g,L.yy),L.yy.lexer=O,L.yy.parser=this,typeof O.yylloc>"u"&&(O.yylloc={});var M=O.yylloc;E.push(M);var $=O.options&&O.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _(Q){y.length=y.length-2*Q,T.length=T.length-Q,E.length=E.length-Q}I(_,"popStack");function F(){var Q;return Q=b.pop()||O.lex()||C,typeof Q!="number"&&(Q instanceof Array&&(b=Q,Q=b.pop()),Q=m.symbols_[Q]||Q),Q}I(F,"lex");for(var B,D,P,H,W={},U,V,G,ee;;){if(D=y[y.length-1],this.defaultActions[D]?P=this.defaultActions[D]:((B===null||typeof B>"u")&&(B=F()),P=w[D]&&w[D][B]),typeof P>"u"||!P.length||!P[0]){var ce="";ee=[];for(U in w[D])this.terminals_[U]&&U>R&&ee.push("'"+this.terminals_[U]+"'");O.showPosition?ce="Parse error on line "+(S+1)+`:
`+O.showPosition()+`
Expecting `+ee.join(", ")+", got '"+(this.terminals_[B]||B)+"'":ce="Parse error on line "+(S+1)+": Unexpected "+(B==C?"end of input":"'"+(this.terminals_[B]||B)+"'"),this.parseError(ce,{text:O.match,token:this.terminals_[B]||B,line:O.yylineno,loc:M,expected:ee})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+D+", token: "+B);switch(P[0]){case 1:y.push(B),T.push(O.yytext),E.push(O.yylloc),y.push(P[1]),B=null,A=O.yyleng,x=O.yytext,S=O.yylineno,M=O.yylloc;break;case 2:if(V=this.productions_[P[1]][1],W.$=T[T.length-V],W._$={first_line:E[E.length-(V||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(V||1)].first_column,last_column:E[E.length-1].last_column},$&&(W._$.range=[E[E.length-(V||1)].range[0],E[E.length-1].range[1]]),H=this.performAction.apply(W,[x,A,S,L.yy,P[1],T,E].concat(N)),typeof H<"u")return H;V&&(y=y.slice(0,-1*V*2),T=T.slice(0,-1*V),E=E.slice(0,-1*V)),y.push(this.productions_[P[1]][0]),T.push(W.$),E.push(W._$),G=w[y[y.length-2]][y[y.length-1]],y.push(G);break;case 3:return!0}}return!0},"parse")},f=function(){var p={EOF:1,parseError:I(function(m,y){if(this.yy.parser)this.yy.parser.parseError(m,y);else throw new Error(m)},"parseError"),setInput:I(function(g,m){return this.yy=m||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var m=g.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:I(function(g){var m=g.length,y=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var T=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[T[0],T[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(g){this.unput(this.match.slice(g))},"less"),pastInput:I(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var g=this.pastInput(),m=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:I(function(g,m){var y,b,T;if(this.options.backtrack_lexer&&(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(T.yylloc.range=this.yylloc.range.slice(0))),b=g[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var E in T)this[E]=T[E];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,m,y,b;this._more||(this.yytext="",this.match="");for(var T=this._currentRules(),E=0;E<T.length;E++)if(y=this._input.match(this.rules[T[E]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=E,this.options.backtrack_lexer){if(g=this.test_match(y,T[E]),g!==!1)return g;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(g=this.test_match(m,T[b]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var m=this.next();return m||this.lex()},"lex"),begin:I(function(m){this.conditionStack.push(m)},"begin"),popState:I(function(){var m=this.conditionStack.length-1;return m>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(m){return m=this.conditionStack.length-1-Math.abs(m||0),m>=0?this.conditionStack[m]:"INITIAL"},"topState"),pushState:I(function(m){this.begin(m)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(m,y,b,T){switch(b){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p}();h.lexer=f;function d(){this.yy={}}return I(d,"Parser"),d.prototype=h,h.Parser=d,new d}();$7.parser=$7;var lSt=$7,rv="",LP=[],pT=[],gT=[],cSt=I(function(){LP.length=0,pT.length=0,rv="",gT.length=0,fa()},"clear"),uSt=I(function(e){rv=e,LP.push(e)},"addSection"),hSt=I(function(){return LP},"getSections"),fSt=I(function(){let e=Ij();const t=100;let n=0;for(;!e&&n<t;)e=Ij(),n++;return pT.push(...gT),pT},"getTasks"),dSt=I(function(){const e=[];return pT.forEach(n=>{n.people&&e.push(...n.people)}),[...new Set(e)].sort()},"updateActors"),pSt=I(function(e,t){const n=t.substr(1).split(":");let r=0,a=[];n.length===1?(r=Number(n[0]),a=[]):(r=Number(n[0]),a=n[1].split(","));const o=a.map(u=>u.trim()),l={section:rv,type:rv,people:o,task:e,score:r};gT.push(l)},"addTask"),gSt=I(function(e){const t={section:rv,type:rv,description:e,task:e,classes:[]};pT.push(t)},"addTaskOrg"),Ij=I(function(){const e=I(function(n){return gT[n].processed},"compileTask");let t=!0;for(const[n,r]of gT.entries())e(n),t=t&&r.processed;return t},"compileTasks"),mSt=I(function(){return dSt()},"getActors"),Cj={getConfig:I(()=>Pe().journey,"getConfig"),clear:cSt,setDiagramTitle:Ds,getDiagramTitle:Ma,setAccTitle:da,getAccTitle:La,setAccDescription:_a,getAccDescription:Da,addSection:uSt,getSections:hSt,getTasks:fSt,addTask:pSt,addTaskOrg:gSt,getActors:mSt},vSt=I(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),ySt=vSt,_P=I(function(e,t){return N6(e,t)},"drawRect"),bSt=I(function(e,t){const r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");a.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(h){const f=Pm().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}I(o,"smile");function l(h){const f=Pm().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}I(l,"sad");function u(h){h.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return I(u,"ambivalent"),t.score>3?o(a):t.score<3?l(a):u(a),r},"drawFace"),F1e=I(function(e,t){const n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),n.class!==void 0&&n.attr("class",n.class),t.title!==void 0&&n.append("title").text(t.title),n},"drawCircle"),B1e=I(function(e,t){return ndt(e,t)},"drawText"),TSt=I(function(e,t){function n(a,o,l,u,h){return a+","+o+" "+(a+l)+","+o+" "+(a+l)+","+(o+u-h)+" "+(a+l-h*1.2)+","+(o+u)+" "+a+","+(o+u)}I(n,"genPoints");const r=e.append("polygon");r.attr("points",n(t.x,t.y,50,20,7)),r.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,B1e(e,t)},"drawLabel"),ESt=I(function(e,t,n){const r=e.append("g"),a=Gp();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=n.width*t.taskCount+n.diagramMarginX*(t.taskCount-1),a.height=n.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,_P(r,a),H1e(n)(t.text,r,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},n,t.colour)},"drawSection"),Rj=-1,wSt=I(function(e,t,n){const r=t.x+n.width/2,a=e.append("g");Rj++;const o=300+5*30;a.append("line").attr("id","task"+Rj).attr("x1",r).attr("y1",t.y).attr("x2",r).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),bSt(a,{cx:r,cy:300+(5-t.score)*30,score:t.score});const l=Gp();l.x=t.x,l.y=t.y,l.fill=t.fill,l.width=n.width,l.height=n.height,l.class="task task-type-"+t.num,l.rx=3,l.ry=3,_P(a,l);let u=t.x+14;t.people.forEach(h=>{const f=t.actors[h].color,d={cx:u,cy:t.y,r:7,fill:f,stroke:"#000",title:h,pos:t.actors[h].position};F1e(a,d),u+=10}),H1e(n)(t.task,a,l.x,l.y,l.width,l.height,{class:"task"},n,t.colour)},"drawTask"),xSt=I(function(e,t){G0e(e,t)},"drawBackgroundRect"),H1e=function(){function e(a,o,l,u,h,f,d,p){const g=o.append("text").attr("x",l+h/2).attr("y",u+f/2+5).style("font-color",p).style("text-anchor","middle").text(a);r(g,d)}I(e,"byText");function t(a,o,l,u,h,f,d,p,g){const{taskFontSize:m,taskFontFamily:y}=p,b=a.split(/<br\s*\/?>/gi);for(let T=0;T<b.length;T++){const E=T*m-m*(b.length-1)/2,w=o.append("text").attr("x",l+h/2).attr("y",u).attr("fill",g).style("text-anchor","middle").style("font-size",m).style("font-family",y);w.append("tspan").attr("x",l+h/2).attr("dy",E).text(b[T]),w.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(w,d)}}I(t,"byTspan");function n(a,o,l,u,h,f,d,p){const g=o.append("switch"),y=g.append("foreignObject").attr("x",l).attr("y",u).attr("width",h).attr("height",f).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,l,u,h,f,d,p),r(y,d)}I(n,"byFo");function r(a,o){for(const l in o)l in o&&a.attr(l,o[l])}return I(r,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?n:a.textPlacement==="old"?e:t}}(),SSt=I(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),mT={drawRect:_P,drawCircle:F1e,drawSection:ESt,drawText:B1e,drawLabel:TSt,drawTask:wSt,drawBackgroundRect:xSt,initGraphics:SSt},ASt=I(function(e){Object.keys(e).forEach(function(n){iI[n]=e[n]})},"setConf"),lh={};function $1e(e){const t=Pe().journey;let n=60;Object.keys(lh).forEach(r=>{const a=lh[r].color,o={cx:20,cy:n,r:7,fill:a,stroke:"#000",pos:lh[r].position};mT.drawCircle(e,o);const l={x:40,y:n+7,fill:"#666",text:r,textMargin:t.boxTextMargin|5};mT.drawText(e,l),n+=20})}I($1e,"drawActorLegend");var iI=Pe().journey,yd=iI.leftMargin,ISt=I(function(e,t,n,r){const a=Pe().journey,o=Pe().securityLevel;let l;o==="sandbox"&&(l=it("#i"+t));const u=it(o==="sandbox"?l.nodes()[0].contentDocument.body:"body");il.init();const h=u.select("#"+t);mT.initGraphics(h);const f=r.db.getTasks(),d=r.db.getDiagramTitle(),p=r.db.getActors();for(const E in lh)delete lh[E];let g=0;p.forEach(E=>{lh[E]={color:a.actorColours[g%a.actorColours.length],position:g},g++}),$1e(h),il.insert(0,0,yd,Object.keys(lh).length*50),CSt(h,f,0);const m=il.getBounds();d&&h.append("text").text(d).attr("x",yd).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const y=m.stopy-m.starty+2*a.diagramMarginY,b=yd+m.stopx+2*a.diagramMarginX;ss(h,y,b,a.useMaxWidth),h.append("line").attr("x1",yd).attr("y1",a.height*4).attr("x2",b-yd-4).attr("y2",a.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const T=d?70:0;h.attr("viewBox",`${m.startx} -25 ${b} ${y+T}`),h.attr("preserveAspectRatio","xMinYMin meet"),h.attr("height",y+T+25)},"draw"),il={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:I(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:I(function(e,t,n,r){e[t]===void 0?e[t]=n:e[t]=r(n,e[t])},"updateVal"),updateBounds:I(function(e,t,n,r){const a=Pe().journey,o=this;let l=0;function u(h){return I(function(d){l++;const p=o.sequenceItems.length-l+1;o.updateVal(d,"starty",t-p*a.boxMargin,Math.min),o.updateVal(d,"stopy",r+p*a.boxMargin,Math.max),o.updateVal(il.data,"startx",e-p*a.boxMargin,Math.min),o.updateVal(il.data,"stopx",n+p*a.boxMargin,Math.max),h!=="activation"&&(o.updateVal(d,"startx",e-p*a.boxMargin,Math.min),o.updateVal(d,"stopx",n+p*a.boxMargin,Math.max),o.updateVal(il.data,"starty",t-p*a.boxMargin,Math.min),o.updateVal(il.data,"stopy",r+p*a.boxMargin,Math.max))},"updateItemBounds")}I(u,"updateFn"),this.sequenceItems.forEach(u())},"updateBounds"),insert:I(function(e,t,n,r){const a=Math.min(e,n),o=Math.max(e,n),l=Math.min(t,r),u=Math.max(t,r);this.updateVal(il.data,"startx",a,Math.min),this.updateVal(il.data,"starty",l,Math.min),this.updateVal(il.data,"stopx",o,Math.max),this.updateVal(il.data,"stopy",u,Math.max),this.updateBounds(a,l,o,u)},"insert"),bumpVerticalPos:I(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:I(function(){return this.verticalPos},"getVerticalPos"),getBounds:I(function(){return this.data},"getBounds")},kk=iI.sectionFills,kj=iI.sectionColours,CSt=I(function(e,t,n){const r=Pe().journey;let a="";const o=r.height*2+r.diagramMarginY,l=n+o;let u=0,h="#CCC",f="black",d=0;for(const[p,g]of t.entries()){if(a!==g.section){h=kk[u%kk.length],d=u%kk.length,f=kj[u%kj.length];let y=0;const b=g.section;for(let E=p;E<t.length&&t[E].section==b;E++)y=y+1;const T={x:p*r.taskMargin+p*r.width+yd,y:50,text:g.section,fill:h,num:d,colour:f,taskCount:y};mT.drawSection(e,T,r),a=g.section,u++}const m=g.people.reduce((y,b)=>(lh[b]&&(y[b]=lh[b]),y),{});g.x=p*r.taskMargin+p*r.width+yd,g.y=l,g.width=r.diagramMarginX,g.height=r.diagramMarginY,g.colour=f,g.fill=h,g.num=d,g.actors=m,mT.drawTask(e,g,r),il.insert(g.x,g.y,g.x+g.width+r.taskMargin,300+5*30)}},"drawTasks"),Oj={setConf:ASt,draw:ISt},RSt={parser:lSt,db:Cj,renderer:Oj,styles:ySt,init:I(e=>{Oj.setConf(e.journey),Cj.clear()},"init")};const kSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:RSt},Symbol.toStringTag,{value:"Module"}));var W7=function(){var e=I(function(g,m,y,b){for(y=y||{},b=g.length;b--;y[g[b]]=m);return y},"o"),t=[6,8,10,11,12,14,16,17,20,21],n=[1,9],r=[1,10],a=[1,11],o=[1,12],l=[1,13],u=[1,16],h=[1,17],f={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:I(function(m,y,b,T,E,w,x){var S=w.length-1;switch(E){case 1:return w[S-1];case 2:this.$=[];break;case 3:w[S-1].push(w[S]),this.$=w[S-1];break;case 4:case 5:this.$=w[S];break;case 6:case 7:this.$=[];break;case 8:T.getCommonDb().setDiagramTitle(w[S].substr(6)),this.$=w[S].substr(6);break;case 9:this.$=w[S].trim(),T.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=w[S].trim(),T.getCommonDb().setAccDescription(this.$);break;case 12:T.addSection(w[S].substr(8)),this.$=w[S].substr(8);break;case 15:T.addTask(w[S],0,""),this.$=w[S];break;case 16:T.addEvent(w[S].substr(2)),this.$=w[S];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:n,12:r,14:a,16:o,17:l,18:14,19:15,20:u,21:h},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:n,12:r,14:a,16:o,17:l,18:14,19:15,20:u,21:h},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:I(function(m,y){if(y.recoverable)this.trace(m);else{var b=new Error(m);throw b.hash=y,b}},"parseError"),parse:I(function(m){var y=this,b=[0],T=[],E=[null],w=[],x=this.table,S="",A=0,R=0,C=2,N=1,O=w.slice.call(arguments,1),L=Object.create(this.lexer),k={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(k.yy[M]=this.yy[M]);L.setInput(m,k.yy),k.yy.lexer=L,k.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var $=L.yylloc;w.push($);var _=L.options&&L.options.ranges;typeof k.yy.parseError=="function"?this.parseError=k.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function F(re){b.length=b.length-2*re,E.length=E.length-re,w.length=w.length-re}I(F,"popStack");function B(){var re;return re=T.pop()||L.lex()||N,typeof re!="number"&&(re instanceof Array&&(T=re,re=T.pop()),re=y.symbols_[re]||re),re}I(B,"lex");for(var D,P,H,W,U={},V,G,ee,ce;;){if(P=b[b.length-1],this.defaultActions[P]?H=this.defaultActions[P]:((D===null||typeof D>"u")&&(D=B()),H=x[P]&&x[P][D]),typeof H>"u"||!H.length||!H[0]){var Q="";ce=[];for(V in x[P])this.terminals_[V]&&V>C&&ce.push("'"+this.terminals_[V]+"'");L.showPosition?Q="Parse error on line "+(A+1)+`:
`+L.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[D]||D)+"'":Q="Parse error on line "+(A+1)+": Unexpected "+(D==N?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError(Q,{text:L.match,token:this.terminals_[D]||D,line:L.yylineno,loc:$,expected:ce})}if(H[0]instanceof Array&&H.length>1)throw new Error("Parse Error: multiple actions possible at state: "+P+", token: "+D);switch(H[0]){case 1:b.push(D),E.push(L.yytext),w.push(L.yylloc),b.push(H[1]),D=null,R=L.yyleng,S=L.yytext,A=L.yylineno,$=L.yylloc;break;case 2:if(G=this.productions_[H[1]][1],U.$=E[E.length-G],U._$={first_line:w[w.length-(G||1)].first_line,last_line:w[w.length-1].last_line,first_column:w[w.length-(G||1)].first_column,last_column:w[w.length-1].last_column},_&&(U._$.range=[w[w.length-(G||1)].range[0],w[w.length-1].range[1]]),W=this.performAction.apply(U,[S,R,A,k.yy,H[1],E,w].concat(O)),typeof W<"u")return W;G&&(b=b.slice(0,-1*G*2),E=E.slice(0,-1*G),w=w.slice(0,-1*G)),b.push(this.productions_[H[1]][0]),E.push(U.$),w.push(U._$),ee=x[b[b.length-2]][b[b.length-1]],b.push(ee);break;case 3:return!0}}return!0},"parse")},d=function(){var g={EOF:1,parseError:I(function(y,b){if(this.yy.parser)this.yy.parser.parseError(y,b);else throw new Error(y)},"parseError"),setInput:I(function(m,y){return this.yy=y||this.yy||{},this._input=m,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var m=this._input[0];this.yytext+=m,this.yyleng++,this.offset++,this.match+=m,this.matched+=m;var y=m.match(/(?:\r\n?|\n).*/g);return y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),m},"input"),unput:I(function(m){var y=m.length,b=m.split(/(?:\r\n?|\n)/g);this._input=m+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.offset-=y;var T=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),b.length-1&&(this.yylineno-=b.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===T.length?this.yylloc.first_column:0)+T[T.length-b.length].length-b[0].length:this.yylloc.first_column-y},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-y]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(m){this.unput(this.match.slice(m))},"less"),pastInput:I(function(){var m=this.matched.substr(0,this.matched.length-this.match.length);return(m.length>20?"...":"")+m.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var m=this.match;return m.length<20&&(m+=this._input.substr(0,20-m.length)),(m.substr(0,20)+(m.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var m=this.pastInput(),y=new Array(m.length+1).join("-");return m+this.upcomingInput()+`
`+y+"^"},"showPosition"),test_match:I(function(m,y){var b,T,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),T=m[0].match(/(?:\r\n?|\n).*/g),T&&(this.yylineno+=T.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:T?T[T.length-1].length-T[T.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+m[0].length},this.yytext+=m[0],this.match+=m[0],this.matches=m,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(m[0].length),this.matched+=m[0],b=this.performAction.call(this,this.yy,this,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),b)return b;if(this._backtrack){for(var w in E)this[w]=E[w];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var m,y,b,T;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),w=0;w<E.length;w++)if(b=this._input.match(this.rules[E[w]]),b&&(!y||b[0].length>y[0].length)){if(y=b,T=w,this.options.backtrack_lexer){if(m=this.test_match(b,E[w]),m!==!1)return m;if(this._backtrack){y=!1;continue}else return!1}else if(!this.options.flex)break}return y?(m=this.test_match(y,E[T]),m!==!1?m:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var y=this.next();return y||this.lex()},"lex"),begin:I(function(y){this.conditionStack.push(y)},"begin"),popState:I(function(){var y=this.conditionStack.length-1;return y>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(y){return y=this.conditionStack.length-1-Math.abs(y||0),y>=0?this.conditionStack[y]:"INITIAL"},"topState"),pushState:I(function(y){this.begin(y)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(y,b,T,E){switch(T){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return g}();f.lexer=d;function p(){this.yy={}}return I(p,"Parser"),p.prototype=f,f.Parser=p,new p}();W7.parser=W7;var OSt=W7,W1e={};Zre(W1e,{addEvent:()=>X1e,addSection:()=>Y1e,addTask:()=>j1e,addTaskOrg:()=>K1e,clear:()=>z1e,default:()=>NSt,getCommonDb:()=>G1e,getSections:()=>V1e,getTasks:()=>q1e});var iv="",U1e=0,DP=[],v5=[],av=[],G1e=I(()=>w9,"getCommonDb"),z1e=I(function(){DP.length=0,v5.length=0,iv="",av.length=0,fa()},"clear"),Y1e=I(function(e){iv=e,DP.push(e)},"addSection"),V1e=I(function(){return DP},"getSections"),q1e=I(function(){let e=Nj();const t=100;let n=0;for(;!e&&n<t;)e=Nj(),n++;return v5.push(...av),v5},"getTasks"),j1e=I(function(e,t,n){const r={id:U1e++,section:iv,type:iv,task:e,score:t||0,events:n?[n]:[]};av.push(r)},"addTask"),X1e=I(function(e){av.find(n=>n.id===U1e-1).events.push(e)},"addEvent"),K1e=I(function(e){const t={section:iv,type:iv,description:e,task:e,classes:[]};v5.push(t)},"addTaskOrg"),Nj=I(function(){const e=I(function(n){return av[n].processed},"compileTask");let t=!0;for(const[n,r]of av.entries())e(n),t=t&&r.processed;return t},"compileTasks"),NSt={clear:z1e,getCommonDb:G1e,addSection:Y1e,getSections:V1e,getTasks:q1e,addTask:j1e,addTaskOrg:K1e,addEvent:X1e},LSt=12,aI=I(function(e,t){const n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),t.class!==void 0&&n.attr("class",t.class),n},"drawRect"),_St=I(function(e,t){const r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");a.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(h){const f=Pm().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}I(o,"smile");function l(h){const f=Pm().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);h.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}I(l,"sad");function u(h){h.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return I(u,"ambivalent"),t.score>3?o(a):t.score<3?l(a):u(a),r},"drawFace"),DSt=I(function(e,t){const n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),n.class!==void 0&&n.attr("class",n.class),t.title!==void 0&&n.append("title").text(t.title),n},"drawCircle"),Z1e=I(function(e,t){const n=t.text.replace(/<br\s*\/?>/gi," "),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.attr("class","legend"),r.style("text-anchor",t.anchor),t.class!==void 0&&r.attr("class",t.class);const a=r.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.text(n),r},"drawText"),MSt=I(function(e,t){function n(a,o,l,u,h){return a+","+o+" "+(a+l)+","+o+" "+(a+l)+","+(o+u-h)+" "+(a+l-h*1.2)+","+(o+u)+" "+a+","+(o+u)}I(n,"genPoints");const r=e.append("polygon");r.attr("points",n(t.x,t.y,50,20,7)),r.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,Z1e(e,t)},"drawLabel"),PSt=I(function(e,t,n){const r=e.append("g"),a=MP();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=n.width,a.height=n.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,aI(r,a),Q1e(n)(t.text,r,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},n,t.colour)},"drawSection"),Lj=-1,FSt=I(function(e,t,n){const r=t.x+n.width/2,a=e.append("g");Lj++;const o=300+5*30;a.append("line").attr("id","task"+Lj).attr("x1",r).attr("y1",t.y).attr("x2",r).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),_St(a,{cx:r,cy:300+(5-t.score)*30,score:t.score});const l=MP();l.x=t.x,l.y=t.y,l.fill=t.fill,l.width=n.width,l.height=n.height,l.class="task task-type-"+t.num,l.rx=3,l.ry=3,aI(a,l),Q1e(n)(t.task,a,l.x,l.y,l.width,l.height,{class:"task"},n,t.colour)},"drawTask"),BSt=I(function(e,t){aI(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),HSt=I(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),MP=I(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Q1e=function(){function e(a,o,l,u,h,f,d,p){const g=o.append("text").attr("x",l+h/2).attr("y",u+f/2+5).style("font-color",p).style("text-anchor","middle").text(a);r(g,d)}I(e,"byText");function t(a,o,l,u,h,f,d,p,g){const{taskFontSize:m,taskFontFamily:y}=p,b=a.split(/<br\s*\/?>/gi);for(let T=0;T<b.length;T++){const E=T*m-m*(b.length-1)/2,w=o.append("text").attr("x",l+h/2).attr("y",u).attr("fill",g).style("text-anchor","middle").style("font-size",m).style("font-family",y);w.append("tspan").attr("x",l+h/2).attr("dy",E).text(b[T]),w.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(w,d)}}I(t,"byTspan");function n(a,o,l,u,h,f,d,p){const g=o.append("switch"),y=g.append("foreignObject").attr("x",l).attr("y",u).attr("width",h).attr("height",f).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,l,u,h,f,d,p),r(y,d)}I(n,"byFo");function r(a,o){for(const l in o)l in o&&a.attr(l,o[l])}return I(r,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?n:a.textPlacement==="old"?e:t}}(),$St=I(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function PP(e,t){e.each(function(){var n=it(this),r=n.text().split(/(\s+|<br>)/).reverse(),a,o=[],l=1.1,u=n.attr("y"),h=parseFloat(n.attr("dy")),f=n.text(null).append("tspan").attr("x",0).attr("y",u).attr("dy",h+"em");for(let d=0;d<r.length;d++)a=r[r.length-1-d],o.push(a),f.text(o.join(" ").trim()),(f.node().getComputedTextLength()>t||a==="<br>")&&(o.pop(),f.text(o.join(" ").trim()),a==="<br>"?o=[""]:o=[a],f=n.append("tspan").attr("x",0).attr("y",u).attr("dy",l+"em").text(a))})}I(PP,"wrap");var WSt=I(function(e,t,n,r){var p;const a=n%LSt-1,o=e.append("g");t.section=a,o.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+a));const l=o.append("g"),u=o.append("g"),f=u.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(PP,t.width).node().getBBox(),d=(p=r.fontSize)!=null&&p.replace?r.fontSize.replace("px",""):r.fontSize;return t.height=f.height+d*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,u.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),GSt(l,t,a,r),t},"drawNode"),USt=I(function(e,t,n){var u;const r=e.append("g"),o=r.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(PP,t.width).node().getBBox(),l=(u=n.fontSize)!=null&&u.replace?n.fontSize.replace("px",""):n.fontSize;return r.remove(),o.height+l*1.1*.5+t.padding},"getVirtualNodeHeight"),GSt=I(function(e,t,n){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),bd={drawRect:aI,drawCircle:DSt,drawSection:PSt,drawText:Z1e,drawLabel:MSt,drawTask:FSt,drawBackgroundRect:BSt,getTextObj:HSt,getNoteRect:MP,initGraphics:$St,drawNode:WSt,getVirtualNodeHeight:USt},zSt=I(function(e,t,n,r){var O,L;const a=Pe(),o=a.leftMargin??50;ve.debug("timeline",r.db);const l=a.securityLevel;let u;l==="sandbox"&&(u=it("#i"+t));const f=it(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select("#"+t);f.append("g");const d=r.db.getTasks(),p=r.db.getCommonDb().getDiagramTitle();ve.debug("task",d),bd.initGraphics(f);const g=r.db.getSections();ve.debug("sections",g);let m=0,y=0,b=0,T=0,E=50+o,w=50;T=50;let x=0,S=!0;g.forEach(function(k){const M={number:x,descr:k,section:x,width:150,padding:20,maxHeight:m},$=bd.getVirtualNodeHeight(f,M,a);ve.debug("sectionHeight before draw",$),m=Math.max(m,$+20)});let A=0,R=0;ve.debug("tasks.length",d.length);for(const[k,M]of d.entries()){const $={number:k,descr:M,section:M.section,width:150,padding:20,maxHeight:y},_=bd.getVirtualNodeHeight(f,$,a);ve.debug("taskHeight before draw",_),y=Math.max(y,_+20),A=Math.max(A,M.events.length);let F=0;for(const B of M.events){const D={descr:B,section:M.section,number:M.section,width:150,padding:20,maxHeight:50};F+=bd.getVirtualNodeHeight(f,D,a)}R=Math.max(R,F)}ve.debug("maxSectionHeight before draw",m),ve.debug("maxTaskHeight before draw",y),g&&g.length>0?g.forEach(k=>{const M=d.filter(B=>B.section===k),$={number:x,descr:k,section:x,width:200*Math.max(M.length,1)-50,padding:20,maxHeight:m};ve.debug("sectionNode",$);const _=f.append("g"),F=bd.drawNode(_,$,x,a);ve.debug("sectionNode output",F),_.attr("transform",`translate(${E}, ${T})`),w+=m+50,M.length>0&&_j(f,M,x,E,w,y,a,A,R,m,!1),E+=200*Math.max(M.length,1),w=T,x++}):(S=!1,_j(f,d,x,E,w,y,a,A,R,m,!0));const C=f.node().getBBox();ve.debug("bounds",C),p&&f.append("text").text(p).attr("x",C.width/2-o).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),b=S?m+y+150:y+100,f.append("g").attr("class","lineWrapper").append("line").attr("x1",o).attr("y1",b).attr("x2",C.width+3*o).attr("y2",b).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),kv(void 0,f,((O=a.timeline)==null?void 0:O.padding)??50,((L=a.timeline)==null?void 0:L.useMaxWidth)??!1)},"draw"),_j=I(function(e,t,n,r,a,o,l,u,h,f,d){var p;for(const g of t){const m={descr:g.task,section:n,number:n,width:150,padding:20,maxHeight:o};ve.debug("taskNode",m);const y=e.append("g").attr("class","taskWrapper"),T=bd.drawNode(y,m,n,l).height;if(ve.debug("taskHeight after draw",T),y.attr("transform",`translate(${r}, ${a})`),o=Math.max(o,T),g.events){const E=e.append("g").attr("class","lineWrapper");let w=o;a+=100,w=w+YSt(e,g.events,n,r,a,l),a-=100,E.append("line").attr("x1",r+190/2).attr("y1",a+o).attr("x2",r+190/2).attr("y2",a+o+(d?o:f)+h+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}r=r+200,d&&!((p=l.timeline)!=null&&p.disableMulticolor)&&n++}a=a-10},"drawTasks"),YSt=I(function(e,t,n,r,a,o){let l=0;const u=a;a=a+100;for(const h of t){const f={descr:h,section:n,number:n,width:150,padding:20,maxHeight:50};ve.debug("eventNode",f);const d=e.append("g").attr("class","eventWrapper"),g=bd.drawNode(d,f,n,o).height;l=l+g,d.attr("transform",`translate(${r}, ${a})`),a=a+10+g}return a=u,l},"drawEvents"),VSt={setConf:I(()=>{},"setConf"),draw:zSt},qSt=I(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],Sf(e["lineColor"+n])?e["lineColor"+n]=Dt(e["lineColor"+n],20):e["lineColor"+n]=Gt(e["lineColor"+n],20);for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const r=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} path  {
      fill: ${e["cScale"+n]};
    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${r};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+n]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),jSt=I(e=>`
  .edge {
    stroke-width: 3;
  }
  ${qSt(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),XSt=jSt,KSt={db:W1e,renderer:VSt,parser:OSt,styles:XSt};const ZSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:KSt},Symbol.toStringTag,{value:"Module"}));function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function Lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QSt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e,t,n){return t&&QSt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J1e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e,t){return e5t(e)||n5t(e,t)||FP(e,t)||i5t()}function eme(e){return JSt(e)||t5t(e)||FP(e)||r5t()}function JSt(e){if(Array.isArray(e))return U7(e)}function e5t(e){if(Array.isArray(e))return e}function t5t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n5t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,u;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(h){o=!0,u=h}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function FP(e,t){if(e){if(typeof e=="string")return U7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U7(e,t)}}function U7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r5t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mo(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=FP(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,u;return{s:function(){n=n.call(e)},n:function(){var h=n.next();return o=h.done,h},e:function(h){l=!0,u=h},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(l)throw u}}}}var Bi=typeof window>"u"?null:window,Dj=Bi?Bi.navigator:null;Bi&&Bi.document;var a5t=Zi(""),tme=Zi({}),s5t=Zi(function(){}),o5t=typeof HTMLElement>"u"?"undefined":Zi(HTMLElement),$E=function(t){return t&&t.instanceString&&Xr(t.instanceString)?t.instanceString():null},zt=function(t){return t!=null&&Zi(t)==a5t},Xr=function(t){return t!=null&&Zi(t)===s5t},hr=function(t){return!Ho(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Hn=function(t){return t!=null&&Zi(t)===tme&&!hr(t)&&t.constructor===Object},l5t=function(t){return t!=null&&Zi(t)===tme},Tt=function(t){return t!=null&&Zi(t)===Zi(1)&&!isNaN(t)},c5t=function(t){return Tt(t)&&Math.floor(t)===t},y5=function(t){if(o5t!=="undefined")return t!=null&&t instanceof HTMLElement},Ho=function(t){return WE(t)||nme(t)},WE=function(t){return $E(t)==="collection"&&t._private.single},nme=function(t){return $E(t)==="collection"&&!t._private.single},BP=function(t){return $E(t)==="core"},rme=function(t){return $E(t)==="stylesheet"},u5t=function(t){return $E(t)==="event"},uf=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},h5t=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},f5t=function(t){return Hn(t)&&Tt(t.x1)&&Tt(t.x2)&&Tt(t.y1)&&Tt(t.y2)},d5t=function(t){return l5t(t)&&Xr(t.then)},p5t=function(){return Dj&&Dj.userAgent.match(/msie|trident|edge/i)},vT=function(t,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);return o.join("$")});var r=function a(){var o=this,l=arguments,u,h=n.apply(o,l),f=a.cache;return(u=f[h])||(u=f[h]=t.apply(o,l)),u};return r.cache={},r},HP=vT(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),sI=vT(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),ime=vT(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Mj=function(t){return uf(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},qi="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",g5t="rgb[a]?\\(("+qi+"[%]?)\\s*,\\s*("+qi+"[%]?)\\s*,\\s*("+qi+"[%]?)(?:\\s*,\\s*("+qi+"))?\\)",m5t="rgb[a]?\\((?:"+qi+"[%]?)\\s*,\\s*(?:"+qi+"[%]?)\\s*,\\s*(?:"+qi+"[%]?)(?:\\s*,\\s*(?:"+qi+"))?\\)",v5t="hsl[a]?\\(("+qi+")\\s*,\\s*("+qi+"[%])\\s*,\\s*("+qi+"[%])(?:\\s*,\\s*("+qi+"))?\\)",y5t="hsl[a]?\\((?:"+qi+")\\s*,\\s*(?:"+qi+"[%])\\s*,\\s*(?:"+qi+"[%])(?:\\s*,\\s*(?:"+qi+"))?\\)",b5t="\\#[0-9a-fA-F]{3}",T5t="\\#[0-9a-fA-F]{6}",ame=function(t,n){return t<n?-1:t>n?1:0},E5t=function(t,n){return-1*ame(t,n)},en=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(r!=null)for(var a=Object.keys(r),o=0;o<a.length;o++){var l=a[o];e[l]=r[l]}}return e},w5t=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var n=t.length===4,r,a,o,l=16;return n?(r=parseInt(t[1]+t[1],l),a=parseInt(t[2]+t[2],l),o=parseInt(t[3]+t[3],l)):(r=parseInt(t[1]+t[2],l),a=parseInt(t[3]+t[4],l),o=parseInt(t[5]+t[6],l)),[r,a,o]}},x5t=function(t){var n,r,a,o,l,u,h,f;function d(y,b,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?y+(b-y)*6*T:T<1/2?b:T<2/3?y+(b-y)*(2/3-T)*6:y}var p=new RegExp("^"+v5t+"$").exec(t);if(p){if(r=parseInt(p[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,a=parseFloat(p[2]),a<0||a>100||(a=a/100,o=parseFloat(p[3]),o<0||o>100)||(o=o/100,l=p[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(a===0)u=h=f=Math.round(o*255);else{var g=o<.5?o*(1+a):o+a-o*a,m=2*o-g;u=Math.round(255*d(m,g,r+1/3)),h=Math.round(255*d(m,g,r)),f=Math.round(255*d(m,g,r-1/3))}n=[u,h,f,l]}return n},S5t=function(t){var n,r=new RegExp("^"+g5t+"$").exec(t);if(r){n=[];for(var a=[],o=1;o<=3;o++){var l=r[o];if(l[l.length-1]==="%"&&(a[o]=!0),l=parseFloat(l),a[o]&&(l=l/100*255),l<0||l>255)return;n.push(Math.floor(l))}var u=a[1]||a[2]||a[3],h=a[1]&&a[2]&&a[3];if(u&&!h)return;var f=r[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;n.push(f)}}return n},A5t=function(t){return I5t[t.toLowerCase()]},sme=function(t){return(hr(t)?t:null)||A5t(t)||w5t(t)||S5t(t)||x5t(t)},I5t={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ome=function(t){for(var n=t.map,r=t.keys,a=r.length,o=0;o<a;o++){var l=r[o];if(Hn(l))throw Error("Tried to set map with object key");o<r.length-1?(n[l]==null&&(n[l]={}),n=n[l]):n[l]=t.value}},lme=function(t){for(var n=t.map,r=t.keys,a=r.length,o=0;o<a;o++){var l=r[o];if(Hn(l))throw Error("Tried to get map with object key");if(n=n[l],n==null)return n}return n};function C5t(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tp=C5t,b2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R5t(e,t){return t={exports:{}},e(t,t.exports),t.exports}var k5t=typeof b2=="object"&&b2&&b2.Object===Object&&b2,O5t=k5t,N5t=typeof self=="object"&&self&&self.Object===Object&&self,L5t=O5t||N5t||Function("return this")(),oI=L5t,_5t=function(){return oI.Date.now()},Ok=_5t,D5t=/\s/;function M5t(e){for(var t=e.length;t--&&D5t.test(e.charAt(t)););return t}var P5t=M5t,F5t=/^\s+/;function B5t(e){return e&&e.slice(0,P5t(e)+1).replace(F5t,"")}var H5t=B5t,$5t=oI.Symbol,sv=$5t,cme=Object.prototype,W5t=cme.hasOwnProperty,U5t=cme.toString,Vy=sv?sv.toStringTag:void 0;function G5t(e){var t=W5t.call(e,Vy),n=e[Vy];try{e[Vy]=void 0;var r=!0}catch{}var a=U5t.call(e);return r&&(t?e[Vy]=n:delete e[Vy]),a}var z5t=G5t,Y5t=Object.prototype,V5t=Y5t.toString;function q5t(e){return V5t.call(e)}var j5t=q5t,X5t="[object Null]",K5t="[object Undefined]",Pj=sv?sv.toStringTag:void 0;function Z5t(e){return e==null?e===void 0?K5t:X5t:Pj&&Pj in Object(e)?z5t(e):j5t(e)}var ume=Z5t;function Q5t(e){return e!=null&&typeof e=="object"}var J5t=Q5t,eAt="[object Symbol]";function tAt(e){return typeof e=="symbol"||J5t(e)&&ume(e)==eAt}var UE=tAt,Fj=NaN,nAt=/^[-+]0x[0-9a-f]+$/i,rAt=/^0b[01]+$/i,iAt=/^0o[0-7]+$/i,aAt=parseInt;function sAt(e){if(typeof e=="number")return e;if(UE(e))return Fj;if(Tp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=H5t(e);var n=rAt.test(e);return n||iAt.test(e)?aAt(e.slice(2),n?2:8):nAt.test(e)?Fj:+e}var Bj=sAt,oAt="Expected a function",lAt=Math.max,cAt=Math.min;function uAt(e,t,n){var r,a,o,l,u,h,f=0,d=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(oAt);t=Bj(t)||0,Tp(n)&&(d=!!n.leading,p="maxWait"in n,o=p?lAt(Bj(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g);function m(R){var C=r,N=a;return r=a=void 0,f=R,l=e.apply(N,C),l}function y(R){return f=R,u=setTimeout(E,t),d?m(R):l}function b(R){var C=R-h,N=R-f,O=t-C;return p?cAt(O,o-N):O}function T(R){var C=R-h,N=R-f;return h===void 0||C>=t||C<0||p&&N>=o}function E(){var R=Ok();if(T(R))return w(R);u=setTimeout(E,b(R))}function w(R){return u=void 0,g&&r?m(R):(r=a=void 0,l)}function x(){u!==void 0&&clearTimeout(u),f=0,r=h=a=u=void 0}function S(){return u===void 0?l:w(Ok())}function A(){var R=Ok(),C=T(R);if(r=arguments,a=this,h=R,C){if(u===void 0)return y(h);if(p)return clearTimeout(u),u=setTimeout(E,t),m(h)}return u===void 0&&(u=setTimeout(E,t)),l}return A.cancel=x,A.flush=S,A}var GE=uAt,Nk=Bi?Bi.performance:null,hme=Nk&&Nk.now?function(){return Nk.now()}:function(){return Date.now()},hAt=function(){if(Bi){if(Bi.requestAnimationFrame)return function(e){Bi.requestAnimationFrame(e)};if(Bi.mozRequestAnimationFrame)return function(e){Bi.mozRequestAnimationFrame(e)};if(Bi.webkitRequestAnimationFrame)return function(e){Bi.webkitRequestAnimationFrame(e)};if(Bi.msRequestAnimationFrame)return function(e){Bi.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(hme())},1e3/60)}}(),b5=function(t){return hAt(t)},Dh=hme,jg=9261,fme=65599,T2=5381,dme=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jg,r=n,a;a=t.next(),!a.done;)r=r*fme+a.value|0;return r},yT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jg;return n*fme+t|0},bT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T2;return(n<<5)+n+t|0},fAt=function(t,n){return t*2097152+n},c0=function(t){return t[0]*2097152+t[1]},E3=function(t,n){return[yT(t[0],n[0]),bT(t[1],n[1])]},dAt=function(t,n){var r={value:0,done:!1},a=0,o=t.length,l={next:function(){return a<o?r.value=t[a++]:r.done=!0,r}};return dme(l,n)},hf=function(t,n){var r={value:0,done:!1},a=0,o=t.length,l={next:function(){return a<o?r.value=t.charCodeAt(a++):r.done=!0,r}};return dme(l,n)},pme=function(){return pAt(arguments)},pAt=function(t){for(var n,r=0;r<t.length;r++){var a=t[r];r===0?n=hf(a):n=hf(a,n)}return n},Hj=!0,gAt=console.warn!=null,mAt=console.trace!=null,$P=Number.MAX_SAFE_INTEGER||9007199254740991,gme=function(){return!0},T5=function(){return!1},$j=function(){return 0},WP=function(){},Vr=function(t){throw new Error(t)},mme=function(t){if(t!==void 0)Hj=!!t;else return Hj},er=function(t){mme()&&(gAt?console.warn(t):(console.log(t),mAt&&console.trace()))},vAt=function(t){return en({},t)},nu=function(t){return t==null?t:hr(t)?t.slice():Hn(t)?vAt(t):t},yAt=function(t){return t.slice()},vme=function(t,n){for(n=t="";t++<36;n+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return n},bAt={},yme=function(){return bAt},ga=function(t){var n=Object.keys(t);return function(r){for(var a={},o=0;o<n.length;o++){var l=n[o],u=r==null?void 0:r[l];a[l]=u===void 0?t[l]:u}return a}},ff=function(t,n,r){for(var a=t.length-1;a>=0;a--)t[a]===n&&t.splice(a,1)},UP=function(t){t.splice(0,t.length)},TAt=function(t,n){for(var r=0;r<n.length;r++){var a=n[r];t.push(a)}},ec=function(t,n,r){return r&&(n=ime(r,n)),t[n]},I0=function(t,n,r,a){r&&(n=ime(r,n)),t[n]=a},EAt=function(){function e(){Lf(this,e),this._obj={}}return _f(e,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}]),e}(),ru=typeof Map<"u"?Map:EAt,wAt="undefined",xAt=function(){function e(t){if(Lf(this,e),this._obj=Object.create(null),this.size=0,t!=null){var n;t.instanceString!=null&&t.instanceString()===this.instanceString()?n=t.toArray():n=t;for(var r=0;r<n.length;r++)this.add(n[r])}}return _f(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}]),e}(),jv=(typeof Set>"u"?"undefined":Zi(Set))!==wAt?Set:xAt,lI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||n===void 0||!BP(t)){Vr("An element must have a core reference and parameters set");return}var a=n.group;if(a==null&&(n.data&&n.data.source!=null&&n.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Vr("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var o=this._private={cy:t,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?a==="edges":!!n.pannable,active:!1,classes:new jv,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),n.renderedPosition){var l=n.renderedPosition,u=t.pan(),h=t.zoom();o.position={x:(l.x-u.x)/h,y:(l.y-u.y)/h}}var f=[];hr(n.classes)?f=n.classes:zt(n.classes)&&(f=n.classes.split(/\s+/));for(var d=0,p=f.length;d<p;d++){var g=f[d];!g||g===""||o.classes.add(g)}this.createEmitter();var m=n.style||n.css;m&&(er("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(r===void 0||r)&&this.restore()},Wj=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(r,a,o){var l;Hn(r)&&!Ho(r)&&(l=r,r=l.roots||l.root,a=l.visit,o=l.directed),o=arguments.length===2&&!Xr(a)?a:o,a=Xr(a)?a:function(){};for(var u=this._private.cy,h=r=zt(r)?this.filter(r):r,f=[],d=[],p={},g={},m={},y=0,b,T=this.byGroup(),E=T.nodes,w=T.edges,x=0;x<h.length;x++){var S=h[x],A=S.id();S.isNode()&&(f.unshift(S),t.bfs&&(m[A]=!0,d.push(S)),g[A]=0)}for(var R=function(){var $=t.bfs?f.shift():f.pop(),_=$.id();if(t.dfs){if(m[_])return"continue";m[_]=!0,d.push($)}var F=g[_],B=p[_],D=B!=null?B.source():null,P=B!=null?B.target():null,H=B==null?void 0:$.same(D)?P[0]:D[0],W=void 0;if(W=a($,B,H,y++,F),W===!0)return b=$,"break";if(W===!1)return"break";for(var U=$.connectedEdges().filter(function(Q){return(!o||Q.source().same($))&&w.has(Q)}),V=0;V<U.length;V++){var G=U[V],ee=G.connectedNodes().filter(function(Q){return!Q.same($)&&E.has(Q)}),ce=ee.id();ee.length!==0&&!m[ce]&&(ee=ee[0],f.push(ee),t.bfs&&(m[ce]=!0,d.push(ee)),p[ce]=G,g[ce]=g[_]+1)}};f.length!==0;){var C=R();if(C!=="continue"&&C==="break")break}for(var N=u.collection(),O=0;O<d.length;O++){var L=d[O],k=p[L.id()];k!=null&&N.push(k),N.push(L)}return{path:u.collection(N),found:u.collection(b)}}},TT={breadthFirstSearch:Wj({bfs:!0}),depthFirstSearch:Wj({dfs:!0})};TT.bfs=TT.breadthFirstSearch;TT.dfs=TT.depthFirstSearch;var SAt=R5t(function(e,t){(function(){var n,r,a,o,l,u,h,f,d,p,g,m,y,b,T;a=Math.floor,p=Math.min,r=function(E,w){return E<w?-1:E>w?1:0},d=function(E,w,x,S,A){var R;if(x==null&&(x=0),A==null&&(A=r),x<0)throw new Error("lo must be non-negative");for(S==null&&(S=E.length);x<S;)R=a((x+S)/2),A(w,E[R])<0?S=R:x=R+1;return[].splice.apply(E,[x,x-x].concat(w)),w},u=function(E,w,x){return x==null&&(x=r),E.push(w),b(E,0,E.length-1,x)},l=function(E,w){var x,S;return w==null&&(w=r),x=E.pop(),E.length?(S=E[0],E[0]=x,T(E,0,w)):S=x,S},f=function(E,w,x){var S;return x==null&&(x=r),S=E[0],E[0]=w,T(E,0,x),S},h=function(E,w,x){var S;return x==null&&(x=r),E.length&&x(E[0],w)<0&&(S=[E[0],w],w=S[0],E[0]=S[1],T(E,0,x)),w},o=function(E,w){var x,S,A,R,C,N;for(w==null&&(w=r),R=(function(){N=[];for(var O=0,L=a(E.length/2);0<=L?O<L:O>L;0<=L?O++:O--)N.push(O);return N}).apply(this).reverse(),C=[],S=0,A=R.length;S<A;S++)x=R[S],C.push(T(E,x,w));return C},y=function(E,w,x){var S;if(x==null&&(x=r),S=E.indexOf(w),S!==-1)return b(E,0,S,x),T(E,S,x)},g=function(E,w,x){var S,A,R,C,N;if(x==null&&(x=r),A=E.slice(0,w),!A.length)return A;for(o(A,x),N=E.slice(w),R=0,C=N.length;R<C;R++)S=N[R],h(A,S,x);return A.sort(x).reverse()},m=function(E,w,x){var S,A,R,C,N,O,L,k,M;if(x==null&&(x=r),w*10<=E.length){if(R=E.slice(0,w).sort(x),!R.length)return R;for(A=R[R.length-1],L=E.slice(w),C=0,O=L.length;C<O;C++)S=L[C],x(S,A)<0&&(d(R,S,0,null,x),R.pop(),A=R[R.length-1]);return R}for(o(E,x),M=[],N=0,k=p(w,E.length);0<=k?N<k:N>k;0<=k?++N:--N)M.push(l(E,x));return M},b=function(E,w,x,S){var A,R,C;for(S==null&&(S=r),A=E[x];x>w;){if(C=x-1>>1,R=E[C],S(A,R)<0){E[x]=R,x=C;continue}break}return E[x]=A},T=function(E,w,x){var S,A,R,C,N;for(x==null&&(x=r),A=E.length,N=w,R=E[w],S=2*w+1;S<A;)C=S+1,C<A&&!(x(E[S],E[C])<0)&&(S=C),E[w]=E[S],w=S,S=2*w+1;return E[w]=R,b(E,N,w,x)},n=function(){E.push=u,E.pop=l,E.replace=f,E.pushpop=h,E.heapify=o,E.updateItem=y,E.nlargest=g,E.nsmallest=m;function E(w){this.cmp=w??r,this.nodes=[]}return E.prototype.push=function(w){return u(this.nodes,w,this.cmp)},E.prototype.pop=function(){return l(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},E.prototype.replace=function(w){return f(this.nodes,w,this.cmp)},E.prototype.pushpop=function(w){return h(this.nodes,w,this.cmp)},E.prototype.heapify=function(){return o(this.nodes,this.cmp)},E.prototype.updateItem=function(w){return y(this.nodes,w,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var w;return w=new E,w.nodes=this.nodes.slice(0),w},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,w){return e.exports=w()}(this,function(){return n})}).call(b2)}),zE=SAt,AAt=ga({root:null,weight:function(t){return 1},directed:!1}),IAt={dijkstra:function(t){if(!Hn(t)){var n=arguments;t={root:n[0],weight:n[1],directed:n[2]}}var r=AAt(t),a=r.root,o=r.weight,l=r.directed,u=this,h=o,f=zt(a)?this.filter(a)[0]:a[0],d={},p={},g={},m=this.byGroup(),y=m.nodes,b=m.edges;b.unmergeBy(function(F){return F.isLoop()});for(var T=function(B){return d[B.id()]},E=function(B,D){d[B.id()]=D,w.updateItem(B)},w=new zE(function(F,B){return T(F)-T(B)}),x=0;x<y.length;x++){var S=y[x];d[S.id()]=S.same(f)?0:1/0,w.push(S)}for(var A=function(B,D){for(var P=(l?B.edgesTo(D):B.edgesWith(D)).intersect(b),H=1/0,W,U=0;U<P.length;U++){var V=P[U],G=h(V);(G<H||!W)&&(H=G,W=V)}return{edge:W,dist:H}};w.size()>0;){var R=w.pop(),C=T(R),N=R.id();if(g[N]=C,C!==1/0)for(var O=R.neighborhood().intersect(y),L=0;L<O.length;L++){var k=O[L],M=k.id(),$=A(R,k),_=C+$.dist;_<T(k)&&(E(k,_),p[M]={node:R,edge:$.edge})}}return{distanceTo:function(B){var D=zt(B)?y.filter(B)[0]:B[0];return g[D.id()]},pathTo:function(B){var D=zt(B)?y.filter(B)[0]:B[0],P=[],H=D,W=H.id();if(D.length>0)for(P.unshift(D);p[W];){var U=p[W];P.unshift(U.edge),P.unshift(U.node),H=U.node,W=H.id()}return u.spawn(P)}}}},CAt={kruskal:function(t){t=t||function(x){return 1};for(var n=this.byGroup(),r=n.nodes,a=n.edges,o=r.length,l=new Array(o),u=r,h=function(S){for(var A=0;A<l.length;A++){var R=l[A];if(R.has(S))return A}},f=0;f<o;f++)l[f]=this.spawn(r[f]);for(var d=a.sort(function(x,S){return t(x)-t(S)}),p=0;p<d.length;p++){var g=d[p],m=g.source()[0],y=g.target()[0],b=h(m),T=h(y),E=l[b],w=l[T];b!==T&&(u.merge(g),E.merge(w),l.splice(T,1))}return u}},RAt=ga({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),kAt={aStar:function(t){var n=this.cy(),r=RAt(t),a=r.root,o=r.goal,l=r.heuristic,u=r.directed,h=r.weight;a=n.collection(a)[0],o=n.collection(o)[0];var f=a.id(),d=o.id(),p={},g={},m={},y=new zE(function(W,U){return g[W.id()]-g[U.id()]}),b=new jv,T={},E={},w=function(U,V){y.push(U),b.add(V)},x,S,A=function(){x=y.pop(),S=x.id(),b.delete(S)},R=function(U){return b.has(U)};w(a,f),p[f]=0,g[f]=l(a);for(var C=0;y.size()>0;){if(A(),C++,S===d){for(var N=[],O=o,L=d,k=E[L];N.unshift(O),k!=null&&N.unshift(k),O=T[L],O!=null;)L=O.id(),k=E[L];return{found:!0,distance:p[S],path:this.spawn(N),steps:C}}m[S]=!0;for(var M=x._private.edges,$=0;$<M.length;$++){var _=M[$];if(this.hasElementWithId(_.id())&&!(u&&_.data("source")!==S)){var F=_.source(),B=_.target(),D=F.id()!==S?F:B,P=D.id();if(this.hasElementWithId(P)&&!m[P]){var H=p[S]+h(_);if(!R(P)){p[P]=H,g[P]=H+l(D),w(D,P),T[P]=x,E[P]=_;continue}H<p[P]&&(p[P]=H,g[P]=H+l(D),T[P]=x,E[P]=_)}}}}return{found:!1,distance:void 0,path:void 0,steps:C}}},OAt=ga({weight:function(t){return 1},directed:!1}),NAt={floydWarshall:function(t){for(var n=this.cy(),r=OAt(t),a=r.weight,o=r.directed,l=a,u=this.byGroup(),h=u.nodes,f=u.edges,d=h.length,p=d*d,g=function(G){return h.indexOf(G)},m=function(G){return h[G]},y=new Array(p),b=0;b<p;b++){var T=b%d,E=(b-T)/d;E===T?y[b]=0:y[b]=1/0}for(var w=new Array(p),x=new Array(p),S=0;S<f.length;S++){var A=f[S],R=A.source()[0],C=A.target()[0];if(R!==C){var N=g(R),O=g(C),L=N*d+O,k=l(A);if(y[L]>k&&(y[L]=k,w[L]=O,x[L]=A),!o){var M=O*d+N;!o&&y[M]>k&&(y[M]=k,w[M]=N,x[M]=A)}}}for(var $=0;$<d;$++)for(var _=0;_<d;_++)for(var F=_*d+$,B=0;B<d;B++){var D=_*d+B,P=$*d+B;y[F]+y[P]<y[D]&&(y[D]=y[F]+y[P],w[D]=w[F])}var H=function(G){return(zt(G)?n.filter(G):G)[0]},W=function(G){return g(H(G))},U={distance:function(G,ee){var ce=W(G),Q=W(ee);return y[ce*d+Q]},path:function(G,ee){var ce=W(G),Q=W(ee),re=m(ce);if(ce===Q)return re.collection();if(w[ce*d+Q]==null)return n.collection();var le=n.collection(),Y=ce,K;for(le.merge(re);ce!==Q;)Y=ce,ce=w[ce*d+Q],K=x[Y*d+ce],le.merge(K),le.merge(m(ce));return le}};return U}},LAt=ga({weight:function(t){return 1},directed:!1,root:null}),_At={bellmanFord:function(t){var n=this,r=LAt(t),a=r.weight,o=r.directed,l=r.root,u=a,h=this,f=this.cy(),d=this.byGroup(),p=d.edges,g=d.nodes,m=g.length,y=new ru,b=!1,T=[];l=f.collection(l)[0],p.unmergeBy(function(he){return he.isLoop()});for(var E=p.length,w=function(oe){var de=y.get(oe.id());return de||(de={},y.set(oe.id(),de)),de},x=function(oe){return(zt(oe)?f.$(oe):oe)[0]},S=function(oe){return w(x(oe)).dist},A=function(oe){for(var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,be=x(oe),fe=[],Ie=be;;){if(Ie==null)return n.spawn();var Re=w(Ie),ke=Re.edge,De=Re.pred;if(fe.unshift(Ie[0]),Ie.same(de)&&fe.length>0)break;ke!=null&&fe.unshift(ke),Ie=De}return h.spawn(fe)},R=0;R<m;R++){var C=g[R],N=w(C);C.same(l)?N.dist=0:N.dist=1/0,N.pred=null,N.edge=null}for(var O=!1,L=function(oe,de,be,fe,Ie,Re){var ke=fe.dist+Re;ke<Ie.dist&&!be.same(fe.edge)&&(Ie.dist=ke,Ie.pred=oe,Ie.edge=be,O=!0)},k=1;k<m;k++){O=!1;for(var M=0;M<E;M++){var $=p[M],_=$.source(),F=$.target(),B=u($),D=w(_),P=w(F);L(_,F,$,D,P,B),o||L(F,_,$,P,D,B)}if(!O)break}if(O)for(var H=[],W=0;W<E;W++){var U=p[W],V=U.source(),G=U.target(),ee=u(U),ce=w(V).dist,Q=w(G).dist;if(ce+ee<Q||!o&&Q+ee<ce)if(b||(er("Graph contains a negative weight cycle for Bellman-Ford"),b=!0),t.findNegativeWeightCycles!==!1){var re=[];ce+ee<Q&&re.push(V),!o&&Q+ee<ce&&re.push(G);for(var le=re.length,Y=0;Y<le;Y++){var K=re[Y],Z=[K];Z.push(w(K).edge);for(var z=w(K).pred;Z.indexOf(z)===-1;)Z.push(z),Z.push(w(z).edge),z=w(z).pred;Z=Z.slice(Z.indexOf(z));for(var X=Z[0].id(),te=0,ne=2;ne<Z.length;ne+=2)Z[ne].id()<X&&(X=Z[ne].id(),te=ne);Z=Z.slice(te).concat(Z.slice(0,te)),Z.push(Z[0]);var Ae=Z.map(function(he){return he.id()}).join(",");H.indexOf(Ae)===-1&&(T.push(h.spawn(Z)),H.push(Ae))}}else break}return{distanceTo:S,pathTo:A,hasNegativeWeightCycle:b,negativeWeightCycles:T}}},DAt=Math.sqrt(2),MAt=function(t,n,r){r.length===0&&Vr("Karger-Stein must be run on a connected (sub)graph");for(var a=r[t],o=a[1],l=a[2],u=n[o],h=n[l],f=r,d=f.length-1;d>=0;d--){var p=f[d],g=p[1],m=p[2];(n[g]===u&&n[m]===h||n[g]===h&&n[m]===u)&&f.splice(d,1)}for(var y=0;y<f.length;y++){var b=f[y];b[1]===h?(f[y]=b.slice(),f[y][1]=u):b[2]===h&&(f[y]=b.slice(),f[y][2]=u)}for(var T=0;T<n.length;T++)n[T]===h&&(n[T]=u);return f},Lk=function(t,n,r,a){for(;r>a;){var o=Math.floor(Math.random()*n.length);n=MAt(o,t,n),r--}return n},PAt={kargerStein:function(){var t=this,n=this.byGroup(),r=n.nodes,a=n.edges;a.unmergeBy(function(P){return P.isLoop()});var o=r.length,l=a.length,u=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),h=Math.floor(o/DAt);if(o<2){Vr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],d=0;d<l;d++){var p=a[d];f.push([d,r.indexOf(p.source()),r.indexOf(p.target())])}for(var g=1/0,m=[],y=new Array(o),b=new Array(o),T=new Array(o),E=function(H,W){for(var U=0;U<o;U++)W[U]=H[U]},w=0;w<=u;w++){for(var x=0;x<o;x++)b[x]=x;var S=Lk(b,f.slice(),o,h),A=S.slice();E(b,T);var R=Lk(b,S,h,2),C=Lk(T,A,h,2);R.length<=C.length&&R.length<g?(g=R.length,m=R,E(b,y)):C.length<=R.length&&C.length<g&&(g=C.length,m=C,E(T,y))}for(var N=this.spawn(m.map(function(P){return a[P[0]]})),O=this.spawn(),L=this.spawn(),k=y[0],M=0;M<y.length;M++){var $=y[M],_=r[M];$===k?O.merge(_):L.merge(_)}var F=function(H){var W=t.spawn();return H.forEach(function(U){W.merge(U),U.connectedEdges().forEach(function(V){t.contains(V)&&!N.contains(V)&&W.merge(V)})}),W},B=[F(O),F(L)],D={cut:N,components:B,partition1:O,partition2:L};return D}},FAt=function(t){return{x:t.x,y:t.y}},cI=function(t,n,r){return{x:t.x*n+r.x,y:t.y*n+r.y}},bme=function(t,n,r){return{x:(t.x-r.x)/n,y:(t.y-r.y)/n}},Xg=function(t){return{x:t[0],y:t[1]}},BAt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,o=n;o<r;o++){var l=t[o];isFinite(l)&&(a=Math.min(l,a))}return a},HAt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,o=n;o<r;o++){var l=t[o];isFinite(l)&&(a=Math.max(l,a))}return a},$At=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,o=0,l=n;l<r;l++){var u=t[l];isFinite(u)&&(a+=u,o++)}return a/o},WAt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(n,r):(r<t.length&&t.splice(r,t.length-r),n>0&&t.splice(0,n));for(var u=0,h=t.length-1;h>=0;h--){var f=t[h];l?isFinite(f)||(t[h]=-1/0,u++):t.splice(h,1)}o&&t.sort(function(g,m){return g-m});var d=t.length,p=Math.floor(d/2);return d%2!==0?t[p+1+u]:(t[p-1+u]+t[p+u])/2},UAt=function(t){return Math.PI*t/180},w3=function(t,n){return Math.atan2(n,t)-Math.PI/2},GP=Math.log2||function(e){return Math.log(e)/Math.log(2)},Tme=function(t){return t>0?1:t<0?-1:0},Ep=function(t,n){return Math.sqrt(ld(t,n))},ld=function(t,n){var r=n.x-t.x,a=n.y-t.y;return r*r+a*a},GAt=function(t){for(var n=t.length,r=0,a=0;a<n;a++)r+=t[a];for(var o=0;o<n;o++)t[o]=t[o]/r;return t},na=function(t,n,r,a){return(1-a)*(1-a)*t+2*(1-a)*a*n+a*a*r},A1=function(t,n,r,a){return{x:na(t.x,n.x,r.x,a),y:na(t.y,n.y,r.y,a)}},zAt=function(t,n,r,a){var o={x:n.x-t.x,y:n.y-t.y},l=Ep(t,n),u={x:o.x/l,y:o.y/l};return r=r??0,a=a??r*l,{x:t.x+u.x*a,y:t.y+u.y*a}},ET=function(t,n,r){return Math.max(t,Math.min(r,n))},ho=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},YAt=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},VAt=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},qAt=function(t,n,r){return{x1:t.x1+n,x2:t.x2+n,y1:t.y1+r,y2:t.y2+r,w:t.w,h:t.h}},Eme=function(t,n){t.x1=Math.min(t.x1,n.x1),t.x2=Math.max(t.x2,n.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n.y1),t.y2=Math.max(t.y2,n.y2),t.h=t.y2-t.y1},jAt=function(t,n,r){t.x1=Math.min(t.x1,n),t.x2=Math.max(t.x2,n),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r),t.y2=Math.max(t.y2,r),t.h=t.y2-t.y1},Bx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=n,t.x2+=n,t.y1-=n,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Hx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,a,o,l;if(n.length===1)r=a=o=l=n[0];else if(n.length===2)r=o=n[0],l=a=n[1];else if(n.length===4){var u=sa(n,4);r=u[0],a=u[1],o=u[2],l=u[3]}return t.x1-=l,t.x2+=a,t.y1-=r,t.y2+=o,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Uj=function(t,n){t.x1=n.x1,t.y1=n.y1,t.x2=n.x2,t.y2=n.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},zP=function(t,n){return!(t.x1>n.x2||n.x1>t.x2||t.x2<n.x1||n.x2<t.x1||t.y2<n.y1||n.y2<t.y1||t.y1>n.y2||n.y1>t.y2)},ov=function(t,n,r){return t.x1<=n&&n<=t.x2&&t.y1<=r&&r<=t.y2},XAt=function(t,n){return ov(t,n.x,n.y)},wme=function(t,n){return ov(t,n.x1,n.y1)&&ov(t,n.x2,n.y2)},xme=function(t,n,r,a,o,l,u){var h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=h==="auto"?wp(o,l):h,d=o/2,p=l/2;f=Math.min(f,d,p);var g=f!==d,m=f!==p,y;if(g){var b=r-d+f-u,T=a-p-u,E=r+d-f+u,w=T;if(y=_0(t,n,r,a,b,T,E,w,!1),y.length>0)return y}if(m){var x=r+d+u,S=a-p+f-u,A=x,R=a+p-f+u;if(y=_0(t,n,r,a,x,S,A,R,!1),y.length>0)return y}if(g){var C=r-d+f-u,N=a+p+u,O=r+d-f+u,L=N;if(y=_0(t,n,r,a,C,N,O,L,!1),y.length>0)return y}if(m){var k=r-d-u,M=a-p+f-u,$=k,_=a+p-f+u;if(y=_0(t,n,r,a,k,M,$,_,!1),y.length>0)return y}var F;{var B=r-d+f,D=a-p+f;if(F=E2(t,n,r,a,B,D,f+u),F.length>0&&F[0]<=B&&F[1]<=D)return[F[0],F[1]]}{var P=r+d-f,H=a-p+f;if(F=E2(t,n,r,a,P,H,f+u),F.length>0&&F[0]>=P&&F[1]<=H)return[F[0],F[1]]}{var W=r+d-f,U=a+p-f;if(F=E2(t,n,r,a,W,U,f+u),F.length>0&&F[0]>=W&&F[1]>=U)return[F[0],F[1]]}{var V=r-d+f,G=a+p-f;if(F=E2(t,n,r,a,V,G,f+u),F.length>0&&F[0]<=V&&F[1]>=G)return[F[0],F[1]]}return[]},KAt=function(t,n,r,a,o,l,u){var h=u,f=Math.min(r,o),d=Math.max(r,o),p=Math.min(a,l),g=Math.max(a,l);return f-h<=t&&t<=d+h&&p-h<=n&&n<=g+h},ZAt=function(t,n,r,a,o,l,u,h,f){var d={x1:Math.min(r,u,o)-f,x2:Math.max(r,u,o)+f,y1:Math.min(a,h,l)-f,y2:Math.max(a,h,l)+f};return!(t<d.x1||t>d.x2||n<d.y1||n>d.y2)},QAt=function(t,n,r,a){r-=a;var o=n*n-4*t*r;if(o<0)return[];var l=Math.sqrt(o),u=2*t,h=(-n+l)/u,f=(-n-l)/u;return[h,f]},JAt=function(t,n,r,a,o){var l=1e-5;t===0&&(t=l),n/=t,r/=t,a/=t;var u,h,f,d,p,g,m,y;if(h=(3*r-n*n)/9,f=-(27*a)+n*(9*r-2*(n*n)),f/=54,u=h*h*h+f*f,o[1]=0,m=n/3,u>0){p=f+Math.sqrt(u),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),g=f-Math.sqrt(u),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),o[0]=-m+p+g,m+=(p+g)/2,o[4]=o[2]=-m,m=Math.sqrt(3)*(-g+p)/2,o[3]=m,o[5]=-m;return}if(o[5]=o[3]=0,u===0){y=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),o[0]=-m+2*y,o[4]=o[2]=-(y+m);return}h=-h,d=h*h*h,d=Math.acos(f/Math.sqrt(d)),y=2*Math.sqrt(h),o[0]=-m+y*Math.cos(d/3),o[2]=-m+y*Math.cos((d+2*Math.PI)/3),o[4]=-m+y*Math.cos((d+4*Math.PI)/3)},e6t=function(t,n,r,a,o,l,u,h){var f=1*r*r-4*r*o+2*r*u+4*o*o-4*o*u+u*u+a*a-4*a*l+2*a*h+4*l*l-4*l*h+h*h,d=1*9*r*o-3*r*r-3*r*u-6*o*o+3*o*u+9*a*l-3*a*a-3*a*h-6*l*l+3*l*h,p=1*3*r*r-6*r*o+r*u-r*t+2*o*o+2*o*t-u*t+3*a*a-6*a*l+a*h-a*n+2*l*l+2*l*n-h*n,g=1*r*o-r*r+r*t-o*t+a*l-a*a+a*n-l*n,m=[];JAt(f,d,p,g,m);for(var y=1e-7,b=[],T=0;T<6;T+=2)Math.abs(m[T+1])<y&&m[T]>=0&&m[T]<=1&&b.push(m[T]);b.push(1),b.push(0);for(var E=-1,w,x,S,A=0;A<b.length;A++)w=Math.pow(1-b[A],2)*r+2*(1-b[A])*b[A]*o+b[A]*b[A]*u,x=Math.pow(1-b[A],2)*a+2*(1-b[A])*b[A]*l+b[A]*b[A]*h,S=Math.pow(w-t,2)+Math.pow(x-n,2),E>=0?S<E&&(E=S):E=S;return E},t6t=function(t,n,r,a,o,l){var u=[t-r,n-a],h=[o-r,l-a],f=h[0]*h[0]+h[1]*h[1],d=u[0]*u[0]+u[1]*u[1],p=u[0]*h[0]+u[1]*h[1],g=p*p/f;return p<0?d:g>f?(t-o)*(t-o)+(n-l)*(n-l):d-g},Js=function(t,n,r){for(var a,o,l,u,h,f=0,d=0;d<r.length/2;d++)if(a=r[d*2],o=r[d*2+1],d+1<r.length/2?(l=r[(d+1)*2],u=r[(d+1)*2+1]):(l=r[(d+1-r.length/2)*2],u=r[(d+1-r.length/2)*2+1]),!(a==t&&l==t))if(a>=t&&t>=l||a<=t&&t<=l)h=(t-a)/(l-a)*(u-o)+o,h>n&&f++;else continue;return f%2!==0},Mh=function(t,n,r,a,o,l,u,h,f){var d=new Array(r.length),p;h[0]!=null?(p=Math.atan(h[1]/h[0]),h[0]<0?p=p+Math.PI/2:p=-p-Math.PI/2):p=h;for(var g=Math.cos(-p),m=Math.sin(-p),y=0;y<d.length/2;y++)d[y*2]=l/2*(r[y*2]*g-r[y*2+1]*m),d[y*2+1]=u/2*(r[y*2+1]*g+r[y*2]*m),d[y*2]+=a,d[y*2+1]+=o;var b;if(f>0){var T=w5(d,-f);b=E5(T)}else b=d;return Js(t,n,b)},n6t=function(t,n,r,a,o,l,u,h){for(var f=new Array(r.length*2),d=0;d<h.length;d++){var p=h[d];f[d*4+0]=p.startX,f[d*4+1]=p.startY,f[d*4+2]=p.stopX,f[d*4+3]=p.stopY;var g=Math.pow(p.cx-t,2)+Math.pow(p.cy-n,2);if(g<=Math.pow(p.radius,2))return!0}return Js(t,n,f)},E5=function(t){for(var n=new Array(t.length/2),r,a,o,l,u,h,f,d,p=0;p<t.length/4;p++){r=t[p*4],a=t[p*4+1],o=t[p*4+2],l=t[p*4+3],p<t.length/4-1?(u=t[(p+1)*4],h=t[(p+1)*4+1],f=t[(p+1)*4+2],d=t[(p+1)*4+3]):(u=t[0],h=t[1],f=t[2],d=t[3]);var g=_0(r,a,o,l,u,h,f,d,!0);n[p*2]=g[0],n[p*2+1]=g[1]}return n},w5=function(t,n){for(var r=new Array(t.length*2),a,o,l,u,h=0;h<t.length/2;h++){a=t[h*2],o=t[h*2+1],h<t.length/2-1?(l=t[(h+1)*2],u=t[(h+1)*2+1]):(l=t[0],u=t[1]);var f=u-o,d=-(l-a),p=Math.sqrt(f*f+d*d),g=f/p,m=d/p;r[h*4]=a+g*n,r[h*4+1]=o+m*n,r[h*4+2]=l+g*n,r[h*4+3]=u+m*n}return r},r6t=function(t,n,r,a,o,l){var u=r-t,h=a-n;u/=o,h/=l;var f=Math.sqrt(u*u+h*h),d=f-1;if(d<0)return[];var p=d/f;return[(r-t)*p+t,(a-n)*p+n]},Dd=function(t,n,r,a,o,l,u){return t-=o,n-=l,t/=r/2+u,n/=a/2+u,t*t+n*n<=1},E2=function(t,n,r,a,o,l,u){var h=[r-t,a-n],f=[t-o,n-l],d=h[0]*h[0]+h[1]*h[1],p=2*(f[0]*h[0]+f[1]*h[1]),g=f[0]*f[0]+f[1]*f[1]-u*u,m=p*p-4*d*g;if(m<0)return[];var y=(-p+Math.sqrt(m))/(2*d),b=(-p-Math.sqrt(m))/(2*d),T=Math.min(y,b),E=Math.max(y,b),w=[];if(T>=0&&T<=1&&w.push(T),E>=0&&E<=1&&w.push(E),w.length===0)return[];var x=w[0]*h[0]+t,S=w[0]*h[1]+n;if(w.length>1){if(w[0]==w[1])return[x,S];var A=w[1]*h[0]+t,R=w[1]*h[1]+n;return[x,S,A,R]}else return[x,S]},_k=function(t,n,r){return n<=t&&t<=r||r<=t&&t<=n?t:t<=n&&n<=r||r<=n&&n<=t?n:r},_0=function(t,n,r,a,o,l,u,h,f){var d=t-o,p=r-t,g=u-o,m=n-l,y=a-n,b=h-l,T=g*m-b*d,E=p*m-y*d,w=b*p-g*y;if(w!==0){var x=T/w,S=E/w,A=.001,R=0-A,C=1+A;return R<=x&&x<=C&&R<=S&&S<=C?[t+x*p,n+x*y]:f?[t+x*p,n+x*y]:[]}else return T===0||E===0?_k(t,r,u)===u?[u,h]:_k(t,r,o)===o?[o,l]:_k(o,u,r)===r?[r,a]:[]:[]},wT=function(t,n,r,a,o,l,u,h){var f=[],d,p=new Array(r.length),g=!0;l==null&&(g=!1);var m;if(g){for(var y=0;y<p.length/2;y++)p[y*2]=r[y*2]*l+a,p[y*2+1]=r[y*2+1]*u+o;if(h>0){var b=w5(p,-h);m=E5(b)}else m=p}else m=r;for(var T,E,w,x,S=0;S<m.length/2;S++)T=m[S*2],E=m[S*2+1],S<m.length/2-1?(w=m[(S+1)*2],x=m[(S+1)*2+1]):(w=m[0],x=m[1]),d=_0(t,n,a,o,T,E,w,x),d.length!==0&&f.push(d[0],d[1]);return f},i6t=function(t,n,r,a,o,l,u,h,f){var d=[],p,g=new Array(r.length*2);f.forEach(function(w,x){x===0?(g[g.length-2]=w.startX,g[g.length-1]=w.startY):(g[x*4-2]=w.startX,g[x*4-1]=w.startY),g[x*4]=w.stopX,g[x*4+1]=w.stopY,p=E2(t,n,a,o,w.cx,w.cy,w.radius),p.length!==0&&d.push(p[0],p[1])});for(var m=0;m<g.length/4;m++)p=_0(t,n,a,o,g[m*4],g[m*4+1],g[m*4+2],g[m*4+3],!1),p.length!==0&&d.push(p[0],p[1]);if(d.length>2){for(var y=[d[0],d[1]],b=Math.pow(y[0]-t,2)+Math.pow(y[1]-n,2),T=1;T<d.length/2;T++){var E=Math.pow(d[T*2]-t,2)+Math.pow(d[T*2+1]-n,2);E<=b&&(y[0]=d[T*2],y[1]=d[T*2+1],b=E)}return y}return d},x3=function(t,n,r){var a=[t[0]-n[0],t[1]-n[1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),l=(o-r)/o;return l<0&&(l=1e-5),[n[0]+l*a[0],n[1]+l*a[1]]},ms=function(t,n){var r=G7(t,n);return r=Sme(r),r},Sme=function(t){for(var n,r,a=t.length/2,o=1/0,l=1/0,u=-1/0,h=-1/0,f=0;f<a;f++)n=t[2*f],r=t[2*f+1],o=Math.min(o,n),u=Math.max(u,n),l=Math.min(l,r),h=Math.max(h,r);for(var d=2/(u-o),p=2/(h-l),g=0;g<a;g++)n=t[2*g]=t[2*g]*d,r=t[2*g+1]=t[2*g+1]*p,o=Math.min(o,n),u=Math.max(u,n),l=Math.min(l,r),h=Math.max(h,r);if(l<-1)for(var m=0;m<a;m++)r=t[2*m+1]=t[2*m+1]+(-1-l);return t},G7=function(t,n){var r=1/t*2*Math.PI,a=t%2===0?Math.PI/2+r/2:Math.PI/2;a+=n;for(var o=new Array(t*2),l,u=0;u<t;u++)l=u*r+a,o[2*u]=Math.cos(l),o[2*u+1]=Math.sin(-l);return o},wp=function(t,n){return Math.min(t/4,n/4,8)},Ame=function(t,n){return Math.min(t/10,n/10,8)},YP=function(){return 8},a6t=function(t,n,r){return[t-2*n+r,2*(n-t),t]},z7=function(t,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},s6t=ga({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),o6t={pageRank:function(t){for(var n=s6t(t),r=n.dampingFactor,a=n.precision,o=n.iterations,l=n.weight,u=this._private.cy,h=this.byGroup(),f=h.nodes,d=h.edges,p=f.length,g=p*p,m=d.length,y=new Array(g),b=new Array(p),T=(1-r)/p,E=0;E<p;E++){for(var w=0;w<p;w++){var x=E*p+w;y[x]=0}b[E]=0}for(var S=0;S<m;S++){var A=d[S],R=A.data("source"),C=A.data("target");if(R!==C){var N=f.indexOfId(R),O=f.indexOfId(C),L=l(A),k=O*p+N;y[k]+=L,b[N]+=L}}for(var M=1/p+T,$=0;$<p;$++)if(b[$]===0)for(var _=0;_<p;_++){var F=_*p+$;y[F]=M}else for(var B=0;B<p;B++){var D=B*p+$;y[D]=y[D]/b[$]+T}for(var P=new Array(p),H=new Array(p),W,U=0;U<p;U++)P[U]=1;for(var V=0;V<o;V++){for(var G=0;G<p;G++)H[G]=0;for(var ee=0;ee<p;ee++)for(var ce=0;ce<p;ce++){var Q=ee*p+ce;H[ee]+=y[Q]*P[ce]}GAt(H),W=P,P=H,H=W;for(var re=0,le=0;le<p;le++){var Y=W[le]-P[le];re+=Y*Y}if(re<a)break}var K={rank:function(z){return z=u.collection(z)[0],P[f.indexOf(z)]}};return K}},Gj=ga({root:null,weight:function(t){return 1},directed:!1,alpha:0}),I1={degreeCentralityNormalized:function(t){t=Gj(t);var n=this.cy(),r=this.nodes(),a=r.length;if(t.directed){for(var d={},p={},g=0,m=0,y=0;y<a;y++){var b=r[y],T=b.id();t.root=b;var E=this.degreeCentrality(t);g<E.indegree&&(g=E.indegree),m<E.outdegree&&(m=E.outdegree),d[T]=E.indegree,p[T]=E.outdegree}return{indegree:function(x){return g==0?0:(zt(x)&&(x=n.filter(x)),d[x.id()]/g)},outdegree:function(x){return m===0?0:(zt(x)&&(x=n.filter(x)),p[x.id()]/m)}}}else{for(var o={},l=0,u=0;u<a;u++){var h=r[u];t.root=h;var f=this.degreeCentrality(t);l<f.degree&&(l=f.degree),o[h.id()]=f.degree}return{degree:function(x){return l===0?0:(zt(x)&&(x=n.filter(x)),o[x.id()]/l)}}}},degreeCentrality:function(t){t=Gj(t);var n=this.cy(),r=this,a=t,o=a.root,l=a.weight,u=a.directed,h=a.alpha;if(o=n.collection(o)[0],u){for(var m=o.connectedEdges(),y=m.filter(function(R){return R.target().same(o)&&r.has(R)}),b=m.filter(function(R){return R.source().same(o)&&r.has(R)}),T=y.length,E=b.length,w=0,x=0,S=0;S<y.length;S++)w+=l(y[S]);for(var A=0;A<b.length;A++)x+=l(b[A]);return{indegree:Math.pow(T,1-h)*Math.pow(w,h),outdegree:Math.pow(E,1-h)*Math.pow(x,h)}}else{for(var f=o.connectedEdges().intersection(r),d=f.length,p=0,g=0;g<f.length;g++)p+=l(f[g]);return{degree:Math.pow(d,1-h)*Math.pow(p,h)}}}};I1.dc=I1.degreeCentrality;I1.dcn=I1.degreeCentralityNormalised=I1.degreeCentralityNormalized;var zj=ga({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),C1={closenessCentralityNormalized:function(t){for(var n=zj(t),r=n.harmonic,a=n.weight,o=n.directed,l=this.cy(),u={},h=0,f=this.nodes(),d=this.floydWarshall({weight:a,directed:o}),p=0;p<f.length;p++){for(var g=0,m=f[p],y=0;y<f.length;y++)if(p!==y){var b=d.distance(m,f[y]);r?g+=1/b:g+=b}r||(g=1/g),h<g&&(h=g),u[m.id()]=g}return{closeness:function(E){return h==0?0:(zt(E)?E=l.filter(E)[0].id():E=E.id(),u[E]/h)}}},closenessCentrality:function(t){var n=zj(t),r=n.root,a=n.weight,o=n.directed,l=n.harmonic;r=this.filter(r)[0];for(var u=this.dijkstra({root:r,weight:a,directed:o}),h=0,f=this.nodes(),d=0;d<f.length;d++){var p=f[d];if(!p.same(r)){var g=u.distanceTo(p);l?h+=1/g:h+=g}}return l?h:1/h}};C1.cc=C1.closenessCentrality;C1.ccn=C1.closenessCentralityNormalised=C1.closenessCentralityNormalized;var l6t=ga({weight:null,directed:!1}),Y7={betweennessCentrality:function(t){for(var n=l6t(t),r=n.directed,a=n.weight,o=a!=null,l=this.cy(),u=this.nodes(),h={},f={},d=0,p={set:function(x,S){f[x]=S,S>d&&(d=S)},get:function(x){return f[x]}},g=0;g<u.length;g++){var m=u[g],y=m.id();r?h[y]=m.outgoers().nodes():h[y]=m.openNeighborhood().nodes(),p.set(y,0)}for(var b=function(x){for(var S=u[x].id(),A=[],R={},C={},N={},O=new zE(function(ce,Q){return N[ce]-N[Q]}),L=0;L<u.length;L++){var k=u[L].id();R[k]=[],C[k]=0,N[k]=1/0}for(C[S]=1,N[S]=0,O.push(S);!O.empty();){var M=O.pop();if(A.push(M),o)for(var $=0;$<h[M].length;$++){var _=h[M][$],F=l.getElementById(M),B=void 0;F.edgesTo(_).length>0?B=F.edgesTo(_)[0]:B=_.edgesTo(F)[0];var D=a(B);_=_.id(),N[_]>N[M]+D&&(N[_]=N[M]+D,O.nodes.indexOf(_)<0?O.push(_):O.updateItem(_),C[_]=0,R[_]=[]),N[_]==N[M]+D&&(C[_]=C[_]+C[M],R[_].push(M))}else for(var P=0;P<h[M].length;P++){var H=h[M][P].id();N[H]==1/0&&(O.push(H),N[H]=N[M]+1),N[H]==N[M]+1&&(C[H]=C[H]+C[M],R[H].push(M))}}for(var W={},U=0;U<u.length;U++)W[u[U].id()]=0;for(;A.length>0;){for(var V=A.pop(),G=0;G<R[V].length;G++){var ee=R[V][G];W[ee]=W[ee]+C[ee]/C[V]*(1+W[V])}V!=u[x].id()&&p.set(V,p.get(V)+W[V])}},T=0;T<u.length;T++)b(T);var E={betweenness:function(x){var S=l.collection(x).id();return p.get(S)},betweennessNormalized:function(x){if(d==0)return 0;var S=l.collection(x).id();return p.get(S)/d}};return E.betweennessNormalised=E.betweennessNormalized,E}};Y7.bc=Y7.betweennessCentrality;var c6t=ga({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),u6t=function(t){return c6t(t)},h6t=function(t,n){for(var r=0,a=0;a<n.length;a++)r+=n[a](t);return r},f6t=function(t,n,r){for(var a=0;a<n;a++)t[a*n+a]=r},Ime=function(t,n){for(var r,a=0;a<n;a++){r=0;for(var o=0;o<n;o++)r+=t[o*n+a];for(var l=0;l<n;l++)t[l*n+a]=t[l*n+a]/r}},d6t=function(t,n,r){for(var a=new Array(r*r),o=0;o<r;o++){for(var l=0;l<r;l++)a[o*r+l]=0;for(var u=0;u<r;u++)for(var h=0;h<r;h++)a[o*r+h]+=t[o*r+u]*n[u*r+h]}return a},p6t=function(t,n,r){for(var a=t.slice(0),o=1;o<r;o++)t=d6t(t,a,n);return t},g6t=function(t,n,r){for(var a=new Array(n*n),o=0;o<n*n;o++)a[o]=Math.pow(t[o],r);return Ime(a,n),a},m6t=function(t,n,r,a){for(var o=0;o<r;o++){var l=Math.round(t[o]*Math.pow(10,a))/Math.pow(10,a),u=Math.round(n[o]*Math.pow(10,a))/Math.pow(10,a);if(l!==u)return!1}return!0},v6t=function(t,n,r,a){for(var o=[],l=0;l<n;l++){for(var u=[],h=0;h<n;h++)Math.round(t[l*n+h]*1e3)/1e3>0&&u.push(r[h]);u.length!==0&&o.push(a.collection(u))}return o},y6t=function(t,n){for(var r=0;r<t.length;r++)if(!n[r]||t[r].id()!==n[r].id())return!1;return!0},b6t=function(t){for(var n=0;n<t.length;n++)for(var r=0;r<t.length;r++)n!=r&&y6t(t[n],t[r])&&t.splice(r,1);return t},Yj=function(t){for(var n=this.nodes(),r=this.edges(),a=this.cy(),o=u6t(t),l={},u=0;u<n.length;u++)l[n[u].id()]=u;for(var h=n.length,f=h*h,d=new Array(f),p,g=0;g<f;g++)d[g]=0;for(var m=0;m<r.length;m++){var y=r[m],b=l[y.source().id()],T=l[y.target().id()],E=h6t(y,o.attributes);d[b*h+T]+=E,d[T*h+b]+=E}f6t(d,h,o.multFactor),Ime(d,h);for(var w=!0,x=0;w&&x<o.maxIterations;)w=!1,p=p6t(d,h,o.expandFactor),d=g6t(p,h,o.inflateFactor),m6t(d,p,f,4)||(w=!0),x++;var S=v6t(d,h,n,a);return S=b6t(S),S},T6t={markovClustering:Yj,mcl:Yj},E6t=function(t){return t},Cme=function(t,n){return Math.abs(n-t)},Vj=function(t,n,r){return t+Cme(n,r)},qj=function(t,n,r){return t+Math.pow(r-n,2)},w6t=function(t){return Math.sqrt(t)},x6t=function(t,n,r){return Math.max(t,Cme(n,r))},qy=function(t,n,r,a,o){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:E6t,u=a,h,f,d=0;d<t;d++)h=n(d),f=r(d),u=o(u,h,f);return l(u)},lv={euclidean:function(t,n,r){return t>=2?qy(t,n,r,0,qj,w6t):qy(t,n,r,0,Vj)},squaredEuclidean:function(t,n,r){return qy(t,n,r,0,qj)},manhattan:function(t,n,r){return qy(t,n,r,0,Vj)},max:function(t,n,r){return qy(t,n,r,-1/0,x6t)}};lv["squared-euclidean"]=lv.squaredEuclidean;lv.squaredeuclidean=lv.squaredEuclidean;function uI(e,t,n,r,a,o){var l;return Xr(e)?l=e:l=lv[e]||lv.euclidean,t===0&&Xr(e)?l(a,o):l(t,n,r,a,o)}var S6t=ga({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),VP=function(t){return S6t(t)},x5=function(t,n,r,a,o){var l=o!=="kMedoids",u=l?function(p){return r[p]}:function(p){return a[p](r)},h=function(g){return a[g](n)},f=r,d=n;return uI(t,a.length,u,h,f,d)},Dk=function(t,n,r){for(var a=r.length,o=new Array(a),l=new Array(a),u=new Array(n),h=null,f=0;f<a;f++)o[f]=t.min(r[f]).value,l[f]=t.max(r[f]).value;for(var d=0;d<n;d++){h=[];for(var p=0;p<a;p++)h[p]=Math.random()*(l[p]-o[p])+o[p];u[d]=h}return u},Rme=function(t,n,r,a,o){for(var l=1/0,u=0,h=0;h<n.length;h++){var f=x5(r,t,n[h],a,o);f<l&&(l=f,u=h)}return u},kme=function(t,n,r){for(var a=[],o=null,l=0;l<n.length;l++)o=n[l],r[o.id()]===t&&a.push(o);return a},A6t=function(t,n,r){return Math.abs(n-t)<=r},I6t=function(t,n,r){for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++){var l=Math.abs(t[a][o]-n[a][o]);if(l>r)return!1}return!0},C6t=function(t,n,r){for(var a=0;a<r;a++)if(t===n[a])return!0;return!1},jj=function(t,n){var r=new Array(n);if(t.length<50)for(var a=0;a<n;a++){for(var o=t[Math.floor(Math.random()*t.length)];C6t(o,r,a);)o=t[Math.floor(Math.random()*t.length)];r[a]=o}else for(var l=0;l<n;l++)r[l]=t[Math.floor(Math.random()*t.length)];return r},Xj=function(t,n,r){for(var a=0,o=0;o<n.length;o++)a+=x5("manhattan",n[o],t,r,"kMedoids");return a},R6t=function(t){var n=this.cy(),r=this.nodes(),a=null,o=VP(t),l=new Array(o.k),u={},h;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,h=Dk(r,o.k,o.attributes)):Zi(o.testCentroids)==="object"?h=o.testCentroids:h=Dk(r,o.k,o.attributes):h=Dk(r,o.k,o.attributes);for(var f=!0,d=0;f&&d<o.maxIterations;){for(var p=0;p<r.length;p++)a=r[p],u[a.id()]=Rme(a,h,o.distance,o.attributes,"kMeans");f=!1;for(var g=0;g<o.k;g++){var m=kme(g,r,u);if(m.length!==0){for(var y=o.attributes.length,b=h[g],T=new Array(y),E=new Array(y),w=0;w<y;w++){E[w]=0;for(var x=0;x<m.length;x++)a=m[x],E[w]+=o.attributes[w](a);T[w]=E[w]/m.length,A6t(T[w],b[w],o.sensitivityThreshold)||(f=!0)}h[g]=T,l[g]=n.collection(m)}}d++}return l},k6t=function(t){var n=this.cy(),r=this.nodes(),a=null,o=VP(t),l=new Array(o.k),u,h={},f,d=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(Zi(o.testCentroids)==="object"?u=o.testCentroids:u=jj(r,o.k)):u=jj(r,o.k);for(var p=!0,g=0;p&&g<o.maxIterations;){for(var m=0;m<r.length;m++)a=r[m],h[a.id()]=Rme(a,u,o.distance,o.attributes,"kMedoids");p=!1;for(var y=0;y<u.length;y++){var b=kme(y,r,h);if(b.length!==0){d[y]=Xj(u[y],b,o.attributes);for(var T=0;T<b.length;T++)f=Xj(b[T],b,o.attributes),f<d[y]&&(d[y]=f,u[y]=b[T],p=!0);l[y]=n.collection(b)}}g++}return l},O6t=function(t,n,r,a,o){for(var l,u,h=0;h<n.length;h++)for(var f=0;f<t.length;f++)a[h][f]=Math.pow(r[h][f],o.m);for(var d=0;d<t.length;d++)for(var p=0;p<o.attributes.length;p++){l=0,u=0;for(var g=0;g<n.length;g++)l+=a[g][d]*o.attributes[p](n[g]),u+=a[g][d];t[d][p]=l/u}},N6t=function(t,n,r,a,o){for(var l=0;l<t.length;l++)n[l]=t[l].slice();for(var u,h,f,d=2/(o.m-1),p=0;p<r.length;p++)for(var g=0;g<a.length;g++){u=0;for(var m=0;m<r.length;m++)h=x5(o.distance,a[g],r[p],o.attributes,"cmeans"),f=x5(o.distance,a[g],r[m],o.attributes,"cmeans"),u+=Math.pow(h/f,d);t[g][p]=1/u}},L6t=function(t,n,r,a){for(var o=new Array(r.k),l=0;l<o.length;l++)o[l]=[];for(var u,h,f=0;f<n.length;f++){u=-1/0,h=-1;for(var d=0;d<n[0].length;d++)n[f][d]>u&&(u=n[f][d],h=d);o[h].push(t[f])}for(var p=0;p<o.length;p++)o[p]=a.collection(o[p]);return o},Kj=function(t){var n=this.cy(),r=this.nodes(),a=VP(t),o,l,u,h,f;h=new Array(r.length);for(var d=0;d<r.length;d++)h[d]=new Array(a.k);u=new Array(r.length);for(var p=0;p<r.length;p++)u[p]=new Array(a.k);for(var g=0;g<r.length;g++){for(var m=0,y=0;y<a.k;y++)u[g][y]=Math.random(),m+=u[g][y];for(var b=0;b<a.k;b++)u[g][b]=u[g][b]/m}l=new Array(a.k);for(var T=0;T<a.k;T++)l[T]=new Array(a.attributes.length);f=new Array(r.length);for(var E=0;E<r.length;E++)f[E]=new Array(a.k);for(var w=!0,x=0;w&&x<a.maxIterations;)w=!1,O6t(l,r,u,f,a),N6t(u,h,l,r,a),I6t(u,h,a.sensitivityThreshold)||(w=!0),x++;return o=L6t(r,u,a,n),{clusters:o,degreeOfMembership:u}},_6t={kMeans:R6t,kMedoids:k6t,fuzzyCMeans:Kj,fcm:Kj},D6t=ga({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),M6t={single:"min",complete:"max"},P6t=function(t){var n=D6t(t),r=M6t[n.linkage];return r!=null&&(n.linkage=r),n},Zj=function(t,n,r,a,o){for(var l=0,u=1/0,h,f=o.attributes,d=function(O,L){return uI(o.distance,f.length,function(k){return f[k](O)},function(k){return f[k](L)},O,L)},p=0;p<t.length;p++){var g=t[p].key,m=r[g][a[g]];m<u&&(l=g,u=m)}if(o.mode==="threshold"&&u>=o.threshold||o.mode==="dendrogram"&&t.length===1)return!1;var y=n[l],b=n[a[l]],T;o.mode==="dendrogram"?T={left:y,right:b,key:y.key}:T={value:y.value.concat(b.value),key:y.key},t[y.index]=T,t.splice(b.index,1),n[y.key]=T;for(var E=0;E<t.length;E++){var w=t[E];y.key===w.key?h=1/0:o.linkage==="min"?(h=r[y.key][w.key],r[y.key][w.key]>r[b.key][w.key]&&(h=r[b.key][w.key])):o.linkage==="max"?(h=r[y.key][w.key],r[y.key][w.key]<r[b.key][w.key]&&(h=r[b.key][w.key])):o.linkage==="mean"?h=(r[y.key][w.key]*y.size+r[b.key][w.key]*b.size)/(y.size+b.size):o.mode==="dendrogram"?h=d(w.value,y.value):h=d(w.value[0],y.value[0]),r[y.key][w.key]=r[w.key][y.key]=h}for(var x=0;x<t.length;x++){var S=t[x].key;if(a[S]===y.key||a[S]===b.key){for(var A=S,R=0;R<t.length;R++){var C=t[R].key;r[S][C]<r[S][A]&&(A=C)}a[S]=A}t[x].index=x}return y.key=b.key=y.index=b.index=null,!0},S3=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},F6t=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),a=e(t.right,n),o=n.add({group:"nodes",data:{id:r+","+a}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:a,target:o.id()}}),o.id()}else if(t.value)return t.value.id()},B6t=function e(t,n,r){if(!t)return[];var a=[],o=[],l=[];return n===0?(t.left&&S3(t.left,a),t.right&&S3(t.right,o),l=a.concat(o),[r.collection(l)]):n===1?t.value?[r.collection(t.value)]:(t.left&&S3(t.left,a),t.right&&S3(t.right,o),[r.collection(a),r.collection(o)]):t.value?[r.collection(t.value)]:(t.left&&(a=e(t.left,n-1,r)),t.right&&(o=e(t.right,n-1,r)),a.concat(o))},Qj=function(t){for(var n=this.cy(),r=this.nodes(),a=P6t(t),o=a.attributes,l=function(x,S){return uI(a.distance,o.length,function(A){return o[A](x)},function(A){return o[A](S)},x,S)},u=[],h=[],f=[],d=[],p=0;p<r.length;p++){var g={value:a.mode==="dendrogram"?r[p]:[r[p]],key:p,index:p};u[p]=g,d[p]=g,h[p]=[],f[p]=0}for(var m=0;m<u.length;m++)for(var y=0;y<=m;y++){var b=void 0;a.mode==="dendrogram"?b=m===y?1/0:l(u[m].value,u[y].value):b=m===y?1/0:l(u[m].value[0],u[y].value[0]),h[m][y]=b,h[y][m]=b,b<h[m][f[m]]&&(f[m]=y)}for(var T=Zj(u,d,h,f,a);T;)T=Zj(u,d,h,f,a);var E;return a.mode==="dendrogram"?(E=B6t(u[0],a.dendrogramDepth,n),a.addDendrogram&&F6t(u[0],n)):(E=new Array(u.length),u.forEach(function(w,x){w.key=w.index=null,E[x]=n.collection(w.value)})),E},H6t={hierarchicalClustering:Qj,hca:Qj},$6t=ga({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),W6t=function(t){var n=t.damping,r=t.preference;.5<=n&&n<1||Vr("Damping must range on [0.5, 1).  Got: ".concat(n));var a=["median","mean","min","max"];return a.some(function(o){return o===r})||Tt(r)||Vr("Preference must be one of [".concat(a.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(r)),$6t(t)},U6t=function(t,n,r,a){var o=function(u,h){return a[h](u)};return-uI(t,a.length,function(l){return o(n,l)},function(l){return o(r,l)},n,r)},G6t=function(t,n){var r=null;return n==="median"?r=WAt(t):n==="mean"?r=$At(t):n==="min"?r=BAt(t):n==="max"?r=HAt(t):r=n,r},z6t=function(t,n,r){for(var a=[],o=0;o<t;o++)n[o*t+o]+r[o*t+o]>0&&a.push(o);return a},Jj=function(t,n,r){for(var a=[],o=0;o<t;o++){for(var l=-1,u=-1/0,h=0;h<r.length;h++){var f=r[h];n[o*t+f]>u&&(l=f,u=n[o*t+f])}l>0&&a.push(l)}for(var d=0;d<r.length;d++)a[r[d]]=r[d];return a},Y6t=function(t,n,r){for(var a=Jj(t,n,r),o=0;o<r.length;o++){for(var l=[],u=0;u<a.length;u++)a[u]===r[o]&&l.push(u);for(var h=-1,f=-1/0,d=0;d<l.length;d++){for(var p=0,g=0;g<l.length;g++)p+=n[l[g]*t+l[d]];p>f&&(h=d,f=p)}r[o]=l[h]}return a=Jj(t,n,r),a},eX=function(t){for(var n=this.cy(),r=this.nodes(),a=W6t(t),o={},l=0;l<r.length;l++)o[r[l].id()]=l;var u,h,f,d,p,g;u=r.length,h=u*u,f=new Array(h);for(var m=0;m<h;m++)f[m]=-1/0;for(var y=0;y<u;y++)for(var b=0;b<u;b++)y!==b&&(f[y*u+b]=U6t(a.distance,r[y],r[b],a.attributes));d=G6t(f,a.preference);for(var T=0;T<u;T++)f[T*u+T]=d;p=new Array(h);for(var E=0;E<h;E++)p[E]=0;g=new Array(h);for(var w=0;w<h;w++)g[w]=0;for(var x=new Array(u),S=new Array(u),A=new Array(u),R=0;R<u;R++)x[R]=0,S[R]=0,A[R]=0;for(var C=new Array(u*a.minIterations),N=0;N<C.length;N++)C[N]=0;var O;for(O=0;O<a.maxIterations;O++){for(var L=0;L<u;L++){for(var k=-1/0,M=-1/0,$=-1,_=0,F=0;F<u;F++)x[F]=p[L*u+F],_=g[L*u+F]+f[L*u+F],_>=k?(M=k,k=_,$=F):_>M&&(M=_);for(var B=0;B<u;B++)p[L*u+B]=(1-a.damping)*(f[L*u+B]-k)+a.damping*x[B];p[L*u+$]=(1-a.damping)*(f[L*u+$]-M)+a.damping*x[$]}for(var D=0;D<u;D++){for(var P=0,H=0;H<u;H++)x[H]=g[H*u+D],S[H]=Math.max(0,p[H*u+D]),P+=S[H];P-=S[D],S[D]=p[D*u+D],P+=S[D];for(var W=0;W<u;W++)g[W*u+D]=(1-a.damping)*Math.min(0,P-S[W])+a.damping*x[W];g[D*u+D]=(1-a.damping)*(P-S[D])+a.damping*x[D]}for(var U=0,V=0;V<u;V++){var G=g[V*u+V]+p[V*u+V]>0?1:0;C[O%a.minIterations*u+V]=G,U+=G}if(U>0&&(O>=a.minIterations-1||O==a.maxIterations-1)){for(var ee=0,ce=0;ce<u;ce++){A[ce]=0;for(var Q=0;Q<a.minIterations;Q++)A[ce]+=C[Q*u+ce];(A[ce]===0||A[ce]===a.minIterations)&&ee++}if(ee===u)break}}for(var re=z6t(u,p,g),le=Y6t(u,f,re),Y={},K=0;K<re.length;K++)Y[re[K]]=[];for(var Z=0;Z<r.length;Z++){var z=o[r[Z].id()],X=le[z];X!=null&&Y[X].push(r[Z])}for(var te=new Array(re.length),ne=0;ne<re.length;ne++)te[ne]=n.collection(Y[re[ne]]);return te},V6t={affinityPropagation:eX,ap:eX},q6t=ga({root:void 0,directed:!1}),j6t={hierholzer:function(t){if(!Hn(t)){var n=arguments;t={root:n[0],directed:n[1]}}var r=q6t(t),a=r.root,o=r.directed,l=this,u=!1,h,f,d;a&&(d=zt(a)?this.filter(a)[0].id():a[0].id());var p={},g={};o?l.forEach(function(w){var x=w.id();if(w.isNode()){var S=w.indegree(!0),A=w.outdegree(!0),R=S-A,C=A-S;R==1?h?u=!0:h=x:C==1?f?u=!0:f=x:(C>1||R>1)&&(u=!0),p[x]=[],w.outgoers().forEach(function(N){N.isEdge()&&p[x].push(N.id())})}else g[x]=[void 0,w.target().id()]}):l.forEach(function(w){var x=w.id();if(w.isNode()){var S=w.degree(!0);S%2&&(h?f?u=!0:f=x:h=x),p[x]=[],w.connectedEdges().forEach(function(A){return p[x].push(A.id())})}else g[x]=[w.source().id(),w.target().id()]});var m={found:!1,trail:void 0};if(u)return m;if(f&&h)if(o){if(d&&f!=d)return m;d=f}else{if(d&&f!=d&&h!=d)return m;d||(d=f)}else d||(d=l[0].id());var y=function(x){for(var S=x,A=[x],R,C,N;p[S].length;)R=p[S].shift(),C=g[R][0],N=g[R][1],S!=N?(p[N]=p[N].filter(function(O){return O!=R}),S=N):!o&&S!=C&&(p[C]=p[C].filter(function(O){return O!=R}),S=C),A.unshift(R),A.unshift(S);return A},b=[],T=[];for(T=y(d);T.length!=1;)p[T[0]].length==0?(b.unshift(l.getElementById(T.shift())),b.unshift(l.getElementById(T.shift()))):T=y(T.shift()).concat(T);b.unshift(l.getElementById(T.shift()));for(var E in p)if(p[E].length)return m;return m.found=!0,m.trail=this.spawn(b,!0),m}},A3=function(){var t=this,n={},r=0,a=0,o=[],l=[],u={},h=function(g,m){for(var y=l.length-1,b=[],T=t.spawn();l[y].x!=g||l[y].y!=m;)b.push(l.pop().edge),y--;b.push(l.pop().edge),b.forEach(function(E){var w=E.connectedNodes().intersection(t);T.merge(E),w.forEach(function(x){var S=x.id(),A=x.connectedEdges().intersection(t);T.merge(x),n[S].cutVertex?T.merge(A.filter(function(R){return R.isLoop()})):T.merge(A)})}),o.push(T)},f=function p(g,m,y){g===y&&(a+=1),n[m]={id:r,low:r++,cutVertex:!1};var b=t.getElementById(m).connectedEdges().intersection(t);if(b.size()===0)o.push(t.spawn(t.getElementById(m)));else{var T,E,w,x;b.forEach(function(S){T=S.source().id(),E=S.target().id(),w=T===m?E:T,w!==y&&(x=S.id(),u[x]||(u[x]=!0,l.push({x:m,y:w,edge:S})),w in n?n[m].low=Math.min(n[m].low,n[w].id):(p(g,w,m),n[m].low=Math.min(n[m].low,n[w].low),n[m].id<=n[w].low&&(n[m].cutVertex=!0,h(m,w))))})}};t.forEach(function(p){if(p.isNode()){var g=p.id();g in n||(a=0,f(g,g),n[g].cutVertex=a>1)}});var d=Object.keys(n).filter(function(p){return n[p].cutVertex}).map(function(p){return t.getElementById(p)});return{cut:t.spawn(d),components:o}},X6t={hopcroftTarjanBiconnected:A3,htbc:A3,htb:A3,hopcroftTarjanBiconnectedComponents:A3},I3=function(){var t=this,n={},r=0,a=[],o=[],l=t.spawn(t),u=function h(f){o.push(f),n[f]={index:r,low:r++,explored:!1};var d=t.getElementById(f).connectedEdges().intersection(t);if(d.forEach(function(b){var T=b.target().id();T!==f&&(T in n||h(T),n[T].explored||(n[f].low=Math.min(n[f].low,n[T].low)))}),n[f].index===n[f].low){for(var p=t.spawn();;){var g=o.pop();if(p.merge(t.getElementById(g)),n[g].low=n[f].index,n[g].explored=!0,g===f)break}var m=p.edgesWith(p),y=p.merge(m);a.push(y),l=l.difference(y)}};return t.forEach(function(h){if(h.isNode()){var f=h.id();f in n||u(f)}}),{cut:l,components:a}},K6t={tarjanStronglyConnected:I3,tsc:I3,tscc:I3,tarjanStronglyConnectedComponents:I3},Ome={};[TT,IAt,CAt,kAt,NAt,_At,PAt,o6t,I1,C1,Y7,T6t,_6t,H6t,V6t,j6t,X6t,K6t].forEach(function(e){en(Ome,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Nme=0,Lme=1,_me=2,Ph=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=Nme,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ph.prototype={fulfill:function(t){return tX(this,Lme,"fulfillValue",t)},reject:function(t){return tX(this,_me,"rejectReason",t)},then:function(t,n){var r=this,a=new Ph;return r.onFulfilled.push(rX(t,a,"fulfill")),r.onRejected.push(rX(n,a,"reject")),Dme(r),a.proxy}};var tX=function(t,n,r,a){return t.state===Nme&&(t.state=n,t[r]=a,Dme(t)),t},Dme=function(t){t.state===Lme?nX(t,"onFulfilled",t.fulfillValue):t.state===_me&&nX(t,"onRejected",t.rejectReason)},nX=function(t,n,r){if(t[n].length!==0){var a=t[n];t[n]=[];var o=function(){for(var u=0;u<a.length;u++)a[u](r)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},rX=function(t,n,r){return function(a){if(typeof t!="function")n[r].call(n,a);else{var o;try{o=t(a)}catch(l){n.reject(l);return}Z6t(n,o)}}},Z6t=function e(t,n){if(t===n||t.proxy===n){t.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Zi(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(o){t.reject(o);return}if(typeof r=="function"){var a=!1;try{r.call(n,function(o){a||(a=!0,o===n?t.reject(new TypeError("circular thenable chain")):e(t,o))},function(o){a||(a=!0,t.reject(o))})}catch(o){a||t.reject(o)}return}t.fulfill(n)};Ph.all=function(e){return new Ph(function(t,n){for(var r=new Array(e.length),a=0,o=function(h,f){r[h]=f,a++,a===e.length&&t(r)},l=0;l<e.length;l++)(function(u){var h=e[u],f=h!=null&&h.then!=null;if(f)h.then(function(p){o(u,p)},function(p){n(p)});else{var d=h;o(u,d)}})(l)})};Ph.resolve=function(e){return new Ph(function(t,n){t(e)})};Ph.reject=function(e){return new Ph(function(t,n){n(e)})};var Xv=typeof Promise<"u"?Promise:Ph,V7=function(t,n,r){var a=BP(t),o=!a,l=this._private=en({duration:1e3},n,r);if(l.target=t,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&Xr(l.complete)&&l.completes.push(l.complete),o){var u=t.position();l.startPosition=l.startPosition||{x:u.x,y:u.y},l.startStyle=l.startStyle||t.cy().style().getAnimationStartStyle(t,l.style)}if(a){var h=t.pan();l.startPan={x:h.x,y:h.y},l.startZoom=t.zoom()}this.length=1,this[0]=this},xp=V7.prototype;en(xp,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var n,r=t.target._private.animation;t.queue?n=r.queue:n=r.current,n.push(this),Ho(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var n=this._private;return t===void 0?n.progress*n.duration:this.progress(t/n.duration)},progress:function(t){var n=this._private,r=n.playing;return t===void 0?n.progress:(r&&this.pause(),n.progress=t,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,n=t.playing;n&&this.pause(),t.progress=1-t.progress,t.started=!1;var r=function(f,d){var p=t[f];p!=null&&(t[f]=t[d],t[d]=p)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var o=t.style[a],l=o.name,u=t.startStyle[l];t.startStyle[l]=o,t.style[a]=u}return n&&this.play(),this},promise:function(t){var n=this._private,r;switch(t){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new Xv(function(a,o){r.push(function(){a()})})}});xp.complete=xp.completed;xp.run=xp.play;xp.running=xp.playing;var Q6t={animated:function(){return function(){var n=this,r=n.length!==void 0,a=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return!1;var l=a[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,a=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<a.length;l++){var u=a[l];u._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var a=this,o=a.length!==void 0,l=o?a:[a],u=this._private.cy||this,h=!o,f=!h;if(!u.styleEnabled())return this;var d=u.style();n=en({},n,r);var p=Object.keys(n).length===0;if(p)return new V7(l[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(f&&(n.style=d.getPropsList(n.style||n.css),n.css=void 0),f&&n.renderedPosition!=null){var g=n.renderedPosition,m=u.pan(),y=u.zoom();n.position=bme(g,y,m)}if(h&&n.panBy!=null){var b=n.panBy,T=u.pan();n.pan={x:T.x+b.x,y:T.y+b.y}}var E=n.center||n.centre;if(h&&E!=null){var w=u.getCenterPan(E.eles,n.zoom);w!=null&&(n.pan=w)}if(h&&n.fit!=null){var x=n.fit,S=u.getFitViewport(x.eles||x.boundingBox,x.padding);S!=null&&(n.pan=S.pan,n.zoom=S.zoom)}if(h&&Hn(n.zoom)){var A=u.getZoomedViewport(n.zoom);A!=null?(A.zoomed&&(n.zoom=A.zoom),A.panned&&(n.pan=A.pan)):n.zoom=null}return new V7(l[0],n)}},animate:function(){return function(n,r){var a=this,o=a.length!==void 0,l=o?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;r&&(n=en({},n,r));for(var h=0;h<l.length;h++){var f=l[h],d=f.animated()&&(n.queue===void 0||n.queue),p=f.animation(n,d?{queue:!0}:void 0);p.play()}return this}},stop:function(){return function(n,r){var a=this,o=a.length!==void 0,l=o?a:[a],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var h=0;h<l.length;h++){for(var f=l[h],d=f._private,p=d.animation.current,g=0;g<p.length;g++){var m=p[g],y=m._private;r&&(y.duration=0)}n&&(d.animation.queue=[]),r||(d.animation.current=[])}return u.notify("draw"),this}}},J6t=Array.isArray,hI=J6t,eIt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tIt=/^\w*$/;function nIt(e,t){if(hI(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||UE(e)?!0:tIt.test(e)||!eIt.test(e)||t!=null&&e in Object(t)}var rIt=nIt,iIt="[object AsyncFunction]",aIt="[object Function]",sIt="[object GeneratorFunction]",oIt="[object Proxy]";function lIt(e){if(!Tp(e))return!1;var t=ume(e);return t==aIt||t==sIt||t==iIt||t==oIt}var cIt=lIt,uIt=oI["__core-js_shared__"],Mk=uIt,iX=function(){var e=/[^.]+$/.exec(Mk&&Mk.keys&&Mk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hIt(e){return!!iX&&iX in e}var fIt=hIt,dIt=Function.prototype,pIt=dIt.toString;function gIt(e){if(e!=null){try{return pIt.call(e)}catch{}try{return e+""}catch{}}return""}var mIt=gIt,vIt=/[\\^$.*+?()[\]{}|]/g,yIt=/^\[object .+?Constructor\]$/,bIt=Function.prototype,TIt=Object.prototype,EIt=bIt.toString,wIt=TIt.hasOwnProperty,xIt=RegExp("^"+EIt.call(wIt).replace(vIt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SIt(e){if(!Tp(e)||fIt(e))return!1;var t=cIt(e)?xIt:yIt;return t.test(mIt(e))}var AIt=SIt;function IIt(e,t){return e==null?void 0:e[t]}var CIt=IIt;function RIt(e,t){var n=CIt(e,t);return AIt(n)?n:void 0}var qP=RIt,kIt=qP(Object,"create"),xT=kIt;function OIt(){this.__data__=xT?xT(null):{},this.size=0}var NIt=OIt;function LIt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _It=LIt,DIt="__lodash_hash_undefined__",MIt=Object.prototype,PIt=MIt.hasOwnProperty;function FIt(e){var t=this.__data__;if(xT){var n=t[e];return n===DIt?void 0:n}return PIt.call(t,e)?t[e]:void 0}var BIt=FIt,HIt=Object.prototype,$It=HIt.hasOwnProperty;function WIt(e){var t=this.__data__;return xT?t[e]!==void 0:$It.call(t,e)}var UIt=WIt,GIt="__lodash_hash_undefined__";function zIt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xT&&t===void 0?GIt:t,this}var YIt=zIt;function Kv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kv.prototype.clear=NIt;Kv.prototype.delete=_It;Kv.prototype.get=BIt;Kv.prototype.has=UIt;Kv.prototype.set=YIt;var aX=Kv;function VIt(){this.__data__=[],this.size=0}var qIt=VIt;function jIt(e,t){return e===t||e!==e&&t!==t}var Mme=jIt;function XIt(e,t){for(var n=e.length;n--;)if(Mme(e[n][0],t))return n;return-1}var fI=XIt,KIt=Array.prototype,ZIt=KIt.splice;function QIt(e){var t=this.__data__,n=fI(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ZIt.call(t,n,1),--this.size,!0}var JIt=QIt;function eCt(e){var t=this.__data__,n=fI(t,e);return n<0?void 0:t[n][1]}var tCt=eCt;function nCt(e){return fI(this.__data__,e)>-1}var rCt=nCt;function iCt(e,t){var n=this.__data__,r=fI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var aCt=iCt;function Zv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zv.prototype.clear=qIt;Zv.prototype.delete=JIt;Zv.prototype.get=tCt;Zv.prototype.has=rCt;Zv.prototype.set=aCt;var sCt=Zv,oCt=qP(oI,"Map"),lCt=oCt;function cCt(){this.size=0,this.__data__={hash:new aX,map:new(lCt||sCt),string:new aX}}var uCt=cCt;function hCt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fCt=hCt;function dCt(e,t){var n=e.__data__;return fCt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var dI=dCt;function pCt(e){var t=dI(this,e).delete(e);return this.size-=t?1:0,t}var gCt=pCt;function mCt(e){return dI(this,e).get(e)}var vCt=mCt;function yCt(e){return dI(this,e).has(e)}var bCt=yCt;function TCt(e,t){var n=dI(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ECt=TCt;function Qv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qv.prototype.clear=uCt;Qv.prototype.delete=gCt;Qv.prototype.get=vCt;Qv.prototype.has=bCt;Qv.prototype.set=ECt;var Pme=Qv,wCt="Expected a function";function jP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wCt);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var l=e.apply(this,r);return n.cache=o.set(a,l)||o,l};return n.cache=new(jP.Cache||Pme),n}jP.Cache=Pme;var xCt=jP,SCt=500;function ACt(e){var t=xCt(e,function(r){return n.size===SCt&&n.clear(),r}),n=t.cache;return t}var ICt=ACt,CCt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RCt=/\\(\\)?/g,kCt=ICt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(CCt,function(n,r,a,o){t.push(a?o.replace(RCt,"$1"):r||n)}),t}),Fme=kCt;function OCt(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Bme=OCt,sX=sv?sv.prototype:void 0,oX=sX?sX.toString:void 0;function Hme(e){if(typeof e=="string")return e;if(hI(e))return Bme(e,Hme)+"";if(UE(e))return oX?oX.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var NCt=Hme;function LCt(e){return e==null?"":NCt(e)}var $me=LCt;function _Ct(e,t){return hI(e)?e:rIt(e,t)?[e]:Fme($me(e))}var Wme=_Ct;function DCt(e){if(typeof e=="string"||UE(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var XP=DCt;function MCt(e,t){t=Wme(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[XP(t[n++])];return n&&n==r?e:void 0}var PCt=MCt;function FCt(e,t,n){var r=e==null?void 0:PCt(e,t);return r===void 0?n:r}var BCt=FCt,HCt=function(){try{var e=qP(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lX=HCt;function $Ct(e,t,n){t=="__proto__"&&lX?lX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var WCt=$Ct,UCt=Object.prototype,GCt=UCt.hasOwnProperty;function zCt(e,t,n){var r=e[t];(!(GCt.call(e,t)&&Mme(r,n))||n===void 0&&!(t in e))&&WCt(e,t,n)}var YCt=zCt,VCt=9007199254740991,qCt=/^(?:0|[1-9]\d*)$/;function jCt(e,t){var n=typeof e;return t=t??VCt,!!t&&(n=="number"||n!="symbol"&&qCt.test(e))&&e>-1&&e%1==0&&e<t}var XCt=jCt;function KCt(e,t,n,r){if(!Tp(e))return e;t=Wme(t,e);for(var a=-1,o=t.length,l=o-1,u=e;u!=null&&++a<o;){var h=XP(t[a]),f=n;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(a!=l){var d=u[h];f=r?r(d,h,u):void 0,f===void 0&&(f=Tp(d)?d:XCt(t[a+1])?[]:{})}YCt(u,h,f),u=u[h]}return e}var ZCt=KCt;function QCt(e,t,n){return e==null?e:ZCt(e,t,n)}var JCt=QCt;function eRt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var tRt=eRt;function nRt(e){return hI(e)?Bme(e,XP):UE(e)?[e]:tRt(Fme($me(e)))}var rRt=nRt,iRt={data:function(t){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,o){},onSet:function(a){},canSet:function(a){return!0}};return t=en({},n,t),function(a,o){var l=t,u=this,h=u.length!==void 0,f=h?u:[u],d=h?u[0]:u;if(zt(a)){var p=a.indexOf(".")!==-1,g=p&&rRt(a);if(l.allowGetting&&o===void 0){var m;return d&&(l.beforeGet(d),g&&d._private[l.field][a]===void 0?m=BCt(d._private[l.field],g):m=d._private[l.field][a]),m}else if(l.allowSetting&&o!==void 0){var y=!l.immutableKeys[a];if(y){var b=J1e({},a,o);l.beforeSet(u,b);for(var T=0,E=f.length;T<E;T++){var w=f[T];l.canSet(w)&&(g&&d._private[l.field][a]===void 0?JCt(w._private[l.field],g,o):w._private[l.field][a]=o)}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&Hn(a)){var x=a,S,A,R=Object.keys(x);l.beforeSet(u,x);for(var C=0;C<R.length;C++){S=R[C],A=x[S];var N=!l.immutableKeys[S];if(N)for(var O=0;O<f.length;O++){var L=f[O];l.canSet(L)&&(L._private[l.field][S]=A)}}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&Xr(a)){var k=a;u.on(l.bindingEvent,k)}else if(l.allowGetting&&a===void 0){var M;return d&&(l.beforeGet(d),M=d._private[l.field]),M}return u}},removeData:function(t){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=en({},n,t),function(a){var o=t,l=this,u=l.length!==void 0,h=u?l:[l];if(zt(a)){for(var f=a.split(/\s+/),d=f.length,p=0;p<d;p++){var g=f[p];if(!uf(g)){var m=!o.immutableKeys[g];if(m)for(var y=0,b=h.length;y<b;y++)h[y]._private[o.field][g]=void 0}}o.triggerEvent&&l[o.triggerFnName](o.event)}else if(a===void 0){for(var T=0,E=h.length;T<E;T++)for(var w=h[T]._private[o.field],x=Object.keys(w),S=0;S<x.length;S++){var A=x[S],R=!o.immutableKeys[A];R&&(w[A]=void 0)}o.triggerEvent&&l[o.triggerFnName](o.event)}return l}}},aRt={eventAliasesOn:function(t){var n=t;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,a){var o=this,l=Array.prototype.slice.call(arguments,0);return new Xv(function(u,h){var f=function(m){o.off.apply(o,p),u(m)},d=l.concat([f]),p=d.concat([]);o.on.apply(o,d)})}}},Zn={};[Q6t,iRt,aRt].forEach(function(e){en(Zn,e)});var sRt={animate:Zn.animate(),animation:Zn.animation(),animated:Zn.animated(),clearQueue:Zn.clearQueue(),delay:Zn.delay(),delayAnimation:Zn.delayAnimation(),stop:Zn.stop()},$x={classes:function(t){var n=this;if(t===void 0){var r=[];return n[0]._private.classes.forEach(function(y){return r.push(y)}),r}else hr(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],o=new jv(t),l=0;l<n.length;l++){for(var u=n[l],h=u._private,f=h.classes,d=!1,p=0;p<t.length;p++){var g=t[p],m=f.has(g);if(!m){d=!0;break}}d||(d=f.size!==t.length),d&&(h.classes=o,a.push(u))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var n=this[0];return n!=null&&n._private.classes.has(t)},toggleClass:function(t,n){hr(t)||(t=t.match(/\S+/g)||[]);for(var r=this,a=n===void 0,o=[],l=0,u=r.length;l<u;l++)for(var h=r[l],f=h._private.classes,d=!1,p=0;p<t.length;p++){var g=t[p],m=f.has(g),y=!1;n||a&&!m?(f.add(g),y=!0):(!n||a&&m)&&(f.delete(g),y=!0),!d&&y&&(o.push(h),d=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(t),setTimeout(function(){r.removeClass(t)},n),r}};$x.className=$x.classNames=$x.classes;var Dn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:qi,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Dn.variable="(?:[\\w-.]|(?:\\\\"+Dn.metaChar+"))+";Dn.className="(?:[\\w-]|(?:\\\\"+Dn.metaChar+"))+";Dn.value=Dn.string+"|"+Dn.number;Dn.id=Dn.variable;(function(){var e,t,n;for(e=Dn.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],Dn.comparatorOp+="|@"+t;for(e=Dn.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],!(t.indexOf("!")>=0)&&t!=="="&&(Dn.comparatorOp+="|\\!"+t)})();var ar=function(){return{checks:[]}},Ot={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},q7=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return E5t(e.selector,t.selector)}),oRt=function(){for(var e={},t,n=0;n<q7.length;n++)t=q7[n],e[t.selector]=t.matches;return e}(),lRt=function(t,n){return oRt[t](n)},cRt="("+q7.map(function(e){return e.selector}).join("|")+")",yg=function(t){return t.replace(new RegExp("\\\\("+Dn.metaChar+")","g"),function(n,r){return r})},u0=function(t,n,r){t[t.length-1]=r},j7=[{name:"group",query:!0,regex:"("+Dn.group+")",populate:function(t,n,r){var a=sa(r,1),o=a[0];n.checks.push({type:Ot.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:cRt,populate:function(t,n,r){var a=sa(r,1),o=a[0];n.checks.push({type:Ot.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+Dn.id+")",populate:function(t,n,r){var a=sa(r,1),o=a[0];n.checks.push({type:Ot.ID,value:yg(o)})}},{name:"className",query:!0,regex:"\\.("+Dn.className+")",populate:function(t,n,r){var a=sa(r,1),o=a[0];n.checks.push({type:Ot.CLASS,value:yg(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Dn.variable+")\\s*\\]",populate:function(t,n,r){var a=sa(r,1),o=a[0];n.checks.push({type:Ot.DATA_EXIST,field:yg(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Dn.variable+")\\s*("+Dn.comparatorOp+")\\s*("+Dn.value+")\\s*\\]",populate:function(t,n,r){var a=sa(r,3),o=a[0],l=a[1],u=a[2],h=new RegExp("^"+Dn.string+"$").exec(u)!=null;h?u=u.substring(1,u.length-1):u=parseFloat(u),n.checks.push({type:Ot.DATA_COMPARE,field:yg(o),operator:l,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Dn.boolOp+")\\s*("+Dn.variable+")\\s*\\]",populate:function(t,n,r){var a=sa(r,2),o=a[0],l=a[1];n.checks.push({type:Ot.DATA_BOOL,field:yg(l),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Dn.meta+")\\s*("+Dn.comparatorOp+")\\s*("+Dn.number+")\\s*\\]\\]",populate:function(t,n,r){var a=sa(r,3),o=a[0],l=a[1],u=a[2];n.checks.push({type:Ot.META_COMPARE,field:yg(o),operator:l,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:Dn.separator,populate:function(t,n){var r=t.currentSubject,a=t.edgeCount,o=t.compoundCount,l=t[t.length-1];r!=null&&(l.subject=r,t.currentSubject=null),l.edgeCount=a,l.compoundCount=o,t.edgeCount=0,t.compoundCount=0;var u=t[t.length++]=ar();return u}},{name:"directedEdge",separator:!0,regex:Dn.directedEdge,populate:function(t,n){if(t.currentSubject==null){var r=ar(),a=n,o=ar();return r.checks.push({type:Ot.DIRECTED_EDGE,source:a,target:o}),u0(t,n,r),t.edgeCount++,o}else{var l=ar(),u=n,h=ar();return l.checks.push({type:Ot.NODE_SOURCE,source:u,target:h}),u0(t,n,l),t.edgeCount++,h}}},{name:"undirectedEdge",separator:!0,regex:Dn.undirectedEdge,populate:function(t,n){if(t.currentSubject==null){var r=ar(),a=n,o=ar();return r.checks.push({type:Ot.UNDIRECTED_EDGE,nodes:[a,o]}),u0(t,n,r),t.edgeCount++,o}else{var l=ar(),u=n,h=ar();return l.checks.push({type:Ot.NODE_NEIGHBOR,node:u,neighbor:h}),u0(t,n,l),h}}},{name:"child",separator:!0,regex:Dn.child,populate:function(t,n){if(t.currentSubject==null){var r=ar(),a=ar(),o=t[t.length-1];return r.checks.push({type:Ot.CHILD,parent:o,child:a}),u0(t,n,r),t.compoundCount++,a}else if(t.currentSubject===n){var l=ar(),u=t[t.length-1],h=ar(),f=ar(),d=ar(),p=ar();return l.checks.push({type:Ot.COMPOUND_SPLIT,left:u,right:h,subject:f}),f.checks=n.checks,n.checks=[{type:Ot.TRUE}],p.checks.push({type:Ot.TRUE}),h.checks.push({type:Ot.PARENT,parent:p,child:d}),u0(t,u,l),t.currentSubject=f,t.compoundCount++,d}else{var g=ar(),m=ar(),y=[{type:Ot.PARENT,parent:g,child:m}];return g.checks=n.checks,n.checks=y,t.compoundCount++,m}}},{name:"descendant",separator:!0,regex:Dn.descendant,populate:function(t,n){if(t.currentSubject==null){var r=ar(),a=ar(),o=t[t.length-1];return r.checks.push({type:Ot.DESCENDANT,ancestor:o,descendant:a}),u0(t,n,r),t.compoundCount++,a}else if(t.currentSubject===n){var l=ar(),u=t[t.length-1],h=ar(),f=ar(),d=ar(),p=ar();return l.checks.push({type:Ot.COMPOUND_SPLIT,left:u,right:h,subject:f}),f.checks=n.checks,n.checks=[{type:Ot.TRUE}],p.checks.push({type:Ot.TRUE}),h.checks.push({type:Ot.ANCESTOR,ancestor:p,descendant:d}),u0(t,u,l),t.currentSubject=f,t.compoundCount++,d}else{var g=ar(),m=ar(),y=[{type:Ot.ANCESTOR,ancestor:g,descendant:m}];return g.checks=n.checks,n.checks=y,t.compoundCount++,m}}},{name:"subject",modifier:!0,regex:Dn.subject,populate:function(t,n){if(t.currentSubject!=null&&t.currentSubject!==n)return er("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=n;var r=t[t.length-1],a=r.checks[0],o=a==null?null:a.type;o===Ot.DIRECTED_EDGE?a.type=Ot.NODE_TARGET:o===Ot.UNDIRECTED_EDGE&&(a.type=Ot.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];j7.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var uRt=function(t){for(var n,r,a,o=0;o<j7.length;o++){var l=j7[o],u=l.name,h=t.match(l.regexObj);if(h!=null){r=h,n=l,a=u;var f=h[0];t=t.substring(f.length);break}}return{expr:n,match:r,name:a,remaining:t}},hRt=function(t){var n=t.match(/^\s+/);if(n){var r=n[0];t=t.substring(r.length)}return t},fRt=function(t){var n=this,r=n.inputText=t,a=n[0]=ar();for(n.length=1,r=hRt(r);;){var o=uRt(r);if(o.expr==null)return er("The selector `"+t+"`is invalid"),!1;var l=o.match.slice(1),u=o.expr.populate(n,a,l);if(u===!1)return!1;if(u!=null&&(a=u),r=o.remaining,r.match(/^\s*$/))break}var h=n[n.length-1];n.currentSubject!=null&&(h.subject=n.currentSubject),h.edgeCount=n.edgeCount,h.compoundCount=n.compoundCount;for(var f=0;f<n.length;f++){var d=n[f];if(d.compoundCount>0&&d.edgeCount>0)return er("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return er("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&er("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},dRt=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(d){return d??""},n=function(d){return zt(d)?'"'+d+'"':t(d)},r=function(d){return" "+d+" "},a=function(d,p){var g=d.type,m=d.value;switch(g){case Ot.GROUP:{var y=t(m);return y.substring(0,y.length-1)}case Ot.DATA_COMPARE:{var b=d.field,T=d.operator;return"["+b+r(t(T))+n(m)+"]"}case Ot.DATA_BOOL:{var E=d.operator,w=d.field;return"["+t(E)+w+"]"}case Ot.DATA_EXIST:{var x=d.field;return"["+x+"]"}case Ot.META_COMPARE:{var S=d.operator,A=d.field;return"[["+A+r(t(S))+n(m)+"]]"}case Ot.STATE:return m;case Ot.ID:return"#"+m;case Ot.CLASS:return"."+m;case Ot.PARENT:case Ot.CHILD:return o(d.parent,p)+r(">")+o(d.child,p);case Ot.ANCESTOR:case Ot.DESCENDANT:return o(d.ancestor,p)+" "+o(d.descendant,p);case Ot.COMPOUND_SPLIT:{var R=o(d.left,p),C=o(d.subject,p),N=o(d.right,p);return R+(R.length>0?" ":"")+C+N}case Ot.TRUE:return""}},o=function(d,p){return d.checks.reduce(function(g,m,y){return g+(p===d&&y===0?"$":"")+a(m,p)},"")},l="",u=0;u<this.length;u++){var h=this[u];l+=o(h,h.subject),this.length>1&&u<this.length-1&&(l+=", ")}return this.toStringCache=l,l},pRt={parse:fRt,toString:dRt},Ume=function(t,n,r){var a,o=zt(t),l=Tt(t),u=zt(r),h,f,d=!1,p=!1,g=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),p=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),d=!0),(o||u||d)&&(h=!o&&!l?"":""+t,f=""+r),d&&(t=h=h.toLowerCase(),r=f=f.toLowerCase()),n){case"*=":a=h.indexOf(f)>=0;break;case"$=":a=h.indexOf(f,h.length-f.length)>=0;break;case"^=":a=h.indexOf(f)===0;break;case"=":a=t===r;break;case">":g=!0,a=t>r;break;case">=":g=!0,a=t>=r;break;case"<":g=!0,a=t<r;break;case"<=":g=!0,a=t<=r;break;default:a=!1;break}return p&&(t!=null||!g)&&(a=!a),a},gRt=function(t,n){switch(n){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},mRt=function(t){return t!==void 0},KP=function(t,n){return t.data(n)},vRt=function(t,n){return t[n]()},li=[],Nr=function(t,n){return t.checks.every(function(r){return li[r.type](r,n)})};li[Ot.GROUP]=function(e,t){var n=e.value;return n==="*"||n===t.group()};li[Ot.STATE]=function(e,t){var n=e.value;return lRt(n,t)};li[Ot.ID]=function(e,t){var n=e.value;return t.id()===n};li[Ot.CLASS]=function(e,t){var n=e.value;return t.hasClass(n)};li[Ot.META_COMPARE]=function(e,t){var n=e.field,r=e.operator,a=e.value;return Ume(vRt(t,n),r,a)};li[Ot.DATA_COMPARE]=function(e,t){var n=e.field,r=e.operator,a=e.value;return Ume(KP(t,n),r,a)};li[Ot.DATA_BOOL]=function(e,t){var n=e.field,r=e.operator;return gRt(KP(t,n),r)};li[Ot.DATA_EXIST]=function(e,t){var n=e.field;return e.operator,mRt(KP(t,n))};li[Ot.UNDIRECTED_EDGE]=function(e,t){var n=e.nodes[0],r=e.nodes[1],a=t.source(),o=t.target();return Nr(n,a)&&Nr(r,o)||Nr(r,a)&&Nr(n,o)};li[Ot.NODE_NEIGHBOR]=function(e,t){return Nr(e.node,t)&&t.neighborhood().some(function(n){return n.isNode()&&Nr(e.neighbor,n)})};li[Ot.DIRECTED_EDGE]=function(e,t){return Nr(e.source,t.source())&&Nr(e.target,t.target())};li[Ot.NODE_SOURCE]=function(e,t){return Nr(e.source,t)&&t.outgoers().some(function(n){return n.isNode()&&Nr(e.target,n)})};li[Ot.NODE_TARGET]=function(e,t){return Nr(e.target,t)&&t.incomers().some(function(n){return n.isNode()&&Nr(e.source,n)})};li[Ot.CHILD]=function(e,t){return Nr(e.child,t)&&Nr(e.parent,t.parent())};li[Ot.PARENT]=function(e,t){return Nr(e.parent,t)&&t.children().some(function(n){return Nr(e.child,n)})};li[Ot.DESCENDANT]=function(e,t){return Nr(e.descendant,t)&&t.ancestors().some(function(n){return Nr(e.ancestor,n)})};li[Ot.ANCESTOR]=function(e,t){return Nr(e.ancestor,t)&&t.descendants().some(function(n){return Nr(e.descendant,n)})};li[Ot.COMPOUND_SPLIT]=function(e,t){return Nr(e.subject,t)&&Nr(e.left,t)&&Nr(e.right,t)};li[Ot.TRUE]=function(){return!0};li[Ot.COLLECTION]=function(e,t){var n=e.value;return n.has(t)};li[Ot.FILTER]=function(e,t){var n=e.value;return n(t)};var yRt=function(t){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===Ot.ID)return t.getElementById(n[0].checks[0].value).collection();var r=function(o){for(var l=0;l<n.length;l++){var u=n[l];if(Nr(u,o))return!0}return!1};return n.text()==null&&(r=function(){return!0}),t.filter(r)},bRt=function(t){for(var n=this,r=0;r<n.length;r++){var a=n[r];if(Nr(a,t))return!0}return!1},TRt={matches:bRt,filter:yRt},df=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||zt(t)&&t.match(/^\s*$/)||(Ho(t)?this.addQuery({checks:[{type:Ot.COLLECTION,value:t.collection()}]}):Xr(t)?this.addQuery({checks:[{type:Ot.FILTER,value:t}]}):zt(t)?this.parse(t)||(this.invalid=!0):Vr("A selector must be created from a string; found "))},pf=df.prototype;[pRt,TRt].forEach(function(e){return en(pf,e)});pf.text=function(){return this.inputText};pf.size=function(){return this.length};pf.eq=function(e){return this[e]};pf.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};pf.addQuery=function(e){this[this.length++]=e};pf.selector=pf.toString;var $0={allAre:function(t){var n=new df(t);return this.every(function(r){return n.matches(r)})},is:function(t){var n=new df(t);return this.some(function(r){return n.matches(r)})},some:function(t,n){for(var r=0;r<this.length;r++){var a=n?t.apply(n,[this[r],r,this]):t(this[r],r,this);if(a)return!0}return!1},every:function(t,n){for(var r=0;r<this.length;r++){var a=n?t.apply(n,[this[r],r,this]):t(this[r],r,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var n=this.length,r=t.length;return n!==r?!1:n===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(n){return t.hasElementWithId(n.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var n=this.neighborhood();return t.every(function(r){return n.hasElementWithId(r.id())})},contains:function(t){t=this.cy().collection(t);var n=this;return t.every(function(r){return n.hasElementWithId(r.id())})}};$0.allAreNeighbours=$0.allAreNeighbors;$0.has=$0.contains;$0.equal=$0.equals=$0.same;var gl=function(t,n){return function(a,o,l,u){var h=a,f=this,d;if(h==null?d="":Ho(h)&&h.length===1&&(d=h.id()),f.length===1&&d){var p=f[0]._private,g=p.traversalCache=p.traversalCache||{},m=g[n]=g[n]||[],y=hf(d),b=m[y];return b||(m[y]=t.call(f,a,o,l,u))}else return t.call(f,a,o,l,u)}},cv={parent:function(t){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var a=0;a<this.length;a++){var o=this[a],l=o._private.parent;l&&n.push(l)}return this.spawn(n,!0).filter(t)},parents:function(t){for(var n=[],r=this.parent();r.nonempty();){for(var a=0;a<r.length;a++){var o=r[a];n.push(o)}r=r.parent()}return this.spawn(n,!0).filter(t)},commonAncestors:function(t){for(var n,r=0;r<this.length;r++){var a=this[r],o=a.parents();n=n||o,n=n.intersect(o)}return n.filter(t)},orphans:function(t){return this.stdFilter(function(n){return n.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(n){return n.isChild()}).filter(t)},children:gl(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n],a=r._private.children,o=0;o<a.length;o++)t.push(a[o]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var n=[];function r(a){for(var o=0;o<a.length;o++){var l=a[o];n.push(l),l.children().nonempty()&&r(l.children())}}return r(this.children()),this.spawn(n,!0).filter(t)}};function ZP(e,t,n,r){for(var a=[],o=new jv,l=e.cy(),u=l.hasCompoundNodes(),h=0;h<e.length;h++){var f=e[h];n?a.push(f):u&&r(a,o,f)}for(;a.length>0;){var d=a.shift();t(d),o.add(d.id()),u&&r(a,o,d)}return e}function Gme(e,t,n){if(n.isParent())for(var r=n._private.children,a=0;a<r.length;a++){var o=r[a];t.has(o.id())||e.push(o)}}cv.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ZP(this,e,t,Gme)};function zme(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}cv.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ZP(this,e,t,zme)};function ERt(e,t,n){zme(e,t,n),Gme(e,t,n)}cv.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ZP(this,e,t,ERt)};cv.ancestors=cv.parents;var ST,Yme;ST=Yme={data:Zn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Zn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Zn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Zn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Zn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Zn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};ST.attr=ST.data;ST.removeAttr=ST.removeData;var wRt=Yme,pI={};function Pk(e){return function(t){var n=this;if(t===void 0&&(t=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,a=n[0],o=a._private.edges,l=0;l<o.length;l++){var u=o[l];!t&&u.isLoop()||(r+=e(a,u))}return r}else return}}en(pI,{degree:Pk(function(e,t){return t.source().same(t.target())?2:1}),indegree:Pk(function(e,t){return t.target().same(e)?1:0}),outdegree:Pk(function(e,t){return t.source().same(e)?1:0})});function bg(e,t){return function(n){for(var r,a=this.nodes(),o=0;o<a.length;o++){var l=a[o],u=l[e](n);u!==void 0&&(r===void 0||t(u,r))&&(r=u)}return r}}en(pI,{minDegree:bg("degree",function(e,t){return e<t}),maxDegree:bg("degree",function(e,t){return e>t}),minIndegree:bg("indegree",function(e,t){return e<t}),maxIndegree:bg("indegree",function(e,t){return e>t}),minOutdegree:bg("outdegree",function(e,t){return e<t}),maxOutdegree:bg("outdegree",function(e,t){return e>t})});en(pI,{totalDegree:function(t){for(var n=0,r=this.nodes(),a=0;a<r.length;a++)n+=r[a].degree(t);return n}});var dc,Vme,qme=function(t,n,r){for(var a=0;a<t.length;a++){var o=t[a];if(!o.locked()){var l=o._private.position,u={x:n.x!=null?n.x-l.x:0,y:n.y!=null?n.y-l.y:0};o.isParent()&&!(u.x===0&&u.y===0)&&o.children().shift(u,r),o.dirtyBoundingBoxCache()}}},cX={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,n){qme(t,n,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};dc=Vme={position:Zn.data(cX),silentPosition:Zn.data(en({},cX,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,n){qme(t,n,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,n){if(Hn(t))n?this.silentPosition(t):this.position(t);else if(Xr(t)){var r=t,a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var l=this[o],u=void 0;(u=r(l,o))&&(n?l.silentPosition(u):l.position(u))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,n,r){var a;if(Hn(t)?(a={x:Tt(t.x)?t.x:0,y:Tt(t.y)?t.y:0},r=n):zt(t)&&Tt(n)&&(a={x:0,y:0},a[t]=n),a!=null){var o=this.cy();o.startBatch();for(var l=0;l<this.length;l++){var u=this[l];if(!(o.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var h=u.position(),f={x:h.x+a.x,y:h.y+a.y};r?u.silentPosition(f):u.position(f)}}o.endBatch()}return this},silentShift:function(t,n){return Hn(t)?this.shift(t,!0):zt(t)&&Tt(n)&&this.shift(t,n,!0),this},renderedPosition:function(t,n){var r=this[0],a=this.cy(),o=a.zoom(),l=a.pan(),u=Hn(t)?t:void 0,h=u!==void 0||n!==void 0&&zt(t);if(r&&r.isNode())if(h)for(var f=0;f<this.length;f++){var d=this[f];n!==void 0?d.position(t,(n-l[t])/o):u!==void 0&&d.position(bme(u,o,l))}else{var p=r.position();return u=cI(p,o,l),t===void 0?u:u[t]}else if(!h)return;return this},relativePosition:function(t,n){var r=this[0],a=this.cy(),o=Hn(t)?t:void 0,l=o!==void 0||n!==void 0&&zt(t),u=a.hasCompoundNodes();if(r&&r.isNode())if(l)for(var h=0;h<this.length;h++){var f=this[h],d=u?f.parent():null,p=d&&d.length>0,g=p;p&&(d=d[0]);var m=g?d.position():{x:0,y:0};n!==void 0?f.position(t,n+m[t]):o!==void 0&&f.position({x:o.x+m.x,y:o.y+m.y})}else{var y=r.position(),b=u?r.parent():null,T=b&&b.length>0,E=T;T&&(b=b[0]);var w=E?b.position():{x:0,y:0};return o={x:y.x-w.x,y:y.y-w.y},t===void 0?o:o[t]}else if(!l)return;return this}};dc.modelPosition=dc.point=dc.position;dc.modelPositions=dc.points=dc.positions;dc.renderedPoint=dc.renderedPosition;dc.relativePoint=dc.relativePosition;var xRt=Vme,R1,Df;R1=Df={};Df.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),a=n.pan(),o=t.x1*r+a.x,l=t.x2*r+a.x,u=t.y1*r+a.y,h=t.y2*r+a.y;return{x1:o,x2:l,y1:u,y2:h,w:l-o,h:h-u}};Df.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,e||n.emitAndNotify("bounds")}}),this)};Df.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(l){if(!l.isParent())return;var u=l._private,h=l.children(),f=l.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},p=h.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),g=u.position;(p.w===0||p.h===0)&&(p={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},p.x1=g.x-p.w/2,p.x2=g.x+p.w/2,p.y1=g.y-p.h/2,p.y2=g.y+p.h/2);function m(O,L,k){var M=0,$=0,_=L+k;return O>0&&_>0&&(M=L/_*O,$=k/_*O),{biasDiff:M,biasComplementDiff:$}}function y(O,L,k,M){if(k.units==="%")switch(M){case"width":return O>0?k.pfValue*O:0;case"height":return L>0?k.pfValue*L:0;case"average":return O>0&&L>0?k.pfValue*(O+L)/2:0;case"min":return O>0&&L>0?O>L?k.pfValue*L:k.pfValue*O:0;case"max":return O>0&&L>0?O>L?k.pfValue*O:k.pfValue*L:0;default:return 0}else return k.units==="px"?k.pfValue:0}var b=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(b=b*100/d.width.val);var T=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(T=T*100/d.width.val);var E=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(E=E*100/d.height.val);var w=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(w=w*100/d.height.val);var x=m(d.width.val-p.w,b,T),S=x.biasDiff,A=x.biasComplementDiff,R=m(d.height.val-p.h,E,w),C=R.biasDiff,N=R.biasComplementDiff;u.autoPadding=y(p.w,p.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),u.autoWidth=Math.max(p.w,d.width.val),g.x=(-S+p.x1+p.x2+A)/2,u.autoHeight=Math.max(p.h,d.height.val),g.y=(-C+p.y1+p.y2+N)/2}for(var r=0;r<this.length;r++){var a=this[r],o=a._private;(!o.compoundBoundsClean||e)&&(n(a),t.batching()||(o.compoundBoundsClean=!0))}return this};var cl=function(t){return t===1/0||t===-1/0?0:t},Kl=function(t,n,r,a,o){a-n===0||o-r===0||n==null||r==null||a==null||o==null||(t.x1=n<t.x1?n:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=r<t.y1?r:t.y1,t.y2=o>t.y2?o:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},cd=function(t,n){return n==null?t:Kl(t,n.x1,n.y1,n.x2,n.y2)},jy=function(t,n,r){return ec(t,n,r)},C3=function(t,n,r){if(!n.cy().headless()){var a=n._private,o=a.rstyle,l=o.arrowWidth/2,u=n.pstyle(r+"-arrow-shape").value,h,f;if(u!=="none"){r==="source"?(h=o.srcX,f=o.srcY):r==="target"?(h=o.tgtX,f=o.tgtY):(h=o.midX,f=o.midY);var d=a.arrowBounds=a.arrowBounds||{},p=d[r]=d[r]||{};p.x1=h-l,p.y1=f-l,p.x2=h+l,p.y2=f+l,p.w=p.x2-p.x1,p.h=p.y2-p.y1,Bx(p,1),Kl(t,p.x1,p.y1,p.x2,p.y2)}}},Fk=function(t,n,r){if(!n.cy().headless()){var a;r?a=r+"-":a="";var o=n._private,l=o.rstyle,u=n.pstyle(a+"label").strValue;if(u){var h=n.pstyle("text-halign"),f=n.pstyle("text-valign"),d=jy(l,"labelWidth",r),p=jy(l,"labelHeight",r),g=jy(l,"labelX",r),m=jy(l,"labelY",r),y=n.pstyle(a+"text-margin-x").pfValue,b=n.pstyle(a+"text-margin-y").pfValue,T=n.isEdge(),E=n.pstyle(a+"text-rotation"),w=n.pstyle("text-outline-width").pfValue,x=n.pstyle("text-border-width").pfValue,S=x/2,A=n.pstyle("text-background-padding").pfValue,R=2,C=p,N=d,O=N/2,L=C/2,k,M,$,_;if(T)k=g-O,M=g+O,$=m-L,_=m+L;else{switch(h.value){case"left":k=g-N,M=g;break;case"center":k=g-O,M=g+O;break;case"right":k=g,M=g+N;break}switch(f.value){case"top":$=m-C,_=m;break;case"center":$=m-L,_=m+L;break;case"bottom":$=m,_=m+C;break}}var F=y-Math.max(w,S)-A-R,B=y+Math.max(w,S)+A+R,D=b-Math.max(w,S)-A-R,P=b+Math.max(w,S)+A+R;k+=F,M+=B,$+=D,_+=P;var H=r||"main",W=o.labelBounds,U=W[H]=W[H]||{};U.x1=k,U.y1=$,U.x2=M,U.y2=_,U.w=M-k,U.h=_-$,U.leftPad=F,U.rightPad=B,U.topPad=D,U.botPad=P;var V=T&&E.strValue==="autorotate",G=E.pfValue!=null&&E.pfValue!==0;if(V||G){var ee=V?jy(o.rstyle,"labelAngle",r):E.pfValue,ce=Math.cos(ee),Q=Math.sin(ee),re=(k+M)/2,le=($+_)/2;if(!T){switch(h.value){case"left":re=M;break;case"right":re=k;break}switch(f.value){case"top":le=_;break;case"bottom":le=$;break}}var Y=function(he,oe){return he=he-re,oe=oe-le,{x:he*ce-oe*Q+re,y:he*Q+oe*ce+le}},K=Y(k,$),Z=Y(k,_),z=Y(M,$),X=Y(M,_);k=Math.min(K.x,Z.x,z.x,X.x),M=Math.max(K.x,Z.x,z.x,X.x),$=Math.min(K.y,Z.y,z.y,X.y),_=Math.max(K.y,Z.y,z.y,X.y)}var te=H+"Rot",ne=W[te]=W[te]||{};ne.x1=k,ne.y1=$,ne.x2=M,ne.y2=_,ne.w=M-k,ne.h=_-$,Kl(t,k,$,M,_),Kl(o.labelBounds.all,k,$,M,_)}return t}},SRt=function(t,n){if(!n.cy().headless()){var r=n.pstyle("outline-opacity").value,a=n.pstyle("outline-width").value;if(r>0&&a>0){var o=n.pstyle("outline-offset").value,l=n.pstyle("shape").value,u=a+o,h=(t.w+u*2)/t.w,f=(t.h+u*2)/t.h,d=0,p=0;["diamond","pentagon","round-triangle"].includes(l)?(h=(t.w+u*2.4)/t.w,p=-u/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?h=(t.w+u*2.4)/t.w:l==="star"?(h=(t.w+u*2.8)/t.w,f=(t.h+u*2.6)/t.h,p=-u/3.8):l==="triangle"?(h=(t.w+u*2.8)/t.w,f=(t.h+u*2.4)/t.h,p=-u/1.4):l==="vee"&&(h=(t.w+u*4.4)/t.w,f=(t.h+u*3.8)/t.h,p=-u*.5);var g=t.h*f-t.h,m=t.w*h-t.w;if(Hx(t,[Math.ceil(g/2),Math.ceil(m/2)]),d!=0||p!==0){var y=qAt(t,d,p);Eme(t,y)}}}},ARt=function(t,n){var r=t._private.cy,a=r.styleEnabled(),o=r.headless(),l=ho(),u=t._private,h=t.isNode(),f=t.isEdge(),d,p,g,m,y,b,T=u.rstyle,E=h&&a?t.pstyle("bounds-expansion").pfValue:[0],w=function(Ae){return Ae.pstyle("display").value!=="none"},x=!a||w(t)&&(!f||w(t.source())&&w(t.target()));if(x){var S=0,A=0;a&&n.includeOverlays&&(S=t.pstyle("overlay-opacity").value,S!==0&&(A=t.pstyle("overlay-padding").value));var R=0,C=0;a&&n.includeUnderlays&&(R=t.pstyle("underlay-opacity").value,R!==0&&(C=t.pstyle("underlay-padding").value));var N=Math.max(A,C),O=0,L=0;if(a&&(O=t.pstyle("width").pfValue,L=O/2),h&&n.includeNodes){var k=t.position();y=k.x,b=k.y;var M=t.outerWidth(),$=M/2,_=t.outerHeight(),F=_/2;d=y-$,p=y+$,g=b-F,m=b+F,Kl(l,d,g,p,m),a&&n.includeOutlines&&SRt(l,t)}else if(f&&n.includeEdges)if(a&&!o){var B=t.pstyle("curve-style").strValue;if(d=Math.min(T.srcX,T.midX,T.tgtX),p=Math.max(T.srcX,T.midX,T.tgtX),g=Math.min(T.srcY,T.midY,T.tgtY),m=Math.max(T.srcY,T.midY,T.tgtY),d-=L,p+=L,g-=L,m+=L,Kl(l,d,g,p,m),B==="haystack"){var D=T.haystackPts;if(D&&D.length===2){if(d=D[0].x,g=D[0].y,p=D[1].x,m=D[1].y,d>p){var P=d;d=p,p=P}if(g>m){var H=g;g=m,m=H}Kl(l,d-L,g-L,p+L,m+L)}}else if(B==="bezier"||B==="unbundled-bezier"||B.endsWith("segments")||B.endsWith("taxi")){var W;switch(B){case"bezier":case"unbundled-bezier":W=T.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":W=T.linePts;break}if(W!=null)for(var U=0;U<W.length;U++){var V=W[U];d=V.x-L,p=V.x+L,g=V.y-L,m=V.y+L,Kl(l,d,g,p,m)}}}else{var G=t.source(),ee=G.position(),ce=t.target(),Q=ce.position();if(d=ee.x,p=Q.x,g=ee.y,m=Q.y,d>p){var re=d;d=p,p=re}if(g>m){var le=g;g=m,m=le}d-=L,p+=L,g-=L,m+=L,Kl(l,d,g,p,m)}if(a&&n.includeEdges&&f&&(C3(l,t,"mid-source"),C3(l,t,"mid-target"),C3(l,t,"source"),C3(l,t,"target")),a){var Y=t.pstyle("ghost").value==="yes";if(Y){var K=t.pstyle("ghost-offset-x").pfValue,Z=t.pstyle("ghost-offset-y").pfValue;Kl(l,l.x1+K,l.y1+Z,l.x2+K,l.y2+Z)}}var z=u.bodyBounds=u.bodyBounds||{};Uj(z,l),Hx(z,E),Bx(z,1),a&&(d=l.x1,p=l.x2,g=l.y1,m=l.y2,Kl(l,d-N,g-N,p+N,m+N));var X=u.overlayBounds=u.overlayBounds||{};Uj(X,l),Hx(X,E),Bx(X,1);var te=u.labelBounds=u.labelBounds||{};te.all!=null?VAt(te.all):te.all=ho(),a&&n.includeLabels&&(n.includeMainLabels&&Fk(l,t,null),f&&(n.includeSourceLabels&&Fk(l,t,"source"),n.includeTargetLabels&&Fk(l,t,"target")))}return l.x1=cl(l.x1),l.y1=cl(l.y1),l.x2=cl(l.x2),l.y2=cl(l.y2),l.w=cl(l.x2-l.x1),l.h=cl(l.y2-l.y1),l.w>0&&l.h>0&&x&&(Hx(l,E),Bx(l,1)),l},jme=function(t){var n=0,r=function(l){return(l?1:0)<<n++},a=0;return a+=r(t.incudeNodes),a+=r(t.includeEdges),a+=r(t.includeLabels),a+=r(t.includeMainLabels),a+=r(t.includeSourceLabels),a+=r(t.includeTargetLabels),a+=r(t.includeOverlays),a+=r(t.includeOutlines),a},Xme=function(t){if(t.isEdge()){var n=t.source().position(),r=t.target().position(),a=function(l){return Math.round(l)};return dAt([a(n.x),a(n.y),a(r.x),a(r.y)])}else return 0},uX=function(t,n){var r=t._private,a,o=t.isEdge(),l=n==null?hX:jme(n),u=l===hX,h=Xme(t),f=r.bbCachePosKey===h,d=n.useCache&&f,p=function(b){return b._private.bbCache==null||b._private.styleDirty},g=!d||p(t)||o&&(p(t.source())||p(t.target()));if(g?(f||t.recalculateRenderedStyle(d),a=ARt(t,AT),r.bbCache=a,r.bbCachePosKey=h):a=r.bbCache,!u){var m=t.isNode();a=ho(),(n.includeNodes&&m||n.includeEdges&&!m)&&(n.includeOverlays?cd(a,r.overlayBounds):cd(a,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!o||n.includeSourceLabels&&n.includeTargetLabels)?cd(a,r.labelBounds.all):(n.includeMainLabels&&cd(a,r.labelBounds.mainRot),n.includeSourceLabels&&cd(a,r.labelBounds.sourceRot),n.includeTargetLabels&&cd(a,r.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},AT={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},hX=jme(AT),fX=ga(AT);Df.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=AT:e=fX(e),t=uX(this[0],e);else{t=ho(),e=e||AT;var n=fX(e),r=this,a=r.cy(),o=a.styleEnabled();if(o)for(var l=0;l<r.length;l++){var u=r[l],h=u._private,f=Xme(u),d=h.bbCachePosKey===f,p=n.useCache&&d&&!h.styleDirty;u.recalculateRenderedStyle(p)}this.updateCompoundBounds(!e.useCache);for(var g=0;g<r.length;g++){var m=r[g];cd(t,uX(m,n))}}return t.x1=cl(t.x1),t.y1=cl(t.y1),t.x2=cl(t.x2),t.y2=cl(t.y2),t.w=cl(t.x2-t.x1),t.h=cl(t.y2-t.y1),t};Df.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Df.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),a=n.collection();if(r&&(a=t.filter(function(f){return f.isParent()}),t=t.not(a)),Hn(e)){var o=e;e=function(){return o}}var l=function(d,p){return d._private.bbAtOldPos=e(d,p)},u=function(d){return d._private.bbAtOldPos};n.startBatch(),t.forEach(l).silentPositions(e),r&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var h=YAt(this.boundingBox({useCache:!1}));return t.silentPositions(u),r&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),n.endBatch(),h};R1.boundingbox=R1.bb=R1.boundingBox;R1.renderedBoundingbox=R1.renderedBoundingBox;var IRt=Df,w2,YE;w2=YE={};var Kme=function(t){t.uppercaseName=Mj(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Mj(t.outerName),w2[t.name]=function(){var r=this[0],a=r._private,o=a.cy,l=o._private.styleEnabled;if(r)if(l){if(r.isParent())return r.updateCompoundBounds(),a[t.autoName]||0;var u=r.pstyle(t.name);switch(u.strValue){case"label":return r.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return u.pfValue}}else return 1},w2["outer"+t.uppercaseName]=function(){var r=this[0],a=r._private,o=a.cy,l=o._private.styleEnabled;if(r)if(l){var u=r[t.name](),h=r.pstyle("border-width").pfValue,f=2*r.padding();return u+h+f}else return 1},w2["rendered"+t.uppercaseName]=function(){var r=this[0];if(r){var a=r[t.name]();return a*this.cy().zoom()}},w2["rendered"+t.uppercaseOuterName]=function(){var r=this[0];if(r){var a=r[t.outerName]();return a*this.cy().zoom()}}};Kme({name:"width"});Kme({name:"height"});YE.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};YE.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};YE.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var CRt=YE,RRt=function(t,n){if(t.isEdge())return n(t)},kRt=function(t,n){if(t.isEdge()){var r=t.cy();return cI(n(t),r.zoom(),r.pan())}},ORt=function(t,n){if(t.isEdge()){var r=t.cy(),a=r.pan(),o=r.zoom();return n(t).map(function(l){return cI(l,o,a)})}},NRt=function(t){return t.renderer().getControlPoints(t)},LRt=function(t){return t.renderer().getSegmentPoints(t)},_Rt=function(t){return t.renderer().getSourceEndpoint(t)},DRt=function(t){return t.renderer().getTargetEndpoint(t)},MRt=function(t){return t.renderer().getEdgeMidpoint(t)},dX={controlPoints:{get:NRt,mult:!0},segmentPoints:{get:LRt,mult:!0},sourceEndpoint:{get:_Rt},targetEndpoint:{get:DRt},midpoint:{get:MRt}},PRt=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},FRt=Object.keys(dX).reduce(function(e,t){var n=dX[t],r=PRt(t);return e[t]=function(){return RRt(this,n.get)},n.mult?e[r]=function(){return ORt(this,n.get)}:e[r]=function(){return kRt(this,n.get)},e},{}),BRt=en({},xRt,IRt,CRt,FRt);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Zme=function(t,n){this.recycle(t,n)};function Xy(){return!1}function R3(){return!0}Zme.prototype={instanceString:function(){return"event"},recycle:function(t,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Xy,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?R3:Xy):t!=null&&t.type?n=t:this.type=t,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,a=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:r.x*a+o.x,y:r.y*a+o.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=R3;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=R3;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=R3,this.stopPropagation()},isDefaultPrevented:Xy,isPropagationStopped:Xy,isImmediatePropagationStopped:Xy};var Qme=/^([^.]+)(\.(?:[^.]+))?$/,HRt=".*",Jme={qualifierCompare:function(t,n){return t===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},pX=Object.keys(Jme),$Rt={};function gI(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$Rt,t=arguments.length>1?arguments[1]:void 0,n=0;n<pX.length;n++){var r=pX[n];this[r]=e[r]||Jme[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var gf=gI.prototype,eve=function(t,n,r,a,o,l,u){Xr(a)&&(o=a,a=null),u&&(l==null?l=u:l=en({},l,u));for(var h=hr(r)?r:r.split(/\s+/),f=0;f<h.length;f++){var d=h[f];if(!uf(d)){var p=d.match(Qme);if(p){var g=p[1],m=p[2]?p[2]:null,y=n(t,d,g,m,a,o,l);if(y===!1)break}}}},gX=function(t,n){return t.addEventFields(t.context,n),new Zme(n.type,n)},WRt=function(t,n,r){if(u5t(r)){n(t,r);return}else if(Hn(r)){n(t,gX(t,r));return}for(var a=hr(r)?r:r.split(/\s+/),o=0;o<a.length;o++){var l=a[o];if(!uf(l)){var u=l.match(Qme);if(u){var h=u[1],f=u[2]?u[2]:null,d=gX(t,{type:h,namespace:f,target:t.context});n(t,d)}}}};gf.on=gf.addListener=function(e,t,n,r,a){return eve(this,function(o,l,u,h,f,d,p){Xr(d)&&o.listeners.push({event:l,callback:d,type:u,namespace:h,qualifier:f,conf:p})},e,t,n,r,a),this};gf.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})};gf.removeListener=gf.off=function(e,t,n,r){var a=this;this.emitting!==0&&(this.listeners=yAt(this.listeners));for(var o=this.listeners,l=function(f){var d=o[f];eve(a,function(p,g,m,y,b,T){if((d.type===m||e==="*")&&(!y&&d.namespace!==".*"||d.namespace===y)&&(!b||p.qualifierCompare(d.qualifier,b))&&(!T||d.callback===T))return o.splice(f,1),!1},e,t,n,r)},u=o.length-1;u>=0;u--)l(u);return this};gf.removeAllListeners=function(){return this.removeListener("*")};gf.emit=gf.trigger=function(e,t,n){var r=this.listeners,a=r.length;return this.emitting++,hr(t)||(t=[t]),WRt(this,function(o,l){n!=null&&(r=[{event:l.event,type:l.type,namespace:l.namespace,callback:n}],a=r.length);for(var u=function(d){var p=r[d];if(p.type===l.type&&(!p.namespace||p.namespace===l.namespace||p.namespace===HRt)&&o.eventMatches(o.context,p,l)){var g=[l];t!=null&&TAt(g,t),o.beforeEmit(o.context,p,l),p.conf&&p.conf.one&&(o.listeners=o.listeners.filter(function(b){return b!==p}));var m=o.callbackContext(o.context,p,l),y=p.callback.apply(m,g);o.afterEmit(o.context,p,l),y===!1&&(l.stopPropagation(),l.preventDefault())}},h=0;h<a;h++)u(h);o.bubble(o.context)&&!l.isPropagationStopped()&&o.parent(o.context).emit(l,t)},e),this.emitting--,this};var URt={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,r){var a=n.qualifier;return a!=null?t!==r.target&&WE(r.target)&&a.matches(r.target):!0},addEventFields:function(t,n){n.cy=t.cy(),n.target=t},callbackContext:function(t,n,r){return n.qualifier!=null?r.target:t},beforeEmit:function(t,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},k3=function(t){return zt(t)?new df(t):t},tve={createEmitter:function(){for(var t=0;t<this.length;t++){var n=this[t],r=n._private;r.emitter||(r.emitter=new gI(URt,n))}return this},emitter:function(){return this._private.emitter},on:function(t,n,r){for(var a=k3(n),o=0;o<this.length;o++){var l=this[o];l.emitter().on(t,a,r)}return this},removeListener:function(t,n,r){for(var a=k3(n),o=0;o<this.length;o++){var l=this[o];l.emitter().removeListener(t,a,r)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var n=this[t];n.emitter().removeAllListeners()}return this},one:function(t,n,r){for(var a=k3(n),o=0;o<this.length;o++){var l=this[o];l.emitter().one(t,a,r)}return this},once:function(t,n,r){for(var a=k3(n),o=0;o<this.length;o++){var l=this[o];l.emitter().on(t,a,r,{once:!0,onceCollection:this})}},emit:function(t,n){for(var r=0;r<this.length;r++){var a=this[r];a.emitter().emit(t,n)}return this},emitAndNotify:function(t,n){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,n),this}};Zn.eventAliasesOn(tve);var nve={nodes:function(t){return this.filter(function(n){return n.isNode()}).filter(t)},edges:function(t){return this.filter(function(n){return n.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var a=this[r];a.isNode()?t.push(a):n.push(a)}return{nodes:t,edges:n}},filter:function(t,n){if(t===void 0)return this;if(zt(t)||Ho(t))return new df(t).filter(this);if(Xr(t)){for(var r=this.spawn(),a=this,o=0;o<a.length;o++){var l=a[o],u=n?t.apply(n,[l,o,a]):t(l,o,a);u&&r.push(l)}return r}return this.spawn()},not:function(t){if(t){zt(t)&&(t=this.filter(t));for(var n=this.spawn(),r=0;r<this.length;r++){var a=this[r],o=t.has(a);o||n.push(a)}return n}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(zt(t)){var n=t;return this.filter(n)}for(var r=this.spawn(),a=this,o=t,l=this.length<t.length,u=l?a:o,h=l?o:a,f=0;f<u.length;f++){var d=u[f];h.has(d)&&r.push(d)}return r},xor:function(t){var n=this._private.cy;zt(t)&&(t=n.$(t));var r=this.spawn(),a=this,o=t,l=function(h,f){for(var d=0;d<h.length;d++){var p=h[d],g=p._private.data.id,m=f.hasElementWithId(g);m||r.push(p)}};return l(a,o),l(o,a),r},diff:function(t){var n=this._private.cy;zt(t)&&(t=n.$(t));var r=this.spawn(),a=this.spawn(),o=this.spawn(),l=this,u=t,h=function(d,p,g){for(var m=0;m<d.length;m++){var y=d[m],b=y._private.data.id,T=p.hasElementWithId(b);T?o.merge(y):g.push(y)}};return h(l,u,r),h(u,l,a),{left:r,right:a,both:o}},add:function(t){var n=this._private.cy;if(!t)return this;if(zt(t)){var r=t;t=n.mutableElements().filter(r)}for(var a=this.spawnSelf(),o=0;o<t.length;o++){var l=t[o],u=!this.has(l);u&&a.push(l)}return a},merge:function(t){var n=this._private,r=n.cy;if(!t)return this;if(t&&zt(t)){var a=t;t=r.mutableElements().filter(a)}for(var o=n.map,l=0;l<t.length;l++){var u=t[l],h=u._private.data.id,f=!o.has(h);if(f){var d=this.length++;this[d]=u,o.set(h,{ele:u,index:d})}}return this},unmergeAt:function(t){var n=this[t],r=n.id(),a=this._private,o=a.map;this[t]=void 0,o.delete(r);var l=t===this.length-1;if(this.length>1&&!l){var u=this.length-1,h=this[u],f=h._private.data.id;this[u]=void 0,this[t]=h,o.set(f,{ele:h,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var n=this._private,r=t._private.data.id,a=n.map,o=a.get(r);if(!o)return this;var l=o.index;return this.unmergeAt(l),this},unmerge:function(t){var n=this._private.cy;if(!t)return this;if(t&&zt(t)){var r=t;t=n.mutableElements().filter(r)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var n=this.length-1;n>=0;n--){var r=this[n];t(r)&&this.unmergeAt(n)}return this},map:function(t,n){for(var r=[],a=this,o=0;o<a.length;o++){var l=a[o],u=n?t.apply(n,[l,o,a]):t(l,o,a);r.push(u)}return r},reduce:function(t,n){for(var r=n,a=this,o=0;o<a.length;o++)r=t(r,a[o],o,a);return r},max:function(t,n){for(var r=-1/0,a,o=this,l=0;l<o.length;l++){var u=o[l],h=n?t.apply(n,[u,l,o]):t(u,l,o);h>r&&(r=h,a=u)}return{value:r,ele:a}},min:function(t,n){for(var r=1/0,a,o=this,l=0;l<o.length;l++){var u=o[l],h=n?t.apply(n,[u,l,o]):t(u,l,o);h<r&&(r=h,a=u)}return{value:r,ele:a}}},zn=nve;zn.u=zn["|"]=zn["+"]=zn.union=zn.or=zn.add;zn["\\"]=zn["!"]=zn["-"]=zn.difference=zn.relativeComplement=zn.subtract=zn.not;zn.n=zn["&"]=zn["."]=zn.and=zn.intersection=zn.intersect;zn["^"]=zn["(+)"]=zn["(-)"]=zn.symmetricDifference=zn.symdiff=zn.xor;zn.fnFilter=zn.filterFn=zn.stdFilter=zn.filter;zn.complement=zn.abscomp=zn.absoluteComplement;var GRt={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},rve=function(t,n){var r=t.cy(),a=r.hasCompoundNodes();function o(d){var p=d.pstyle("z-compound-depth");return p.value==="auto"?a?d.zDepth():0:p.value==="bottom"?-1:p.value==="top"?$P:0}var l=o(t)-o(n);if(l!==0)return l;function u(d){var p=d.pstyle("z-index-compare");return p.value==="auto"&&d.isNode()?1:0}var h=u(t)-u(n);if(h!==0)return h;var f=t.pstyle("z-index").value-n.pstyle("z-index").value;return f!==0?f:t.poolIndex()-n.poolIndex()},S5={forEach:function(t,n){if(Xr(t))for(var r=this.length,a=0;a<r;a++){var o=this[a],l=n?t.apply(n,[o,a,this]):t(o,a,this);if(l===!1)break}return this},toArray:function(){for(var t=[],n=0;n<this.length;n++)t.push(this[n]);return t},slice:function(t,n){var r=[],a=this.length;n==null&&(n=a),t==null&&(t=0),t<0&&(t=a+t),n<0&&(n=a+n);for(var o=t;o>=0&&o<n&&o<a;o++)r.push(this[o]);return this.spawn(r)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Xr(t))return this;var n=this.toArray().sort(t);return this.spawn(n)},sortByZIndex:function(){return this.sort(rve)},zDepth:function(){var t=this[0];if(t){var n=t._private,r=n.group;if(r==="nodes"){var a=n.data.parent?t.parents().size():0;return t.isParent()?a:$P-1}else{var o=n.source,l=n.target,u=o.zDepth(),h=l.zDepth();return Math.max(u,h,0)}}}};S5.each=S5.forEach;var zRt=function(){var t="undefined",n=(typeof Symbol>"u"?"undefined":Zi(Symbol))!=t&&Zi(Symbol.iterator)!=t;n&&(S5[Symbol.iterator]=function(){var r=this,a={value:void 0,done:!1},o=0,l=this.length;return J1e({next:function(){return o<l?a.value=r[o++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};zRt();var YRt=ga({nodeDimensionsIncludeLabels:!1}),Wx={layoutDimensions:function(t){t=YRt(t);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(t,n,r){var a=this.nodes().filter(function(A){return!A.isParent()}),o=this.cy(),l=n.eles,u=function(R){return R.id()},h=vT(r,u);t.emit({type:"layoutstart",layout:t}),t.animations=[];var f=function(R,C,N){var O={x:C.x1+C.w/2,y:C.y1+C.h/2},L={x:(N.x-O.x)*R,y:(N.y-O.y)*R};return{x:O.x+L.x,y:O.y+L.y}},d=n.spacingFactor&&n.spacingFactor!==1,p=function(){if(!d)return null;for(var R=ho(),C=0;C<a.length;C++){var N=a[C],O=h(N,C);jAt(R,O.x,O.y)}return R},g=p(),m=vT(function(A,R){var C=h(A,R);if(d){var N=Math.abs(n.spacingFactor);C=f(N,g,C)}return n.transform!=null&&(C=n.transform(A,C)),C},u);if(n.animate){for(var y=0;y<a.length;y++){var b=a[y],T=m(b,y),E=n.animateFilter==null||n.animateFilter(b,y);if(E){var w=b.animation({position:T,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(w)}else b.position(T)}if(n.fit){var x=o.animation({fit:{boundingBox:l.boundingBoxAt(m),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});t.animations.push(x)}else if(n.zoom!==void 0&&n.pan!==void 0){var S=o.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(S)}t.animations.forEach(function(A){return A.play()}),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),Xv.all(t.animations.map(function(A){return A.promise()})).then(function(){t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(m),n.fit&&o.fit(n.eles,n.padding),n.zoom!=null&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var n=this.cy();return n.makeLayout(en({},t,{eles:this}))}};Wx.createLayout=Wx.makeLayout=Wx.layout;function ive(e,t,n){var r=n._private,a=r.styleCache=r.styleCache||[],o;return(o=a[e])!=null||(o=a[e]=t(n)),o}function mI(e,t){return e=hf(e),function(r){return ive(e,t,r)}}function vI(e,t){e=hf(e);var n=function(a){return t.call(a)};return function(){var a=this[0];if(a)return ive(e,n,a)}}var Ra={recalculateRenderedStyle:function(t){var n=this.cy(),r=n.renderer(),a=n.styleEnabled();return r&&a&&r.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),n=function(o){return o._private.styleCache=null};if(t.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(a){n(a),a.connectedEdges().forEach(n)});return this},updateStyle:function(t){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var a=n.hasCompoundNodes(),o=this;t=!!(t||t===void 0),a&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=o;return t?l.emitAndNotify("style"):l.emit("style"),o.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,t.style().apply(r))}},parsedStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],a=r.cy();if(a.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,a.style().apply(r));var o=r._private.style[t];return o??(n?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(t);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(t){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(t).units},renderedStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,t)},style:function(t,n){var r=this.cy();if(!r.styleEnabled())return this;var a=!1,o=r.style();if(Hn(t)){var l=t;o.applyBypass(this,l,a),this.emitAndNotify("style")}else if(zt(t))if(n===void 0){var u=this[0];return u?o.getStylePropertyValue(u,t):void 0}else o.applyBypass(this,t,n,a),this.emitAndNotify("style");else if(t===void 0){var h=this[0];return h?o.getRawStyle(h):void 0}return this},removeStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,a=n.style(),o=this;if(t===void 0)for(var l=0;l<o.length;l++){var u=o[l];a.removeAllBypasses(u,r)}else{t=t.split(/\s+/);for(var h=0;h<o.length;h++){var f=o[h];a.removeBypasses(f,t,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var n=t.hasCompoundNodes(),r=this[0];if(r){var a=r._private,o=r.pstyle("opacity").value;if(!n)return o;var l=a.data.parent?r.parents():null;if(l)for(var u=0;u<l.length;u++){var h=l[u],f=h.pstyle("opacity").value;o=f*o}return o}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function Bk(e,t){var n=e._private,r=n.data.parent?e.parents():null;if(r)for(var a=0;a<r.length;a++){var o=r[a];if(!t(o))return!1}return!0}function QP(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var o=this[0],l=a.hasCompoundNodes();if(o){var u=o._private;if(!t(o))return!1;if(o.isNode())return!l||Bk(o,r);var h=u.source,f=u.target;return n(h)&&(!l||Bk(h,n))&&(h===f||n(f)&&(!l||Bk(f,n)))}}}var Jv=mI("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Ra.takesUpSpace=vI("takesUpSpace",QP({ok:Jv}));var VRt=mI("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Jv(e)}),qRt=mI("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Jv(e)});Ra.interactive=vI("interactive",QP({ok:VRt,parentOk:qRt,edgeOkViaNode:Jv}));Ra.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var jRt=mI("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Jv(e)}),XRt=Jv;Ra.visible=vI("visible",QP({ok:jRt,edgeOkViaNode:XRt}));Ra.hidden=function(){var e=this[0];if(e)return!e.visible()};Ra.isBundledBezier=vI("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ra.bypass=Ra.css=Ra.style;Ra.renderedCss=Ra.renderedStyle;Ra.removeBypass=Ra.removeCss=Ra.removeStyle;Ra.pstyle=Ra.parsedStyle;var W0={};function mX(e){return function(){var t=arguments,n=[];if(t.length===2){var r=t[0],a=t[1];this.on(e.event,r,a)}else if(t.length===1&&Xr(t[0])){var o=t[0];this.on(e.event,o)}else if(t.length===0||t.length===1&&hr(t[0])){for(var l=t.length===1?t[0]:null,u=0;u<this.length;u++){var h=this[u],f=!e.ableField||h._private[e.ableField],d=h._private[e.field]!=e.value;if(e.overrideAble){var p=e.overrideAble(h);if(p!==void 0&&(f=p,!p))return this}f&&(h._private[e.field]=e.value,d&&n.push(h))}var g=this.spawn(n);g.updateStyle(),g.emit(e.event),l&&g.emit(l)}return this}}function ey(e){W0[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(n!==void 0)return n}return t._private[e.field]}},W0[e.on]=mX({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),W0[e.off]=mX({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}ey({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ey({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ey({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ey({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});W0.deselect=W0.unselect;W0.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};ey({field:"active",on:"activate",off:"unactivate"});ey({field:"pannable",on:"panify",off:"unpanify"});W0.inactive=function(){var e=this[0];if(e)return!e._private.active};var ns={},vX=function(t){return function(r){for(var a=this,o=[],l=0;l<a.length;l++){var u=a[l];if(u.isNode()){for(var h=!1,f=u.connectedEdges(),d=0;d<f.length;d++){var p=f[d],g=p.source(),m=p.target();if(t.noIncomingEdges&&m===u&&g!==u||t.noOutgoingEdges&&g===u&&m!==u){h=!0;break}}h||o.push(u)}}return this.spawn(o,!0).filter(r)}},yX=function(t){return function(n){for(var r=this,a=[],o=0;o<r.length;o++){var l=r[o];if(l.isNode())for(var u=l.connectedEdges(),h=0;h<u.length;h++){var f=u[h],d=f.source(),p=f.target();t.outgoing&&d===l?(a.push(f),a.push(p)):t.incoming&&p===l&&(a.push(f),a.push(d))}}return this.spawn(a,!0).filter(n)}},bX=function(t){return function(n){for(var r=this,a=[],o={};;){var l=t.outgoing?r.outgoers():r.incomers();if(l.length===0)break;for(var u=!1,h=0;h<l.length;h++){var f=l[h],d=f.id();o[d]||(o[d]=!0,a.push(f),u=!0)}if(!u)break;r=l}return this.spawn(a,!0).filter(n)}};ns.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};en(ns,{roots:vX({noIncomingEdges:!0}),leaves:vX({noOutgoingEdges:!0}),outgoers:gl(yX({outgoing:!0}),"outgoers"),successors:bX({outgoing:!0}),incomers:gl(yX({incoming:!0}),"incomers"),predecessors:bX({})});en(ns,{neighborhood:gl(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var a=n[r],o=a.connectedEdges(),l=0;l<o.length;l++){var u=o[l],h=u.source(),f=u.target(),d=a===h?f:h;d.length>0&&t.push(d[0]),t.push(u[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});ns.neighbourhood=ns.neighborhood;ns.closedNeighbourhood=ns.closedNeighborhood;ns.openNeighbourhood=ns.openNeighborhood;en(ns,{source:gl(function(t){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&t?r.filter(t):r},"source"),target:gl(function(t){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&t?r.filter(t):r},"target"),sources:TX({attr:"source"}),targets:TX({attr:"target"})});function TX(e){return function(n){for(var r=[],a=0;a<this.length;a++){var o=this[a],l=o._private[e.attr];l&&r.push(l)}return this.spawn(r,!0).filter(n)}}en(ns,{edgesWith:gl(EX(),"edgesWith"),edgesTo:gl(EX({thisIsSrc:!0}),"edgesTo")});function EX(e){return function(n){var r=[],a=this._private.cy,o=e||{};zt(n)&&(n=a.$(n));for(var l=0;l<n.length;l++)for(var u=n[l]._private.edges,h=0;h<u.length;h++){var f=u[h],d=f._private.data,p=this.hasElementWithId(d.source)&&n.hasElementWithId(d.target),g=n.hasElementWithId(d.source)&&this.hasElementWithId(d.target),m=p||g;m&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!p||o.thisIsTgt&&!g)||r.push(f))}return this.spawn(r,!0)}}en(ns,{connectedEdges:gl(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var a=n[r];if(a.isNode())for(var o=a._private.edges,l=0;l<o.length;l++){var u=o[l];t.push(u)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:gl(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var a=n[r];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:gl(wX(),"parallelEdges"),codirectedEdges:gl(wX({codirected:!0}),"codirectedEdges")});function wX(e){var t={codirected:!1};return e=en({},t,e),function(r){for(var a=[],o=this.edges(),l=e,u=0;u<o.length;u++)for(var h=o[u],f=h._private,d=f.source,p=d._private.data.id,g=f.data.target,m=d._private.edges,y=0;y<m.length;y++){var b=m[y],T=b._private.data,E=T.target,w=T.source,x=E===g&&w===p,S=p===E&&g===w;(l.codirected&&x||!l.codirected&&(x||S))&&a.push(b)}return this.spawn(a,!0).filter(r)}}en(ns,{components:function(t){var n=this,r=n.cy(),a=r.collection(),o=t==null?n.nodes():t.nodes(),l=[];t!=null&&o.empty()&&(o=t.sources());var u=function(d,p){a.merge(d),o.unmerge(d),p.merge(d)};if(o.empty())return n.spawn();var h=function(){var d=r.collection();l.push(d);var p=o[0];u(p,d),n.bfs({directed:!1,roots:p,visit:function(m){return u(m,d)}}),d.forEach(function(g){g.connectedEdges().forEach(function(m){n.has(m)&&d.has(m.source())&&d.has(m.target())&&d.merge(m)})})};do h();while(o.length>0);return l},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});ns.componentsOf=ns.components;var ka=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Vr("A collection must have a reference to the core");return}var o=new ru,l=!1;if(!n)n=[];else if(n.length>0&&Hn(n[0])&&!WE(n[0])){l=!0;for(var u=[],h=new jv,f=0,d=n.length;f<d;f++){var p=n[f];p.data==null&&(p.data={});var g=p.data;if(g.id==null)g.id=vme();else if(t.hasElementWithId(g.id)||h.has(g.id))continue;var m=new lI(t,p,!1);u.push(m),h.add(g.id)}n=u}this.length=0;for(var y=0,b=n.length;y<b;y++){var T=n[y][0];if(T!=null){var E=T._private.data.id;(!r||!o.has(E))&&(r&&o.set(E,{index:this.length,ele:T}),this[this.length]=T,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var x=this.lazyMap=new ru,S=this.eles,A=0;A<S.length;A++){var R=S[A];x.set(R.id(),{index:A,ele:R})}}},r&&(this._private.map=o),l&&!a&&this.restore()},xr=lI.prototype=ka.prototype=Object.create(Array.prototype);xr.instanceString=function(){return"collection"};xr.spawn=function(e,t){return new ka(this.cy(),e,t)};xr.spawnSelf=function(){return this.spawn(this)};xr.cy=function(){return this._private.cy};xr.renderer=function(){return this._private.cy.renderer()};xr.element=function(){return this[0]};xr.collection=function(){return nme(this)?this:new ka(this._private.cy,[this])};xr.unique=function(){return new ka(this._private.cy,this,!0)};xr.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};xr.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new ka(t)};xr.$id=xr.getElementById;xr.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this[0]._private.data.id;return t._private.map.get(n).index};xr.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};xr.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};xr.json=function(e){var t=this.element(),n=this.cy();if(t==null&&e)return this;if(t!=null){var r=t._private;if(Hn(e)){if(n.startBatch(),e.data){t.data(e.data);var a=r.data;if(t.isEdge()){var o=!1,l={},u=e.data.source,h=e.data.target;u!=null&&u!=a.source&&(l.source=""+u,o=!0),h!=null&&h!=a.target&&(l.target=""+h,o=!0),o&&(t=t.move(l))}else{var f="parent"in e.data,d=e.data.parent;f&&(d!=null||a.parent!=null)&&d!=a.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var p=function(b,T,E){var w=e[b];w!=null&&w!==r[b]&&(w?t[T]():t[E]())};return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),n.endBatch(),this}else if(e===void 0){var g={data:nu(r.data),position:nu(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};g.classes="";var m=0;return r.classes.forEach(function(y){return g.classes+=m++===0?y:" "+y}),g}}};xr.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],r=n.json();e.push(r)}return e};xr.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n],a=r.json(),o=new lI(e,a,!1);t.push(o)}return new ka(e,t)};xr.copy=xr.clone;xr.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),a=r._private,o=[],l=[],u,h=0,f=n.length;h<f;h++){var d=n[h];t&&!d.removed()||(d.isNode()?o.push(d):l.push(d))}u=o.concat(l);var p,g=function(){u.splice(p,1),p--};for(p=0;p<u.length;p++){var m=u[p],y=m._private,b=y.data;if(m.clearTraversalCache(),!(!t&&!y.removed)){if(b.id===void 0)b.id=vme();else if(Tt(b.id))b.id=""+b.id;else if(uf(b.id)||!zt(b.id)){Vr("Can not create element with invalid string ID `"+b.id+"`"),g();continue}else if(r.hasElementWithId(b.id)){Vr("Can not create second element with ID `"+b.id+"`"),g();continue}}var T=b.id;if(m.isNode()){var E=y.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(m.isEdge()){for(var w=m,x=["source","target"],S=x.length,A=!1,R=0;R<S;R++){var C=x[R],N=b[C];Tt(N)&&(N=b[C]=""+b[C]),N==null||N===""?(Vr("Can not create edge `"+T+"` with unspecified "+C),A=!0):r.hasElementWithId(N)||(Vr("Can not create edge `"+T+"` with nonexistant "+C+" `"+N+"`"),A=!0)}if(A){g();continue}var O=r.getElementById(b.source),L=r.getElementById(b.target);O.same(L)?O._private.edges.push(w):(O._private.edges.push(w),L._private.edges.push(w)),w._private.source=O,w._private.target=L}y.map=new ru,y.map.set(T,{ele:m,index:0}),y.removed=!1,t&&r.addToPool(m)}for(var k=0;k<o.length;k++){var M=o[k],$=M._private.data;Tt($.parent)&&($.parent=""+$.parent);var _=$.parent,F=_!=null;if(F||M._private.parent){var B=M._private.parent?r.collection().merge(M._private.parent):r.getElementById(_);if(B.empty())$.parent=void 0;else if(B[0].removed())er("Node added with missing parent, reference to parent removed"),$.parent=void 0,M._private.parent=null;else{for(var D=!1,P=B;!P.empty();){if(M.same(P)){D=!0,$.parent=void 0;break}P=P.parent()}D||(B[0]._private.children.push(M),M._private.parent=B[0],a.hasCompoundNodes=!0)}}}if(u.length>0){for(var H=u.length===n.length?n:new ka(r,u),W=0;W<H.length;W++){var U=H[W];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}var V;a.hasCompoundNodes?V=r.collection().merge(H).merge(H.connectedNodes()).merge(H.parent()):V=H,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?H.emitAndNotify("add"):t&&H.emit("add")}return n};xr.removed=function(){var e=this[0];return e&&e._private.removed};xr.inside=function(){var e=this[0];return e&&!e._private.removed};xr.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],a={},o=n._private.cy;function l(_){for(var F=_._private.edges,B=0;B<F.length;B++)h(F[B])}function u(_){for(var F=_._private.children,B=0;B<F.length;B++)h(F[B])}function h(_){var F=a[_.id()];t&&_.removed()||F||(a[_.id()]=!0,_.isNode()?(r.push(_),l(_),u(_)):r.unshift(_))}for(var f=0,d=n.length;f<d;f++){var p=n[f];h(p)}function g(_,F){var B=_._private.edges;ff(B,F),_.clearTraversalCache()}function m(_){_.clearTraversalCache()}var y=[];y.ids={};function b(_,F){F=F[0],_=_[0];var B=_._private.children,D=_.id();ff(B,F),F._private.parent=null,y.ids[D]||(y.ids[D]=!0,y.push(_))}n.dirtyCompoundBoundsCache(),t&&o.removeFromPool(r);for(var T=0;T<r.length;T++){var E=r[T];if(E.isEdge()){var w=E.source()[0],x=E.target()[0];g(w,E),g(x,E);for(var S=E.parallelEdges(),A=0;A<S.length;A++){var R=S[A];m(R),R.isBundledBezier()&&R.dirtyBoundingBoxCache()}}else{var C=E.parent();C.length!==0&&b(C,E)}t&&(E._private.removed=!0)}var N=o._private.elements;o._private.hasCompoundNodes=!1;for(var O=0;O<N.length;O++){var L=N[O];if(L.isParent()){o._private.hasCompoundNodes=!0;break}}var k=new ka(this.cy(),r);k.size()>0&&(e?k.emitAndNotify("remove"):t&&k.emit("remove"));for(var M=0;M<y.length;M++){var $=y[M];(!t||!$.removed())&&$.updateStyle()}return k};xr.move=function(e){var t=this._private.cy,n=this,r=!1,a=!1,o=function(y){return y==null?y:""+y};if(e.source!==void 0||e.target!==void 0){var l=o(e.source),u=o(e.target),h=l!=null&&t.hasElementWithId(l),f=u!=null&&t.hasElementWithId(u);(h||f)&&(t.batch(function(){n.remove(r,a),n.emitAndNotify("moveout");for(var m=0;m<n.length;m++){var y=n[m],b=y._private.data;y.isEdge()&&(h&&(b.source=l),f&&(b.target=u))}n.restore(r,a)}),n.emitAndNotify("move"))}else if(e.parent!==void 0){var d=o(e.parent),p=d===null||t.hasElementWithId(d);if(p){var g=d===null?void 0:d;t.batch(function(){var m=n.remove(r,a);m.emitAndNotify("moveout");for(var y=0;y<n.length;y++){var b=n[y],T=b._private.data;b.isNode()&&(T.parent=g)}m.restore(r,a)}),n.emitAndNotify("move")}}return this};[Ome,sRt,$x,$0,cv,wRt,pI,BRt,tve,nve,GRt,S5,Wx,Ra,W0,ns].forEach(function(e){en(xr,e)});var KRt={add:function(t){var n,r=this;if(Ho(t)){var a=t;if(a._private.cy===r)n=a.restore();else{for(var o=[],l=0;l<a.length;l++){var u=a[l];o.push(u.json())}n=new ka(r,o)}}else if(hr(t)){var h=t;n=new ka(r,h)}else if(Hn(t)&&(hr(t.nodes)||hr(t.edges))){for(var f=t,d=[],p=["nodes","edges"],g=0,m=p.length;g<m;g++){var y=p[g],b=f[y];if(hr(b))for(var T=0,E=b.length;T<E;T++){var w=en({group:y},b[T]);d.push(w)}}n=new ka(r,d)}else{var x=t;n=new lI(r,x).collection()}return n},remove:function(t){if(!Ho(t)){if(zt(t)){var n=t;t=this.$(n)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function ZRt(e,t,n,r){var a=4,o=.001,l=1e-7,u=10,h=11,f=1/(h-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var g=d?new Float32Array(h):new Array(h);function m(L,k){return 1-3*k+3*L}function y(L,k){return 3*k-6*L}function b(L){return 3*L}function T(L,k,M){return((m(k,M)*L+y(k,M))*L+b(k))*L}function E(L,k,M){return 3*m(k,M)*L*L+2*y(k,M)*L+b(k)}function w(L,k){for(var M=0;M<a;++M){var $=E(k,e,n);if($===0)return k;var _=T(k,e,n)-L;k-=_/$}return k}function x(){for(var L=0;L<h;++L)g[L]=T(L*f,e,n)}function S(L,k,M){var $,_,F=0;do _=k+(M-k)/2,$=T(_,e,n)-L,$>0?M=_:k=_;while(Math.abs($)>l&&++F<u);return _}function A(L){for(var k=0,M=1,$=h-1;M!==$&&g[M]<=L;++M)k+=f;--M;var _=(L-g[M])/(g[M+1]-g[M]),F=k+_*f,B=E(F,e,n);return B>=o?w(L,F):B===0?F:S(L,k,k+f)}var R=!1;function C(){R=!0,(e!==t||n!==r)&&x()}var N=function(k){return R||C(),e===t&&n===r?k:k===0?0:k===1?1:T(A(k),t,r)};N.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var O="generateBezier("+[e,t,n,r]+")";return N.toString=function(){return O},N}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var QRt=function(){function e(r){return-r.tension*r.x-r.friction*r.v}function t(r,a,o){var l={x:r.x+o.dx*a,v:r.v+o.dv*a,tension:r.tension,friction:r.friction};return{dx:l.v,dv:e(l)}}function n(r,a){var o={dx:r.v,dv:e(r)},l=t(r,a*.5,o),u=t(r,a*.5,l),h=t(r,a,u),f=1/6*(o.dx+2*(l.dx+u.dx)+h.dx),d=1/6*(o.dv+2*(l.dv+u.dv)+h.dv);return r.x=r.x+f*a,r.v=r.v+d*a,r}return function r(a,o,l){var u={x:-1,v:0,tension:null,friction:null},h=[0],f=0,d=1/1e4,p=16/1e3,g,m,y;for(a=parseFloat(a)||500,o=parseFloat(o)||20,l=l||null,u.tension=a,u.friction=o,g=l!==null,g?(f=r(a,o),m=f/l*p):m=p;y=n(y||u,m),h.push(1+y.x),f+=16,Math.abs(y.x)>d&&Math.abs(y.v)>d;);return g?function(b){return h[b*(h.length-1)|0]}:f}}(),gr=function(t,n,r,a){var o=ZRt(t,n,r,a);return function(l,u,h){return l+(u-l)*o(h)}},Ux={linear:function(t,n,r){return t+(n-t)*r},ease:gr(.25,.1,.25,1),"ease-in":gr(.42,0,1,1),"ease-out":gr(0,0,.58,1),"ease-in-out":gr(.42,0,.58,1),"ease-in-sine":gr(.47,0,.745,.715),"ease-out-sine":gr(.39,.575,.565,1),"ease-in-out-sine":gr(.445,.05,.55,.95),"ease-in-quad":gr(.55,.085,.68,.53),"ease-out-quad":gr(.25,.46,.45,.94),"ease-in-out-quad":gr(.455,.03,.515,.955),"ease-in-cubic":gr(.55,.055,.675,.19),"ease-out-cubic":gr(.215,.61,.355,1),"ease-in-out-cubic":gr(.645,.045,.355,1),"ease-in-quart":gr(.895,.03,.685,.22),"ease-out-quart":gr(.165,.84,.44,1),"ease-in-out-quart":gr(.77,0,.175,1),"ease-in-quint":gr(.755,.05,.855,.06),"ease-out-quint":gr(.23,1,.32,1),"ease-in-out-quint":gr(.86,0,.07,1),"ease-in-expo":gr(.95,.05,.795,.035),"ease-out-expo":gr(.19,1,.22,1),"ease-in-out-expo":gr(1,0,0,1),"ease-in-circ":gr(.6,.04,.98,.335),"ease-out-circ":gr(.075,.82,.165,1),"ease-in-out-circ":gr(.785,.135,.15,.86),spring:function(t,n,r){if(r===0)return Ux.linear;var a=QRt(t,n,r);return function(o,l,u){return o+(l-o)*a(u)}},"cubic-bezier":gr};function xX(e,t,n,r,a){if(r===1||t===n)return n;var o=a(t,n,r);return e==null||((e.roundValue||e.color)&&(o=Math.round(o)),e.min!==void 0&&(o=Math.max(o,e.min)),e.max!==void 0&&(o=Math.min(o,e.max))),o}function SX(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function Tg(e,t,n,r,a){var o=a!=null?a.type:null;n<0?n=0:n>1&&(n=1);var l=SX(e,a),u=SX(t,a);if(Tt(l)&&Tt(u))return xX(o,l,u,n,r);if(hr(l)&&hr(u)){for(var h=[],f=0;f<u.length;f++){var d=l[f],p=u[f];if(d!=null&&p!=null){var g=xX(o,d,p,n,r);h.push(g)}else h.push(p)}return h}}function JRt(e,t,n,r){var a=!r,o=e._private,l=t._private,u=l.easing,h=l.startTime,f=r?e:e.cy(),d=f.style();if(!l.easingImpl)if(u==null)l.easingImpl=Ux.linear;else{var p;if(zt(u)){var g=d.parse("transition-timing-function",u);p=g.value}else p=u;var m,y;zt(p)?(m=p,y=[]):(m=p[1],y=p.slice(2).map(function(H){return+H})),y.length>0?(m==="spring"&&y.push(l.duration),l.easingImpl=Ux[m].apply(null,y)):l.easingImpl=Ux[m]}var b=l.easingImpl,T;if(l.duration===0?T=1:T=(n-h)/l.duration,l.applying&&(T=l.progress),T<0?T=0:T>1&&(T=1),l.delay==null){var E=l.startPosition,w=l.position;if(w&&a&&!e.locked()){var x={};Ky(E.x,w.x)&&(x.x=Tg(E.x,w.x,T,b)),Ky(E.y,w.y)&&(x.y=Tg(E.y,w.y,T,b)),e.position(x)}var S=l.startPan,A=l.pan,R=o.pan,C=A!=null&&r;C&&(Ky(S.x,A.x)&&(R.x=Tg(S.x,A.x,T,b)),Ky(S.y,A.y)&&(R.y=Tg(S.y,A.y,T,b)),e.emit("pan"));var N=l.startZoom,O=l.zoom,L=O!=null&&r;L&&(Ky(N,O)&&(o.zoom=ET(o.minZoom,Tg(N,O,T,b),o.maxZoom)),e.emit("zoom")),(C||L)&&e.emit("viewport");var k=l.style;if(k&&k.length>0&&a){for(var M=0;M<k.length;M++){var $=k[M],_=$.name,F=$,B=l.startStyle[_],D=d.properties[B.name],P=Tg(B,F,T,b,D);d.overrideBypass(e,_,P)}e.emit("style")}}return l.progress=T,T}function Ky(e,t){return e==null||t==null?!1:Tt(e)&&Tt(t)?!0:!!(e&&t)}function ekt(e,t,n,r){var a=t._private;a.started=!0,a.startTime=n-a.progress*a.duration}function AX(e,t){var n=t._private.aniEles,r=[];function a(d,p){var g=d._private,m=g.animation.current,y=g.animation.queue,b=!1;if(m.length===0){var T=y.shift();T&&m.push(T)}for(var E=function(R){for(var C=R.length-1;C>=0;C--){var N=R[C];N()}R.splice(0,R.length)},w=m.length-1;w>=0;w--){var x=m[w],S=x._private;if(S.stopped){m.splice(w,1),S.hooked=!1,S.playing=!1,S.started=!1,E(S.frames);continue}!S.playing&&!S.applying||(S.playing&&S.applying&&(S.applying=!1),S.started||ekt(d,x,e),JRt(d,x,e,p),S.applying&&(S.applying=!1),E(S.frames),S.step!=null&&S.step(e),x.completed()&&(m.splice(w,1),S.hooked=!1,S.playing=!1,S.started=!1,E(S.completes)),b=!0)}return!p&&m.length===0&&y.length===0&&r.push(d),b}for(var o=!1,l=0;l<n.length;l++){var u=n[l],h=a(u);o=o||h}var f=a(t,!0);(o||f)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var tkt={animate:Zn.animate(),animation:Zn.animation(),animated:Zn.animated(),clearQueue:Zn.clearQueue(),delay:Zn.delay(),delayAnimation:Zn.delayAnimation(),stop:Zn.stop(),addToAnimationPool:function(t){var n=this;n.styleEnabled()&&n._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function n(){t._private.animationsRunning&&b5(function(o){AX(o,t),n()})}var r=t.renderer();r&&r.beforeRender?r.beforeRender(function(o,l){AX(l,t)},r.beforeRenderPriorities.animations):n()}},nkt={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,r){var a=n.qualifier;return a!=null?t!==r.target&&WE(r.target)&&a.matches(r.target):!0},addEventFields:function(t,n){n.cy=t,n.target=t},callbackContext:function(t,n,r){return n.qualifier!=null?r.target:t}},O3=function(t){return zt(t)?new df(t):t},ave={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new gI(nkt,this)),this},emitter:function(){return this._private.emitter},on:function(t,n,r){return this.emitter().on(t,O3(n),r),this},removeListener:function(t,n,r){return this.emitter().removeListener(t,O3(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,n,r){return this.emitter().one(t,O3(n),r),this},once:function(t,n,r){return this.emitter().one(t,O3(n),r),this},emit:function(t,n){return this.emitter().emit(t,n),this},emitAndNotify:function(t,n){return this.emit(t),this.notify(t,n),this}};Zn.eventAliasesOn(ave);var X7={png:function(t){var n=this._private.renderer;return t=t||{},n.png(t)},jpg:function(t){var n=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",n.jpg(t)}};X7.jpeg=X7.jpg;var Gx={layout:function(t){var n=this;if(t==null){Vr("Layout options must be specified to make a layout");return}if(t.name==null){Vr("A `name` must be specified to make a layout");return}var r=t.name,a=n.extension("layout",r);if(a==null){Vr("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;zt(t.eles)?o=n.$(t.eles):o=t.eles!=null?t.eles:n.$();var l=new a(en({},t,{cy:n,eles:o}));return l}};Gx.createLayout=Gx.makeLayout=Gx.layout;var rkt={notify:function(t,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var a=r.batchNotifications[t]=r.batchNotifications[t]||this.collection();n!=null&&a.merge(n);return}if(r.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(t,n)}},notifications:function(t){var n=this._private;return t===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(t.batchNotifications).forEach(function(r){var a=t.batchNotifications[r];a.empty()?n.notify(r):n.notify(r,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var n=this;return this.batch(function(){for(var r=Object.keys(t),a=0;a<r.length;a++){var o=r[a],l=t[o],u=n.getElementById(o);u.data(l)}})}},ikt=ga({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),K7={renderTo:function(t,n,r,a){var o=this._private.renderer;return o.renderTo(t,n,r,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var n=this,r=n.extension("renderer",t.name);if(r==null){Vr("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&er("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=ikt(t);a.cy=n,n._private.renderer=new r(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var n=t.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(r){var a=r._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};K7.invalidateDimensions=K7.resize;var zx={collection:function(t,n){return zt(t)?this.$(t):Ho(t)?t.collection():hr(t)?(n||(n={}),new ka(this,t,n.unique,n.removed)):new ka(this)},nodes:function(t){var n=this.$(function(r){return r.isNode()});return t?n.filter(t):n},edges:function(t){var n=this.$(function(r){return r.isEdge()});return t?n.filter(t):n},$:function(t){var n=this._private.elements;return t?n.filter(t):n.spawnSelf()},mutableElements:function(){return this._private.elements}};zx.elements=zx.filter=zx.$;var cs={},rb="t",akt="f";cs.apply=function(e){for(var t=this,n=t._private,r=n.cy,a=r.collection(),o=0;o<e.length;o++){var l=e[o],u=t.getContextMeta(l);if(!u.empty){var h=t.getContextStyle(u),f=t.applyContextStyle(u,h,l);l._private.appliedInitStyle?t.updateTransitions(l,f.diffProps):l._private.appliedInitStyle=!0;var d=t.updateStyleHints(l);d&&a.push(l)}}return a};cs.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},a=e+"-"+t,o=r[a];if(o)return o;for(var l=[],u={},h=0;h<n.length;h++){var f=n[h],d=e[h]===rb,p=t[h]===rb,g=d!==p,m=f.mappedProperties.length>0;if(g||p&&m){var y=void 0;g&&m||g?y=f.properties:m&&(y=f.mappedProperties);for(var b=0;b<y.length;b++){for(var T=y[b],E=T.name,w=!1,x=h+1;x<n.length;x++){var S=n[x],A=t[x]===rb;if(A&&(w=S.properties[T.name]!=null,w))break}!u[E]&&!w&&(u[E]=!0,l.push(E))}}}return r[a]=l,l};cs.getContextMeta=function(e){for(var t=this,n="",r,a=e._private.styleCxtKey||"",o=0;o<t.length;o++){var l=t[o],u=l.selector&&l.selector.matches(e);u?n+=rb:n+=akt}return r=t.getPropertiesDiff(a,n),e._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};cs.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var a={_private:{key:t}},o=0;o<n.length;o++){var l=n[o],u=t[o]===rb;if(u)for(var h=0;h<l.properties.length;h++){var f=l.properties[h];a[f.name]=f}}return r[t]=a,a};cs.applyContextStyle=function(e,t,n){for(var r=this,a=e.diffPropNames,o={},l=r.types,u=0;u<a.length;u++){var h=a[u],f=t[h],d=n.pstyle(h);if(!f)if(d)d.bypass?f={name:h,deleteBypassed:!0}:f={name:h,delete:!0};else continue;if(d!==f){if(f.mapped===l.fn&&d!=null&&d.mapping!=null&&d.mapping.value===f.value){var p=d.mapping,g=p.fnValue=f.value(n);if(g===p.prevFnValue)continue}var m=o[h]={prev:d};r.applyParsedProperty(n,f),m.next=n.pstyle(h),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:o}};cs.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,a=n.propertyGroupKeys,o=function(Z,z,X){return n.getPropertiesHash(Z,z,X)},l=t.styleKey;if(e.removed())return!1;var u=t.group==="nodes",h=e._private.style;r=Object.keys(h);for(var f=0;f<a.length;f++){var d=a[f];t.styleKeys[d]=[jg,T2]}for(var p=function(Z,z){return t.styleKeys[z][0]=yT(Z,t.styleKeys[z][0])},g=function(Z,z){return t.styleKeys[z][1]=bT(Z,t.styleKeys[z][1])},m=function(Z,z){p(Z,z),g(Z,z)},y=function(Z,z){for(var X=0;X<Z.length;X++){var te=Z.charCodeAt(X);p(te,z),g(te,z)}},b=2e9,T=function(Z){return-128<Z&&Z<128&&Math.floor(Z)!==Z?b-(Z*1024|0):Z},E=0;E<r.length;E++){var w=r[E],x=h[w];if(x!=null){var S=this.properties[w],A=S.type,R=S.groupKey,C=void 0;S.hashOverride!=null?C=S.hashOverride(e,x):x.pfValue!=null&&(C=x.pfValue);var N=S.enums==null?x.value:null,O=C!=null,L=N!=null,k=O||L,M=x.units;if(A.number&&k&&!A.multiple){var $=O?C:N;m(T($),R),!O&&M!=null&&y(M,R)}else y(x.strValue,R)}}for(var _=[jg,T2],F=0;F<a.length;F++){var B=a[F],D=t.styleKeys[B];_[0]=yT(D[0],_[0]),_[1]=bT(D[1],_[1])}t.styleKey=fAt(_[0],_[1]);var P=t.styleKeys;t.labelDimsKey=c0(P.labelDimensions);var H=o(e,["label"],P.labelDimensions);if(t.labelKey=c0(H),t.labelStyleKey=c0(E3(P.commonLabel,H)),!u){var W=o(e,["source-label"],P.labelDimensions);t.sourceLabelKey=c0(W),t.sourceLabelStyleKey=c0(E3(P.commonLabel,W));var U=o(e,["target-label"],P.labelDimensions);t.targetLabelKey=c0(U),t.targetLabelStyleKey=c0(E3(P.commonLabel,U))}if(u){var V=t.styleKeys,G=V.nodeBody,ee=V.nodeBorder,ce=V.nodeOutline,Q=V.backgroundImage,re=V.compound,le=V.pie,Y=[G,ee,ce,Q,re,le].filter(function(K){return K!=null}).reduce(E3,[jg,T2]);t.nodeKey=c0(Y),t.hasPie=le!=null&&le[0]!==jg&&le[1]!==T2}return l!==t.styleKey};cs.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};cs.applyParsedProperty=function(e,t){var n=this,r=t,a=e._private.style,o,l=n.types,u=n.properties[r.name].type,h=r.bypass,f=a[r.name],d=f&&f.bypass,p=e._private,g="mapping",m=function(G){return G==null?null:G.pfValue!=null?G.pfValue:G.value},y=function(){var G=m(f),ee=m(r);n.checkTriggers(e,r.name,G,ee)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(r=t=this.parse(t.name,"bezier",h)),r.delete)return a[r.name]=void 0,y(),!0;if(r.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,y(),!0):!1:(y(),!0);if(r.deleteBypass)return f?f.bypass?(a[r.name]=f.bypassed,y(),!0):!1:(y(),!0);var b=function(){er("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case l.mapData:{for(var T=r.field.split("."),E=p.data,w=0;w<T.length&&E;w++){var x=T[w];E=E[x]}if(E==null)return b(),!1;var S;if(Tt(E)){var A=r.fieldMax-r.fieldMin;A===0?S=0:S=(E-r.fieldMin)/A}else return er("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+E+"` for `"+e.id()+"` is non-numeric)"),!1;if(S<0?S=0:S>1&&(S=1),u.color){var R=r.valueMin[0],C=r.valueMax[0],N=r.valueMin[1],O=r.valueMax[1],L=r.valueMin[2],k=r.valueMax[2],M=r.valueMin[3]==null?1:r.valueMin[3],$=r.valueMax[3]==null?1:r.valueMax[3],_=[Math.round(R+(C-R)*S),Math.round(N+(O-N)*S),Math.round(L+(k-L)*S),Math.round(M+($-M)*S)];o={bypass:r.bypass,name:r.name,value:_,strValue:"rgb("+_[0]+", "+_[1]+", "+_[2]+")"}}else if(u.number){var F=r.valueMin+(r.valueMax-r.valueMin)*S;o=this.parse(r.name,F,r.bypass,g)}else return!1;if(!o)return b(),!1;o.mapping=r,r=o;break}case l.data:{for(var B=r.field.split("."),D=p.data,P=0;P<B.length&&D;P++){var H=B[P];D=D[H]}if(D!=null&&(o=this.parse(r.name,D,r.bypass,g)),!o)return b(),!1;o.mapping=r,r=o;break}case l.fn:{var W=r.value,U=r.fnValue!=null?r.fnValue:W(e);if(r.prevFnValue=U,U==null)return er("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+e.id()+"` is null)"),!1;if(o=this.parse(r.name,U,r.bypass,g),!o)return er("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+e.id()+"` is invalid)"),!1;o.mapping=nu(r),r=o;break}case void 0:break;default:return!1}return h?(d?r.bypassed=f.bypassed:r.bypassed=f,a[r.name]=r):d?f.bypassed=r:a[r.name]=r,y(),!0};cs.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!t)r._private.style={};else for(var a=r._private.style,o=Object.keys(a),l=0;l<o.length;l++){var u=o[l],h=a[u];h!=null&&(h.bypass?h.bypassed=null:a[u]=null)}}};cs.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};cs.updateTransitions=function(e,t){var n=this,r=e._private,a=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,l=e.pstyle("transition-delay").pfValue;if(a.length>0&&o>0){for(var u={},h=!1,f=0;f<a.length;f++){var d=a[f],p=e.pstyle(d),g=t[d];if(g){var m=g.prev,y=m,b=g.next!=null?g.next:p,T=!1,E=void 0,w=1e-6;y&&(Tt(y.pfValue)&&Tt(b.pfValue)?(T=b.pfValue-y.pfValue,E=y.pfValue+w*T):Tt(y.value)&&Tt(b.value)?(T=b.value-y.value,E=y.value+w*T):hr(y.value)&&hr(b.value)&&(T=y.value[0]!==b.value[0]||y.value[1]!==b.value[1]||y.value[2]!==b.value[2],E=y.strValue),T&&(u[d]=b.strValue,this.applyBypass(e,d,E),h=!0))}}if(!h)return;r.transitioning=!0,new Xv(function(x){l>0?e.delayAnimation(l).play().promise().then(x):x()}).then(function(){return e.animation({style:u,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1)};cs.checkTrigger=function(e,t,n,r,a,o){var l=this.properties[t],u=a(l);u!=null&&u(n,r)&&o(l)};cs.checkZOrderTrigger=function(e,t,n,r){var a=this;this.checkTrigger(e,t,n,r,function(o){return o.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};cs.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(n==="bezier"||r==="bezier")&&e.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&t==="display"&&(n==="none"||r==="none")&&e.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};cs.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var VE={};VE.applyBypass=function(e,t,n,r){var a=this,o=[],l=!0;if(t==="*"||t==="**"){if(n!==void 0)for(var u=0;u<a.properties.length;u++){var h=a.properties[u],f=h.name,d=this.parse(f,n,!0);d&&o.push(d)}}else if(zt(t)){var p=this.parse(t,n,!0);p&&o.push(p)}else if(Hn(t)){var g=t;r=n;for(var m=Object.keys(g),y=0;y<m.length;y++){var b=m[y],T=g[b];if(T===void 0&&(T=g[sI(b)]),T!==void 0){var E=this.parse(b,T,!0);E&&o.push(E)}}}else return!1;if(o.length===0)return!1;for(var w=!1,x=0;x<e.length;x++){for(var S=e[x],A={},R=void 0,C=0;C<o.length;C++){var N=o[C];if(r){var O=S.pstyle(N.name);R=A[N.name]={prev:O}}w=this.applyParsedProperty(S,nu(N))||w,r&&(R.next=S.pstyle(N.name))}w&&this.updateStyleHints(S),r&&this.updateTransitions(S,A,l)}return w};VE.overrideBypass=function(e,t,n){t=HP(t);for(var r=0;r<e.length;r++){var a=e[r],o=a._private.style[t],l=this.properties[t].type,u=l.color,h=l.mutiple,f=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(a,t,n):(o.value=n,o.pfValue!=null&&(o.pfValue=n),u?o.strValue="rgb("+n.join(",")+")":h?o.strValue=n.join(" "):o.strValue=""+n,this.updateStyleHints(a)),this.checkTriggers(a,t,f,n)}};VE.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};VE.removeBypasses=function(e,t,n){for(var r=!0,a=0;a<e.length;a++){for(var o=e[a],l={},u=0;u<t.length;u++){var h=t[u],f=this.properties[h],d=o.pstyle(f.name);if(!(!d||!d.bypass)){var p="",g=this.parse(h,p,!0),m=l[f.name]={prev:d};this.applyParsedProperty(o,g),m.next=o.pstyle(f.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,l,r)}};var JP={};JP.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};JP.containerCss=function(e){var t=this._private.cy,n=t.container(),r=t.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)};var yu={};yu.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};yu.getRawStyle=function(e,t){var n=this;if(e=e[0],e){for(var r={},a=0;a<n.properties.length;a++){var o=n.properties[a],l=n.getStylePropertyValue(e,o.name,t);l!=null&&(r[o.name]=l,r[sI(o.name)]=l)}return r}};yu.getIndexedStyle=function(e,t,n,r){var a=e.pstyle(t)[n][r];return a??e.cy().style().getDefaultProperty(t)[n][0]};yu.getStylePropertyValue=function(e,t,n){var r=this;if(e=e[0],e){var a=r.properties[t];a.alias&&(a=a.pointsTo);var o=a.type,l=e.pstyle(a.name);if(l){var u=l.value,h=l.units,f=l.strValue;if(n&&o.number&&u!=null&&Tt(u)){var d=e.cy().zoom(),p=function(T){return T*d},g=function(T,E){return p(T)+E},m=hr(u),y=m?h.every(function(b){return b!=null}):h!=null;return y?m?u.map(function(b,T){return g(b,h[T])}).join(" "):g(u,h):m?u.map(function(b){return zt(b)?b:""+p(b)}).join(" "):""+p(u)}else if(f!=null)return f}return null}};yu.getAnimationStartStyle=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.name,l=e.pstyle(o);l!==void 0&&(Hn(l)?l=this.parse(o,l.strValue):l=this.parse(o,l)),l&&(n[o]=l)}return n};yu.getPropsList=function(e){var t=this,n=[],r=e,a=t.properties;if(r)for(var o=Object.keys(r),l=0;l<o.length;l++){var u=o[l],h=r[u],f=a[u]||a[HP(u)],d=this.parse(f.name,h);d&&n.push(d)}return n};yu.getNonDefaultPropertiesHash=function(e,t,n){var r=n.slice(),a,o,l,u,h,f;for(h=0;h<t.length;h++)if(a=t[h],o=e.pstyle(a,!1),o!=null)if(o.pfValue!=null)r[0]=yT(u,r[0]),r[1]=bT(u,r[1]);else for(l=o.strValue,f=0;f<l.length;f++)u=l.charCodeAt(f),r[0]=yT(u,r[0]),r[1]=bT(u,r[1]);return r};yu.getPropertiesHash=yu.getNonDefaultPropertiesHash;var yI={};yI.appendFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],a=r.selector,o=r.style||r.css,l=Object.keys(o);t.selector(a);for(var u=0;u<l.length;u++){var h=l[u],f=o[h];t.css(h,f)}}return t};yI.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};yI.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,a=n.properties,o={},l=0;l<a.length;l++){var u=a[l];o[u.name]=u.strValue}e.push({selector:r?r.toString():"core",style:o})}return e};var eF={};eF.appendFromString=function(e){var t=this,n=this,r=""+e,a,o,l;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){r.length>a.length?r=r.substr(a.length):r=""}function h(){o.length>l.length?o=o.substr(l.length):o=""}for(;;){var f=r.match(/^\s*$/);if(f)break;var d=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){er("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}a=d[0];var p=d[1];if(p!=="core"){var g=new df(p);if(g.invalid){er("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),u();continue}}var m=d[2],y=!1;o=m;for(var b=[];;){var T=o.match(/^\s*$/);if(T)break;var E=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){er("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),y=!0;break}l=E[0];var w=E[1],x=E[2],S=t.properties[w];if(!S){er("Skipping property: Invalid property name in: "+l),h();continue}var A=n.parse(w,x);if(!A){er("Skipping property: Invalid property definition in: "+l),h();continue}b.push({name:w,val:x}),h()}if(y){u();break}n.selector(p);for(var R=0;R<b.length;R++){var C=b[R];n.css(C.name,C.val)}u()}return n};eF.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Ea={};(function(){var e=qi,t=m5t,n=y5t,r=b5t,a=T5t,o=function(Y){return"^"+Y+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(Y){var K=e+"|\\w+|"+t+"|"+n+"|"+r+"|"+a;return"^"+Y+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+K+")\\s*\\,\\s*("+K+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ea.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Y,K){switch(Y.length){case 2:return K[0]!=="deg"&&K[0]!=="rad"&&K[1]!=="deg"&&K[1]!=="rad";case 1:return zt(Y[0])||K[0]==="deg"||K[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Y){var K=Y.length;return K===1||K===2||K===4}}};var h={zeroNonZero:function(Y,K){return(Y==null||K==null)&&Y!==K||Y==0&&K!=0?!0:Y!=0&&K==0},any:function(Y,K){return Y!=K},emptyNonEmpty:function(Y,K){var Z=uf(Y),z=uf(K);return Z&&!z||!Z&&z}},f=Ea.types,d=[{name:"label",type:f.text,triggersBounds:h.any,triggersZOrder:h.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:h.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:h.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:h.any}],p=[{name:"source-label",type:f.text,triggersBounds:h.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:h.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:h.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:h.any},{name:"source-text-offset",type:f.size,triggersBounds:h.any}],g=[{name:"target-label",type:f.text,triggersBounds:h.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:h.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:h.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:h.any},{name:"target-text-offset",type:f.size,triggersBounds:h.any}],m=[{name:"font-family",type:f.fontFamily,triggersBounds:h.any},{name:"font-style",type:f.fontStyle,triggersBounds:h.any},{name:"font-weight",type:f.fontWeight,triggersBounds:h.any},{name:"font-size",type:f.size,triggersBounds:h.any},{name:"text-transform",type:f.textTransform,triggersBounds:h.any},{name:"text-wrap",type:f.textWrap,triggersBounds:h.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:h.any},{name:"text-max-width",type:f.size,triggersBounds:h.any},{name:"text-outline-width",type:f.size,triggersBounds:h.any},{name:"line-height",type:f.positiveNumber,triggersBounds:h.any}],y=[{name:"text-valign",type:f.valign,triggersBounds:h.any},{name:"text-halign",type:f.halign,triggersBounds:h.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:h.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:h.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:h.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:h.any},{name:"text-justification",type:f.justification}],b=[{name:"events",type:f.bool,triggersZOrder:h.any},{name:"text-events",type:f.bool,triggersZOrder:h.any}],T=[{name:"display",type:f.display,triggersZOrder:h.any,triggersBounds:h.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:f.visibility,triggersZOrder:h.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:h.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:h.any},{name:"z-index",type:f.number,triggersZOrder:h.any}],E=[{name:"overlay-padding",type:f.size,triggersBounds:h.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:h.any},{name:"overlay-corner-radius",type:f.cornerRadius}],w=[{name:"underlay-padding",type:f.size,triggersBounds:h.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:h.any},{name:"underlay-corner-radius",type:f.cornerRadius}],x=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],S=function(Y,K){return K.value==="label"?-Y.poolIndex():K.pfValue},A=[{name:"height",type:f.nodeSize,triggersBounds:h.any,hashOverride:S},{name:"width",type:f.nodeSize,triggersBounds:h.any,hashOverride:S},{name:"shape",type:f.nodeShape,triggersBounds:h.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:h.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:h.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:h.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:h.any}],R=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:h.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],C=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:h.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:h.any}],N=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],O=[{name:"position",type:f.position,triggersBounds:h.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:h.any},{name:"min-width",type:f.size,triggersBounds:h.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:h.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:h.any},{name:"min-height",type:f.size,triggersBounds:h.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:h.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:h.any}],L=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:h.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:h.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:h.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:h.any},{name:"control-point-step-size",type:f.size,triggersBounds:h.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:h.any},{name:"control-point-weights",type:f.numbers,triggersBounds:h.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:h.any},{name:"segment-weights",type:f.numbers,triggersBounds:h.any},{name:"segment-radii",type:f.numbers,triggersBounds:h.any},{name:"radius-type",type:f.radiusType,triggersBounds:h.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:h.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:h.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:h.any},{name:"taxi-radius",type:f.number,triggersBounds:h.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:h.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:h.any},{name:"loop-direction",type:f.angle,triggersBounds:h.any},{name:"loop-sweep",type:f.angle,triggersBounds:h.any},{name:"source-distance-from-node",type:f.size,triggersBounds:h.any},{name:"target-distance-from-node",type:f.size,triggersBounds:h.any}],k=[{name:"ghost",type:f.bool,triggersBounds:h.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:h.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:h.any},{name:"ghost-opacity",type:f.zeroOneNumber}],M=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],$=[];Ea.pieBackgroundN=16,$.push({name:"pie-size",type:f.sizeMaybePercent});for(var _=1;_<=Ea.pieBackgroundN;_++)$.push({name:"pie-"+_+"-background-color",type:f.color}),$.push({name:"pie-"+_+"-background-size",type:f.percent}),$.push({name:"pie-"+_+"-background-opacity",type:f.zeroOneNumber});var F=[],B=Ea.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:h.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(le){B.forEach(function(Y){var K=Y+"-"+le.name,Z=le.type,z=le.triggersBounds;F.push({name:K,type:Z,triggersBounds:z})})},{});var D=Ea.properties=[].concat(b,x,T,E,w,k,y,m,d,p,g,A,R,C,N,$,O,L,F,M),P=Ea.propertyGroups={behavior:b,transition:x,visibility:T,overlay:E,underlay:w,ghost:k,commonLabel:y,labelDimensions:m,mainLabel:d,sourceLabel:p,targetLabel:g,nodeBody:A,nodeBorder:R,nodeOutline:C,backgroundImage:N,pie:$,compound:O,edgeLine:L,edgeArrow:F,core:M},H=Ea.propertyGroupNames={},W=Ea.propertyGroupKeys=Object.keys(P);W.forEach(function(le){H[le]=P[le].map(function(Y){return Y.name}),P[le].forEach(function(Y){return Y.groupKey=le})});var U=Ea.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ea.propertyNames=D.map(function(le){return le.name});for(var V=0;V<D.length;V++){var G=D[V];D[G.name]=G}for(var ee=0;ee<U.length;ee++){var ce=U[ee],Q=D[ce.pointsTo],re={name:ce.name,alias:!0,pointsTo:Q};D.push(re),D[ce.name]=re}})();Ea.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Ea.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=en({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(h,f){for(var d=1;d<=Ea.pieBackgroundN;d++){var p=f.name.replace("{{i}}",d),g=f.value;h[p]=g}return h},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(h,f){return Ea.arrowPrefixes.forEach(function(d){var p=d+"-"+f.name,g=f.value;h[p]=g}),h},{})),n={},r=0;r<this.properties.length;r++){var a=this.properties[r];if(!a.pointsTo){var o=a.name,l=t[o],u=this.parse(o,l);n[o]=u}}return e.defaultProperties=n,e.defaultProperties};Ea.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var bI={};bI.parse=function(e,t,n,r){var a=this;if(Xr(t))return a.parseImplWarn(e,t,n,r);var o=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,l=n?"t":"f",u=""+t,h=pme(e,u,l,o),f=a.propCache=a.propCache||[],d;return(d=f[h])||(d=f[h]=a.parseImplWarn(e,t,n,r)),(n||r==="mapping")&&(d=nu(d),d&&(d.value=nu(d.value))),d};bI.parseImplWarn=function(e,t,n,r){var a=this.parseImpl(e,t,n,r);return!a&&t!=null&&er("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&er("The style value of `label` is deprecated for `"+a.name+"`"),a};bI.parseImpl=function(e,t,n,r){var a=this;e=HP(e);var o=a.properties[e],l=t,u=a.types;if(!o||t===void 0)return null;o.alias&&(o=o.pointsTo,e=o.name);var h=zt(t);h&&(t=t.trim());var f=o.type;if(!f)return null;if(n&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Xr(t))return{name:e,value:t,strValue:"fn",mapped:u.fn,bypass:n};var d,p;if(!(!h||r||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(u.data.regex).exec(t))){if(n)return!1;var g=u.data;return{name:e,value:d,strValue:""+t,mapped:g,field:d[1],bypass:n}}else if(t.length>=10&&t[0]==="m"&&(p=new RegExp(u.mapData.regex).exec(t))){if(n||f.multiple)return!1;var m=u.mapData;if(!(f.color||f.number))return!1;var y=this.parse(e,p[4]);if(!y||y.mapped)return!1;var b=this.parse(e,p[5]);if(!b||b.mapped)return!1;if(y.pfValue===b.pfValue||y.strValue===b.strValue)return er("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+y.strValue+"`"),this.parse(e,y.strValue);if(f.color){var T=y.value,E=b.value,w=T[0]===E[0]&&T[1]===E[1]&&T[2]===E[2]&&(T[3]===E[3]||(T[3]==null||T[3]===1)&&(E[3]==null||E[3]===1));if(w)return!1}return{name:e,value:p,strValue:""+t,mapped:m,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:y.value,valueMax:b.value,bypass:n}}}if(f.multiple&&r!=="multiple"){var x;if(h?x=t.split(/\s+/):hr(t)?x=t:x=[t],f.evenMultiple&&x.length%2!==0)return null;for(var S=[],A=[],R=[],C="",N=!1,O=0;O<x.length;O++){var L=a.parse(e,x[O],n,"multiple");N=N||zt(L.value),S.push(L.value),R.push(L.pfValue!=null?L.pfValue:L.value),A.push(L.units),C+=(O>0?" ":"")+L.strValue}return f.validate&&!f.validate(S,A)?null:f.singleEnum&&N?S.length===1&&zt(S[0])?{name:e,value:S[0],strValue:S[0],bypass:n}:null:{name:e,value:S,pfValue:R,strValue:C,bypass:n,units:A}}var k=function(){for(var Y=0;Y<f.enums.length;Y++){var K=f.enums[Y];if(K===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(f.number){var M,$="px";if(f.units&&(M=f.units),f.implicitUnits&&($=f.implicitUnits),!f.unitless)if(h){var _="px|em"+(f.allowPercent?"|\\%":"");M&&(_=M);var F=t.match("^("+qi+")("+_+")?$");F&&(t=F[1],M=F[2]||$)}else(!M||f.implicitUnits)&&(M=$);if(t=parseFloat(t),isNaN(t)&&f.enums===void 0)return null;if(isNaN(t)&&f.enums!==void 0)return t=l,k();if(f.integer&&!c5t(t)||f.min!==void 0&&(t<f.min||f.strictMin&&t===f.min)||f.max!==void 0&&(t>f.max||f.strictMax&&t===f.max))return null;var B={name:e,value:t,strValue:""+t+(M||""),units:M,bypass:n};return f.unitless||M!=="px"&&M!=="em"?B.pfValue=t:B.pfValue=M==="px"||!M?t:this.getEmSizeInPixels()*t,(M==="ms"||M==="s")&&(B.pfValue=M==="ms"?t:1e3*t),(M==="deg"||M==="rad")&&(B.pfValue=M==="rad"?t:UAt(t)),M==="%"&&(B.pfValue=t/100),B}else if(f.propList){var D=[],P=""+t;if(P!=="none"){for(var H=P.split(/\s*,\s*|\s+/),W=0;W<H.length;W++){var U=H[W].trim();a.properties[U]?D.push(U):er("`"+U+"` is not a valid property name")}if(D.length===0)return null}return{name:e,value:D,strValue:D.length===0?"none":D.join(" "),bypass:n}}else if(f.color){var V=sme(t);return V?{name:e,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:n}:null}else if(f.regex||f.regexes){if(f.enums){var G=k();if(G)return G}for(var ee=f.regexes?f.regexes:[f.regex],ce=0;ce<ee.length;ce++){var Q=new RegExp(ee[ce]),re=Q.exec(t);if(re)return{name:e,value:f.singleRegexMatchValue?re[1]:re,strValue:""+t,bypass:n}}return null}else return f.string?{name:e,value:""+t,strValue:""+t,bypass:n}:f.enums?k():null};var es=function e(t){if(!(this instanceof e))return new e(t);if(!BP(t)){Vr("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},rs=es.prototype;rs.instanceString=function(){return"style"};rs.clear=function(){for(var e=this._private,t=e.cy,n=t.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(n,!0),n.forEach(function(a){var o=a[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};rs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};rs.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};rs.selector=function(e){var t=e==="core"?null:new df(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this};rs.css=function(){var e=this,t=arguments;if(t.length===1)for(var n=t[0],r=0;r<e.properties.length;r++){var a=e.properties[r],o=n[a.name];o===void 0&&(o=n[sI(a.name)]),o!==void 0&&this.cssRule(a.name,o)}else t.length===2&&this.cssRule(t[0],t[1]);return this};rs.style=rs.css;rs.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var a=!this[r].selector;a&&(this._private.coreStyle[n.name]=n)}return this};rs.append=function(e){return rme(e)?e.appendToStyle(this):hr(e)?this.appendFromJson(e):zt(e)&&this.appendFromString(e),this};es.fromJson=function(e,t){var n=new es(e);return n.fromJson(t),n};es.fromString=function(e,t){return new es(e).fromString(t)};[cs,VE,JP,yu,yI,eF,Ea,bI].forEach(function(e){en(rs,e)});es.types=rs.types;es.properties=rs.properties;es.propertyGroups=rs.propertyGroups;es.propertyGroupNames=rs.propertyGroupNames;es.propertyGroupKeys=rs.propertyGroupKeys;var skt={style:function(t){if(t){var n=this.setStyle(t);n.update()}return this._private.style},setStyle:function(t){var n=this._private;return rme(t)?n.style=t.generateStyle(this):hr(t)?n.style=es.fromJson(this,t):zt(t)?n.style=es.fromString(this,t):n.style=es(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},okt="single",Sp={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var n=this._private;if(n.selectionType==null&&(n.selectionType=okt),t!==void 0)(t==="additive"||t==="single")&&(n.selectionType=t);else return n.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,n=this._private.pan,r,a,o,l,u;switch(t.length){case 0:return n;case 1:if(zt(t[0]))return r=t[0],n[r];if(Hn(t[0])){if(!this._private.panningEnabled)return this;o=t[0],l=o.x,u=o.y,Tt(l)&&(n.x=l),Tt(u)&&(n.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=t[0],a=t[1],(r==="x"||r==="y")&&Tt(a)&&(n[r]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,n){var r=arguments,a=this._private.pan,o,l,u,h,f;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Hn(t)&&(u=r[0],h=u.x,f=u.y,Tt(h)&&(a.x+=h),Tt(f)&&(a.y+=f),this.emit("pan viewport"));break;case 2:o=t,l=n,(o==="x"||o==="y")&&Tt(l)&&(a[o]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,n){var r=this.getFitViewport(t,n);if(r){var a=this._private;a.zoom=r.zoom,a.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,n){if(Tt(t)&&n===void 0&&(n=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(zt(t)){var a=t;t=this.$(a)}else if(f5t(t)){var o=t;r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else Ho(t)||(t=this.mutableElements());if(!(Ho(t)&&t.empty())){r=r||t.boundingBox();var l=this.width(),u=this.height(),h;if(n=Tt(n)?n:0,!isNaN(l)&&!isNaN(u)&&l>0&&u>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){h=Math.min((l-2*n)/r.w,(u-2*n)/r.h),h=h>this._private.maxZoom?this._private.maxZoom:h,h=h<this._private.minZoom?this._private.minZoom:h;var f={x:(l-h*(r.x1+r.x2))/2,y:(u-h*(r.y1+r.y2))/2};return{zoom:h,pan:f}}}}},zoomRange:function(t,n){var r=this._private;if(n==null){var a=t;t=a.min,n=a.max}return Tt(t)&&Tt(n)&&t<=n?(r.minZoom=t,r.maxZoom=n):Tt(t)&&n===void 0&&t<=r.maxZoom?r.minZoom=t:Tt(n)&&t===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var n=this._private,r=n.pan,a=n.zoom,o,l,u=!1;if(n.zoomingEnabled||(u=!0),Tt(t)?l=t:Hn(t)&&(l=t.level,t.position!=null?o=cI(t.position,a,r):t.renderedPosition!=null&&(o=t.renderedPosition),o!=null&&!n.panningEnabled&&(u=!0)),l=l>n.maxZoom?n.maxZoom:l,l=l<n.minZoom?n.minZoom:l,u||!Tt(l)||l===a||o!=null&&(!Tt(o.x)||!Tt(o.y)))return null;if(o!=null){var h=r,f=a,d=l,p={x:-d/f*(o.x-h.x)+o.x,y:-d/f*(o.y-h.y)+o.y};return{zoomed:!0,panned:!0,zoom:d,pan:p}}else return{zoomed:!0,panned:!1,zoom:l,pan:r}},zoom:function(t){if(t===void 0)return this._private.zoom;var n=this.getZoomedViewport(t),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var n=this._private,r=!0,a=!0,o=[],l=!1,u=!1;if(!t)return this;if(Tt(t.zoom)||(r=!1),Hn(t.pan)||(a=!1),!r&&!a)return this;if(r){var h=t.zoom;h<n.minZoom||h>n.maxZoom||!n.zoomingEnabled?l=!0:(n.zoom=h,o.push("zoom"))}if(a&&(!l||!t.cancelOnFailedZoom)&&n.panningEnabled){var f=t.pan;Tt(f.x)&&(n.pan.x=f.x,u=!1),Tt(f.y)&&(n.pan.y=f.y,u=!1),u||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(t){var n=this.getCenterPan(t);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,n){if(this._private.panningEnabled){if(zt(t)){var r=t;t=this.mutableElements().filter(r)}else Ho(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),o=this.width(),l=this.height();n=n===void 0?this._private.zoom:n;var u={x:(o-n*(a.x1+a.x2))/2,y:(l-n*(a.y1+a.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,n=t.container,r=this;return t.sizeCache=t.sizeCache||(n?function(){var a=r.window().getComputedStyle(n),o=function(u){return parseFloat(a.getPropertyValue(u))};return{width:n.clientWidth-o("padding-left")-o("padding-right"),height:n.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),a={x1:(r.x1-t.x)/n,x2:(r.x2-t.x)/n,y1:(r.y1-t.y)/n,y2:(r.y2-t.y)/n};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),n=this.height();return{x1:0,y1:0,x2:t,y2:n,w:t,h:n}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};Sp.centre=Sp.center;Sp.autolockNodes=Sp.autolock;Sp.autoungrabifyNodes=Sp.autoungrabify;var IT={data:Zn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Zn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Zn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Zn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};IT.attr=IT.data;IT.removeAttr=IT.removeData;var CT=function(t){var n=this;t=en({},t);var r=t.container;r&&!y5(r)&&y5(r[0])&&(r=r[0]);var a=r?r._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var o=a.readies=a.readies||[];r&&(r._cyreg=a),a.cy=n;var l=Bi!==void 0&&r!==void 0&&!t.headless,u=t;u.layout=en({name:l?"grid":"null"},u.layout),u.renderer=en({name:l?"canvas":"null"},u.renderer);var h=function(y,b,T){return b!==void 0?b:T!==void 0?T:y},f=this._private={container:r,ready:!1,options:u,elements:new ka(this),listeners:[],aniEles:new ka(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,u.zoomingEnabled),userZoomingEnabled:h(!0,u.userZoomingEnabled),panningEnabled:h(!0,u.panningEnabled),userPanningEnabled:h(!0,u.userPanningEnabled),boxSelectionEnabled:h(!0,u.boxSelectionEnabled),autolock:h(!1,u.autolock,u.autolockNodes),autoungrabify:h(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:h(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?l:u.styleEnabled,zoom:Tt(u.zoom)?u.zoom:1,pan:{x:Hn(u.pan)&&Tt(u.pan.x)?u.pan.x:0,y:Hn(u.pan)&&Tt(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:h(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var d=function(y,b){var T=y.some(d5t);if(T)return Xv.all(y).then(b);b(y)};f.styleEnabled&&n.setStyle([]);var p=en({},u,u.renderer);n.initRenderer(p);var g=function(y,b,T){n.notifications(!1);var E=n.mutableElements();E.length>0&&E.remove(),y!=null&&(Hn(y)||hr(y))&&n.add(y),n.one("layoutready",function(x){n.notifications(!0),n.emit(x),n.one("load",b),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",T),n.emit("done")});var w=en({},n._private.options.layout);w.eles=n.elements(),n.layout(w).run()};d([u.style,u.elements],function(m){var y=m[0],b=m[1];f.styleEnabled&&n.style().append(y),g(b,function(){n.startAnimationLoop(),f.ready=!0,Xr(u.ready)&&n.on("ready",u.ready);for(var T=0;T<o.length;T++){var E=o[T];n.on("ready",E)}a&&(a.readies=[]),n.emit("ready")},u.done)})},A5=CT.prototype;en(A5,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return Bi;var n=this._private.container.ownerDocument;return n===void 0||n==null?Bi:n.defaultView||Bi},mount:function(t){if(t!=null){var n=this,r=n._private,a=r.options;return!y5(t)&&y5(t[0])&&(t=t[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=t,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(en({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),n.startAnimationLoop(),n.style(a.style),n.emit("mount"),n}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return nu(this._private.options)},json:function(t){var n=this,r=n._private,a=n.mutableElements(),o=function(S){return n.getElementById(S.id())};if(Hn(t)){if(n.startBatch(),t.elements){var l={},u=function(S,A){for(var R=[],C=[],N=0;N<S.length;N++){var O=S[N];if(!O.data.id){er("cy.json() cannot handle elements without an ID attribute");continue}var L=""+O.data.id,k=n.getElementById(L);l[L]=!0,k.length!==0?C.push({ele:k,json:O}):(A&&(O.group=A),R.push(O))}n.add(R);for(var M=0;M<C.length;M++){var $=C[M],_=$.ele,F=$.json;_.json(F)}};if(hr(t.elements))u(t.elements);else for(var h=["nodes","edges"],f=0;f<h.length;f++){var d=h[f],p=t.elements[d];hr(p)&&u(p,d)}var g=n.collection();a.filter(function(x){return!l[x.id()]}).forEach(function(x){x.isParent()?g.merge(x):x.remove()}),g.forEach(function(x){return x.children().move({parent:null})}),g.forEach(function(x){return o(x).remove()})}t.style&&n.style(t.style),t.zoom!=null&&t.zoom!==r.zoom&&n.zoom(t.zoom),t.pan&&(t.pan.x!==r.pan.x||t.pan.y!==r.pan.y)&&n.pan(t.pan),t.data&&n.data(t.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],y=0;y<m.length;y++){var b=m[y];t[b]!=null&&n[b](t[b])}return n.endBatch(),this}else{var T=!!t,E={};T?E.elements=this.elements().map(function(x){return x.json()}):(E.elements={},a.forEach(function(x){var S=x.group();E.elements[S]||(E.elements[S]=[]),E.elements[S].push(x.json())})),this._private.styleEnabled&&(E.style=n.style().json()),E.data=nu(n.data());var w=r.options;return E.zoomingEnabled=r.zoomingEnabled,E.userZoomingEnabled=r.userZoomingEnabled,E.zoom=r.zoom,E.minZoom=r.minZoom,E.maxZoom=r.maxZoom,E.panningEnabled=r.panningEnabled,E.userPanningEnabled=r.userPanningEnabled,E.pan=nu(r.pan),E.boxSelectionEnabled=r.boxSelectionEnabled,E.renderer=nu(w.renderer),E.hideEdgesOnViewport=w.hideEdgesOnViewport,E.textureOnViewport=w.textureOnViewport,E.wheelSensitivity=w.wheelSensitivity,E.motionBlur=w.motionBlur,E.multiClickDebounceTime=w.multiClickDebounceTime,E}}});A5.$id=A5.getElementById;[KRt,tkt,ave,X7,Gx,rkt,K7,zx,skt,Sp,IT].forEach(function(e){en(A5,e)});var lkt={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}},ckt={maximal:!1,acyclic:!1},Eg=function(t){return t.scratch("breadthfirst")},IX=function(t,n){return t.scratch("breadthfirst",n)};function sve(e){this.options=en({},lkt,ckt,e)}sve.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=n.nodes().filter(function(oe){return oe.isChildless()}),a=n,o=e.directed,l=e.acyclic||e.maximal||e.maximalAdjustments>0,u=!!e.boundingBox,h=t.extent(),f=ho(u?e.boundingBox:{x1:h.x1,y1:h.y1,w:h.w,h:h.h}),d;if(Ho(e.roots))d=e.roots;else if(hr(e.roots)){for(var p=[],g=0;g<e.roots.length;g++){var m=e.roots[g],y=t.getElementById(m);p.push(y)}d=t.collection(p)}else if(zt(e.roots))d=t.$(e.roots);else if(o)d=r.roots();else{var b=n.components();d=t.collection();for(var T=function(de){var be=b[de],fe=be.maxDegree(!1),Ie=be.filter(function(Re){return Re.degree(!1)===fe});d=d.add(Ie)},E=0;E<b.length;E++)T(E)}var w=[],x={},S=function(de,be){w[be]==null&&(w[be]=[]);var fe=w[be].length;w[be].push(de),IX(de,{index:fe,depth:be})},A=function(de,be){var fe=Eg(de),Ie=fe.depth,Re=fe.index;w[Ie][Re]=null,de.isChildless()&&S(de,be)};a.bfs({roots:d,directed:e.directed,visit:function(de,be,fe,Ie,Re){var ke=de[0],De=ke.id();ke.isChildless()&&S(ke,Re),x[De]=!0}});for(var R=[],C=0;C<r.length;C++){var N=r[C];x[N.id()]||R.push(N)}var O=function(de){for(var be=w[de],fe=0;fe<be.length;fe++){var Ie=be[fe];if(Ie==null){be.splice(fe,1),fe--;continue}IX(Ie,{depth:de,index:fe})}},L=function(de,be){for(var fe=Eg(de),Ie=de.incomers().filter(function(ue){return ue.isNode()&&n.has(ue)}),Re=-1,ke=de.id(),De=0;De<Ie.length;De++){var se=Ie[De],j=Eg(se);Re=Math.max(Re,j.depth)}if(fe.depth<=Re){if(!e.acyclic&&be[ke])return null;var me=Re+1;return A(de,me),be[ke]=me,!0}return!1};if(o&&l){var k=[],M={},$=function(de){return k.push(de)},_=function(){return k.shift()};for(r.forEach(function(oe){return k.push(oe)});k.length>0;){var F=_(),B=L(F,M);if(B)F.outgoers().filter(function(oe){return oe.isNode()&&n.has(oe)}).forEach($);else if(B===null){er("Detected double maximal shift for node `"+F.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var D=0;if(e.avoidOverlap)for(var P=0;P<r.length;P++){var H=r[P],W=H.layoutDimensions(e),U=W.w,V=W.h;D=Math.max(D,U,V)}var G={},ee=function(de){if(G[de.id()])return G[de.id()];for(var be=Eg(de).depth,fe=de.neighborhood(),Ie=0,Re=0,ke=0;ke<fe.length;ke++){var De=fe[ke];if(!(De.isEdge()||De.isParent()||!r.has(De))){var se=Eg(De);if(se!=null){var j=se.index,me=se.depth;if(!(j==null||me==null)){var ue=w[me].length;me<be&&(Ie+=j/ue,Re++)}}}}return Re=Math.max(1,Re),Ie=Ie/Re,Re===0&&(Ie=0),G[de.id()]=Ie,Ie},ce=function(de,be){var fe=ee(de),Ie=ee(be),Re=fe-Ie;return Re===0?ame(de.id(),be.id()):Re};e.depthSort!==void 0&&(ce=e.depthSort);for(var Q=w.length,re=0;re<Q;re++)w[re].sort(ce),O(re);for(var le=[],Y=0;Y<R.length;Y++)le.push(R[Y]);var K=function(){for(var de=0;de<Q;de++)O(de)};le.length&&(w.unshift(le),Q=w.length,K());for(var Z=0,z=0;z<Q;z++)Z=Math.max(w[z].length,Z);var X={x:f.x1+f.w/2,y:f.y1+f.h/2},te=r.reduce(function(oe,de){return function(be){return{w:oe.w===-1?be.w:(oe.w+be.w)/2,h:oe.h===-1?be.h:(oe.h+be.h)/2}}(de.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),ne=Math.max(Q===1?0:u?(f.h-e.padding*2-te.h)/(Q-1):(f.h-e.padding*2-te.h)/(Q+1),D),Ae=w.reduce(function(oe,de){return Math.max(oe,de.length)},0),he=function(de){var be=Eg(de),fe=be.depth,Ie=be.index;if(e.circle){var Re=Math.min(f.w/2/Q,f.h/2/Q);Re=Math.max(Re,D);var ke=Re*fe+Re-(Q>0&&w[0].length<=3?Re/2:0),De=2*Math.PI/w[fe].length*Ie;return fe===0&&w[0].length===1&&(ke=1),{x:X.x+ke*Math.cos(De),y:X.y+ke*Math.sin(De)}}else{var se=w[fe].length,j=Math.max(se===1?0:u?(f.w-e.padding*2-te.w)/((e.grid?Ae:se)-1):(f.w-e.padding*2-te.w)/((e.grid?Ae:se)+1),D),me={x:X.x+(Ie+1-(se+1)/2)*j,y:X.y+(fe+1-(Q+1)/2)*ne};return me}};return n.nodes().layoutPositions(this,e,he),this};var ukt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function ove(e){this.options=en({},ukt,e)}ove.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));for(var l=ho(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},h=t.sweep===void 0?2*Math.PI-2*Math.PI/o.length:t.sweep,f=h/Math.max(1,o.length-1),d,p=0,g=0;g<o.length;g++){var m=o[g],y=m.layoutDimensions(t),b=y.w,T=y.h;p=Math.max(p,b,T)}if(Tt(t.radius)?d=t.radius:o.length<=1?d=0:d=Math.min(l.h,l.w)/2-p,o.length>1&&t.avoidOverlap){p*=1.75;var E=Math.cos(f)-Math.cos(0),w=Math.sin(f)-Math.sin(0),x=Math.sqrt(p*p/(E*E+w*w));d=Math.max(x,d)}var S=function(R,C){var N=t.startAngle+C*f*(a?1:-1),O=d*Math.cos(N),L=d*Math.sin(N),k={x:u.x+O,y:u.y+L};return k};return r.nodes().layoutPositions(this,t,S),this};var hkt={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function lve(e){this.options=en({},hkt,e)}lve.prototype.run=function(){for(var e=this.options,t=e,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,r=e.cy,a=t.eles,o=a.nodes().not(":parent"),l=ho(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},h=[],f=0,d=0;d<o.length;d++){var p=o[d],g=void 0;g=t.concentric(p),h.push({value:g,node:p}),p._private.scratch.concentric=g}o.updateStyle();for(var m=0;m<o.length;m++){var y=o[m],b=y.layoutDimensions(t);f=Math.max(f,b.w,b.h)}h.sort(function(te,ne){return ne.value-te.value});for(var T=t.levelWidth(o),E=[[]],w=E[0],x=0;x<h.length;x++){var S=h[x];if(w.length>0){var A=Math.abs(w[0].value-S.value);A>=T&&(w=[],E.push(w))}w.push(S)}var R=f+t.minNodeSpacing;if(!t.avoidOverlap){var C=E.length>0&&E[0].length>1,N=Math.min(l.w,l.h)/2-R,O=N/(E.length+C?1:0);R=Math.min(R,O)}for(var L=0,k=0;k<E.length;k++){var M=E[k],$=t.sweep===void 0?2*Math.PI-2*Math.PI/M.length:t.sweep,_=M.dTheta=$/Math.max(1,M.length-1);if(M.length>1&&t.avoidOverlap){var F=Math.cos(_)-Math.cos(0),B=Math.sin(_)-Math.sin(0),D=Math.sqrt(R*R/(F*F+B*B));L=Math.max(D,L)}M.r=L,L+=R}if(t.equidistant){for(var P=0,H=0,W=0;W<E.length;W++){var U=E[W],V=U.r-H;P=Math.max(P,V)}H=0;for(var G=0;G<E.length;G++){var ee=E[G];G===0&&(H=ee.r),ee.r=H,H+=P}}for(var ce={},Q=0;Q<E.length;Q++)for(var re=E[Q],le=re.dTheta,Y=re.r,K=0;K<re.length;K++){var Z=re[K],z=t.startAngle+(n?1:-1)*le*K,X={x:u.x+Y*Math.cos(z),y:u.y+Y*Math.sin(z)};ce[Z.node.id()]=X}return a.nodes().layoutPositions(this,t,function(te){var ne=te.id();return ce[ne]}),this};var Hk,fkt={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function TI(e){this.options=en({},fkt,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges(),r=n.filter(function(a){var o=a.source().data("id"),l=a.target().data("id"),u=t.some(function(f){return f.data("id")===o}),h=t.some(function(f){return f.data("id")===l});return!u||!h});this.options.eles=this.options.eles.not(r)}TI.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,(e.animate===!0||e.animate===!1)&&n.emit({type:"layoutstart",layout:n}),e.debug===!0?Hk=!0:Hk=!1;var r=dkt(t,n,e);Hk&&mkt(r),e.randomize&&vkt(r);var a=Dh(),o=function(){ykt(r,t,e),e.fit===!0&&t.fit(e.padding)},l=function(g){return!(n.stopped||g>=e.numIter||(bkt(r,e),r.temperature=r.temperature*e.coolingFactor,r.temperature<e.minTemp))},u=function(){if(e.animate===!0||e.animate===!1)o(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var g=e.eles.nodes(),m=cve(r,e,g);g.layoutPositions(n,e,m)}},h=0,f=!0;if(e.animate===!0){var d=function p(){for(var g=0;f&&g<e.refresh;)f=l(h),h++,g++;if(!f)RX(r,e),u();else{var m=Dh();m-a>=e.animationThreshold&&o(),b5(p)}};d()}else{for(;f;)f=l(h),h++;RX(r,e),u()}return this};TI.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};TI.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var dkt=function(t,n,r){for(var a=r.eles.edges(),o=r.eles.nodes(),l=ho(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:r.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},h=r.eles.components(),f={},d=0;d<h.length;d++)for(var p=h[d],g=0;g<p.length;g++){var m=p[g];f[m.id()]=d}for(var d=0;d<u.nodeSize;d++){var y=o[d],b=y.layoutDimensions(r),T={};T.isLocked=y.locked(),T.id=y.data("id"),T.parentId=y.data("parent"),T.cmptId=f[y.id()],T.children=[],T.positionX=y.position("x"),T.positionY=y.position("y"),T.offsetX=0,T.offsetY=0,T.height=b.w,T.width=b.h,T.maxX=T.positionX+T.width/2,T.minX=T.positionX-T.width/2,T.maxY=T.positionY+T.height/2,T.minY=T.positionY-T.height/2,T.padLeft=parseFloat(y.style("padding")),T.padRight=parseFloat(y.style("padding")),T.padTop=parseFloat(y.style("padding")),T.padBottom=parseFloat(y.style("padding")),T.nodeRepulsion=Xr(r.nodeRepulsion)?r.nodeRepulsion(y):r.nodeRepulsion,u.layoutNodes.push(T),u.idToIndex[T.id]=d}for(var E=[],w=0,x=-1,S=[],d=0;d<u.nodeSize;d++){var y=u.layoutNodes[d],A=y.parentId;A!=null?u.layoutNodes[u.idToIndex[A]].children.push(y.id):(E[++x]=y.id,S.push(y.id))}for(u.graphSet.push(S);w<=x;){var R=E[w++],C=u.idToIndex[R],m=u.layoutNodes[C],N=m.children;if(N.length>0){u.graphSet.push(N);for(var d=0;d<N.length;d++)E[++x]=N[d]}}for(var d=0;d<u.graphSet.length;d++)for(var O=u.graphSet[d],g=0;g<O.length;g++){var L=u.idToIndex[O[g]];u.indexToGraph[L]=d}for(var d=0;d<u.edgeSize;d++){var k=a[d],M={};M.id=k.data("id"),M.sourceId=k.data("source"),M.targetId=k.data("target");var $=Xr(r.idealEdgeLength)?r.idealEdgeLength(k):r.idealEdgeLength,_=Xr(r.edgeElasticity)?r.edgeElasticity(k):r.edgeElasticity,F=u.idToIndex[M.sourceId],B=u.idToIndex[M.targetId],D=u.indexToGraph[F],P=u.indexToGraph[B];if(D!=P){for(var H=pkt(M.sourceId,M.targetId,u),W=u.graphSet[H],U=0,T=u.layoutNodes[F];W.indexOf(T.id)===-1;)T=u.layoutNodes[u.idToIndex[T.parentId]],U++;for(T=u.layoutNodes[B];W.indexOf(T.id)===-1;)T=u.layoutNodes[u.idToIndex[T.parentId]],U++;$*=U*r.nestingFactor}M.idealLength=$,M.elasticity=_,u.layoutEdges.push(M)}return u},pkt=function(t,n,r){var a=gkt(t,n,0,r);return 2>a.count?0:a.graph},gkt=function e(t,n,r,a){var o=a.graphSet[r];if(-1<o.indexOf(t)&&-1<o.indexOf(n))return{count:2,graph:r};for(var l=0,u=0;u<o.length;u++){var h=o[u],f=a.idToIndex[h],d=a.layoutNodes[f].children;if(d.length!==0){var p=a.indexToGraph[a.idToIndex[d[0]]],g=e(t,n,p,a);if(g.count!==0)if(g.count===1){if(l++,l===2)break}else return g}}return{count:l,graph:r}},mkt,vkt=function(t,n){for(var r=t.clientWidth,a=t.clientHeight,o=0;o<t.nodeSize;o++){var l=t.layoutNodes[o];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*r,l.positionY=Math.random()*a)}},cve=function(t,n,r){var a=t.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(l){var u=t.layoutNodes[t.idToIndex[l.data("id")]];o.x1=Math.min(o.x1,u.positionX),o.x2=Math.max(o.x2,u.positionX),o.y1=Math.min(o.y1,u.positionY),o.y2=Math.max(o.y2,u.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(l,u){var h=t.layoutNodes[t.idToIndex[l.data("id")]];if(n.boundingBox){var f=(h.positionX-o.x1)/o.w,d=(h.positionY-o.y1)/o.h;return{x:a.x1+f*a.w,y:a.y1+d*a.h}}else return{x:h.positionX,y:h.positionY}}},ykt=function(t,n,r){var a=r.layout,o=r.eles.nodes(),l=cve(t,r,o);o.positions(l),t.ready!==!0&&(t.ready=!0,a.one("layoutready",r.ready),a.emit({type:"layoutready",layout:this}))},bkt=function(t,n,r){Tkt(t,n),xkt(t),Skt(t,n),Akt(t),Ikt(t)},Tkt=function(t,n){for(var r=0;r<t.graphSet.length;r++)for(var a=t.graphSet[r],o=a.length,l=0;l<o;l++)for(var u=t.layoutNodes[t.idToIndex[a[l]]],h=l+1;h<o;h++){var f=t.layoutNodes[t.idToIndex[a[h]]];Ekt(u,f,t,n)}},CX=function(t){return-1+2*t*Math.random()},Ekt=function(t,n,r,a){var o=t.cmptId,l=n.cmptId;if(!(o!==l&&!r.isCompound)){var u=n.positionX-t.positionX,h=n.positionY-t.positionY,f=1;u===0&&h===0&&(u=CX(f),h=CX(f));var d=wkt(t,n,u,h);if(d>0)var p=a.nodeOverlap*d,g=Math.sqrt(u*u+h*h),m=p*u/g,y=p*h/g;else var b=I5(t,u,h),T=I5(n,-1*u,-1*h),E=T.x-b.x,w=T.y-b.y,x=E*E+w*w,g=Math.sqrt(x),p=(t.nodeRepulsion+n.nodeRepulsion)/x,m=p*E/g,y=p*w/g;t.isLocked||(t.offsetX-=m,t.offsetY-=y),n.isLocked||(n.offsetX+=m,n.offsetY+=y)}},wkt=function(t,n,r,a){if(r>0)var o=t.maxX-n.minX;else var o=n.maxX-t.minX;if(a>0)var l=t.maxY-n.minY;else var l=n.maxY-t.minY;return o>=0&&l>=0?Math.sqrt(o*o+l*l):0},I5=function(t,n,r){var a=t.positionX,o=t.positionY,l=t.height||1,u=t.width||1,h=r/n,f=l/u,d={};return n===0&&0<r||n===0&&0>r?(d.x=a,d.y=o+l/2,d):0<n&&-1*f<=h&&h<=f?(d.x=a+u/2,d.y=o+u*r/2/n,d):0>n&&-1*f<=h&&h<=f?(d.x=a-u/2,d.y=o-u*r/2/n,d):0<r&&(h<=-1*f||h>=f)?(d.x=a+l*n/2/r,d.y=o+l/2,d):(0>r&&(h<=-1*f||h>=f)&&(d.x=a-l*n/2/r,d.y=o-l/2),d)},xkt=function(t,n){for(var r=0;r<t.edgeSize;r++){var a=t.layoutEdges[r],o=t.idToIndex[a.sourceId],l=t.layoutNodes[o],u=t.idToIndex[a.targetId],h=t.layoutNodes[u],f=h.positionX-l.positionX,d=h.positionY-l.positionY;if(!(f===0&&d===0)){var p=I5(l,f,d),g=I5(h,-1*f,-1*d),m=g.x-p.x,y=g.y-p.y,b=Math.sqrt(m*m+y*y),T=Math.pow(a.idealLength-b,2)/a.elasticity;if(b!==0)var E=T*m/b,w=T*y/b;else var E=0,w=0;l.isLocked||(l.offsetX+=E,l.offsetY+=w),h.isLocked||(h.offsetX-=E,h.offsetY-=w)}}},Skt=function(t,n){if(n.gravity!==0)for(var r=1,a=0;a<t.graphSet.length;a++){var o=t.graphSet[a],l=o.length;if(a===0)var u=t.clientHeight/2,h=t.clientWidth/2;else var f=t.layoutNodes[t.idToIndex[o[0]]],d=t.layoutNodes[t.idToIndex[f.parentId]],u=d.positionX,h=d.positionY;for(var p=0;p<l;p++){var g=t.layoutNodes[t.idToIndex[o[p]]];if(!g.isLocked){var m=u-g.positionX,y=h-g.positionY,b=Math.sqrt(m*m+y*y);if(b>r){var T=n.gravity*m/b,E=n.gravity*y/b;g.offsetX+=T,g.offsetY+=E}}}}},Akt=function(t,n){var r=[],a=0,o=-1;for(r.push.apply(r,t.graphSet[0]),o+=t.graphSet[0].length;a<=o;){var l=r[a++],u=t.idToIndex[l],h=t.layoutNodes[u],f=h.children;if(0<f.length&&!h.isLocked){for(var d=h.offsetX,p=h.offsetY,g=0;g<f.length;g++){var m=t.layoutNodes[t.idToIndex[f[g]]];m.offsetX+=d,m.offsetY+=p,r[++o]=f[g]}h.offsetX=0,h.offsetY=0}}},Ikt=function(t,n){for(var r=0;r<t.nodeSize;r++){var a=t.layoutNodes[r];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var r=0;r<t.nodeSize;r++){var a=t.layoutNodes[r];if(!(0<a.children.length||a.isLocked)){var o=Ckt(a.offsetX,a.offsetY,t.temperature);a.positionX+=o.x,a.positionY+=o.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,Rkt(a,t)}}for(var r=0;r<t.nodeSize;r++){var a=t.layoutNodes[r];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},Ckt=function(t,n,r){var a=Math.sqrt(t*t+n*n);if(a>r)var o={x:r*t/a,y:r*n/a};else var o={x:t,y:n};return o},Rkt=function e(t,n){var r=t.parentId;if(r!=null){var a=n.layoutNodes[n.idToIndex[r]],o=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,o=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,o=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,o=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,o=!0),o)return e(a,n)}},RX=function(t,n){for(var r=t.layoutNodes,a=[],o=0;o<r.length;o++){var l=r[o],u=l.cmptId,h=a[u]=a[u]||[];h.push(l)}for(var f=0,o=0;o<a.length;o++){var d=a[o];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var p=0;p<d.length;p++){var g=d[p];d.x1=Math.min(d.x1,g.positionX-g.width/2),d.x2=Math.max(d.x2,g.positionX+g.width/2),d.y1=Math.min(d.y1,g.positionY-g.height/2),d.y2=Math.max(d.y2,g.positionY+g.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,f+=d.w*d.h}}a.sort(function(w,x){return x.w*x.h-w.w*w.h});for(var m=0,y=0,b=0,T=0,E=Math.sqrt(f)*t.clientWidth/t.clientHeight,o=0;o<a.length;o++){var d=a[o];if(d){for(var p=0;p<d.length;p++){var g=d[p];g.isLocked||(g.positionX+=m-d.x1,g.positionY+=y-d.y1)}m+=d.w+n.componentSpacing,b+=d.w+n.componentSpacing,T=Math.max(T,d.h),b>E&&(y+=T+n.componentSpacing,m=0,b=0,T=0)}}},kkt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function uve(e){this.options=en({},kkt,e)}uve.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var o=ho(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(o.h===0||o.w===0)r.nodes().layoutPositions(this,t,function(G){return{x:o.x1,y:o.y1}});else{var l=a.size(),u=Math.sqrt(l*o.h/o.w),h=Math.round(u),f=Math.round(o.w/o.h*u),d=function(ee){if(ee==null)return Math.min(h,f);var ce=Math.min(h,f);ce==h?h=ee:f=ee},p=function(ee){if(ee==null)return Math.max(h,f);var ce=Math.max(h,f);ce==h?h=ee:f=ee},g=t.rows,m=t.cols!=null?t.cols:t.columns;if(g!=null&&m!=null)h=g,f=m;else if(g!=null&&m==null)h=g,f=Math.ceil(l/h);else if(g==null&&m!=null)f=m,h=Math.ceil(l/f);else if(f*h>l){var y=d(),b=p();(y-1)*b>=l?d(y-1):(b-1)*y>=l&&p(b-1)}else for(;f*h<l;){var T=d(),E=p();(E+1)*T>=l?p(E+1):d(T+1)}var w=o.w/f,x=o.h/h;if(t.condense&&(w=0,x=0),t.avoidOverlap)for(var S=0;S<a.length;S++){var A=a[S],R=A._private.position;(R.x==null||R.y==null)&&(R.x=0,R.y=0);var C=A.layoutDimensions(t),N=t.avoidOverlapPadding,O=C.w+N,L=C.h+N;w=Math.max(w,O),x=Math.max(x,L)}for(var k={},M=function(ee,ce){return!!k["c-"+ee+"-"+ce]},$=function(ee,ce){k["c-"+ee+"-"+ce]=!0},_=0,F=0,B=function(){F++,F>=f&&(F=0,_++)},D={},P=0;P<a.length;P++){var H=a[P],W=t.position(H);if(W&&(W.row!==void 0||W.col!==void 0)){var U={row:W.row,col:W.col};if(U.col===void 0)for(U.col=0;M(U.row,U.col);)U.col++;else if(U.row===void 0)for(U.row=0;M(U.row,U.col);)U.row++;D[H.id()]=U,$(U.row,U.col)}}var V=function(ee,ce){var Q,re;if(ee.locked()||ee.isParent())return!1;var le=D[ee.id()];if(le)Q=le.col*w+w/2+o.x1,re=le.row*x+x/2+o.y1;else{for(;M(_,F);)B();Q=F*w+w/2+o.x1,re=_*x+x/2+o.y1,$(_,F),B()}return{x:Q,y:re}};a.layoutPositions(this,t,V)}return this};var Okt={ready:function(){},stop:function(){}};function tF(e){this.options=en({},Okt,e)}tF.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this};tF.prototype.stop=function(){return this};var Nkt={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function hve(e){this.options=en({},Nkt,e)}hve.prototype.run=function(){var e=this.options,t=e.eles,n=t.nodes(),r=Xr(e.positions);function a(o){if(e.positions==null)return FAt(o.position());if(r)return e.positions(o);var l=e.positions[o._private.data.id];return l??null}return n.layoutPositions(this,e,function(o,l){var u=a(o);return o.locked()||u==null?!1:u}),this};var Lkt={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function fve(e){this.options=en({},Lkt,e)}fve.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=ho(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(l,u){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,e,a),this};var _kt=[{name:"breadthfirst",impl:sve},{name:"circle",impl:ove},{name:"concentric",impl:lve},{name:"cose",impl:TI},{name:"grid",impl:uve},{name:"null",impl:tF},{name:"preset",impl:hve},{name:"random",impl:fve}];function dve(e){this.options=e,this.notifications=0}var kX=function(){},OX=function(){throw new Error("A headless instance can not render images")};dve.prototype={recalculateRenderedStyle:kX,notify:function(){this.notifications++},init:kX,isHeadless:function(){return!0},png:OX,jpg:OX};var nF={};nF.arrowShapeWidth=.3;nF.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(f,d,p,g,m,y,b){var T=m.x-p/2-b,E=m.x+p/2+b,w=m.y-p/2-b,x=m.y+p/2+b,S=T<=f&&f<=E&&w<=d&&d<=x;return S},r=function(f,d,p,g,m){var y=f*Math.cos(g)-d*Math.sin(g),b=f*Math.sin(g)+d*Math.cos(g),T=y*p,E=b*p,w=T+m.x,x=E+m.y;return{x:w,y:x}},a=function(f,d,p,g){for(var m=[],y=0;y<f.length;y+=2){var b=f[y],T=f[y+1];m.push(r(b,T,d,p,g))}return m},o=function(f){for(var d=[],p=0;p<f.length;p++){var g=f[p];d.push(g.x,g.y)}return d},l=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},u=function(f,d){zt(d)&&(d=e[d]),e[f]=en({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,m,y,b,T,E){var w=o(a(this.points,y+2*E,b,T)),x=Js(g,m,w);return x},roughCollide:n,draw:function(g,m,y,b){var T=a(this.points,m,y,b);t.arrowShapeImpl("polygon")(g,T)},spacing:function(g){return 0},gap:l},d)};u("none",{collide:T5,roughCollide:T5,draw:WP,spacing:$j,gap:$j}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(f,d,p,g,m){var y=a(this.points,d,p,g),b=this.controlPoint,T=r(b[0],b[1],d,p,g);t.arrowShapeImpl(this.name)(f,y,T)},gap:function(f){return l(f)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,d,p,g,m,y,b){var T=o(a(this.points,p+2*b,g,m)),E=o(a(this.pointsTee,p+2*b,g,m)),w=Js(f,d,T)||Js(f,d,E);return w},draw:function(f,d,p,g,m){var y=a(this.points,d,p,g),b=a(this.pointsTee,d,p,g);t.arrowShapeImpl(this.name)(f,y,b)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,d,p,g,m,y,b){var T=m,E=Math.pow(T.x-f,2)+Math.pow(T.y-d,2)<=Math.pow((p+2*b)*this.radius,2),w=o(a(this.points,p+2*b,g,m));return Js(f,d,w)||E},draw:function(f,d,p,g,m){var y=a(this.pointsTr,d,p,g);t.arrowShapeImpl(this.name)(f,y,g.x,g.y,this.radius*d)},spacing:function(f){return t.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,d){var p=this.baseCrossLinePts.slice(),g=d/f,m=3,y=5;return p[m]=p[m]-g,p[y]=p[y]-g,p},collide:function(f,d,p,g,m,y,b){var T=o(a(this.points,p+2*b,g,m)),E=o(a(this.crossLinePts(p,y),p+2*b,g,m)),w=Js(f,d,T)||Js(f,d,E);return w},draw:function(f,d,p,g,m){var y=a(this.points,d,p,g),b=a(this.crossLinePts(d,m),d,p,g);t.arrowShapeImpl(this.name)(f,y,b)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return l(f)*.525}}),u("circle",{radius:.15,collide:function(f,d,p,g,m,y,b){var T=m,E=Math.pow(T.x-f,2)+Math.pow(T.y-d,2)<=Math.pow((p+2*b)*this.radius,2);return E},draw:function(f,d,p,g,m){t.arrowShapeImpl(this.name)(f,g.x,g.y,this.radius*d)},spacing:function(f){return t.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var jp={};jp.projectIntoViewport=function(e,t){var n=this.cy,r=this.findContainerClientCoords(),a=r[0],o=r[1],l=r[4],u=n.pan(),h=n.zoom(),f=((e-a)/l-u.x)/h,d=((t-o)/l-u.y)/h;return[f,d]};jp.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=this.cy.window().getComputedStyle(e),r=function(E){return parseFloat(n.getPropertyValue(E))},a={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},o={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},l=e.clientWidth,u=e.clientHeight,h=a.left+a.right,f=a.top+a.bottom,d=o.left+o.right,p=t.width/(l+d),g=l-h,m=u-f,y=t.left+a.left+o.left,b=t.top+a.top+o.top;return this.containerBB=[y,b,g,m,p]};jp.invalidateContainerClientCoordsCache=function(){this.containerBB=null};jp.findNearestElement=function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]};jp.findNearestElements=function(e,t,n,r){var a=this,o=this,l=o.getCachedZSortedEles(),u=[],h=o.cy.zoom(),f=o.cy.hasCompoundNodes(),d=(r?24:8)/h,p=(r?8:2)/h,g=(r?8:2)/h,m=1/0,y,b;n&&(l=l.interactive);function T(C,N){if(C.isNode()){if(b)return;b=C,u.push(C)}if(C.isEdge()&&(N==null||N<m))if(y){if(y.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&y.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var O=0;O<u.length;O++)if(u[O].isEdge()){u[O]=C,y=C,m=N??m;break}}}else u.push(C),y=C,m=N??m}function E(C){var N=C.outerWidth()+2*p,O=C.outerHeight()+2*p,L=N/2,k=O/2,M=C.position(),$=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,_=C._private.rscratch;if(M.x-L<=e&&e<=M.x+L&&M.y-k<=t&&t<=M.y+k){var F=o.nodeShapes[a.getNodeShape(C)];if(F.checkPoint(e,t,0,N,O,M.x,M.y,$,_))return T(C,0),!0}}function w(C){var N=C._private,O=N.rscratch,L=C.pstyle("width").pfValue,k=C.pstyle("arrow-scale").value,M=L/2+d,$=M*M,_=M*2,P=N.source,H=N.target,F;if(O.edgeType==="segments"||O.edgeType==="straight"||O.edgeType==="haystack"){for(var B=O.allpts,D=0;D+3<B.length;D+=2)if(KAt(e,t,B[D],B[D+1],B[D+2],B[D+3],_)&&$>(F=t6t(e,t,B[D],B[D+1],B[D+2],B[D+3])))return T(C,F),!0}else if(O.edgeType==="bezier"||O.edgeType==="multibezier"||O.edgeType==="self"||O.edgeType==="compound"){for(var B=O.allpts,D=0;D+5<O.allpts.length;D+=4)if(ZAt(e,t,B[D],B[D+1],B[D+2],B[D+3],B[D+4],B[D+5],_)&&$>(F=e6t(e,t,B[D],B[D+1],B[D+2],B[D+3],B[D+4],B[D+5])))return T(C,F),!0}for(var P=P||N.source,H=H||N.target,W=a.getArrowWidth(L,k),U=[{name:"source",x:O.arrowStartX,y:O.arrowStartY,angle:O.srcArrowAngle},{name:"target",x:O.arrowEndX,y:O.arrowEndY,angle:O.tgtArrowAngle},{name:"mid-source",x:O.midX,y:O.midY,angle:O.midsrcArrowAngle},{name:"mid-target",x:O.midX,y:O.midY,angle:O.midtgtArrowAngle}],D=0;D<U.length;D++){var V=U[D],G=o.arrowShapes[C.pstyle(V.name+"-arrow-shape").value],ee=C.pstyle("width").pfValue;if(G.roughCollide(e,t,W,V.angle,{x:V.x,y:V.y},ee,d)&&G.collide(e,t,W,V.angle,{x:V.x,y:V.y},ee,d))return T(C),!0}f&&u.length>0&&(E(P),E(H))}function x(C,N,O){return ec(C,N,O)}function S(C,N){var O=C._private,L=g,k;N?k=N+"-":k="",C.boundingBox();var M=O.labelBounds[N||"main"],$=C.pstyle(k+"label").value,_=C.pstyle("text-events").strValue==="yes";if(!(!_||!$)){var F=x(O.rscratch,"labelX",N),B=x(O.rscratch,"labelY",N),D=x(O.rscratch,"labelAngle",N),P=C.pstyle(k+"text-margin-x").pfValue,H=C.pstyle(k+"text-margin-y").pfValue,W=M.x1-L-P,U=M.x2+L-P,V=M.y1-L-H,G=M.y2+L-H;if(D){var ee=Math.cos(D),ce=Math.sin(D),Q=function(X,te){return X=X-F,te=te-B,{x:X*ee-te*ce+F,y:X*ce+te*ee+B}},re=Q(W,V),le=Q(W,G),Y=Q(U,V),K=Q(U,G),Z=[re.x+P,re.y+H,Y.x+P,Y.y+H,K.x+P,K.y+H,le.x+P,le.y+H];if(Js(e,t,Z))return T(C),!0}else if(ov(M,e,t))return T(C),!0}}for(var A=l.length-1;A>=0;A--){var R=l[A];R.isNode()?E(R)||S(R):w(R)||S(R)||S(R,"source")||S(R,"target")}return u};jp.getAllInBox=function(e,t,n,r){var a=this.getCachedZSortedEles().interactive,o=[],l=Math.min(e,n),u=Math.max(e,n),h=Math.min(t,r),f=Math.max(t,r);e=l,n=u,t=h,r=f;for(var d=ho({x1:e,y1:t,x2:n,y2:r}),p=0;p<a.length;p++){var g=a[p];if(g.isNode()){var m=g,y=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});zP(d,y)&&!wme(y,d)&&o.push(m)}else{var b=g,T=b._private,E=T.rscratch;if(E.startX!=null&&E.startY!=null&&!ov(d,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!ov(d,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var w=T.rstyle.bezierPts||T.rstyle.linePts||T.rstyle.haystackPts,x=!0,S=0;S<w.length;S++)if(!XAt(d,w[S])){x=!1;break}x&&o.push(b)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&o.push(b)}}return o};var C5={};C5.calculateArrowAngles=function(e){var t=e._private.rscratch,n=t.edgeType==="haystack",r=t.edgeType==="bezier",a=t.edgeType==="multibezier",o=t.edgeType==="segments",l=t.edgeType==="compound",u=t.edgeType==="self",h,f,d,p,g,m,E,w;if(n?(d=t.haystackPts[0],p=t.haystackPts[1],g=t.haystackPts[2],m=t.haystackPts[3]):(d=t.arrowStartX,p=t.arrowStartY,g=t.arrowEndX,m=t.arrowEndY),E=t.midX,w=t.midY,o)h=d-t.segpts[0],f=p-t.segpts[1];else if(a||l||u||r){var y=t.allpts,b=na(y[0],y[2],y[4],.1),T=na(y[1],y[3],y[5],.1);h=d-b,f=p-T}else h=d-E,f=p-w;t.srcArrowAngle=w3(h,f);var E=t.midX,w=t.midY;if(n&&(E=(d+g)/2,w=(p+m)/2),h=g-d,f=m-p,o){var y=t.allpts;if(y.length/2%2===0){var x=y.length/2,S=x-2;h=y[x]-y[S],f=y[x+1]-y[S+1]}else if(t.isRound)h=t.midVector[1],f=-t.midVector[0];else{var x=y.length/2-1,S=x-2;h=y[x]-y[S],f=y[x+1]-y[S+1]}}else if(a||l||u){var y=t.allpts,A=t.ctrlpts,R,C,N,O;if(A.length/2%2===0){var L=y.length/2-1,k=L+2,M=k+2;R=na(y[L],y[k],y[M],0),C=na(y[L+1],y[k+1],y[M+1],0),N=na(y[L],y[k],y[M],1e-4),O=na(y[L+1],y[k+1],y[M+1],1e-4)}else{var k=y.length/2-1,L=k-2,M=k+2;R=na(y[L],y[k],y[M],.4999),C=na(y[L+1],y[k+1],y[M+1],.4999),N=na(y[L],y[k],y[M],.5),O=na(y[L+1],y[k+1],y[M+1],.5)}h=N-R,f=O-C}if(t.midtgtArrowAngle=w3(h,f),t.midDispX=h,t.midDispY=f,h*=-1,f*=-1,o){var y=t.allpts;if(y.length/2%2!==0){if(!t.isRound){var x=y.length/2-1,$=x+2;h=-(y[$]-y[x]),f=-(y[$+1]-y[x+1])}}}if(t.midsrcArrowAngle=w3(h,f),o)h=g-t.segpts[t.segpts.length-2],f=m-t.segpts[t.segpts.length-1];else if(a||l||u||r){var y=t.allpts,_=y.length,b=na(y[_-6],y[_-4],y[_-2],.9),T=na(y[_-5],y[_-3],y[_-1],.9);h=g-b,f=m-T}else h=g-E,f=m-w;t.tgtArrowAngle=w3(h,f)};C5.getArrowWidth=C5.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(e*13.37,.9),29)*t,n[e+", "+t]=r,r)};var Z7,Q7,Bc={},rl={},NX,LX,Td,Yx,Gu,ed,ud,Fc,wg,N3,pve,gve,J7,eL,_X,DX=function(t,n,r){r.x=n.x-t.x,r.y=n.y-t.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},Dkt=function(t,n){n.x=t.x*-1,n.y=t.y*-1,n.nx=t.nx*-1,n.ny=t.ny*-1,n.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},Mkt=function(t,n,r,a,o){if(t!==_X?DX(n,t,Bc):Dkt(rl,Bc),DX(n,r,rl),NX=Bc.nx*rl.ny-Bc.ny*rl.nx,LX=Bc.nx*rl.nx-Bc.ny*-rl.ny,Gu=Math.asin(Math.max(-1,Math.min(1,NX))),Math.abs(Gu)<1e-6){Z7=n.x,Q7=n.y,ud=wg=0;return}Td=1,Yx=!1,LX<0?Gu<0?Gu=Math.PI+Gu:(Gu=Math.PI-Gu,Td=-1,Yx=!0):Gu>0&&(Td=-1,Yx=!0),n.radius!==void 0?wg=n.radius:wg=a,ed=Gu/2,N3=Math.min(Bc.len/2,rl.len/2),o?(Fc=Math.abs(Math.cos(ed)*wg/Math.sin(ed)),Fc>N3?(Fc=N3,ud=Math.abs(Fc*Math.sin(ed)/Math.cos(ed))):ud=wg):(Fc=Math.min(N3,wg),ud=Math.abs(Fc*Math.sin(ed)/Math.cos(ed))),J7=n.x+rl.nx*Fc,eL=n.y+rl.ny*Fc,Z7=J7-rl.ny*ud*Td,Q7=eL+rl.nx*ud*Td,pve=n.x+Bc.nx*Fc,gve=n.y+Bc.ny*Fc,_X=n};function mve(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function rF(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Mkt(e,t,n,r,a),{cx:Z7,cy:Q7,radius:ud,startX:pve,startY:gve,stopX:J7,stopY:eL,startAngle:Bc.ang+Math.PI/2*Td,endAngle:rl.ang-Math.PI/2*Td,counterClockwise:Yx})}var us={};us.findMidptPtsEtc=function(e,t){var n=t.posPts,r=t.intersectionPts,a=t.vectorNormInverse,o,l=e.pstyle("source-endpoint"),u=e.pstyle("target-endpoint"),h=l.units!=null&&u.units!=null,f=function(A,R,C,N){var O=N-R,L=C-A,k=Math.sqrt(L*L+O*O);return{x:-O/k,y:L/k}},d=e.pstyle("edge-distances").value;switch(d){case"node-position":o=n;break;case"intersection":o=r;break;case"endpoints":{if(h){var p=this.manualEndptToPx(e.source()[0],l),g=sa(p,2),m=g[0],y=g[1],b=this.manualEndptToPx(e.target()[0],u),T=sa(b,2),E=T[0],w=T[1],x={x1:m,y1:y,x2:E,y2:w};a=f(m,y,E,w),o=x}else er("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=r;break}}return{midptPts:o,vectorNormInverse:a}};us.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,a=r.rscratch;if(!a.haystack){var o=Math.random()*2*Math.PI;a.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,a.target={x:Math.cos(o),y:Math.sin(o)}}var l=r.source,u=r.target,h=l.position(),f=u.position(),d=l.width(),p=u.width(),g=l.height(),m=u.height(),y=n.pstyle("haystack-radius").value,b=y/2;a.haystackPts=a.allpts=[a.source.x*d*b+h.x,a.source.y*g*b+h.y,a.target.x*p*b+f.x,a.target.y*m*b+f.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};us.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),o=e.pstyle("segment-radii"),l=e.pstyle("radius-type"),u=Math.min(r.pfValue.length,a.pfValue.length),h=o.pfValue[o.pfValue.length-1],f=l.pfValue[l.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var d=0;d<u;d++){var p=r.pfValue[d],g=a.pfValue[d],m=1-p,y=p,b=this.findMidptPtsEtc(e,t),T=b.midptPts,E=b.vectorNormInverse,w={x:T.x1*m+T.x2*y,y:T.y1*m+T.y2*y};n.segpts.push(w.x+E.x*g,w.y+E.y*g),n.radii.push(o.pfValue[d]!==void 0?o.pfValue[d]:h),n.isArcRadius.push((l.pfValue[d]!==void 0?l.pfValue[d]:f)==="arc-radius")}};us.findLoopPoints=function(e,t,n,r){var a=e._private.rscratch,o=t.dirCounts,l=t.srcPos,u=e.pstyle("control-point-distances"),h=u?u.pfValue[0]:void 0,f=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,p=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var g=n,m=p;r&&(g=0,m=h);var y=f-Math.PI/2,b=y-d/2,T=y+d/2,E=f+"_"+d;g=o[E]===void 0?o[E]=0:++o[E],a.ctrlpts=[l.x+Math.cos(b)*1.4*m*(g/3+1),l.y+Math.sin(b)*1.4*m*(g/3+1),l.x+Math.cos(T)*1.4*m*(g/3+1),l.y+Math.sin(T)*1.4*m*(g/3+1)]};us.findCompoundLoopPoints=function(e,t,n,r){var a=e._private.rscratch;a.edgeType="compound";var o=t.srcPos,l=t.tgtPos,u=t.srcW,h=t.srcH,f=t.tgtW,d=t.tgtH,p=e.pstyle("control-point-step-size").pfValue,g=e.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,y=n,b=p;r&&(y=0,b=m);var T=50,E={x:o.x-u/2,y:o.y-h/2},w={x:l.x-f/2,y:l.y-d/2},x={x:Math.min(E.x,w.x),y:Math.min(E.y,w.y)},S=.5,A=Math.max(S,Math.log(u*.01)),R=Math.max(S,Math.log(f*.01));a.ctrlpts=[x.x,x.y-(1+Math.pow(T,1.12)/100)*b*(y/3+1)*A,x.x-(1+Math.pow(T,1.12)/100)*b*(y/3+1)*R,x.y]};us.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};us.findBezierPoints=function(e,t,n,r,a){var o=e._private.rscratch,l=e.pstyle("control-point-step-size").pfValue,u=e.pstyle("control-point-distances"),h=e.pstyle("control-point-weights"),f=u&&h?Math.min(u.value.length,h.value.length):1,d=u?u.pfValue[0]:void 0,p=h.value[0],g=r;o.edgeType=g?"multibezier":"bezier",o.ctrlpts=[];for(var m=0;m<f;m++){var y=(.5-t.eles.length/2+n)*l*(a?-1:1),b=void 0,T=Tme(y);g&&(d=u?u.pfValue[m]:l,p=h.value[m]),r?b=d:b=d!==void 0?T*d:void 0;var E=b!==void 0?b:y,w=1-p,x=p,S=this.findMidptPtsEtc(e,t),A=S.midptPts,R=S.vectorNormInverse,C={x:A.x1*w+A.x2*x,y:A.y1*w+A.y2*x};o.ctrlpts.push(C.x+R.x*E,C.y+R.y*E)}};us.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",a="horizontal",o="leftward",l="rightward",u="downward",h="upward",f="auto",d=t.posPts,p=t.srcW,g=t.srcH,m=t.tgtW,y=t.tgtH,b=e.pstyle("edge-distances").value,T=b!=="node-position",E=e.pstyle("taxi-direction").value,w=E,x=e.pstyle("taxi-turn"),S=x.units==="%",A=x.pfValue,R=A<0,C=e.pstyle("taxi-turn-min-distance").pfValue,N=T?(p+m)/2:0,O=T?(g+y)/2:0,L=d.x2-d.x1,k=d.y2-d.y1,M=function(ae,ge){return ae>0?Math.max(ae-ge,0):Math.min(ae+ge,0)},$=M(L,N),_=M(k,O),F=!1;w===f?E=Math.abs($)>Math.abs(_)?a:r:w===h||w===u?(E=r,F=!0):(w===o||w===l)&&(E=a,F=!0);var B=E===r,D=B?_:$,P=B?k:L,H=Tme(P),W=!1;!(F&&(S||R))&&(w===u&&P<0||w===h&&P>0||w===o&&P>0||w===l&&P<0)&&(H*=-1,D=H*Math.abs(D),W=!0);var U;if(S){var V=A<0?1+A:A;U=V*D}else{var G=A<0?D:0;U=G+A*H}var ee=function(ae){return Math.abs(ae)<C||Math.abs(ae)>=Math.abs(D)},ce=ee(U),Q=ee(Math.abs(D)-Math.abs(U)),re=ce||Q;if(re&&!W)if(B){var le=Math.abs(P)<=g/2,Y=Math.abs(L)<=m/2;if(le){var K=(d.x1+d.x2)/2,Z=d.y1,z=d.y2;n.segpts=[K,Z,K,z]}else if(Y){var X=(d.y1+d.y2)/2,te=d.x1,ne=d.x2;n.segpts=[te,X,ne,X]}else n.segpts=[d.x1,d.y2]}else{var Ae=Math.abs(P)<=p/2,he=Math.abs(k)<=y/2;if(Ae){var oe=(d.y1+d.y2)/2,de=d.x1,be=d.x2;n.segpts=[de,oe,be,oe]}else if(he){var fe=(d.x1+d.x2)/2,Ie=d.y1,Re=d.y2;n.segpts=[fe,Ie,fe,Re]}else n.segpts=[d.x2,d.y1]}else if(B){var ke=d.y1+U+(T?g/2*H:0),De=d.x1,se=d.x2;n.segpts=[De,ke,se,ke]}else{var j=d.x1+U+(T?p/2*H:0),me=d.y1,ue=d.y2;n.segpts=[j,me,j,ue]}if(n.isRound){var we=e.pstyle("taxi-radius").value,ie=e.pstyle("radius-type").value[0]==="arc-radius";n.radii=new Array(n.segpts.length/2).fill(we),n.isArcRadius=new Array(n.segpts.length/2).fill(ie)}};us.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if(n.edgeType==="bezier"){var r=t.srcPos,a=t.tgtPos,o=t.srcW,l=t.srcH,u=t.tgtW,h=t.tgtH,f=t.srcShape,d=t.tgtShape,p=t.srcCornerRadius,g=t.tgtCornerRadius,m=t.srcRs,y=t.tgtRs,b=!Tt(n.startX)||!Tt(n.startY),T=!Tt(n.arrowStartX)||!Tt(n.arrowStartY),E=!Tt(n.endX)||!Tt(n.endY),w=!Tt(n.arrowEndX)||!Tt(n.arrowEndY),x=3,S=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,A=x*S,R=Ep({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),C=R<A,N=Ep({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),O=N<A,L=!1;if(b||T||C){L=!0;var k={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},M=Math.sqrt(k.x*k.x+k.y*k.y),$={x:k.x/M,y:k.y/M},_=Math.max(o,l),F={x:n.ctrlpts[0]+$.x*2*_,y:n.ctrlpts[1]+$.y*2*_},B=f.intersectLine(r.x,r.y,o,l,F.x,F.y,0,p,m);C?(n.ctrlpts[0]=n.ctrlpts[0]+$.x*(A-R),n.ctrlpts[1]=n.ctrlpts[1]+$.y*(A-R)):(n.ctrlpts[0]=B[0]+$.x*A,n.ctrlpts[1]=B[1]+$.y*A)}if(E||w||O){L=!0;var D={x:n.ctrlpts[0]-a.x,y:n.ctrlpts[1]-a.y},P=Math.sqrt(D.x*D.x+D.y*D.y),H={x:D.x/P,y:D.y/P},W=Math.max(o,l),U={x:n.ctrlpts[0]+H.x*2*W,y:n.ctrlpts[1]+H.y*2*W},V=d.intersectLine(a.x,a.y,u,h,U.x,U.y,0,g,y);O?(n.ctrlpts[0]=n.ctrlpts[0]+H.x*(A-N),n.ctrlpts[1]=n.ctrlpts[1]+H.y*(A-N)):(n.ctrlpts[0]=V[0]+H.x*A,n.ctrlpts[1]=V[1]+H.y*A)}L&&this.findEndpoints(e)}};us.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);t.allpts.push(t.endX,t.endY);var r,a;t.ctrlpts.length/2%2===0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,a=.5,t.midX=na(t.allpts[r],t.allpts[r+2],t.allpts[r+4],a),t.midY=na(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var o=2;o+3<t.allpts.length;o+=2){var l=t.radii[o/2-1],u=t.isArcRadius[o/2-1];t.roundCorners.push(rF({x:t.allpts[o-2],y:t.allpts[o-1]},{x:t.allpts[o],y:t.allpts[o+1],radius:l},{x:t.allpts[o+2],y:t.allpts[o+3]},l,u))}}if(t.segpts.length%4===0){var h=t.segpts.length/2,f=h-2;t.midX=(t.segpts[f]+t.segpts[h])/2,t.midY=(t.segpts[f+1]+t.segpts[h+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var p={x:t.segpts[d],y:t.segpts[d+1]},g=t.roundCorners[d/2],m=[p.x-g.cx,p.y-g.cy],y=g.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(b){return b*y}),t.midX=g.cx+m[0],t.midY=g.cy+m[1],t.midVector=m}}}};us.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Tt(t.startX)&&Tt(t.startY)&&Tt(t.endX)&&Tt(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,er("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};us.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var n=this,r=n.cy,a=r.hasCompoundNodes(),o={map:new ru,get:function(C){var N=this.map.get(C[0]);return N!=null?N.get(C[1]):null},set:function(C,N){var O=this.map.get(C[0]);O==null&&(O=new ru,this.map.set(C[0],O)),O.set(C[1],N)}},l=[],u=[],h=0;h<e.length;h++){var f=e[h],d=f._private,p=f.pstyle("curve-style").value;if(!(f.removed()||!f.takesUpSpace())){if(p==="haystack"){u.push(f);continue}var g=p==="unbundled-bezier"||p.endsWith("segments")||p==="straight"||p==="straight-triangle"||p.endsWith("taxi"),m=p==="unbundled-bezier"||p==="bezier",y=d.source,b=d.target,T=y.poolIndex(),E=b.poolIndex(),w=[T,E].sort(),x=o.get(w);x==null&&(x={eles:[]},o.set(w,x),l.push(w)),x.eles.push(f),g&&(x.hasUnbundled=!0),m&&(x.hasBezier=!0)}}for(var S=function(C){var N=l[C],O=o.get(N),L=void 0;if(!O.hasUnbundled){var k=O.eles[0].parallelEdges().filter(function(j){return j.isBundledBezier()});UP(O.eles),k.forEach(function(j){return O.eles.push(j)}),O.eles.sort(function(j,me){return j.poolIndex()-me.poolIndex()})}var M=O.eles[0],$=M.source(),_=M.target();if($.poolIndex()>_.poolIndex()){var F=$;$=_,_=F}var B=O.srcPos=$.position(),D=O.tgtPos=_.position(),P=O.srcW=$.outerWidth(),H=O.srcH=$.outerHeight(),W=O.tgtW=_.outerWidth(),U=O.tgtH=_.outerHeight(),V=O.srcShape=n.nodeShapes[t.getNodeShape($)],G=O.tgtShape=n.nodeShapes[t.getNodeShape(_)],ee=O.srcCornerRadius=$.pstyle("corner-radius").value==="auto"?"auto":$.pstyle("corner-radius").pfValue,ce=O.tgtCornerRadius=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,Q=O.tgtRs=_._private.rscratch,re=O.srcRs=$._private.rscratch;O.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var le=0;le<O.eles.length;le++){var Y=O.eles[le],K=Y[0]._private.rscratch,Z=Y.pstyle("curve-style").value,z=Z==="unbundled-bezier"||Z.endsWith("segments")||Z.endsWith("taxi"),X=!$.same(Y.source());if(!O.calculatedIntersection&&$!==_&&(O.hasBezier||O.hasUnbundled)){O.calculatedIntersection=!0;var te=V.intersectLine(B.x,B.y,P,H,D.x,D.y,0,ee,re),ne=O.srcIntn=te,Ae=G.intersectLine(D.x,D.y,W,U,B.x,B.y,0,ce,Q),he=O.tgtIntn=Ae,oe=O.intersectionPts={x1:te[0],x2:Ae[0],y1:te[1],y2:Ae[1]},de=O.posPts={x1:B.x,x2:D.x,y1:B.y,y2:D.y},be=Ae[1]-te[1],fe=Ae[0]-te[0],Ie=Math.sqrt(fe*fe+be*be),Re=O.vector={x:fe,y:be},ke=O.vectorNorm={x:Re.x/Ie,y:Re.y/Ie},De={x:-ke.y,y:ke.x};O.nodesOverlap=!Tt(Ie)||G.checkPoint(te[0],te[1],0,W,U,D.x,D.y,ce,Q)||V.checkPoint(Ae[0],Ae[1],0,P,H,B.x,B.y,ee,re),O.vectorNormInverse=De,L={nodesOverlap:O.nodesOverlap,dirCounts:O.dirCounts,calculatedIntersection:!0,hasBezier:O.hasBezier,hasUnbundled:O.hasUnbundled,eles:O.eles,srcPos:D,srcRs:Q,tgtPos:B,tgtRs:re,srcW:W,srcH:U,tgtW:P,tgtH:H,srcIntn:he,tgtIntn:ne,srcShape:G,tgtShape:V,posPts:{x1:de.x2,y1:de.y2,x2:de.x1,y2:de.y1},intersectionPts:{x1:oe.x2,y1:oe.y2,x2:oe.x1,y2:oe.y1},vector:{x:-Re.x,y:-Re.y},vectorNorm:{x:-ke.x,y:-ke.y},vectorNormInverse:{x:-De.x,y:-De.y}}}var se=X?L:O;K.nodesOverlap=se.nodesOverlap,K.srcIntn=se.srcIntn,K.tgtIntn=se.tgtIntn,K.isRound=Z.startsWith("round"),a&&($.isParent()||$.isChild()||_.isParent()||_.isChild())&&($.parents().anySame(_)||_.parents().anySame($)||$.same(_)&&$.isParent())?t.findCompoundLoopPoints(Y,se,le,z):$===_?t.findLoopPoints(Y,se,le,z):Z.endsWith("segments")?t.findSegmentsPoints(Y,se):Z.endsWith("taxi")?t.findTaxiPoints(Y,se):Z==="straight"||!z&&O.eles.length%2===1&&le===Math.floor(O.eles.length/2)?t.findStraightEdgePoints(Y):t.findBezierPoints(Y,se,le,z,X),t.findEndpoints(Y),t.tryToCorrectInvalidPoints(Y,se),t.checkForInvalidEdgeWarning(Y),t.storeAllpts(Y),t.storeEdgeProjections(Y),t.calculateArrowAngles(Y),t.recalculateEdgeLabelProjections(Y),t.calculateLabelAngles(Y)}},A=0;A<l.length;A++)S(A);this.findHaystackPoints(u)}};function vve(e){var t=[];if(e!=null){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];t.push({x:r,y:a})}return t}}us.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if(n==="segments")return vve(t.segpts)};us.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return vve(t.ctrlpts)};us.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var qE={};qE.manualEndptToPx=function(e,t){var n=this,r=e.position(),a=e.outerWidth(),o=e.outerHeight(),l=e._private.rscratch;if(t.value.length===2){var u=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(u[0]=u[0]*a),t.units[1]==="%"&&(u[1]=u[1]*o),u[0]+=r.x,u[1]+=r.y,u}else{var h=t.pfValue[0];h=-Math.PI/2+h;var f=2*Math.max(a,o),d=[r.x+Math.cos(h)*f,r.y+Math.sin(h)*f];return n.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,a,o,d[0],d[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,l)}};qE.findEndpoints=function(e){var t=this,n,r=e.source()[0],a=e.target()[0],o=r.position(),l=a.position(),u=e.pstyle("target-arrow-shape").value,h=e.pstyle("source-arrow-shape").value,f=e.pstyle("target-distance-from-node").pfValue,d=e.pstyle("source-distance-from-node").pfValue,p=r._private.rscratch,g=a._private.rscratch,m=e.pstyle("curve-style").value,y=e._private.rscratch,b=y.edgeType,T=m==="taxi",E=b==="self"||b==="compound",w=b==="bezier"||b==="multibezier"||E,x=b!=="bezier",S=b==="straight"||b==="segments",A=b==="segments",R=w||x||S,C=E||T,N=e.pstyle("source-endpoint"),O=C?"outside-to-node":N.value,L=r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,k=e.pstyle("target-endpoint"),M=C?"outside-to-node":k.value,$=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;y.srcManEndpt=N,y.tgtManEndpt=k;var _,F,B,D;if(w){var P=[y.ctrlpts[0],y.ctrlpts[1]],H=x?[y.ctrlpts[y.ctrlpts.length-2],y.ctrlpts[y.ctrlpts.length-1]]:P;_=H,F=P}else if(S){var W=A?y.segpts.slice(0,2):[l.x,l.y],U=A?y.segpts.slice(y.segpts.length-2):[o.x,o.y];_=U,F=W}if(M==="inside-to-node")n=[l.x,l.y];else if(k.units)n=this.manualEndptToPx(a,k);else if(M==="outside-to-line")n=y.tgtIntn;else if(M==="outside-to-node"||M==="outside-to-node-or-label"?B=_:(M==="outside-to-line"||M==="outside-to-line-or-label")&&(B=[o.x,o.y]),n=t.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),B[0],B[1],0,$,g),M==="outside-to-node-or-label"||M==="outside-to-line-or-label"){var V=a._private.rscratch,G=V.labelWidth,ee=V.labelHeight,ce=V.labelX,Q=V.labelY,re=G/2,le=ee/2,Y=a.pstyle("text-valign").value;Y==="top"?Q-=le:Y==="bottom"&&(Q+=le);var K=a.pstyle("text-halign").value;K==="left"?ce-=re:K==="right"&&(ce+=re);var Z=wT(B[0],B[1],[ce-re,Q-le,ce+re,Q-le,ce+re,Q+le,ce-re,Q+le],l.x,l.y);if(Z.length>0){var z=o,X=ld(z,Xg(n)),te=ld(z,Xg(Z)),ne=X;if(te<X&&(n=Z,ne=te),Z.length>2){var Ae=ld(z,{x:Z[2],y:Z[3]});Ae<ne&&(n=[Z[2],Z[3]])}}}var he=x3(n,_,t.arrowShapes[u].spacing(e)+f),oe=x3(n,_,t.arrowShapes[u].gap(e)+f);if(y.endX=oe[0],y.endY=oe[1],y.arrowEndX=he[0],y.arrowEndY=he[1],O==="inside-to-node")n=[o.x,o.y];else if(N.units)n=this.manualEndptToPx(r,N);else if(O==="outside-to-line")n=y.srcIntn;else if(O==="outside-to-node"||O==="outside-to-node-or-label"?D=F:(O==="outside-to-line"||O==="outside-to-line-or-label")&&(D=[l.x,l.y]),n=t.nodeShapes[this.getNodeShape(r)].intersectLine(o.x,o.y,r.outerWidth(),r.outerHeight(),D[0],D[1],0,L,p),O==="outside-to-node-or-label"||O==="outside-to-line-or-label"){var de=r._private.rscratch,be=de.labelWidth,fe=de.labelHeight,Ie=de.labelX,Re=de.labelY,ke=be/2,De=fe/2,se=r.pstyle("text-valign").value;se==="top"?Re-=De:se==="bottom"&&(Re+=De);var j=r.pstyle("text-halign").value;j==="left"?Ie-=ke:j==="right"&&(Ie+=ke);var me=wT(D[0],D[1],[Ie-ke,Re-De,Ie+ke,Re-De,Ie+ke,Re+De,Ie-ke,Re+De],o.x,o.y);if(me.length>0){var ue=l,we=ld(ue,Xg(n)),ie=ld(ue,Xg(me)),Oe=we;if(ie<we&&(n=[me[0],me[1]],Oe=ie),me.length>2){var ae=ld(ue,{x:me[2],y:me[3]});ae<Oe&&(n=[me[2],me[3]])}}}var ge=x3(n,F,t.arrowShapes[h].spacing(e)+d),Ee=x3(n,F,t.arrowShapes[h].gap(e)+d);y.startX=Ee[0],y.startY=Ee[1],y.arrowStartX=ge[0],y.arrowStartY=ge[1],R&&(!Tt(y.startX)||!Tt(y.startY)||!Tt(y.endX)||!Tt(y.endY)?y.badLine=!0:y.badLine=!1)};qE.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};qE.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var iF={};function Pkt(e,t,n){for(var r=function(f,d,p,g){return na(f,d,p,g)},a=t._private,o=a.rstyle.bezierPts,l=0;l<e.bezierProjPcts.length;l++){var u=e.bezierProjPcts[l];o.push({x:r(n[0],n[2],n[4],u),y:r(n[1],n[3],n[5],u)})}}iF.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<n.allpts.length;a+=4)Pkt(this,e,n.allpts.slice(a,a+6))}else if(r==="segments")for(var o=t.rstyle.linePts=[],a=0;a+1<n.allpts.length;a+=2)o.push({x:n.allpts[a],y:n.allpts[a+1]});else if(r==="haystack"){var l=n.haystackPts;t.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};iF.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var _u={};_u.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!uf(t)){var n,r,a=e._private,o=e.width(),l=e.height(),u=e.padding(),h=e.position(),f=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,p=a.rscratch,g=a.rstyle;switch(f){case"left":n=h.x-o/2-u;break;case"right":n=h.x+o/2+u;break;default:n=h.x}switch(d){case"top":r=h.y-l/2-u;break;case"bottom":r=h.y+l/2+u;break;default:r=h.y}p.labelX=n,p.labelY=r,g.labelX=n,g.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var yve=function(t,n){var r=Math.atan(n/t);return t===0&&r<0&&(r=r*-1),r},bve=function(t,n){var r=n.x-t.x,a=n.y-t.y;return yve(r,a)},Fkt=function(t,n,r,a){var o=ET(0,a-.001,1),l=ET(0,a+.001,1),u=A1(t,n,r,o),h=A1(t,n,r,l);return bve(u,h)};_u.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,a=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){t={x:r.midX,y:r.midY};var l=function(p,g,m){I0(n.rscratch,p,g,m),I0(n.rstyle,p,g,m)};l("labelX",null,t.x),l("labelY",null,t.y);var u=yve(r.midDispX,r.midDispY);l("labelAutoAngle",null,u);var h=function d(){if(d.cache)return d.cache;for(var p=[],g=0;g+5<r.allpts.length;g+=4){var m={x:r.allpts[g],y:r.allpts[g+1]},y={x:r.allpts[g+2],y:r.allpts[g+3]},b={x:r.allpts[g+4],y:r.allpts[g+5]};p.push({p0:m,p1:y,p2:b,startDist:0,length:0,segments:[]})}var T=n.rstyle.bezierPts,E=a.bezierProjPcts.length;function w(C,N,O,L,k){var M=Ep(N,O),$=C.segments[C.segments.length-1],_={p0:N,p1:O,t0:L,t1:k,startDist:$?$.startDist+$.length:0,length:M};C.segments.push(_),C.length+=M}for(var x=0;x<p.length;x++){var S=p[x],A=p[x-1];A&&(S.startDist=A.startDist+A.length),w(S,S.p0,T[x*E],0,a.bezierProjPcts[0]);for(var R=0;R<E-1;R++)w(S,T[x*E+R],T[x*E+R+1],a.bezierProjPcts[R],a.bezierProjPcts[R+1]);w(S,T[x*E+E-1],S.p2,a.bezierProjPcts[E-1],1)}return d.cache=p},f=function(p){var g,m=p==="source";if(o[p]){var y=e.pstyle(p+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var b=h(),T,E=0,w=0,x=0;x<b.length;x++){for(var S=b[m?x:b.length-1-x],A=0;A<S.segments.length;A++){var R=S.segments[m?A:S.segments.length-1-A],C=x===b.length-1&&A===S.segments.length-1;if(E=w,w+=R.length,w>=y||C){T={cp:S,segment:R};break}}if(T)break}var N=T.cp,O=T.segment,L=(y-E)/O.length,k=O.t1-O.t0,M=m?O.t0+k*L:O.t1-k*L;M=ET(0,M,1),t=A1(N.p0,N.p1,N.p2,M),g=Fkt(N.p0,N.p1,N.p2,M);break}case"straight":case"segments":case"haystack":{for(var $=0,_,F,B,D,P=r.allpts.length,H=0;H+3<P&&(m?(B={x:r.allpts[H],y:r.allpts[H+1]},D={x:r.allpts[H+2],y:r.allpts[H+3]}):(B={x:r.allpts[P-2-H],y:r.allpts[P-1-H]},D={x:r.allpts[P-4-H],y:r.allpts[P-3-H]}),_=Ep(B,D),F=$,$+=_,!($>=y));H+=2);var W=y-F,U=W/_;U=ET(0,U,1),t=zAt(B,D,U),g=bve(B,D);break}}l("labelX",p,t.x),l("labelY",p,t.y),l("labelAutoAngle",p,g)}};f("source"),f("target"),this.applyLabelDimensions(e)}};_u.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};_u.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),a=this.calculateLabelDimensions(e,r),o=e.pstyle("line-height").pfValue,l=e.pstyle("text-wrap").strValue,u=ec(n.rscratch,"labelWrapCachedLines",t)||[],h=l!=="wrap"?1:Math.max(u.length,1),f=a.height/h,d=f*o,p=a.width,g=a.height+(h-1)*(o-1)*f;I0(n.rstyle,"labelWidth",t,p),I0(n.rscratch,"labelWidth",t,p),I0(n.rstyle,"labelHeight",t,g),I0(n.rscratch,"labelHeight",t,g),I0(n.rscratch,"labelLineHeight",t,d)};_u.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",a=e.pstyle(r+"label").strValue,o=e.pstyle("text-transform").value,l=function(G,ee){return ee?(I0(n.rscratch,G,t,ee),ee):ec(n.rscratch,G,t)};if(!a)return"";o=="none"||(o=="uppercase"?a=a.toUpperCase():o=="lowercase"&&(a=a.toLowerCase()));var u=e.pstyle("text-wrap").value;if(u==="wrap"){var h=l("labelKey");if(h!=null&&l("labelWrapKey")===h)return l("labelWrapCachedText");for(var f="​",d=a.split(`
`),p=e.pstyle("text-max-width").pfValue,g=e.pstyle("text-overflow-wrap").value,m=g==="anywhere",y=[],b=/[\s\u200b]+|$/g,T=0;T<d.length;T++){var E=d[T],w=this.calculateLabelDimensions(e,E),x=w.width;if(m){var S=E.split("").join(f);E=S}if(x>p){var A=E.matchAll(b),R="",C=0,N=Mo(A),O;try{for(N.s();!(O=N.n()).done;){var L=O.value,k=L[0],M=E.substring(C,L.index);C=L.index+k.length;var $=R.length===0?M:R+M+k,_=this.calculateLabelDimensions(e,$),F=_.width;F<=p?R+=M+k:(R&&y.push(R),R=M+k)}}catch(V){N.e(V)}finally{N.f()}R.match(/^[\s\u200b]+$/)||y.push(R)}else y.push(E)}l("labelWrapCachedLines",y),a=l("labelWrapCachedText",y.join(`
`)),l("labelWrapKey",h)}else if(u==="ellipsis"){var B=e.pstyle("text-max-width").pfValue,D="",P="…",H=!1;if(this.calculateLabelDimensions(e,a).width<B)return a;for(var W=0;W<a.length;W++){var U=this.calculateLabelDimensions(e,D+a[W]+P).width;if(U>B)break;D+=a[W],W===a.length-1&&(H=!0)}return H||(D+=P),D}return a};_u.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};_u.calculateLabelDimensions=function(e,t){var n=this,r=n.cy.window(),a=r.document,o=hf(t,e._private.labelDimsKey),l=n.labelDimCache||(n.labelDimCache=[]),u=l[o];if(u!=null)return u;var h=0,f=e.pstyle("font-style").strValue,d=e.pstyle("font-size").pfValue,p=e.pstyle("font-family").strValue,g=e.pstyle("font-weight").strValue,m=this.labelCalcCanvas,y=this.labelCalcCanvasContext;if(!m){m=this.labelCalcCanvas=a.createElement("canvas"),y=this.labelCalcCanvasContext=m.getContext("2d");var b=m.style;b.position="absolute",b.left="-9999px",b.top="-9999px",b.zIndex="-1",b.visibility="hidden",b.pointerEvents="none"}y.font="".concat(f," ").concat(g," ").concat(d,"px ").concat(p);for(var T=0,E=0,w=t.split(`
`),x=0;x<w.length;x++){var S=w[x],A=y.measureText(S),R=Math.ceil(A.width),C=d;T=Math.max(R,T),E+=C}return T+=h,E+=h,l[o]={width:T,height:E}};_u.calculateLabelAngle=function(e,t){var n=e._private,r=n.rscratch,a=e.isEdge(),o=t?t+"-":"",l=e.pstyle(o+"text-rotation"),u=l.strValue;return u==="none"?0:a&&u==="autorotate"?r.labelAutoAngle:u==="autorotate"?0:l.pfValue};_u.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private,a=r.rscratch;a.labelAngle=t.calculateLabelAngle(e),n&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Tve={},MX=28,PX=!1;Tve.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(n==="cutrectangle"&&(e.width()<MX||e.height()<MX))return PX||(er("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),PX=!0),"rectangle";if(e.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(r).name}return n};var EI={};EI.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,r=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(l),u)for(var h=0;h<l.length;h++){var f=l[h],d=f._private,p=d.rstyle;p.clean=!1,p.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(l){var u=l.target;r(u)}).on("style.* background.*",function(l){var u=l.target;r(u,!1)});var a=function(l){if(l){var u=n.onUpdateEleCalcsFns;t.cleanStyle();for(var h=0;h<t.length;h++){var f=t[h],d=f._private.rstyle;f.isNode()&&!d.cleanConnected&&(r(f.connectedEdges()),d.cleanConnected=!0)}if(u)for(var p=0;p<u.length;p++){var g=u[p];g(l,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){a(!0)},n.beforeRender(a,n.beforeRenderPriorities.eleCalcs)};EI.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};EI.recalculateRenderedStyle=function(e,t){var n=function(S){return S._private.rstyle.cleanConnected},r=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var o=0;o<e.length;o++){var l=e[o],u=l._private,h=u.rstyle;l.isEdge()&&(!n(l.source())||!n(l.target()))&&(h.clean=!1),!(t&&h.clean||l.removed())&&l.pstyle("display").value!=="none"&&(u.group==="nodes"?a.push(l):r.push(l),h.clean=!0)}for(var f=0;f<a.length;f++){var d=a[f],p=d._private,g=p.rstyle,m=d.position();this.recalculateNodeLabelProjection(d),g.nodeX=m.x,g.nodeY=m.y,g.nodeW=d.pstyle("width").pfValue,g.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var y=0;y<r.length;y++){var b=r[y],T=b._private,E=T.rstyle,w=T.rscratch;E.srcX=w.arrowStartX,E.srcY=w.arrowStartY,E.tgtX=w.arrowEndX,E.tgtY=w.arrowEndY,E.midX=w.midX,E.midY=w.midY,E.labelAngle=w.labelAngle,E.sourceLabelAngle=w.sourceLabelAngle,E.targetLabelAngle=w.targetLabelAngle}}};var wI={};wI.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=e[n],a=r._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):a.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(var n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}};wI.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};wI.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(rve),t.interactive=t.filter(function(n){return n.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var Eve={};[jp,C5,us,qE,iF,_u,Tve,EI,wI].forEach(function(e){en(Eve,e)});var wve={};wve.getCachedImage=function(e,t,n){var r=this,a=r.imageCache=r.imageCache||{},o=a[e];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;o=a[e]=a[e]||{};var l=o.image=new Image;l.addEventListener("load",n),l.addEventListener("error",function(){l.error=!0});var u="data:",h=e.substring(0,u.length).toLowerCase()===u;return h||(t=t==="null"?null:t,l.crossOrigin=t),l.src=e,l};var ty={};ty.registerBinding=function(e,t,n,r){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var o=[],l=0;l<e.length;l++){var u=e[l];if(u!==void 0){var h=this.binder(u);o.push(h.on.apply(h,a))}}return o}var h=this.binder(e);return h.on.apply(h,a)};ty.binder=function(e){var t=this,n=t.cy.window(),r=e===n||e===n.document||e===n.document.body||h5t(e);if(t.supportsPassiveEvents==null){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});n.addEventListener("test",null,o)}catch{}t.supportsPassiveEvents=a}var l=function(h,f,d){var p=Array.prototype.slice.call(arguments);return r&&t.supportsPassiveEvents&&(p[2]={capture:d??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:p}),(e.addEventListener||e.on).apply(e,p),this};return{on:l,addEventListener:l,addListener:l,bind:l}};ty.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};ty.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};ty.load=function(){var e=this,t=e.cy.window(),n=function(j){return j.selected()},r=function(j){var me=j.getRootNode();if(me&&me.nodeType===11&&me.host!==void 0)return me},a=function(j,me,ue,we){j==null&&(j=e.cy);for(var ie=0;ie<me.length;ie++){var Oe=me[ie];j.emit({originalEvent:ue,type:Oe,position:we})}},o=function(j){return j.shiftKey||j.metaKey||j.ctrlKey},l=function(j,me){var ue=!0;if(e.cy.hasCompoundNodes()&&j&&j.pannable())for(var we=0;me&&we<me.length;we++){var j=me[we];if(j.isNode()&&j.isParent()&&!j.pannable()){ue=!1;break}}else ue=!0;return ue},u=function(j){j[0]._private.grabbed=!0},h=function(j){j[0]._private.grabbed=!1},f=function(j){j[0]._private.rscratch.inDragLayer=!0},d=function(j){j[0]._private.rscratch.inDragLayer=!1},p=function(j){j[0]._private.rscratch.isGrabTarget=!0},g=function(j){j[0]._private.rscratch.isGrabTarget=!1},m=function(j,me){var ue=me.addToList,we=ue.has(j);!we&&j.grabbable()&&!j.locked()&&(ue.merge(j),u(j))},y=function(j,me){if(j.cy().hasCompoundNodes()&&!(me.inDragLayer==null&&me.addToList==null)){var ue=j.descendants();me.inDragLayer&&(ue.forEach(f),ue.connectedEdges().forEach(f)),me.addToList&&m(ue,me)}},b=function(j,me){me=me||{};var ue=j.cy().hasCompoundNodes();me.inDragLayer&&(j.forEach(f),j.neighborhood().stdFilter(function(we){return!ue||we.isEdge()}).forEach(f)),me.addToList&&j.forEach(function(we){m(we,me)}),y(j,me),w(j,{inDragLayer:me.inDragLayer}),e.updateCachedGrabbedEles()},T=b,E=function(j){j&&(e.getCachedZSortedEles().forEach(function(me){h(me),d(me),g(me)}),e.updateCachedGrabbedEles())},w=function(j,me){if(!(me.inDragLayer==null&&me.addToList==null)&&j.cy().hasCompoundNodes()){var ue=j.ancestors().orphans();if(!ue.same(j)){var we=ue.descendants().spawnSelf().merge(ue).unmerge(j).unmerge(j.descendants()),ie=we.connectedEdges();me.inDragLayer&&(ie.forEach(f),we.forEach(f)),me.addToList&&we.forEach(function(Oe){m(Oe,me)})}}},x=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},S=typeof MutationObserver<"u",A=typeof ResizeObserver<"u";S?(e.removeObserver=new MutationObserver(function(se){for(var j=0;j<se.length;j++){var me=se[j],ue=me.removedNodes;if(ue)for(var we=0;we<ue.length;we++){var ie=ue[we];if(ie===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(se){e.destroy()});var R=GE(function(){e.cy.resize()},100);S&&(e.styleObserver=new MutationObserver(R),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",R),A&&(e.resizeObserver=new ResizeObserver(R),e.resizeObserver.observe(e.container));var C=function(j,me){for(;j!=null;)me(j),j=j.parentNode},N=function(){e.invalidateContainerClientCoordsCache()};C(e.container,function(se){e.registerBinding(se,"transitionend",N),e.registerBinding(se,"animationend",N),e.registerBinding(se,"scroll",N)}),e.registerBinding(e.container,"contextmenu",function(se){se.preventDefault()});var O=function(){return e.selection[4]!==0},L=function(j){for(var me=e.findContainerClientCoords(),ue=me[0],we=me[1],ie=me[2],Oe=me[3],ae=j.touches?j.touches:[j],ge=!1,Ee=0;Ee<ae.length;Ee++){var ye=ae[Ee];if(ue<=ye.clientX&&ye.clientX<=ue+ie&&we<=ye.clientY&&ye.clientY<=we+Oe){ge=!0;break}}if(!ge)return!1;for(var Se=e.container,Ce=j.target,Fe=Ce.parentNode,Ne=!1;Fe;){if(Fe===Se){Ne=!0;break}Fe=Fe.parentNode}return!!Ne};e.registerBinding(e.container,"mousedown",function(j){if(L(j)&&!(e.hoverData.which===1&&j.which!==1)){j.preventDefault(),x(),e.hoverData.capture=!0,e.hoverData.which=j.which;var me=e.cy,ue=[j.clientX,j.clientY],we=e.projectIntoViewport(ue[0],ue[1]),ie=e.selection,Oe=e.findNearestElements(we[0],we[1],!0,!1),ae=Oe[0],ge=e.dragData.possibleDragElements;e.hoverData.mdownPos=we,e.hoverData.mdownGPos=ue;var Ee=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Ve=e.hoverData.down;Ve?Ve.emit({originalEvent:j,type:"taphold",position:{x:we[0],y:we[1]}}):me.emit({originalEvent:j,type:"taphold",position:{x:we[0],y:we[1]}})}},e.tapholdDuration)};if(j.which==3){e.hoverData.cxtStarted=!0;var ye={originalEvent:j,type:"cxttapstart",position:{x:we[0],y:we[1]}};ae?(ae.activate(),ae.emit(ye),e.hoverData.down=ae):me.emit(ye),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(j.which==1){ae&&ae.activate();{if(ae!=null&&e.nodeIsGrabbable(ae)){var Se=function(Ve){return{originalEvent:j,type:Ve,position:{x:we[0],y:we[1]}}},Ce=function(Ve){Ve.emit(Se("grab"))};if(p(ae),!ae.selected())ge=e.dragData.possibleDragElements=me.collection(),T(ae,{addToList:ge}),ae.emit(Se("grabon")).emit(Se("grab"));else{ge=e.dragData.possibleDragElements=me.collection();var Fe=me.$(function(Ne){return Ne.isNode()&&Ne.selected()&&e.nodeIsGrabbable(Ne)});b(Fe,{addToList:ge}),ae.emit(Se("grabon")),Fe.forEach(Ce)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=ae,e.hoverData.downs=Oe,e.hoverData.downTime=new Date().getTime()}a(ae,["mousedown","tapstart","vmousedown"],j,{x:we[0],y:we[1]}),ae==null?(ie[4]=1,e.data.bgActivePosistion={x:we[0],y:we[1]},e.redrawHint("select",!0),e.redraw()):ae.pannable()&&(ie[4]=1),Ee()}ie[0]=ie[2]=we[0],ie[1]=ie[3]=we[1]}},!1);var k=r(e.container);e.registerBinding([t,k],"mousemove",function(j){var me=e.hoverData.capture;if(!(!me&&!L(j))){var ue=!1,we=e.cy,ie=we.zoom(),Oe=[j.clientX,j.clientY],ae=e.projectIntoViewport(Oe[0],Oe[1]),ge=e.hoverData.mdownPos,Ee=e.hoverData.mdownGPos,ye=e.selection,Se=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Se=e.findNearestElement(ae[0],ae[1],!0,!1));var Ce=e.hoverData.last,Fe=e.hoverData.down,Ne=[ae[0]-ye[2],ae[1]-ye[3]],Ve=e.dragData.possibleDragElements,et;if(Ee){var Rt=Oe[0]-Ee[0],pt=Rt*Rt,ut=Oe[1]-Ee[1],qe=ut*ut,je=pt+qe;e.hoverData.isOverThresholdDrag=et=je>=e.desktopTapThreshold2}var ft=o(j);et&&(e.hoverData.tapholdCancelled=!0);var Ke=function(){var ln=e.hoverData.dragDelta=e.hoverData.dragDelta||[];ln.length===0?(ln.push(Ne[0]),ln.push(Ne[1])):(ln[0]+=Ne[0],ln[1]+=Ne[1])};ue=!0,a(Se,["mousemove","vmousemove","tapdrag"],j,{x:ae[0],y:ae[1]});var at=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||we.emit({originalEvent:j,type:"boxstart",position:{x:ae[0],y:ae[1]}}),ye[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(et){var Ft={originalEvent:j,type:"cxtdrag",position:{x:ae[0],y:ae[1]}};Fe?Fe.emit(Ft):we.emit(Ft),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Se!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:ae[0],y:ae[1]}}),e.hoverData.cxtOver=Se,Se&&Se.emit({originalEvent:j,type:"cxtdragover",position:{x:ae[0],y:ae[1]}}))}}else if(e.hoverData.dragging){if(ue=!0,we.panningEnabled()&&we.userPanningEnabled()){var st;if(e.hoverData.justStartedPan){var Je=e.hoverData.mdownPos;st={x:(ae[0]-Je[0])*ie,y:(ae[1]-Je[1])*ie},e.hoverData.justStartedPan=!1}else st={x:Ne[0]*ie,y:Ne[1]*ie};we.panBy(st),we.emit("dragpan"),e.hoverData.dragged=!0}ae=e.projectIntoViewport(j.clientX,j.clientY)}else if(ye[4]==1&&(Fe==null||Fe.pannable())){if(et){if(!e.hoverData.dragging&&we.boxSelectionEnabled()&&(ft||!we.panningEnabled()||!we.userPanningEnabled()))at();else if(!e.hoverData.selecting&&we.panningEnabled()&&we.userPanningEnabled()){var gt=l(Fe,e.hoverData.downs);gt&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,ye[4]=0,e.data.bgActivePosistion=Xg(ge),e.redrawHint("select",!0),e.redraw())}Fe&&Fe.pannable()&&Fe.active()&&Fe.unactivate()}}else{if(Fe&&Fe.pannable()&&Fe.active()&&Fe.unactivate(),(!Fe||!Fe.grabbed())&&Se!=Ce&&(Ce&&a(Ce,["mouseout","tapdragout"],j,{x:ae[0],y:ae[1]}),Se&&a(Se,["mouseover","tapdragover"],j,{x:ae[0],y:ae[1]}),e.hoverData.last=Se),Fe)if(et){if(we.boxSelectionEnabled()&&ft)Fe&&Fe.grabbed()&&(E(Ve),Fe.emit("freeon"),Ve.emit("free"),e.dragData.didDrag&&(Fe.emit("dragfreeon"),Ve.emit("dragfree"))),at();else if(Fe&&Fe.grabbed()&&e.nodeIsDraggable(Fe)){var Nt=!e.dragData.didDrag;Nt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||b(Ve,{inDragLayer:!0});var yt={x:0,y:0};if(Tt(Ne[0])&&Tt(Ne[1])&&(yt.x+=Ne[0],yt.y+=Ne[1],Nt)){var nn=e.hoverData.dragDelta;nn&&Tt(nn[0])&&Tt(nn[1])&&(yt.x+=nn[0],yt.y+=nn[1])}e.hoverData.draggingEles=!0,Ve.silentShift(yt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else Ke();ue=!0}if(ye[2]=ae[0],ye[3]=ae[1],ue)return j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault(),!1}},!1);var M,$,_;e.registerBinding(t,"mouseup",function(j){if(!(e.hoverData.which===1&&j.which!==1&&e.hoverData.capture)){var me=e.hoverData.capture;if(me){e.hoverData.capture=!1;var ue=e.cy,we=e.projectIntoViewport(j.clientX,j.clientY),ie=e.selection,Oe=e.findNearestElement(we[0],we[1],!0,!1),ae=e.dragData.possibleDragElements,ge=e.hoverData.down,Ee=o(j);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,ge&&ge.unactivate(),e.hoverData.which===3){var ye={originalEvent:j,type:"cxttapend",position:{x:we[0],y:we[1]}};if(ge?ge.emit(ye):ue.emit(ye),!e.hoverData.cxtDragged){var Se={originalEvent:j,type:"cxttap",position:{x:we[0],y:we[1]}};ge?ge.emit(Se):ue.emit(Se)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(Oe,["mouseup","tapend","vmouseup"],j,{x:we[0],y:we[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(ge,["click","tap","vclick"],j,{x:we[0],y:we[1]}),$=!1,j.timeStamp-_<=ue.multiClickDebounceTime()?(M&&clearTimeout(M),$=!0,_=null,a(ge,["dblclick","dbltap","vdblclick"],j,{x:we[0],y:we[1]})):(M=setTimeout(function(){$||a(ge,["oneclick","onetap","voneclick"],j,{x:we[0],y:we[1]})},ue.multiClickDebounceTime()),_=j.timeStamp)),ge==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!o(j)&&(ue.$(n).unselect(["tapunselect"]),ae.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ae=ue.collection()),Oe==ge&&!e.dragData.didDrag&&!e.hoverData.selecting&&Oe!=null&&Oe._private.selectable&&(e.hoverData.dragging||(ue.selectionType()==="additive"||Ee?Oe.selected()?Oe.unselect(["tapunselect"]):Oe.select(["tapselect"]):Ee||(ue.$(n).unmerge(Oe).unselect(["tapunselect"]),Oe.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Ce=ue.collection(e.getAllInBox(ie[0],ie[1],ie[2],ie[3]));e.redrawHint("select",!0),Ce.length>0&&e.redrawHint("eles",!0),ue.emit({type:"boxend",originalEvent:j,position:{x:we[0],y:we[1]}});var Fe=function(et){return et.selectable()&&!et.selected()};ue.selectionType()==="additive"||Ee||ue.$(n).unmerge(Ce).unselect(),Ce.emit("box").stdFilter(Fe).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!ie[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Ne=ge&&ge.grabbed();E(ae),Ne&&(ge.emit("freeon"),ae.emit("free"),e.dragData.didDrag&&(ge.emit("dragfreeon"),ae.emit("dragfree")))}}ie[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var F=function(j){if(!e.scrollingPage){var me=e.cy,ue=me.zoom(),we=me.pan(),ie=e.projectIntoViewport(j.clientX,j.clientY),Oe=[ie[0]*ue+we.x,ie[1]*ue+we.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||O()){j.preventDefault();return}if(me.panningEnabled()&&me.userPanningEnabled()&&me.zoomingEnabled()&&me.userZoomingEnabled()){j.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var ae;j.deltaY!=null?ae=j.deltaY/-250:j.wheelDeltaY!=null?ae=j.wheelDeltaY/1e3:ae=j.wheelDelta/1e3,ae=ae*e.wheelSensitivity;var ge=j.deltaMode===1;ge&&(ae*=33);var Ee=me.zoom()*Math.pow(10,ae);j.type==="gesturechange"&&(Ee=e.gestureStartZoom*j.scale),me.zoom({level:Ee,renderedPosition:{x:Oe[0],y:Oe[1]}}),me.emit(j.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",F,!0),e.registerBinding(t,"scroll",function(j){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(j){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||j.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(se){e.hasTouchStarted||F(se)},!0),e.registerBinding(e.container,"mouseout",function(j){var me=e.projectIntoViewport(j.clientX,j.clientY);e.cy.emit({originalEvent:j,type:"mouseout",position:{x:me[0],y:me[1]}})},!1),e.registerBinding(e.container,"mouseover",function(j){var me=e.projectIntoViewport(j.clientX,j.clientY);e.cy.emit({originalEvent:j,type:"mouseover",position:{x:me[0],y:me[1]}})},!1);var B,D,P,H,W,U,V,G,ee,ce,Q,re,le,Y=function(j,me,ue,we){return Math.sqrt((ue-j)*(ue-j)+(we-me)*(we-me))},K=function(j,me,ue,we){return(ue-j)*(ue-j)+(we-me)*(we-me)},Z;e.registerBinding(e.container,"touchstart",Z=function(j){if(e.hasTouchStarted=!0,!!L(j)){x(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var me=e.cy,ue=e.touchData.now,we=e.touchData.earlier;if(j.touches[0]){var ie=e.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);ue[0]=ie[0],ue[1]=ie[1]}if(j.touches[1]){var ie=e.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);ue[2]=ie[0],ue[3]=ie[1]}if(j.touches[2]){var ie=e.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);ue[4]=ie[0],ue[5]=ie[1]}if(j.touches[1]){e.touchData.singleTouchMoved=!0,E(e.dragData.touchDragEles);var Oe=e.findContainerClientCoords();ee=Oe[0],ce=Oe[1],Q=Oe[2],re=Oe[3],B=j.touches[0].clientX-ee,D=j.touches[0].clientY-ce,P=j.touches[1].clientX-ee,H=j.touches[1].clientY-ce,le=0<=B&&B<=Q&&0<=P&&P<=Q&&0<=D&&D<=re&&0<=H&&H<=re;var ae=me.pan(),ge=me.zoom();W=Y(B,D,P,H),U=K(B,D,P,H),V=[(B+P)/2,(D+H)/2],G=[(V[0]-ae.x)/ge,(V[1]-ae.y)/ge];var Ee=200,ye=Ee*Ee;if(U<ye&&!j.touches[2]){var Se=e.findNearestElement(ue[0],ue[1],!0,!0),Ce=e.findNearestElement(ue[2],ue[3],!0,!0);Se&&Se.isNode()?(Se.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:ue[0],y:ue[1]}}),e.touchData.start=Se):Ce&&Ce.isNode()?(Ce.activate().emit({originalEvent:j,type:"cxttapstart",position:{x:ue[0],y:ue[1]}}),e.touchData.start=Ce):me.emit({originalEvent:j,type:"cxttapstart",position:{x:ue[0],y:ue[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(j.touches[2])me.boxSelectionEnabled()&&j.preventDefault();else if(!j.touches[1]){if(j.touches[0]){var Fe=e.findNearestElements(ue[0],ue[1],!0,!0),Ne=Fe[0];if(Ne!=null&&(Ne.activate(),e.touchData.start=Ne,e.touchData.starts=Fe,e.nodeIsGrabbable(Ne))){var Ve=e.dragData.touchDragEles=me.collection(),et=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Ne.selected()?(et=me.$(function(je){return je.selected()&&e.nodeIsGrabbable(je)}),b(et,{addToList:Ve})):T(Ne,{addToList:Ve}),p(Ne);var Rt=function(ft){return{originalEvent:j,type:ft,position:{x:ue[0],y:ue[1]}}};Ne.emit(Rt("grabon")),et?et.forEach(function(je){je.emit(Rt("grab"))}):Ne.emit(Rt("grab"))}a(Ne,["touchstart","tapstart","vmousedown"],j,{x:ue[0],y:ue[1]}),Ne==null&&(e.data.bgActivePosistion={x:ie[0],y:ie[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],j,{x:ue[0],y:ue[1]})},e.tapholdDuration)}}if(j.touches.length>=1){for(var pt=e.touchData.startPosition=[null,null,null,null,null,null],ut=0;ut<ue.length;ut++)pt[ut]=we[ut]=ue[ut];var qe=j.touches[0];e.touchData.startGPosition=[qe.clientX,qe.clientY]}}},!1);var z;e.registerBinding(t,"touchmove",z=function(j){var me=e.touchData.capture;if(!(!me&&!L(j))){var ue=e.selection,we=e.cy,ie=e.touchData.now,Oe=e.touchData.earlier,ae=we.zoom();if(j.touches[0]){var ge=e.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);ie[0]=ge[0],ie[1]=ge[1]}if(j.touches[1]){var ge=e.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);ie[2]=ge[0],ie[3]=ge[1]}if(j.touches[2]){var ge=e.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);ie[4]=ge[0],ie[5]=ge[1]}var Ee=e.touchData.startGPosition,ye;if(me&&j.touches[0]&&Ee){for(var Se=[],Ce=0;Ce<ie.length;Ce++)Se[Ce]=ie[Ce]-Oe[Ce];var Fe=j.touches[0].clientX-Ee[0],Ne=Fe*Fe,Ve=j.touches[0].clientY-Ee[1],et=Ve*Ve,Rt=Ne+et;ye=Rt>=e.touchTapThreshold2}if(me&&e.touchData.cxt){j.preventDefault();var pt=j.touches[0].clientX-ee,ut=j.touches[0].clientY-ce,qe=j.touches[1].clientX-ee,je=j.touches[1].clientY-ce,ft=K(pt,ut,qe,je),Ke=ft/U,at=150,Ft=at*at,st=1.5,Je=st*st;if(Ke>=Je||ft>=Ft){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var gt={originalEvent:j,type:"cxttapend",position:{x:ie[0],y:ie[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(gt),e.touchData.start=null):we.emit(gt)}}if(me&&e.touchData.cxt){var gt={originalEvent:j,type:"cxtdrag",position:{x:ie[0],y:ie[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(gt):we.emit(gt),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Nt=e.findNearestElement(ie[0],ie[1],!0,!0);(!e.touchData.cxtOver||Nt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:j,type:"cxtdragout",position:{x:ie[0],y:ie[1]}}),e.touchData.cxtOver=Nt,Nt&&Nt.emit({originalEvent:j,type:"cxtdragover",position:{x:ie[0],y:ie[1]}}))}else if(me&&j.touches[2]&&we.boxSelectionEnabled())j.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||we.emit({originalEvent:j,type:"boxstart",position:{x:ie[0],y:ie[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,ue[4]=1,!ue||ue.length===0||ue[0]===void 0?(ue[0]=(ie[0]+ie[2]+ie[4])/3,ue[1]=(ie[1]+ie[3]+ie[5])/3,ue[2]=(ie[0]+ie[2]+ie[4])/3+1,ue[3]=(ie[1]+ie[3]+ie[5])/3+1):(ue[2]=(ie[0]+ie[2]+ie[4])/3,ue[3]=(ie[1]+ie[3]+ie[5])/3),e.redrawHint("select",!0),e.redraw();else if(me&&j.touches[1]&&!e.touchData.didSelect&&we.zoomingEnabled()&&we.panningEnabled()&&we.userZoomingEnabled()&&we.userPanningEnabled()){j.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var yt=e.dragData.touchDragEles;if(yt){e.redrawHint("drag",!0);for(var nn=0;nn<yt.length;nn++){var Wn=yt[nn]._private;Wn.grabbed=!1,Wn.rscratch.inDragLayer=!1}}var ln=e.touchData.start,pt=j.touches[0].clientX-ee,ut=j.touches[0].clientY-ce,qe=j.touches[1].clientX-ee,je=j.touches[1].clientY-ce,Kr=Y(pt,ut,qe,je),cr=Kr/W;if(le){var Ar=pt-B,In=ut-D,ui=qe-P,It=je-H,Be=(Ar+ui)/2,tt=(In+It)/2,Ct=we.zoom(),pn=Ct*cr,ir=we.pan(),pr=G[0]*Ct+ir.x,_r=G[1]*Ct+ir.y,Ir={x:-pn/Ct*(pr-ir.x-Be)+pr,y:-pn/Ct*(_r-ir.y-tt)+_r};if(ln&&ln.active()){var yt=e.dragData.touchDragEles;E(yt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ln.unactivate().emit("freeon"),yt.emit("free"),e.dragData.didDrag&&(ln.emit("dragfreeon"),yt.emit("dragfree"))}we.viewport({zoom:pn,pan:Ir,cancelOnFailedZoom:!0}),we.emit("pinchzoom"),W=Kr,B=pt,D=ut,P=qe,H=je,e.pinching=!0}if(j.touches[0]){var ge=e.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);ie[0]=ge[0],ie[1]=ge[1]}if(j.touches[1]){var ge=e.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);ie[2]=ge[0],ie[3]=ge[1]}if(j.touches[2]){var ge=e.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);ie[4]=ge[0],ie[5]=ge[1]}}else if(j.touches[0]&&!e.touchData.didSelect){var Et=e.touchData.start,St=e.touchData.last,Nt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Nt=e.findNearestElement(ie[0],ie[1],!0,!0)),me&&Et!=null&&j.preventDefault(),me&&Et!=null&&e.nodeIsDraggable(Et))if(ye){var yt=e.dragData.touchDragEles,Vt=!e.dragData.didDrag;Vt&&b(yt,{inDragLayer:!0}),e.dragData.didDrag=!0;var lt={x:0,y:0};if(Tt(Se[0])&&Tt(Se[1])&&(lt.x+=Se[0],lt.y+=Se[1],Vt)){e.redrawHint("eles",!0);var qt=e.touchData.dragDelta;qt&&Tt(qt[0])&&Tt(qt[1])&&(lt.x+=qt[0],lt.y+=qt[1])}e.hoverData.draggingEles=!0,yt.silentShift(lt).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Oe[0]&&e.touchData.startPosition[1]==Oe[1]&&e.redrawHint("eles",!0),e.redraw()}else{var qt=e.touchData.dragDelta=e.touchData.dragDelta||[];qt.length===0?(qt.push(Se[0]),qt.push(Se[1])):(qt[0]+=Se[0],qt[1]+=Se[1])}if(a(Et||Nt,["touchmove","tapdrag","vmousemove"],j,{x:ie[0],y:ie[1]}),(!Et||!Et.grabbed())&&Nt!=St&&(St&&St.emit({originalEvent:j,type:"tapdragout",position:{x:ie[0],y:ie[1]}}),Nt&&Nt.emit({originalEvent:j,type:"tapdragover",position:{x:ie[0],y:ie[1]}})),e.touchData.last=Nt,me)for(var nn=0;nn<ie.length;nn++)ie[nn]&&e.touchData.startPosition[nn]&&ye&&(e.touchData.singleTouchMoved=!0);if(me&&(Et==null||Et.pannable())&&we.panningEnabled()&&we.userPanningEnabled()){var xe=l(Et,e.touchData.starts);xe&&(j.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Xg(e.touchData.startPosition)),e.swipePanning?(we.panBy({x:Se[0]*ae,y:Se[1]*ae}),we.emit("dragpan")):ye&&(e.swipePanning=!0,we.panBy({x:Fe*ae,y:Ve*ae}),we.emit("dragpan"),Et&&(Et.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var ge=e.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);ie[0]=ge[0],ie[1]=ge[1]}}for(var Ce=0;Ce<ie.length;Ce++)Oe[Ce]=ie[Ce];me&&j.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var X;e.registerBinding(t,"touchcancel",X=function(j){var me=e.touchData.start;e.touchData.capture=!1,me&&me.unactivate()});var te,ne,Ae,he;if(e.registerBinding(t,"touchend",te=function(j){var me=e.touchData.start,ue=e.touchData.capture;if(ue)j.touches.length===0&&(e.touchData.capture=!1),j.preventDefault();else return;var we=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var ie=e.cy,Oe=ie.zoom(),ae=e.touchData.now,ge=e.touchData.earlier;if(j.touches[0]){var Ee=e.projectIntoViewport(j.touches[0].clientX,j.touches[0].clientY);ae[0]=Ee[0],ae[1]=Ee[1]}if(j.touches[1]){var Ee=e.projectIntoViewport(j.touches[1].clientX,j.touches[1].clientY);ae[2]=Ee[0],ae[3]=Ee[1]}if(j.touches[2]){var Ee=e.projectIntoViewport(j.touches[2].clientX,j.touches[2].clientY);ae[4]=Ee[0],ae[5]=Ee[1]}me&&me.unactivate();var ye;if(e.touchData.cxt){if(ye={originalEvent:j,type:"cxttapend",position:{x:ae[0],y:ae[1]}},me?me.emit(ye):ie.emit(ye),!e.touchData.cxtDragged){var Se={originalEvent:j,type:"cxttap",position:{x:ae[0],y:ae[1]}};me?me.emit(Se):ie.emit(Se)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!j.touches[2]&&ie.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Ce=ie.collection(e.getAllInBox(we[0],we[1],we[2],we[3]));we[0]=void 0,we[1]=void 0,we[2]=void 0,we[3]=void 0,we[4]=0,e.redrawHint("select",!0),ie.emit({type:"boxend",originalEvent:j,position:{x:ae[0],y:ae[1]}});var Fe=function(Ft){return Ft.selectable()&&!Ft.selected()};Ce.emit("box").stdFilter(Fe).select().emit("boxselect"),Ce.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(me!=null&&me.unactivate(),j.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!j.touches[1]){if(!j.touches[0]){if(!j.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ne=e.dragData.touchDragEles;if(me!=null){var Ve=me._private.grabbed;E(Ne),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Ve&&(me.emit("freeon"),Ne.emit("free"),e.dragData.didDrag&&(me.emit("dragfreeon"),Ne.emit("dragfree"))),a(me,["touchend","tapend","vmouseup","tapdragout"],j,{x:ae[0],y:ae[1]}),me.unactivate(),e.touchData.start=null}else{var et=e.findNearestElement(ae[0],ae[1],!0,!0);a(et,["touchend","tapend","vmouseup","tapdragout"],j,{x:ae[0],y:ae[1]})}var Rt=e.touchData.startPosition[0]-ae[0],pt=Rt*Rt,ut=e.touchData.startPosition[1]-ae[1],qe=ut*ut,je=pt+qe,ft=je*Oe*Oe;e.touchData.singleTouchMoved||(me||ie.$(":selected").unselect(["tapunselect"]),a(me,["tap","vclick"],j,{x:ae[0],y:ae[1]}),ne=!1,j.timeStamp-he<=ie.multiClickDebounceTime()?(Ae&&clearTimeout(Ae),ne=!0,he=null,a(me,["dbltap","vdblclick"],j,{x:ae[0],y:ae[1]})):(Ae=setTimeout(function(){ne||a(me,["onetap","voneclick"],j,{x:ae[0],y:ae[1]})},ie.multiClickDebounceTime()),he=j.timeStamp)),me!=null&&!e.dragData.didDrag&&me._private.selectable&&ft<e.touchTapThreshold2&&!e.pinching&&(ie.selectionType()==="single"?(ie.$(n).unmerge(me).unselect(["tapunselect"]),me.select(["tapselect"])):me.selected()?me.unselect(["tapunselect"]):me.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var Ke=0;Ke<ae.length;Ke++)ge[Ke]=ae[Ke];e.dragData.didDrag=!1,j.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),j.touches.length<2&&(j.touches.length===1&&(e.touchData.startGPosition=[j.touches[0].clientX,j.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var oe=[],de=function(j){return{clientX:j.clientX,clientY:j.clientY,force:1,identifier:j.pointerId,pageX:j.pageX,pageY:j.pageY,radiusX:j.width/2,radiusY:j.height/2,screenX:j.screenX,screenY:j.screenY,target:j.target}},be=function(j){return{event:j,touch:de(j)}},fe=function(j){oe.push(be(j))},Ie=function(j){for(var me=0;me<oe.length;me++){var ue=oe[me];if(ue.event.pointerId===j.pointerId){oe.splice(me,1);return}}},Re=function(j){var me=oe.filter(function(ue){return ue.event.pointerId===j.pointerId})[0];me.event=j,me.touch=de(j)},ke=function(j){j.touches=oe.map(function(me){return me.touch})},De=function(j){return j.pointerType==="mouse"||j.pointerType===4};e.registerBinding(e.container,"pointerdown",function(se){De(se)||(se.preventDefault(),fe(se),ke(se),Z(se))}),e.registerBinding(e.container,"pointerup",function(se){De(se)||(Ie(se),ke(se),te(se))}),e.registerBinding(e.container,"pointercancel",function(se){De(se)||(Ie(se),ke(se),X(se))}),e.registerBinding(e.container,"pointermove",function(se){De(se)||(se.preventDefault(),Re(se),ke(se),z(se))})}};var Kh={};Kh.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(r,a,o,l,u,h){this.renderer.nodeShapeImpl("polygon",r,a,o,l,u,this.points)},intersectLine:function(r,a,o,l,u,h,f,d){return wT(u,h,this.points,r,a,o/2,l/2,f)},checkPoint:function(r,a,o,l,u,h,f,d){return Mh(r,a,this.points,h,f,l,u,[0,-1],o)}}};Kh.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,n,r,a,o,l){this.renderer.nodeShapeImpl(this.name,t,n,r,a,o)},intersectLine:function(t,n,r,a,o,l,u,h){return r6t(o,l,t,n,r/2+u,a/2+u)},checkPoint:function(t,n,r,a,o,l,u,h){return Dd(t,n,a,o,l,u,r)}}};Kh.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(r,a,o,l,u,h,f){if(h[f]!==void 0&&h[f+"-cx"]===r&&h[f+"-cy"]===a)return h[f];h[f]=new Array(t.length/2),h[f+"-cx"]=r,h[f+"-cy"]=a;var d=o/2,p=l/2;u=u==="auto"?Ame(o,l):u;for(var g=new Array(t.length/2),m=0;m<t.length/2;m++)g[m]={x:r+d*t[m*2],y:a+p*t[m*2+1]};var y,b,T,E,w=g.length;for(b=g[w-1],y=0;y<w;y++)T=g[y%w],E=g[(y+1)%w],h[f][y]=rF(b,T,E,u),b=T,T=E;return h[f]},draw:function(r,a,o,l,u,h,f){this.renderer.nodeShapeImpl("round-polygon",r,a,o,l,u,this.points,this.getOrCreateCorners(a,o,l,u,h,f,"drawCorners"))},intersectLine:function(r,a,o,l,u,h,f,d,p){return i6t(u,h,this.points,r,a,o,l,f,this.getOrCreateCorners(r,a,o,l,d,p,"corners"))},checkPoint:function(r,a,o,l,u,h,f,d,p){return n6t(r,a,this.points,h,f,l,u,this.getOrCreateCorners(h,f,l,u,d,p,"corners"))}}};Kh.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ms(4,0),draw:function(t,n,r,a,o,l){this.renderer.nodeShapeImpl(this.name,t,n,r,a,o,this.points,l)},intersectLine:function(t,n,r,a,o,l,u,h){return xme(o,l,t,n,r,a,u,h)},checkPoint:function(t,n,r,a,o,l,u,h){var f=a/2,d=o/2;h=h==="auto"?wp(a,o):h,h=Math.min(f,d,h);var p=h*2;return!!(Mh(t,n,this.points,l,u,a,o-p,[0,-1],r)||Mh(t,n,this.points,l,u,a-p,o,[0,-1],r)||Dd(t,n,p,p,l-f+h,u-d+h,r)||Dd(t,n,p,p,l+f-h,u-d+h,r)||Dd(t,n,p,p,l+f-h,u+d-h,r)||Dd(t,n,p,p,l-f+h,u+d-h,r))}}};Kh.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:YP(),points:ms(4,0),draw:function(t,n,r,a,o,l){this.renderer.nodeShapeImpl(this.name,t,n,r,a,o,null,l)},generateCutTrianglePts:function(t,n,r,a,o){var l=o==="auto"?this.cornerLength:o,u=n/2,h=t/2,f=r-h,d=r+h,p=a-u,g=a+u;return{topLeft:[f,p+l,f+l,p,f+l,p+l],topRight:[d-l,p,d,p+l,d-l,p+l],bottomRight:[d,g-l,d-l,g,d-l,g-l],bottomLeft:[f+l,g,f,g-l,f+l,g-l]}},intersectLine:function(t,n,r,a,o,l,u,h){var f=this.generateCutTrianglePts(r+2*u,a+2*u,t,n,h),d=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return wT(o,l,d,t,n)},checkPoint:function(t,n,r,a,o,l,u,h){var f=h==="auto"?this.cornerLength:h;if(Mh(t,n,this.points,l,u,a,o-2*f,[0,-1],r)||Mh(t,n,this.points,l,u,a-2*f,o,[0,-1],r))return!0;var d=this.generateCutTrianglePts(a,o,l,u);return Js(t,n,d.topLeft)||Js(t,n,d.topRight)||Js(t,n,d.bottomRight)||Js(t,n,d.bottomLeft)}}};Kh.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ms(4,0),draw:function(t,n,r,a,o,l){this.renderer.nodeShapeImpl(this.name,t,n,r,a,o)},intersectLine:function(t,n,r,a,o,l,u,h){var f=.15,d=.5,p=.85,g=this.generateBarrelBezierPts(r+2*u,a+2*u,t,n),m=function(T){var E=A1({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},f),w=A1({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},d),x=A1({x:T[0],y:T[1]},{x:T[2],y:T[3]},{x:T[4],y:T[5]},p);return[T[0],T[1],E.x,E.y,w.x,w.y,x.x,x.y,T[4],T[5]]},y=[].concat(m(g.topLeft),m(g.topRight),m(g.bottomRight),m(g.bottomLeft));return wT(o,l,y,t,n)},generateBarrelBezierPts:function(t,n,r,a){var o=n/2,l=t/2,u=r-l,h=r+l,f=a-o,d=a+o,p=z7(t,n),g=p.heightOffset,m=p.widthOffset,y=p.ctrlPtOffsetPct*t,b={topLeft:[u,f+g,u+y,f,u+m,f],topRight:[h-m,f,h-y,f,h,f+g],bottomRight:[h,d-g,h-y,d,h-m,d],bottomLeft:[u+m,d,u+y,d,u,d-g]};return b.topLeft.isTop=!0,b.topRight.isTop=!0,b.bottomLeft.isBottom=!0,b.bottomRight.isBottom=!0,b},checkPoint:function(t,n,r,a,o,l,u,h){var f=z7(a,o),d=f.heightOffset,p=f.widthOffset;if(Mh(t,n,this.points,l,u,a,o-2*d,[0,-1],r)||Mh(t,n,this.points,l,u,a-2*p,o,[0,-1],r))return!0;for(var g=this.generateBarrelBezierPts(a,o,l,u),m=function(N,O,L){var k=L[4],M=L[2],$=L[0],_=L[5],F=L[1],B=Math.min(k,$),D=Math.max(k,$),P=Math.min(_,F),H=Math.max(_,F);if(B<=N&&N<=D&&P<=O&&O<=H){var W=a6t(k,M,$),U=QAt(W[0],W[1],W[2],N),V=U.filter(function(G){return 0<=G&&G<=1});if(V.length>0)return V[0]}return null},y=Object.keys(g),b=0;b<y.length;b++){var T=y[b],E=g[T],w=m(t,n,E);if(w!=null){var x=E[5],S=E[3],A=E[1],R=na(x,S,A,w);if(E.isTop&&R<=n||E.isBottom&&n<=R)return!0}}return!1}}};Kh.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ms(4,0),draw:function(t,n,r,a,o,l){this.renderer.nodeShapeImpl(this.name,t,n,r,a,o,this.points,l)},intersectLine:function(t,n,r,a,o,l,u,h){var f=t-(r/2+u),d=n-(a/2+u),p=d,g=t+(r/2+u),m=_0(o,l,t,n,f,d,g,p,!1);return m.length>0?m:xme(o,l,t,n,r,a,u,h)},checkPoint:function(t,n,r,a,o,l,u,h){h=h==="auto"?wp(a,o):h;var f=2*h;if(Mh(t,n,this.points,l,u,a,o-f,[0,-1],r)||Mh(t,n,this.points,l,u,a-f,o,[0,-1],r))return!0;var d=a/2+2*r,p=o/2+2*r,g=[l-d,u-p,l-d,u,l+d,u,l+d,u-p];return!!(Js(t,n,g)||Dd(t,n,f,f,l+a/2-h,u+o/2-h,r)||Dd(t,n,f,f,l-a/2+h,u+o/2-h,r))}}};Kh.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",ms(3,0)),this.generateRoundPolygon("round-triangle",ms(3,0)),this.generatePolygon("rectangle",ms(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",ms(5,0)),this.generateRoundPolygon("round-pentagon",ms(5,0)),this.generatePolygon("hexagon",ms(6,0)),this.generateRoundPolygon("round-hexagon",ms(6,0)),this.generatePolygon("heptagon",ms(7,0)),this.generateRoundPolygon("round-heptagon",ms(7,0)),this.generatePolygon("octagon",ms(8,0)),this.generateRoundPolygon("round-octagon",ms(8,0));var r=new Array(20);{var a=G7(5,0),o=G7(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var u=0;u<o.length/2;u++)o[u*2]*=l,o[u*2+1]*=l;for(var u=0;u<20/4;u++)r[u*4]=a[u*2],r[u*4+1]=a[u*2+1],r[u*4+2]=o[u*2],r[u*4+3]=o[u*2+1]}r=Sme(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var h=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",h),this.generateRoundPolygon("round-tag",h)}e.makePolygon=function(f){var d=f.join("$"),p="polygon-"+d,g;return(g=this[p])?g:t.generatePolygon(p,f)}};var jE={};jE.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};jE.redraw=function(e){e=e||yme();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};jE.beforeRender=function(e,t){if(!this.destroyed){t==null&&Vr("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(r,a){return a.priority-r.priority})}};var FX=function(t,n,r){for(var a=t.beforeRenderCallbacks,o=0;o<a.length;o++)a[o].fn(n,r)};jE.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function r(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){FX(e,!0,a);var o=Dh();e.render(e.renderOptions);var l=e.lastDrawTime=Dh();e.averageRedrawTime===void 0&&(e.averageRedrawTime=l-o),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var u=l-o;e.redrawTotalTime+=u,e.lastRedrawTime=u,e.averageRedrawTime=e.averageRedrawTime/2+u/2,e.requestedFrame=!1}else FX(e,!1,a);e.skipFrame=!1,b5(r)}};b5(n)}};var Bkt=function(t){this.init(t)},xve=Bkt,ny=xve.prototype;ny.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ny.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container(),r=t.cy.window();if(r){var a=r.document,o=a.head,l="__________cytoscape_stylesheet",u="__________cytoscape_container",h=a.getElementById(l)!=null;if(n.className.indexOf(u)<0&&(n.className=(n.className||"")+" "+u),!h){var f=a.createElement("style");f.id=l,f.textContent="."+u+" { position: relative; }",o.insertBefore(f,o.children[0])}var d=r.getComputedStyle(n),p=d.getPropertyValue("position");p==="static"&&er("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Tt(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};ny.notify=function(e,t){var n=this,r=n.cy;if(!this.destroyed){if(e==="init"){n.load();return}if(e==="destroy"){n.destroy();return}(e==="add"||e==="remove"||e==="move"&&r.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&n.invalidateCachedZSortedEles(),e==="viewport"&&n.redrawHint("select",!0),e==="gc"&&n.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ny.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n,a=r.target;(a.off||a.removeEventListener).apply(a,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};ny.isHeadless=function(){return!1};[nF,Eve,wve,ty,Kh,jE].forEach(function(e){en(ny,e)});var $k=1e3/60,Sve={setupDequeueing:function(t){return function(){var r=this,a=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var o=GE(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),l=function(f,d){var p=Dh(),g=a.averageRedrawTime,m=a.lastRedrawTime,y=[],b=a.cy.extent(),T=a.getPixelRatio();for(f||a.flushRenderedStyleQueue();;){var E=Dh(),w=E-p,x=E-d;if(m<$k){var S=$k-(f?g:0);if(x>=t.deqFastCost*S)break}else if(f){if(w>=t.deqCost*m||w>=t.deqAvgCost*g)break}else if(x>=t.deqNoDrawCost*$k)break;var A=t.deq(r,T,b);if(A.length>0)for(var R=0;R<A.length;R++)y.push(A[R]);else break}y.length>0&&(t.onDeqd(r,y),!f&&t.shouldRedraw(r,y,T,b)&&o())},u=t.priority||WP;a.beforeRender(l,u(r))}}}},Hkt=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T5;Lf(this,e),this.idsByKey=new ru,this.keyForId=new ru,this.cachesByLvl=new ru,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return _f(e,[{key:"getIdsFor",value:function(n){n==null&&Vr("Can not get id list for null key");var r=this.idsByKey,a=this.idsByKey.get(n);return a||(a=new jv,r.set(n,a)),a}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),a=this.keyForId.get(r),o=this.getKey(n);this.deleteIdForKey(a,r),this.addIdForKey(o,r),this.keyForId.set(r,o)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),a=this.keyForId.get(r);this.deleteIdForKey(a,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),a=this.keyForId.get(r),o=this.getKey(n);return a!==o}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,a=this.lvls,o=r.get(n);return o||(o=new ru,r.set(n,o),a.push(n)),o}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var a=this.getKey(n),o=this.getCache(a,r);return o!=null&&this.updateKeyMappingFor(n),o}},{key:"getForCachedKey",value:function(n,r){var a=this.keyForId.get(n.id()),o=this.getCache(a,r);return o}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var a=this.getKey(n);return this.hasCache(a,r)}},{key:"setCache",value:function(n,r,a){a.key=n,this.getCachesAt(r).set(n,a)}},{key:"set",value:function(n,r,a){var o=this.getKey(n);this.setCache(o,r,a),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var a=this.getKey(n);this.deleteCache(a,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(a){return r.deleteCache(n,a)})}},{key:"invalidate",value:function(n){var r=n.id(),a=this.keyForId.get(r);this.deleteKeyMappingFor(n);var o=this.doesEleInvalidateKey(n);return o&&this.invalidateKey(a),o||this.getNumberOfIdsForKey(a)===0}}]),e}(),BX=25,L3=50,Vx=-4,tL=3,Ave=7.99,$kt=8,Wkt=1024,Ukt=1024,Gkt=1024,zkt=.2,Ykt=.8,Vkt=10,qkt=.15,jkt=.1,Xkt=.9,Kkt=.9,Zkt=100,Qkt=1,Kg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Jkt=ga({getKey:null,doesEleInvalidateKey:T5,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:gme,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),x2=function(t,n){var r=this;r.renderer=t,r.onDequeues=[];var a=Jkt(n);en(r,a),r.lookup=new Hkt(a.getKey,a.doesEleInvalidateKey),r.setupDequeueing()},ea=x2.prototype;ea.reasons=Kg;ea.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};ea.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},r=n[e]=n[e]||[];return r};ea.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new zE(function(n,r){return r.reqs-n.reqs});return t};ea.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};ea.getElement=function(e,t,n,r,a){var o=this,l=this.renderer,u=l.cy.zoom(),h=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(r==null&&(r=Math.ceil(GP(u*n))),r<Vx)r=Vx;else if(u>=Ave||r>tL)return null;var f=Math.pow(2,r),d=t.h*f,p=t.w*f,g=l.eleTextBiggerThanMin(e,f);if(!this.isVisible(e,g))return null;var m=h.get(e,r);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var y;if(d<=BX?y=BX:d<=L3?y=L3:y=Math.ceil(d/L3)*L3,d>Gkt||p>Ukt)return null;var b=o.getTextureQueue(y),T=b[b.length-2],E=function(){return o.recycleTexture(y,p)||o.addTexture(y,p)};T||(T=b[b.length-1]),T||(T=E()),T.width-T.usedWidth<p&&(T=E());for(var w=function(B){return B&&B.scaledLabelShown===g},x=a&&a===Kg.dequeue,S=a&&a===Kg.highQuality,A=a&&a===Kg.downscale,R,C=r+1;C<=tL;C++){var N=h.get(e,C);if(N){R=N;break}}var O=R&&R.level===r+1?R:null,L=function(){T.context.drawImage(O.texture.canvas,O.x,0,O.width,O.height,T.usedWidth,0,p,d)};if(T.context.setTransform(1,0,0,1,0,0),T.context.clearRect(T.usedWidth,0,p,y),w(O))L();else if(w(R))if(S){for(var k=R.level;k>r;k--)O=o.getElement(e,t,n,k,Kg.downscale);L()}else return o.queueElement(e,R.level-1),R;else{var M;if(!x&&!S&&!A)for(var $=r-1;$>=Vx;$--){var _=h.get(e,$);if(_){M=_;break}}if(w(M))return o.queueElement(e,r),M;T.context.translate(T.usedWidth,0),T.context.scale(f,f),this.drawElement(T.context,e,t,g,!1),T.context.scale(1/f,1/f),T.context.translate(-T.usedWidth,0)}return m={x:T.usedWidth,texture:T,level:r,scale:f,width:p,height:d,scaledLabelShown:g},T.usedWidth+=Math.ceil(p+$kt),T.eleCaches.push(m),h.set(e,r,m),o.checkTextureFullness(T),m};ea.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};ea.invalidateElement=function(e){var t=this,n=t.lookup,r=[],a=n.isInvalid(e);if(a){for(var o=Vx;o<=tL;o++){var l=n.getForCachedKey(e,o);l&&r.push(l)}var u=n.invalidate(e);if(u)for(var h=0;h<r.length;h++){var f=r[h],d=f.texture;d.invalidatedWidth+=f.width,f.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(e)}};ea.checkTextureUtility=function(e){e.invalidatedWidth>=zkt*e.width&&this.retireTexture(e)};ea.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>Ykt&&e.fullnessChecks>=Vkt?ff(n,e):e.fullnessChecks++};ea.retireTexture=function(e){var t=this,n=e.height,r=t.getTextureQueue(n),a=this.lookup;ff(r,e),e.retired=!0;for(var o=e.eleCaches,l=0;l<o.length;l++){var u=o[l];a.deleteCache(u.key,u.level)}UP(o);var h=t.getRetiredTextureQueue(n);h.push(e)};ea.addTexture=function(e,t){var n=this,r=n.getTextureQueue(e),a={};return r.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(Wkt,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=n.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};ea.recycleTexture=function(e,t){for(var n=this,r=n.getTextureQueue(e),a=n.getRetiredTextureQueue(e),o=0;o<a.length;o++){var l=a[o];if(l.width>=t)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,UP(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),ff(a,l),r.push(l),l}};ea.queueElement=function(e,t){var n=this,r=n.getElementQueue(),a=n.getElementKeyToQueue(),o=this.getKey(e),l=a[o];if(l)l.level=Math.max(l.level,t),l.eles.merge(e),l.reqs++,r.updateItem(l);else{var u={eles:e.spawn().merge(e),level:t,reqs:1,key:o};r.push(u),a[o]=u}};ea.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),a=[],o=t.lookup,l=0;l<Qkt&&n.size()>0;l++){var u=n.pop(),h=u.key,f=u.eles[0],d=o.hasCache(f,u.level);if(r[h]=null,d)continue;a.push(u);var p=t.getBoundingBox(f);t.getElement(f,p,e,u.level,Kg.dequeue)}return a};ea.removeFromQueue=function(e){var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),a=this.getKey(e),o=r[a];o!=null&&(o.eles.length===1?(o.reqs=$P,n.updateItem(o),n.pop(),r[a]=null):o.eles.unmerge(e))};ea.onDequeue=function(e){this.onDequeues.push(e)};ea.offDequeue=function(e){ff(this.onDequeues,e)};ea.setupDequeueing=Sve.setupDequeueing({deqRedrawThreshold:Zkt,deqCost:qkt,deqAvgCost:jkt,deqNoDrawCost:Xkt,deqFastCost:Kkt,deq:function(t,n,r){return t.dequeue(n,r)},onDeqd:function(t,n){for(var r=0;r<t.onDequeues.length;r++){var a=t.onDequeues[r];a(n)}},shouldRedraw:function(t,n,r,a){for(var o=0;o<n.length;o++)for(var l=n[o].eles,u=0;u<l.length;u++){var h=l[u].boundingBox();if(zP(h,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var eOt=1,ib=-4,R5=2,tOt=3.99,nOt=50,rOt=50,iOt=.15,aOt=.1,sOt=.9,oOt=.9,lOt=1,HX=250,cOt=4e3*4e3,$X=32767,uOt=!0,Ive=function(t){var n=this,r=n.renderer=t,a=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=Dh()-2*HX,n.skipping=!1,n.eleTxrDeqs=a.collection(),n.scheduleElementRefinement=GE(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},rOt),r.beforeRender(function(l,u){u-n.lastInvalidationTime<=HX?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var o=function(u,h){return h.reqs-u.reqs};n.layersQueue=new zE(o),n.setupDequeueing()},Pa=Ive.prototype,WX=0,hOt=Math.pow(2,53)-1;Pa.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),a=Math.ceil(e.h*n),o=this.renderer.makeOffscreenCanvas(r,a),l={id:WX=++WX%hOt,bb:e,level:t,width:r,height:a,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=l.context,h=-l.bb.x1,f=-l.bb.y1;return u.scale(n,n),u.translate(h,f),l};Pa.getLayers=function(e,t,n){var r=this,a=r.renderer,o=a.cy,l=o.zoom(),u=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(GP(l*t)),n<ib)n=ib;else if(l>=tOt||n>R5)return null}r.validateLayersElesOrdering(n,e);var h=r.layersByLevel,f=Math.pow(2,n),d=h[n]=h[n]||[],p,g=r.levelIsComplete(n,e),m,y=function(){var L=function(F){if(r.validateLayersElesOrdering(F,e),r.levelIsComplete(F,e))return m=h[F],!0},k=function(F){if(!m)for(var B=n+F;ib<=B&&B<=R5&&!L(B);B+=F);};k(1),k(-1);for(var M=d.length-1;M>=0;M--){var $=d[M];$.invalid&&ff(d,$)}};if(!g)y();else return d;var b=function(){if(!p){p=ho();for(var L=0;L<e.length;L++)Eme(p,e[L].boundingBox())}return p},T=function(L){L=L||{};var k=L.after;b();var M=Math.ceil(p.w*f),$=Math.ceil(p.h*f);if(M>$X||$>$X)return null;var _=M*$;if(_>cOt)return null;var F=r.makeLayer(p,n);if(k!=null){var B=d.indexOf(k)+1;d.splice(B,0,F)}else(L.insert===void 0||L.insert)&&d.unshift(F);return F};if(r.skipping&&!u)return null;for(var E=null,w=e.length/eOt,x=!u,S=0;S<e.length;S++){var A=e[S],R=A._private.rscratch,C=R.imgLayerCaches=R.imgLayerCaches||{},N=C[n];if(N){E=N;continue}if((!E||E.eles.length>=w||!wme(E.bb,A.boundingBox()))&&(E=T({insert:!0,after:E}),!E))return null;m||x?r.queueLayer(E,A):r.drawEleInLayer(E,A,n,t),E.eles.push(A),C[n]=E}return m||(x?null:d)};Pa.getEleLevelForLayerLevel=function(e,t){return e};Pa.drawEleInLayer=function(e,t,n,r){var a=this,o=this.renderer,l=e.context,u=t.boundingBox();u.w===0||u.h===0||!t.visible()||(n=a.getEleLevelForLayerLevel(n,r),o.setImgSmoothing(l,!1),o.drawCachedElement(l,t,null,null,n,uOt),o.setImgSmoothing(l,!0))};Pa.levelIsComplete=function(e,t){var n=this,r=n.layersByLevel[e];if(!r||r.length===0)return!1;for(var a=0,o=0;o<r.length;o++){var l=r[o];if(l.reqs>0||l.invalid)return!1;a+=l.eles.length}return a===t.length};Pa.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var a=n[r],o=-1,l=0;l<t.length;l++)if(a.eles[0]===t[l]){o=l;break}if(o<0){this.invalidateLayer(a);continue}for(var u=o,l=0;l<a.eles.length;l++)if(a.eles[l]!==t[u+l]){this.invalidateLayer(a);break}}};Pa.updateElementsInLayers=function(e,t){for(var n=this,r=WE(e[0]),a=0;a<e.length;a++)for(var o=r?null:e[a],l=r?e[a]:e[a].ele,u=l._private.rscratch,h=u.imgLayerCaches=u.imgLayerCaches||{},f=ib;f<=R5;f++){var d=h[f];d&&(o&&n.getEleLevelForLayerLevel(d.level)!==o.level||t(d,l,o))}};Pa.haveLayers=function(){for(var e=this,t=!1,n=ib;n<=R5;n++){var r=e.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t};Pa.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Dh(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(r,a,o){t.invalidateLayer(r)}))};Pa.invalidateLayer=function(e){if(this.lastInvalidationTime=Dh(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];ff(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<n.length;a++){var o=n[a]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}};Pa.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(r,a,o){var l=r.replacement;if(l||(l=r.replacement=t.makeLayer(r.bb,r.level),l.replaces=r,l.eles=r.eles),!l.reqs)for(var u=0;u<l.eles.length;u++)t.queueLayer(l,l.eles[u])})};Pa.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Pa.queueLayer=function(e,t){var n=this,r=n.layersQueue,a=e.elesQueue,o=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;a.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}};Pa.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],a=0;a<lOt&&n.size()!==0;){var o=n.peek();if(o.replacement){n.pop();continue}if(o.replaces&&o!==o.replaces.replacement){n.pop();continue}if(o.invalid){n.pop();continue}var l=o.elesQueue.shift();l&&(t.drawEleInLayer(o,l,o.level,e),a++),r.length===0&&r.push(!0),o.elesQueue.length===0&&(n.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}return r};Pa.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],r=e.replaces,a=n.indexOf(r);if(!(a<0||r.invalid)){n[a]=e;for(var o=0;o<e.eles.length;o++){var l=e.eles[o]._private,u=l.imgLayerCaches=l.imgLayerCaches||{};u&&(u[e.level]=e)}t.requestRedraw()}};Pa.requestRedraw=GE(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Pa.setupDequeueing=Sve.setupDequeueing({deqRedrawThreshold:nOt,deqCost:iOt,deqAvgCost:aOt,deqNoDrawCost:sOt,deqFastCost:oOt,deq:function(t,n){return t.dequeue(n)},onDeqd:WP,shouldRedraw:gme,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Cve={},UX;function fOt(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function dOt(e,t,n){for(var r,a=0;a<t.length;a++){var o=t[a];a===0&&(r=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function GX(e,t,n){e.beginPath&&e.beginPath();for(var r=t,a=0;a<r.length;a++){var o=r[a];e.lineTo(o.x,o.y)}var l=n,u=n[0];e.moveTo(u.x,u.y);for(var a=1;a<l.length;a++){var o=l[a];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()}function pOt(e,t,n,r,a){e.beginPath&&e.beginPath(),e.arc(n,r,a,0,Math.PI*2,!1);var o=t,l=o[0];e.moveTo(l.x,l.y);for(var u=0;u<o.length;u++){var h=o[u];e.lineTo(h.x,h.y)}e.closePath&&e.closePath()}function gOt(e,t,n,r){e.arc(t,n,r,0,Math.PI*2,!1)}Cve.arrowShapeImpl=function(e){return(UX||(UX={polygon:fOt,"triangle-backcurve":dOt,"triangle-tee":GX,"circle-triangle":pOt,"triangle-cross":GX,circle:gOt}))[e]};var Du={};Du.drawElement=function(e,t,n,r,a,o){var l=this;t.isNode()?l.drawNode(e,t,n,r,a,o):l.drawEdge(e,t,n,r,a,o)};Du.drawElementOverlay=function(e,t){var n=this;t.isNode()?n.drawNodeOverlay(e,t):n.drawEdgeOverlay(e,t)};Du.drawElementUnderlay=function(e,t){var n=this;t.isNode()?n.drawNodeUnderlay(e,t):n.drawEdgeUnderlay(e,t)};Du.drawCachedElementPortion=function(e,t,n,r,a,o,l,u){var h=this,f=n.getBoundingBox(t);if(!(f.w===0||f.h===0)){var d=n.getElement(t,f,r,a,o);if(d!=null){var p=u(h,t);if(p===0)return;var g=l(h,t),m=f.x1,y=f.y1,b=f.w,T=f.h,E,w,x,S,A;if(g!==0){var R=n.getRotationPoint(t);x=R.x,S=R.y,e.translate(x,S),e.rotate(g),A=h.getImgSmoothing(e),A||h.setImgSmoothing(e,!0);var C=n.getRotationOffset(t);E=C.x,w=C.y}else E=m,w=y;var N;p!==1&&(N=e.globalAlpha,e.globalAlpha=N*p),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,E,w,b,T),p!==1&&(e.globalAlpha=N),g!==0&&(e.rotate(-g),e.translate(-x,-S),A||h.setImgSmoothing(e,!1))}else n.drawElement(e,t)}};var mOt=function(){return 0},vOt=function(t,n){return t.getTextAngle(n,null)},yOt=function(t,n){return t.getTextAngle(n,"source")},bOt=function(t,n){return t.getTextAngle(n,"target")},TOt=function(t,n){return n.effectiveOpacity()},Wk=function(t,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};Du.drawCachedElement=function(e,t,n,r,a,o){var l=this,u=l.data,h=u.eleTxrCache,f=u.lblTxrCache,d=u.slbTxrCache,p=u.tlbTxrCache,g=t.boundingBox(),m=o===!0?h.reasons.highQuality:null;if(!(g.w===0||g.h===0||!t.visible())&&(!r||zP(g,r))){var y=t.isEdge(),b=t.element()._private.rscratch.badLine;l.drawElementUnderlay(e,t),l.drawCachedElementPortion(e,t,h,n,a,m,mOt,TOt),(!y||!b)&&l.drawCachedElementPortion(e,t,f,n,a,m,vOt,Wk),y&&!b&&(l.drawCachedElementPortion(e,t,d,n,a,m,yOt,Wk),l.drawCachedElementPortion(e,t,p,n,a,m,bOt,Wk)),l.drawElementOverlay(e,t)}};Du.drawElements=function(e,t){for(var n=this,r=0;r<t.length;r++){var a=t[r];n.drawElement(e,a)}};Du.drawCachedElements=function(e,t,n,r){for(var a=this,o=0;o<t.length;o++){var l=t[o];a.drawCachedElement(e,l,n,r)}};Du.drawCachedNodes=function(e,t,n,r){for(var a=this,o=0;o<t.length;o++){var l=t[o];l.isNode()&&a.drawCachedElement(e,l,n,r)}};Du.drawLayeredElements=function(e,t,n,r){var a=this,o=a.data.lyrTxrCache.getLayers(t,n);if(o)for(var l=0;l<o.length;l++){var u=o[l],h=u.bb;h.w===0||h.h===0||e.drawImage(u.canvas,h.x1,h.y1,h.w,h.h)}else a.drawCachedElements(e,t,n,r)};var Zh={};Zh.drawEdge=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u=t._private.rscratch;if(!(o&&!t.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var h;n&&(h=n,e.translate(-h.x1,-h.y1));var f=o?t.pstyle("opacity").value:1,d=o?t.pstyle("line-opacity").value:1,p=t.pstyle("curve-style").value,g=t.pstyle("line-style").value,m=t.pstyle("width").pfValue,y=t.pstyle("line-cap").value,b=t.pstyle("line-outline-width").value,T=t.pstyle("line-outline-color").value,E=f*d,w=f*d,x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;p==="straight-triangle"?(l.eleStrokeStyle(e,t,F),l.drawEdgeTrianglePath(t,e,u.allpts)):(e.lineWidth=m,e.lineCap=y,l.eleStrokeStyle(e,t,F),l.drawEdgePath(t,e,u.allpts,g),e.lineCap="butt")},S=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(e.lineWidth=m+b,e.lineCap=y,b>0)l.colorStrokeStyle(e,T[0],T[1],T[2],F);else{e.lineCap="butt";return}p==="straight-triangle"?l.drawEdgeTrianglePath(t,e,u.allpts):(l.drawEdgePath(t,e,u.allpts,g),e.lineCap="butt")},A=function(){a&&l.drawEdgeOverlay(e,t)},R=function(){a&&l.drawEdgeUnderlay(e,t)},C=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;l.drawArrowheads(e,t,F)},N=function(){l.drawElementText(e,t,null,r)};e.lineJoin="round";var O=t.pstyle("ghost").value==="yes";if(O){var L=t.pstyle("ghost-offset-x").pfValue,k=t.pstyle("ghost-offset-y").pfValue,M=t.pstyle("ghost-opacity").value,$=E*M;e.translate(L,k),x($),C($),e.translate(-L,-k)}else S();R(),x(),C(),A(),N(),n&&e.translate(h.x1,h.y1)}};var Rve=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,r){if(r.visible()){var a=r.pstyle("".concat(t,"-opacity")).value;if(a!==0){var o=this,l=o.usePaths(),u=r._private.rscratch,h=r.pstyle("".concat(t,"-padding")).pfValue,f=2*h,d=r.pstyle("".concat(t,"-color")).value;n.lineWidth=f,u.edgeType==="self"&&!l?n.lineCap="butt":n.lineCap="round",o.colorStrokeStyle(n,d[0],d[1],d[2],a),o.drawEdgePath(r,n,u.allpts,"solid")}}}};Zh.drawEdgeOverlay=Rve("overlay");Zh.drawEdgeUnderlay=Rve("underlay");Zh.drawEdgePath=function(e,t,n,r){var a=e._private.rscratch,o=t,l,u=!1,h=this.usePaths(),f=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(h){var p=n.join("$"),g=a.pathCacheKey&&a.pathCacheKey===p;g?(l=t=a.pathCache,u=!0):(l=t=new Path2D,a.pathCacheKey=p,a.pathCache=l)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(f),o.lineDashOffset=d;break;case"solid":o.setLineDash([]);break}if(!u&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<n.length;m+=4)t.quadraticCurveTo(n[m],n[m+1],n[m+2],n[m+3]);break;case"straight":case"haystack":for(var y=2;y+1<n.length;y+=2)t.lineTo(n[y],n[y+1]);break;case"segments":if(a.isRound){var b=Mo(a.roundCorners),T;try{for(b.s();!(T=b.n()).done;){var E=T.value;mve(t,E)}}catch(x){b.e(x)}finally{b.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(var w=2;w+1<n.length;w+=2)t.lineTo(n[w],n[w+1]);break}t=o,h?t.stroke(l):t.stroke(),t.setLineDash&&t.setLineDash([])};Zh.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,a=0;a+1<n.length;a+=2){var o=[n[a+2]-n[a],n[a+3]-n[a+1]],l=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=[o[1]/l,-o[0]/l],h=[u[0]*r/2,u[1]*r/2];t.beginPath(),t.moveTo(n[a]-h[0],n[a+1]-h[1]),t.lineTo(n[a]+h[0],n[a+1]+h[1]),t.lineTo(n[a+2],n[a+3]),t.closePath(),t.fill()}};Zh.drawArrowheads=function(e,t,n){var r=t._private.rscratch,a=r.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),a||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};Zh.drawArrowhead=function(e,t,n,r,a,o,l){if(!(isNaN(r)||r==null||isNaN(a)||a==null||isNaN(o)||o==null)){var u=this,h=t.pstyle(n+"-arrow-shape").value;if(h!=="none"){var f=t.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(n+"-arrow-fill").value,p=t.pstyle("width").pfValue,g=t.pstyle(n+"-arrow-width"),m=g.value==="match-line"?p:g.pfValue;g.units==="%"&&(m*=p);var y=t.pstyle("opacity").value;l===void 0&&(l=y);var b=e.globalCompositeOperation;(l!==1||d==="hollow")&&(e.globalCompositeOperation="destination-out",u.colorFillStyle(e,255,255,255,1),u.colorStrokeStyle(e,255,255,255,1),u.drawArrowShape(t,e,f,p,h,m,r,a,o),e.globalCompositeOperation=b);var T=t.pstyle(n+"-arrow-color").value;u.colorFillStyle(e,T[0],T[1],T[2],l),u.colorStrokeStyle(e,T[0],T[1],T[2],l),u.drawArrowShape(t,e,d,p,h,m,r,a,o)}}};Zh.drawArrowShape=function(e,t,n,r,a,o,l,u,h){var f=this,d=this.usePaths()&&a!=="triangle-cross",p=!1,g,m=t,y={x:l,y:u},b=e.pstyle("arrow-scale").value,T=this.getArrowWidth(r,b),E=f.arrowShapes[a];if(d){var w=f.arrowPathCache=f.arrowPathCache||[],x=hf(a),S=w[x];S!=null?(g=t=S,p=!0):(g=t=new Path2D,w[x]=g)}p||(t.beginPath&&t.beginPath(),d?E.draw(t,1,0,{x:0,y:0},1):E.draw(t,T,h,y,r),t.closePath&&t.closePath()),t=m,d&&(t.translate(l,u),t.rotate(h),t.scale(T,T)),(n==="filled"||n==="both")&&(d?t.fill(g):t.fill()),(n==="hollow"||n==="both")&&(t.lineWidth=o/(d?T:1),t.lineJoin="miter",d?t.stroke(g):t.stroke()),d&&(t.scale(1/T,1/T),t.rotate(-h),t.translate(-l,-u))};var aF={};aF.safeDrawImage=function(e,t,n,r,a,o,l,u,h,f){if(!(a<=0||o<=0||h<=0||f<=0))try{e.drawImage(t,n,r,a,o,l,u,h,f)}catch(d){er(d)}};aF.drawInscribedImage=function(e,t,n,r,a){var o=this,l=n.position(),u=l.x,h=l.y,f=n.cy().style(),d=f.getIndexedStyle.bind(f),p=d(n,"background-fit","value",r),g=d(n,"background-repeat","value",r),m=n.width(),y=n.height(),b=n.padding()*2,T=m+(d(n,"background-width-relative-to","value",r)==="inner"?0:b),E=y+(d(n,"background-height-relative-to","value",r)==="inner"?0:b),w=n._private.rscratch,x=d(n,"background-clip","value",r),S=x==="node",A=d(n,"background-image-opacity","value",r)*a,R=d(n,"background-image-smoothing","value",r),C=n.pstyle("corner-radius").value;C!=="auto"&&(C=n.pstyle("corner-radius").pfValue);var N=t.width||t.cachedW,O=t.height||t.cachedH;(N==null||O==null)&&(document.body.appendChild(t),N=t.cachedW=t.width||t.offsetWidth,O=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var L=N,k=O;if(d(n,"background-width","value",r)!=="auto"&&(d(n,"background-width","units",r)==="%"?L=d(n,"background-width","pfValue",r)*T:L=d(n,"background-width","pfValue",r)),d(n,"background-height","value",r)!=="auto"&&(d(n,"background-height","units",r)==="%"?k=d(n,"background-height","pfValue",r)*E:k=d(n,"background-height","pfValue",r)),!(L===0||k===0)){if(p==="contain"){var M=Math.min(T/L,E/k);L*=M,k*=M}else if(p==="cover"){var M=Math.max(T/L,E/k);L*=M,k*=M}var $=u-T/2,_=d(n,"background-position-x","units",r),F=d(n,"background-position-x","pfValue",r);_==="%"?$+=(T-L)*F:$+=F;var B=d(n,"background-offset-x","units",r),D=d(n,"background-offset-x","pfValue",r);B==="%"?$+=(T-L)*D:$+=D;var P=h-E/2,H=d(n,"background-position-y","units",r),W=d(n,"background-position-y","pfValue",r);H==="%"?P+=(E-k)*W:P+=W;var U=d(n,"background-offset-y","units",r),V=d(n,"background-offset-y","pfValue",r);U==="%"?P+=(E-k)*V:P+=V,w.pathCache&&($-=u,P-=h,u=0,h=0);var G=e.globalAlpha;e.globalAlpha=A;var ee=o.getImgSmoothing(e),ce=!1;if(R==="no"&&ee?(o.setImgSmoothing(e,!1),ce=!0):R==="yes"&&!ee&&(o.setImgSmoothing(e,!0),ce=!0),g==="no-repeat")S&&(e.save(),w.pathCache?e.clip(w.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,u,h,T,E,C,w),e.clip())),o.safeDrawImage(e,t,0,0,N,O,$,P,L,k),S&&e.restore();else{var Q=e.createPattern(t,g);e.fillStyle=Q,o.nodeShapes[o.getNodeShape(n)].draw(e,u,h,T,E,C,w),e.translate($,P),e.fill(),e.translate(-$,-P)}e.globalAlpha=G,ce&&o.setImgSmoothing(e,ee)}};var Xp={};Xp.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),a=Math.ceil(GP(n*r));t=Math.pow(2,a)}var o=e.pstyle("font-size").pfValue*t,l=e.pstyle("min-zoomed-font-size").pfValue;return!(o<l)};Xp.drawElementText=function(e,t,n,r,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(r==null){if(o&&!l.eleTextBiggerThanMin(t))return}else if(r===!1)return;if(t.isNode()){var u=t.pstyle("label");if(!u||!u.value)return;var h=l.getLabelJustification(t);e.textAlign=h,e.textBaseline="bottom"}else{var f=t.element()._private.rscratch.badLine,d=t.pstyle("label"),p=t.pstyle("source-label"),g=t.pstyle("target-label");if(f||(!d||!d.value)&&(!p||!p.value)&&(!g||!g.value))return;e.textAlign="center",e.textBaseline="bottom"}var m=!n,y;n&&(y=n,e.translate(-y.x1,-y.y1)),a==null?(l.drawText(e,t,null,m,o),t.isEdge()&&(l.drawText(e,t,"source",m,o),l.drawText(e,t,"target",m,o))):l.drawText(e,t,a,m,o),n&&e.translate(y.x1,y.y1)};Xp.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};Xp.setupTextStyle=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,u=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,h=t.pstyle("text-outline-opacity").value*u,f=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=r+" "+l+" "+a+" "+o,e.lineJoin="round",this.colorFillStyle(e,f[0],f[1],f[2],u),this.colorStrokeStyle(e,d[0],d[1],d[2],h)};function Uk(e,t,n,r,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+a-o),e.quadraticCurveTo(t+r,n+a,t+r-o,n+a),e.lineTo(t+o,n+a),e.quadraticCurveTo(t,n+a,t,n+a-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),l?e.stroke():e.fill()}Xp.getTextAngle=function(e,t){var n,r=e._private,a=r.rscratch,o=t?t+"-":"",l=e.pstyle(o+"text-rotation");if(l.strValue==="autorotate"){var u=ec(a,"labelAngle",t);n=e.isEdge()?u:0}else l.strValue==="none"?n=0:n=l.pfValue;return n};Xp.drawText=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=t._private,l=o.rscratch,u=a?t.effectiveOpacity():1;if(!(a&&(u===0||t.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var h=ec(l,"labelX",n),f=ec(l,"labelY",n),d,p,g=this.getLabelText(t,n);if(g!=null&&g!==""&&!isNaN(h)&&!isNaN(f)){this.setupTextStyle(e,t,a);var m=n?n+"-":"",y=ec(l,"labelWidth",n),b=ec(l,"labelHeight",n),T=t.pstyle(m+"text-margin-x").pfValue,E=t.pstyle(m+"text-margin-y").pfValue,w=t.isEdge(),x=t.pstyle("text-halign").value,S=t.pstyle("text-valign").value;w&&(x="center",S="center"),h+=T,f+=E;var A;switch(r?A=this.getTextAngle(t,n):A=0,A!==0&&(d=h,p=f,e.translate(d,p),e.rotate(A),h=0,f=0),S){case"top":break;case"center":f+=b/2;break;case"bottom":f+=b;break}var R=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,N=t.pstyle("text-border-width").pfValue,O=t.pstyle("text-background-padding").pfValue,L=t.pstyle("text-background-shape").strValue,k=L.indexOf("round")===0,M=2;if(R>0||N>0&&C>0){var $=h-O;switch(x){case"left":$-=y;break;case"center":$-=y/2;break}var _=f-b-O,F=y+2*O,B=b+2*O;if(R>0){var D=e.fillStyle,P=t.pstyle("text-background-color").value;e.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+R*u+")",k?Uk(e,$,_,F,B,M):e.fillRect($,_,F,B),e.fillStyle=D}if(N>0&&C>0){var H=e.strokeStyle,W=e.lineWidth,U=t.pstyle("text-border-color").value,V=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+U[0]+","+U[1]+","+U[2]+","+C*u+")",e.lineWidth=N,e.setLineDash)switch(V){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=N/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(k?Uk(e,$,_,F,B,M,"stroke"):e.strokeRect($,_,F,B),V==="double"){var G=N/2;k?Uk(e,$+G,_+G,F-G*2,B-G*2,M,"stroke"):e.strokeRect($+G,_+G,F-G*2,B-G*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=W,e.strokeStyle=H}}var ee=2*t.pstyle("text-outline-width").pfValue;if(ee>0&&(e.lineWidth=ee),t.pstyle("text-wrap").value==="wrap"){var ce=ec(l,"labelWrapCachedLines",n),Q=ec(l,"labelLineHeight",n),re=y/2,le=this.getLabelJustification(t);switch(le==="auto"||(x==="left"?le==="left"?h+=-y:le==="center"&&(h+=-re):x==="center"?le==="left"?h+=-re:le==="right"&&(h+=re):x==="right"&&(le==="center"?h+=re:le==="right"&&(h+=y))),S){case"top":f-=(ce.length-1)*Q;break;case"center":case"bottom":f-=(ce.length-1)*Q;break}for(var Y=0;Y<ce.length;Y++)ee>0&&e.strokeText(ce[Y],h,f),e.fillText(ce[Y],h,f),f+=Q}else ee>0&&e.strokeText(g,h,f),e.fillText(g,h,f);A!==0&&(e.rotate(-A),e.translate(-d,-p))}}};var ry={};ry.drawNode=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u,h,f=t._private,d=f.rscratch,p=t.position();if(!(!Tt(p.x)||!Tt(p.y))&&!(o&&!t.visible())){var g=o?t.effectiveOpacity():1,m=l.usePaths(),y,b=!1,T=t.padding();u=t.width()+2*T,h=t.height()+2*T;var E;n&&(E=n,e.translate(-E.x1,-E.y1));for(var w=t.pstyle("background-image"),x=w.value,S=new Array(x.length),A=new Array(x.length),R=0,C=0;C<x.length;C++){var N=x[C],O=S[C]=N!=null&&N!=="none";if(O){var L=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);R++,A[C]=l.getCachedImage(N,L,function(){f.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var k=t.pstyle("background-blacken").value,M=t.pstyle("border-width").pfValue,$=t.pstyle("background-opacity").value*g,_=t.pstyle("border-color").value,F=t.pstyle("border-style").value,B=t.pstyle("border-join").value,D=t.pstyle("border-cap").value,P=t.pstyle("border-position").value,H=t.pstyle("border-dash-pattern").pfValue,W=t.pstyle("border-dash-offset").pfValue,U=t.pstyle("border-opacity").value*g,V=t.pstyle("outline-width").pfValue,G=t.pstyle("outline-color").value,ee=t.pstyle("outline-style").value,ce=t.pstyle("outline-opacity").value*g,Q=t.pstyle("outline-offset").value,re=t.pstyle("corner-radius").value;re!=="auto"&&(re=t.pstyle("corner-radius").pfValue);var le=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;l.eleFillStyle(e,t,we)},Y=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;l.colorStrokeStyle(e,_[0],_[1],_[2],we)},K=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce;l.colorStrokeStyle(e,G[0],G[1],G[2],we)},Z=function(we,ie,Oe,ae){var ge=l.nodePathCache=l.nodePathCache||[],Ee=pme(Oe==="polygon"?Oe+","+ae.join(","):Oe,""+ie,""+we,""+re),ye=ge[Ee],Se,Ce=!1;return ye!=null?(Se=ye,Ce=!0,d.pathCache=Se):(Se=new Path2D,ge[Ee]=d.pathCache=Se),{path:Se,cacheHit:Ce}},z=t.pstyle("shape").strValue,X=t.pstyle("shape-polygon-points").pfValue;if(m){e.translate(p.x,p.y);var te=Z(u,h,z,X);y=te.path,b=te.cacheHit}var ne=function(){if(!b){var we=p;m&&(we={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(y||e,we.x,we.y,u,h,re,d)}m?e.fill(y):e.fill()},Ae=function(){for(var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Oe=f.backgrounding,ae=0,ge=0;ge<A.length;ge++){var Ee=t.cy().style().getIndexedStyle(t,"background-image-containment","value",ge);if(ie&&Ee==="over"||!ie&&Ee==="inside"){ae++;continue}S[ge]&&A[ge].complete&&!A[ge].error&&(ae++,l.drawInscribedImage(e,A[ge],t,ge,we))}f.backgrounding=ae!==R,Oe!==f.backgrounding&&t.updateStyle(!1)},he=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;l.hasPie(t)&&(l.drawPie(e,t,ie),we&&(m||l.nodeShapes[l.getNodeShape(t)].draw(e,p.x,p.y,u,h,re,d)))},oe=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ie=(k>0?k:-k)*we,Oe=k>0?0:255;k!==0&&(l.colorFillStyle(e,Oe,Oe,Oe,ie),m?e.fill(y):e.fill())},de=function(){if(M>0){if(e.lineWidth=M,e.lineCap=D,e.lineJoin=B,e.setLineDash)switch(F){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(H),e.lineDashOffset=W;break;case"solid":case"double":e.setLineDash([]);break}if(P!=="center"){if(e.save(),e.lineWidth*=2,P==="inside")m?e.clip(y):e.clip();else{var we=new Path2D;we.rect(-u/2-M,-h/2-M,u+2*M,h+2*M),we.addPath(y),e.clip(we,"evenodd")}m?e.stroke(y):e.stroke(),e.restore()}else m?e.stroke(y):e.stroke();if(F==="double"){e.lineWidth=M/3;var ie=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",m?e.stroke(y):e.stroke(),e.globalCompositeOperation=ie}e.setLineDash&&e.setLineDash([])}},be=function(){if(V>0){if(e.lineWidth=V,e.lineCap="butt",e.setLineDash)switch(ee){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var we=p;m&&(we={x:0,y:0});var ie=l.getNodeShape(t),Oe=M;P==="inside"&&(Oe=0),P==="outside"&&(Oe*=2);var ae=(u+Oe+(V+Q))/u,ge=(h+Oe+(V+Q))/h,Ee=u*ae,ye=h*ge,Se=l.nodeShapes[ie].points,Ce;if(m){var Fe=Z(Ee,ye,ie,Se);Ce=Fe.path}if(ie==="ellipse")l.drawEllipsePath(Ce||e,we.x,we.y,Ee,ye);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ie)){var Ne=0,Ve=0,et=0;ie==="round-diamond"?Ne=(Oe+Q+V)*1.4:ie==="round-heptagon"?(Ne=(Oe+Q+V)*1.075,et=-(Oe/2+Q+V)/35):ie==="round-hexagon"?Ne=(Oe+Q+V)*1.12:ie==="round-pentagon"?(Ne=(Oe+Q+V)*1.13,et=-(Oe/2+Q+V)/15):ie==="round-tag"?(Ne=(Oe+Q+V)*1.12,Ve=(Oe/2+V+Q)*.07):ie==="round-triangle"&&(Ne=(Oe+Q+V)*(Math.PI/2),et=-(Oe+Q/2+V)/Math.PI),Ne!==0&&(ae=(u+Ne)/u,Ee=u*ae,["round-hexagon","round-tag"].includes(ie)||(ge=(h+Ne)/h,ye=h*ge)),re=re==="auto"?Ame(Ee,ye):re;for(var Rt=Ee/2,pt=ye/2,ut=re+(Oe+V+Q)/2,qe=new Array(Se.length/2),je=new Array(Se.length/2),ft=0;ft<Se.length/2;ft++)qe[ft]={x:we.x+Ve+Rt*Se[ft*2],y:we.y+et+pt*Se[ft*2+1]};var Ke,at,Ft,st,Je=qe.length;for(at=qe[Je-1],Ke=0;Ke<Je;Ke++)Ft=qe[Ke%Je],st=qe[(Ke+1)%Je],je[Ke]=rF(at,Ft,st,ut),at=Ft,Ft=st;l.drawRoundPolygonPath(Ce||e,we.x+Ve,we.y+et,u*ae,h*ge,Se,je)}else if(["roundrectangle","round-rectangle"].includes(ie))re=re==="auto"?wp(Ee,ye):re,l.drawRoundRectanglePath(Ce||e,we.x,we.y,Ee,ye,re+(Oe+V+Q)/2);else if(["cutrectangle","cut-rectangle"].includes(ie))re=re==="auto"?YP():re,l.drawCutRectanglePath(Ce||e,we.x,we.y,Ee,ye,null,re+(Oe+V+Q)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ie))re=re==="auto"?wp(Ee,ye):re,l.drawBottomRoundRectanglePath(Ce||e,we.x,we.y,Ee,ye,re+(Oe+V+Q)/2);else if(ie==="barrel")l.drawBarrelPath(Ce||e,we.x,we.y,Ee,ye);else if(ie.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ie)){var gt=(Oe+V+Q)/u;Se=E5(w5(Se,gt)),l.drawPolygonPath(Ce||e,we.x,we.y,u,h,Se)}else{var Nt=(Oe+V+Q)/u;Se=E5(w5(Se,-Nt)),l.drawPolygonPath(Ce||e,we.x,we.y,u,h,Se)}if(m?e.stroke(Ce):e.stroke(),ee==="double"){e.lineWidth=Oe/3;var yt=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",m?e.stroke(Ce):e.stroke(),e.globalCompositeOperation=yt}e.setLineDash&&e.setLineDash([])}},fe=function(){a&&l.drawNodeOverlay(e,t,p,u,h)},Ie=function(){a&&l.drawNodeUnderlay(e,t,p,u,h)},Re=function(){l.drawElementText(e,t,null,r)},ke=t.pstyle("ghost").value==="yes";if(ke){var De=t.pstyle("ghost-offset-x").pfValue,se=t.pstyle("ghost-offset-y").pfValue,j=t.pstyle("ghost-opacity").value,me=j*g;e.translate(De,se),K(),be(),le(j*$),ne(),Ae(me,!0),Y(j*U),de(),he(k!==0||M!==0),Ae(me,!1),oe(me),e.translate(-De,-se)}m&&e.translate(-p.x,-p.y),Ie(),m&&e.translate(p.x,p.y),K(),be(),le(),ne(),Ae(g,!0),Y(),de(),he(k!==0||M!==0),Ae(g,!1),oe(),m&&e.translate(-p.x,-p.y),Re(),fe(),n&&e.translate(E.x1,E.y1)}};var kve=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,r,a,o,l){var u=this;if(r.visible()){var h=r.pstyle("".concat(t,"-padding")).pfValue,f=r.pstyle("".concat(t,"-opacity")).value,d=r.pstyle("".concat(t,"-color")).value,p=r.pstyle("".concat(t,"-shape")).value,g=r.pstyle("".concat(t,"-corner-radius")).value;if(f>0){if(a=a||r.position(),o==null||l==null){var m=r.padding();o=r.width()+2*m,l=r.height()+2*m}u.colorFillStyle(n,d[0],d[1],d[2],f),u.nodeShapes[p].draw(n,a.x,a.y,o+h*2,l+h*2,g),n.fill()}}}};ry.drawNodeOverlay=kve("overlay");ry.drawNodeUnderlay=kve("underlay");ry.hasPie=function(e){return e=e[0],e._private.hasPie};ry.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var a=t.cy().style(),o=t.pstyle("pie-size"),l=r.x,u=r.y,h=t.width(),f=t.height(),d=Math.min(h,f)/2,p=0,g=this.usePaths();g&&(l=0,u=0),o.units==="%"?d=d*o.pfValue:o.pfValue!==void 0&&(d=o.pfValue/2);for(var m=1;m<=a.pieBackgroundN;m++){var y=t.pstyle("pie-"+m+"-background-size").value,b=t.pstyle("pie-"+m+"-background-color").value,T=t.pstyle("pie-"+m+"-background-opacity").value*n,E=y/100;E+p>1&&(E=1-p);var w=1.5*Math.PI+2*Math.PI*p,x=2*Math.PI*E,S=w+x;y===0||p>=1||p+E>1||(e.beginPath(),e.moveTo(l,u),e.arc(l,u,d,w,S),e.closePath(),this.colorFillStyle(e,b[0],b[1],b[2],T),e.fill(),p+=E)}};var Fs={},EOt=100;Fs.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n};Fs.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],n=!0,r,a=0;a<t.length;a++)if(r=t[a],r.context===e){n=!1;break}return n&&(r={context:e},t.push(r)),r};Fs.createGradientStyleFor=function(e,t,n,r,a){var o,l=this.usePaths(),u=n.pstyle(t+"-gradient-stop-colors").value,h=n.pstyle(t+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var f=n.sourceEndpoint(),d=n.targetEndpoint(),p=n.midpoint(),g=Ep(f,p),m=Ep(d,p);o=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else{var y=l?{x:0,y:0}:n.position(),b=n.paddedWidth(),T=n.paddedHeight();o=e.createRadialGradient(y.x,y.y,0,y.x,y.y,Math.max(b,T))}else if(n.isEdge()){var E=n.sourceEndpoint(),w=n.targetEndpoint();o=e.createLinearGradient(E.x,E.y,w.x,w.y)}else{var x=l?{x:0,y:0}:n.position(),S=n.paddedWidth(),A=n.paddedHeight(),R=S/2,C=A/2,N=n.pstyle("background-gradient-direction").value;switch(N){case"to-bottom":o=e.createLinearGradient(x.x,x.y-C,x.x,x.y+C);break;case"to-top":o=e.createLinearGradient(x.x,x.y+C,x.x,x.y-C);break;case"to-left":o=e.createLinearGradient(x.x+R,x.y,x.x-R,x.y);break;case"to-right":o=e.createLinearGradient(x.x-R,x.y,x.x+R,x.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(x.x-R,x.y-C,x.x+R,x.y+C);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(x.x-R,x.y+C,x.x+R,x.y-C);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(x.x+R,x.y-C,x.x-R,x.y+C);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(x.x+R,x.y+C,x.x-R,x.y-C);break}}if(!o)return null;for(var O=h.length===u.length,L=u.length,k=0;k<L;k++)o.addColorStop(O?h[k]:k/(L-1),"rgba("+u[k][0]+","+u[k][1]+","+u[k][2]+","+a+")");return o};Fs.gradientFillStyle=function(e,t,n,r){var a=this.createGradientStyleFor(e,"background",t,n,r);if(!a)return null;e.fillStyle=a};Fs.colorFillStyle=function(e,t,n,r,a){e.fillStyle="rgba("+t+","+n+","+r+","+a+")"};Fs.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(e,t,r,n);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],n)}};Fs.gradientStrokeStyle=function(e,t,n,r){var a=this.createGradientStyleFor(e,"line",t,n,r);if(!a)return null;e.strokeStyle=a};Fs.colorStrokeStyle=function(e,t,n,r,a){e.strokeStyle="rgba("+t+","+n+","+r+","+a+")"};Fs.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(e,t,r,n);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],n)}};Fs.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),a=r[2],o=r[3],l=t.getPixelRatio(),u=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(l=u);var h=a*l,f=o*l,d;if(!(h===t.canvasWidth&&f===t.canvasHeight)){t.fontCaches=null;var p=n.canvasContainer;p.style.width=a+"px",p.style.height=o+"px";for(var g=0;g<t.CANVAS_LAYERS;g++)d=n.canvases[g],d.width=h,d.height=f,d.style.width=a+"px",d.style.height=o+"px";for(var g=0;g<t.BUFFER_COUNT;g++)d=n.bufferCanvases[g],d.width=h,d.height=f,d.style.width=a+"px",d.style.height=o+"px";t.textureMult=1,l<=1&&(d=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=h*t.textureMult,d.height=f*t.textureMult),t.canvasWidth=h,t.canvasHeight=f,t.pixelRatio=l}};Fs.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};Fs.clearCanvas=function(){var e=this,t=e.data;function n(r){r.clearRect(0,0,e.canvasWidth,e.canvasHeight)}n(t.contexts[e.NODE]),n(t.contexts[e.DRAG])};Fs.render=function(e){var t=this;e=e||yme();var n=t.cy,r=e.forcedContext,a=e.drawAllLayers,o=e.drawOnlyNodeLayer,l=e.forcedZoom,u=e.forcedPan,h=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,f=t.data,d=f.canvasNeedsRedraw,p=t.textureOnViewport&&!r&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),g=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,m=t.motionBlurPxRatio,y=n.hasCompoundNodes(),b=t.hoverData.draggingEles,T=!!(t.hoverData.selecting||t.touchData.selecting);g=g&&!r&&t.motionBlurEnabled&&!T;var E=g;r||(t.prevPxRatio!==h&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=h),!r&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),g&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(E=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!p&&(d[t.NODE]=!0,d[t.SELECT_BOX]=!0);var w=n.style(),x=n.zoom(),S=l!==void 0?l:x,A=n.pan(),R={x:A.x,y:A.y},C={zoom:x,pan:{x:A.x,y:A.y}},N=t.prevViewport,O=N===void 0||C.zoom!==N.zoom||C.pan.x!==N.pan.x||C.pan.y!==N.pan.y;!O&&!(b&&!y)&&(t.motionBlurPxRatio=1),u&&(R=u),S*=h,R.x*=h,R.y*=h;var L=t.getCachedZSortedEles();function k(Y,K,Z,z,X){var te=Y.globalCompositeOperation;Y.globalCompositeOperation="destination-out",t.colorFillStyle(Y,255,255,255,t.motionBlurTransparency),Y.fillRect(K,Z,z,X),Y.globalCompositeOperation=te}function M(Y,K){var Z,z,X,te;!t.clearingMotionBlur&&(Y===f.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||Y===f.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(Z={x:A.x*m,y:A.y*m},z=x*m,X=t.canvasWidth*m,te=t.canvasHeight*m):(Z=R,z=S,X=t.canvasWidth,te=t.canvasHeight),Y.setTransform(1,0,0,1,0,0),K==="motionBlur"?k(Y,0,0,X,te):!r&&(K===void 0||K)&&Y.clearRect(0,0,X,te),a||(Y.translate(Z.x,Z.y),Y.scale(z,z)),u&&Y.translate(u.x,u.y),l&&Y.scale(l,l)}if(p||(t.textureDrawLastFrame=!1),p){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=n.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var $=t.data.bufferContexts[t.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:h*t.textureMult});var C=t.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:t.canvasWidth,height:t.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}d[t.DRAG]=!1,d[t.NODE]=!1;var _=f.contexts[t.NODE],F=t.textureCache.texture,C=t.textureCache.viewport;_.setTransform(1,0,0,1,0,0),g?k(_,0,0,C.width,C.height):_.clearRect(0,0,C.width,C.height);var B=w.core("outside-texture-bg-color").value,D=w.core("outside-texture-bg-opacity").value;t.colorFillStyle(_,B[0],B[1],B[2],D),_.fillRect(0,0,C.width,C.height);var x=n.zoom();M(_,!1),_.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/h,C.height/C.zoom/h),_.drawImage(F,C.mpan.x,C.mpan.y,C.width/C.zoom/h,C.height/C.zoom/h)}else t.textureOnViewport&&!r&&(t.textureCache=null);var P=n.extent(),H=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),W=t.hideEdgesOnViewport&&H,U=[];if(U[t.NODE]=!d[t.NODE]&&g&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,U[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),U[t.DRAG]=!d[t.DRAG]&&g&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,U[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),d[t.NODE]||a||o||U[t.NODE]){var V=g&&!U[t.NODE]&&m!==1,_=r||(V?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:f.contexts[t.NODE]),G=g&&!V?"motionBlur":void 0;M(_,G),W?t.drawCachedNodes(_,L.nondrag,h,P):t.drawLayeredElements(_,L.nondrag,h,P),t.debug&&t.drawDebugPoints(_,L.nondrag),!a&&!g&&(d[t.NODE]=!1)}if(!o&&(d[t.DRAG]||a||U[t.DRAG])){var V=g&&!U[t.DRAG]&&m!==1,_=r||(V?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:f.contexts[t.DRAG]);M(_,g&&!V?"motionBlur":void 0),W?t.drawCachedNodes(_,L.drag,h,P):t.drawCachedElements(_,L.drag,h,P),t.debug&&t.drawDebugPoints(_,L.drag),!a&&!g&&(d[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,M),g&&m!==1){var ee=f.contexts[t.NODE],ce=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],Q=f.contexts[t.DRAG],re=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],le=function(K,Z,z){K.setTransform(1,0,0,1,0,0),z||!E?K.clearRect(0,0,t.canvasWidth,t.canvasHeight):k(K,0,0,t.canvasWidth,t.canvasHeight);var X=m;K.drawImage(Z,0,0,t.canvasWidth*X,t.canvasHeight*X,0,0,t.canvasWidth,t.canvasHeight)};(d[t.NODE]||U[t.NODE])&&(le(ee,ce,U[t.NODE]),d[t.NODE]=!1),(d[t.DRAG]||U[t.DRAG])&&(le(Q,re,U[t.DRAG]),d[t.DRAG]=!1)}t.prevViewport=C,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),g&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!p,t.mbFrames=0,d[t.NODE]=!0,d[t.DRAG]=!0,t.redraw()},EOt)),r||n.emit("render")};var Zy;Fs.drawSelectionRectangle=function(e,t){var n=this,r=n.cy,a=n.data,o=r.style(),l=e.drawOnlyNodeLayer,u=e.drawAllLayers,h=a.canvasNeedsRedraw,f=e.forcedContext;if(n.showFps||!l&&h[n.SELECT_BOX]&&!u){var d=f||a.contexts[n.SELECT_BOX];if(t(d),n.selection[4]==1&&(n.hoverData.selecting||n.touchData.selecting)){var p=n.cy.zoom(),g=o.core("selection-box-border-width").value/p;d.lineWidth=g,d.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",d.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),g>0&&(d.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",d.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(a.bgActivePosistion&&!n.hoverData.selecting){var p=n.cy.zoom(),m=a.bgActivePosistion;d.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",d.beginPath(),d.arc(m.x,m.y,o.core("active-bg-size").pfValue/p,0,2*Math.PI),d.fill()}var y=n.lastRedrawTime;if(n.showFps&&y){y=Math.round(y);var b=Math.round(1e3/y),T="1 frame = "+y+" ms = "+b+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!Zy){var E=d.measureText(T);Zy=E.actualBoundingBoxAscent}d.fillText(T,0,Zy);var w=60;d.strokeRect(0,Zy+10,250,20),d.fillRect(0,Zy+10,250*Math.min(b/w,1),20)}u||(h[n.SELECT_BOX]=!1)}};function zX(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}function wOt(e,t,n){var r=zX(e,e.VERTEX_SHADER,t),a=zX(e,e.FRAGMENT_SHADER,n),o=e.createProgram();if(e.attachShader(o,r),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function xOt(e,t,n){n===void 0&&(n=t);var r=e.makeOffscreenCanvas(t,n),a=r.context=r.getContext("2d");return r.clear=function(){return a.clearRect(0,0,r.width,r.height)},r.clear(),r}function sF(e){var t=e.pixelRatio,n=e.cy.zoom(),r=e.cy.pan();return{zoom:n*t,pan:{x:r.x*t,y:r.y*t}}}function SOt(e,t,n,r,a){var o=r*n+t.x,l=a*n+t.y;return l=Math.round(e.canvasHeight-l),[o,l]}function _3(e,t,n){var r=e[0]/255,a=e[1]/255,o=e[2]/255,l=t,u=n||new Array(4);return u[0]=r*l,u[1]=a*l,u[2]=o*l,u[3]=l,u}function D3(e,t){var n=t||new Array(4);return n[0]=(e>>0&255)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function AOt(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function IOt(e,t){var n=e.createTexture();return n.buffer=function(r){e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},n.deleteTexture=function(){e.deleteTexture(n)},n}function Ove(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Nve(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function COt(e,t,n,r,a,o){switch(t){case e.FLOAT:return new Float32Array(n.buffer,o*r,a);case e.INT:return new Int32Array(n.buffer,o*r,a)}}function ROt(e,t,n,r){var a=Ove(e,t),o=sa(a,2),l=o[0],u=o[1],h=Nve(e,u,r),f=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,h,e.STATIC_DRAW),u===e.FLOAT?e.vertexAttribPointer(n,l,u,!1,0,0):u===e.INT&&e.vertexAttribIPointer(n,l,u,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null),f}function wo(e,t,n,r){var a=Ove(e,n),o=sa(a,3),l=o[0],u=o[1],h=o[2],f=Nve(e,u,t*l),d=l*h,p=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,t*d,e.DYNAMIC_DRAW),e.enableVertexAttribArray(r),u===e.FLOAT?e.vertexAttribPointer(r,l,u,!1,d,0):u===e.INT&&e.vertexAttribIPointer(r,l,u,d,0),e.vertexAttribDivisor(r,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var g=new Array(t),m=0;m<t;m++)g[m]=COt(e,u,f,d,l,m);return p.dataArray=f,p.stride=d,p.size=l,p.getView=function(y){return g[y]},p.setPoint=function(y,b,T){var E=g[y];E[0]=b,E[1]=T},p.bufferSubData=function(y){e.bindBuffer(e.ARRAY_BUFFER,p),y?e.bufferSubData(e.ARRAY_BUFFER,0,f,0,y*l):e.bufferSubData(e.ARRAY_BUFFER,0,f)},p}function kOt(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(r,a){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,a,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var YX=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function ab(){var e=new YX(9);return YX!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Lve(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function OOt(e,t,n){var r=t[0],a=t[1],o=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],g=n[0],m=n[1],y=n[2],b=n[3],T=n[4],E=n[5],w=n[6],x=n[7],S=n[8];return e[0]=g*r+m*l+y*f,e[1]=g*a+m*u+y*d,e[2]=g*o+m*h+y*p,e[3]=b*r+T*l+E*f,e[4]=b*a+T*u+E*d,e[5]=b*o+T*h+E*p,e[6]=w*r+x*l+S*f,e[7]=w*a+x*u+S*d,e[8]=w*o+x*h+S*p,e}function k5(e,t,n){var r=t[0],a=t[1],o=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],g=n[0],m=n[1];return e[0]=r,e[1]=a,e[2]=o,e[3]=l,e[4]=u,e[5]=h,e[6]=g*r+m*l+f,e[7]=g*a+m*u+d,e[8]=g*o+m*h+p,e}function _ve(e,t,n){var r=t[0],a=t[1],o=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],g=Math.sin(n),m=Math.cos(n);return e[0]=m*r+g*l,e[1]=m*a+g*u,e[2]=m*o+g*h,e[3]=m*l-g*r,e[4]=m*u-g*a,e[5]=m*h-g*o,e[6]=f,e[7]=d,e[8]=p,e}function oF(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function NOt(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var sb={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Qy=ga({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),LOt=function(){function e(t,n){Lf(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.atlasSize=n.webglTexSize,this.rows=n.webglTexRows,this.enableWrapping=n.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=n.createTextureCanvas(t,this.atlasSize,this.atlasSize),this.scratch=n.createTextureCanvas(t,this.atlasSize,this.texHeight,"scratch")}return _f(e,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(n){var r=n.w,a=n.h,o=this.texHeight,l=this.maxTexWidth,u=o/a,h=r*u,f=a*u;return h>l&&(u=l/r,h=r*u,f=a*u),{scale:u,texW:h,texH:f}}},{key:"draw",value:function(n,r,a){var o=this,l=this.atlasSize,u=this.rows,h=this.texHeight,f=this.getScale(r),d=f.scale,p=f.texW,g=f.texH,m=[null,null],y=function(x,S){if(a&&S){var A=S.context,R=x.x,C=x.row,N=R,O=h*C;A.save(),A.translate(N,O),A.scale(d,d),a(A,r),A.restore()}},b=function(){y(o.freePointer,o.canvas),m[0]={x:o.freePointer.x,y:o.freePointer.row*h,w:p,h:g},m[1]={x:o.freePointer.x+p,y:o.freePointer.row*h,w:0,h:g},o.freePointer.x+=p,o.freePointer.x==l&&(o.freePointer.x=0,o.freePointer.row++)},T=function(){var x=o.scratch,S=o.canvas;x.clear(),y({x:0,row:0},x);var A=l-o.freePointer.x,R=p-A,C=h;{var N=o.freePointer.x,O=o.freePointer.row*h,L=A;S.context.drawImage(x,0,0,L,C,N,O,L,C),m[0]={x:N,y:O,w:L,h:g}}{var k=A,M=(o.freePointer.row+1)*h,$=R;S&&S.context.drawImage(x,k,0,$,C,0,M,$,C),m[1]={x:0,y:M,w:$,h:g}}o.freePointer.x=R,o.freePointer.row++},E=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+p<=l)b();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===l?(E(),b()):this.enableWrapping?T():(E(),b())}return this.keyToLocation.set(n,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(n){return this.keyToLocation.get(n)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(n){var r=this.atlasSize,a=this.rows,o=this.getScale(n),l=o.texW;return this.freePointer.x+l>r?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(n){this.texture||(this.texture=IOt(n,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),e}(),_Ot=function(){function e(t,n){Lf(this,e),this.r=t,this.opts=n,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return _f(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(n){var r=this.keyToIds.get(n);return r||(r=new Set,this.keyToIds.set(n,r)),r}},{key:"_createAtlas",value:function(){var n=this.r,r=this.opts;return new LOt(n,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var n=this.r,r=this.opts,a=r.webglTexSize,o=Math.floor(a/r.webglTexRows);this.scratch=r.createTextureCanvas(n,a,o,"scratch")}return this.scratch}},{key:"draw",value:function(n,r,a,o){if(this.styleKeyNeedsRedraw.has(r)){this.styleKeyNeedsRedraw.delete(r),this.deleteKey(n,r);var l=this.styleKeyToAtlas.get(r);l&&(l.forceGC=!0),this.styleKeyToAtlas.delete(r)}var u=this.styleKeyToAtlas.get(r);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(a))&&(u=this._createAtlas(),this.atlases.push(u)),u.draw(r,a,o),this.styleKeyToAtlas.set(r,u),this.getIdsFor(r).add(n),this.idToKey.set(n,r)),u}},{key:"getAtlas",value:function(n){return this.styleKeyToAtlas.get(n)}},{key:"hasAtlas",value:function(n){return this.styleKeyToAtlas.has(n)}},{key:"deleteKey",value:function(n,r){this.idToKey.delete(n),this.getIdsFor(r).delete(n)}},{key:"checkKeyIsInvalid",value:function(n,r){if(!this.idToKey.has(n))return!1;var a=this.idToKey.get(n);return a!=r?(this.deleteKey(n,a),!0):!1}},{key:"_getKeysToCollect",value:function(){var n=new Set,r=Mo(this.styleKeyToAtlas.keys()),a;try{for(r.s();!(a=r.n()).done;){var o=a.value;this.getIdsFor(o).size==0&&n.add(o)}}catch(l){r.e(l)}finally{r.f()}return n}},{key:"gc",value:function(){var n=this,r=this.atlases.some(function(g){return g.forceGC}),a=this._getKeysToCollect();if(a.size===0&&!r){console.log("nothing to garbage collect");return}var o=[],l=new Map,u=null,h=Mo(this.atlases),f;try{var d=function(){var m=f.value,y=m.getKeys(),b=DOt(a,y);if(b.size===0&&!m.forceGC)return o.push(m),y.forEach(function(C){return l.set(C,m)}),"continue";u||(u=n._createAtlas(),o.push(u));var T=Mo(y),E;try{for(T.s();!(E=T.n()).done;){var w=E.value;if(!b.has(w)){var x=m.getOffsets(w),S=sa(x,2),A=S[0],R=S[1];u.canFit({w:A.w+R.w,h:A.h})||(u=n._createAtlas(),o.push(u)),n._copyTextureToNewAtlas(w,m,u),l.set(w,u)}}}catch(C){T.e(C)}finally{T.f()}};for(h.s();!(f=h.n()).done;)var p=d()}catch(g){h.e(g)}finally{h.f()}this.atlases=o,this.styleKeyToAtlas=l}},{key:"_copyTextureToNewAtlas",value:function(n,r,a){var o=r.getOffsets(n),l=sa(o,2),u=l[0],h=l[1];if(h.w===0)a.draw(n,u,function(g){g.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var f=this._getScratchCanvas();f.clear(),f.context.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),f.context.drawImage(r.canvas,h.x,h.y,h.w,h.h,u.w,0,h.w,h.h);var d=u.w+h.w,p=u.h;a.draw(n,{w:d,h:p},function(g){g.drawImage(f,0,0,d,p,0,0,d,p)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),e}();function DOt(e,t){return e.intersection?e.intersection(t):new Set(eme(e).filter(function(n){return t.has(n)}))}var MOt=function(){function e(t,n){Lf(this,e),this.r=t;var r=n;this.globalOptions=r,this.maxAtlases=r.webglTexPerBatch,this.atlasSize=r.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(r)}return _f(e,[{key:"_cacheScratchCanvas",value:function(n){var r=-1,a=-1,o=null,l=n.createTextureCanvas;n.createTextureCanvas=function(u,h,f,d){return d?((!o||h!=r||f!=a)&&(r=h,a=f,o=l(u,h,f)),o):l(u,h,f)}}},{key:"addRenderType",value:function(n,r){var a=new _Ot(this.r,this.globalOptions),o=r;this.renderTypes.set(n,en({type:n,atlasCollection:a},o))}},{key:"getRenderTypes",value:function(){return eme(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(n){return this.renderTypes.get(n)}},{key:"invalidate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.forceRedraw,o=a===void 0?!1:a,l=r.filterEle,u=l===void 0?function(){return!0}:l,h=r.filterType,f=h===void 0?function(){return!0}:h,d=!1,p=Mo(n),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;if(u(m)){var y=m.id(),b=Mo(this.getRenderTypes()),T;try{for(b.s();!(T=b.n()).done;){var E=T.value;if(f(E.type)){var w=E.getKey(m);o?(E.atlasCollection.deleteKey(y,w),E.atlasCollection.styleKeyNeedsRedraw.add(w),d=!0):d|=E.atlasCollection.checkKeyIsInvalid(y,w)}}}catch(x){b.e(x)}finally{b.f()}}}}catch(x){p.e(x)}finally{p.f()}return d}},{key:"gc",value:function(){var n=Mo(this.getRenderTypes()),r;try{for(n.s();!(r=n.n()).done;){var a=r.value;a.atlasCollection.gc()}}catch(o){n.e(o)}finally{n.f()}}},{key:"isRenderable",value:function(n,r){var a=this.getRenderTypeOpts(r);return a&&a.isVisible(n)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(n,r,a){var o=this.renderTypes.get(a),l=o.getKey(n),u=n.id();return o.atlasCollection.draw(u,l,r,function(h){o.drawElement(h,n,r,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(n){var r=this.batchAtlases.indexOf(n);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(n),r=this.batchAtlases.length-1}return r}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(n,r){return r})}},{key:"getAtlasInfo",value:function(n,r){var a=this.renderTypes.get(r),o=a.getBoundingBox(n),l=this.getOrCreateAtlas(n,o,r),u=this.getAtlasIndexForBatch(l);if(u!==void 0){var h=a.getKey(n),f=l.getOffsets(h),d=sa(f,2),p=d[0],g=d[1];return{atlasID:u,tex:p,tex1:p,tex2:g,bb:o,type:r,styleKey:h}}}},{key:"canAddToCurrentBatch",value:function(n,r){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var a=this.renderTypes.get(r),o=a.getKey(n),l=a.atlasCollection.getAtlas(o);return l&&this.batchAtlases.includes(l)}return!0}},{key:"setTransformMatrix",value:function(n,r,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=r.bb,u=r.type,h=r.tex1,f=r.tex2,d=this.getRenderTypeOpts(u),p=d.getPadding?d.getPadding(a):0,g=h.w/(h.w+f.w);o||(g=1-g);var m=this.getAdjustedBB(l,p,o,g),y,b;Lve(n);var T=d.getRotation?d.getRotation(a):0;if(T!==0){var E=d.getRotationPoint(a),w=E.x,x=E.y;k5(n,n,[w,x]),_ve(n,n,T);var S=d.getRotationOffset(a);y=S.x+m.xOffset,b=S.y}else y=m.x1,b=m.y1;k5(n,n,[y,b]),oF(n,n,[m.w,m.h])}},{key:"getTransformMatrix",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ab();return this.setTransformMatrix(o,n,r,a),o}},{key:"getAdjustedBB",value:function(n,r,a,o){var l=n.x1,u=n.y1,h=n.w,f=n.h;r&&(l-=r,u-=r,h+=2*r,f+=2*r);var d=0,p=h*o;return a&&o<1?h=p:!a&&o<1&&(d=h-p,l+=d,h=p),{x1:l,y1:u,w:h,h:f,xOffset:d}}},{key:"getDebugInfo",value:function(){var n=[],r=Mo(this.renderTypes),a;try{for(r.s();!(a=r.n()).done;){var o=sa(a.value,2),l=o[0],u=o[1],h=u.atlasCollection.getCounts(),f=h.keyCount,d=h.atlasCount;n.push({type:l,keyCount:f,atlasCount:d})}}catch(p){r.e(p)}finally{r.f()}return n}}]),e}(),Gk=0,VX=1,qX=2,zk=3,POt=function(){function e(t,n,r){Lf(this,e),this.r=t,this.gl=n,this.maxInstances=r.webglBatchSize,this.maxAtlases=r.webglTexPerBatch,this.atlasSize=r.webglTexSize,this.bgColor=r.bgColor,r.enableWrapping=!0,r.createTextureCanvas=xOt,this.atlasManager=new MOt(t,r),this.program=this.createShaderProgram(sb.SCREEN),this.pickingProgram=this.createShaderProgram(sb.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return _f(e,[{key:"addTextureRenderType",value:function(n,r){this.atlasManager.addRenderType(n,r)}},{key:"invalidate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.type,o=this.atlasManager;return a?o.invalidate(n,{filterType:function(u){return u===a},forceRedraw:!0}):o.invalidate(n)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(n){var r=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Gk,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(VX,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(qX,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(zk,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),o=this.atlasManager.getIndexArray(),l=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(o.map(function(f){return"uniform sampler2D uTexture".concat(f,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Gk,`) {
          `).concat(o.map(function(f){return"if(vAtlasId == ".concat(f,") outColor = texture(uTexture").concat(f,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(zk,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(n.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=wOt(r,a,l);u.aPosition=r.getAttribLocation(u,"aPosition"),u.aIndex=r.getAttribLocation(u,"aIndex"),u.aVertType=r.getAttribLocation(u,"aVertType"),u.aAtlasId=r.getAttribLocation(u,"aAtlasId"),u.aTex1=r.getAttribLocation(u,"aTex1"),u.aTex2=r.getAttribLocation(u,"aTex2"),u.aScaleRotate1=r.getAttribLocation(u,"aScaleRotate1"),u.aTranslate1=r.getAttribLocation(u,"aTranslate1"),u.aScaleRotate2=r.getAttribLocation(u,"aScaleRotate2"),u.aTranslate2=r.getAttribLocation(u,"aTranslate2"),u.aPointAPointB=r.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=r.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=r.getAttribLocation(u,"aLineWidth"),u.aEdgeColor=r.getAttribLocation(u,"aEdgeColor"),u.uPanZoomMatrix=r.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=r.getUniformLocation(u,"uAtlasSize"),u.uBGColor=r.getUniformLocation(u,"uBGColor"),u.uTextures=[];for(var h=0;h<this.atlasManager.maxAtlases;h++)u.uTextures.push(r.getUniformLocation(u,"uTexture".concat(h)));return u}},{key:"createVAO",value:function(){var n=[0,0,1,0,1,1,0,0,1,1,0,1],r=[].concat(n,n);this.vertexCount=r.length/2;var a=this.maxInstances,o=this.gl,l=this.program,u=o.createVertexArray();return o.bindVertexArray(u),ROt(o,"vec2",l.aPosition,r),this.indexBuffer=wo(o,a,"vec4",l.aIndex),this.vertTypeBuffer=wo(o,a,"int",l.aVertType),this.atlasIdBuffer=wo(o,a,"int",l.aAtlasId),this.tex1Buffer=wo(o,a,"vec4",l.aTex1),this.tex2Buffer=wo(o,a,"vec4",l.aTex2),this.scaleRotate1Buffer=wo(o,a,"vec4",l.aScaleRotate1),this.translate1Buffer=wo(o,a,"vec2",l.aTranslate1),this.scaleRotate2Buffer=wo(o,a,"vec4",l.aScaleRotate2),this.translate2Buffer=wo(o,a,"vec2",l.aTranslate2),this.pointAPointBBuffer=wo(o,a,"vec4",l.aPointAPointB),this.pointCPointDBuffer=wo(o,a,"vec4",l.aPointCPointD),this.lineWidthBuffer=wo(o,a,"float",l.aLineWidth),this.edgeColorBuffer=wo(o,a,"vec4",l.aEdgeColor),o.bindVertexArray(null),u}},{key:"buffers",get:function(){var n=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return r.endsWith("Buffer")}).map(function(r){return n[r]})),this._buffers}},{key:"startFrame",value:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sb.SCREEN;this.panZoomMatrix=n,this.debugInfo=r,this.renderTarget=a,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||ab()}},{key:"drawTexture",value:function(n,r,a){var o=this.atlasManager;if(o.isRenderable(n,a)){o.canAddToCurrentBatch(n,a)||this.endBatch();var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=Gk;var u=this.indexBuffer.getView(l);D3(r,u);var h=o.getAtlasInfo(n,a,h),f=h.atlasID,d=h.tex1,p=h.tex2,g=this.atlasIdBuffer.getView(l);g[0]=f;var m=this.tex1Buffer.getView(l);m[0]=d.x,m[1]=d.y,m[2]=d.w,m[3]=d.h;var y=this.tex2Buffer.getView(l);y[0]=p.x,y[1]=p.y,y[2]=p.w,y[3]=p.h;for(var b=this.getTempMatrix(),T=0,E=[1,2];T<E.length;T++){var w=E[T];o.setTransformMatrix(b,h,n,w===1);var x=this["scaleRotate".concat(w,"Buffer")].getView(l);x[0]=b[0],x[1]=b[1],x[2]=b[3],x[3]=b[4];var S=this["translate".concat(w,"Buffer")].getView(l);S[0]=b[6],S[1]=b[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(n,r,a){var o=n._private.rscratch,l,u,h;if(a==="source"?(l=o.arrowStartX,u=o.arrowStartY,h=o.srcArrowAngle):(l=o.arrowEndX,u=o.arrowEndY,h=o.tgtArrowAngle),!(isNaN(l)||l==null||isNaN(u)||u==null||isNaN(h)||h==null)){var f=n.pstyle(a+"-arrow-shape").value;if(f!=="none"){var d=n.pstyle(a+"-arrow-color").value,p=n.pstyle("opacity").value,g=n.pstyle("line-opacity").value,m=p*g,y=n.pstyle("width").pfValue,b=n.pstyle("arrow-scale").value,T=this.r.getArrowWidth(y,b),E=this.getTempMatrix();Lve(E),k5(E,E,[l,u]),oF(E,E,[T,T]),_ve(E,E,h);var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=zk;var x=this.indexBuffer.getView(w);D3(r,x);var S=this.edgeColorBuffer.getView(w);_3(d,m,S);var A=this.scaleRotate1Buffer.getView(w);A[0]=E[0],A[1]=E[1],A[2]=E[3],A[3]=E[4];var R=this.translate1Buffer.getView(w);R[0]=E[6],R[1]=E[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(n,r){var a=n.pstyle("opacity").value,o=n.pstyle("line-opacity").value,l=n.pstyle("width").pfValue,u=n.pstyle("line-color").value,h=a*o,f=this.getEdgePoints(n);if(f.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),f.length==4){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=VX;var p=this.indexBuffer.getView(d);D3(r,p);var g=this.edgeColorBuffer.getView(d);_3(u,h,g);var m=this.lineWidthBuffer.getView(d);m[0]=l;var y=this.pointAPointBBuffer.getView(d);y[0]=f[0],y[1]=f[1],y[2]=f[2],y[3]=f[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var b=0;b<f.length-2;b+=2){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=qX;var E=this.indexBuffer.getView(T);D3(r,E);var w=this.edgeColorBuffer.getView(T);_3(u,h,w);var x=this.lineWidthBuffer.getView(T);x[0]=l;var S=f[b-2],A=f[b-1],R=f[b],C=f[b+1],N=f[b+2],O=f[b+3],L=f[b+4],k=f[b+5];b==0&&(S=2*R-N+.001,A=2*C-O+.001),b==f.length-4&&(L=2*N-R+.001,k=2*O-C+.001);var M=this.pointAPointBBuffer.getView(T);M[0]=S,M[1]=A,M[2]=R,M[3]=C;var $=this.pointCPointDBuffer.getView(T);$[0]=N,$[1]=O,$[2]=L,$[3]=k,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(n){var r=n._private.rscratch,a=r.allpts;if(a.length==4)return a;var o=this.getNumSegments(n);return this.getCurveSegmentPoints(a,o)}},{key:"getNumSegments",value:function(n){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(n,r){if(n.length==4)return n;for(var a=Array((r+1)*2),o=0;o<=r;o++)if(o==0)a[0]=n[0],a[1]=n[1];else if(o==r)a[o*2]=n[n.length-2],a[o*2+1]=n[n.length-1];else{var l=o/r;this.setCurvePoint(n,l,a,o*2)}return a}},{key:"setCurvePoint",value:function(n,r,a,o){if(n.length<=2)a[o]=n[0],a[o+1]=n[1];else{for(var l=Array(n.length-2),u=0;u<l.length;u+=2){var h=(1-r)*n[u]+r*n[u+2],f=(1-r)*n[u+1]+r*n[u+3];l[u]=h,l[u+1]=f}return this.setCurvePoint(l,r,a,o)}}},{key:"endBatch",value:function(){var n=this.gl,r=this.vao,a=this.vertexCount,o=this.instanceCount;if(o!==0){var l=this.renderTarget.picking?this.pickingProgram:this.program;n.useProgram(l),n.bindVertexArray(r);var u=Mo(this.buffers),h;try{for(u.s();!(h=u.n()).done;){var f=h.value;f.bufferSubData(o)}}catch(y){u.e(y)}finally{u.f()}for(var d=this.atlasManager.getAtlases(),p=0;p<d.length;p++)d[p].bufferIfNeeded(n);for(var g=0;g<d.length;g++)n.activeTexture(n.TEXTURE0+g),n.bindTexture(n.TEXTURE_2D,d[g].texture),n.uniform1i(l.uTextures[g],g);n.uniformMatrix3fv(l.uPanZoomMatrix,!1,this.panZoomMatrix),n.uniform1i(l.uAtlasSize,this.atlasManager.atlasSize);var m=_3(this.bgColor,1);n.uniform4fv(l.uBGColor,m),n.drawArraysInstanced(n.TRIANGLES,0,a,o),n.bindVertexArray(null),n.bindTexture(n.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:o,atlasCount:d.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),e}();function jX(e,t){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(t,")")}var FOt=function(){function e(t){Lf(this,e),this.r=t}return _f(e,[{key:"getStyleKey",value:function(n,r){var a=this.getStyle(n,r),o=a.shape,l=a.opacity,u=a.color;if(!o)return null;var h=r.width(),f=r.height(),d=jX(u,l);return hf("".concat(o,"-").concat(h,"-").concat(f,"-").concat(d))}},{key:"isVisible",value:function(n,r){var a=r.pstyle("".concat(n,"-opacity")).value;return a>0}},{key:"getStyle",value:function(n,r){var a=r.pstyle("".concat(n,"-opacity")).value,o=r.pstyle("".concat(n,"-color")).value,l=r.pstyle("".concat(n,"-shape")).value;return{opacity:a,color:o,shape:l}}},{key:"getPadding",value:function(n,r){return r.pstyle("".concat(n,"-padding")).pfValue}},{key:"draw",value:function(n,r,a,o){if(this.isVisible(n,a)){var l=this.r,u=o.w,h=o.h,f=u/2,d=h/2,p=this.getStyle(n,a),g=p.shape,m=p.color,y=p.opacity;r.save(),r.fillStyle=jX(m,y),g==="round-rectangle"||g==="roundrectangle"?l.drawRoundRectanglePath(r,f,d,u,h,"auto"):g==="ellipse"&&l.drawEllipsePath(r,f,d,u,h),r.fill(),r.restore()}}}]),e}();function BOt(e){var t=e&&e.style&&e.style.backgroundColor||"white";return sme(t)}var Dve={};Dve.initWebgl=function(e,t){var n=this,r=n.data.contexts[n.WEBGL],a=e.cy.container();e.bgColor=BOt(a),e.webglTexSize=Math.min(e.webglTexSize,r.getParameter(r.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=e.webglDebug,n.webglDebugShowAtlases=e.webglDebugShowAtlases,console.log("max texture units",r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",r.getParameter(r.MAX_TEXTURE_SIZE)),console.log("webgl options",e),n.pickingFrameBuffer=kOt(r),n.pickingFrameBuffer.needsDraw=!0;var o=function(d){return n.getTextAngle(d,null)},l=function(d){var p=d.pstyle("label");return p&&p.value};n.eleDrawing=new POt(n,r,e);var u=new FOt(n);n.eleDrawing.addTextureRenderType("node-body",Qy({getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement,isVisible:function(d){return d.visible()}})),n.eleDrawing.addTextureRenderType("node-label",Qy({getKey:t.getLabelKey,getBoundingBox:t.getLabelBox,drawElement:t.drawLabel,getRotation:o,getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:l})),n.eleDrawing.addTextureRenderType("node-overlay",Qy({getBoundingBox:t.getElementBox,getKey:function(d){return u.getStyleKey("overlay",d)},drawElement:function(d,p,g){return u.draw("overlay",d,p,g)},isVisible:function(d){return u.isVisible("overlay",d)},getPadding:function(d){return u.getPadding("overlay",d)}})),n.eleDrawing.addTextureRenderType("node-underlay",Qy({getBoundingBox:t.getElementBox,getKey:function(d){return u.getStyleKey("underlay",d)},drawElement:function(d,p,g){return u.draw("underlay",d,p,g)},isVisible:function(d){return u.isVisible("underlay",d)},getPadding:function(d){return u.getPadding("underlay",d)}})),n.eleDrawing.addTextureRenderType("edge-label",Qy({getKey:t.getLabelKey,getBoundingBox:t.getLabelBox,drawElement:t.drawLabel,getRotation:o,getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:l}));var h=GE(function(){console.log("garbage collect flag set"),n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(f,d){var p=!1;d&&d.length>0&&(p|=n.eleDrawing.invalidate(d)),p&&h()}),HOt(n)};function HOt(e){{var t=e.render;e.render=function(o){o=o||{};var l=e.cy;e.webgl&&(l.zoom()>Ave?($Ot(e),t.call(e,o)):(WOt(e),Pve(e,o,sb.SCREEN)))}}{var n=e.matchCanvasSize;e.matchCanvasSize=function(o){n.call(e,o),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(o,l,u,h){return qOt(e,o,l)};{var r=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){r.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var a=e.notify;e.notify=function(o,l){a.call(e,o,l),o==="viewport"||o==="bounds"?e.pickingFrameBuffer.needsDraw=!0:o==="background"&&e.eleDrawing.invalidate(l,{type:"node-body"})}}}function $Ot(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function WOt(e){var t=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.canvasWidth,e.canvasHeight),r.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function UOt(e){var t=e.canvasWidth,n=e.canvasHeight,r=sF(e),a=r.pan,o=r.zoom,l=ab();k5(l,l,[a.x,a.y]),oF(l,l,[o,o]);var u=ab();NOt(u,t,n);var h=ab();return OOt(h,u,l),h}function Mve(e,t){var n=e.canvasWidth,r=e.canvasHeight,a=sF(e),o=a.pan,l=a.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n,r),t.translate(o.x,o.y),t.scale(l,l)}function GOt(e,t){e.drawSelectionRectangle(t,function(n){return Mve(e,n)})}function zOt(e){var t=e.data.contexts[e.NODE];t.save(),Mve(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function YOt(e){var t=function(a,o,l){for(var u=a.atlasManager.getRenderTypeOpts(o),h=e.data.contexts[e.NODE],f=.125,d=u.atlasCollection.atlases,p=0;p<d.length;p++){var g=d[p],m=g.canvas,y=m.width,b=m.height,T=y*p,E=m.height*l;h.save(),h.scale(f,f),h.drawImage(m,T,E),h.strokeStyle="black",h.rect(T,E,y,b),h.stroke(),h.restore()}},n=0;t(e.eleDrawing,"node-body",n++),t(e.eleDrawing,"node-label",n++)}function VOt(e,t,n,r,a){var o,l,u,h,f=sF(e),d=f.pan,p=f.zoom;{var g=SOt(e,d,p,t,n),m=sa(g,2),y=m[0],b=m[1],T=6;o=y-T/2,l=b-T/2,u=T,h=T}if(u===0||h===0)return[];var E=e.data.contexts[e.WEBGL];E.bindFramebuffer(E.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(E.viewport(0,0,E.canvas.width,E.canvas.height),Pve(e,null,sb.PICKING),e.pickingFrameBuffer.needsDraw=!1);var w=u*h,x=new Uint8Array(w*4);E.readPixels(o,l,u,h,E.RGBA,E.UNSIGNED_BYTE,x),E.bindFramebuffer(E.FRAMEBUFFER,null);for(var S=new Set,A=0;A<w;A++){var R=x.slice(A*4,A*4+4),C=AOt(R)-1;C>=0&&S.add(C)}return S}function qOt(e,t,n){var r=VOt(e,t,n),a=e.getCachedZSortedEles(),o,l,u=Mo(r),h;try{for(u.s();!(h=u.n()).done;){var f=h.value,d=a[f];if(!o&&d.isNode()&&(o=d),!l&&d.isEdge()&&(l=d),o&&l)break}}catch(p){u.e(p)}finally{u.f()}return[o,l].filter(Boolean)}function Pve(e,t,n){var r,a;e.webglDebug&&(a=[],r=performance.now());var o=e.eleDrawing,l=0;if(n.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&GOt(e,t),e.data.canvasNeedsRedraw[e.NODE]||n.picking){var u=function(M,$){$+=1,M.isNode()?(o.drawTexture(M,$,"node-underlay"),o.drawTexture(M,$,"node-body"),o.drawTexture(M,$,"node-label"),o.drawTexture(M,$,"node-overlay")):(o.drawEdgeLine(M,$),o.drawEdgeArrow(M,$,"source"),o.drawEdgeArrow(M,$,"target"),o.drawTexture(M,$,"edge-label"))},h=e.data.contexts[e.WEBGL];n.screen?(h.clearColor(0,0,0,0),h.enable(h.BLEND),h.blendFunc(h.ONE,h.ONE_MINUS_SRC_ALPHA)):h.disable(h.BLEND),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),h.viewport(0,0,h.canvas.width,h.canvas.height);var f=UOt(e),d=e.getCachedZSortedEles();if(l=d.length,o.startFrame(f,a,n),n.screen){for(var p=0;p<d.nondrag.length;p++)u(d.nondrag[p],p);for(var g=0;g<d.drag.length;g++)u(d.drag[g],-1)}else if(n.picking)for(var m=0;m<d.length;m++)u(d[m],m);o.endFrame(),e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,o.gc()),n.screen&&e.webglDebugShowAtlases&&(zOt(e),YOt(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var y=performance.now(),b=!0,T=0,E=0,w=Mo(a),x;try{for(w.s();!(x=w.n()).done;){var S=x.value;T++,E+=S.count}}catch(k){w.e(k)}finally{w.f()}var A=Math.ceil(y-r),R="".concat(l," elements, ").concat(E," rectangles, ").concat(T," batches");if(b)console.log("WebGL (".concat(n.name,") - ").concat(R));else{console.log("WebGL render (".concat(n.name,") - frame time ").concat(A,"ms")),console.log("  ".concat(R)),console.log("Texture Atlases Used:");var C=o.getAtlasDebugInfo(),N=Mo(C),O;try{for(N.s();!(O=N.n()).done;){var L=O.value;console.log("  ".concat(L.type,": ").concat(L.keyCount," keys, ").concat(L.atlasCount," atlases"))}}catch(k){N.e(k)}finally{N.f()}console.log("")}}}var Mf={};Mf.drawPolygonPath=function(e,t,n,r,a,o){var l=r/2,u=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+l*o[0],n+u*o[1]);for(var h=1;h<o.length/2;h++)e.lineTo(t+l*o[h*2],n+u*o[h*2+1]);e.closePath()};Mf.drawRoundPolygonPath=function(e,t,n,r,a,o,l){l.forEach(function(u){return mve(e,u)}),e.closePath()};Mf.drawRoundRectanglePath=function(e,t,n,r,a,o){var l=r/2,u=a/2,h=o==="auto"?wp(r,a):Math.min(o,u,l);e.beginPath&&e.beginPath(),e.moveTo(t,n-u),e.arcTo(t+l,n-u,t+l,n,h),e.arcTo(t+l,n+u,t,n+u,h),e.arcTo(t-l,n+u,t-l,n,h),e.arcTo(t-l,n-u,t,n-u,h),e.lineTo(t,n-u),e.closePath()};Mf.drawBottomRoundRectanglePath=function(e,t,n,r,a,o){var l=r/2,u=a/2,h=o==="auto"?wp(r,a):o;e.beginPath&&e.beginPath(),e.moveTo(t,n-u),e.lineTo(t+l,n-u),e.lineTo(t+l,n),e.arcTo(t+l,n+u,t,n+u,h),e.arcTo(t-l,n+u,t-l,n,h),e.lineTo(t-l,n-u),e.lineTo(t,n-u),e.closePath()};Mf.drawCutRectanglePath=function(e,t,n,r,a,o,l){var u=r/2,h=a/2,f=l==="auto"?YP():l;e.beginPath&&e.beginPath(),e.moveTo(t-u+f,n-h),e.lineTo(t+u-f,n-h),e.lineTo(t+u,n-h+f),e.lineTo(t+u,n+h-f),e.lineTo(t+u-f,n+h),e.lineTo(t-u+f,n+h),e.lineTo(t-u,n+h-f),e.lineTo(t-u,n-h+f),e.closePath()};Mf.drawBarrelPath=function(e,t,n,r,a){var o=r/2,l=a/2,u=t-o,h=t+o,f=n-l,d=n+l,p=z7(r,a),g=p.widthOffset,m=p.heightOffset,y=p.ctrlPtOffsetPct*g;e.beginPath&&e.beginPath(),e.moveTo(u,f+m),e.lineTo(u,d-m),e.quadraticCurveTo(u+y,d,u+g,d),e.lineTo(h-g,d),e.quadraticCurveTo(h-y,d,h,d-m),e.lineTo(h,f+m),e.quadraticCurveTo(h-y,f,h-g,f),e.lineTo(u+g,f),e.quadraticCurveTo(u+y,f,u,f+m),e.closePath()};var XX=Math.sin(0),KX=Math.cos(0),nL={},rL={},Fve=Math.PI/40;for(var xg=0*Math.PI;xg<2*Math.PI;xg+=Fve)nL[xg]=Math.sin(xg),rL[xg]=Math.cos(xg);Mf.drawEllipsePath=function(e,t,n,r,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,a/2,0,0,2*Math.PI);else for(var o,l,u=r/2,h=a/2,f=0*Math.PI;f<2*Math.PI;f+=Fve)o=t-u*nL[f]*XX+u*rL[f]*KX,l=n+h*rL[f]*XX+h*nL[f]*KX,f===0?e.moveTo(o,l):e.lineTo(o,l);e.closePath()};var XE={};XE.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]};XE.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements(),r=n.boundingBox(),a=this.findContainerClientCoords(),o=e.full?Math.ceil(r.w):a[2],l=e.full?Math.ceil(r.h):a[3],u=Tt(e.maxWidth)||Tt(e.maxHeight),h=this.getPixelRatio(),f=1;if(e.scale!==void 0)o*=e.scale,l*=e.scale,f=e.scale;else if(u){var d=1/0,p=1/0;Tt(e.maxWidth)&&(d=f*e.maxWidth/o),Tt(e.maxHeight)&&(p=f*e.maxHeight/l),f=Math.min(d,p),o*=f,l*=f}u||(o*=h,l*=h,f*=h);var g=document.createElement("canvas");g.width=o,g.height=l,g.style.width=o+"px",g.style.height=l+"px";var m=g.getContext("2d");if(o>0&&l>0){m.clearRect(0,0,o,l),m.globalCompositeOperation="source-over";var y=this.getCachedZSortedEles();if(e.full)m.translate(-r.x1*f,-r.y1*f),m.scale(f,f),this.drawElements(m,y),m.scale(1/f,1/f),m.translate(r.x1*f,r.y1*f);else{var b=t.pan(),T={x:b.x*f,y:b.y*f};f*=t.zoom(),m.translate(T.x,T.y),m.scale(f,f),this.drawElements(m,y),m.scale(1/f,1/f),m.translate(-T.x,-T.y)}e.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=e.bg,m.rect(0,0,o,l),m.fill())}return g};function jOt(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r),o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return new Blob([r],{type:t})}function ZX(e){var t=e.indexOf(",");return e.substr(t+1)}function Bve(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Xv(function(a,o){try{t.toBlob(function(l){l!=null?a(l):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(l){o(l)}});case"blob":return jOt(ZX(r()),n);case"base64":return ZX(r());case"base64uri":default:return r()}}XE.png=function(e){return Bve(e,this.bufferCanvasImage(e),"image/png")};XE.jpg=function(e){return Bve(e,this.bufferCanvasImage(e),"image/jpeg")};var Hve={};Hve.nodeShapeImpl=function(e,t,n,r,a,o,l,u){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,a,o);case"polygon":return this.drawPolygonPath(t,n,r,a,o,l);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,a,o,l,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,a,o,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,a,o,l,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,a,o,u);case"barrel":return this.drawBarrelPath(t,n,r,a,o)}};var XOt=$ve,Tn=$ve.prototype;Tn.CANVAS_LAYERS=3;Tn.SELECT_BOX=0;Tn.DRAG=1;Tn.NODE=2;Tn.WEBGL=3;Tn.CANVAS_TYPES=["2d","2d","2d","webgl2"];Tn.BUFFER_COUNT=3;Tn.TEXTURE_BUFFER=0;Tn.MOTIONBLUR_BUFFER_NODE=1;Tn.MOTIONBLUR_BUFFER_DRAG=2;function $ve(e){var t=this,n=t.cy.window(),r=n.document;e.webgl&&(Tn.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Tn.CANVAS_LAYERS),contexts:new Array(Tn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Tn.CANVAS_LAYERS),bufferCanvases:new Array(Tn.BUFFER_COUNT),bufferContexts:new Array(Tn.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";t.data.canvasContainer=r.createElement("div");var l=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=o,l.position="relative",l.zIndex="0",l.overflow="hidden";var u=e.cy.container();u.appendChild(t.data.canvasContainer),u.style[a]=o;var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};p5t()&&(h["-ms-touch-action"]="none",h["touch-action"]="none");for(var f=0;f<Tn.CANVAS_LAYERS;f++){var d=t.data.canvases[f]=r.createElement("canvas"),p=Tn.CANVAS_TYPES[f];t.data.contexts[f]=d.getContext(p),t.data.contexts[f]||Vr("Could not create canvas of type "+p),Object.keys(h).forEach(function(Y){d.style[Y]=h[Y]}),d.style.position="absolute",d.setAttribute("data-id","layer"+f),d.style.zIndex=String(Tn.CANVAS_LAYERS-f),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[f]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Tn.NODE].setAttribute("data-id","layer"+Tn.NODE+"-node"),t.data.canvases[Tn.SELECT_BOX].setAttribute("data-id","layer"+Tn.SELECT_BOX+"-selectbox"),t.data.canvases[Tn.DRAG].setAttribute("data-id","layer"+Tn.DRAG+"-drag"),t.data.canvases[Tn.WEBGL]&&t.data.canvases[Tn.WEBGL].setAttribute("data-id","layer"+Tn.WEBGL+"-webgl");for(var f=0;f<Tn.BUFFER_COUNT;f++)t.data.bufferCanvases[f]=r.createElement("canvas"),t.data.bufferContexts[f]=t.data.bufferCanvases[f].getContext("2d"),t.data.bufferCanvases[f].style.position="absolute",t.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),t.data.bufferCanvases[f].style.zIndex=String(-f-1),t.data.bufferCanvases[f].style.visibility="hidden";t.pathsEnabled=!0;var g=ho(),m=function(K){return{x:(K.x1+K.x2)/2,y:(K.y1+K.y2)/2}},y=function(K){return{x:-K.w/2,y:-K.h/2}},b=function(K){var Z=K[0]._private,z=Z.oldBackgroundTimestamp===Z.backgroundTimestamp;return!z},T=function(K){return K[0]._private.nodeKey},E=function(K){return K[0]._private.labelStyleKey},w=function(K){return K[0]._private.sourceLabelStyleKey},x=function(K){return K[0]._private.targetLabelStyleKey},S=function(K,Z,z,X,te){return t.drawElement(K,Z,z,!1,!1,te)},A=function(K,Z,z,X,te){return t.drawElementText(K,Z,z,X,"main",te)},R=function(K,Z,z,X,te){return t.drawElementText(K,Z,z,X,"source",te)},C=function(K,Z,z,X,te){return t.drawElementText(K,Z,z,X,"target",te)},N=function(K){return K.boundingBox(),K[0]._private.bodyBounds},O=function(K){return K.boundingBox(),K[0]._private.labelBounds.main||g},L=function(K){return K.boundingBox(),K[0]._private.labelBounds.source||g},k=function(K){return K.boundingBox(),K[0]._private.labelBounds.target||g},M=function(K,Z){return Z},$=function(K){return m(N(K))},_=function(K,Z,z){var X=K?K+"-":"";return{x:Z.x+z.pstyle(X+"text-margin-x").pfValue,y:Z.y+z.pstyle(X+"text-margin-y").pfValue}},F=function(K,Z,z){var X=K[0]._private.rscratch;return{x:X[Z],y:X[z]}},B=function(K){return _("",F(K,"labelX","labelY"),K)},D=function(K){return _("source",F(K,"sourceLabelX","sourceLabelY"),K)},P=function(K){return _("target",F(K,"targetLabelX","targetLabelY"),K)},H=function(K){return y(N(K))},W=function(K){return y(L(K))},U=function(K){return y(k(K))},V=function(K){var Z=O(K),z=y(O(K));if(K.isNode()){switch(K.pstyle("text-halign").value){case"left":z.x=-Z.w-(Z.leftPad||0);break;case"right":z.x=-(Z.rightPad||0);break}switch(K.pstyle("text-valign").value){case"top":z.y=-Z.h-(Z.topPad||0);break;case"bottom":z.y=-(Z.botPad||0);break}}return z},G=t.data.eleTxrCache=new x2(t,{getKey:T,doesEleInvalidateKey:b,drawElement:S,getBoundingBox:N,getRotationPoint:$,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=t.data.lblTxrCache=new x2(t,{getKey:E,drawElement:A,getBoundingBox:O,getRotationPoint:B,getRotationOffset:V,isVisible:M}),ce=t.data.slbTxrCache=new x2(t,{getKey:w,drawElement:R,getBoundingBox:L,getRotationPoint:D,getRotationOffset:W,isVisible:M}),Q=t.data.tlbTxrCache=new x2(t,{getKey:x,drawElement:C,getBoundingBox:k,getRotationPoint:P,getRotationOffset:U,isVisible:M}),re=t.data.lyrTxrCache=new Ive(t);t.onUpdateEleCalcs(function(K,Z){G.invalidateElements(Z),ee.invalidateElements(Z),ce.invalidateElements(Z),Q.invalidateElements(Z),re.invalidateElements(Z);for(var z=0;z<Z.length;z++){var X=Z[z]._private;X.oldBackgroundTimestamp=X.backgroundTimestamp}});var le=function(K){for(var Z=0;Z<K.length;Z++)re.enqueueElementRefinement(K[Z].ele)};G.onDequeue(le),ee.onDequeue(le),ce.onDequeue(le),Q.onDequeue(le),e.webgl&&t.initWebgl(e,{getStyleKey:T,getLabelKey:E,drawElement:S,drawLabel:A,getElementBox:N,getLabelBox:O,getElementRotationPoint:$,getElementRotationOffset:H,getLabelRotationPoint:B,getLabelRotationOffset:V})}Tn.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[Tn.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[Tn.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[Tn.SELECT_BOX]=t;break;case"gc":n.data.gc=!0;break}};var KOt=typeof Path2D<"u";Tn.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Tn.usePaths=function(){return KOt&&this.pathsEnabled};Tn.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Tn.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Tn.makeOffscreenCanvas=function(e,t){var n;if((typeof OffscreenCanvas>"u"?"undefined":Zi(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(e,t);else{var r=this.cy.window(),a=r.document;n=a.createElement("canvas"),n.width=e,n.height=t}return n};[Cve,Du,Zh,aF,Xp,ry,Fs,Dve,Mf,XE,Hve].forEach(function(e){en(Tn,e)});var ZOt=[{name:"null",impl:dve},{name:"base",impl:xve},{name:"canvas",impl:XOt}],QOt=[{type:"layout",extensions:_kt},{type:"renderer",extensions:ZOt}],Wve={},Uve={};function Gve(e,t,n){var r=n,a=function(N){er("Can not register `"+t+"` for `"+e+"` since `"+N+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(CT.prototype[t])return a(t);CT.prototype[t]=n}else if(e==="collection"){if(ka.prototype[t])return a(t);ka.prototype[t]=n}else if(e==="layout"){for(var o=function(N){this.options=N,n.call(this,N),Hn(this._private)||(this._private={}),this._private.cy=N.cy,this._private.listeners=[],this.createEmitter()},l=o.prototype=Object.create(n.prototype),u=[],h=0;h<u.length;h++){var f=u[h];l[f]=l[f]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var d=n.prototype.stop;l.stop=function(){var C=this.options;if(C&&C.animate){var N=this.animations;if(N)for(var O=0;O<N.length;O++)N[O].stop()}return d?d.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var p=function(N){return N._private.cy},g={addEventFields:function(N,O){O.layout=N,O.cy=p(N),O.target=N},bubble:function(){return!0},parent:function(N){return p(N)}};en(l,{createEmitter:function(){return this._private.emitter=new gI(g,this),this},emitter:function(){return this._private.emitter},on:function(N,O){return this.emitter().on(N,O),this},one:function(N,O){return this.emitter().one(N,O),this},once:function(N,O){return this.emitter().one(N,O),this},removeListener:function(N,O){return this.emitter().removeListener(N,O),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(N,O){return this.emitter().emit(N,O),this}}),Zn.eventAliasesOn(l),r=o}else if(e==="renderer"&&t!=="null"&&t!=="base"){var m=zve("renderer","base"),y=m.prototype,b=n,T=n.prototype,E=function(){m.apply(this,arguments),b.apply(this,arguments)},w=E.prototype;for(var x in y){var S=y[x],A=T[x]!=null;if(A)return a(x);w[x]=S}for(var R in T)w[R]=T[R];y.clientFunctions.forEach(function(C){w[C]=w[C]||function(){Vr("Renderer does not implement `renderer."+C+"()` on its prototype")}}),r=E}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Vr(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return ome({map:Wve,keys:[e,t],value:r})}function zve(e,t){return lme({map:Wve,keys:[e,t]})}function JOt(e,t,n,r,a){return ome({map:Uve,keys:[e,t,n,r],value:a})}function eNt(e,t,n,r){return lme({map:Uve,keys:[e,t,n,r]})}var iL=function(){if(arguments.length===2)return zve.apply(null,arguments);if(arguments.length===3)return Gve.apply(null,arguments);if(arguments.length===4)return eNt.apply(null,arguments);if(arguments.length===5)return JOt.apply(null,arguments);Vr("Invalid extension access syntax")};CT.prototype.extension=iL;QOt.forEach(function(e){e.extensions.forEach(function(t){Gve(e.type,t.name,t.impl)})});var Yve=function e(){if(!(this instanceof e))return new e;this.length=0},Ap=Yve.prototype;Ap.instanceString=function(){return"stylesheet"};Ap.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Ap.css=function(e,t){var n=this.length-1;if(zt(e))this[n].properties.push({name:e,value:t});else if(Hn(e))for(var r=e,a=Object.keys(r),o=0;o<a.length;o++){var l=a[o],u=r[l];if(u!=null){var h=es.properties[l]||es.properties[sI(l)];if(h!=null){var f=h.name,d=u;this[n].properties.push({name:f,value:d})}}}return this};Ap.style=Ap.css;Ap.generateStyle=function(e){var t=new es(e);return this.appendToStyle(t)};Ap.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,a=n.properties;e.selector(r);for(var o=0;o<a.length;o++){var l=a[o];e.css(l.name,l.value)}}return e};var tNt="3.31.0",bu=function(t){if(t===void 0&&(t={}),Hn(t))return new CT(t);if(zt(t))return iL.apply(iL,arguments)};bu.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(bu),e.apply(null,t),this};bu.warnings=function(e){return mme(e)};bu.version=tNt;bu.stylesheet=bu.Stylesheet=Yve;var Vve={exports:{}},Yk={exports:{}},Vk={exports:{}},QX;function nNt(){return QX||(QX=1,function(e,t){(function(r,a){e.exports=a()})(Cs,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=n,a.c=r,a.i=function(o){return o},a.d=function(o,l,u){a.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=26)}([function(n,r,a){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,n.exports=o},function(n,r,a){var o=a(2),l=a(8),u=a(9);function h(d,p,g){o.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}h.prototype=Object.create(o.prototype);for(var f in o)h[f]=o[f];h.prototype.getSource=function(){return this.source},h.prototype.getTarget=function(){return this.target},h.prototype.isInterGraph=function(){return this.isInterGraph},h.prototype.getLength=function(){return this.length},h.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},h.prototype.getBendpoints=function(){return this.bendpoints},h.prototype.getLca=function(){return this.lca},h.prototype.getSourceInLca=function(){return this.sourceInLca},h.prototype.getTargetInLca=function(){return this.targetInLca},h.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},h.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),m=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==m)break;g=g.getOwner().getParent()}return null},h.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=l.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},h.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=h},function(n,r,a){function o(l){this.vGraphObject=l}n.exports=o},function(n,r,a){var o=a(2),l=a(10),u=a(13),h=a(0),f=a(16),d=a(4);function p(m,y,b,T){b==null&&T==null&&(T=y),o.call(this,T),m.graphManager!=null&&(m=m.graphManager),this.estimatedSize=l.MIN_VALUE,this.inclusionTreeDepth=l.MAX_VALUE,this.vGraphObject=T,this.edges=[],this.graphManager=m,b!=null&&y!=null?this.rect=new u(y.x,y.y,b.width,b.height):this.rect=new u}p.prototype=Object.create(o.prototype);for(var g in o)p[g]=o[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(m){this.rect.width=m},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(m){this.rect.height=m},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(m,y){this.rect.x=m.x,this.rect.y=m.y,this.rect.width=y.width,this.rect.height=y.height},p.prototype.setCenter=function(m,y){this.rect.x=m-this.rect.width/2,this.rect.y=y-this.rect.height/2},p.prototype.setLocation=function(m,y){this.rect.x=m,this.rect.y=y},p.prototype.moveBy=function(m,y){this.rect.x+=m,this.rect.y+=y},p.prototype.getEdgeListToNode=function(m){var y=[],b=this;return b.edges.forEach(function(T){if(T.target==m){if(T.source!=b)throw"Incorrect edge source!";y.push(T)}}),y},p.prototype.getEdgesBetween=function(m){var y=[],b=this;return b.edges.forEach(function(T){if(!(T.source==b||T.target==b))throw"Incorrect edge source and/or target";(T.target==m||T.source==m)&&y.push(T)}),y},p.prototype.getNeighborsList=function(){var m=new Set,y=this;return y.edges.forEach(function(b){if(b.source==y)m.add(b.target);else{if(b.target!=y)throw"Incorrect incidency!";m.add(b.source)}}),m},p.prototype.withChildren=function(){var m=new Set,y,b;if(m.add(this),this.child!=null)for(var T=this.child.getNodes(),E=0;E<T.length;E++)y=T[E],b=y.withChildren(),b.forEach(function(w){m.add(w)});return m},p.prototype.getNoOfChildren=function(){var m=0,y;if(this.child==null)m=1;else for(var b=this.child.getNodes(),T=0;T<b.length;T++)y=b[T],m+=y.getNoOfChildren();return m==0&&(m=1),m},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var m,y,b=-h.INITIAL_WORLD_BOUNDARY,T=h.INITIAL_WORLD_BOUNDARY;m=h.WORLD_CENTER_X+f.nextDouble()*(T-b)+b;var E=-h.INITIAL_WORLD_BOUNDARY,w=h.INITIAL_WORLD_BOUNDARY;y=h.WORLD_CENTER_Y+f.nextDouble()*(w-E)+E,this.rect.x=m,this.rect.y=y},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var m=this.getChild();if(m.updateBounds(!0),this.rect.x=m.getLeft(),this.rect.y=m.getTop(),this.setWidth(m.getRight()-m.getLeft()),this.setHeight(m.getBottom()-m.getTop()),h.NODE_DIMENSIONS_INCLUDE_LABELS){var y=m.getRight()-m.getLeft(),b=m.getBottom()-m.getTop();this.labelWidth>y&&(this.rect.x-=(this.labelWidth-y)/2,this.setWidth(this.labelWidth)),this.labelHeight>b&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-b)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-b),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==l.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(m){var y=this.rect.x;y>h.WORLD_BOUNDARY?y=h.WORLD_BOUNDARY:y<-h.WORLD_BOUNDARY&&(y=-h.WORLD_BOUNDARY);var b=this.rect.y;b>h.WORLD_BOUNDARY?b=h.WORLD_BOUNDARY:b<-h.WORLD_BOUNDARY&&(b=-h.WORLD_BOUNDARY);var T=new d(y,b),E=m.inverseTransformPoint(T);this.setLocation(E.x,E.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=p},function(n,r,a){function o(l,u){l==null&&u==null?(this.x=0,this.y=0):(this.x=l,this.y=u)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(l){this.x=l},o.prototype.setY=function(l){this.y=l},o.prototype.getDifference=function(l){return new DimensionD(this.x-l.x,this.y-l.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(l){return this.x+=l.width,this.y+=l.height,this},n.exports=o},function(n,r,a){var o=a(2),l=a(10),u=a(0),h=a(6),f=a(3),d=a(1),p=a(13),g=a(12),m=a(11);function y(T,E,w){o.call(this,w),this.estimatedSize=l.MIN_VALUE,this.margin=u.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=T,E!=null&&E instanceof h?this.graphManager=E:E!=null&&E instanceof Layout&&(this.graphManager=E.graphManager)}y.prototype=Object.create(o.prototype);for(var b in o)y[b]=o[b];y.prototype.getNodes=function(){return this.nodes},y.prototype.getEdges=function(){return this.edges},y.prototype.getGraphManager=function(){return this.graphManager},y.prototype.getParent=function(){return this.parent},y.prototype.getLeft=function(){return this.left},y.prototype.getRight=function(){return this.right},y.prototype.getTop=function(){return this.top},y.prototype.getBottom=function(){return this.bottom},y.prototype.isConnected=function(){return this.isConnected},y.prototype.add=function(T,E,w){if(E==null&&w==null){var x=T;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}else{var S=T;if(!(this.getNodes().indexOf(E)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(E.owner==w.owner&&E.owner==this))throw"Both owners must be this graph!";return E.owner!=w.owner?null:(S.source=E,S.target=w,S.isInterGraph=!1,this.getEdges().push(S),E.edges.push(S),w!=E&&w.edges.push(S),S)}},y.prototype.remove=function(T){var E=T;if(T instanceof f){if(E==null)throw"Node is null!";if(!(E.owner!=null&&E.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=E.edges.slice(),x,S=w.length,A=0;A<S;A++)x=w[A],x.isInterGraph?this.graphManager.remove(x):x.source.owner.remove(x);var R=this.nodes.indexOf(E);if(R==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(T instanceof d){var x=T;if(x==null)throw"Edge is null!";if(!(x.source!=null&&x.target!=null))throw"Source and/or target is null!";if(!(x.source.owner!=null&&x.target.owner!=null&&x.source.owner==this&&x.target.owner==this))throw"Source and/or target owner is invalid!";var C=x.source.edges.indexOf(x),N=x.target.edges.indexOf(x);if(!(C>-1&&N>-1))throw"Source and/or target doesn't know this edge!";x.source.edges.splice(C,1),x.target!=x.source&&x.target.edges.splice(N,1);var R=x.source.owner.getEdges().indexOf(x);if(R==-1)throw"Not in owner's edge list!";x.source.owner.getEdges().splice(R,1)}},y.prototype.updateLeftTop=function(){for(var T=l.MAX_VALUE,E=l.MAX_VALUE,w,x,S,A=this.getNodes(),R=A.length,C=0;C<R;C++){var N=A[C];w=N.getTop(),x=N.getLeft(),T>w&&(T=w),E>x&&(E=x)}return T==l.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?S=A[0].getParent().paddingLeft:S=this.margin,this.left=E-S,this.top=T-S,new g(this.left,this.top))},y.prototype.updateBounds=function(T){for(var E=l.MAX_VALUE,w=-l.MAX_VALUE,x=l.MAX_VALUE,S=-l.MAX_VALUE,A,R,C,N,O,L=this.nodes,k=L.length,M=0;M<k;M++){var $=L[M];T&&$.child!=null&&$.updateBounds(),A=$.getLeft(),R=$.getRight(),C=$.getTop(),N=$.getBottom(),E>A&&(E=A),w<R&&(w=R),x>C&&(x=C),S<N&&(S=N)}var _=new p(E,x,w-E,S-x);E==l.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),L[0].getParent().paddingLeft!=null?O=L[0].getParent().paddingLeft:O=this.margin,this.left=_.x-O,this.right=_.x+_.width+O,this.top=_.y-O,this.bottom=_.y+_.height+O},y.calculateBounds=function(T){for(var E=l.MAX_VALUE,w=-l.MAX_VALUE,x=l.MAX_VALUE,S=-l.MAX_VALUE,A,R,C,N,O=T.length,L=0;L<O;L++){var k=T[L];A=k.getLeft(),R=k.getRight(),C=k.getTop(),N=k.getBottom(),E>A&&(E=A),w<R&&(w=R),x>C&&(x=C),S<N&&(S=N)}var M=new p(E,x,w-E,S-x);return M},y.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},y.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},y.prototype.calcEstimatedSize=function(){for(var T=0,E=this.nodes,w=E.length,x=0;x<w;x++){var S=E[x];T+=S.calcEstimatedSize()}return T==0?this.estimatedSize=u.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=T/Math.sqrt(this.nodes.length),this.estimatedSize},y.prototype.updateConnected=function(){var T=this;if(this.nodes.length==0){this.isConnected=!0;return}var E=new m,w=new Set,x=this.nodes[0],S,A,R=x.withChildren();for(R.forEach(function(M){E.push(M),w.add(M)});E.length!==0;){x=E.shift(),S=x.getEdges();for(var C=S.length,N=0;N<C;N++){var O=S[N];if(A=O.getOtherEndInGraph(x,this),A!=null&&!w.has(A)){var L=A.withChildren();L.forEach(function(M){E.push(M),w.add(M)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var k=0;w.forEach(function(M){M.owner==T&&k++}),k==this.nodes.length&&(this.isConnected=!0)}},n.exports=y},function(n,r,a){var o,l=a(1);function u(h){o=a(5),this.layout=h,this.graphs=[],this.edges=[]}u.prototype.addRoot=function(){var h=this.layout.newGraph(),f=this.layout.newNode(null),d=this.add(h,f);return this.setRootGraph(d),this.rootGraph},u.prototype.add=function(h,f,d,p,g){if(d==null&&p==null&&g==null){if(h==null)throw"Graph is null!";if(f==null)throw"Parent node is null!";if(this.graphs.indexOf(h)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(h),h.parent!=null)throw"Already has a parent!";if(f.child!=null)throw"Already has a child!";return h.parent=f,f.child=h,h}else{g=d,p=f,d=h;var m=p.getOwner(),y=g.getOwner();if(!(m!=null&&m.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(y!=null&&y.getGraphManager()==this))throw"Target not in this graph mgr!";if(m==y)return d.isInterGraph=!1,m.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},u.prototype.remove=function(h){if(h instanceof o){var f=h;if(f.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(f==this.rootGraph||f.parent!=null&&f.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(f.getEdges());for(var p,g=d.length,m=0;m<g;m++)p=d[m],f.remove(p);var y=[];y=y.concat(f.getNodes());var b;g=y.length;for(var m=0;m<g;m++)b=y[m],f.remove(b);f==this.rootGraph&&this.setRootGraph(null);var T=this.graphs.indexOf(f);this.graphs.splice(T,1),f.parent=null}else if(h instanceof l){if(p=h,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var T=p.source.edges.indexOf(p);if(p.source.edges.splice(T,1),T=p.target.edges.indexOf(p),p.target.edges.splice(T,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var T=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(T,1)}},u.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},u.prototype.getGraphs=function(){return this.graphs},u.prototype.getAllNodes=function(){if(this.allNodes==null){for(var h=[],f=this.getGraphs(),d=f.length,p=0;p<d;p++)h=h.concat(f[p].getNodes());this.allNodes=h}return this.allNodes},u.prototype.resetAllNodes=function(){this.allNodes=null},u.prototype.resetAllEdges=function(){this.allEdges=null},u.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},u.prototype.getAllEdges=function(){if(this.allEdges==null){var h=[],f=this.getGraphs();f.length;for(var d=0;d<f.length;d++)h=h.concat(f[d].getEdges());h=h.concat(this.edges),this.allEdges=h}return this.allEdges},u.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},u.prototype.setAllNodesToApplyGravitation=function(h){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=h},u.prototype.getRoot=function(){return this.rootGraph},u.prototype.setRootGraph=function(h){if(h.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=h,h.parent==null&&(h.parent=this.layout.newNode("Root node"))},u.prototype.getLayout=function(){return this.layout},u.prototype.isOneAncestorOfOther=function(h,f){if(!(h!=null&&f!=null))throw"assert failed";if(h==f)return!0;var d=h.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==f)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=f.getOwner();do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},u.prototype.calcLowestCommonAncestors=function(){for(var h,f,d,p,g,m=this.getAllEdges(),y=m.length,b=0;b<y;b++){if(h=m[b],f=h.source,d=h.target,h.lca=null,h.sourceInLca=f,h.targetInLca=d,f==d){h.lca=f.getOwner();continue}for(p=f.getOwner();h.lca==null;){for(h.targetInLca=d,g=d.getOwner();h.lca==null;){if(g==p){h.lca=g;break}if(g==this.rootGraph)break;if(h.lca!=null)throw"assert failed";h.targetInLca=g.getParent(),g=h.targetInLca.getOwner()}if(p==this.rootGraph)break;h.lca==null&&(h.sourceInLca=p.getParent(),p=h.sourceInLca.getOwner())}if(h.lca==null)throw"assert failed"}},u.prototype.calcLowestCommonAncestor=function(h,f){if(h==f)return h.getOwner();var d=h.getOwner();do{if(d==null)break;var p=f.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},u.prototype.calcInclusionTreeDepths=function(h,f){h==null&&f==null&&(h=this.rootGraph,f=1);for(var d,p=h.getNodes(),g=p.length,m=0;m<g;m++)d=p[m],d.inclusionTreeDepth=f,d.child!=null&&this.calcInclusionTreeDepths(d.child,f+1)},u.prototype.includesInvalidEdge=function(){for(var h,f=this.edges.length,d=0;d<f;d++)if(h=this.edges[d],this.isOneAncestorOfOther(h.source,h.target))return!0;return!1},n.exports=u},function(n,r,a){var o=a(0);function l(){}for(var u in o)l[u]=o[u];l.MAX_ITERATIONS=2500,l.DEFAULT_EDGE_LENGTH=50,l.DEFAULT_SPRING_STRENGTH=.45,l.DEFAULT_REPULSION_STRENGTH=4500,l.DEFAULT_GRAVITY_STRENGTH=.4,l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,l.COOLING_ADAPTATION_FACTOR=.33,l.ADAPTATION_LOWER_NODE_LIMIT=1e3,l.ADAPTATION_UPPER_NODE_LIMIT=5e3,l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,l.MAX_NODE_DISPLACEMENT=l.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,l.CONVERGENCE_CHECK_PERIOD=100,l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,l.MIN_EDGE_LENGTH=1,l.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=l},function(n,r,a){var o=a(12);function l(){}l.calcSeparationAmount=function(u,h,f,d){if(!u.intersects(h))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(u,h,p),f[0]=Math.min(u.getRight(),h.getRight())-Math.max(u.x,h.x),f[1]=Math.min(u.getBottom(),h.getBottom())-Math.max(u.y,h.y),u.getX()<=h.getX()&&u.getRight()>=h.getRight()?f[0]+=Math.min(h.getX()-u.getX(),u.getRight()-h.getRight()):h.getX()<=u.getX()&&h.getRight()>=u.getRight()&&(f[0]+=Math.min(u.getX()-h.getX(),h.getRight()-u.getRight())),u.getY()<=h.getY()&&u.getBottom()>=h.getBottom()?f[1]+=Math.min(h.getY()-u.getY(),u.getBottom()-h.getBottom()):h.getY()<=u.getY()&&h.getBottom()>=u.getBottom()&&(f[1]+=Math.min(u.getY()-h.getY(),h.getBottom()-u.getBottom()));var g=Math.abs((h.getCenterY()-u.getCenterY())/(h.getCenterX()-u.getCenterX()));h.getCenterY()===u.getCenterY()&&h.getCenterX()===u.getCenterX()&&(g=1);var m=g*f[0],y=f[1]/g;f[0]<y?y=f[0]:m=f[1],f[0]=-1*p[0]*(y/2+d),f[1]=-1*p[1]*(m/2+d)},l.decideDirectionsForOverlappingNodes=function(u,h,f){u.getCenterX()<h.getCenterX()?f[0]=-1:f[0]=1,u.getCenterY()<h.getCenterY()?f[1]=-1:f[1]=1},l.getIntersection2=function(u,h,f){var d=u.getCenterX(),p=u.getCenterY(),g=h.getCenterX(),m=h.getCenterY();if(u.intersects(h))return f[0]=d,f[1]=p,f[2]=g,f[3]=m,!0;var y=u.getX(),b=u.getY(),T=u.getRight(),E=u.getX(),w=u.getBottom(),x=u.getRight(),S=u.getWidthHalf(),A=u.getHeightHalf(),R=h.getX(),C=h.getY(),N=h.getRight(),O=h.getX(),L=h.getBottom(),k=h.getRight(),M=h.getWidthHalf(),$=h.getHeightHalf(),_=!1,F=!1;if(d===g){if(p>m)return f[0]=d,f[1]=b,f[2]=g,f[3]=L,!1;if(p<m)return f[0]=d,f[1]=w,f[2]=g,f[3]=C,!1}else if(p===m){if(d>g)return f[0]=y,f[1]=p,f[2]=N,f[3]=m,!1;if(d<g)return f[0]=T,f[1]=p,f[2]=R,f[3]=m,!1}else{var B=u.height/u.width,D=h.height/h.width,P=(m-p)/(g-d),H=void 0,W=void 0,U=void 0,V=void 0,G=void 0,ee=void 0;if(-B===P?d>g?(f[0]=E,f[1]=w,_=!0):(f[0]=T,f[1]=b,_=!0):B===P&&(d>g?(f[0]=y,f[1]=b,_=!0):(f[0]=x,f[1]=w,_=!0)),-D===P?g>d?(f[2]=O,f[3]=L,F=!0):(f[2]=N,f[3]=C,F=!0):D===P&&(g>d?(f[2]=R,f[3]=C,F=!0):(f[2]=k,f[3]=L,F=!0)),_&&F)return!1;if(d>g?p>m?(H=this.getCardinalDirection(B,P,4),W=this.getCardinalDirection(D,P,2)):(H=this.getCardinalDirection(-B,P,3),W=this.getCardinalDirection(-D,P,1)):p>m?(H=this.getCardinalDirection(-B,P,1),W=this.getCardinalDirection(-D,P,3)):(H=this.getCardinalDirection(B,P,2),W=this.getCardinalDirection(D,P,4)),!_)switch(H){case 1:V=b,U=d+-A/P,f[0]=U,f[1]=V;break;case 2:U=x,V=p+S*P,f[0]=U,f[1]=V;break;case 3:V=w,U=d+A/P,f[0]=U,f[1]=V;break;case 4:U=E,V=p+-S*P,f[0]=U,f[1]=V;break}if(!F)switch(W){case 1:ee=C,G=g+-$/P,f[2]=G,f[3]=ee;break;case 2:G=k,ee=m+M*P,f[2]=G,f[3]=ee;break;case 3:ee=L,G=g+$/P,f[2]=G,f[3]=ee;break;case 4:G=O,ee=m+-M*P,f[2]=G,f[3]=ee;break}}return!1},l.getCardinalDirection=function(u,h,f){return u>h?f:1+f%4},l.getIntersection=function(u,h,f,d){if(d==null)return this.getIntersection2(u,h,f);var p=u.x,g=u.y,m=h.x,y=h.y,b=f.x,T=f.y,E=d.x,w=d.y,x=void 0,S=void 0,A=void 0,R=void 0,C=void 0,N=void 0,O=void 0,L=void 0,k=void 0;return A=y-g,C=p-m,O=m*g-p*y,R=w-T,N=b-E,L=E*T-b*w,k=A*N-R*C,k===0?null:(x=(C*L-N*O)/k,S=(R*O-A*L)/k,new o(x,S))},l.angleOfVector=function(u,h,f,d){var p=void 0;return u!==f?(p=Math.atan((d-h)/(f-u)),f<u?p+=Math.PI:d<h&&(p+=this.TWO_PI)):d<h?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},l.doIntersect=function(u,h,f,d){var p=u.x,g=u.y,m=h.x,y=h.y,b=f.x,T=f.y,E=d.x,w=d.y,x=(m-p)*(w-T)-(E-b)*(y-g);if(x===0)return!1;var S=((w-T)*(E-p)+(b-E)*(w-g))/x,A=((g-y)*(E-p)+(m-p)*(w-g))/x;return 0<S&&S<1&&0<A&&A<1},l.HALF_PI=.5*Math.PI,l.ONE_AND_HALF_PI=1.5*Math.PI,l.TWO_PI=2*Math.PI,l.THREE_PI=3*Math.PI,n.exports=l},function(n,r,a){function o(){}o.sign=function(l){return l>0?1:l<0?-1:0},o.floor=function(l){return l<0?Math.ceil(l):Math.floor(l)},o.ceil=function(l){return l<0?Math.floor(l):Math.ceil(l)},n.exports=o},function(n,r,a){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,n.exports=o},function(n,r,a){var o=function(){function p(g,m){for(var y=0;y<m.length;y++){var b=m[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,m,y){return m&&p(g.prototype,m),y&&p(g,y),g}}();function l(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var u=function(g){return{value:g,next:null,prev:null}},h=function(g,m,y,b){return g!==null?g.next=m:b.head=m,y!==null?y.prev=m:b.tail=m,m.prev=g,m.next=y,b.length++,m},f=function(g,m){var y=g.prev,b=g.next;return y!==null?y.next=b:m.head=b,b!==null?b.prev=y:m.tail=y,g.prev=g.next=null,m.length--,g},d=function(){function p(g){var m=this;l(this,p),this.length=0,this.head=null,this.tail=null,g!=null&&g.forEach(function(y){return m.push(y)})}return o(p,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(m,y){return h(y.prev,u(m),y,this)}},{key:"insertAfter",value:function(m,y){return h(y,u(m),y.next,this)}},{key:"insertNodeBefore",value:function(m,y){return h(y.prev,m,y,this)}},{key:"insertNodeAfter",value:function(m,y){return h(y,m,y.next,this)}},{key:"push",value:function(m){return h(this.tail,u(m),null,this)}},{key:"unshift",value:function(m){return h(null,u(m),this.head,this)}},{key:"remove",value:function(m){return f(m,this)}},{key:"pop",value:function(){return f(this.tail,this).value}},{key:"popNode",value:function(){return f(this.tail,this)}},{key:"shift",value:function(){return f(this.head,this).value}},{key:"shiftNode",value:function(){return f(this.head,this)}},{key:"get_object_at",value:function(m){if(m<=this.length()){for(var y=1,b=this.head;y<m;)b=b.next,y++;return b.value}}},{key:"set_object_at",value:function(m,y){if(m<=this.length()){for(var b=1,T=this.head;b<m;)T=T.next,b++;T.value=y}}}]),p}();n.exports=d},function(n,r,a){function o(l,u,h){this.x=null,this.y=null,l==null&&u==null&&h==null?(this.x=0,this.y=0):typeof l=="number"&&typeof u=="number"&&h==null?(this.x=l,this.y=u):l.constructor.name=="Point"&&u==null&&h==null&&(h=l,this.x=h.x,this.y=h.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(l,u,h){l.constructor.name=="Point"&&u==null&&h==null?(h=l,this.setLocation(h.x,h.y)):typeof l=="number"&&typeof u=="number"&&h==null&&(parseInt(l)==l&&parseInt(u)==u?this.move(l,u):(this.x=Math.floor(l+.5),this.y=Math.floor(u+.5)))},o.prototype.move=function(l,u){this.x=l,this.y=u},o.prototype.translate=function(l,u){this.x+=l,this.y+=u},o.prototype.equals=function(l){if(l.constructor.name=="Point"){var u=l;return this.x==u.x&&this.y==u.y}return this==l},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=o},function(n,r,a){function o(l,u,h,f){this.x=0,this.y=0,this.width=0,this.height=0,l!=null&&u!=null&&h!=null&&f!=null&&(this.x=l,this.y=u,this.width=h,this.height=f)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(l){this.x=l},o.prototype.getY=function(){return this.y},o.prototype.setY=function(l){this.y=l},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(l){return!(this.getRight()<l.x||this.getBottom()<l.y||l.getRight()<this.x||l.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},n.exports=o},function(n,r,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function l(){}l.lastID=0,l.createID=function(u){return l.isPrimitive(u)?u:(u.uniqueID!=null||(u.uniqueID=l.getString(),l.lastID++),u.uniqueID)},l.getString=function(u){return u==null&&(u=l.lastID),"Object#"+u},l.isPrimitive=function(u){var h=typeof u>"u"?"undefined":o(u);return u==null||h!="object"&&h!="function"},n.exports=l},function(n,r,a){function o(b){if(Array.isArray(b)){for(var T=0,E=Array(b.length);T<b.length;T++)E[T]=b[T];return E}else return Array.from(b)}var l=a(0),u=a(6),h=a(3),f=a(1),d=a(5),p=a(4),g=a(17),m=a(27);function y(b){m.call(this),this.layoutQuality=l.QUALITY,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=l.DEFAULT_INCREMENTAL,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new u(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,b!=null&&(this.isRemoteUse=b)}y.RANDOM_SEED=1,y.prototype=Object.create(m.prototype),y.prototype.getGraphManager=function(){return this.graphManager},y.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},y.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},y.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},y.prototype.newGraphManager=function(){var b=new u(this);return this.graphManager=b,b},y.prototype.newGraph=function(b){return new d(null,this.graphManager,b)},y.prototype.newNode=function(b){return new h(this.graphManager,b)},y.prototype.newEdge=function(b){return new f(null,null,b)},y.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},y.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var b;return this.checkLayoutSuccess()?b=!1:b=this.layout(),l.ANIMATE==="during"?!1:(b&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,b)},y.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},y.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var b=this.graphManager.getAllEdges(),T=0;T<b.length;T++)b[T];for(var E=this.graphManager.getRoot().getNodes(),T=0;T<E.length;T++)E[T];this.update(this.graphManager.getRoot())}},y.prototype.update=function(b){if(b==null)this.update2();else if(b instanceof h){var T=b;if(T.getChild()!=null)for(var E=T.getChild().getNodes(),w=0;w<E.length;w++)update(E[w]);if(T.vGraphObject!=null){var x=T.vGraphObject;x.update(T)}}else if(b instanceof f){var S=b;if(S.vGraphObject!=null){var A=S.vGraphObject;A.update(S)}}else if(b instanceof d){var R=b;if(R.vGraphObject!=null){var C=R.vGraphObject;C.update(R)}}},y.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=l.QUALITY,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=l.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},y.prototype.transform=function(b){if(b==null)this.transform(new p(0,0));else{var T=new g,E=this.graphManager.getRoot().updateLeftTop();if(E!=null){T.setWorldOrgX(b.x),T.setWorldOrgY(b.y),T.setDeviceOrgX(E.x),T.setDeviceOrgY(E.y);for(var w=this.getAllNodes(),x,S=0;S<w.length;S++)x=w[S],x.transform(T)}}},y.prototype.positionNodesRandomly=function(b){if(b==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var T,E,w=b.getNodes(),x=0;x<w.length;x++)T=w[x],E=T.getChild(),E==null||E.getNodes().length==0?T.scatter():(this.positionNodesRandomly(E),T.updateBounds())},y.prototype.getFlatForest=function(){for(var b=[],T=!0,E=this.graphManager.getRoot().getNodes(),w=!0,x=0;x<E.length;x++)E[x].getChild()!=null&&(w=!1);if(!w)return b;var S=new Set,A=[],R=new Map,C=[];for(C=C.concat(E);C.length>0&&T;){for(A.push(C[0]);A.length>0&&T;){var N=A[0];A.splice(0,1),S.add(N);for(var O=N.getEdges(),x=0;x<O.length;x++){var L=O[x].getOtherEnd(N);if(R.get(N)!=L)if(!S.has(L))A.push(L),R.set(L,N);else{T=!1;break}}}if(!T)b=[];else{var k=[].concat(o(S));b.push(k);for(var x=0;x<k.length;x++){var M=k[x],$=C.indexOf(M);$>-1&&C.splice($,1)}S=new Set,R=new Map}}return b},y.prototype.createDummyNodesForBendpoints=function(b){for(var T=[],E=b.source,w=this.graphManager.calcLowestCommonAncestor(b.source,b.target),x=0;x<b.bendpoints.length;x++){var S=this.newNode(null);S.setRect(new Point(0,0),new Dimension(1,1)),w.add(S);var A=this.newEdge(null);this.graphManager.add(A,E,S),T.add(S),E=S}var A=this.newEdge(null);return this.graphManager.add(A,E,b.target),this.edgeToDummyNodes.set(b,T),b.isInterGraph()?this.graphManager.remove(b):w.remove(b),T},y.prototype.createBendpointsFromDummyNodes=function(){var b=[];b=b.concat(this.graphManager.getAllEdges()),b=[].concat(o(this.edgeToDummyNodes.keys())).concat(b);for(var T=0;T<b.length;T++){var E=b[T];if(E.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(E),x=0;x<w.length;x++){var S=w[x],A=new p(S.getCenterX(),S.getCenterY()),R=E.bendpoints.get(x);R.x=A.x,R.y=A.y,S.getOwner().remove(S)}this.graphManager.add(E,E.source,E.target)}}},y.transform=function(b,T,E,w){if(E!=null&&w!=null){var x=T;if(b<=50){var S=T/E;x-=(T-S)/50*(50-b)}else{var A=T*w;x+=(A-T)/50*(b-50)}return x}else{var R,C;return b<=50?(R=9*T/500,C=T/10):(R=9*T/50,C=-8*T),R*b+C}},y.findCenterOfTree=function(b){var T=[];T=T.concat(b);var E=[],w=new Map,x=!1,S=null;(T.length==1||T.length==2)&&(x=!0,S=T[0]);for(var A=0;A<T.length;A++){var R=T[A],C=R.getNeighborsList().size;w.set(R,R.getNeighborsList().size),C==1&&E.push(R)}var N=[];for(N=N.concat(E);!x;){var O=[];O=O.concat(N),N=[];for(var A=0;A<T.length;A++){var R=T[A],L=T.indexOf(R);L>=0&&T.splice(L,1);var k=R.getNeighborsList();k.forEach(function(_){if(E.indexOf(_)<0){var F=w.get(_),B=F-1;B==1&&N.push(_),w.set(_,B)}})}E=E.concat(N),(T.length==1||T.length==2)&&(x=!0,S=T[0])}return S},y.prototype.setGraphManager=function(b){this.graphManager=b},n.exports=y},function(n,r,a){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},n.exports=o},function(n,r,a){var o=a(4);function l(u,h){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l.prototype.getWorldOrgX=function(){return this.lworldOrgX},l.prototype.setWorldOrgX=function(u){this.lworldOrgX=u},l.prototype.getWorldOrgY=function(){return this.lworldOrgY},l.prototype.setWorldOrgY=function(u){this.lworldOrgY=u},l.prototype.getWorldExtX=function(){return this.lworldExtX},l.prototype.setWorldExtX=function(u){this.lworldExtX=u},l.prototype.getWorldExtY=function(){return this.lworldExtY},l.prototype.setWorldExtY=function(u){this.lworldExtY=u},l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},l.prototype.setDeviceOrgX=function(u){this.ldeviceOrgX=u},l.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},l.prototype.setDeviceOrgY=function(u){this.ldeviceOrgY=u},l.prototype.getDeviceExtX=function(){return this.ldeviceExtX},l.prototype.setDeviceExtX=function(u){this.ldeviceExtX=u},l.prototype.getDeviceExtY=function(){return this.ldeviceExtY},l.prototype.setDeviceExtY=function(u){this.ldeviceExtY=u},l.prototype.transformX=function(u){var h=0,f=this.lworldExtX;return f!=0&&(h=this.ldeviceOrgX+(u-this.lworldOrgX)*this.ldeviceExtX/f),h},l.prototype.transformY=function(u){var h=0,f=this.lworldExtY;return f!=0&&(h=this.ldeviceOrgY+(u-this.lworldOrgY)*this.ldeviceExtY/f),h},l.prototype.inverseTransformX=function(u){var h=0,f=this.ldeviceExtX;return f!=0&&(h=this.lworldOrgX+(u-this.ldeviceOrgX)*this.lworldExtX/f),h},l.prototype.inverseTransformY=function(u){var h=0,f=this.ldeviceExtY;return f!=0&&(h=this.lworldOrgY+(u-this.ldeviceOrgY)*this.lworldExtY/f),h},l.prototype.inverseTransformPoint=function(u){var h=new o(this.inverseTransformX(u.x),this.inverseTransformY(u.y));return h},n.exports=l},function(n,r,a){function o(m){if(Array.isArray(m)){for(var y=0,b=Array(m.length);y<m.length;y++)b[y]=m[y];return b}else return Array.from(m)}var l=a(15),u=a(7),h=a(0),f=a(8),d=a(9);function p(){l.call(this),this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.springConstant=u.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=u.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=u.MAX_ITERATIONS}p.prototype=Object.create(l.prototype);for(var g in l)p[g]=l[g];p.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=u.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var m,y,b,T,E,w,x=this.getGraphManager().getAllEdges(),S=0;S<x.length;S++)m=x[S],m.idealLength=this.idealEdgeLength,m.isInterGraph&&(b=m.getSource(),T=m.getTarget(),E=m.getSourceInLca().getEstimatedSize(),w=m.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(m.idealLength+=E+w-2*h.SIMPLE_NODE_SIZE),y=m.getLca().getInclusionTreeDepth(),m.idealLength+=u.DEFAULT_EDGE_LENGTH*u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+T.getInclusionTreeDepth()-2*y))},p.prototype.initSpringEmbedder=function(){var m=this.getAllNodes().length;this.incremental?(m>u.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*u.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(m-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-u.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT_INCREMENTAL):(m>u.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(u.COOLING_ADAPTATION_FACTOR,1-(m-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*(1-u.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var m=this.getAllEdges(),y,b=0;b<m.length;b++)y=m[b],this.calcSpringForce(y,y.idealLength)},p.prototype.calcRepulsionForces=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,T,E,w,x=this.getAllNodes(),S;if(this.useFRGridVariant)for(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&m&&this.updateGrid(),S=new Set,b=0;b<x.length;b++)E=x[b],this.calculateRepulsionForceOfANode(E,S,m,y),S.add(E);else for(b=0;b<x.length;b++)for(E=x[b],T=b+1;T<x.length;T++)w=x[T],E.getOwner()==w.getOwner()&&this.calcRepulsionForce(E,w)},p.prototype.calcGravitationalForces=function(){for(var m,y=this.getAllNodesToApplyGravitation(),b=0;b<y.length;b++)m=y[b],this.calcGravitationalForce(m)},p.prototype.moveNodes=function(){for(var m=this.getAllNodes(),y,b=0;b<m.length;b++)y=m[b],y.move()},p.prototype.calcSpringForce=function(m,y){var b=m.getSource(),T=m.getTarget(),E,w,x,S;if(this.uniformLeafNodeSizes&&b.getChild()==null&&T.getChild()==null)m.updateLengthSimple();else if(m.updateLength(),m.isOverlapingSourceAndTarget)return;E=m.getLength(),E!=0&&(w=this.springConstant*(E-y),x=w*(m.lengthX/E),S=w*(m.lengthY/E),b.springForceX+=x,b.springForceY+=S,T.springForceX-=x,T.springForceY-=S)},p.prototype.calcRepulsionForce=function(m,y){var b=m.getRect(),T=y.getRect(),E=new Array(2),w=new Array(4),x,S,A,R,C,N,O;if(b.intersects(T)){f.calcSeparationAmount(b,T,E,u.DEFAULT_EDGE_LENGTH/2),N=2*E[0],O=2*E[1];var L=m.noOfChildren*y.noOfChildren/(m.noOfChildren+y.noOfChildren);m.repulsionForceX-=L*N,m.repulsionForceY-=L*O,y.repulsionForceX+=L*N,y.repulsionForceY+=L*O}else this.uniformLeafNodeSizes&&m.getChild()==null&&y.getChild()==null?(x=T.getCenterX()-b.getCenterX(),S=T.getCenterY()-b.getCenterY()):(f.getIntersection(b,T,w),x=w[2]-w[0],S=w[3]-w[1]),Math.abs(x)<u.MIN_REPULSION_DIST&&(x=d.sign(x)*u.MIN_REPULSION_DIST),Math.abs(S)<u.MIN_REPULSION_DIST&&(S=d.sign(S)*u.MIN_REPULSION_DIST),A=x*x+S*S,R=Math.sqrt(A),C=this.repulsionConstant*m.noOfChildren*y.noOfChildren/A,N=C*x/R,O=C*S/R,m.repulsionForceX-=N,m.repulsionForceY-=O,y.repulsionForceX+=N,y.repulsionForceY+=O},p.prototype.calcGravitationalForce=function(m){var y,b,T,E,w,x,S,A;y=m.getOwner(),b=(y.getRight()+y.getLeft())/2,T=(y.getTop()+y.getBottom())/2,E=m.getCenterX()-b,w=m.getCenterY()-T,x=Math.abs(E)+m.getWidth()/2,S=Math.abs(w)+m.getHeight()/2,m.getOwner()==this.graphManager.getRoot()?(A=y.getEstimatedSize()*this.gravityRangeFactor,(x>A||S>A)&&(m.gravitationForceX=-this.gravityConstant*E,m.gravitationForceY=-this.gravityConstant*w)):(A=y.getEstimatedSize()*this.compoundGravityRangeFactor,(x>A||S>A)&&(m.gravitationForceX=-this.gravityConstant*E*this.compoundGravityConstant,m.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},p.prototype.isConverged=function(){var m,y=!1;return this.totalIterations>this.maxIterations/3&&(y=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),m=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,m||y},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var m,y=this.graphManager.getAllNodes(),b=0;b<y.length;b++)m=y[b],m.noOfChildren=m.getNoOfChildren()},p.prototype.calcGrid=function(m){var y=0,b=0;y=parseInt(Math.ceil((m.getRight()-m.getLeft())/this.repulsionRange)),b=parseInt(Math.ceil((m.getBottom()-m.getTop())/this.repulsionRange));for(var T=new Array(y),E=0;E<y;E++)T[E]=new Array(b);for(var E=0;E<y;E++)for(var w=0;w<b;w++)T[E][w]=new Array;return T},p.prototype.addNodeToGrid=function(m,y,b){var T=0,E=0,w=0,x=0;T=parseInt(Math.floor((m.getRect().x-y)/this.repulsionRange)),E=parseInt(Math.floor((m.getRect().width+m.getRect().x-y)/this.repulsionRange)),w=parseInt(Math.floor((m.getRect().y-b)/this.repulsionRange)),x=parseInt(Math.floor((m.getRect().height+m.getRect().y-b)/this.repulsionRange));for(var S=T;S<=E;S++)for(var A=w;A<=x;A++)this.grid[S][A].push(m),m.setGridCoordinates(T,E,w,x)},p.prototype.updateGrid=function(){var m,y,b=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),m=0;m<b.length;m++)y=b[m],this.addNodeToGrid(y,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(m,y,b,T){if(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&b||T){var E=new Set;m.surrounding=new Array;for(var w,x=this.grid,S=m.startX-1;S<m.finishX+2;S++)for(var A=m.startY-1;A<m.finishY+2;A++)if(!(S<0||A<0||S>=x.length||A>=x[0].length)){for(var R=0;R<x[S][A].length;R++)if(w=x[S][A][R],!(m.getOwner()!=w.getOwner()||m==w)&&!y.has(w)&&!E.has(w)){var C=Math.abs(m.getCenterX()-w.getCenterX())-(m.getWidth()/2+w.getWidth()/2),N=Math.abs(m.getCenterY()-w.getCenterY())-(m.getHeight()/2+w.getHeight()/2);C<=this.repulsionRange&&N<=this.repulsionRange&&E.add(w)}}m.surrounding=[].concat(o(E))}for(S=0;S<m.surrounding.length;S++)this.calcRepulsionForce(m,m.surrounding[S])},p.prototype.calcRepulsionRange=function(){return 0},n.exports=p},function(n,r,a){var o=a(1),l=a(7);function u(f,d,p){o.call(this,f,d,p),this.idealLength=l.DEFAULT_EDGE_LENGTH}u.prototype=Object.create(o.prototype);for(var h in o)u[h]=o[h];n.exports=u},function(n,r,a){var o=a(3);function l(h,f,d,p){o.call(this,h,f,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];l.prototype.setGridCoordinates=function(h,f,d,p){this.startX=h,this.finishX=f,this.startY=d,this.finishY=p},n.exports=l},function(n,r,a){function o(l,u){this.width=0,this.height=0,l!==null&&u!==null&&(this.height=u,this.width=l)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},n.exports=o},function(n,r,a){var o=a(14);function l(){this.map={},this.keys=[]}l.prototype.put=function(u,h){var f=o.createID(u);this.contains(f)||(this.map[f]=h,this.keys.push(u))},l.prototype.contains=function(u){return o.createID(u),this.map[u]!=null},l.prototype.get=function(u){var h=o.createID(u);return this.map[h]},l.prototype.keySet=function(){return this.keys},n.exports=l},function(n,r,a){var o=a(14);function l(){this.set={}}l.prototype.add=function(u){var h=o.createID(u);this.contains(h)||(this.set[h]=u)},l.prototype.remove=function(u){delete this.set[o.createID(u)]},l.prototype.clear=function(){this.set={}},l.prototype.contains=function(u){return this.set[o.createID(u)]==u},l.prototype.isEmpty=function(){return this.size()===0},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAllTo=function(u){for(var h=Object.keys(this.set),f=h.length,d=0;d<f;d++)u.push(this.set[h[d]])},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAll=function(u){for(var h=u.length,f=0;f<h;f++){var d=u[f];this.add(d)}},n.exports=l},function(n,r,a){var o=function(){function f(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}}();function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var u=a(11),h=function(){function f(d,p){l(this,f),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof u?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return o(f,[{key:"_quicksort",value:function(p,g,m){if(g<m){var y=this._partition(p,g,m);this._quicksort(p,g,y),this._quicksort(p,y+1,m)}}},{key:"_partition",value:function(p,g,m){for(var y=this._get(p,g),b=g,T=m;;){for(;this.compareFunction(y,this._get(p,T));)T--;for(;this.compareFunction(this._get(p,b),y);)b++;if(b<T)this._swap(p,b,T),b++,T--;else return T}}},{key:"_get",value:function(p,g){return p instanceof u?p.get_object_at(g):p[g]}},{key:"_set",value:function(p,g,m){p instanceof u?p.set_object_at(g,m):p[g]=m}},{key:"_swap",value:function(p,g,m){var y=this._get(p,g);this._set(p,g,this._get(p,m)),this._set(p,m,y)}},{key:"_defaultCompareFunction",value:function(p,g){return g>p}}]),f}();n.exports=h},function(n,r,a){var o=function(){function h(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,d,p){return d&&h(f.prototype,d),p&&h(f,p),f}}();function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var u=function(){function h(f,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;l(this,h),this.sequence1=f,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=m,this.iMax=f.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.grid[y]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.grid[y][b]=0}this.tracebackGrid=new Array(this.iMax);for(var T=0;T<this.iMax;T++){this.tracebackGrid[T]=new Array(this.jMax);for(var E=0;E<this.jMax;E++)this.tracebackGrid[T][E]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(h,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var d=1;d<this.jMax;d++)this.grid[0][d]=this.grid[0][d-1]+this.gap_penalty,this.tracebackGrid[0][d]=[!1,!1,!0];for(var p=1;p<this.iMax;p++)this.grid[p][0]=this.grid[p-1][0]+this.gap_penalty,this.tracebackGrid[p][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var m=1;m<this.jMax;m++){var y=void 0;this.sequence1[g-1]===this.sequence2[m-1]?y=this.grid[g-1][m-1]+this.match_score:y=this.grid[g-1][m-1]+this.mismatch_penalty;var b=this.grid[g-1][m]+this.gap_penalty,T=this.grid[g][m-1]+this.gap_penalty,E=[y,b,T],w=this.arrayAllMaxIndexes(E);this.grid[g][m]=E[w[0]],this.tracebackGrid[g][m]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var d=[];for(d.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});d[0];){var p=d[0],g=this.tracebackGrid[p.pos[0]][p.pos[1]];g[0]&&d.push({pos:[p.pos[0]-1,p.pos[1]-1],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),g[1]&&d.push({pos:[p.pos[0]-1,p.pos[1]],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:"-"+p.seq2}),g[2]&&d.push({pos:[p.pos[0],p.pos[1]-1],seq1:"-"+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),p.pos[0]===0&&p.pos[1]===0&&this.alignments.push({sequence1:p.seq1,sequence2:p.seq2}),d.shift()}return this.alignments}},{key:"getAllIndexes",value:function(d,p){for(var g=[],m=-1;(m=d.indexOf(p,m+1))!==-1;)g.push(m);return g}},{key:"arrayAllMaxIndexes",value:function(d){return this.getAllIndexes(d,Math.max.apply(null,d))}}]),h}();n.exports=u},function(n,r,a){var o=function(){};o.FDLayout=a(18),o.FDLayoutConstants=a(7),o.FDLayoutEdge=a(19),o.FDLayoutNode=a(20),o.DimensionD=a(21),o.HashMap=a(22),o.HashSet=a(23),o.IGeometry=a(8),o.IMath=a(9),o.Integer=a(10),o.Point=a(12),o.PointD=a(4),o.RandomSeed=a(16),o.RectangleD=a(13),o.Transform=a(17),o.UniqueIDGeneretor=a(14),o.Quicksort=a(24),o.LinkedList=a(11),o.LGraphObject=a(2),o.LGraph=a(5),o.LEdge=a(1),o.LGraphManager=a(6),o.LNode=a(3),o.Layout=a(15),o.LayoutConstants=a(0),o.NeedlemanWunsch=a(25),n.exports=o},function(n,r,a){function o(){this.listeners=[]}var l=o.prototype;l.addListener=function(u,h){this.listeners.push({event:u,callback:h})},l.removeListener=function(u,h){for(var f=this.listeners.length;f>=0;f--){var d=this.listeners[f];d.event===u&&d.callback===h&&this.listeners.splice(f,1)}},l.emit=function(u,h){for(var f=0;f<this.listeners.length;f++){var d=this.listeners[f];u===d.event&&d.callback(h)}},n.exports=o}])})}(Vk)),Vk.exports}var JX;function rNt(){return JX||(JX=1,function(e,t){(function(r,a){e.exports=a(nNt())})(Cs,function(n){return function(r){var a={};function o(l){if(a[l])return a[l].exports;var u=a[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=r,o.c=a,o.i=function(l){return l},o.d=function(l,u,h){o.o(l,u)||Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:h})},o.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(u,"a",u),u},o.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},o.p="",o(o.s=7)}([function(r,a){r.exports=n},function(r,a,o){var l=o(0).FDLayoutConstants;function u(){}for(var h in l)u[h]=l[h];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,u.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,u.DEFAULT_COMPONENT_SEPERATION=60,u.TILE=!0,u.TILING_PADDING_VERTICAL=10,u.TILING_PADDING_HORIZONTAL=10,u.TREE_REDUCTION_ON_INCREMENTAL=!1,r.exports=u},function(r,a,o){var l=o(0).FDLayoutEdge;function u(f,d,p){l.call(this,f,d,p)}u.prototype=Object.create(l.prototype);for(var h in l)u[h]=l[h];r.exports=u},function(r,a,o){var l=o(0).LGraph;function u(f,d,p){l.call(this,f,d,p)}u.prototype=Object.create(l.prototype);for(var h in l)u[h]=l[h];r.exports=u},function(r,a,o){var l=o(0).LGraphManager;function u(f){l.call(this,f)}u.prototype=Object.create(l.prototype);for(var h in l)u[h]=l[h];r.exports=u},function(r,a,o){var l=o(0).FDLayoutNode,u=o(0).IMath;function h(d,p,g,m){l.call(this,d,p,g,m)}h.prototype=Object.create(l.prototype);for(var f in l)h[f]=l[f];h.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*u.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*u.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},h.prototype.propogateDisplacementToChildren=function(d,p){for(var g=this.getChild().getNodes(),m,y=0;y<g.length;y++)m=g[y],m.getChild()==null?(m.moveBy(d,p),m.displacementX+=d,m.displacementY+=p):m.propogateDisplacementToChildren(d,p)},h.prototype.setPred1=function(d){this.pred1=d},h.prototype.getPred1=function(){return pred1},h.prototype.getPred2=function(){return pred2},h.prototype.setNext=function(d){this.next=d},h.prototype.getNext=function(){return next},h.prototype.setProcessed=function(d){this.processed=d},h.prototype.isProcessed=function(){return processed},r.exports=h},function(r,a,o){var l=o(0).FDLayout,u=o(4),h=o(3),f=o(5),d=o(2),p=o(1),g=o(0).FDLayoutConstants,m=o(0).LayoutConstants,y=o(0).Point,b=o(0).PointD,T=o(0).Layout,E=o(0).Integer,w=o(0).IGeometry,x=o(0).LGraph,S=o(0).Transform;function A(){l.call(this),this.toBeTiled={}}A.prototype=Object.create(l.prototype);for(var R in l)A[R]=l[R];A.prototype.newGraphManager=function(){var C=new u(this);return this.graphManager=C,C},A.prototype.newGraph=function(C){return new h(null,this.graphManager,C)},A.prototype.newNode=function(C){return new f(this.graphManager,C)},A.prototype.newEdge=function(C){return new d(null,null,C)},A.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=g.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var C=m.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(M){return N.has(M)});this.graphManager.setAllNodesToApplyGravitation(O)}}else{var C=this.getFlatForest();if(C.length>0)this.positionNodesRadially(C);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(L){return N.has(L)});this.graphManager.setAllNodesToApplyGravitation(O),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(k){return C.has(k)});this.graphManager.setAllNodesToApplyGravitation(N),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var O=!this.isTreeGrowing&&!this.isGrowthFinished,L=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(O,L),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),N={},O=0;O<C.length;O++){var L=C[O].rect,k=C[O].id;N[k]={id:k,x:L.getCenterX(),y:L.getCenterY(),w:L.width,h:L.height}}return N},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],N,O=this.graphManager.getGraphs(),L=O.length,k;for(k=0;k<L;k++)N=O[k],N.updateConnected(),N.isConnected||(C=C.concat(N.getNodes()));return C},A.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var N=new Set,O;for(O=0;O<C.length;O++){var L=C[O];if(!N.has(L)){var k=L.getSource(),M=L.getTarget();if(k==M)L.getBendpoints().push(new b),L.getBendpoints().push(new b),this.createDummyNodesForBendpoints(L),N.add(L);else{var $=[];if($=$.concat(k.getEdgeListToNode(M)),$=$.concat(M.getEdgeListToNode(k)),!N.has($[0])){if($.length>1){var _;for(_=0;_<$.length;_++){var F=$[_];F.getBendpoints().push(new b),this.createDummyNodesForBendpoints(F)}}$.forEach(function(B){N.add(B)})}}}if(N.size==C.length)break}},A.prototype.positionNodesRadially=function(C){for(var N=new y(0,0),O=Math.ceil(Math.sqrt(C.length)),L=0,k=0,M=0,$=new b(0,0),_=0;_<C.length;_++){_%O==0&&(M=0,k=L,_!=0&&(k+=p.DEFAULT_COMPONENT_SEPERATION),L=0);var F=C[_],B=T.findCenterOfTree(F);N.x=M,N.y=k,$=A.radialLayout(F,B,N),$.y>L&&(L=Math.floor($.y)),M=Math.floor($.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(m.WORLD_CENTER_X-$.x/2,m.WORLD_CENTER_Y-$.y/2))},A.radialLayout=function(C,N,O){var L=Math.max(this.maxDiagonalInTree(C),p.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(N,null,0,359,0,L);var k=x.calculateBounds(C),M=new S;M.setDeviceOrgX(k.getMinX()),M.setDeviceOrgY(k.getMinY()),M.setWorldOrgX(O.x),M.setWorldOrgY(O.y);for(var $=0;$<C.length;$++){var _=C[$];_.transform(M)}var F=new b(k.getMaxX(),k.getMaxY());return M.inverseTransformPoint(F)},A.branchRadialLayout=function(C,N,O,L,k,M){var $=(L-O+1)/2;$<0&&($+=180);var _=($+O)%360,F=_*w.TWO_PI/360,B=k*Math.cos(F),D=k*Math.sin(F);C.setCenter(B,D);var P=[];P=P.concat(C.getEdges());var H=P.length;N!=null&&H--;for(var W=0,U=P.length,V,G=C.getEdgesBetween(N);G.length>1;){var ee=G[0];G.splice(0,1);var ce=P.indexOf(ee);ce>=0&&P.splice(ce,1),U--,H--}N!=null?V=(P.indexOf(G[0])+1)%U:V=0;for(var Q=Math.abs(L-O)/H,re=V;W!=H;re=++re%U){var le=P[re].getOtherEnd(C);if(le!=N){var Y=(O+W*Q)%360,K=(Y+Q)%360;A.branchRadialLayout(le,C,Y,K,k+M,M),W++}}},A.maxDiagonalInTree=function(C){for(var N=E.MIN_VALUE,O=0;O<C.length;O++){var L=C[O],k=L.getDiagonal();k>N&&(N=k)}return N},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var C=this,N={};this.memberGroups={},this.idToDummyNode={};for(var O=[],L=this.graphManager.getAllNodes(),k=0;k<L.length;k++){var M=L[k],$=M.getParent();this.getNodeDegreeWithChildren(M)===0&&($.id==null||!this.getToBeTiled($))&&O.push(M)}for(var k=0;k<O.length;k++){var M=O[k],_=M.getParent().id;typeof N[_]>"u"&&(N[_]=[]),N[_]=N[_].concat(M)}Object.keys(N).forEach(function(F){if(N[F].length>1){var B="DummyCompound_"+F;C.memberGroups[B]=N[F];var D=N[F][0].getParent(),P=new f(C.graphManager);P.id=B,P.paddingLeft=D.paddingLeft||0,P.paddingRight=D.paddingRight||0,P.paddingBottom=D.paddingBottom||0,P.paddingTop=D.paddingTop||0,C.idToDummyNode[B]=P;var H=C.getGraphManager().add(C.newGraph(),P),W=D.getChild();W.add(P);for(var U=0;U<N[F].length;U++){var V=N[F][U];W.remove(V),H.add(V)}}})},A.prototype.clearCompounds=function(){var C={},N={};this.performDFSOnCompounds();for(var O=0;O<this.compoundOrder.length;O++)N[this.compoundOrder[O].id]=this.compoundOrder[O],C[this.compoundOrder[O].id]=[].concat(this.compoundOrder[O].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[O].getChild()),this.compoundOrder[O].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,N)},A.prototype.clearZeroDegreeMembers=function(){var C=this,N=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(O){var L=C.idToDummyNode[O];N[O]=C.tileNodes(C.memberGroups[O],L.paddingLeft+L.paddingRight),L.rect.width=N[O].width,L.rect.height=N[O].height})},A.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var N=this.compoundOrder[C],O=N.id,L=N.paddingLeft,k=N.paddingTop;this.adjustLocations(this.tiledMemberPack[O],N.rect.x,N.rect.y,L,k)}},A.prototype.repopulateZeroDegreeMembers=function(){var C=this,N=this.tiledZeroDegreePack;Object.keys(N).forEach(function(O){var L=C.idToDummyNode[O],k=L.paddingLeft,M=L.paddingTop;C.adjustLocations(N[O],L.rect.x,L.rect.y,k,M)})},A.prototype.getToBeTiled=function(C){var N=C.id;if(this.toBeTiled[N]!=null)return this.toBeTiled[N];var O=C.getChild();if(O==null)return this.toBeTiled[N]=!1,!1;for(var L=O.getNodes(),k=0;k<L.length;k++){var M=L[k];if(this.getNodeDegree(M)>0)return this.toBeTiled[N]=!1,!1;if(M.getChild()==null){this.toBeTiled[M.id]=!1;continue}if(!this.getToBeTiled(M))return this.toBeTiled[N]=!1,!1}return this.toBeTiled[N]=!0,!0},A.prototype.getNodeDegree=function(C){C.id;for(var N=C.getEdges(),O=0,L=0;L<N.length;L++){var k=N[L];k.getSource().id!==k.getTarget().id&&(O=O+1)}return O},A.prototype.getNodeDegreeWithChildren=function(C){var N=this.getNodeDegree(C);if(C.getChild()==null)return N;for(var O=C.getChild().getNodes(),L=0;L<O.length;L++){var k=O[L];N+=this.getNodeDegreeWithChildren(k)}return N},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(C){for(var N=0;N<C.length;N++){var O=C[N];O.getChild()!=null&&this.fillCompexOrderByDFS(O.getChild().getNodes()),this.getToBeTiled(O)&&this.compoundOrder.push(O)}},A.prototype.adjustLocations=function(C,N,O,L,k){N+=L,O+=k;for(var M=N,$=0;$<C.rows.length;$++){var _=C.rows[$];N=M;for(var F=0,B=0;B<_.length;B++){var D=_[B];D.rect.x=N,D.rect.y=O,N+=D.rect.width+C.horizontalPadding,D.rect.height>F&&(F=D.rect.height)}O+=F+C.verticalPadding}},A.prototype.tileCompoundMembers=function(C,N){var O=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(L){var k=N[L];O.tiledMemberPack[L]=O.tileNodes(C[L],k.paddingLeft+k.paddingRight),k.rect.width=O.tiledMemberPack[L].width,k.rect.height=O.tiledMemberPack[L].height})},A.prototype.tileNodes=function(C,N){var O=p.TILING_PADDING_VERTICAL,L=p.TILING_PADDING_HORIZONTAL,k={rows:[],rowWidth:[],rowHeight:[],width:0,height:N,verticalPadding:O,horizontalPadding:L};C.sort(function(_,F){return _.rect.width*_.rect.height>F.rect.width*F.rect.height?-1:_.rect.width*_.rect.height<F.rect.width*F.rect.height?1:0});for(var M=0;M<C.length;M++){var $=C[M];k.rows.length==0?this.insertNodeToRow(k,$,0,N):this.canAddHorizontal(k,$.rect.width,$.rect.height)?this.insertNodeToRow(k,$,this.getShortestRowIndex(k),N):this.insertNodeToRow(k,$,k.rows.length,N),this.shiftToLastRow(k)}return k},A.prototype.insertNodeToRow=function(C,N,O,L){var k=L;if(O==C.rows.length){var M=[];C.rows.push(M),C.rowWidth.push(k),C.rowHeight.push(0)}var $=C.rowWidth[O]+N.rect.width;C.rows[O].length>0&&($+=C.horizontalPadding),C.rowWidth[O]=$,C.width<$&&(C.width=$);var _=N.rect.height;O>0&&(_+=C.verticalPadding);var F=0;_>C.rowHeight[O]&&(F=C.rowHeight[O],C.rowHeight[O]=_,F=C.rowHeight[O]-F),C.height+=F,C.rows[O].push(N)},A.prototype.getShortestRowIndex=function(C){for(var N=-1,O=Number.MAX_VALUE,L=0;L<C.rows.length;L++)C.rowWidth[L]<O&&(N=L,O=C.rowWidth[L]);return N},A.prototype.getLongestRowIndex=function(C){for(var N=-1,O=Number.MIN_VALUE,L=0;L<C.rows.length;L++)C.rowWidth[L]>O&&(N=L,O=C.rowWidth[L]);return N},A.prototype.canAddHorizontal=function(C,N,O){var L=this.getShortestRowIndex(C);if(L<0)return!0;var k=C.rowWidth[L];if(k+C.horizontalPadding+N<=C.width)return!0;var M=0;C.rowHeight[L]<O&&L>0&&(M=O+C.verticalPadding-C.rowHeight[L]);var $;C.width-k>=N+C.horizontalPadding?$=(C.height+M)/(k+N+C.horizontalPadding):$=(C.height+M)/C.width,M=O+C.verticalPadding;var _;return C.width<N?_=(C.height+M)/N:_=(C.height+M)/C.width,_<1&&(_=1/_),$<1&&($=1/$),$<_},A.prototype.shiftToLastRow=function(C){var N=this.getLongestRowIndex(C),O=C.rowWidth.length-1,L=C.rows[N],k=L[L.length-1],M=k.width+C.horizontalPadding;if(C.width-C.rowWidth[O]>M&&N!=O){L.splice(-1,1),C.rows[O].push(k),C.rowWidth[N]=C.rowWidth[N]-M,C.rowWidth[O]=C.rowWidth[O]+M,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var $=Number.MIN_VALUE,_=0;_<L.length;_++)L[_].height>$&&($=L[_].height);N>0&&($+=C.verticalPadding);var F=C.rowHeight[N]+C.rowHeight[O];C.rowHeight[N]=$,C.rowHeight[O]<k.height+C.verticalPadding&&(C.rowHeight[O]=k.height+C.verticalPadding);var B=C.rowHeight[N]+C.rowHeight[O];C.height+=B-F,this.shiftToLastRow(C)}},A.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var C=[],N=!0,O;N;){var L=this.graphManager.getAllNodes(),k=[];N=!1;for(var M=0;M<L.length;M++)O=L[M],O.getEdges().length==1&&!O.getEdges()[0].isInterGraph&&O.getChild()==null&&(k.push([O,O.getEdges()[0],O.getOwner()]),N=!0);if(N==!0){for(var $=[],_=0;_<k.length;_++)k[_][0].getEdges().length==1&&($.push(k[_]),k[_][0].getOwner().remove(k[_][0]));C.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},A.prototype.growTree=function(C){for(var N=C.length,O=C[N-1],L,k=0;k<O.length;k++)L=O[k],this.findPlaceforPrunedNode(L),L[2].add(L[0]),L[2].add(L[1],L[1].source,L[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(C){var N,O,L=C[0];L==C[1].source?O=C[1].target:O=C[1].source;var k=O.startX,M=O.finishX,$=O.startY,_=O.finishY,F=0,B=0,D=0,P=0,H=[F,D,B,P];if($>0)for(var W=k;W<=M;W++)H[0]+=this.grid[W][$-1].length+this.grid[W][$].length-1;if(M<this.grid.length-1)for(var W=$;W<=_;W++)H[1]+=this.grid[M+1][W].length+this.grid[M][W].length-1;if(_<this.grid[0].length-1)for(var W=k;W<=M;W++)H[2]+=this.grid[W][_+1].length+this.grid[W][_].length-1;if(k>0)for(var W=$;W<=_;W++)H[3]+=this.grid[k-1][W].length+this.grid[k][W].length-1;for(var U=E.MAX_VALUE,V,G,ee=0;ee<H.length;ee++)H[ee]<U?(U=H[ee],V=1,G=ee):H[ee]==U&&V++;if(V==3&&U==0)H[0]==0&&H[1]==0&&H[2]==0?N=1:H[0]==0&&H[1]==0&&H[3]==0?N=0:H[0]==0&&H[2]==0&&H[3]==0?N=3:H[1]==0&&H[2]==0&&H[3]==0&&(N=2);else if(V==2&&U==0){var ce=Math.floor(Math.random()*2);H[0]==0&&H[1]==0?ce==0?N=0:N=1:H[0]==0&&H[2]==0?ce==0?N=0:N=2:H[0]==0&&H[3]==0?ce==0?N=0:N=3:H[1]==0&&H[2]==0?ce==0?N=1:N=2:H[1]==0&&H[3]==0?ce==0?N=1:N=3:ce==0?N=2:N=3}else if(V==4&&U==0){var ce=Math.floor(Math.random()*4);N=ce}else N=G;N==0?L.setCenter(O.getCenterX(),O.getCenterY()-O.getHeight()/2-g.DEFAULT_EDGE_LENGTH-L.getHeight()/2):N==1?L.setCenter(O.getCenterX()+O.getWidth()/2+g.DEFAULT_EDGE_LENGTH+L.getWidth()/2,O.getCenterY()):N==2?L.setCenter(O.getCenterX(),O.getCenterY()+O.getHeight()/2+g.DEFAULT_EDGE_LENGTH+L.getHeight()/2):L.setCenter(O.getCenterX()-O.getWidth()/2-g.DEFAULT_EDGE_LENGTH-L.getWidth()/2,O.getCenterY())},r.exports=A},function(r,a,o){var l={};l.layoutBase=o(0),l.CoSEConstants=o(1),l.CoSEEdge=o(2),l.CoSEGraph=o(3),l.CoSEGraphManager=o(4),l.CoSELayout=o(6),l.CoSENode=o(5),r.exports=l}])})}(Yk)),Yk.exports}(function(e,t){(function(r,a){e.exports=a(rNt())})(Cs,function(n){return function(r){var a={};function o(l){if(a[l])return a[l].exports;var u=a[l]={i:l,l:!1,exports:{}};return r[l].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=r,o.c=a,o.i=function(l){return l},o.d=function(l,u,h){o.o(l,u)||Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:h})},o.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(u,"a",u),u},o.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},o.p="",o(o.s=1)}([function(r,a){r.exports=n},function(r,a,o){var l=o(0).layoutBase.LayoutConstants,u=o(0).layoutBase.FDLayoutConstants,h=o(0).CoSEConstants,f=o(0).CoSELayout,d=o(0).CoSENode,p=o(0).layoutBase.PointD,g=o(0).layoutBase.DimensionD,m={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function y(w,x){var S={};for(var A in w)S[A]=w[A];for(var A in x)S[A]=x[A];return S}function b(w){this.options=y(m,w),T(this.options)}var T=function(x){x.nodeRepulsion!=null&&(h.DEFAULT_REPULSION_STRENGTH=u.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(h.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(h.DEFAULT_SPRING_STRENGTH=u.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(h.DEFAULT_GRAVITY_STRENGTH=u.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(h.MAX_ITERATIONS=u.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(h.DEFAULT_GRAVITY_RANGE_FACTOR=u.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(h.DEFAULT_COOLING_FACTOR_INCREMENTAL=u.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?l.QUALITY=0:x.quality=="proof"?l.QUALITY=2:l.QUALITY=1,h.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,h.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!x.randomize,h.ANIMATE=u.ANIMATE=l.ANIMATE=x.animate,h.TILE=x.tile,h.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,h.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal};b.prototype.run=function(){var w,x,S=this.options;this.idToLNode={};var A=this.layout=new f,R=this;R.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var C=A.newGraphManager();this.gm=C;var N=this.options.eles.nodes(),O=this.options.eles.edges();this.root=C.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(N),A);for(var L=0;L<O.length;L++){var k=O[L],M=this.idToLNode[k.data("source")],$=this.idToLNode[k.data("target")];if(M!==$&&M.getEdgesBetween($).length==0){var _=C.add(A.newEdge(),M,$);_.id=k.id()}}var F=function(P,H){typeof P=="number"&&(P=H);var W=P.data("id"),U=R.idToLNode[W];return{x:U.getRect().getCenterX(),y:U.getRect().getCenterY()}},B=function D(){for(var P=function(){S.fit&&S.cy.fit(S.eles,S.padding),w||(w=!0,R.cy.one("layoutready",S.ready),R.cy.trigger({type:"layoutready",layout:R}))},H=R.options.refresh,W,U=0;U<H&&!W;U++)W=R.stopped||R.layout.tick();if(W){A.checkLayoutSuccess()&&!A.isSubLayout&&A.doPostLayout(),A.tilingPostLayout&&A.tilingPostLayout(),A.isLayoutFinished=!0,R.options.eles.nodes().positions(F),P(),R.cy.one("layoutstop",R.options.stop),R.cy.trigger({type:"layoutstop",layout:R}),x&&cancelAnimationFrame(x),w=!1;return}var V=R.layout.getPositionsData();S.eles.nodes().positions(function(G,ee){if(typeof G=="number"&&(G=ee),!G.isParent()){for(var ce=G.id(),Q=V[ce],re=G;Q==null&&(Q=V[re.data("parent")]||V["DummyCompound_"+re.data("parent")],V[ce]=Q,re=re.parent()[0],re!=null););return Q!=null?{x:Q.x,y:Q.y}:{x:G.position("x"),y:G.position("y")}}}),P(),x=requestAnimationFrame(D)};return A.addListener("layoutstarted",function(){R.options.animate==="during"&&(x=requestAnimationFrame(B))}),A.runLayout(),this.options.animate!=="during"&&(R.options.eles.nodes().not(":parent").layoutPositions(R,R.options,F),w=!1),this},b.prototype.getTopMostNodes=function(w){for(var x={},S=0;S<w.length;S++)x[w[S].id()]=!0;var A=w.filter(function(R,C){typeof R=="number"&&(R=C);for(var N=R.parent()[0];N!=null;){if(x[N.id()])return!1;N=N.parent()[0]}return!0});return A},b.prototype.processChildrenList=function(w,x,S){for(var A=x.length,R=0;R<A;R++){var C=x[R],N=C.children(),O,L=C.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(C.outerWidth()!=null&&C.outerHeight()!=null?O=w.add(new d(S.graphManager,new p(C.position("x")-L.w/2,C.position("y")-L.h/2),new g(parseFloat(L.w),parseFloat(L.h)))):O=w.add(new d(this.graphManager)),O.id=C.data("id"),O.paddingLeft=parseInt(C.css("padding")),O.paddingTop=parseInt(C.css("padding")),O.paddingRight=parseInt(C.css("padding")),O.paddingBottom=parseInt(C.css("padding")),this.options.nodeDimensionsIncludeLabels&&C.isParent()){var k=C.boundingBox({includeLabels:!0,includeNodes:!1}).w,M=C.boundingBox({includeLabels:!0,includeNodes:!1}).h,$=C.css("text-halign");O.labelWidth=k,O.labelHeight=M,O.labelPos=$}if(this.idToLNode[C.data("id")]=O,isNaN(O.rect.x)&&(O.rect.x=0),isNaN(O.rect.y)&&(O.rect.y=0),N!=null&&N.length>0){var _;_=S.getGraphManager().add(S.newGraph(),O),this.processChildrenList(_,N,S)}}},b.prototype.stop=function(){return this.stopped=!0,this};var E=function(x){x("layout","cose-bilkent",b)};typeof cytoscape<"u"&&E(cytoscape),r.exports=E}])})})(Vve);var iNt=Vve.exports;const aNt=Go(iNt);var aL=function(){var e=I(function(S,A,R,C){for(R=R||{},C=S.length;C--;R[S[C]]=A);return R},"o"),t=[1,4],n=[1,13],r=[1,12],a=[1,15],o=[1,16],l=[1,20],u=[1,19],h=[6,7,8],f=[1,26],d=[1,24],p=[1,25],g=[6,7,11],m=[1,6,13,15,16,19,22],y=[1,33],b=[1,34],T=[1,6,7,11,13,15,16,19,22],E={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:I(function(A,R,C,N,O,L,k){var M=L.length-1;switch(O){case 6:case 7:return N;case 8:N.getLogger().trace("Stop NL ");break;case 9:N.getLogger().trace("Stop EOF ");break;case 11:N.getLogger().trace("Stop NL2 ");break;case 12:N.getLogger().trace("Stop EOF2 ");break;case 15:N.getLogger().info("Node: ",L[M].id),N.addNode(L[M-1].length,L[M].id,L[M].descr,L[M].type);break;case 16:N.getLogger().trace("Icon: ",L[M]),N.decorateNode({icon:L[M]});break;case 17:case 21:N.decorateNode({class:L[M]});break;case 18:N.getLogger().trace("SPACELIST");break;case 19:N.getLogger().trace("Node: ",L[M].id),N.addNode(0,L[M].id,L[M].descr,L[M].type);break;case 20:N.decorateNode({icon:L[M]});break;case 25:N.getLogger().trace("node found ..",L[M-2]),this.$={id:L[M-1],descr:L[M-1],type:N.getType(L[M-2],L[M])};break;case 26:this.$={id:L[M],descr:L[M],type:N.nodeType.DEFAULT};break;case 27:N.getLogger().trace("node found ..",L[M-3]),this.$={id:L[M-3],descr:L[M-1],type:N.getType(L[M-2],L[M])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:n,7:[1,10],9:9,12:11,13:r,14:14,15:a,16:o,17:17,18:18,19:l,22:u},e(h,[2,3]),{1:[2,2]},e(h,[2,4]),e(h,[2,5]),{1:[2,6],6:n,12:21,13:r,14:14,15:a,16:o,17:17,18:18,19:l,22:u},{6:n,9:22,12:11,13:r,14:14,15:a,16:o,17:17,18:18,19:l,22:u},{6:f,7:d,10:23,11:p},e(g,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:l,22:u}),e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,21]),e(g,[2,23]),e(g,[2,24]),e(g,[2,26],{19:[1,30]}),{20:[1,31]},{6:f,7:d,10:32,11:p},{1:[2,7],6:n,12:21,13:r,14:14,15:a,16:o,17:17,18:18,19:l,22:u},e(m,[2,14],{7:y,11:b}),e(T,[2,8]),e(T,[2,9]),e(T,[2,10]),e(g,[2,15]),e(g,[2,16]),e(g,[2,17]),{20:[1,35]},{21:[1,36]},e(m,[2,13],{7:y,11:b}),e(T,[2,11]),e(T,[2,12]),{21:[1,37]},e(g,[2,25]),e(g,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:I(function(A,R){if(R.recoverable)this.trace(A);else{var C=new Error(A);throw C.hash=R,C}},"parseError"),parse:I(function(A){var R=this,C=[0],N=[],O=[null],L=[],k=this.table,M="",$=0,_=0,F=2,B=1,D=L.slice.call(arguments,1),P=Object.create(this.lexer),H={yy:{}};for(var W in this.yy)Object.prototype.hasOwnProperty.call(this.yy,W)&&(H.yy[W]=this.yy[W]);P.setInput(A,H.yy),H.yy.lexer=P,H.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var U=P.yylloc;L.push(U);var V=P.options&&P.options.ranges;typeof H.yy.parseError=="function"?this.parseError=H.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function G(ne){C.length=C.length-2*ne,O.length=O.length-ne,L.length=L.length-ne}I(G,"popStack");function ee(){var ne;return ne=N.pop()||P.lex()||B,typeof ne!="number"&&(ne instanceof Array&&(N=ne,ne=N.pop()),ne=R.symbols_[ne]||ne),ne}I(ee,"lex");for(var ce,Q,re,le,Y={},K,Z,z,X;;){if(Q=C[C.length-1],this.defaultActions[Q]?re=this.defaultActions[Q]:((ce===null||typeof ce>"u")&&(ce=ee()),re=k[Q]&&k[Q][ce]),typeof re>"u"||!re.length||!re[0]){var te="";X=[];for(K in k[Q])this.terminals_[K]&&K>F&&X.push("'"+this.terminals_[K]+"'");P.showPosition?te="Parse error on line "+($+1)+`:
`+P.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[ce]||ce)+"'":te="Parse error on line "+($+1)+": Unexpected "+(ce==B?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(te,{text:P.match,token:this.terminals_[ce]||ce,line:P.yylineno,loc:U,expected:X})}if(re[0]instanceof Array&&re.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q+", token: "+ce);switch(re[0]){case 1:C.push(ce),O.push(P.yytext),L.push(P.yylloc),C.push(re[1]),ce=null,_=P.yyleng,M=P.yytext,$=P.yylineno,U=P.yylloc;break;case 2:if(Z=this.productions_[re[1]][1],Y.$=O[O.length-Z],Y._$={first_line:L[L.length-(Z||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(Z||1)].first_column,last_column:L[L.length-1].last_column},V&&(Y._$.range=[L[L.length-(Z||1)].range[0],L[L.length-1].range[1]]),le=this.performAction.apply(Y,[M,_,$,H.yy,re[1],O,L].concat(D)),typeof le<"u")return le;Z&&(C=C.slice(0,-1*Z*2),O=O.slice(0,-1*Z),L=L.slice(0,-1*Z)),C.push(this.productions_[re[1]][0]),O.push(Y.$),L.push(Y._$),z=k[C[C.length-2]][C[C.length-1]],C.push(z);break;case 3:return!0}}return!0},"parse")},w=function(){var S={EOF:1,parseError:I(function(R,C){if(this.yy.parser)this.yy.parser.parseError(R,C);else throw new Error(R)},"parseError"),setInput:I(function(A,R){return this.yy=R||this.yy||{},this._input=A,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var A=this._input[0];this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A;var R=A.match(/(?:\r\n?|\n).*/g);return R?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),A},"input"),unput:I(function(A){var R=A.length,C=A.split(/(?:\r\n?|\n)/g);this._input=A+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var O=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===N.length?this.yylloc.first_column:0)+N[N.length-C.length].length-C[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[O[0],O[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(A){this.unput(this.match.slice(A))},"less"),pastInput:I(function(){var A=this.matched.substr(0,this.matched.length-this.match.length);return(A.length>20?"...":"")+A.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var A=this.match;return A.length<20&&(A+=this._input.substr(0,20-A.length)),(A.substr(0,20)+(A.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var A=this.pastInput(),R=new Array(A.length+1).join("-");return A+this.upcomingInput()+`
`+R+"^"},"showPosition"),test_match:I(function(A,R){var C,N,O;if(this.options.backtrack_lexer&&(O={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(O.yylloc.range=this.yylloc.range.slice(0))),N=A[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+A[0].length},this.yytext+=A[0],this.match+=A[0],this.matches=A,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(A[0].length),this.matched+=A[0],C=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var L in O)this[L]=O[L];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var A,R,C,N;this._more||(this.yytext="",this.match="");for(var O=this._currentRules(),L=0;L<O.length;L++)if(C=this._input.match(this.rules[O[L]]),C&&(!R||C[0].length>R[0].length)){if(R=C,N=L,this.options.backtrack_lexer){if(A=this.test_match(C,O[L]),A!==!1)return A;if(this._backtrack){R=!1;continue}else return!1}else if(!this.options.flex)break}return R?(A=this.test_match(R,O[N]),A!==!1?A:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var R=this.next();return R||this.lex()},"lex"),begin:I(function(R){this.conditionStack.push(R)},"begin"),popState:I(function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:I(function(R){this.begin(R)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(R,C,N,O){switch(N){case 0:return R.getLogger().trace("Found comment",C.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:R.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return R.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:R.getLogger().trace("end icon"),this.popState();break;case 10:return R.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return R.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return R.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return R.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:R.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return R.getLogger().trace("description:",C.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),R.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),R.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),R.getLogger().trace("node end ...",C.yytext),"NODE_DEND";case 30:return this.popState(),R.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),R.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),R.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),R.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),R.getLogger().trace("node end (("),"NODE_DEND";case 35:return R.getLogger().trace("Long description:",C.yytext),20;case 36:return R.getLogger().trace("Long description:",C.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return S}();E.lexer=w;function x(){this.yy={}}return I(x,"Parser"),x.prototype=E,E.Parser=x,new x}();aL.parser=aL;var sNt=aL,pc=[],qve=0,lF={},oNt=I(()=>{pc=[],qve=0,lF={}},"clear"),lNt=I(function(e){for(let t=pc.length-1;t>=0;t--)if(pc[t].level<e)return pc[t];return null},"getParent"),cNt=I(()=>pc.length>0?pc[0]:null,"getMindmap"),uNt=I((e,t,n,r)=>{var h,f;ve.info("addNode",e,t,n,r);const a=Pe();let o=((h=a.mindmap)==null?void 0:h.padding)??Mn.mindmap.padding;switch(r){case Wi.ROUNDED_RECT:case Wi.RECT:case Wi.HEXAGON:o*=2}const l={id:qve++,nodeId:or(t,a),level:e,descr:or(n,a),type:r,children:[],width:((f=a.mindmap)==null?void 0:f.maxNodeWidth)??Mn.mindmap.maxNodeWidth,padding:o},u=lNt(e);if(u)u.children.push(l),pc.push(l);else if(pc.length===0)pc.push(l);else throw new Error('There can be only one root. No parent could be found for ("'+l.descr+'")')},"addNode"),Wi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},hNt=I((e,t)=>{switch(ve.debug("In get type",e,t),e){case"[":return Wi.RECT;case"(":return t===")"?Wi.ROUNDED_RECT:Wi.CLOUD;case"((":return Wi.CIRCLE;case")":return Wi.CLOUD;case"))":return Wi.BANG;case"{{":return Wi.HEXAGON;default:return Wi.DEFAULT}},"getType"),fNt=I((e,t)=>{lF[e]=t},"setElementForId"),dNt=I(e=>{if(!e)return;const t=Pe(),n=pc[pc.length-1];e.icon&&(n.icon=or(e.icon,t)),e.class&&(n.class=or(e.class,t))},"decorateNode"),pNt=I(e=>{switch(e){case Wi.DEFAULT:return"no-border";case Wi.RECT:return"rect";case Wi.ROUNDED_RECT:return"rounded-rect";case Wi.CIRCLE:return"circle";case Wi.CLOUD:return"cloud";case Wi.BANG:return"bang";case Wi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),gNt=I(()=>ve,"getLogger"),mNt=I(e=>lF[e],"getElementById"),vNt={clear:oNt,addNode:uNt,getMindmap:cNt,nodeType:Wi,getType:hNt,setElementForId:fNt,decorateNode:dNt,type2Str:pNt,getLogger:gNt,getElementById:mNt},yNt=vNt,bNt=12,TNt=I(function(e,t,n,r){t.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("d",`M0 ${n.height-5} v${-n.height+2*5} q0,-5 5,-5 h${n.width-2*5} q5,0 5,5 v${n.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",n.height).attr("x2",n.width).attr("y2",n.height)},"defaultBkg"),ENt=I(function(e,t,n){t.append("rect").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("height",n.height).attr("width",n.width)},"rectBkg"),wNt=I(function(e,t,n){const r=n.width,a=n.height,o=.15*r,l=.25*r,u=.35*r,h=.2*r;t.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("d",`M0 0 a${o},${o} 0 0,1 ${r*.25},${-1*r*.1}
      a${u},${u} 1 0,1 ${r*.4},${-1*r*.1}
      a${l},${l} 1 0,1 ${r*.35},${1*r*.2}

      a${o},${o} 1 0,1 ${r*.15},${1*a*.35}
      a${h},${h} 1 0,1 ${-1*r*.15},${1*a*.65}

      a${l},${o} 1 0,1 ${-1*r*.25},${r*.15}
      a${u},${u} 1 0,1 ${-1*r*.5},0
      a${o},${o} 1 0,1 ${-1*r*.25},${-1*r*.15}

      a${o},${o} 1 0,1 ${-1*r*.1},${-1*a*.35}
      a${h},${h} 1 0,1 ${r*.1},${-1*a*.65}

    H0 V0 Z`)},"cloudBkg"),xNt=I(function(e,t,n){const r=n.width,a=n.height,o=.15*r;t.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("d",`M0 0 a${o},${o} 1 0,0 ${r*.25},${-1*a*.1}
      a${o},${o} 1 0,0 ${r*.25},0
      a${o},${o} 1 0,0 ${r*.25},0
      a${o},${o} 1 0,0 ${r*.25},${1*a*.1}

      a${o},${o} 1 0,0 ${r*.15},${1*a*.33}
      a${o*.8},${o*.8} 1 0,0 0,${1*a*.34}
      a${o},${o} 1 0,0 ${-1*r*.15},${1*a*.33}

      a${o},${o} 1 0,0 ${-1*r*.25},${a*.15}
      a${o},${o} 1 0,0 ${-1*r*.25},0
      a${o},${o} 1 0,0 ${-1*r*.25},0
      a${o},${o} 1 0,0 ${-1*r*.25},${-1*a*.15}

      a${o},${o} 1 0,0 ${-1*r*.1},${-1*a*.33}
      a${o*.8},${o*.8} 1 0,0 0,${-1*a*.34}
      a${o},${o} 1 0,0 ${r*.1},${-1*a*.33}

    H0 V0 Z`)},"bangBkg"),SNt=I(function(e,t,n){t.append("circle").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("r",n.width/2)},"circleBkg");function jve(e,t,n,r,a){return e.insert("polygon",":first-child").attr("points",r.map(function(o){return o.x+","+o.y}).join(" ")).attr("transform","translate("+(a.width-t)/2+", "+n+")")}I(jve,"insertPolygonShape");var ANt=I(function(e,t,n){const r=n.height,o=r/4,l=n.width-n.padding+2*o,u=[{x:o,y:0},{x:l-o,y:0},{x:l,y:-r/2},{x:l-o,y:-r},{x:o,y:-r},{x:0,y:-r/2}];jve(t,l,r,u,n)},"hexagonBkg"),INt=I(function(e,t,n){t.append("rect").attr("id","node-"+n.id).attr("class","node-bkg node-"+e.type2Str(n.type)).attr("height",n.height).attr("rx",n.padding).attr("ry",n.padding).attr("width",n.width)},"roundedRectBkg"),CNt=I(async function(e,t,n,r,a){const o=a.htmlLabels,l=r%(bNt-1),u=t.append("g");n.section=l;let h="section-"+l;l<0&&(h+=" section-root"),u.attr("class",(n.class?n.class+" ":"")+"mindmap-node "+h);const f=u.append("g"),d=u.append("g"),p=n.descr.replace(/(<br\/*>)/g,`
`);await Fl(d,p,{useHtmlLabels:o,width:n.width,classes:"mindmap-node-label"},a),o||d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const g=d.node().getBBox(),[m]=If(a.fontSize);if(n.height=g.height+m*1.1*.5+n.padding,n.width=g.width+2*n.padding,n.icon)if(n.type===e.nodeType.CIRCLE)n.height+=50,n.width+=50,u.append("foreignObject").attr("height","50px").attr("width",n.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+n.icon),d.attr("transform","translate("+n.width/2+", "+(n.height/2-1.5*n.padding)+")");else{n.width+=50;const y=n.height;n.height=Math.max(y,60);const b=Math.abs(n.height-y);u.append("foreignObject").attr("width","60px").attr("height",n.height).attr("style","text-align: center;margin-top:"+b/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+n.icon),d.attr("transform","translate("+(25+n.width/2)+", "+(b/2+n.padding/2)+")")}else if(o){const y=(n.width-g.width)/2,b=(n.height-g.height)/2;d.attr("transform","translate("+y+", "+b+")")}else{const y=n.width/2,b=n.padding/2;d.attr("transform","translate("+y+", "+b+")")}switch(n.type){case e.nodeType.DEFAULT:TNt(e,f,n,l);break;case e.nodeType.ROUNDED_RECT:INt(e,f,n,l);break;case e.nodeType.RECT:ENt(e,f,n,l);break;case e.nodeType.CIRCLE:f.attr("transform","translate("+n.width/2+", "+ +n.height/2+")"),SNt(e,f,n,l);break;case e.nodeType.CLOUD:wNt(e,f,n,l);break;case e.nodeType.BANG:xNt(e,f,n,l);break;case e.nodeType.HEXAGON:ANt(e,f,n,l);break}return e.setElementForId(n.id,u),n.height},"drawNode"),RNt=I(function(e,t){const n=e.getElementById(t.id),r=t.x||0,a=t.y||0;n.attr("transform","translate("+r+","+a+")")},"positionNode");bu.use(aNt);async function cF(e,t,n,r,a){await CNt(e,t,n,r,a),n.children&&await Promise.all(n.children.map((o,l)=>cF(e,t,o,r<0?l:r,a)))}I(cF,"drawNodes");function Xve(e,t){t.edges().map((n,r)=>{const a=n.data();if(n[0]._private.bodyBounds){const o=n[0]._private.rscratch;ve.trace("Edge: ",r,a),e.insert("path").attr("d",`M ${o.startX},${o.startY} L ${o.midX},${o.midY} L${o.endX},${o.endY} `).attr("class","edge section-edge-"+a.section+" edge-depth-"+a.depth)}})}I(Xve,"drawEdges");function uF(e,t,n,r){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:r,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(a=>{uF(a,t,n,r+1),t.add({group:"edges",data:{id:`${e.id}_${a.id}`,source:e.id,target:a.id,depth:r,section:a.section}})})}I(uF,"addNodes");function Kve(e,t){return new Promise(n=>{const r=it("body").append("div").attr("id","cy").attr("style","display:none"),a=bu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),uF(e,a,t,0),a.nodes().forEach(function(o){o.layoutDimensions=()=>{const l=o.data();return{w:l.width,h:l.height}}}),a.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),a.ready(o=>{ve.info("Ready",o),n(a)})})}I(Kve,"layoutMindmap");function Zve(e,t){t.nodes().map((n,r)=>{const a=n.data();a.x=n.position().x,a.y=n.position().y,RNt(e,a);const o=e.getElementById(a.nodeId);ve.info("Id:",r,"Position: (",n.position().x,", ",n.position().y,")",a),o.attr("transform",`translate(${n.position().x-a.width/2}, ${n.position().y-a.height/2})`),o.attr("attr",`apa-${r})`)})}I(Zve,"positionNodes");var kNt=I(async(e,t,n,r)=>{var p,g;ve.debug(`Rendering mindmap diagram
`+e);const a=r.db,o=a.getMindmap();if(!o)return;const l=Pe();l.htmlLabels=!1;const u=Cf(t),h=u.append("g");h.attr("class","mindmap-edges");const f=u.append("g");f.attr("class","mindmap-nodes"),await cF(a,f,o,-1,l);const d=await Kve(o,l);Xve(h,d),Zve(a,d),kv(void 0,u,((p=l.mindmap)==null?void 0:p.padding)??Mn.mindmap.padding,((g=l.mindmap)==null?void 0:g.useMaxWidth)??Mn.mindmap.useMaxWidth)},"draw"),ONt={draw:kNt},NNt=I(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],Sf(e["lineColor"+n])?e["lineColor"+n]=Dt(e["lineColor"+n],20):e["lineColor"+n]=Gt(e["lineColor"+n],20);for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const r=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${e["cScale"+n]};
    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${r};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),LNt=I(e=>`
  .edge {
    stroke-width: 3;
  }
  ${NNt(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),_Nt=LNt,DNt={db:yNt,renderer:ONt,parser:sNt,styles:_Nt};const MNt=Object.freeze(Object.defineProperty({__proto__:null,diagram:DNt},Symbol.toStringTag,{value:"Module"}));var sL=function(){var e=I(function(C,N,O,L){for(O=O||{},L=C.length;L--;O[C[L]]=N);return O},"o"),t=[1,4],n=[1,13],r=[1,12],a=[1,15],o=[1,16],l=[1,20],u=[1,19],h=[6,7,8],f=[1,26],d=[1,24],p=[1,25],g=[6,7,11],m=[1,31],y=[6,7,11,24],b=[1,6,13,16,17,20,23],T=[1,35],E=[1,36],w=[1,6,7,11,13,16,17,20,23],x=[1,38],S={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:I(function(N,O,L,k,M,$,_){var F=$.length-1;switch(M){case 6:case 7:return k;case 8:k.getLogger().trace("Stop NL ");break;case 9:k.getLogger().trace("Stop EOF ");break;case 11:k.getLogger().trace("Stop NL2 ");break;case 12:k.getLogger().trace("Stop EOF2 ");break;case 15:k.getLogger().info("Node: ",$[F-1].id),k.addNode($[F-2].length,$[F-1].id,$[F-1].descr,$[F-1].type,$[F]);break;case 16:k.getLogger().info("Node: ",$[F].id),k.addNode($[F-1].length,$[F].id,$[F].descr,$[F].type);break;case 17:k.getLogger().trace("Icon: ",$[F]),k.decorateNode({icon:$[F]});break;case 18:case 23:k.decorateNode({class:$[F]});break;case 19:k.getLogger().trace("SPACELIST");break;case 20:k.getLogger().trace("Node: ",$[F-1].id),k.addNode(0,$[F-1].id,$[F-1].descr,$[F-1].type,$[F]);break;case 21:k.getLogger().trace("Node: ",$[F].id),k.addNode(0,$[F].id,$[F].descr,$[F].type);break;case 22:k.decorateNode({icon:$[F]});break;case 27:k.getLogger().trace("node found ..",$[F-2]),this.$={id:$[F-1],descr:$[F-1],type:k.getType($[F-2],$[F])};break;case 28:this.$={id:$[F],descr:$[F],type:0};break;case 29:k.getLogger().trace("node found ..",$[F-3]),this.$={id:$[F-3],descr:$[F-1],type:k.getType($[F-2],$[F])};break;case 30:this.$=$[F-1]+$[F];break;case 31:this.$=$[F];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:n,7:[1,10],9:9,12:11,13:r,14:14,16:a,17:o,18:17,19:18,20:l,23:u},e(h,[2,3]),{1:[2,2]},e(h,[2,4]),e(h,[2,5]),{1:[2,6],6:n,12:21,13:r,14:14,16:a,17:o,18:17,19:18,20:l,23:u},{6:n,9:22,12:11,13:r,14:14,16:a,17:o,18:17,19:18,20:l,23:u},{6:f,7:d,10:23,11:p},e(g,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:l,23:u}),e(g,[2,19]),e(g,[2,21],{15:30,24:m}),e(g,[2,22]),e(g,[2,23]),e(y,[2,25]),e(y,[2,26]),e(y,[2,28],{20:[1,32]}),{21:[1,33]},{6:f,7:d,10:34,11:p},{1:[2,7],6:n,12:21,13:r,14:14,16:a,17:o,18:17,19:18,20:l,23:u},e(b,[2,14],{7:T,11:E}),e(w,[2,8]),e(w,[2,9]),e(w,[2,10]),e(g,[2,16],{15:37,24:m}),e(g,[2,17]),e(g,[2,18]),e(g,[2,20],{24:x}),e(y,[2,31]),{21:[1,39]},{22:[1,40]},e(b,[2,13],{7:T,11:E}),e(w,[2,11]),e(w,[2,12]),e(g,[2,15],{24:x}),e(y,[2,30]),{22:[1,41]},e(y,[2,27]),e(y,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:I(function(N,O){if(O.recoverable)this.trace(N);else{var L=new Error(N);throw L.hash=O,L}},"parseError"),parse:I(function(N){var O=this,L=[0],k=[],M=[null],$=[],_=this.table,F="",B=0,D=0,P=2,H=1,W=$.slice.call(arguments,1),U=Object.create(this.lexer),V={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(V.yy[G]=this.yy[G]);U.setInput(N,V.yy),V.yy.lexer=U,V.yy.parser=this,typeof U.yylloc>"u"&&(U.yylloc={});var ee=U.yylloc;$.push(ee);var ce=U.options&&U.options.ranges;typeof V.yy.parseError=="function"?this.parseError=V.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Q(oe){L.length=L.length-2*oe,M.length=M.length-oe,$.length=$.length-oe}I(Q,"popStack");function re(){var oe;return oe=k.pop()||U.lex()||H,typeof oe!="number"&&(oe instanceof Array&&(k=oe,oe=k.pop()),oe=O.symbols_[oe]||oe),oe}I(re,"lex");for(var le,Y,K,Z,z={},X,te,ne,Ae;;){if(Y=L[L.length-1],this.defaultActions[Y]?K=this.defaultActions[Y]:((le===null||typeof le>"u")&&(le=re()),K=_[Y]&&_[Y][le]),typeof K>"u"||!K.length||!K[0]){var he="";Ae=[];for(X in _[Y])this.terminals_[X]&&X>P&&Ae.push("'"+this.terminals_[X]+"'");U.showPosition?he="Parse error on line "+(B+1)+`:
`+U.showPosition()+`
Expecting `+Ae.join(", ")+", got '"+(this.terminals_[le]||le)+"'":he="Parse error on line "+(B+1)+": Unexpected "+(le==H?"end of input":"'"+(this.terminals_[le]||le)+"'"),this.parseError(he,{text:U.match,token:this.terminals_[le]||le,line:U.yylineno,loc:ee,expected:Ae})}if(K[0]instanceof Array&&K.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+le);switch(K[0]){case 1:L.push(le),M.push(U.yytext),$.push(U.yylloc),L.push(K[1]),le=null,D=U.yyleng,F=U.yytext,B=U.yylineno,ee=U.yylloc;break;case 2:if(te=this.productions_[K[1]][1],z.$=M[M.length-te],z._$={first_line:$[$.length-(te||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(te||1)].first_column,last_column:$[$.length-1].last_column},ce&&(z._$.range=[$[$.length-(te||1)].range[0],$[$.length-1].range[1]]),Z=this.performAction.apply(z,[F,D,B,V.yy,K[1],M,$].concat(W)),typeof Z<"u")return Z;te&&(L=L.slice(0,-1*te*2),M=M.slice(0,-1*te),$=$.slice(0,-1*te)),L.push(this.productions_[K[1]][0]),M.push(z.$),$.push(z._$),ne=_[L[L.length-2]][L[L.length-1]],L.push(ne);break;case 3:return!0}}return!0},"parse")},A=function(){var C={EOF:1,parseError:I(function(O,L){if(this.yy.parser)this.yy.parser.parseError(O,L);else throw new Error(O)},"parseError"),setInput:I(function(N,O){return this.yy=O||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var O=N.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),N},"input"),unput:I(function(N){var O=N.length,L=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var k=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===k.length?this.yylloc.first_column:0)+k[k.length-L.length].length-L[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(N){this.unput(this.match.slice(N))},"less"),pastInput:I(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var N=this.match;return N.length<20&&(N+=this._input.substr(0,20-N.length)),(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var N=this.pastInput(),O=new Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:I(function(N,O){var L,k,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),k=N[0].match(/(?:\r\n?|\n).*/g),k&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],L=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var $ in M)this[$]=M[$];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var N,O,L,k;this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),$=0;$<M.length;$++)if(L=this._input.match(this.rules[M[$]]),L&&(!O||L[0].length>O[0].length)){if(O=L,k=$,this.options.backtrack_lexer){if(N=this.test_match(L,M[$]),N!==!1)return N;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(N=this.test_match(O,M[k]),N!==!1?N:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var O=this.next();return O||this.lex()},"lex"),begin:I(function(O){this.conditionStack.push(O)},"begin"),popState:I(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:I(function(O){this.begin(O)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(O,L,k,M){switch(k){case 0:return this.pushState("shapeData"),L.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const $=/\n\s*/g;return L.yytext=L.yytext.replace($,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return O.getLogger().trace("Found comment",L.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:O.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return O.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:O.getLogger().trace("end icon"),this.popState();break;case 16:return O.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return O.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return O.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return O.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:O.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return O.getLogger().trace("description:",L.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),O.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),O.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),O.getLogger().trace("node end ...",L.yytext),"NODE_DEND";case 36:return this.popState(),O.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),O.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),O.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),O.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),O.getLogger().trace("node end (("),"NODE_DEND";case 41:return O.getLogger().trace("Long description:",L.yytext),21;case 42:return O.getLogger().trace("Long description:",L.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return C}();S.lexer=A;function R(){this.yy={}}return I(R,"Parser"),R.prototype=S,S.Parser=R,new R}();sL.parser=sL;var PNt=sL,al=[],hF=[],oL=0,fF={},FNt=I(()=>{al=[],hF=[],oL=0,fF={}},"clear"),BNt=I(e=>{if(al.length===0)return null;const t=al[0].level;let n=null;for(let r=al.length-1;r>=0;r--)if(al[r].level===t&&!n&&(n=al[r]),al[r].level<t)throw new Error('Items without section detected, found section ("'+al[r].label+'")');return e===(n==null?void 0:n.level)?null:n},"getSection"),Qve=I(function(){return hF},"getSections"),HNt=I(function(){const e=[],t=[],n=Qve(),r=Pe();for(const a of n){const o={id:a.id,label:or(a.label??"",r),isGroup:!0,ticket:a.ticket,shape:"kanbanSection",level:a.level,look:r.look};t.push(o);const l=al.filter(u=>u.parentId===a.id);for(const u of l){const h={id:u.id,parentId:a.id,label:or(u.label??"",r),isGroup:!1,ticket:u==null?void 0:u.ticket,priority:u==null?void 0:u.priority,assigned:u==null?void 0:u.assigned,icon:u==null?void 0:u.icon,shape:"kanbanItem",level:u.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(h)}}return{nodes:t,edges:e,other:{},config:Pe()}},"getData"),$Nt=I((e,t,n,r,a)=>{var f,d;const o=Pe();let l=((f=o.mindmap)==null?void 0:f.padding)??Mn.mindmap.padding;switch(r){case Ui.ROUNDED_RECT:case Ui.RECT:case Ui.HEXAGON:l*=2}const u={id:or(t,o)||"kbn"+oL++,level:e,label:or(n,o),width:((d=o.mindmap)==null?void 0:d.maxNodeWidth)??Mn.mindmap.maxNodeWidth,padding:l,isGroup:!1};if(a!==void 0){let p;a.includes(`
`)?p=a+`
`:p=`{
`+a+`
}`;const g=M9(p,{schema:D9});if(g.shape&&(g.shape!==g.shape.toLowerCase()||g.shape.includes("_")))throw new Error(`No such shape: ${g.shape}. Shape names should be lowercase.`);g!=null&&g.shape&&g.shape==="kanbanItem"&&(u.shape=g==null?void 0:g.shape),g!=null&&g.label&&(u.label=g==null?void 0:g.label),g!=null&&g.icon&&(u.icon=g==null?void 0:g.icon.toString()),g!=null&&g.assigned&&(u.assigned=g==null?void 0:g.assigned.toString()),g!=null&&g.ticket&&(u.ticket=g==null?void 0:g.ticket.toString()),g!=null&&g.priority&&(u.priority=g==null?void 0:g.priority)}const h=BNt(e);h?u.parentId=h.id||"kbn"+oL++:hF.push(u),al.push(u)},"addNode"),Ui={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},WNt=I((e,t)=>{switch(ve.debug("In get type",e,t),e){case"[":return Ui.RECT;case"(":return t===")"?Ui.ROUNDED_RECT:Ui.CLOUD;case"((":return Ui.CIRCLE;case")":return Ui.CLOUD;case"))":return Ui.BANG;case"{{":return Ui.HEXAGON;default:return Ui.DEFAULT}},"getType"),UNt=I((e,t)=>{fF[e]=t},"setElementForId"),GNt=I(e=>{if(!e)return;const t=Pe(),n=al[al.length-1];e.icon&&(n.icon=or(e.icon,t)),e.class&&(n.cssClasses=or(e.class,t))},"decorateNode"),zNt=I(e=>{switch(e){case Ui.DEFAULT:return"no-border";case Ui.RECT:return"rect";case Ui.ROUNDED_RECT:return"rounded-rect";case Ui.CIRCLE:return"circle";case Ui.CLOUD:return"cloud";case Ui.BANG:return"bang";case Ui.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),YNt=I(()=>ve,"getLogger"),VNt=I(e=>fF[e],"getElementById"),qNt={clear:FNt,addNode:$Nt,getSections:Qve,getData:HNt,nodeType:Ui,getType:WNt,setElementForId:UNt,decorateNode:GNt,type2Str:zNt,getLogger:YNt,getElementById:VNt},jNt=qNt,XNt=I(async(e,t,n,r)=>{var T,E,w,x,S;ve.debug(`Rendering kanban diagram
`+e);const o=r.db.getData(),l=Pe();l.htmlLabels=!1;const u=Cf(t),h=u.append("g");h.attr("class","sections");const f=u.append("g");f.attr("class","items");const d=o.nodes.filter(A=>A.isGroup);let p=0;const g=10,m=[];let y=25;for(const A of d){const R=((T=l==null?void 0:l.kanban)==null?void 0:T.sectionWidth)||200;p=p+1,A.x=R*p+(p-1)*g/2,A.width=R,A.y=0,A.height=R*3,A.rx=5,A.ry=5,A.cssClasses=A.cssClasses+" section-"+p;const C=await bD(h,A);y=Math.max(y,(E=C==null?void 0:C.labelBBox)==null?void 0:E.height),m.push(C)}let b=0;for(const A of d){const R=m[b];b=b+1;const C=((w=l==null?void 0:l.kanban)==null?void 0:w.sectionWidth)||200,N=-C*3/2+y;let O=N;const L=o.nodes.filter($=>$.parentId===A.id);for(const $ of L){if($.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");$.x=A.x,$.width=C-1.5*g;const F=(await l6(f,$,{config:l})).node().getBBox();$.y=O+F.height/2,await a8($),O=$.y+F.height/2+g/2}const k=R.cluster.select("rect"),M=Math.max(O-N+3*g,50)+(y-25);k.attr("height",M)}kv(void 0,u,((x=l.mindmap)==null?void 0:x.padding)??Mn.kanban.padding,((S=l.mindmap)==null?void 0:S.useMaxWidth)??Mn.kanban.useMaxWidth)},"draw"),KNt={draw:XNt},ZNt=I(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Sf(e["lineColor"+r])?e["lineColor"+r]=Dt(e["lineColor"+r],20):e["lineColor"+r]=Gt(e["lineColor"+r],20);const n=I((r,a)=>e.darkMode?Gt(r,a):Dt(r,a),"adjuster");for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const a=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${n(e["cScale"+r],10)};
      stroke: ${n(e["cScale"+r],10)};

    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${a};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),QNt=I(e=>`
  .edge {
    stroke-width: 3;
  }
  ${ZNt(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),JNt=QNt,e8t={db:jNt,renderer:KNt,parser:PNt,styles:JNt};const t8t=Object.freeze(Object.defineProperty({__proto__:null,diagram:e8t},Symbol.toStringTag,{value:"Module"}));function eK(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Jve(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function qk(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}function n8t(e){return e.target.depth}function r8t(e){return e.depth}function i8t(e,t){return t-1-e.height}function eye(e,t){return e.sourceLinks.length?e.depth:t-1}function a8t(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Jve(e.sourceLinks,n8t)-1:0}function M3(e){return function(){return e}}function tK(e,t){return O5(e.source,t.source)||e.index-t.index}function nK(e,t){return O5(e.target,t.target)||e.index-t.index}function O5(e,t){return e.y0-t.y0}function jk(e){return e.value}function s8t(e){return e.index}function o8t(e){return e.nodes}function l8t(e){return e.links}function rK(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function iK({nodes:e}){for(const t of e){let n=t.y0,r=n;for(const a of t.sourceLinks)a.y0=n+a.width/2,n+=a.width;for(const a of t.targetLinks)a.y1=r+a.width/2,r+=a.width}}function c8t(){let e=0,t=0,n=1,r=1,a=24,o=8,l,u=s8t,h=eye,f,d,p=o8t,g=l8t,m=6;function y(){const F={nodes:p.apply(null,arguments),links:g.apply(null,arguments)};return b(F),T(F),E(F),w(F),A(F),iK(F),F}y.update=function(F){return iK(F),F},y.nodeId=function(F){return arguments.length?(u=typeof F=="function"?F:M3(F),y):u},y.nodeAlign=function(F){return arguments.length?(h=typeof F=="function"?F:M3(F),y):h},y.nodeSort=function(F){return arguments.length?(f=F,y):f},y.nodeWidth=function(F){return arguments.length?(a=+F,y):a},y.nodePadding=function(F){return arguments.length?(o=l=+F,y):o},y.nodes=function(F){return arguments.length?(p=typeof F=="function"?F:M3(F),y):p},y.links=function(F){return arguments.length?(g=typeof F=="function"?F:M3(F),y):g},y.linkSort=function(F){return arguments.length?(d=F,y):d},y.size=function(F){return arguments.length?(e=t=0,n=+F[0],r=+F[1],y):[n-e,r-t]},y.extent=function(F){return arguments.length?(e=+F[0][0],n=+F[1][0],t=+F[0][1],r=+F[1][1],y):[[e,t],[n,r]]},y.iterations=function(F){return arguments.length?(m=+F,y):m};function b({nodes:F,links:B}){for(const[P,H]of F.entries())H.index=P,H.sourceLinks=[],H.targetLinks=[];const D=new Map(F.map((P,H)=>[u(P,H,F),P]));for(const[P,H]of B.entries()){H.index=P;let{source:W,target:U}=H;typeof W!="object"&&(W=H.source=rK(D,W)),typeof U!="object"&&(U=H.target=rK(D,U)),W.sourceLinks.push(H),U.targetLinks.push(H)}if(d!=null)for(const{sourceLinks:P,targetLinks:H}of F)P.sort(d),H.sort(d)}function T({nodes:F}){for(const B of F)B.value=B.fixedValue===void 0?Math.max(qk(B.sourceLinks,jk),qk(B.targetLinks,jk)):B.fixedValue}function E({nodes:F}){const B=F.length;let D=new Set(F),P=new Set,H=0;for(;D.size;){for(const W of D){W.depth=H;for(const{target:U}of W.sourceLinks)P.add(U)}if(++H>B)throw new Error("circular link");D=P,P=new Set}}function w({nodes:F}){const B=F.length;let D=new Set(F),P=new Set,H=0;for(;D.size;){for(const W of D){W.height=H;for(const{source:U}of W.targetLinks)P.add(U)}if(++H>B)throw new Error("circular link");D=P,P=new Set}}function x({nodes:F}){const B=eK(F,H=>H.depth)+1,D=(n-e-a)/(B-1),P=new Array(B);for(const H of F){const W=Math.max(0,Math.min(B-1,Math.floor(h.call(null,H,B))));H.layer=W,H.x0=e+W*D,H.x1=H.x0+a,P[W]?P[W].push(H):P[W]=[H]}if(f)for(const H of P)H.sort(f);return P}function S(F){const B=Jve(F,D=>(r-t-(D.length-1)*l)/qk(D,jk));for(const D of F){let P=t;for(const H of D){H.y0=P,H.y1=P+H.value*B,P=H.y1+l;for(const W of H.sourceLinks)W.width=W.value*B}P=(r-P+l)/(D.length+1);for(let H=0;H<D.length;++H){const W=D[H];W.y0+=P*(H+1),W.y1+=P*(H+1)}M(D)}}function A(F){const B=x(F);l=Math.min(o,(r-t)/(eK(B,D=>D.length)-1)),S(B);for(let D=0;D<m;++D){const P=Math.pow(.99,D),H=Math.max(1-P,(D+1)/m);C(B,P,H),R(B,P,H)}}function R(F,B,D){for(let P=1,H=F.length;P<H;++P){const W=F[P];for(const U of W){let V=0,G=0;for(const{source:ce,value:Q}of U.targetLinks){let re=Q*(U.layer-ce.layer);V+=$(ce,U)*re,G+=re}if(!(G>0))continue;let ee=(V/G-U.y0)*B;U.y0+=ee,U.y1+=ee,k(U)}f===void 0&&W.sort(O5),N(W,D)}}function C(F,B,D){for(let P=F.length,H=P-2;H>=0;--H){const W=F[H];for(const U of W){let V=0,G=0;for(const{target:ce,value:Q}of U.sourceLinks){let re=Q*(ce.layer-U.layer);V+=_(U,ce)*re,G+=re}if(!(G>0))continue;let ee=(V/G-U.y0)*B;U.y0+=ee,U.y1+=ee,k(U)}f===void 0&&W.sort(O5),N(W,D)}}function N(F,B){const D=F.length>>1,P=F[D];L(F,P.y0-l,D-1,B),O(F,P.y1+l,D+1,B),L(F,r,F.length-1,B),O(F,t,0,B)}function O(F,B,D,P){for(;D<F.length;++D){const H=F[D],W=(B-H.y0)*P;W>1e-6&&(H.y0+=W,H.y1+=W),B=H.y1+l}}function L(F,B,D,P){for(;D>=0;--D){const H=F[D],W=(H.y1-B)*P;W>1e-6&&(H.y0-=W,H.y1-=W),B=H.y0-l}}function k({sourceLinks:F,targetLinks:B}){if(d===void 0){for(const{source:{sourceLinks:D}}of B)D.sort(nK);for(const{target:{targetLinks:D}}of F)D.sort(tK)}}function M(F){if(d===void 0)for(const{sourceLinks:B,targetLinks:D}of F)B.sort(nK),D.sort(tK)}function $(F,B){let D=F.y0-(F.sourceLinks.length-1)*l/2;for(const{target:P,width:H}of F.sourceLinks){if(P===B)break;D+=H+l}for(const{source:P,width:H}of B.targetLinks){if(P===F)break;D-=H}return D}function _(F,B){let D=B.y0-(B.targetLinks.length-1)*l/2;for(const{source:P,width:H}of B.targetLinks){if(P===F)break;D+=H+l}for(const{target:P,width:H}of F.sourceLinks){if(P===B)break;D-=H}return D}return y}var lL=Math.PI,cL=2*lL,hd=1e-6,u8t=cL-hd;function uL(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function tye(){return new uL}uL.prototype=tye.prototype={constructor:uL,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,l=this._y1,u=n-e,h=r-t,f=o-e,d=l-t,p=f*f+d*d;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>hd)if(!(Math.abs(d*u-h*f)>hd)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=n-o,m=r-l,y=u*u+h*h,b=g*g+m*m,T=Math.sqrt(y),E=Math.sqrt(p),w=a*Math.tan((lL-Math.acos((y+p-b)/(2*T*E)))/2),x=w/E,S=w/T;Math.abs(x-1)>hd&&(this._+="L"+(e+x*f)+","+(t+x*d)),this._+="A"+a+","+a+",0,0,"+ +(d*g>f*m)+","+(this._x1=e+S*u)+","+(this._y1=t+S*h)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var l=n*Math.cos(r),u=n*Math.sin(r),h=e+l,f=t+u,d=1^o,p=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+f:(Math.abs(this._x1-h)>hd||Math.abs(this._y1-f)>hd)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%cL+cL),p>u8t?this._+="A"+n+","+n+",0,1,"+d+","+(e-l)+","+(t-u)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>hd&&(this._+="A"+n+","+n+",0,"+ +(p>=lL)+","+d+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function aK(e){return function(){return e}}function h8t(e){return e[0]}function f8t(e){return e[1]}var d8t=Array.prototype.slice;function p8t(e){return e.source}function g8t(e){return e.target}function m8t(e){var t=p8t,n=g8t,r=h8t,a=f8t,o=null;function l(){var u,h=d8t.call(arguments),f=t.apply(this,h),d=n.apply(this,h);if(o||(o=u=tye()),e(o,+r.apply(this,(h[0]=f,h)),+a.apply(this,h),+r.apply(this,(h[0]=d,h)),+a.apply(this,h)),u)return o=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:aK(+u),l):r},l.y=function(u){return arguments.length?(a=typeof u=="function"?u:aK(+u),l):a},l.context=function(u){return arguments.length?(o=u??null,l):o},l}function v8t(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function y8t(){return m8t(v8t)}function b8t(e){return[e.source.x1,e.y0]}function T8t(e){return[e.target.x0,e.y1]}function E8t(){return y8t().source(b8t).target(T8t)}var hL=function(){var e=I(function(u,h,f,d){for(f=f||{},d=u.length;d--;f[u[d]]=h);return f},"o"),t=[1,9],n=[1,10],r=[1,5,10,12],a={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:I(function(h,f,d,p,g,m,y){var b=m.length-1;switch(g){case 7:const T=p.findOrCreateNode(m[b-4].trim().replaceAll('""','"')),E=p.findOrCreateNode(m[b-2].trim().replaceAll('""','"')),w=parseFloat(m[b].trim());p.addLink(T,E,w);break;case 8:case 9:case 11:this.$=m[b];break;case 10:this.$=m[b-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:n},{1:[2,6],7:11,10:[1,12]},e(n,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(r,[2,8]),e(r,[2,9]),{19:[1,16]},e(r,[2,11]),{1:[2,1]},{1:[2,5]},e(n,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:n},{15:18,16:7,17:8,18:t,20:n},{18:[1,19]},e(n,[2,3]),{12:[1,20]},e(r,[2,10]),{15:21,16:7,17:8,18:t,20:n},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:I(function(h,f){if(f.recoverable)this.trace(h);else{var d=new Error(h);throw d.hash=f,d}},"parseError"),parse:I(function(h){var f=this,d=[0],p=[],g=[null],m=[],y=this.table,b="",T=0,E=0,w=2,x=1,S=m.slice.call(arguments,1),A=Object.create(this.lexer),R={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(R.yy[C]=this.yy[C]);A.setInput(h,R.yy),R.yy.lexer=A,R.yy.parser=this,typeof A.yylloc>"u"&&(A.yylloc={});var N=A.yylloc;m.push(N);var O=A.options&&A.options.ranges;typeof R.yy.parseError=="function"?this.parseError=R.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function L(V){d.length=d.length-2*V,g.length=g.length-V,m.length=m.length-V}I(L,"popStack");function k(){var V;return V=p.pop()||A.lex()||x,typeof V!="number"&&(V instanceof Array&&(p=V,V=p.pop()),V=f.symbols_[V]||V),V}I(k,"lex");for(var M,$,_,F,B={},D,P,H,W;;){if($=d[d.length-1],this.defaultActions[$]?_=this.defaultActions[$]:((M===null||typeof M>"u")&&(M=k()),_=y[$]&&y[$][M]),typeof _>"u"||!_.length||!_[0]){var U="";W=[];for(D in y[$])this.terminals_[D]&&D>w&&W.push("'"+this.terminals_[D]+"'");A.showPosition?U="Parse error on line "+(T+1)+`:
`+A.showPosition()+`
Expecting `+W.join(", ")+", got '"+(this.terminals_[M]||M)+"'":U="Parse error on line "+(T+1)+": Unexpected "+(M==x?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(U,{text:A.match,token:this.terminals_[M]||M,line:A.yylineno,loc:N,expected:W})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+M);switch(_[0]){case 1:d.push(M),g.push(A.yytext),m.push(A.yylloc),d.push(_[1]),M=null,E=A.yyleng,b=A.yytext,T=A.yylineno,N=A.yylloc;break;case 2:if(P=this.productions_[_[1]][1],B.$=g[g.length-P],B._$={first_line:m[m.length-(P||1)].first_line,last_line:m[m.length-1].last_line,first_column:m[m.length-(P||1)].first_column,last_column:m[m.length-1].last_column},O&&(B._$.range=[m[m.length-(P||1)].range[0],m[m.length-1].range[1]]),F=this.performAction.apply(B,[b,E,T,R.yy,_[1],g,m].concat(S)),typeof F<"u")return F;P&&(d=d.slice(0,-1*P*2),g=g.slice(0,-1*P),m=m.slice(0,-1*P)),d.push(this.productions_[_[1]][0]),g.push(B.$),m.push(B._$),H=y[d[d.length-2]][d[d.length-1]],d.push(H);break;case 3:return!0}}return!0},"parse")},o=function(){var u={EOF:1,parseError:I(function(f,d){if(this.yy.parser)this.yy.parser.parseError(f,d);else throw new Error(f)},"parseError"),setInput:I(function(h,f){return this.yy=f||this.yy||{},this._input=h,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var h=this._input[0];this.yytext+=h,this.yyleng++,this.offset++,this.match+=h,this.matched+=h;var f=h.match(/(?:\r\n?|\n).*/g);return f?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),h},"input"),unput:I(function(h){var f=h.length,d=h.split(/(?:\r\n?|\n)/g);this._input=h+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var g=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(h){this.unput(this.match.slice(h))},"less"),pastInput:I(function(){var h=this.matched.substr(0,this.matched.length-this.match.length);return(h.length>20?"...":"")+h.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var h=this.match;return h.length<20&&(h+=this._input.substr(0,20-h.length)),(h.substr(0,20)+(h.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var h=this.pastInput(),f=new Array(h.length+1).join("-");return h+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:I(function(h,f){var d,p,g;if(this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0))),p=h[0].match(/(?:\r\n?|\n).*/g),p&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],d=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var m in g)this[m]=g[m];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var h,f,d,p;this._more||(this.yytext="",this.match="");for(var g=this._currentRules(),m=0;m<g.length;m++)if(d=this._input.match(this.rules[g[m]]),d&&(!f||d[0].length>f[0].length)){if(f=d,p=m,this.options.backtrack_lexer){if(h=this.test_match(d,g[m]),h!==!1)return h;if(this._backtrack){f=!1;continue}else return!1}else if(!this.options.flex)break}return f?(h=this.test_match(f,g[p]),h!==!1?h:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var f=this.next();return f||this.lex()},"lex"),begin:I(function(f){this.conditionStack.push(f)},"begin"),popState:I(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:I(function(f){this.begin(f)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:I(function(f,d,p,g){switch(p){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return u}();a.lexer=o;function l(){this.yy={}}return I(l,"Parser"),l.prototype=a,a.Parser=l,new l}();hL.parser=hL;var N5=hL,xI=[],SI=[],L5=new Map,w8t=I(()=>{xI=[],SI=[],L5=new Map,fa()},"clear"),fm,x8t=(fm=class{constructor(t,n,r=0){this.source=t,this.target=n,this.value=r}},I(fm,"SankeyLink"),fm),S8t=I((e,t,n)=>{xI.push(new x8t(e,t,n))},"addLink"),dm,A8t=(dm=class{constructor(t){this.ID=t}},I(dm,"SankeyNode"),dm),I8t=I(e=>{e=ot.sanitizeText(e,Pe());let t=L5.get(e);return t===void 0&&(t=new A8t(e),L5.set(e,t),SI.push(t)),t},"findOrCreateNode"),C8t=I(()=>SI,"getNodes"),R8t=I(()=>xI,"getLinks"),k8t=I(()=>({nodes:SI.map(e=>({id:e.ID})),links:xI.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),O8t={nodesMap:L5,getConfig:I(()=>Pe().sankey,"getConfig"),getNodes:C8t,getLinks:R8t,getGraph:k8t,addLink:S8t,findOrCreateNode:I8t,getAccTitle:La,setAccTitle:da,getAccDescription:Da,setAccDescription:_a,getDiagramTitle:Ma,setDiagramTitle:Ds,clear:w8t},ch,sK=(ch=class{static next(t){return new ch(t+ ++ch.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},I(ch,"Uid"),ch.count=0,ch),N8t={left:r8t,right:i8t,center:a8t,justify:eye},L8t=I(function(e,t,n,r){const{securityLevel:a,sankey:o}=Pe(),l=fie.sankey;let u;a==="sandbox"&&(u=it("#i"+t));const h=it(a==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=a==="sandbox"?h.select(`[id="${t}"]`):it(`[id="${t}"]`),d=(o==null?void 0:o.width)??l.width,p=(o==null?void 0:o.height)??l.width,g=(o==null?void 0:o.useMaxWidth)??l.useMaxWidth,m=(o==null?void 0:o.nodeAlignment)??l.nodeAlignment,y=(o==null?void 0:o.prefix)??l.prefix,b=(o==null?void 0:o.suffix)??l.suffix,T=(o==null?void 0:o.showValues)??l.showValues,E=r.db.getGraph(),w=N8t[m];c8t().nodeId(L=>L.id).nodeWidth(10).nodePadding(10+(T?15:0)).nodeAlign(w).extent([[0,0],[d,p]])(E);const A=XA(mKe);f.append("g").attr("class","nodes").selectAll(".node").data(E.nodes).join("g").attr("class","node").attr("id",L=>(L.uid=sK.next("node-")).id).attr("transform",function(L){return"translate("+L.x0+","+L.y0+")"}).attr("x",L=>L.x0).attr("y",L=>L.y0).append("rect").attr("height",L=>L.y1-L.y0).attr("width",L=>L.x1-L.x0).attr("fill",L=>A(L.id));const R=I(({id:L,value:k})=>T?`${L}
${y}${Math.round(k*100)/100}${b}`:L,"getText");f.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(E.nodes).join("text").attr("x",L=>L.x0<d/2?L.x1+6:L.x0-6).attr("y",L=>(L.y1+L.y0)/2).attr("dy",`${T?"0":"0.35"}em`).attr("text-anchor",L=>L.x0<d/2?"start":"end").text(R);const C=f.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(E.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),N=(o==null?void 0:o.linkColor)??"gradient";if(N==="gradient"){const L=C.append("linearGradient").attr("id",k=>(k.uid=sK.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",k=>k.source.x1).attr("x2",k=>k.target.x0);L.append("stop").attr("offset","0%").attr("stop-color",k=>A(k.source.id)),L.append("stop").attr("offset","100%").attr("stop-color",k=>A(k.target.id))}let O;switch(N){case"gradient":O=I(L=>L.uid,"coloring");break;case"source":O=I(L=>A(L.source.id),"coloring");break;case"target":O=I(L=>A(L.target.id),"coloring");break;default:O=N}C.append("path").attr("d",E8t()).attr("stroke",O).attr("stroke-width",L=>Math.max(1,L.width)),kv(void 0,f,0,g)},"draw"),_8t={draw:L8t},D8t=I(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),M8t=N5.parse.bind(N5);N5.parse=e=>M8t(D8t(e));var P8t={parser:N5,db:O8t,renderer:_8t};const F8t=Object.freeze(Object.defineProperty({__proto__:null,diagram:P8t},Symbol.toStringTag,{value:"Module"}));var nye={packet:[]},dF=structuredClone(nye),B8t=Mn.packet,H8t=I(()=>{const e=Yh({...B8t,...Br().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),$8t=I(()=>dF.packet,"getPacket"),W8t=I(e=>{e.length>0&&dF.packet.push(e)},"pushWord"),U8t=I(()=>{fa(),dF=structuredClone(nye)},"clear"),Lg={pushWord:W8t,getPacket:$8t,getConfig:H8t,clear:U8t,setAccTitle:da,getAccTitle:La,setDiagramTitle:Ds,getDiagramTitle:Ma,getAccDescription:Da,setAccDescription:_a},G8t=1e4,z8t=I(e=>{AE(e,Lg);let t=-1,n=[],r=1;const{bitsPerRow:a}=Lg.getConfig();for(let{start:o,end:l,label:u}of e.blocks){if(l&&l<o)throw new Error(`Packet block ${o} - ${l} is invalid. End must be greater than start.`);if(o!==t+1)throw new Error(`Packet block ${o} - ${l??o} is not contiguous. It should start from ${t+1}.`);for(t=l??o,ve.debug(`Packet block ${o} - ${t} with label ${u}`);n.length<=a+1&&Lg.getPacket().length<G8t;){const[h,f]=Y8t({start:o,end:l,label:u},r,a);if(n.push(h),h.end+1===r*a&&(Lg.pushWord(n),n=[],r++),!f)break;({start:o,end:l,label:u}=f)}}Lg.pushWord(n)},"populate"),Y8t=I((e,t,n)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*n?[e,void 0]:[{start:e.start,end:t*n-1,label:e.label},{start:t*n,end:e.end,label:e.label}]},"getNextFittingBlock"),V8t={parse:I(async e=>{const t=await qv("packet",e);ve.debug(t),z8t(t)},"parse")},q8t=I((e,t,n,r)=>{const a=r.db,o=a.getConfig(),{rowHeight:l,paddingY:u,bitWidth:h,bitsPerRow:f}=o,d=a.getPacket(),p=a.getDiagramTitle(),g=l+u,m=g*(d.length+1)-(p?0:l),y=h*f+2,b=Cf(t);b.attr("viewbox",`0 0 ${y} ${m}`),ss(b,m,y,o.useMaxWidth);for(const[T,E]of d.entries())j8t(b,E,T,o);b.append("text").text(p).attr("x",y/2).attr("y",m-g/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),j8t=I((e,t,n,{rowHeight:r,paddingX:a,paddingY:o,bitWidth:l,bitsPerRow:u,showBits:h})=>{const f=e.append("g"),d=n*(r+o)+o;for(const p of t){const g=p.start%u*l+1,m=(p.end-p.start+1)*l-a;if(f.append("rect").attr("x",g).attr("y",d).attr("width",m).attr("height",r).attr("class","packetBlock"),f.append("text").attr("x",g+m/2).attr("y",d+r/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!h)continue;const y=p.end===p.start,b=d-2;f.append("text").attr("x",g+(y?m/2:0)).attr("y",b).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",y?"middle":"start").text(p.start),y||f.append("text").attr("x",g+m).attr("y",b).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),X8t={draw:q8t},K8t={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Z8t=I(({packet:e}={})=>{const t=Yh(K8t,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles"),Q8t={parser:V8t,db:Lg,renderer:X8t,styles:Z8t};const J8t=Object.freeze(Object.defineProperty({__proto__:null,diagram:Q8t},Symbol.toStringTag,{value:"Module"}));var fL=function(){var e=I(function(x,S,A,R){for(A=A||{},R=x.length;R--;A[x[R]]=S);return A},"o"),t=[1,7],n=[1,13],r=[1,14],a=[1,15],o=[1,19],l=[1,16],u=[1,17],h=[1,18],f=[8,30],d=[8,21,28,29,30,31,32,40,44,47],p=[1,23],g=[1,24],m=[8,15,16,21,28,29,30,31,32,40,44,47],y=[8,15,16,21,27,28,29,30,31,32,40,44,47],b=[1,49],T={trace:I(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:I(function(S,A,R,C,N,O,L){var k=O.length-1;switch(N){case 4:C.getLogger().debug("Rule: separator (NL) ");break;case 5:C.getLogger().debug("Rule: separator (Space) ");break;case 6:C.getLogger().debug("Rule: separator (EOF) ");break;case 7:C.getLogger().debug("Rule: hierarchy: ",O[k-1]),C.setHierarchy(O[k-1]);break;case 8:C.getLogger().debug("Stop NL ");break;case 9:C.getLogger().debug("Stop EOF ");break;case 10:C.getLogger().debug("Stop NL2 ");break;case 11:C.getLogger().debug("Stop EOF2 ");break;case 12:C.getLogger().debug("Rule: statement: ",O[k]),typeof O[k].length=="number"?this.$=O[k]:this.$=[O[k]];break;case 13:C.getLogger().debug("Rule: statement #2: ",O[k-1]),this.$=[O[k-1]].concat(O[k]);break;case 14:C.getLogger().debug("Rule: link: ",O[k],S),this.$={edgeTypeStr:O[k],label:""};break;case 15:C.getLogger().debug("Rule: LABEL link: ",O[k-3],O[k-1],O[k]),this.$={edgeTypeStr:O[k],label:O[k-1]};break;case 18:const M=parseInt(O[k]),$=C.generateId();this.$={id:$,type:"space",label:"",width:M,children:[]};break;case 23:C.getLogger().debug("Rule: (nodeStatement link node) ",O[k-2],O[k-1],O[k]," typestr: ",O[k-1].edgeTypeStr);const _=C.edgeStrToEdgeData(O[k-1].edgeTypeStr);this.$=[{id:O[k-2].id,label:O[k-2].label,type:O[k-2].type,directions:O[k-2].directions},{id:O[k-2].id+"-"+O[k].id,start:O[k-2].id,end:O[k].id,label:O[k-1].label,type:"edge",directions:O[k].directions,arrowTypeEnd:_,arrowTypeStart:"arrow_open"},{id:O[k].id,label:O[k].label,type:C.typeStr2Type(O[k].typeStr),directions:O[k].directions}];break;case 24:C.getLogger().debug("Rule: nodeStatement (abc88 node size) ",O[k-1],O[k]),this.$={id:O[k-1].id,label:O[k-1].label,type:C.typeStr2Type(O[k-1].typeStr),directions:O[k-1].directions,widthInColumns:parseInt(O[k],10)};break;case 25:C.getLogger().debug("Rule: nodeStatement (node) ",O[k]),this.$={id:O[k].id,label:O[k].label,type:C.typeStr2Type(O[k].typeStr),directions:O[k].directions,widthInColumns:1};break;case 26:C.getLogger().debug("APA123",this?this:"na"),C.getLogger().debug("COLUMNS: ",O[k]),this.$={type:"column-setting",columns:O[k]==="auto"?-1:parseInt(O[k])};break;case 27:C.getLogger().debug("Rule: id-block statement : ",O[k-2],O[k-1]),C.generateId(),this.$={...O[k-2],type:"composite",children:O[k-1]};break;case 28:C.getLogger().debug("Rule: blockStatement : ",O[k-2],O[k-1],O[k]);const F=C.generateId();this.$={id:F,type:"composite",label:"",children:O[k-1]};break;case 29:C.getLogger().debug("Rule: node (NODE_ID separator): ",O[k]),this.$={id:O[k]};break;case 30:C.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",O[k-1],O[k]),this.$={id:O[k-1],label:O[k].label,typeStr:O[k].typeStr,directions:O[k].directions};break;case 31:C.getLogger().debug("Rule: dirList: ",O[k]),this.$=[O[k]];break;case 32:C.getLogger().debug("Rule: dirList: ",O[k-1],O[k]),this.$=[O[k-1]].concat(O[k]);break;case 33:C.getLogger().debug("Rule: nodeShapeNLabel: ",O[k-2],O[k-1],O[k]),this.$={typeStr:O[k-2]+O[k],label:O[k-1]};break;case 34:C.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",O[k-3],O[k-2]," #3:",O[k-1],O[k]),this.$={typeStr:O[k-3]+O[k],label:O[k-2],directions:O[k-1]};break;case 35:case 36:this.$={type:"classDef",id:O[k-1].trim(),css:O[k].trim()};break;case 37:this.$={type:"applyClass",id:O[k-1].trim(),styleClass:O[k].trim()};break;case 38:this.$={type:"applyStyles",id:O[k-1].trim(),stylesStr:O[k].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:n,29:r,31:a,32:o,40:l,44:u,47:h},{8:[1,20]},e(f,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:n,29:r,31:a,32:o,40:l,44:u,47:h}),e(d,[2,16],{14:22,15:p,16:g}),e(d,[2,17]),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,22]),e(m,[2,25],{27:[1,25]}),e(d,[2,26]),{19:26,26:12,32:o},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:n,29:r,31:a,32:o,40:l,44:u,47:h},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(y,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(f,[2,13]),{26:35,32:o},{32:[2,14]},{17:[1,36]},e(m,[2,24]),{11:37,13:4,14:22,15:p,16:g,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:n,29:r,31:a,32:o,40:l,44:u,47:h},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(y,[2,30]),{18:[1,43]},{18:[1,44]},e(m,[2,23]),{18:[1,45]},{30:[1,46]},e(d,[2,28]),e(d,[2,35]),e(d,[2,36]),e(d,[2,37]),e(d,[2,38]),{37:[1,47]},{34:48,35:b},{15:[1,50]},e(d,[2,27]),e(y,[2,33]),{39:[1,51]},{34:52,35:b,39:[2,31]},{32:[2,15]},e(y,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:I(function(S,A){if(A.recoverable)this.trace(S);else{var R=new Error(S);throw R.hash=A,R}},"parseError"),parse:I(function(S){var A=this,R=[0],C=[],N=[null],O=[],L=this.table,k="",M=0,$=0,_=2,F=1,B=O.slice.call(arguments,1),D=Object.create(this.lexer),P={yy:{}};for(var H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(P.yy[H]=this.yy[H]);D.setInput(S,P.yy),P.yy.lexer=D,P.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var W=D.yylloc;O.push(W);var U=D.options&&D.options.ranges;typeof P.yy.parseError=="function"?this.parseError=P.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function V(te){R.length=R.length-2*te,N.length=N.length-te,O.length=O.length-te}I(V,"popStack");function G(){var te;return te=C.pop()||D.lex()||F,typeof te!="number"&&(te instanceof Array&&(C=te,te=C.pop()),te=A.symbols_[te]||te),te}I(G,"lex");for(var ee,ce,Q,re,le={},Y,K,Z,z;;){if(ce=R[R.length-1],this.defaultActions[ce]?Q=this.defaultActions[ce]:((ee===null||typeof ee>"u")&&(ee=G()),Q=L[ce]&&L[ce][ee]),typeof Q>"u"||!Q.length||!Q[0]){var X="";z=[];for(Y in L[ce])this.terminals_[Y]&&Y>_&&z.push("'"+this.terminals_[Y]+"'");D.showPosition?X="Parse error on line "+(M+1)+`:
`+D.showPosition()+`
Expecting `+z.join(", ")+", got '"+(this.terminals_[ee]||ee)+"'":X="Parse error on line "+(M+1)+": Unexpected "+(ee==F?"end of input":"'"+(this.terminals_[ee]||ee)+"'"),this.parseError(X,{text:D.match,token:this.terminals_[ee]||ee,line:D.yylineno,loc:W,expected:z})}if(Q[0]instanceof Array&&Q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+ee);switch(Q[0]){case 1:R.push(ee),N.push(D.yytext),O.push(D.yylloc),R.push(Q[1]),ee=null,$=D.yyleng,k=D.yytext,M=D.yylineno,W=D.yylloc;break;case 2:if(K=this.productions_[Q[1]][1],le.$=N[N.length-K],le._$={first_line:O[O.length-(K||1)].first_line,last_line:O[O.length-1].last_line,first_column:O[O.length-(K||1)].first_column,last_column:O[O.length-1].last_column},U&&(le._$.range=[O[O.length-(K||1)].range[0],O[O.length-1].range[1]]),re=this.performAction.apply(le,[k,$,M,P.yy,Q[1],N,O].concat(B)),typeof re<"u")return re;K&&(R=R.slice(0,-1*K*2),N=N.slice(0,-1*K),O=O.slice(0,-1*K)),R.push(this.productions_[Q[1]][0]),N.push(le.$),O.push(le._$),Z=L[R[R.length-2]][R[R.length-1]],R.push(Z);break;case 3:return!0}}return!0},"parse")},E=function(){var x={EOF:1,parseError:I(function(A,R){if(this.yy.parser)this.yy.parser.parseError(A,R);else throw new Error(A)},"parseError"),setInput:I(function(S,A){return this.yy=A||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:I(function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var A=S.match(/(?:\r\n?|\n).*/g);return A?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},"input"),unput:I(function(S){var A=S.length,R=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.offset-=A;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===C.length?this.yylloc.first_column:0)+C[C.length-R.length].length-R[0].length:this.yylloc.first_column-A},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-A]),this.yyleng=this.yytext.length,this},"unput"),more:I(function(){return this._more=!0,this},"more"),reject:I(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:I(function(S){this.unput(this.match.slice(S))},"less"),pastInput:I(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:I(function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:I(function(){var S=this.pastInput(),A=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+A+"^"},"showPosition"),test_match:I(function(S,A){var R,C,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),C=S[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],R=this.performAction.call(this,this.yy,this,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var O in N)this[O]=N[O];return!1}return!1},"test_match"),next:I(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,A,R,C;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),O=0;O<N.length;O++)if(R=this._input.match(this.rules[N[O]]),R&&(!A||R[0].length>A[0].length)){if(A=R,C=O,this.options.backtrack_lexer){if(S=this.test_match(R,N[O]),S!==!1)return S;if(this._backtrack){A=!1;continue}else return!1}else if(!this.options.flex)break}return A?(S=this.test_match(A,N[C]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:I(function(){var A=this.next();return A||this.lex()},"lex"),begin:I(function(A){this.conditionStack.push(A)},"begin"),popState:I(function(){var A=this.conditionStack.length-1;return A>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:I(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:I(function(A){return A=this.conditionStack.length-1-Math.abs(A||0),A>=0?this.conditionStack[A]:"INITIAL"},"topState"),pushState:I(function(A){this.begin(A)},"pushState"),stateStackSize:I(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:I(function(A,R,C,N){switch(C){case 0:return 10;case 1:return A.getLogger().debug("Found space-block"),31;case 2:return A.getLogger().debug("Found nl-block"),31;case 3:return A.getLogger().debug("Found space-block"),29;case 4:A.getLogger().debug(".",R.yytext);break;case 5:A.getLogger().debug("_",R.yytext);break;case 6:return 5;case 7:return R.yytext=-1,28;case 8:return R.yytext=R.yytext.replace(/columns\s+/,""),A.getLogger().debug("COLUMNS (LEX)",R.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:A.getLogger().debug("LEX: POPPING STR:",R.yytext),this.popState();break;case 14:return A.getLogger().debug("LEX: STR end:",R.yytext),"STR";case 15:return R.yytext=R.yytext.replace(/space\:/,""),A.getLogger().debug("SPACE NUM (LEX)",R.yytext),21;case 16:return R.yytext="1",A.getLogger().debug("COLUMNS (LEX)",R.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),A.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),A.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),A.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),A.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),A.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),A.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),A.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),A.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),A.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),A.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),A.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),A.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),A.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),A.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),A.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),A.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),A.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return A.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return A.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return A.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return A.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return A.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return A.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return A.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return A.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return A.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return A.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return A.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return A.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),A.getLogger().debug("LEX ARR START"),38;case 75:return A.getLogger().debug("Lex: NODE_ID",R.yytext),32;case 76:return A.getLogger().debug("Lex: EOF",R.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:A.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:A.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return A.getLogger().debug("LEX: NODE_DESCR:",R.yytext),"NODE_DESCR";case 84:A.getLogger().debug("LEX POPPING"),this.popState();break;case 85:A.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return R.yytext=R.yytext.replace(/^,\s*/,""),A.getLogger().debug("Lex (right): dir:",R.yytext),"DIR";case 87:return R.yytext=R.yytext.replace(/^,\s*/,""),A.getLogger().debug("Lex (left):",R.yytext),"DIR";case 88:return R.yytext=R.yytext.replace(/^,\s*/,""),A.getLogger().debug("Lex (x):",R.yytext),"DIR";case 89:return R.yytext=R.yytext.replace(/^,\s*/,""),A.getLogger().debug("Lex (y):",R.yytext),"DIR";case 90:return R.yytext=R.yytext.replace(/^,\s*/,""),A.getLogger().debug("Lex (up):",R.yytext),"DIR";case 91:return R.yytext=R.yytext.replace(/^,\s*/,""),A.getLogger().debug("Lex (down):",R.yytext),"DIR";case 92:return R.yytext="]>",A.getLogger().debug("Lex (ARROW_DIR end):",R.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return A.getLogger().debug("Lex: LINK","#"+R.yytext+"#"),15;case 94:return A.getLogger().debug("Lex: LINK",R.yytext),15;case 95:return A.getLogger().debug("Lex: LINK",R.yytext),15;case 96:return A.getLogger().debug("Lex: LINK",R.yytext),15;case 97:return A.getLogger().debug("Lex: START_LINK",R.yytext),this.pushState("LLABEL"),16;case 98:return A.getLogger().debug("Lex: START_LINK",R.yytext),this.pushState("LLABEL"),16;case 99:return A.getLogger().debug("Lex: START_LINK",R.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return A.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),A.getLogger().debug("Lex: LINK","#"+R.yytext+"#"),15;case 103:return this.popState(),A.getLogger().debug("Lex: LINK",R.yytext),15;case 104:return this.popState(),A.getLogger().debug("Lex: LINK",R.yytext),15;case 105:return A.getLogger().debug("Lex: COLON",R.yytext),R.yytext=R.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return x}();T.lexer=E;function w(){this.yy={}}return I(w,"Parser"),w.prototype=T,T.Parser=w,new w}();fL.parser=fL;var e7t=fL,gc=new Map,pF=[],dL=new Map,oK="color",lK="fill",t7t="bgFill",rye=",",n7t=Pe(),_5=new Map,r7t=I(e=>ot.sanitizeText(e,n7t),"sanitizeText"),i7t=I(function(e,t=""){let n=_5.get(e);n||(n={id:e,styles:[],textStyles:[]},_5.set(e,n)),t!=null&&t.split(rye).forEach(r=>{const a=r.replace(/([^;]*);/,"$1").trim();if(RegExp(oK).exec(r)){const l=a.replace(lK,t7t).replace(oK,lK);n.textStyles.push(l)}n.styles.push(a)})},"addStyleClass"),a7t=I(function(e,t=""){const n=gc.get(e);t!=null&&(n.styles=t.split(rye))},"addStyle2Node"),s7t=I(function(e,t){e.split(",").forEach(function(n){let r=gc.get(n);if(r===void 0){const a=n.trim();r={id:a,type:"na",children:[]},gc.set(a,r)}r.classes||(r.classes=[]),r.classes.push(t)})},"setCssClass"),iye=I((e,t)=>{const n=e.flat(),r=[];for(const a of n){if(a.label&&(a.label=r7t(a.label)),a.type==="classDef"){i7t(a.id,a.css);continue}if(a.type==="applyClass"){s7t(a.id,(a==null?void 0:a.styleClass)??"");continue}if(a.type==="applyStyles"){a!=null&&a.stylesStr&&a7t(a.id,a==null?void 0:a.stylesStr);continue}if(a.type==="column-setting")t.columns=a.columns??-1;else if(a.type==="edge"){const o=(dL.get(a.id)??0)+1;dL.set(a.id,o),a.id=o+"-"+a.id,pF.push(a)}else{a.label||(a.type==="composite"?a.label="":a.label=a.id);const o=gc.get(a.id);if(o===void 0?gc.set(a.id,a):(a.type!=="na"&&(o.type=a.type),a.label!==a.id&&(o.label=a.label)),a.children&&iye(a.children,a),a.type==="space"){const l=a.width??1;for(let u=0;u<l;u++){const h=Ki(a);h.id=h.id+"-"+u,gc.set(h.id,h),r.push(h)}}else o===void 0&&r.push(a)}}t.children=r},"populateBlockDatabase"),gF=[],ob={id:"root",type:"composite",children:[],columns:-1},o7t=I(()=>{ve.debug("Clear called"),fa(),ob={id:"root",type:"composite",children:[],columns:-1},gc=new Map([["root",ob]]),gF=[],_5=new Map,pF=[],dL=new Map},"clear");function aye(e){switch(ve.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return ve.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}I(aye,"typeStr2Type");function sye(e){switch(ve.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}I(sye,"edgeTypeStr2Type");function oye(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}I(oye,"edgeStrToEdgeData");var cK=0,l7t=I(()=>(cK++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cK),"generateId"),c7t=I(e=>{ob.children=e,iye(e,ob),gF=ob.children},"setHierarchy"),u7t=I(e=>{const t=gc.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),h7t=I(()=>[...gc.values()],"getBlocksFlat"),f7t=I(()=>gF||[],"getBlocks"),d7t=I(()=>pF,"getEdges"),p7t=I(e=>gc.get(e),"getBlock"),g7t=I(e=>{gc.set(e.id,e)},"setBlock"),m7t=I(()=>console,"getLogger"),v7t=I(function(){return _5},"getClasses"),y7t={getConfig:I(()=>Br().block,"getConfig"),typeStr2Type:aye,edgeTypeStr2Type:sye,edgeStrToEdgeData:oye,getLogger:m7t,getBlocksFlat:h7t,getBlocks:f7t,getEdges:d7t,setHierarchy:c7t,getBlock:p7t,setBlock:g7t,getColumns:u7t,getClasses:v7t,clear:o7t,generateId:l7t},b7t=y7t,P3=I((e,t)=>{const n=Gre,r=n(e,"r"),a=n(e,"g"),o=n(e,"b");return $d(r,a,o,t)},"fade"),T7t=I(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${P3(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${P3(e.mainBkg,.5)};
    fill: ${P3(e.clusterBkg,.5)};
    stroke: ${P3(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),E7t=T7t,w7t=I((e,t,n,r)=>{t.forEach(a=>{L7t[a](e,n,r)})},"insertMarkers"),x7t=I((e,t,n)=>{ve.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),S7t=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),A7t=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),I7t=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),C7t=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),R7t=I((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),k7t=I((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),O7t=I((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),N7t=I((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),L7t={extension:x7t,composition:S7t,aggregation:A7t,dependency:I7t,lollipop:C7t,point:R7t,circle:k7t,cross:O7t,barb:N7t},_7t=w7t,EK,wK,gi=((wK=(EK=Pe())==null?void 0:EK.block)==null?void 0:wK.padding)??8;function lye(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};const n=t%e,r=Math.floor(t/e);return{px:n,py:r}}I(lye,"calculateBlockPosition");var D7t=I(e=>{let t=0,n=0;for(const r of e.children){const{width:a,height:o,x:l,y:u}=r.size??{width:0,height:0,x:0,y:0};ve.debug("getMaxChildSize abc95 child:",r.id,"width:",a,"height:",o,"x:",l,"y:",u,r.type),r.type!=="space"&&(a>t&&(t=a/(e.widthInColumns??1)),o>n&&(n=o))}return{width:t,height:n}},"getMaxChildSize");function D5(e,t,n=0,r=0){var l,u,h,f,d,p,g,m,y,b,T;ve.debug("setBlockSizes abc95 (start)",e.id,(l=e==null?void 0:e.size)==null?void 0:l.x,"block width =",e==null?void 0:e.size,"sieblingWidth",n),(u=e==null?void 0:e.size)!=null&&u.width||(e.size={width:n,height:r,x:0,y:0});let a=0,o=0;if(((h=e.children)==null?void 0:h.length)>0){for(const N of e.children)D5(N,t);const E=D7t(e);a=E.width,o=E.height,ve.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",a,o);for(const N of e.children)N.size&&(ve.debug(`abc95 Setting size of children of ${e.id} id=${N.id} ${a} ${o} ${JSON.stringify(N.size)}`),N.size.width=a*(N.widthInColumns??1)+gi*((N.widthInColumns??1)-1),N.size.height=o,N.size.x=0,N.size.y=0,ve.debug(`abc95 updating size of ${e.id} children child:${N.id} maxWidth:${a} maxHeight:${o}`));for(const N of e.children)D5(N,t,a,o);const w=e.columns??-1;let x=0;for(const N of e.children)x+=N.widthInColumns??1;let S=e.children.length;w>0&&w<x&&(S=w);const A=Math.ceil(x/S);let R=S*(a+gi)+gi,C=A*(o+gi)+gi;if(R<n){ve.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${n} sieblingHeight ${r} width ${R}`),R=n,C=r;const N=(n-S*gi-gi)/S,O=(r-A*gi-gi)/A;ve.debug("Size indata abc88",e.id,"childWidth",N,"maxWidth",a),ve.debug("Size indata abc88",e.id,"childHeight",O,"maxHeight",o),ve.debug("Size indata abc88 xSize",S,"padding",gi);for(const L of e.children)L.size&&(L.size.width=N,L.size.height=O,L.size.x=0,L.size.y=0)}if(ve.debug(`abc95 (finale calc) ${e.id} xSize ${S} ySize ${A} columns ${w}${e.children.length} width=${Math.max(R,((f=e.size)==null?void 0:f.width)||0)}`),R<(((d=e==null?void 0:e.size)==null?void 0:d.width)||0)){R=((p=e==null?void 0:e.size)==null?void 0:p.width)||0;const N=w>0?Math.min(e.children.length,w):e.children.length;if(N>0){const O=(R-N*gi-gi)/N;ve.debug("abc95 (growing to fit) width",e.id,R,(g=e.size)==null?void 0:g.width,O);for(const L of e.children)L.size&&(L.size.width=O)}}e.size={width:R,height:C,x:0,y:0}}ve.debug("setBlockSizes abc94 (done)",e.id,(m=e==null?void 0:e.size)==null?void 0:m.x,(y=e==null?void 0:e.size)==null?void 0:y.width,(b=e==null?void 0:e.size)==null?void 0:b.y,(T=e==null?void 0:e.size)==null?void 0:T.height)}I(D5,"setBlockSizes");function mF(e,t){var r,a,o,l,u,h,f,d,p,g,m,y,b,T,E,w,x;ve.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${(r=e==null?void 0:e.size)==null?void 0:r.x} y: ${(a=e==null?void 0:e.size)==null?void 0:a.y} width: ${(o=e==null?void 0:e.size)==null?void 0:o.width}`);const n=e.columns??-1;if(ve.debug("layoutBlocks columns abc95",e.id,"=>",n,e),e.children&&e.children.length>0){const S=((u=(l=e==null?void 0:e.children[0])==null?void 0:l.size)==null?void 0:u.width)??0,A=e.children.length*S+(e.children.length-1)*gi;ve.debug("widthOfChildren 88",A,"posX");let R=0;ve.debug("abc91 block?.size?.x",e.id,(h=e==null?void 0:e.size)==null?void 0:h.x);let C=(f=e==null?void 0:e.size)!=null&&f.x?((d=e==null?void 0:e.size)==null?void 0:d.x)+(-((p=e==null?void 0:e.size)==null?void 0:p.width)/2||0):-gi,N=0;for(const O of e.children){const L=e;if(!O.size)continue;const{width:k,height:M}=O.size,{px:$,py:_}=lye(n,R);if(_!=N&&(N=_,C=(g=e==null?void 0:e.size)!=null&&g.x?((m=e==null?void 0:e.size)==null?void 0:m.x)+(-((y=e==null?void 0:e.size)==null?void 0:y.width)/2||0):-gi,ve.debug("New row in layout for block",e.id," and child ",O.id,N)),ve.debug(`abc89 layout blocks (child) id: ${O.id} Pos: ${R} (px, py) ${$},${_} (${(b=L==null?void 0:L.size)==null?void 0:b.x},${(T=L==null?void 0:L.size)==null?void 0:T.y}) parent: ${L.id} width: ${k}${gi}`),L.size){const F=k/2;O.size.x=C+gi+F,ve.debug(`abc91 layout blocks (calc) px, pyid:${O.id} startingPos=X${C} new startingPosX${O.size.x} ${F} padding=${gi} width=${k} halfWidth=${F} => x:${O.size.x} y:${O.size.y} ${O.widthInColumns} (width * (child?.w || 1)) / 2 ${k*((O==null?void 0:O.widthInColumns)??1)/2}`),C=O.size.x+F,O.size.y=L.size.y-L.size.height/2+_*(M+gi)+M/2+gi,ve.debug(`abc88 layout blocks (calc) px, pyid:${O.id}startingPosX${C}${gi}${F}=>x:${O.size.x}y:${O.size.y}${O.widthInColumns}(width * (child?.w || 1)) / 2${k*((O==null?void 0:O.widthInColumns)??1)/2}`)}O.children&&mF(O),R+=(O==null?void 0:O.widthInColumns)??1,ve.debug("abc88 columnsPos",O,R)}}ve.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${(E=e==null?void 0:e.size)==null?void 0:E.x} y: ${(w=e==null?void 0:e.size)==null?void 0:w.y} width: ${(x=e==null?void 0:e.size)==null?void 0:x.width}`)}I(mF,"layoutBlocks");function vF(e,{minX:t,minY:n,maxX:r,maxY:a}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){const{x:o,y:l,width:u,height:h}=e.size;o-u/2<t&&(t=o-u/2),l-h/2<n&&(n=l-h/2),o+u/2>r&&(r=o+u/2),l+h/2>a&&(a=l+h/2)}if(e.children)for(const o of e.children)({minX:t,minY:n,maxX:r,maxY:a}=vF(o,{minX:t,minY:n,maxX:r,maxY:a}));return{minX:t,minY:n,maxX:r,maxY:a}}I(vF,"findBounds");function cye(e){const t=e.getBlock("root");if(!t)return;D5(t,e,0,0),mF(t),ve.debug("getBlocks",JSON.stringify(t,null,2));const{minX:n,minY:r,maxX:a,maxY:o}=vF(t),l=o-r,u=a-n;return{x:n,y:r,width:u,height:l}}I(cye,"layout");function pL(e,t){t&&e.attr("style",t)}I(pL,"applyStyle");function uye(e){const t=it(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div"),r=e.label,a=e.isNode?"nodeLabel":"edgeLabel",o=n.append("span");return o.html(r),pL(o,e.labelStyle),o.attr("class",a),pL(n,e.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}I(uye,"addHtmlLabel");var M7t=I((e,t,n,r)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),ur(Pe().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),ve.debug("vertexText"+a);const o={isNode:r,label:gD(Ih(a)),labelStyle:t.replace("fill:","color:")};return uye(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof a=="string"?l=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?l=a:l=[];for(const u of l){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),n?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),o.appendChild(h)}return o}},"createLabel"),hl=M7t,P7t=I((e,t,n,r,a)=>{t.arrowTypeStart&&uK(e,"start",t.arrowTypeStart,n,r,a),t.arrowTypeEnd&&uK(e,"end",t.arrowTypeEnd,n,r,a)},"addEdgeMarkers"),F7t={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},uK=I((e,t,n,r,a,o)=>{const l=F7t[n];if(!l){ve.warn(`Unknown arrow type: ${n}`);return}const u=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${r}#${a}_${o}-${l}${u})`)},"addEdgeMarker"),gL={},Ga={},B7t=I((e,t)=>{const n=Pe(),r=ur(n.flowchart.htmlLabels),a=t.labelType==="markdown"?Fl(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0},n):hl(t.label,t.labelStyle),o=e.insert("g").attr("class","edgeLabel"),l=o.insert("g").attr("class","label");l.node().appendChild(a);let u=a.getBBox();if(r){const f=a.children[0],d=it(a);u=f.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}l.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),gL[t.id]=o,t.width=u.width,t.height=u.height;let h;if(t.startLabelLeft){const f=hl(t.startLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(f);const g=f.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].startLeft=d,S2(h,t.startLabelLeft)}if(t.startLabelRight){const f=hl(t.startLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=d.node().appendChild(f),p.node().appendChild(f);const g=f.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].startRight=d,S2(h,t.startLabelRight)}if(t.endLabelLeft){const f=hl(t.endLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(f);const g=f.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(f),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].endLeft=d,S2(h,t.endLabelLeft)}if(t.endLabelRight){const f=hl(t.endLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(f);const g=f.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(f),Ga[t.id]||(Ga[t.id]={}),Ga[t.id].endRight=d,S2(h,t.endLabelRight)}return a},"insertEdgeLabel");function S2(e,t){Pe().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}I(S2,"setTerminalWidth");var H7t=I((e,t)=>{ve.debug("Moving label abc88 ",e.id,e.label,gL[e.id],t);let n=t.updatedPath?t.updatedPath:t.originalPath;const r=Pe(),{subGraphTitleTotalMargin:a}=aE(r);if(e.label){const o=gL[e.id];let l=e.x,u=e.y;if(n){const h=fn.calcLabelPosition(n);ve.debug("Moving label "+e.label+" from (",l,",",u,") to (",h.x,",",h.y,") abc88"),t.updatedPath&&(l=h.x,u=h.y)}o.attr("transform",`translate(${l}, ${u+a/2})`)}if(e.startLabelLeft){const o=Ga[e.id].startLeft;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}if(e.startLabelRight){const o=Ga[e.id].startRight;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}if(e.endLabelLeft){const o=Ga[e.id].endLeft;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}if(e.endLabelRight){const o=Ga[e.id].endRight;let l=e.x,u=e.y;if(n){const h=fn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);l=h.x,u=h.y}o.attr("transform",`translate(${l}, ${u})`)}},"positionEdgeLabel"),$7t=I((e,t)=>{const n=e.x,r=e.y,a=Math.abs(t.x-n),o=Math.abs(t.y-r),l=e.width/2,u=e.height/2;return a>=l||o>=u},"outsideNode"),W7t=I((e,t,n)=>{ve.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const r=e.x,a=e.y,o=Math.abs(r-n.x),l=e.width/2;let u=n.x<t.x?l-o:l+o;const h=e.height/2,f=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*l>Math.abs(r-t.x)*h){let p=n.y<t.y?t.y-h-a:a-h-t.y;u=d*p/f;const g={x:n.x<t.x?n.x+u:n.x-d+u,y:n.y<t.y?n.y+f-p:n.y-f+p};return u===0&&(g.x=t.x,g.y=t.y),d===0&&(g.x=t.x),f===0&&(g.y=t.y),ve.debug(`abc89 topp/bott calc, Q ${f}, q ${p}, R ${d}, r ${u}`,g),g}else{n.x<t.x?u=t.x-l-r:u=r-l-t.x;let p=f*u/d,g=n.x<t.x?n.x+d-u:n.x-d+u,m=n.y<t.y?n.y+p:n.y-p;return ve.debug(`sides calc abc89, Q ${f}, q ${p}, R ${d}, r ${u}`,{_x:g,_y:m}),u===0&&(g=t.x,m=t.y),d===0&&(g=t.x),f===0&&(m=t.y),{x:g,y:m}}},"intersection"),hK=I((e,t)=>{ve.debug("abc88 cutPathAtIntersect",e,t);let n=[],r=e[0],a=!1;return e.forEach(o=>{if(!$7t(t,o)&&!a){const l=W7t(t,r,o);let u=!1;n.forEach(h=>{u=u||h.x===l.x&&h.y===l.y}),n.some(h=>h.x===l.x&&h.y===l.y)||n.push(l),a=!0}else r=o,a||n.push(o)}),n},"cutPathAtIntersect"),U7t=I(function(e,t,n,r,a,o,l){let u=n.points;ve.debug("abc88 InsertEdge: edge=",n,"e=",t);let h=!1;const f=o.node(t.v);var d=o.node(t.w);d!=null&&d.intersect&&(f!=null&&f.intersect)&&(u=u.slice(1,n.points.length-1),u.unshift(f.intersect(u[0])),u.push(d.intersect(u[u.length-1]))),n.toCluster&&(ve.debug("to cluster abc88",r[n.toCluster]),u=hK(n.points,r[n.toCluster].node),h=!0),n.fromCluster&&(ve.debug("from cluster abc88",r[n.fromCluster]),u=hK(u.reverse(),r[n.fromCluster].node).reverse(),h=!0);const p=u.filter(S=>!Number.isNaN(S.y));let g=cE;n.curve&&(a==="graph"||a==="flowchart")&&(g=n.curve);const{x:m,y}=Lce(n),b=ip().x(m).y(y).curve(g);let T;switch(n.thickness){case"normal":T="edge-thickness-normal";break;case"thick":T="edge-thickness-thick";break;case"invisible":T="edge-thickness-thick";break;default:T=""}switch(n.pattern){case"solid":T+=" edge-pattern-solid";break;case"dotted":T+=" edge-pattern-dotted";break;case"dashed":T+=" edge-pattern-dashed";break}const E=e.append("path").attr("d",b(p)).attr("id",n.id).attr("class"," "+T+(n.classes?" "+n.classes:"")).attr("style",n.style);let w="";(Pe().flowchart.arrowMarkerAbsolute||Pe().state.arrowMarkerAbsolute)&&(w=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,w=w.replace(/\(/g,"\\("),w=w.replace(/\)/g,"\\)")),P7t(E,n,w,l,a);let x={};return h&&(x.updatedPath=u),x.originalPath=n.points,x},"insertEdge"),G7t=I(e=>{const t=new Set;for(const n of e)switch(n){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(n);break}return t},"expandAndDeduplicateDirections"),z7t=I((e,t,n)=>{const r=G7t(e),a=2,o=t.height+2*n.padding,l=o/a,u=t.width+2*l+n.padding,h=n.padding/2;return r.has("right")&&r.has("left")&&r.has("up")&&r.has("down")?[{x:0,y:0},{x:l,y:0},{x:u/2,y:2*h},{x:u-l,y:0},{x:u,y:0},{x:u,y:-o/3},{x:u+2*h,y:-o/2},{x:u,y:-2*o/3},{x:u,y:-o},{x:u-l,y:-o},{x:u/2,y:-o-2*h},{x:l,y:-o},{x:0,y:-o},{x:0,y:-2*o/3},{x:-2*h,y:-o/2},{x:0,y:-o/3}]:r.has("right")&&r.has("left")&&r.has("up")?[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}]:r.has("right")&&r.has("left")&&r.has("down")?[{x:0,y:0},{x:l,y:-o},{x:u-l,y:-o},{x:u,y:0}]:r.has("right")&&r.has("up")&&r.has("down")?[{x:0,y:0},{x:u,y:-l},{x:u,y:-o+l},{x:0,y:-o}]:r.has("left")&&r.has("up")&&r.has("down")?[{x:u,y:0},{x:0,y:-l},{x:0,y:-o+l},{x:u,y:-o}]:r.has("right")&&r.has("left")?[{x:l,y:0},{x:l,y:-h},{x:u-l,y:-h},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:u-l,y:-o+h},{x:l,y:-o+h},{x:l,y:-o},{x:0,y:-o/2}]:r.has("up")&&r.has("down")?[{x:u/2,y:0},{x:0,y:-h},{x:l,y:-h},{x:l,y:-o+h},{x:0,y:-o+h},{x:u/2,y:-o},{x:u,y:-o+h},{x:u-l,y:-o+h},{x:u-l,y:-h},{x:u,y:-h}]:r.has("right")&&r.has("up")?[{x:0,y:0},{x:u,y:-l},{x:0,y:-o}]:r.has("right")&&r.has("down")?[{x:0,y:0},{x:u,y:0},{x:0,y:-o}]:r.has("left")&&r.has("up")?[{x:u,y:0},{x:0,y:-l},{x:u,y:-o}]:r.has("left")&&r.has("down")?[{x:u,y:0},{x:0,y:0},{x:u,y:-o}]:r.has("right")?[{x:l,y:-h},{x:l,y:-h},{x:u-l,y:-h},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:u-l,y:-o+h},{x:l,y:-o+h},{x:l,y:-o+h}]:r.has("left")?[{x:l,y:0},{x:l,y:-h},{x:u-l,y:-h},{x:u-l,y:-o+h},{x:l,y:-o+h},{x:l,y:-o},{x:0,y:-o/2}]:r.has("up")?[{x:l,y:-h},{x:l,y:-o+h},{x:0,y:-o+h},{x:u/2,y:-o},{x:u,y:-o+h},{x:u-l,y:-o+h},{x:u-l,y:-h}]:r.has("down")?[{x:u/2,y:0},{x:0,y:-h},{x:l,y:-h},{x:l,y:-o+h},{x:u-l,y:-o+h},{x:u-l,y:-h},{x:u,y:-h}]:[{x:0,y:0}]},"getArrowPoints");function hye(e,t){return e.intersect(t)}I(hye,"intersectNode");var Y7t=hye;function fye(e,t,n,r){var a=e.x,o=e.y,l=a-r.x,u=o-r.y,h=Math.sqrt(t*t*u*u+n*n*l*l),f=Math.abs(t*n*l/h);r.x<a&&(f=-f);var d=Math.abs(t*n*u/h);return r.y<o&&(d=-d),{x:a+f,y:o+d}}I(fye,"intersectEllipse");var dye=fye;function pye(e,t,n){return dye(e,t,t,n)}I(pye,"intersectCircle");var V7t=pye;function gye(e,t,n,r){var a,o,l,u,h,f,d,p,g,m,y,b,T,E,w;if(a=t.y-e.y,l=e.x-t.x,h=t.x*e.y-e.x*t.y,g=a*n.x+l*n.y+h,m=a*r.x+l*r.y+h,!(g!==0&&m!==0&&mL(g,m))&&(o=r.y-n.y,u=n.x-r.x,f=r.x*n.y-n.x*r.y,d=o*e.x+u*e.y+f,p=o*t.x+u*t.y+f,!(d!==0&&p!==0&&mL(d,p))&&(y=a*u-o*l,y!==0)))return b=Math.abs(y/2),T=l*f-u*h,E=T<0?(T-b)/y:(T+b)/y,T=o*h-a*f,w=T<0?(T-b)/y:(T+b)/y,{x:E,y:w}}I(gye,"intersectLine");function mL(e,t){return e*t>0}I(mL,"sameSign");var q7t=gye,j7t=mye;function mye(e,t,n){var r=e.x,a=e.y,o=[],l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(y){l=Math.min(l,y.x),u=Math.min(u,y.y)}):(l=Math.min(l,t.x),u=Math.min(u,t.y));for(var h=r-e.width/2-l,f=a-e.height/2-u,d=0;d<t.length;d++){var p=t[d],g=t[d<t.length-1?d+1:0],m=q7t(e,n,{x:h+p.x,y:f+p.y},{x:h+g.x,y:f+g.y});m&&o.push(m)}return o.length?(o.length>1&&o.sort(function(y,b){var T=y.x-n.x,E=y.y-n.y,w=Math.sqrt(T*T+E*E),x=b.x-n.x,S=b.y-n.y,A=Math.sqrt(x*x+S*S);return w<A?-1:w===A?0:1}),o[0]):e}I(mye,"intersectPolygon");var X7t=I((e,t)=>{var n=e.x,r=e.y,a=t.x-n,o=t.y-r,l=e.width/2,u=e.height/2,h,f;return Math.abs(o)*l>Math.abs(a)*u?(o<0&&(u=-u),h=o===0?0:u*a/o,f=u):(a<0&&(l=-l),h=l,f=a===0?0:l*o/a),{x:n+h,y:r+f}},"intersectRect"),K7t=X7t,$r={node:Y7t,circle:V7t,ellipse:dye,polygon:j7t,rect:K7t},ma=I(async(e,t,n,r)=>{const a=Pe();let o;const l=t.useHtmlLabels||ur(a.flowchart.htmlLabels);n?o=n:o="node default";const u=e.insert("g").attr("class",o).attr("id",t.domId||t.id),h=u.insert("g").attr("class","label").attr("style",t.labelStyle);let f;t.labelText===void 0?f="":f=typeof t.labelText=="string"?t.labelText:t.labelText[0];const d=h.node();let p;t.labelType==="markdown"?p=Fl(h,or(Ih(f),a),{useHtmlLabels:l,width:t.width||a.flowchart.wrappingWidth,classes:"markdown-node-label"},a):p=d.appendChild(hl(or(Ih(f),a),t.labelStyle,!1,r));let g=p.getBBox();const m=t.padding/2;if(ur(a.flowchart.htmlLabels)){const y=p.children[0],b=it(p),T=y.getElementsByTagName("img");if(T){const E=f.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...T].map(w=>new Promise(x=>{function S(){if(w.style.display="flex",w.style.flexDirection="column",E){const A=a.fontSize?a.fontSize:window.getComputedStyle(document.body).fontSize,C=parseInt(A,10)*5+"px";w.style.minWidth=C,w.style.maxWidth=C}else w.style.width="100%";x(w)}I(S,"setupImage"),setTimeout(()=>{w.complete&&S()}),w.addEventListener("error",S),w.addEventListener("load",S)})))}g=y.getBoundingClientRect(),b.attr("width",g.width),b.attr("height",g.height)}return l?h.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"):h.attr("transform","translate(0, "+-g.height/2+")"),t.centerLabel&&h.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),h.insert("rect",":first-child"),{shapeSvg:u,bbox:g,halfPadding:m,label:h}},"labelHelper"),ci=I((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds");function Cc(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}I(Cc,"insertPolygonShape");var Z7t=I(async(e,t)=>{t.useHtmlLabels||Pe().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:r,bbox:a,halfPadding:o}=await ma(e,t,"node "+t.classes,!0);ve.info("Classes = ",t.classes);const l=r.insert("rect",":first-child");return l.attr("rx",t.rx).attr("ry",t.ry).attr("x",-a.width/2-o).attr("y",-a.height/2-o).attr("width",a.width+t.padding).attr("height",a.height+t.padding),ci(t,l),t.intersect=function(u){return $r.rect(t,u)},r},"note"),Q7t=Z7t,fK=I(e=>e?" "+e:"","formatClass"),jo=I((e,t)=>`${t||"node default"}${fK(e.classes)} ${fK(e.class)}`,"getClassesFromNode"),dK=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=a+o,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];ve.info("Question main (Circle)");const h=Cc(n,l,l,u);return h.attr("style",t.style),ci(t,h),t.intersect=function(f){return ve.warn("Intersect called"),$r.polygon(t,u,f)},n},"question"),J7t=I((e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=28,a=[{x:0,y:r/2},{x:r/2,y:0},{x:0,y:-28/2},{x:-28/2,y:0}];return n.insert("polygon",":first-child").attr("points",a.map(function(l){return l.x+","+l.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(l){return $r.circle(t,14,l)},n},"choice"),eLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=4,o=r.height+t.padding,l=o/a,u=r.width+2*l+t.padding,h=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}],f=Cc(n,u,o,h);return f.attr("style",t.style),ci(t,f),t.intersect=function(d){return $r.polygon(t,h,d)},n},"hexagon"),tLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,void 0,!0),a=2,o=r.height+2*t.padding,l=o/a,u=r.width+2*l+t.padding,h=z7t(t.directions,r,t),f=Cc(n,u,o,h);return f.attr("style",t.style),ci(t,f),t.intersect=function(d){return $r.polygon(t,h,d)},n},"block_arrow"),nLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:-o/2,y:0},{x:a,y:0},{x:a,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return Cc(n,a,o,l).attr("style",t.style),t.width=a+o,t.height=o,t.intersect=function(h){return $r.polygon(t,l,h)},n},"rect_left_inv_arrow"),rLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:-2*o/6,y:0},{x:a-o/6,y:0},{x:a+2*o/6,y:-o},{x:o/6,y:-o}],u=Cc(n,a,o,l);return u.attr("style",t.style),ci(t,u),t.intersect=function(h){return $r.polygon(t,l,h)},n},"lean_right"),iLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:2*o/6,y:0},{x:a+o/6,y:0},{x:a-2*o/6,y:-o},{x:-o/6,y:-o}],u=Cc(n,a,o,l);return u.attr("style",t.style),ci(t,u),t.intersect=function(h){return $r.polygon(t,l,h)},n},"lean_left"),aLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:-2*o/6,y:0},{x:a+2*o/6,y:0},{x:a-o/6,y:-o},{x:o/6,y:-o}],u=Cc(n,a,o,l);return u.attr("style",t.style),ci(t,u),t.intersect=function(h){return $r.polygon(t,l,h)},n},"trapezoid"),sLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:o/6,y:0},{x:a-o/6,y:0},{x:a+2*o/6,y:-o},{x:-2*o/6,y:-o}],u=Cc(n,a,o,l);return u.attr("style",t.style),ci(t,u),t.intersect=function(h){return $r.polygon(t,l,h)},n},"inv_trapezoid"),oLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:0,y:0},{x:a+o/2,y:0},{x:a,y:-o/2},{x:a+o/2,y:-o},{x:0,y:-o}],u=Cc(n,a,o,l);return u.attr("style",t.style),ci(t,u),t.intersect=function(h){return $r.polygon(t,l,h)},n},"rect_right_inv_arrow"),lLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=a/2,l=o/(2.5+a/50),u=r.height+l+t.padding,h="M 0,"+l+" a "+o+","+l+" 0,0,0 "+a+" 0 a "+o+","+l+" 0,0,0 "+-a+" 0 l 0,"+u+" a "+o+","+l+" 0,0,0 "+a+" 0 l 0,"+-u,f=n.attr("label-offset-y",l).insert("path",":first-child").attr("style",t.style).attr("d",h).attr("transform","translate("+-a/2+","+-(u/2+l)+")");return ci(t,f),t.intersect=function(d){const p=$r.rect(t,d),g=p.x-t.x;if(o!=0&&(Math.abs(g)<t.width/2||Math.abs(g)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-l)){let m=l*l*(1-g*g/(o*o));m!=0&&(m=Math.sqrt(m)),m=l-m,d.y-t.y>0&&(m=-m),p.y+=m}return p},n},"cylinder"),cLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r,halfPadding:a}=await ma(e,t,"node "+t.classes+" "+t.class,!0),o=n.insert("rect",":first-child"),l=t.positioned?t.width:r.width+t.padding,u=t.positioned?t.height:r.height+t.padding,h=t.positioned?-l/2:-r.width/2-a,f=t.positioned?-u/2:-r.height/2-a;if(o.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",h).attr("y",f).attr("width",l).attr("height",u),t.props){const d=new Set(Object.keys(t.props));t.props.borders&&(AI(o,t.props.borders,l,u),d.delete("borders")),d.forEach(p=>{ve.warn(`Unknown node property ${p}`)})}return ci(t,o),t.intersect=function(d){return $r.rect(t,d)},n},"rect"),uLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r,halfPadding:a}=await ma(e,t,"node "+t.classes,!0),o=n.insert("rect",":first-child"),l=t.positioned?t.width:r.width+t.padding,u=t.positioned?t.height:r.height+t.padding,h=t.positioned?-l/2:-r.width/2-a,f=t.positioned?-u/2:-r.height/2-a;if(o.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",h).attr("y",f).attr("width",l).attr("height",u),t.props){const d=new Set(Object.keys(t.props));t.props.borders&&(AI(o,t.props.borders,l,u),d.delete("borders")),d.forEach(p=>{ve.warn(`Unknown node property ${p}`)})}return ci(t,o),t.intersect=function(d){return $r.rect(t,d)},n},"composite"),hLt=I(async(e,t)=>{const{shapeSvg:n}=await ma(e,t,"label",!0);ve.trace("Classes = ",t.class);const r=n.insert("rect",":first-child"),a=0,o=0;if(r.attr("width",a).attr("height",o),n.attr("class","label edgeLabel"),t.props){const l=new Set(Object.keys(t.props));t.props.borders&&(AI(r,t.props.borders,a,o),l.delete("borders")),l.forEach(u=>{ve.warn(`Unknown node property ${u}`)})}return ci(t,r),t.intersect=function(l){return $r.rect(t,l)},n},"labelRect");function AI(e,t,n,r){const a=[],o=I(u=>{a.push(u,0)},"addBorder"),l=I(u=>{a.push(0,u)},"skipBorder");t.includes("t")?(ve.debug("add top border"),o(n)):l(n),t.includes("r")?(ve.debug("add right border"),o(r)):l(r),t.includes("b")?(ve.debug("add bottom border"),o(n)):l(n),t.includes("l")?(ve.debug("add left border"),o(r)):l(r),e.attr("stroke-dasharray",a.join(" "))}I(AI,"applyNodePropertyBorders");var fLt=I((e,t)=>{let n;t.classes?n="node "+t.classes:n="node default";const r=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=r.insert("rect",":first-child"),o=r.insert("line"),l=r.insert("g").attr("class","label"),u=t.labelText.flat?t.labelText.flat():t.labelText;let h="";typeof u=="object"?h=u[0]:h=u,ve.info("Label text abc79",h,u,typeof u=="object");const f=l.node().appendChild(hl(h,t.labelStyle,!0,!0));let d={width:0,height:0};if(ur(Pe().flowchart.htmlLabels)){const b=f.children[0],T=it(f);d=b.getBoundingClientRect(),T.attr("width",d.width),T.attr("height",d.height)}ve.info("Text 2",u);const p=u.slice(1,u.length);let g=f.getBBox();const m=l.node().appendChild(hl(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(ur(Pe().flowchart.htmlLabels)){const b=m.children[0],T=it(m);d=b.getBoundingClientRect(),T.attr("width",d.width),T.attr("height",d.height)}const y=t.padding/2;return it(m).attr("transform","translate( "+(d.width>g.width?0:(g.width-d.width)/2)+", "+(g.height+y+5)+")"),it(f).attr("transform","translate( "+(d.width<g.width?0:-(g.width-d.width)/2)+", 0)"),d=l.node().getBBox(),l.attr("transform","translate("+-d.width/2+", "+(-d.height/2-y+3)+")"),a.attr("class","outer title-state").attr("x",-d.width/2-y).attr("y",-d.height/2-y).attr("width",d.width+t.padding).attr("height",d.height+t.padding),o.attr("class","divider").attr("x1",-d.width/2-y).attr("x2",d.width/2+y).attr("y1",-d.height/2-y+g.height+y).attr("y2",-d.height/2-y+g.height+y),ci(t,a),t.intersect=function(b){return $r.rect(t,b)},r},"rectWithTitle"),dLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.height+t.padding,o=r.width+a/4+t.padding,l=n.insert("rect",":first-child").attr("style",t.style).attr("rx",a/2).attr("ry",a/2).attr("x",-o/2).attr("y",-a/2).attr("width",o).attr("height",a);return ci(t,l),t.intersect=function(u){return $r.rect(t,u)},n},"stadium"),pLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r,halfPadding:a}=await ma(e,t,jo(t,void 0),!0),o=n.insert("circle",":first-child");return o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+a).attr("width",r.width+t.padding).attr("height",r.height+t.padding),ve.info("Circle main"),ci(t,o),t.intersect=function(l){return ve.info("Circle intersect",t,r.width/2+a,l),$r.circle(t,r.width/2+a,l)},n},"circle"),gLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r,halfPadding:a}=await ma(e,t,jo(t,void 0),!0),o=5,l=n.insert("g",":first-child"),u=l.insert("circle"),h=l.insert("circle");return l.attr("class",t.class),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+a+o).attr("width",r.width+t.padding+o*2).attr("height",r.height+t.padding+o*2),h.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+a).attr("width",r.width+t.padding).attr("height",r.height+t.padding),ve.info("DoubleCircle main"),ci(t,u),t.intersect=function(f){return ve.info("DoubleCircle intersect",t,r.width/2+a+o,f),$r.circle(t,r.width/2+a+o,f)},n},"doublecircle"),mLt=I(async(e,t)=>{const{shapeSvg:n,bbox:r}=await ma(e,t,jo(t,void 0),!0),a=r.width+t.padding,o=r.height+t.padding,l=[{x:0,y:0},{x:a,y:0},{x:a,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],u=Cc(n,a,o,l);return u.attr("style",t.style),ci(t,u),t.intersect=function(h){return $r.polygon(t,l,h)},n},"subroutine"),vLt=I((e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),ci(t,r),t.intersect=function(a){return $r.circle(t,7,a)},n},"start"),pK=I((e,t,n)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a=70,o=10;n==="LR"&&(a=10,o=70);const l=r.append("rect").attr("x",-1*a/2).attr("y",-1*o/2).attr("width",a).attr("height",o).attr("class","fork-join");return ci(t,l),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(u){return $r.rect(t,u)},r},"forkJoin"),yLt=I((e,t)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=n.insert("circle",":first-child"),a=n.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),ci(t,a),t.intersect=function(o){return $r.circle(t,7,o)},n},"end"),bLt=I((e,t)=>{var N;const n=t.padding/2,r=4,a=8;let o;t.classes?o="node "+t.classes:o="node default";const l=e.insert("g").attr("class",o).attr("id",t.domId||t.id),u=l.insert("rect",":first-child"),h=l.insert("line"),f=l.insert("line");let d=0,p=r;const g=l.insert("g").attr("class","label");let m=0;const y=(N=t.classData.annotations)==null?void 0:N[0],b=t.classData.annotations[0]?"«"+t.classData.annotations[0]+"»":"",T=g.node().appendChild(hl(b,t.labelStyle,!0,!0));let E=T.getBBox();if(ur(Pe().flowchart.htmlLabels)){const O=T.children[0],L=it(T);E=O.getBoundingClientRect(),L.attr("width",E.width),L.attr("height",E.height)}t.classData.annotations[0]&&(p+=E.height+r,d+=E.width);let w=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(Pe().flowchart.htmlLabels?w+="&lt;"+t.classData.type+"&gt;":w+="<"+t.classData.type+">");const x=g.node().appendChild(hl(w,t.labelStyle,!0,!0));it(x).attr("class","classTitle");let S=x.getBBox();if(ur(Pe().flowchart.htmlLabels)){const O=x.children[0],L=it(x);S=O.getBoundingClientRect(),L.attr("width",S.width),L.attr("height",S.height)}p+=S.height+r,S.width>d&&(d=S.width);const A=[];t.classData.members.forEach(O=>{const L=O.getDisplayDetails();let k=L.displayText;Pe().flowchart.htmlLabels&&(k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const M=g.node().appendChild(hl(k,L.cssStyle?L.cssStyle:t.labelStyle,!0,!0));let $=M.getBBox();if(ur(Pe().flowchart.htmlLabels)){const _=M.children[0],F=it(M);$=_.getBoundingClientRect(),F.attr("width",$.width),F.attr("height",$.height)}$.width>d&&(d=$.width),p+=$.height+r,A.push(M)}),p+=a;const R=[];if(t.classData.methods.forEach(O=>{const L=O.getDisplayDetails();let k=L.displayText;Pe().flowchart.htmlLabels&&(k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const M=g.node().appendChild(hl(k,L.cssStyle?L.cssStyle:t.labelStyle,!0,!0));let $=M.getBBox();if(ur(Pe().flowchart.htmlLabels)){const _=M.children[0],F=it(M);$=_.getBoundingClientRect(),F.attr("width",$.width),F.attr("height",$.height)}$.width>d&&(d=$.width),p+=$.height+r,R.push(M)}),p+=a,y){let O=(d-E.width)/2;it(T).attr("transform","translate( "+(-1*d/2+O)+", "+-1*p/2+")"),m=E.height+r}let C=(d-S.width)/2;return it(x).attr("transform","translate( "+(-1*d/2+C)+", "+(-1*p/2+m)+")"),m+=S.height+r,h.attr("class","divider").attr("x1",-d/2-n).attr("x2",d/2+n).attr("y1",-p/2-n+a+m).attr("y2",-p/2-n+a+m),m+=a,A.forEach(O=>{it(O).attr("transform","translate( "+-d/2+", "+(-1*p/2+m+a/2)+")");const L=O==null?void 0:O.getBBox();m+=((L==null?void 0:L.height)??0)+r}),m+=a,f.attr("class","divider").attr("x1",-d/2-n).attr("x2",d/2+n).attr("y1",-p/2-n+a+m).attr("y2",-p/2-n+a+m),m+=a,R.forEach(O=>{it(O).attr("transform","translate( "+-d/2+", "+(-1*p/2+m)+")");const L=O==null?void 0:O.getBBox();m+=((L==null?void 0:L.height)??0)+r}),u.attr("style",t.style).attr("class","outer title-state").attr("x",-d/2-n).attr("y",-(p/2)-n).attr("width",d+t.padding).attr("height",p+t.padding),ci(t,u),t.intersect=function(O){return $r.rect(t,O)},l},"class_box"),gK={rhombus:dK,composite:uLt,question:dK,rect:cLt,labelRect:hLt,rectWithTitle:fLt,choice:J7t,circle:pLt,doublecircle:gLt,stadium:dLt,hexagon:eLt,block_arrow:tLt,rect_left_inv_arrow:nLt,lean_right:rLt,lean_left:iLt,trapezoid:aLt,inv_trapezoid:sLt,rect_right_inv_arrow:oLt,cylinder:lLt,start:vLt,end:yLt,note:Q7t,subroutine:mLt,fork:pK,join:pK,class_box:bLt},qx={},vye=I(async(e,t,n)=>{let r,a;if(t.link){let o;Pe().securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),r=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o),a=await gK[t.shape](r,t,n)}else a=await gK[t.shape](e,t,n),r=a;return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),qx[t.id]=r,t.haveCallback&&qx[t.id].attr("class",qx[t.id].attr("class")+" clickable"),r},"insertNode"),TLt=I(e=>{const t=qx[e.id];ve.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8,r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-n)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r},"positionNode");function yF(e,t,n=!1){var g,m,y;const r=e;let a="default";(((g=r==null?void 0:r.classes)==null?void 0:g.length)||0)>0&&(a=((r==null?void 0:r.classes)??[]).join(" ")),a=a+" flowchart-label";let o=0,l="",u;switch(r.type){case"round":o=5,l="rect";break;case"composite":o=0,l="composite",u=0;break;case"square":l="rect";break;case"diamond":l="question";break;case"hexagon":l="hexagon";break;case"block_arrow":l="block_arrow";break;case"odd":l="rect_left_inv_arrow";break;case"lean_right":l="lean_right";break;case"lean_left":l="lean_left";break;case"trapezoid":l="trapezoid";break;case"inv_trapezoid":l="inv_trapezoid";break;case"rect_left_inv_arrow":l="rect_left_inv_arrow";break;case"circle":l="circle";break;case"ellipse":l="ellipse";break;case"stadium":l="stadium";break;case"subroutine":l="subroutine";break;case"cylinder":l="cylinder";break;case"group":l="rect";break;case"doublecircle":l="doublecircle";break;default:l="rect"}const h=iD((r==null?void 0:r.styles)??[]),f=r.label,d=r.size??{width:0,height:0,x:0,y:0};return{labelStyle:h.labelStyle,shape:l,labelText:f,rx:o,ry:o,class:a,style:h.style,id:r.id,directions:r.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:n,intersect:void 0,type:r.type,padding:u??((y=(m=Br())==null?void 0:m.block)==null?void 0:y.padding)??0}}I(yF,"getNodeFromBlock");async function yye(e,t,n){const r=yF(t,n,!1);if(r.type==="group")return;const a=Br(),o=await vye(e,r,{config:a}),l=o.node().getBBox(),u=n.getBlock(r.id);u.size={width:l.width,height:l.height,x:0,y:0,node:o},n.setBlock(u),o.remove()}I(yye,"calculateBlockSize");async function bye(e,t,n){const r=yF(t,n,!0);if(n.getBlock(r.id).type!=="space"){const o=Br();await vye(e,r,{config:o}),t.intersect=r==null?void 0:r.intersect,TLt(r)}}I(bye,"insertBlockPositioned");async function II(e,t,n,r){for(const a of t)await r(e,a,n),a.children&&await II(e,a.children,n,r)}I(II,"performOperations");async function Tye(e,t,n){await II(e,t,n,yye)}I(Tye,"calculateBlockSizes");async function Eye(e,t,n){await II(e,t,n,bye)}I(Eye,"insertBlocks");async function wye(e,t,n,r,a){const o=new ls({multigraph:!0,compound:!0});o.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const l of n)l.size&&o.setNode(l.id,{width:l.size.width,height:l.size.height,intersect:l.intersect});for(const l of t)if(l.start&&l.end){const u=r.getBlock(l.start),h=r.getBlock(l.end);if(u!=null&&u.size&&(h!=null&&h.size)){const f=u.size,d=h.size,p=[{x:f.x,y:f.y},{x:f.x+(d.x-f.x)/2,y:f.y+(d.y-f.y)/2},{x:d.x,y:d.y}];U7t(e,{v:l.start,w:l.end,name:l.id},{...l,arrowTypeEnd:l.arrowTypeEnd,arrowTypeStart:l.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",o,a),l.label&&(await B7t(e,{...l,label:l.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:l.arrowTypeEnd,arrowTypeStart:l.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),H7t({...l,x:p[1].x,y:p[1].y},{originalPath:p}))}}}I(wye,"insertEdges");var ELt=I(function(e,t){return t.db.getClasses()},"getClasses"),wLt=I(async function(e,t,n,r){const{securityLevel:a,block:o}=Br(),l=r.db;let u;a==="sandbox"&&(u=it("#i"+t));const h=it(a==="sandbox"?u.nodes()[0].contentDocument.body:"body"),f=a==="sandbox"?h.select(`[id="${t}"]`):it(`[id="${t}"]`);_7t(f,["point","circle","cross"],r.type,t);const p=l.getBlocks(),g=l.getBlocksFlat(),m=l.getEdges(),y=f.insert("g").attr("class","block");await Tye(y,p,l);const b=cye(l);if(await Eye(y,p,l),await wye(y,m,g,l,t),b){const T=b,E=Math.max(1,Math.round(.125*(T.width/T.height))),w=T.height+E+10,x=T.width+10,{useMaxWidth:S}=o;ss(f,w,x,!!S),ve.debug("Here Bounds",b,T),f.attr("viewBox",`${T.x-5} ${T.y-5} ${T.width+10} ${T.height+10}`)}},"draw"),xLt={draw:wLt,getClasses:ELt},SLt={parser:e7t,db:b7t,renderer:xLt,styles:E7t};const ALt=Object.freeze(Object.defineProperty({__proto__:null,diagram:SLt},Symbol.toStringTag,{value:"Module"}));var xye={exports:{}},Xk={exports:{}},Kk={exports:{}},mK;function ILt(){return mK||(mK=1,function(e,t){(function(r,a){e.exports=a()})(Cs,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=n,a.c=r,a.i=function(o){return o},a.d=function(o,l,u){a.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=28)}([function(n,r,a){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,n.exports=o},function(n,r,a){var o=a(2),l=a(8),u=a(9);function h(d,p,g){o.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}h.prototype=Object.create(o.prototype);for(var f in o)h[f]=o[f];h.prototype.getSource=function(){return this.source},h.prototype.getTarget=function(){return this.target},h.prototype.isInterGraph=function(){return this.isInterGraph},h.prototype.getLength=function(){return this.length},h.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},h.prototype.getBendpoints=function(){return this.bendpoints},h.prototype.getLca=function(){return this.lca},h.prototype.getSourceInLca=function(){return this.sourceInLca},h.prototype.getTargetInLca=function(){return this.targetInLca},h.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},h.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),m=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==m)break;g=g.getOwner().getParent()}return null},h.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=l.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},h.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=h},function(n,r,a){function o(l){this.vGraphObject=l}n.exports=o},function(n,r,a){var o=a(2),l=a(10),u=a(13),h=a(0),f=a(16),d=a(5);function p(m,y,b,T){b==null&&T==null&&(T=y),o.call(this,T),m.graphManager!=null&&(m=m.graphManager),this.estimatedSize=l.MIN_VALUE,this.inclusionTreeDepth=l.MAX_VALUE,this.vGraphObject=T,this.edges=[],this.graphManager=m,b!=null&&y!=null?this.rect=new u(y.x,y.y,b.width,b.height):this.rect=new u}p.prototype=Object.create(o.prototype);for(var g in o)p[g]=o[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(m){this.rect.width=m},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(m){this.rect.height=m},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(m,y){this.rect.x=m.x,this.rect.y=m.y,this.rect.width=y.width,this.rect.height=y.height},p.prototype.setCenter=function(m,y){this.rect.x=m-this.rect.width/2,this.rect.y=y-this.rect.height/2},p.prototype.setLocation=function(m,y){this.rect.x=m,this.rect.y=y},p.prototype.moveBy=function(m,y){this.rect.x+=m,this.rect.y+=y},p.prototype.getEdgeListToNode=function(m){var y=[],b=this;return b.edges.forEach(function(T){if(T.target==m){if(T.source!=b)throw"Incorrect edge source!";y.push(T)}}),y},p.prototype.getEdgesBetween=function(m){var y=[],b=this;return b.edges.forEach(function(T){if(!(T.source==b||T.target==b))throw"Incorrect edge source and/or target";(T.target==m||T.source==m)&&y.push(T)}),y},p.prototype.getNeighborsList=function(){var m=new Set,y=this;return y.edges.forEach(function(b){if(b.source==y)m.add(b.target);else{if(b.target!=y)throw"Incorrect incidency!";m.add(b.source)}}),m},p.prototype.withChildren=function(){var m=new Set,y,b;if(m.add(this),this.child!=null)for(var T=this.child.getNodes(),E=0;E<T.length;E++)y=T[E],b=y.withChildren(),b.forEach(function(w){m.add(w)});return m},p.prototype.getNoOfChildren=function(){var m=0,y;if(this.child==null)m=1;else for(var b=this.child.getNodes(),T=0;T<b.length;T++)y=b[T],m+=y.getNoOfChildren();return m==0&&(m=1),m},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var m,y,b=-h.INITIAL_WORLD_BOUNDARY,T=h.INITIAL_WORLD_BOUNDARY;m=h.WORLD_CENTER_X+f.nextDouble()*(T-b)+b;var E=-h.INITIAL_WORLD_BOUNDARY,w=h.INITIAL_WORLD_BOUNDARY;y=h.WORLD_CENTER_Y+f.nextDouble()*(w-E)+E,this.rect.x=m,this.rect.y=y},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var m=this.getChild();if(m.updateBounds(!0),this.rect.x=m.getLeft(),this.rect.y=m.getTop(),this.setWidth(m.getRight()-m.getLeft()),this.setHeight(m.getBottom()-m.getTop()),h.NODE_DIMENSIONS_INCLUDE_LABELS){var y=m.getRight()-m.getLeft(),b=m.getBottom()-m.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(y+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>y?(this.rect.x-=(this.labelWidth-y)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(y+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(b+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>b?(this.rect.y-=(this.labelHeight-b)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(b+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==l.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(m){var y=this.rect.x;y>h.WORLD_BOUNDARY?y=h.WORLD_BOUNDARY:y<-h.WORLD_BOUNDARY&&(y=-h.WORLD_BOUNDARY);var b=this.rect.y;b>h.WORLD_BOUNDARY?b=h.WORLD_BOUNDARY:b<-h.WORLD_BOUNDARY&&(b=-h.WORLD_BOUNDARY);var T=new d(y,b),E=m.inverseTransformPoint(T);this.setLocation(E.x,E.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=p},function(n,r,a){var o=a(0);function l(){}for(var u in o)l[u]=o[u];l.MAX_ITERATIONS=2500,l.DEFAULT_EDGE_LENGTH=50,l.DEFAULT_SPRING_STRENGTH=.45,l.DEFAULT_REPULSION_STRENGTH=4500,l.DEFAULT_GRAVITY_STRENGTH=.4,l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,l.COOLING_ADAPTATION_FACTOR=.33,l.ADAPTATION_LOWER_NODE_LIMIT=1e3,l.ADAPTATION_UPPER_NODE_LIMIT=5e3,l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,l.MAX_NODE_DISPLACEMENT=l.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,l.CONVERGENCE_CHECK_PERIOD=100,l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,l.MIN_EDGE_LENGTH=1,l.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=l},function(n,r,a){function o(l,u){l==null&&u==null?(this.x=0,this.y=0):(this.x=l,this.y=u)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(l){this.x=l},o.prototype.setY=function(l){this.y=l},o.prototype.getDifference=function(l){return new DimensionD(this.x-l.x,this.y-l.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(l){return this.x+=l.width,this.y+=l.height,this},n.exports=o},function(n,r,a){var o=a(2),l=a(10),u=a(0),h=a(7),f=a(3),d=a(1),p=a(13),g=a(12),m=a(11);function y(T,E,w){o.call(this,w),this.estimatedSize=l.MIN_VALUE,this.margin=u.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=T,E!=null&&E instanceof h?this.graphManager=E:E!=null&&E instanceof Layout&&(this.graphManager=E.graphManager)}y.prototype=Object.create(o.prototype);for(var b in o)y[b]=o[b];y.prototype.getNodes=function(){return this.nodes},y.prototype.getEdges=function(){return this.edges},y.prototype.getGraphManager=function(){return this.graphManager},y.prototype.getParent=function(){return this.parent},y.prototype.getLeft=function(){return this.left},y.prototype.getRight=function(){return this.right},y.prototype.getTop=function(){return this.top},y.prototype.getBottom=function(){return this.bottom},y.prototype.isConnected=function(){return this.isConnected},y.prototype.add=function(T,E,w){if(E==null&&w==null){var x=T;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}else{var S=T;if(!(this.getNodes().indexOf(E)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(E.owner==w.owner&&E.owner==this))throw"Both owners must be this graph!";return E.owner!=w.owner?null:(S.source=E,S.target=w,S.isInterGraph=!1,this.getEdges().push(S),E.edges.push(S),w!=E&&w.edges.push(S),S)}},y.prototype.remove=function(T){var E=T;if(T instanceof f){if(E==null)throw"Node is null!";if(!(E.owner!=null&&E.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=E.edges.slice(),x,S=w.length,A=0;A<S;A++)x=w[A],x.isInterGraph?this.graphManager.remove(x):x.source.owner.remove(x);var R=this.nodes.indexOf(E);if(R==-1)throw"Node not in owner node list!";this.nodes.splice(R,1)}else if(T instanceof d){var x=T;if(x==null)throw"Edge is null!";if(!(x.source!=null&&x.target!=null))throw"Source and/or target is null!";if(!(x.source.owner!=null&&x.target.owner!=null&&x.source.owner==this&&x.target.owner==this))throw"Source and/or target owner is invalid!";var C=x.source.edges.indexOf(x),N=x.target.edges.indexOf(x);if(!(C>-1&&N>-1))throw"Source and/or target doesn't know this edge!";x.source.edges.splice(C,1),x.target!=x.source&&x.target.edges.splice(N,1);var R=x.source.owner.getEdges().indexOf(x);if(R==-1)throw"Not in owner's edge list!";x.source.owner.getEdges().splice(R,1)}},y.prototype.updateLeftTop=function(){for(var T=l.MAX_VALUE,E=l.MAX_VALUE,w,x,S,A=this.getNodes(),R=A.length,C=0;C<R;C++){var N=A[C];w=N.getTop(),x=N.getLeft(),T>w&&(T=w),E>x&&(E=x)}return T==l.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?S=A[0].getParent().paddingLeft:S=this.margin,this.left=E-S,this.top=T-S,new g(this.left,this.top))},y.prototype.updateBounds=function(T){for(var E=l.MAX_VALUE,w=-l.MAX_VALUE,x=l.MAX_VALUE,S=-l.MAX_VALUE,A,R,C,N,O,L=this.nodes,k=L.length,M=0;M<k;M++){var $=L[M];T&&$.child!=null&&$.updateBounds(),A=$.getLeft(),R=$.getRight(),C=$.getTop(),N=$.getBottom(),E>A&&(E=A),w<R&&(w=R),x>C&&(x=C),S<N&&(S=N)}var _=new p(E,x,w-E,S-x);E==l.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),L[0].getParent().paddingLeft!=null?O=L[0].getParent().paddingLeft:O=this.margin,this.left=_.x-O,this.right=_.x+_.width+O,this.top=_.y-O,this.bottom=_.y+_.height+O},y.calculateBounds=function(T){for(var E=l.MAX_VALUE,w=-l.MAX_VALUE,x=l.MAX_VALUE,S=-l.MAX_VALUE,A,R,C,N,O=T.length,L=0;L<O;L++){var k=T[L];A=k.getLeft(),R=k.getRight(),C=k.getTop(),N=k.getBottom(),E>A&&(E=A),w<R&&(w=R),x>C&&(x=C),S<N&&(S=N)}var M=new p(E,x,w-E,S-x);return M},y.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},y.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},y.prototype.calcEstimatedSize=function(){for(var T=0,E=this.nodes,w=E.length,x=0;x<w;x++){var S=E[x];T+=S.calcEstimatedSize()}return T==0?this.estimatedSize=u.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=T/Math.sqrt(this.nodes.length),this.estimatedSize},y.prototype.updateConnected=function(){var T=this;if(this.nodes.length==0){this.isConnected=!0;return}var E=new m,w=new Set,x=this.nodes[0],S,A,R=x.withChildren();for(R.forEach(function(M){E.push(M),w.add(M)});E.length!==0;){x=E.shift(),S=x.getEdges();for(var C=S.length,N=0;N<C;N++){var O=S[N];if(A=O.getOtherEndInGraph(x,this),A!=null&&!w.has(A)){var L=A.withChildren();L.forEach(function(M){E.push(M),w.add(M)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var k=0;w.forEach(function(M){M.owner==T&&k++}),k==this.nodes.length&&(this.isConnected=!0)}},n.exports=y},function(n,r,a){var o,l=a(1);function u(h){o=a(6),this.layout=h,this.graphs=[],this.edges=[]}u.prototype.addRoot=function(){var h=this.layout.newGraph(),f=this.layout.newNode(null),d=this.add(h,f);return this.setRootGraph(d),this.rootGraph},u.prototype.add=function(h,f,d,p,g){if(d==null&&p==null&&g==null){if(h==null)throw"Graph is null!";if(f==null)throw"Parent node is null!";if(this.graphs.indexOf(h)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(h),h.parent!=null)throw"Already has a parent!";if(f.child!=null)throw"Already has a child!";return h.parent=f,f.child=h,h}else{g=d,p=f,d=h;var m=p.getOwner(),y=g.getOwner();if(!(m!=null&&m.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(y!=null&&y.getGraphManager()==this))throw"Target not in this graph mgr!";if(m==y)return d.isInterGraph=!1,m.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},u.prototype.remove=function(h){if(h instanceof o){var f=h;if(f.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(f==this.rootGraph||f.parent!=null&&f.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(f.getEdges());for(var p,g=d.length,m=0;m<g;m++)p=d[m],f.remove(p);var y=[];y=y.concat(f.getNodes());var b;g=y.length;for(var m=0;m<g;m++)b=y[m],f.remove(b);f==this.rootGraph&&this.setRootGraph(null);var T=this.graphs.indexOf(f);this.graphs.splice(T,1),f.parent=null}else if(h instanceof l){if(p=h,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var T=p.source.edges.indexOf(p);if(p.source.edges.splice(T,1),T=p.target.edges.indexOf(p),p.target.edges.splice(T,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var T=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(T,1)}},u.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},u.prototype.getGraphs=function(){return this.graphs},u.prototype.getAllNodes=function(){if(this.allNodes==null){for(var h=[],f=this.getGraphs(),d=f.length,p=0;p<d;p++)h=h.concat(f[p].getNodes());this.allNodes=h}return this.allNodes},u.prototype.resetAllNodes=function(){this.allNodes=null},u.prototype.resetAllEdges=function(){this.allEdges=null},u.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},u.prototype.getAllEdges=function(){if(this.allEdges==null){var h=[],f=this.getGraphs();f.length;for(var d=0;d<f.length;d++)h=h.concat(f[d].getEdges());h=h.concat(this.edges),this.allEdges=h}return this.allEdges},u.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},u.prototype.setAllNodesToApplyGravitation=function(h){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=h},u.prototype.getRoot=function(){return this.rootGraph},u.prototype.setRootGraph=function(h){if(h.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=h,h.parent==null&&(h.parent=this.layout.newNode("Root node"))},u.prototype.getLayout=function(){return this.layout},u.prototype.isOneAncestorOfOther=function(h,f){if(!(h!=null&&f!=null))throw"assert failed";if(h==f)return!0;var d=h.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==f)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=f.getOwner();do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},u.prototype.calcLowestCommonAncestors=function(){for(var h,f,d,p,g,m=this.getAllEdges(),y=m.length,b=0;b<y;b++){if(h=m[b],f=h.source,d=h.target,h.lca=null,h.sourceInLca=f,h.targetInLca=d,f==d){h.lca=f.getOwner();continue}for(p=f.getOwner();h.lca==null;){for(h.targetInLca=d,g=d.getOwner();h.lca==null;){if(g==p){h.lca=g;break}if(g==this.rootGraph)break;if(h.lca!=null)throw"assert failed";h.targetInLca=g.getParent(),g=h.targetInLca.getOwner()}if(p==this.rootGraph)break;h.lca==null&&(h.sourceInLca=p.getParent(),p=h.sourceInLca.getOwner())}if(h.lca==null)throw"assert failed"}},u.prototype.calcLowestCommonAncestor=function(h,f){if(h==f)return h.getOwner();var d=h.getOwner();do{if(d==null)break;var p=f.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},u.prototype.calcInclusionTreeDepths=function(h,f){h==null&&f==null&&(h=this.rootGraph,f=1);for(var d,p=h.getNodes(),g=p.length,m=0;m<g;m++)d=p[m],d.inclusionTreeDepth=f,d.child!=null&&this.calcInclusionTreeDepths(d.child,f+1)},u.prototype.includesInvalidEdge=function(){for(var h,f=[],d=this.edges.length,p=0;p<d;p++)h=this.edges[p],this.isOneAncestorOfOther(h.source,h.target)&&f.push(h);for(var p=0;p<f.length;p++)this.remove(f[p]);return!1},n.exports=u},function(n,r,a){var o=a(12);function l(){}l.calcSeparationAmount=function(u,h,f,d){if(!u.intersects(h))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(u,h,p),f[0]=Math.min(u.getRight(),h.getRight())-Math.max(u.x,h.x),f[1]=Math.min(u.getBottom(),h.getBottom())-Math.max(u.y,h.y),u.getX()<=h.getX()&&u.getRight()>=h.getRight()?f[0]+=Math.min(h.getX()-u.getX(),u.getRight()-h.getRight()):h.getX()<=u.getX()&&h.getRight()>=u.getRight()&&(f[0]+=Math.min(u.getX()-h.getX(),h.getRight()-u.getRight())),u.getY()<=h.getY()&&u.getBottom()>=h.getBottom()?f[1]+=Math.min(h.getY()-u.getY(),u.getBottom()-h.getBottom()):h.getY()<=u.getY()&&h.getBottom()>=u.getBottom()&&(f[1]+=Math.min(u.getY()-h.getY(),h.getBottom()-u.getBottom()));var g=Math.abs((h.getCenterY()-u.getCenterY())/(h.getCenterX()-u.getCenterX()));h.getCenterY()===u.getCenterY()&&h.getCenterX()===u.getCenterX()&&(g=1);var m=g*f[0],y=f[1]/g;f[0]<y?y=f[0]:m=f[1],f[0]=-1*p[0]*(y/2+d),f[1]=-1*p[1]*(m/2+d)},l.decideDirectionsForOverlappingNodes=function(u,h,f){u.getCenterX()<h.getCenterX()?f[0]=-1:f[0]=1,u.getCenterY()<h.getCenterY()?f[1]=-1:f[1]=1},l.getIntersection2=function(u,h,f){var d=u.getCenterX(),p=u.getCenterY(),g=h.getCenterX(),m=h.getCenterY();if(u.intersects(h))return f[0]=d,f[1]=p,f[2]=g,f[3]=m,!0;var y=u.getX(),b=u.getY(),T=u.getRight(),E=u.getX(),w=u.getBottom(),x=u.getRight(),S=u.getWidthHalf(),A=u.getHeightHalf(),R=h.getX(),C=h.getY(),N=h.getRight(),O=h.getX(),L=h.getBottom(),k=h.getRight(),M=h.getWidthHalf(),$=h.getHeightHalf(),_=!1,F=!1;if(d===g){if(p>m)return f[0]=d,f[1]=b,f[2]=g,f[3]=L,!1;if(p<m)return f[0]=d,f[1]=w,f[2]=g,f[3]=C,!1}else if(p===m){if(d>g)return f[0]=y,f[1]=p,f[2]=N,f[3]=m,!1;if(d<g)return f[0]=T,f[1]=p,f[2]=R,f[3]=m,!1}else{var B=u.height/u.width,D=h.height/h.width,P=(m-p)/(g-d),H=void 0,W=void 0,U=void 0,V=void 0,G=void 0,ee=void 0;if(-B===P?d>g?(f[0]=E,f[1]=w,_=!0):(f[0]=T,f[1]=b,_=!0):B===P&&(d>g?(f[0]=y,f[1]=b,_=!0):(f[0]=x,f[1]=w,_=!0)),-D===P?g>d?(f[2]=O,f[3]=L,F=!0):(f[2]=N,f[3]=C,F=!0):D===P&&(g>d?(f[2]=R,f[3]=C,F=!0):(f[2]=k,f[3]=L,F=!0)),_&&F)return!1;if(d>g?p>m?(H=this.getCardinalDirection(B,P,4),W=this.getCardinalDirection(D,P,2)):(H=this.getCardinalDirection(-B,P,3),W=this.getCardinalDirection(-D,P,1)):p>m?(H=this.getCardinalDirection(-B,P,1),W=this.getCardinalDirection(-D,P,3)):(H=this.getCardinalDirection(B,P,2),W=this.getCardinalDirection(D,P,4)),!_)switch(H){case 1:V=b,U=d+-A/P,f[0]=U,f[1]=V;break;case 2:U=x,V=p+S*P,f[0]=U,f[1]=V;break;case 3:V=w,U=d+A/P,f[0]=U,f[1]=V;break;case 4:U=E,V=p+-S*P,f[0]=U,f[1]=V;break}if(!F)switch(W){case 1:ee=C,G=g+-$/P,f[2]=G,f[3]=ee;break;case 2:G=k,ee=m+M*P,f[2]=G,f[3]=ee;break;case 3:ee=L,G=g+$/P,f[2]=G,f[3]=ee;break;case 4:G=O,ee=m+-M*P,f[2]=G,f[3]=ee;break}}return!1},l.getCardinalDirection=function(u,h,f){return u>h?f:1+f%4},l.getIntersection=function(u,h,f,d){if(d==null)return this.getIntersection2(u,h,f);var p=u.x,g=u.y,m=h.x,y=h.y,b=f.x,T=f.y,E=d.x,w=d.y,x=void 0,S=void 0,A=void 0,R=void 0,C=void 0,N=void 0,O=void 0,L=void 0,k=void 0;return A=y-g,C=p-m,O=m*g-p*y,R=w-T,N=b-E,L=E*T-b*w,k=A*N-R*C,k===0?null:(x=(C*L-N*O)/k,S=(R*O-A*L)/k,new o(x,S))},l.angleOfVector=function(u,h,f,d){var p=void 0;return u!==f?(p=Math.atan((d-h)/(f-u)),f<u?p+=Math.PI:d<h&&(p+=this.TWO_PI)):d<h?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},l.doIntersect=function(u,h,f,d){var p=u.x,g=u.y,m=h.x,y=h.y,b=f.x,T=f.y,E=d.x,w=d.y,x=(m-p)*(w-T)-(E-b)*(y-g);if(x===0)return!1;var S=((w-T)*(E-p)+(b-E)*(w-g))/x,A=((g-y)*(E-p)+(m-p)*(w-g))/x;return 0<S&&S<1&&0<A&&A<1},l.findCircleLineIntersections=function(u,h,f,d,p,g,m){var y=(f-u)*(f-u)+(d-h)*(d-h),b=2*((u-p)*(f-u)+(h-g)*(d-h)),T=(u-p)*(u-p)+(h-g)*(h-g)-m*m,E=b*b-4*y*T;if(E>=0){var w=(-b+Math.sqrt(b*b-4*y*T))/(2*y),x=(-b-Math.sqrt(b*b-4*y*T))/(2*y),S=null;return w>=0&&w<=1?[w]:x>=0&&x<=1?[x]:S}else return null},l.HALF_PI=.5*Math.PI,l.ONE_AND_HALF_PI=1.5*Math.PI,l.TWO_PI=2*Math.PI,l.THREE_PI=3*Math.PI,n.exports=l},function(n,r,a){function o(){}o.sign=function(l){return l>0?1:l<0?-1:0},o.floor=function(l){return l<0?Math.ceil(l):Math.floor(l)},o.ceil=function(l){return l<0?Math.floor(l):Math.ceil(l)},n.exports=o},function(n,r,a){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,n.exports=o},function(n,r,a){var o=function(){function p(g,m){for(var y=0;y<m.length;y++){var b=m[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,m,y){return m&&p(g.prototype,m),y&&p(g,y),g}}();function l(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var u=function(g){return{value:g,next:null,prev:null}},h=function(g,m,y,b){return g!==null?g.next=m:b.head=m,y!==null?y.prev=m:b.tail=m,m.prev=g,m.next=y,b.length++,m},f=function(g,m){var y=g.prev,b=g.next;return y!==null?y.next=b:m.head=b,b!==null?b.prev=y:m.tail=y,g.prev=g.next=null,m.length--,g},d=function(){function p(g){var m=this;l(this,p),this.length=0,this.head=null,this.tail=null,g!=null&&g.forEach(function(y){return m.push(y)})}return o(p,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(m,y){return h(y.prev,u(m),y,this)}},{key:"insertAfter",value:function(m,y){return h(y,u(m),y.next,this)}},{key:"insertNodeBefore",value:function(m,y){return h(y.prev,m,y,this)}},{key:"insertNodeAfter",value:function(m,y){return h(y,m,y.next,this)}},{key:"push",value:function(m){return h(this.tail,u(m),null,this)}},{key:"unshift",value:function(m){return h(null,u(m),this.head,this)}},{key:"remove",value:function(m){return f(m,this)}},{key:"pop",value:function(){return f(this.tail,this).value}},{key:"popNode",value:function(){return f(this.tail,this)}},{key:"shift",value:function(){return f(this.head,this).value}},{key:"shiftNode",value:function(){return f(this.head,this)}},{key:"get_object_at",value:function(m){if(m<=this.length()){for(var y=1,b=this.head;y<m;)b=b.next,y++;return b.value}}},{key:"set_object_at",value:function(m,y){if(m<=this.length()){for(var b=1,T=this.head;b<m;)T=T.next,b++;T.value=y}}}]),p}();n.exports=d},function(n,r,a){function o(l,u,h){this.x=null,this.y=null,l==null&&u==null&&h==null?(this.x=0,this.y=0):typeof l=="number"&&typeof u=="number"&&h==null?(this.x=l,this.y=u):l.constructor.name=="Point"&&u==null&&h==null&&(h=l,this.x=h.x,this.y=h.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(l,u,h){l.constructor.name=="Point"&&u==null&&h==null?(h=l,this.setLocation(h.x,h.y)):typeof l=="number"&&typeof u=="number"&&h==null&&(parseInt(l)==l&&parseInt(u)==u?this.move(l,u):(this.x=Math.floor(l+.5),this.y=Math.floor(u+.5)))},o.prototype.move=function(l,u){this.x=l,this.y=u},o.prototype.translate=function(l,u){this.x+=l,this.y+=u},o.prototype.equals=function(l){if(l.constructor.name=="Point"){var u=l;return this.x==u.x&&this.y==u.y}return this==l},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=o},function(n,r,a){function o(l,u,h,f){this.x=0,this.y=0,this.width=0,this.height=0,l!=null&&u!=null&&h!=null&&f!=null&&(this.x=l,this.y=u,this.width=h,this.height=f)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(l){this.x=l},o.prototype.getY=function(){return this.y},o.prototype.setY=function(l){this.y=l},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(l){return!(this.getRight()<l.x||this.getBottom()<l.y||l.getRight()<this.x||l.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},n.exports=o},function(n,r,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function l(){}l.lastID=0,l.createID=function(u){return l.isPrimitive(u)?u:(u.uniqueID!=null||(u.uniqueID=l.getString(),l.lastID++),u.uniqueID)},l.getString=function(u){return u==null&&(u=l.lastID),"Object#"+u},l.isPrimitive=function(u){var h=typeof u>"u"?"undefined":o(u);return u==null||h!="object"&&h!="function"},n.exports=l},function(n,r,a){function o(b){if(Array.isArray(b)){for(var T=0,E=Array(b.length);T<b.length;T++)E[T]=b[T];return E}else return Array.from(b)}var l=a(0),u=a(7),h=a(3),f=a(1),d=a(6),p=a(5),g=a(17),m=a(29);function y(b){m.call(this),this.layoutQuality=l.QUALITY,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=l.DEFAULT_INCREMENTAL,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new u(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,b!=null&&(this.isRemoteUse=b)}y.RANDOM_SEED=1,y.prototype=Object.create(m.prototype),y.prototype.getGraphManager=function(){return this.graphManager},y.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},y.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},y.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},y.prototype.newGraphManager=function(){var b=new u(this);return this.graphManager=b,b},y.prototype.newGraph=function(b){return new d(null,this.graphManager,b)},y.prototype.newNode=function(b){return new h(this.graphManager,b)},y.prototype.newEdge=function(b){return new f(null,null,b)},y.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},y.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var b;return this.checkLayoutSuccess()?b=!1:b=this.layout(),l.ANIMATE==="during"?!1:(b&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,b)},y.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},y.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var b=this.graphManager.getAllEdges(),T=0;T<b.length;T++)b[T];for(var E=this.graphManager.getRoot().getNodes(),T=0;T<E.length;T++)E[T];this.update(this.graphManager.getRoot())}},y.prototype.update=function(b){if(b==null)this.update2();else if(b instanceof h){var T=b;if(T.getChild()!=null)for(var E=T.getChild().getNodes(),w=0;w<E.length;w++)update(E[w]);if(T.vGraphObject!=null){var x=T.vGraphObject;x.update(T)}}else if(b instanceof f){var S=b;if(S.vGraphObject!=null){var A=S.vGraphObject;A.update(S)}}else if(b instanceof d){var R=b;if(R.vGraphObject!=null){var C=R.vGraphObject;C.update(R)}}},y.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=l.QUALITY,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=l.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},y.prototype.transform=function(b){if(b==null)this.transform(new p(0,0));else{var T=new g,E=this.graphManager.getRoot().updateLeftTop();if(E!=null){T.setWorldOrgX(b.x),T.setWorldOrgY(b.y),T.setDeviceOrgX(E.x),T.setDeviceOrgY(E.y);for(var w=this.getAllNodes(),x,S=0;S<w.length;S++)x=w[S],x.transform(T)}}},y.prototype.positionNodesRandomly=function(b){if(b==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var T,E,w=b.getNodes(),x=0;x<w.length;x++)T=w[x],E=T.getChild(),E==null||E.getNodes().length==0?T.scatter():(this.positionNodesRandomly(E),T.updateBounds())},y.prototype.getFlatForest=function(){for(var b=[],T=!0,E=this.graphManager.getRoot().getNodes(),w=!0,x=0;x<E.length;x++)E[x].getChild()!=null&&(w=!1);if(!w)return b;var S=new Set,A=[],R=new Map,C=[];for(C=C.concat(E);C.length>0&&T;){for(A.push(C[0]);A.length>0&&T;){var N=A[0];A.splice(0,1),S.add(N);for(var O=N.getEdges(),x=0;x<O.length;x++){var L=O[x].getOtherEnd(N);if(R.get(N)!=L)if(!S.has(L))A.push(L),R.set(L,N);else{T=!1;break}}}if(!T)b=[];else{var k=[].concat(o(S));b.push(k);for(var x=0;x<k.length;x++){var M=k[x],$=C.indexOf(M);$>-1&&C.splice($,1)}S=new Set,R=new Map}}return b},y.prototype.createDummyNodesForBendpoints=function(b){for(var T=[],E=b.source,w=this.graphManager.calcLowestCommonAncestor(b.source,b.target),x=0;x<b.bendpoints.length;x++){var S=this.newNode(null);S.setRect(new Point(0,0),new Dimension(1,1)),w.add(S);var A=this.newEdge(null);this.graphManager.add(A,E,S),T.add(S),E=S}var A=this.newEdge(null);return this.graphManager.add(A,E,b.target),this.edgeToDummyNodes.set(b,T),b.isInterGraph()?this.graphManager.remove(b):w.remove(b),T},y.prototype.createBendpointsFromDummyNodes=function(){var b=[];b=b.concat(this.graphManager.getAllEdges()),b=[].concat(o(this.edgeToDummyNodes.keys())).concat(b);for(var T=0;T<b.length;T++){var E=b[T];if(E.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(E),x=0;x<w.length;x++){var S=w[x],A=new p(S.getCenterX(),S.getCenterY()),R=E.bendpoints.get(x);R.x=A.x,R.y=A.y,S.getOwner().remove(S)}this.graphManager.add(E,E.source,E.target)}}},y.transform=function(b,T,E,w){if(E!=null&&w!=null){var x=T;if(b<=50){var S=T/E;x-=(T-S)/50*(50-b)}else{var A=T*w;x+=(A-T)/50*(b-50)}return x}else{var R,C;return b<=50?(R=9*T/500,C=T/10):(R=9*T/50,C=-8*T),R*b+C}},y.findCenterOfTree=function(b){var T=[];T=T.concat(b);var E=[],w=new Map,x=!1,S=null;(T.length==1||T.length==2)&&(x=!0,S=T[0]);for(var A=0;A<T.length;A++){var R=T[A],C=R.getNeighborsList().size;w.set(R,R.getNeighborsList().size),C==1&&E.push(R)}var N=[];for(N=N.concat(E);!x;){var O=[];O=O.concat(N),N=[];for(var A=0;A<T.length;A++){var R=T[A],L=T.indexOf(R);L>=0&&T.splice(L,1);var k=R.getNeighborsList();k.forEach(function(_){if(E.indexOf(_)<0){var F=w.get(_),B=F-1;B==1&&N.push(_),w.set(_,B)}})}E=E.concat(N),(T.length==1||T.length==2)&&(x=!0,S=T[0])}return S},y.prototype.setGraphManager=function(b){this.graphManager=b},n.exports=y},function(n,r,a){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},n.exports=o},function(n,r,a){var o=a(5);function l(u,h){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l.prototype.getWorldOrgX=function(){return this.lworldOrgX},l.prototype.setWorldOrgX=function(u){this.lworldOrgX=u},l.prototype.getWorldOrgY=function(){return this.lworldOrgY},l.prototype.setWorldOrgY=function(u){this.lworldOrgY=u},l.prototype.getWorldExtX=function(){return this.lworldExtX},l.prototype.setWorldExtX=function(u){this.lworldExtX=u},l.prototype.getWorldExtY=function(){return this.lworldExtY},l.prototype.setWorldExtY=function(u){this.lworldExtY=u},l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},l.prototype.setDeviceOrgX=function(u){this.ldeviceOrgX=u},l.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},l.prototype.setDeviceOrgY=function(u){this.ldeviceOrgY=u},l.prototype.getDeviceExtX=function(){return this.ldeviceExtX},l.prototype.setDeviceExtX=function(u){this.ldeviceExtX=u},l.prototype.getDeviceExtY=function(){return this.ldeviceExtY},l.prototype.setDeviceExtY=function(u){this.ldeviceExtY=u},l.prototype.transformX=function(u){var h=0,f=this.lworldExtX;return f!=0&&(h=this.ldeviceOrgX+(u-this.lworldOrgX)*this.ldeviceExtX/f),h},l.prototype.transformY=function(u){var h=0,f=this.lworldExtY;return f!=0&&(h=this.ldeviceOrgY+(u-this.lworldOrgY)*this.ldeviceExtY/f),h},l.prototype.inverseTransformX=function(u){var h=0,f=this.ldeviceExtX;return f!=0&&(h=this.lworldOrgX+(u-this.ldeviceOrgX)*this.lworldExtX/f),h},l.prototype.inverseTransformY=function(u){var h=0,f=this.ldeviceExtY;return f!=0&&(h=this.lworldOrgY+(u-this.ldeviceOrgY)*this.lworldExtY/f),h},l.prototype.inverseTransformPoint=function(u){var h=new o(this.inverseTransformX(u.x),this.inverseTransformY(u.y));return h},n.exports=l},function(n,r,a){function o(m){if(Array.isArray(m)){for(var y=0,b=Array(m.length);y<m.length;y++)b[y]=m[y];return b}else return Array.from(m)}var l=a(15),u=a(4),h=a(0),f=a(8),d=a(9);function p(){l.call(this),this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=u.MAX_ITERATIONS}p.prototype=Object.create(l.prototype);for(var g in l)p[g]=l[g];p.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=u.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var m,y,b,T,E,w,x,S=this.getGraphManager().getAllEdges(),A=0;A<S.length;A++)m=S[A],y=m.idealLength,m.isInterGraph&&(T=m.getSource(),E=m.getTarget(),w=m.getSourceInLca().getEstimatedSize(),x=m.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(m.idealLength+=w+x-2*h.SIMPLE_NODE_SIZE),b=m.getLca().getInclusionTreeDepth(),m.idealLength+=y*u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(T.getInclusionTreeDepth()+E.getInclusionTreeDepth()-2*b))},p.prototype.initSpringEmbedder=function(){var m=this.getAllNodes().length;this.incremental?(m>u.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*u.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(m-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-u.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT_INCREMENTAL):(m>u.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(u.COOLING_ADAPTATION_FACTOR,1-(m-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*(1-u.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var m=this.getAllEdges(),y,b=0;b<m.length;b++)y=m[b],this.calcSpringForce(y,y.idealLength)},p.prototype.calcRepulsionForces=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,T,E,w,x=this.getAllNodes(),S;if(this.useFRGridVariant)for(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&m&&this.updateGrid(),S=new Set,b=0;b<x.length;b++)E=x[b],this.calculateRepulsionForceOfANode(E,S,m,y),S.add(E);else for(b=0;b<x.length;b++)for(E=x[b],T=b+1;T<x.length;T++)w=x[T],E.getOwner()==w.getOwner()&&this.calcRepulsionForce(E,w)},p.prototype.calcGravitationalForces=function(){for(var m,y=this.getAllNodesToApplyGravitation(),b=0;b<y.length;b++)m=y[b],this.calcGravitationalForce(m)},p.prototype.moveNodes=function(){for(var m=this.getAllNodes(),y,b=0;b<m.length;b++)y=m[b],y.move()},p.prototype.calcSpringForce=function(m,y){var b=m.getSource(),T=m.getTarget(),E,w,x,S;if(this.uniformLeafNodeSizes&&b.getChild()==null&&T.getChild()==null)m.updateLengthSimple();else if(m.updateLength(),m.isOverlapingSourceAndTarget)return;E=m.getLength(),E!=0&&(w=m.edgeElasticity*(E-y),x=w*(m.lengthX/E),S=w*(m.lengthY/E),b.springForceX+=x,b.springForceY+=S,T.springForceX-=x,T.springForceY-=S)},p.prototype.calcRepulsionForce=function(m,y){var b=m.getRect(),T=y.getRect(),E=new Array(2),w=new Array(4),x,S,A,R,C,N,O;if(b.intersects(T)){f.calcSeparationAmount(b,T,E,u.DEFAULT_EDGE_LENGTH/2),N=2*E[0],O=2*E[1];var L=m.noOfChildren*y.noOfChildren/(m.noOfChildren+y.noOfChildren);m.repulsionForceX-=L*N,m.repulsionForceY-=L*O,y.repulsionForceX+=L*N,y.repulsionForceY+=L*O}else this.uniformLeafNodeSizes&&m.getChild()==null&&y.getChild()==null?(x=T.getCenterX()-b.getCenterX(),S=T.getCenterY()-b.getCenterY()):(f.getIntersection(b,T,w),x=w[2]-w[0],S=w[3]-w[1]),Math.abs(x)<u.MIN_REPULSION_DIST&&(x=d.sign(x)*u.MIN_REPULSION_DIST),Math.abs(S)<u.MIN_REPULSION_DIST&&(S=d.sign(S)*u.MIN_REPULSION_DIST),A=x*x+S*S,R=Math.sqrt(A),C=(m.nodeRepulsion/2+y.nodeRepulsion/2)*m.noOfChildren*y.noOfChildren/A,N=C*x/R,O=C*S/R,m.repulsionForceX-=N,m.repulsionForceY-=O,y.repulsionForceX+=N,y.repulsionForceY+=O},p.prototype.calcGravitationalForce=function(m){var y,b,T,E,w,x,S,A;y=m.getOwner(),b=(y.getRight()+y.getLeft())/2,T=(y.getTop()+y.getBottom())/2,E=m.getCenterX()-b,w=m.getCenterY()-T,x=Math.abs(E)+m.getWidth()/2,S=Math.abs(w)+m.getHeight()/2,m.getOwner()==this.graphManager.getRoot()?(A=y.getEstimatedSize()*this.gravityRangeFactor,(x>A||S>A)&&(m.gravitationForceX=-this.gravityConstant*E,m.gravitationForceY=-this.gravityConstant*w)):(A=y.getEstimatedSize()*this.compoundGravityRangeFactor,(x>A||S>A)&&(m.gravitationForceX=-this.gravityConstant*E*this.compoundGravityConstant,m.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},p.prototype.isConverged=function(){var m,y=!1;return this.totalIterations>this.maxIterations/3&&(y=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),m=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,m||y},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var m,y=this.graphManager.getAllNodes(),b=0;b<y.length;b++)m=y[b],m.noOfChildren=m.getNoOfChildren()},p.prototype.calcGrid=function(m){var y=0,b=0;y=parseInt(Math.ceil((m.getRight()-m.getLeft())/this.repulsionRange)),b=parseInt(Math.ceil((m.getBottom()-m.getTop())/this.repulsionRange));for(var T=new Array(y),E=0;E<y;E++)T[E]=new Array(b);for(var E=0;E<y;E++)for(var w=0;w<b;w++)T[E][w]=new Array;return T},p.prototype.addNodeToGrid=function(m,y,b){var T=0,E=0,w=0,x=0;T=parseInt(Math.floor((m.getRect().x-y)/this.repulsionRange)),E=parseInt(Math.floor((m.getRect().width+m.getRect().x-y)/this.repulsionRange)),w=parseInt(Math.floor((m.getRect().y-b)/this.repulsionRange)),x=parseInt(Math.floor((m.getRect().height+m.getRect().y-b)/this.repulsionRange));for(var S=T;S<=E;S++)for(var A=w;A<=x;A++)this.grid[S][A].push(m),m.setGridCoordinates(T,E,w,x)},p.prototype.updateGrid=function(){var m,y,b=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),m=0;m<b.length;m++)y=b[m],this.addNodeToGrid(y,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(m,y,b,T){if(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&b||T){var E=new Set;m.surrounding=new Array;for(var w,x=this.grid,S=m.startX-1;S<m.finishX+2;S++)for(var A=m.startY-1;A<m.finishY+2;A++)if(!(S<0||A<0||S>=x.length||A>=x[0].length)){for(var R=0;R<x[S][A].length;R++)if(w=x[S][A][R],!(m.getOwner()!=w.getOwner()||m==w)&&!y.has(w)&&!E.has(w)){var C=Math.abs(m.getCenterX()-w.getCenterX())-(m.getWidth()/2+w.getWidth()/2),N=Math.abs(m.getCenterY()-w.getCenterY())-(m.getHeight()/2+w.getHeight()/2);C<=this.repulsionRange&&N<=this.repulsionRange&&E.add(w)}}m.surrounding=[].concat(o(E))}for(S=0;S<m.surrounding.length;S++)this.calcRepulsionForce(m,m.surrounding[S])},p.prototype.calcRepulsionRange=function(){return 0},n.exports=p},function(n,r,a){var o=a(1),l=a(4);function u(f,d,p){o.call(this,f,d,p),this.idealLength=l.DEFAULT_EDGE_LENGTH,this.edgeElasticity=l.DEFAULT_SPRING_STRENGTH}u.prototype=Object.create(o.prototype);for(var h in o)u[h]=o[h];n.exports=u},function(n,r,a){var o=a(3),l=a(4);function u(f,d,p,g){o.call(this,f,d,p,g),this.nodeRepulsion=l.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}u.prototype=Object.create(o.prototype);for(var h in o)u[h]=o[h];u.prototype.setGridCoordinates=function(f,d,p,g){this.startX=f,this.finishX=d,this.startY=p,this.finishY=g},n.exports=u},function(n,r,a){function o(l,u){this.width=0,this.height=0,l!==null&&u!==null&&(this.height=u,this.width=l)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},n.exports=o},function(n,r,a){var o=a(14);function l(){this.map={},this.keys=[]}l.prototype.put=function(u,h){var f=o.createID(u);this.contains(f)||(this.map[f]=h,this.keys.push(u))},l.prototype.contains=function(u){return o.createID(u),this.map[u]!=null},l.prototype.get=function(u){var h=o.createID(u);return this.map[h]},l.prototype.keySet=function(){return this.keys},n.exports=l},function(n,r,a){var o=a(14);function l(){this.set={}}l.prototype.add=function(u){var h=o.createID(u);this.contains(h)||(this.set[h]=u)},l.prototype.remove=function(u){delete this.set[o.createID(u)]},l.prototype.clear=function(){this.set={}},l.prototype.contains=function(u){return this.set[o.createID(u)]==u},l.prototype.isEmpty=function(){return this.size()===0},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAllTo=function(u){for(var h=Object.keys(this.set),f=h.length,d=0;d<f;d++)u.push(this.set[h[d]])},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAll=function(u){for(var h=u.length,f=0;f<h;f++){var d=u[f];this.add(d)}},n.exports=l},function(n,r,a){function o(){}o.multMat=function(l,u){for(var h=[],f=0;f<l.length;f++){h[f]=[];for(var d=0;d<u[0].length;d++){h[f][d]=0;for(var p=0;p<l[0].length;p++)h[f][d]+=l[f][p]*u[p][d]}}return h},o.transpose=function(l){for(var u=[],h=0;h<l[0].length;h++){u[h]=[];for(var f=0;f<l.length;f++)u[h][f]=l[f][h]}return u},o.multCons=function(l,u){for(var h=[],f=0;f<l.length;f++)h[f]=l[f]*u;return h},o.minusOp=function(l,u){for(var h=[],f=0;f<l.length;f++)h[f]=l[f]-u[f];return h},o.dotProduct=function(l,u){for(var h=0,f=0;f<l.length;f++)h+=l[f]*u[f];return h},o.mag=function(l){return Math.sqrt(this.dotProduct(l,l))},o.normalize=function(l){for(var u=[],h=this.mag(l),f=0;f<l.length;f++)u[f]=l[f]/h;return u},o.multGamma=function(l){for(var u=[],h=0,f=0;f<l.length;f++)h+=l[f];h*=-1/l.length;for(var d=0;d<l.length;d++)u[d]=h+l[d];return u},o.multL=function(l,u,h){for(var f=[],d=[],p=[],g=0;g<u[0].length;g++){for(var m=0,y=0;y<u.length;y++)m+=-.5*u[y][g]*l[y];d[g]=m}for(var b=0;b<h.length;b++){for(var T=0,E=0;E<h.length;E++)T+=h[b][E]*d[E];p[b]=T}for(var w=0;w<u.length;w++){for(var x=0,S=0;S<u[0].length;S++)x+=u[w][S]*p[S];f[w]=x}return f},n.exports=o},function(n,r,a){var o=function(){function f(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}}();function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var u=a(11),h=function(){function f(d,p){l(this,f),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof u?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return o(f,[{key:"_quicksort",value:function(p,g,m){if(g<m){var y=this._partition(p,g,m);this._quicksort(p,g,y),this._quicksort(p,y+1,m)}}},{key:"_partition",value:function(p,g,m){for(var y=this._get(p,g),b=g,T=m;;){for(;this.compareFunction(y,this._get(p,T));)T--;for(;this.compareFunction(this._get(p,b),y);)b++;if(b<T)this._swap(p,b,T),b++,T--;else return T}}},{key:"_get",value:function(p,g){return p instanceof u?p.get_object_at(g):p[g]}},{key:"_set",value:function(p,g,m){p instanceof u?p.set_object_at(g,m):p[g]=m}},{key:"_swap",value:function(p,g,m){var y=this._get(p,g);this._set(p,g,this._get(p,m)),this._set(p,m,y)}},{key:"_defaultCompareFunction",value:function(p,g){return g>p}}]),f}();n.exports=h},function(n,r,a){function o(){}o.svd=function(l){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=l.length,this.n=l[0].length;var u=Math.min(this.m,this.n);this.s=function(st){for(var Je=[];st-- >0;)Je.push(0);return Je}(Math.min(this.m+1,this.n)),this.U=function(st){var Je=function gt(Nt){if(Nt.length==0)return 0;for(var yt=[],nn=0;nn<Nt[0];nn++)yt.push(gt(Nt.slice(1)));return yt};return Je(st)}([this.m,u]),this.V=function(st){var Je=function gt(Nt){if(Nt.length==0)return 0;for(var yt=[],nn=0;nn<Nt[0];nn++)yt.push(gt(Nt.slice(1)));return yt};return Je(st)}([this.n,this.n]);for(var h=function(st){for(var Je=[];st-- >0;)Je.push(0);return Je}(this.n),f=function(st){for(var Je=[];st-- >0;)Je.push(0);return Je}(this.m),d=!0,p=Math.min(this.m-1,this.n),g=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(p,g);m++){if(m<p){this.s[m]=0;for(var y=m;y<this.m;y++)this.s[m]=o.hypot(this.s[m],l[y][m]);if(this.s[m]!==0){l[m][m]<0&&(this.s[m]=-this.s[m]);for(var b=m;b<this.m;b++)l[b][m]/=this.s[m];l[m][m]+=1}this.s[m]=-this.s[m]}for(var T=m+1;T<this.n;T++){if(function(st,Je){return st&&Je}(m<p,this.s[m]!==0)){for(var E=0,w=m;w<this.m;w++)E+=l[w][m]*l[w][T];E=-E/l[m][m];for(var x=m;x<this.m;x++)l[x][T]+=E*l[x][m]}h[T]=l[m][T]}if(function(st,Je){return Je}(d,m<p))for(var S=m;S<this.m;S++)this.U[S][m]=l[S][m];if(m<g){h[m]=0;for(var A=m+1;A<this.n;A++)h[m]=o.hypot(h[m],h[A]);if(h[m]!==0){h[m+1]<0&&(h[m]=-h[m]);for(var R=m+1;R<this.n;R++)h[R]/=h[m];h[m+1]+=1}if(h[m]=-h[m],function(st,Je){return st&&Je}(m+1<this.m,h[m]!==0)){for(var C=m+1;C<this.m;C++)f[C]=0;for(var N=m+1;N<this.n;N++)for(var O=m+1;O<this.m;O++)f[O]+=h[N]*l[O][N];for(var L=m+1;L<this.n;L++)for(var k=-h[L]/h[m+1],M=m+1;M<this.m;M++)l[M][L]+=k*f[M]}for(var $=m+1;$<this.n;$++)this.V[$][m]=h[$]}}var _=Math.min(this.n,this.m+1);p<this.n&&(this.s[p]=l[p][p]),this.m<_&&(this.s[_-1]=0),g+1<_&&(h[g]=l[g][_-1]),h[_-1]=0;{for(var F=p;F<u;F++){for(var B=0;B<this.m;B++)this.U[B][F]=0;this.U[F][F]=1}for(var D=p-1;D>=0;D--)if(this.s[D]!==0){for(var P=D+1;P<u;P++){for(var H=0,W=D;W<this.m;W++)H+=this.U[W][D]*this.U[W][P];H=-H/this.U[D][D];for(var U=D;U<this.m;U++)this.U[U][P]+=H*this.U[U][D]}for(var V=D;V<this.m;V++)this.U[V][D]=-this.U[V][D];this.U[D][D]=1+this.U[D][D];for(var G=0;G<D-1;G++)this.U[G][D]=0}else{for(var ee=0;ee<this.m;ee++)this.U[ee][D]=0;this.U[D][D]=1}}for(var ce=this.n-1;ce>=0;ce--){if(function(st,Je){return st&&Je}(ce<g,h[ce]!==0))for(var Q=ce+1;Q<u;Q++){for(var re=0,le=ce+1;le<this.n;le++)re+=this.V[le][ce]*this.V[le][Q];re=-re/this.V[ce+1][ce];for(var Y=ce+1;Y<this.n;Y++)this.V[Y][Q]+=re*this.V[Y][ce]}for(var K=0;K<this.n;K++)this.V[K][ce]=0;this.V[ce][ce]=1}for(var Z=_-1,z=Math.pow(2,-52),X=Math.pow(2,-966);_>0;){var te=void 0,ne=void 0;for(te=_-2;te>=-1&&te!==-1;te--)if(Math.abs(h[te])<=X+z*(Math.abs(this.s[te])+Math.abs(this.s[te+1]))){h[te]=0;break}if(te===_-2)ne=4;else{var Ae=void 0;for(Ae=_-1;Ae>=te&&Ae!==te;Ae--){var he=(Ae!==_?Math.abs(h[Ae]):0)+(Ae!==te+1?Math.abs(h[Ae-1]):0);if(Math.abs(this.s[Ae])<=X+z*he){this.s[Ae]=0;break}}Ae===te?ne=3:Ae===_-1?ne=1:(ne=2,te=Ae)}switch(te++,ne){case 1:{var oe=h[_-2];h[_-2]=0;for(var de=_-2;de>=te;de--){var be=o.hypot(this.s[de],oe),fe=this.s[de]/be,Ie=oe/be;this.s[de]=be,de!==te&&(oe=-Ie*h[de-1],h[de-1]=fe*h[de-1]);for(var Re=0;Re<this.n;Re++)be=fe*this.V[Re][de]+Ie*this.V[Re][_-1],this.V[Re][_-1]=-Ie*this.V[Re][de]+fe*this.V[Re][_-1],this.V[Re][de]=be}}break;case 2:{var ke=h[te-1];h[te-1]=0;for(var De=te;De<_;De++){var se=o.hypot(this.s[De],ke),j=this.s[De]/se,me=ke/se;this.s[De]=se,ke=-me*h[De],h[De]=j*h[De];for(var ue=0;ue<this.m;ue++)se=j*this.U[ue][De]+me*this.U[ue][te-1],this.U[ue][te-1]=-me*this.U[ue][De]+j*this.U[ue][te-1],this.U[ue][De]=se}}break;case 3:{var we=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[_-1]),Math.abs(this.s[_-2])),Math.abs(h[_-2])),Math.abs(this.s[te])),Math.abs(h[te])),ie=this.s[_-1]/we,Oe=this.s[_-2]/we,ae=h[_-2]/we,ge=this.s[te]/we,Ee=h[te]/we,ye=((Oe+ie)*(Oe-ie)+ae*ae)/2,Se=ie*ae*(ie*ae),Ce=0;(function(st,Je){return st||Je})(ye!==0,Se!==0)&&(Ce=Math.sqrt(ye*ye+Se),ye<0&&(Ce=-Ce),Ce=Se/(ye+Ce));for(var Fe=(ge+ie)*(ge-ie)+Ce,Ne=ge*Ee,Ve=te;Ve<_-1;Ve++){var et=o.hypot(Fe,Ne),Rt=Fe/et,pt=Ne/et;Ve!==te&&(h[Ve-1]=et),Fe=Rt*this.s[Ve]+pt*h[Ve],h[Ve]=Rt*h[Ve]-pt*this.s[Ve],Ne=pt*this.s[Ve+1],this.s[Ve+1]=Rt*this.s[Ve+1];for(var ut=0;ut<this.n;ut++)et=Rt*this.V[ut][Ve]+pt*this.V[ut][Ve+1],this.V[ut][Ve+1]=-pt*this.V[ut][Ve]+Rt*this.V[ut][Ve+1],this.V[ut][Ve]=et;if(et=o.hypot(Fe,Ne),Rt=Fe/et,pt=Ne/et,this.s[Ve]=et,Fe=Rt*h[Ve]+pt*this.s[Ve+1],this.s[Ve+1]=-pt*h[Ve]+Rt*this.s[Ve+1],Ne=pt*h[Ve+1],h[Ve+1]=Rt*h[Ve+1],Ve<this.m-1)for(var qe=0;qe<this.m;qe++)et=Rt*this.U[qe][Ve]+pt*this.U[qe][Ve+1],this.U[qe][Ve+1]=-pt*this.U[qe][Ve]+Rt*this.U[qe][Ve+1],this.U[qe][Ve]=et}h[_-2]=Fe}break;case 4:{if(this.s[te]<=0){this.s[te]=this.s[te]<0?-this.s[te]:0;for(var je=0;je<=Z;je++)this.V[je][te]=-this.V[je][te]}for(;te<Z&&!(this.s[te]>=this.s[te+1]);){var ft=this.s[te];if(this.s[te]=this.s[te+1],this.s[te+1]=ft,te<this.n-1)for(var Ke=0;Ke<this.n;Ke++)ft=this.V[Ke][te+1],this.V[Ke][te+1]=this.V[Ke][te],this.V[Ke][te]=ft;if(te<this.m-1)for(var at=0;at<this.m;at++)ft=this.U[at][te+1],this.U[at][te+1]=this.U[at][te],this.U[at][te]=ft;te++}_--}break}}var Ft={U:this.U,V:this.V,S:this.s};return Ft},o.hypot=function(l,u){var h=void 0;return Math.abs(l)>Math.abs(u)?(h=u/l,h=Math.abs(l)*Math.sqrt(1+h*h)):u!=0?(h=l/u,h=Math.abs(u)*Math.sqrt(1+h*h)):h=0,h},n.exports=o},function(n,r,a){var o=function(){function h(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,d,p){return d&&h(f.prototype,d),p&&h(f,p),f}}();function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var u=function(){function h(f,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;l(this,h),this.sequence1=f,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=m,this.iMax=f.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var y=0;y<this.iMax;y++){this.grid[y]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.grid[y][b]=0}this.tracebackGrid=new Array(this.iMax);for(var T=0;T<this.iMax;T++){this.tracebackGrid[T]=new Array(this.jMax);for(var E=0;E<this.jMax;E++)this.tracebackGrid[T][E]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(h,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var d=1;d<this.jMax;d++)this.grid[0][d]=this.grid[0][d-1]+this.gap_penalty,this.tracebackGrid[0][d]=[!1,!1,!0];for(var p=1;p<this.iMax;p++)this.grid[p][0]=this.grid[p-1][0]+this.gap_penalty,this.tracebackGrid[p][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var m=1;m<this.jMax;m++){var y=void 0;this.sequence1[g-1]===this.sequence2[m-1]?y=this.grid[g-1][m-1]+this.match_score:y=this.grid[g-1][m-1]+this.mismatch_penalty;var b=this.grid[g-1][m]+this.gap_penalty,T=this.grid[g][m-1]+this.gap_penalty,E=[y,b,T],w=this.arrayAllMaxIndexes(E);this.grid[g][m]=E[w[0]],this.tracebackGrid[g][m]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var d=[];for(d.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});d[0];){var p=d[0],g=this.tracebackGrid[p.pos[0]][p.pos[1]];g[0]&&d.push({pos:[p.pos[0]-1,p.pos[1]-1],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),g[1]&&d.push({pos:[p.pos[0]-1,p.pos[1]],seq1:this.sequence1[p.pos[0]-1]+p.seq1,seq2:"-"+p.seq2}),g[2]&&d.push({pos:[p.pos[0],p.pos[1]-1],seq1:"-"+p.seq1,seq2:this.sequence2[p.pos[1]-1]+p.seq2}),p.pos[0]===0&&p.pos[1]===0&&this.alignments.push({sequence1:p.seq1,sequence2:p.seq2}),d.shift()}return this.alignments}},{key:"getAllIndexes",value:function(d,p){for(var g=[],m=-1;(m=d.indexOf(p,m+1))!==-1;)g.push(m);return g}},{key:"arrayAllMaxIndexes",value:function(d){return this.getAllIndexes(d,Math.max.apply(null,d))}}]),h}();n.exports=u},function(n,r,a){var o=function(){};o.FDLayout=a(18),o.FDLayoutConstants=a(4),o.FDLayoutEdge=a(19),o.FDLayoutNode=a(20),o.DimensionD=a(21),o.HashMap=a(22),o.HashSet=a(23),o.IGeometry=a(8),o.IMath=a(9),o.Integer=a(10),o.Point=a(12),o.PointD=a(5),o.RandomSeed=a(16),o.RectangleD=a(13),o.Transform=a(17),o.UniqueIDGeneretor=a(14),o.Quicksort=a(25),o.LinkedList=a(11),o.LGraphObject=a(2),o.LGraph=a(6),o.LEdge=a(1),o.LGraphManager=a(7),o.LNode=a(3),o.Layout=a(15),o.LayoutConstants=a(0),o.NeedlemanWunsch=a(27),o.Matrix=a(24),o.SVD=a(26),n.exports=o},function(n,r,a){function o(){this.listeners=[]}var l=o.prototype;l.addListener=function(u,h){this.listeners.push({event:u,callback:h})},l.removeListener=function(u,h){for(var f=this.listeners.length;f>=0;f--){var d=this.listeners[f];d.event===u&&d.callback===h&&this.listeners.splice(f,1)}},l.emit=function(u,h){for(var f=0;f<this.listeners.length;f++){var d=this.listeners[f];u===d.event&&d.callback(h)}},n.exports=o}])})}(Kk)),Kk.exports}var vK;function CLt(){return vK||(vK=1,function(e,t){(function(r,a){e.exports=a(ILt())})(Cs,function(n){return(()=>{var r={45:(u,h,f)=>{var d={};d.layoutBase=f(551),d.CoSEConstants=f(806),d.CoSEEdge=f(767),d.CoSEGraph=f(880),d.CoSEGraphManager=f(578),d.CoSELayout=f(765),d.CoSENode=f(991),d.ConstraintHandler=f(902),u.exports=d},806:(u,h,f)=>{var d=f(551).FDLayoutConstants;function p(){}for(var g in d)p[g]=d[g];p.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,p.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,p.DEFAULT_COMPONENT_SEPERATION=60,p.TILE=!0,p.TILING_PADDING_VERTICAL=10,p.TILING_PADDING_HORIZONTAL=10,p.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,p.ENFORCE_CONSTRAINTS=!0,p.APPLY_LAYOUT=!0,p.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,p.TREE_REDUCTION_ON_INCREMENTAL=!0,p.PURE_INCREMENTAL=p.DEFAULT_INCREMENTAL,u.exports=p},767:(u,h,f)=>{var d=f(551).FDLayoutEdge;function p(m,y,b){d.call(this,m,y,b)}p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];u.exports=p},880:(u,h,f)=>{var d=f(551).LGraph;function p(m,y,b){d.call(this,m,y,b)}p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];u.exports=p},578:(u,h,f)=>{var d=f(551).LGraphManager;function p(m){d.call(this,m)}p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];u.exports=p},765:(u,h,f)=>{var d=f(551).FDLayout,p=f(578),g=f(880),m=f(991),y=f(767),b=f(806),T=f(902),E=f(551).FDLayoutConstants,w=f(551).LayoutConstants,x=f(551).Point,S=f(551).PointD,A=f(551).DimensionD,R=f(551).Layout,C=f(551).Integer,N=f(551).IGeometry,O=f(551).LGraph,L=f(551).Transform,k=f(551).LinkedList;function M(){d.call(this),this.toBeTiled={},this.constraints={}}M.prototype=Object.create(d.prototype);for(var $ in d)M[$]=d[$];M.prototype.newGraphManager=function(){var _=new p(this);return this.graphManager=_,_},M.prototype.newGraph=function(_){return new g(null,this.graphManager,_)},M.prototype.newNode=function(_){return new m(this.graphManager,_)},M.prototype.newEdge=function(_){return new y(null,null,_)},M.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(b.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=b.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=b.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=E.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=E.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=E.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=E.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},M.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/E.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},M.prototype.layout=function(){var _=w.DEFAULT_CREATE_BENDS_AS_NEEDED;return _&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},M.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(b.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var F=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(H){return F.has(H)});this.graphManager.setAllNodesToApplyGravitation(B)}}else{var _=this.getFlatForest();if(_.length>0)this.positionNodesRadially(_);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var F=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(D){return F.has(D)});this.graphManager.setAllNodesToApplyGravitation(B),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(T.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),b.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},M.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%E.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),F=this.nodesWithGravity.filter(function(P){return _.has(P)});this.graphManager.setAllNodesToApplyGravitation(F),this.graphManager.updateBounds(),this.updateGrid(),b.PURE_INCREMENTAL?this.coolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),b.PURE_INCREMENTAL?this.coolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=E.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var B=!this.isTreeGrowing&&!this.isGrowthFinished,D=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(B,D),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},M.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),F={},B=0;B<_.length;B++){var D=_[B].rect,P=_[B].id;F[P]={id:P,x:D.getCenterX(),y:D.getCenterY(),w:D.width,h:D.height}}return F},M.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(E.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},M.prototype.moveNodes=function(){for(var _=this.getAllNodes(),F,B=0;B<_.length;B++)F=_[B],F.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var B=0;B<_.length;B++)F=_[B],F.move()},M.prototype.initConstraintVariables=function(){var _=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var F=this.graphManager.getAllNodes(),B=0;B<F.length;B++){var D=F[B];this.idToNodeMap.set(D.id,D)}var P=function Y(K){for(var Z=K.getChild().getNodes(),z,X=0,te=0;te<Z.length;te++)z=Z[te],z.getChild()==null?_.fixedNodeSet.has(z.id)&&(X+=100):X+=Y(z);return X};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(Z){_.fixedNodeSet.add(Z.nodeId)});for(var F=this.graphManager.getAllNodes(),D,B=0;B<F.length;B++)if(D=F[B],D.getChild()!=null){var H=P(D);H>0&&(D.fixedNodeWeight=H)}}if(this.constraints.relativePlacementConstraint){var W=new Map,U=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(Y){_.fixedNodesOnHorizontal.add(Y),_.fixedNodesOnVertical.add(Y)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var V=this.constraints.alignmentConstraint.vertical,B=0;B<V.length;B++)this.dummyToNodeForVerticalAlignment.set("dummy"+B,[]),V[B].forEach(function(K){W.set(K,"dummy"+B),_.dummyToNodeForVerticalAlignment.get("dummy"+B).push(K),_.fixedNodeSet.has(K)&&_.fixedNodesOnHorizontal.add("dummy"+B)});if(this.constraints.alignmentConstraint.horizontal)for(var G=this.constraints.alignmentConstraint.horizontal,B=0;B<G.length;B++)this.dummyToNodeForHorizontalAlignment.set("dummy"+B,[]),G[B].forEach(function(K){U.set(K,"dummy"+B),_.dummyToNodeForHorizontalAlignment.get("dummy"+B).push(K),_.fixedNodeSet.has(K)&&_.fixedNodesOnVertical.add("dummy"+B)})}if(b.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(Y){var K,Z,z;for(z=Y.length-1;z>=2*Y.length/3;z--)K=Math.floor(Math.random()*(z+1)),Z=Y[z],Y[z]=Y[K],Y[K]=Z;return Y},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(Y){if(Y.left){var K=W.has(Y.left)?W.get(Y.left):Y.left,Z=W.has(Y.right)?W.get(Y.right):Y.right;_.nodesInRelativeHorizontal.includes(K)||(_.nodesInRelativeHorizontal.push(K),_.nodeToRelativeConstraintMapHorizontal.set(K,[]),_.dummyToNodeForVerticalAlignment.has(K)?_.nodeToTempPositionMapHorizontal.set(K,_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(K)[0]).getCenterX()):_.nodeToTempPositionMapHorizontal.set(K,_.idToNodeMap.get(K).getCenterX())),_.nodesInRelativeHorizontal.includes(Z)||(_.nodesInRelativeHorizontal.push(Z),_.nodeToRelativeConstraintMapHorizontal.set(Z,[]),_.dummyToNodeForVerticalAlignment.has(Z)?_.nodeToTempPositionMapHorizontal.set(Z,_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(Z)[0]).getCenterX()):_.nodeToTempPositionMapHorizontal.set(Z,_.idToNodeMap.get(Z).getCenterX())),_.nodeToRelativeConstraintMapHorizontal.get(K).push({right:Z,gap:Y.gap}),_.nodeToRelativeConstraintMapHorizontal.get(Z).push({left:K,gap:Y.gap})}else{var z=U.has(Y.top)?U.get(Y.top):Y.top,X=U.has(Y.bottom)?U.get(Y.bottom):Y.bottom;_.nodesInRelativeVertical.includes(z)||(_.nodesInRelativeVertical.push(z),_.nodeToRelativeConstraintMapVertical.set(z,[]),_.dummyToNodeForHorizontalAlignment.has(z)?_.nodeToTempPositionMapVertical.set(z,_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(z)[0]).getCenterY()):_.nodeToTempPositionMapVertical.set(z,_.idToNodeMap.get(z).getCenterY())),_.nodesInRelativeVertical.includes(X)||(_.nodesInRelativeVertical.push(X),_.nodeToRelativeConstraintMapVertical.set(X,[]),_.dummyToNodeForHorizontalAlignment.has(X)?_.nodeToTempPositionMapVertical.set(X,_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(X)[0]).getCenterY()):_.nodeToTempPositionMapVertical.set(X,_.idToNodeMap.get(X).getCenterY())),_.nodeToRelativeConstraintMapVertical.get(z).push({bottom:X,gap:Y.gap}),_.nodeToRelativeConstraintMapVertical.get(X).push({top:z,gap:Y.gap})}});else{var ee=new Map,ce=new Map;this.constraints.relativePlacementConstraint.forEach(function(Y){if(Y.left){var K=W.has(Y.left)?W.get(Y.left):Y.left,Z=W.has(Y.right)?W.get(Y.right):Y.right;ee.has(K)?ee.get(K).push(Z):ee.set(K,[Z]),ee.has(Z)?ee.get(Z).push(K):ee.set(Z,[K])}else{var z=U.has(Y.top)?U.get(Y.top):Y.top,X=U.has(Y.bottom)?U.get(Y.bottom):Y.bottom;ce.has(z)?ce.get(z).push(X):ce.set(z,[X]),ce.has(X)?ce.get(X).push(z):ce.set(X,[z])}});var Q=function(K,Z){var z=[],X=[],te=new k,ne=new Set,Ae=0;return K.forEach(function(he,oe){if(!ne.has(oe)){z[Ae]=[],X[Ae]=!1;var de=oe;for(te.push(de),ne.add(de),z[Ae].push(de);te.length!=0;){de=te.shift(),Z.has(de)&&(X[Ae]=!0);var be=K.get(de);be.forEach(function(fe){ne.has(fe)||(te.push(fe),ne.add(fe),z[Ae].push(fe))})}Ae++}}),{components:z,isFixed:X}},re=Q(ee,_.fixedNodesOnHorizontal);this.componentsOnHorizontal=re.components,this.fixedComponentsOnHorizontal=re.isFixed;var le=Q(ce,_.fixedNodesOnVertical);this.componentsOnVertical=le.components,this.fixedComponentsOnVertical=le.isFixed}}},M.prototype.updateDisplacements=function(){var _=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(le){var Y=_.idToNodeMap.get(le.nodeId);Y.displacementX=0,Y.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var F=this.constraints.alignmentConstraint.vertical,B=0;B<F.length;B++){for(var D=0,P=0;P<F[B].length;P++){if(this.fixedNodeSet.has(F[B][P])){D=0;break}D+=this.idToNodeMap.get(F[B][P]).displacementX}for(var H=D/F[B].length,P=0;P<F[B].length;P++)this.idToNodeMap.get(F[B][P]).displacementX=H}if(this.constraints.alignmentConstraint.horizontal)for(var W=this.constraints.alignmentConstraint.horizontal,B=0;B<W.length;B++){for(var U=0,P=0;P<W[B].length;P++){if(this.fixedNodeSet.has(W[B][P])){U=0;break}U+=this.idToNodeMap.get(W[B][P]).displacementY}for(var V=U/W[B].length,P=0;P<W[B].length;P++)this.idToNodeMap.get(W[B][P]).displacementY=V}}if(this.constraints.relativePlacementConstraint)if(b.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(le){if(!_.fixedNodesOnHorizontal.has(le)){var Y=0;_.dummyToNodeForVerticalAlignment.has(le)?Y=_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(le)[0]).displacementX:Y=_.idToNodeMap.get(le).displacementX,_.nodeToRelativeConstraintMapHorizontal.get(le).forEach(function(K){if(K.right){var Z=_.nodeToTempPositionMapHorizontal.get(K.right)-_.nodeToTempPositionMapHorizontal.get(le)-Y;Z<K.gap&&(Y-=K.gap-Z)}else{var Z=_.nodeToTempPositionMapHorizontal.get(le)-_.nodeToTempPositionMapHorizontal.get(K.left)+Y;Z<K.gap&&(Y+=K.gap-Z)}}),_.nodeToTempPositionMapHorizontal.set(le,_.nodeToTempPositionMapHorizontal.get(le)+Y),_.dummyToNodeForVerticalAlignment.has(le)?_.dummyToNodeForVerticalAlignment.get(le).forEach(function(K){_.idToNodeMap.get(K).displacementX=Y}):_.idToNodeMap.get(le).displacementX=Y}}),this.nodesInRelativeVertical.forEach(function(le){if(!_.fixedNodesOnHorizontal.has(le)){var Y=0;_.dummyToNodeForHorizontalAlignment.has(le)?Y=_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(le)[0]).displacementY:Y=_.idToNodeMap.get(le).displacementY,_.nodeToRelativeConstraintMapVertical.get(le).forEach(function(K){if(K.bottom){var Z=_.nodeToTempPositionMapVertical.get(K.bottom)-_.nodeToTempPositionMapVertical.get(le)-Y;Z<K.gap&&(Y-=K.gap-Z)}else{var Z=_.nodeToTempPositionMapVertical.get(le)-_.nodeToTempPositionMapVertical.get(K.top)+Y;Z<K.gap&&(Y+=K.gap-Z)}}),_.nodeToTempPositionMapVertical.set(le,_.nodeToTempPositionMapVertical.get(le)+Y),_.dummyToNodeForHorizontalAlignment.has(le)?_.dummyToNodeForHorizontalAlignment.get(le).forEach(function(K){_.idToNodeMap.get(K).displacementY=Y}):_.idToNodeMap.get(le).displacementY=Y}});else{for(var B=0;B<this.componentsOnHorizontal.length;B++){var G=this.componentsOnHorizontal[B];if(this.fixedComponentsOnHorizontal[B])for(var P=0;P<G.length;P++)this.dummyToNodeForVerticalAlignment.has(G[P])?this.dummyToNodeForVerticalAlignment.get(G[P]).forEach(function(K){_.idToNodeMap.get(K).displacementX=0}):this.idToNodeMap.get(G[P]).displacementX=0;else{for(var ee=0,ce=0,P=0;P<G.length;P++)if(this.dummyToNodeForVerticalAlignment.has(G[P])){var Q=this.dummyToNodeForVerticalAlignment.get(G[P]);ee+=Q.length*this.idToNodeMap.get(Q[0]).displacementX,ce+=Q.length}else ee+=this.idToNodeMap.get(G[P]).displacementX,ce++;for(var re=ee/ce,P=0;P<G.length;P++)this.dummyToNodeForVerticalAlignment.has(G[P])?this.dummyToNodeForVerticalAlignment.get(G[P]).forEach(function(K){_.idToNodeMap.get(K).displacementX=re}):this.idToNodeMap.get(G[P]).displacementX=re}}for(var B=0;B<this.componentsOnVertical.length;B++){var G=this.componentsOnVertical[B];if(this.fixedComponentsOnVertical[B])for(var P=0;P<G.length;P++)this.dummyToNodeForHorizontalAlignment.has(G[P])?this.dummyToNodeForHorizontalAlignment.get(G[P]).forEach(function(Z){_.idToNodeMap.get(Z).displacementY=0}):this.idToNodeMap.get(G[P]).displacementY=0;else{for(var ee=0,ce=0,P=0;P<G.length;P++)if(this.dummyToNodeForHorizontalAlignment.has(G[P])){var Q=this.dummyToNodeForHorizontalAlignment.get(G[P]);ee+=Q.length*this.idToNodeMap.get(Q[0]).displacementY,ce+=Q.length}else ee+=this.idToNodeMap.get(G[P]).displacementY,ce++;for(var re=ee/ce,P=0;P<G.length;P++)this.dummyToNodeForHorizontalAlignment.has(G[P])?this.dummyToNodeForHorizontalAlignment.get(G[P]).forEach(function(te){_.idToNodeMap.get(te).displacementY=re}):this.idToNodeMap.get(G[P]).displacementY=re}}}},M.prototype.calculateNodesToApplyGravitationTo=function(){var _=[],F,B=this.graphManager.getGraphs(),D=B.length,P;for(P=0;P<D;P++)F=B[P],F.updateConnected(),F.isConnected||(_=_.concat(F.getNodes()));return _},M.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var F=new Set,B;for(B=0;B<_.length;B++){var D=_[B];if(!F.has(D)){var P=D.getSource(),H=D.getTarget();if(P==H)D.getBendpoints().push(new S),D.getBendpoints().push(new S),this.createDummyNodesForBendpoints(D),F.add(D);else{var W=[];if(W=W.concat(P.getEdgeListToNode(H)),W=W.concat(H.getEdgeListToNode(P)),!F.has(W[0])){if(W.length>1){var U;for(U=0;U<W.length;U++){var V=W[U];V.getBendpoints().push(new S),this.createDummyNodesForBendpoints(V)}}W.forEach(function(G){F.add(G)})}}}if(F.size==_.length)break}},M.prototype.positionNodesRadially=function(_){for(var F=new x(0,0),B=Math.ceil(Math.sqrt(_.length)),D=0,P=0,H=0,W=new S(0,0),U=0;U<_.length;U++){U%B==0&&(H=0,P=D,U!=0&&(P+=b.DEFAULT_COMPONENT_SEPERATION),D=0);var V=_[U],G=R.findCenterOfTree(V);F.x=H,F.y=P,W=M.radialLayout(V,G,F),W.y>D&&(D=Math.floor(W.y)),H=Math.floor(W.x+b.DEFAULT_COMPONENT_SEPERATION)}this.transform(new S(w.WORLD_CENTER_X-W.x/2,w.WORLD_CENTER_Y-W.y/2))},M.radialLayout=function(_,F,B){var D=Math.max(this.maxDiagonalInTree(_),b.DEFAULT_RADIAL_SEPARATION);M.branchRadialLayout(F,null,0,359,0,D);var P=O.calculateBounds(_),H=new L;H.setDeviceOrgX(P.getMinX()),H.setDeviceOrgY(P.getMinY()),H.setWorldOrgX(B.x),H.setWorldOrgY(B.y);for(var W=0;W<_.length;W++){var U=_[W];U.transform(H)}var V=new S(P.getMaxX(),P.getMaxY());return H.inverseTransformPoint(V)},M.branchRadialLayout=function(_,F,B,D,P,H){var W=(D-B+1)/2;W<0&&(W+=180);var U=(W+B)%360,V=U*N.TWO_PI/360,G=P*Math.cos(V),ee=P*Math.sin(V);_.setCenter(G,ee);var ce=[];ce=ce.concat(_.getEdges());var Q=ce.length;F!=null&&Q--;for(var re=0,le=ce.length,Y,K=_.getEdgesBetween(F);K.length>1;){var Z=K[0];K.splice(0,1);var z=ce.indexOf(Z);z>=0&&ce.splice(z,1),le--,Q--}F!=null?Y=(ce.indexOf(K[0])+1)%le:Y=0;for(var X=Math.abs(D-B)/Q,te=Y;re!=Q;te=++te%le){var ne=ce[te].getOtherEnd(_);if(ne!=F){var Ae=(B+re*X)%360,he=(Ae+X)%360;M.branchRadialLayout(ne,_,Ae,he,P+H,H),re++}}},M.maxDiagonalInTree=function(_){for(var F=C.MIN_VALUE,B=0;B<_.length;B++){var D=_[B],P=D.getDiagonal();P>F&&(F=P)}return F},M.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},M.prototype.groupZeroDegreeMembers=function(){var _=this,F={};this.memberGroups={},this.idToDummyNode={};for(var B=[],D=this.graphManager.getAllNodes(),P=0;P<D.length;P++){var H=D[P],W=H.getParent();this.getNodeDegreeWithChildren(H)===0&&(W.id==null||!this.getToBeTiled(W))&&B.push(H)}for(var P=0;P<B.length;P++){var H=B[P],U=H.getParent().id;typeof F[U]>"u"&&(F[U]=[]),F[U]=F[U].concat(H)}Object.keys(F).forEach(function(V){if(F[V].length>1){var G="DummyCompound_"+V;_.memberGroups[G]=F[V];var ee=F[V][0].getParent(),ce=new m(_.graphManager);ce.id=G,ce.paddingLeft=ee.paddingLeft||0,ce.paddingRight=ee.paddingRight||0,ce.paddingBottom=ee.paddingBottom||0,ce.paddingTop=ee.paddingTop||0,_.idToDummyNode[G]=ce;var Q=_.getGraphManager().add(_.newGraph(),ce),re=ee.getChild();re.add(ce);for(var le=0;le<F[V].length;le++){var Y=F[V][le];re.remove(Y),Q.add(Y)}}})},M.prototype.clearCompounds=function(){var _={},F={};this.performDFSOnCompounds();for(var B=0;B<this.compoundOrder.length;B++)F[this.compoundOrder[B].id]=this.compoundOrder[B],_[this.compoundOrder[B].id]=[].concat(this.compoundOrder[B].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[B].getChild()),this.compoundOrder[B].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,F)},M.prototype.clearZeroDegreeMembers=function(){var _=this,F=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(B){var D=_.idToDummyNode[B];if(F[B]=_.tileNodes(_.memberGroups[B],D.paddingLeft+D.paddingRight),D.rect.width=F[B].width,D.rect.height=F[B].height,D.setCenter(F[B].centerX,F[B].centerY),D.labelMarginLeft=0,D.labelMarginTop=0,b.NODE_DIMENSIONS_INCLUDE_LABELS){var P=D.rect.width,H=D.rect.height;D.labelWidth&&(D.labelPosHorizontal=="left"?(D.rect.x-=D.labelWidth,D.setWidth(P+D.labelWidth),D.labelMarginLeft=D.labelWidth):D.labelPosHorizontal=="center"&&D.labelWidth>P?(D.rect.x-=(D.labelWidth-P)/2,D.setWidth(D.labelWidth),D.labelMarginLeft=(D.labelWidth-P)/2):D.labelPosHorizontal=="right"&&D.setWidth(P+D.labelWidth)),D.labelHeight&&(D.labelPosVertical=="top"?(D.rect.y-=D.labelHeight,D.setHeight(H+D.labelHeight),D.labelMarginTop=D.labelHeight):D.labelPosVertical=="center"&&D.labelHeight>H?(D.rect.y-=(D.labelHeight-H)/2,D.setHeight(D.labelHeight),D.labelMarginTop=(D.labelHeight-H)/2):D.labelPosVertical=="bottom"&&D.setHeight(H+D.labelHeight))}})},M.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var F=this.compoundOrder[_],B=F.id,D=F.paddingLeft,P=F.paddingTop,H=F.labelMarginLeft,W=F.labelMarginTop;this.adjustLocations(this.tiledMemberPack[B],F.rect.x,F.rect.y,D,P,H,W)}},M.prototype.repopulateZeroDegreeMembers=function(){var _=this,F=this.tiledZeroDegreePack;Object.keys(F).forEach(function(B){var D=_.idToDummyNode[B],P=D.paddingLeft,H=D.paddingTop,W=D.labelMarginLeft,U=D.labelMarginTop;_.adjustLocations(F[B],D.rect.x,D.rect.y,P,H,W,U)})},M.prototype.getToBeTiled=function(_){var F=_.id;if(this.toBeTiled[F]!=null)return this.toBeTiled[F];var B=_.getChild();if(B==null)return this.toBeTiled[F]=!1,!1;for(var D=B.getNodes(),P=0;P<D.length;P++){var H=D[P];if(this.getNodeDegree(H)>0)return this.toBeTiled[F]=!1,!1;if(H.getChild()==null){this.toBeTiled[H.id]=!1;continue}if(!this.getToBeTiled(H))return this.toBeTiled[F]=!1,!1}return this.toBeTiled[F]=!0,!0},M.prototype.getNodeDegree=function(_){_.id;for(var F=_.getEdges(),B=0,D=0;D<F.length;D++){var P=F[D];P.getSource().id!==P.getTarget().id&&(B=B+1)}return B},M.prototype.getNodeDegreeWithChildren=function(_){var F=this.getNodeDegree(_);if(_.getChild()==null)return F;for(var B=_.getChild().getNodes(),D=0;D<B.length;D++){var P=B[D];F+=this.getNodeDegreeWithChildren(P)}return F},M.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},M.prototype.fillCompexOrderByDFS=function(_){for(var F=0;F<_.length;F++){var B=_[F];B.getChild()!=null&&this.fillCompexOrderByDFS(B.getChild().getNodes()),this.getToBeTiled(B)&&this.compoundOrder.push(B)}},M.prototype.adjustLocations=function(_,F,B,D,P,H,W){F+=D+H,B+=P+W;for(var U=F,V=0;V<_.rows.length;V++){var G=_.rows[V];F=U;for(var ee=0,ce=0;ce<G.length;ce++){var Q=G[ce];Q.rect.x=F,Q.rect.y=B,F+=Q.rect.width+_.horizontalPadding,Q.rect.height>ee&&(ee=Q.rect.height)}B+=ee+_.verticalPadding}},M.prototype.tileCompoundMembers=function(_,F){var B=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(D){var P=F[D];if(B.tiledMemberPack[D]=B.tileNodes(_[D],P.paddingLeft+P.paddingRight),P.rect.width=B.tiledMemberPack[D].width,P.rect.height=B.tiledMemberPack[D].height,P.setCenter(B.tiledMemberPack[D].centerX,B.tiledMemberPack[D].centerY),P.labelMarginLeft=0,P.labelMarginTop=0,b.NODE_DIMENSIONS_INCLUDE_LABELS){var H=P.rect.width,W=P.rect.height;P.labelWidth&&(P.labelPosHorizontal=="left"?(P.rect.x-=P.labelWidth,P.setWidth(H+P.labelWidth),P.labelMarginLeft=P.labelWidth):P.labelPosHorizontal=="center"&&P.labelWidth>H?(P.rect.x-=(P.labelWidth-H)/2,P.setWidth(P.labelWidth),P.labelMarginLeft=(P.labelWidth-H)/2):P.labelPosHorizontal=="right"&&P.setWidth(H+P.labelWidth)),P.labelHeight&&(P.labelPosVertical=="top"?(P.rect.y-=P.labelHeight,P.setHeight(W+P.labelHeight),P.labelMarginTop=P.labelHeight):P.labelPosVertical=="center"&&P.labelHeight>W?(P.rect.y-=(P.labelHeight-W)/2,P.setHeight(P.labelHeight),P.labelMarginTop=(P.labelHeight-W)/2):P.labelPosVertical=="bottom"&&P.setHeight(W+P.labelHeight))}})},M.prototype.tileNodes=function(_,F){var B=this.tileNodesByFavoringDim(_,F,!0),D=this.tileNodesByFavoringDim(_,F,!1),P=this.getOrgRatio(B),H=this.getOrgRatio(D),W;return H<P?W=D:W=B,W},M.prototype.getOrgRatio=function(_){var F=_.width,B=_.height,D=F/B;return D<1&&(D=1/D),D},M.prototype.calcIdealRowWidth=function(_,F){var B=b.TILING_PADDING_VERTICAL,D=b.TILING_PADDING_HORIZONTAL,P=_.length,H=0,W=0,U=0;_.forEach(function(le){H+=le.getWidth(),W+=le.getHeight(),le.getWidth()>U&&(U=le.getWidth())});var V=H/P,G=W/P,ee=Math.pow(B-D,2)+4*(V+D)*(G+B)*P,ce=(D-B+Math.sqrt(ee))/(2*(V+D)),Q;F?(Q=Math.ceil(ce),Q==ce&&Q++):Q=Math.floor(ce);var re=Q*(V+D)-D;return U>re&&(re=U),re+=D*2,re},M.prototype.tileNodesByFavoringDim=function(_,F,B){var D=b.TILING_PADDING_VERTICAL,P=b.TILING_PADDING_HORIZONTAL,H=b.TILING_COMPARE_BY,W={rows:[],rowWidth:[],rowHeight:[],width:0,height:F,verticalPadding:D,horizontalPadding:P,centerX:0,centerY:0};H&&(W.idealRowWidth=this.calcIdealRowWidth(_,B));var U=function(Y){return Y.rect.width*Y.rect.height},V=function(Y,K){return U(K)-U(Y)};_.sort(function(le,Y){var K=V;return W.idealRowWidth?(K=H,K(le.id,Y.id)):K(le,Y)});for(var G=0,ee=0,ce=0;ce<_.length;ce++){var Q=_[ce];G+=Q.getCenterX(),ee+=Q.getCenterY()}W.centerX=G/_.length,W.centerY=ee/_.length;for(var ce=0;ce<_.length;ce++){var Q=_[ce];if(W.rows.length==0)this.insertNodeToRow(W,Q,0,F);else if(this.canAddHorizontal(W,Q.rect.width,Q.rect.height)){var re=W.rows.length-1;W.idealRowWidth||(re=this.getShortestRowIndex(W)),this.insertNodeToRow(W,Q,re,F)}else this.insertNodeToRow(W,Q,W.rows.length,F);this.shiftToLastRow(W)}return W},M.prototype.insertNodeToRow=function(_,F,B,D){var P=D;if(B==_.rows.length){var H=[];_.rows.push(H),_.rowWidth.push(P),_.rowHeight.push(0)}var W=_.rowWidth[B]+F.rect.width;_.rows[B].length>0&&(W+=_.horizontalPadding),_.rowWidth[B]=W,_.width<W&&(_.width=W);var U=F.rect.height;B>0&&(U+=_.verticalPadding);var V=0;U>_.rowHeight[B]&&(V=_.rowHeight[B],_.rowHeight[B]=U,V=_.rowHeight[B]-V),_.height+=V,_.rows[B].push(F)},M.prototype.getShortestRowIndex=function(_){for(var F=-1,B=Number.MAX_VALUE,D=0;D<_.rows.length;D++)_.rowWidth[D]<B&&(F=D,B=_.rowWidth[D]);return F},M.prototype.getLongestRowIndex=function(_){for(var F=-1,B=Number.MIN_VALUE,D=0;D<_.rows.length;D++)_.rowWidth[D]>B&&(F=D,B=_.rowWidth[D]);return F},M.prototype.canAddHorizontal=function(_,F,B){if(_.idealRowWidth){var D=_.rows.length-1,P=_.rowWidth[D];return P+F+_.horizontalPadding<=_.idealRowWidth}var H=this.getShortestRowIndex(_);if(H<0)return!0;var W=_.rowWidth[H];if(W+_.horizontalPadding+F<=_.width)return!0;var U=0;_.rowHeight[H]<B&&H>0&&(U=B+_.verticalPadding-_.rowHeight[H]);var V;_.width-W>=F+_.horizontalPadding?V=(_.height+U)/(W+F+_.horizontalPadding):V=(_.height+U)/_.width,U=B+_.verticalPadding;var G;return _.width<F?G=(_.height+U)/F:G=(_.height+U)/_.width,G<1&&(G=1/G),V<1&&(V=1/V),V<G},M.prototype.shiftToLastRow=function(_){var F=this.getLongestRowIndex(_),B=_.rowWidth.length-1,D=_.rows[F],P=D[D.length-1],H=P.width+_.horizontalPadding;if(_.width-_.rowWidth[B]>H&&F!=B){D.splice(-1,1),_.rows[B].push(P),_.rowWidth[F]=_.rowWidth[F]-H,_.rowWidth[B]=_.rowWidth[B]+H,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var W=Number.MIN_VALUE,U=0;U<D.length;U++)D[U].height>W&&(W=D[U].height);F>0&&(W+=_.verticalPadding);var V=_.rowHeight[F]+_.rowHeight[B];_.rowHeight[F]=W,_.rowHeight[B]<P.height+_.verticalPadding&&(_.rowHeight[B]=P.height+_.verticalPadding);var G=_.rowHeight[F]+_.rowHeight[B];_.height+=G-V,this.shiftToLastRow(_)}},M.prototype.tilingPreLayout=function(){b.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},M.prototype.tilingPostLayout=function(){b.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},M.prototype.reduceTrees=function(){for(var _=[],F=!0,B;F;){var D=this.graphManager.getAllNodes(),P=[];F=!1;for(var H=0;H<D.length;H++)if(B=D[H],B.getEdges().length==1&&!B.getEdges()[0].isInterGraph&&B.getChild()==null){if(b.PURE_INCREMENTAL){var W=B.getEdges()[0].getOtherEnd(B),U=new A(B.getCenterX()-W.getCenterX(),B.getCenterY()-W.getCenterY());P.push([B,B.getEdges()[0],B.getOwner(),U])}else P.push([B,B.getEdges()[0],B.getOwner()]);F=!0}if(F==!0){for(var V=[],G=0;G<P.length;G++)P[G][0].getEdges().length==1&&(V.push(P[G]),P[G][0].getOwner().remove(P[G][0]));_.push(V),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=_},M.prototype.growTree=function(_){for(var F=_.length,B=_[F-1],D,P=0;P<B.length;P++)D=B[P],this.findPlaceforPrunedNode(D),D[2].add(D[0]),D[2].add(D[1],D[1].source,D[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},M.prototype.findPlaceforPrunedNode=function(_){var F,B,D=_[0];if(D==_[1].source?B=_[1].target:B=_[1].source,b.PURE_INCREMENTAL)D.setCenter(B.getCenterX()+_[3].getWidth(),B.getCenterY()+_[3].getHeight());else{var P=B.startX,H=B.finishX,W=B.startY,U=B.finishY,V=0,G=0,ee=0,ce=0,Q=[V,ee,G,ce];if(W>0)for(var re=P;re<=H;re++)Q[0]+=this.grid[re][W-1].length+this.grid[re][W].length-1;if(H<this.grid.length-1)for(var re=W;re<=U;re++)Q[1]+=this.grid[H+1][re].length+this.grid[H][re].length-1;if(U<this.grid[0].length-1)for(var re=P;re<=H;re++)Q[2]+=this.grid[re][U+1].length+this.grid[re][U].length-1;if(P>0)for(var re=W;re<=U;re++)Q[3]+=this.grid[P-1][re].length+this.grid[P][re].length-1;for(var le=C.MAX_VALUE,Y,K,Z=0;Z<Q.length;Z++)Q[Z]<le?(le=Q[Z],Y=1,K=Z):Q[Z]==le&&Y++;if(Y==3&&le==0)Q[0]==0&&Q[1]==0&&Q[2]==0?F=1:Q[0]==0&&Q[1]==0&&Q[3]==0?F=0:Q[0]==0&&Q[2]==0&&Q[3]==0?F=3:Q[1]==0&&Q[2]==0&&Q[3]==0&&(F=2);else if(Y==2&&le==0){var z=Math.floor(Math.random()*2);Q[0]==0&&Q[1]==0?z==0?F=0:F=1:Q[0]==0&&Q[2]==0?z==0?F=0:F=2:Q[0]==0&&Q[3]==0?z==0?F=0:F=3:Q[1]==0&&Q[2]==0?z==0?F=1:F=2:Q[1]==0&&Q[3]==0?z==0?F=1:F=3:z==0?F=2:F=3}else if(Y==4&&le==0){var z=Math.floor(Math.random()*4);F=z}else F=K;F==0?D.setCenter(B.getCenterX(),B.getCenterY()-B.getHeight()/2-E.DEFAULT_EDGE_LENGTH-D.getHeight()/2):F==1?D.setCenter(B.getCenterX()+B.getWidth()/2+E.DEFAULT_EDGE_LENGTH+D.getWidth()/2,B.getCenterY()):F==2?D.setCenter(B.getCenterX(),B.getCenterY()+B.getHeight()/2+E.DEFAULT_EDGE_LENGTH+D.getHeight()/2):D.setCenter(B.getCenterX()-B.getWidth()/2-E.DEFAULT_EDGE_LENGTH-D.getWidth()/2,B.getCenterY())}},u.exports=M},991:(u,h,f)=>{var d=f(551).FDLayoutNode,p=f(551).IMath;function g(y,b,T,E){d.call(this,y,b,T,E)}g.prototype=Object.create(d.prototype);for(var m in d)g[m]=d[m];g.prototype.calculateDisplacement=function(){var y=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=y.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=y.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=y.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=y.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>y.coolingFactor*y.maxNodeDisplacement&&(this.displacementX=y.coolingFactor*y.maxNodeDisplacement*p.sign(this.displacementX)),Math.abs(this.displacementY)>y.coolingFactor*y.maxNodeDisplacement&&(this.displacementY=y.coolingFactor*y.maxNodeDisplacement*p.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},g.prototype.propogateDisplacementToChildren=function(y,b){for(var T=this.getChild().getNodes(),E,w=0;w<T.length;w++)E=T[w],E.getChild()==null?(E.displacementX+=y,E.displacementY+=b):E.propogateDisplacementToChildren(y,b)},g.prototype.move=function(){var y=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),y.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},g.prototype.setPred1=function(y){this.pred1=y},g.prototype.getPred1=function(){return pred1},g.prototype.getPred2=function(){return pred2},g.prototype.setNext=function(y){this.next=y},g.prototype.getNext=function(){return next},g.prototype.setProcessed=function(y){this.processed=y},g.prototype.isProcessed=function(){return processed},u.exports=g},902:(u,h,f)=>{function d(T){if(Array.isArray(T)){for(var E=0,w=Array(T.length);E<T.length;E++)w[E]=T[E];return w}else return Array.from(T)}var p=f(806),g=f(551).LinkedList,m=f(551).Matrix,y=f(551).SVD;function b(){}b.handleConstraints=function(T){var E={};E.fixedNodeConstraint=T.constraints.fixedNodeConstraint,E.alignmentConstraint=T.constraints.alignmentConstraint,E.relativePlacementConstraint=T.constraints.relativePlacementConstraint;for(var w=new Map,x=new Map,S=[],A=[],R=T.getAllNodes(),C=0,N=0;N<R.length;N++){var O=R[N];O.getChild()==null&&(x.set(O.id,C++),S.push(O.getCenterX()),A.push(O.getCenterY()),w.set(O.id,O))}E.relativePlacementConstraint&&E.relativePlacementConstraint.forEach(function(Oe){!Oe.gap&&Oe.gap!=0&&(Oe.left?Oe.gap=p.DEFAULT_EDGE_LENGTH+w.get(Oe.left).getWidth()/2+w.get(Oe.right).getWidth()/2:Oe.gap=p.DEFAULT_EDGE_LENGTH+w.get(Oe.top).getHeight()/2+w.get(Oe.bottom).getHeight()/2)});var L=function(ae,ge){return{x:ae.x-ge.x,y:ae.y-ge.y}},k=function(ae){var ge=0,Ee=0;return ae.forEach(function(ye){ge+=S[x.get(ye)],Ee+=A[x.get(ye)]}),{x:ge/ae.size,y:Ee/ae.size}},M=function(ae,ge,Ee,ye,Se){function Ce(qe,je){var ft=new Set(qe),Ke=!0,at=!1,Ft=void 0;try{for(var st=je[Symbol.iterator](),Je;!(Ke=(Je=st.next()).done);Ke=!0){var gt=Je.value;ft.add(gt)}}catch(Nt){at=!0,Ft=Nt}finally{try{!Ke&&st.return&&st.return()}finally{if(at)throw Ft}}return ft}var Fe=new Map;ae.forEach(function(qe,je){Fe.set(je,0)}),ae.forEach(function(qe,je){qe.forEach(function(ft){Fe.set(ft.id,Fe.get(ft.id)+1)})});var Ne=new Map,Ve=new Map,et=new g;Fe.forEach(function(qe,je){qe==0?(et.push(je),Ee||(ge=="horizontal"?Ne.set(je,x.has(je)?S[x.get(je)]:ye.get(je)):Ne.set(je,x.has(je)?A[x.get(je)]:ye.get(je)))):Ne.set(je,Number.NEGATIVE_INFINITY),Ee&&Ve.set(je,new Set([je]))}),Ee&&Se.forEach(function(qe){var je=[];if(qe.forEach(function(at){Ee.has(at)&&je.push(at)}),je.length>0){var ft=0;je.forEach(function(at){ge=="horizontal"?(Ne.set(at,x.has(at)?S[x.get(at)]:ye.get(at)),ft+=Ne.get(at)):(Ne.set(at,x.has(at)?A[x.get(at)]:ye.get(at)),ft+=Ne.get(at))}),ft=ft/je.length,qe.forEach(function(at){Ee.has(at)||Ne.set(at,ft)})}else{var Ke=0;qe.forEach(function(at){ge=="horizontal"?Ke+=x.has(at)?S[x.get(at)]:ye.get(at):Ke+=x.has(at)?A[x.get(at)]:ye.get(at)}),Ke=Ke/qe.length,qe.forEach(function(at){Ne.set(at,Ke)})}});for(var Rt=function(){var je=et.shift(),ft=ae.get(je);ft.forEach(function(Ke){if(Ne.get(Ke.id)<Ne.get(je)+Ke.gap)if(Ee&&Ee.has(Ke.id)){var at=void 0;if(ge=="horizontal"?at=x.has(Ke.id)?S[x.get(Ke.id)]:ye.get(Ke.id):at=x.has(Ke.id)?A[x.get(Ke.id)]:ye.get(Ke.id),Ne.set(Ke.id,at),at<Ne.get(je)+Ke.gap){var Ft=Ne.get(je)+Ke.gap-at;Ve.get(je).forEach(function(st){Ne.set(st,Ne.get(st)-Ft)})}}else Ne.set(Ke.id,Ne.get(je)+Ke.gap);Fe.set(Ke.id,Fe.get(Ke.id)-1),Fe.get(Ke.id)==0&&et.push(Ke.id),Ee&&Ve.set(Ke.id,Ce(Ve.get(je),Ve.get(Ke.id)))})};et.length!=0;)Rt();if(Ee){var pt=new Set;ae.forEach(function(qe,je){qe.length==0&&pt.add(je)});var ut=[];Ve.forEach(function(qe,je){if(pt.has(je)){var ft=!1,Ke=!0,at=!1,Ft=void 0;try{for(var st=qe[Symbol.iterator](),Je;!(Ke=(Je=st.next()).done);Ke=!0){var gt=Je.value;Ee.has(gt)&&(ft=!0)}}catch(nn){at=!0,Ft=nn}finally{try{!Ke&&st.return&&st.return()}finally{if(at)throw Ft}}if(!ft){var Nt=!1,yt=void 0;ut.forEach(function(nn,Wn){nn.has([].concat(d(qe))[0])&&(Nt=!0,yt=Wn)}),Nt?qe.forEach(function(nn){ut[yt].add(nn)}):ut.push(new Set(qe))}}}),ut.forEach(function(qe,je){var ft=Number.POSITIVE_INFINITY,Ke=Number.POSITIVE_INFINITY,at=Number.NEGATIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY,st=!0,Je=!1,gt=void 0;try{for(var Nt=qe[Symbol.iterator](),yt;!(st=(yt=Nt.next()).done);st=!0){var nn=yt.value,Wn=void 0;ge=="horizontal"?Wn=x.has(nn)?S[x.get(nn)]:ye.get(nn):Wn=x.has(nn)?A[x.get(nn)]:ye.get(nn);var ln=Ne.get(nn);Wn<ft&&(ft=Wn),Wn>at&&(at=Wn),ln<Ke&&(Ke=ln),ln>Ft&&(Ft=ln)}}catch(tt){Je=!0,gt=tt}finally{try{!st&&Nt.return&&Nt.return()}finally{if(Je)throw gt}}var Kr=(ft+at)/2-(Ke+Ft)/2,cr=!0,Ar=!1,In=void 0;try{for(var ui=qe[Symbol.iterator](),It;!(cr=(It=ui.next()).done);cr=!0){var Be=It.value;Ne.set(Be,Ne.get(Be)+Kr)}}catch(tt){Ar=!0,In=tt}finally{try{!cr&&ui.return&&ui.return()}finally{if(Ar)throw In}}})}return Ne},$=function(ae){var ge=0,Ee=0,ye=0,Se=0;if(ae.forEach(function(Ve){Ve.left?S[x.get(Ve.left)]-S[x.get(Ve.right)]>=0?ge++:Ee++:A[x.get(Ve.top)]-A[x.get(Ve.bottom)]>=0?ye++:Se++}),ge>Ee&&ye>Se)for(var Ce=0;Ce<x.size;Ce++)S[Ce]=-1*S[Ce],A[Ce]=-1*A[Ce];else if(ge>Ee)for(var Fe=0;Fe<x.size;Fe++)S[Fe]=-1*S[Fe];else if(ye>Se)for(var Ne=0;Ne<x.size;Ne++)A[Ne]=-1*A[Ne]},_=function(ae){var ge=[],Ee=new g,ye=new Set,Se=0;return ae.forEach(function(Ce,Fe){if(!ye.has(Fe)){ge[Se]=[];var Ne=Fe;for(Ee.push(Ne),ye.add(Ne),ge[Se].push(Ne);Ee.length!=0;){Ne=Ee.shift();var Ve=ae.get(Ne);Ve.forEach(function(et){ye.has(et.id)||(Ee.push(et.id),ye.add(et.id),ge[Se].push(et.id))})}Se++}}),ge},F=function(ae){var ge=new Map;return ae.forEach(function(Ee,ye){ge.set(ye,[])}),ae.forEach(function(Ee,ye){Ee.forEach(function(Se){ge.get(ye).push(Se),ge.get(Se.id).push({id:ye,gap:Se.gap,direction:Se.direction})})}),ge},B=function(ae){var ge=new Map;return ae.forEach(function(Ee,ye){ge.set(ye,[])}),ae.forEach(function(Ee,ye){Ee.forEach(function(Se){ge.get(Se.id).push({id:ye,gap:Se.gap,direction:Se.direction})})}),ge},D=[],P=[],H=!1,W=!1,U=new Set,V=new Map,G=new Map,ee=[];if(E.fixedNodeConstraint&&E.fixedNodeConstraint.forEach(function(Oe){U.add(Oe.nodeId)}),E.relativePlacementConstraint&&(E.relativePlacementConstraint.forEach(function(Oe){Oe.left?(V.has(Oe.left)?V.get(Oe.left).push({id:Oe.right,gap:Oe.gap,direction:"horizontal"}):V.set(Oe.left,[{id:Oe.right,gap:Oe.gap,direction:"horizontal"}]),V.has(Oe.right)||V.set(Oe.right,[])):(V.has(Oe.top)?V.get(Oe.top).push({id:Oe.bottom,gap:Oe.gap,direction:"vertical"}):V.set(Oe.top,[{id:Oe.bottom,gap:Oe.gap,direction:"vertical"}]),V.has(Oe.bottom)||V.set(Oe.bottom,[]))}),G=F(V),ee=_(G)),p.TRANSFORM_ON_CONSTRAINT_HANDLING){if(E.fixedNodeConstraint&&E.fixedNodeConstraint.length>1)E.fixedNodeConstraint.forEach(function(Oe,ae){D[ae]=[Oe.position.x,Oe.position.y],P[ae]=[S[x.get(Oe.nodeId)],A[x.get(Oe.nodeId)]]}),H=!0;else if(E.alignmentConstraint)(function(){var Oe=0;if(E.alignmentConstraint.vertical){for(var ae=E.alignmentConstraint.vertical,ge=function(Ne){var Ve=new Set;ae[Ne].forEach(function(pt){Ve.add(pt)});var et=new Set([].concat(d(Ve)).filter(function(pt){return U.has(pt)})),Rt=void 0;et.size>0?Rt=S[x.get(et.values().next().value)]:Rt=k(Ve).x,ae[Ne].forEach(function(pt){D[Oe]=[Rt,A[x.get(pt)]],P[Oe]=[S[x.get(pt)],A[x.get(pt)]],Oe++})},Ee=0;Ee<ae.length;Ee++)ge(Ee);H=!0}if(E.alignmentConstraint.horizontal){for(var ye=E.alignmentConstraint.horizontal,Se=function(Ne){var Ve=new Set;ye[Ne].forEach(function(pt){Ve.add(pt)});var et=new Set([].concat(d(Ve)).filter(function(pt){return U.has(pt)})),Rt=void 0;et.size>0?Rt=S[x.get(et.values().next().value)]:Rt=k(Ve).y,ye[Ne].forEach(function(pt){D[Oe]=[S[x.get(pt)],Rt],P[Oe]=[S[x.get(pt)],A[x.get(pt)]],Oe++})},Ce=0;Ce<ye.length;Ce++)Se(Ce);H=!0}E.relativePlacementConstraint&&(W=!0)})();else if(E.relativePlacementConstraint){for(var ce=0,Q=0,re=0;re<ee.length;re++)ee[re].length>ce&&(ce=ee[re].length,Q=re);if(ce<G.size/2)$(E.relativePlacementConstraint),H=!1,W=!1;else{var le=new Map,Y=new Map,K=[];ee[Q].forEach(function(Oe){V.get(Oe).forEach(function(ae){ae.direction=="horizontal"?(le.has(Oe)?le.get(Oe).push(ae):le.set(Oe,[ae]),le.has(ae.id)||le.set(ae.id,[]),K.push({left:Oe,right:ae.id})):(Y.has(Oe)?Y.get(Oe).push(ae):Y.set(Oe,[ae]),Y.has(ae.id)||Y.set(ae.id,[]),K.push({top:Oe,bottom:ae.id}))})}),$(K),W=!1;var Z=M(le,"horizontal"),z=M(Y,"vertical");ee[Q].forEach(function(Oe,ae){P[ae]=[S[x.get(Oe)],A[x.get(Oe)]],D[ae]=[],Z.has(Oe)?D[ae][0]=Z.get(Oe):D[ae][0]=S[x.get(Oe)],z.has(Oe)?D[ae][1]=z.get(Oe):D[ae][1]=A[x.get(Oe)]}),H=!0}}if(H){for(var X=void 0,te=m.transpose(D),ne=m.transpose(P),Ae=0;Ae<te.length;Ae++)te[Ae]=m.multGamma(te[Ae]),ne[Ae]=m.multGamma(ne[Ae]);var he=m.multMat(te,m.transpose(ne)),oe=y.svd(he);X=m.multMat(oe.V,m.transpose(oe.U));for(var de=0;de<x.size;de++){var be=[S[de],A[de]],fe=[X[0][0],X[1][0]],Ie=[X[0][1],X[1][1]];S[de]=m.dotProduct(be,fe),A[de]=m.dotProduct(be,Ie)}W&&$(E.relativePlacementConstraint)}}if(p.ENFORCE_CONSTRAINTS){if(E.fixedNodeConstraint&&E.fixedNodeConstraint.length>0){var Re={x:0,y:0};E.fixedNodeConstraint.forEach(function(Oe,ae){var ge={x:S[x.get(Oe.nodeId)],y:A[x.get(Oe.nodeId)]},Ee=Oe.position,ye=L(Ee,ge);Re.x+=ye.x,Re.y+=ye.y}),Re.x/=E.fixedNodeConstraint.length,Re.y/=E.fixedNodeConstraint.length,S.forEach(function(Oe,ae){S[ae]+=Re.x}),A.forEach(function(Oe,ae){A[ae]+=Re.y}),E.fixedNodeConstraint.forEach(function(Oe){S[x.get(Oe.nodeId)]=Oe.position.x,A[x.get(Oe.nodeId)]=Oe.position.y})}if(E.alignmentConstraint){if(E.alignmentConstraint.vertical)for(var ke=E.alignmentConstraint.vertical,De=function(ae){var ge=new Set;ke[ae].forEach(function(Se){ge.add(Se)});var Ee=new Set([].concat(d(ge)).filter(function(Se){return U.has(Se)})),ye=void 0;Ee.size>0?ye=S[x.get(Ee.values().next().value)]:ye=k(ge).x,ge.forEach(function(Se){U.has(Se)||(S[x.get(Se)]=ye)})},se=0;se<ke.length;se++)De(se);if(E.alignmentConstraint.horizontal)for(var j=E.alignmentConstraint.horizontal,me=function(ae){var ge=new Set;j[ae].forEach(function(Se){ge.add(Se)});var Ee=new Set([].concat(d(ge)).filter(function(Se){return U.has(Se)})),ye=void 0;Ee.size>0?ye=A[x.get(Ee.values().next().value)]:ye=k(ge).y,ge.forEach(function(Se){U.has(Se)||(A[x.get(Se)]=ye)})},ue=0;ue<j.length;ue++)me(ue)}E.relativePlacementConstraint&&function(){var Oe=new Map,ae=new Map,ge=new Map,Ee=new Map,ye=new Map,Se=new Map,Ce=new Set,Fe=new Set;if(U.forEach(function(qt){Ce.add(qt),Fe.add(qt)}),E.alignmentConstraint){if(E.alignmentConstraint.vertical)for(var Ne=E.alignmentConstraint.vertical,Ve=function(xe){ge.set("dummy"+xe,[]),Ne[xe].forEach(function(Cn){Oe.set(Cn,"dummy"+xe),ge.get("dummy"+xe).push(Cn),U.has(Cn)&&Ce.add("dummy"+xe)}),ye.set("dummy"+xe,S[x.get(Ne[xe][0])])},et=0;et<Ne.length;et++)Ve(et);if(E.alignmentConstraint.horizontal)for(var Rt=E.alignmentConstraint.horizontal,pt=function(xe){Ee.set("dummy"+xe,[]),Rt[xe].forEach(function(Cn){ae.set(Cn,"dummy"+xe),Ee.get("dummy"+xe).push(Cn),U.has(Cn)&&Fe.add("dummy"+xe)}),Se.set("dummy"+xe,A[x.get(Rt[xe][0])])},ut=0;ut<Rt.length;ut++)pt(ut)}var qe=new Map,je=new Map,ft=function(xe){V.get(xe).forEach(function(Cn){var Le=void 0,Cr=void 0;Cn.direction=="horizontal"?(Le=Oe.get(xe)?Oe.get(xe):xe,Oe.get(Cn.id)?Cr={id:Oe.get(Cn.id),gap:Cn.gap,direction:Cn.direction}:Cr=Cn,qe.has(Le)?qe.get(Le).push(Cr):qe.set(Le,[Cr]),qe.has(Cr.id)||qe.set(Cr.id,[])):(Le=ae.get(xe)?ae.get(xe):xe,ae.get(Cn.id)?Cr={id:ae.get(Cn.id),gap:Cn.gap,direction:Cn.direction}:Cr=Cn,je.has(Le)?je.get(Le).push(Cr):je.set(Le,[Cr]),je.has(Cr.id)||je.set(Cr.id,[]))})},Ke=!0,at=!1,Ft=void 0;try{for(var st=V.keys()[Symbol.iterator](),Je;!(Ke=(Je=st.next()).done);Ke=!0){var gt=Je.value;ft(gt)}}catch(qt){at=!0,Ft=qt}finally{try{!Ke&&st.return&&st.return()}finally{if(at)throw Ft}}var Nt=F(qe),yt=F(je),nn=_(Nt),Wn=_(yt),ln=B(qe),Kr=B(je),cr=[],Ar=[];nn.forEach(function(qt,xe){cr[xe]=[],qt.forEach(function(Cn){ln.get(Cn).length==0&&cr[xe].push(Cn)})}),Wn.forEach(function(qt,xe){Ar[xe]=[],qt.forEach(function(Cn){Kr.get(Cn).length==0&&Ar[xe].push(Cn)})});var In=M(qe,"horizontal",Ce,ye,cr),ui=M(je,"vertical",Fe,Se,Ar),It=function(xe){ge.get(xe)?ge.get(xe).forEach(function(Cn){S[x.get(Cn)]=In.get(xe)}):S[x.get(xe)]=In.get(xe)},Be=!0,tt=!1,Ct=void 0;try{for(var pn=In.keys()[Symbol.iterator](),ir;!(Be=(ir=pn.next()).done);Be=!0){var pr=ir.value;It(pr)}}catch(qt){tt=!0,Ct=qt}finally{try{!Be&&pn.return&&pn.return()}finally{if(tt)throw Ct}}var _r=function(xe){Ee.get(xe)?Ee.get(xe).forEach(function(Cn){A[x.get(Cn)]=ui.get(xe)}):A[x.get(xe)]=ui.get(xe)},Ir=!0,Et=!1,St=void 0;try{for(var Vt=ui.keys()[Symbol.iterator](),lt;!(Ir=(lt=Vt.next()).done);Ir=!0){var pr=lt.value;_r(pr)}}catch(qt){Et=!0,St=qt}finally{try{!Ir&&Vt.return&&Vt.return()}finally{if(Et)throw St}}}()}for(var we=0;we<R.length;we++){var ie=R[we];ie.getChild()==null&&ie.setCenter(S[x.get(ie.id)],A[x.get(ie.id)])}},u.exports=b},551:u=>{u.exports=n}},a={};function o(u){var h=a[u];if(h!==void 0)return h.exports;var f=a[u]={exports:{}};return r[u](f,f.exports,o),f.exports}var l=o(45);return l})()})}(Xk)),Xk.exports}(function(e,t){(function(r,a){e.exports=a(CLt())})(Cs,function(n){return(()=>{var r={658:u=>{u.exports=Object.assign!=null?Object.assign.bind(Object):function(h){for(var f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return d.forEach(function(g){Object.keys(g).forEach(function(m){return h[m]=g[m]})}),h}},548:(u,h,f)=>{var d=function(){function m(y,b){var T=[],E=!0,w=!1,x=void 0;try{for(var S=y[Symbol.iterator](),A;!(E=(A=S.next()).done)&&(T.push(A.value),!(b&&T.length===b));E=!0);}catch(R){w=!0,x=R}finally{try{!E&&S.return&&S.return()}finally{if(w)throw x}}return T}return function(y,b){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return m(y,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=f(140).layoutBase.LinkedList,g={};g.getTopMostNodes=function(m){for(var y={},b=0;b<m.length;b++)y[m[b].id()]=!0;var T=m.filter(function(E,w){typeof E=="number"&&(E=w);for(var x=E.parent()[0];x!=null;){if(y[x.id()])return!1;x=x.parent()[0]}return!0});return T},g.connectComponents=function(m,y,b,T){var E=new p,w=new Set,x=[],S=void 0,A=void 0,R=void 0,C=!1,N=1,O=[],L=[],k=function(){var $=m.collection();L.push($);var _=b[0],F=m.collection();F.merge(_).merge(_.descendants().intersection(y)),x.push(_),F.forEach(function(P){E.push(P),w.add(P),$.merge(P)});for(var B=function(){_=E.shift();var H=m.collection();_.neighborhood().nodes().forEach(function(G){y.intersection(_.edgesWith(G)).length>0&&H.merge(G)});for(var W=0;W<H.length;W++){var U=H[W];if(S=b.intersection(U.union(U.ancestors())),S!=null&&!w.has(S[0])){var V=S.union(S.descendants());V.forEach(function(G){E.push(G),w.add(G),$.merge(G),b.has(G)&&x.push(G)})}}};E.length!=0;)B();if($.forEach(function(P){y.intersection(P.connectedEdges()).forEach(function(H){$.has(H.source())&&$.has(H.target())&&$.merge(H)})}),x.length==b.length&&(C=!0),!C||C&&N>1){A=x[0],R=A.connectedEdges().length,x.forEach(function(P){P.connectedEdges().length<R&&(R=P.connectedEdges().length,A=P)}),O.push(A.id());var D=m.collection();D.merge(x[0]),x.forEach(function(P){D.merge(P)}),x=[],b=b.difference(D),N++}};do k();while(!C);return T&&O.length>0&&T.set("dummy"+(T.size+1),O),L},g.relocateComponent=function(m,y,b){if(!b.fixedNodeConstraint){var T=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY;if(b.quality=="draft"){var S=!0,A=!1,R=void 0;try{for(var C=y.nodeIndexes[Symbol.iterator](),N;!(S=(N=C.next()).done);S=!0){var O=N.value,L=d(O,2),k=L[0],M=L[1],$=b.cy.getElementById(k);if($){var _=$.boundingBox(),F=y.xCoords[M]-_.w/2,B=y.xCoords[M]+_.w/2,D=y.yCoords[M]-_.h/2,P=y.yCoords[M]+_.h/2;F<T&&(T=F),B>E&&(E=B),D<w&&(w=D),P>x&&(x=P)}}}catch(G){A=!0,R=G}finally{try{!S&&C.return&&C.return()}finally{if(A)throw R}}var H=m.x-(E+T)/2,W=m.y-(x+w)/2;y.xCoords=y.xCoords.map(function(G){return G+H}),y.yCoords=y.yCoords.map(function(G){return G+W})}else{Object.keys(y).forEach(function(G){var ee=y[G],ce=ee.getRect().x,Q=ee.getRect().x+ee.getRect().width,re=ee.getRect().y,le=ee.getRect().y+ee.getRect().height;ce<T&&(T=ce),Q>E&&(E=Q),re<w&&(w=re),le>x&&(x=le)});var U=m.x-(E+T)/2,V=m.y-(x+w)/2;Object.keys(y).forEach(function(G){var ee=y[G];ee.setCenter(ee.getCenterX()+U,ee.getCenterY()+V)})}}},g.calcBoundingBox=function(m,y,b,T){for(var E=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,A=void 0,R=void 0,C=void 0,N=void 0,O=m.descendants().not(":parent"),L=O.length,k=0;k<L;k++){var M=O[k];A=y[T.get(M.id())]-M.width()/2,R=y[T.get(M.id())]+M.width()/2,C=b[T.get(M.id())]-M.height()/2,N=b[T.get(M.id())]+M.height()/2,E>A&&(E=A),w<R&&(w=R),x>C&&(x=C),S<N&&(S=N)}var $={};return $.topLeftX=E,$.topLeftY=x,$.width=w-E,$.height=S-x,$},g.calcParentsWithoutChildren=function(m,y){var b=m.collection();return y.nodes(":parent").forEach(function(T){var E=!1;T.children().forEach(function(w){w.css("display")!="none"&&(E=!0)}),E||b.merge(T)}),b},u.exports=g},816:(u,h,f)=>{var d=f(548),p=f(140).CoSELayout,g=f(140).CoSENode,m=f(140).layoutBase.PointD,y=f(140).layoutBase.DimensionD,b=f(140).layoutBase.LayoutConstants,T=f(140).layoutBase.FDLayoutConstants,E=f(140).CoSEConstants,w=function(S,A){var R=S.cy,C=S.eles,N=C.nodes(),O=C.edges(),L=void 0,k=void 0,M=void 0,$={};S.randomize&&(L=A.nodeIndexes,k=A.xCoords,M=A.yCoords);var _=function(G){return typeof G=="function"},F=function(G,ee){return _(G)?G(ee):G},B=d.calcParentsWithoutChildren(R,C),D=function V(G,ee,ce,Q){for(var re=ee.length,le=0;le<re;le++){var Y=ee[le],K=null;Y.intersection(B).length==0&&(K=Y.children());var Z=void 0,z=Y.layoutDimensions({nodeDimensionsIncludeLabels:Q.nodeDimensionsIncludeLabels});if(Y.outerWidth()!=null&&Y.outerHeight()!=null)if(Q.randomize)if(!Y.isParent())Z=G.add(new g(ce.graphManager,new m(k[L.get(Y.id())]-z.w/2,M[L.get(Y.id())]-z.h/2),new y(parseFloat(z.w),parseFloat(z.h))));else{var X=d.calcBoundingBox(Y,k,M,L);Y.intersection(B).length==0?Z=G.add(new g(ce.graphManager,new m(X.topLeftX,X.topLeftY),new y(X.width,X.height))):Z=G.add(new g(ce.graphManager,new m(X.topLeftX,X.topLeftY),new y(parseFloat(z.w),parseFloat(z.h))))}else Z=G.add(new g(ce.graphManager,new m(Y.position("x")-z.w/2,Y.position("y")-z.h/2),new y(parseFloat(z.w),parseFloat(z.h))));else Z=G.add(new g(this.graphManager));if(Z.id=Y.data("id"),Z.nodeRepulsion=F(Q.nodeRepulsion,Y),Z.paddingLeft=parseInt(Y.css("padding")),Z.paddingTop=parseInt(Y.css("padding")),Z.paddingRight=parseInt(Y.css("padding")),Z.paddingBottom=parseInt(Y.css("padding")),Q.nodeDimensionsIncludeLabels&&(Z.labelWidth=Y.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,Z.labelHeight=Y.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,Z.labelPosVertical=Y.css("text-valign"),Z.labelPosHorizontal=Y.css("text-halign")),$[Y.data("id")]=Z,isNaN(Z.rect.x)&&(Z.rect.x=0),isNaN(Z.rect.y)&&(Z.rect.y=0),K!=null&&K.length>0){var te=void 0;te=ce.getGraphManager().add(ce.newGraph(),Z),V(te,K,ce,Q)}}},P=function(G,ee,ce){for(var Q=0,re=0,le=0;le<ce.length;le++){var Y=ce[le],K=$[Y.data("source")],Z=$[Y.data("target")];if(K&&Z&&K!==Z&&K.getEdgesBetween(Z).length==0){var z=ee.add(G.newEdge(),K,Z);z.id=Y.id(),z.idealLength=F(S.idealEdgeLength,Y),z.edgeElasticity=F(S.edgeElasticity,Y),Q+=z.idealLength,re++}}S.idealEdgeLength!=null&&(re>0?E.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=Q/re:_(S.idealEdgeLength)?E.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=50:E.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=S.idealEdgeLength,E.MIN_REPULSION_DIST=T.MIN_REPULSION_DIST=T.DEFAULT_EDGE_LENGTH/10,E.DEFAULT_RADIAL_SEPARATION=T.DEFAULT_EDGE_LENGTH)},H=function(G,ee){ee.fixedNodeConstraint&&(G.constraints.fixedNodeConstraint=ee.fixedNodeConstraint),ee.alignmentConstraint&&(G.constraints.alignmentConstraint=ee.alignmentConstraint),ee.relativePlacementConstraint&&(G.constraints.relativePlacementConstraint=ee.relativePlacementConstraint)};S.nestingFactor!=null&&(E.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=S.nestingFactor),S.gravity!=null&&(E.DEFAULT_GRAVITY_STRENGTH=T.DEFAULT_GRAVITY_STRENGTH=S.gravity),S.numIter!=null&&(E.MAX_ITERATIONS=T.MAX_ITERATIONS=S.numIter),S.gravityRange!=null&&(E.DEFAULT_GRAVITY_RANGE_FACTOR=T.DEFAULT_GRAVITY_RANGE_FACTOR=S.gravityRange),S.gravityCompound!=null&&(E.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=S.gravityCompound),S.gravityRangeCompound!=null&&(E.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=S.gravityRangeCompound),S.initialEnergyOnIncremental!=null&&(E.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.DEFAULT_COOLING_FACTOR_INCREMENTAL=S.initialEnergyOnIncremental),S.tilingCompareBy!=null&&(E.TILING_COMPARE_BY=S.tilingCompareBy),S.quality=="proof"?b.QUALITY=2:b.QUALITY=0,E.NODE_DIMENSIONS_INCLUDE_LABELS=T.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=S.nodeDimensionsIncludeLabels,E.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=!S.randomize,E.ANIMATE=T.ANIMATE=b.ANIMATE=S.animate,E.TILE=S.tile,E.TILING_PADDING_VERTICAL=typeof S.tilingPaddingVertical=="function"?S.tilingPaddingVertical.call():S.tilingPaddingVertical,E.TILING_PADDING_HORIZONTAL=typeof S.tilingPaddingHorizontal=="function"?S.tilingPaddingHorizontal.call():S.tilingPaddingHorizontal,E.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=!0,E.PURE_INCREMENTAL=!S.randomize,b.DEFAULT_UNIFORM_LEAF_NODE_SIZES=S.uniformNodeDimensions,S.step=="transformed"&&(E.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,E.ENFORCE_CONSTRAINTS=!1,E.APPLY_LAYOUT=!1),S.step=="enforced"&&(E.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,E.ENFORCE_CONSTRAINTS=!0,E.APPLY_LAYOUT=!1),S.step=="cose"&&(E.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,E.ENFORCE_CONSTRAINTS=!1,E.APPLY_LAYOUT=!0),S.step=="all"&&(S.randomize?E.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:E.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,E.ENFORCE_CONSTRAINTS=!0,E.APPLY_LAYOUT=!0),S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint?E.TREE_REDUCTION_ON_INCREMENTAL=!1:E.TREE_REDUCTION_ON_INCREMENTAL=!0;var W=new p,U=W.newGraphManager();return D(U.addRoot(),d.getTopMostNodes(N),W,S),P(W,U,O),H(W,S),W.runLayout(),$};u.exports={coseLayout:w}},212:(u,h,f)=>{var d=function(){function S(A,R){for(var C=0;C<R.length;C++){var N=R[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,R,C){return R&&S(A.prototype,R),C&&S(A,C),A}}();function p(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}var g=f(658),m=f(548),y=f(657),b=y.spectralLayout,T=f(816),E=T.coseLayout,w=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(A){return 4500},idealEdgeLength:function(A){return 50},edgeElasticity:function(A){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),x=function(){function S(A){p(this,S),this.options=g({},w,A)}return d(S,[{key:"run",value:function(){var R=this,C=this.options,N=C.cy,O=C.eles,L=[],k=[],M=void 0,$=[];C.fixedNodeConstraint&&(!Array.isArray(C.fixedNodeConstraint)||C.fixedNodeConstraint.length==0)&&(C.fixedNodeConstraint=void 0),C.alignmentConstraint&&(C.alignmentConstraint.vertical&&(!Array.isArray(C.alignmentConstraint.vertical)||C.alignmentConstraint.vertical.length==0)&&(C.alignmentConstraint.vertical=void 0),C.alignmentConstraint.horizontal&&(!Array.isArray(C.alignmentConstraint.horizontal)||C.alignmentConstraint.horizontal.length==0)&&(C.alignmentConstraint.horizontal=void 0)),C.relativePlacementConstraint&&(!Array.isArray(C.relativePlacementConstraint)||C.relativePlacementConstraint.length==0)&&(C.relativePlacementConstraint=void 0);var _=C.fixedNodeConstraint||C.alignmentConstraint||C.relativePlacementConstraint;_&&(C.tile=!1,C.packComponents=!1);var F=void 0,B=!1;if(N.layoutUtilities&&C.packComponents&&(F=N.layoutUtilities("get"),F||(F=N.layoutUtilities()),B=!0),O.nodes().length>0)if(B){var H=m.getTopMostNodes(C.eles.nodes());if(M=m.connectComponents(N,C.eles,H),M.forEach(function(he){var oe=he.boundingBox();$.push({x:oe.x1+oe.w/2,y:oe.y1+oe.h/2})}),C.randomize&&M.forEach(function(he){C.eles=he,L.push(b(C))}),C.quality=="default"||C.quality=="proof"){var W=N.collection();if(C.tile){var U=new Map,V=[],G=[],ee=0,ce={nodeIndexes:U,xCoords:V,yCoords:G},Q=[];if(M.forEach(function(he,oe){he.edges().length==0&&(he.nodes().forEach(function(de,be){W.merge(he.nodes()[be]),de.isParent()||(ce.nodeIndexes.set(he.nodes()[be].id(),ee++),ce.xCoords.push(he.nodes()[0].position().x),ce.yCoords.push(he.nodes()[0].position().y))}),Q.push(oe))}),W.length>1){var re=W.boundingBox();$.push({x:re.x1+re.w/2,y:re.y1+re.h/2}),M.push(W),L.push(ce);for(var le=Q.length-1;le>=0;le--)M.splice(Q[le],1),L.splice(Q[le],1),$.splice(Q[le],1)}}M.forEach(function(he,oe){C.eles=he,k.push(E(C,L[oe])),m.relocateComponent($[oe],k[oe],C)})}else M.forEach(function(he,oe){m.relocateComponent($[oe],L[oe],C)});var Y=new Set;if(M.length>1){var K=[],Z=O.filter(function(he){return he.css("display")=="none"});M.forEach(function(he,oe){var de=void 0;if(C.quality=="draft"&&(de=L[oe].nodeIndexes),he.nodes().not(Z).length>0){var be={};be.edges=[],be.nodes=[];var fe=void 0;he.nodes().not(Z).forEach(function(Ie){if(C.quality=="draft")if(!Ie.isParent())fe=de.get(Ie.id()),be.nodes.push({x:L[oe].xCoords[fe]-Ie.boundingbox().w/2,y:L[oe].yCoords[fe]-Ie.boundingbox().h/2,width:Ie.boundingbox().w,height:Ie.boundingbox().h});else{var Re=m.calcBoundingBox(Ie,L[oe].xCoords,L[oe].yCoords,de);be.nodes.push({x:Re.topLeftX,y:Re.topLeftY,width:Re.width,height:Re.height})}else k[oe][Ie.id()]&&be.nodes.push({x:k[oe][Ie.id()].getLeft(),y:k[oe][Ie.id()].getTop(),width:k[oe][Ie.id()].getWidth(),height:k[oe][Ie.id()].getHeight()})}),he.edges().forEach(function(Ie){var Re=Ie.source(),ke=Ie.target();if(Re.css("display")!="none"&&ke.css("display")!="none")if(C.quality=="draft"){var De=de.get(Re.id()),se=de.get(ke.id()),j=[],me=[];if(Re.isParent()){var ue=m.calcBoundingBox(Re,L[oe].xCoords,L[oe].yCoords,de);j.push(ue.topLeftX+ue.width/2),j.push(ue.topLeftY+ue.height/2)}else j.push(L[oe].xCoords[De]),j.push(L[oe].yCoords[De]);if(ke.isParent()){var we=m.calcBoundingBox(ke,L[oe].xCoords,L[oe].yCoords,de);me.push(we.topLeftX+we.width/2),me.push(we.topLeftY+we.height/2)}else me.push(L[oe].xCoords[se]),me.push(L[oe].yCoords[se]);be.edges.push({startX:j[0],startY:j[1],endX:me[0],endY:me[1]})}else k[oe][Re.id()]&&k[oe][ke.id()]&&be.edges.push({startX:k[oe][Re.id()].getCenterX(),startY:k[oe][Re.id()].getCenterY(),endX:k[oe][ke.id()].getCenterX(),endY:k[oe][ke.id()].getCenterY()})}),be.nodes.length>0&&(K.push(be),Y.add(oe))}});var z=F.packComponents(K,C.randomize).shifts;if(C.quality=="draft")L.forEach(function(he,oe){var de=he.xCoords.map(function(fe){return fe+z[oe].dx}),be=he.yCoords.map(function(fe){return fe+z[oe].dy});he.xCoords=de,he.yCoords=be});else{var X=0;Y.forEach(function(he){Object.keys(k[he]).forEach(function(oe){var de=k[he][oe];de.setCenter(de.getCenterX()+z[X].dx,de.getCenterY()+z[X].dy)}),X++})}}}else{var D=C.eles.boundingBox();if($.push({x:D.x1+D.w/2,y:D.y1+D.h/2}),C.randomize){var P=b(C);L.push(P)}C.quality=="default"||C.quality=="proof"?(k.push(E(C,L[0])),m.relocateComponent($[0],k[0],C)):m.relocateComponent($[0],L[0],C)}var te=function(oe,de){if(C.quality=="default"||C.quality=="proof"){typeof oe=="number"&&(oe=de);var be=void 0,fe=void 0,Ie=oe.data("id");return k.forEach(function(ke){Ie in ke&&(be={x:ke[Ie].getRect().getCenterX(),y:ke[Ie].getRect().getCenterY()},fe=ke[Ie])}),C.nodeDimensionsIncludeLabels&&(fe.labelWidth&&(fe.labelPosHorizontal=="left"?be.x+=fe.labelWidth/2:fe.labelPosHorizontal=="right"&&(be.x-=fe.labelWidth/2)),fe.labelHeight&&(fe.labelPosVertical=="top"?be.y+=fe.labelHeight/2:fe.labelPosVertical=="bottom"&&(be.y-=fe.labelHeight/2))),be==null&&(be={x:oe.position("x"),y:oe.position("y")}),{x:be.x,y:be.y}}else{var Re=void 0;return L.forEach(function(ke){var De=ke.nodeIndexes.get(oe.id());De!=null&&(Re={x:ke.xCoords[De],y:ke.yCoords[De]})}),Re==null&&(Re={x:oe.position("x"),y:oe.position("y")}),{x:Re.x,y:Re.y}}};if(C.quality=="default"||C.quality=="proof"||C.randomize){var ne=m.calcParentsWithoutChildren(N,O),Ae=O.filter(function(he){return he.css("display")=="none"});C.eles=O.not(Ae),O.nodes().not(":parent").not(Ae).layoutPositions(R,C,te),ne.length>0&&ne.forEach(function(he){he.position(te(he))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),S}();u.exports=x},657:(u,h,f)=>{var d=f(548),p=f(140).layoutBase.Matrix,g=f(140).layoutBase.SVD,m=function(b){var T=b.cy,E=b.eles,w=E.nodes(),x=E.nodes(":parent"),S=new Map,A=new Map,R=new Map,C=[],N=[],O=[],L=[],k=[],M=[],$=[],_=[],F=void 0,B=1e8,D=1e-9,P=b.piTol,H=b.samplingType,W=b.nodeSeparation,U=void 0,V=function(){for(var ae=0,ge=0,Ee=!1;ge<U;){ae=Math.floor(Math.random()*F),Ee=!1;for(var ye=0;ye<ge;ye++)if(L[ye]==ae){Ee=!0;break}if(!Ee)L[ge]=ae,ge++;else continue}},G=function(ae,ge,Ee){for(var ye=[],Se=0,Ce=0,Fe=0,Ne=void 0,Ve=[],et=0,Rt=1,pt=0;pt<F;pt++)Ve[pt]=B;for(ye[Ce]=ae,Ve[ae]=0;Ce>=Se;){Fe=ye[Se++];for(var ut=C[Fe],qe=0;qe<ut.length;qe++)Ne=A.get(ut[qe]),Ve[Ne]==B&&(Ve[Ne]=Ve[Fe]+1,ye[++Ce]=Ne);M[Fe][ge]=Ve[Fe]*W}if(Ee){for(var je=0;je<F;je++)M[je][ge]<k[je]&&(k[je]=M[je][ge]);for(var ft=0;ft<F;ft++)k[ft]>et&&(et=k[ft],Rt=ft)}return Rt},ee=function(ae){var ge=void 0;if(ae){ge=Math.floor(Math.random()*F);for(var ye=0;ye<F;ye++)k[ye]=B;for(var Se=0;Se<U;Se++)L[Se]=ge,ge=G(ge,Se,ae)}else{V();for(var Ee=0;Ee<U;Ee++)G(L[Ee],Ee,ae)}for(var Ce=0;Ce<F;Ce++)for(var Fe=0;Fe<U;Fe++)M[Ce][Fe]*=M[Ce][Fe];for(var Ne=0;Ne<U;Ne++)$[Ne]=[];for(var Ve=0;Ve<U;Ve++)for(var et=0;et<U;et++)$[Ve][et]=M[L[et]][Ve]},ce=function(){for(var ae=g.svd($),ge=ae.S,Ee=ae.U,ye=ae.V,Se=ge[0]*ge[0]*ge[0],Ce=[],Fe=0;Fe<U;Fe++){Ce[Fe]=[];for(var Ne=0;Ne<U;Ne++)Ce[Fe][Ne]=0,Fe==Ne&&(Ce[Fe][Ne]=ge[Fe]/(ge[Fe]*ge[Fe]+Se/(ge[Fe]*ge[Fe])))}_=p.multMat(p.multMat(ye,Ce),p.transpose(Ee))},Q=function(){for(var ae=void 0,ge=void 0,Ee=[],ye=[],Se=[],Ce=[],Fe=0;Fe<F;Fe++)Ee[Fe]=Math.random(),ye[Fe]=Math.random();Ee=p.normalize(Ee),ye=p.normalize(ye);for(var Ne=D,Ve=D,et=void 0;;){for(var Rt=0;Rt<F;Rt++)Se[Rt]=Ee[Rt];if(Ee=p.multGamma(p.multL(p.multGamma(Se),M,_)),ae=p.dotProduct(Se,Ee),Ee=p.normalize(Ee),Ne=p.dotProduct(Se,Ee),et=Math.abs(Ne/Ve),et<=1+P&&et>=1)break;Ve=Ne}for(var pt=0;pt<F;pt++)Se[pt]=Ee[pt];for(Ve=D;;){for(var ut=0;ut<F;ut++)Ce[ut]=ye[ut];if(Ce=p.minusOp(Ce,p.multCons(Se,p.dotProduct(Se,Ce))),ye=p.multGamma(p.multL(p.multGamma(Ce),M,_)),ge=p.dotProduct(Ce,ye),ye=p.normalize(ye),Ne=p.dotProduct(Ce,ye),et=Math.abs(Ne/Ve),et<=1+P&&et>=1)break;Ve=Ne}for(var qe=0;qe<F;qe++)Ce[qe]=ye[qe];N=p.multCons(Se,Math.sqrt(Math.abs(ae))),O=p.multCons(Ce,Math.sqrt(Math.abs(ge)))};d.connectComponents(T,E,d.getTopMostNodes(w),S),x.forEach(function(Oe){d.connectComponents(T,E,d.getTopMostNodes(Oe.descendants().intersection(E)),S)});for(var re=0,le=0;le<w.length;le++)w[le].isParent()||A.set(w[le].id(),re++);var Y=!0,K=!1,Z=void 0;try{for(var z=S.keys()[Symbol.iterator](),X;!(Y=(X=z.next()).done);Y=!0){var te=X.value;A.set(te,re++)}}catch(Oe){K=!0,Z=Oe}finally{try{!Y&&z.return&&z.return()}finally{if(K)throw Z}}for(var ne=0;ne<A.size;ne++)C[ne]=[];x.forEach(function(Oe){for(var ae=Oe.children().intersection(E);ae.nodes(":childless").length==0;)ae=ae.nodes()[0].children().intersection(E);var ge=0,Ee=ae.nodes(":childless")[0].connectedEdges().length;ae.nodes(":childless").forEach(function(ye,Se){ye.connectedEdges().length<Ee&&(Ee=ye.connectedEdges().length,ge=Se)}),R.set(Oe.id(),ae.nodes(":childless")[ge].id())}),w.forEach(function(Oe){var ae=void 0;Oe.isParent()?ae=A.get(R.get(Oe.id())):ae=A.get(Oe.id()),Oe.neighborhood().nodes().forEach(function(ge){E.intersection(Oe.edgesWith(ge)).length>0&&(ge.isParent()?C[ae].push(R.get(ge.id())):C[ae].push(ge.id()))})});var Ae=function(ae){var ge=A.get(ae),Ee=void 0;S.get(ae).forEach(function(ye){T.getElementById(ye).isParent()?Ee=R.get(ye):Ee=ye,C[ge].push(Ee),C[A.get(Ee)].push(ae)})},he=!0,oe=!1,de=void 0;try{for(var be=S.keys()[Symbol.iterator](),fe;!(he=(fe=be.next()).done);he=!0){var Ie=fe.value;Ae(Ie)}}catch(Oe){oe=!0,de=Oe}finally{try{!he&&be.return&&be.return()}finally{if(oe)throw de}}F=A.size;var Re=void 0;if(F>2){U=F<b.sampleSize?F:b.sampleSize;for(var ke=0;ke<F;ke++)M[ke]=[];for(var De=0;De<U;De++)_[De]=[];return b.quality=="draft"||b.step=="all"?(ee(H),ce(),Q(),Re={nodeIndexes:A,xCoords:N,yCoords:O}):(A.forEach(function(Oe,ae){N.push(T.getElementById(ae).position("x")),O.push(T.getElementById(ae).position("y"))}),Re={nodeIndexes:A,xCoords:N,yCoords:O}),Re}else{var se=A.keys(),j=T.getElementById(se.next().value),me=j.position(),ue=j.outerWidth();if(N.push(me.x),O.push(me.y),F==2){var we=T.getElementById(se.next().value),ie=we.outerWidth();N.push(me.x+ue/2+ie/2+b.idealEdgeLength),O.push(me.y)}return Re={nodeIndexes:A,xCoords:N,yCoords:O},Re}};u.exports={spectralLayout:m}},579:(u,h,f)=>{var d=f(212),p=function(m){m&&m("layout","fcose",d)};typeof cytoscape<"u"&&p(cytoscape),u.exports=p},140:u=>{u.exports=n}},a={};function o(u){var h=a[u];if(h!==void 0)return h.exports;var f=a[u]={exports:{}};return r[u](f,f.exports,o),f.exports}var l=o(579);return l})()})})(xye);var RLt=xye.exports;const kLt=Go(RLt);var yK={L:"left",R:"right",T:"top",B:"bottom"},bK={L:I(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:I(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:I(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:I(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},F3={L:I((e,t)=>e-t+2,"L"),R:I((e,t)=>e-2,"R"),T:I((e,t)=>e-t+2,"T"),B:I((e,t)=>e-2,"B")},OLt=I(function(e){return js(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),TK=I(function(e){const t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),js=I(function(e){const t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),mf=I(function(e){const t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),Sye=I(function(e,t){const n=js(e)&&mf(t),r=mf(e)&&js(t);return n||r},"isArchitectureDirectionXY"),NLt=I(function(e){const t=e[0],n=e[1],r=js(t)&&mf(n),a=mf(t)&&js(n);return r||a},"isArchitecturePairXY"),LLt=I(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),vL=I(function(e,t){const n=`${e}${t}`;return LLt(n)?n:void 0},"getArchitectureDirectionPair"),_Lt=I(function([e,t],n){const r=n[0],a=n[1];return js(r)?mf(a)?[e+(r==="L"?-1:1),t+(a==="T"?1:-1)]:[e+(r==="L"?-1:1),t]:js(a)?[e+(a==="L"?1:-1),t+(r==="T"?1:-1)]:[e,t+(r==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),DLt=I(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),MLt=I(function(e){return e.type==="service"},"isArchitectureService"),PLt=I(function(e){return e.type==="junction"},"isArchitectureJunction"),Aye=I(e=>e.data(),"edgeData"),Zg=I(e=>e.data(),"nodeData"),Iye=Mn.architecture,yn=new SM(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:Iye,dataStructures:void 0,elements:{}})),FLt=I(()=>{yn.reset(),fa()},"clear"),BLt=I(function({id:e,icon:t,in:n,title:r,iconText:a}){if(yn.records.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${yn.records.registeredIds[e]}`);if(n!==void 0){if(e===n)throw new Error(`The service [${e}] cannot be placed within itself`);if(yn.records.registeredIds[n]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(yn.records.registeredIds[n]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}yn.records.registeredIds[e]="node",yn.records.nodes[e]={id:e,type:"service",icon:t,iconText:a,title:r,edges:[],in:n}},"addService"),HLt=I(()=>Object.values(yn.records.nodes).filter(MLt),"getServices"),$Lt=I(function({id:e,in:t}){yn.records.registeredIds[e]="node",yn.records.nodes[e]={id:e,type:"junction",edges:[],in:t}},"addJunction"),WLt=I(()=>Object.values(yn.records.nodes).filter(PLt),"getJunctions"),ULt=I(()=>Object.values(yn.records.nodes),"getNodes"),GLt=I(e=>yn.records.nodes[e],"getNode"),zLt=I(function({id:e,icon:t,in:n,title:r}){if(yn.records.registeredIds[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${yn.records.registeredIds[e]}`);if(n!==void 0){if(e===n)throw new Error(`The group [${e}] cannot be placed within itself`);if(yn.records.registeredIds[n]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(yn.records.registeredIds[n]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}yn.records.registeredIds[e]="group",yn.records.groups[e]={id:e,icon:t,title:r,in:n}},"addGroup"),YLt=I(()=>Object.values(yn.records.groups),"getGroups"),VLt=I(function({lhsId:e,rhsId:t,lhsDir:n,rhsDir:r,lhsInto:a,rhsInto:o,lhsGroup:l,rhsGroup:u,title:h}){if(!TK(n))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(!TK(r))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${r}`);if(yn.records.nodes[e]===void 0&&yn.records.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(yn.records.nodes[t]===void 0&&yn.records.groups[e]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);const f=yn.records.nodes[e].in,d=yn.records.nodes[t].in;if(l&&f&&d&&f==d)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(u&&f&&d&&f==d)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const p={lhsId:e,lhsDir:n,lhsInto:a,lhsGroup:l,rhsId:t,rhsDir:r,rhsInto:o,rhsGroup:u,title:h};yn.records.edges.push(p),yn.records.nodes[e]&&yn.records.nodes[t]&&(yn.records.nodes[e].edges.push(yn.records.edges[yn.records.edges.length-1]),yn.records.nodes[t].edges.push(yn.records.edges[yn.records.edges.length-1]))},"addEdge"),qLt=I(()=>yn.records.edges,"getEdges"),jLt=I(()=>{if(yn.records.dataStructures===void 0){const e=Object.entries(yn.records.nodes).reduce((l,[u,h])=>(l[u]=h.edges.reduce((f,d)=>{if(d.lhsId===u){const p=vL(d.lhsDir,d.rhsDir);p&&(f[p]=d.rhsId)}else{const p=vL(d.rhsDir,d.lhsDir);p&&(f[p]=d.lhsId)}return f},{}),l),{}),t=Object.keys(e)[0],n={[t]:1},r=Object.keys(e).reduce((l,u)=>u===t?l:{...l,[u]:1},{}),a=I(l=>{const u={[l]:[0,0]},h=[l];for(;h.length>0;){const f=h.shift();if(f){n[f]=1,delete r[f];const d=e[f],[p,g]=u[f];Object.entries(d).forEach(([m,y])=>{n[y]||(u[y]=_Lt([p,g],m),h.push(y))})}}return u},"BFS"),o=[a(t)];for(;Object.keys(r).length>0;)o.push(a(Object.keys(r)[0]));yn.records.dataStructures={adjList:e,spatialMaps:o}}return yn.records.dataStructures},"getDataStructures"),XLt=I((e,t)=>{yn.records.elements[e]=t},"setElementForId"),KLt=I(e=>yn.records.elements[e],"getElementById"),M5={clear:FLt,setDiagramTitle:Ds,getDiagramTitle:Ma,setAccTitle:da,getAccTitle:La,setAccDescription:_a,getAccDescription:Da,addService:BLt,getServices:HLt,addJunction:$Lt,getJunctions:WLt,getNodes:ULt,getNode:GLt,addGroup:zLt,getGroups:YLt,addEdge:VLt,getEdges:qLt,setElementForId:XLt,getElementById:KLt,getDataStructures:jLt};function ji(e){const t=Pe().architecture;return t!=null&&t[e]?t[e]:Iye[e]}I(ji,"getConfigField");var ZLt=I((e,t)=>{AE(e,t),e.groups.map(t.addGroup),e.services.map(n=>t.addService({...n,type:"service"})),e.junctions.map(n=>t.addJunction({...n,type:"junction"})),e.edges.map(t.addEdge)},"populateDb"),QLt={parse:I(async e=>{const t=await qv("architecture",e);ve.debug(t),ZLt(t,M5)},"parse")},JLt=I(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),e_t=JLt,Sg=I(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),RT={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Sg('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Sg('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Sg('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Sg('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Sg('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:Zae,blank:{body:Sg("")}}},t_t=I(async function(e,t){const n=ji("padding"),r=ji("iconSize"),a=r/2,o=r/6,l=o/2;await Promise.all(t.edges().map(async u=>{var N,O;const{source:h,sourceDir:f,sourceArrow:d,sourceGroup:p,target:g,targetDir:m,targetArrow:y,targetGroup:b,label:T}=Aye(u);let{x:E,y:w}=u[0].sourceEndpoint();const{x,y:S}=u[0].midpoint();let{x:A,y:R}=u[0].targetEndpoint();const C=n+4;if(p&&(js(f)?E+=f==="L"?-C:C:w+=f==="T"?-C:C+18),b&&(js(m)?A+=m==="L"?-C:C:R+=m==="T"?-C:C+18),!p&&((N=M5.getNode(h))==null?void 0:N.type)==="junction"&&(js(f)?E+=f==="L"?a:-a:w+=f==="T"?a:-a),!b&&((O=M5.getNode(g))==null?void 0:O.type)==="junction"&&(js(m)?A+=m==="L"?a:-a:R+=m==="T"?a:-a),u[0]._private.rscratch){const L=e.insert("g");if(L.insert("path").attr("d",`M ${E},${w} L ${x},${S} L${A},${R} `).attr("class","edge"),d){const k=js(f)?F3[f](E,o):E-l,M=mf(f)?F3[f](w,o):w-l;L.insert("polygon").attr("points",bK[f](o)).attr("transform",`translate(${k},${M})`).attr("class","arrow")}if(y){const k=js(m)?F3[m](A,o):A-l,M=mf(m)?F3[m](R,o):R-l;L.insert("polygon").attr("points",bK[m](o)).attr("transform",`translate(${k},${M})`).attr("class","arrow")}if(T){const k=Sye(f,m)?"XY":js(f)?"X":"Y";let M=0;k==="X"?M=Math.abs(E-A):k==="Y"?M=Math.abs(w-R)/1.5:M=Math.abs(E-A)/2;const $=L.append("g");if(await Fl($,T,{useHtmlLabels:!1,width:M,classes:"architecture-service-label"},Pe()),$.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),k==="X")$.attr("transform","translate("+x+", "+S+")");else if(k==="Y")$.attr("transform","translate("+x+", "+S+") rotate(-90)");else if(k==="XY"){const _=vL(f,m);if(_&&NLt(_)){const F=$.node().getBoundingClientRect(),[B,D]=DLt(_);$.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*B*D*45})`);const P=$.node().getBoundingClientRect();$.attr("transform",`
                translate(${x}, ${S-F.height/2})
                translate(${B*P.width/2}, ${D*P.height/2})
                rotate(${-1*B*D*45}, 0, ${F.height/2})
              `)}}}}}))},"drawEdges"),n_t=I(async function(e,t){const r=ji("padding")*.75,a=ji("fontSize"),l=ji("iconSize")/2;await Promise.all(t.nodes().map(async u=>{const h=Zg(u);if(h.type==="group"){const{h:f,w:d,x1:p,y1:g}=u.boundingBox();e.append("rect").attr("x",p+l).attr("y",g+l).attr("width",d).attr("height",f).attr("class","node-bkg");const m=e.append("g");let y=p,b=g;if(h.icon){const T=m.append("g");T.html(`<g>${await Qd(h.icon,{height:r,width:r,fallbackPrefix:RT.prefix})}</g>`),T.attr("transform","translate("+(y+l+1)+", "+(b+l+1)+")"),y+=r,b+=a/2-1-2}if(h.label){const T=m.append("g");await Fl(T,h.label,{useHtmlLabels:!1,width:d,classes:"architecture-service-label"},Pe()),T.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),T.attr("transform","translate("+(y+l+4)+", "+(b+l+2)+")")}}}))},"drawGroups"),r_t=I(async function(e,t,n){for(const r of n){const a=t.append("g"),o=ji("iconSize");if(r.title){const f=a.append("g");await Fl(f,r.title,{useHtmlLabels:!1,width:o*1.5,classes:"architecture-service-label"},Pe()),f.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),f.attr("transform","translate("+o/2+", "+o+")")}const l=a.append("g");if(r.icon)l.html(`<g>${await Qd(r.icon,{height:o,width:o,fallbackPrefix:RT.prefix})}</g>`);else if(r.iconText){l.html(`<g>${await Qd("blank",{height:o,width:o,fallbackPrefix:RT.prefix})}</g>`);const p=l.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(r.iconText),g=parseInt(window.getComputedStyle(p.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;p.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/g)};`)}else l.append("path").attr("class","node-bkg").attr("id","node-"+r.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);a.attr("class","architecture-service");const{width:u,height:h}=a._groups[0][0].getBBox();r.width=u,r.height=h,e.setElementForId(r.id,a)}return 0},"drawServices"),i_t=I(function(e,t,n){n.forEach(r=>{const a=t.append("g"),o=ji("iconSize");a.append("g").append("rect").attr("id","node-"+r.id).attr("fill-opacity","0").attr("width",o).attr("height",o),a.attr("class","architecture-junction");const{width:u,height:h}=a._groups[0][0].getBBox();a.width=u,a.height=h,e.setElementForId(r.id,a)})},"drawJunctions");Jae([{name:RT.prefix,icons:RT}]);bu.use(kLt);function Cye(e,t){e.forEach(n=>{t.add({group:"nodes",data:{type:"service",id:n.id,icon:n.icon,label:n.title,parent:n.in,width:ji("iconSize"),height:ji("iconSize")},classes:"node-service"})})}I(Cye,"addServices");function Rye(e,t){e.forEach(n=>{t.add({group:"nodes",data:{type:"junction",id:n.id,parent:n.in,width:ji("iconSize"),height:ji("iconSize")},classes:"node-junction"})})}I(Rye,"addJunctions");function kye(e,t){t.nodes().map(n=>{const r=Zg(n);if(r.type==="group")return;r.x=n.position().x,r.y=n.position().y,e.getElementById(r.id).attr("transform","translate("+(r.x||0)+","+(r.y||0)+")")})}I(kye,"positionNodes");function Oye(e,t){e.forEach(n=>{t.add({group:"nodes",data:{type:"group",id:n.id,icon:n.icon,label:n.title,parent:n.in},classes:"node-group"})})}I(Oye,"addGroups");function Nye(e,t){e.forEach(n=>{const{lhsId:r,rhsId:a,lhsInto:o,lhsGroup:l,rhsInto:u,lhsDir:h,rhsDir:f,rhsGroup:d,title:p}=n,g=Sye(n.lhsDir,n.rhsDir)?"segments":"straight",m={id:`${r}-${a}`,label:p,source:r,sourceDir:h,sourceArrow:o,sourceGroup:l,sourceEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%",target:a,targetDir:f,targetArrow:u,targetGroup:d,targetEndpoint:f==="L"?"0 50%":f==="R"?"100% 50%":f==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:m,classes:g})})}I(Nye,"addEdges");function Lye(e){const t=e.map(a=>{const o={},l={};return Object.entries(a).forEach(([u,[h,f]])=>{o[f]||(o[f]=[]),l[h]||(l[h]=[]),o[f].push(u),l[h].push(u)}),{horiz:Object.values(o).filter(u=>u.length>1),vert:Object.values(l).filter(u=>u.length>1)}}),[n,r]=t.reduce(([a,o],{horiz:l,vert:u})=>[[...a,...l],[...o,...u]],[[],[]]);return{horizontal:n,vertical:r}}I(Lye,"getAlignments");function _ye(e){const t=[],n=I(a=>`${a[0]},${a[1]}`,"posToStr"),r=I(a=>a.split(",").map(o=>parseInt(o)),"strToPos");return e.forEach(a=>{const o=Object.fromEntries(Object.entries(a).map(([f,d])=>[n(d),f])),l=[n([0,0])],u={},h={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;l.length>0;){const f=l.shift();if(f){u[f]=1;const d=o[f];if(d){const p=r(f);Object.entries(h).forEach(([g,m])=>{const y=n([p[0]+m[0],p[1]+m[1]]),b=o[y];b&&!u[y]&&(l.push(y),t.push({[yK[g]]:b,[yK[OLt(g)]]:d,gap:1.5*ji("iconSize")}))})}}}}),t}I(_ye,"getRelativeConstraints");function Dye(e,t,n,r,{spatialMaps:a}){return new Promise(o=>{const l=it("body").append("div").attr("id","cy").attr("style","display:none"),u=bu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${ji("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${ji("padding")}px`}}]});l.remove(),Oye(n,u),Cye(e,u),Rye(t,u),Nye(r,u);const h=Lye(a),f=_ye(a),d=u.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){const[g,m]=p.connectedNodes(),{parent:y}=Zg(g),{parent:b}=Zg(m);return y===b?1.5*ji("iconSize"):.5*ji("iconSize")},edgeElasticity(p){const[g,m]=p.connectedNodes(),{parent:y}=Zg(g),{parent:b}=Zg(m);return y===b?.45:.001},alignmentConstraint:h,relativePlacementConstraint:f});d.one("layoutstop",()=>{var g;function p(m,y,b,T){let E,w;const{x,y:S}=m,{x:A,y:R}=y;w=(T-S+(x-b)*(S-R)/(x-A))/Math.sqrt(1+Math.pow((S-R)/(x-A),2)),E=Math.sqrt(Math.pow(T-S,2)+Math.pow(b-x,2)-Math.pow(w,2));const C=Math.sqrt(Math.pow(A-x,2)+Math.pow(R-S,2));E=E/C;let N=(A-x)*(T-S)-(R-S)*(b-x);switch(!0){case N>=0:N=1;break;case N<0:N=-1;break}let O=(A-x)*(b-x)+(R-S)*(T-S);switch(!0){case O>=0:O=1;break;case O<0:O=-1;break}return w=Math.abs(w)*N,E=E*O,{distances:w,weights:E}}I(p,"getSegmentWeights"),u.startBatch();for(const m of Object.values(u.edges()))if((g=m.data)!=null&&g.call(m)){const{x:y,y:b}=m.source().position(),{x:T,y:E}=m.target().position();if(y!==T&&b!==E){const w=m.sourceEndpoint(),x=m.targetEndpoint(),{sourceDir:S}=Aye(m),[A,R]=mf(S)?[w.x,x.y]:[x.x,w.y],{weights:C,distances:N}=p(w,x,A,R);m.style("segment-distances",N),m.style("segment-weights",C)}}u.endBatch(),d.run()}),d.run(),u.ready(p=>{ve.info("Ready",p),o(u)})})}I(Dye,"layoutArchitecture");var a_t=I(async(e,t,n,r)=>{const a=r.db,o=a.getServices(),l=a.getJunctions(),u=a.getGroups(),h=a.getEdges(),f=a.getDataStructures(),d=Cf(t),p=d.append("g");p.attr("class","architecture-edges");const g=d.append("g");g.attr("class","architecture-services");const m=d.append("g");m.attr("class","architecture-groups"),await r_t(a,g,o),i_t(a,g,l);const y=await Dye(o,l,u,h,f);await t_t(p,y),await n_t(m,y),kye(a,y),kv(void 0,d,ji("padding"),ji("useMaxWidth"))},"draw"),s_t={draw:a_t},o_t={parser:QLt,db:M5,renderer:s_t,styles:e_t};const l_t=Object.freeze(Object.defineProperty({__proto__:null,diagram:o_t},Symbol.toStringTag,{value:"Module"})),c_t=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:Rpe,createInfoServices:kpe},Symbol.toStringTag,{value:"Module"})),u_t=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Ope,createPacketServices:Npe},Symbol.toStringTag,{value:"Module"})),h_t=Object.freeze(Object.defineProperty({__proto__:null,PieModule:Lpe,createPieServices:_pe},Symbol.toStringTag,{value:"Module"})),f_t=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:Dpe,createArchitectureServices:Mpe},Symbol.toStringTag,{value:"Module"})),d_t=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:Ipe,createGitGraphServices:Cpe},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{--vt-c-white: #ffffff;--vt-c-white-soft: #f8f8f8;--vt-c-white-mute: #f2f2f2;--vt-c-black: #181818;--vt-c-black-soft: #222222;--vt-c-black-mute: #282828;--vt-c-indigo: #2c3e50;--vt-c-divider-light-1: rgba(60, 60, 60, .29);--vt-c-divider-light-2: rgba(60, 60, 60, .12);--vt-c-divider-dark-1: rgba(84, 84, 84, .65);--vt-c-divider-dark-2: rgba(84, 84, 84, .48);--vt-c-text-light-1: var(--vt-c-indigo);--vt-c-text-light-2: rgba(60, 60, 60, .66);--vt-c-text-dark-1: var(--vt-c-white);--vt-c-text-dark-2: rgba(235, 235, 235, .64);--pico-form-element-spacing-vertical: .25rem;--pico-form-element-spacing-horizontal: .5rem}:root{--color-background: var(--vt-c-white);--color-background-soft: var(--vt-c-white-soft);--color-background-mute: var(--vt-c-white-mute);--color-border: var(--vt-c-divider-light-2);--color-border-hover: var(--vt-c-divider-light-1);--color-heading: var(--vt-c-text-light-1);--color-text: var(--vt-c-text-light-1);--section-gap: 160px}@media (prefers-color-scheme: dark){:root{--color-background: var(--vt-c-black);--color-background-soft: var(--vt-c-black-soft);--color-background-mute: var(--vt-c-black-mute);--color-border: var(--vt-c-divider-dark-2);--color-border-hover: var(--vt-c-divider-dark-1);--color-heading: var(--vt-c-text-dark-1);--color-text: var(--vt-c-text-dark-2)}}*,*:before,*:after{box-sizing:border-box;margin:0;font-weight:400}body{color:var(--color-text);background:var(--color-background);line-height:1.6;font-family:Helvetica Neue,sans-serif;font-size:15px;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{max-height:100vh}#root{font-weight:400;max-height:100vh;max-width:100vw;overflow:hidden;display:grid;grid-template-columns:auto 1fr;grid-template-areas:"header  content" "sidebar content" "footer  footer"}.main-head{grid-area:header}.content{grid-area:content}.side{grid-area:sidebar}.main-footer{grid-area:footer}a,.green{text-decoration:none;color:#00bd7e;transition:.4s;padding:3px}@media (hover: hover){a:hover{background-color:#00bd7e33}}/*!
 * Pico CSS ✨ v2.0.6 (https://picocss.com)
 * Copyright 2019-2024 - Licensed under MIT
 */:root{--pico-font-family-emoji:"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--pico-font-family-sans-serif:system-ui,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,Helvetica,Arial,"Helvetica Neue",sans-serif,var(--pico-font-family-emoji);--pico-font-family-monospace:ui-monospace,SFMono-Regular,"SF Mono",Menlo,Consolas,"Liberation Mono",monospace,var(--pico-font-family-emoji);--pico-font-family:var(--pico-font-family-sans-serif);--pico-line-height:1.5;--pico-font-weight:400;--pico-font-size:100%;--pico-text-underline-offset:.1rem;--pico-border-radius:.25rem;--pico-border-width:.0625rem;--pico-outline-width:.125rem;--pico-transition:.2s ease-in-out;--pico-spacing:1rem;--pico-typography-spacing-vertical:1rem;--pico-block-spacing-vertical:var(--pico-spacing);--pico-block-spacing-horizontal:var(--pico-spacing);--pico-form-element-spacing-vertical:.75rem;--pico-form-element-spacing-horizontal:1rem;--pico-group-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-group-box-shadow-focus-with-button:0 0 0 var(--pico-outline-width) var(--pico-primary-focus);--pico-group-box-shadow-focus-with-input:0 0 0 .0625rem var(--pico-form-element-border-color);--pico-modal-overlay-backdrop-filter:blur(.375rem);--pico-nav-element-spacing-vertical:1rem;--pico-nav-element-spacing-horizontal:.5rem;--pico-nav-link-spacing-vertical:.5rem;--pico-nav-link-spacing-horizontal:.5rem;--pico-nav-breadcrumb-divider:">";--pico-icon-checkbox:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(255, 255, 255)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--pico-icon-minus:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(255, 255, 255)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E");--pico-icon-chevron:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--pico-icon-date:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");--pico-icon-time:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpolyline points='12 6 12 12 16 14'%3E%3C/polyline%3E%3C/svg%3E");--pico-icon-search:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");--pico-icon-close:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");--pico-icon-loading:url("data:image/svg+xml,%3Csvg fill='none' height='24' width='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' %3E%3Cstyle%3E g %7B animation: rotate 2s linear infinite; transform-origin: center center; %7D circle %7B stroke-dasharray: 75,100; stroke-dashoffset: -5; animation: dash 1.5s ease-in-out infinite; stroke-linecap: round; %7D @keyframes rotate %7B 0%25 %7B transform: rotate(0deg); %7D 100%25 %7B transform: rotate(360deg); %7D %7D @keyframes dash %7B 0%25 %7B stroke-dasharray: 1,100; stroke-dashoffset: 0; %7D 50%25 %7B stroke-dasharray: 44.5,100; stroke-dashoffset: -17.5; %7D 100%25 %7B stroke-dasharray: 44.5,100; stroke-dashoffset: -62; %7D %7D %3C/style%3E%3Cg%3E%3Ccircle cx='12' cy='12' r='10' fill='none' stroke='rgb(136, 145, 164)' stroke-width='4' /%3E%3C/g%3E%3C/svg%3E")}@media (min-width:576px){:root{--pico-font-size:106.25%}}@media (min-width:768px){:root{--pico-font-size:112.5%}}@media (min-width:1024px){:root{--pico-font-size:118.75%}}@media (min-width:1280px){:root{--pico-font-size:125%}}@media (min-width:1536px){:root{--pico-font-size:131.25%}}a{--pico-text-decoration:underline}small{--pico-font-size:.875em}h1,h2,h3,h4,h5,h6{--pico-font-weight:700}h1{--pico-font-size:2rem;--pico-line-height:1.125;--pico-typography-spacing-top:3rem}h2{--pico-font-size:1.75rem;--pico-line-height:1.15;--pico-typography-spacing-top:2.625rem}h3{--pico-font-size:1.5rem;--pico-line-height:1.175;--pico-typography-spacing-top:2.25rem}h4{--pico-font-size:1.25rem;--pico-line-height:1.2;--pico-typography-spacing-top:1.874rem}h5{--pico-font-size:1.125rem;--pico-line-height:1.225;--pico-typography-spacing-top:1.6875rem}h6{--pico-font-size:1rem;--pico-line-height:1.25;--pico-typography-spacing-top:1.5rem}tfoot td,tfoot th,thead td,thead th{--pico-font-weight:600;--pico-border-width:.1875rem}code,kbd,pre,samp{--pico-font-family:var(--pico-font-family-monospace)}kbd{--pico-font-weight:bolder}:where(select,textarea),input:not([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[type=file]){--pico-outline-width:.0625rem}[type=search]{--pico-border-radius:5rem}[type=checkbox],[type=radio]{--pico-border-width:.125rem}[type=checkbox][role=switch]{--pico-border-width:.1875rem}[role=search]{--pico-border-radius:5rem}[role=group] [role=button],[role=group] [type=button],[role=group] [type=submit],[role=group] button,[role=search] [role=button],[role=search] [type=button],[role=search] [type=submit],[role=search] button{--pico-form-element-spacing-horizontal:2rem}details summary[role=button]:after{filter:brightness(0) invert(1)}[aria-busy=true]:not(input,select,textarea):is(button,[type=submit],[type=button],[type=reset],[role=button]):before{filter:brightness(0) invert(1)}:root:not([data-theme=dark]),[data-theme=light]{--pico-background-color:#fff;--pico-color:#373c44;--pico-text-selection-color:rgba(2, 154, 232, .25);--pico-muted-color:#646b79;--pico-muted-border-color:#e7eaf0;--pico-primary:#0172ad;--pico-primary-background:#0172ad;--pico-primary-border:var(--pico-primary-background);--pico-primary-underline:rgba(1, 114, 173, .5);--pico-primary-hover:#015887;--pico-primary-hover-background:#02659a;--pico-primary-hover-border:var(--pico-primary-hover-background);--pico-primary-hover-underline:var(--pico-primary-hover);--pico-primary-focus:rgba(2, 154, 232, .5);--pico-primary-inverse:#fff;--pico-secondary:#5d6b89;--pico-secondary-background:#525f7a;--pico-secondary-border:var(--pico-secondary-background);--pico-secondary-underline:rgba(93, 107, 137, .5);--pico-secondary-hover:#48536b;--pico-secondary-hover-background:#48536b;--pico-secondary-hover-border:var(--pico-secondary-hover-background);--pico-secondary-hover-underline:var(--pico-secondary-hover);--pico-secondary-focus:rgba(93, 107, 137, .25);--pico-secondary-inverse:#fff;--pico-contrast:#181c25;--pico-contrast-background:#181c25;--pico-contrast-border:var(--pico-contrast-background);--pico-contrast-underline:rgba(24, 28, 37, .5);--pico-contrast-hover:#000;--pico-contrast-hover-background:#000;--pico-contrast-hover-border:var(--pico-contrast-hover-background);--pico-contrast-hover-underline:var(--pico-secondary-hover);--pico-contrast-focus:rgba(93, 107, 137, .25);--pico-contrast-inverse:#fff;--pico-box-shadow:.0145rem .029rem .174rem rgba(129, 145, 181, .01698),.0335rem .067rem .402rem rgba(129, 145, 181, .024),.0625rem .125rem .75rem rgba(129, 145, 181, .03),.1125rem .225rem 1.35rem rgba(129, 145, 181, .036),.2085rem .417rem 2.502rem rgba(129, 145, 181, .04302),.5rem 1rem 6rem rgba(129, 145, 181, .06),0 0 0 .0625rem rgba(129, 145, 181, .015);--pico-h1-color:#2d3138;--pico-h2-color:#373c44;--pico-h3-color:#424751;--pico-h4-color:#4d535e;--pico-h5-color:#5c6370;--pico-h6-color:#646b79;--pico-mark-background-color:#fde7c0;--pico-mark-color:#0f1114;--pico-ins-color:#1d6a54;--pico-del-color:#883935;--pico-blockquote-border-color:var(--pico-muted-border-color);--pico-blockquote-footer-color:var(--pico-muted-color);--pico-button-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-button-hover-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-table-border-color:var(--pico-muted-border-color);--pico-table-row-stripped-background-color:rgba(111, 120, 135, .0375);--pico-code-background-color:#f3f5f7;--pico-code-color:#646b79;--pico-code-kbd-background-color:var(--pico-color);--pico-code-kbd-color:var(--pico-background-color);--pico-form-element-background-color:#fbfcfc;--pico-form-element-selected-background-color:#dfe3eb;--pico-form-element-border-color:#cfd5e2;--pico-form-element-color:#23262c;--pico-form-element-placeholder-color:var(--pico-muted-color);--pico-form-element-active-background-color:#fff;--pico-form-element-active-border-color:var(--pico-primary-border);--pico-form-element-focus-color:var(--pico-primary-border);--pico-form-element-disabled-opacity:.5;--pico-form-element-invalid-border-color:#b86a6b;--pico-form-element-invalid-active-border-color:#c84f48;--pico-form-element-invalid-focus-color:var(--pico-form-element-invalid-active-border-color);--pico-form-element-valid-border-color:#4c9b8a;--pico-form-element-valid-active-border-color:#279977;--pico-form-element-valid-focus-color:var(--pico-form-element-valid-active-border-color);--pico-switch-background-color:#bfc7d9;--pico-switch-checked-background-color:var(--pico-primary-background);--pico-switch-color:#fff;--pico-switch-thumb-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-range-border-color:#dfe3eb;--pico-range-active-border-color:#bfc7d9;--pico-range-thumb-border-color:var(--pico-background-color);--pico-range-thumb-color:var(--pico-secondary-background);--pico-range-thumb-active-color:var(--pico-primary-background);--pico-accordion-border-color:var(--pico-muted-border-color);--pico-accordion-active-summary-color:var(--pico-primary-hover);--pico-accordion-close-summary-color:var(--pico-color);--pico-accordion-open-summary-color:var(--pico-muted-color);--pico-card-background-color:var(--pico-background-color);--pico-card-border-color:var(--pico-muted-border-color);--pico-card-box-shadow:var(--pico-box-shadow);--pico-card-sectioning-background-color:#fbfcfc;--pico-loading-spinner-opacity:.5;--pico-modal-overlay-background-color:rgba(232, 234, 237, .75);--pico-progress-background-color:#dfe3eb;--pico-progress-color:var(--pico-primary-background);--pico-tooltip-background-color:var(--pico-contrast-background);--pico-tooltip-color:var(--pico-contrast-inverse);--pico-icon-valid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(76, 155, 138)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--pico-icon-invalid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(200, 79, 72)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");color-scheme:light}:root:not([data-theme=dark]) input:is([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[type=file]),[data-theme=light] input:is([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[type=file]){--pico-form-element-focus-color:var(--pico-primary-focus)}@media only screen and (prefers-color-scheme:dark){:root:not([data-theme]){--pico-background-color:#13171f;--pico-color:#c2c7d0;--pico-text-selection-color:rgba(1, 170, 255, .1875);--pico-muted-color:#7b8495;--pico-muted-border-color:#202632;--pico-primary:#01aaff;--pico-primary-background:#0172ad;--pico-primary-border:var(--pico-primary-background);--pico-primary-underline:rgba(1, 170, 255, .5);--pico-primary-hover:#79c0ff;--pico-primary-hover-background:#017fc0;--pico-primary-hover-border:var(--pico-primary-hover-background);--pico-primary-hover-underline:var(--pico-primary-hover);--pico-primary-focus:rgba(1, 170, 255, .375);--pico-primary-inverse:#fff;--pico-secondary:#969eaf;--pico-secondary-background:#525f7a;--pico-secondary-border:var(--pico-secondary-background);--pico-secondary-underline:rgba(150, 158, 175, .5);--pico-secondary-hover:#b3b9c5;--pico-secondary-hover-background:#5d6b89;--pico-secondary-hover-border:var(--pico-secondary-hover-background);--pico-secondary-hover-underline:var(--pico-secondary-hover);--pico-secondary-focus:rgba(144, 158, 190, .25);--pico-secondary-inverse:#fff;--pico-contrast:#dfe3eb;--pico-contrast-background:#eff1f4;--pico-contrast-border:var(--pico-contrast-background);--pico-contrast-underline:rgba(223, 227, 235, .5);--pico-contrast-hover:#fff;--pico-contrast-hover-background:#fff;--pico-contrast-hover-border:var(--pico-contrast-hover-background);--pico-contrast-hover-underline:var(--pico-contrast-hover);--pico-contrast-focus:rgba(207, 213, 226, .25);--pico-contrast-inverse:#000;--pico-box-shadow:.0145rem .029rem .174rem rgba(7, 9, 12, .01698),.0335rem .067rem .402rem rgba(7, 9, 12, .024),.0625rem .125rem .75rem rgba(7, 9, 12, .03),.1125rem .225rem 1.35rem rgba(7, 9, 12, .036),.2085rem .417rem 2.502rem rgba(7, 9, 12, .04302),.5rem 1rem 6rem rgba(7, 9, 12, .06),0 0 0 .0625rem rgba(7, 9, 12, .015);--pico-h1-color:#f0f1f3;--pico-h2-color:#e0e3e7;--pico-h3-color:#c2c7d0;--pico-h4-color:#b3b9c5;--pico-h5-color:#a4acba;--pico-h6-color:#8891a4;--pico-mark-background-color:#014063;--pico-mark-color:#fff;--pico-ins-color:#62af9a;--pico-del-color:#ce7e7b;--pico-blockquote-border-color:var(--pico-muted-border-color);--pico-blockquote-footer-color:var(--pico-muted-color);--pico-button-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-button-hover-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-table-border-color:var(--pico-muted-border-color);--pico-table-row-stripped-background-color:rgba(111, 120, 135, .0375);--pico-code-background-color:#1a1f28;--pico-code-color:#8891a4;--pico-code-kbd-background-color:var(--pico-color);--pico-code-kbd-color:var(--pico-background-color);--pico-form-element-background-color:#1c212c;--pico-form-element-selected-background-color:#2a3140;--pico-form-element-border-color:#2a3140;--pico-form-element-color:#e0e3e7;--pico-form-element-placeholder-color:#8891a4;--pico-form-element-active-background-color:#1a1f28;--pico-form-element-active-border-color:var(--pico-primary-border);--pico-form-element-focus-color:var(--pico-primary-border);--pico-form-element-disabled-opacity:.5;--pico-form-element-invalid-border-color:#964a50;--pico-form-element-invalid-active-border-color:#b7403b;--pico-form-element-invalid-focus-color:var(--pico-form-element-invalid-active-border-color);--pico-form-element-valid-border-color:#2a7b6f;--pico-form-element-valid-active-border-color:#16896a;--pico-form-element-valid-focus-color:var(--pico-form-element-valid-active-border-color);--pico-switch-background-color:#333c4e;--pico-switch-checked-background-color:var(--pico-primary-background);--pico-switch-color:#fff;--pico-switch-thumb-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-range-border-color:#202632;--pico-range-active-border-color:#2a3140;--pico-range-thumb-border-color:var(--pico-background-color);--pico-range-thumb-color:var(--pico-secondary-background);--pico-range-thumb-active-color:var(--pico-primary-background);--pico-accordion-border-color:var(--pico-muted-border-color);--pico-accordion-active-summary-color:var(--pico-primary-hover);--pico-accordion-close-summary-color:var(--pico-color);--pico-accordion-open-summary-color:var(--pico-muted-color);--pico-card-background-color:#181c25;--pico-card-border-color:var(--pico-card-background-color);--pico-card-box-shadow:var(--pico-box-shadow);--pico-card-sectioning-background-color:#1a1f28;--pico-loading-spinner-opacity:.5;--pico-modal-overlay-background-color:rgba(8, 9, 10, .75);--pico-progress-background-color:#202632;--pico-progress-color:var(--pico-primary-background);--pico-tooltip-background-color:var(--pico-contrast-background);--pico-tooltip-color:var(--pico-contrast-inverse);--pico-icon-valid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(42, 123, 111)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--pico-icon-invalid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(150, 74, 80)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");color-scheme:dark}:root:not([data-theme]) input:is([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[type=file]){--pico-form-element-focus-color:var(--pico-primary-focus)}}[data-theme=dark]{--pico-background-color:#13171f;--pico-color:#c2c7d0;--pico-text-selection-color:rgba(1, 170, 255, .1875);--pico-muted-color:#7b8495;--pico-muted-border-color:#202632;--pico-primary:#01aaff;--pico-primary-background:#0172ad;--pico-primary-border:var(--pico-primary-background);--pico-primary-underline:rgba(1, 170, 255, .5);--pico-primary-hover:#79c0ff;--pico-primary-hover-background:#017fc0;--pico-primary-hover-border:var(--pico-primary-hover-background);--pico-primary-hover-underline:var(--pico-primary-hover);--pico-primary-focus:rgba(1, 170, 255, .375);--pico-primary-inverse:#fff;--pico-secondary:#969eaf;--pico-secondary-background:#525f7a;--pico-secondary-border:var(--pico-secondary-background);--pico-secondary-underline:rgba(150, 158, 175, .5);--pico-secondary-hover:#b3b9c5;--pico-secondary-hover-background:#5d6b89;--pico-secondary-hover-border:var(--pico-secondary-hover-background);--pico-secondary-hover-underline:var(--pico-secondary-hover);--pico-secondary-focus:rgba(144, 158, 190, .25);--pico-secondary-inverse:#fff;--pico-contrast:#dfe3eb;--pico-contrast-background:#eff1f4;--pico-contrast-border:var(--pico-contrast-background);--pico-contrast-underline:rgba(223, 227, 235, .5);--pico-contrast-hover:#fff;--pico-contrast-hover-background:#fff;--pico-contrast-hover-border:var(--pico-contrast-hover-background);--pico-contrast-hover-underline:var(--pico-contrast-hover);--pico-contrast-focus:rgba(207, 213, 226, .25);--pico-contrast-inverse:#000;--pico-box-shadow:.0145rem .029rem .174rem rgba(7, 9, 12, .01698),.0335rem .067rem .402rem rgba(7, 9, 12, .024),.0625rem .125rem .75rem rgba(7, 9, 12, .03),.1125rem .225rem 1.35rem rgba(7, 9, 12, .036),.2085rem .417rem 2.502rem rgba(7, 9, 12, .04302),.5rem 1rem 6rem rgba(7, 9, 12, .06),0 0 0 .0625rem rgba(7, 9, 12, .015);--pico-h1-color:#f0f1f3;--pico-h2-color:#e0e3e7;--pico-h3-color:#c2c7d0;--pico-h4-color:#b3b9c5;--pico-h5-color:#a4acba;--pico-h6-color:#8891a4;--pico-mark-background-color:#014063;--pico-mark-color:#fff;--pico-ins-color:#62af9a;--pico-del-color:#ce7e7b;--pico-blockquote-border-color:var(--pico-muted-border-color);--pico-blockquote-footer-color:var(--pico-muted-color);--pico-button-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-button-hover-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-table-border-color:var(--pico-muted-border-color);--pico-table-row-stripped-background-color:rgba(111, 120, 135, .0375);--pico-code-background-color:#1a1f28;--pico-code-color:#8891a4;--pico-code-kbd-background-color:var(--pico-color);--pico-code-kbd-color:var(--pico-background-color);--pico-form-element-background-color:#1c212c;--pico-form-element-selected-background-color:#2a3140;--pico-form-element-border-color:#2a3140;--pico-form-element-color:#e0e3e7;--pico-form-element-placeholder-color:#8891a4;--pico-form-element-active-background-color:#1a1f28;--pico-form-element-active-border-color:var(--pico-primary-border);--pico-form-element-focus-color:var(--pico-primary-border);--pico-form-element-disabled-opacity:.5;--pico-form-element-invalid-border-color:#964a50;--pico-form-element-invalid-active-border-color:#b7403b;--pico-form-element-invalid-focus-color:var(--pico-form-element-invalid-active-border-color);--pico-form-element-valid-border-color:#2a7b6f;--pico-form-element-valid-active-border-color:#16896a;--pico-form-element-valid-focus-color:var(--pico-form-element-valid-active-border-color);--pico-switch-background-color:#333c4e;--pico-switch-checked-background-color:var(--pico-primary-background);--pico-switch-color:#fff;--pico-switch-thumb-box-shadow:0 0 0 rgba(0, 0, 0, 0);--pico-range-border-color:#202632;--pico-range-active-border-color:#2a3140;--pico-range-thumb-border-color:var(--pico-background-color);--pico-range-thumb-color:var(--pico-secondary-background);--pico-range-thumb-active-color:var(--pico-primary-background);--pico-accordion-border-color:var(--pico-muted-border-color);--pico-accordion-active-summary-color:var(--pico-primary-hover);--pico-accordion-close-summary-color:var(--pico-color);--pico-accordion-open-summary-color:var(--pico-muted-color);--pico-card-background-color:#181c25;--pico-card-border-color:var(--pico-card-background-color);--pico-card-box-shadow:var(--pico-box-shadow);--pico-card-sectioning-background-color:#1a1f28;--pico-loading-spinner-opacity:.5;--pico-modal-overlay-background-color:rgba(8, 9, 10, .75);--pico-progress-background-color:#202632;--pico-progress-color:var(--pico-primary-background);--pico-tooltip-background-color:var(--pico-contrast-background);--pico-tooltip-color:var(--pico-contrast-inverse);--pico-icon-valid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(42, 123, 111)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--pico-icon-invalid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(150, 74, 80)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");color-scheme:dark}[data-theme=dark] input:is([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[type=file]){--pico-form-element-focus-color:var(--pico-primary-focus)}[type=checkbox],[type=radio],[type=range],progress{accent-color:var(--pico-primary)}*,:after,:before{box-sizing:border-box;background-repeat:no-repeat}:after,:before{text-decoration:inherit;vertical-align:inherit}:where(:root){-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;background-color:var(--pico-background-color);color:var(--pico-color);font-weight:var(--pico-font-weight);font-size:var(--pico-font-size);line-height:var(--pico-line-height);font-family:var(--pico-font-family);text-underline-offset:var(--pico-text-underline-offset);text-rendering:optimizeLegibility;overflow-wrap:break-word;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{width:100%;margin:0}main{display:block}body>footer,body>header,body>main{width:100%;margin-right:auto;margin-left:auto;padding:var(--pico-block-spacing-vertical) var(--pico-block-spacing-horizontal)}section{margin-bottom:var(--pico-block-spacing-vertical)}b,strong{font-weight:bolder}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}address,blockquote,dl,ol,p,pre,table,ul{margin-top:0;margin-bottom:var(--pico-typography-spacing-vertical);color:var(--pico-color);font-style:normal;font-weight:var(--pico-font-weight)}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:var(--pico-typography-spacing-vertical);color:var(--pico-color);font-weight:var(--pico-font-weight);font-size:var(--pico-font-size);line-height:var(--pico-line-height);font-family:var(--pico-font-family)}h1{--pico-color:var(--pico-h1-color)}h2{--pico-color:var(--pico-h2-color)}h3{--pico-color:var(--pico-h3-color)}h4{--pico-color:var(--pico-h4-color)}h5{--pico-color:var(--pico-h5-color)}h6{--pico-color:var(--pico-h6-color)}:where(article,address,blockquote,dl,figure,form,ol,p,pre,table,ul)~:is(h1,h2,h3,h4,h5,h6){margin-top:var(--pico-typography-spacing-top)}p{margin-bottom:var(--pico-typography-spacing-vertical)}hgroup{margin-bottom:var(--pico-typography-spacing-vertical)}hgroup>*{margin-top:0;margin-bottom:0}hgroup>:not(:first-child):last-child{--pico-color:var(--pico-muted-color);--pico-font-weight:unset;font-size:1rem}:where(ol,ul) li{margin-bottom:calc(var(--pico-typography-spacing-vertical) * .25)}:where(dl,ol,ul) :where(dl,ol,ul){margin:0;margin-top:calc(var(--pico-typography-spacing-vertical) * .25)}ul li{list-style:square}mark{padding:.125rem .25rem;background-color:var(--pico-mark-background-color);color:var(--pico-mark-color);vertical-align:baseline}blockquote{display:block;margin:var(--pico-typography-spacing-vertical) 0;padding:var(--pico-spacing);border-right:none;border-left:.25rem solid var(--pico-blockquote-border-color);border-inline-start:.25rem solid var(--pico-blockquote-border-color);border-inline-end:none}blockquote footer{margin-top:calc(var(--pico-typography-spacing-vertical) * .5);color:var(--pico-blockquote-footer-color)}abbr[title]{border-bottom:1px dotted;text-decoration:none;cursor:help}ins{color:var(--pico-ins-color);text-decoration:none}del{color:var(--pico-del-color)}::-moz-selection{background-color:var(--pico-text-selection-color)}::selection{background-color:var(--pico-text-selection-color)}:where(a:not([role=button])),[role=link]{--pico-color:var(--pico-primary);--pico-background-color:transparent;--pico-underline:var(--pico-primary-underline);outline:0;background-color:var(--pico-background-color);color:var(--pico-color);-webkit-text-decoration:var(--pico-text-decoration);text-decoration:var(--pico-text-decoration);text-decoration-color:var(--pico-underline);text-underline-offset:.125em;transition:background-color var(--pico-transition),color var(--pico-transition),box-shadow var(--pico-transition),-webkit-text-decoration var(--pico-transition);transition:background-color var(--pico-transition),color var(--pico-transition),text-decoration var(--pico-transition),box-shadow var(--pico-transition);transition:background-color var(--pico-transition),color var(--pico-transition),text-decoration var(--pico-transition),box-shadow var(--pico-transition),-webkit-text-decoration var(--pico-transition)}:where(a:not([role=button])):is([aria-current]:not([aria-current=false]),:hover,:active,:focus),[role=link]:is([aria-current]:not([aria-current=false]),:hover,:active,:focus){--pico-color:var(--pico-primary-hover);--pico-underline:var(--pico-primary-hover-underline);--pico-text-decoration:underline}:where(a:not([role=button])):focus-visible,[role=link]:focus-visible{box-shadow:0 0 0 var(--pico-outline-width) var(--pico-primary-focus)}a[role=button]{display:inline-block}button{margin:0;overflow:visible;font-family:inherit;text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[role=button],[type=button],[type=file]::file-selector-button,[type=reset],[type=submit],button{--pico-background-color:var(--pico-primary-background);--pico-border-color:var(--pico-primary-border);--pico-color:var(--pico-primary-inverse);--pico-box-shadow:var(--pico-button-box-shadow, 0 0 0 rgba(0, 0, 0, 0));padding:var(--pico-form-element-spacing-vertical) var(--pico-form-element-spacing-horizontal);border:var(--pico-border-width) solid var(--pico-border-color);border-radius:var(--pico-border-radius);outline:0;background-color:var(--pico-background-color);box-shadow:var(--pico-box-shadow);color:var(--pico-color);font-weight:var(--pico-font-weight);font-size:1rem;line-height:var(--pico-line-height);text-align:center;text-decoration:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:background-color var(--pico-transition),border-color var(--pico-transition),color var(--pico-transition),box-shadow var(--pico-transition)}[role=button]:is(:hover,:active,:focus),[role=button]:is([aria-current]:not([aria-current=false])),[type=button]:is(:hover,:active,:focus),[type=button]:is([aria-current]:not([aria-current=false])),[type=file]::file-selector-button:is(:hover,:active,:focus),[type=file]::file-selector-button:is([aria-current]:not([aria-current=false])),[type=reset]:is(:hover,:active,:focus),[type=reset]:is([aria-current]:not([aria-current=false])),[type=submit]:is(:hover,:active,:focus),[type=submit]:is([aria-current]:not([aria-current=false])),button:is(:hover,:active,:focus),button:is([aria-current]:not([aria-current=false])){--pico-background-color:var(--pico-primary-hover-background);--pico-border-color:var(--pico-primary-hover-border);--pico-box-shadow:var(--pico-button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0));--pico-color:var(--pico-primary-inverse)}[role=button]:focus,[role=button]:is([aria-current]:not([aria-current=false])):focus,[type=button]:focus,[type=button]:is([aria-current]:not([aria-current=false])):focus,[type=file]::file-selector-button:focus,[type=file]::file-selector-button:is([aria-current]:not([aria-current=false])):focus,[type=reset]:focus,[type=reset]:is([aria-current]:not([aria-current=false])):focus,[type=submit]:focus,[type=submit]:is([aria-current]:not([aria-current=false])):focus,button:focus,button:is([aria-current]:not([aria-current=false])):focus{--pico-box-shadow:var(--pico-button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0)),0 0 0 var(--pico-outline-width) var(--pico-primary-focus)}[type=button],[type=reset],[type=submit]{margin-bottom:var(--pico-spacing)}[type=file]::file-selector-button,[type=reset]{--pico-background-color:var(--pico-secondary-background);--pico-border-color:var(--pico-secondary-border);--pico-color:var(--pico-secondary-inverse);cursor:pointer}[type=file]::file-selector-button:is([aria-current]:not([aria-current=false]),:hover,:active,:focus),[type=reset]:is([aria-current]:not([aria-current=false]),:hover,:active,:focus){--pico-background-color:var(--pico-secondary-hover-background);--pico-border-color:var(--pico-secondary-hover-border);--pico-color:var(--pico-secondary-inverse)}[type=file]::file-selector-button:focus,[type=reset]:focus{--pico-box-shadow:var(--pico-button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0)),0 0 0 var(--pico-outline-width) var(--pico-secondary-focus)}:where(button,[type=submit],[type=reset],[type=button],[role=button])[disabled],:where(fieldset[disabled]) :is(button,[type=submit],[type=button],[type=reset],[role=button]){opacity:.5;pointer-events:none}:where(table){width:100%;border-collapse:collapse;border-spacing:0;text-indent:0}td,th{padding:calc(var(--pico-spacing)/ 2) var(--pico-spacing);border-bottom:var(--pico-border-width) solid var(--pico-table-border-color);background-color:var(--pico-background-color);color:var(--pico-color);font-weight:var(--pico-font-weight);text-align:left;text-align:start}tfoot td,tfoot th{border-top:var(--pico-border-width) solid var(--pico-table-border-color);border-bottom:0}table.striped tbody tr:nth-child(odd) td,table.striped tbody tr:nth-child(odd) th{background-color:var(--pico-table-row-stripped-background-color)}:where(audio,canvas,iframe,img,svg,video){vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}:where(iframe){border-style:none}img{max-width:100%;height:auto;border-style:none}:where(svg:not([fill])){fill:currentColor}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-size:.875em;font-family:var(--pico-font-family)}pre code{font-size:inherit;font-family:inherit}pre{-ms-overflow-style:scrollbar;overflow:auto}code,kbd,pre{border-radius:var(--pico-border-radius);background:var(--pico-code-background-color);color:var(--pico-code-color);font-weight:var(--pico-font-weight);line-height:initial}code,kbd{display:inline-block;padding:.375rem}pre{display:block;margin-bottom:var(--pico-spacing);overflow-x:auto}pre>code{display:block;padding:var(--pico-spacing);background:0 0;line-height:var(--pico-line-height)}kbd{background-color:var(--pico-code-kbd-background-color);color:var(--pico-code-kbd-color);vertical-align:baseline}figure{display:block;margin:0;padding:0}figure figcaption{padding:calc(var(--pico-spacing) * .5) 0;color:var(--pico-muted-color)}hr{height:0;margin:var(--pico-typography-spacing-vertical) 0;border:0;border-top:1px solid var(--pico-muted-border-color);color:inherit}[hidden],template{display:none!important}canvas{display:inline-block}input,optgroup,select,textarea{margin:0;font-size:1rem;line-height:var(--pico-line-height);font-family:inherit;letter-spacing:inherit}input{overflow:visible}select{text-transform:none}legend{max-width:100%;padding:0;color:inherit;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{padding:0}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{padding:0;border-style:none}:-moz-focusring{outline:0}:-moz-ui-invalid{box-shadow:none}::-ms-expand{display:none}[type=file],[type=range]{padding:0;border-width:0}input:not([type=checkbox],[type=radio],[type=range]){height:calc(1rem * var(--pico-line-height) + var(--pico-form-element-spacing-vertical) * 2 + var(--pico-border-width) * 2)}fieldset{width:100%;margin:0;margin-bottom:var(--pico-spacing);padding:0;border:0}fieldset legend,label{display:block;margin-bottom:calc(var(--pico-spacing) * .375);color:var(--pico-color);font-weight:var(--pico-form-label-font-weight,var(--pico-font-weight))}fieldset legend{margin-bottom:calc(var(--pico-spacing) * .5)}button[type=submit],input:not([type=checkbox],[type=radio]),select,textarea{width:100%}input:not([type=checkbox],[type=radio],[type=range],[type=file]),select,textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--pico-form-element-spacing-vertical) var(--pico-form-element-spacing-horizontal)}input,select,textarea{--pico-background-color:var(--pico-form-element-background-color);--pico-border-color:var(--pico-form-element-border-color);--pico-color:var(--pico-form-element-color);--pico-box-shadow:none;border:var(--pico-border-width) solid var(--pico-border-color);border-radius:var(--pico-border-radius);outline:0;background-color:var(--pico-background-color);box-shadow:var(--pico-box-shadow);color:var(--pico-color);font-weight:var(--pico-font-weight);transition:background-color var(--pico-transition),border-color var(--pico-transition),color var(--pico-transition),box-shadow var(--pico-transition)}:where(select,textarea):not([readonly]):is(:active,:focus),input:not([type=submit],[type=button],[type=reset],[type=checkbox],[type=radio],[readonly]):is(:active,:focus){--pico-background-color:var(--pico-form-element-active-background-color)}:where(select,textarea):not([readonly]):is(:active,:focus),input:not([type=submit],[type=button],[type=reset],[role=switch],[readonly]):is(:active,:focus){--pico-border-color:var(--pico-form-element-active-border-color)}:where(select,textarea):not([readonly]):focus,input:not([type=submit],[type=button],[type=reset],[type=range],[type=file],[readonly]):focus{--pico-box-shadow:0 0 0 var(--pico-outline-width) var(--pico-form-element-focus-color)}:where(fieldset[disabled]) :is(input:not([type=submit],[type=button],[type=reset]),select,textarea),input:not([type=submit],[type=button],[type=reset])[disabled],label[aria-disabled=true],select[disabled],textarea[disabled]{opacity:var(--pico-form-element-disabled-opacity);pointer-events:none}label[aria-disabled=true] input[disabled]{opacity:1}:where(input,select,textarea):not([type=checkbox],[type=radio],[type=date],[type=datetime-local],[type=month],[type=time],[type=week],[type=range])[aria-invalid]{padding-right:calc(var(--pico-form-element-spacing-horizontal) + 1.5rem)!important;padding-left:var(--pico-form-element-spacing-horizontal);padding-inline-start:var(--pico-form-element-spacing-horizontal)!important;padding-inline-end:calc(var(--pico-form-element-spacing-horizontal) + 1.5rem)!important;background-position:center right .75rem;background-size:1rem auto;background-repeat:no-repeat}:where(input,select,textarea):not([type=checkbox],[type=radio],[type=date],[type=datetime-local],[type=month],[type=time],[type=week],[type=range])[aria-invalid=false]:not(select){background-image:var(--pico-icon-valid)}:where(input,select,textarea):not([type=checkbox],[type=radio],[type=date],[type=datetime-local],[type=month],[type=time],[type=week],[type=range])[aria-invalid=true]:not(select){background-image:var(--pico-icon-invalid)}:where(input,select,textarea)[aria-invalid=false]{--pico-border-color:var(--pico-form-element-valid-border-color)}:where(input,select,textarea)[aria-invalid=false]:is(:active,:focus){--pico-border-color:var(--pico-form-element-valid-active-border-color)!important}:where(input,select,textarea)[aria-invalid=false]:is(:active,:focus):not([type=checkbox],[type=radio]){--pico-box-shadow:0 0 0 var(--pico-outline-width) var(--pico-form-element-valid-focus-color)!important}:where(input,select,textarea)[aria-invalid=true]{--pico-border-color:var(--pico-form-element-invalid-border-color)}:where(input,select,textarea)[aria-invalid=true]:is(:active,:focus){--pico-border-color:var(--pico-form-element-invalid-active-border-color)!important}:where(input,select,textarea)[aria-invalid=true]:is(:active,:focus):not([type=checkbox],[type=radio]){--pico-box-shadow:0 0 0 var(--pico-outline-width) var(--pico-form-element-invalid-focus-color)!important}[dir=rtl] :where(input,select,textarea):not([type=checkbox],[type=radio]):is([aria-invalid],[aria-invalid=true],[aria-invalid=false]){background-position:center left .75rem}input::-webkit-input-placeholder,input::placeholder,select:invalid,textarea::-webkit-input-placeholder,textarea::placeholder{color:var(--pico-form-element-placeholder-color);opacity:1}input:not([type=checkbox],[type=radio]),select,textarea{margin-bottom:var(--pico-spacing)}select::-ms-expand{border:0;background-color:transparent}select:not([multiple],[size]){padding-right:calc(var(--pico-form-element-spacing-horizontal) + 1.5rem);padding-left:var(--pico-form-element-spacing-horizontal);padding-inline-start:var(--pico-form-element-spacing-horizontal);padding-inline-end:calc(var(--pico-form-element-spacing-horizontal) + 1.5rem);background-image:var(--pico-icon-chevron);background-position:center right .75rem;background-size:1rem auto;background-repeat:no-repeat}select[multiple] option:checked{background:var(--pico-form-element-selected-background-color);color:var(--pico-form-element-color)}[dir=rtl] select:not([multiple],[size]){background-position:center left .75rem}textarea{display:block;resize:vertical}textarea[aria-invalid]{--pico-icon-height:calc(1rem * var(--pico-line-height) + var(--pico-form-element-spacing-vertical) * 2 + var(--pico-border-width) * 2);background-position:top right .75rem!important;background-size:1rem var(--pico-icon-height)!important}:where(input,select,textarea,fieldset)+small{display:block;width:100%;margin-top:calc(var(--pico-spacing) * -.75);margin-bottom:var(--pico-spacing);color:var(--pico-muted-color)}:where(input,select,textarea,fieldset)[aria-invalid=false]+small{color:var(--pico-ins-color)}:where(input,select,textarea,fieldset)[aria-invalid=true]+small{color:var(--pico-del-color)}label>:where(input,select,textarea){margin-top:calc(var(--pico-spacing) * .25)}label:has([type=checkbox],[type=radio]){width:-moz-fit-content;width:fit-content;cursor:pointer}[type=checkbox],[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:1.25em;height:1.25em;margin-top:-.125em;margin-inline-end:.5em;border-width:var(--pico-border-width);vertical-align:middle;cursor:pointer}[type=checkbox]::-ms-check,[type=radio]::-ms-check{display:none}[type=checkbox]:checked,[type=checkbox]:checked:active,[type=checkbox]:checked:focus,[type=radio]:checked,[type=radio]:checked:active,[type=radio]:checked:focus{--pico-background-color:var(--pico-primary-background);--pico-border-color:var(--pico-primary-border);background-image:var(--pico-icon-checkbox);background-position:center;background-size:.75em auto;background-repeat:no-repeat}[type=checkbox]~label,[type=radio]~label{display:inline-block;margin-bottom:0;cursor:pointer}[type=checkbox]~label:not(:last-of-type),[type=radio]~label:not(:last-of-type){margin-inline-end:1em}[type=checkbox]:indeterminate{--pico-background-color:var(--pico-primary-background);--pico-border-color:var(--pico-primary-border);background-image:var(--pico-icon-minus);background-position:center;background-size:.75em auto;background-repeat:no-repeat}[type=radio]{border-radius:50%}[type=radio]:checked,[type=radio]:checked:active,[type=radio]:checked:focus{--pico-background-color:var(--pico-primary-inverse);border-width:.35em;background-image:none}[type=checkbox][role=switch]{--pico-background-color:var(--pico-switch-background-color);--pico-color:var(--pico-switch-color);width:2.25em;height:1.25em;border:var(--pico-border-width) solid var(--pico-border-color);border-radius:1.25em;background-color:var(--pico-background-color);line-height:1.25em}[type=checkbox][role=switch]:not([aria-invalid]){--pico-border-color:var(--pico-switch-background-color)}[type=checkbox][role=switch]:before{display:block;aspect-ratio:1;height:100%;border-radius:50%;background-color:var(--pico-color);box-shadow:var(--pico-switch-thumb-box-shadow);content:"";transition:margin .1s ease-in-out}[type=checkbox][role=switch]:focus{--pico-background-color:var(--pico-switch-background-color);--pico-border-color:var(--pico-switch-background-color)}[type=checkbox][role=switch]:checked{--pico-background-color:var(--pico-switch-checked-background-color);--pico-border-color:var(--pico-switch-checked-background-color);background-image:none}[type=checkbox][role=switch]:checked:before{margin-inline-start:1em}[type=checkbox][role=switch][disabled]{--pico-background-color:var(--pico-border-color)}[type=checkbox][aria-invalid=false]:checked,[type=checkbox][aria-invalid=false]:checked:active,[type=checkbox][aria-invalid=false]:checked:focus,[type=checkbox][role=switch][aria-invalid=false]:checked,[type=checkbox][role=switch][aria-invalid=false]:checked:active,[type=checkbox][role=switch][aria-invalid=false]:checked:focus{--pico-background-color:var(--pico-form-element-valid-border-color)}[type=checkbox]:checked:active[aria-invalid=true],[type=checkbox]:checked:focus[aria-invalid=true],[type=checkbox]:checked[aria-invalid=true],[type=checkbox][role=switch]:checked:active[aria-invalid=true],[type=checkbox][role=switch]:checked:focus[aria-invalid=true],[type=checkbox][role=switch]:checked[aria-invalid=true]{--pico-background-color:var(--pico-form-element-invalid-border-color)}[type=checkbox][aria-invalid=false]:checked,[type=checkbox][aria-invalid=false]:checked:active,[type=checkbox][aria-invalid=false]:checked:focus,[type=checkbox][role=switch][aria-invalid=false]:checked,[type=checkbox][role=switch][aria-invalid=false]:checked:active,[type=checkbox][role=switch][aria-invalid=false]:checked:focus,[type=radio][aria-invalid=false]:checked,[type=radio][aria-invalid=false]:checked:active,[type=radio][aria-invalid=false]:checked:focus{--pico-border-color:var(--pico-form-element-valid-border-color)}[type=checkbox]:checked:active[aria-invalid=true],[type=checkbox]:checked:focus[aria-invalid=true],[type=checkbox]:checked[aria-invalid=true],[type=checkbox][role=switch]:checked:active[aria-invalid=true],[type=checkbox][role=switch]:checked:focus[aria-invalid=true],[type=checkbox][role=switch]:checked[aria-invalid=true],[type=radio]:checked:active[aria-invalid=true],[type=radio]:checked:focus[aria-invalid=true],[type=radio]:checked[aria-invalid=true]{--pico-border-color:var(--pico-form-element-invalid-border-color)}[type=color]::-webkit-color-swatch-wrapper{padding:0}[type=color]::-moz-focus-inner{padding:0}[type=color]::-webkit-color-swatch{border:0;border-radius:calc(var(--pico-border-radius) * .5)}[type=color]::-moz-color-swatch{border:0;border-radius:calc(var(--pico-border-radius) * .5)}input:not([type=checkbox],[type=radio],[type=range],[type=file]):is([type=date],[type=datetime-local],[type=month],[type=time],[type=week]){--pico-icon-position:.75rem;--pico-icon-width:1rem;padding-right:calc(var(--pico-icon-width) + var(--pico-icon-position));background-image:var(--pico-icon-date);background-position:center right var(--pico-icon-position);background-size:var(--pico-icon-width) auto;background-repeat:no-repeat}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=time]{background-image:var(--pico-icon-time)}[type=date]::-webkit-calendar-picker-indicator,[type=datetime-local]::-webkit-calendar-picker-indicator,[type=month]::-webkit-calendar-picker-indicator,[type=time]::-webkit-calendar-picker-indicator,[type=week]::-webkit-calendar-picker-indicator{width:var(--pico-icon-width);margin-right:calc(var(--pico-icon-width) * -1);margin-left:var(--pico-icon-position);opacity:0}@-moz-document url-prefix(){[type=date],[type=datetime-local],[type=month],[type=time],[type=week]{padding-right:var(--pico-form-element-spacing-horizontal)!important;background-image:none!important}}[dir=rtl] :is([type=date],[type=datetime-local],[type=month],[type=time],[type=week]){text-align:right}[type=file]{--pico-color:var(--pico-muted-color);margin-left:calc(var(--pico-outline-width) * -1);padding:calc(var(--pico-form-element-spacing-vertical) * .5) 0;padding-left:var(--pico-outline-width);border:0;border-radius:0;background:0 0}[type=file]::file-selector-button{margin-right:calc(var(--pico-spacing)/ 2);padding:calc(var(--pico-form-element-spacing-vertical) * .5) var(--pico-form-element-spacing-horizontal)}[type=file]:is(:hover,:active,:focus)::file-selector-button{--pico-background-color:var(--pico-secondary-hover-background);--pico-border-color:var(--pico-secondary-hover-border)}[type=file]:focus::file-selector-button{--pico-box-shadow:var(--pico-button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0)),0 0 0 var(--pico-outline-width) var(--pico-secondary-focus)}[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:1.25rem;background:0 0}[type=range]::-webkit-slider-runnable-track{width:100%;height:.375rem;border-radius:var(--pico-border-radius);background-color:var(--pico-range-border-color);-webkit-transition:background-color var(--pico-transition),box-shadow var(--pico-transition);transition:background-color var(--pico-transition),box-shadow var(--pico-transition)}[type=range]::-moz-range-track{width:100%;height:.375rem;border-radius:var(--pico-border-radius);background-color:var(--pico-range-border-color);-moz-transition:background-color var(--pico-transition),box-shadow var(--pico-transition);transition:background-color var(--pico-transition),box-shadow var(--pico-transition)}[type=range]::-ms-track{width:100%;height:.375rem;border-radius:var(--pico-border-radius);background-color:var(--pico-range-border-color);-ms-transition:background-color var(--pico-transition),box-shadow var(--pico-transition);transition:background-color var(--pico-transition),box-shadow var(--pico-transition)}[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:1.25rem;height:1.25rem;margin-top:-.4375rem;border:2px solid var(--pico-range-thumb-border-color);border-radius:50%;background-color:var(--pico-range-thumb-color);cursor:pointer;-webkit-transition:background-color var(--pico-transition),transform var(--pico-transition);transition:background-color var(--pico-transition),transform var(--pico-transition)}[type=range]::-moz-range-thumb{-webkit-appearance:none;width:1.25rem;height:1.25rem;margin-top:-.4375rem;border:2px solid var(--pico-range-thumb-border-color);border-radius:50%;background-color:var(--pico-range-thumb-color);cursor:pointer;-moz-transition:background-color var(--pico-transition),transform var(--pico-transition);transition:background-color var(--pico-transition),transform var(--pico-transition)}[type=range]::-ms-thumb{-webkit-appearance:none;width:1.25rem;height:1.25rem;margin-top:-.4375rem;border:2px solid var(--pico-range-thumb-border-color);border-radius:50%;background-color:var(--pico-range-thumb-color);cursor:pointer;-ms-transition:background-color var(--pico-transition),transform var(--pico-transition);transition:background-color var(--pico-transition),transform var(--pico-transition)}[type=range]:active,[type=range]:focus-within{--pico-range-border-color:var(--pico-range-active-border-color);--pico-range-thumb-color:var(--pico-range-thumb-active-color)}[type=range]:active::-webkit-slider-thumb{transform:scale(1.25)}[type=range]:active::-moz-range-thumb{transform:scale(1.25)}[type=range]:active::-ms-thumb{transform:scale(1.25)}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search]{padding-inline-start:calc(var(--pico-form-element-spacing-horizontal) + 1.75rem);background-image:var(--pico-icon-search);background-position:center left calc(var(--pico-form-element-spacing-horizontal) + .125rem);background-size:1rem auto;background-repeat:no-repeat}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid]{padding-inline-start:calc(var(--pico-form-element-spacing-horizontal) + 1.75rem)!important;background-position:center left 1.125rem,center right .75rem}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid=false]{background-image:var(--pico-icon-search),var(--pico-icon-valid)}input:not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid=true]{background-image:var(--pico-icon-search),var(--pico-icon-invalid)}[dir=rtl] :where(input):not([type=checkbox],[type=radio],[type=range],[type=file])[type=search]{background-position:center right 1.125rem}[dir=rtl] :where(input):not([type=checkbox],[type=radio],[type=range],[type=file])[type=search][aria-invalid]{background-position:center right 1.125rem,center left .75rem}details{display:block;margin-bottom:var(--pico-spacing)}details summary{line-height:1rem;list-style-type:none;cursor:pointer;transition:color var(--pico-transition)}details summary:not([role]){color:var(--pico-accordion-close-summary-color)}details summary::-webkit-details-marker{display:none}details summary::marker{display:none}details summary::-moz-list-bullet{list-style-type:none}details summary:after{display:block;width:1rem;height:1rem;margin-inline-start:calc(var(--pico-spacing,1rem) * .5);float:right;transform:rotate(-90deg);background-image:var(--pico-icon-chevron);background-position:right center;background-size:1rem auto;background-repeat:no-repeat;content:"";transition:transform var(--pico-transition)}details summary:focus{outline:0}details summary:focus:not([role]){color:var(--pico-accordion-active-summary-color)}details summary:focus-visible:not([role]){outline:var(--pico-outline-width) solid var(--pico-primary-focus);outline-offset:calc(var(--pico-spacing,1rem) * .5);color:var(--pico-primary)}details summary[role=button]{width:100%;text-align:left}details summary[role=button]:after{height:calc(1rem * var(--pico-line-height,1.5))}details[open]>summary{margin-bottom:var(--pico-spacing)}details[open]>summary:not([role]):not(:focus){color:var(--pico-accordion-open-summary-color)}details[open]>summary:after{transform:rotate(0)}[dir=rtl] details summary{text-align:right}[dir=rtl] details summary:after{float:left;background-position:left center}article{margin-bottom:var(--pico-block-spacing-vertical);padding:var(--pico-block-spacing-vertical) var(--pico-block-spacing-horizontal);border-radius:var(--pico-border-radius);background:var(--pico-card-background-color);box-shadow:var(--pico-card-box-shadow)}article>footer,article>header{margin-right:calc(var(--pico-block-spacing-horizontal) * -1);margin-left:calc(var(--pico-block-spacing-horizontal) * -1);padding:calc(var(--pico-block-spacing-vertical) * .66) var(--pico-block-spacing-horizontal);background-color:var(--pico-card-sectioning-background-color)}article>header{margin-top:calc(var(--pico-block-spacing-vertical) * -1);margin-bottom:var(--pico-block-spacing-vertical);border-bottom:var(--pico-border-width) solid var(--pico-card-border-color);border-top-right-radius:var(--pico-border-radius);border-top-left-radius:var(--pico-border-radius)}article>footer{margin-top:var(--pico-block-spacing-vertical);margin-bottom:calc(var(--pico-block-spacing-vertical) * -1);border-top:var(--pico-border-width) solid var(--pico-card-border-color);border-bottom-right-radius:var(--pico-border-radius);border-bottom-left-radius:var(--pico-border-radius)}[role=group],[role=search]{display:inline-flex;position:relative;width:100%;margin-bottom:var(--pico-spacing);border-radius:var(--pico-border-radius);box-shadow:var(--pico-group-box-shadow,0 0 0 transparent);vertical-align:middle;transition:box-shadow var(--pico-transition)}[role=group] input:not([type=checkbox],[type=radio]),[role=group] select,[role=group]>*,[role=search] input:not([type=checkbox],[type=radio]),[role=search] select,[role=search]>*{position:relative;flex:1 1 auto;margin-bottom:0}[role=group] input:not([type=checkbox],[type=radio]):not(:first-child),[role=group] select:not(:first-child),[role=group]>:not(:first-child),[role=search] input:not([type=checkbox],[type=radio]):not(:first-child),[role=search] select:not(:first-child),[role=search]>:not(:first-child){margin-left:0;border-top-left-radius:0;border-bottom-left-radius:0}[role=group] input:not([type=checkbox],[type=radio]):not(:last-child),[role=group] select:not(:last-child),[role=group]>:not(:last-child),[role=search] input:not([type=checkbox],[type=radio]):not(:last-child),[role=search] select:not(:last-child),[role=search]>:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}[role=group] input:not([type=checkbox],[type=radio]):focus,[role=group] select:focus,[role=group]>:focus,[role=search] input:not([type=checkbox],[type=radio]):focus,[role=search] select:focus,[role=search]>:focus{z-index:2}[role=group] [role=button]:not(:first-child),[role=group] [type=button]:not(:first-child),[role=group] [type=reset]:not(:first-child),[role=group] [type=submit]:not(:first-child),[role=group] button:not(:first-child),[role=group] input:not([type=checkbox],[type=radio]):not(:first-child),[role=group] select:not(:first-child),[role=search] [role=button]:not(:first-child),[role=search] [type=button]:not(:first-child),[role=search] [type=reset]:not(:first-child),[role=search] [type=submit]:not(:first-child),[role=search] button:not(:first-child),[role=search] input:not([type=checkbox],[type=radio]):not(:first-child),[role=search] select:not(:first-child){margin-left:calc(var(--pico-border-width) * -1)}[role=group] [role=button],[role=group] [type=button],[role=group] [type=reset],[role=group] [type=submit],[role=group] button,[role=search] [role=button],[role=search] [type=button],[role=search] [type=reset],[role=search] [type=submit],[role=search] button{width:auto}@supports selector(:has(*)){[role=group]:has(button:focus,[type=submit]:focus,[type=button]:focus,[role=button]:focus),[role=search]:has(button:focus,[type=submit]:focus,[type=button]:focus,[role=button]:focus){--pico-group-box-shadow:var(--pico-group-box-shadow-focus-with-button)}[role=group]:has(button:focus,[type=submit]:focus,[type=button]:focus,[role=button]:focus) input:not([type=checkbox],[type=radio]),[role=group]:has(button:focus,[type=submit]:focus,[type=button]:focus,[role=button]:focus) select,[role=search]:has(button:focus,[type=submit]:focus,[type=button]:focus,[role=button]:focus) input:not([type=checkbox],[type=radio]),[role=search]:has(button:focus,[type=submit]:focus,[type=button]:focus,[role=button]:focus) select{border-color:transparent}[role=group]:has(input:not([type=submit],[type=button]):focus,select:focus),[role=search]:has(input:not([type=submit],[type=button]):focus,select:focus){--pico-group-box-shadow:var(--pico-group-box-shadow-focus-with-input)}[role=group]:has(input:not([type=submit],[type=button]):focus,select:focus) [role=button],[role=group]:has(input:not([type=submit],[type=button]):focus,select:focus) [type=button],[role=group]:has(input:not([type=submit],[type=button]):focus,select:focus) [type=submit],[role=group]:has(input:not([type=submit],[type=button]):focus,select:focus) button,[role=search]:has(input:not([type=submit],[type=button]):focus,select:focus) [role=button],[role=search]:has(input:not([type=submit],[type=button]):focus,select:focus) [type=button],[role=search]:has(input:not([type=submit],[type=button]):focus,select:focus) [type=submit],[role=search]:has(input:not([type=submit],[type=button]):focus,select:focus) button{--pico-button-box-shadow:0 0 0 var(--pico-border-width) var(--pico-primary-border);--pico-button-hover-box-shadow:0 0 0 var(--pico-border-width) var(--pico-primary-hover-border)}[role=group] [role=button]:focus,[role=group] [type=button]:focus,[role=group] [type=reset]:focus,[role=group] [type=submit]:focus,[role=group] button:focus,[role=search] [role=button]:focus,[role=search] [type=button]:focus,[role=search] [type=reset]:focus,[role=search] [type=submit]:focus,[role=search] button:focus{box-shadow:none}}[role=search]>:first-child{border-top-left-radius:5rem;border-bottom-left-radius:5rem}[role=search]>:last-child{border-top-right-radius:5rem;border-bottom-right-radius:5rem}[aria-busy=true]:not(input,select,textarea,html){white-space:nowrap}[aria-busy=true]:not(input,select,textarea,html):before{display:inline-block;width:1em;height:1em;background-image:var(--pico-icon-loading);background-size:1em auto;background-repeat:no-repeat;content:"";vertical-align:-.125em}[aria-busy=true]:not(input,select,textarea,html):not(:empty):before{margin-inline-end:calc(var(--pico-spacing) * .5)}[aria-busy=true]:not(input,select,textarea,html):empty{text-align:center}[role=button][aria-busy=true],[type=button][aria-busy=true],[type=reset][aria-busy=true],[type=submit][aria-busy=true],a[aria-busy=true],button[aria-busy=true]{pointer-events:none}:root{--pico-scrollbar-width:0px}dialog{display:flex;z-index:999;position:fixed;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;width:inherit;min-width:100%;height:inherit;min-height:100%;padding:0;border:0;-webkit-backdrop-filter:var(--pico-modal-overlay-backdrop-filter);backdrop-filter:var(--pico-modal-overlay-backdrop-filter);background-color:var(--pico-modal-overlay-background-color);color:var(--pico-color)}dialog article{width:100%;max-height:calc(100vh - var(--pico-spacing) * 2);margin:var(--pico-spacing);overflow:auto}@media (min-width:576px){dialog article{max-width:510px}}@media (min-width:768px){dialog article{max-width:700px}}dialog article>header>*{margin-bottom:0}dialog article>header :is(a,button)[rel=prev]{margin:0;margin-left:var(--pico-spacing);padding:0;float:right}dialog article>footer{text-align:right}dialog article>footer [role=button],dialog article>footer button{margin-bottom:0}dialog article>footer [role=button]:not(:first-of-type),dialog article>footer button:not(:first-of-type){margin-left:calc(var(--pico-spacing) * .5)}dialog article :is(a,button)[rel=prev]{display:block;width:1rem;height:1rem;margin-top:calc(var(--pico-spacing) * -1);margin-bottom:var(--pico-spacing);margin-left:auto;border:none;background-image:var(--pico-icon-close);background-position:center;background-size:auto 1rem;background-repeat:no-repeat;background-color:transparent;opacity:.5;transition:opacity var(--pico-transition)}dialog article :is(a,button)[rel=prev]:is([aria-current]:not([aria-current=false]),:hover,:active,:focus){opacity:1}dialog:not([open]),dialog[open=false]{display:none}:where(nav li):before{float:left;content:"​"}nav,nav ul{display:flex}nav{justify-content:space-between;overflow:visible}nav ol,nav ul{align-items:center;margin-bottom:0;padding:0;list-style:none}nav ol:first-of-type,nav ul:first-of-type{margin-left:calc(var(--pico-nav-element-spacing-horizontal) * -1)}nav ol:last-of-type,nav ul:last-of-type{margin-right:calc(var(--pico-nav-element-spacing-horizontal) * -1)}nav li{display:inline-block;margin:0;padding:var(--pico-nav-element-spacing-vertical) var(--pico-nav-element-spacing-horizontal)}nav li :where(a,[role=link]){display:inline-block;margin:calc(var(--pico-nav-link-spacing-vertical) * -1) calc(var(--pico-nav-link-spacing-horizontal) * -1);padding:var(--pico-nav-link-spacing-vertical) var(--pico-nav-link-spacing-horizontal);border-radius:var(--pico-border-radius)}nav li :where(a,[role=link]):not(:hover){text-decoration:none}nav li [role=button],nav li [type=button],nav li button,nav li input:not([type=checkbox],[type=radio],[type=range],[type=file]),nav li select{height:auto;margin-right:inherit;margin-bottom:0;margin-left:inherit;padding:calc(var(--pico-nav-link-spacing-vertical) - var(--pico-border-width) * 2) var(--pico-nav-link-spacing-horizontal)}nav[aria-label=breadcrumb]{align-items:center;justify-content:start}nav[aria-label=breadcrumb] ul li:not(:first-child){margin-inline-start:var(--pico-nav-link-spacing-horizontal)}nav[aria-label=breadcrumb] ul li a{margin:calc(var(--pico-nav-link-spacing-vertical) * -1) 0;margin-inline-start:calc(var(--pico-nav-link-spacing-horizontal) * -1)}nav[aria-label=breadcrumb] ul li:not(:last-child):after{display:inline-block;position:absolute;width:calc(var(--pico-nav-link-spacing-horizontal) * 4);margin:0 calc(var(--pico-nav-link-spacing-horizontal) * -1);content:var(--pico-nav-breadcrumb-divider);color:var(--pico-muted-color);text-align:center;text-decoration:none;white-space:nowrap}nav[aria-label=breadcrumb] a[aria-current]:not([aria-current=false]){background-color:transparent;color:inherit;text-decoration:none;pointer-events:none}aside li,aside nav,aside ol,aside ul{display:block}aside li{padding:calc(var(--pico-nav-element-spacing-vertical) * .5) var(--pico-nav-element-spacing-horizontal)}aside li a{display:block}aside li [role=button]{margin:inherit}[dir=rtl] nav[aria-label=breadcrumb] ul li:not(:last-child) :after{content:"\\"}progress{display:inline-block;vertical-align:baseline}progress{-webkit-appearance:none;-moz-appearance:none;display:inline-block;appearance:none;width:100%;height:.5rem;margin-bottom:calc(var(--pico-spacing) * .5);overflow:hidden;border:0;border-radius:var(--pico-border-radius);background-color:var(--pico-progress-background-color);color:var(--pico-progress-color)}progress::-webkit-progress-bar{border-radius:var(--pico-border-radius);background:0 0}progress[value]::-webkit-progress-value{background-color:var(--pico-progress-color);-webkit-transition:inline-size var(--pico-transition);transition:inline-size var(--pico-transition)}progress::-moz-progress-bar{background-color:var(--pico-progress-color)}@media (prefers-reduced-motion:no-preference){progress:indeterminate{background:var(--pico-progress-background-color) linear-gradient(to right,var(--pico-progress-color) 30%,var(--pico-progress-background-color) 30%) top left/150% 150% no-repeat;animation:progress-indeterminate 1s linear infinite}progress:indeterminate[value]::-webkit-progress-value{background-color:transparent}progress:indeterminate::-moz-progress-bar{background-color:transparent}}@media (prefers-reduced-motion:no-preference){[dir=rtl] progress:indeterminate{animation-direction:reverse}}@keyframes progress-indeterminate{0%{background-position:200% 0}to{background-position:-200% 0}}[data-tooltip]{position:relative}[data-tooltip]:not(a,button,input){border-bottom:1px dotted;text-decoration:none;cursor:help}[data-tooltip]:after,[data-tooltip]:before,[data-tooltip][data-placement=top]:after,[data-tooltip][data-placement=top]:before{display:block;z-index:99;position:absolute;bottom:100%;left:50%;padding:.25rem .5rem;overflow:hidden;transform:translate(-50%,-.25rem);border-radius:var(--pico-border-radius);background:var(--pico-tooltip-background-color);content:attr(data-tooltip);color:var(--pico-tooltip-color);font-style:normal;font-weight:var(--pico-font-weight);font-size:.875rem;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;opacity:0;pointer-events:none}[data-tooltip]:after,[data-tooltip][data-placement=top]:after{padding:0;transform:translate(-50%);border-top:.3rem solid;border-right:.3rem solid transparent;border-left:.3rem solid transparent;border-radius:0;background-color:transparent;content:"";color:var(--pico-tooltip-background-color)}[data-tooltip][data-placement=bottom]:after,[data-tooltip][data-placement=bottom]:before{top:100%;bottom:auto;transform:translate(-50%,.25rem)}[data-tooltip][data-placement=bottom]:after{transform:translate(-50%,-.3rem);border:.3rem solid transparent;border-bottom:.3rem solid}[data-tooltip][data-placement=left]:after,[data-tooltip][data-placement=left]:before{top:50%;right:100%;bottom:auto;left:auto;transform:translate(-.25rem,-50%)}[data-tooltip][data-placement=left]:after{transform:translate(.3rem,-50%);border:.3rem solid transparent;border-left:.3rem solid}[data-tooltip][data-placement=right]:after,[data-tooltip][data-placement=right]:before{top:50%;right:auto;bottom:auto;left:100%;transform:translate(.25rem,-50%)}[data-tooltip][data-placement=right]:after{transform:translate(-.3rem,-50%);border:.3rem solid transparent;border-right:.3rem solid}[data-tooltip]:focus:after,[data-tooltip]:focus:before,[data-tooltip]:hover:after,[data-tooltip]:hover:before{opacity:1}@media (hover:hover) and (pointer:fine){[data-tooltip]:focus:after,[data-tooltip]:focus:before,[data-tooltip]:hover:after,[data-tooltip]:hover:before{--pico-tooltip-slide-to:translate(-50%, -.25rem);transform:translate(-50%,.75rem);animation-duration:.2s;animation-fill-mode:forwards;animation-name:tooltip-slide;opacity:0}[data-tooltip]:focus:after,[data-tooltip]:hover:after{--pico-tooltip-caret-slide-to:translate(-50%, 0rem);transform:translate(-50%,-.25rem);animation-name:tooltip-caret-slide}[data-tooltip][data-placement=bottom]:focus:after,[data-tooltip][data-placement=bottom]:focus:before,[data-tooltip][data-placement=bottom]:hover:after,[data-tooltip][data-placement=bottom]:hover:before{--pico-tooltip-slide-to:translate(-50%, .25rem);transform:translate(-50%,-.75rem);animation-name:tooltip-slide}[data-tooltip][data-placement=bottom]:focus:after,[data-tooltip][data-placement=bottom]:hover:after{--pico-tooltip-caret-slide-to:translate(-50%, -.3rem);transform:translate(-50%,-.5rem);animation-name:tooltip-caret-slide}[data-tooltip][data-placement=left]:focus:after,[data-tooltip][data-placement=left]:focus:before,[data-tooltip][data-placement=left]:hover:after,[data-tooltip][data-placement=left]:hover:before{--pico-tooltip-slide-to:translate(-.25rem, -50%);transform:translate(.75rem,-50%);animation-name:tooltip-slide}[data-tooltip][data-placement=left]:focus:after,[data-tooltip][data-placement=left]:hover:after{--pico-tooltip-caret-slide-to:translate(.3rem, -50%);transform:translate(.05rem,-50%);animation-name:tooltip-caret-slide}[data-tooltip][data-placement=right]:focus:after,[data-tooltip][data-placement=right]:focus:before,[data-tooltip][data-placement=right]:hover:after,[data-tooltip][data-placement=right]:hover:before{--pico-tooltip-slide-to:translate(.25rem, -50%);transform:translate(-.75rem,-50%);animation-name:tooltip-slide}[data-tooltip][data-placement=right]:focus:after,[data-tooltip][data-placement=right]:hover:after{--pico-tooltip-caret-slide-to:translate(-.3rem, -50%);transform:translate(-.05rem,-50%);animation-name:tooltip-caret-slide}}@keyframes tooltip-slide{to{transform:var(--pico-tooltip-slide-to);opacity:1}}@keyframes tooltip-caret-slide{50%{opacity:0}to{transform:var(--pico-tooltip-caret-slide-to);opacity:1}}[aria-controls]{cursor:pointer}[aria-disabled=true],[disabled]{cursor:not-allowed}[aria-hidden=false][hidden]{display:initial}[aria-hidden=false][hidden]:not(:focus){clip:rect(0,0,0,0);position:absolute}[tabindex],a,area,button,input,label,select,summary,textarea{-ms-touch-action:manipulation}[dir=rtl]{direction:rtl}@media (prefers-reduced-motion:reduce){:not([aria-busy=true]),:not([aria-busy=true]):after,:not([aria-busy=true]):before{background-attachment:initial!important;animation-duration:1ms!important;animation-delay:-1ms!important;animation-iteration-count:1!important;scroll-behavior:auto!important;transition-delay:0s!important;transition-duration:0s!important}}.dropzone[data-v-aac8c976]{width:200px;height:200px;border:2px solid lightblue}sidebar[data-v-aac8c976]{min-width:280px;max-height:calc(100vh - 90px);min-height:calc(100vh - 90px);overflow-y:scroll}sidebar details[open]>summary[data-v-aac8c976]{background-color:#f2994a;color:#fff!important}main[data-v-aac8c976]{display:flex;flex-direction:row;flex-grow:1}nav[data-v-aac8c976]{margin-right:10px}a.disabled[data-v-aac8c976]{pointer-events:none;opacity:.2}@media (min-width: 1024px){sidebar[data-v-aac8c976]{min-width:200px}}.mono[data-v-16692bab]{font-family:monospace;font-size:16px}pre[data-v-8b4d428f]{overflow-y:scroll}.about[data-v-8b4d428f]{display:flex;flex-direction:column;max-height:100vh}button[data-v-4a28b15d],select[data-v-4a28b15d],input[type=text][data-v-4a28b15d],input[type=number][data-v-4a28b15d]{flex:0 1 min-content}input[type=range]#end[data-v-4a28b15d]::-moz-range-progress{z-index:1;background-color:#43e5f7}input[type=range]#begin[data-v-4a28b15d]::-moz-range-progress{z-index:1;background-color:gray}:is()[data-v-4a28b15d]{z-index:1;background-color:transparent}:is() [data-v-4a28b15d]:hover{background-color:red;z-index:1}input[type=range][data-v-4a28b15d]::-moz-range-thumb{z-index:10}.sliders[data-v-4a28b15d]{flex:1 0 max-content;display:flex;flex-direction:column}container[data-v-8634a1ba]{display:flex;flex-direction:column;box-sizing:border-box;height:100%;width:100%}content[data-v-8634a1ba]{height:100%;display:flex;flex-direction:row}content #preview[data-v-8634a1ba]{flex-grow:1}content textarea[data-v-8634a1ba]{flex-grow:1;height:100%;width:50%;font-family:monospace;font-size:14px;resize:horizontal}content textarea[data-v-8634a1ba]:read-only{color:gray}content-footer[data-v-8634a1ba]{text-align:right;margin-right:20px;width:100%}container[data-v-c65af1a4]{display:flex;flex-direction:column;box-sizing:border-box;height:100%;width:100%}textarea[data-v-c65af1a4]{flex-grow:1;font-family:monospace;font-size:14px}content-footer[data-v-c65af1a4]{text-align:right;margin-right:20px;width:100%}</style>
  </head>
  <body>
    <div id="root">
      This file should not be rendered in the spine. If you're seeing this the
      epub-editor app isn't loading.
    </div>
  </body>
</html>
