<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII="
      rel="icon"
      type="image/x-icon"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EDITME.html</title>
    <script type="module" crossorigin>var Uye=Object.defineProperty;var wF=e=>{throw TypeError(e)};var Wye=(e,t,r)=>t in e?Uye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tr=(e,t,r)=>Wye(e,typeof t!="symbol"?t+"":t,r),zye=(e,t,r)=>t.has(e)||wF("Cannot "+r);var EF=(e,t,r)=>t.has(e)?wF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var ny=(e,t,r)=>(zye(e,t,"access private method"),r);function Gye(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vN(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ur={},X1=[],ru=()=>{},Yye=()=>!1,PS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),yN=e=>e.startsWith("onUpdate:"),Ca=Object.assign,bN=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Vye=Object.prototype.hasOwnProperty,qr=(e,t)=>Vye.call(e,t),Kt=Array.isArray,K1=e=>Rx(e)==="[object Map]",lv=e=>Rx(e)==="[object Set]",SF=e=>Rx(e)==="[object Date]",pr=e=>typeof e=="function",Ri=e=>typeof e=="string",pc=e=>typeof e=="symbol",xn=e=>e!==null&&typeof e=="object",EK=e=>(xn(e)||pr(e))&&pr(e.then)&&pr(e.catch),SK=Object.prototype.toString,Rx=e=>SK.call(e),qye=e=>Rx(e).slice(8,-1),AK=e=>Rx(e)==="[object Object]",xN=e=>Ri(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,A2=vN(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),FS=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},jye=/-(\w)/g,$o=FS(e=>e.replace(jye,(t,r)=>r?r.toUpperCase():"")),Xye=/\B([A-Z])/g,Ph=FS(e=>e.replace(Xye,"-$1").toLowerCase()),BS=FS(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ok=FS(e=>e?`on${BS(e)}`:""),qs=(e,t)=>!Object.is(e,t),$4=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},kK=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Xw=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let AF;const $S=()=>AF||(AF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function HS(e){if(Kt(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],a=Ri(n)?Jye(n):HS(n);if(a)for(const o in a)t[o]=a[o]}return t}else if(Ri(e)||xn(e))return e}const Kye=/;(?![^(]*\))/g,Zye=/:([^]+)/,Qye=/\/\*[^]*?\*\//g;function Jye(e){const t={};return e.replace(Qye,"").split(Kye).forEach(r=>{if(r){const n=r.split(Zye);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ku(e){let t="";if(Ri(e))t=e;else if(Kt(e))for(let r=0;r<e.length;r++){const n=Ku(e[r]);n&&(t+=n+" ")}else if(xn(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const e2e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",t2e=vN(e2e);function CK(e){return!!e||e===""}function r2e(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Ox(e[n],t[n]);return r}function Ox(e,t){if(e===t)return!0;let r=SF(e),n=SF(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=pc(e),n=pc(t),r||n)return e===t;if(r=Kt(e),n=Kt(t),r||n)return r&&n?r2e(e,t):!1;if(r=xn(e),n=xn(t),r||n){if(!r||!n)return!1;const a=Object.keys(e).length,o=Object.keys(t).length;if(a!==o)return!1;for(const l in e){const c=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(c&&!u||!c&&u||!Ox(e[l],t[l]))return!1}}return String(e)===String(t)}function TN(e,t){return e.findIndex(r=>Ox(r,t))}const IK=e=>!!(e&&e.__v_isRef===!0),Ya=e=>Ri(e)?e:e==null?"":Kt(e)||xn(e)&&(e.toString===SK||!pr(e.toString))?IK(e)?Ya(e.value):JSON.stringify(e,RK,2):String(e),RK=(e,t)=>IK(t)?RK(e,t.value):K1(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,a],o)=>(r[_k(n,o)+" =>"]=a,r),{})}:lv(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>_k(r))}:pc(t)?_k(t):xn(t)&&!Kt(t)&&!AK(t)?String(t):t,_k=(e,t="")=>{var r;return pc(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vs;class OK{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vs,!t&&vs&&(this.index=(vs.scopes||(vs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=vs;try{return vs=this,t()}finally{vs=r}}}on(){vs=this}off(){vs=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function _K(e){return new OK(e)}function wN(){return vs}function NK(e,t=!1){vs&&vs.cleanups.push(e)}let vn;const Nk=new WeakSet;class LK{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vs&&vs.active&&vs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nk.has(this)&&(Nk.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||DK(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,kF(this),PK(this);const t=vn,r=rc;vn=this,rc=!0;try{return this.fn()}finally{FK(this),vn=t,rc=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)AN(t);this.deps=this.depsTail=void 0,kF(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nk.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){K7(this)&&this.run()}get dirty(){return K7(this)}}let MK=0,k2,C2;function DK(e,t=!1){if(e.flags|=8,t){e.next=C2,C2=e;return}e.next=k2,k2=e}function EN(){MK++}function SN(){if(--MK>0)return;if(C2){let t=C2;for(C2=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;k2;){let t=k2;for(k2=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function PK(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function FK(e){let t,r=e.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),AN(n),n2e(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=r}function K7(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(BK(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function BK(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===lb))return;e.globalVersion=lb;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!K7(e)){e.flags&=-3;return}const r=vn,n=rc;vn=e,rc=!0;try{PK(e);const a=e.fn(e._value);(t.version===0||qs(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{vn=r,rc=n,FK(e),e.flags&=-3}}function AN(e,t=!1){const{dep:r,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)AN(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function n2e(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let rc=!0;const $K=[];function gf(){$K.push(rc),rc=!1}function mf(){const e=$K.pop();rc=e===void 0?!0:e}function kF(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=vn;vn=void 0;try{t()}finally{vn=r}}}let lb=0;class i2e{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class US{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!vn||!rc||vn===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==vn)r=this.activeLink=new i2e(vn,this),vn.deps?(r.prevDep=vn.depsTail,vn.depsTail.nextDep=r,vn.depsTail=r):vn.deps=vn.depsTail=r,HK(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=vn.depsTail,r.nextDep=void 0,vn.depsTail.nextDep=r,vn.depsTail=r,vn.deps===r&&(vn.deps=n)}return r}trigger(t){this.version++,lb++,this.notify(t)}notify(t){EN();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{SN()}}}function HK(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)HK(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Kw=new WeakMap,Ld=Symbol(""),Z7=Symbol(""),cb=Symbol("");function Va(e,t,r){if(rc&&vn){let n=Kw.get(e);n||Kw.set(e,n=new Map);let a=n.get(r);a||(n.set(r,a=new US),a.map=n,a.key=r),a.track()}}function Zu(e,t,r,n,a,o){const l=Kw.get(e);if(!l){lb++;return}const c=u=>{u&&u.trigger()};if(EN(),t==="clear")l.forEach(c);else{const u=Kt(e),h=u&&xN(r);if(u&&r==="length"){const f=Number(n);l.forEach((d,p)=>{(p==="length"||p===cb||!pc(p)&&p>=f)&&c(d)})}else switch((r!==void 0||l.has(void 0))&&c(l.get(r)),h&&c(l.get(cb)),t){case"add":u?h&&c(l.get("length")):(c(l.get(Ld)),K1(e)&&c(l.get(Z7)));break;case"delete":u||(c(l.get(Ld)),K1(e)&&c(l.get(Z7)));break;case"set":K1(e)&&c(l.get(Ld));break}}SN()}function a2e(e,t){const r=Kw.get(e);return r&&r.get(t)}function Xp(e){const t=Mr(e);return t===e?t:(Va(t,"iterate",cb),gl(e)?t:t.map(qa))}function WS(e){return Va(e=Mr(e),"iterate",cb),e}const s2e={__proto__:null,[Symbol.iterator](){return Lk(this,Symbol.iterator,qa)},concat(...e){return Xp(this).concat(...e.map(t=>Kt(t)?Xp(t):t))},entries(){return Lk(this,"entries",e=>(e[1]=qa(e[1]),e))},every(e,t){return Mu(this,"every",e,t,void 0,arguments)},filter(e,t){return Mu(this,"filter",e,t,r=>r.map(qa),arguments)},find(e,t){return Mu(this,"find",e,t,qa,arguments)},findIndex(e,t){return Mu(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Mu(this,"findLast",e,t,qa,arguments)},findLastIndex(e,t){return Mu(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Mu(this,"forEach",e,t,void 0,arguments)},includes(...e){return Mk(this,"includes",e)},indexOf(...e){return Mk(this,"indexOf",e)},join(e){return Xp(this).join(e)},lastIndexOf(...e){return Mk(this,"lastIndexOf",e)},map(e,t){return Mu(this,"map",e,t,void 0,arguments)},pop(){return iy(this,"pop")},push(...e){return iy(this,"push",e)},reduce(e,...t){return CF(this,"reduce",e,t)},reduceRight(e,...t){return CF(this,"reduceRight",e,t)},shift(){return iy(this,"shift")},some(e,t){return Mu(this,"some",e,t,void 0,arguments)},splice(...e){return iy(this,"splice",e)},toReversed(){return Xp(this).toReversed()},toSorted(e){return Xp(this).toSorted(e)},toSpliced(...e){return Xp(this).toSpliced(...e)},unshift(...e){return iy(this,"unshift",e)},values(){return Lk(this,"values",qa)}};function Lk(e,t,r){const n=WS(e),a=n[t]();return n!==e&&!gl(e)&&(a._next=a.next,a.next=()=>{const o=a._next();return o.value&&(o.value=r(o.value)),o}),a}const o2e=Array.prototype;function Mu(e,t,r,n,a,o){const l=WS(e),c=l!==e&&!gl(e),u=l[t];if(u!==o2e[t]){const d=u.apply(e,o);return c?qa(d):d}let h=r;l!==e&&(c?h=function(d,p){return r.call(this,qa(d),p,e)}:r.length>2&&(h=function(d,p){return r.call(this,d,p,e)}));const f=u.call(l,h,n);return c&&a?a(f):f}function CF(e,t,r,n){const a=WS(e);let o=r;return a!==e&&(gl(e)?r.length>3&&(o=function(l,c,u){return r.call(this,l,c,u,e)}):o=function(l,c,u){return r.call(this,l,qa(c),u,e)}),a[t](o,...n)}function Mk(e,t,r){const n=Mr(e);Va(n,"iterate",cb);const a=n[t](...r);return(a===-1||a===!1)&&IN(r[0])?(r[0]=Mr(r[0]),n[t](...r)):a}function iy(e,t,r=[]){gf(),EN();const n=Mr(e)[t].apply(e,r);return SN(),mf(),n}const l2e=vN("__proto__,__v_isRef,__isVue"),UK=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pc));function c2e(e){pc(e)||(e=String(e));const t=Mr(this);return Va(t,"has",e),t.hasOwnProperty(e)}class WK{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const a=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(a?o?b2e:VK:o?YK:GK).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const l=Kt(t);if(!a){let u;if(l&&(u=s2e[r]))return u;if(r==="hasOwnProperty")return c2e}const c=Reflect.get(t,r,qn(t)?t:n);return(pc(r)?UK.has(r):l2e(r))||(a||Va(t,"get",r),o)?c:qn(c)?l&&xN(r)?c:c.value:xn(c)?a?zS(c):_x(c):c}}class zK extends WK{constructor(t=!1){super(!1,t)}set(t,r,n,a){let o=t[r];if(!this._isShallow){const u=Wd(o);if(!gl(n)&&!Wd(n)&&(o=Mr(o),n=Mr(n)),!Kt(t)&&qn(o)&&!qn(n))return u?!1:(o.value=n,!0)}const l=Kt(t)&&xN(r)?Number(r)<t.length:qr(t,r),c=Reflect.set(t,r,n,qn(t)?t:a);return t===Mr(a)&&(l?qs(n,o)&&Zu(t,"set",r,n):Zu(t,"add",r,n)),c}deleteProperty(t,r){const n=qr(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&n&&Zu(t,"delete",r,void 0),a}has(t,r){const n=Reflect.has(t,r);return(!pc(r)||!UK.has(r))&&Va(t,"has",r),n}ownKeys(t){return Va(t,"iterate",Kt(t)?"length":Ld),Reflect.ownKeys(t)}}class u2e extends WK{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const h2e=new zK,f2e=new u2e,d2e=new zK(!0);const Q7=e=>e,J3=e=>Reflect.getPrototypeOf(e);function p2e(e,t,r){return function(...n){const a=this.__v_raw,o=Mr(a),l=K1(o),c=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,h=a[e](...n),f=r?Q7:t?J7:qa;return!t&&Va(o,"iterate",u?Z7:Ld),{next(){const{value:d,done:p}=h.next();return p?{value:d,done:p}:{value:c?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function eT(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function g2e(e,t){const r={get(a){const o=this.__v_raw,l=Mr(o),c=Mr(a);e||(qs(a,c)&&Va(l,"get",a),Va(l,"get",c));const{has:u}=J3(l),h=t?Q7:e?J7:qa;if(u.call(l,a))return h(o.get(a));if(u.call(l,c))return h(o.get(c));o!==l&&o.get(a)},get size(){const a=this.__v_raw;return!e&&Va(Mr(a),"iterate",Ld),Reflect.get(a,"size",a)},has(a){const o=this.__v_raw,l=Mr(o),c=Mr(a);return e||(qs(a,c)&&Va(l,"has",a),Va(l,"has",c)),a===c?o.has(a):o.has(a)||o.has(c)},forEach(a,o){const l=this,c=l.__v_raw,u=Mr(c),h=t?Q7:e?J7:qa;return!e&&Va(u,"iterate",Ld),c.forEach((f,d)=>a.call(o,h(f),h(d),l))}};return Ca(r,e?{add:eT("add"),set:eT("set"),delete:eT("delete"),clear:eT("clear")}:{add(a){!t&&!gl(a)&&!Wd(a)&&(a=Mr(a));const o=Mr(this);return J3(o).has.call(o,a)||(o.add(a),Zu(o,"add",a,a)),this},set(a,o){!t&&!gl(o)&&!Wd(o)&&(o=Mr(o));const l=Mr(this),{has:c,get:u}=J3(l);let h=c.call(l,a);h||(a=Mr(a),h=c.call(l,a));const f=u.call(l,a);return l.set(a,o),h?qs(o,f)&&Zu(l,"set",a,o):Zu(l,"add",a,o),this},delete(a){const o=Mr(this),{has:l,get:c}=J3(o);let u=l.call(o,a);u||(a=Mr(a),u=l.call(o,a)),c&&c.call(o,a);const h=o.delete(a);return u&&Zu(o,"delete",a,void 0),h},clear(){const a=Mr(this),o=a.size!==0,l=a.clear();return o&&Zu(a,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=p2e(a,e,t)}),r}function kN(e,t){const r=g2e(e,t);return(n,a,o)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(qr(r,a)&&a in n?r:n,a,o)}const m2e={get:kN(!1,!1)},v2e={get:kN(!1,!0)},y2e={get:kN(!0,!1)};const GK=new WeakMap,YK=new WeakMap,VK=new WeakMap,b2e=new WeakMap;function x2e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function T2e(e){return e.__v_skip||!Object.isExtensible(e)?0:x2e(qye(e))}function _x(e){return Wd(e)?e:CN(e,!1,h2e,m2e,GK)}function qK(e){return CN(e,!1,d2e,v2e,YK)}function zS(e){return CN(e,!0,f2e,y2e,VK)}function CN(e,t,r,n,a){if(!xn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const l=T2e(e);if(l===0)return e;const c=new Proxy(e,l===2?n:r);return a.set(e,c),c}function L0(e){return Wd(e)?L0(e.__v_raw):!!(e&&e.__v_isReactive)}function Wd(e){return!!(e&&e.__v_isReadonly)}function gl(e){return!!(e&&e.__v_isShallow)}function IN(e){return e?!!e.__v_raw:!1}function Mr(e){const t=e&&e.__v_raw;return t?Mr(t):e}function RN(e){return!qr(e,"__v_skip")&&Object.isExtensible(e)&&kK(e,"__v_skip",!0),e}const qa=e=>xn(e)?_x(e):e,J7=e=>xn(e)?zS(e):e;function qn(e){return e?e.__v_isRef===!0:!1}function or(e){return jK(e,!1)}function ub(e){return jK(e,!0)}function jK(e,t){return qn(e)?e:new w2e(e,t)}class w2e{constructor(t,r){this.dep=new US,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Mr(t),this._value=r?t:qa(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||gl(t)||Wd(t);t=n?t:Mr(t),qs(t,r)&&(this._rawValue=t,this._value=n?t:qa(t),this.dep.trigger())}}function Vr(e){return qn(e)?e.value:e}const E2e={get:(e,t,r)=>t==="__v_raw"?e:Vr(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const a=e[t];return qn(a)&&!qn(r)?(a.value=r,!0):Reflect.set(e,t,r,n)}};function XK(e){return L0(e)?e:new Proxy(e,E2e)}class S2e{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new US,{get:n,set:a}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=a}get value(){return this._value=this._get()}set value(t){this._set(t)}}function A2e(e){return new S2e(e)}function k2e(e){const t=Kt(e)?new Array(e.length):{};for(const r in e)t[r]=I2e(e,r);return t}class C2e{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return a2e(Mr(this._object),this._key)}}function I2e(e,t,r){const n=e[t];return qn(n)?n:new C2e(e,t,r)}class R2e{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new US(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lb-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&vn!==this)return DK(this,!0),!0}get value(){const t=this.dep.track();return BK(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function O2e(e,t,r=!1){let n,a;return pr(e)?n=e:(n=e.get,a=e.set),new R2e(n,a,r)}const tT={},Zw=new WeakMap;let Jf;function _2e(e,t=!1,r=Jf){if(r){let n=Zw.get(r);n||Zw.set(r,n=[]),n.push(e)}}function N2e(e,t,r=Ur){const{immediate:n,deep:a,once:o,scheduler:l,augmentJob:c,call:u}=r,h=E=>a?E:gl(E)||a===!1||a===0?Qu(E,1):Qu(E);let f,d,p,g,m=!1,y=!1;if(qn(e)?(d=()=>e.value,m=gl(e)):L0(e)?(d=()=>h(e),m=!0):Kt(e)?(y=!0,m=e.some(E=>L0(E)||gl(E)),d=()=>e.map(E=>{if(qn(E))return E.value;if(L0(E))return h(E);if(pr(E))return u?u(E,2):E()})):pr(e)?t?d=u?()=>u(e,2):e:d=()=>{if(p){gf();try{p()}finally{mf()}}const E=Jf;Jf=f;try{return u?u(e,3,[g]):e(g)}finally{Jf=E}}:d=ru,t&&a){const E=d,S=a===!0?1/0:a;d=()=>Qu(E(),S)}const b=wN(),x=()=>{f.stop(),b&&b.active&&bN(b.effects,f)};if(o&&t){const E=t;t=(...S)=>{E(...S),x()}}let T=y?new Array(e.length).fill(tT):tT;const w=E=>{if(!(!(f.flags&1)||!f.dirty&&!E))if(t){const S=f.run();if(a||m||(y?S.some((C,k)=>qs(C,T[k])):qs(S,T))){p&&p();const C=Jf;Jf=f;try{const k=[S,T===tT?void 0:y&&T[0]===tT?[]:T,g];u?u(t,3,k):t(...k),T=S}finally{Jf=C}}}else f.run()};return c&&c(w),f=new LK(d),f.scheduler=l?()=>l(w,!1):w,g=E=>_2e(E,!1,f),p=f.onStop=()=>{const E=Zw.get(f);if(E){if(u)u(E,4);else for(const S of E)S();Zw.delete(f)}},t?n?w(!0):T=f.run():l?l(w.bind(null,!0),!0):f.run(),x.pause=f.pause.bind(f),x.resume=f.resume.bind(f),x.stop=x,x}function Qu(e,t=1/0,r){if(t<=0||!xn(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,qn(e))Qu(e.value,t,r);else if(Kt(e))for(let n=0;n<e.length;n++)Qu(e[n],t,r);else if(lv(e)||K1(e))e.forEach(n=>{Qu(n,t,r)});else if(AK(e)){for(const n in e)Qu(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Qu(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nx(e,t,r,n){try{return n?e(...n):e()}catch(a){GS(a,t,r)}}function hu(e,t,r,n){if(pr(e)){const a=Nx(e,t,r,n);return a&&EK(a)&&a.catch(o=>{GS(o,t,r)}),a}if(Kt(e)){const a=[];for(let o=0;o<e.length;o++)a.push(hu(e[o],t,r,n));return a}}function GS(e,t,r,n=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Ur;if(t){let c=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;c;){const f=c.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,u,h)===!1)return}c=c.parent}if(o){gf(),Nx(o,null,10,[e,u,h]),mf();return}}L2e(e,r,a,n,l)}function L2e(e,t,r,n=!0,a=!1){if(a)throw e;console.error(e)}const bs=[];let Fc=-1;const Z1=[];let g0=null,E1=0;const KK=Promise.resolve();let Qw=null;function Sp(e){const t=Qw||KK;return e?t.then(this?e.bind(this):e):t}function M2e(e){let t=Fc+1,r=bs.length;for(;t<r;){const n=t+r>>>1,a=bs[n],o=hb(a);o<e||o===e&&a.flags&2?t=n+1:r=n}return t}function ON(e){if(!(e.flags&1)){const t=hb(e),r=bs[bs.length-1];!r||!(e.flags&2)&&t>=hb(r)?bs.push(e):bs.splice(M2e(t),0,e),e.flags|=1,ZK()}}function ZK(){Qw||(Qw=KK.then(JK))}function D2e(e){Kt(e)?Z1.push(...e):g0&&e.id===-1?g0.splice(E1+1,0,e):e.flags&1||(Z1.push(e),e.flags|=1),ZK()}function IF(e,t,r=Fc+1){for(;r<bs.length;r++){const n=bs[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;bs.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function QK(e){if(Z1.length){const t=[...new Set(Z1)].sort((r,n)=>hb(r)-hb(n));if(Z1.length=0,g0){g0.push(...t);return}for(g0=t,E1=0;E1<g0.length;E1++){const r=g0[E1];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}g0=null,E1=0}}const hb=e=>e.id==null?e.flags&2?-1:1/0:e.id;function JK(e){try{for(Fc=0;Fc<bs.length;Fc++){const t=bs[Fc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Nx(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Fc<bs.length;Fc++){const t=bs[Fc];t&&(t.flags&=-2)}Fc=-1,bs.length=0,QK(),Qw=null,(bs.length||Z1.length)&&JK()}}let zi=null,eZ=null;function Jw(e){const t=zi;return zi=e,eZ=e&&e.type.__scopeId||null,t}function Qy(e,t=zi,r){if(!t||e._n)return e;const n=(...a)=>{n._d&&BF(-1);const o=Jw(t);let l;try{l=e(...a)}finally{Jw(o),n._d&&BF(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function Wa(e,t){if(zi===null)return e;const r=XS(zi),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,l,c,u=Ur]=t[a];o&&(pr(o)&&(o={mounted:o,updated:o}),o.deep&&Qu(l),n.push({dir:o,instance:r,value:l,oldValue:void 0,arg:c,modifiers:u}))}return e}function Pf(e,t,r,n){const a=e.dirs,o=t&&t.dirs;for(let l=0;l<a.length;l++){const c=a[l];o&&(c.oldValue=o[l].value);let u=c.dir[n];u&&(gf(),hu(u,r,8,[e.el,c,e,t]),mf())}}const P2e=Symbol("_vte"),F2e=e=>e.__isTeleport;function _N(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_N(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Fh(e,t){return pr(e)?Ca({name:e.name},t,{setup:e}):e}function tZ(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function RF(e){const t=jS(),r=ub(null);if(t){const a=t.refs===Ur?t.refs={}:t.refs;Object.defineProperty(a,e,{enumerable:!0,get:()=>r.value,set:o=>r.value=o})}return r}function e5(e,t,r,n,a=!1){if(Kt(e)){e.forEach((m,y)=>e5(m,t&&(Kt(t)?t[y]:t),r,n,a));return}if(Q1(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&e5(e,t,r,n.component.subTree);return}const o=n.shapeFlag&4?XS(n.component):n.el,l=a?null:o,{i:c,r:u}=e,h=t&&t.r,f=c.refs===Ur?c.refs={}:c.refs,d=c.setupState,p=Mr(d),g=d===Ur?()=>!1:m=>qr(p,m);if(h!=null&&h!==u&&(Ri(h)?(f[h]=null,g(h)&&(d[h]=null)):qn(h)&&(h.value=null)),pr(u))Nx(u,c,12,[l,f]);else{const m=Ri(u),y=qn(u);if(m||y){const b=()=>{if(e.f){const x=m?g(u)?d[u]:f[u]:u.value;a?Kt(x)&&bN(x,o):Kt(x)?x.includes(o)||x.push(o):m?(f[u]=[o],g(u)&&(d[u]=f[u])):(u.value=[o],e.k&&(f[e.k]=u.value))}else m?(f[u]=l,g(u)&&(d[u]=l)):y&&(u.value=l,e.k&&(f[e.k]=l))};l?(b.id=-1,Eo(b,r)):b()}}}$S().requestIdleCallback;$S().cancelIdleCallback;const Q1=e=>!!e.type.__asyncLoader,rZ=e=>e.type.__isKeepAlive;function B2e(e,t){nZ(e,"a",t)}function $2e(e,t){nZ(e,"da",t)}function nZ(e,t,r=ia){const n=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(YS(t,n,r),r){let a=r.parent;for(;a&&a.parent;)rZ(a.parent.vnode)&&H2e(n,t,r,a),a=a.parent}}function H2e(e,t,r,n){const a=YS(t,e,n,!0);NN(()=>{bN(n[t],a)},r)}function YS(e,t,r=ia,n=!1){if(r){const a=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...l)=>{gf();const c=Lx(r),u=hu(t,r,e,l);return c(),mf(),u});return n?a.unshift(o):a.push(o),o}}const Bh=e=>(t,r=ia)=>{(!gb||e==="sp")&&YS(e,(...n)=>t(...n),r)},U2e=Bh("bm"),cv=Bh("m"),W2e=Bh("bu"),z2e=Bh("u"),G2e=Bh("bum"),NN=Bh("um"),Y2e=Bh("sp"),V2e=Bh("rtg"),q2e=Bh("rtc");function j2e(e,t=ia){YS("ec",e,t)}const X2e="components";function Dk(e,t){return Z2e(X2e,e,!0,t)||e}const K2e=Symbol.for("v-ndc");function Z2e(e,t,r=!0,n=!1){const a=zi||ia;if(a){const o=a.type;{const c=Hbe(o,!1);if(c&&(c===t||c===$o(t)||c===BS($o(t))))return o}const l=OF(a[e]||o[e],t)||OF(a.appContext[e],t);return!l&&n?o:l}}function OF(e,t){return e&&(e[t]||e[$o(t)]||e[BS($o(t))])}function t5(e,t,r,n){let a;const o=r,l=Kt(e);if(l||Ri(e)){const c=l&&L0(e);let u=!1;c&&(u=!gl(e),e=WS(e)),a=new Array(e.length);for(let h=0,f=e.length;h<f;h++)a[h]=t(u?qa(e[h]):e[h],h,void 0,o)}else if(typeof e=="number"){a=new Array(e);for(let c=0;c<e;c++)a[c]=t(c+1,c,void 0,o)}else if(xn(e))if(e[Symbol.iterator])a=Array.from(e,(c,u)=>t(c,u,void 0,o));else{const c=Object.keys(e);a=new Array(c.length);for(let u=0,h=c.length;u<h;u++){const f=c[u];a[u]=t(e[f],f,u,o)}}else a=[];return a}function Q2e(e,t,r={},n,a){if(zi.ce||zi.parent&&Q1(zi.parent)&&zi.parent.ce)return Dn(),db(xa,null,[Hi("slot",r,n)],64);let o=e[t];o&&o._c&&(o._d=!1),Dn();const l=o&&iZ(o(r)),c=r.key||l&&l.key,u=db(xa,{key:(c&&!pc(c)?c:`_${t}`)+""},l||[],l&&e._===1?64:-2);return o&&o._c&&(o._d=!0),u}function iZ(e){return e.some(t=>pb(t)?!(t.type===U0||t.type===xa&&!iZ(t.children)):!0)?e:null}const eI=e=>e?kZ(e)?XS(e):eI(e.parent):null,I2=Ca(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>eI(e.parent),$root:e=>eI(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>sZ(e),$forceUpdate:e=>e.f||(e.f=()=>{ON(e.update)}),$nextTick:e=>e.n||(e.n=Sp.bind(e.proxy)),$watch:e=>wbe.bind(e)}),Pk=(e,t)=>e!==Ur&&!e.__isScriptSetup&&qr(e,t),J2e={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:o,accessCache:l,type:c,appContext:u}=e;let h;if(t[0]!=="$"){const g=l[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return o[t]}else{if(Pk(n,t))return l[t]=1,n[t];if(a!==Ur&&qr(a,t))return l[t]=2,a[t];if((h=e.propsOptions[0])&&qr(h,t))return l[t]=3,o[t];if(r!==Ur&&qr(r,t))return l[t]=4,r[t];tI&&(l[t]=0)}}const f=I2[t];let d,p;if(f)return t==="$attrs"&&Va(e.attrs,"get",""),f(e);if((d=c.__cssModules)&&(d=d[t]))return d;if(r!==Ur&&qr(r,t))return l[t]=4,r[t];if(p=u.config.globalProperties,qr(p,t))return p[t]},set({_:e},t,r){const{data:n,setupState:a,ctx:o}=e;return Pk(a,t)?(a[t]=r,!0):n!==Ur&&qr(n,t)?(n[t]=r,!0):qr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:o}},l){let c;return!!r[l]||e!==Ur&&qr(e,l)||Pk(t,l)||(c=o[0])&&qr(c,l)||qr(n,l)||qr(I2,l)||qr(a.config.globalProperties,l)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:qr(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function r5(e){return Kt(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function ebe(e,t){return!e||!t?e||t:Kt(e)&&Kt(t)?e.concat(t):Ca({},r5(e),r5(t))}let tI=!0;function tbe(e){const t=sZ(e),r=e.proxy,n=e.ctx;tI=!1,t.beforeCreate&&_F(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:l,watch:c,provide:u,inject:h,created:f,beforeMount:d,mounted:p,beforeUpdate:g,updated:m,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:T,destroyed:w,unmounted:E,render:S,renderTracked:C,renderTriggered:k,errorCaptured:O,serverPrefetch:I,expose:_,inheritAttrs:R,components:M,directives:$,filters:N}=t;if(h&&rbe(h,n,null),l)for(const L in l){const D=l[L];pr(D)&&(n[L]=D.bind(r))}if(a){const L=a.call(r,r);xn(L)&&(e.data=_x(L))}if(tI=!0,o)for(const L in o){const D=o[L],B=pr(D)?D.bind(r,r):pr(D.get)?D.get.bind(r,r):ru,H=!pr(D)&&pr(D.set)?D.set.bind(r):ru,U=Gn({get:B,set:H});Object.defineProperty(n,L,{enumerable:!0,configurable:!0,get:()=>U.value,set:G=>U.value=G})}if(c)for(const L in c)aZ(c[L],n,r,L);if(u){const L=pr(u)?u.call(r):u;Reflect.ownKeys(L).forEach(D=>{H4(D,L[D])})}f&&_F(f,e,"c");function F(L,D){Kt(D)?D.forEach(B=>L(B.bind(r))):D&&L(D.bind(r))}if(F(U2e,d),F(cv,p),F(W2e,g),F(z2e,m),F(B2e,y),F($2e,b),F(j2e,O),F(q2e,C),F(V2e,k),F(G2e,T),F(NN,E),F(Y2e,I),Kt(_))if(_.length){const L=e.exposed||(e.exposed={});_.forEach(D=>{Object.defineProperty(L,D,{get:()=>r[D],set:B=>r[D]=B})})}else e.exposed||(e.exposed={});S&&e.render===ru&&(e.render=S),R!=null&&(e.inheritAttrs=R),M&&(e.components=M),$&&(e.directives=$),I&&tZ(e)}function rbe(e,t,r=ru){Kt(e)&&(e=rI(e));for(const n in e){const a=e[n];let o;xn(a)?"default"in a?o=nu(a.from||n,a.default,!0):o=nu(a.from||n):o=nu(a),qn(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[n]=o}}function _F(e,t,r){hu(Kt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function aZ(e,t,r,n){let a=n.includes(".")?bZ(r,n):()=>r[n];if(Ri(e)){const o=t[e];pr(o)&&iu(a,o)}else if(pr(e))iu(a,e.bind(r));else if(xn(e))if(Kt(e))e.forEach(o=>aZ(o,t,r,n));else{const o=pr(e.handler)?e.handler.bind(r):t[e.handler];pr(o)&&iu(a,o,e)}}function sZ(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,c=o.get(t);let u;return c?u=c:!a.length&&!r&&!n?u=t:(u={},a.length&&a.forEach(h=>n5(u,h,l,!0)),n5(u,t,l)),xn(t)&&o.set(t,u),u}function n5(e,t,r,n=!1){const{mixins:a,extends:o}=t;o&&n5(e,o,r,!0),a&&a.forEach(l=>n5(e,l,r,!0));for(const l in t)if(!(n&&l==="expose")){const c=nbe[l]||r&&r[l];e[l]=c?c(e[l],t[l]):t[l]}return e}const nbe={data:NF,props:LF,emits:LF,methods:Jy,computed:Jy,beforeCreate:ps,created:ps,beforeMount:ps,mounted:ps,beforeUpdate:ps,updated:ps,beforeDestroy:ps,beforeUnmount:ps,destroyed:ps,unmounted:ps,activated:ps,deactivated:ps,errorCaptured:ps,serverPrefetch:ps,components:Jy,directives:Jy,watch:abe,provide:NF,inject:ibe};function NF(e,t){return t?e?function(){return Ca(pr(e)?e.call(this,this):e,pr(t)?t.call(this,this):t)}:t:e}function ibe(e,t){return Jy(rI(e),rI(t))}function rI(e){if(Kt(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ps(e,t){return e?[...new Set([].concat(e,t))]:t}function Jy(e,t){return e?Ca(Object.create(null),e,t):t}function LF(e,t){return e?Kt(e)&&Kt(t)?[...new Set([...e,...t])]:Ca(Object.create(null),r5(e),r5(t??{})):t}function abe(e,t){if(!e)return t;if(!t)return e;const r=Ca(Object.create(null),e);for(const n in t)r[n]=ps(e[n],t[n]);return r}function oZ(){return{app:null,config:{isNativeTag:Yye,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sbe=0;function obe(e,t){return function(n,a=null){pr(n)||(n=Ca({},n)),a!=null&&!xn(a)&&(a=null);const o=oZ(),l=new WeakSet,c=[];let u=!1;const h=o.app={_uid:sbe++,_component:n,_props:a,_container:null,_context:o,_instance:null,version:Wbe,get config(){return o.config},set config(f){},use(f,...d){return l.has(f)||(f&&pr(f.install)?(l.add(f),f.install(h,...d)):pr(f)&&(l.add(f),f(h,...d))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,d){return d?(o.components[f]=d,h):o.components[f]},directive(f,d){return d?(o.directives[f]=d,h):o.directives[f]},mount(f,d,p){if(!u){const g=h._ceVNode||Hi(n,a);return g.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),e(g,f,p),u=!0,h._container=f,f.__vue_app__=h,XS(g.component)}},onUnmount(f){c.push(f)},unmount(){u&&(hu(c,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(f,d){return o.provides[f]=d,h},runWithContext(f){const d=Md;Md=h;try{return f()}finally{Md=d}}};return h}}let Md=null;function H4(e,t){if(ia){let r=ia.provides;const n=ia.parent&&ia.parent.provides;n===r&&(r=ia.provides=Object.create(n)),r[e]=t}}function nu(e,t,r=!1){const n=ia||zi;if(n||Md){const a=Md?Md._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return r&&pr(t)?t.call(n&&n.proxy):t}}function lbe(){return!!(ia||zi||Md)}const lZ={},cZ=()=>Object.create(lZ),uZ=e=>Object.getPrototypeOf(e)===lZ;function cbe(e,t,r,n=!1){const a={},o=cZ();e.propsDefaults=Object.create(null),hZ(e,t,a,o);for(const l in e.propsOptions[0])l in a||(a[l]=void 0);r?e.props=n?a:qK(a):e.type.props?e.props=a:e.props=o,e.attrs=o}function ube(e,t,r,n){const{props:a,attrs:o,vnode:{patchFlag:l}}=e,c=Mr(a),[u]=e.propsOptions;let h=!1;if((n||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(VS(e.emitsOptions,p))continue;const g=t[p];if(u)if(qr(o,p))g!==o[p]&&(o[p]=g,h=!0);else{const m=$o(p);a[m]=nI(u,c,m,g,e,!1)}else g!==o[p]&&(o[p]=g,h=!0)}}}else{hZ(e,t,a,o)&&(h=!0);let f;for(const d in c)(!t||!qr(t,d)&&((f=Ph(d))===d||!qr(t,f)))&&(u?r&&(r[d]!==void 0||r[f]!==void 0)&&(a[d]=nI(u,c,d,void 0,e,!0)):delete a[d]);if(o!==c)for(const d in o)(!t||!qr(t,d))&&(delete o[d],h=!0)}h&&Zu(e.attrs,"set","")}function hZ(e,t,r,n){const[a,o]=e.propsOptions;let l=!1,c;if(t)for(let u in t){if(A2(u))continue;const h=t[u];let f;a&&qr(a,f=$o(u))?!o||!o.includes(f)?r[f]=h:(c||(c={}))[f]=h:VS(e.emitsOptions,u)||(!(u in n)||h!==n[u])&&(n[u]=h,l=!0)}if(o){const u=Mr(r),h=c||Ur;for(let f=0;f<o.length;f++){const d=o[f];r[d]=nI(a,u,d,h[d],e,!qr(h,d))}}return l}function nI(e,t,r,n,a,o){const l=e[r];if(l!=null){const c=qr(l,"default");if(c&&n===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&pr(u)){const{propsDefaults:h}=a;if(r in h)n=h[r];else{const f=Lx(a);n=h[r]=u.call(null,t),f()}}else n=u;a.ce&&a.ce._setProp(r,n)}l[0]&&(o&&!c?n=!1:l[1]&&(n===""||n===Ph(r))&&(n=!0))}return n}const hbe=new WeakMap;function fZ(e,t,r=!1){const n=r?hbe:t.propsCache,a=n.get(e);if(a)return a;const o=e.props,l={},c=[];let u=!1;if(!pr(e)){const f=d=>{u=!0;const[p,g]=fZ(d,t,!0);Ca(l,p),g&&c.push(...g)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!u)return xn(e)&&n.set(e,X1),X1;if(Kt(o))for(let f=0;f<o.length;f++){const d=$o(o[f]);MF(d)&&(l[d]=Ur)}else if(o)for(const f in o){const d=$o(f);if(MF(d)){const p=o[f],g=l[d]=Kt(p)||pr(p)?{type:p}:Ca({},p),m=g.type;let y=!1,b=!0;if(Kt(m))for(let x=0;x<m.length;++x){const T=m[x],w=pr(T)&&T.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(b=!1)}else y=pr(m)&&m.name==="Boolean";g[0]=y,g[1]=b,(y||qr(g,"default"))&&c.push(d)}}const h=[l,c];return xn(e)&&n.set(e,h),h}function MF(e){return e[0]!=="$"&&!A2(e)}const dZ=e=>e[0]==="_"||e==="$stable",LN=e=>Kt(e)?e.map(Wc):[Wc(e)],fbe=(e,t,r)=>{if(t._n)return t;const n=Qy((...a)=>LN(t(...a)),r);return n._c=!1,n},pZ=(e,t,r)=>{const n=e._ctx;for(const a in e){if(dZ(a))continue;const o=e[a];if(pr(o))t[a]=fbe(a,o,n);else if(o!=null){const l=LN(o);t[a]=()=>l}}},gZ=(e,t)=>{const r=LN(t);e.slots.default=()=>r},mZ=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},dbe=(e,t,r)=>{const n=e.slots=cZ();if(e.vnode.shapeFlag&32){const a=t._;a?(mZ(n,t,r),r&&kK(n,"_",a,!0)):pZ(t,n)}else t&&gZ(e,t)},pbe=(e,t,r)=>{const{vnode:n,slots:a}=e;let o=!0,l=Ur;if(n.shapeFlag&32){const c=t._;c?r&&c===1?o=!1:mZ(a,t,r):(o=!t.$stable,pZ(t,a)),l=t}else t&&(gZ(e,t),l={default:1});if(o)for(const c in a)!dZ(c)&&l[c]==null&&delete a[c]},Eo=Ibe;function gbe(e){return mbe(e)}function mbe(e,t){const r=$S();r.__VUE__=!0;const{insert:n,remove:a,patchProp:o,createElement:l,createText:c,createComment:u,setText:h,setElementText:f,parentNode:d,nextSibling:p,setScopeId:g=ru,insertStaticContent:m}=e,y=(z,j,te,re=null,Se=null,ue=null,se=void 0,fe=null,ye=!!j.dynamicChildren)=>{if(z===j)return;z&&!ay(z,j)&&(re=J(z),G(z,Se,ue,!0),z=null),j.patchFlag===-2&&(ye=!1,j.dynamicChildren=null);const{type:he,ref:Ae,shapeFlag:Ce}=j;switch(he){case qS:b(z,j,te,re);break;case U0:x(z,j,te,re);break;case Bk:z==null&&T(j,te,re,se);break;case xa:M(z,j,te,re,Se,ue,se,fe,ye);break;default:Ce&1?S(z,j,te,re,Se,ue,se,fe,ye):Ce&6?$(z,j,te,re,Se,ue,se,fe,ye):(Ce&64||Ce&128)&&he.process(z,j,te,re,Se,ue,se,fe,ye,X)}Ae!=null&&Se&&e5(Ae,z&&z.ref,ue,j||z,!j)},b=(z,j,te,re)=>{if(z==null)n(j.el=c(j.children),te,re);else{const Se=j.el=z.el;j.children!==z.children&&h(Se,j.children)}},x=(z,j,te,re)=>{z==null?n(j.el=u(j.children||""),te,re):j.el=z.el},T=(z,j,te,re)=>{[z.el,z.anchor]=m(z.children,j,te,re,z.el,z.anchor)},w=({el:z,anchor:j},te,re)=>{let Se;for(;z&&z!==j;)Se=p(z),n(z,te,re),z=Se;n(j,te,re)},E=({el:z,anchor:j})=>{let te;for(;z&&z!==j;)te=p(z),a(z),z=te;a(j)},S=(z,j,te,re,Se,ue,se,fe,ye)=>{j.type==="svg"?se="svg":j.type==="math"&&(se="mathml"),z==null?C(j,te,re,Se,ue,se,fe,ye):I(z,j,Se,ue,se,fe,ye)},C=(z,j,te,re,Se,ue,se,fe)=>{let ye,he;const{props:Ae,shapeFlag:Ce,transition:Ie,dirs:Le}=z;if(ye=z.el=l(z.type,ue,Ae&&Ae.is,Ae),Ce&8?f(ye,z.children):Ce&16&&O(z.children,ye,null,re,Se,Fk(z,ue),se,fe),Le&&Pf(z,null,re,"created"),k(ye,z,z.scopeId,se,re),Ae){for(const q in Ae)q!=="value"&&!A2(q)&&o(ye,q,null,Ae[q],ue,re);"value"in Ae&&o(ye,"value",null,Ae.value,ue),(he=Ae.onVnodeBeforeMount)&&kc(he,re,z)}Le&&Pf(z,null,re,"beforeMount");const ae=vbe(Se,Ie);ae&&Ie.beforeEnter(ye),n(ye,j,te),((he=Ae&&Ae.onVnodeMounted)||ae||Le)&&Eo(()=>{he&&kc(he,re,z),ae&&Ie.enter(ye),Le&&Pf(z,null,re,"mounted")},Se)},k=(z,j,te,re,Se)=>{if(te&&g(z,te),re)for(let ue=0;ue<re.length;ue++)g(z,re[ue]);if(Se){let ue=Se.subTree;if(j===ue||EZ(ue.type)&&(ue.ssContent===j||ue.ssFallback===j)){const se=Se.vnode;k(z,se,se.scopeId,se.slotScopeIds,Se.parent)}}},O=(z,j,te,re,Se,ue,se,fe,ye=0)=>{for(let he=ye;he<z.length;he++){const Ae=z[he]=fe?m0(z[he]):Wc(z[he]);y(null,Ae,j,te,re,Se,ue,se,fe)}},I=(z,j,te,re,Se,ue,se)=>{const fe=j.el=z.el;let{patchFlag:ye,dynamicChildren:he,dirs:Ae}=j;ye|=z.patchFlag&16;const Ce=z.props||Ur,Ie=j.props||Ur;let Le;if(te&&Ff(te,!1),(Le=Ie.onVnodeBeforeUpdate)&&kc(Le,te,j,z),Ae&&Pf(j,z,te,"beforeUpdate"),te&&Ff(te,!0),(Ce.innerHTML&&Ie.innerHTML==null||Ce.textContent&&Ie.textContent==null)&&f(fe,""),he?_(z.dynamicChildren,he,fe,te,re,Fk(j,Se),ue):se||D(z,j,fe,null,te,re,Fk(j,Se),ue,!1),ye>0){if(ye&16)R(fe,Ce,Ie,te,Se);else if(ye&2&&Ce.class!==Ie.class&&o(fe,"class",null,Ie.class,Se),ye&4&&o(fe,"style",Ce.style,Ie.style,Se),ye&8){const ae=j.dynamicProps;for(let q=0;q<ae.length;q++){const ge=ae[q],le=Ce[ge],Te=Ie[ge];(Te!==le||ge==="value")&&o(fe,ge,le,Te,Se,te)}}ye&1&&z.children!==j.children&&f(fe,j.children)}else!se&&he==null&&R(fe,Ce,Ie,te,Se);((Le=Ie.onVnodeUpdated)||Ae)&&Eo(()=>{Le&&kc(Le,te,j,z),Ae&&Pf(j,z,te,"updated")},re)},_=(z,j,te,re,Se,ue,se)=>{for(let fe=0;fe<j.length;fe++){const ye=z[fe],he=j[fe],Ae=ye.el&&(ye.type===xa||!ay(ye,he)||ye.shapeFlag&70)?d(ye.el):te;y(ye,he,Ae,null,re,Se,ue,se,!0)}},R=(z,j,te,re,Se)=>{if(j!==te){if(j!==Ur)for(const ue in j)!A2(ue)&&!(ue in te)&&o(z,ue,j[ue],null,Se,re);for(const ue in te){if(A2(ue))continue;const se=te[ue],fe=j[ue];se!==fe&&ue!=="value"&&o(z,ue,fe,se,Se,re)}"value"in te&&o(z,"value",j.value,te.value,Se)}},M=(z,j,te,re,Se,ue,se,fe,ye)=>{const he=j.el=z?z.el:c(""),Ae=j.anchor=z?z.anchor:c("");let{patchFlag:Ce,dynamicChildren:Ie,slotScopeIds:Le}=j;Le&&(fe=fe?fe.concat(Le):Le),z==null?(n(he,te,re),n(Ae,te,re),O(j.children||[],te,Ae,Se,ue,se,fe,ye)):Ce>0&&Ce&64&&Ie&&z.dynamicChildren?(_(z.dynamicChildren,Ie,te,Se,ue,se,fe),(j.key!=null||Se&&j===Se.subTree)&&vZ(z,j,!0)):D(z,j,te,Ae,Se,ue,se,fe,ye)},$=(z,j,te,re,Se,ue,se,fe,ye)=>{j.slotScopeIds=fe,z==null?j.shapeFlag&512?Se.ctx.activate(j,te,re,se,ye):N(j,te,re,Se,ue,se,ye):P(z,j,ye)},N=(z,j,te,re,Se,ue,se)=>{const fe=z.component=Dbe(z,re,Se);if(rZ(z)&&(fe.ctx.renderer=X),Pbe(fe,!1,se),fe.asyncDep){if(Se&&Se.registerDep(fe,F,se),!z.el){const ye=fe.subTree=Hi(U0);x(null,ye,j,te)}}else F(fe,z,j,te,Se,ue,se)},P=(z,j,te)=>{const re=j.component=z.component;if(kbe(z,j,te))if(re.asyncDep&&!re.asyncResolved){L(re,j,te);return}else re.next=j,re.update();else j.el=z.el,re.vnode=j},F=(z,j,te,re,Se,ue,se)=>{const fe=()=>{if(z.isMounted){let{next:Ce,bu:Ie,u:Le,parent:ae,vnode:q}=z;{const Re=yZ(z);if(Re){Ce&&(Ce.el=q.el,L(z,Ce,se)),Re.asyncDep.then(()=>{z.isUnmounted||fe()});return}}let ge=Ce,le;Ff(z,!1),Ce?(Ce.el=q.el,L(z,Ce,se)):Ce=q,Ie&&$4(Ie),(le=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&kc(le,ae,Ce,q),Ff(z,!0);const Te=PF(z),ne=z.subTree;z.subTree=Te,y(ne,Te,d(ne.el),J(ne),z,Se,ue),Ce.el=Te.el,ge===null&&Cbe(z,Te.el),Le&&Eo(Le,Se),(le=Ce.props&&Ce.props.onVnodeUpdated)&&Eo(()=>kc(le,ae,Ce,q),Se)}else{let Ce;const{el:Ie,props:Le}=j,{bm:ae,m:q,parent:ge,root:le,type:Te}=z,ne=Q1(j);Ff(z,!1),ae&&$4(ae),!ne&&(Ce=Le&&Le.onVnodeBeforeMount)&&kc(Ce,ge,j),Ff(z,!0);{le.ce&&le.ce._injectChildStyle(Te);const Re=z.subTree=PF(z);y(null,Re,te,re,z,Se,ue),j.el=Re.el}if(q&&Eo(q,Se),!ne&&(Ce=Le&&Le.onVnodeMounted)){const Re=j;Eo(()=>kc(Ce,ge,Re),Se)}(j.shapeFlag&256||ge&&Q1(ge.vnode)&&ge.vnode.shapeFlag&256)&&z.a&&Eo(z.a,Se),z.isMounted=!0,j=te=re=null}};z.scope.on();const ye=z.effect=new LK(fe);z.scope.off();const he=z.update=ye.run.bind(ye),Ae=z.job=ye.runIfDirty.bind(ye);Ae.i=z,Ae.id=z.uid,ye.scheduler=()=>ON(Ae),Ff(z,!0),he()},L=(z,j,te)=>{j.component=z;const re=z.vnode.props;z.vnode=j,z.next=null,ube(z,j.props,re,te),pbe(z,j.children,te),gf(),IF(z),mf()},D=(z,j,te,re,Se,ue,se,fe,ye=!1)=>{const he=z&&z.children,Ae=z?z.shapeFlag:0,Ce=j.children,{patchFlag:Ie,shapeFlag:Le}=j;if(Ie>0){if(Ie&128){H(he,Ce,te,re,Se,ue,se,fe,ye);return}else if(Ie&256){B(he,Ce,te,re,Se,ue,se,fe,ye);return}}Le&8?(Ae&16&&Z(he,Se,ue),Ce!==he&&f(te,Ce)):Ae&16?Le&16?H(he,Ce,te,re,Se,ue,se,fe,ye):Z(he,Se,ue,!0):(Ae&8&&f(te,""),Le&16&&O(Ce,te,re,Se,ue,se,fe,ye))},B=(z,j,te,re,Se,ue,se,fe,ye)=>{z=z||X1,j=j||X1;const he=z.length,Ae=j.length,Ce=Math.min(he,Ae);let Ie;for(Ie=0;Ie<Ce;Ie++){const Le=j[Ie]=ye?m0(j[Ie]):Wc(j[Ie]);y(z[Ie],Le,te,null,Se,ue,se,fe,ye)}he>Ae?Z(z,Se,ue,!0,!1,Ce):O(j,te,re,Se,ue,se,fe,ye,Ce)},H=(z,j,te,re,Se,ue,se,fe,ye)=>{let he=0;const Ae=j.length;let Ce=z.length-1,Ie=Ae-1;for(;he<=Ce&&he<=Ie;){const Le=z[he],ae=j[he]=ye?m0(j[he]):Wc(j[he]);if(ay(Le,ae))y(Le,ae,te,null,Se,ue,se,fe,ye);else break;he++}for(;he<=Ce&&he<=Ie;){const Le=z[Ce],ae=j[Ie]=ye?m0(j[Ie]):Wc(j[Ie]);if(ay(Le,ae))y(Le,ae,te,null,Se,ue,se,fe,ye);else break;Ce--,Ie--}if(he>Ce){if(he<=Ie){const Le=Ie+1,ae=Le<Ae?j[Le].el:re;for(;he<=Ie;)y(null,j[he]=ye?m0(j[he]):Wc(j[he]),te,ae,Se,ue,se,fe,ye),he++}}else if(he>Ie)for(;he<=Ce;)G(z[he],Se,ue,!0),he++;else{const Le=he,ae=he,q=new Map;for(he=ae;he<=Ie;he++){const xe=j[he]=ye?m0(j[he]):Wc(j[he]);xe.key!=null&&q.set(xe.key,he)}let ge,le=0;const Te=Ie-ae+1;let ne=!1,Re=0;const ie=new Array(Te);for(he=0;he<Te;he++)ie[he]=0;for(he=Le;he<=Ce;he++){const xe=z[he];if(le>=Te){G(xe,Se,ue,!0);continue}let ve;if(xe.key!=null)ve=q.get(xe.key);else for(ge=ae;ge<=Ie;ge++)if(ie[ge-ae]===0&&ay(xe,j[ge])){ve=ge;break}ve===void 0?G(xe,Se,ue,!0):(ie[ve-ae]=he+1,ve>=Re?Re=ve:ne=!0,y(xe,j[ve],te,null,Se,ue,se,fe,ye),le++)}const pe=ne?ybe(ie):X1;for(ge=pe.length-1,he=Te-1;he>=0;he--){const xe=ae+he,ve=j[xe],Ee=xe+1<Ae?j[xe+1].el:re;ie[he]===0?y(null,ve,te,Ee,Se,ue,se,fe,ye):ne&&(ge<0||he!==pe[ge]?U(ve,te,Ee,2):ge--)}}},U=(z,j,te,re,Se=null)=>{const{el:ue,type:se,transition:fe,children:ye,shapeFlag:he}=z;if(he&6){U(z.component.subTree,j,te,re);return}if(he&128){z.suspense.move(j,te,re);return}if(he&64){se.move(z,j,te,X);return}if(se===xa){n(ue,j,te);for(let Ce=0;Ce<ye.length;Ce++)U(ye[Ce],j,te,re);n(z.anchor,j,te);return}if(se===Bk){w(z,j,te);return}if(re!==2&&he&1&&fe)if(re===0)fe.beforeEnter(ue),n(ue,j,te),Eo(()=>fe.enter(ue),Se);else{const{leave:Ce,delayLeave:Ie,afterLeave:Le}=fe,ae=()=>n(ue,j,te),q=()=>{Ce(ue,()=>{ae(),Le&&Le()})};Ie?Ie(ue,ae,q):q()}else n(ue,j,te)},G=(z,j,te,re=!1,Se=!1)=>{const{type:ue,props:se,ref:fe,children:ye,dynamicChildren:he,shapeFlag:Ae,patchFlag:Ce,dirs:Ie,cacheIndex:Le}=z;if(Ce===-2&&(Se=!1),fe!=null&&e5(fe,null,te,z,!0),Le!=null&&(j.renderCache[Le]=void 0),Ae&256){j.ctx.deactivate(z);return}const ae=Ae&1&&Ie,q=!Q1(z);let ge;if(q&&(ge=se&&se.onVnodeBeforeUnmount)&&kc(ge,j,z),Ae&6)ce(z.component,te,re);else{if(Ae&128){z.suspense.unmount(te,re);return}ae&&Pf(z,null,j,"beforeUnmount"),Ae&64?z.type.remove(z,j,te,X,re):he&&!he.hasOnce&&(ue!==xa||Ce>0&&Ce&64)?Z(he,j,te,!1,!0):(ue===xa&&Ce&384||!Se&&Ae&16)&&Z(ye,j,te),re&&W(z)}(q&&(ge=se&&se.onVnodeUnmounted)||ae)&&Eo(()=>{ge&&kc(ge,j,z),ae&&Pf(z,null,j,"unmounted")},te)},W=z=>{const{type:j,el:te,anchor:re,transition:Se}=z;if(j===xa){ee(te,re);return}if(j===Bk){E(z);return}const ue=()=>{a(te),Se&&!Se.persisted&&Se.afterLeave&&Se.afterLeave()};if(z.shapeFlag&1&&Se&&!Se.persisted){const{leave:se,delayLeave:fe}=Se,ye=()=>se(te,ue);fe?fe(z.el,ue,ye):ye()}else ue()},ee=(z,j)=>{let te;for(;z!==j;)te=p(z),a(z),z=te;a(j)},ce=(z,j,te)=>{const{bum:re,scope:Se,job:ue,subTree:se,um:fe,m:ye,a:he}=z;DF(ye),DF(he),re&&$4(re),Se.stop(),ue&&(ue.flags|=8,G(se,z,j,te)),fe&&Eo(fe,j),Eo(()=>{z.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Z=(z,j,te,re=!1,Se=!1,ue=0)=>{for(let se=ue;se<z.length;se++)G(z[se],j,te,re,Se)},J=z=>{if(z.shapeFlag&6)return J(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const j=p(z.anchor||z.el),te=j&&j[P2e];return te?p(te):j};let oe=!1;const Y=(z,j,te)=>{z==null?j._vnode&&G(j._vnode,null,null,!0):y(j._vnode||null,z,j,null,null,null,te),j._vnode=z,oe||(oe=!0,IF(),QK(),oe=!1)},X={p:y,um:G,m:U,r:W,mt:N,mc:O,pc:D,pbc:_,n:J,o:e};return{render:Y,hydrate:void 0,createApp:obe(Y)}}function Fk({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Ff({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vbe(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vZ(e,t,r=!1){const n=e.children,a=t.children;if(Kt(n)&&Kt(a))for(let o=0;o<n.length;o++){const l=n[o];let c=a[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=a[o]=m0(a[o]),c.el=l.el),!r&&c.patchFlag!==-2&&vZ(l,c)),c.type===qS&&(c.el=l.el)}}function ybe(e){const t=e.slice(),r=[0];let n,a,o,l,c;const u=e.length;for(n=0;n<u;n++){const h=e[n];if(h!==0){if(a=r[r.length-1],e[a]<h){t[n]=a,r.push(n);continue}for(o=0,l=r.length-1;o<l;)c=o+l>>1,e[r[c]]<h?o=c+1:l=c;h<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,l=r[o-1];o-- >0;)r[o]=l,l=t[l];return r}function yZ(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yZ(t)}function DF(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const bbe=Symbol.for("v-scx"),xbe=()=>nu(bbe);function Tbe(e,t){return MN(e,null,{flush:"sync"})}function iu(e,t,r){return MN(e,t,r)}function MN(e,t,r=Ur){const{immediate:n,deep:a,flush:o,once:l}=r,c=Ca({},r),u=t&&n||!t&&o!=="post";let h;if(gb){if(o==="sync"){const g=xbe();h=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=ru,g.resume=ru,g.pause=ru,g}}const f=ia;c.call=(g,m,y)=>hu(g,f,m,y);let d=!1;o==="post"?c.scheduler=g=>{Eo(g,f&&f.suspense)}:o!=="sync"&&(d=!0,c.scheduler=(g,m)=>{m?g():ON(g)}),c.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,f&&(g.id=f.uid,g.i=f))};const p=N2e(e,t,c);return gb&&(h?h.push(p):u&&p()),p}function wbe(e,t,r){const n=this.proxy,a=Ri(e)?e.includes(".")?bZ(n,e):()=>n[e]:e.bind(n,n);let o;pr(t)?o=t:(o=t.handler,r=t);const l=Lx(this),c=MN(a,o.bind(n),r);return l(),c}function bZ(e,t){const r=t.split(".");return()=>{let n=e;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function xZ(e,t,r=Ur){const n=jS(),a=$o(t),o=Ph(t),l=TZ(e,a),c=A2e((u,h)=>{let f,d=Ur,p;return Tbe(()=>{const g=e[a];qs(f,g)&&(f=g,h())}),{get(){return u(),r.get?r.get(f):f},set(g){const m=r.set?r.set(g):g;if(!qs(m,f)&&!(d!==Ur&&qs(g,d)))return;const y=n.vnode.props;y&&(t in y||a in y||o in y)&&(`onUpdate:${t}`in y||`onUpdate:${a}`in y||`onUpdate:${o}`in y)||(f=g,h()),n.emit(`update:${t}`,m),qs(g,m)&&qs(g,d)&&!qs(m,p)&&h(),d=g,p=m}}});return c[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?l||Ur:c,done:!1}:{done:!0}}}},c}const TZ=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$o(t)}Modifiers`]||e[`${Ph(t)}Modifiers`];function Ebe(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Ur;let a=r;const o=t.startsWith("update:"),l=o&&TZ(n,t.slice(7));l&&(l.trim&&(a=r.map(f=>Ri(f)?f.trim():f)),l.number&&(a=r.map(Xw)));let c,u=n[c=Ok(t)]||n[c=Ok($o(t))];!u&&o&&(u=n[c=Ok(Ph(t))]),u&&hu(u,e,6,a);const h=n[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,hu(h,e,6,a)}}function wZ(e,t,r=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const o=e.emits;let l={},c=!1;if(!pr(e)){const u=h=>{const f=wZ(h,t,!0);f&&(c=!0,Ca(l,f))};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!c?(xn(e)&&n.set(e,null),null):(Kt(o)?o.forEach(u=>l[u]=null):Ca(l,o),xn(e)&&n.set(e,l),l)}function VS(e,t){return!e||!PS(t)?!1:(t=t.slice(2).replace(/Once$/,""),qr(e,t[0].toLowerCase()+t.slice(1))||qr(e,Ph(t))||qr(e,t))}function PF(e){const{type:t,vnode:r,proxy:n,withProxy:a,propsOptions:[o],slots:l,attrs:c,emit:u,render:h,renderCache:f,props:d,data:p,setupState:g,ctx:m,inheritAttrs:y}=e,b=Jw(e);let x,T;try{if(r.shapeFlag&4){const E=a||n,S=E;x=Wc(h.call(S,E,f,d,g,p,m)),T=c}else{const E=t;x=Wc(E.length>1?E(d,{attrs:c,slots:l,emit:u}):E(d,null)),T=t.props?c:Sbe(c)}}catch(E){R2.length=0,GS(E,e,1),x=Hi(U0)}let w=x;if(T&&y!==!1){const E=Object.keys(T),{shapeFlag:S}=w;E.length&&S&7&&(o&&E.some(yN)&&(T=Abe(T,o)),w=hm(w,T,!1,!0))}return r.dirs&&(w=hm(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&_N(w,r.transition),x=w,Jw(b),x}const Sbe=e=>{let t;for(const r in e)(r==="class"||r==="style"||PS(r))&&((t||(t={}))[r]=e[r]);return t},Abe=(e,t)=>{const r={};for(const n in e)(!yN(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function kbe(e,t,r){const{props:n,children:a,component:o}=e,{props:l,children:c,patchFlag:u}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?FF(n,l,h):!!l;if(u&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(l[p]!==n[p]&&!VS(h,p))return!0}}}else return(a||c)&&(!c||!c.$stable)?!0:n===l?!1:n?l?FF(n,l,h):!0:!!l;return!1}function FF(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const o=n[a];if(t[o]!==e[o]&&!VS(r,o))return!0}return!1}function Cbe({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const EZ=e=>e.__isSuspense;function Ibe(e,t){t&&t.pendingBranch?Kt(e)?t.effects.push(...e):t.effects.push(e):D2e(e)}const xa=Symbol.for("v-fgt"),qS=Symbol.for("v-txt"),U0=Symbol.for("v-cmt"),Bk=Symbol.for("v-stc"),R2=[];let Lo=null;function Dn(e=!1){R2.push(Lo=e?null:[])}function Rbe(){R2.pop(),Lo=R2[R2.length-1]||null}let fb=1;function BF(e,t=!1){fb+=e,e<0&&Lo&&t&&(Lo.hasOnce=!0)}function SZ(e){return e.dynamicChildren=fb>0?Lo||X1:null,Rbe(),fb>0&&Lo&&Lo.push(e),e}function Bi(e,t,r,n,a,o){return SZ(Ve(e,t,r,n,a,o,!0))}function db(e,t,r,n,a){return SZ(Hi(e,t,r,n,a,!0))}function pb(e){return e?e.__v_isVNode===!0:!1}function ay(e,t){return e.type===t.type&&e.key===t.key}const AZ=({key:e})=>e??null,U4=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ri(e)||qn(e)||pr(e)?{i:zi,r:e,k:t,f:!!r}:e:null);function Ve(e,t=null,r=null,n=0,a=null,o=e===xa?0:1,l=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&AZ(t),ref:t&&U4(t),scopeId:eZ,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:zi};return c?(DN(u,r),o&128&&e.normalize(u)):r&&(u.shapeFlag|=Ri(r)?8:16),fb>0&&!l&&Lo&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Lo.push(u),u}const Hi=Obe;function Obe(e,t=null,r=null,n=0,a=null,o=!1){if((!e||e===K2e)&&(e=U0),pb(e)){const c=hm(e,t,!0);return r&&DN(c,r),fb>0&&!o&&Lo&&(c.shapeFlag&6?Lo[Lo.indexOf(e)]=c:Lo.push(c)),c.patchFlag=-2,c}if(Ube(e)&&(e=e.__vccOpts),t){t=_be(t);let{class:c,style:u}=t;c&&!Ri(c)&&(t.class=Ku(c)),xn(u)&&(IN(u)&&!Kt(u)&&(u=Ca({},u)),t.style=HS(u))}const l=Ri(e)?1:EZ(e)?128:F2e(e)?64:xn(e)?4:pr(e)?2:0;return Ve(e,t,r,n,a,l,o,!0)}function _be(e){return e?IN(e)||uZ(e)?Ca({},e):e:null}function hm(e,t,r=!1,n=!1){const{props:a,ref:o,patchFlag:l,children:c,transition:u}=e,h=t?Nbe(a||{},t):a,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&AZ(h),ref:t&&t.ref?r&&o?Kt(o)?o.concat(U4(t)):[o,U4(t)]:U4(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xa?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hm(e.ssContent),ssFallback:e.ssFallback&&hm(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&n&&_N(f,u.clone(f)),f}function ko(e=" ",t=0){return Hi(qS,null,e,t)}function O2(e="",t=!1){return t?(Dn(),db(U0,null,e)):Hi(U0,null,e)}function Wc(e){return e==null||typeof e=="boolean"?Hi(U0):Kt(e)?Hi(xa,null,e.slice()):pb(e)?m0(e):Hi(qS,null,String(e))}function m0(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hm(e)}function DN(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Kt(t))r=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),DN(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!uZ(t)?t._ctx=zi:a===3&&zi&&(zi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pr(t)?(t={default:t,_ctx:zi},r=32):(t=String(t),n&64?(r=16,t=[ko(t)]):r=8);e.children=t,e.shapeFlag|=r}function Nbe(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=Ku([t.class,n.class]));else if(a==="style")t.style=HS([t.style,n.style]);else if(PS(a)){const o=t[a],l=n[a];l&&o!==l&&!(Kt(o)&&o.includes(l))&&(t[a]=o?[].concat(o,l):l)}else a!==""&&(t[a]=n[a])}return t}function kc(e,t,r,n=null){hu(e,t,7,[r,n])}const Lbe=oZ();let Mbe=0;function Dbe(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||Lbe,o={uid:Mbe++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new OK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fZ(n,a),emitsOptions:wZ(n,a),emit:null,emitted:null,propsDefaults:Ur,inheritAttrs:n.inheritAttrs,ctx:Ur,data:Ur,props:Ur,attrs:Ur,slots:Ur,refs:Ur,setupState:Ur,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ebe.bind(null,o),e.ce&&e.ce(o),o}let ia=null;const jS=()=>ia||zi;let i5,iI;{const e=$S(),t=(r,n)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(n),o=>{a.length>1?a.forEach(l=>l(o)):a[0](o)}};i5=t("__VUE_INSTANCE_SETTERS__",r=>ia=r),iI=t("__VUE_SSR_SETTERS__",r=>gb=r)}const Lx=e=>{const t=ia;return i5(e),e.scope.on(),()=>{e.scope.off(),i5(t)}},$F=()=>{ia&&ia.scope.off(),i5(null)};function kZ(e){return e.vnode.shapeFlag&4}let gb=!1;function Pbe(e,t=!1,r=!1){t&&iI(t);const{props:n,children:a}=e.vnode,o=kZ(e);cbe(e,n,o,t),dbe(e,a,r);const l=o?Fbe(e,t):void 0;return t&&iI(!1),l}function Fbe(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,J2e);const{setup:n}=r;if(n){gf();const a=e.setupContext=n.length>1?$be(e):null,o=Lx(e),l=Nx(n,e,0,[e.props,a]),c=EK(l);if(mf(),o(),(c||e.sp)&&!Q1(e)&&tZ(e),c){if(l.then($F,$F),t)return l.then(u=>{HF(e,u)}).catch(u=>{GS(u,e,0)});e.asyncDep=l}else HF(e,l)}else CZ(e)}function HF(e,t,r){pr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xn(t)&&(e.setupState=XK(t)),CZ(e)}function CZ(e,t,r){const n=e.type;e.render||(e.render=n.render||ru);{const a=Lx(e);gf();try{tbe(e)}finally{mf(),a()}}}const Bbe={get(e,t){return Va(e,"get",""),e[t]}};function $be(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Bbe),slots:e.slots,emit:e.emit,expose:t}}function XS(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(XK(RN(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in I2)return I2[r](e)},has(t,r){return r in t||r in I2}})):e.proxy}function Hbe(e,t=!0){return pr(e)?e.displayName||e.name:e.name||t&&e.__name}function Ube(e){return pr(e)&&"__vccOpts"in e}const Gn=(e,t)=>O2e(e,t,gb);function IZ(e,t,r){const n=arguments.length;return n===2?xn(t)&&!Kt(t)?pb(t)?Hi(e,null,[t]):Hi(e,t):Hi(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&pb(r)&&(r=[r]),Hi(e,t,r))}const Wbe="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let aI;const UF=typeof window<"u"&&window.trustedTypes;if(UF)try{aI=UF.createPolicy("vue",{createHTML:e=>e})}catch{}const RZ=aI?e=>aI.createHTML(e):e=>e,zbe="http://www.w3.org/2000/svg",Gbe="http://www.w3.org/1998/Math/MathML",Yu=typeof document<"u"?document:null,WF=Yu&&Yu.createElement("template"),Ybe={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const a=t==="svg"?Yu.createElementNS(zbe,e):t==="mathml"?Yu.createElementNS(Gbe,e):r?Yu.createElement(e,{is:r}):Yu.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Yu.createTextNode(e),createComment:e=>Yu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,a,o){const l=r?r.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===o||!(a=a.nextSibling)););else{WF.innerHTML=RZ(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const c=WF.content;if(n==="svg"||n==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,r)}return[l?l.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Vbe=Symbol("_vtc");function qbe(e,t,r){const n=e[Vbe];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const zF=Symbol("_vod"),jbe=Symbol("_vsh"),Xbe=Symbol(""),Kbe=/(^|;)\s*display\s*:/;function Zbe(e,t,r){const n=e.style,a=Ri(r);let o=!1;if(r&&!a){if(t)if(Ri(t))for(const l of t.split(";")){const c=l.slice(0,l.indexOf(":")).trim();r[c]==null&&W4(n,c,"")}else for(const l in t)r[l]==null&&W4(n,l,"");for(const l in r)l==="display"&&(o=!0),W4(n,l,r[l])}else if(a){if(t!==r){const l=n[Xbe];l&&(r+=";"+l),n.cssText=r,o=Kbe.test(r)}}else t&&e.removeAttribute("style");zF in e&&(e[zF]=o?n.display:"",e[jbe]&&(n.display="none"))}const GF=/\s*!important$/;function W4(e,t,r){if(Kt(r))r.forEach(n=>W4(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Qbe(e,t);GF.test(r)?e.setProperty(Ph(n),r.replace(GF,""),"important"):e[n]=r}}const YF=["Webkit","Moz","ms"],$k={};function Qbe(e,t){const r=$k[t];if(r)return r;let n=$o(t);if(n!=="filter"&&n in e)return $k[t]=n;n=BS(n);for(let a=0;a<YF.length;a++){const o=YF[a]+n;if(o in e)return $k[t]=o}return t}const VF="http://www.w3.org/1999/xlink";function qF(e,t,r,n,a,o=t2e(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(VF,t.slice(6,t.length)):e.setAttributeNS(VF,t,r):r==null||o&&!CK(r)?e.removeAttribute(t):e.setAttribute(t,o?"":pc(r)?String(r):r)}function jF(e,t,r,n,a){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?RZ(r):r);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const c=o==="OPTION"?e.getAttribute("value")||"":e.value,u=r==null?e.type==="checkbox"?"on":"":String(r);(c!==u||!("_value"in e))&&(e.value=u),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=CK(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(a||t)}function T0(e,t,r,n){e.addEventListener(t,r,n)}function Jbe(e,t,r,n){e.removeEventListener(t,r,n)}const XF=Symbol("_vei");function exe(e,t,r,n,a=null){const o=e[XF]||(e[XF]={}),l=o[t];if(n&&l)l.value=n;else{const[c,u]=txe(t);if(n){const h=o[t]=ixe(n,a);T0(e,c,h,u)}else l&&(Jbe(e,c,l,u),o[t]=void 0)}}const KF=/(?:Once|Passive|Capture)$/;function txe(e){let t;if(KF.test(e)){t={};let n;for(;n=e.match(KF);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ph(e.slice(2)),t]}let Hk=0;const rxe=Promise.resolve(),nxe=()=>Hk||(rxe.then(()=>Hk=0),Hk=Date.now());function ixe(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;hu(axe(n,r.value),t,5,[n])};return r.value=e,r.attached=nxe(),r}function axe(e,t){if(Kt(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const ZF=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,sxe=(e,t,r,n,a,o)=>{const l=a==="svg";t==="class"?qbe(e,n,l):t==="style"?Zbe(e,r,n):PS(t)?yN(t)||exe(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oxe(e,t,n,l))?(jF(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&qF(e,t,n,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ri(n))?jF(e,$o(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),qF(e,t,n,l))};function oxe(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ZF(t)&&pr(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return ZF(t)&&Ri(r)?!1:t in e}const fm=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Kt(t)?r=>$4(t,r):t};function lxe(e){e.target.composing=!0}function QF(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ch=Symbol("_assign"),Oo={created(e,{modifiers:{lazy:t,trim:r,number:n}},a){e[ch]=fm(a);const o=n||a.props&&a.props.type==="number";T0(e,t?"change":"input",l=>{if(l.target.composing)return;let c=e.value;r&&(c=c.trim()),o&&(c=Xw(c)),e[ch](c)}),r&&T0(e,"change",()=>{e.value=e.value.trim()}),t||(T0(e,"compositionstart",lxe),T0(e,"compositionend",QF),T0(e,"change",QF))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:a,number:o}},l){if(e[ch]=fm(l),e.composing)return;const c=(o||e.type==="number")&&!/^0\d/.test(e.value)?Xw(e.value):e.value,u=t??"";c!==u&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||a&&e.value.trim()===u)||(e.value=u))}},OZ={deep:!0,created(e,t,r){e[ch]=fm(r),T0(e,"change",()=>{const n=e._modelValue,a=mb(e),o=e.checked,l=e[ch];if(Kt(n)){const c=TN(n,a),u=c!==-1;if(o&&!u)l(n.concat(a));else if(!o&&u){const h=[...n];h.splice(c,1),l(h)}}else if(lv(n)){const c=new Set(n);o?c.add(a):c.delete(a),l(c)}else l(_Z(e,o))})},mounted:JF,beforeUpdate(e,t,r){e[ch]=fm(r),JF(e,t,r)}};function JF(e,{value:t,oldValue:r},n){e._modelValue=t;let a;if(Kt(t))a=TN(t,n.props.value)>-1;else if(lv(t))a=t.has(n.props.value);else{if(t===r)return;a=Ox(t,_Z(e,!0))}e.checked!==a&&(e.checked=a)}const cxe={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const a=lv(t);T0(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>r?Xw(mb(l)):mb(l));e[ch](e.multiple?a?new Set(o):o:o[0]),e._assigning=!0,Sp(()=>{e._assigning=!1})}),e[ch]=fm(n)},mounted(e,{value:t}){eB(e,t)},beforeUpdate(e,t,r){e[ch]=fm(r)},updated(e,{value:t}){e._assigning||eB(e,t)}};function eB(e,t){const r=e.multiple,n=Kt(t);if(!(r&&!n&&!lv(t))){for(let a=0,o=e.options.length;a<o;a++){const l=e.options[a],c=mb(l);if(r)if(n){const u=typeof c;u==="string"||u==="number"?l.selected=t.some(h=>String(h)===String(c)):l.selected=TN(t,c)>-1}else l.selected=t.has(c);else if(Ox(mb(l),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function mb(e){return"_value"in e?e._value:e.value}function _Z(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const uxe=["ctrl","shift","alt","meta"],hxe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>uxe.some(r=>e[`${r}Key`]&&!t.includes(r))},ud=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(a,...o)=>{for(let l=0;l<t.length;l++){const c=hxe[t[l]];if(c&&c(a,t))return}return e(a,...o)})},fxe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dxe=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const o=Ph(a.key);if(t.some(l=>l===o||fxe[l]===o))return e(a)})},pxe=Ca({patchProp:sxe},Ybe);let tB;function gxe(){return tB||(tB=gbe(pxe))}const mxe=(...e)=>{const t=gxe().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=yxe(n);if(!a)return;const o=t._component;!pr(o)&&!o.render&&!o.template&&(o.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const l=r(a,!1,vxe(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),l},t};function vxe(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function yxe(e){return Ri(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let NZ;const KS=e=>NZ=e,LZ=Symbol();function sI(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _2;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_2||(_2={}));function bxe(){const e=_K(!0),t=e.run(()=>or({}));let r=[],n=[];const a=RN({install(o){KS(a),a._a=o,o.provide(LZ,a),o.config.globalProperties.$pinia=a,n.forEach(l=>r.push(l)),n=[]},use(o){return this._a?r.push(o):n.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return a}const MZ=()=>{};function rB(e,t,r,n=MZ){e.push(t);const a=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),n())};return!r&&wN()&&NK(a),a}function Kp(e,...t){e.slice().forEach(r=>{r(...t)})}const xxe=e=>e(),nB=Symbol(),Uk=Symbol();function oI(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,n)=>e.set(n,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],a=e[r];sI(a)&&sI(n)&&e.hasOwnProperty(r)&&!qn(n)&&!L0(n)?e[r]=oI(a,n):e[r]=n}return e}const Txe=Symbol();function wxe(e){return!sI(e)||!e.hasOwnProperty(Txe)}const{assign:u0}=Object;function Exe(e){return!!(qn(e)&&e.effect)}function Sxe(e,t,r,n){const{state:a,actions:o,getters:l}=t,c=r.state.value[e];let u;function h(){c||(r.state.value[e]=a?a():{});const f=k2e(r.state.value[e]);return u0(f,o,Object.keys(l||{}).reduce((d,p)=>(d[p]=RN(Gn(()=>{KS(r);const g=r._s.get(e);return l[p].call(g,g)})),d),{}))}return u=DZ(e,h,t,r,n,!0),u}function DZ(e,t,r={},n,a,o){let l;const c=u0({actions:{}},r),u={deep:!0};let h,f,d=[],p=[],g;const m=n.state.value[e];!o&&!m&&(n.state.value[e]={}),or({});let y;function b(O){let I;h=f=!1,typeof O=="function"?(O(n.state.value[e]),I={type:_2.patchFunction,storeId:e,events:g}):(oI(n.state.value[e],O),I={type:_2.patchObject,payload:O,storeId:e,events:g});const _=y=Symbol();Sp().then(()=>{y===_&&(h=!0)}),f=!0,Kp(d,I,n.state.value[e])}const x=o?function(){const{state:I}=r,_=I?I():{};this.$patch(R=>{u0(R,_)})}:MZ;function T(){l.stop(),d=[],p=[],n._s.delete(e)}const w=(O,I="")=>{if(nB in O)return O[Uk]=I,O;const _=function(){KS(n);const R=Array.from(arguments),M=[],$=[];function N(L){M.push(L)}function P(L){$.push(L)}Kp(p,{args:R,name:_[Uk],store:S,after:N,onError:P});let F;try{F=O.apply(this&&this.$id===e?this:S,R)}catch(L){throw Kp($,L),L}return F instanceof Promise?F.then(L=>(Kp(M,L),L)).catch(L=>(Kp($,L),Promise.reject(L))):(Kp(M,F),F)};return _[nB]=!0,_[Uk]=I,_},E={_p:n,$id:e,$onAction:rB.bind(null,p),$patch:b,$reset:x,$subscribe(O,I={}){const _=rB(d,O,I.detached,()=>R()),R=l.run(()=>iu(()=>n.state.value[e],M=>{(I.flush==="sync"?f:h)&&O({storeId:e,type:_2.direct,events:g},M)},u0({},u,I)));return _},$dispose:T},S=_x(E);n._s.set(e,S);const k=(n._a&&n._a.runWithContext||xxe)(()=>n._e.run(()=>(l=_K()).run(()=>t({action:w}))));for(const O in k){const I=k[O];if(qn(I)&&!Exe(I)||L0(I))o||(m&&wxe(I)&&(qn(I)?I.value=m[O]:oI(I,m[O])),n.state.value[e][O]=I);else if(typeof I=="function"){const _=w(I,O);k[O]=_,c.actions[O]=I}}return u0(S,k),u0(Mr(S),k),Object.defineProperty(S,"$state",{get:()=>n.state.value[e],set:O=>{b(I=>{u0(I,O)})}}),n._p.forEach(O=>{u0(S,l.run(()=>O({store:S,app:n._a,pinia:n,options:c})))}),m&&o&&r.hydrate&&r.hydrate(S.$state,m),h=!0,f=!0,S}/*! #__NO_SIDE_EFFECTS__ */function Mx(e,t,r){let n,a;const o=typeof t=="function";typeof e=="string"?(n=e,a=o?r:t):(a=e,n=e.id);function l(c,u){const h=lbe();return c=c||(h?nu(LZ,null):null),c&&KS(c),c=NZ,c._s.has(n)||(o?DZ(n,t,a,c):Sxe(n,a,c)),c._s.get(n)}return l.$id=n,l}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const S1=typeof document<"u";function PZ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Axe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&PZ(e.default)}const Yr=Object.assign;function Wk(e,t){const r={};for(const n in t){const a=t[n];r[n]=gc(a)?a.map(e):e(a)}return r}const N2=()=>{},gc=Array.isArray,FZ=/#/g,kxe=/&/g,Cxe=/\//g,Ixe=/=/g,Rxe=/\?/g,BZ=/\+/g,Oxe=/%5B/g,_xe=/%5D/g,$Z=/%5E/g,Nxe=/%60/g,HZ=/%7B/g,Lxe=/%7C/g,UZ=/%7D/g,Mxe=/%20/g;function PN(e){return encodeURI(""+e).replace(Lxe,"|").replace(Oxe,"[").replace(_xe,"]")}function Dxe(e){return PN(e).replace(HZ,"{").replace(UZ,"}").replace($Z,"^")}function lI(e){return PN(e).replace(BZ,"%2B").replace(Mxe,"+").replace(FZ,"%23").replace(kxe,"%26").replace(Nxe,"`").replace(HZ,"{").replace(UZ,"}").replace($Z,"^")}function Pxe(e){return lI(e).replace(Ixe,"%3D")}function Fxe(e){return PN(e).replace(FZ,"%23").replace(Rxe,"%3F")}function Bxe(e){return e==null?"":Fxe(e).replace(Cxe,"%2F")}function vb(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const $xe=/\/$/,Hxe=e=>e.replace($xe,"");function zk(e,t,r="/"){let n,a={},o="",l="";const c=t.indexOf("#");let u=t.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(n=t.slice(0,u),o=t.slice(u+1,c>-1?c:t.length),a=e(o)),c>-1&&(n=n||t.slice(0,c),l=t.slice(c,t.length)),n=Gxe(n??t,r),{fullPath:n+(o&&"?")+o+l,path:n,query:a,hash:vb(l)}}function Uxe(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function iB(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Wxe(e,t,r){const n=t.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&dm(t.matched[n],r.matched[a])&&WZ(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function dm(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function WZ(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!zxe(e[r],t[r]))return!1;return!0}function zxe(e,t){return gc(e)?aB(e,t):gc(t)?aB(t,e):e===t}function aB(e,t){return gc(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Gxe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let o=r.length-1,l,c;for(l=0;l<n.length;l++)if(c=n[l],c!==".")if(c==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(l).join("/")}const Zh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var yb;(function(e){e.pop="pop",e.push="push"})(yb||(yb={}));var L2;(function(e){e.back="back",e.forward="forward",e.unknown=""})(L2||(L2={}));function Yxe(e){if(!e)if(S1){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Hxe(e)}const Vxe=/^[^#]+#/;function qxe(e,t){return e.replace(Vxe,"#")+t}function jxe(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const ZS=()=>({left:window.scrollX,top:window.scrollY});function Xxe(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;t=jxe(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sB(e,t){return(history.state?history.state.position-t:-1)+e}const cI=new Map;function Kxe(e,t){cI.set(e,t)}function Zxe(e){const t=cI.get(e);return cI.delete(e),t}let Qxe=()=>location.protocol+"//"+location.host;function zZ(e,t){const{pathname:r,search:n,hash:a}=t,o=e.indexOf("#");if(o>-1){let c=a.includes(e.slice(o))?e.slice(o).length:1,u=a.slice(c);return u[0]!=="/"&&(u="/"+u),iB(u,"")}return iB(r,e)+n+a}function Jxe(e,t,r,n){let a=[],o=[],l=null;const c=({state:p})=>{const g=zZ(e,location),m=r.value,y=t.value;let b=0;if(p){if(r.value=g,t.value=p,l&&l===m){l=null;return}b=y?p.position-y.position:0}else n(g);a.forEach(x=>{x(r.value,m,{delta:b,type:yb.pop,direction:b?b>0?L2.forward:L2.back:L2.unknown})})};function u(){l=r.value}function h(p){a.push(p);const g=()=>{const m=a.indexOf(p);m>-1&&a.splice(m,1)};return o.push(g),g}function f(){const{history:p}=window;p.state&&p.replaceState(Yr({},p.state,{scroll:ZS()}),"")}function d(){for(const p of o)p();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:h,destroy:d}}function oB(e,t,r,n=!1,a=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:a?ZS():null}}function e3e(e){const{history:t,location:r}=window,n={value:zZ(e,r)},a={value:t.state};a.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,h,f){const d=e.indexOf("#"),p=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+u:Qxe()+e+u;try{t[f?"replaceState":"pushState"](h,"",p),a.value=h}catch(g){console.error(g),r[f?"replace":"assign"](p)}}function l(u,h){const f=Yr({},t.state,oB(a.value.back,u,a.value.forward,!0),h,{position:a.value.position});o(u,f,!0),n.value=u}function c(u,h){const f=Yr({},a.value,t.state,{forward:u,scroll:ZS()});o(f.current,f,!0);const d=Yr({},oB(n.value,u,null),{position:f.position+1},h);o(u,d,!1),n.value=u}return{location:n,state:a,push:c,replace:l}}function t3e(e){e=Yxe(e);const t=e3e(e),r=Jxe(e,t.state,t.location,t.replace);function n(o,l=!0){l||r.pauseListeners(),history.go(o)}const a=Yr({location:"",base:e,go:n,createHref:qxe.bind(null,e)},t,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function r3e(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),t3e(e)}function n3e(e){return typeof e=="string"||e&&typeof e=="object"}function GZ(e){return typeof e=="string"||typeof e=="symbol"}const YZ=Symbol("");var lB;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(lB||(lB={}));function pm(e,t){return Yr(new Error,{type:e,[YZ]:!0},t)}function Du(e,t){return e instanceof Error&&YZ in e&&(t==null||!!(e.type&t))}const cB="[^/]+?",i3e={sensitive:!1,strict:!1,start:!0,end:!0},a3e=/[.+*?^${}()[\]/\\]/g;function s3e(e,t){const r=Yr({},i3e,t),n=[];let a=r.start?"^":"";const o=[];for(const h of e){const f=h.length?[]:[90];r.strict&&!h.length&&(a+="/");for(let d=0;d<h.length;d++){const p=h[d];let g=40+(r.sensitive?.25:0);if(p.type===0)d||(a+="/"),a+=p.value.replace(a3e,"\\$&"),g+=40;else if(p.type===1){const{value:m,repeatable:y,optional:b,regexp:x}=p;o.push({name:m,repeatable:y,optional:b});const T=x||cB;if(T!==cB){g+=10;try{new RegExp(`(${T})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${T}): `+E.message)}}let w=y?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;d||(w=b&&h.length<2?`(?:/${w})`:"/"+w),b&&(w+="?"),a+=w,g+=20,b&&(g+=-8),y&&(g+=-20),T===".*"&&(g+=-50)}f.push(g)}n.push(f)}if(r.strict&&r.end){const h=n.length-1;n[h][n[h].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const l=new RegExp(a,r.sensitive?"":"i");function c(h){const f=h.match(l),d={};if(!f)return null;for(let p=1;p<f.length;p++){const g=f[p]||"",m=o[p-1];d[m.name]=g&&m.repeatable?g.split("/"):g}return d}function u(h){let f="",d=!1;for(const p of e){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const g of p)if(g.type===0)f+=g.value;else if(g.type===1){const{value:m,repeatable:y,optional:b}=g,x=m in h?h[m]:"";if(gc(x)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const T=gc(x)?x.join("/"):x;if(!T)if(b)p.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);f+=T}}return f||"/"}return{re:l,score:n,keys:o,parse:c,stringify:u}}function o3e(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function VZ(e,t){let r=0;const n=e.score,a=t.score;for(;r<n.length&&r<a.length;){const o=o3e(n[r],a[r]);if(o)return o;r++}if(Math.abs(a.length-n.length)===1){if(uB(n))return 1;if(uB(a))return-1}return a.length-n.length}function uB(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const l3e={type:0,value:""},c3e=/[a-zA-Z0-9_]/;function u3e(e){if(!e)return[[]];if(e==="/")return[[l3e]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${r})/"${h}": ${g}`)}let r=0,n=r;const a=[];let o;function l(){o&&a.push(o),o=[]}let c=0,u,h="",f="";function d(){h&&(r===0?o.push({type:0,value:h}):r===1||r===2||r===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function p(){h+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(h&&d(),l()):u===":"?(d(),r=1):p();break;case 4:p(),r=n;break;case 1:u==="("?r=2:c3e.test(u)?p():(d(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:r=3:f+=u;break;case 3:d(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,f="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${h}"`),d(),l(),a}function h3e(e,t,r){const n=s3e(u3e(e.path),r),a=Yr(n,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function f3e(e,t){const r=[],n=new Map;t=pB({strict:!1,end:!0,sensitive:!1},t);function a(d){return n.get(d)}function o(d,p,g){const m=!g,y=fB(d);y.aliasOf=g&&g.record;const b=pB(t,d),x=[y];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const S of E)x.push(fB(Yr({},y,{components:g?g.record.components:y.components,path:S,aliasOf:g?g.record:y})))}let T,w;for(const E of x){const{path:S}=E;if(p&&S[0]!=="/"){const C=p.record.path,k=C[C.length-1]==="/"?"":"/";E.path=p.record.path+(S&&k+S)}if(T=h3e(E,p,b),g?g.alias.push(T):(w=w||T,w!==T&&w.alias.push(T),m&&d.name&&!dB(T)&&l(d.name)),qZ(T)&&u(T),y.children){const C=y.children;for(let k=0;k<C.length;k++)o(C[k],T,g&&g.children[k])}g=g||T}return w?()=>{l(w)}:N2}function l(d){if(GZ(d)){const p=n.get(d);p&&(n.delete(d),r.splice(r.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=r.indexOf(d);p>-1&&(r.splice(p,1),d.record.name&&n.delete(d.record.name),d.children.forEach(l),d.alias.forEach(l))}}function c(){return r}function u(d){const p=g3e(d,r);r.splice(p,0,d),d.record.name&&!dB(d)&&n.set(d.record.name,d)}function h(d,p){let g,m={},y,b;if("name"in d&&d.name){if(g=n.get(d.name),!g)throw pm(1,{location:d});b=g.record.name,m=Yr(hB(p.params,g.keys.filter(w=>!w.optional).concat(g.parent?g.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&hB(d.params,g.keys.map(w=>w.name))),y=g.stringify(m)}else if(d.path!=null)y=d.path,g=r.find(w=>w.re.test(y)),g&&(m=g.parse(y),b=g.record.name);else{if(g=p.name?n.get(p.name):r.find(w=>w.re.test(p.path)),!g)throw pm(1,{location:d,currentLocation:p});b=g.record.name,m=Yr({},p.params,d.params),y=g.stringify(m)}const x=[];let T=g;for(;T;)x.unshift(T.record),T=T.parent;return{name:b,path:y,params:m,matched:x,meta:p3e(x)}}e.forEach(d=>o(d));function f(){r.length=0,n.clear()}return{addRoute:o,resolve:h,removeRoute:l,clearRoutes:f,getRoutes:c,getRecordMatcher:a}}function hB(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function fB(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:d3e(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function d3e(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function dB(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function p3e(e){return e.reduce((t,r)=>Yr(t,r.meta),{})}function pB(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function g3e(e,t){let r=0,n=t.length;for(;r!==n;){const o=r+n>>1;VZ(e,t[o])<0?n=o:r=o+1}const a=m3e(e);return a&&(n=t.lastIndexOf(a,n-1)),n}function m3e(e){let t=e;for(;t=t.parent;)if(qZ(t)&&VZ(e,t)===0)return t}function qZ({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function v3e(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const o=n[a].replace(BZ," "),l=o.indexOf("="),c=vb(l<0?o:o.slice(0,l)),u=l<0?null:vb(o.slice(l+1));if(c in t){let h=t[c];gc(h)||(h=t[c]=[h]),h.push(u)}else t[c]=u}return t}function gB(e){let t="";for(let r in e){const n=e[r];if(r=Pxe(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(gc(n)?n.map(o=>o&&lI(o)):[n&&lI(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function y3e(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=gc(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return t}const b3e=Symbol(""),mB=Symbol(""),FN=Symbol(""),jZ=Symbol(""),uI=Symbol("");function sy(){let e=[];function t(n){return e.push(n),()=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function v0(e,t,r,n,a,o=l=>l()){const l=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((c,u)=>{const h=p=>{p===!1?u(pm(4,{from:r,to:t})):p instanceof Error?u(p):n3e(p)?u(pm(2,{from:t,to:p})):(l&&n.enterCallbacks[a]===l&&typeof p=="function"&&l.push(p),c())},f=o(()=>e.call(n&&n.instances[a],t,r,h));let d=Promise.resolve(f);e.length<3&&(d=d.then(h)),d.catch(p=>u(p))})}function Gk(e,t,r,n,a=o=>o()){const o=[];for(const l of e)for(const c in l.components){let u=l.components[c];if(!(t!=="beforeRouteEnter"&&!l.instances[c]))if(PZ(u)){const f=(u.__vccOpts||u)[t];f&&o.push(v0(f,r,n,l,c,a))}else{let h=u();o.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${c}" at "${l.path}"`);const d=Axe(f)?f.default:f;l.mods[c]=f,l.components[c]=d;const g=(d.__vccOpts||d)[t];return g&&v0(g,r,n,l,c,a)()}))}}return o}function vB(e){const t=nu(FN),r=nu(jZ),n=Gn(()=>{const u=Vr(e.to);return t.resolve(u)}),a=Gn(()=>{const{matched:u}=n.value,{length:h}=u,f=u[h-1],d=r.matched;if(!f||!d.length)return-1;const p=d.findIndex(dm.bind(null,f));if(p>-1)return p;const g=yB(u[h-2]);return h>1&&yB(f)===g&&d[d.length-1].path!==g?d.findIndex(dm.bind(null,u[h-2])):p}),o=Gn(()=>a.value>-1&&S3e(r.params,n.value.params)),l=Gn(()=>a.value>-1&&a.value===r.matched.length-1&&WZ(r.params,n.value.params));function c(u={}){if(E3e(u)){const h=t[Vr(e.replace)?"replace":"push"](Vr(e.to)).catch(N2);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:n,href:Gn(()=>n.value.href),isActive:o,isExactActive:l,navigate:c}}function x3e(e){return e.length===1?e[0]:e}const T3e=Fh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vB,setup(e,{slots:t}){const r=_x(vB(e)),{options:n}=nu(FN),a=Gn(()=>({[bB(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[bB(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&x3e(t.default(r));return e.custom?o:IZ("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},o)}}}),w3e=T3e;function E3e(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function S3e(e,t){for(const r in t){const n=t[r],a=e[r];if(typeof n=="string"){if(n!==a)return!1}else if(!gc(a)||a.length!==n.length||n.some((o,l)=>o!==a[l]))return!1}return!0}function yB(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const bB=(e,t,r)=>e??t??r,A3e=Fh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=nu(uI),a=Gn(()=>e.route||n.value),o=nu(mB,0),l=Gn(()=>{let h=Vr(o);const{matched:f}=a.value;let d;for(;(d=f[h])&&!d.components;)h++;return h}),c=Gn(()=>a.value.matched[l.value]);H4(mB,Gn(()=>l.value+1)),H4(b3e,c),H4(uI,a);const u=or();return iu(()=>[u.value,c.value,e.name],([h,f,d],[p,g,m])=>{f&&(f.instances[d]=h,g&&g!==f&&h&&h===p&&(f.leaveGuards.size||(f.leaveGuards=g.leaveGuards),f.updateGuards.size||(f.updateGuards=g.updateGuards))),h&&f&&(!g||!dm(f,g)||!p)&&(f.enterCallbacks[d]||[]).forEach(y=>y(h))},{flush:"post"}),()=>{const h=a.value,f=e.name,d=c.value,p=d&&d.components[f];if(!p)return xB(r.default,{Component:p,route:h});const g=d.props[f],m=g?g===!0?h.params:typeof g=="function"?g(h):g:null,b=IZ(p,Yr({},m,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(d.instances[f]=null)},ref:u}));return xB(r.default,{Component:b,route:h})||b}}});function xB(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const XZ=A3e;function k3e(e){const t=f3e(e.routes,e),r=e.parseQuery||v3e,n=e.stringifyQuery||gB,a=e.history,o=sy(),l=sy(),c=sy(),u=ub(Zh);let h=Zh;S1&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Wk.bind(null,J=>""+J),d=Wk.bind(null,Bxe),p=Wk.bind(null,vb);function g(J,oe){let Y,X;return GZ(J)?(Y=t.getRecordMatcher(J),X=oe):X=J,t.addRoute(X,Y)}function m(J){const oe=t.getRecordMatcher(J);oe&&t.removeRoute(oe)}function y(){return t.getRoutes().map(J=>J.record)}function b(J){return!!t.getRecordMatcher(J)}function x(J,oe){if(oe=Yr({},oe||u.value),typeof J=="string"){const te=zk(r,J,oe.path),re=t.resolve({path:te.path},oe),Se=a.createHref(te.fullPath);return Yr(te,re,{params:p(re.params),hash:vb(te.hash),redirectedFrom:void 0,href:Se})}let Y;if(J.path!=null)Y=Yr({},J,{path:zk(r,J.path,oe.path).path});else{const te=Yr({},J.params);for(const re in te)te[re]==null&&delete te[re];Y=Yr({},J,{params:d(te)}),oe.params=d(oe.params)}const X=t.resolve(Y,oe),K=J.hash||"";X.params=f(p(X.params));const z=Uxe(n,Yr({},J,{hash:Dxe(K),path:X.path})),j=a.createHref(z);return Yr({fullPath:z,hash:K,query:n===gB?y3e(J.query):J.query||{}},X,{redirectedFrom:void 0,href:j})}function T(J){return typeof J=="string"?zk(r,J,u.value.path):Yr({},J)}function w(J,oe){if(h!==J)return pm(8,{from:oe,to:J})}function E(J){return k(J)}function S(J){return E(Yr(T(J),{replace:!0}))}function C(J){const oe=J.matched[J.matched.length-1];if(oe&&oe.redirect){const{redirect:Y}=oe;let X=typeof Y=="function"?Y(J):Y;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=T(X):{path:X},X.params={}),Yr({query:J.query,hash:J.hash,params:X.path!=null?{}:J.params},X)}}function k(J,oe){const Y=h=x(J),X=u.value,K=J.state,z=J.force,j=J.replace===!0,te=C(Y);if(te)return k(Yr(T(te),{state:typeof te=="object"?Yr({},K,te.state):K,force:z,replace:j}),oe||Y);const re=Y;re.redirectedFrom=oe;let Se;return!z&&Wxe(n,X,Y)&&(Se=pm(16,{to:re,from:X}),U(X,X,!0,!1)),(Se?Promise.resolve(Se):_(re,X)).catch(ue=>Du(ue)?Du(ue,2)?ue:H(ue):D(ue,re,X)).then(ue=>{if(ue){if(Du(ue,2))return k(Yr({replace:j},T(ue.to),{state:typeof ue.to=="object"?Yr({},K,ue.to.state):K,force:z}),oe||re)}else ue=M(re,X,!0,j,K);return R(re,X,ue),ue})}function O(J,oe){const Y=w(J,oe);return Y?Promise.reject(Y):Promise.resolve()}function I(J){const oe=ee.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(J):J()}function _(J,oe){let Y;const[X,K,z]=C3e(J,oe);Y=Gk(X.reverse(),"beforeRouteLeave",J,oe);for(const te of X)te.leaveGuards.forEach(re=>{Y.push(v0(re,J,oe))});const j=O.bind(null,J,oe);return Y.push(j),Z(Y).then(()=>{Y=[];for(const te of o.list())Y.push(v0(te,J,oe));return Y.push(j),Z(Y)}).then(()=>{Y=Gk(K,"beforeRouteUpdate",J,oe);for(const te of K)te.updateGuards.forEach(re=>{Y.push(v0(re,J,oe))});return Y.push(j),Z(Y)}).then(()=>{Y=[];for(const te of z)if(te.beforeEnter)if(gc(te.beforeEnter))for(const re of te.beforeEnter)Y.push(v0(re,J,oe));else Y.push(v0(te.beforeEnter,J,oe));return Y.push(j),Z(Y)}).then(()=>(J.matched.forEach(te=>te.enterCallbacks={}),Y=Gk(z,"beforeRouteEnter",J,oe,I),Y.push(j),Z(Y))).then(()=>{Y=[];for(const te of l.list())Y.push(v0(te,J,oe));return Y.push(j),Z(Y)}).catch(te=>Du(te,8)?te:Promise.reject(te))}function R(J,oe,Y){c.list().forEach(X=>I(()=>X(J,oe,Y)))}function M(J,oe,Y,X,K){const z=w(J,oe);if(z)return z;const j=oe===Zh,te=S1?history.state:{};Y&&(X||j?a.replace(J.fullPath,Yr({scroll:j&&te&&te.scroll},K)):a.push(J.fullPath,K)),u.value=J,U(J,oe,Y,j),H()}let $;function N(){$||($=a.listen((J,oe,Y)=>{if(!ce.listening)return;const X=x(J),K=C(X);if(K){k(Yr(K,{replace:!0,force:!0}),X).catch(N2);return}h=X;const z=u.value;S1&&Kxe(sB(z.fullPath,Y.delta),ZS()),_(X,z).catch(j=>Du(j,12)?j:Du(j,2)?(k(Yr(T(j.to),{force:!0}),X).then(te=>{Du(te,20)&&!Y.delta&&Y.type===yb.pop&&a.go(-1,!1)}).catch(N2),Promise.reject()):(Y.delta&&a.go(-Y.delta,!1),D(j,X,z))).then(j=>{j=j||M(X,z,!1),j&&(Y.delta&&!Du(j,8)?a.go(-Y.delta,!1):Y.type===yb.pop&&Du(j,20)&&a.go(-1,!1)),R(X,z,j)}).catch(N2)}))}let P=sy(),F=sy(),L;function D(J,oe,Y){H(J);const X=F.list();return X.length?X.forEach(K=>K(J,oe,Y)):console.error(J),Promise.reject(J)}function B(){return L&&u.value!==Zh?Promise.resolve():new Promise((J,oe)=>{P.add([J,oe])})}function H(J){return L||(L=!J,N(),P.list().forEach(([oe,Y])=>J?Y(J):oe()),P.reset()),J}function U(J,oe,Y,X){const{scrollBehavior:K}=e;if(!S1||!K)return Promise.resolve();const z=!Y&&Zxe(sB(J.fullPath,0))||(X||!Y)&&history.state&&history.state.scroll||null;return Sp().then(()=>K(J,oe,z)).then(j=>j&&Xxe(j)).catch(j=>D(j,J,oe))}const G=J=>a.go(J);let W;const ee=new Set,ce={currentRoute:u,listening:!0,addRoute:g,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:y,resolve:x,options:e,push:E,replace:S,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:F.add,isReady:B,install(J){const oe=this;J.component("RouterLink",w3e),J.component("RouterView",XZ),J.config.globalProperties.$router=oe,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>Vr(u)}),S1&&!W&&u.value===Zh&&(W=!0,E(a.location).catch(K=>{}));const Y={};for(const K in Zh)Object.defineProperty(Y,K,{get:()=>u.value[K],enumerable:!0});J.provide(FN,oe),J.provide(jZ,qK(Y)),J.provide(uI,u);const X=J.unmount;ee.add(J),J.unmount=function(){ee.delete(J),ee.size<1&&(h=Zh,$&&$(),$=null,u.value=Zh,W=!1,L=!1),X()}}};function Z(J){return J.reduce((oe,Y)=>oe.then(()=>I(Y)),Promise.resolve())}return ce}function C3e(e,t){const r=[],n=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const c=t.matched[l];c&&(e.matched.find(h=>dm(h,c))?n.push(c):r.push(c));const u=e.matched[l];u&&(t.matched.find(h=>dm(h,u))||a.push(u))}return[r,n,a]}const I3e=Fh({__name:"App",setup(e){return(t,r)=>(Dn(),db(Vr(XZ)))}}),R3e="modulepreload",O3e=function(e,t){return new URL(e,t).href},TB={},vr=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(r.map(h=>{if(h=O3e(h,n),h in TB)return;TB[h]=!0;const f=h.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!n)for(let m=l.length-1;m>=0;m--){const y=l[m];if(y.href===h&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":R3e,f||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},KZ=k3e({history:r3e("./"),routes:[{path:"/",name:"home",component:()=>vr(()=>Promise.resolve().then(()=>J5e),void 0,import.meta.url),children:[{path:"metadata",component:()=>vr(()=>Promise.resolve().then(()=>nEe),void 0,import.meta.url)},{path:"/about",name:"about",component:()=>vr(()=>Promise.resolve().then(()=>fEe),void 0,import.meta.url)},{path:"asset/:name",component:()=>vr(()=>Promise.resolve().then(()=>gU),void 0,import.meta.url),props:!0},{path:"chapter/:name",component:()=>vr(()=>Promise.resolve().then(()=>gU),void 0,import.meta.url),props:!0},{path:"content.opf",component:()=>vr(()=>Promise.resolve().then(()=>ZLe),void 0,import.meta.url)}]}]}),BN=mxe(I3e);BN.use(bxe());BN.use(KZ);BN.mount("#root");var As=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _3e(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var N3e=L3e;function L3e(e){var t,r;if(typeof e!="function")throw new Error("expected a function but got "+e);return function(){return t||(t=!0,r=e.apply(this,arguments)),r}}(function(e){function t(x,T){var w;return x instanceof Buffer?w=x:w=Buffer.from(x.buffer,x.byteOffset,x.byteLength),w.toString(T)}var r=function(x){return Buffer.from(x)};function n(x){for(var T=0,w=Math.min(256*256,x.length+1),E=new Uint16Array(w),S=[],C=0;;){var k=T<x.length;if(!k||C>=w-1){var O=E.subarray(0,C),I=O;if(S.push(String.fromCharCode.apply(null,I)),!k)return S.join("");x=x.subarray(T),T=0,C=0}var _=x[T++];if(!(_&128))E[C++]=_;else if((_&224)===192){var R=x[T++]&63;E[C++]=(_&31)<<6|R}else if((_&240)===224){var R=x[T++]&63,M=x[T++]&63;E[C++]=(_&31)<<12|R<<6|M}else if((_&248)===240){var R=x[T++]&63,M=x[T++]&63,$=x[T++]&63,N=(_&7)<<18|R<<12|M<<6|$;N>65535&&(N-=65536,E[C++]=N>>>10&1023|55296,N=56320|N&1023),E[C++]=N}}}function a(x){for(var T=0,w=x.length,E=0,S=Math.max(32,w+(w>>>1)+7),C=new Uint8Array(S>>>3<<3);T<w;){var k=x.charCodeAt(T++);if(k>=55296&&k<=56319){if(T<w){var O=x.charCodeAt(T);(O&64512)===56320&&(++T,k=((k&1023)<<10)+(O&1023)+65536)}if(k>=55296&&k<=56319)continue}if(E+4>C.length){S+=8,S*=1+T/x.length*2,S=S>>>3<<3;var I=new Uint8Array(S);I.set(C),C=I}if(k&4294967168)if(!(k&4294965248))C[E++]=k>>>6&31|192;else if(!(k&4294901760))C[E++]=k>>>12&15|224,C[E++]=k>>>6&63|128;else if(!(k&4292870144))C[E++]=k>>>18&7|240,C[E++]=k>>>12&63|128,C[E++]=k>>>6&63|128;else continue;else{C[E++]=k;continue}C[E++]=k&63|128}return C.slice?C.slice(0,E):C.subarray(0,E)}var o="Failed to ",l=function(x,T,w){if(x)throw new Error("".concat(o).concat(T,": the '").concat(w,"' option is unsupported."))},c=typeof Buffer=="function"&&Buffer.from,u=c?r:a;function h(){this.encoding="utf-8"}h.prototype.encode=function(x,T){return l(T&&T.stream,"encode","stream"),u(x)};function f(x){var T;try{var w=new Blob([x],{type:"text/plain;charset=UTF-8"});T=URL.createObjectURL(w);var E=new XMLHttpRequest;return E.open("GET",T,!1),E.send(),E.responseText}finally{T&&URL.revokeObjectURL(T)}}var d=!c&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",p=["utf-8","utf8","unicode-1-1-utf-8"],g=n;c?g=t:d&&(g=function(x){try{return f(x)}catch{return n(x)}});var m="construct 'TextDecoder'",y="".concat(o," ").concat(m,": the ");function b(x,T){l(T&&T.fatal,m,"fatal"),x=x||"utf-8";var w;if(c?w=Buffer.isEncoding(x):w=p.indexOf(x.toLowerCase())!==-1,!w)throw new RangeError("".concat(y," encoding label provided ('").concat(x,"') is invalid."));this.encoding=x,this.fatal=!1,this.ignoreBOM=!1}b.prototype.decode=function(x,T){l(T&&T.stream,"decode","stream");var w;return x instanceof Uint8Array?w=x:x.buffer instanceof ArrayBuffer?w=new Uint8Array(x.buffer):w=new Uint8Array(x),g(w,this.encoding)},e.TextEncoder=e.TextEncoder||h,e.TextDecoder=e.TextDecoder||b})(typeof window<"u"?window:As);var M3e={encode:e=>new TextEncoder().encode(e),decode:e=>new TextDecoder().decode(e)},D3e=P3e;function P3e(e,t,r){var n;return function(){if(!t)return e.apply(this,arguments);var a=this,o=arguments,l=r&&!n;if(clearTimeout(n),n=setTimeout(function(){if(n=null,!l)return e.apply(a,o)},t),l)return e.apply(this,arguments)}}function ZZ(e){if(e.length===0)return".";let t=QZ(e);return t=t.reduce(H3e,[]),$N(...t)}function F3e(...e){let t="";for(let r of e)r.startsWith("/")?t=r:t=ZZ($N(t,r));return t}function $N(...e){if(e.length===0)return"";let t=e.join("/");return t=t.replace(/\/{2,}/g,"/"),t}function QZ(e){if(e.length===0)return[];if(e==="/")return["/"];let t=e.split("/");return t[t.length-1]===""&&t.pop(),e[0]==="/"?t[0]="/":t[0]!=="."&&t.unshift("."),t}function B3e(e){const t=e.lastIndexOf("/");if(t===-1)throw new Error(`Cannot get dirname of "${e}"`);return t===0?"/":e.slice(0,t)}function $3e(e){if(e==="/")throw new Error(`Cannot get basename of "${e}"`);const t=e.lastIndexOf("/");return t===-1?e:e.slice(t+1)}function H3e(e,t){if(e.length===0)return e.push(t),e;if(t===".")return e;if(t===".."){if(e.length===1){if(e[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(e[0]===".")return e.push(t),e}return e[e.length-1]===".."?(e.push(".."),e):(e.pop(),e)}return e.push(t),e}var HN={join:$N,normalize:ZZ,split:QZ,basename:$3e,dirname:B3e,resolve:F3e};function Dx(e){return class extends Error{constructor(...t){super(...t),this.code=e,this.message?this.message=e+": "+this.message:this.message=e}}}const U3e=Dx("EEXIST"),W3e=Dx("ENOENT"),z3e=Dx("ENOTDIR"),G3e=Dx("ENOTEMPTY"),Y3e=Dx("ETIMEDOUT");var JZ={EEXIST:U3e,ENOENT:W3e,ENOTDIR:z3e,ENOTEMPTY:G3e,ETIMEDOUT:Y3e};const us=HN,{EEXIST:wB,ENOENT:V3e,ENOTDIR:EB,ENOTEMPTY:q3e}=JZ,Ma=0;var j3e=class{constructor(){}_makeRoot(t=new Map){return t.set(Ma,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),t}activate(t=null){t===null?this._root=new Map([["/",this._makeRoot()]]):typeof t=="string"?this._root=new Map([["/",this._makeRoot(this.parse(t))]]):this._root=t}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(t){let r=1;for(let[n,a]of t)n!==Ma&&(r+=this._countInodes(a));return r}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(t){let r=t.get(Ma).ino;for(let[n,a]of t)n!==Ma&&(r=Math.max(r,this._maxInode(a)));return r}print(t=this._root.get("/")){let r="";const n=(a,o)=>{for(let[l,c]of a){if(l===0)continue;let u=c.get(Ma),h=u.mode.toString(8);r+=`${"	".repeat(o)}${l}	${h}`,u.type==="file"?r+=`	${u.size}	${u.mtimeMs}
`:(r+=`
`,n(c,o+1))}};return n(t,0),r}parse(t){let r=0;function n(c){const u=++r,h=c.length===1?"dir":"file";let[f,d,p]=c;return f=parseInt(f,8),d=d?parseInt(d):0,p=p?parseInt(p):Date.now(),new Map([[Ma,{mode:f,type:h,size:d,mtimeMs:p,ino:u}]])}let a=t.trim().split(`
`),o=this._makeRoot(),l=[{indent:-1,node:o},{indent:0,node:null}];for(let c of a){let h=c.match(/^\t*/)[0].length;c=c.slice(h);let[f,...d]=c.split("	"),p=n(d);if(h<=l[l.length-1].indent)for(;h<=l[l.length-1].indent;)l.pop();l.push({indent:h,node:p}),l[l.length-2].node.set(f,p)}return o}_lookup(t,r=!0){let n=this._root,a="/",o=us.split(t);for(let l=0;l<o.length;++l){let c=o[l];if(n=n.get(c),!n)throw new V3e(t);if(r||l<o.length-1){const u=n.get(Ma);if(u.type==="symlink"){let h=us.resolve(a,u.target);n=this._lookup(h)}a?a=us.join(a,c):a=c}}return n}mkdir(t,{mode:r}){if(t==="/")throw new wB;let n=this._lookup(us.dirname(t)),a=us.basename(t);if(n.has(a))throw new wB;let o=new Map,l={mode:r,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};o.set(Ma,l),n.set(a,o)}rmdir(t){let r=this._lookup(t);if(r.get(Ma).type!=="dir")throw new EB;if(r.size>1)throw new q3e;let n=this._lookup(us.dirname(t)),a=us.basename(t);n.delete(a)}readdir(t){let r=this._lookup(t);if(r.get(Ma).type!=="dir")throw new EB;return[...r.keys()].filter(n=>typeof n=="string")}writeStat(t,r,{mode:n}){let a;try{let h=this.stat(t);n==null&&(n=h.mode),a=h.ino}catch{}n==null&&(n=438),a==null&&(a=this.autoinc());let o=this._lookup(us.dirname(t)),l=us.basename(t),c={mode:n,type:"file",size:r,mtimeMs:Date.now(),ino:a},u=new Map;return u.set(Ma,c),o.set(l,u),c}unlink(t){let r=this._lookup(us.dirname(t)),n=us.basename(t);r.delete(n)}rename(t,r){let n=us.basename(r),a=this._lookup(t);this._lookup(us.dirname(r)).set(n,a),this.unlink(t)}stat(t){return this._lookup(t).get(Ma)}lstat(t){return this._lookup(t,!1).get(Ma)}readlink(t){return this._lookup(t,!1).get(Ma).target}symlink(t,r){let n,a;try{let h=this.stat(r);a===null&&(a=h.mode),n=h.ino}catch{}a==null&&(a=40960),n==null&&(n=this.autoinc());let o=this._lookup(us.dirname(r)),l=us.basename(r),c={mode:a,type:"symlink",target:t,size:0,mtimeMs:Date.now(),ino:n},u=new Map;return u.set(Ma,c),o.set(l,u),c}_du(t){let r=0;for(const[n,a]of t.entries())n===Ma?r+=a.size:r+=this._du(a);return r}du(t){let r=this._lookup(t);return this._du(r)}};class eQ{constructor(t="keyval-store",r="keyval"){this.storeName=r,this._dbName=t,this._storeName=r,this._init()}_init(){this._dbp||(this._dbp=new Promise((t,r)=>{const n=indexedDB.open(this._dbName);n.onerror=()=>r(n.error),n.onsuccess=()=>t(n.result),n.onupgradeneeded=()=>{n.result.createObjectStore(this._storeName)}}))}_withIDBStore(t,r){return this._init(),this._dbp.then(n=>new Promise((a,o)=>{const l=n.transaction(this.storeName,t);l.oncomplete=()=>a(),l.onabort=l.onerror=()=>o(l.error),r(l.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(t=>{t.close(),this._dbp=void 0})}}let Yk;function Ap(){return Yk||(Yk=new eQ),Yk}function X3e(e,t=Ap()){let r;return t._withIDBStore("readwrite",n=>{r=n.get(e)}).then(()=>r.result)}function K3e(e,t,r=Ap()){return r._withIDBStore("readwrite",n=>{n.put(t,e)})}function Z3e(e,t,r=Ap()){return r._withIDBStore("readwrite",n=>{const a=n.get(e);a.onsuccess=()=>{n.put(t(a.result),e)}})}function Q3e(e,t=Ap()){return t._withIDBStore("readwrite",r=>{r.delete(e)})}function J3e(e=Ap()){return e._withIDBStore("readwrite",t=>{t.clear()})}function eTe(e=Ap()){const t=[];return e._withIDBStore("readwrite",r=>{(r.openKeyCursor||r.openCursor).call(r).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}function tTe(e=Ap()){return e._close()}const rTe=Object.freeze(Object.defineProperty({__proto__:null,Store:eQ,clear:J3e,close:tTe,del:Q3e,get:X3e,keys:eTe,set:K3e,update:Z3e},Symbol.toStringTag,{value:"Module"})),tQ=_3e(rTe),Qh=tQ;var nTe=class{constructor(t,r){this._database=t,this._storename=r,this._store=new Qh.Store(this._database,this._storename)}saveSuperblock(t){return Qh.set("!root",t,this._store)}loadSuperblock(){return Qh.get("!root",this._store)}readFile(t){return Qh.get(t,this._store)}writeFile(t,r){return Qh.set(t,r,this._store)}unlink(t){return Qh.del(t,this._store)}wipe(){return Qh.clear(this._store)}close(){return Qh.close(this._store)}},iTe=class{constructor(t){this._url=t}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(t=>t.ok?t.text():null)}async readFile(t){const r=await fetch(this._url+t);if(r.status===200)return r.arrayBuffer();throw new Error("ENOENT")}async sizeFile(t){const r=await fetch(this._url+t,{method:"HEAD"});if(r.status===200)return r.headers.get("content-length");throw new Error("ENOENT")}};const oy=tQ,aTe=e=>new Promise(t=>setTimeout(t,e));var sTe=class{constructor(t,r){this._id=Math.random(),this._database=t,this._storename=r,this._store=new oy.Store(this._database,this._storename),this._lock=null}async has({margin:t=2e3}={}){if(this._lock&&this._lock.holder===this._id){const r=Date.now();return this._lock.expires>r+t?!0:await this.renew()}else return!1}async renew({ttl:t=5e3}={}){let r;return await oy.update("lock",n=>{const o=Date.now()+t;return r=n&&n.holder===this._id,this._lock=r?{holder:this._id,expires:o}:n,this._lock},this._store),r}async acquire({ttl:t=5e3}={}){let r,n,a;if(await oy.update("lock",o=>{const l=Date.now(),c=l+t;return n=o&&o.expires<l,r=o===void 0||n,a=o&&o.holder===this._id,this._lock=r?{holder:this._id,expires:c}:o,this._lock},this._store),a)throw new Error("Mutex double-locked");return r}async wait({interval:t=100,limit:r=6e3,ttl:n}={}){for(;r--;){if(await this.acquire({ttl:n}))return!0;await aTe(t)}throw new Error("Mutex timeout")}async release({force:t=!1}={}){let r,n,a;if(await oy.update("lock",o=>(r=t||o&&o.holder===this._id,n=o===void 0,a=o&&o.holder!==this._id,this._lock=r?void 0:o,this._lock),this._store),await oy.close(this._store),!r&&!t){if(n)throw new Error("Mutex double-freed");if(a)throw new Error("Mutex lost ownership")}return r}},oTe=class{constructor(t){this._id=Math.random(),this._database=t,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(t=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},r=>(this._has=!!r,t(!!r),new Promise(n=>{this._release=n})))})}async wait({timeout:t=6e5}={}){return new Promise((r,n)=>{const a=new AbortController;setTimeout(()=>{a.abort(),n(new Error("Mutex timeout"))},t),navigator.locks.request(this._database+"_lock",{signal:a.signal},o=>(this._has=!!o,r(!!o),new Promise(l=>{this._release=l})))})}async release({force:t=!1}={}){this._has=!1,this._release?this._release():t&&navigator.locks.request(this._database+"_lock",{steal:!0},r=>!0)}};const{encode:lTe,decode:SB}=M3e,cTe=D3e,uTe=j3e,{ENOENT:hTe,ENOTEMPTY:fTe,ETIMEDOUT:dTe}=JZ,pTe=nTe,gTe=iTe,mTe=sTe,vTe=oTe,ly=HN;var yTe=class{constructor(){this.saveSuperblock=cTe(()=>{this.flush()},500)}async init(t,{wipe:r,url:n,urlauto:a,fileDbName:o=t,db:l=null,fileStoreName:c=t+"_files",lockDbName:u=t+"_lock",lockStoreName:h=t+"_lock"}={}){this._name=t,this._idb=l||new pTe(o,c),this._mutex=navigator.locks?new vTe(t):new mTe(u,h),this._cache=new uTe(t),this._opts={wipe:r,url:n},this._needsWipe=!!r,n&&(this._http=new gTe(n),this._urlauto=!!a)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();const t=await this._idb.loadSuperblock();if(t)this._cache.activate(t);else if(this._http){const r=await this._http.loadSuperblock();this._cache.activate(r),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new dTe}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(t){console.log(t)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(t,r,n){let a=ly.split(ly.dirname(t)),o=a.shift();for(let l of a){o=ly.join(o,l);try{this._cache.mkdir(o,{mode:511})}catch{}}return this._cache.writeStat(t,r,n)}async readFile(t,r){const{encoding:n}=r;if(n&&n!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let a=null,o=null;try{o=this._cache.stat(t),a=await this._idb.readFile(o.ino)}catch(l){if(!this._urlauto)throw l}if(!a&&this._http){let l=this._cache.lstat(t);for(;l.type==="symlink";)t=ly.resolve(ly.dirname(t),l.target),l=this._cache.lstat(t);a=await this._http.readFile(t)}if(a&&((!o||o.size!=a.byteLength)&&(o=await this._writeStat(t,a.byteLength,{mode:o?o.mode:438}),this.saveSuperblock()),n==="utf8"?a=SB(a):a.toString=()=>SB(a)),!o)throw new hTe(t);return a}async writeFile(t,r,n){const{mode:a,encoding:o="utf8"}=n;if(typeof r=="string"){if(o!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');r=lTe(r)}const l=await this._cache.writeStat(t,r.byteLength,{mode:a});await this._idb.writeFile(l.ino,r)}async unlink(t,r){const n=this._cache.lstat(t);this._cache.unlink(t),n.type!=="symlink"&&await this._idb.unlink(n.ino)}readdir(t,r){return this._cache.readdir(t)}mkdir(t,r){const{mode:n=511}=r;this._cache.mkdir(t,{mode:n})}rmdir(t,r){if(t==="/")throw new fTe;this._cache.rmdir(t)}rename(t,r){this._cache.rename(t,r)}stat(t,r){return this._cache.stat(t)}lstat(t,r){return this._cache.lstat(t)}readlink(t,r){return this._cache.readlink(t)}symlink(t,r){this._cache.symlink(t,r)}async backFile(t,r){let n=await this._http.sizeFile(t);await this._writeStat(t,n,r)}du(t){return this._cache.du(t)}flush(){return this._saveSuperblock()}},bTe=class{constructor(t){this.type=t.type,this.mode=t.mode,this.size=t.size,this.ino=t.ino,this.mtimeMs=t.mtimeMs,this.ctimeMs=t.ctimeMs||t.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}};const xTe=yTe,AB=bTe,a5=HN;function Cc(e,t,...r){return e=a5.normalize(e),(typeof t>"u"||typeof t=="function")&&(t={}),typeof t=="string"&&(t={encoding:t}),[e,t,...r]}function TTe(e,t,r,...n){return e=a5.normalize(e),(typeof r>"u"||typeof r=="function")&&(r={}),typeof r=="string"&&(r={encoding:r}),[e,t,r,...n]}function kB(e,t,...r){return[a5.normalize(e),a5.normalize(t),...r]}var wTe=class{constructor(t,r={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,Cc,!1),this.writeFile=this._wrap(this.writeFile,TTe,!0),this.unlink=this._wrap(this.unlink,Cc,!0),this.readdir=this._wrap(this.readdir,Cc,!1),this.mkdir=this._wrap(this.mkdir,Cc,!0),this.rmdir=this._wrap(this.rmdir,Cc,!0),this.rename=this._wrap(this.rename,kB,!0),this.stat=this._wrap(this.stat,Cc,!1),this.lstat=this._wrap(this.lstat,Cc,!1),this.readlink=this._wrap(this.readlink,Cc,!1),this.symlink=this._wrap(this.symlink,kB,!0),this.backFile=this._wrap(this.backFile,Cc,!0),this.du=this._wrap(this.du,Cc,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,t&&this.init(t,r)}async init(...t){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...t),this._initPromise}async _init(t,r={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=r.backend||new xTe,this._backend.init&&await this._backend.init(t,r),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),r.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(t=>this._gracefulShutdownResolve=t),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(t,r,n){return async(...a)=>{a=r(...a);let o={name:t.name,args:a};this._operations.add(o);try{return await this._activate(),await t.apply(this,a)}finally{this._operations.delete(o),n&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(t,r){return this._backend.readFile(t,r)}async writeFile(t,r,n){return await this._backend.writeFile(t,r,n),null}async unlink(t,r){return await this._backend.unlink(t,r),null}async readdir(t,r){return this._backend.readdir(t,r)}async mkdir(t,r){return await this._backend.mkdir(t,r),null}async rmdir(t,r){return await this._backend.rmdir(t,r),null}async rename(t,r){return await this._backend.rename(t,r),null}async stat(t,r){const n=await this._backend.stat(t,r);return new AB(n)}async lstat(t,r){const n=await this._backend.lstat(t,r);return new AB(n)}async readlink(t,r){return this._backend.readlink(t,r)}async symlink(t,r){return await this._backend.symlink(t,r),null}async backFile(t,r){return await this._backend.backFile(t,r),null}async du(t){return this._backend.du(t)}async flush(){return this._backend.flush()}};const ETe=N3e,STe=wTe;function Fs(e,t){return typeof e=="function"&&(t=e),t=ETe(t),[(...n)=>t(null,...n),t]}var ATe=class{constructor(...t){this.promises=new STe(...t),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(t,r){return this.promises.init(t,r)}readFile(t,r,n){const[a,o]=Fs(r,n);this.promises.readFile(t,r).then(a).catch(o)}writeFile(t,r,n,a){const[o,l]=Fs(n,a);this.promises.writeFile(t,r,n).then(o).catch(l)}unlink(t,r,n){const[a,o]=Fs(r,n);this.promises.unlink(t,r).then(a).catch(o)}readdir(t,r,n){const[a,o]=Fs(r,n);this.promises.readdir(t,r).then(a).catch(o)}mkdir(t,r,n){const[a,o]=Fs(r,n);this.promises.mkdir(t,r).then(a).catch(o)}rmdir(t,r,n){const[a,o]=Fs(r,n);this.promises.rmdir(t,r).then(a).catch(o)}rename(t,r,n){const[a,o]=Fs(n);this.promises.rename(t,r).then(a).catch(o)}stat(t,r,n){const[a,o]=Fs(r,n);this.promises.stat(t).then(a).catch(o)}lstat(t,r,n){const[a,o]=Fs(r,n);this.promises.lstat(t).then(a).catch(o)}readlink(t,r,n){const[a,o]=Fs(r,n);this.promises.readlink(t).then(a).catch(o)}symlink(t,r,n){const[a,o]=Fs(n);this.promises.symlink(t,r).then(a).catch(o)}backFile(t,r,n){const[a,o]=Fs(r,n);this.promises.backFile(t,r).then(a).catch(o)}du(t,r){const[n,a]=Fs(r);this.promises.du(t).then(n).catch(a)}flush(t){const[r,n]=Fs(t);this.promises.flush().then(r).catch(n)}};const gm=Wo(ATe),bb=15,hI=30,fI=19,kTe=29,s5=256,UN=s5+1+kTe,CB=2*UN+1,cy=256,CTe=7,IB=16,RB=17,OB=18,Vk=8*2,o5=-1,ITe=1,rT=2,RTe=0,A1=0,_B=1,OTe=3,$s=4,zl=0,rQ=1,nT=2,Yl=-2,_Te=-3,Zp=-5;function QS(e){return JS(e.map(([t,r])=>new Array(t).fill(r,0,t)))}function JS(e){return e.reduce((t,r)=>t.concat(Array.isArray(r)?JS(r):r),[])}const NB=[0,1,2,3].concat(...QS([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Cn(){const e=this;function t(a){const o=e.dyn_tree,l=e.stat_desc.static_tree,c=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,h=e.stat_desc.max_length;let f,d,p,g,m,y,b=0;for(g=0;g<=bb;g++)a.bl_count[g]=0;for(o[a.heap[a.heap_max]*2+1]=0,f=a.heap_max+1;f<CB;f++)d=a.heap[f],g=o[o[d*2+1]*2+1]+1,g>h&&(g=h,b++),o[d*2+1]=g,!(d>e.max_code)&&(a.bl_count[g]++,m=0,d>=u&&(m=c[d-u]),y=o[d*2],a.opt_len+=y*(g+m),l&&(a.static_len+=y*(l[d*2+1]+m)));if(b!==0){do{for(g=h-1;a.bl_count[g]===0;)g--;a.bl_count[g]--,a.bl_count[g+1]+=2,a.bl_count[h]--,b-=2}while(b>0);for(g=h;g!==0;g--)for(d=a.bl_count[g];d!==0;)p=a.heap[--f],!(p>e.max_code)&&(o[p*2+1]!=g&&(a.opt_len+=(g-o[p*2+1])*o[p*2],o[p*2+1]=g),d--)}}function r(a,o){let l=0;do l|=a&1,a>>>=1,l<<=1;while(--o>0);return l>>>1}function n(a,o,l){const c=[];let u=0,h,f,d;for(h=1;h<=bb;h++)c[h]=u=u+l[h-1]<<1;for(f=0;f<=o;f++)d=a[f*2+1],d!==0&&(a[f*2]=r(c[d]++,d))}e.build_tree=function(a){const o=e.dyn_tree,l=e.stat_desc.static_tree,c=e.stat_desc.elems;let u,h,f=-1,d;for(a.heap_len=0,a.heap_max=CB,u=0;u<c;u++)o[u*2]!==0?(a.heap[++a.heap_len]=f=u,a.depth[u]=0):o[u*2+1]=0;for(;a.heap_len<2;)d=a.heap[++a.heap_len]=f<2?++f:0,o[d*2]=1,a.depth[d]=0,a.opt_len--,l&&(a.static_len-=l[d*2+1]);for(e.max_code=f,u=Math.floor(a.heap_len/2);u>=1;u--)a.pqdownheap(o,u);d=c;do u=a.heap[1],a.heap[1]=a.heap[a.heap_len--],a.pqdownheap(o,1),h=a.heap[1],a.heap[--a.heap_max]=u,a.heap[--a.heap_max]=h,o[d*2]=o[u*2]+o[h*2],a.depth[d]=Math.max(a.depth[u],a.depth[h])+1,o[u*2+1]=o[h*2+1]=d,a.heap[1]=d++,a.pqdownheap(o,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],t(a),n(o,e.max_code,a.bl_count)}}Cn._length_code=[0,1,2,3,4,5,6,7].concat(...QS([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));Cn.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];Cn.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];Cn.d_code=function(e){return e<256?NB[e]:NB[256+(e>>>7)]};Cn.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];Cn.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];Cn.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];Cn.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function ba(e,t,r,n,a){const o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=r,o.elems=n,o.max_length=a}const NTe=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],LTe=QS([[144,8],[112,9],[24,7],[8,8]]);ba.static_ltree=JS(NTe.map((e,t)=>[e,LTe[t]]));const MTe=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],DTe=QS([[30,5]]);ba.static_dtree=JS(MTe.map((e,t)=>[e,DTe[t]]));ba.static_l_desc=new ba(ba.static_ltree,Cn.extra_lbits,s5+1,UN,bb);ba.static_d_desc=new ba(ba.static_dtree,Cn.extra_dbits,0,hI,bb);ba.static_bl_desc=new ba(null,Cn.extra_blbits,0,fI,CTe);const PTe=9,FTe=8;function Ic(e,t,r,n,a){const o=this;o.good_length=e,o.max_lazy=t,o.nice_length=r,o.max_chain=n,o.func=a}const nQ=0,z4=1,ed=2,Fl=[new Ic(0,0,0,0,nQ),new Ic(4,4,8,4,z4),new Ic(4,5,16,8,z4),new Ic(4,6,32,32,z4),new Ic(4,4,16,16,ed),new Ic(8,16,32,32,ed),new Ic(8,16,128,128,ed),new Ic(8,32,128,256,ed),new Ic(32,128,258,1024,ed),new Ic(32,258,258,4096,ed)],iT=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Xo=0,aT=1,uy=2,sT=3,BTe=32,qk=42,oT=113,hy=666,jk=8,$Te=0,Xk=1,HTe=2,Nn=3,G4=258,yo=G4+Nn+1;function LB(e,t,r,n){const a=e[t*2],o=e[r*2];return a<o||a==o&&n[t]<=n[r]}function UTe(){const e=this;let t,r,n,a,o,l,c,u,h,f,d,p,g,m,y,b,x,T,w,E,S,C,k,O,I,_,R,M,$,N,P,F,L;const D=new Cn,B=new Cn,H=new Cn;e.depth=[];let U,G,W,ee,ce,Z;e.bl_count=[],e.heap=[],P=[],F=[],L=[];function J(){h=2*o,d[g-1]=0;for(let pe=0;pe<g-1;pe++)d[pe]=0;_=Fl[R].max_lazy,$=Fl[R].good_length,N=Fl[R].nice_length,I=Fl[R].max_chain,S=0,x=0,k=0,T=O=Nn-1,E=0,p=0}function oe(){let pe;for(pe=0;pe<UN;pe++)P[pe*2]=0;for(pe=0;pe<hI;pe++)F[pe*2]=0;for(pe=0;pe<fI;pe++)L[pe*2]=0;P[cy*2]=1,e.opt_len=e.static_len=0,G=W=0}function Y(){D.dyn_tree=P,D.stat_desc=ba.static_l_desc,B.dyn_tree=F,B.stat_desc=ba.static_d_desc,H.dyn_tree=L,H.stat_desc=ba.static_bl_desc,ce=0,Z=0,ee=8,oe()}e.pqdownheap=function(pe,xe){const ve=e.heap,Ee=ve[xe];let ke=xe<<1;for(;ke<=e.heap_len&&(ke<e.heap_len&&LB(pe,ve[ke+1],ve[ke],e.depth)&&ke++,!LB(pe,Ee,ve[ke],e.depth));)ve[xe]=ve[ke],xe=ke,ke<<=1;ve[xe]=Ee};function X(pe,xe){let ve=-1,Ee,ke=pe[0*2+1],Pe=0,Oe=7,Ye=4;ke===0&&(Oe=138,Ye=3),pe[(xe+1)*2+1]=65535;for(let Je=0;Je<=xe;Je++)Ee=ke,ke=pe[(Je+1)*2+1],!(++Pe<Oe&&Ee==ke)&&(Pe<Ye?L[Ee*2]+=Pe:Ee!==0?(Ee!=ve&&L[Ee*2]++,L[IB*2]++):Pe<=10?L[RB*2]++:L[OB*2]++,Pe=0,ve=Ee,ke===0?(Oe=138,Ye=3):Ee==ke?(Oe=6,Ye=3):(Oe=7,Ye=4))}function K(){let pe;for(X(P,D.max_code),X(F,B.max_code),H.build_tree(e),pe=fI-1;pe>=3&&L[Cn.bl_order[pe]*2+1]===0;pe--);return e.opt_len+=3*(pe+1)+5+5+4,pe}function z(pe){e.pending_buf[e.pending++]=pe}function j(pe){z(pe&255),z(pe>>>8&255)}function te(pe){z(pe>>8&255),z(pe&255&255)}function re(pe,xe){let ve;const Ee=xe;Z>Vk-Ee?(ve=pe,ce|=ve<<Z&65535,j(ce),ce=ve>>>Vk-Z,Z+=Ee-Vk):(ce|=pe<<Z&65535,Z+=Ee)}function Se(pe,xe){const ve=pe*2;re(xe[ve]&65535,xe[ve+1]&65535)}function ue(pe,xe){let ve,Ee=-1,ke,Pe=pe[0*2+1],Oe=0,Ye=7,Je=4;for(Pe===0&&(Ye=138,Je=3),ve=0;ve<=xe;ve++)if(ke=Pe,Pe=pe[(ve+1)*2+1],!(++Oe<Ye&&ke==Pe)){if(Oe<Je)do Se(ke,L);while(--Oe!==0);else ke!==0?(ke!=Ee&&(Se(ke,L),Oe--),Se(IB,L),re(Oe-3,2)):Oe<=10?(Se(RB,L),re(Oe-3,3)):(Se(OB,L),re(Oe-11,7));Oe=0,Ee=ke,Pe===0?(Ye=138,Je=3):ke==Pe?(Ye=6,Je=3):(Ye=7,Je=4)}}function se(pe,xe,ve){let Ee;for(re(pe-257,5),re(xe-1,5),re(ve-4,4),Ee=0;Ee<ve;Ee++)re(L[Cn.bl_order[Ee]*2+1],3);ue(P,pe-1),ue(F,xe-1)}function fe(){Z==16?(j(ce),ce=0,Z=0):Z>=8&&(z(ce&255),ce>>>=8,Z-=8)}function ye(){re(Xk<<1,3),Se(cy,ba.static_ltree),fe(),1+ee+10-Z<9&&(re(Xk<<1,3),Se(cy,ba.static_ltree),fe()),ee=7}function he(pe,xe){let ve,Ee,ke;if(e.dist_buf[G]=pe,e.lc_buf[G]=xe&255,G++,pe===0?P[xe*2]++:(W++,pe--,P[(Cn._length_code[xe]+s5+1)*2]++,F[Cn.d_code(pe)*2]++),!(G&8191)&&R>2){for(ve=G*8,Ee=S-x,ke=0;ke<hI;ke++)ve+=F[ke*2]*(5+Cn.extra_dbits[ke]);if(ve>>>=3,W<Math.floor(G/2)&&ve<Math.floor(Ee/2))return!0}return G==U-1}function Ae(pe,xe){let ve,Ee,ke=0,Pe,Oe;if(G!==0)do ve=e.dist_buf[ke],Ee=e.lc_buf[ke],ke++,ve===0?Se(Ee,pe):(Pe=Cn._length_code[Ee],Se(Pe+s5+1,pe),Oe=Cn.extra_lbits[Pe],Oe!==0&&(Ee-=Cn.base_length[Pe],re(Ee,Oe)),ve--,Pe=Cn.d_code(ve),Se(Pe,xe),Oe=Cn.extra_dbits[Pe],Oe!==0&&(ve-=Cn.base_dist[Pe],re(ve,Oe)));while(ke<G);Se(cy,pe),ee=pe[cy*2+1]}function Ce(){Z>8?j(ce):Z>0&&z(ce&255),ce=0,Z=0}function Ie(pe,xe,ve){Ce(),ee=8,j(xe),j(~xe),e.pending_buf.set(u.subarray(pe,pe+xe),e.pending),e.pending+=xe}function Le(pe,xe,ve){re(($Te<<1)+(ve?1:0),3),Ie(pe,xe)}function ae(pe,xe,ve){let Ee,ke,Pe=0;R>0?(D.build_tree(e),B.build_tree(e),Pe=K(),Ee=e.opt_len+3+7>>>3,ke=e.static_len+3+7>>>3,ke<=Ee&&(Ee=ke)):Ee=ke=xe+5,xe+4<=Ee&&pe!=-1?Le(pe,xe,ve):ke==Ee?(re((Xk<<1)+(ve?1:0),3),Ae(ba.static_ltree,ba.static_dtree)):(re((HTe<<1)+(ve?1:0),3),se(D.max_code+1,B.max_code+1,Pe+1),Ae(P,F)),oe(),ve&&Ce()}function q(pe){ae(x>=0?x:-1,S-x,pe),x=S,t.flush_pending()}function ge(){let pe,xe,ve,Ee;do{if(Ee=h-k-S,Ee===0&&S===0&&k===0)Ee=o;else if(Ee==-1)Ee--;else if(S>=o+o-yo){u.set(u.subarray(o,o+o),0),C-=o,S-=o,x-=o,pe=g,ve=pe;do xe=d[--ve]&65535,d[ve]=xe>=o?xe-o:0;while(--pe!==0);pe=o,ve=pe;do xe=f[--ve]&65535,f[ve]=xe>=o?xe-o:0;while(--pe!==0);Ee+=o}if(t.avail_in===0)return;pe=t.read_buf(u,S+k,Ee),k+=pe,k>=Nn&&(p=u[S]&255,p=(p<<b^u[S+1]&255)&y)}while(k<yo&&t.avail_in!==0)}function le(pe){let xe=65535,ve;for(xe>n-5&&(xe=n-5);;){if(k<=1){if(ge(),k===0&&pe==A1)return Xo;if(k===0)break}if(S+=k,k=0,ve=x+xe,(S===0||S>=ve)&&(k=S-ve,S=ve,q(!1),t.avail_out===0)||S-x>=o-yo&&(q(!1),t.avail_out===0))return Xo}return q(pe==$s),t.avail_out===0?pe==$s?uy:Xo:pe==$s?sT:aT}function Te(pe){let xe=I,ve=S,Ee,ke,Pe=O;const Oe=S>o-yo?S-(o-yo):0;let Ye=N;const Je=c,Ct=S+G4;let dt=u[ve+Pe-1],ct=u[ve+Pe];O>=$&&(xe>>=2),Ye>k&&(Ye=k);do if(Ee=pe,!(u[Ee+Pe]!=ct||u[Ee+Pe-1]!=dt||u[Ee]!=u[ve]||u[++Ee]!=u[ve+1])){ve+=2,Ee++;do;while(u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&u[++ve]==u[++Ee]&&ve<Ct);if(ke=G4-(Ct-ve),ve=Ct-G4,ke>Pe){if(C=pe,Pe=ke,ke>=Ye)break;dt=u[ve+Pe-1],ct=u[ve+Pe]}}while((pe=f[pe&Je]&65535)>Oe&&--xe!==0);return Pe<=k?Pe:k}function ne(pe){let xe=0,ve;for(;;){if(k<yo){if(ge(),k<yo&&pe==A1)return Xo;if(k===0)break}if(k>=Nn&&(p=(p<<b^u[S+(Nn-1)]&255)&y,xe=d[p]&65535,f[S&c]=d[p],d[p]=S),xe!==0&&(S-xe&65535)<=o-yo&&M!=rT&&(T=Te(xe)),T>=Nn)if(ve=he(S-C,T-Nn),k-=T,T<=_&&k>=Nn){T--;do S++,p=(p<<b^u[S+(Nn-1)]&255)&y,xe=d[p]&65535,f[S&c]=d[p],d[p]=S;while(--T!==0);S++}else S+=T,T=0,p=u[S]&255,p=(p<<b^u[S+1]&255)&y;else ve=he(0,u[S]&255),k--,S++;if(ve&&(q(!1),t.avail_out===0))return Xo}return q(pe==$s),t.avail_out===0?pe==$s?uy:Xo:pe==$s?sT:aT}function Re(pe){let xe=0,ve,Ee;for(;;){if(k<yo){if(ge(),k<yo&&pe==A1)return Xo;if(k===0)break}if(k>=Nn&&(p=(p<<b^u[S+(Nn-1)]&255)&y,xe=d[p]&65535,f[S&c]=d[p],d[p]=S),O=T,w=C,T=Nn-1,xe!==0&&O<_&&(S-xe&65535)<=o-yo&&(M!=rT&&(T=Te(xe)),T<=5&&(M==ITe||T==Nn&&S-C>4096)&&(T=Nn-1)),O>=Nn&&T<=O){Ee=S+k-Nn,ve=he(S-1-w,O-Nn),k-=O-1,O-=2;do++S<=Ee&&(p=(p<<b^u[S+(Nn-1)]&255)&y,xe=d[p]&65535,f[S&c]=d[p],d[p]=S);while(--O!==0);if(E=0,T=Nn-1,S++,ve&&(q(!1),t.avail_out===0))return Xo}else if(E!==0){if(ve=he(0,u[S-1]&255),ve&&q(!1),S++,k--,t.avail_out===0)return Xo}else E=1,S++,k--}return E!==0&&(ve=he(0,u[S-1]&255),E=0),q(pe==$s),t.avail_out===0?pe==$s?uy:Xo:pe==$s?sT:aT}function ie(pe){return pe.total_in=pe.total_out=0,pe.msg=null,e.pending=0,e.pending_out=0,r=oT,a=A1,Y(),J(),zl}e.deflateInit=function(pe,xe,ve,Ee,ke,Pe){return Ee||(Ee=jk),ke||(ke=FTe),Pe||(Pe=RTe),pe.msg=null,xe==o5&&(xe=6),ke<1||ke>PTe||Ee!=jk||ve<9||ve>15||xe<0||xe>9||Pe<0||Pe>rT?Yl:(pe.dstate=e,l=ve,o=1<<l,c=o-1,m=ke+7,g=1<<m,y=g-1,b=Math.floor((m+Nn-1)/Nn),u=new Uint8Array(o*2),f=[],d=[],U=1<<ke+6,e.pending_buf=new Uint8Array(U*4),n=U*4,e.dist_buf=new Uint16Array(U),e.lc_buf=new Uint8Array(U),R=xe,M=Pe,ie(pe))},e.deflateEnd=function(){return r!=qk&&r!=oT&&r!=hy?Yl:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,d=null,f=null,u=null,e.dstate=null,r==oT?_Te:zl)},e.deflateParams=function(pe,xe,ve){let Ee=zl;return xe==o5&&(xe=6),xe<0||xe>9||ve<0||ve>rT?Yl:(Fl[R].func!=Fl[xe].func&&pe.total_in!==0&&(Ee=pe.deflate(_B)),R!=xe&&(R=xe,_=Fl[R].max_lazy,$=Fl[R].good_length,N=Fl[R].nice_length,I=Fl[R].max_chain),M=ve,Ee)},e.deflateSetDictionary=function(pe,xe,ve){let Ee=ve,ke,Pe=0;if(!xe||r!=qk)return Yl;if(Ee<Nn)return zl;for(Ee>o-yo&&(Ee=o-yo,Pe=ve-Ee),u.set(xe.subarray(Pe,Pe+Ee),0),S=Ee,x=Ee,p=u[0]&255,p=(p<<b^u[1]&255)&y,ke=0;ke<=Ee-Nn;ke++)p=(p<<b^u[ke+(Nn-1)]&255)&y,f[ke&c]=d[p],d[p]=ke;return zl},e.deflate=function(pe,xe){let ve,Ee,ke,Pe,Oe;if(xe>$s||xe<0)return Yl;if(!pe.next_out||!pe.next_in&&pe.avail_in!==0||r==hy&&xe!=$s)return pe.msg=iT[nT-Yl],Yl;if(pe.avail_out===0)return pe.msg=iT[nT-Zp],Zp;if(t=pe,Pe=a,a=xe,r==qk&&(Ee=jk+(l-8<<4)<<8,ke=(R-1&255)>>1,ke>3&&(ke=3),Ee|=ke<<6,S!==0&&(Ee|=BTe),Ee+=31-Ee%31,r=oT,te(Ee)),e.pending!==0){if(t.flush_pending(),t.avail_out===0)return a=-1,zl}else if(t.avail_in===0&&xe<=Pe&&xe!=$s)return t.msg=iT[nT-Zp],Zp;if(r==hy&&t.avail_in!==0)return pe.msg=iT[nT-Zp],Zp;if(t.avail_in!==0||k!==0||xe!=A1&&r!=hy){switch(Oe=-1,Fl[R].func){case nQ:Oe=le(xe);break;case z4:Oe=ne(xe);break;case ed:Oe=Re(xe);break}if((Oe==uy||Oe==sT)&&(r=hy),Oe==Xo||Oe==uy)return t.avail_out===0&&(a=-1),zl;if(Oe==aT){if(xe==_B)ye();else if(Le(0,0,!1),xe==OTe)for(ve=0;ve<g;ve++)d[ve]=0;if(t.flush_pending(),t.avail_out===0)return a=-1,zl}}return xe!=$s?zl:rQ}}function iQ(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}iQ.prototype={deflateInit(e,t){const r=this;return r.dstate=new UTe,t||(t=bb),r.dstate.deflateInit(r,e,t)},deflate(e){const t=this;return t.dstate?t.dstate.deflate(t,e):Yl},deflateEnd(){const e=this;if(!e.dstate)return Yl;const t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams(e,t){const r=this;return r.dstate?r.dstate.deflateParams(r,e,t):Yl},deflateSetDictionary(e,t){const r=this;return r.dstate?r.dstate.deflateSetDictionary(r,e,t):Yl},read_buf(e,t,r){const n=this;let a=n.avail_in;return a>r&&(a=r),a===0?0:(n.avail_in-=a,e.set(n.next_in.subarray(n.next_in_index,n.next_in_index+a),t),n.next_in_index+=a,n.total_in+=a,a)},flush_pending(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,e.dstate.pending===0&&(e.dstate.pending_out=0))}};function WTe(e){const t=this,r=new iQ,n=zTe(e&&e.chunkSize?e.chunkSize:64*1024),a=A1,o=new Uint8Array(n);let l=e?e.level:o5;typeof l>"u"&&(l=o5),r.deflateInit(l),r.next_out=o,t.append=function(c,u){let h,f,d=0,p=0,g=0;const m=[];if(c.length){r.next_in_index=0,r.next_in=c,r.avail_in=c.length;do{if(r.next_out_index=0,r.avail_out=n,h=r.deflate(a),h!=zl)throw new Error("deflating: "+r.msg);r.next_out_index&&(r.next_out_index==n?m.push(new Uint8Array(o)):m.push(o.subarray(0,r.next_out_index))),g+=r.next_out_index,u&&r.next_in_index>0&&r.next_in_index!=d&&(u(r.next_in_index),d=r.next_in_index)}while(r.avail_in>0||r.avail_out===0);return m.length>1?(f=new Uint8Array(g),m.forEach(function(y){f.set(y,p),p+=y.length})):f=m[0]?new Uint8Array(m[0]):new Uint8Array,f}},t.flush=function(){let c,u,h=0,f=0;const d=[];do{if(r.next_out_index=0,r.avail_out=n,c=r.deflate($s),c!=rQ&&c!=zl)throw new Error("deflating: "+r.msg);n-r.avail_out>0&&d.push(o.slice(0,r.next_out_index)),f+=r.next_out_index}while(r.avail_in>0||r.avail_out===0);return r.deflateEnd(),u=new Uint8Array(f),d.forEach(function(p){u.set(p,h),h+=p.length}),u}}function zTe(e){return e+5*(Math.floor(e/16383)+1)}const GTe=15,Pr=0,uh=1,YTe=2,zs=-2,In=-3,MB=-4,hh=-5,So=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],aQ=1440,VTe=0,qTe=4,jTe=9,XTe=5,KTe=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ZTe=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],QTe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],JTe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],e4e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],t4e=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Jh=15;function dI(){const e=this;let t,r,n,a,o,l;function c(h,f,d,p,g,m,y,b,x,T,w){let E,S,C,k,O,I,_,R,M,$,N,P,F,L,D;$=0,O=d;do n[h[f+$]]++,$++,O--;while(O!==0);if(n[0]==d)return y[0]=-1,b[0]=0,Pr;for(R=b[0],I=1;I<=Jh&&n[I]===0;I++);for(_=I,R<I&&(R=I),O=Jh;O!==0&&n[O]===0;O--);for(C=O,R>O&&(R=O),b[0]=R,L=1<<I;I<O;I++,L<<=1)if((L-=n[I])<0)return In;if((L-=n[O])<0)return In;for(n[O]+=L,l[1]=I=0,$=1,F=2;--O!==0;)l[F]=I+=n[$],F++,$++;O=0,$=0;do(I=h[f+$])!==0&&(w[l[I]++]=O),$++;while(++O<d);for(d=l[C],l[0]=O=0,$=0,k=-1,P=-R,o[0]=0,N=0,D=0;_<=C;_++)for(E=n[_];E--!==0;){for(;_>P+R;){if(k++,P+=R,D=C-P,D=D>R?R:D,(S=1<<(I=_-P))>E+1&&(S-=E+1,F=_,I<D))for(;++I<D&&!((S<<=1)<=n[++F]);)S-=n[F];if(D=1<<I,T[0]+D>aQ)return In;o[k]=N=T[0],T[0]+=D,k!==0?(l[k]=O,a[0]=I,a[1]=R,I=O>>>P-R,a[2]=N-o[k-1]-I,x.set(a,(o[k-1]+I)*3)):y[0]=N}for(a[1]=_-P,$>=d?a[0]=192:w[$]<p?(a[0]=w[$]<256?0:96,a[2]=w[$++]):(a[0]=m[w[$]-p]+16+64,a[2]=g[w[$++]-p]),S=1<<_-P,I=O>>>P;I<D;I+=S)x.set(a,(N+I)*3);for(I=1<<_-1;O&I;I>>>=1)O^=I;for(O^=I,M=(1<<P)-1;(O&M)!=l[k];)k--,P-=R,M=(1<<P)-1}return L!==0&&C!=1?hh:Pr}function u(h){let f;for(t||(t=[],r=[],n=new Int32Array(Jh+1),a=[],o=new Int32Array(Jh),l=new Int32Array(Jh+1)),r.length<h&&(r=[]),f=0;f<h;f++)r[f]=0;for(f=0;f<Jh+1;f++)n[f]=0;for(f=0;f<3;f++)a[f]=0;o.set(n.subarray(0,Jh),0),l.set(n.subarray(0,Jh+1),0)}e.inflate_trees_bits=function(h,f,d,p,g){let m;return u(19),t[0]=0,m=c(h,0,19,19,null,null,d,f,p,t,r),m==In?g.msg="oversubscribed dynamic bit lengths tree":(m==hh||f[0]===0)&&(g.msg="incomplete dynamic bit lengths tree",m=In),m},e.inflate_trees_dynamic=function(h,f,d,p,g,m,y,b,x){let T;return u(288),t[0]=0,T=c(d,0,h,257,QTe,JTe,m,p,b,t,r),T!=Pr||p[0]===0?(T==In?x.msg="oversubscribed literal/length tree":T!=MB&&(x.msg="incomplete literal/length tree",T=In),T):(u(288),T=c(d,h,f,0,e4e,t4e,y,g,b,t,r),T!=Pr||g[0]===0&&h>257?(T==In?x.msg="oversubscribed distance tree":T==hh?(x.msg="incomplete distance tree",T=In):T!=MB&&(x.msg="empty distance tree with lengths",T=In),T):Pr)}}dI.inflate_trees_fixed=function(e,t,r,n){return e[0]=jTe,t[0]=XTe,r[0]=KTe,n[0]=ZTe,Pr};const lT=0,DB=1,PB=2,FB=3,BB=4,$B=5,HB=6,Kk=7,UB=8,cT=9;function r4e(){const e=this;let t,r=0,n,a=0,o=0,l=0,c=0,u=0,h=0,f=0,d,p=0,g,m=0;function y(b,x,T,w,E,S,C,k){let O,I,_,R,M,$,N,P,F,L,D,B,H,U,G,W;N=k.next_in_index,P=k.avail_in,M=C.bitb,$=C.bitk,F=C.write,L=F<C.read?C.read-F-1:C.end-F,D=So[b],B=So[x];do{for(;$<20;)P--,M|=(k.read_byte(N++)&255)<<$,$+=8;if(O=M&D,I=T,_=w,W=(_+O)*3,(R=I[W])===0){M>>=I[W+1],$-=I[W+1],C.win[F++]=I[W+2],L--;continue}do{if(M>>=I[W+1],$-=I[W+1],R&16){for(R&=15,H=I[W+2]+(M&So[R]),M>>=R,$-=R;$<15;)P--,M|=(k.read_byte(N++)&255)<<$,$+=8;O=M&B,I=E,_=S,W=(_+O)*3,R=I[W];do if(M>>=I[W+1],$-=I[W+1],R&16){for(R&=15;$<R;)P--,M|=(k.read_byte(N++)&255)<<$,$+=8;if(U=I[W+2]+(M&So[R]),M>>=R,$-=R,L-=H,F>=U)G=F-U,F-G>0&&2>F-G?(C.win[F++]=C.win[G++],C.win[F++]=C.win[G++],H-=2):(C.win.set(C.win.subarray(G,G+2),F),F+=2,G+=2,H-=2);else{G=F-U;do G+=C.end;while(G<0);if(R=C.end-G,H>R){if(H-=R,F-G>0&&R>F-G)do C.win[F++]=C.win[G++];while(--R!==0);else C.win.set(C.win.subarray(G,G+R),F),F+=R,G+=R,R=0;G=0}}if(F-G>0&&H>F-G)do C.win[F++]=C.win[G++];while(--H!==0);else C.win.set(C.win.subarray(G,G+H),F),F+=H,G+=H,H=0;break}else if(!(R&64))O+=I[W+2],O+=M&So[R],W=(_+O)*3,R=I[W];else return k.msg="invalid distance code",H=k.avail_in-P,H=$>>3<H?$>>3:H,P+=H,N-=H,$-=H<<3,C.bitb=M,C.bitk=$,k.avail_in=P,k.total_in+=N-k.next_in_index,k.next_in_index=N,C.write=F,In;while(!0);break}if(R&64)return R&32?(H=k.avail_in-P,H=$>>3<H?$>>3:H,P+=H,N-=H,$-=H<<3,C.bitb=M,C.bitk=$,k.avail_in=P,k.total_in+=N-k.next_in_index,k.next_in_index=N,C.write=F,uh):(k.msg="invalid literal/length code",H=k.avail_in-P,H=$>>3<H?$>>3:H,P+=H,N-=H,$-=H<<3,C.bitb=M,C.bitk=$,k.avail_in=P,k.total_in+=N-k.next_in_index,k.next_in_index=N,C.write=F,In);if(O+=I[W+2],O+=M&So[R],W=(_+O)*3,(R=I[W])===0){M>>=I[W+1],$-=I[W+1],C.win[F++]=I[W+2],L--;break}}while(!0)}while(L>=258&&P>=10);return H=k.avail_in-P,H=$>>3<H?$>>3:H,P+=H,N-=H,$-=H<<3,C.bitb=M,C.bitk=$,k.avail_in=P,k.total_in+=N-k.next_in_index,k.next_in_index=N,C.write=F,Pr}e.init=function(b,x,T,w,E,S){t=lT,h=b,f=x,d=T,p=w,g=E,m=S,n=null},e.proc=function(b,x,T){let w,E,S,C=0,k=0,O=0,I,_,R,M;for(O=x.next_in_index,I=x.avail_in,C=b.bitb,k=b.bitk,_=b.write,R=_<b.read?b.read-_-1:b.end-_;;)switch(t){case lT:if(R>=258&&I>=10&&(b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,T=y(h,f,d,p,g,m,b,x),O=x.next_in_index,I=x.avail_in,C=b.bitb,k=b.bitk,_=b.write,R=_<b.read?b.read-_-1:b.end-_,T!=Pr)){t=T==uh?Kk:cT;break}o=h,n=d,a=p,t=DB;case DB:for(w=o;k<w;){if(I!==0)T=Pr;else return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);I--,C|=(x.read_byte(O++)&255)<<k,k+=8}if(E=(a+(C&So[w]))*3,C>>>=n[E+1],k-=n[E+1],S=n[E],S===0){l=n[E+2],t=HB;break}if(S&16){c=S&15,r=n[E+2],t=PB;break}if(!(S&64)){o=S,a=E/3+n[E+2];break}if(S&32){t=Kk;break}return t=cT,x.msg="invalid literal/length code",T=In,b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);case PB:for(w=c;k<w;){if(I!==0)T=Pr;else return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);I--,C|=(x.read_byte(O++)&255)<<k,k+=8}r+=C&So[w],C>>=w,k-=w,o=f,n=g,a=m,t=FB;case FB:for(w=o;k<w;){if(I!==0)T=Pr;else return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);I--,C|=(x.read_byte(O++)&255)<<k,k+=8}if(E=(a+(C&So[w]))*3,C>>=n[E+1],k-=n[E+1],S=n[E],S&16){c=S&15,u=n[E+2],t=BB;break}if(!(S&64)){o=S,a=E/3+n[E+2];break}return t=cT,x.msg="invalid distance code",T=In,b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);case BB:for(w=c;k<w;){if(I!==0)T=Pr;else return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);I--,C|=(x.read_byte(O++)&255)<<k,k+=8}u+=C&So[w],C>>=w,k-=w,t=$B;case $B:for(M=_-u;M<0;)M+=b.end;for(;r!==0;){if(R===0&&(_==b.end&&b.read!==0&&(_=0,R=_<b.read?b.read-_-1:b.end-_),R===0&&(b.write=_,T=b.inflate_flush(x,T),_=b.write,R=_<b.read?b.read-_-1:b.end-_,_==b.end&&b.read!==0&&(_=0,R=_<b.read?b.read-_-1:b.end-_),R===0)))return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);b.win[_++]=b.win[M++],R--,M==b.end&&(M=0),r--}t=lT;break;case HB:if(R===0&&(_==b.end&&b.read!==0&&(_=0,R=_<b.read?b.read-_-1:b.end-_),R===0&&(b.write=_,T=b.inflate_flush(x,T),_=b.write,R=_<b.read?b.read-_-1:b.end-_,_==b.end&&b.read!==0&&(_=0,R=_<b.read?b.read-_-1:b.end-_),R===0)))return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);T=Pr,b.win[_++]=l,R--,t=lT;break;case Kk:if(k>7&&(k-=8,I++,O--),b.write=_,T=b.inflate_flush(x,T),_=b.write,R=_<b.read?b.read-_-1:b.end-_,b.read!=b.write)return b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);t=UB;case UB:return T=uh,b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);case cT:return T=In,b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T);default:return T=zs,b.bitb=C,b.bitk=k,x.avail_in=I,x.total_in+=O-x.next_in_index,x.next_in_index=O,b.write=_,b.inflate_flush(x,T)}},e.free=function(){}}const WB=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Qp=0,Zk=1,zB=2,GB=3,YB=4,VB=5,uT=6,hT=7,qB=8,Bf=9;function n4e(e,t){const r=this;let n=Qp,a=0,o=0,l=0,c;const u=[0],h=[0],f=new r4e;let d=0,p=new Int32Array(aQ*3);const g=0,m=new dI;r.bitk=0,r.bitb=0,r.win=new Uint8Array(t),r.end=t,r.read=0,r.write=0,r.reset=function(y,b){b&&(b[0]=g),n==uT&&f.free(y),n=Qp,r.bitk=0,r.bitb=0,r.read=r.write=0},r.reset(e,null),r.inflate_flush=function(y,b){let x,T,w;return T=y.next_out_index,w=r.read,x=(w<=r.write?r.write:r.end)-w,x>y.avail_out&&(x=y.avail_out),x!==0&&b==hh&&(b=Pr),y.avail_out-=x,y.total_out+=x,y.next_out.set(r.win.subarray(w,w+x),T),T+=x,w+=x,w==r.end&&(w=0,r.write==r.end&&(r.write=0),x=r.write-w,x>y.avail_out&&(x=y.avail_out),x!==0&&b==hh&&(b=Pr),y.avail_out-=x,y.total_out+=x,y.next_out.set(r.win.subarray(w,w+x),T),T+=x,w+=x),y.next_out_index=T,r.read=w,b},r.proc=function(y,b){let x,T,w,E,S,C,k,O;for(E=y.next_in_index,S=y.avail_in,T=r.bitb,w=r.bitk,C=r.write,k=C<r.read?r.read-C-1:r.end-C;;){let I,_,R,M,$,N,P,F;switch(n){case Qp:for(;w<3;){if(S!==0)b=Pr;else return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);S--,T|=(y.read_byte(E++)&255)<<w,w+=8}switch(x=T&7,d=x&1,x>>>1){case 0:T>>>=3,w-=3,x=w&7,T>>>=x,w-=x,n=Zk;break;case 1:I=[],_=[],R=[[]],M=[[]],dI.inflate_trees_fixed(I,_,R,M),f.init(I[0],_[0],R[0],0,M[0],0),T>>>=3,w-=3,n=uT;break;case 2:T>>>=3,w-=3,n=GB;break;case 3:return T>>>=3,w-=3,n=Bf,y.msg="invalid block type",b=In,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b)}break;case Zk:for(;w<32;){if(S!==0)b=Pr;else return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);S--,T|=(y.read_byte(E++)&255)<<w,w+=8}if((~T>>>16&65535)!=(T&65535))return n=Bf,y.msg="invalid stored block lengths",b=In,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);a=T&65535,T=w=0,n=a!==0?zB:d!==0?hT:Qp;break;case zB:if(S===0||k===0&&(C==r.end&&r.read!==0&&(C=0,k=C<r.read?r.read-C-1:r.end-C),k===0&&(r.write=C,b=r.inflate_flush(y,b),C=r.write,k=C<r.read?r.read-C-1:r.end-C,C==r.end&&r.read!==0&&(C=0,k=C<r.read?r.read-C-1:r.end-C),k===0)))return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);if(b=Pr,x=a,x>S&&(x=S),x>k&&(x=k),r.win.set(y.read_buf(E,x),C),E+=x,S-=x,C+=x,k-=x,(a-=x)!==0)break;n=d!==0?hT:Qp;break;case GB:for(;w<14;){if(S!==0)b=Pr;else return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);S--,T|=(y.read_byte(E++)&255)<<w,w+=8}if(o=x=T&16383,(x&31)>29||(x>>5&31)>29)return n=Bf,y.msg="too many length or distance symbols",b=In,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);if(x=258+(x&31)+(x>>5&31),!c||c.length<x)c=[];else for(O=0;O<x;O++)c[O]=0;T>>>=14,w-=14,l=0,n=YB;case YB:for(;l<4+(o>>>10);){for(;w<3;){if(S!==0)b=Pr;else return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);S--,T|=(y.read_byte(E++)&255)<<w,w+=8}c[WB[l++]]=T&7,T>>>=3,w-=3}for(;l<19;)c[WB[l++]]=0;if(u[0]=7,x=m.inflate_trees_bits(c,u,h,p,y),x!=Pr)return b=x,b==In&&(c=null,n=Bf),r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);l=0,n=VB;case VB:for(;x=o,!(l>=258+(x&31)+(x>>5&31));){let L,D;for(x=u[0];w<x;){if(S!==0)b=Pr;else return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);S--,T|=(y.read_byte(E++)&255)<<w,w+=8}if(x=p[(h[0]+(T&So[x]))*3+1],D=p[(h[0]+(T&So[x]))*3+2],D<16)T>>>=x,w-=x,c[l++]=D;else{for(O=D==18?7:D-14,L=D==18?11:3;w<x+O;){if(S!==0)b=Pr;else return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);S--,T|=(y.read_byte(E++)&255)<<w,w+=8}if(T>>>=x,w-=x,L+=T&So[O],T>>>=O,w-=O,O=l,x=o,O+L>258+(x&31)+(x>>5&31)||D==16&&O<1)return c=null,n=Bf,y.msg="invalid bit length repeat",b=In,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);D=D==16?c[O-1]:0;do c[O++]=D;while(--L!==0);l=O}}if(h[0]=-1,$=[],N=[],P=[],F=[],$[0]=9,N[0]=6,x=o,x=m.inflate_trees_dynamic(257+(x&31),1+(x>>5&31),c,$,N,P,F,p,y),x!=Pr)return x==In&&(c=null,n=Bf),b=x,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);f.init($[0],N[0],p,P[0],p,F[0]),n=uT;case uT:if(r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,(b=f.proc(r,y,b))!=uh)return r.inflate_flush(y,b);if(b=Pr,f.free(y),E=y.next_in_index,S=y.avail_in,T=r.bitb,w=r.bitk,C=r.write,k=C<r.read?r.read-C-1:r.end-C,d===0){n=Qp;break}n=hT;case hT:if(r.write=C,b=r.inflate_flush(y,b),C=r.write,k=C<r.read?r.read-C-1:r.end-C,r.read!=r.write)return r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);n=qB;case qB:return b=uh,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);case Bf:return b=In,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b);default:return b=zs,r.bitb=T,r.bitk=w,y.avail_in=S,y.total_in+=E-y.next_in_index,y.next_in_index=E,r.write=C,r.inflate_flush(y,b)}}},r.free=function(y){r.reset(y,null),r.win=null,p=null},r.set_dictionary=function(y,b,x){r.win.set(y.subarray(b,b+x),0),r.read=r.write=x},r.sync_point=function(){return n==Zk?1:0}}const i4e=32,a4e=8,s4e=0,jB=1,XB=2,KB=3,ZB=4,QB=5,Qk=6,fy=7,JB=12,e0=13,o4e=[0,0,255,255];function l4e(){const e=this;e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0;function t(r){return!r||!r.istate?zs:(r.total_in=r.total_out=0,r.msg=null,r.istate.mode=fy,r.istate.blocks.reset(r,null),Pr)}e.inflateEnd=function(r){return e.blocks&&e.blocks.free(r),e.blocks=null,Pr},e.inflateInit=function(r,n){return r.msg=null,e.blocks=null,n<8||n>15?(e.inflateEnd(r),zs):(e.wbits=n,r.istate.blocks=new n4e(r,1<<n),t(r),Pr)},e.inflate=function(r,n){let a,o;if(!r||!r.istate||!r.next_in)return zs;const l=r.istate;for(n=n==qTe?hh:Pr,a=hh;;)switch(l.mode){case s4e:if(r.avail_in===0)return a;if(a=n,r.avail_in--,r.total_in++,((l.method=r.read_byte(r.next_in_index++))&15)!=a4e){l.mode=e0,r.msg="unknown compression method",l.marker=5;break}if((l.method>>4)+8>l.wbits){l.mode=e0,r.msg="invalid win size",l.marker=5;break}l.mode=jB;case jB:if(r.avail_in===0)return a;if(a=n,r.avail_in--,r.total_in++,o=r.read_byte(r.next_in_index++)&255,((l.method<<8)+o)%31!==0){l.mode=e0,r.msg="incorrect header check",l.marker=5;break}if(!(o&i4e)){l.mode=fy;break}l.mode=XB;case XB:if(r.avail_in===0)return a;a=n,r.avail_in--,r.total_in++,l.need=(r.read_byte(r.next_in_index++)&255)<<24&4278190080,l.mode=KB;case KB:if(r.avail_in===0)return a;a=n,r.avail_in--,r.total_in++,l.need+=(r.read_byte(r.next_in_index++)&255)<<16&16711680,l.mode=ZB;case ZB:if(r.avail_in===0)return a;a=n,r.avail_in--,r.total_in++,l.need+=(r.read_byte(r.next_in_index++)&255)<<8&65280,l.mode=QB;case QB:return r.avail_in===0?a:(a=n,r.avail_in--,r.total_in++,l.need+=r.read_byte(r.next_in_index++)&255,l.mode=Qk,YTe);case Qk:return l.mode=e0,r.msg="need dictionary",l.marker=0,zs;case fy:if(a=l.blocks.proc(r,a),a==In){l.mode=e0,l.marker=0;break}if(a==Pr&&(a=n),a!=uh)return a;a=n,l.blocks.reset(r,l.was),l.mode=JB;case JB:return r.avail_in=0,uh;case e0:return In;default:return zs}},e.inflateSetDictionary=function(r,n,a){let o=0,l=a;if(!r||!r.istate||r.istate.mode!=Qk)return zs;const c=r.istate;return l>=1<<c.wbits&&(l=(1<<c.wbits)-1,o=a-l),c.blocks.set_dictionary(n,o,l),c.mode=fy,Pr},e.inflateSync=function(r){let n,a,o,l,c;if(!r||!r.istate)return zs;const u=r.istate;if(u.mode!=e0&&(u.mode=e0,u.marker=0),(n=r.avail_in)===0)return hh;for(a=r.next_in_index,o=u.marker;n!==0&&o<4;)r.read_byte(a)==o4e[o]?o++:r.read_byte(a)!==0?o=0:o=4-o,a++,n--;return r.total_in+=a-r.next_in_index,r.next_in_index=a,r.avail_in=n,u.marker=o,o!=4?In:(l=r.total_in,c=r.total_out,t(r),r.total_in=l,r.total_out=c,u.mode=fy,Pr)},e.inflateSyncPoint=function(r){return!r||!r.istate||!r.istate.blocks?zs:r.istate.blocks.sync_point()}}function sQ(){}sQ.prototype={inflateInit(e){const t=this;return t.istate=new l4e,e||(e=GTe),t.istate.inflateInit(t,e)},inflate(e){const t=this;return t.istate?t.istate.inflate(t,e):zs},inflateEnd(){const e=this;if(!e.istate)return zs;const t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync(){const e=this;return e.istate?e.istate.inflateSync(e):zs},inflateSetDictionary(e,t){const r=this;return r.istate?r.istate.inflateSetDictionary(r,e,t):zs},read_byte(e){return this.next_in[e]},read_buf(e,t){return this.next_in.subarray(e,e+t)}};function c4e(e){const t=this,r=new sQ,n=e&&e.chunkSize?Math.floor(e.chunkSize*2):128*1024,a=VTe,o=new Uint8Array(n);let l=!1;r.inflateInit(),r.next_out=o,t.append=function(c,u){const h=[];let f,d,p=0,g=0,m=0;if(c.length!==0){r.next_in_index=0,r.next_in=c,r.avail_in=c.length;do{if(r.next_out_index=0,r.avail_out=n,r.avail_in===0&&!l&&(r.next_in_index=0,l=!0),f=r.inflate(a),l&&f===hh){if(r.avail_in!==0)throw new Error("inflating: bad input")}else if(f!==Pr&&f!==uh)throw new Error("inflating: "+r.msg);if((l||f===uh)&&r.avail_in===c.length)throw new Error("inflating: bad input");r.next_out_index&&(r.next_out_index===n?h.push(new Uint8Array(o)):h.push(o.subarray(0,r.next_out_index))),m+=r.next_out_index,u&&r.next_in_index>0&&r.next_in_index!=p&&(u(r.next_in_index),p=r.next_in_index)}while(r.avail_in>0||r.avail_out===0);return h.length>1?(d=new Uint8Array(m),h.forEach(function(y){d.set(y,g),g+=y.length})):d=h[0]?new Uint8Array(h[0]):new Uint8Array,d}},t.flush=function(){r.inflateEnd()}}const mi=4294967295,Jn=65535,pI=8,oQ=0,lQ=99,cQ=67324752,WN=134695760,u4e=WN,gI=33639248,uQ=101010256,mI=101075792,hQ=117853008,qu=22,M2=20,D2=56,h4e=qu+M2+D2,fQ=1,dQ=39169,pQ=10,gQ=1,zN=21589,f4e=28789,d4e=25461,mQ=6534,vI=1,p4e=6,yI=8,bI=2048,xI=16,TI=16384,wI=73,e$=420,g4e=20,t$=45,r$=51,P2="/",n$=new Date(2107,11,31),i$=new Date(1980,0,1),Hr=void 0,W0="undefined",Px="function";class a${constructor(t){return class extends TransformStream{constructor(r,n){const a=new t(n);super({transform(o,l){l.enqueue(a.append(o))},flush(o){const l=a.flush();l&&o.enqueue(l)}})}}}}const m4e=64;let vQ=2;try{typeof navigator!=W0&&navigator.hardwareConcurrency&&(vQ=navigator.hardwareConcurrency)}catch{}const v4e={chunkSize:512*1024,maxWorkers:vQ,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:Hr,CompressionStreamNative:typeof CompressionStream!=W0&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=W0&&DecompressionStream},y0=Object.assign({},v4e);function yQ(){return y0}function bQ(e){return Math.max(e.chunkSize,m4e)}function GN(e){const{baseURL:t,chunkSize:r,maxWorkers:n,terminateWorkerTimeout:a,useCompressionStream:o,useWebWorkers:l,Deflate:c,Inflate:u,CompressionStream:h,DecompressionStream:f,workerScripts:d}=e;if(t0("baseURL",t),t0("chunkSize",r),t0("maxWorkers",n),t0("terminateWorkerTimeout",a),t0("useCompressionStream",o),t0("useWebWorkers",l),c&&(y0.CompressionStream=new a$(c)),u&&(y0.DecompressionStream=new a$(u)),t0("CompressionStream",h),t0("DecompressionStream",f),d!==Hr){const{deflate:p,inflate:g}=d;if((p||g)&&(y0.workerScripts||(y0.workerScripts={})),p){if(!Array.isArray(p))throw new Error("workerScripts.deflate must be an array");y0.workerScripts.deflate=p}if(g){if(!Array.isArray(g))throw new Error("workerScripts.inflate must be an array");y0.workerScripts.inflate=g}}}function t0(e,t){t!==Hr&&(y0[e]=t)}const Jk={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const e={};for(const t of Object.keys(Jk))for(const r of Object.keys(Jk[t])){const n=Jk[t][r];if(typeof n=="string")e[n]=t+"/"+r;else for(let a=0;a<n.length;a++)e[n[a]]=t+"/"+r}return e})();const xQ=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t=t>>>1;xQ[e]=t}class l5{constructor(t){this.crc=t||-1}append(t){let r=this.crc|0;for(let n=0,a=t.length|0;n<a;n++)r=r>>>8^xQ[(r^t[n])&255];this.crc=r}get(){return~this.crc}}class TQ extends TransformStream{constructor(){let t;const r=new l5;super({transform(n,a){r.append(n),a.enqueue(n)},flush(){const n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,r.get()),t.value=n}}),t=this}}function Y4(e){if(typeof TextEncoder==W0){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t}else return new TextEncoder().encode(e)}const xs={concat(e,t){if(e.length===0||t.length===0)return e.concat(t);const r=e[e.length-1],n=xs.getPartial(r);return n===32?e.concat(t):xs._shiftRight(t,n,r|0,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(t===0)return 0;const r=e[t-1];return(t-1)*32+xs.getPartial(r)},clamp(e,t){if(e.length*32<t)return e;e=e.slice(0,Math.ceil(t/32));const r=e.length;return t=t&31,r>0&&t&&(e[r-1]=xs.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial(e,t,r){return e===32?t:(r?t|0:t<<32-e)+e*1099511627776},getPartial(e){return Math.round(e/1099511627776)||32},_shiftRight(e,t,r,n){for(n===void 0&&(n=[]);t>=32;t-=32)n.push(r),r=0;if(t===0)return n.concat(e);for(let l=0;l<e.length;l++)n.push(r|e[l]>>>t),r=e[l]<<32-t;const a=e.length?e[e.length-1]:0,o=xs.getPartial(a);return n.push(xs.partial(t+o&31,t+o>32?r:n.pop(),1)),n}},c5={bytes:{fromBits(e){const r=xs.bitLength(e)/8,n=new Uint8Array(r);let a;for(let o=0;o<r;o++)o&3||(a=e[o/4]),n[o]=a>>>24,a<<=8;return n},toBits(e){const t=[];let r,n=0;for(r=0;r<e.length;r++)n=n<<8|e[r],(r&3)===3&&(t.push(n),n=0);return r&3&&t.push(xs.partial(8*(r&3),n)),t}}},wQ={};wQ.sha1=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;typeof e=="string"&&(e=c5.utf8String.toBits(e));const r=t._buffer=xs.concat(t._buffer,e),n=t._length,a=t._length=n+xs.bitLength(e);if(a>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(r);let l=0;for(let c=t.blockSize+n-(t.blockSize+n&t.blockSize-1);c<=a;c+=t.blockSize)t._block(o.subarray(16*l,16*(l+1))),l+=1;return r.splice(0,16*l),t}finalize(){const e=this;let t=e._buffer;const r=e._h;t=xs.concat(t,[xs.partial(1,1)]);for(let n=t.length+2;n&15;n++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(e._length|0);t.length;)e._block(t.splice(0,16));return e.reset(),r}_f(e,t,r,n){if(e<=19)return t&r|~t&n;if(e<=39)return t^r^n;if(e<=59)return t&r|t&n|r&n;if(e<=79)return t^r^n}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,r=t._h,n=Array(80);for(let h=0;h<16;h++)n[h]=e[h];let a=r[0],o=r[1],l=r[2],c=r[3],u=r[4];for(let h=0;h<=79;h++){h>=16&&(n[h]=t._S(1,n[h-3]^n[h-8]^n[h-14]^n[h-16]));const f=t._S(5,a)+t._f(h,o,l,c)+u+n[h]+t._key[Math.floor(h/20)]|0;u=c,c=l,l=t._S(30,o),o=a,a=f}r[0]=r[0]+a|0,r[1]=r[1]+o|0,r[2]=r[2]+l|0,r[3]=r[3]+c|0,r[4]=r[4]+u|0}};const EQ={};EQ.aes=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const r=t._tables[0][4],n=t._tables[1],a=e.length;let o,l,c,u=1;if(a!==4&&a!==6&&a!==8)throw new Error("invalid aes key size");for(t._key=[l=e.slice(0),c=[]],o=a;o<4*a+28;o++){let h=l[o-1];(o%a===0||a===8&&o%a===4)&&(h=r[h>>>24]<<24^r[h>>16&255]<<16^r[h>>8&255]<<8^r[h&255],o%a===0&&(h=h<<8^h>>>24^u<<24,u=u<<1^(u>>7)*283)),l[o]=l[o-a]^h}for(let h=0;o;h++,o--){const f=l[h&3?o:o-4];o<=4||h<4?c[h]=f:c[h]=n[0][r[f>>>24]]^n[1][r[f>>16&255]]^n[2][r[f>>8&255]]^n[3][r[f&255]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],r=e[4],n=t[4],a=[],o=[];let l,c,u,h;for(let f=0;f<256;f++)o[(a[f]=f<<1^(f>>7)*283)^f]=f;for(let f=l=0;!r[f];f^=c||1,l=o[l]||1){let d=l^l<<1^l<<2^l<<3^l<<4;d=d>>8^d&255^99,r[f]=d,n[d]=f,h=a[u=a[c=a[f]]];let p=h*16843009^u*65537^c*257^f*16843008,g=a[d]*257^d*16843008;for(let m=0;m<4;m++)e[m][f]=g=g<<24^g>>>8,t[m][d]=p=p<<24^p>>>8}for(let f=0;f<5;f++)e[f]=e[f].slice(0),t[f]=t[f].slice(0)}_crypt(e,t){if(e.length!==4)throw new Error("invalid aes block size");const r=this._key[t],n=r.length/4-2,a=[0,0,0,0],o=this._tables[t],l=o[0],c=o[1],u=o[2],h=o[3],f=o[4];let d=e[0]^r[0],p=e[t?3:1]^r[1],g=e[2]^r[2],m=e[t?1:3]^r[3],y=4,b,x,T;for(let w=0;w<n;w++)b=l[d>>>24]^c[p>>16&255]^u[g>>8&255]^h[m&255]^r[y],x=l[p>>>24]^c[g>>16&255]^u[m>>8&255]^h[d&255]^r[y+1],T=l[g>>>24]^c[m>>16&255]^u[d>>8&255]^h[p&255]^r[y+2],m=l[m>>>24]^c[d>>16&255]^u[p>>8&255]^h[g&255]^r[y+3],y+=4,d=b,p=x,g=T;for(let w=0;w<4;w++)a[t?3&-w:w]=f[d>>>24]<<24^f[p>>16&255]<<16^f[g>>8&255]<<8^f[m&255]^r[y++],b=d,d=p,p=g,g=m,m=b;return a}};const y4e={getRandomValues(e){const t=new Uint32Array(e.buffer),r=n=>{let a=987654321;const o=4294967295;return function(){return a=36969*(a&65535)+(a>>16)&o,n=18e3*(n&65535)+(n>>16)&o,(((a<<16)+n&o)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let n=0,a;n<e.length;n+=4){const o=r((a||Math.random())*4294967296);a=o()*987654071,t[n/4]=o()*4294967296|0}return e}},SQ={};SQ.ctrGladman=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if((e>>24&255)===255){let t=e>>16&255,r=e>>8&255,n=e&255;t===255?(t=0,r===255?(r=0,n===255?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}incCounter(e){(e[0]=this.incWord(e[0]))===0&&(e[1]=this.incWord(e[1]))}calculate(e,t,r){let n;if(!(n=t.length))return[];const a=xs.bitLength(t);for(let o=0;o<n;o+=4){this.incCounter(r);const l=e.encrypt(r);t[o]^=l[0],t[o+1]^=l[1],t[o+2]^=l[2],t[o+3]^=l[3]}return xs.clamp(t,a)}};const zd={importKey(e){return new zd.hmacSha1(c5.bytes.toBits(e))},pbkdf2(e,t,r,n){if(r=r||1e4,n<0||r<0)throw new Error("invalid params to pbkdf2");const a=(n>>5)+1<<2;let o,l,c,u,h;const f=new ArrayBuffer(a),d=new DataView(f);let p=0;const g=xs;for(t=c5.bytes.toBits(t),h=1;p<(a||1);h++){for(o=l=e.encrypt(g.concat(t,[h])),c=1;c<r;c++)for(l=e.encrypt(l),u=0;u<l.length;u++)o[u]^=l[u];for(c=0;p<(a||1)&&c<o.length;c++)d.setInt32(p,o[c]),p+=4}return f.slice(0,n/8)}};zd.hmacSha1=class{constructor(e){const t=this,r=t._hash=wQ.sha1,n=[[],[]];t._baseHash=[new r,new r];const a=t._baseHash[0].blockSize/32;e.length>a&&(e=new r().update(e).finalize());for(let o=0;o<a;o++)n[0][o]=e[o]^909522486,n[1][o]=e[o]^1549556828;t._baseHash[0].update(n[0]),t._baseHash[1].update(n[1]),t._resultHash=new r(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){const t=this;t._updated=!0,t._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),r=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),r}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}};const b4e=typeof crypto!=W0&&typeof crypto.getRandomValues==Px,AQ="Invalid password",kQ="Invalid signature",YN="zipjs-abort-check-password";function CQ(e){return b4e?crypto.getRandomValues(e):y4e.getRandomValues(e)}const O1=16,x4e="raw",IQ={name:"PBKDF2"},T4e={name:"HMAC"},w4e="SHA-1",E4e=Object.assign({hash:T4e},IQ),EI=Object.assign({iterations:1e3,hash:{name:w4e}},IQ),S4e=["deriveBits"],xb=[8,12,16],dy=[16,24,32],h0=10,A4e=[0,0,0,0],e6=typeof crypto!=W0,Fx=e6&&crypto.subtle,RQ=e6&&typeof Fx!=W0,au=c5.bytes,k4e=EQ.aes,C4e=SQ.ctrGladman,I4e=zd.hmacSha1;let s$=e6&&RQ&&typeof Fx.importKey==Px,o$=e6&&RQ&&typeof Fx.deriveBits==Px;class R4e extends TransformStream{constructor({password:t,rawPassword:r,signed:n,encryptionStrength:a,checkPasswordOnly:o}){super({start(){Object.assign(this,{ready:new Promise(l=>this.resolveReady=l),password:NQ(t,r),signed:n,strength:a-1,pending:new Uint8Array})},async transform(l,c){const u=this,{password:h,strength:f,resolveReady:d,ready:p}=u;h?(await _4e(u,f,h,cl(l,0,xb[f]+2)),l=cl(l,xb[f]+2),o?c.error(new Error(YN)):d()):await p;const g=new Uint8Array(l.length-h0-(l.length-h0)%O1);c.enqueue(OQ(u,l,g,0,h0,!0))},async flush(l){const{signed:c,ctr:u,hmac:h,pending:f,ready:d}=this;if(h&&u){await d;const p=cl(f,0,f.length-h0),g=cl(f,f.length-h0);let m=new Uint8Array;if(p.length){const y=wb(au,p);h.update(y);const b=u.update(y);m=Tb(au,b)}if(c){const y=cl(Tb(au,h.digest()),0,h0);for(let b=0;b<h0;b++)if(y[b]!=g[b])throw new Error(kQ)}l.enqueue(m)}}})}}class O4e extends TransformStream{constructor({password:t,rawPassword:r,encryptionStrength:n}){let a;super({start(){Object.assign(this,{ready:new Promise(o=>this.resolveReady=o),password:NQ(t,r),strength:n-1,pending:new Uint8Array})},async transform(o,l){const c=this,{password:u,strength:h,resolveReady:f,ready:d}=c;let p=new Uint8Array;u?(p=await N4e(c,h,u),f()):await d;const g=new Uint8Array(p.length+o.length-o.length%O1);g.set(p,0),l.enqueue(OQ(c,o,g,p.length,0))},async flush(o){const{ctr:l,hmac:c,pending:u,ready:h}=this;if(c&&l){await h;let f=new Uint8Array;if(u.length){const d=l.update(wb(au,u));c.update(d),f=Tb(au,d)}a.signature=Tb(au,c.digest()).slice(0,h0),o.enqueue(VN(f,a.signature))}}}),a=this}}function OQ(e,t,r,n,a,o){const{ctr:l,hmac:c,pending:u}=e,h=t.length-a;u.length&&(t=VN(u,t),r=D4e(r,h-h%O1));let f;for(f=0;f<=h-O1;f+=O1){const d=wb(au,cl(t,f,f+O1));o&&c.update(d);const p=l.update(d);o||c.update(p),r.set(Tb(au,p),f+n)}return e.pending=cl(t,f),r}async function _4e(e,t,r,n){const a=await _Q(e,t,r,cl(n,0,xb[t])),o=cl(n,xb[t]);if(a[0]!=o[0]||a[1]!=o[1])throw new Error(AQ)}async function N4e(e,t,r){const n=CQ(new Uint8Array(xb[t])),a=await _Q(e,t,r,n);return VN(n,a)}async function _Q(e,t,r,n){e.password=null;const a=await L4e(x4e,r,E4e,!1,S4e),o=await M4e(Object.assign({salt:n},EI),a,8*(dy[t]*2+2)),l=new Uint8Array(o),c=wb(au,cl(l,0,dy[t])),u=wb(au,cl(l,dy[t],dy[t]*2)),h=cl(l,dy[t]*2);return Object.assign(e,{keys:{key:c,authentication:u,passwordVerification:h},ctr:new C4e(new k4e(c),Array.from(A4e)),hmac:new I4e(u)}),h}async function L4e(e,t,r,n,a){if(s$)try{return await Fx.importKey(e,t,r,n,a)}catch{return s$=!1,zd.importKey(t)}else return zd.importKey(t)}async function M4e(e,t,r){if(o$)try{return await Fx.deriveBits(e,t,r)}catch{return o$=!1,zd.pbkdf2(t,e.salt,EI.iterations,r)}else return zd.pbkdf2(t,e.salt,EI.iterations,r)}function NQ(e,t){return t===Hr?Y4(e):t}function VN(e,t){let r=e;return e.length+t.length&&(r=new Uint8Array(e.length+t.length),r.set(e,0),r.set(t,e.length)),r}function D4e(e,t){if(t&&t>e.length){const r=e;e=new Uint8Array(t),e.set(r,0)}return e}function cl(e,t,r){return e.subarray(t,r)}function Tb(e,t){return e.fromBits(t)}function wb(e,t){return e.toBits(t)}const J1=12;class P4e extends TransformStream{constructor({password:t,passwordVerification:r,checkPasswordOnly:n}){super({start(){Object.assign(this,{password:t,passwordVerification:r}),LQ(this,t)},transform(a,o){const l=this;if(l.password){const c=l$(l,a.subarray(0,J1));if(l.password=null,c[J1-1]!=l.passwordVerification)throw new Error(AQ);a=a.subarray(J1)}n?o.error(new Error(YN)):o.enqueue(l$(l,a))}})}}class F4e extends TransformStream{constructor({password:t,passwordVerification:r}){super({start(){Object.assign(this,{password:t,passwordVerification:r}),LQ(this,t)},transform(n,a){const o=this;let l,c;if(o.password){o.password=null;const u=CQ(new Uint8Array(J1));u[J1-1]=o.passwordVerification,l=new Uint8Array(n.length+u.length),l.set(c$(o,u),0),c=J1}else l=new Uint8Array(n.length),c=0;l.set(c$(o,n),c),a.enqueue(l)}})}}function l$(e,t){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=MQ(e)^t[n],qN(e,r[n]);return r}function c$(e,t){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=MQ(e)^t[n],qN(e,t[n]);return r}function LQ(e,t){const r=[305419896,591751049,878082192];Object.assign(e,{keys:r,crcKey0:new l5(r[0]),crcKey2:new l5(r[2])});for(let n=0;n<t.length;n++)qN(e,t.charCodeAt(n))}function qN(e,t){let[r,n,a]=e.keys;e.crcKey0.append([t]),r=~e.crcKey0.get(),n=u$(Math.imul(u$(n+DQ(r)),134775813)+1),e.crcKey2.append([n>>>24]),a=~e.crcKey2.get(),e.keys=[r,n,a]}function MQ(e){const t=e.keys[2]|2;return DQ(Math.imul(t,t^1)>>>8)}function DQ(e){return e&255}function u$(e){return e&4294967295}const h$="deflate-raw";class B4e extends TransformStream{constructor(t,{chunkSize:r,CompressionStream:n,CompressionStreamNative:a}){super({});const{compressed:o,encrypted:l,useCompressionStream:c,zipCrypto:u,signed:h,level:f}=t,d=this;let p,g,m=PQ(super.readable);(!l||u)&&h&&(p=new TQ,m=su(m,p)),o&&(m=BQ(m,c,{level:f,chunkSize:r},a,n)),l&&(u?m=su(m,new F4e(t)):(g=new O4e(t),m=su(m,g))),FQ(d,m,()=>{let y;l&&!u&&(y=g.signature),(!l||u)&&h&&(y=new DataView(p.value.buffer).getUint32(0)),d.signature=y})}}class $4e extends TransformStream{constructor(t,{chunkSize:r,DecompressionStream:n,DecompressionStreamNative:a}){super({});const{zipCrypto:o,encrypted:l,signed:c,signature:u,compressed:h,useCompressionStream:f}=t;let d,p,g=PQ(super.readable);l&&(o?g=su(g,new P4e(t)):(p=new R4e(t),g=su(g,p))),h&&(g=BQ(g,f,{chunkSize:r},a,n)),(!l||o)&&c&&(d=new TQ,g=su(g,d)),FQ(this,g,()=>{if((!l||o)&&c){const m=new DataView(d.value.buffer);if(u!=m.getUint32(0,!1))throw new Error(kQ)}})}}function PQ(e){return su(e,new TransformStream({transform(t,r){t&&t.length&&r.enqueue(t)}}))}function FQ(e,t,r){t=su(t,new TransformStream({flush:r})),Object.defineProperty(e,"readable",{get(){return t}})}function BQ(e,t,r,n,a){try{const o=t&&n?n:a;e=su(e,new o(h$,r))}catch{if(t)try{e=su(e,new a(h$,r))}catch{return e}else return e}return e}function su(e,t){return e.pipeThrough(t)}const H4e="message",U4e="start",W4e="pull",f$="data",z4e="ack",d$="close",$Q="deflate",HQ="inflate";class G4e extends TransformStream{constructor(t,r){super({});const n=this,{codecType:a}=t;let o;a.startsWith($Q)?o=B4e:a.startsWith(HQ)&&(o=$4e);let l=0,c=0;const u=new o(t,r),h=super.readable,f=new TransformStream({transform(p,g){p&&p.length&&(c+=p.length,g.enqueue(p))},flush(){Object.assign(n,{inputSize:c})}}),d=new TransformStream({transform(p,g){p&&p.length&&(l+=p.length,g.enqueue(p))},flush(){const{signature:p}=u;Object.assign(n,{signature:p,outputSize:l,inputSize:c})}});Object.defineProperty(n,"readable",{get(){return h.pipeThrough(f).pipeThrough(u).pipeThrough(d)}})}}class Y4e extends TransformStream{constructor(t){let r;super({transform:n,flush(a){r&&r.length&&a.enqueue(r)}});function n(a,o){if(r){const l=new Uint8Array(r.length+a.length);l.set(r),l.set(a,r.length),a=l,r=null}a.length>t?(o.enqueue(a.slice(0,t)),n(a.slice(t),o)):r=a}}}let UQ=typeof Worker!=W0;class e8{constructor(t,{readable:r,writable:n},{options:a,config:o,streamOptions:l,useWebWorkers:c,transferStreams:u,scripts:h},f){const{signal:d}=l;return Object.assign(t,{busy:!0,readable:r.pipeThrough(new Y4e(o.chunkSize)).pipeThrough(new V4e(r,l),{signal:d}),writable:n,options:Object.assign({},a),scripts:h,transferStreams:u,terminate(){return new Promise(p=>{const{worker:g,busy:m}=t;g?(m?t.resolveTerminated=p:(g.terminate(),p()),t.interface=null):p()})},onTaskFinished(){const{resolveTerminated:p}=t;p&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),p()),t.busy=!1,f(t)}}),(c&&UQ?q4e:WQ)(t,o)}}class V4e extends TransformStream{constructor(t,{onstart:r,onprogress:n,size:a,onend:o}){let l=0;super({async start(){r&&await t8(r,a)},async transform(c,u){l+=c.length,n&&await t8(n,l,a),u.enqueue(c)},async flush(){t.size=l,o&&await t8(o,l)}})}}async function t8(e,...t){try{await e(...t)}catch{}}function WQ(e,t){return{run:()=>j4e(e,t)}}function q4e(e,t){const{baseURL:r,chunkSize:n}=t;if(!e.interface){let a;try{a=Z4e(e.scripts[0],r,e)}catch{return UQ=!1,WQ(e,t)}Object.assign(e,{worker:a,interface:{run:()=>X4e(e,{chunkSize:n})}})}return e.interface}async function j4e({options:e,readable:t,writable:r,onTaskFinished:n},a){try{const o=new G4e(e,a);await t.pipeThrough(o).pipeTo(r,{preventClose:!0,preventAbort:!0});const{signature:l,inputSize:c,outputSize:u}=o;return{signature:l,inputSize:c,outputSize:u}}finally{n()}}async function X4e(e,t){let r,n;const a=new Promise((p,g)=>{r=p,n=g});Object.assign(e,{reader:null,writer:null,resolveResult:r,rejectResult:n,result:a});const{readable:o,options:l,scripts:c}=e,{writable:u,closed:h}=K4e(e.writable),f=V4({type:U4e,scripts:c.slice(1),options:l,config:t,readable:o,writable:u},e);f||Object.assign(e,{reader:o.getReader(),writer:u.getWriter()});const d=await a;return f||await u.getWriter().close(),await h,d}function K4e(e){let t;const r=new Promise(a=>t=a);return{writable:new WritableStream({async write(a){const o=e.getWriter();await o.ready,await o.write(a),o.releaseLock()},close(){t()},abort(a){return e.getWriter().abort(a)}}),closed:r}}let p$=!0,g$=!0;function Z4e(e,t,r){const n={type:"module"};let a,o;typeof e==Px&&(e=e());try{a=new URL(e,t)}catch{a=e}if(p$)try{o=new Worker(a)}catch{p$=!1,o=new Worker(a,n)}else o=new Worker(a,n);return o.addEventListener(H4e,l=>Q4e(l,r)),o}function V4(e,{worker:t,writer:r,onTaskFinished:n,transferStreams:a}){try{const{value:o,readable:l,writable:c}=e,u=[];if(o&&(o.byteLength<o.buffer.byteLength?e.value=o.buffer.slice(0,o.byteLength):e.value=o.buffer,u.push(e.value)),a&&g$?(l&&u.push(l),c&&u.push(c)):e.readable=e.writable=null,u.length)try{return t.postMessage(e,u),!0}catch{g$=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(o){throw r&&r.releaseLock(),n(),o}}async function Q4e({data:e},t){const{type:r,value:n,messageId:a,result:o,error:l}=e,{reader:c,writer:u,resolveResult:h,rejectResult:f,onTaskFinished:d}=t;try{if(l){const{message:g,stack:m,code:y,name:b}=l,x=new Error(g);Object.assign(x,{stack:m,code:y,name:b}),p(x)}else{if(r==W4e){const{value:g,done:m}=await c.read();V4({type:f$,value:g,done:m,messageId:a},t)}r==f$&&(await u.ready,await u.write(new Uint8Array(n)),V4({type:z4e,messageId:a},t)),r==d$&&p(null,o)}}catch(g){V4({type:d$,messageId:a},t),p(g)}function p(g,m){g?f(g):h(m),u&&u.releaseLock(),d()}}let hd=[];const r8=[];let m$=0;async function zQ(e,t){const{options:r,config:n}=t,{transferStreams:a,useWebWorkers:o,useCompressionStream:l,codecType:c,compressed:u,signed:h,encrypted:f}=r,{workerScripts:d,maxWorkers:p}=n;t.transferStreams=a||a===Hr;const g=!u&&!h&&!f&&!t.transferStreams;return t.useWebWorkers=!g&&(o||o===Hr&&n.useWebWorkers),t.scripts=t.useWebWorkers&&d?d[c]:[],r.useCompressionStream=l||l===Hr&&n.useCompressionStream,(await m()).run();async function m(){const b=hd.find(x=>!x.busy);if(b)return v$(b),new e8(b,e,t,y);if(hd.length<p){const x={indexWorker:m$};return m$++,hd.push(x),new e8(x,e,t,y)}else return new Promise(x=>r8.push({resolve:x,stream:e,workerOptions:t}))}function y(b){if(r8.length){const[{resolve:x,stream:T,workerOptions:w}]=r8.splice(0,1);x(new e8(b,T,w,y))}else b.worker?(v$(b),J4e(b,t)):hd=hd.filter(x=>x!=b)}}function J4e(e,t){const{config:r}=t,{terminateWorkerTimeout:n}=r;Number.isFinite(n)&&n>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{hd=hd.filter(a=>a!=e);try{await e.terminate()}catch{}},n))}function v$(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}function ewe(e,t={}){const r=`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={bytes:{p(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)3&s||(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},m(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3&~n||(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t.A=e.A):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e.A=0,e}update(e){const t=this;"string"==typeof e&&(e=I._.m(e));const n=t.C=_.concat(t.C,e),r=t.A,i=t.A=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}P(){const e=this;let t=e.C;const n=e.S;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e.A/4294967296)),t.push(0|e.A);t.length;)e.I(t.splice(0,16));return e.reset(),n}D(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}V(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.V(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.V(5,o)+n.D(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.V(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.R(I.bytes.m(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.bytes.m(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=P,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).P());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.P(),n=new e.M(e.U[1]).update(t).P();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.bytes,X=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.R;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),signed:r,X:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:o,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.B(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.B(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,$:u,passwordVerification:w},Y:new Y(new X(l),e.from(F)),Z:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.p(t)}function ae(e,t){return e.m(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new x(r[0]),te:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=-2;function Te(t){return We(t.map((([t,n])=>new e(t).fill(n,0,t))))}function We(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?We(n):n)),[])}const je=[0,1,2,3].concat(...Te([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function He(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Le(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}He.ge=[0,1,2,3,4,5,6,7].concat(...Te([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),He.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],He.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],He.Se=e=>256>e?je[e]:je[256+(e>>>7)],He.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],He.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],He.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],He.Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Fe=Te([[144,8],[112,9],[24,7],[8,8]]);Le._e=We([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Fe[t]])));const qe=Te([[30,5]]);function Ge(e,t,n,r,s){const i=this;i.Ie=e,i.Pe=t,i.De=n,i.Ve=r,i.Re=s}Le.Be=We([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,qe[t]]))),Le.Ee=new Le(Le._e,He.ze,257,286,15),Le.Me=new Le(Le.Be,He.Ce,0,30,15),Le.Ue=new Le(null,He.xe,0,19,7);const Je=[new Ge(0,0,0,0,0),new Ge(4,4,8,4,1),new Ge(4,5,16,8,1),new Ge(4,6,32,32,1),new Ge(4,4,16,16,2),new Ge(8,16,32,32,2),new Ge(8,16,128,128,2),new Ge(8,32,128,256,2),new Ge(32,128,258,1024,2),new Ge(32,258,258,4096,2)],Qe=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Xe=113,Ye=666,Ze=262;function $e(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function et(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new He,N=new He,O=new He;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(He.ge[n]+256+1)]++,M[2*He.Se(t)]++),!(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+He.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=He.ge[s],Y(i+256+1,t),o=He.ze[i],0!==o&&(s-=He.ke[i],X(s,o)),r--,i=He.Se(r),Y(i,n),o=He.Ce[i],0!==o&&(r-=He.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*He.Ae[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Le._e,Le.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*He.Ae[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-Ze){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Ze>A&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-Ze?C-(f-Ze):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&$e(t,r[i+1],r[i],e.le)&&i++,!$e(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Oe:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),D=S,V=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=Xe,c=0,K.re=E,K.ie=Le.Ee,N.re=M,N.ie=Le.Me,O.re=U,O.ie=Le.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=Xe&&n!=Ye?Oe:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==Xe?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Oe:(Je[D].Re!=Je[t].Re&&0!==e.qe&&(r=e.Ye(1)),D!=t&&(D=t,P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve),V=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Oe;if(3>i)return 0;for(i>f-Ze&&(i=f-Ze,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Oe;if(!r.$e||!r.et&&0!==r.We||n==Ye&&4!=i)return r.Le=Qe[4],Oe;if(0===r.tt)return r.Le=Qe[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Xe,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=Qe[7],-5;if(n==Ye&&0!==t.We)return r.Le=Qe[7],-5;if(0!==t.We||0!==A||0!=i&&n!=Ye){switch(R=-1,Je[D].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Ze&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Ze||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-Ze>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.tt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Ye),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Le._e),$(),9>1+H+10-F&&(X(2,3),Y(256,Le._e),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function tt(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function nt(e){const t=new tt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}tt.prototype={He(e,t){const n=this;return n.Fe=new et,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Oe},Qe(){const e=this;if(!e.Fe)return Oe;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Oe},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Oe},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const rt=-2,st=-3,it=-5,ot=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ct=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ft=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],ut=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],wt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ht(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return st;if(0>(I-=n[g]))return st;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>1440)return st;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;g&k;k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?it:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==st?f.Le="oversubscribed dynamic bit lengths tree":a!=it&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=st),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,at,lt,a,i,u,e,t),0!=h||0===i[0]?(h==st?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=st),h):(c(288),h=o(s,n,r,0,ut,wt,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==st?w.Le="oversubscribed distance tree":h==it?(w.Le="incomplete distance tree",h=st):-4!=h&&(w.Le="empty distance tree with lengths",h=st),h):0)}}function dt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ot[e],g=ot[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15,k=a[z+2]+(w&ot[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&ot[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(64&u)return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st;f+=a[z+2],f+=w&ot[u],z=3*(l+f),u=a[z]}break}if(64&u)return 32&u?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st);if(f+=a[z+2],f+=w&ot[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(16&k){a=15&k,i=n[g+2],t=2;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}if(32&k){t=7;break}return t=9,y.Le="invalid literal/length code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 2:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}i+=x&ot[b],x>>=b,A-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>=n[g+1],A-=n[g+1],k=n[g],16&k){a=15&k,l=n[g+2],t=4;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 4:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}l+=x&ot[b],x>>=b,A-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 9:return m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);default:return m=rt,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ht.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ct,r[0]=ft,0);const pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function yt(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new dt;let h=0,d=new f(4320);const p=new ht;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ht.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[pt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[pt[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==st&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ot[i]))+1],w=d[3*(u[0]+(f&ot[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ot[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),0!=i)return i==st&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=rt,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const mt=13,bt=[0,0,255,255];function gt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):rt}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),rt):(e.zt=r,n.gt.kt=new yt(n,1<<r),t(n),0)),e.At=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return rt;const s=e.gt;for(t=4==t?it:0,n=it;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=mt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=mt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=mt,e.Le="incorrect header check",s.marker=5;break}if(!(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=mt,e.Le="need dictionary",s.marker=0,rt;case 7:if(n=s.kt.ut(e,n),n==st){s.mode=mt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case mt:return st;default:return rt}},e._t=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return rt;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return rt;const c=e.gt;if(c.mode!=mt&&(c.mode=mt,c.marker=0),0===(n=e.We))return it;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==bt[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?st:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Pt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():rt}function kt(){}function vt(e){const t=new kt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t.At(0),c&&a===it){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}kt.prototype={xt(e){const t=this;return t.gt=new gt,e||(e=15),t.gt.xt(t,e)},At(e){const t=this;return t.gt?t.gt.At(t,e):rt},Ct(){const e=this;if(!e.gt)return rt;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):rt},_t(e,t){const n=this;return n.gt?n.gt._t(n,e,t):rt},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=nt,self.Inflate=vt};
`,n=()=>t.useDataURI?"data:text/javascript,"+encodeURIComponent(r):URL.createObjectURL(new Blob([r],{type:"text/javascript"}));e({workerScripts:{inflate:[n],deflate:[n]}})}const twe="Writer iterator completed too soon",rwe="Content-Type",nwe=64*1024,jN="writable";class t6{constructor(){this.size=0}init(){this.initialized=!0}}class XN extends t6{get readable(){const t=this,{chunkSize:r=nwe}=t,n=new ReadableStream({start(){this.chunkOffset=0},async pull(a){const{offset:o=0,size:l,diskNumberStart:c}=n,{chunkOffset:u}=this;a.enqueue(await Ua(t,o+u,Math.min(r,l-u),c)),u+r>l?a.close():this.chunkOffset+=r}});return n}}class iwe extends t6{constructor(){super();const t=this,r=new WritableStream({write(n){return t.writeUint8Array(n)}});Object.defineProperty(t,jN,{get(){return r}})}writeUint8Array(){}}class GQ extends XN{constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,r){const n=this,a=t+r;let l=await(t||a<n.size?n.blob.slice(t,a):n.blob).arrayBuffer();return l.byteLength>r&&(l=l.slice(t,a)),new Uint8Array(l)}}class awe extends t6{constructor(t){super();const r=this,n=new TransformStream,a=[];t&&a.push([rwe,t]),Object.defineProperty(r,jN,{get(){return n.writable}}),r.blob=new Response(n.readable,{headers:a}).blob()}getData(){return this.blob}}class fT extends XN{constructor(t){super(),Object.assign(this,{array:t,size:t.length})}readUint8Array(t,r){return this.array.slice(t,t+r)}}class swe extends iwe{init(t=0){Object.assign(this,{offset:0,array:new Uint8Array(t)}),super.init()}writeUint8Array(t){const r=this;if(r.offset+t.length>r.array.length){const n=r.array;r.array=new Uint8Array(n.length+t.length),r.array.set(n)}r.array.set(t,r.offset),r.offset+=t.length}getData(){return this.array}}class owe extends XN{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:r}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(r.map(async(n,a)=>{await n.init(),a!=r.length-1&&(t.lastDiskOffset+=n.size),t.size+=n.size})),super.init()}async readUint8Array(t,r,n=0){const a=this,{readers:o}=this;let l,c=n;c==-1&&(c=o.length-1);let u=t;for(;u>=o[c].size;)u-=o[c].size,c++;const h=o[c],f=h.size;if(u+r<=f)l=await Ua(h,u,r);else{const d=f-u;l=new Uint8Array(r),l.set(await Ua(h,u,d)),l.set(await a.readUint8Array(t+d,r-d,n),d)}return a.lastDiskNumber=Math.max(c,a.lastDiskNumber),l}}class y$ extends t6{constructor(t,r=4294967295){super();const n=this;Object.assign(n,{diskNumber:0,diskOffset:0,size:0,maxSize:r,availableSize:r});let a,o,l;const c=new WritableStream({async write(f){const{availableSize:d}=n;if(l)f.length>=d?(await u(f.slice(0,d)),await h(),n.diskOffset+=a.size,n.diskNumber++,l=null,await this.write(f.slice(d))):await u(f);else{const{value:p,done:g}=await t.next();if(g&&!p)throw new Error(twe);a=p,a.size=0,a.maxSize&&(n.maxSize=a.maxSize),n.availableSize=n.maxSize,await z0(a),o=p.writable,l=o.getWriter(),await this.write(f)}},async close(){await l.ready,await h()}});Object.defineProperty(n,jN,{get(){return c}});async function u(f){const d=f.length;d&&(await l.ready,await l.write(f),a.size+=d,n.size+=d,n.availableSize-=d)}async function h(){o.size=a.size,await l.close()}}}async function z0(e,t){if(e.init&&!e.initialized)await e.init(t);else return Promise.resolve()}function YQ(e){return Array.isArray(e)&&(e=new owe(e)),e instanceof ReadableStream&&(e={readable:e}),e}function VQ(e){e.writable===Hr&&typeof e.next==Px&&(e=new y$(e)),e instanceof WritableStream&&(e={writable:e});const{writable:t}=e;return t.size===Hr&&(t.size=0),e instanceof y$||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}function Ua(e,t,r,n){return e.readUint8Array(t,r,n)}const qQ="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),lwe=qQ.length==256;function cwe(e){if(lwe){let t="";for(let r=0;r<e.length;r++)t+=qQ[e[r]];return t}else return new TextDecoder().decode(e)}function q4(e,t){return t&&t.trim().toLowerCase()=="cp437"?cwe(e):new TextDecoder(t).decode(e)}const jQ="filename",XQ="rawFilename",KQ="comment",ZQ="rawComment",QQ="uncompressedSize",JQ="compressedSize",eJ="offset",SI="diskNumberStart",u5="lastModDate",AI="rawLastModDate",KN="lastAccessDate",uwe="rawLastAccessDate",ZN="creationDate",hwe="rawCreationDate",tJ="internalFileAttribute",rJ="internalFileAttributes",nJ="externalFileAttribute",iJ="externalFileAttributes",aJ="msDosCompatible",QN="zip64",sJ="encrypted",oJ="version",lJ="versionMadeBy",cJ="zipCrypto",uJ="directory",hJ="executable",fwe=[jQ,XQ,JQ,QQ,u5,AI,KQ,ZQ,KN,ZN,eJ,SI,SI,tJ,rJ,nJ,iJ,aJ,QN,sJ,oJ,lJ,cJ,uJ,hJ,"bitFlag","signature","filenameUTF8","commentUTF8","compressionMethod","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class h5{constructor(t){fwe.forEach(r=>this[r]=t[r])}}const n8="File format is not recognized",dwe="End of central directory not found",pwe="End of Zip64 central directory locator not found",gwe="Central directory header not found",mwe="Local file header not found",vwe="Zip64 extra field not found",ywe="File contains encrypted entry",bwe="Encryption method not supported",b$="Compression method not supported",x$="Split zip file",T$="utf-8",w$="cp437",xwe=[[QQ,mi],[JQ,mi],[eJ,mi],[SI,Jn]],Twe={[Jn]:{getValue:fi,bytes:4},[mi]:{getValue:j4,bytes:8}};class wwe{constructor(t,r={}){Object.assign(this,{reader:YQ(t),options:r,config:yQ()})}async*getEntriesGenerator(t={}){const r=this;let{reader:n}=r;const{config:a}=r;if(await z0(n),(n.size===Hr||!n.readUint8Array)&&(n=new GQ(await new Response(n.readable).blob()),await z0(n)),n.size<qu)throw new Error(n8);n.chunkSize=bQ(a);const o=await Iwe(n,uQ,n.size,qu,Jn*16);if(!o){const _=await Ua(n,0,4),R=ta(_);throw fi(R)==WN?new Error(x$):new Error(dwe)}const l=ta(o);let c=fi(l,12),u=fi(l,16);const h=o.offset,f=ea(l,20),d=h+qu+f;let p=ea(l,4);const g=n.lastDiskNumber||0;let m=ea(l,6),y=ea(l,8),b=0,x=0;if(u==mi||c==mi||y==Jn||m==Jn){const _=await Ua(n,o.offset-M2,M2),R=ta(_);if(fi(R,0)==hQ){u=j4(R,8);let M=await Ua(n,u,D2,-1),$=ta(M);const N=o.offset-M2-D2;if(fi($,0)!=mI&&u!=N){const P=u;u=N,b=u-P,M=await Ua(n,u,D2,-1),$=ta(M)}if(fi($,0)!=mI)throw new Error(pwe);p==Jn&&(p=fi($,16)),m==Jn&&(m=fi($,20)),y==Jn&&(y=j4($,32)),c==mi&&(c=j4($,40)),u-=c}}if(u>=n.size&&(b=n.size-u-c-qu,u=n.size-c-qu),g!=p)throw new Error(x$);if(u<0)throw new Error(n8);let T=0,w=await Ua(n,u,c,m),E=ta(w);if(c){const _=o.offset-c;if(fi(E,T)!=gI&&u!=_){const R=u;u=_,b+=u-R,w=await Ua(n,u,c,m),E=ta(w)}}const S=o.offset-u-(n.lastDiskOffset||0);if(c!=S&&S>=0&&(c=S,w=await Ua(n,u,c,m),E=ta(w)),u<0||u>=n.size)throw new Error(n8);const C=ms(r,t,"filenameEncoding"),k=ms(r,t,"commentEncoding");for(let _=0;_<y;_++){const R=new Ewe(n,a,r.options);if(fi(E,T)!=gI)throw new Error(gwe);fJ(R,E,T+6);const M=!!R.bitFlag.languageEncodingFlag,$=T+46,N=$+R.filenameLength,P=N+R.extraFieldLength,F=ea(E,T+4),L=F>>8==0,D=F>>8==3,B=w.subarray($,N),H=ea(E,T+32),U=P+H,G=w.subarray(P,U),W=M,ee=M,ce=fi(E,T+38),Z=L&&(eg(E,T+38)&xI)==xI||D&&(ce>>16&TI)==TI||B.length&&B[B.length-1]==P2.charCodeAt(0),J=D&&(ce>>16&wI)==wI,oe=fi(E,T+42)+b;Object.assign(R,{versionMadeBy:F,msDosCompatible:L,compressedSize:0,uncompressedSize:0,commentLength:H,directory:Z,offset:oe,diskNumberStart:ea(E,T+34),internalFileAttributes:ea(E,T+36),externalFileAttributes:ce,rawFilename:B,filenameUTF8:W,commentUTF8:ee,rawExtraField:w.subarray(N,P),executable:J}),R.internalFileAttribute=R.internalFileAttributes,R.externalFileAttribute=R.externalFileAttributes;const Y=ms(r,t,"decodeText")||q4,X=W?T$:C||w$,K=ee?T$:k||w$;let z=Y(B,X);z===Hr&&(z=q4(B,X));let j=Y(G,K);j===Hr&&(j=q4(G,K)),Object.assign(R,{rawComment:G,filename:z,comment:j,directory:Z||z.endsWith(P2)}),x=Math.max(oe,x),dJ(R,R,E,T+6),R.zipCrypto=R.encrypted&&!R.extraFieldAES;const te=new h5(R);te.getData=(Se,ue)=>R.getData(Se,te,ue),T=U;const{onprogress:re}=t;if(re)try{await re(_+1,y,new h5(R))}catch{}yield te}const O=ms(r,t,"extractPrependedData"),I=ms(r,t,"extractAppendedData");return O&&(r.prependedData=x>0?await Ua(n,0,x):new Uint8Array),r.comment=f?await Ua(n,h+qu,f):new Uint8Array,I&&(r.appendedData=d<n.size?await Ua(n,d,n.size-d):new Uint8Array),!0}async getEntries(t={}){const r=[];for await(const n of this.getEntriesGenerator(t))r.push(n);return r}async close(){}}class Ewe{constructor(t,r,n){Object.assign(this,{reader:t,config:r,options:n})}async getData(t,r,n={}){const a=this,{reader:o,offset:l,diskNumberStart:c,extraFieldAES:u,compressionMethod:h,config:f,bitFlag:d,signature:p,rawLastModDate:g,uncompressedSize:m,compressedSize:y}=a,b=r.localDirectory={},x=await Ua(o,l,30,c),T=ta(x);let w=ms(a,n,"password"),E=ms(a,n,"rawPassword");const S=ms(a,n,"passThrough");if(w=w&&w.length&&w,E=E&&E.length&&E,u&&u.originalCompressionMethod!=lQ)throw new Error(b$);if(h!=oQ&&h!=pI&&!S)throw new Error(b$);if(fi(T,0)!=cQ)throw new Error(mwe);fJ(b,T,4),b.rawExtraField=b.extraFieldLength?await Ua(o,l+30+b.filenameLength,b.extraFieldLength,c):new Uint8Array,dJ(a,b,T,4,!0),Object.assign(r,{lastAccessDate:b.lastAccessDate,creationDate:b.creationDate});const C=a.encrypted&&b.encrypted&&!S,k=C&&!u;if(S||(r.zipCrypto=k),C){if(!k&&u.strength===Hr)throw new Error(bwe);if(!w&&!E)throw new Error(ywe)}const O=l+30+b.filenameLength+b.extraFieldLength,I=y,_=o.readable;Object.assign(_,{diskNumberStart:c,offset:O,size:I});const R=ms(a,n,"signal"),M=ms(a,n,"checkPasswordOnly");M&&(t=new WritableStream),t=VQ(t),await z0(t,S?y:m);const{writable:$}=t,{onstart:N,onprogress:P,onend:F}=n,L={options:{codecType:HQ,password:w,rawPassword:E,zipCrypto:k,encryptionStrength:u&&u.strength,signed:ms(a,n,"checkSignature")&&!S,passwordVerification:k&&(d.dataDescriptor?g>>>8&255:p>>>24&255),signature:p,compressed:h!=0&&!S,encrypted:a.encrypted&&!S,useWebWorkers:ms(a,n,"useWebWorkers"),useCompressionStream:ms(a,n,"useCompressionStream"),transferStreams:ms(a,n,"transferStreams"),checkPasswordOnly:M},config:f,streamOptions:{signal:R,size:I,onstart:N,onprogress:P,onend:F}};let D=0;try{({outputSize:D}=await zQ({readable:_,writable:$},L))}catch(B){if(!M||B.message!=YN)throw B}finally{const B=ms(a,n,"preventClose");$.size+=D,!B&&!$.locked&&await $.getWriter().close()}return M?Hr:t.getData?t.getData():$}}function fJ(e,t,r){const n=e.rawBitFlag=ea(t,r+2),a=(n&vI)==vI,o=fi(t,r+6);Object.assign(e,{encrypted:a,version:ea(t,r),bitFlag:{level:(n&p4e)>>1,dataDescriptor:(n&yI)==yI,languageEncodingFlag:(n&bI)==bI},rawLastModDate:o,lastModDate:Rwe(o),filenameLength:ea(t,r+22),extraFieldLength:ea(t,r+24)})}function dJ(e,t,r,n,a){const{rawExtraField:o}=t,l=t.extraField=new Map,c=ta(new Uint8Array(o));let u=0;try{for(;u<o.length;){const x=ea(c,u),T=ea(c,u+2);l.set(x,{type:x,data:o.slice(u+4,u+4+T)}),u+=4+T}}catch{}const h=ea(r,n+4);Object.assign(t,{signature:fi(r,n+10),uncompressedSize:fi(r,n+18),compressedSize:fi(r,n+14)});const f=l.get(fQ);f&&(Swe(f,t),t.extraFieldZip64=f);const d=l.get(f4e);d&&(E$(d,jQ,XQ,t,e),t.extraFieldUnicodePath=d);const p=l.get(d4e);p&&(E$(p,KQ,ZQ,t,e),t.extraFieldUnicodeComment=p);const g=l.get(dQ);g?(Awe(g,t,h),t.extraFieldAES=g):t.compressionMethod=h;const m=l.get(pQ);m&&(kwe(m,t),t.extraFieldNTFS=m);const y=l.get(zN);y&&(Cwe(y,t,a),t.extraFieldExtendedTimestamp=y);const b=l.get(mQ);b&&(t.extraFieldUSDZ=b)}function Swe(e,t){t.zip64=!0;const r=ta(e.data),n=xwe.filter(([a,o])=>t[a]==o);for(let a=0,o=0;a<n.length;a++){const[l,c]=n[a];if(t[l]==c){const u=Twe[c];t[l]=e[l]=u.getValue(r,o),o+=u.bytes}else if(e[l])throw new Error(vwe)}}function E$(e,t,r,n,a){const o=ta(e.data),l=new l5;l.append(a[r]);const c=ta(new Uint8Array(4));c.setUint32(0,l.get(),!0);const u=fi(o,1);Object.assign(e,{version:eg(o,0),[t]:q4(e.data.subarray(5)),valid:!a.bitFlag.languageEncodingFlag&&u==fi(c,0)}),e.valid&&(n[t]=e[t],n[t+"UTF8"]=!0)}function Awe(e,t,r){const n=ta(e.data),a=eg(n,4);Object.assign(e,{vendorVersion:eg(n,0),vendorId:eg(n,2),strength:a,originalCompressionMethod:r,compressionMethod:ea(n,5)}),t.compressionMethod=e.compressionMethod}function kwe(e,t){const r=ta(e.data);let n=4,a;try{for(;n<e.data.length&&!a;){const o=ea(r,n),l=ea(r,n+2);o==gQ&&(a=e.data.slice(n+4,n+4+l)),n+=4+l}}catch{}try{if(a&&a.length==24){const o=ta(a),l=o.getBigUint64(0,!0),c=o.getBigUint64(8,!0),u=o.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:l,rawLastAccessDate:c,rawCreationDate:u});const h=i8(l),f=i8(c),d=i8(u),p={lastModDate:h,lastAccessDate:f,creationDate:d};Object.assign(e,p),Object.assign(t,p)}}catch{}}function Cwe(e,t,r){const n=ta(e.data),a=eg(n,0),o=[],l=[];r?((a&1)==1&&(o.push(u5),l.push(AI)),(a&2)==2&&(o.push(KN),l.push(uwe)),(a&4)==4&&(o.push(ZN),l.push(hwe))):e.data.length>=5&&(o.push(u5),l.push(AI));let c=1;o.forEach((u,h)=>{if(e.data.length>=c+4){const f=fi(n,c);t[u]=e[u]=new Date(f*1e3);const d=l[h];e[d]=f}c+=4})}async function Iwe(e,t,r,n,a){const o=new Uint8Array(4),l=ta(o);Owe(l,0,t);const c=n+a;return await u(n)||await u(Math.min(c,r));async function u(h){const f=r-h,d=await Ua(e,f,h);for(let p=d.length-n;p>=0;p--)if(d[p]==o[0]&&d[p+1]==o[1]&&d[p+2]==o[2]&&d[p+3]==o[3])return{offset:f+p,buffer:d.slice(p,p+n).buffer}}}function ms(e,t,r){return t[r]===Hr?e.options[r]:t[r]}function Rwe(e){const t=(e&4294901760)>>16,r=e&65535;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(r&63488)>>11,(r&2016)>>5,(r&31)*2,0)}catch{}}function i8(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function eg(e,t){return e.getUint8(t)}function ea(e,t){return e.getUint16(t,!0)}function fi(e,t){return e.getUint32(t,!0)}function j4(e,t){return Number(e.getBigUint64(t,!0))}function Owe(e,t,r){e.setUint32(t,r,!0)}function ta(e){return new DataView(e.buffer)}const _we="File already exists",Nwe="Zip file comment exceeds 64KB",Lwe="File entry comment exceeds 64KB",Mwe="File entry name exceeds 64KB",S$="Version exceeds 65535",Dwe="The strength must equal 1, 2, or 3",Pwe="Extra field type exceeds 65535",Fwe="Extra field data exceeds 64KB",JN="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",Bwe="Undefined uncompressed size",A$=new Uint8Array([7,0,2,0,65,69,3,0,0]);let a8=0;const k$=[];class $we{constructor(t,r={}){t=VQ(t);const n=t.availableSize!==Hr&&t.availableSize>0&&t.availableSize!==1/0&&t.maxSize!==Hr&&t.maxSize>0&&t.maxSize!==1/0;Object.assign(this,{writer:t,addSplitZipSignature:n,options:r,config:yQ(),files:new Map,filenames:new Set,offset:r.offset===Hr?t.writable.size:r.offset,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(t="",r,n={}){const a=this,{pendingAddFileCalls:o,config:l}=a;a8<l.maxWorkers?a8++:await new Promise(u=>k$.push(u));let c;try{if(t=t.trim(),a.filenames.has(t))throw new Error(_we);return a.filenames.add(t),c=Hwe(a,t,r,n),o.add(c),await c}catch(u){throw a.filenames.delete(t),u}finally{o.delete(c);const u=k$.shift();u?u():a8--}}async close(t=new Uint8Array,r={}){const n=this,{pendingAddFileCalls:a,writer:o}=this,{writable:l}=o;for(;a.size;)await Promise.allSettled(Array.from(a));return await Xwe(this,t,r),kr(n,r,"preventClose")||await l.getWriter().close(),o.getData?o.getData():l}}async function Hwe(e,t,r,n){t=t.trim();const a=kr(e,n,aJ),o=kr(e,n,lJ,a?20:768),l=kr(e,n,hJ);if(o>Jn)throw new Error(S$);let c=kr(e,n,iJ,0);c===0&&(c=kr(e,n,nJ,0)),!n.directory&&t.endsWith(P2)&&(n.directory=!0),kr(e,n,uJ)?(t.endsWith(P2)||(t+=P2),c===0&&(a?c=xI:c=TI<<16)):!a&&c===0&&(l?c=(wI|e$)<<16:c=e$<<16);const h=kr(e,n,"encodeText",Y4);let f=h(t);if(f===Hr&&(f=Y4(t)),Ir(f)>Jn)throw new Error(Mwe);const d=n.comment||"";let p=h(d);if(p===Hr&&(p=Y4(d)),Ir(p)>Jn)throw new Error(Lwe);const g=kr(e,n,oJ,g4e);if(g>Jn)throw new Error(S$);const m=kr(e,n,u5,new Date),y=kr(e,n,KN),b=kr(e,n,ZN);let x=kr(e,n,rJ,0);x===0&&(x=kr(e,n,tJ,0));const T=kr(e,n,"passThrough");let w,E;T||(w=kr(e,n,"password"),E=kr(e,n,"rawPassword"));const S=kr(e,n,"encryptionStrength",3),C=kr(e,n,cJ),k=kr(e,n,"extendedTimestamp",!0),O=kr(e,n,"keepOrder",!0),I=kr(e,n,"level"),_=kr(e,n,"useWebWorkers"),R=kr(e,n,"bufferedWrite"),M=kr(e,n,"dataDescriptorSignature",!1),$=kr(e,n,"signal"),N=kr(e,n,"useUnicodeFileNames",!0),P=kr(e,n,"useCompressionStream"),F=kr(e,n,"compressionMethod");let L=kr(e,n,"dataDescriptor",!0),D=kr(e,n,QN);if(!C&&(w!==Hr||E!==Hr)&&!(S>=1&&S<=3))throw new Error(Dwe);let B=new Uint8Array;const{extraField:H}=n;if(H){let fe=0,ye=0;H.forEach(he=>fe+=4+Ir(he)),B=new Uint8Array(fe),H.forEach((he,Ae)=>{if(Ae>Jn)throw new Error(Pwe);if(Ir(he)>Jn)throw new Error(Fwe);wi(B,new Uint16Array([Ae]),ye),wi(B,new Uint16Array([Ir(he)]),ye+2),wi(B,he,ye+4),ye+=4+Ir(he)})}let U=0,G=0,W=0;if(T&&({uncompressedSize:W}=n,W===Hr))throw new Error(Bwe);const ee=D===!0;r&&(r=YQ(r),await z0(r),T?U=C$(W):r.size===Hr?(L=!0,(D||D===Hr)&&(D=!0,W=U=mi+1)):(W=r.size,U=C$(W)));const{diskOffset:ce,diskNumber:Z,maxSize:J}=e.writer,oe=ee||W>mi,Y=ee||U>mi,X=ee||e.offset+e.pendingEntriesSize-ce>mi,z=kr(e,n,"supportZip64SplitFile",!0)&&ee||Z+Math.ceil(e.pendingEntriesSize/J)>Jn;if(X||oe||Y||z){if(D===!1||!O)throw new Error(JN);D=!0}D=D||!1;const j=kr(e,n,sJ),{signature:te}=n;n=Object.assign({},n,{rawFilename:f,rawComment:p,version:g,versionMadeBy:o,lastModDate:m,lastAccessDate:y,creationDate:b,rawExtraField:B,zip64:D,zip64UncompressedSize:oe,zip64CompressedSize:Y,zip64Offset:X,zip64DiskNumberStart:z,password:w,rawPassword:E,level:!P&&e.config.CompressionStream===Hr&&e.config.CompressionStreamNative===Hr?0:I,useWebWorkers:_,encryptionStrength:S,extendedTimestamp:k,zipCrypto:C,bufferedWrite:R,keepOrder:O,useUnicodeFileNames:N,dataDescriptor:L,dataDescriptorSignature:M,signal:$,msDosCompatible:a,internalFileAttribute:x,internalFileAttributes:x,externalFileAttribute:c,externalFileAttributes:c,useCompressionStream:P,passThrough:T,encrypted:!!(w&&Ir(w)||E&&Ir(E))||T&&j,signature:te,compressionMethod:F});const re=zwe(n),Se=Ywe(n),ue=Ir(re.localHeaderArray,Se.dataDescriptorArray);G=ue+U,e.options.usdz&&(G+=G+64),e.pendingEntriesSize+=G;let se;try{se=await Uwe(e,t,r,{headerInfo:re,dataDescriptorInfo:Se,metadataSize:ue},n)}finally{e.pendingEntriesSize-=G}return Object.assign(se,{name:t,comment:d,extraField:H}),new h5(se)}async function Uwe(e,t,r,n,a){const{files:o,writer:l}=e,{keepOrder:c,dataDescriptor:u,signal:h}=a,{headerInfo:f}=n,{usdz:d}=e.options,p=Array.from(o.values()).pop();let g={},m,y,b,x,T,w,E;o.set(t,g);try{let O;c&&(O=p&&p.lock,S()),(a.bufferedWrite||e.writerLocked||e.bufferedWrites&&c||!u)&&!d?(w=new TransformStream,E=new Response(w.readable).blob(),w.writable.size=0,m=!0,e.bufferedWrites++,await z0(l)):(w=l,await C()),await z0(w);const{writable:I}=l;let{diskOffset:_}=l;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const M=new Uint8Array(4),$=Ta(M);Cr($,0,WN),await Vc(I,M),e.offset+=4}d&&Gwe(n,e.offset-_),m||(await O,await k(I));const{diskNumber:R}=l;if(T=!0,g.diskNumberStart=R,g=await Wwe(r,w,g,n,e.config,a),T=!1,o.set(t,g),g.filename=t,m){await w.writable.getWriter().close();let M=await E;await O,await C(),x=!0,u||(M=await qwe(g,M,I,a)),await k(I),g.diskNumberStart=l.diskNumber,_=l.diskOffset,await M.stream().pipeTo(I,{preventClose:!0,preventAbort:!0,signal:h}),I.size+=M.size,x=!1}if(g.offset=e.offset-_,g.zip64)jwe(g,a);else if(g.offset>mi)throw new Error(JN);return e.offset+=g.size,g}catch(O){if(m&&x||!m&&T){if(e.hasCorruptedEntries=!0,O)try{O.corruptedEntry=!0}catch{}m?e.offset+=w.writable.size:e.offset=w.writable.size}throw o.delete(t),O}finally{m&&e.bufferedWrites--,b&&b(),y&&y()}function S(){g.lock=new Promise(O=>b=O)}async function C(){e.writerLocked=!0;const{lockWriter:O}=e;e.lockWriter=new Promise(I=>y=()=>{e.writerLocked=!1,I()}),await O}async function k(O){Ir(f.localHeaderArray)>l.availableSize&&(l.availableSize=0,await Vc(O,new Uint8Array))}}async function Wwe(e,t,{diskNumberStart:r,lock:n},a,o,l){const{headerInfo:c,dataDescriptorInfo:u,metadataSize:h}=a,{localHeaderArray:f,headerArray:d,lastModDate:p,rawLastModDate:g,encrypted:m,compressed:y,version:b,compressionMethod:x,rawExtraFieldExtendedTimestamp:T,extraFieldExtendedTimestampFlag:w,rawExtraFieldNTFS:E,rawExtraFieldAES:S}=c,{dataDescriptorArray:C}=u,{rawFilename:k,lastAccessDate:O,creationDate:I,password:_,rawPassword:R,level:M,zip64:$,zip64UncompressedSize:N,zip64CompressedSize:P,zip64Offset:F,zip64DiskNumberStart:L,zipCrypto:D,dataDescriptor:B,directory:H,executable:U,versionMadeBy:G,rawComment:W,rawExtraField:ee,useWebWorkers:ce,onstart:Z,onprogress:J,onend:oe,signal:Y,encryptionStrength:X,extendedTimestamp:K,msDosCompatible:z,internalFileAttributes:j,externalFileAttributes:te,useCompressionStream:re,passThrough:Se}=l,ue={lock:n,versionMadeBy:G,zip64:$,directory:!!H,executable:!!U,filenameUTF8:!0,rawFilename:k,commentUTF8:!0,rawComment:W,rawExtraFieldExtendedTimestamp:T,rawExtraFieldNTFS:E,rawExtraFieldAES:S,rawExtraField:ee,extendedTimestamp:K,msDosCompatible:z,internalFileAttributes:j,externalFileAttributes:te,diskNumberStart:r};let{signature:se,uncompressedSize:fe}=l,ye=0;Se||(fe=0);const{writable:he}=t;if(e){e.chunkSize=bQ(o),await Vc(he,f);const Ce=e.readable,Ie=Ce.size=e.size,Le={options:{codecType:$Q,level:M,rawPassword:R,password:_,encryptionStrength:X,zipCrypto:m&&D,passwordVerification:m&&D&&g>>8&255,signed:!Se,compressed:y&&!Se,encrypted:m&&!Se,useWebWorkers:ce,useCompressionStream:re,transferStreams:!1},config:o,streamOptions:{signal:Y,size:Ie,onstart:Z,onprogress:J,onend:oe}},ae=await zQ({readable:Ce,writable:he},Le);ye=ae.outputSize,Se||(fe=ae.inputSize,se=ae.signature),he.size+=fe}else await Vc(he,f);let Ae;if($){let Ce=4;N&&(Ce+=8),P&&(Ce+=8),F&&(Ce+=8),L&&(Ce+=4),Ae=new Uint8Array(Ce)}else Ae=new Uint8Array;return Vwe({signature:se,rawExtraFieldZip64:Ae,compressedSize:ye,uncompressedSize:fe,headerInfo:c,dataDescriptorInfo:u},l),B&&await Vc(he,C),Object.assign(ue,{uncompressedSize:fe,compressedSize:ye,lastModDate:p,rawLastModDate:g,creationDate:I,lastAccessDate:O,encrypted:m,zipCrypto:D,size:h+ye,compressionMethod:x,version:b,headerArray:d,signature:se,rawExtraFieldZip64:Ae,extraFieldExtendedTimestampFlag:w,zip64UncompressedSize:N,zip64CompressedSize:P,zip64Offset:F,zip64DiskNumberStart:L}),ue}function zwe(e){const{rawFilename:t,lastModDate:r,lastAccessDate:n,creationDate:a,level:o,zip64:l,zipCrypto:c,useUnicodeFileNames:u,dataDescriptor:h,directory:f,rawExtraField:d,encryptionStrength:p,extendedTimestamp:g,encrypted:m}=e;let{version:y,compressionMethod:b}=e;const x=!f&&(o>0||o===Hr&&b!==0);let T;if(m&&!c){T=new Uint8Array(Ir(A$)+2);const F=Ta(T);Dr(F,0,dQ),wi(T,A$,2),kI(F,8,p)}else T=new Uint8Array;let w,E,S;if(g){E=new Uint8Array(9+(n?4:0)+(a?4:0));const F=Ta(E);Dr(F,0,zN),Dr(F,2,Ir(E)-4),S=1+(n?2:0)+(a?4:0),kI(F,4,S);let L=5;Cr(F,L,Math.floor(r.getTime()/1e3)),L+=4,n&&(Cr(F,L,Math.floor(n.getTime()/1e3)),L+=4),a&&Cr(F,L,Math.floor(a.getTime()/1e3));try{w=new Uint8Array(36);const D=Ta(w),B=s8(r);Dr(D,0,pQ),Dr(D,2,32),Dr(D,8,gQ),Dr(D,10,24),js(D,12,B),js(D,20,s8(n)||B),js(D,28,s8(a)||B)}catch{w=new Uint8Array}}else w=E=new Uint8Array;let C=0;u&&(C=C|bI),h&&(C=C|yI),b===Hr&&(b=x?pI:oQ),b==pI&&(o>=1&&o<3&&(C=C|6),o>=3&&o<5&&(C=C|1),o===9&&(C=C|2)),l&&(y=y>t$?y:t$),m&&(C=C|vI,c||(y=y>r$?y:r$,T[9]=b,b=lQ));const k=new Uint8Array(26),O=Ta(k);Dr(O,0,y),Dr(O,2,C),Dr(O,4,b);const I=new Uint32Array(1),_=Ta(I);let R;r<i$?R=i$:r>n$?R=n$:R=r,Dr(_,0,(R.getHours()<<6|R.getMinutes())<<5|R.getSeconds()/2),Dr(_,2,(R.getFullYear()-1980<<4|R.getMonth()+1)<<5|R.getDate());const M=I[0];Cr(O,6,M),Dr(O,22,Ir(t));const $=Ir(T,E,w,d);Dr(O,24,$);const N=new Uint8Array(30+Ir(t)+$),P=Ta(N);return Cr(P,0,cQ),wi(N,k,4),wi(N,t,30),wi(N,T,30+Ir(t)),wi(N,E,30+Ir(t,T)),wi(N,w,30+Ir(t,T,E)),wi(N,d,30+Ir(t,T,E,w)),{localHeaderArray:N,headerArray:k,headerView:O,lastModDate:r,rawLastModDate:M,encrypted:m,compressed:x,version:y,compressionMethod:b,extraFieldExtendedTimestampFlag:S,rawExtraFieldExtendedTimestamp:E,rawExtraFieldNTFS:w,rawExtraFieldAES:T,extraFieldLength:$}}function Gwe(e,t){const{headerInfo:r}=e;let{localHeaderArray:n,extraFieldLength:a}=r,o=Ta(n),l=64-(t+Ir(n))%64;l<4&&(l+=64);const c=new Uint8Array(l),u=Ta(c);Dr(u,0,mQ),Dr(u,2,l-2);const h=n;r.localHeaderArray=n=new Uint8Array(Ir(h)+l),wi(n,h),wi(n,c,Ir(h)),o=Ta(n),Dr(o,28,a+l),e.metadataSize+=l}function Ywe(e){const{zip64:t,dataDescriptor:r,dataDescriptorSignature:n}=e;let a=new Uint8Array,o,l=0;return r&&(a=new Uint8Array(t?n?24:20:n?16:12),o=Ta(a),n&&(l=4,Cr(o,0,u4e))),{dataDescriptorArray:a,dataDescriptorView:o,dataDescriptorOffset:l}}function Vwe(e,t){const{signature:r,rawExtraFieldZip64:n,compressedSize:a,uncompressedSize:o,headerInfo:l,dataDescriptorInfo:c}=e,{headerView:u,encrypted:h}=l,{dataDescriptorView:f,dataDescriptorOffset:d}=c,{zip64:p,zip64UncompressedSize:g,zip64CompressedSize:m,zipCrypto:y,dataDescriptor:b}=t;if((!h||y)&&r!==Hr&&(Cr(u,10,r),b&&Cr(f,d,r)),p){const x=Ta(n);Dr(x,0,fQ),Dr(x,2,Ir(n)-4);let T=4;g&&(Cr(u,18,mi),js(x,T,BigInt(o)),T+=8),m&&(Cr(u,14,mi),js(x,T,BigInt(a))),b&&(js(f,d+4,BigInt(a)),js(f,d+12,BigInt(o)))}else Cr(u,14,a),Cr(u,18,o),b&&(Cr(f,d+4,a),Cr(f,d+8,o))}async function qwe(e,t,r,{zipCrypto:n}){let a;a=await t.slice(0,26).arrayBuffer(),a.byteLength!=26&&(a=a.slice(0,26));const o=new DataView(a);return(!e.encrypted||n)&&Cr(o,14,e.signature),e.zip64?(Cr(o,18,mi),Cr(o,22,mi)):(Cr(o,18,e.compressedSize),Cr(o,22,e.uncompressedSize)),await Vc(r,new Uint8Array(a)),t.slice(a.byteLength)}function jwe(e,t){const{rawExtraFieldZip64:r,offset:n,diskNumberStart:a}=e,{zip64UncompressedSize:o,zip64CompressedSize:l,zip64Offset:c,zip64DiskNumberStart:u}=t,h=Ta(r);let f=4;o&&(f+=8),l&&(f+=8),c&&(js(h,f,BigInt(n)),f+=8),u&&Cr(h,f,a)}async function Xwe(e,t,r){const{files:n,writer:a}=e,{diskOffset:o,writable:l}=a;let{diskNumber:c}=a,u=0,h=0,f=e.offset-o,d=n.size;for(const[,S]of n){const{rawFilename:C,rawExtraFieldZip64:k,rawExtraFieldAES:O,rawComment:I,rawExtraFieldNTFS:_,rawExtraField:R,extendedTimestamp:M,extraFieldExtendedTimestampFlag:$,lastModDate:N}=S;let P;if(M){P=new Uint8Array(9);const F=Ta(P);Dr(F,0,zN),Dr(F,2,5),kI(F,4,$),Cr(F,5,Math.floor(N.getTime()/1e3))}else P=new Uint8Array;S.rawExtraFieldCDExtendedTimestamp=P,h+=46+Ir(C,I,k,O,_,P,R)}const p=new Uint8Array(h),g=Ta(p);await z0(a);let m=0;for(const[S,C]of Array.from(n.values()).entries()){const{offset:k,rawFilename:O,rawExtraFieldZip64:I,rawExtraFieldAES:_,rawExtraFieldCDExtendedTimestamp:R,rawExtraFieldNTFS:M,rawExtraField:$,rawComment:N,versionMadeBy:P,headerArray:F,zip64:L,zip64UncompressedSize:D,zip64CompressedSize:B,zip64DiskNumberStart:H,zip64Offset:U,internalFileAttributes:G,externalFileAttributes:W,diskNumberStart:ee,uncompressedSize:ce,compressedSize:Z}=C,J=Ir(I,_,R,M,$);Cr(g,u,gI),Dr(g,u+4,P);const oe=Ta(F);D||Cr(oe,18,ce),B||Cr(oe,14,Z),wi(p,F,u+6),Dr(g,u+30,J),Dr(g,u+32,Ir(N)),Dr(g,u+34,L&&H?Jn:ee),Dr(g,u+36,G),W&&Cr(g,u+38,W),Cr(g,u+42,L&&U?mi:k),wi(p,O,u+46),wi(p,I,u+46+Ir(O)),wi(p,_,u+46+Ir(O,I)),wi(p,R,u+46+Ir(O,I,_)),wi(p,M,u+46+Ir(O,I,_,R)),wi(p,$,u+46+Ir(O,I,_,R,M)),wi(p,N,u+46+Ir(O)+J);const Y=46+Ir(O,N)+J;if(u-m>a.availableSize&&(a.availableSize=0,await Vc(l,p.slice(m,u)),m=u),u+=Y,r.onprogress)try{await r.onprogress(S+1,n.size,new h5(C))}catch{}}await Vc(l,m?p.slice(m):p);let y=a.diskNumber;const{availableSize:b}=a;b<qu&&y++;let x=kr(e,r,QN);if(f>mi||h>mi||d>Jn||y>Jn){if(x===!1)throw new Error(JN);x=!0}const T=new Uint8Array(x?h4e:qu),w=Ta(T);u=0,x&&(Cr(w,0,mI),js(w,4,BigInt(44)),Dr(w,12,45),Dr(w,14,45),Cr(w,16,y),Cr(w,20,c),js(w,24,BigInt(d)),js(w,32,BigInt(d)),js(w,40,BigInt(h)),js(w,48,BigInt(f)),Cr(w,56,hQ),js(w,64,BigInt(f)+BigInt(h)),Cr(w,72,y+1),kr(e,r,"supportZip64SplitFile",!0)&&(y=Jn,c=Jn),d=Jn,f=mi,h=mi,u+=D2+M2),Cr(w,u,uQ),Dr(w,u+4,y),Dr(w,u+6,c),Dr(w,u+8,d),Dr(w,u+10,d),Cr(w,u+12,h),Cr(w,u+16,f);const E=Ir(t);if(E)if(E<=Jn)Dr(w,u+20,E);else throw new Error(Nwe);await Vc(l,T),E&&await Vc(l,t)}async function Vc(e,t){const r=e.getWriter();try{await r.ready,e.size+=Ir(t),await r.write(t)}finally{r.releaseLock()}}function s8(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function kr(e,t,r,n){const a=t[r]===Hr?e.options[r]:t[r];return a===Hr?n:a}function C$(e){return e+5*(Math.floor(e/16383)+1)}function kI(e,t,r){e.setUint8(t,r)}function Dr(e,t,r){e.setUint16(t,r,!0)}function Cr(e,t,r){e.setUint32(t,r,!0)}function js(e,t,r){e.setBigUint64(t,r,!0)}function wi(e,t,r){e.set(t,r)}function Ta(e){return new DataView(e.buffer)}function Ir(...e){let t=0;return e.forEach(r=>r&&(t+=r.length)),t}let pJ;try{pJ=import.meta.url}catch{}GN({baseURL:pJ});ewe(GN);GN({Deflate:WTe,Inflate:c4e});function gJ(e){return wN()?(NK(e),!0):!1}function Ts(e){return typeof e=="function"?e():Vr(e)}const e9=typeof window<"u"&&typeof document<"u",Kwe=Object.prototype.toString,Zwe=e=>Kwe.call(e)==="[object Object]",Eb=()=>{};function Qwe(e,t){function r(...n){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(a).catch(o)})}return r}const mJ=e=>e();function Jwe(e,t={}){let r,n,a=Eb;const o=c=>{clearTimeout(c),a(),a=Eb};return c=>{const u=Ts(e),h=Ts(t.maxWait);return r&&o(r),u<=0||h!==void 0&&h<=0?(n&&(o(n),n=null),Promise.resolve(c())):new Promise((f,d)=>{a=t.rejectOnCancel?d:f,h&&!n&&(n=setTimeout(()=>{r&&o(r),n=null,f(c())},h)),r=setTimeout(()=>{n&&o(n),n=null,f(c())},u)})}}function e5e(...e){let t=0,r,n=!0,a=Eb,o,l,c,u,h;!qn(e[0])&&typeof e[0]=="object"?{delay:l,trailing:c=!0,leading:u=!0,rejectOnCancel:h=!1}=e[0]:[l,c=!0,u=!0,h=!1]=e;const f=()=>{r&&(clearTimeout(r),r=void 0,a(),a=Eb)};return p=>{const g=Ts(l),m=Date.now()-t,y=()=>o=p();return f(),g<=0?(t=Date.now(),y()):(m>g&&(u||!n)?(t=Date.now(),y()):c&&(o=new Promise((b,x)=>{a=h?x:b,r=setTimeout(()=>{t=Date.now(),n=!0,b(y()),f()},Math.max(0,g-m))})),!u&&!r&&(r=setTimeout(()=>n=!0,g)),n=!1,o)}}function t5e(e=mJ){const t=or(!0);function r(){t.value=!1}function n(){t.value=!0}const a=(...o)=>{t.value&&e(...o)};return{isActive:zS(t),pause:r,resume:n,eventFilter:a}}function r5e(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const n=t;t=void 0,n&&await n},r}function n5e(e){return jS()}function t9(e,t,r={}){const{eventFilter:n=mJ,...a}=r;return iu(e,Qwe(n,t),a)}function i5e(e,t,r={}){const{eventFilter:n,...a}=r,{eventFilter:o,pause:l,resume:c,isActive:u}=t5e(n);return{stop:t9(e,t,{...a,eventFilter:o}),pause:l,resume:c,isActive:u}}function a5e(e,t=!0,r){n5e()?cv(e,r):t?e():Sp(e)}const s5e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,o5e=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function l5e(e,t,r,n){let a=e<12?"AM":"PM";return n&&(a=a.split("").reduce((o,l)=>o+=`${l}.`,"")),r?a.toLowerCase():a}function $f(e){const t=["th","st","nd","rd"],r=e%100;return e+(t[(r-20)%10]||t[r]||t[0])}function c5e(e,t,r={}){var n;const a=e.getFullYear(),o=e.getMonth(),l=e.getDate(),c=e.getHours(),u=e.getMinutes(),h=e.getSeconds(),f=e.getMilliseconds(),d=e.getDay(),p=(n=r.customMeridiem)!=null?n:l5e,g={Yo:()=>$f(a),YY:()=>String(a).slice(-2),YYYY:()=>a,M:()=>o+1,Mo:()=>$f(o+1),MM:()=>`${o+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(Ts(r.locales),{month:"short"}),MMMM:()=>e.toLocaleDateString(Ts(r.locales),{month:"long"}),D:()=>String(l),Do:()=>$f(l),DD:()=>`${l}`.padStart(2,"0"),H:()=>String(c),Ho:()=>$f(c),HH:()=>`${c}`.padStart(2,"0"),h:()=>`${c%12||12}`.padStart(1,"0"),ho:()=>$f(c%12||12),hh:()=>`${c%12||12}`.padStart(2,"0"),m:()=>String(u),mo:()=>$f(u),mm:()=>`${u}`.padStart(2,"0"),s:()=>String(h),so:()=>$f(h),ss:()=>`${h}`.padStart(2,"0"),SSS:()=>`${f}`.padStart(3,"0"),d:()=>d,dd:()=>e.toLocaleDateString(Ts(r.locales),{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(Ts(r.locales),{weekday:"short"}),dddd:()=>e.toLocaleDateString(Ts(r.locales),{weekday:"long"}),A:()=>p(c,u),AA:()=>p(c,u,!1,!0),a:()=>p(c,u,!0),aa:()=>p(c,u,!0,!0)};return t.replace(o5e,(m,y)=>{var b,x;return(x=y??((b=g[m])==null?void 0:b.call(g)))!=null?x:m})}function u5e(e){if(e===null)return new Date(Number.NaN);if(e===void 0)return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){const t=e.match(s5e);if(t){const r=t[2]-1||0,n=(t[7]||"0").substring(0,3);return new Date(t[1],r,t[3]||1,t[4]||0,t[5]||0,t[6]||0,n)}}return new Date(e)}function tg(e,t="HH:mm:ss",r={}){return Gn(()=>c5e(u5e(Ts(e)),Ts(t),r))}function h5e(e,t,r={}){const{immediate:n=!0}=r,a=or(!1);let o=null;function l(){o&&(clearTimeout(o),o=null)}function c(){a.value=!1,l()}function u(...h){l(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,e(...h)},Ts(t))}return n&&(a.value=!0,e9&&u()),gJ(c),{isPending:zS(a),start:u,stop:c}}function f5e(e,t,r={}){const{debounce:n=0,maxWait:a=void 0,...o}=r;return t9(e,t,{...o,eventFilter:Jwe(n,{maxWait:a})})}function d5e(e,t,r={}){const{throttle:n=0,trailing:a=!0,leading:o=!0,...l}=r;return t9(e,t,{...l,eventFilter:e5e(n,a,o)})}const f5=e9?window:void 0,vJ=e9?window.navigator:void 0;function p5e(e){var t;const r=Ts(e);return(t=r==null?void 0:r.$el)!=null?t:r}function d5(...e){let t,r,n,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,n,a]=e,t=f5):[t,r,n,a]=e,!t)return Eb;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],l=()=>{o.forEach(f=>f()),o.length=0},c=(f,d,p,g)=>(f.addEventListener(d,p,g),()=>f.removeEventListener(d,p,g)),u=iu(()=>[p5e(t),Ts(a)],([f,d])=>{if(l(),!f)return;const p=Zwe(d)?{...d}:d;o.push(...r.flatMap(g=>n.map(m=>c(f,g,m,p))))},{immediate:!0,flush:"post"}),h=()=>{u(),l()};return gJ(h),h}function g5e(){const e=or(!1),t=jS();return t&&cv(()=>{e.value=!0},t),e}function yJ(e){const t=g5e();return Gn(()=>(t.value,!!e()))}function I$(e,t={}){const{controls:r=!1,navigator:n=vJ}=t,a=yJ(()=>n&&"permissions"in n),o=ub(),l=typeof e=="string"?{name:e}:e,c=ub(),u=()=>{var f,d;c.value=(d=(f=o.value)==null?void 0:f.state)!=null?d:"prompt"};d5(o,"change",u);const h=r5e(async()=>{if(a.value){if(!o.value)try{o.value=await n.permissions.query(l)}catch{o.value=void 0}finally{u()}if(r)return Mr(o.value)}});return h(),r?{state:c,isSupported:a,query:h}:c}function m5e(e={}){const{navigator:t=vJ,read:r=!1,source:n,copiedDuring:a=1500,legacy:o=!1}=e,l=yJ(()=>t&&"clipboard"in t),c=I$("clipboard-read"),u=I$("clipboard-write"),h=Gn(()=>l.value||o),f=or(""),d=or(!1),p=h5e(()=>d.value=!1,a);function g(){l.value&&x(c.value)?t.clipboard.readText().then(T=>{f.value=T}):f.value=b()}h.value&&r&&d5(["copy","cut"],g);async function m(T=Ts(n)){h.value&&T!=null&&(l.value&&x(u.value)?await t.clipboard.writeText(T):y(T),f.value=T,d.value=!0,p.start())}function y(T){const w=document.createElement("textarea");w.value=T??"",w.style.position="absolute",w.style.opacity="0",document.body.appendChild(w),w.select(),document.execCommand("copy"),w.remove()}function b(){var T,w,E;return(E=(w=(T=document==null?void 0:document.getSelection)==null?void 0:T.call(document))==null?void 0:w.toString())!=null?E:""}function x(T){return T==="granted"||T==="prompt"}return{isSupported:h,text:f,copied:d,copy:m}}const dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pT="__vueuse_ssr_handlers__",v5e=y5e();function y5e(){return pT in dT||(dT[pT]=dT[pT]||{}),dT[pT]}function b5e(e,t){return v5e[e]||t}function x5e(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const T5e={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},R$="vueuse-storage";function w5e(e,t,r,n={}){var a;const{flush:o="pre",deep:l=!0,listenToStorageChanges:c=!0,writeDefaults:u=!0,mergeDefaults:h=!1,shallow:f,window:d=f5,eventFilter:p,onError:g=_=>{console.error(_)},initOnMounted:m}=n,y=(f?ub:or)(t);if(!r)try{r=b5e("getDefaultStorage",()=>{var _;return(_=f5)==null?void 0:_.localStorage})()}catch(_){g(_)}if(!r)return y;const b=Ts(t),x=x5e(b),T=(a=n.serializer)!=null?a:T5e[x],{pause:w,resume:E}=i5e(y,()=>C(y.value),{flush:o,deep:l,eventFilter:p});d&&c&&a5e(()=>{r instanceof Storage?d5(d,"storage",O):d5(d,R$,I),m&&O()}),m||O();function S(_,R){if(d){const M={key:e,oldValue:_,newValue:R,storageArea:r};d.dispatchEvent(r instanceof Storage?new StorageEvent("storage",M):new CustomEvent(R$,{detail:M}))}}function C(_){try{const R=r.getItem(e);if(_==null)S(R,null),r.removeItem(e);else{const M=T.write(_);R!==M&&(r.setItem(e,M),S(R,M))}}catch(R){g(R)}}function k(_){const R=_?_.newValue:r.getItem(e);if(R==null)return u&&b!=null&&r.setItem(e,T.write(b)),b;if(!_&&h){const M=T.read(R);return typeof h=="function"?h(M,b):x==="object"&&!Array.isArray(M)?{...b,...M}:M}else return typeof R!="string"?R:T.read(R)}function O(_){if(!(_&&_.storageArea!==r)){if(_&&_.key==null){y.value=b;return}if(!(_&&_.key!==e)){w();try{(_==null?void 0:_.newValue)!==T.write(y.value)&&(y.value=k(_))}catch(R){g(R)}finally{_?Sp(E):E()}}}}function I(_){O(_.detail)}return y}function E5e(e,t,r={}){const{window:n=f5}=r;return w5e(e,t,n==null?void 0:n.localStorage,r)}const Bx=Mx("metadata",()=>{const e=or(""),t=or(""),r=or(""),n=or(""),a=or(""),o=or(""),l=or(""),c=or(!1);function u(){n.value=e.value=t.value="placeholder",r.value="en",o.value=tg(new Date,"YYYY-MM-DDTHH:mm:ssZ").value,a.value=tg(new Date,"YYYY-MM-DD").value,l.value="",c.value=!1}return{$reset:u,author:e,title:t,lang:r,book_id:n,date_published:a,date_modified:o,cover:l,fixed_layout:c}});class S5e{constructor(t,r,n,a){Tr(this,"id");Tr(this,"href");Tr(this,"media_type");Tr(this,"properties");this.id=t,this.href=r,this.media_type=n,this.properties=a}async getContentAsString(){return await fetch(this.getContentUrl()).then(t=>t.blob())}getContentUrl(){return sessionStorage.getItem(this.href)}setContent(t){URL.revokeObjectURL(sessionStorage.getItem(this.href)),sessionStorage.setItem(this.href,URL.createObjectURL(new Blob([t],{type:this.media_type})))}}const Gd=Mx("manifest",()=>{const e=or([]);function t(){e.value=[]}function r(u,h,f,d,p){const g=new S5e(u,h,f,d);e.value.push(g),g.setContent(p)}function n(u){const h=e.value.findIndex(f=>f.id==u);h>-1&&e.value.splice(h,1)}function a(u){return e.value.find(h=>h.id==u)}function o(u){return e.value.find(h=>h.href==u)}function l(u){return e.value.filter(h=>h.media_type==u)}function c(){return e.value.filter(u=>u.media_type==="audio/mpeg"||u.media_type==="audio/mp4"?u:void 0)}return{$reset:t,getItem:a,getAudioItems:c,getItemsByType:l,items:e,appendItem:r,findItemByHref:o,removeItem:n}}),r6=Mx("spine",()=>{const e=or([]);function t(){e.value=[]}function r(l,c,u){Gd().appendItem(l,c,u),e.value.push({idref:l,linear:"yes"})}function n(l){Gd().removeItem(l);const u=e.value.findIndex(h=>h.idref==l);u&&e.value.splice(u,1)}function a(l){return e.value.find(c=>c.idref==l)}function o(l,c){const u=e.value.findIndex(h=>h.idref==l);if(u>-1){const h=e.value.splice(u,1);h.length==1&&e.value.splice(u+c,0,h[0])}}return{$reset:t,itemrefs:e,getItem:a,appendItem:r,moveItem:o,removeItem:n}}),r9=Mx("contentOpf",()=>{const e=Gd(),t=Bx(),r=r6();function n(){e.$reset(),t.$reset(),r.$reset()}return{$reset:n,manifest:e,metadata:t,spine:r}}),A5e=new gm("epub-editor");let Rc;async function k5e(e){Rc=new DOMParser().parseFromString(e,"text/xml");const r=Bx();Array.from(Rc.getElementsByTagName("dc:title")).forEach(c=>{r.title=c.textContent||""}),Array.from(Rc.getElementsByTagName("dc:creator")).forEach(c=>{r.author=c.textContent||""}),Array.from(Rc.getElementsByTagName("dc:language")).forEach(c=>{r.lang=c.textContent||""}),Array.from(Rc.getElementsByTagName("dc:identifier")).forEach(c=>{r.book_id=c.textContent||""}),Array.from(Rc.getElementsByTagName("dc:date")).forEach(c=>{r.date_published=c.textContent||""});const n=Rc.querySelector('metadata > meta[property="dcterms:modified"]');r.date_modified=n&&n.textContent?n.textContent:"";const a=Rc.querySelector("metadata > meta[name=cover]");r.cover=a.getAttribute("content")||"";const o=Gd();o.$reset(),Array.from(Rc.getElementsByTagName("item")).forEach(async c=>{const u=c.getAttribute("href")||"";let h=c.getAttribute("media-type")||"";u!=null&&u.endsWith(".smil")?h="application/smil+xml":u!=null&&u.endsWith(".js")?h="application/javascript":u!=null&&u.endsWith(".m4a")?h="audio/mp4":u!=null&&u.endsWith(".woff")&&(h="font/woff"),o.appendItem(c.getAttribute("id")||"",u,h,c.getAttribute("properties")||void 0,await A5e.promises.readFile(`/EPUB/${u}`))});const l=r6();l.$reset(),Array.from(Rc.getElementsByTagName("itemref")).forEach(c=>{l.itemrefs.push({idref:c.getAttribute("idref")||"",linear:c.getAttribute("linear")=="yes"?"yes":"no"})})}function C5e(e){const t=e.fixed_layout?`  <meta property="rendition:layout">pre-paginated</meta>
    <meta property="rendition:spread">none</meta>
    <meta property="rendition:orientation">portrait</meta>
  `:"";return`<metadata xmlns:dc="http://purl.org/dc/elements/1.1/">
    <dc:title>${e.title}</dc:title>
    <dc:language>${e.lang}</dc:language>
    <dc:identifier id="BookId">${e.book_id}</dc:identifier>
    <dc:creator id="creator">${e.author}</dc:creator>
    <dc:date>${e.date_published}</dc:date>
    <dc:rights>&#169; ${e.author}</dc:rights>
    <meta property="role" refines="#creator" scheme="marc:relators">aut</meta>
    <meta property="dcterms:modified">${e.date_modified}</meta>
    <meta name="cover" content="${e.cover}" />
    <meta property="ibooks:specified-fonts">true</meta>
  ${t}</metadata>
`}function I5e(e){return`<manifest>${e.map(t=>{const r=t.properties?`properties="${t.properties}"`:"";return`
    <item id="${t.id.replace(".","_")}" href="${t.href}" media-type="${t.media_type}" ${r}  />`}).join("")}
  </manifest>
`}function R5e(e){return`<spine>${e.map(t=>`
    <itemref idref="${t.idref}" linear="${t.linear}" ${t.properties?'properties="'+t.properties+'"':""} />`).join("")}
  </spine>
`}function rg(){const e=r9();return`<?xml version="1.0"?>
<package version="3.0" unique-identifier="BookId" xmlns="http://www.idpf.org/2007/opf" prefix="ibooks: http://vocabulary.itunes.apple.com/rdf/ibooks/vocabulary-extensions-1.0/">
  ${C5e(e.metadata)}
  ${I5e(e.manifest.items)}
  ${R5e(e.spine.itemrefs)}</package>
    `}const bJ=Mx("ui",()=>({status:or("init")})),O5e=`:::div{.header}
here is the header
:::

:::div{.footer}
here is the footer
:::

# Heading 1

## Heading 2

### Heading 3

#### Heading 4

##### Heading 5

###### Heading 6

---

> blockquote
>
> same blockquote but linebreak between

---

\`\`\`bash

 $ here's a bash code block

\`\`\`

| heading     | column 2     |
| ----------- | ------------ |
| and a table | with content |

## ABC notation

\`\`\`abc
---
expandToWidest: false
---
L:1/8
A B c2 A2 B2|
\`\`\`

## Mermaid diagrams

\`\`\`mermaid
%%{init:{'themeVariables': { 'fontFamily': 'Roboto Mono'}, 'flowchart':{'htmlLabels': false, 'nodeSpacing': '10', 'rankSpacing':'30'}}}%%
flowchart TB
  A([A]) --> B(B thing)
  B --> C([C is next])
  C ~~~ D
  subgraph F
    D --> E
  end

style A stroke-width:2px;
style B stroke-dasharray:none;
style E stroke-dasharray:2;
classDef default fill:lightgreen,stroke:black,stroke-width:1px,stroke-dasharray:6;
\`\`\`
`,_5e=`html,
body {
  font-family: sans-serif;
}

h1 {
  text-align: center;
}

svg {
  display: block;
  margin: 0 auto;
}

pre,
code,
.language {
  margin: 0 !important;
  padding: 0 !important;
}

.language-bash {
  display: block;
  background-color: black;
  color: limegreen;
  font-family: monospace;
  width: 100%;
  padding: 1em;
}

.footer,
.header {
  display: none;
}

@page {
  size: auto;
  margin: 2em 0 0 0;
}

@media print {
  html {
    margin-top: 20px;
  }
  .footer {
    position: fixed;
    bottom: 0;
    display: block;
  }
  .header {
    position: fixed;
    top: 0;
    display: block;
  }
}
`,N5e="0.1.0",L5e={version:N5e},M5e={class:"main-head"},D5e={class:"main-nav"},P5e={name:"sidebar"},F5e=["data-active"],B5e={class:"actions"},$5e={name:"sidebar"},H5e={name:"sidebar",open:""},U5e={class:"items"},W5e={style:{float:"right"}},z5e=["onClick"],G5e=["onClick"],Y5e=["onClick"],V5e=["onClick"],q5e={name:"sidebar"},j5e={class:"items"},X5e={class:"content"},K5e=["open"],O$="text/markdown",Z5e=Fh({__name:"HomeView",setup(e){const t=["dragenter","dragover","dragleave","drop"],r=or(!1),n=or([]),a=or(""),o=or(""),l=or(!1),c=or();let u=new gm("epub-editor");const h=RF("upload-epub"),f=RF("upload-asset"),d=r6(),p=Gd(),g=bJ(),m=or(L5e.version),y=Gn(()=>d.itemrefs),b=Gn(()=>p.items),x=Bx();async function T(U){const G=await u.promises.readFile(U);typeof G!="string"?k5e(new TextDecoder().decode(G)):console.error("wrong type for fs file content")}async function w(U){for(const G of await u.promises.readdir(U)){const W=U!="/"?`${U}/`+G:"/"+G;(await u.promises.stat(W)).type==="file"?(console.log(W),W.includes("content.opf")&&await T(W)):await w(W)}}cv(async()=>{t.forEach(G=>{document.body.addEventListener(G,R)}),(await u.promises.readdir("/")).length==0?await M():await w("/"),g.status="started"});function E(U){return encodeURIComponent(`/EPUB/${U}.md`)}function S(){r.value=!0}function C(){r.value=!1}async function k(){if(f&&f.value&&f.value.files){for(const U of f.value.files)await U.arrayBuffer().then(async G=>{await u.promises.writeFile("/EPUB/"+U.name,new Uint8Array(G))}),p.appendItem(U.name,U.name,U.type);await u.promises.writeFile("/EPUB/content.opf",rg())}}function O(U){console.log(U),h&&h.value&&h.value.files&&_(h.value.files)}async function I(U){C(),console.log(U.dataTransfer.files),U.dataTransfer&&U.dataTransfer.files&&_(U.dataTransfer.files)}async function _(U){for(const G of U){async function W(ee,ce){await u.promises.readdir("/EPUB").catch(async J=>{console.log(J),await u.promises.mkdir("/EPUB").catch(oe=>{console.error(oe)})}),await u.promises.readdir("/EPUB/scripts").catch(async J=>{console.log(J),await u.promises.mkdir("/EPUB/scripts").catch(oe=>{console.error(oe)})}),await u.promises.readdir("/META-INF").catch(async J=>{console.log(J),await u.promises.mkdir("/META-INF").catch(oe=>{console.error(oe)})}),await u.promises.mkdir("/OEBPS").catch(J=>{console.error(J)});let Z=await ee.getEntries(ce);return Z=await Promise.all(Z.map(async J=>(J.getData&&await u.promises.writeFile("/"+J.filename,await J.getData(new swe)).then(()=>{console.log("fulfilled",String(J.filename))},oe=>{console.log("rejected",String(oe))}),J))),Z.flat()}await W(new wwe(new GQ(G)),{}).then(ee=>{n.value=ee})}await w("/")}function R(U){U.preventDefault()}NN(()=>{t.forEach(U=>{document.body.removeEventListener(U,R)})});async function M(){indexedDB.deleteDatabase("epub-editor"),u=new gm("epub-editor"),r9().$reset(),$(),KZ.replace("/metadata")}async function $(){await u.promises.mkdir("/EPUB"),await u.promises.mkdir("/META-INF"),await u.promises.writeFile("/mimetype","application/epub+zip"),await u.promises.writeFile("/META-INF/container.xml",`<?xml version="1.0" encoding="UTF-8" ?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="EPUB/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>
`),p.appendItem("nav","nav.xhtml","application/xhtml+xml","nav"),d.appendItem("init","init.xhtml","application/xhtml+xml"),await u.promises.writeFile("/EPUB/init.md",O5e),p.appendItem("init_md","init.md",O$),await u.promises.writeFile("/EPUB/page.css",_5e),p.appendItem("style","page.css","text/css"),await u.promises.writeFile("/EPUB/content.opf",rg()),await u.promises.writeFile("/EPUB/nav.xhtml",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <title>Table of contents</title>
</head>
<body epub:type="frontmatter">
  <nav epub:type="toc" id="toc">
    <h1>Table of Contents</h1>
    <ol>
    <li><a href="init.xhtml">Init</a></li>
    </ol>
  </nav>
</body>
</html>`),await u.promises.writeFile("/EPUB/init.xhtml",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>placeholder</title>
</head>
<body>
  <div>Chapter 1</div>
</body>
</html>`),await w("/")}async function N(U){const G=new $we(new awe("application/zip"),{});await G.add("mimetype",new fT(await u.promises.readFile("/mimetype")),{compressionMethod:0,level:0,extendedTimestamp:!1}),await G.add("META-INF/container.xml",new fT(await u.promises.readFile("/META-INF/container.xml"))),await G.add("EPUB/content.opf",new fT(await u.promises.readFile("/EPUB/content.opf"))),await Promise.all(b.value.map(async ee=>G.add(`EPUB/${ee.href}`,new fT(await u.promises.readFile(`/EPUB/${ee.href}`)))));const W=URL.createObjectURL(await G.close());if(W){const ee=document.createElement("a"),ce=new MouseEvent("click");x.date_modified=tg(new Date,"YYYY-MM-DDTHH:mm:ssZ").value,ee.href=W,ee.download=`${x.title}-${x.author}-${x.date_modified}.epub`,ee.dispatchEvent(ce)}U.preventDefault()}async function P(){await u.promises.writeFile("/EPUB/content.opf",rg())}async function F(){const U=y.value.length+1,G=`new-${U}`,W=`${G}.xhtml`,ee=`/EPUB/${W}`,Z=((oe,...Y)=>String.raw({raw:oe},...Y))`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <title>${W}</title>
  </head>
  <body></body>
</html>`;d.appendItem(G,W,"application/xhtml+xml"),await u.promises.writeFile(ee,Z);const J=`/EPUB/${G}.md`;await u.promises.writeFile(J,`# Chapter ${U}`),p.appendItem(`${G}_md`,`${G}.md`,O$),await P()}async function L(U){d.removeItem(U),await P()}async function D(U,G){d.moveItem(U,G),await P()}async function B(U){o.value=U,a.value=U,l.value=!0,Sp(()=>{var G;(G=c.value)==null||G.focus()})}async function H(){console.log(o.value);const U=p.getItem(o.value);if(U){await u.promises.rename(`/EPUB/${U.href}`,`/EPUB/${a.value}.xhtml`),U.id=a.value,U.href=`${a.value}.xhtml`;const G=p.getItem(`${o.value}_md`);G&&(await u.promises.rename(`/EPUB/${G.href}`,`/EPUB/${a.value}.md`),G.id=`${a.value}_md`,G.href=`${a.value}.md`),d.getItem(o.value).idref=a.value;let W;const ee=new DOMParser;await u.promises.readFile("/EPUB/nav.xhtml").then(async ce=>{W=ee.parseFromString(ce.toString(),"text/xml");const Z=W.querySelector(`a[href="${o.value}.xhtml"]`);if(Z){Z.setAttribute("href",`${a.value}.xhtml`);const oe=new XMLSerializer().serializeToString(W);await u.promises.writeFile("/EPUB/nav.xhtml",oe)}}),await P()}l.value=!1}return(U,G)=>{const W=Dk("router-link"),ee=Dk("RouterLink"),ce=Dk("RouterView");return Dn(),Bi(xa,null,[Ve("header",M5e,[Ve("nav",null,[Ve("ul",null,[G[8]||(G[8]=Ve("li",{class:"app-title"},"EDITME.html",-1)),Ve("li",null,"v"+Ya(m.value),1),Ve("li",null,[Hi(W,{to:"/about",class:Ku({selected:U.$router.currentRoute.value.name=="about"})},{default:Qy(()=>G[7]||(G[7]=[ko("About")])),_:1},8,["class"])])])])]),Ve("sidebar",D5e,[Ve("details",P5e,[G[10]||(G[10]=Ve("summary",{style:{"white-space":"nowrap"}},"EPUB File",-1)),Ve("div",{class:"dropzone","data-active":r.value,onDragenter:ud(S,["prevent"]),onDragover:ud(S,["prevent"]),onDragleave:ud(C,["prevent"]),onDrop:ud(I,["prevent"])},[G[9]||(G[9]=ko(" Drop an existing EPUB file ")),Q2e(U.$slots,"default",{dropZoneActive:r.value},void 0)],40,F5e),Ve("input",{hidden:"",type:"file",onChange:O,id:"upload-epub",ref:"upload-epub"},null,544),Ve("nav",B5e,[Ve("ul",null,[Ve("li",null,[Ve("button",{class:"upload",onClick:G[0]||(G[0]=Z=>U.$refs["upload-epub"].click())}," Upload ")]),Ve("li",null,[b.value.length?(Dn(),Bi("button",{key:0,onClick:M},"Clear")):O2("",!0)])])])]),Ve("details",$5e,[G[12]||(G[12]=Ve("summary",null,"Metadata",-1)),Ve("div",null,[Ve("ul",null,[Ve("li",null,"Title: "+Ya(Vr(x).title),1),Ve("li",null,"Author: "+Ya(Vr(x).author),1),Ve("li",null,[Hi(ee,{to:"/content.opf"},{default:Qy(()=>G[11]||(G[11]=[ko("content.opf ")])),_:1})])])]),Ve("button",{class:"upload",onClick:G[1]||(G[1]=Z=>U.$router.push("/metadata"))}," Edit metadata ")]),Ve("details",H5e,[G[14]||(G[14]=Ve("summary",null,"Spine",-1)),Ve("ol",U5e,[(Dn(!0),Bi(xa,null,t5(y.value,(Z,J)=>(Dn(),Bi("li",{key:J},[Hi(ee,{to:`/chapter/${E(Z.idref)}`,class:Ku({selected:U.$router.currentRoute.value.fullPath.includes(Z.idref)})},{default:Qy(()=>[ko(Ya(Z.idref),1)]),_:2},1032,["to","class"]),Ve("span",W5e,[Ve("a",{onClick:oe=>B(Z.idref)},"✎",8,z5e),G[13]||(G[13]=ko("  ")),Ve("a",{onClick:oe=>L(Z.idref)},"✖",8,G5e),Ve("a",{class:Ku({disabled:J==0}),onClick:oe=>D(Z.idref,-1)}," ▲ ",10,Y5e),Ve("a",{class:Ku({disabled:J==y.value.length-1}),onClick:oe=>D(Z.idref,1)}," ▼ ",10,V5e)])]))),128))]),Ve("button",{class:"upload",onClick:ud(F,["prevent"])},"New spine item")]),Ve("details",q5e,[G[15]||(G[15]=Ve("summary",null,"Manifest",-1)),Ve("ol",j5e,[(Dn(!0),Bi(xa,null,t5(b.value,(Z,J)=>(Dn(),Bi("li",{key:J},[Hi(ee,{to:`/asset/${encodeURIComponent("/EPUB/"+Z.href)}`,class:Ku({selected:U.$router.currentRoute.value.fullPath.includes(Z.href)})},{default:Qy(()=>[ko(Ya(Z.href),1)]),_:2},1032,["to","class"])]))),128))]),Ve("button",{class:"upload",onClick:G[2]||(G[2]=Z=>U.$refs["upload-asset"].click())}," Upload item "),Ve("input",{hidden:"",type:"file",onChange:k,id:"upload-asset",ref:"upload-asset"},null,544)]),G[16]||(G[16]=Ve("hr",null,null,-1)),b.value.length?(Dn(),Bi("button",{key:0,class:"upload",onClick:N}," Export ")):O2("",!0)]),Ve("main",X5e,[Hi(ce),Ve("dialog",{open:l.value},[Ve("article",null,[G[18]||(G[18]=Ve("header",null,[Ve("button",{"aria-label":"Close",rel:"prev"}),Ve("p",null,[Ve("strong",null,"Rename chapter")])],-1)),G[19]||(G[19]=Ve("p",null,"Chapter name must be unique.",-1)),Ve("label",null,[G[17]||(G[17]=ko("Chapter name ")),Wa(Ve("input",{type:"text",name:"name","onUpdate:modelValue":G[3]||(G[3]=Z=>a.value=Z),onFocus:G[4]||(G[4]=Z=>Z.target.select()),onKeyup:G[5]||(G[5]=dxe(Z=>a.value!=""?H():null,["enter"])),ref_key:"chapter_name",ref:c},null,544),[[Oo,a.value]])]),Ve("footer",null,[Ve("button",{class:"secondary",onClick:G[6]||(G[6]=Z=>l.value=!1)}," Cancel "),Ve("button",{onClick:H},"Confirm")])])],8,K5e)]),Ve("footer",null,Ya(Vr(g).status),1)],64)}}}),uv=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},Q5e=uv(Z5e,[["__scopeId","data-v-e5808902"]]),J5e=Object.freeze(Object.defineProperty({__proto__:null,default:Q5e},Symbol.toStringTag,{value:"Module"})),eEe={class:"metadata"},tEe=Fh({__name:"MetadataView",setup(e){const t=new gm("epub-editor"),r=Bx();async function n(){await t.promises.writeFile("/EPUB/content.opf",rg())}function a(){r.book_id=window.crypto.randomUUID()}return(o,l)=>(Dn(),Bi("div",eEe,[Ve("table",null,[Ve("tbody",null,[Ve("tr",null,[l[7]||(l[7]=Ve("td",null,"Title",-1)),Ve("td",null,[Wa(Ve("input",{size:"30",type:"text","onUpdate:modelValue":l[0]||(l[0]=c=>Vr(r).title=c),name:"title",placeholder:"Title"},null,512),[[Oo,Vr(r).title]])])]),Ve("tr",null,[l[8]||(l[8]=Ve("td",null,"Author",-1)),Ve("td",null,[Wa(Ve("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=c=>Vr(r).author=c),name:"author",placeholder:"Author"},null,512),[[Oo,Vr(r).author]])])]),Ve("tr",null,[l[9]||(l[9]=Ve("td",null,"Language",-1)),Ve("td",null,[Wa(Ve("input",{size:"4",type:"text","onUpdate:modelValue":l[2]||(l[2]=c=>Vr(r).lang=c),name:"language",placeholder:"Language"},null,512),[[Oo,Vr(r).lang]])])]),Ve("tr",null,[l[10]||(l[10]=Ve("td",null,"Book ID",-1)),Ve("td",null,[Wa(Ve("input",{size:"40",type:"text","onUpdate:modelValue":l[3]||(l[3]=c=>Vr(r).book_id=c),name:"book_id",class:"mono",placeholder:"Book ID"},null,512),[[Oo,Vr(r).book_id]]),Ve("button",{onClick:a},"Generate UUID")])]),Ve("tr",null,[l[11]||(l[11]=Ve("td",null,"Date published",-1)),Ve("td",null,[Wa(Ve("input",{size:"10",type:"text","onUpdate:modelValue":l[4]||(l[4]=c=>Vr(r).date_published=c),name:"date_published",placeholder:"Published date"},null,512),[[Oo,Vr(r).date_published]])])]),Ve("tr",null,[l[13]||(l[13]=Ve("td",null,"Last modified",-1)),Ve("td",null,[Wa(Ve("input",{readonly:"",disabled:"",type:"text","onUpdate:modelValue":l[5]||(l[5]=c=>Vr(r).date_modified=c),name:"date_modified",placeholder:"Last modified"},null,512),[[Oo,Vr(r).date_modified]]),l[12]||(l[12]=ko(" (updated on Export) "))])]),Ve("tr",null,[l[14]||(l[14]=Ve("td",null,"Fixed Layout",-1)),Ve("td",null,[Wa(Ve("input",{type:"checkbox","onUpdate:modelValue":l[6]||(l[6]=c=>Vr(r).fixed_layout=c),name:"fixed_layout",role:"switch"},null,512),[[OZ,Vr(r).fixed_layout]])])]),l[15]||(l[15]=Ve("tr",null,[Ve("td"),Ve("td")],-1)),l[16]||(l[16]=Ve("tr",null,[Ve("td"),Ve("td")],-1))])]),Ve("button",{onClick:ud(n,["prevent"])},"Save")]))}}),rEe=uv(tEe,[["__scopeId","data-v-84dd87c4"]]),nEe=Object.freeze(Object.defineProperty({__proto__:null,default:rEe},Symbol.toStringTag,{value:"Module"})),_$=[{self:!1,name:"@vue/shared",maintainers:[],version:"3.5.13",description:"internal utils shared across @vue packages",repository:{type:"git",url:"git+https://github.com/vuejs/core.git",directory:"packages/shared"},homepage:"https://github.com/vuejs/core/tree/main/packages/shared#readme",private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Evan You",email:null,url:null},contributors:[]},{self:!1,name:"@vue/reactivity",maintainers:[],version:"3.5.13",description:"@vue/reactivity",repository:{type:"git",url:"git+https://github.com/vuejs/core.git",directory:"packages/reactivity"},homepage:"https://github.com/vuejs/core/tree/main/packages/reactivity#readme",private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Evan You",email:null,url:null},contributors:[]},{self:!1,name:"@vue/runtime-core",maintainers:[],version:"3.5.13",description:"@vue/runtime-core",repository:{type:"git",url:"git+https://github.com/vuejs/core.git",directory:"packages/runtime-core"},homepage:"https://github.com/vuejs/core/tree/main/packages/runtime-core#readme",private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Evan You",email:null,url:null},contributors:[]},{self:!1,name:"@vue/runtime-dom",maintainers:[],version:"3.5.13",description:"@vue/runtime-dom",repository:{type:"git",url:"git+https://github.com/vuejs/core.git",directory:"packages/runtime-dom"},homepage:"https://github.com/vuejs/core/tree/main/packages/runtime-dom#readme",private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2018-present, Yuxi (Evan) You

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Evan You",email:null,url:null},contributors:[]},{self:!1,name:"pinia",maintainers:[],version:"2.3.1",description:"Intuitive, type safe and flexible Store for Vue",repository:{type:"git",url:"git+https://github.com/vuejs/pinia.git"},homepage:"https://github.com/vuejs/pinia#readme",private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2019-present Eduardo San Martin Morote

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"Eduardo San Martin Morote",email:"posva13@gmail.com",url:null},contributors:[]},{self:!1,name:"vue-router",maintainers:[],version:"4.5.0",description:null,repository:{type:"git",url:"git+https://github.com/vuejs/router.git"},homepage:"https://github.com/vuejs/router#readme",private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2019-present Eduardo San Martin Morote

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"Eduardo San Martin Morote",email:"posva13@gmail.com",url:null},contributors:[]},{self:!1,name:"just-once",maintainers:[],version:"1.1.0",description:"create a function that can only be invoked once",repository:"https://github.com/angus-c/just",homepage:null,private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2016 angus croll

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"Angus Croll",email:null,url:null},contributors:[]},{self:!1,name:"fast-text-encoding",maintainers:[],version:"1.0.6",description:"Fast polyfill for TextEncoder and TextDecoder, only supports utf-8",repository:"https://github.com/samthor/fast-text-encoding.git",homepage:null,private:!1,license:"Apache-2.0",licenseText:`                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "{}"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright {yyyy} {name of copyright owner}

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
`,noticeText:null,author:{name:"Sam Thorogood",email:"sam.thorogood@gmail.com",url:null},contributors:[]},{self:!1,name:"isomorphic-textencoder",maintainers:[],version:"1.0.1",description:"encode/decode Uint8Arrays to strings",repository:{type:"git",url:"git+https://github.com/wmhilton/isomorphic-textencoder.git"},homepage:"https://github.com/wmhilton/isomorphic-textencoder#readme",private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) 2018 William Hilton <wmhilton@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"William Hilton",email:"wmhilton@gmail.com",url:null},contributors:[]},{self:!1,name:"just-debounce-it",maintainers:[],version:"1.1.0",description:"return a debounced function",repository:"https://github.com/angus-c/just",homepage:null,private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2016 angus croll

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"Eric Nolte and Angus Croll",email:null,url:null},contributors:[]},{self:!1,name:"@isomorphic-git/lightning-fs",maintainers:[],version:"4.6.0",description:"A lean and fast 'fs' for the browser",repository:{type:"git",url:"git+https://github.com/isomorphic-git/lightning-fs.git"},homepage:"https://github.com/isomorphic-git/lightning-fs#readme",private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) 2018 wmhilton

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.`,noticeText:null,author:{name:"William Hilton",email:"wmhilton@gmail.com",url:null},contributors:[]},{self:!1,name:"@isomorphic-git/idb-keyval",maintainers:[],version:"3.3.2",description:"A super-simple-small keyval store built on top of IndexedDB",repository:{type:"git",url:"git+https://github.com/isomorphic-git/idb-keyval.git"},homepage:"https://github.com/isomorphic-git/idb-keyval#readme",private:!1,license:"Apache-2.0",licenseText:`Copyright 2016, Jake Archibald

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.`,noticeText:null,author:null,contributors:[]},{self:!1,name:"@zip.js/zip.js",maintainers:[],version:"2.7.57",description:"A JavaScript library to zip and unzip files in the browser, Deno and Node.js",repository:{type:"git",url:"git+https://github.com/gildas-lormeau/zip.js.git"},homepage:"https://gildas-lormeau.github.io/zip.js",private:!1,license:"BSD-3-Clause",licenseText:`BSD 3-Clause License

Copyright (c) 2023, Gildas Lormeau

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`,noticeText:null,author:{name:"Gildas Lormeau",email:null,url:null},contributors:[]},{self:!1,name:"@vueuse/shared",maintainers:[],version:"11.3.0",description:null,repository:{type:"git",url:"git+https://github.com/vueuse/vueuse.git",directory:"packages/shared"},homepage:"https://github.com/vueuse/vueuse/tree/main/packages/shared#readme",private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) 2019-PRESENT Anthony Fu<https://github.com/antfu>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"Anthony Fu",email:"https://github.com/antfu",url:null},contributors:[]},{self:!1,name:"@vueuse/core",maintainers:[],version:"11.3.0",description:"Collection of essential Vue Composition Utilities",repository:{type:"git",url:"git+https://github.com/vueuse/vueuse.git",directory:"packages/core"},homepage:"https://github.com/vueuse/vueuse#readme",private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) 2019-PRESENT Anthony Fu<https://github.com/antfu>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:{name:"Anthony Fu",email:"https://github.com/antfu",url:null},contributors:[]},{self:!1,name:"html-void-elements",maintainers:[],version:"3.0.0",description:"List of HTML void tag names",repository:"wooorm/html-void-elements",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"property-information",maintainers:[],version:"6.5.0",description:"Info on the properties and attributes of the web platform",repository:"wooorm/property-information",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Dustin Deus",email:"deusdustin@gmail.com",url:"http://starptech.de"},{name:"Andrew Burgess",email:"andrew@andrewburgess.io",url:null}]},{self:!1,name:"zwitch",maintainers:[],version:"2.0.4",description:"Handle values based on a property",repository:"wooorm/zwitch",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"stringify-entities",maintainers:[],version:"4.0.4",description:"Serialize (encode) HTML character references",repository:"wooorm/stringify-entities",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"character-entities-legacy",maintainers:[],version:"3.0.0",description:"List of legacy HTML named character references that don’t need a trailing semicolon",repository:"wooorm/character-entities-legacy",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"character-entities-html4",maintainers:[],version:"2.1.0",description:"Map of named character references from HTML 4",repository:"wooorm/character-entities-html4",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-to-html",maintainers:[],version:"9.0.4",description:"hast utility to serialize to HTML",repository:"syntax-tree/hast-util-to-html",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"ccount",maintainers:[],version:"2.0.1",description:"Count how often a character (or substring) is used in a string",repository:"wooorm/ccount",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"comma-separated-tokens",maintainers:[],version:"2.0.3",description:"Parse and stringify comma-separated tokens",repository:"wooorm/comma-separated-tokens",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"space-separated-tokens",maintainers:[],version:"2.0.2",description:"Parse and stringify space separated tokens",repository:"wooorm/space-separated-tokens",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-whitespace",maintainers:[],version:"3.0.0",description:"hast utility to check if a node is inter-element whitespace",repository:"syntax-tree/hast-util-whitespace",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"rehype-stringify",maintainers:[],version:"10.0.1",description:"rehype plugin to serialize HTML",repository:"https://github.com/rehypejs/rehype/tree/main/packages/rehype-stringify",homepage:"https://github.com/rehypejs/rehype",private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-to-string",maintainers:[],version:"4.0.0",description:"mdast utility to get the plain text content of a node",repository:"syntax-tree/mdast-util-to-string",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"decode-named-character-reference",maintainers:[],version:"1.0.2",description:"Decode named character references",repository:"wooorm/decode-named-character-reference",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2021 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-chunked",maintainers:[],version:"2.0.1",description:"micromark utility to splice and push with giant arrays",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-chunked",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-combine-extensions",maintainers:[],version:"2.0.1",description:"micromark utility to combine syntax or html extensions",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-combine-extensions",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-decode-numeric-character-reference",maintainers:[],version:"2.0.2",description:"micromark utility to decode numeric character references",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-decode-numeric-character-reference",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-normalize-identifier",maintainers:[],version:"2.0.1",description:"micromark utility normalize identifiers (as found in references, definitions)",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-normalize-identifier",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-character",maintainers:[],version:"2.1.1",description:"micromark utility to handle character codes",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-character",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-sanitize-uri",maintainers:[],version:"2.0.1",description:"micromark utility to sanitize urls",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-sanitize-uri",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-factory-space",maintainers:[],version:"2.0.1",description:"micromark factory to parse markdown space (found in lots of places)",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-factory-space",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark",maintainers:[],version:"4.0.1",description:"small commonmark compliant markdown parser with positional info and concrete tokens",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-classify-character",maintainers:[],version:"2.0.1",description:"micromark utility to classify whether a character is whitespace or punctuation",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-classify-character",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-resolve-all",maintainers:[],version:"2.0.1",description:"micromark utility to resolve subtokens",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-resolve-all",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-core-commonmark",maintainers:[],version:"2.0.2",description:"The CommonMark markdown constructs",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-core-commonmark",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-subtokenize",maintainers:[],version:"2.0.4",description:"micromark utility to tokenize subtokens",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-subtokenize",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-factory-destination",maintainers:[],version:"2.0.1",description:"micromark factory to parse destinations (found in resources, definitions)",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-factory-destination",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-factory-label",maintainers:[],version:"2.0.1",description:"micromark factory to parse labels (found in media, definitions)",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-factory-label",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-factory-title",maintainers:[],version:"2.0.1",description:"micromark factory to parse markdown titles (found in resources, definitions)",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-factory-title",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-factory-whitespace",maintainers:[],version:"2.0.1",description:"micromark factory to parse markdown whitespace (found in lots of places)",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-factory-whitespace",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-html-tag-name",maintainers:[],version:"2.0.1",description:"micromark utility with list of html tag names",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-html-tag-name",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-util-decode-string",maintainers:[],version:"2.0.1",description:"micromark utility to decode markdown strings",repository:"https://github.com/micromark/micromark/tree/main/packages/micromark-util-decode-string",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"unist-util-stringify-position",maintainers:[],version:"4.0.0",description:"unist utility to serialize a node, position, or point as a human readable location",repository:"syntax-tree/unist-util-stringify-position",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-from-markdown",maintainers:[],version:"2.0.2",description:"mdast utility to parse markdown",repository:"syntax-tree/mdast-util-from-markdown",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"remark-parse",maintainers:[],version:"11.0.0",description:"remark plugin to add support for parsing markdown input",repository:"https://github.com/remarkjs/remark/tree/main/packages/remark-parse",homepage:"https://remark.js.org",private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2014 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Eugene Sharygin",email:"eush77@gmail.com",url:null},{name:"Junyoung Choi",email:"fluke8259@gmail.com",url:null},{name:"Elijah Hamovitz",email:"elijahhamovitz@gmail.com",url:null},{name:"Ika",email:"ikatyang@gmail.com",url:null}]},{self:!1,name:"mdast-util-to-hast",maintainers:[],version:"13.2.0",description:"mdast utility to transform to hast",repository:"syntax-tree/mdast-util-to-hast",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"unist-util-position",maintainers:[],version:"5.0.0",description:"unist utility to get the position of a node",repository:"syntax-tree/unist-util-position",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"trim-lines",maintainers:[],version:"3.0.1",description:"Remove spaces and tabs around line-breaks",repository:"wooorm/trim-lines",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"devlop",maintainers:[],version:"1.1.0",description:"Do things in development and nothing otherwise",repository:"wooorm/devlop",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2023 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"@ungap/structured-clone",maintainers:[],version:"1.3.0",description:"A structuredClone polyfill",repository:{type:"git",url:"git+https://github.com/ungap/structured-clone.git"},homepage:"https://github.com/ungap/structured-clone#readme",private:!1,license:"ISC",licenseText:`ISC License

Copyright (c) 2021, Andrea Giammarchi, @WebReflection

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
`,noticeText:null,author:{name:"Andrea Giammarchi",email:null,url:null},contributors:[]},{self:!1,name:"unist-util-is",maintainers:[],version:"6.0.0",description:"unist utility to check if a node passes a test",repository:"syntax-tree/unist-util-is",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT license)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Christian Murphy",email:"christian.murphy.42@gmail.com",url:null},{name:"Lucas Brandstaetter",email:"lucas@brandstaetter.tech",url:"https://github.com/Roang-zero1"}]},{self:!1,name:"unist-util-visit-parents",maintainers:[],version:"6.0.1",description:"unist utility to recursively walk over nodes, with ancestral information",repository:"syntax-tree/unist-util-visit-parents",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"unist-util-visit",maintainers:[],version:"5.0.0",description:"unist utility to visit nodes",repository:"syntax-tree/unist-util-visit",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Eugene Sharygin",email:"eush77@gmail.com",url:null},{name:"Richard Gibson",email:"richard.gibson@gmail.com",url:null}]},{self:!1,name:"remark-rehype",maintainers:[],version:"11.1.1",description:"remark plugin that turns markdown into HTML to support rehype",repository:"remarkjs/remark-rehype",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"John Otander",email:"johnotander@gmail.com",url:"https://johno.com"}]},{self:!1,name:"bail",maintainers:[],version:"2.0.2",description:"Throw a given error",repository:"wooorm/bail",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"extend",maintainers:[],version:"3.0.2",description:"Port of jQuery.extend for node.js and the browser",repository:{type:"git",url:"https://github.com/justmoon/node-extend.git"},homepage:null,private:!1,license:"MIT",licenseText:`The MIT License (MIT)

Copyright (c) 2014 Stefan Thomas

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

`,noticeText:null,author:{name:"Stefan Thomas",email:"justmoon@members.fsf.org",url:"http://www.justmoon.net"},contributors:[{name:"Jordan Harband",email:null,url:"https://github.com/ljharb"}]},{self:!1,name:"is-plain-obj",maintainers:[],version:"4.1.0",description:"Check if a value is a plain object",repository:"sindresorhus/is-plain-obj",homepage:null,private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Sindre Sorhus",email:"sindresorhus@gmail.com",url:"https://sindresorhus.com"},contributors:[]},{self:!1,name:"trough",maintainers:[],version:"2.2.0",description:"`trough` is middleware",repository:"wooorm/trough",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"vfile-message",maintainers:[],version:"4.0.2",description:"vfile utility to create a virtual message",repository:"vfile/vfile-message",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2017 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"vfile",maintainers:[],version:"6.0.3",description:"Virtual file format for text processing",repository:"vfile/vfile",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Brendan Abbott",email:"brendan.abbott@temando.com",url:null},{name:"Denys Dovhan",email:"email@denysdovhan.com",url:null},{name:"Kyle Mathews",email:"mathews.kyle@gmail.com",url:null},{name:"Shinnosuke Watanabe",email:"snnskwtnb@gmail.com",url:null},{name:"Sindre Sorhus",email:"sindresorhus@gmail.com",url:null}]},{self:!1,name:"unified",maintainers:[],version:"11.0.5",description:"parse, inspect, transform, and serialize content through syntax trees",repository:"unifiedjs/unified",homepage:"https://unifiedjs.com",private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Junyoung Choi",email:"fluke8259@gmail.com",url:null},{name:"Hernan Rajchert",email:"hrajchert@gmail.com",url:null},{name:"Christian Murphy",email:"christian.murphy.42@gmail.com",url:null},{name:"Vse Mozhet Byt",email:"vsemozhetbyt@gmail.com",url:null},{name:"Richard Littauer",email:"richard.littauer@gmail.com",url:null}]},{self:!1,name:"character-reference-invalid",maintainers:[],version:"2.0.1",description:"Map of invalid numeric character references to their replacements, according to HTML",repository:"wooorm/character-reference-invalid",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"is-decimal",maintainers:[],version:"2.0.1",description:"Check if a character is decimal",repository:"wooorm/is-decimal",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"is-hexadecimal",maintainers:[],version:"2.0.1",description:"Check if a character is hexadecimal",repository:"wooorm/is-hexadecimal",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"is-alphabetical",maintainers:[],version:"2.0.1",description:"Check if a character is alphabetical",repository:"wooorm/is-alphabetical",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"is-alphanumerical",maintainers:[],version:"2.0.1",description:"Check if a character is alphanumerical",repository:"wooorm/is-alphanumerical",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"parse-entities",maintainers:[],version:"4.0.2",description:"Parse HTML character references",repository:"wooorm/parse-entities",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-directive",maintainers:[],version:"3.1.0",description:"mdast extension to parse and serialize generic directives (`:cite[smith04]`)",repository:"syntax-tree/mdast-util-directive",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-directive",maintainers:[],version:"3.0.2",description:"micromark extension to support generic directives (`:cite[smith04]`)",repository:"micromark/micromark-extension-directive",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"remark-directive",maintainers:[],version:"3.0.1",description:"remark plugin to support directives",repository:"remarkjs/remark-directive",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-is-element",maintainers:[],version:"3.0.0",description:"hast utility to check if a node is a (certain) element",repository:"syntax-tree/hast-util-is-element",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-embedded",maintainers:[],version:"3.0.0",description:"hast utility to check if a node is an embedded element",repository:"syntax-tree/hast-util-embedded",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-minify-whitespace",maintainers:[],version:"1.0.1",description:"hast utility to get the plain-text value of a node",repository:"https://github.com/rehypejs/rehype-minify/tree/main/packages/hast-util-minify-whitespace",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:null}]},{self:!1,name:"hast-util-has-property",maintainers:[],version:"3.0.0",description:"hast utility to check if a node has a property",repository:"syntax-tree/hast-util-has-property",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-is-body-ok-link",maintainers:[],version:"3.0.1",description:"hast utility to check if a link element is “Body OK”",repository:"https://github.com/rehypejs/rehype-minify/tree/main/packages/hast-util-is-body-ok-link",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:null}]},{self:!1,name:"hast-util-phrasing",maintainers:[],version:"3.0.1",description:"hast utility to check if a node is phrasing content",repository:"syntax-tree/hast-util-phrasing",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"html-whitespace-sensitive-tag-names",maintainers:[],version:"3.0.1",description:"List of whitespace sensitive HTML tag names",repository:"https://github.com/rehypejs/rehype-minify/tree/main/packages/html-whitespace-sensitive-tag-names",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:null}]},{self:!1,name:"hast-util-format",maintainers:[],version:"1.1.0",description:"Format whitespace in HTML",repository:"syntax-tree/hast-util-format",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"rehype-format",maintainers:[],version:"5.0.1",description:"rehype plugin to format HTML",repository:"rehypejs/rehype-format",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"scule",maintainers:[],version:"1.3.0",description:"String case utils",repository:"unjs/scule",homepage:null,private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) Pooya Parsa <pooya@pi0.io>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:null,contributors:[]},{self:!1,name:"yaml",maintainers:[],version:"2.7.0",description:"JavaScript parser and stringifier for YAML",repository:"github:eemeli/yaml",homepage:"https://eemeli.org/yaml/",private:!1,license:"ISC",licenseText:`Copyright Eemeli Aro <eemeli@gmail.com>

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.
`,noticeText:null,author:{name:"Eemeli Aro",email:"eemeli@gmail.com",url:null},contributors:[]},{self:!1,name:"flat",maintainers:[],version:"6.0.1",description:"Take a nested Javascript object and flatten it, or unflatten an object with delimited keys",repository:{type:"git",url:"git://github.com/hughsk/flat.git"},homepage:"https://github.com/hughsk/flat",private:!1,license:"BSD-3-Clause",licenseText:`Copyright (c) 2014, Hugh Kennedy
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the  nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
`,noticeText:null,author:{name:"Hugh Kennedy",email:"hughskennedy@gmail.com",url:"https://hughsk.io"},contributors:[]},{self:!1,name:"mdast-util-to-markdown",maintainers:[],version:"2.1.2",description:"mdast utility to serialize markdown",repository:"syntax-tree/mdast-util-to-markdown",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"longest-streak",maintainers:[],version:"3.1.0",description:"Count the longest repeating streak of a substring",repository:"wooorm/longest-streak",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <mailto:tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-phrasing",maintainers:[],version:"4.1.0",description:"mdast utility to check if a node is phrasing content",repository:"syntax-tree/mdast-util-phrasing",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2017 Titus Wormer <tituswormer@gmail.com>
Copyright (c) 2017 Victor Felder <victor@draft.li>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Victor Felder",email:"victor@draft.li",url:"https://draft.li"},contributors:[{name:"Victor Felder",email:"victor@draft.li",url:"https://draft.li"},{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"remark-mdc",maintainers:[],version:"3.5.3",description:"Remark plugin to support MDC syntax",repository:"https://github.com/nuxtlabs/remark-mdc",homepage:null,private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) NuxtLabs

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
`,noticeText:null,author:null,contributors:[]},{self:!1,name:"vfile-matter",maintainers:[],version:"5.0.0",description:"vfile utility to parse the YAML front matter in a file",repository:"vfile/vfile-matter",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2019 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"format",maintainers:[],version:"0.2.2",description:"printf, sprintf, and vsprintf for JavaScript",repository:{type:"git",url:"git://github.com/samsonjs/format.git"},homepage:"http://samhuri.net/proj/format",private:!1,license:"(MIT)",licenseText:null,noticeText:null,author:{name:"Sami Samhuri",email:"sami@samhuri.net",url:null},contributors:[]},{self:!1,name:"fault",maintainers:[],version:"2.0.1",description:"Functional errors with formatted output",repository:"wooorm/fault",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-frontmatter",maintainers:[],version:"2.0.0",description:"micromark extension to support frontmatter (YAML, TOML, etc)",repository:"micromark/micromark-extension-frontmatter",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"escape-string-regexp",maintainers:[],version:"5.0.0",description:"Escape RegExp special characters",repository:"sindresorhus/escape-string-regexp",homepage:null,private:!1,license:"MIT",licenseText:`MIT License

Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Sindre Sorhus",email:"sindresorhus@gmail.com",url:"https://sindresorhus.com"},contributors:[]},{self:!1,name:"mdast-util-frontmatter",maintainers:[],version:"2.0.1",description:"mdast extension to parse and serialize frontmatter (YAML, TOML, etc)",repository:"syntax-tree/mdast-util-frontmatter",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"remark-frontmatter",maintainers:[],version:"5.0.0",description:"remark plugin to support frontmatter (yaml, toml, and more)",repository:"remarkjs/remark-frontmatter",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2017 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Lars Trieloff",email:"lars@trieloff.net",url:null},{name:"Max Kueng",email:"me@maxkueng.com",url:null}]},{self:!1,name:"unist-util-is",maintainers:[],version:"3.0.0",description:"Utility to check if a node passes a test",repository:"syntax-tree/unist-util-is",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT license)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"unist-util-visit-parents",maintainers:[],version:"2.1.2",description:"Recursively walk over unist nodes, with ancestral information",repository:"syntax-tree/unist-util-visit-parents",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"unist-util-visit",maintainers:[],version:"1.4.1",description:"Recursively walk over unist nodes",repository:"syntax-tree/unist-util-visit",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2015 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},{name:"Eugene Sharygin",email:"eush77@gmail.com",url:null},{name:"Richard Gibson",email:"richard.gibson@gmail.com",url:null}]},{self:!1,name:"front-matter",maintainers:[],version:"3.2.1",description:"Extract YAML front matter from a string",repository:{type:"git",url:"git://github.com/jxson/front-matter.git"},homepage:"https://github.com/jxson/front-matter",private:!1,license:"MIT",licenseText:`# The MIT License (MIT)

Copyright (c) Jason Campbell ("Author")

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.`,noticeText:null,author:{name:"Jason Campbell",email:"jasoncampbell@google.com",url:"http://twitter.com/jxson"},contributors:[{name:"Jason Campbell",email:"jason@js.la",url:"http://twitter.com/jxson"},{name:"Jordan Santell",email:"jsantell@gmail.com",url:"https://github.com/jsantell"},{name:"Kai Davenport",email:"kaiyadavenport@gmail.com",url:"https://github.com/binocarlos"},{name:"Jean-Philippe Monette",email:"contact@jpmonette.net",url:"https://github.com/jpmonette"},{name:"Marc-André Arseneault",email:"marc-andre@arsnl.ca",url:"https://github.com/arsnl"},{name:"Bret Comnes",email:"bcomnes@gmail.com",url:"http://bret.io"}]},{self:!1,name:"js-yaml",maintainers:[],version:"3.14.1",description:"YAML 1.2 parser and serializer",repository:"nodeca/js-yaml",homepage:"https://github.com/nodeca/js-yaml",private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (C) 2011-2015 by Vitaly Puzrin

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
`,noticeText:null,author:{name:"Vladimir Zapparov",email:"dervus.grim@gmail.com",url:null},contributors:[{name:"Aleksey V Zapparov",email:"ixti@member.fsf.org",url:"http://www.ixti.net/"},{name:"Vitaly Puzrin",email:"vitaly@rcdesign.ru",url:"https://github.com/puzrin"},{name:"Martin Grenfell",email:"martin.grenfell@gmail.com",url:"http://got-ravings.blogspot.com"}]},{self:!1,name:"remark-code-frontmatter",maintainers:[],version:"1.0.0",description:"Extract frontmatter from markdown code blocks using remark, and do interesting things!",repository:{type:"git",url:"https://github.com/samlanning/remark-code-frontmatter"},homepage:null,private:!1,license:"MIT",licenseText:null,noticeText:null,author:{name:"Sam Lanning",email:"sam@samlanning.com",url:"https://samlanning.com/"},contributors:[]},{self:!1,name:"hast-util-parse-selector",maintainers:[],version:"4.0.0",description:"hast utility to create an element from a simple CSS selector",repository:"syntax-tree/hast-util-parse-selector",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hastscript",maintainers:[],version:"9.0.0",description:"hast utility to create trees",repository:"syntax-tree/hastscript",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"remark-code-extra",maintainers:[],version:"1.0.1",description:"Add to or transform the HTML output of markdown code blocks using remark",repository:{type:"git",url:"https://github.com/samlanning/remark-code-extra"},homepage:null,private:!1,license:"MIT",licenseText:null,noticeText:null,author:{name:"Sam Lanning",email:"sam@samlanning.com",url:"https://samlanning.com/"},contributors:[]},{self:!1,name:"mdast-util-find-and-replace",maintainers:[],version:"3.0.2",description:"mdast utility to find and replace text in a tree",repository:"syntax-tree/mdast-util-find-and-replace",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-gfm-autolink-literal",maintainers:[],version:"2.0.1",description:"mdast extension to parse and serialize GFM autolink literals",repository:"syntax-tree/mdast-util-gfm-autolink-literal",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-gfm-footnote",maintainers:[],version:"2.1.0",description:"mdast extension to parse and serialize GFM footnotes",repository:"syntax-tree/mdast-util-gfm-footnote",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-gfm-strikethrough",maintainers:[],version:"2.0.0",description:"mdast extension to parse and serialize GFM strikethrough",repository:"syntax-tree/mdast-util-gfm-strikethrough",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"markdown-table",maintainers:[],version:"3.0.4",description:"Generate a markdown (GFM) table",repository:"wooorm/markdown-table",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-gfm-table",maintainers:[],version:"2.0.0",description:"mdast extension to parse and serialize GFM tables",repository:"syntax-tree/mdast-util-gfm-table",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-gfm-task-list-item",maintainers:[],version:"2.0.0",description:"mdast extension to parse and serialize GFM task list items",repository:"syntax-tree/mdast-util-gfm-task-list-item",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"mdast-util-gfm",maintainers:[],version:"3.1.0",description:"mdast extension to parse and serialize GFM (GitHub Flavored Markdown)",repository:"syntax-tree/mdast-util-gfm",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-gfm-autolink-literal",maintainers:[],version:"2.1.0",description:"micromark extension to support GFM autolink literals",repository:"micromark/micromark-extension-gfm-autolink-literal",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-gfm-footnote",maintainers:[],version:"2.1.0",description:"micromark extension to support GFM footnotes",repository:"micromark/micromark-extension-gfm-footnote",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2021 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-gfm-strikethrough",maintainers:[],version:"2.1.0",description:"micromark extension to support GFM strikethrough",repository:"micromark/micromark-extension-gfm-strikethrough",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-gfm-table",maintainers:[],version:"2.1.1",description:"micromark extension to support GFM tables",repository:"micromark/micromark-extension-gfm-table",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-gfm-task-list-item",maintainers:[],version:"2.1.0",description:"micromark extension to support GFM task list items",repository:"micromark/micromark-extension-gfm-task-list-item",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"micromark-extension-gfm",maintainers:[],version:"3.0.0",description:"micromark extension to support GFM (GitHub Flavored Markdown)",repository:"micromark/micromark-extension-gfm",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2020 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"remark-gfm",maintainers:[],version:"4.0.1",description:"remark plugin to support GFM (autolink literals, footnotes, strikethrough, tables, tasklists)",repository:"remarkjs/remark-gfm",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"web-namespaces",maintainers:[],version:"2.0.1",description:"Map of web namespaces",repository:"wooorm/web-namespaces",homepage:null,private:!1,license:"MIT",licenseText:`(The MIT License)

Copyright (c) 2016 Titus Wormer <tituswormer@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,noticeText:null,author:{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"},contributors:[{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]},{self:!1,name:"hast-util-from-dom",maintainers:[],version:"5.0.1",description:"hast utility to create a tree from the DOM",repository:"syntax-tree/hast-util-from-dom",homepage:null,private:!1,license:"ISC",licenseText:`(ISC License)

Copyright (c) Keith McKnight <keith@mcknig.ht>

Permission to use, copy, modify, and/or distribute this software for any purpose
with or without fee is hereby granted, provided that the above copyright notice
and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS
OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF
THIS SOFTWARE.
`,noticeText:null,author:{name:"Keith McKnight",email:"keith@mcknig.ht",url:"https://keith.mcknig.ht"},contributors:[{name:"Keith McKnight",email:"keith@mcknig.ht",url:"https://keith.mcknig.ht"},{name:"Titus Wormer",email:"tituswormer@gmail.com",url:"https://wooorm.com"}]}],iEe=`Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
associated documentation files (the “Software”), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge, publish, distribute,
sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial
portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES
OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
`,aEe={class:"about"},sEe={class:"list"},oEe=["onClick"],lEe={class:"pre"},cEe=["href"],uEe=Fh({__name:"AboutView",setup(e){const t=or(_$[0]),r=Gn(()=>{var a,o;return t.value.homepage||((a=t.value.repository)==null?void 0:a.url)||((o=t.value.author)==null?void 0:o.url)}),n=Gn(()=>t.value.license.includes("MIT")?`Copyright (c) ${t.value.author.name}
    
${iEe}`:null);return(a,o)=>(Dn(),Bi("div",aEe,[o[3]||(o[3]=Ve("div",{class:"intro"},[Ve("p",null,[ko(" This software is released under the terms of the MIT license. See the "),Ve("a",{href:"https://codeberg.org/stewarthaines/epub-author"},"epub-author repository"),ko(" for terms. ")]),Ve("div",null,"It includes these additional software dependencies;")],-1)),Ve("div",sEe,[Ve("ul",null,[(Dn(!0),Bi(xa,null,t5(Vr(_$),(l,c)=>(Dn(),Bi("li",{key:c},[Ve("a",{onClick:u=>t.value=l,class:Ku({selected:l.name==t.value.name&&l.version==t.value.version})},Ya(l.name)+" @ "+Ya(l.version)+" - "+Ya(l.description),11,oEe)]))),128))])]),Ve("div",lEe,[o[0]||(o[0]=Ve("br",null,null,-1)),Ve("a",{target:"_blank",href:r.value},Ya(r.value),9,cEe),o[1]||(o[1]=Ve("br",null,null,-1)),o[2]||(o[2]=Ve("br",null,null,-1)),ko(Ya(t.value.licenseText||n.value||t.value.license),1)])]))}}),hEe=uv(uEe,[["__scopeId","data-v-1a66934e"]]),fEe=Object.freeze(Object.defineProperty({__proto__:null,default:hEe},Symbol.toStringTag,{value:"Module"})),dEe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let $x=class{constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}};$x.prototype.property={};$x.prototype.normal={};$x.prototype.space=null;function xJ(e,t){const r={},n={};let a=-1;for(;++a<e.length;)Object.assign(r,e[a].property),Object.assign(n,e[a].normal);return new $x(r,n,t)}function Sb(e){return e.toLowerCase()}let Ol=class{constructor(t,r){this.property=t,this.attribute=r}};Ol.prototype.space=null;Ol.prototype.boolean=!1;Ol.prototype.booleanish=!1;Ol.prototype.overloadedBoolean=!1;Ol.prototype.number=!1;Ol.prototype.commaSeparated=!1;Ol.prototype.spaceSeparated=!1;Ol.prototype.commaOrSpaceSeparated=!1;Ol.prototype.mustUseProperty=!1;Ol.prototype.defined=!1;let pEe=0;const gr=kp(),Ti=kp(),TJ=kp(),ft=kp(),mn=kp(),ng=kp(),To=kp();function kp(){return 2**++pEe}const CI=Object.freeze(Object.defineProperty({__proto__:null,boolean:gr,booleanish:Ti,commaOrSpaceSeparated:To,commaSeparated:ng,number:ft,overloadedBoolean:TJ,spaceSeparated:mn},Symbol.toStringTag,{value:"Module"})),o8=Object.keys(CI);class n9 extends Ol{constructor(t,r,n,a){let o=-1;if(super(t,r),N$(this,"space",a),typeof n=="number")for(;++o<o8.length;){const l=o8[o];N$(this,o8[o],(n&CI[l])===CI[l])}}}n9.prototype.defined=!0;function N$(e,t,r){r&&(e[t]=r)}const gEe={}.hasOwnProperty;function hv(e){const t={},r={};let n;for(n in e.properties)if(gEe.call(e.properties,n)){const a=e.properties[n],o=new n9(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),t[n]=o,r[Sb(n)]=n,r[Sb(o.attribute)]=n}return new $x(t,r,e.space)}const wJ=hv({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),EJ=hv({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function SJ(e,t){return t in e?e[t]:t}function AJ(e,t){return SJ(e,t.toLowerCase())}const kJ=hv({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:AJ,properties:{xmlns:null,xmlnsXLink:null}}),CJ=hv({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ti,ariaAutoComplete:null,ariaBusy:Ti,ariaChecked:Ti,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:mn,ariaCurrent:null,ariaDescribedBy:mn,ariaDetails:null,ariaDisabled:Ti,ariaDropEffect:mn,ariaErrorMessage:null,ariaExpanded:Ti,ariaFlowTo:mn,ariaGrabbed:Ti,ariaHasPopup:null,ariaHidden:Ti,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mn,ariaLevel:ft,ariaLive:null,ariaModal:Ti,ariaMultiLine:Ti,ariaMultiSelectable:Ti,ariaOrientation:null,ariaOwns:mn,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:Ti,ariaReadOnly:Ti,ariaRelevant:null,ariaRequired:Ti,ariaRoleDescription:mn,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:Ti,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null}}),mEe=hv({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:AJ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ng,acceptCharset:mn,accessKey:mn,action:null,allow:null,allowFullScreen:gr,allowPaymentRequest:gr,allowUserMedia:gr,alt:null,as:null,async:gr,autoCapitalize:null,autoComplete:mn,autoFocus:gr,autoPlay:gr,blocking:mn,capture:null,charSet:null,checked:gr,cite:null,className:mn,cols:ft,colSpan:null,content:null,contentEditable:Ti,controls:gr,controlsList:mn,coords:ft|ng,crossOrigin:null,data:null,dateTime:null,decoding:null,default:gr,defer:gr,dir:null,dirName:null,disabled:gr,download:TJ,draggable:Ti,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:gr,formTarget:null,headers:mn,height:ft,hidden:gr,high:ft,href:null,hrefLang:null,htmlFor:mn,httpEquiv:mn,id:null,imageSizes:null,imageSrcSet:null,inert:gr,inputMode:null,integrity:null,is:null,isMap:gr,itemId:null,itemProp:mn,itemRef:mn,itemScope:gr,itemType:mn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:gr,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:gr,muted:gr,name:null,nonce:null,noModule:gr,noValidate:gr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:gr,optimum:ft,pattern:null,ping:mn,placeholder:null,playsInline:gr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:gr,referrerPolicy:null,rel:mn,required:gr,reversed:gr,rows:ft,rowSpan:ft,sandbox:mn,scope:null,scoped:gr,seamless:gr,selected:gr,shadowRootClonable:gr,shadowRootDelegatesFocus:gr,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:Ti,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:gr,useMap:null,value:Ti,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mn,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:gr,declare:gr,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:gr,noHref:gr,noShade:gr,noWrap:gr,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:Ti,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:gr,disableRemotePlayback:gr,prefix:null,property:null,results:ft,security:null,unselectable:null}}),vEe=hv({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:SJ,properties:{about:To,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:mn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:gr,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ng,g2:ng,glyphName:ng,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:To,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:To,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:To,rev:To,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:To,requiredFeatures:To,requiredFonts:To,requiredFormats:To,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:To,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:To,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:To,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),yEe=/^data[-\w.:]+$/i,L$=/-[a-z]/g,bEe=/[A-Z]/g;function IJ(e,t){const r=Sb(t);let n=t,a=Ol;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&yEe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(L$,TEe);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!L$.test(o)){let l=o.replace(bEe,xEe);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=n9}return new a(n,t)}function xEe(e){return"-"+e.toLowerCase()}function TEe(e){return e.charAt(1).toUpperCase()}const RJ=xJ([EJ,wJ,kJ,CJ,mEe],"html"),i9=xJ([EJ,wJ,kJ,CJ,vEe],"svg"),M$={}.hasOwnProperty;function wEe(e,t){const r=t||{};function n(a,...o){let l=n.invalid;const c=n.handlers;if(a&&M$.call(a,e)){const u=String(a[e]);l=M$.call(c,u)?c[u]:n.unknown}if(l)return l.call(this,a,...o)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}const EEe=/["&'<>`]/g,SEe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AEe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,kEe=/[|\\{}()[\]^$+*?.]/g,D$=new WeakMap;function OJ(e,t){if(e=e.replace(t.subset?CEe(t.subset):EEe,n),t.subset||t.escapeOnly)return e;return e.replace(SEe,r).replace(AEe,n);function r(a,o,l){return t.format((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)-56320+65536,l.charCodeAt(o+2),t)}function n(a,o,l){return t.format(a.charCodeAt(0),l.charCodeAt(o+1),t)}}function CEe(e){let t=D$.get(e);return t||(t=IEe(e),D$.set(e,t)),t}function IEe(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(kEe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const REe=/[\dA-Fa-f]/;function OEe(e,t,r){const n="&#x"+e.toString(16).toUpperCase();return r&&t&&!REe.test(String.fromCharCode(t))?n:n+";"}const _Ee=/\d/;function NEe(e,t,r){const n="&#"+String(e);return r&&t&&!_Ee.test(String.fromCharCode(t))?n:n+";"}const _J=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],l8={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},LEe=["cent","copy","divide","gt","lt","not","para","times"],NJ={}.hasOwnProperty,II={};let gT;for(gT in l8)NJ.call(l8,gT)&&(II[l8[gT]]=gT);const MEe=/[^\dA-Za-z]/;function DEe(e,t,r,n){const a=String.fromCharCode(e);if(NJ.call(II,a)){const o=II[a],l="&"+o;return r&&_J.includes(o)&&!LEe.includes(o)&&(!n||t&&t!==61&&MEe.test(String.fromCharCode(t)))?l:l+";"}return""}function PEe(e,t,r){let n=OEe(e,t,r.omitOptionalSemicolons),a;if((r.useNamedReferences||r.useShortestReferences)&&(a=DEe(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!a)&&r.useShortestReferences){const o=NEe(e,t,r.omitOptionalSemicolons);o.length<n.length&&(n=o)}return a&&(!r.useShortestReferences||a.length<n.length)?a:n}function FEe(e){return"&#x"+e.toString(16).toUpperCase()+";"}function ig(e,t){return OJ(e,Object.assign({format:PEe},t))}function LJ(e,t){return OJ(e,Object.assign({format:FEe},t))}const BEe=/^>|^->|\x3C!--|-->|--!>|<!-$/g,$Ee=[">"],HEe=["<",">"];function UEe(e,t,r,n){return n.settings.bogusComments?"<?"+ig(e.value,Object.assign({},n.settings.characterReferences,{subset:$Ee}))+">":"\x3C!--"+e.value.replace(BEe,a)+"-->";function a(o){return ig(o,Object.assign({},n.settings.characterReferences,{subset:HEe}))}}function WEe(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}function mm(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}function P$(e){const t=[],r=String(e||"");let n=r.indexOf(","),a=0,o=!1;for(;!o;){n===-1&&(n=r.length,o=!0);const l=r.slice(a,n).trim();(l||!o)&&t.push(l),a=n+1,n=r.indexOf(",",a)}return t}function zEe(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}function p5(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function GEe(e){return e.join(" ").trim()}const YEe=/[ \t\n\f\r]/g;function Dd(e){return typeof e=="object"?e.type==="text"?F$(e.value):!1:F$(e)}function F$(e){return e.replace(YEe,"")===""}const Xi=DJ(1),MJ=DJ(-1),VEe=[];function DJ(e){return t;function t(r,n,a){const o=r?r.children:VEe;let l=(n||0)+e,c=o[l];if(!a)for(;c&&Dd(c);)l+=e,c=o[l];return c}}const qEe={}.hasOwnProperty;function PJ(e){return t;function t(r,n,a){return qEe.call(e,r.tagName)&&e[r.tagName](r,n,a)}}const a9=PJ({body:XEe,caption:c8,colgroup:c8,dd:JEe,dt:QEe,head:c8,html:jEe,li:ZEe,optgroup:eSe,option:tSe,p:KEe,rp:B$,rt:B$,tbody:nSe,td:$$,tfoot:iSe,th:$$,thead:rSe,tr:aSe});function c8(e,t,r){const n=Xi(r,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Dd(n.value.charAt(0)))}function jEe(e,t,r){const n=Xi(r,t);return!n||n.type!=="comment"}function XEe(e,t,r){const n=Xi(r,t);return!n||n.type!=="comment"}function KEe(e,t,r){const n=Xi(r,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function ZEe(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&n.tagName==="li"}function QEe(e,t,r){const n=Xi(r,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function JEe(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function B$(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function eSe(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function tSe(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function rSe(e,t,r){const n=Xi(r,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function nSe(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function iSe(e,t,r){return!Xi(r,t)}function aSe(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&n.tagName==="tr"}function $$(e,t,r){const n=Xi(r,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const sSe=PJ({body:cSe,colgroup:uSe,head:lSe,html:oSe,tbody:hSe});function oSe(e){const t=Xi(e,-1);return!t||t.type!=="comment"}function lSe(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const r=e.children[0];return!r||r.type==="element"}function cSe(e){const t=Xi(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Dd(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function uSe(e,t,r){const n=MJ(r,t),a=Xi(e,-1,!0);return r&&n&&n.type==="element"&&n.tagName==="colgroup"&&a9(n,r.children.indexOf(n),r)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function hSe(e,t,r){const n=MJ(r,t),a=Xi(e,-1);return r&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&a9(n,r.children.indexOf(n),r)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const mT={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function fSe(e,t,r,n){const a=n.schema,o=a.space==="svg"?!1:n.settings.omitOptionalTags;let l=a.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const c=[];let u;a.space==="html"&&e.tagName==="svg"&&(n.schema=i9);const h=dSe(n,e.properties),f=n.all(a.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=a,f&&(l=!1),(h||!o||!sSe(e,t,r))&&(c.push("<",e.tagName,h?" "+h:""),l&&(a.space==="svg"||n.settings.closeSelfClosing)&&(u=h.charAt(h.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(f),!l&&(!o||!a9(e,t,r))&&c.push("</"+e.tagName+">"),c.join("")}function dSe(e,t){const r=[];let n=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const o=pSe(e,a,t[a]);o&&r.push(o)}}for(;++n<r.length;){const o=e.settings.tightAttributes?r[n].charAt(r[n].length-1):void 0;n!==r.length-1&&o!=='"'&&o!=="'"&&(r[n]+=" ")}return r.join("")}function pSe(e,t,r){const n=IJ(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,o=e.settings.allowDangerousCharacters?0:1;let l=e.quote,c;if(n.overloadedBoolean&&(r===n.attribute||r==="")?r=!0:(n.boolean||n.overloadedBoolean)&&(typeof r!="string"||r===n.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const u=ig(n.attribute,Object.assign({},e.settings.characterReferences,{subset:mT.name[a][o]}));return r===!0||(r=Array.isArray(r)?(n.commaSeparated?zEe:GEe)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?u:(e.settings.preferUnquoted&&(c=ig(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:mT.unquoted[a][o]}))),c!==r&&(e.settings.quoteSmart&&mm(r,l)>mm(r,e.alternative)&&(l=e.alternative),c=l+ig(r,Object.assign({},e.settings.characterReferences,{subset:(l==="'"?mT.single:mT.double)[a][o],attribute:!0}))+l),u+(c&&"="+c))}const gSe=["<","&"];function FJ(e,t,r,n){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:ig(e.value,Object.assign({},n.settings.characterReferences,{subset:gSe}))}function mSe(e,t,r,n){return n.settings.allowDangerousHtml?e.value:FJ(e,t,r,n)}function vSe(e,t,r,n){return n.all(e)}const ySe=wEe("type",{invalid:bSe,unknown:xSe,handlers:{comment:UEe,doctype:WEe,element:fSe,raw:mSe,root:vSe,text:FJ}});function bSe(e){throw new Error("Expected node, not `"+e+"`")}function xSe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const TSe={},wSe={},ESe=[];function SSe(e,t){const r=t||TSe,n=r.quote||'"',a=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:ASe,all:kSe,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||dEe,characterReferences:r.characterReferences||wSe,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?i9:RJ,quote:n,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function ASe(e,t,r){return ySe(e,t,r,this)}function kSe(e){const t=[],r=e&&e.children||ESe;let n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}function CSe(e){const t=this,r={...t.data("settings"),...e};t.compiler=n;function n(a){return SSe(a,r)}}const ISe={};function s9(e,t){const r=ISe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return BJ(e,n,a)}function BJ(e,t,r){if(RSe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H$(e.children,t,r)}return Array.isArray(e)?H$(e,t,r):""}function H$(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=BJ(e[a],t,r);return n.join("")}function RSe(e){return!!(e&&typeof e=="object")}const U$=document.createElement("i");function Ab(e){const t="&"+e+";";U$.innerHTML=t;const r=U$.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Do(e,t,r,n){const a=e.length;let o=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)l=Array.from(n),l.unshift(t,r),e.splice(...l);else for(r&&e.splice(t,r);o<n.length;)l=n.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function al(e,t){return e.length>0?(Do(e,e.length,0,t),e):t}const W$={}.hasOwnProperty;function $J(e){const t={};let r=-1;for(;++r<e.length;)OSe(t,e[r]);return t}function OSe(e,t){let r;for(r in t){const a=(W$.call(e,r)?e[r]:void 0)||(e[r]={}),o=t[r];let l;if(o)for(l in o){W$.call(a,l)||(a[l]=[]);const c=o[l];_Se(a[l],Array.isArray(c)?c:c?[c]:[])}}}function _Se(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Do(e,0,0,n)}function HJ(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function nc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ci=vf(/[A-Za-z]/),yi=vf(/[\dA-Za-z]/),NSe=vf(/[#-'*+\--9=?A-Z^-~]/);function g5(e){return e!==null&&(e<32||e===127)}const RI=vf(/\d/),LSe=vf(/[\dA-Fa-f]/),MSe=vf(/[!-/:-@[-`{-~]/);function yt(e){return e!==null&&e<-2}function dr(e){return e!==null&&(e<0||e===32)}function Xt(e){return e===-2||e===-1||e===32}const n6=vf(new RegExp("\\p{P}|\\p{S}","u")),Yd=vf(/\s/);function vf(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function fv(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const o=e.charCodeAt(r);let l="";if(o===37&&yi(e.charCodeAt(r+1))&&yi(e.charCodeAt(r+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(r+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),a=1):l="�"}else l=String.fromCharCode(o);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+a+1,l=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function Ft(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(u){return Xt(u)?(e.enter(r),c(u)):t(u)}function c(u){return Xt(u)&&o++<a?(e.consume(u),c):(e.exit(r),t(u))}}const DSe={tokenize:PSe};function PSe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Ft(e,t,"linePrefix")}function a(c){return e.enter("paragraph"),o(c)}function o(c){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return yt(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const FSe={tokenize:BSe},z$={tokenize:$Se};function BSe(e){const t=this,r=[];let n=0,a,o,l;return c;function c(w){if(n<r.length){const E=r[n];return t.containerState=E[1],e.attempt(E[0].continuation,u,h)(w)}return h(w)}function u(w){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&T();const E=t.events.length;let S=E,C;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){C=t.events[S][1].end;break}x(n);let k=E;for(;k<t.events.length;)t.events[k][1].end={...C},k++;return Do(t.events,S+1,0,t.events.slice(E)),t.events.length=k,h(w)}return c(w)}function h(w){if(n===r.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return m(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(z$,f,d)(w)}function f(w){return a&&T(),x(n),p(w)}function d(w){return t.parser.lazy[t.now().line]=n!==r.length,l=t.now().offset,m(w)}function p(w){return t.containerState={},e.attempt(z$,g,m)(w)}function g(w){return n++,r.push([t.currentConstruct,t.containerState]),p(w)}function m(w){if(w===null){a&&T(),x(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),y(w)}function y(w){if(w===null){b(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return yt(w)?(e.consume(w),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,c):(e.consume(w),y)}function b(w,E){const S=t.sliceStream(w);if(E&&S.push(null),w.previous=o,o&&(o.next=w),o=w,a.defineSkip(w.start),a.write(S),t.parser.lazy[w.start.line]){let C=a.events.length;for(;C--;)if(a.events[C][1].start.offset<l&&(!a.events[C][1].end||a.events[C][1].end.offset>l))return;const k=t.events.length;let O=k,I,_;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(I){_=t.events[O][1].end;break}I=!0}for(x(n),C=k;C<t.events.length;)t.events[C][1].end={..._},C++;Do(t.events,O+1,0,t.events.slice(k)),t.events.length=C}}function x(w){let E=r.length;for(;E-- >w;){const S=r[E];t.containerState=S[1],S[0].exit.call(t,e)}r.length=w}function T(){a.write([null]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function $Se(e,t,r){return Ft(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vm(e){if(e===null||dr(e)||Yd(e))return 1;if(n6(e))return 2}function i6(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!n.includes(o)&&(t=o(t,r),n.push(o))}return t}const OI={name:"attention",resolveAll:HSe,tokenize:USe};function HSe(e,t){let r=-1,n,a,o,l,c,u,h,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},p={...e[r][1].start};G$(d,-u),G$(p,u),l={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},c={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},o={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:u>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[n][1].end={...l.start},e[r][1].start={...c.end},h=[],e[n][1].end.offset-e[n][1].start.offset&&(h=al(h,[["enter",e[n][1],t],["exit",e[n][1],t]])),h=al(h,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",o,t]]),h=al(h,i6(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),h=al(h,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,h=al(h,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,Do(e,n-1,r-n+3,h),r=n+h.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function USe(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=vm(n);let o;return l;function l(u){return o=u,e.enter("attentionSequence"),c(u)}function c(u){if(u===o)return e.consume(u),c;const h=e.exit("attentionSequence"),f=vm(u),d=!f||f===2&&a||r.includes(u),p=!a||a===2&&f||r.includes(n);return h._open=!!(o===42?d:d&&(a||!p)),h._close=!!(o===42?p:p&&(f||!d)),t(u)}}function G$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const WSe={name:"autolink",tokenize:zSe};function zSe(e,t,r){let n=0;return a;function a(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(g){return Ci(g)?(e.consume(g),l):g===64?r(g):h(g)}function l(g){return g===43||g===45||g===46||yi(g)?(n=1,c(g)):h(g)}function c(g){return g===58?(e.consume(g),n=0,u):(g===43||g===45||g===46||yi(g))&&n++<32?(e.consume(g),c):(n=0,h(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||g5(g)?r(g):(e.consume(g),u)}function h(g){return g===64?(e.consume(g),f):NSe(g)?(e.consume(g),h):r(g)}function f(g){return yi(g)?d(g):r(g)}function d(g){return g===46?(e.consume(g),n=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):p(g)}function p(g){if((g===45||yi(g))&&n++<63){const m=g===45?p:d;return e.consume(g),m}return r(g)}}const Hx={partial:!0,tokenize:GSe};function GSe(e,t,r){return n;function n(o){return Xt(o)?Ft(e,a,"linePrefix")(o):a(o)}function a(o){return o===null||yt(o)?t(o):r(o)}}const UJ={continuation:{tokenize:VSe},exit:qSe,name:"blockQuote",tokenize:YSe};function YSe(e,t,r){const n=this;return a;function a(l){if(l===62){const c=n.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return r(l)}function o(l){return Xt(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function VSe(e,t,r){const n=this;return a;function a(l){return Xt(l)?Ft(e,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(UJ,t,r)(l)}}function qSe(e){e.exit("blockQuote")}const WJ={name:"characterEscape",tokenize:jSe};function jSe(e,t,r){return n;function n(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),a}function a(o){return MSe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(o)}}const zJ={name:"characterReference",tokenize:XSe};function XSe(e,t,r){const n=this;let a=0,o,l;return c;function c(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),o=31,l=yi,f(d))}function h(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=LSe,f):(e.enter("characterReferenceValue"),o=7,l=RI,f(d))}function f(d){if(d===59&&a){const p=e.exit("characterReferenceValue");return l===yi&&!Ab(n.sliceSerialize(p))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(d)&&a++<o?(e.consume(d),f):r(d)}}const Y$={partial:!0,tokenize:ZSe},_I={concrete:!0,name:"codeFenced",tokenize:KSe};function KSe(e,t,r){const n=this,a={partial:!0,tokenize:S};let o=0,l=0,c;return u;function u(C){return h(C)}function h(C){const k=n.events[n.events.length-1];return o=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,c=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(C)}function f(C){return C===c?(l++,e.consume(C),f):l<3?r(C):(e.exit("codeFencedFenceSequence"),Xt(C)?Ft(e,d,"whitespace")(C):d(C))}function d(C){return C===null||yt(C)?(e.exit("codeFencedFence"),n.interrupt?t(C):e.check(Y$,y,E)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||yt(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(C)):Xt(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ft(e,g,"whitespace")(C)):C===96&&C===c?r(C):(e.consume(C),p)}function g(C){return C===null||yt(C)?d(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(C))}function m(C){return C===null||yt(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(C)):C===96&&C===c?r(C):(e.consume(C),m)}function y(C){return e.attempt(a,E,b)(C)}function b(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),x}function x(C){return o>0&&Xt(C)?Ft(e,T,"linePrefix",o+1)(C):T(C)}function T(C){return C===null||yt(C)?e.check(Y$,y,E)(C):(e.enter("codeFlowValue"),w(C))}function w(C){return C===null||yt(C)?(e.exit("codeFlowValue"),T(C)):(e.consume(C),w)}function E(C){return e.exit("codeFenced"),t(C)}function S(C,k,O){let I=0;return _;function _(P){return C.enter("lineEnding"),C.consume(P),C.exit("lineEnding"),R}function R(P){return C.enter("codeFencedFence"),Xt(P)?Ft(C,M,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):M(P)}function M(P){return P===c?(C.enter("codeFencedFenceSequence"),$(P)):O(P)}function $(P){return P===c?(I++,C.consume(P),$):I>=l?(C.exit("codeFencedFenceSequence"),Xt(P)?Ft(C,N,"whitespace")(P):N(P)):O(P)}function N(P){return P===null||yt(P)?(C.exit("codeFencedFence"),k(P)):O(P)}}}function ZSe(e,t,r){const n=this;return a;function a(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const u8={name:"codeIndented",tokenize:JSe},QSe={partial:!0,tokenize:e6e};function JSe(e,t,r){const n=this;return a;function a(h){return e.enter("codeIndented"),Ft(e,o,"linePrefix",5)(h)}function o(h){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(h):r(h)}function l(h){return h===null?u(h):yt(h)?e.attempt(QSe,l,u)(h):(e.enter("codeFlowValue"),c(h))}function c(h){return h===null||yt(h)?(e.exit("codeFlowValue"),l(h)):(e.consume(h),c)}function u(h){return e.exit("codeIndented"),t(h)}}function e6e(e,t,r){const n=this;return a;function a(l){return n.parser.lazy[n.now().line]?r(l):yt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):Ft(e,o,"linePrefix",5)(l)}function o(l){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):yt(l)?a(l):r(l)}}const t6e={name:"codeText",previous:n6e,resolve:r6e,tokenize:i6e};function r6e(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function n6e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function i6e(e,t,r){let n=0,a,o;return l;function l(d){return e.enter("codeText"),e.enter("codeTextSequence"),c(d)}function c(d){return d===96?(e.consume(d),n++,c):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(o=e.enter("codeTextSequence"),a=0,f(d)):yt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),h(d))}function h(d){return d===null||d===32||d===96||yt(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),h)}function f(d){return d===96?(e.consume(d),a++,f):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",h(d))}}class a6e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&py(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),py(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),py(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);py(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);py(this.left,r.reverse())}}}function py(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function GJ(e){const t={};let r=-1,n,a,o,l,c,u,h;const f=new a6e(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,s6e(f,r)),r=t[r],h=!0);else if(n[1]._container){for(o=r,a=void 0;o--;)if(l=f.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(f.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=o);else if(l[1].type!=="linePrefix")break;a&&(n[1].end={...f.get(a)[1].start},c=f.slice(a,r),c.unshift(n),f.splice(a,r-a+1,c))}}return Do(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function s6e(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const o=[],l=r._tokenizer||n.parser[r.contentType](r.start),c=l.events,u=[],h={};let f,d,p=-1,g=r,m=0,y=0;const b=[y];for(;g;){for(;e.get(++a)[1]!==g;);o.push(a),g._tokenizer||(f=n.sliceStream(g),g.next||f.push(null),d&&l.defineSkip(g.start),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=g,g=g.next}for(g=r;++p<c.length;)c[p][0]==="exit"&&c[p-1][0]==="enter"&&c[p][1].type===c[p-1][1].type&&c[p][1].start.line!==c[p][1].end.line&&(y=p+1,b.push(y),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(l.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),p=b.length;p--;){const x=c.slice(b[p],b[p+1]),T=o.pop();u.push([T,T+x.length-1]),e.splice(T,2,x)}for(u.reverse(),p=-1;++p<u.length;)h[m+u[p][0]]=m+u[p][1],m+=u[p][1]-u[p][0]-1;return h}const o6e={resolve:c6e,tokenize:u6e},l6e={partial:!0,tokenize:h6e};function c6e(e){return GJ(e),e}function u6e(e,t){let r;return n;function n(c){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?o(c):yt(c)?e.check(l6e,l,o)(c):(e.consume(c),a)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function h6e(e,t,r){const n=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ft(e,o,"linePrefix")}function o(l){if(l===null||yt(l))return r(l);const c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,r,t)(l)}}function YJ(e,t,r,n,a,o,l,c,u){const h=u||Number.POSITIVE_INFINITY;let f=0;return d;function d(x){return x===60?(e.enter(n),e.enter(a),e.enter(o),e.consume(x),e.exit(o),p):x===null||x===32||x===41||g5(x)?r(x):(e.enter(n),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),y(x))}function p(x){return x===62?(e.enter(o),e.consume(x),e.exit(o),e.exit(a),e.exit(n),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===62?(e.exit("chunkString"),e.exit(c),p(x)):x===null||x===60||yt(x)?r(x):(e.consume(x),x===92?m:g)}function m(x){return x===60||x===62||x===92?(e.consume(x),g):g(x)}function y(x){return!f&&(x===null||x===41||dr(x))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(n),t(x)):f<h&&x===40?(e.consume(x),f++,y):x===41?(e.consume(x),f--,y):x===null||x===32||x===40||g5(x)?r(x):(e.consume(x),x===92?b:y)}function b(x){return x===40||x===41||x===92?(e.consume(x),y):y(x)}}function VJ(e,t,r,n,a,o){const l=this;let c=0,u;return h;function h(g){return e.enter(n),e.enter(a),e.consume(g),e.exit(a),e.enter(o),f}function f(g){return c>999||g===null||g===91||g===93&&!u||g===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(g):g===93?(e.exit(o),e.enter(a),e.consume(g),e.exit(a),e.exit(n),t):yt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===null||g===91||g===93||yt(g)||c++>999?(e.exit("chunkString"),f(g)):(e.consume(g),u||(u=!Xt(g)),g===92?p:d)}function p(g){return g===91||g===92||g===93?(e.consume(g),c++,d):d(g)}}function qJ(e,t,r,n,a,o){let l;return c;function c(p){return p===34||p===39||p===40?(e.enter(n),e.enter(a),e.consume(p),e.exit(a),l=p===40?41:p,u):r(p)}function u(p){return p===l?(e.enter(a),e.consume(p),e.exit(a),e.exit(n),t):(e.enter(o),h(p))}function h(p){return p===l?(e.exit(o),u(l)):p===null?r(p):yt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Ft(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===l||p===null||yt(p)?(e.exit("chunkString"),h(p)):(e.consume(p),p===92?d:f)}function d(p){return p===l||p===92?(e.consume(p),f):f(p)}}function Qs(e,t){let r;return n;function n(a){return yt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):Xt(a)?Ft(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const f6e={name:"definition",tokenize:p6e},d6e={partial:!0,tokenize:g6e};function p6e(e,t,r){const n=this;let a;return o;function o(g){return e.enter("definition"),l(g)}function l(g){return VJ.call(n,e,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function c(g){return a=nc(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):r(g)}function u(g){return dr(g)?Qs(e,h)(g):h(g)}function h(g){return YJ(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(d6e,d,d)(g)}function d(g){return Xt(g)?Ft(e,p,"whitespace")(g):p(g)}function p(g){return g===null||yt(g)?(e.exit("definition"),n.parser.defined.push(a),t(g)):r(g)}}function g6e(e,t,r){return n;function n(c){return dr(c)?Qs(e,a)(c):r(c)}function a(c){return qJ(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Xt(c)?Ft(e,l,"whitespace")(c):l(c)}function l(c){return c===null||yt(c)?t(c):r(c)}}const m6e={name:"hardBreakEscape",tokenize:v6e};function v6e(e,t,r){return n;function n(o){return e.enter("hardBreakEscape"),e.consume(o),a}function a(o){return yt(o)?(e.exit("hardBreakEscape"),t(o)):r(o)}}const y6e={name:"headingAtx",resolve:b6e,tokenize:x6e};function b6e(e,t){let r=e.length-2,n=3,a,o;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},o={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Do(e,n,r-n+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),e}function x6e(e,t,r){let n=0;return a;function a(f){return e.enter("atxHeading"),o(f)}function o(f){return e.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&n++<6?(e.consume(f),l):f===null||dr(f)?(e.exit("atxHeadingSequence"),c(f)):r(f)}function c(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||yt(f)?(e.exit("atxHeading"),t(f)):Xt(f)?Ft(e,c,"whitespace")(f):(e.enter("atxHeadingText"),h(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),c(f))}function h(f){return f===null||f===35||dr(f)?(e.exit("atxHeadingText"),c(f)):(e.consume(f),h)}}const T6e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],V$=["pre","script","style","textarea"],w6e={concrete:!0,name:"htmlFlow",resolveTo:A6e,tokenize:k6e},E6e={partial:!0,tokenize:I6e},S6e={partial:!0,tokenize:C6e};function A6e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function k6e(e,t,r){const n=this;let a,o,l,c,u;return h;function h(W){return f(W)}function f(W){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(W),d}function d(W){return W===33?(e.consume(W),p):W===47?(e.consume(W),o=!0,y):W===63?(e.consume(W),a=3,n.interrupt?t:H):Ci(W)?(e.consume(W),l=String.fromCharCode(W),b):r(W)}function p(W){return W===45?(e.consume(W),a=2,g):W===91?(e.consume(W),a=5,c=0,m):Ci(W)?(e.consume(W),a=4,n.interrupt?t:H):r(W)}function g(W){return W===45?(e.consume(W),n.interrupt?t:H):r(W)}function m(W){const ee="CDATA[";return W===ee.charCodeAt(c++)?(e.consume(W),c===ee.length?n.interrupt?t:M:m):r(W)}function y(W){return Ci(W)?(e.consume(W),l=String.fromCharCode(W),b):r(W)}function b(W){if(W===null||W===47||W===62||dr(W)){const ee=W===47,ce=l.toLowerCase();return!ee&&!o&&V$.includes(ce)?(a=1,n.interrupt?t(W):M(W)):T6e.includes(l.toLowerCase())?(a=6,ee?(e.consume(W),x):n.interrupt?t(W):M(W)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(W):o?T(W):w(W))}return W===45||yi(W)?(e.consume(W),l+=String.fromCharCode(W),b):r(W)}function x(W){return W===62?(e.consume(W),n.interrupt?t:M):r(W)}function T(W){return Xt(W)?(e.consume(W),T):_(W)}function w(W){return W===47?(e.consume(W),_):W===58||W===95||Ci(W)?(e.consume(W),E):Xt(W)?(e.consume(W),w):_(W)}function E(W){return W===45||W===46||W===58||W===95||yi(W)?(e.consume(W),E):S(W)}function S(W){return W===61?(e.consume(W),C):Xt(W)?(e.consume(W),S):w(W)}function C(W){return W===null||W===60||W===61||W===62||W===96?r(W):W===34||W===39?(e.consume(W),u=W,k):Xt(W)?(e.consume(W),C):O(W)}function k(W){return W===u?(e.consume(W),u=null,I):W===null||yt(W)?r(W):(e.consume(W),k)}function O(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||dr(W)?S(W):(e.consume(W),O)}function I(W){return W===47||W===62||Xt(W)?w(W):r(W)}function _(W){return W===62?(e.consume(W),R):r(W)}function R(W){return W===null||yt(W)?M(W):Xt(W)?(e.consume(W),R):r(W)}function M(W){return W===45&&a===2?(e.consume(W),F):W===60&&a===1?(e.consume(W),L):W===62&&a===4?(e.consume(W),U):W===63&&a===3?(e.consume(W),H):W===93&&a===5?(e.consume(W),B):yt(W)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(E6e,G,$)(W)):W===null||yt(W)?(e.exit("htmlFlowData"),$(W)):(e.consume(W),M)}function $(W){return e.check(S6e,N,G)(W)}function N(W){return e.enter("lineEnding"),e.consume(W),e.exit("lineEnding"),P}function P(W){return W===null||yt(W)?$(W):(e.enter("htmlFlowData"),M(W))}function F(W){return W===45?(e.consume(W),H):M(W)}function L(W){return W===47?(e.consume(W),l="",D):M(W)}function D(W){if(W===62){const ee=l.toLowerCase();return V$.includes(ee)?(e.consume(W),U):M(W)}return Ci(W)&&l.length<8?(e.consume(W),l+=String.fromCharCode(W),D):M(W)}function B(W){return W===93?(e.consume(W),H):M(W)}function H(W){return W===62?(e.consume(W),U):W===45&&a===2?(e.consume(W),H):M(W)}function U(W){return W===null||yt(W)?(e.exit("htmlFlowData"),G(W)):(e.consume(W),U)}function G(W){return e.exit("htmlFlow"),t(W)}}function C6e(e,t,r){const n=this;return a;function a(l){return yt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):r(l)}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}function I6e(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Hx,t,r)}}const R6e={name:"htmlText",tokenize:O6e};function O6e(e,t,r){const n=this;let a,o,l;return c;function c(H){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(H),u}function u(H){return H===33?(e.consume(H),h):H===47?(e.consume(H),S):H===63?(e.consume(H),w):Ci(H)?(e.consume(H),O):r(H)}function h(H){return H===45?(e.consume(H),f):H===91?(e.consume(H),o=0,m):Ci(H)?(e.consume(H),T):r(H)}function f(H){return H===45?(e.consume(H),g):r(H)}function d(H){return H===null?r(H):H===45?(e.consume(H),p):yt(H)?(l=d,L(H)):(e.consume(H),d)}function p(H){return H===45?(e.consume(H),g):d(H)}function g(H){return H===62?F(H):H===45?p(H):d(H)}function m(H){const U="CDATA[";return H===U.charCodeAt(o++)?(e.consume(H),o===U.length?y:m):r(H)}function y(H){return H===null?r(H):H===93?(e.consume(H),b):yt(H)?(l=y,L(H)):(e.consume(H),y)}function b(H){return H===93?(e.consume(H),x):y(H)}function x(H){return H===62?F(H):H===93?(e.consume(H),x):y(H)}function T(H){return H===null||H===62?F(H):yt(H)?(l=T,L(H)):(e.consume(H),T)}function w(H){return H===null?r(H):H===63?(e.consume(H),E):yt(H)?(l=w,L(H)):(e.consume(H),w)}function E(H){return H===62?F(H):w(H)}function S(H){return Ci(H)?(e.consume(H),C):r(H)}function C(H){return H===45||yi(H)?(e.consume(H),C):k(H)}function k(H){return yt(H)?(l=k,L(H)):Xt(H)?(e.consume(H),k):F(H)}function O(H){return H===45||yi(H)?(e.consume(H),O):H===47||H===62||dr(H)?I(H):r(H)}function I(H){return H===47?(e.consume(H),F):H===58||H===95||Ci(H)?(e.consume(H),_):yt(H)?(l=I,L(H)):Xt(H)?(e.consume(H),I):F(H)}function _(H){return H===45||H===46||H===58||H===95||yi(H)?(e.consume(H),_):R(H)}function R(H){return H===61?(e.consume(H),M):yt(H)?(l=R,L(H)):Xt(H)?(e.consume(H),R):I(H)}function M(H){return H===null||H===60||H===61||H===62||H===96?r(H):H===34||H===39?(e.consume(H),a=H,$):yt(H)?(l=M,L(H)):Xt(H)?(e.consume(H),M):(e.consume(H),N)}function $(H){return H===a?(e.consume(H),a=void 0,P):H===null?r(H):yt(H)?(l=$,L(H)):(e.consume(H),$)}function N(H){return H===null||H===34||H===39||H===60||H===61||H===96?r(H):H===47||H===62||dr(H)?I(H):(e.consume(H),N)}function P(H){return H===47||H===62||dr(H)?I(H):r(H)}function F(H){return H===62?(e.consume(H),e.exit("htmlTextData"),e.exit("htmlText"),t):r(H)}function L(H){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),D}function D(H){return Xt(H)?Ft(e,B,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):B(H)}function B(H){return e.enter("htmlTextData"),l(H)}}const o9={name:"labelEnd",resolveAll:M6e,resolveTo:D6e,tokenize:P6e},_6e={tokenize:F6e},N6e={tokenize:B6e},L6e={tokenize:$6e};function M6e(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&Do(e,0,e.length,r),e}function D6e(e,t){let r=e.length,n=0,a,o,l,c;for(;r--;)if(a=e[r][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(l=r);const u={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},f={type:"labelText",start:{...e[o+n+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",u,t],["enter",h,t]],c=al(c,e.slice(o+1,o+n+3)),c=al(c,[["enter",f,t]]),c=al(c,i6(t.parser.constructs.insideSpan.null,e.slice(o+n+4,l-3),t)),c=al(c,[["exit",f,t],e[l-2],e[l-1],["exit",h,t]]),c=al(c,e.slice(l+1)),c=al(c,[["exit",u,t]]),Do(e,o,e.length,c),e}function P6e(e,t,r){const n=this;let a=n.events.length,o,l;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){o=n.events[a][1];break}return c;function c(p){return o?o._inactive?d(p):(l=n.parser.defined.includes(nc(n.sliceSerialize({start:o.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):r(p)}function u(p){return p===40?e.attempt(_6e,f,l?f:d)(p):p===91?e.attempt(N6e,f,l?h:d)(p):l?f(p):d(p)}function h(p){return e.attempt(L6e,f,d)(p)}function f(p){return t(p)}function d(p){return o._balanced=!0,r(p)}}function F6e(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),a}function a(d){return dr(d)?Qs(e,o)(d):o(d)}function o(d){return d===41?f(d):YJ(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function l(d){return dr(d)?Qs(e,u)(d):f(d)}function c(d){return r(d)}function u(d){return d===34||d===39||d===40?qJ(e,h,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function h(d){return dr(d)?Qs(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function B6e(e,t,r){const n=this;return a;function a(c){return VJ.call(n,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return n.parser.defined.includes(nc(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(c):r(c)}function l(c){return r(c)}}function $6e(e,t,r){return n;function n(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),a}function a(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):r(o)}}const H6e={name:"labelStartImage",resolveAll:o9.resolveAll,tokenize:U6e};function U6e(e,t,r){const n=this;return a;function a(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(c):t(c)}}const W6e={name:"labelStartLink",resolveAll:o9.resolveAll,tokenize:z6e};function z6e(e,t,r){const n=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const h8={name:"lineEnding",tokenize:G6e};function G6e(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ft(e,t,"linePrefix")}}const X4={name:"thematicBreak",tokenize:Y6e};function Y6e(e,t,r){let n=0,a;return o;function o(h){return e.enter("thematicBreak"),l(h)}function l(h){return a=h,c(h)}function c(h){return h===a?(e.enter("thematicBreakSequence"),u(h)):n>=3&&(h===null||yt(h))?(e.exit("thematicBreak"),t(h)):r(h)}function u(h){return h===a?(e.consume(h),n++,u):(e.exit("thematicBreakSequence"),Xt(h)?Ft(e,c,"whitespace")(h):c(h))}}const Hs={continuation:{tokenize:X6e},exit:Z6e,name:"list",tokenize:j6e},V6e={partial:!0,tokenize:Q6e},q6e={partial:!0,tokenize:K6e};function j6e(e,t,r){const n=this,a=n.events[n.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return c;function c(g){const m=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:RI(g)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(X4,r,h)(g):h(g);if(!n.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return r(g)}function u(g){return RI(g)&&++l<10?(e.consume(g),u):(!n.interrupt||l<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),h(g)):r(g)}function h(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,e.check(Hx,n.interrupt?r:f,e.attempt(V6e,p,d))}function f(g){return n.containerState.initialBlankLine=!0,o++,p(g)}function d(g){return Xt(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),p):r(g)}function p(g){return n.containerState.size=o+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function X6e(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Hx,a,o);function a(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Ft(e,t,"listItemIndent",n.containerState.size+1)(c)}function o(c){return n.containerState.furtherBlankLines||!Xt(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(q6e,t,l)(c))}function l(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,Ft(e,e.attempt(Hs,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function K6e(e,t,r){const n=this;return Ft(e,a,"listItemIndent",n.containerState.size+1);function a(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(o):r(o)}}function Z6e(e){e.exit(this.containerState.type)}function Q6e(e,t,r){const n=this;return Ft(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const l=n.events[n.events.length-1];return!Xt(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):r(o)}}const q$={name:"setextUnderline",resolveTo:J6e,tokenize:eAe};function J6e(e,t){let r=e.length,n,a,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const l={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",o?(e.splice(a,0,["enter",l,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end={...e[o][1].end}):e[n][1]=l,e.push(["exit",l,t]),e}function eAe(e,t,r){const n=this;let a;return o;function o(h){let f=n.events.length,d;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){d=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),a=h,l(h)):r(h)}function l(h){return e.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===a?(e.consume(h),c):(e.exit("setextHeadingLineSequence"),Xt(h)?Ft(e,u,"lineSuffix")(h):u(h))}function u(h){return h===null||yt(h)?(e.exit("setextHeadingLine"),t(h)):r(h)}}const tAe={tokenize:rAe};function rAe(e){const t=this,r=e.attempt(Hx,n,e.attempt(this.parser.constructs.flowInitial,a,Ft(e,e.attempt(this.parser.constructs.flow,a,e.attempt(o6e,a)),"linePrefix")));return r;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const nAe={resolveAll:XJ()},iAe=jJ("string"),aAe=jJ("text");function jJ(e){return{resolveAll:XJ(e==="text"?sAe:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],o=r.attempt(a,l,c);return l;function l(f){return h(f)?o(f):c(f)}function c(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),u}function u(f){return h(f)?(r.exit("data"),o(f)):(r.consume(f),u)}function h(f){if(f===null)return!0;const d=a[f];let p=-1;if(d)for(;++p<d.length;){const g=d[p];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function XJ(e){return t;function t(r,n){let a=-1,o;for(;++a<=r.length;)o===void 0?r[a]&&r[a][1].type==="data"&&(o=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==o+2&&(r[o][1].end=r[a-1][1].end,r.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(r,n):r}}function sAe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let o=a.length,l=-1,c=0,u;for(;o--;){const h=a[o];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)u=!0,c++;else if(h!==-1){o++;break}}if(c){const h={type:r===e.length||u||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:n.start._bufferIndex+l,_index:n.start._index+o,line:n.end.line,column:n.end.column-c,offset:n.end.offset-c},end:{...n.end}};n.end={...h.start},n.start.offset===n.end.offset?Object.assign(n,h):(e.splice(r,0,["enter",h,t],["exit",h,t]),r+=2)}r++}return e}const oAe={42:Hs,43:Hs,45:Hs,48:Hs,49:Hs,50:Hs,51:Hs,52:Hs,53:Hs,54:Hs,55:Hs,56:Hs,57:Hs,62:UJ},lAe={91:f6e},cAe={[-2]:u8,[-1]:u8,32:u8},uAe={35:y6e,42:X4,45:[q$,X4],60:w6e,61:q$,95:X4,96:_I,126:_I},hAe={38:zJ,92:WJ},fAe={[-5]:h8,[-4]:h8,[-3]:h8,33:H6e,38:zJ,42:OI,60:[WSe,R6e],91:W6e,92:[m6e,WJ],93:o9,95:OI,96:t6e},dAe={null:[OI,nAe]},pAe={null:[42,95]},gAe={null:[]},mAe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pAe,contentInitial:lAe,disable:gAe,document:oAe,flow:uAe,flowInitial:cAe,insideSpan:dAe,string:hAe,text:fAe},Symbol.toStringTag,{value:"Module"}));function vAe(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},o=[];let l=[],c=[];const u={attempt:k(S),check:k(C),consume:T,enter:w,exit:E,interrupt:k(C,{interrupt:!0})},h={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:e,previous:null,sliceSerialize:p,sliceStream:g,write:d};let f=t.tokenize.call(h,u);return t.resolveAll&&o.push(t),h;function d(R){return l=al(l,R),b(),l[l.length-1]!==null?[]:(O(t,0),h.events=i6(o,h.events,h),h.events)}function p(R,M){return bAe(g(R),M)}function g(R){return yAe(l,R)}function m(){const{_bufferIndex:R,_index:M,line:$,column:N,offset:P}=n;return{_bufferIndex:R,_index:M,line:$,column:N,offset:P}}function y(R){a[R.line]=R.column,_()}function b(){let R;for(;n._index<l.length;){const M=l[n._index];if(typeof M=="string")for(R=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===R&&n._bufferIndex<M.length;)x(M.charCodeAt(n._bufferIndex));else x(M)}}function x(R){f=f(R)}function T(R){yt(R)?(n.line++,n.column=1,n.offset+=R===-3?2:1,_()):R!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),h.previous=R}function w(R,M){const $=M||{};return $.type=R,$.start=m(),h.events.push(["enter",$,h]),c.push($),$}function E(R){const M=c.pop();return M.end=m(),h.events.push(["exit",M,h]),M}function S(R,M){O(R,M.from)}function C(R,M){M.restore()}function k(R,M){return $;function $(N,P,F){let L,D,B,H;return Array.isArray(N)?G(N):"tokenize"in N?G([N]):U(N);function U(Z){return J;function J(oe){const Y=oe!==null&&Z[oe],X=oe!==null&&Z.null,K=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(X)?X:X?[X]:[]];return G(K)(oe)}}function G(Z){return L=Z,D=0,Z.length===0?F:W(Z[D])}function W(Z){return J;function J(oe){return H=I(),B=Z,Z.partial||(h.currentConstruct=Z),Z.name&&h.parser.constructs.disable.null.includes(Z.name)?ce():Z.tokenize.call(M?Object.assign(Object.create(h),M):h,u,ee,ce)(oe)}}function ee(Z){return R(B,H),P}function ce(Z){return H.restore(),++D<L.length?W(L[D]):F}}}function O(R,M){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&Do(h.events,M,h.events.length-M,R.resolve(h.events.slice(M),h)),R.resolveTo&&(h.events=R.resolveTo(h.events,h))}function I(){const R=m(),M=h.previous,$=h.currentConstruct,N=h.events.length,P=Array.from(c);return{from:N,restore:F};function F(){n=R,h.previous=M,h.currentConstruct=$,h.events.length=N,c=P,_()}}function _(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function yAe(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let l;if(r===a)l=[e[r].slice(n,o)];else{if(l=e.slice(r,a),n>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(n):l.shift()}o>0&&l.push(e[a].slice(0,o))}return l}function bAe(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const o=e[r];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(o)}a=o===-2,n.push(l)}return n.join("")}function xAe(e){const n={constructs:$J([mAe,...(e||{}).extensions||[]]),content:a(DSe),defined:[],document:a(FSe),flow:a(tAe),lazy:{},string:a(iAe),text:a(aAe)};return n;function a(o){return l;function l(c){return vAe(n,o,c)}}}function TAe(e){for(;!GJ(e););return e}const j$=/[\0\t\n\r]/g;function wAe(){let e=1,t="",r=!0,n;return a;function a(o,l,c){const u=[];let h,f,d,p,g;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),d=0,t="",r&&(o.charCodeAt(0)===65279&&d++,r=void 0);d<o.length;){if(j$.lastIndex=d,h=j$.exec(o),p=h&&h.index!==void 0?h.index:o.length,g=o.charCodeAt(p),!h){t=o.slice(d);break}if(g===10&&d===p&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),d<p&&(u.push(o.slice(d,p)),e+=p-d),g){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}d=p+1}return c&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const EAe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SAe(e){return e.replace(EAe,AAe)}function AAe(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),o=a===120||a===88;return HJ(r.slice(o?2:1),o?16:10)}return Ab(r)||e}function F2(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?X$(e.position):"start"in e||"end"in e?X$(e):"line"in e||"column"in e?NI(e):""}function NI(e){return K$(e&&e.line)+":"+K$(e&&e.column)}function X$(e){return NI(e&&e.start)+"-"+NI(e&&e.end)}function K$(e){return e&&typeof e=="number"?e:1}const KJ={}.hasOwnProperty;function kAe(e,t,r){return typeof t!="string"&&(r=t,t=void 0),CAe(r)(TAe(xAe(r).document().write(wAe()(e,t,!0))))}function CAe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fe),autolinkProtocol:I,autolinkEmail:I,atxHeading:o(re),blockQuote:o(X),characterEscape:I,characterReference:I,codeFenced:o(K),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(K,l),codeText:o(z,l),codeTextData:I,data:I,codeFlowValue:I,definition:o(j),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(te),hardBreakEscape:o(Se),hardBreakTrailing:o(Se),htmlFlow:o(ue,l),htmlFlowData:I,htmlText:o(ue,l),htmlTextData:I,image:o(se),label:l,link:o(fe),listItem:o(he),listItemValue:p,listOrdered:o(ye,d),listUnordered:o(ye),paragraph:o(Ae),reference:W,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(re),strong:o(Ce),thematicBreak:o(Le)},exit:{atxHeading:u(),atxHeadingSequence:S,autolink:u(),autolinkEmail:Y,autolinkProtocol:oe,blockQuote:u(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:Z,characterReference:J,codeFenced:u(b),codeFencedFence:y,codeFencedFenceInfo:g,codeFencedFenceMeta:m,codeFlowValue:_,codeIndented:u(x),codeText:u(P),codeTextData:_,data:_,definition:u(),definitionDestinationString:E,definitionLabelString:T,definitionTitleString:w,emphasis:u(),hardBreakEscape:u(M),hardBreakTrailing:u(M),htmlFlow:u($),htmlFlowData:_,htmlText:u(N),htmlTextData:_,image:u(L),label:B,labelText:D,lineEnding:R,link:u(F),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ee,resourceDestinationString:H,resourceTitleString:U,resource:G,setextHeading:u(O),setextHeadingLineSequence:k,setextHeadingText:C,strong:u(),thematicBreak:u()}};ZJ(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ae){let q={type:"root",children:[]};const ge={stack:[q],tokenStack:[],config:t,enter:c,exit:h,buffer:l,resume:f,data:r},le=[];let Te=-1;for(;++Te<ae.length;)if(ae[Te][1].type==="listOrdered"||ae[Te][1].type==="listUnordered")if(ae[Te][0]==="enter")le.push(Te);else{const ne=le.pop();Te=a(ae,ne,Te)}for(Te=-1;++Te<ae.length;){const ne=t[ae[Te][0]];KJ.call(ne,ae[Te][1].type)&&ne[ae[Te][1].type].call(Object.assign({sliceSerialize:ae[Te][2].sliceSerialize},ge),ae[Te][1])}if(ge.tokenStack.length>0){const ne=ge.tokenStack[ge.tokenStack.length-1];(ne[1]||Z$).call(ge,void 0,ne[0])}for(q.position={start:r0(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:r0(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},Te=-1;++Te<t.transforms.length;)q=t.transforms[Te](q)||q;return q}function a(ae,q,ge){let le=q-1,Te=-1,ne=!1,Re,ie,pe,xe;for(;++le<=ge;){const ve=ae[le];switch(ve[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ve[0]==="enter"?Te++:Te--,xe=void 0;break}case"lineEndingBlank":{ve[0]==="enter"&&(Re&&!xe&&!Te&&!pe&&(pe=le),xe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xe=void 0}if(!Te&&ve[0]==="enter"&&ve[1].type==="listItemPrefix"||Te===-1&&ve[0]==="exit"&&(ve[1].type==="listUnordered"||ve[1].type==="listOrdered")){if(Re){let Ee=le;for(ie=void 0;Ee--;){const ke=ae[Ee];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;ie&&(ae[ie][1].type="lineEndingBlank",ne=!0),ke[1].type="lineEnding",ie=Ee}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}pe&&(!ie||pe<ie)&&(Re._spread=!0),Re.end=Object.assign({},ie?ae[ie][1].start:ve[1].end),ae.splice(ie||le,0,["exit",Re,ve[2]]),le++,ge++}if(ve[1].type==="listItemPrefix"){const Ee={type:"listItem",_spread:!1,start:Object.assign({},ve[1].start),end:void 0};Re=Ee,ae.splice(le,0,["enter",Ee,ve[2]]),le++,ge++,pe=void 0,xe=!0}}}return ae[q][1]._spread=ne,ge}function o(ae,q){return ge;function ge(le){c.call(this,ae(le),le),q&&q.call(this,le)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ae,q,ge){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([q,ge||void 0]),ae.position={start:r0(q.start),end:void 0}}function u(ae){return q;function q(ge){ae&&ae.call(this,ge),h.call(this,ge)}}function h(ae,q){const ge=this.stack.pop(),le=this.tokenStack.pop();if(le)le[0].type!==ae.type&&(q?q.call(this,ae,le[0]):(le[1]||Z$).call(this,ae,le[0]));else throw new Error("Cannot close `"+ae.type+"` ("+F2({start:ae.start,end:ae.end})+"): it’s not open");ge.position.end=r0(ae.end)}function f(){return s9(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(ae){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.lang=ae}function m(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.meta=ae}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.value=ae.replace(/(\r?\n|\r)$/g,"")}function T(ae){const q=this.resume(),ge=this.stack[this.stack.length-1];ge.label=q,ge.identifier=nc(this.sliceSerialize(ae)).toLowerCase()}function w(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.title=ae}function E(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.url=ae}function S(ae){const q=this.stack[this.stack.length-1];if(!q.depth){const ge=this.sliceSerialize(ae).length;q.depth=ge}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function k(ae){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ae){const ge=this.stack[this.stack.length-1].children;let le=ge[ge.length-1];(!le||le.type!=="text")&&(le=Ie(),le.position={start:r0(ae.start),end:void 0},ge.push(le)),this.stack.push(le)}function _(ae){const q=this.stack.pop();q.value+=this.sliceSerialize(ae),q.position.end=r0(ae.end)}function R(ae){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=q.children[q.children.length-1];ge.position.end=r0(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(q.type)&&(I.call(this,ae),_.call(this,ae))}function M(){this.data.atHardBreak=!0}function $(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.value=ae}function N(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.value=ae}function P(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.value=ae}function F(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=q,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function L(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=q,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function D(ae){const q=this.sliceSerialize(ae),ge=this.stack[this.stack.length-2];ge.label=SAe(q),ge.identifier=nc(q).toLowerCase()}function B(){const ae=this.stack[this.stack.length-1],q=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const le=ae.children;ge.children=le}else ge.alt=q}function H(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.url=ae}function U(){const ae=this.resume(),q=this.stack[this.stack.length-1];q.title=ae}function G(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function ee(ae){const q=this.resume(),ge=this.stack[this.stack.length-1];ge.label=q,ge.identifier=nc(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function ce(ae){this.data.characterReferenceType=ae.type}function Z(ae){const q=this.sliceSerialize(ae),ge=this.data.characterReferenceType;let le;ge?(le=HJ(q,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):le=Ab(q);const Te=this.stack[this.stack.length-1];Te.value+=le}function J(ae){const q=this.stack.pop();q.position.end=r0(ae.end)}function oe(ae){_.call(this,ae);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(ae)}function Y(ae){_.call(this,ae);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(ae)}function X(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function z(){return{type:"inlineCode",value:""}}function j(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function te(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function Se(){return{type:"break"}}function ue(){return{type:"html",value:""}}function se(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function ye(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function he(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function Ae(){return{type:"paragraph",children:[]}}function Ce(){return{type:"strong",children:[]}}function Ie(){return{type:"text",value:""}}function Le(){return{type:"thematicBreak"}}}function r0(e){return{line:e.line,column:e.column,offset:e.offset}}function ZJ(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?ZJ(e,n):IAe(e,n)}}function IAe(e,t){let r;for(r in t)if(KJ.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Z$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+F2({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+F2({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+F2({start:t.start,end:t.end})+") is still open")}function RAe(e){const t=this;t.parser=r;function r(n){return kAe(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function OAe(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function _Ae(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function NAe(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function LAe(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MAe(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DAe(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=fv(n.toLowerCase()),o=e.footnoteOrder.indexOf(n);let l,c=e.footnoteCounts.get(n);c===void 0?(c=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(n,c);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,h),e.applyData(t,h)}function PAe(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function FAe(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function QJ(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=n:a.push({type:"text",value:n}),a}function BAe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return QJ(e,t);const a={src:fv(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,o),e.applyData(t,o)}function $Ae(e,t){const r={src:fv(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function HAe(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function UAe(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return QJ(e,t);const a={href:fv(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const o={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function WAe(e,t){const r={href:fv(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zAe(e,t,r){const n=e.all(t),a=r?GAe(r):JJ(t),o={},l=[];if(typeof t.checked=="boolean"){const f=n[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<n.length;){const f=n[c];(a||c!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!a?l.push(...f.children):l.push(f)}const u=n[n.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,h),e.applyData(t,h)}function GAe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=JJ(r[n])}return t}function JJ(e){const t=e.spread;return t??e.children.length>1}function YAe(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const l=n[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,o),e.applyData(t,o)}function VAe(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qAe(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function jAe(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const eee=ree("end"),tee=ree("start");function ree(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function XAe(e){const t=tee(e),r=eee(e);if(t&&r)return{start:t,end:r}}function KAe(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),a.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},c=tee(t.children[1]),u=eee(t.children[t.children.length-1]);c&&u&&(l.position={start:c,end:u}),a.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function ZAe(e,t,r){const n=r?r.children:void 0,o=(n?n.indexOf(t):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:t.children.length;let u=-1;const h=[];for(;++u<c;){const d=t.children[u],p={},g=l?l[u]:void 0;g&&(p.align=g);let m={type:"element",tagName:o,properties:p,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),h.push(m)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,f),e.applyData(t,f)}function QAe(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Q$=9,J$=32;function JAe(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const o=[];for(;n;)o.push(eH(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return o.push(eH(t.slice(a),a>0,!1)),o.join("")}function eH(e,t,r){let n=0,a=e.length;if(t){let o=e.codePointAt(n);for(;o===Q$||o===J$;)n++,o=e.codePointAt(n)}if(r){let o=e.codePointAt(a-1);for(;o===Q$||o===J$;)a--,o=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function eke(e,t){const r={type:"text",value:JAe(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function tke(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const rke={blockquote:OAe,break:_Ae,code:NAe,delete:LAe,emphasis:MAe,footnoteReference:DAe,heading:PAe,html:FAe,imageReference:BAe,image:$Ae,inlineCode:HAe,linkReference:UAe,link:WAe,listItem:zAe,list:YAe,paragraph:VAe,root:qAe,strong:jAe,table:KAe,tableCell:QAe,tableRow:ZAe,text:eke,thematicBreak:tke,toml:vT,yaml:vT,definition:vT,footnoteDefinition:vT};function vT(){}const nee=-1,a6=0,B2=1,m5=2,l9=3,c9=4,u9=5,h9=6,iee=7,aee=8,tH=typeof self=="object"?self:globalThis,nke=(e,t)=>{const r=(a,o)=>(e.set(o,a),a),n=a=>{if(e.has(a))return e.get(a);const[o,l]=t[a];switch(o){case a6:case nee:return r(l,a);case B2:{const c=r([],a);for(const u of l)c.push(n(u));return c}case m5:{const c=r({},a);for(const[u,h]of l)c[n(u)]=n(h);return c}case l9:return r(new Date(l),a);case c9:{const{source:c,flags:u}=l;return r(new RegExp(c,u),a)}case u9:{const c=r(new Map,a);for(const[u,h]of l)c.set(n(u),n(h));return c}case h9:{const c=r(new Set,a);for(const u of l)c.add(n(u));return c}case iee:{const{name:c,message:u}=l;return r(new tH[c](u),a)}case aee:return r(BigInt(l),a);case"BigInt":return r(Object(BigInt(l)),a);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return r(new DataView(c),l)}}return r(new tH[o](l),a)};return n},rH=e=>nke(new Map,e)(0),Jp="",{toString:ike}={},{keys:ake}=Object,gy=e=>{const t=typeof e;if(t!=="object"||!e)return[a6,t];const r=ike.call(e).slice(8,-1);switch(r){case"Array":return[B2,Jp];case"Object":return[m5,Jp];case"Date":return[l9,Jp];case"RegExp":return[c9,Jp];case"Map":return[u9,Jp];case"Set":return[h9,Jp];case"DataView":return[B2,r]}return r.includes("Array")?[B2,r]:r.includes("Error")?[iee,r]:[m5,r]},yT=([e,t])=>e===a6&&(t==="function"||t==="symbol"),ske=(e,t,r,n)=>{const a=(l,c)=>{const u=n.push(l)-1;return r.set(c,u),u},o=l=>{if(r.has(l))return r.get(l);let[c,u]=gy(l);switch(c){case a6:{let f=l;switch(u){case"bigint":c=aee,f=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return a([nee],l)}return a([c,f],l)}case B2:{if(u){let p=l;return u==="DataView"?p=new Uint8Array(l.buffer):u==="ArrayBuffer"&&(p=new Uint8Array(l)),a([u,[...p]],l)}const f=[],d=a([c,f],l);for(const p of l)f.push(o(p));return d}case m5:{if(u)switch(u){case"BigInt":return a([u,l.toString()],l);case"Boolean":case"Number":case"String":return a([u,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const f=[],d=a([c,f],l);for(const p of ake(l))(e||!yT(gy(l[p])))&&f.push([o(p),o(l[p])]);return d}case l9:return a([c,l.toISOString()],l);case c9:{const{source:f,flags:d}=l;return a([c,{source:f,flags:d}],l)}case u9:{const f=[],d=a([c,f],l);for(const[p,g]of l)(e||!(yT(gy(p))||yT(gy(g))))&&f.push([o(p),o(g)]);return d}case h9:{const f=[],d=a([c,f],l);for(const p of l)(e||!yT(gy(p)))&&f.push(o(p));return d}}const{message:h}=l;return a([c,{name:u,message:h}],l)};return o},nH=(e,{json:t,lossy:r}={})=>{const n=[];return ske(!(t||r),!!t,new Map,n)(e),n},v5=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?rH(nH(e,t)):structuredClone(e):(e,t)=>rH(nH(e,t));function oke(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function lke(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cke(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||oke,n=e.options.footnoteBackLabel||lke,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let u=-1;for(;++u<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[u]);if(!h)continue;const f=e.all(h),d=String(h.identifier).toUpperCase(),p=fv(d.toLowerCase());let g=0;const m=[],y=e.footnoteCounts.get(d);for(;y!==void 0&&++g<=y;){m.length>0&&m.push({type:"text",value:" "});let T=typeof r=="string"?r:r(u,g);typeof T=="string"&&(T={type:"text",value:T}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,g),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const T=b.children[b.children.length-1];T&&T.type==="text"?T.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else f.push(...m);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(f,!0)};e.patch(h,x),c.push(x)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...v5(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const dv=function(e){if(e==null)return dke;if(typeof e=="function")return s6(e);if(typeof e=="object")return Array.isArray(e)?uke(e):hke(e);if(typeof e=="string")return fke(e);throw new Error("Expected function, string, or object as test")};function uke(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=dv(e[r]);return s6(n);function n(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function hke(e){const t=e;return s6(r);function r(n){const a=n;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function fke(e){return s6(t);function t(r){return r&&r.type===e}}function s6(e){return t;function t(r,n,a){return!!(pke(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function dke(){return!0}function pke(e){return e!==null&&typeof e=="object"&&"type"in e}const see=[],gke=!0,LI=!1,oee="skip";function Ux(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const o=dv(a),l=n?-1:1;c(e,void 0,[])();function c(u,h,f){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const g=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=see,m,y,b;if((!t||o(u,h,f[f.length-1]||void 0))&&(g=mke(r(u,f)),g[0]===LI))return g;if("children"in u&&u.children){const x=u;if(x.children&&g[0]!==oee)for(y=(n?x.children.length:-1)+l,b=f.concat(x);y>-1&&y<x.children.length;){const T=x.children[y];if(m=c(T,y,b)(),m[0]===LI)return m;y=typeof m[1]=="number"?m[1]:y+l}}return g}}}function mke(e){return Array.isArray(e)?e:typeof e=="number"?[gke,e]:e==null?see:[e]}function Vd(e,t,r,n){let a,o,l;typeof t=="function"&&typeof r!="function"?(o=void 0,l=t,a=r):(o=t,l=r,a=n),Ux(e,o,c,a);function c(u,h){const f=h[h.length-1],d=f?f.children.indexOf(u):void 0;return l(u,d,f)}}const MI={}.hasOwnProperty,vke={};function yke(e,t){const r=t||vke,n=new Map,a=new Map,o=new Map,l={...rke,...r.handlers},c={all:h,applyData:xke,definitionById:n,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:l,one:u,options:r,patch:bke,wrap:wke};return Vd(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?n:a,p=String(f.identifier).toUpperCase();d.has(p)||d.set(p,f)}}),c;function u(f,d){const p=f.type,g=c.handlers[p];if(MI.call(c.handlers,p)&&g)return g(c,f,d);if(c.options.passThrough&&c.options.passThrough.includes(p)){if("children"in f){const{children:y,...b}=f,x=v5(b);return x.children=c.all(f),x}return v5(f)}return(c.options.unknownHandler||Tke)(c,f,d)}function h(f){const d=[];if("children"in f){const p=f.children;let g=-1;for(;++g<p.length;){const m=c.one(p[g],f);if(m){if(g&&p[g-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=iH(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=iH(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function bke(e,t){e.position&&(t.position=XAe(e))}function xke(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const l="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:l}}r.type==="element"&&o&&Object.assign(r.properties,v5(o)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function Tke(e,t){const r=t.data||{},n="value"in t&&!(MI.call(r,"hProperties")||MI.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wke(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function iH(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function aH(e,t){const r=yke(e,t),n=r.one(e,void 0),a=cke(r),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function Eke(e,t){return e&&"run"in e?async function(r,n){const a=aH(r,{file:n,...t});await e.run(a,n)}:function(r,n){return aH(r,{file:n,...e||t})}}function sH(e){if(e)throw e}var K4=Object.prototype.hasOwnProperty,lee=Object.prototype.toString,oH=Object.defineProperty,lH=Object.getOwnPropertyDescriptor,cH=function(t){return typeof Array.isArray=="function"?Array.isArray(t):lee.call(t)==="[object Array]"},uH=function(t){if(!t||lee.call(t)!=="[object Object]")return!1;var r=K4.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&K4.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var a;for(a in t);return typeof a>"u"||K4.call(t,a)},hH=function(t,r){oH&&r.name==="__proto__"?oH(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},fH=function(t,r){if(r==="__proto__")if(K4.call(t,r)){if(lH)return lH(t,r).value}else return;return t[r]},Ske=function e(){var t,r,n,a,o,l,c=arguments[0],u=1,h=arguments.length,f=!1;for(typeof c=="boolean"&&(f=c,c=arguments[1]||{},u=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});u<h;++u)if(t=arguments[u],t!=null)for(r in t)n=fH(c,r),a=fH(t,r),c!==a&&(f&&a&&(uH(a)||(o=cH(a)))?(o?(o=!1,l=n&&cH(n)?n:[]):l=n&&uH(n)?n:{},hH(c,{name:r,newValue:e(f,l,a)})):typeof a<"u"&&hH(c,{name:r,newValue:a}));return c};const f8=Wo(Ske);function DI(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ake(){const e=[],t={run:r,use:n};return t;function r(...a){let o=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...a);function c(u,...h){const f=e[++o];let d=-1;if(u){l(u);return}for(;++d<a.length;)(h[d]===null||h[d]===void 0)&&(h[d]=a[d]);a=h,f?kke(f,c)(...h):l(null,...h)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function kke(e,t){let r;return n;function n(...l){const c=e.length>l.length;let u;c&&l.push(a);try{u=e.apply(this,l)}catch(h){const f=h;if(c&&r)throw f;return a(f)}c||(u&&u.then&&typeof u.then=="function"?u.then(o,a):u instanceof Error?a(u):o(u))}function a(l,...c){r||(r=!0,t(l,...c))}function o(l){a(null,l)}}class uo extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",o={},l=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof t=="string"?a=t:!o.cause&&t&&(l=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?o.ruleId=n:(o.source=n.slice(0,u),o.ruleId=n.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=c?c.line:void 0,this.name=F2(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}uo.prototype.file="";uo.prototype.name="";uo.prototype.reason="";uo.prototype.message="";uo.prototype.stack="";uo.prototype.column=void 0;uo.prototype.line=void 0;uo.prototype.ancestors=void 0;uo.prototype.cause=void 0;uo.prototype.fatal=void 0;uo.prototype.place=void 0;uo.prototype.ruleId=void 0;uo.prototype.source=void 0;const Bc={basename:Cke,dirname:Ike,extname:Rke,join:Oke,sep:"/"};function Cke(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Wx(e);let r=0,n=-1,a=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){r=a+1;break}}else n<0&&(o=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let l=-1,c=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){r=a+1;break}}else l<0&&(o=!0,l=a+1),c>-1&&(e.codePointAt(a)===t.codePointAt(c--)?c<0&&(n=a):(c=-1,n=l));return r===n?n=l:n<0&&(n=e.length),e.slice(r,n)}function Ike(e){if(Wx(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Rke(e){Wx(e);let t=e.length,r=-1,n=0,a=-1,o=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){n=t+1;break}continue}r<0&&(l=!0,r=t+1),c===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||r<0||o===0||o===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function Oke(...e){let t=-1,r;for(;++t<e.length;)Wx(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":_ke(r)}function _ke(e){Wx(e);const t=e.codePointAt(0)===47;let r=Nke(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Nke(e,t){let r="",n=0,a=-1,o=0,l=-1,c,u;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(a===l-1||o===1))if(a!==l-1&&o===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),a=l,o=0;continue}}else if(r.length>0){r="",n=0,a=l,o=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),n=l-a-1;a=l,o=0}else c===46&&o>-1?o++:o=-1}return r}function Wx(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Lke={cwd:Mke};function Mke(){return"/"}function PI(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Dke(e){if(typeof e=="string")e=new URL(e);else if(!PI(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Pke(e)}function Pke(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const d8=["history","path","basename","stem","extname","dirname"];class Fke{constructor(t){let r;t?PI(t)?r={path:t}:typeof t=="string"||Bke(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Lke.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<d8.length;){const o=d8[n];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let a;for(a in r)d8.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?Bc.basename(this.path):void 0}set basename(t){g8(t,"basename"),p8(t,"basename"),this.path=Bc.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Bc.dirname(this.path):void 0}set dirname(t){dH(this.basename,"dirname"),this.path=Bc.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Bc.extname(this.path):void 0}set extname(t){if(p8(t,"extname"),dH(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bc.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){PI(t)&&(t=Dke(t)),g8(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Bc.basename(this.path,this.extname):void 0}set stem(t){g8(t,"stem"),p8(t,"stem"),this.path=Bc.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new uo(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function p8(e,t){if(e&&e.includes(Bc.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bc.sep+"`")}function g8(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function dH(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Bke(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $ke=function(e){const n=this.constructor.prototype,a=n[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,n),o},Hke={}.hasOwnProperty;class f9 extends $ke{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ake()}copy(){const t=new f9;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(f8(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(y8("data",this.frozen),this.namespace[t]=r,this):Hke.call(this.namespace,t)&&this.namespace[t]||void 0:t?(y8("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=bT(t),n=this.parser||this.Parser;return m8("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),m8("process",this.parser||this.Parser),v8("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(o,l){const c=bT(t),u=n.parse(c);n.run(u,c,function(f,d,p){if(f||!d||!p)return h(f);const g=d,m=n.stringify(g,p);zke(m)?p.value=m:p.result=m,h(f,p)});function h(f,d){f||!d?l(f):o?o(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),m8("processSync",this.parser||this.Parser),v8("processSync",this.compiler||this.Compiler),this.process(t,a),gH("processSync","process",r),n;function a(o,l){r=!0,sH(o),n=l}}run(t,r,n){pH(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?o(void 0,n):new Promise(o);function o(l,c){const u=bT(r);a.run(t,u,h);function h(f,d,p){const g=d||t;f?c(f):l?l(g):n(void 0,g,p)}}}runSync(t,r){let n=!1,a;return this.run(t,r,o),gH("runSync","run",n),a;function o(l,c){sH(l),a=c,n=!0}}stringify(t,r){this.freeze();const n=bT(r),a=this.compiler||this.Compiler;return v8("stringify",a),pH(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(y8("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[f,...d]=h;u(f,d)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(a.settings=f8(!0,a.settings,h.settings))}function c(h){let f=-1;if(h!=null)if(Array.isArray(h))for(;++f<h.length;){const d=h[f];o(d)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,f){let d=-1,p=-1;for(;++d<n.length;)if(n[d][0]===h){p=d;break}if(p===-1)n.push([h,...f]);else if(f.length>0){let[g,...m]=f;const y=n[p][1];DI(y)&&DI(g)&&(g=f8(!0,y,g)),n[p]=[h,g,...m]}}}}const Uke=new f9().freeze();function m8(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function v8(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function y8(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pH(e){if(!DI(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gH(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function bT(e){return Wke(e)?e:new Fke(e)}function Wke(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zke(e){return typeof e=="string"||Gke(e)}function Gke(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Yke=()=>async(e,t)=>{Vd(e,function(r){if(r.type==="containerDirective"||r.type==="leafDirective"||r.type==="textDirective"){if(r.name!=="clip")return;const n=r.data||(r.data={}),a=r.attributes||{},o=a.src,l=a.begin||"",c=a.end||"";r.type==="textDirective"&&t.fail("Unexpected `:clip` text directive, use two colons for a leaf directive",r),o||t.fail("Unexpected missing `src` on `clip` directive",r);const u=r.children.length>0&&r.children[0].hasOwnProperty("value")?r.children[0].value:"",h={type:"element",tagName:"button",properties:{},children:[{type:"text",value:u}]},f={type:"element",tagName:"audio",properties:{src:o,dataClipBegin:l,dataClipEnd:c,preload:"auto",style:"display: none;"},children:[]};n.hName="div",n.hChildren=[f,h],n.hProperties={class:"clip-container"}}})},mH={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function cee(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function Vke(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function qke(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function vH(e){return qke(e)||cee(e)}const jke=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function ag(e,t){const r=t||{},n=typeof r.additional=="string"?r.additional.charCodeAt(0):r.additional,a=[];let o=0,l=-1,c="",u,h;r.position&&("start"in r.position||"indent"in r.position?(h=r.position.indent,u=r.position.start):u=r.position);let f=(u?u.line:0)||1,d=(u?u.column:0)||1,p=m(),g;for(o--;++o<=e.length;)if(g===10&&(d=(h?h[l]:0)||1),g=e.charCodeAt(o),g===38){const x=e.charCodeAt(o+1);if(x===9||x===10||x===12||x===32||x===38||x===60||Number.isNaN(x)||n&&x===n){c+=String.fromCharCode(g),d++;continue}const T=o+1;let w=T,E=T,S;if(x===35){E=++w;const $=e.charCodeAt(E);$===88||$===120?(S="hexadecimal",E=++w):S="decimal"}else S="named";let C="",k="",O="";const I=S==="named"?vH:S==="decimal"?cee:Vke;for(E--;++E<=e.length;){const $=e.charCodeAt(E);if(!I($))break;O+=String.fromCharCode($),S==="named"&&_J.includes(O)&&(C=O,k=Ab(O))}let _=e.charCodeAt(E)===59;if(_){E++;const $=S==="named"?Ab(O):!1;$&&(C=O,k=$)}let R=1+E-T,M="";if(!(!_&&r.nonTerminated===!1))if(!O)S!=="named"&&y(4,R);else if(S==="named"){if(_&&!k)y(5,1);else if(C!==O&&(E=w+C.length,R=1+E-w,_=!1),!_){const $=C?1:3;if(r.attribute){const N=e.charCodeAt(E);N===61?(y($,R),k=""):vH(N)?k="":y($,R)}else y($,R)}M=k}else{_||y(2,R);let $=Number.parseInt(O,S==="hexadecimal"?16:10);if(Xke($))y(7,R),M="�";else if($ in mH)y(6,R),M=mH[$];else{let N="";Kke($)&&y(6,R),$>65535&&($-=65536,N+=String.fromCharCode($>>>10|55296),$=56320|$&1023),M=N+String.fromCharCode($)}}if(M){b(),p=m(),o=E-1,d+=E-T+1,a.push(M);const $=m();$.offset++,r.reference&&r.reference.call(r.referenceContext||void 0,M,{start:p,end:$},e.slice(T-1,E)),p=$}else O=e.slice(T-1,E),c+=O,d+=O.length,o=E-1}else g===10&&(f++,l++,d=0),Number.isNaN(g)?b():(c+=String.fromCharCode(g),d++);return a.join("");function m(){return{line:f,column:d,offset:o+((u?u.offset:0)||0)}}function y(x,T){let w;r.warning&&(w=m(),w.column+=T,w.offset+=T,r.warning.call(r.warningContext||void 0,jke[x],w,x))}function b(){c&&(a.push(c),r.text&&r.text.call(r.textContext||void 0,c,{start:p,end:m()}),c="")}}function Xke(e){return e>=55296&&e<=57343||e>1114111}function Kke(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}const Zke={}.hasOwnProperty,Qke={},yH=/^[^\t\n\r "#'.<=>`}]+$/,Jke=/^[^\t\n\r "'<=>`}]+$/;function e8e(){return{canContainEols:["textDirective"],enter:{directiveContainer:r8e,directiveContainerAttributes:x8,directiveContainerLabel:a8e,directiveLeaf:n8e,directiveLeafAttributes:x8,directiveText:i8e,directiveTextAttributes:x8},exit:{directiveContainer:k8,directiveContainerAttributeClassValue:w8,directiveContainerAttributeIdValue:T8,directiveContainerAttributeName:S8,directiveContainerAttributeValue:E8,directiveContainerAttributes:A8,directiveContainerLabel:s8e,directiveContainerName:b8,directiveLeaf:k8,directiveLeafAttributeClassValue:w8,directiveLeafAttributeIdValue:T8,directiveLeafAttributeName:S8,directiveLeafAttributeValue:E8,directiveLeafAttributes:A8,directiveLeafName:b8,directiveText:k8,directiveTextAttributeClassValue:w8,directiveTextAttributeIdValue:T8,directiveTextAttributeName:S8,directiveTextAttributeValue:E8,directiveTextAttributes:A8,directiveTextName:b8}}}function t8e(e){const t=Qke;if(t.quote!=='"'&&t.quote!=="'"&&t.quote!==null&&t.quote!==void 0)throw new Error("Invalid quote `"+t.quote+"`, expected `'` or `\"`");return r.peek=o8e,{handlers:{containerDirective:r,leafDirective:r,textDirective:r},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function r(o,l,c,u){const h=c.createTracker(u),f=l8e(o),d=c.enter(o.type);let p=h.move(f+(o.name||"")),g;if(o.type==="containerDirective"){const m=(o.children||[])[0];g=bH(m)?m:void 0}else g=o;if(g&&g.children&&g.children.length>0){const m=c.enter("label"),y=`${o.type}Label`,b=c.enter(y);p+=h.move("["),p+=h.move(c.containerPhrasing(g,{...h.current(),before:p,after:"]"})),p+=h.move("]"),b(),m()}if(p+=h.move(n(o,c)),o.type==="containerDirective"){const m=(o.children||[])[0];let y=o;bH(m)&&(y=Object.assign({},o,{children:o.children.slice(1)})),y&&y.children&&y.children.length>0&&(p+=h.move(`
`),p+=h.move(c.containerFlow(y,h.current()))),p+=h.move(`
`+f)}return d(),p}function n(o,l){const c=o.attributes||{},u=[];let h,f,d,p;for(p in c)if(Zke.call(c,p)&&c[p]!==void 0&&c[p]!==null){const g=String(c[p]);if(p==="id")d=t.preferShortcut!==!1&&yH.test(g)?"#"+g:a("id",g,o,l);else if(p==="class"){const m=g.split(/[\t\n\r ]+/g),y=[],b=[];let x=-1;for(;++x<m.length;)(t.preferShortcut!==!1&&yH.test(m[x])?b:y).push(m[x]);h=y.length>0?a("class",y.join(" "),o,l):"",f=b.length>0?"."+b.join("."):""}else u.push(a(p,g,o,l))}return h&&u.unshift(h),f&&u.unshift(f),d&&u.unshift(d),u.length>0?"{"+u.join(" ")+"}":""}function a(o,l,c,u){if(t.collapseEmptyAttributes!==!1&&!l)return o;if(t.preferUnquoted&&Jke.test(l))return o+"="+l;const h=t.quote||u.options.quote||'"',f=h==='"'?"'":'"',d=t.quoteSmart&&mm(l,h)>mm(l,f)?f:h,p=c.type==="textDirective"?[d]:[d,`
`,"\r"];return o+"="+d+LJ(l,{subset:p})+d}}function r8e(e){d9.call(this,"containerDirective",e)}function n8e(e){d9.call(this,"leafDirective",e)}function i8e(e){d9.call(this,"textDirective",e)}function d9(e,t){this.enter({type:e,name:"",attributes:{},children:[]},t)}function b8(e){const t=this.stack[this.stack.length-1];t.type==="containerDirective"||t.type==="leafDirective"||t.type,t.name=this.sliceSerialize(e)}function a8e(e){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},e)}function s8e(e){this.exit(e)}function x8(){this.data.directiveAttributes=[],this.buffer()}function T8(e){this.data.directiveAttributes.push(["id",ag(this.sliceSerialize(e),{attribute:!0})])}function w8(e){this.data.directiveAttributes.push(["class",ag(this.sliceSerialize(e),{attribute:!0})])}function E8(e){const t=this.data.directiveAttributes;t[t.length-1][1]=ag(this.sliceSerialize(e),{attribute:!0})}function S8(e){this.data.directiveAttributes.push([this.sliceSerialize(e),""])}function A8(){const e=this.data.directiveAttributes,t={};let r=-1;for(;++r<e.length;){const a=e[r];a[0]==="class"&&t.class?t.class+=" "+a[1]:t[a[0]]=a[1]}this.data.directiveAttributes=void 0,this.resume();const n=this.stack[this.stack.length-1];n.type==="containerDirective"||n.type==="leafDirective"||n.type,n.attributes=t}function k8(e){this.exit(e)}function o8e(){return":"}function bH(e){return!!(e&&e.type==="paragraph"&&e.data&&e.data.directiveLabel)}function l8e(e){let t=0;return e.type==="containerDirective"?(Ux(e,function(r,n){if(r.type==="containerDirective"){let a=n.length,o=0;for(;a--;)n[a].type==="containerDirective"&&o++;o>t&&(t=o)}}),t+=3):e.type==="leafDirective"?t=2:t=1,":".repeat(t)}function p9(e,t,r,n,a,o,l,c,u,h,f,d,p,g,m){let y,b;return x;function x(P){return e.enter(n),e.enter(a),e.consume(P),e.exit(a),T}function T(P){return P===35?(y=l,w(P)):P===46?(y=c,w(P)):P===58||P===95||Ci(P)?(e.enter(o),e.enter(u),e.consume(P),C):m&&Xt(P)?Ft(e,T,"whitespace")(P):!m&&dr(P)?Qs(e,T)(P):N(P)}function w(P){const F=y+"Marker";return e.enter(o),e.enter(y),e.enter(F),e.consume(P),e.exit(F),E}function E(P){if(P===null||P===34||P===35||P===39||P===46||P===60||P===61||P===62||P===96||P===125||dr(P))return r(P);const F=y+"Value";return e.enter(F),e.consume(P),S}function S(P){if(P===null||P===34||P===39||P===60||P===61||P===62||P===96)return r(P);if(P===35||P===46||P===125||dr(P)){const F=y+"Value";return e.exit(F),e.exit(y),e.exit(o),T(P)}return e.consume(P),S}function C(P){return P===45||P===46||P===58||P===95||yi(P)?(e.consume(P),C):(e.exit(u),m&&Xt(P)?Ft(e,k,"whitespace")(P):!m&&dr(P)?Qs(e,k)(P):k(P))}function k(P){return P===61?(e.enter(h),e.consume(P),e.exit(h),O):(e.exit(o),T(P))}function O(P){return P===null||P===60||P===61||P===62||P===96||P===125||m&&yt(P)?r(P):P===34||P===39?(e.enter(f),e.enter(p),e.consume(P),e.exit(p),b=P,_):m&&Xt(P)?Ft(e,O,"whitespace")(P):!m&&dr(P)?Qs(e,O)(P):(e.enter(d),e.enter(g),e.consume(P),b=void 0,I)}function I(P){return P===null||P===34||P===39||P===60||P===61||P===62||P===96?r(P):P===125||dr(P)?(e.exit(g),e.exit(d),e.exit(o),T(P)):(e.consume(P),I)}function _(P){return P===b?(e.enter(p),e.consume(P),e.exit(p),e.exit(f),e.exit(o),$):(e.enter(d),R(P))}function R(P){return P===b?(e.exit(d),_(P)):P===null?r(P):yt(P)?m?r(P):Qs(e,R)(P):(e.enter(g),e.consume(P),M)}function M(P){return P===b||P===null||yt(P)?(e.exit(g),R(P)):(e.consume(P),M)}function $(P){return P===125||dr(P)?T(P):N(P)}function N(P){return P===125?(e.enter(a),e.consume(P),e.exit(a),e.exit(n),t):r(P)}}function g9(e,t,r,n,a,o,l){let c=0,u=0,h;return f;function f(b){return e.enter(n),e.enter(a),e.consume(b),e.exit(a),d}function d(b){return b===93?(e.enter(a),e.consume(b),e.exit(a),e.exit(n),t):(e.enter(o),p(b))}function p(b){if(b===93&&!u)return y(b);const x=e.enter("chunkText",{contentType:"text",previous:h});return h&&(h.next=x),h=x,g(b)}function g(b){return b===null||c>999||b===91&&++u>32?r(b):b===93&&!u--?(e.exit("chunkText"),y(b)):yt(b)?l?r(b):(e.consume(b),e.exit("chunkText"),p):(e.consume(b),b===92?m:g)}function m(b){return b===91||b===92||b===93?(e.consume(b),c++,g):g(b)}function y(b){return e.exit(o),e.enter(a),e.consume(b),e.exit(a),e.exit(n),t}}function m9(e,t,r,n){const a=this;return o;function o(c){return Ci(c)?(e.enter(n),e.consume(c),l):r(c)}function l(c){return c===45||c===95||yi(c)?(e.consume(c),l):(e.exit(n),a.previous===45||a.previous===95?r(c):t(c))}}const c8e={tokenize:f8e,concrete:!0},u8e={tokenize:d8e,partial:!0},h8e={tokenize:p8e,partial:!0},xT={tokenize:g8e,partial:!0};function f8e(e,t,r){const n=this,a=n.events[n.events.length-1],o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let l=0,c;return u;function u(I){return e.enter("directiveContainer"),e.enter("directiveContainerFence"),e.enter("directiveContainerSequence"),h(I)}function h(I){return I===58?(e.consume(I),l++,h):l<3?r(I):(e.exit("directiveContainerSequence"),m9.call(n,e,f,r,"directiveContainerName")(I))}function f(I){return I===91?e.attempt(u8e,d,d)(I):d(I)}function d(I){return I===123?e.attempt(h8e,p,p)(I):p(I)}function p(I){return Ft(e,g,"whitespace")(I)}function g(I){return e.exit("directiveContainerFence"),I===null?k(I):yt(I)?n.interrupt?t(I):e.attempt(xT,m,k)(I):r(I)}function m(I){return I===null?k(I):yt(I)?e.check(xT,w,k)(I):(e.enter("directiveContainerContent"),y(I))}function y(I){return e.attempt({tokenize:O,partial:!0},C,o?Ft(e,b,"linePrefix",o+1):b)(I)}function b(I){return I===null?C(I):yt(I)?e.check(xT,T,C)(I):T(I)}function x(I){if(I===null){const _=e.exit("chunkDocument");return n.parser.lazy[_.start.line]=!1,C(I)}return yt(I)?e.check(xT,E,S)(I):(e.consume(I),x)}function T(I){const _=e.enter("chunkDocument",{contentType:"document",previous:c});return c&&(c.next=_),c=_,x(I)}function w(I){return e.enter("directiveContainerContent"),y(I)}function E(I){e.consume(I);const _=e.exit("chunkDocument");return n.parser.lazy[_.start.line]=!1,y}function S(I){const _=e.exit("chunkDocument");return n.parser.lazy[_.start.line]=!1,C(I)}function C(I){return e.exit("directiveContainerContent"),k(I)}function k(I){return e.exit("directiveContainer"),t(I)}function O(I,_,R){let M=0;return Ft(I,$,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function $(F){return I.enter("directiveContainerFence"),I.enter("directiveContainerSequence"),N(F)}function N(F){return F===58?(I.consume(F),M++,N):M<l?R(F):(I.exit("directiveContainerSequence"),Ft(I,P,"whitespace")(F))}function P(F){return F===null||yt(F)?(I.exit("directiveContainerFence"),_(F)):R(F)}}}function d8e(e,t,r){return g9(e,t,r,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function p8e(e,t,r){return p9(e,t,r,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function g8e(e,t,r){const n=this;return a;function a(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const m8e={tokenize:b8e},v8e={tokenize:x8e,partial:!0},y8e={tokenize:T8e,partial:!0};function b8e(e,t,r){const n=this;return a;function a(f){return e.enter("directiveLeaf"),e.enter("directiveLeafSequence"),e.consume(f),o}function o(f){return f===58?(e.consume(f),e.exit("directiveLeafSequence"),m9.call(n,e,l,r,"directiveLeafName")):r(f)}function l(f){return f===91?e.attempt(v8e,c,c)(f):c(f)}function c(f){return f===123?e.attempt(y8e,u,u)(f):u(f)}function u(f){return Ft(e,h,"whitespace")(f)}function h(f){return f===null||yt(f)?(e.exit("directiveLeaf"),t(f)):r(f)}}function x8e(e,t,r){return g9(e,t,r,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function T8e(e,t,r){return p9(e,t,r,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const w8e={tokenize:k8e,previous:A8e},E8e={tokenize:C8e,partial:!0},S8e={tokenize:I8e,partial:!0};function A8e(e){return e!==58||this.events[this.events.length-1][1].type==="characterEscape"}function k8e(e,t,r){const n=this;return a;function a(u){return e.enter("directiveText"),e.enter("directiveTextMarker"),e.consume(u),e.exit("directiveTextMarker"),m9.call(n,e,o,r,"directiveTextName")}function o(u){return u===58?r(u):u===91?e.attempt(E8e,l,l)(u):l(u)}function l(u){return u===123?e.attempt(S8e,c,c)(u):c(u)}function c(u){return e.exit("directiveText"),t(u)}}function C8e(e,t,r){return g9(e,t,r,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function I8e(e,t,r){return p9(e,t,r,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function R8e(){return{text:{58:w8e},flow:{58:[c8e,m8e]}}}function O8e(){const t=this.data(),r=t.micromarkExtensions||(t.micromarkExtensions=[]),n=t.fromMarkdownExtensions||(t.fromMarkdownExtensions=[]),a=t.toMarkdownExtensions||(t.toMarkdownExtensions=[]);r.push(R8e()),n.push(e8e()),a.push(t8e())}const v9=function(e,t,r,n,a){const o=xc(t);return uee(e)?o.call(a,e,r,n):!1},xc=function(e){if(e==null)return L8e;if(typeof e=="string")return N8e(e);if(typeof e=="object")return _8e(e);if(typeof e=="function")return y9(e);throw new Error("Expected function, string, or array as `test`")};function _8e(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=xc(e[r]);return y9(n);function n(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function N8e(e){return y9(t);function t(r){return r.tagName===e}}function y9(e){return t;function t(r,n,a){return!!(uee(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function L8e(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function uee(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const b9=xc(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),M8e=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],D8e=["button","input","select","textarea"],P8e=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],F8e={},x9=dv(["comment","doctype"]);function B8e(e,t){hee(e,{collapse:Y8e((t||F8e).newlines?z8e:G8e),whitespace:"normal"})}function hee(e,t){if("children"in e){const r={...t};return(e.type==="root"||pee(e))&&(r.before=!0,r.after=!0),r.whitespace=V8e(e,t),H8e(e,r)}if(e.type==="text"){if(t.whitespace==="normal")return $8e(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:x9(e),stripAtStart:!1,remove:!1}}function $8e(e,t){const r=t.collapse(e.value),n={ignore:!1,stripAtStart:!1,remove:!1};let a=0,o=r.length;return t.before&&xH(r.charAt(0))&&a++,a!==o&&xH(r.charAt(o-1))&&(t.after?o--:n.stripAtStart=!0),a===o?n.remove=!0:e.value=r.slice(a,o),n}function H8e(e,t){let r=t.before;const n=t.after,a=e.children;let o=a.length,l=-1;for(;++l<o;){const c=hee(a[l],{...t,after:fee(a,l,n),before:r});c.remove?(a.splice(l,1),l--,o--):c.ignore||(r=c.stripAtStart),dee(a[l])&&(r=!1)}return{ignore:!1,stripAtStart:!!(r||n),remove:!1}}function fee(e,t,r){for(;++t<e.length;){const n=e[t];let a=U8e(n);if(a===void 0&&"children"in n&&!W8e(n)&&(a=fee(n.children,-1)),typeof a=="boolean")return a}return r}function U8e(e){if(e.type==="element"){if(dee(e))return!1;if(pee(e))return!0}else if(e.type==="text"){if(!Dd(e))return!1}else if(!x9(e))return!1}function dee(e){return b9(e)||v9(e,D8e)}function pee(e){return v9(e,M8e)}function W8e(e){return!!(e.type==="element"&&e.properties.hidden)||x9(e)||v9(e,P8e)}function xH(e){return e===" "||e===`
`}function z8e(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function G8e(){return" "}function Y8e(e){return t;function t(r){return String(r).replace(/[\t\n\v\f\r ]+/g,e)}}function V8e(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}const q8e={}.hasOwnProperty;function j8e(e,t){const r=e.type==="element"&&q8e.call(e.properties,t)&&e.properties[t];return r!=null&&r!==!1}const X8e=new Set(["pingback","prefetch","stylesheet"]);function K8e(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let r=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++r<t.length;)if(!X8e.has(String(t[r])))return!1;return!0}const Z8e=xc(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),Q8e=xc("meta");function J8e(e){return!!(e.type==="text"||Z8e(e)||b9(e)||K8e(e)||Q8e(e)&&j8e(e,"itemProp"))}const eCe=["pre","script","style","textarea"],tCe={};function rCe(e,t){const r=t||tCe,n={blanks:r.blanks||[],head:!1,indentInitial:r.indentInitial!==!1,indent:typeof r.indent=="number"?" ".repeat(r.indent):typeof r.indent=="string"?r.indent:"  "};B8e(e,{newlines:!0}),Ux(e,a);function a(l,c){if(!("children"in l))return;if(l.type==="element"&&l.tagName==="head"&&(n.head=!0),n.head&&l.type==="element"&&l.tagName==="body"&&(n.head=!1),l.type==="element"&&eCe.includes(l.tagName))return oee;if(l.children.length===0||!C8(n,l))return;let u=c.length;n.indentInitial||u--;let h=!1;for(const p of l.children)(p.type==="comment"||p.type==="text")&&(p.value.includes(`
`)&&(h=!0),p.value=p.value.replace(/ *\n/g,"$&"+n.indent.repeat(u)));const f=[];let d;for(const p of l.children)(C8(n,p)||h&&!d)&&(o(f,u,p),h=!0),d=p,f.push(p);d&&(h||C8(n,d))&&(Dd(d)&&(f.pop(),d=f[f.length-1]),o(f,u-1)),l.children=f}function o(l,c,u){const h=l[l.length-1],f=h&&Dd(h)?l[l.length-2]:h,d=(TH(n,f)&&TH(n,u)?`

`:`
`)+n.indent.repeat(Math.max(c,0));h&&h.type==="text"?h.value=Dd(h)?d:h.value+d:l.push({type:"text",value:d})}}function TH(e,t){return!!(t&&t.type==="element"&&e.blanks.length>0&&e.blanks.includes(t.tagName))}function C8(e,t){return t.type==="root"||(t.type==="element"?e.head||t.tagName==="script"||b9(t)||!J8e(t):!1)}function nCe(e){return function(t){rCe(t,e)}}const iCe=/\d/,aCe=["-","_","/","."];function sCe(e=""){if(!iCe.test(e))return e!==e.toLowerCase()}function oCe(e,t){const r=aCe,n=[];if(!e||typeof e!="string")return n;let a="",o,l;for(const c of e){const u=r.includes(c);if(u===!0){n.push(a),a="",o=void 0;continue}const h=sCe(c);if(l===!1){if(o===!1&&h===!0){n.push(a),a=c,o=h;continue}if(o===!0&&h===!1&&a.length>1){const f=a.at(-1);n.push(a.slice(0,Math.max(0,a.length-1))),a=f+c,o=h;continue}}a+=c,o=h,l=u}return n.push(a),n}function FI(e,t){return e?(Array.isArray(e)?e:oCe(e)).map(r=>r.toLowerCase()).join("-"):""}const T9=Symbol.for("yaml.alias"),BI=Symbol.for("yaml.document"),M0=Symbol.for("yaml.map"),gee=Symbol.for("yaml.pair"),fu=Symbol.for("yaml.scalar"),pv=Symbol.for("yaml.seq"),bl=Symbol.for("yaml.node.type"),Cp=e=>!!e&&typeof e=="object"&&e[bl]===T9,Ip=e=>!!e&&typeof e=="object"&&e[bl]===BI,gv=e=>!!e&&typeof e=="object"&&e[bl]===M0,Pn=e=>!!e&&typeof e=="object"&&e[bl]===gee,fn=e=>!!e&&typeof e=="object"&&e[bl]===fu,mv=e=>!!e&&typeof e=="object"&&e[bl]===pv;function Yn(e){if(e&&typeof e=="object")switch(e[bl]){case M0:case pv:return!0}return!1}function jn(e){if(e&&typeof e=="object")switch(e[bl]){case T9:case M0:case fu:case pv:return!0}return!1}const lCe=e=>(fn(e)||Yn(e))&&!!e.anchor,Xs=Symbol("break visit"),mee=Symbol("skip children"),ou=Symbol("remove node");function G0(e,t){const r=vee(t);Ip(e)?_1(null,e.contents,r,Object.freeze([e]))===ou&&(e.contents=null):_1(null,e,r,Object.freeze([]))}G0.BREAK=Xs;G0.SKIP=mee;G0.REMOVE=ou;function _1(e,t,r,n){const a=yee(e,t,r,n);if(jn(a)||Pn(a))return bee(e,n,a),_1(e,a,r,n);if(typeof a!="symbol"){if(Yn(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const l=_1(o,t.items[o],r,n);if(typeof l=="number")o=l-1;else{if(l===Xs)return Xs;l===ou&&(t.items.splice(o,1),o-=1)}}}else if(Pn(t)){n=Object.freeze(n.concat(t));const o=_1("key",t.key,r,n);if(o===Xs)return Xs;o===ou&&(t.key=null);const l=_1("value",t.value,r,n);if(l===Xs)return Xs;l===ou&&(t.value=null)}}return a}async function o6(e,t){const r=vee(t);Ip(e)?await N1(null,e.contents,r,Object.freeze([e]))===ou&&(e.contents=null):await N1(null,e,r,Object.freeze([]))}o6.BREAK=Xs;o6.SKIP=mee;o6.REMOVE=ou;async function N1(e,t,r,n){const a=await yee(e,t,r,n);if(jn(a)||Pn(a))return bee(e,n,a),N1(e,a,r,n);if(typeof a!="symbol"){if(Yn(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){const l=await N1(o,t.items[o],r,n);if(typeof l=="number")o=l-1;else{if(l===Xs)return Xs;l===ou&&(t.items.splice(o,1),o-=1)}}}else if(Pn(t)){n=Object.freeze(n.concat(t));const o=await N1("key",t.key,r,n);if(o===Xs)return Xs;o===ou&&(t.key=null);const l=await N1("value",t.value,r,n);if(l===Xs)return Xs;l===ou&&(t.value=null)}}return a}function vee(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function yee(e,t,r,n){var a,o,l,c,u;if(typeof r=="function")return r(e,t,n);if(gv(t))return(a=r.Map)==null?void 0:a.call(r,e,t,n);if(mv(t))return(o=r.Seq)==null?void 0:o.call(r,e,t,n);if(Pn(t))return(l=r.Pair)==null?void 0:l.call(r,e,t,n);if(fn(t))return(c=r.Scalar)==null?void 0:c.call(r,e,t,n);if(Cp(t))return(u=r.Alias)==null?void 0:u.call(r,e,t,n)}function bee(e,t,r){const n=t[t.length-1];if(Yn(n))n.items[e]=r;else if(Pn(n))e==="key"?n.key=r:n.value=r;else if(Ip(n))n.contents=r;else{const a=Cp(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${a} parent`)}}const cCe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},uCe=e=>e.replace(/[!,[\]{}]/g,t=>cCe[t]);class ys{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ys.defaultYaml,t),this.tags=Object.assign({},ys.defaultTags,r)}clone(){const t=new ys(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new ys(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ys.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ys.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:ys.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ys.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),a=n.shift();switch(a){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[o,l]=n;return this.tags[o]=l,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;const[o]=n;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const l=/^\d+\.\d+$/.test(o);return r(6,`Unsupported YAML version ${o}`,l),!1}}default:return r(0,`Unknown directive ${a}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const l=t.slice(2,-1);return l==="!"||l==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),l)}const[,n,a]=t.match(/^(.*!)([^!]*)$/s);a||r(`The ${t} tag has no suffix`);const o=this.tags[n];if(o)try{return o+decodeURIComponent(a)}catch(l){return r(String(l)),null}return n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+uCe(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let a;if(t&&n.length>0&&jn(t.contents)){const o={};G0(t.contents,(l,c)=>{jn(c)&&c.tag&&(o[c.tag]=!0)}),a=Object.keys(o)}else a=[];for(const[o,l]of n)o==="!!"&&l==="tag:yaml.org,2002:"||(!t||a.some(c=>c.startsWith(l)))&&r.push(`%TAG ${o} ${l}`);return r.join(`
`)}}ys.defaultYaml={explicit:!1,version:"1.2"};ys.defaultTags={"!!":"tag:yaml.org,2002:"};function xee(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function Tee(e){const t=new Set;return G0(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function wee(e,t){for(let r=1;;++r){const n=`${e}${r}`;if(!t.has(n))return n}}function hCe(e,t){const r=[],n=new Map;let a=null;return{onAnchor:o=>{r.push(o),a||(a=Tee(e));const l=wee(t,a);return a.add(l),l},setAnchors:()=>{for(const o of r){const l=n.get(o);if(typeof l=="object"&&l.anchor&&(fn(l.node)||Yn(l.node)))l.node.anchor=l.anchor;else{const c=new Error("Failed to resolve repeated object (this should not happen)");throw c.source=o,c}}},sourceObjects:n}}function L1(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let a=0,o=n.length;a<o;++a){const l=n[a],c=L1(e,n,String(a),l);c===void 0?delete n[a]:c!==l&&(n[a]=c)}else if(n instanceof Map)for(const a of Array.from(n.keys())){const o=n.get(a),l=L1(e,n,a,o);l===void 0?n.delete(a):l!==o&&n.set(a,l)}else if(n instanceof Set)for(const a of Array.from(n)){const o=L1(e,n,a,a);o===void 0?n.delete(a):o!==a&&(n.delete(a),n.add(o))}else for(const[a,o]of Object.entries(n)){const l=L1(e,n,a,o);l===void 0?delete n[a]:l!==o&&(n[a]=l)}return e.call(t,r,n)}function ml(e,t,r){if(Array.isArray(e))return e.map((n,a)=>ml(n,String(a),r));if(e&&typeof e.toJSON=="function"){if(!r||!lCe(e))return e.toJSON(t,r);const n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};const a=e.toJSON(t,r);return r.onCreate&&r.onCreate(a),a}return typeof e=="bigint"&&!(r!=null&&r.keep)?Number(e):e}class w9{constructor(t){Object.defineProperty(this,bl,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:a,reviver:o}={}){if(!Ip(t))throw new TypeError("A document argument is required");const l={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},c=ml(this,"",l);if(typeof a=="function")for(const{count:u,res:h}of l.anchors.values())a(h,u);return typeof o=="function"?L1(o,{"":c},"",c):c}}class l6 extends w9{constructor(t){super(T9),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return G0(t,{Node:(n,a)=>{if(a===this)return G0.BREAK;a.anchor===this.source&&(r=a)}}),r}toJSON(t,r){if(!r)return{source:this.source};const{anchors:n,doc:a,maxAliasCount:o}=r,l=this.resolve(a);if(!l){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let c=n.get(l);if(c||(ml(l,null,r),c=n.get(l)),!c||c.res===void 0){const u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(o>=0&&(c.count+=1,c.aliasCount===0&&(c.aliasCount=Z4(a,l,n)),c.count*c.aliasCount>o)){const u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return c.res}toString(t,r,n){const a=`*${this.source}`;if(t){if(xee(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${a} `}return a}}function Z4(e,t,r){if(Cp(t)){const n=t.resolve(e),a=r&&n&&r.get(n);return a?a.count*a.aliasCount:0}else if(Yn(t)){let n=0;for(const a of t.items){const o=Z4(e,a,r);o>n&&(n=o)}return n}else if(Pn(t)){const n=Z4(e,t.key,r),a=Z4(e,t.value,r);return Math.max(n,a)}return 1}const Eee=e=>!e||typeof e!="function"&&typeof e!="object";class hr extends w9{constructor(t){super(fu),this.value=t}toJSON(t,r){return r!=null&&r.keep?this.value:ml(this.value,t,r)}toString(){return String(this.value)}}hr.BLOCK_FOLDED="BLOCK_FOLDED";hr.BLOCK_LITERAL="BLOCK_LITERAL";hr.PLAIN="PLAIN";hr.QUOTE_DOUBLE="QUOTE_DOUBLE";hr.QUOTE_SINGLE="QUOTE_SINGLE";const fCe="tag:yaml.org,2002:";function dCe(e,t,r){if(t){const n=r.filter(o=>o.tag===t),a=n.find(o=>!o.format)??n[0];if(!a)throw new Error(`Tag ${t} not found`);return a}return r.find(n=>{var a;return((a=n.identify)==null?void 0:a.call(n,e))&&!n.format})}function kb(e,t,r){var d,p,g;if(Ip(e)&&(e=e.contents),jn(e))return e;if(Pn(e)){const m=(p=(d=r.schema[M0]).createNode)==null?void 0:p.call(d,r.schema,null,r);return m.items.push(e),m}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:a,onTagObj:o,schema:l,sourceObjects:c}=r;let u;if(n&&e&&typeof e=="object"){if(u=c.get(e),u)return u.anchor||(u.anchor=a(e)),new l6(u.anchor);u={anchor:null,node:null},c.set(e,u)}t!=null&&t.startsWith("!!")&&(t=fCe+t.slice(2));let h=dCe(e,t,l.tags);if(!h){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const m=new hr(e);return u&&(u.node=m),m}h=e instanceof Map?l[M0]:Symbol.iterator in Object(e)?l[pv]:l[M0]}o&&(o(h),delete r.onTagObj);const f=h!=null&&h.createNode?h.createNode(r.schema,e,r):typeof((g=h==null?void 0:h.nodeClass)==null?void 0:g.from)=="function"?h.nodeClass.from(r.schema,e,r):new hr(e);return t?f.tag=t:h.default||(f.tag=h.tag),u&&(u.node=f),f}function y5(e,t,r){let n=r;for(let a=t.length-1;a>=0;--a){const o=t[a];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const l=[];l[o]=n,n=l}else n=new Map([[o,n]])}return kb(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const e2=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;let See=class extends w9{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){const r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>jn(n)||Pn(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(e2(t))this.add(r);else{const[n,...a]=t,o=this.get(n,!0);if(Yn(o))o.addIn(a,r);else if(o===void 0&&this.schema)this.set(n,y5(this.schema,a,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${a}`)}}deleteIn(t){const[r,...n]=t;if(n.length===0)return this.delete(r);const a=this.get(r,!0);if(Yn(a))return a.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){const[n,...a]=t,o=this.get(n,!0);return a.length===0?!r&&fn(o)?o.value:o:Yn(o)?o.getIn(a,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!Pn(r))return!1;const n=r.value;return n==null||t&&fn(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){const[r,...n]=t;if(n.length===0)return this.has(r);const a=this.get(r,!0);return Yn(a)?a.hasIn(n):!1}setIn(t,r){const[n,...a]=t;if(a.length===0)this.set(n,r);else{const o=this.get(n,!0);if(Yn(o))o.setIn(a,r);else if(o===void 0&&this.schema)this.set(n,y5(this.schema,a,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${a}`)}}};const pCe=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function rh(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const bd=(e,t,r)=>e.endsWith(`
`)?rh(r,t):r.includes(`
`)?`
`+rh(r,t):(e.endsWith(" ")?"":" ")+r,Aee="flow",$I="block",Q4="quoted";function c6(e,t,r="flow",{indentAtStart:n,lineWidth:a=80,minContentWidth:o=20,onFold:l,onOverflow:c}={}){if(!a||a<0)return e;a<o&&(o=0);const u=Math.max(1+o,1+a-t.length);if(e.length<=u)return e;const h=[],f={};let d=a-t.length;typeof n=="number"&&(n>a-Math.max(2,o)?h.push(0):d=a-n);let p,g,m=!1,y=-1,b=-1,x=-1;r===$I&&(y=wH(e,y,t.length),y!==-1&&(d=y+u));for(let w;w=e[y+=1];){if(r===Q4&&w==="\\"){switch(b=y,e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}x=y}if(w===`
`)r===$I&&(y=wH(e,y,t.length)),d=y+t.length+u,p=void 0;else{if(w===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){const E=e[y+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(p=y)}if(y>=d)if(p)h.push(p),d=p+u,p=void 0;else if(r===Q4){for(;g===" "||g==="	";)g=w,w=e[y+=1],m=!0;const E=y>x+1?y-2:b-1;if(f[E])return e;h.push(E),f[E]=!0,d=E+u,p=void 0}else m=!0}g=w}if(m&&c&&c(),h.length===0)return e;l&&l();let T=e.slice(0,h[0]);for(let w=0;w<h.length;++w){const E=h[w],S=h[w+1]||e.length;E===0?T=`
${t}${e.slice(0,S)}`:(r===Q4&&f[E]&&(T+=`${e[E]}\\`),T+=`
${t}${e.slice(E+1,S)}`)}return T}function wH(e,t,r){let n=t,a=t+1,o=e[a];for(;o===" "||o==="	";)if(t<a+r)o=e[++t];else{do o=e[++t];while(o&&o!==`
`);n=t,a=t+1,o=e[a]}return n}const u6=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),h6=e=>/^(%|---|\.\.\.)/m.test(e);function gCe(e,t,r){if(!t||t<0)return!1;const n=t-r,a=e.length;if(a<=n)return!1;for(let o=0,l=0;o<a;++o)if(e[o]===`
`){if(o-l>n)return!0;if(l=o+1,a-l<=n)return!1}return!0}function $2(e,t){const r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;const{implicitKey:n}=t,a=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(h6(e)?"  ":"");let l="",c=0;for(let u=0,h=r[u];h;h=r[++u])if(h===" "&&r[u+1]==="\\"&&r[u+2]==="n"&&(l+=r.slice(c,u)+"\\ ",u+=1,c=u,h="\\"),h==="\\")switch(r[u+1]){case"u":{l+=r.slice(c,u);const f=r.substr(u+2,4);switch(f){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:f.substr(0,2)==="00"?l+="\\x"+f.substr(2):l+=r.substr(u,6)}u+=5,c=u+1}break;case"n":if(n||r[u+2]==='"'||r.length<a)u+=1;else{for(l+=r.slice(c,u)+`

`;r[u+2]==="\\"&&r[u+3]==="n"&&r[u+4]!=='"';)l+=`
`,u+=2;l+=o,r[u+2]===" "&&(l+="\\"),u+=1,c=u+1}break;default:u+=1}return l=c?l+r.slice(c):r,n?l:c6(l,o,Q4,u6(t,!1))}function HI(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return $2(e,t);const r=t.indent||(h6(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:c6(n,r,Aee,u6(t,!1))}function M1(e,t){const{singleQuote:r}=t.options;let n;if(r===!1)n=$2;else{const a=e.includes('"'),o=e.includes("'");a&&!o?n=HI:o&&!a?n=$2:n=r?HI:$2}return n(e,t)}let UI;try{UI=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{UI=/\n+(?!\n|$)/g}function J4({comment:e,type:t,value:r},n,a,o){const{blockQuote:l,commentString:c,lineWidth:u}=n.options;if(!l||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return M1(r,n);const h=n.indent||(n.forceBlockIndent||h6(r)?"  ":""),f=l==="literal"?!0:l==="folded"||t===hr.BLOCK_FOLDED?!1:t===hr.BLOCK_LITERAL?!0:!gCe(r,u,h.length);if(!r)return f?`|
`:`>
`;let d,p;for(p=r.length;p>0;--p){const S=r[p-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let g=r.substring(p);const m=g.indexOf(`
`);m===-1?d="-":r===g||m!==g.length-1?(d="+",o&&o()):d="",g&&(r=r.slice(0,-g.length),g[g.length-1]===`
`&&(g=g.slice(0,-1)),g=g.replace(UI,`$&${h}`));let y=!1,b,x=-1;for(b=0;b<r.length;++b){const S=r[b];if(S===" ")y=!0;else if(S===`
`)x=b;else break}let T=r.substring(0,x<b?x+1:b);T&&(r=r.substring(T.length),T=T.replace(/\n+/g,`$&${h}`));let E=(y?h?"2":"1":"")+d;if(e&&(E+=" "+c(e.replace(/ ?[\r\n]+/g," ")),a&&a()),!f){const S=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${h}`);let C=!1;const k=u6(n,!0);l!=="folded"&&t!==hr.BLOCK_FOLDED&&(k.onOverflow=()=>{C=!0});const O=c6(`${T}${S}${g}`,h,$I,k);if(!C)return`>${E}
${h}${O}`}return r=r.replace(/\n+/g,`$&${h}`),`|${E}
${h}${T}${r}${g}`}function mCe(e,t,r,n){const{type:a,value:o}=e,{actualString:l,implicitKey:c,indent:u,indentStep:h,inFlow:f}=t;if(c&&o.includes(`
`)||f&&/[[\]{},]/.test(o))return M1(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return c||f||!o.includes(`
`)?M1(o,t):J4(e,t,r,n);if(!c&&!f&&a!==hr.PLAIN&&o.includes(`
`))return J4(e,t,r,n);if(h6(o)){if(u==="")return t.forceBlockIndent=!0,J4(e,t,r,n);if(c&&u===h)return M1(o,t)}const d=o.replace(/\n+/g,`$&
${u}`);if(l){const p=y=>{var b;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((b=y.test)==null?void 0:b.test(d))},{compat:g,tags:m}=t.doc.schema;if(m.some(p)||g!=null&&g.some(p))return M1(o,t)}return c?d:c6(d,u,Aee,u6(t,!1))}function zx(e,t,r,n){const{implicitKey:a,inFlow:o}=t,l=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:c}=e;c!==hr.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(l.value)&&(c=hr.QUOTE_DOUBLE);const u=f=>{switch(f){case hr.BLOCK_FOLDED:case hr.BLOCK_LITERAL:return a||o?M1(l.value,t):J4(l,t,r,n);case hr.QUOTE_DOUBLE:return $2(l.value,t);case hr.QUOTE_SINGLE:return HI(l.value,t);case hr.PLAIN:return mCe(l,t,r,n);default:return null}};let h=u(c);if(h===null){const{defaultKeyType:f,defaultStringType:d}=t.options,p=a&&f||d;if(h=u(p),h===null)throw new Error(`Unsupported default string type ${p}`)}return h}function kee(e,t){const r=Object.assign({blockQuote:!0,commentString:pCe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function vCe(e,t){var a;if(t.tag){const o=e.filter(l=>l.tag===t.tag);if(o.length>0)return o.find(l=>l.format===t.format)??o[0]}let r,n;if(fn(t)){n=t.value;let o=e.filter(l=>{var c;return(c=l.identify)==null?void 0:c.call(l,n)});if(o.length>1){const l=o.filter(c=>c.test);l.length>0&&(o=l)}r=o.find(l=>l.format===t.format)??o.find(l=>!l.format)}else n=t,r=e.find(o=>o.nodeClass&&n instanceof o.nodeClass);if(!r){const o=((a=n==null?void 0:n.constructor)==null?void 0:a.name)??typeof n;throw new Error(`Tag not resolved for ${o} value`)}return r}function yCe(e,t,{anchors:r,doc:n}){if(!n.directives)return"";const a=[],o=(fn(e)||Yn(e))&&e.anchor;o&&xee(o)&&(r.add(o),a.push(`&${o}`));const l=e.tag?e.tag:t.default?null:t.tag;return l&&a.push(n.directives.tagString(l)),a.join(" ")}function ym(e,t,r,n){var u;if(Pn(e))return e.toString(t,r,n);if(Cp(e)){if(t.doc.directives)return e.toString(t);if((u=t.resolvedAliases)!=null&&u.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a;const o=jn(e)?e:t.doc.createNode(e,{onTagObj:h=>a=h});a||(a=vCe(t.doc.schema.tags,o));const l=yCe(o,a,t);l.length>0&&(t.indentAtStart=(t.indentAtStart??0)+l.length+1);const c=typeof a.stringify=="function"?a.stringify(o,t,r,n):fn(o)?zx(o,t,r,n):o.toString(t,r,n);return l?fn(o)||c[0]==="{"||c[0]==="["?`${l} ${c}`:`${l}
${t.indent}${c}`:c}function bCe({key:e,value:t},r,n,a){const{allNullValues:o,doc:l,indent:c,indentStep:u,options:{commentString:h,indentSeq:f,simpleKeys:d}}=r;let p=jn(e)&&e.comment||null;if(d){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(Yn(e)||!jn(e)&&typeof e=="object"){const k="With simple keys, collection cannot be used as a key value";throw new Error(k)}}let g=!d&&(!e||p&&t==null&&!r.inFlow||Yn(e)||(fn(e)?e.type===hr.BLOCK_FOLDED||e.type===hr.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!g&&(d||!o),indent:c+u});let m=!1,y=!1,b=ym(e,r,()=>m=!0,()=>y=!0);if(!g&&!r.inFlow&&b.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(r.inFlow){if(o||t==null)return m&&n&&n(),b===""?"?":g?`? ${b}`:b}else if(o&&!d||t==null&&g)return b=`? ${b}`,p&&!m?b+=bd(b,r.indent,h(p)):y&&a&&a(),b;m&&(p=null),g?(p&&(b+=bd(b,r.indent,h(p))),b=`? ${b}
${c}:`):(b=`${b}:`,p&&(b+=bd(b,r.indent,h(p))));let x,T,w;jn(t)?(x=!!t.spaceBefore,T=t.commentBefore,w=t.comment):(x=!1,T=null,w=null,t&&typeof t=="object"&&(t=l.createNode(t))),r.implicitKey=!1,!g&&!p&&fn(t)&&(r.indentAtStart=b.length+1),y=!1,!f&&u.length>=2&&!r.inFlow&&!g&&mv(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let E=!1;const S=ym(t,r,()=>E=!0,()=>y=!0);let C=" ";if(p||x||T){if(C=x?`
`:"",T){const k=h(T);C+=`
${rh(k,r.indent)}`}S===""&&!r.inFlow?C===`
`&&(C=`

`):C+=`
${r.indent}`}else if(!g&&Yn(t)){const k=S[0],O=S.indexOf(`
`),I=O!==-1,_=r.inFlow??t.flow??t.items.length===0;if(I||!_){let R=!1;if(I&&(k==="&"||k==="!")){let M=S.indexOf(" ");k==="&"&&M!==-1&&M<O&&S[M+1]==="!"&&(M=S.indexOf(" ",M+1)),(M===-1||O<M)&&(R=!0)}R||(C=`
${r.indent}`)}}else(S===""||S[0]===`
`)&&(C="");return b+=C+S,r.inFlow?E&&n&&n():w&&!E?b+=bd(b,r.indent,h(w)):y&&a&&a(),b}function Cee(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const TT="<<",fh={identify:e=>e===TT||typeof e=="symbol"&&e.description===TT,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new hr(Symbol(TT)),{addToJSMap:Iee}),stringify:()=>TT},xCe=(e,t)=>(fh.identify(t)||fn(t)&&(!t.type||t.type===hr.PLAIN)&&fh.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(r=>r.tag===fh.tag&&r.default));function Iee(e,t,r){if(r=e&&Cp(r)?r.resolve(e.doc):r,mv(r))for(const n of r.items)I8(e,t,n);else if(Array.isArray(r))for(const n of r)I8(e,t,n);else I8(e,t,r)}function I8(e,t,r){const n=e&&Cp(r)?r.resolve(e.doc):r;if(!gv(n))throw new Error("Merge sources must be maps or map aliases");const a=n.toJSON(null,e,Map);for(const[o,l]of a)t instanceof Map?t.has(o)||t.set(o,l):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0});return t}function Ree(e,t,{key:r,value:n}){if(jn(r)&&r.addToJSMap)r.addToJSMap(e,t,n);else if(xCe(e,r))Iee(e,t,n);else{const a=ml(r,"",e);if(t instanceof Map)t.set(a,ml(n,a,e));else if(t instanceof Set)t.add(a);else{const o=TCe(r,a,e),l=ml(n,o,e);o in t?Object.defineProperty(t,o,{value:l,writable:!0,enumerable:!0,configurable:!0}):t[o]=l}}return t}function TCe(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(jn(e)&&(r!=null&&r.doc)){const n=kee(r.doc,{});n.anchors=new Set;for(const o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;const a=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(a);o.length>40&&(o=o.substring(0,36)+'..."'),Cee(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return a}return JSON.stringify(t)}function E9(e,t,r){const n=kb(e,void 0,r),a=kb(t,void 0,r);return new Za(n,a)}class Za{constructor(t,r=null){Object.defineProperty(this,bl,{value:gee}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return jn(r)&&(r=r.clone(t)),jn(n)&&(n=n.clone(t)),new Za(r,n)}toJSON(t,r){const n=r!=null&&r.mapAsMap?new Map:{};return Ree(r,n,this)}toString(t,r,n){return t!=null&&t.doc?bCe(this,t,r,n):JSON.stringify(this)}}function Oee(e,t,r){return(t.inFlow??e.flow?ECe:wCe)(e,t,r)}function wCe({comment:e,items:t},r,{blockItemPrefix:n,flowChars:a,itemIndent:o,onChompKeep:l,onComment:c}){const{indent:u,options:{commentString:h}}=r,f=Object.assign({},r,{indent:o,type:null});let d=!1;const p=[];for(let m=0;m<t.length;++m){const y=t[m];let b=null;if(jn(y))!d&&y.spaceBefore&&p.push(""),b5(r,p,y.commentBefore,d),y.comment&&(b=y.comment);else if(Pn(y)){const T=jn(y.key)?y.key:null;T&&(!d&&T.spaceBefore&&p.push(""),b5(r,p,T.commentBefore,d))}d=!1;let x=ym(y,f,()=>b=null,()=>d=!0);b&&(x+=bd(x,o,h(b))),d&&b&&(d=!1),p.push(n+x)}let g;if(p.length===0)g=a.start+a.end;else{g=p[0];for(let m=1;m<p.length;++m){const y=p[m];g+=y?`
${u}${y}`:`
`}}return e?(g+=`
`+rh(h(e),u),c&&c()):d&&l&&l(),g}function ECe({items:e},t,{flowChars:r,itemIndent:n}){const{indent:a,indentStep:o,flowCollectionPadding:l,options:{commentString:c}}=t;n+=o;const u=Object.assign({},t,{indent:n,inFlow:!0,type:null});let h=!1,f=0;const d=[];for(let m=0;m<e.length;++m){const y=e[m];let b=null;if(jn(y))y.spaceBefore&&d.push(""),b5(t,d,y.commentBefore,!1),y.comment&&(b=y.comment);else if(Pn(y)){const T=jn(y.key)?y.key:null;T&&(T.spaceBefore&&d.push(""),b5(t,d,T.commentBefore,!1),T.comment&&(h=!0));const w=jn(y.value)?y.value:null;w?(w.comment&&(b=w.comment),w.commentBefore&&(h=!0)):y.value==null&&(T!=null&&T.comment)&&(b=T.comment)}b&&(h=!0);let x=ym(y,u,()=>b=null);m<e.length-1&&(x+=","),b&&(x+=bd(x,n,c(b))),!h&&(d.length>f||x.includes(`
`))&&(h=!0),d.push(x),f=d.length}const{start:p,end:g}=r;if(d.length===0)return p+g;if(!h){const m=d.reduce((y,b)=>y+b.length+2,2);h=t.options.lineWidth>0&&m>t.options.lineWidth}if(h){let m=p;for(const y of d)m+=y?`
${o}${a}${y}`:`
`;return`${m}
${a}${g}`}else return`${p}${l}${d.join(" ")}${l}${g}`}function b5({indent:e,options:{commentString:t}},r,n,a){if(n&&a&&(n=n.replace(/^\n+/,"")),n){const o=rh(t(n),e);r.push(o.trimStart())}}function xd(e,t){const r=fn(t)?t.value:t;for(const n of e)if(Pn(n)&&(n.key===t||n.key===r||fn(n.key)&&n.key.value===r))return n}class _o extends See{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(M0,t),this.items=[]}static from(t,r,n){const{keepUndefined:a,replacer:o}=n,l=new this(t),c=(u,h)=>{if(typeof o=="function")h=o.call(r,u,h);else if(Array.isArray(o)&&!o.includes(u))return;(h!==void 0||a)&&l.items.push(E9(u,h,n))};if(r instanceof Map)for(const[u,h]of r)c(u,h);else if(r&&typeof r=="object")for(const u of Object.keys(r))c(u,r[u]);return typeof t.sortMapEntries=="function"&&l.items.sort(t.sortMapEntries),l}add(t,r){var l;let n;Pn(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new Za(t,t==null?void 0:t.value):n=new Za(t.key,t.value);const a=xd(this.items,n.key),o=(l=this.schema)==null?void 0:l.sortMapEntries;if(a){if(!r)throw new Error(`Key ${n.key} already set`);fn(a.value)&&Eee(n.value)?a.value.value=n.value:a.value=n.value}else if(o){const c=this.items.findIndex(u=>o(n,u)<0);c===-1?this.items.push(n):this.items.splice(c,0,n)}else this.items.push(n)}delete(t){const r=xd(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){const n=xd(this.items,t),a=n==null?void 0:n.value;return(!r&&fn(a)?a.value:a)??void 0}has(t){return!!xd(this.items,t)}set(t,r){this.add(new Za(t,r),!0)}toJSON(t,r,n){const a=n?new n:r!=null&&r.mapAsMap?new Map:{};r!=null&&r.onCreate&&r.onCreate(a);for(const o of this.items)Ree(r,a,o);return a}toString(t,r,n){if(!t)return JSON.stringify(this);for(const a of this.items)if(!Pn(a))throw new Error(`Map items must all be pairs; found ${JSON.stringify(a)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Oee(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}}const vv={collection:"map",default:!0,nodeClass:_o,tag:"tag:yaml.org,2002:map",resolve(e,t){return gv(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>_o.from(e,t,r)};class Y0 extends See{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(pv,t),this.items=[]}add(t){this.items.push(t)}delete(t){const r=wT(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){const n=wT(t);if(typeof n!="number")return;const a=this.items[n];return!r&&fn(a)?a.value:a}has(t){const r=wT(t);return typeof r=="number"&&r<this.items.length}set(t,r){const n=wT(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);const a=this.items[n];fn(a)&&Eee(r)?a.value=r:this.items[n]=r}toJSON(t,r){const n=[];r!=null&&r.onCreate&&r.onCreate(n);let a=0;for(const o of this.items)n.push(ml(o,String(a++),r));return n}toString(t,r,n){return t?Oee(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){const{replacer:a}=n,o=new this(t);if(r&&Symbol.iterator in Object(r)){let l=0;for(let c of r){if(typeof a=="function"){const u=r instanceof Set?c:String(l++);c=a.call(r,u,c)}o.items.push(kb(c,void 0,n))}}return o}}function wT(e){let t=fn(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const yv={collection:"seq",default:!0,nodeClass:Y0,tag:"tag:yaml.org,2002:seq",resolve(e,t){return mv(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>Y0.from(e,t,r)},f6={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),zx(e,t,r,n)}},d6={identify:e=>e==null,createNode:()=>new hr(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new hr(null),stringify:({source:e},t)=>typeof e=="string"&&d6.test.test(e)?e:t.options.nullStr},S9={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new hr(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&S9.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};function Tc({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);const a=typeof n=="number"?n:Number(n);if(!isFinite(a))return isNaN(a)?".nan":a<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let l=o.indexOf(".");l<0&&(l=o.length,o+=".");let c=t-(o.length-l-1);for(;c-- >0;)o+="0"}return o}const _ee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tc},Nee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Tc(e)}},Lee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new hr(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:Tc},p6=e=>typeof e=="bigint"||Number.isInteger(e),A9=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function Mee(e,t,r){const{value:n}=e;return p6(n)&&n>=0?r+n.toString(t):Tc(e)}const Dee={identify:e=>p6(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>A9(e,2,8,r),stringify:e=>Mee(e,8,"0o")},Pee={identify:p6,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>A9(e,0,10,r),stringify:Tc},Fee={identify:e=>p6(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>A9(e,2,16,r),stringify:e=>Mee(e,16,"0x")},SCe=[vv,yv,f6,d6,S9,Dee,Pee,Fee,_ee,Nee,Lee];function EH(e){return typeof e=="bigint"||Number.isInteger(e)}const ET=({value:e})=>JSON.stringify(e),ACe=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:ET},{identify:e=>e==null,createNode:()=>new hr(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ET},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:ET},{identify:EH,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>EH(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:ET}],kCe={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},CCe=[vv,yv].concat(ACe,kCe),k9={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,a,o){const l=r;let c;if(typeof btoa=="function"){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);c=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=hr.BLOCK_LITERAL),t!==hr.QUOTE_DOUBLE){const u=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),h=Math.ceil(c.length/u),f=new Array(h);for(let d=0,p=0;d<h;++d,p+=u)f[d]=c.substr(p,u);c=f.join(t===hr.BLOCK_LITERAL?`
`:" ")}return zx({comment:e,type:t,value:c},n,a,o)}};function Bee(e,t){if(mv(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Pn(n)){if(gv(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");const a=n.items[0]||new Za(new hr(null));if(n.commentBefore&&(a.key.commentBefore=a.key.commentBefore?`${n.commentBefore}
${a.key.commentBefore}`:n.commentBefore),n.comment){const o=a.value??a.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=a}e.items[r]=Pn(n)?n:new Za(n)}}else t("Expected a sequence for this tag");return e}function $ee(e,t,r){const{replacer:n}=r,a=new Y0(e);a.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let l of t){typeof n=="function"&&(l=n.call(t,String(o++),l));let c,u;if(Array.isArray(l))if(l.length===2)c=l[0],u=l[1];else throw new TypeError(`Expected [key, value] tuple: ${l}`);else if(l&&l instanceof Object){const h=Object.keys(l);if(h.length===1)c=h[0],u=l[c];else throw new TypeError(`Expected tuple with one key, not ${h.length} keys`)}else c=l;a.items.push(E9(c,u,r))}return a}const C9={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Bee,createNode:$ee};class sg extends Y0{constructor(){super(),this.add=_o.prototype.add.bind(this),this.delete=_o.prototype.delete.bind(this),this.get=_o.prototype.get.bind(this),this.has=_o.prototype.has.bind(this),this.set=_o.prototype.set.bind(this),this.tag=sg.tag}toJSON(t,r){if(!r)return super.toJSON(t);const n=new Map;r!=null&&r.onCreate&&r.onCreate(n);for(const a of this.items){let o,l;if(Pn(a)?(o=ml(a.key,"",r),l=ml(a.value,o,r)):o=ml(a,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,l)}return n}static from(t,r,n){const a=$ee(t,r,n),o=new this;return o.items=a.items,o}}sg.tag="tag:yaml.org,2002:omap";const I9={collection:"seq",identify:e=>e instanceof Map,nodeClass:sg,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const r=Bee(e,t),n=[];for(const{key:a}of r.items)fn(a)&&(n.includes(a.value)?t(`Ordered maps must not include duplicate keys: ${a.value}`):n.push(a.value));return Object.assign(new sg,r)},createNode:(e,t,r)=>sg.from(e,t,r)};function Hee({value:e,source:t},r){return t&&(e?Uee:Wee).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}const Uee={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new hr(!0),stringify:Hee},Wee={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new hr(!1),stringify:Hee},ICe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tc},RCe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Tc(e)}},OCe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new hr(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){const n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:Tc},Gx=e=>typeof e=="bigint"||Number.isInteger(e);function g6(e,t,r,{intAsBigInt:n}){const a=e[0];if((a==="-"||a==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const l=BigInt(e);return a==="-"?BigInt(-1)*l:l}const o=parseInt(e,r);return a==="-"?-1*o:o}function R9(e,t,r){const{value:n}=e;if(Gx(n)){const a=n.toString(t);return n<0?"-"+r+a.substr(1):r+a}return Tc(e)}const _Ce={identify:Gx,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>g6(e,2,2,r),stringify:e=>R9(e,2,"0b")},NCe={identify:Gx,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>g6(e,1,8,r),stringify:e=>R9(e,8,"0")},LCe={identify:Gx,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>g6(e,0,10,r),stringify:Tc},MCe={identify:Gx,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>g6(e,2,16,r),stringify:e=>R9(e,16,"0x")};class og extends _o{constructor(t){super(t),this.tag=og.tag}add(t){let r;Pn(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Za(t.key,null):r=new Za(t,null),xd(this.items,r.key)||this.items.push(r)}get(t,r){const n=xd(this.items,t);return!r&&Pn(n)?fn(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);const n=xd(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Za(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){const{replacer:a}=n,o=new this(t);if(r&&Symbol.iterator in Object(r))for(let l of r)typeof a=="function"&&(l=a.call(r,l,l)),o.items.push(E9(l,null,n));return o}}og.tag="tag:yaml.org,2002:set";const O9={collection:"map",identify:e=>e instanceof Set,nodeClass:og,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>og.from(e,t,r),resolve(e,t){if(gv(e)){if(e.hasAllNullValues(!0))return Object.assign(new og,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function _9(e,t){const r=e[0],n=r==="-"||r==="+"?e.substring(1):e,a=l=>t?BigInt(l):Number(l),o=n.replace(/_/g,"").split(":").reduce((l,c)=>l*a(60)+a(c),a(0));return r==="-"?a(-1)*o:o}function zee(e){let{value:t}=e,r=l=>l;if(typeof t=="bigint")r=l=>BigInt(l);else if(isNaN(t)||!isFinite(t))return Tc(e);let n="";t<0&&(n="-",t*=r(-1));const a=r(60),o=[t%a];return t<60?o.unshift(0):(t=(t-o[0])/a,o.unshift(t%a),t>=60&&(t=(t-o[0])/a,o.unshift(t))),n+o.map(l=>String(l).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Gee={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>_9(e,r),stringify:zee},Yee={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>_9(e,!1),stringify:zee},m6={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(m6.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,r,n,a,o,l,c]=t.map(Number),u=t[7]?Number((t[7]+"00").substr(1,3)):0;let h=Date.UTC(r,n-1,a,o||0,l||0,c||0,u);const f=t[8];if(f&&f!=="Z"){let d=_9(f,!1);Math.abs(d)<30&&(d*=60),h-=6e4*d}return new Date(h)},stringify:({value:e})=>e.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},SH=[vv,yv,f6,d6,Uee,Wee,_Ce,NCe,LCe,MCe,ICe,RCe,OCe,k9,fh,I9,C9,O9,Gee,Yee,m6],AH=new Map([["core",SCe],["failsafe",[vv,yv,f6]],["json",CCe],["yaml11",SH],["yaml-1.1",SH]]),kH={binary:k9,bool:S9,float:Lee,floatExp:Nee,floatNaN:_ee,floatTime:Yee,int:Pee,intHex:Fee,intOct:Dee,intTime:Gee,map:vv,merge:fh,null:d6,omap:I9,pairs:C9,seq:yv,set:O9,timestamp:m6},DCe={"tag:yaml.org,2002:binary":k9,"tag:yaml.org,2002:merge":fh,"tag:yaml.org,2002:omap":I9,"tag:yaml.org,2002:pairs":C9,"tag:yaml.org,2002:set":O9,"tag:yaml.org,2002:timestamp":m6};function R8(e,t,r){const n=AH.get(t);if(n&&!e)return r&&!n.includes(fh)?n.concat(fh):n.slice();let a=n;if(!a)if(Array.isArray(e))a=[];else{const o=Array.from(AH.keys()).filter(l=>l!=="yaml11").map(l=>JSON.stringify(l)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${o} or define customTags array`)}if(Array.isArray(e))for(const o of e)a=a.concat(o);else typeof e=="function"&&(a=e(a.slice()));return r&&(a=a.concat(fh)),a.reduce((o,l)=>{const c=typeof l=="string"?kH[l]:l;if(!c){const u=JSON.stringify(l),h=Object.keys(kH).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${h}`)}return o.includes(c)||o.push(c),o},[])}const PCe=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;let Vee=class qee{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:a,schema:o,sortMapEntries:l,toStringDefaults:c}){this.compat=Array.isArray(t)?R8(t,"compat"):t?R8(null,t):null,this.name=typeof o=="string"&&o||"core",this.knownTags=a?DCe:{},this.tags=R8(r,this.name,n),this.toStringOptions=c??null,Object.defineProperty(this,M0,{value:vv}),Object.defineProperty(this,fu,{value:f6}),Object.defineProperty(this,pv,{value:yv}),this.sortMapEntries=typeof l=="function"?l:l===!0?PCe:null}clone(){const t=Object.create(qee.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};function FCe(e,t){var u;const r=[];let n=t.directives===!0;if(t.directives!==!1&&e.directives){const h=e.directives.toString(e);h?(r.push(h),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");const a=kee(e,t),{commentString:o}=a.options;if(e.commentBefore){r.length!==1&&r.unshift("");const h=o(e.commentBefore);r.unshift(rh(h,""))}let l=!1,c=null;if(e.contents){if(jn(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){const d=o(e.contents.commentBefore);r.push(rh(d,""))}a.forceBlockIndent=!!e.comment,c=e.contents.comment}const h=c?void 0:()=>l=!0;let f=ym(e.contents,a,()=>c=null,h);c&&(f+=bd(f,"",o(c))),(f[0]==="|"||f[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${f}`:r.push(f)}else r.push(ym(e.contents,a));if((u=e.directives)!=null&&u.docEnd)if(e.comment){const h=o(e.comment);h.includes(`
`)?(r.push("..."),r.push(rh(h,""))):r.push(`... ${h}`)}else r.push("...");else{let h=e.comment;h&&l&&(h=h.replace(/^\n+/,"")),h&&((!l||c)&&r[r.length-1]!==""&&r.push(""),r.push(rh(o(h),"")))}return r.join(`
`)+`
`}class bv{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,bl,{value:BI});let a=null;typeof r=="function"||Array.isArray(r)?a=r:n===void 0&&r&&(n=r,r=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:l}=o;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(l=this.directives.yaml.version)):this.directives=new ys({version:l}),this.setSchema(l,n),this.contents=t===void 0?null:this.createNode(t,a,n)}clone(){const t=Object.create(bv.prototype,{[bl]:{value:BI}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=jn(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){e1(this.contents)&&this.contents.add(t)}addIn(t,r){e1(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){const n=Tee(this);t.anchor=!r||n.has(r)?wee(r||"a",n):r}return new l6(t.anchor)}createNode(t,r,n){let a;if(typeof r=="function")t=r.call({"":t},"",t),a=r;else if(Array.isArray(r)){const b=T=>typeof T=="number"||T instanceof String||T instanceof Number,x=r.filter(b).map(String);x.length>0&&(r=r.concat(x)),a=r}else n===void 0&&r&&(n=r,r=void 0);const{aliasDuplicateObjects:o,anchorPrefix:l,flow:c,keepUndefined:u,onTagObj:h,tag:f}=n??{},{onAnchor:d,setAnchors:p,sourceObjects:g}=hCe(this,l||"a"),m={aliasDuplicateObjects:o??!0,keepUndefined:u??!1,onAnchor:d,onTagObj:h,replacer:a,schema:this.schema,sourceObjects:g},y=kb(t,f,m);return c&&Yn(y)&&(y.flow=!0),p(),y}createPair(t,r,n={}){const a=this.createNode(t,null,n),o=this.createNode(r,null,n);return new Za(a,o)}delete(t){return e1(this.contents)?this.contents.delete(t):!1}deleteIn(t){return e2(t)?this.contents==null?!1:(this.contents=null,!0):e1(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Yn(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return e2(t)?!r&&fn(this.contents)?this.contents.value:this.contents:Yn(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Yn(this.contents)?this.contents.has(t):!1}hasIn(t){return e2(t)?this.contents!==void 0:Yn(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=y5(this.schema,[t],r):e1(this.contents)&&this.contents.set(t,r)}setIn(t,r){e2(t)?this.contents=r:this.contents==null?this.contents=y5(this.schema,Array.from(t),r):e1(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ys({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new ys({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const a=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${a}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Vee(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:a,onAnchor:o,reviver:l}={}){const c={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof a=="number"?a:100},u=ml(this.contents,r??"",c);if(typeof o=="function")for(const{count:h,res:f}of c.anchors.values())o(f,h);return typeof l=="function"?L1(l,{"":u},"",u):u}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return FCe(this,t)}}function e1(e){if(Yn(e))return!0;throw new Error("Expected a YAML collection as document contents")}class N9 extends Error{constructor(t,r,n,a){super(),this.name=t,this.code=n,this.message=a,this.pos=r}}class Td extends N9{constructor(t,r,n){super("YAMLParseError",t,r,n)}}class jee extends N9{constructor(t,r,n){super("YAMLWarning",t,r,n)}}const x5=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(c=>t.linePos(c));const{line:n,col:a}=r.linePos[0];r.message+=` at line ${n}, column ${a}`;let o=a-1,l=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&l.length>80){const c=Math.min(o-39,l.length-79);l="…"+l.substring(c),o-=c-1}if(l.length>80&&(l=l.substring(0,79)+"…"),n>1&&/^ *$/.test(l.substring(0,o))){let c=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);c.length>80&&(c=c.substring(0,79)+`…
`),l=c+l}if(/[^ ]/.test(l)){let c=1;const u=r.linePos[1];u&&u.line===n&&u.col>a&&(c=Math.max(1,Math.min(u.col-a,80-o)));const h=" ".repeat(o)+"^".repeat(c);r.message+=`:

${l}
${h}
`}};function bm(e,{flow:t,indicator:r,next:n,offset:a,onError:o,parentIndent:l,startOnNewline:c}){let u=!1,h=c,f=c,d="",p="",g=!1,m=!1,y=null,b=null,x=null,T=null,w=null,E=null,S=null;for(const O of e)switch(m&&(O.type!=="space"&&O.type!=="newline"&&O.type!=="comma"&&o(O.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),y&&(h&&O.type!=="comment"&&O.type!=="newline"&&o(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),O.type){case"space":!t&&(r!=="doc-start"||(n==null?void 0:n.type)!=="flow-collection")&&O.source.includes("	")&&(y=O),f=!0;break;case"comment":{f||o(O,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=O.source.substring(1)||" ";d?d+=p+I:d=I,p="",h=!1;break}case"newline":h?d?d+=O.source:(!E||r!=="seq-item-ind")&&(u=!0):p+=O.source,h=!0,g=!0,(b||x)&&(T=O),f=!0;break;case"anchor":b&&o(O,"MULTIPLE_ANCHORS","A node can have at most one anchor"),O.source.endsWith(":")&&o(O.offset+O.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=O,S===null&&(S=O.offset),h=!1,f=!1,m=!0;break;case"tag":{x&&o(O,"MULTIPLE_TAGS","A node can have at most one tag"),x=O,S===null&&(S=O.offset),h=!1,f=!1,m=!0;break}case r:(b||x)&&o(O,"BAD_PROP_ORDER",`Anchors and tags must be after the ${O.source} indicator`),E&&o(O,"UNEXPECTED_TOKEN",`Unexpected ${O.source} in ${t??"collection"}`),E=O,h=r==="seq-item-ind"||r==="explicit-key-ind",f=!1;break;case"comma":if(t){w&&o(O,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=O,h=!1,f=!1;break}default:o(O,"UNEXPECTED_TOKEN",`Unexpected ${O.type} token`),h=!1,f=!1}const C=e[e.length-1],k=C?C.offset+C.source.length:a;return m&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(h&&y.indent<=l||(n==null?void 0:n.type)==="block-map"||(n==null?void 0:n.type)==="block-seq")&&o(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:E,spaceBefore:u,comment:d,hasNewline:g,anchor:b,tag:x,newlineAfterProp:T,end:k,start:S??k}}function Cb(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const r of t.start)if(r.type==="newline")return!0;if(t.sep){for(const r of t.sep)if(r.type==="newline")return!0}if(Cb(t.key)||Cb(t.value))return!0}return!1;default:return!0}}function WI(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){const n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&Cb(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Xee(e,t,r){const{uniqueKeys:n}=e.options;if(n===!1)return!1;const a=typeof n=="function"?n:(o,l)=>o===l||fn(o)&&fn(l)&&o.value===l.value;return t.some(o=>a(o.key,r))}const CH="All mapping items must start at the same column";function BCe({composeNode:e,composeEmptyNode:t},r,n,a,o){var f;const l=(o==null?void 0:o.nodeClass)??_o,c=new l(r.schema);r.atRoot&&(r.atRoot=!1);let u=n.offset,h=null;for(const d of n.items){const{start:p,key:g,sep:m,value:y}=d,b=bm(p,{indicator:"explicit-key-ind",next:g??(m==null?void 0:m[0]),offset:u,onError:a,parentIndent:n.indent,startOnNewline:!0}),x=!b.found;if(x){if(g&&(g.type==="block-seq"?a(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==n.indent&&a(u,"BAD_INDENT",CH)),!b.anchor&&!b.tag&&!m){h=b.end,b.comment&&(c.comment?c.comment+=`
`+b.comment:c.comment=b.comment);continue}(b.newlineAfterProp||Cb(g))&&a(g??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((f=b.found)==null?void 0:f.indent)!==n.indent&&a(u,"BAD_INDENT",CH);r.atKey=!0;const T=b.end,w=g?e(r,g,b,a):t(r,T,p,null,b,a);r.schema.compat&&WI(n.indent,g,a),r.atKey=!1,Xee(r,c.items,w)&&a(T,"DUPLICATE_KEY","Map keys must be unique");const E=bm(m??[],{indicator:"map-value-ind",next:y,offset:w.range[2],onError:a,parentIndent:n.indent,startOnNewline:!g||g.type==="block-scalar"});if(u=E.end,E.found){x&&((y==null?void 0:y.type)==="block-map"&&!E.hasNewline&&a(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&b.start<E.found.offset-1024&&a(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const S=y?e(r,y,E,a):t(r,u,m,null,E,a);r.schema.compat&&WI(n.indent,y,a),u=S.range[2];const C=new Za(w,S);r.options.keepSourceTokens&&(C.srcToken=d),c.items.push(C)}else{x&&a(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),E.comment&&(w.comment?w.comment+=`
`+E.comment:w.comment=E.comment);const S=new Za(w);r.options.keepSourceTokens&&(S.srcToken=d),c.items.push(S)}}return h&&h<u&&a(h,"IMPOSSIBLE","Map comment with trailing content"),c.range=[n.offset,u,h??u],c}function $Ce({composeNode:e,composeEmptyNode:t},r,n,a,o){const l=(o==null?void 0:o.nodeClass)??Y0,c=new l(r.schema);r.atRoot&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let u=n.offset,h=null;for(const{start:f,value:d}of n.items){const p=bm(f,{indicator:"seq-item-ind",next:d,offset:u,onError:a,parentIndent:n.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||d)d&&d.type==="block-seq"?a(p.end,"BAD_INDENT","All sequence items must start at the same column"):a(u,"MISSING_CHAR","Sequence item without - indicator");else{h=p.end,p.comment&&(c.comment=p.comment);continue}const g=d?e(r,d,p,a):t(r,p.end,f,null,p,a);r.schema.compat&&WI(n.indent,d,a),u=g.range[2],c.items.push(g)}return c.range=[n.offset,u,h??u],c}function Yx(e,t,r,n){let a="";if(e){let o=!1,l="";for(const c of e){const{source:u,type:h}=c;switch(h){case"space":o=!0;break;case"comment":{r&&!o&&n(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=u.substring(1)||" ";a?a+=l+f:a=f,l="";break}case"newline":a&&(l+=u),o=!0;break;default:n(c,"UNEXPECTED_TOKEN",`Unexpected ${h} at node end`)}t+=u.length}}return{comment:a,offset:t}}const O8="Block collections are not allowed within flow collections",_8=e=>e&&(e.type==="block-map"||e.type==="block-seq");function HCe({composeNode:e,composeEmptyNode:t},r,n,a,o){const l=n.start.source==="{",c=l?"flow map":"flow sequence",u=(o==null?void 0:o.nodeClass)??(l?_o:Y0),h=new u(r.schema);h.flow=!0;const f=r.atRoot;f&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let d=n.offset+n.start.source.length;for(let b=0;b<n.items.length;++b){const x=n.items[b],{start:T,key:w,sep:E,value:S}=x,C=bm(T,{flow:c,indicator:"explicit-key-ind",next:w??(E==null?void 0:E[0]),offset:d,onError:a,parentIndent:n.indent,startOnNewline:!1});if(!C.found){if(!C.anchor&&!C.tag&&!E&&!S){b===0&&C.comma?a(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`):b<n.items.length-1&&a(C.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${c}`),C.comment&&(h.comment?h.comment+=`
`+C.comment:h.comment=C.comment),d=C.end;continue}!l&&r.options.strict&&Cb(w)&&a(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)C.comma&&a(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${c}`);else if(C.comma||a(C.start,"MISSING_CHAR",`Missing , between ${c} items`),C.comment){let k="";e:for(const O of T)switch(O.type){case"comma":case"space":break;case"comment":k=O.source.substring(1);break e;default:break e}if(k){let O=h.items[h.items.length-1];Pn(O)&&(O=O.value??O.key),O.comment?O.comment+=`
`+k:O.comment=k,C.comment=C.comment.substring(k.length+1)}}if(!l&&!E&&!C.found){const k=S?e(r,S,C,a):t(r,C.end,E,null,C,a);h.items.push(k),d=k.range[2],_8(S)&&a(k.range,"BLOCK_IN_FLOW",O8)}else{r.atKey=!0;const k=C.end,O=w?e(r,w,C,a):t(r,k,T,null,C,a);_8(w)&&a(O.range,"BLOCK_IN_FLOW",O8),r.atKey=!1;const I=bm(E??[],{flow:c,indicator:"map-value-ind",next:S,offset:O.range[2],onError:a,parentIndent:n.indent,startOnNewline:!1});if(I.found){if(!l&&!C.found&&r.options.strict){if(E)for(const M of E){if(M===I.found)break;if(M.type==="newline"){a(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}C.start<I.found.offset-1024&&a(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else S&&("source"in S&&S.source&&S.source[0]===":"?a(S,"MISSING_CHAR",`Missing space after : in ${c}`):a(I.start,"MISSING_CHAR",`Missing , or : between ${c} items`));const _=S?e(r,S,I,a):I.found?t(r,I.end,E,null,I,a):null;_?_8(S)&&a(_.range,"BLOCK_IN_FLOW",O8):I.comment&&(O.comment?O.comment+=`
`+I.comment:O.comment=I.comment);const R=new Za(O,_);if(r.options.keepSourceTokens&&(R.srcToken=x),l){const M=h;Xee(r,M.items,O)&&a(k,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(R)}else{const M=new _o(r.schema);M.flow=!0,M.items.push(R);const $=(_??O).range;M.range=[O.range[0],$[1],$[2]],h.items.push(M)}d=_?_.range[2]:I.end}}const p=l?"}":"]",[g,...m]=n.end;let y=d;if(g&&g.source===p)y=g.offset+g.source.length;else{const b=c[0].toUpperCase()+c.substring(1),x=f?`${b} must end with a ${p}`:`${b} in block collection must be sufficiently indented and end with a ${p}`;a(d,f?"MISSING_CHAR":"BAD_INDENT",x),g&&g.source.length!==1&&m.unshift(g)}if(m.length>0){const b=Yx(m,y,r.options.strict,a);b.comment&&(h.comment?h.comment+=`
`+b.comment:h.comment=b.comment),h.range=[n.offset,y,b.offset]}else h.range=[n.offset,y,y];return h}function N8(e,t,r,n,a,o){const l=r.type==="block-map"?BCe(e,t,r,n,o):r.type==="block-seq"?$Ce(e,t,r,n,o):HCe(e,t,r,n,o),c=l.constructor;return a==="!"||a===c.tagName?(l.tag=c.tagName,l):(a&&(l.tag=a),l)}function UCe(e,t,r,n,a){var p;const o=n.tag,l=o?t.directives.tagName(o.source,g=>a(o,"TAG_RESOLVE_FAILED",g)):null;if(r.type==="block-seq"){const{anchor:g,newlineAfterProp:m}=n,y=g&&o?g.offset>o.offset?g:o:g??o;y&&(!m||m.offset<y.offset)&&a(y,"MISSING_CHAR","Missing newline after block sequence props")}const c=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!o||!l||l==="!"||l===_o.tagName&&c==="map"||l===Y0.tagName&&c==="seq")return N8(e,t,r,a,l);let u=t.schema.tags.find(g=>g.tag===l&&g.collection===c);if(!u){const g=t.schema.knownTags[l];if(g&&g.collection===c)t.schema.tags.push(Object.assign({},g,{default:!1})),u=g;else return g!=null&&g.collection?a(o,"BAD_COLLECTION_TYPE",`${g.tag} used for ${c} collection, but expects ${g.collection}`,!0):a(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${l}`,!0),N8(e,t,r,a,l)}const h=N8(e,t,r,a,l,u),f=((p=u.resolve)==null?void 0:p.call(u,h,g=>a(o,"TAG_RESOLVE_FAILED",g),t.options))??h,d=jn(f)?f:new hr(f);return d.range=h.range,d.tag=l,u!=null&&u.format&&(d.format=u.format),d}function Kee(e,t,r){const n=t.offset,a=WCe(t,e.options.strict,r);if(!a)return{value:"",type:null,comment:"",range:[n,n,n]};const o=a.mode===">"?hr.BLOCK_FOLDED:hr.BLOCK_LITERAL,l=t.source?zCe(t.source):[];let c=l.length;for(let y=l.length-1;y>=0;--y){const b=l[y][1];if(b===""||b==="\r")c=y;else break}if(c===0){const y=a.chomp==="+"&&l.length>0?`
`.repeat(Math.max(1,l.length-1)):"";let b=n+a.length;return t.source&&(b+=t.source.length),{value:y,type:o,comment:a.comment,range:[n,b,b]}}let u=t.indent+a.indent,h=t.offset+a.length,f=0;for(let y=0;y<c;++y){const[b,x]=l[y];if(x===""||x==="\r")a.indent===0&&b.length>u&&(u=b.length);else{b.length<u&&r(h+b.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),a.indent===0&&(u=b.length),f=y,u===0&&!e.atRoot&&r(h,"BAD_INDENT","Block scalar values in collections must be indented");break}h+=b.length+x.length+1}for(let y=l.length-1;y>=c;--y)l[y][0].length>u&&(c=y+1);let d="",p="",g=!1;for(let y=0;y<f;++y)d+=l[y][0].slice(u)+`
`;for(let y=f;y<c;++y){let[b,x]=l[y];h+=b.length+x.length+1;const T=x[x.length-1]==="\r";if(T&&(x=x.slice(0,-1)),x&&b.length<u){const E=`Block scalar lines must not be less indented than their ${a.indent?"explicit indentation indicator":"first line"}`;r(h-x.length-(T?2:1),"BAD_INDENT",E),b=""}o===hr.BLOCK_LITERAL?(d+=p+b.slice(u)+x,p=`
`):b.length>u||x[0]==="	"?(p===" "?p=`
`:!g&&p===`
`&&(p=`

`),d+=p+b.slice(u)+x,p=`
`,g=!0):x===""?p===`
`?d+=`
`:p=`
`:(d+=p+x,p=" ",g=!1)}switch(a.chomp){case"-":break;case"+":for(let y=c;y<l.length;++y)d+=`
`+l[y][0].slice(u);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const m=n+a.length+t.source.length;return{value:d,type:o,comment:a.comment,range:[n,m,m]}}function WCe({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:a}=t[0],o=a[0];let l=0,c="",u=-1;for(let p=1;p<a.length;++p){const g=a[p];if(!c&&(g==="-"||g==="+"))c=g;else{const m=Number(g);!l&&m?l=m:u===-1&&(u=e+p)}}u!==-1&&n(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${a}`);let h=!1,f="",d=a.length;for(let p=1;p<t.length;++p){const g=t[p];switch(g.type){case"space":h=!0;case"newline":d+=g.source.length;break;case"comment":r&&!h&&n(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=g.source.length,f=g.source.substring(1);break;case"error":n(g,"UNEXPECTED_TOKEN",g.message),d+=g.source.length;break;default:{const m=`Unexpected token in block scalar header: ${g.type}`;n(g,"UNEXPECTED_TOKEN",m);const y=g.source;y&&typeof y=="string"&&(d+=y.length)}}}return{mode:o,indent:l,chomp:c,comment:f,length:d}}function zCe(e){const t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n!=null&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let l=1;l<t.length;l+=2)o.push([t[l],t[l+1]]);return o}function Zee(e,t,r){const{offset:n,type:a,source:o,end:l}=e;let c,u;const h=(p,g,m)=>r(n+p,g,m);switch(a){case"scalar":c=hr.PLAIN,u=GCe(o,h);break;case"single-quoted-scalar":c=hr.QUOTE_SINGLE,u=YCe(o,h);break;case"double-quoted-scalar":c=hr.QUOTE_DOUBLE,u=VCe(o,h);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${a}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}const f=n+o.length,d=Yx(l,f,t,r);return{value:u,type:c,comment:d.comment,range:[n,f,d.offset]}}function GCe(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),Qee(e)}function YCe(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Qee(e.slice(1,-1)).replace(/''/g,"'")}function Qee(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let a=n[1],o=" ",l=t.lastIndex;for(r.lastIndex=l;n=r.exec(e);)n[1]===""?o===`
`?a+=o:o=`
`:(a+=o+n[1],o=" "),l=r.lastIndex;const c=/[ \t]*(.*)/sy;return c.lastIndex=l,n=c.exec(e),a+o+((n==null?void 0:n[1])??"")}function VCe(e,t){let r="";for(let n=1;n<e.length-1;++n){const a=e[n];if(!(a==="\r"&&e[n+1]===`
`))if(a===`
`){const{fold:o,offset:l}=qCe(e,n);r+=o,n=l}else if(a==="\\"){let o=e[++n];const l=jCe[o];if(l)r+=l;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){const c={x:2,u:4,U:8}[o];r+=XCe(e,n+1,c,t),n+=c}else{const c=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),r+=c}}else if(a===" "||a==="	"){const o=n;let l=e[n+1];for(;l===" "||l==="	";)l=e[++n+1];l!==`
`&&!(l==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):a)}else r+=a}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function qCe(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}const jCe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function XCe(e,t,r,n){const a=e.substr(t,r),l=a.length===r&&/^[0-9a-fA-F]+$/.test(a)?parseInt(a,16):NaN;if(isNaN(l)){const c=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${c}`),c}return String.fromCodePoint(l)}function Jee(e,t,r,n){const{value:a,type:o,comment:l,range:c}=t.type==="block-scalar"?Kee(e,t,n):Zee(t,e.options.strict,n),u=r?e.directives.tagName(r.source,d=>n(r,"TAG_RESOLVE_FAILED",d)):null;let h;e.options.stringKeys&&e.atKey?h=e.schema[fu]:u?h=KCe(e.schema,a,u,r,n):t.type==="scalar"?h=ZCe(e,a,t,n):h=e.schema[fu];let f;try{const d=h.resolve(a,p=>n(r??t,"TAG_RESOLVE_FAILED",p),e.options);f=fn(d)?d:new hr(d)}catch(d){const p=d instanceof Error?d.message:String(d);n(r??t,"TAG_RESOLVE_FAILED",p),f=new hr(a)}return f.range=c,f.source=a,o&&(f.type=o),u&&(f.tag=u),h.format&&(f.format=h.format),l&&(f.comment=l),f}function KCe(e,t,r,n,a){var c;if(r==="!")return e[fu];const o=[];for(const u of e.tags)if(!u.collection&&u.tag===r)if(u.default&&u.test)o.push(u);else return u;for(const u of o)if((c=u.test)!=null&&c.test(t))return u;const l=e.knownTags[r];return l&&!l.collection?(e.tags.push(Object.assign({},l,{default:!1,test:void 0})),l):(a(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[fu])}function ZCe({atKey:e,directives:t,schema:r},n,a,o){const l=r.tags.find(c=>{var u;return(c.default===!0||e&&c.default==="key")&&((u=c.test)==null?void 0:u.test(n))})||r[fu];if(r.compat){const c=r.compat.find(u=>{var h;return u.default&&((h=u.test)==null?void 0:h.test(n))})??r[fu];if(l.tag!==c.tag){const u=t.tagString(l.tag),h=t.tagString(c.tag),f=`Value may be parsed as either ${u} or ${h}`;o(a,"TAG_RESOLVE_FAILED",f,!0)}}return l}function QCe(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let a=t[n];switch(a.type){case"space":case"comment":case"newline":e-=a.source.length;continue}for(a=t[++n];(a==null?void 0:a.type)==="space";)e+=a.source.length,a=t[++n];break}}return e}const JCe={composeNode:ete,composeEmptyNode:L9};function ete(e,t,r,n){const a=e.atKey,{spaceBefore:o,comment:l,anchor:c,tag:u}=r;let h,f=!0;switch(t.type){case"alias":h=e7e(e,t,n),(c||u)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":h=Jee(e,t,u,n),c&&(h.anchor=c.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":h=UCe(JCe,e,t,r,n),c&&(h.anchor=c.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",d),h=L9(e,t.offset,void 0,null,r,n),f=!1}}return c&&h.anchor===""&&n(c,"BAD_ALIAS","Anchor cannot be an empty string"),a&&e.options.stringKeys&&(!fn(h)||typeof h.value!="string"||h.tag&&h.tag!=="tag:yaml.org,2002:str")&&n(u??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(h.spaceBefore=!0),l&&(t.type==="scalar"&&t.source===""?h.comment=l:h.commentBefore=l),e.options.keepSourceTokens&&f&&(h.srcToken=t),h}function L9(e,t,r,n,{spaceBefore:a,comment:o,anchor:l,tag:c,end:u},h){const f={type:"scalar",offset:QCe(t,r,n),indent:-1,source:""},d=Jee(e,f,c,h);return l&&(d.anchor=l.source.substring(1),d.anchor===""&&h(l,"BAD_ALIAS","Anchor cannot be an empty string")),a&&(d.spaceBefore=!0),o&&(d.comment=o,d.range[2]=u),d}function e7e({options:e},{offset:t,source:r,end:n},a){const o=new l6(r.substring(1));o.source===""&&a(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&a(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const l=t+r.length,c=Yx(n,l,e.strict,a);return o.range=[t,l,c.offset],c.comment&&(o.comment=c.comment),o}function t7e(e,t,{offset:r,start:n,value:a,end:o},l){const c=Object.assign({_directives:t},e),u=new bv(void 0,c),h={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},f=bm(n,{indicator:"doc-start",next:a??(o==null?void 0:o[0]),offset:r,onError:l,parentIndent:0,startOnNewline:!0});f.found&&(u.directives.docStart=!0,a&&(a.type==="block-map"||a.type==="block-seq")&&!f.hasNewline&&l(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=a?ete(h,a,f,l):L9(h,f.end,n,null,f,l);const d=u.contents.range[2],p=Yx(o,d,!1,l);return p.comment&&(u.comment=p.comment),u.range=[r,d,p.offset],u}function my(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function IH(e){var a;let t="",r=!1,n=!1;for(let o=0;o<e.length;++o){const l=e[o];switch(l[0]){case"#":t+=(t===""?"":n?`

`:`
`)+(l.substring(1)||" "),r=!0,n=!1;break;case"%":((a=e[o+1])==null?void 0:a[0])!=="#"&&(o+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class M9{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,a,o)=>{const l=my(r);o?this.warnings.push(new jee(l,n,a)):this.errors.push(new Td(l,n,a))},this.directives=new ys({version:t.version||"1.2"}),this.options=t}decorate(t,r){const{comment:n,afterEmptyLine:a}=IH(this.prelude);if(n){const o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(a||t.directives.docStart||!o)t.commentBefore=n;else if(Yn(o)&&!o.flow&&o.items.length>0){let l=o.items[0];Pn(l)&&(l=l.key);const c=l.commentBefore;l.commentBefore=c?`${n}
${c}`:n}else{const l=o.commentBefore;o.commentBefore=l?`${n}
${l}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:IH(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(const a of t)yield*this.next(a);yield*this.end(r,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(r,n,a)=>{const o=my(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,a)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const r=t7e(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Td(my(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const n="Unexpected doc-end without preceding document";this.errors.push(new Td(my(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;const r=Yx(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){const n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new Td(my(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const n=Object.assign({_directives:this.directives},this.options),a=new bv(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),a.range=[0,r,r],this.decorate(a,!1),yield a}}}function r7e(e,t=!0,r){if(e){const n=(a,o,l)=>{const c=typeof a=="number"?a:Array.isArray(a)?a[0]:a.offset;if(r)r(c,o,l);else throw new Td([c,c+1],o,l)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Zee(e,t,n);case"block-scalar":return Kee({options:{strict:t}},e,n)}}return null}function n7e(e,t){const{implicitKey:r=!1,indent:n,inFlow:a=!1,offset:o=-1,type:l="PLAIN"}=t,c=zx({type:l,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}}),u=t.end??[{type:"newline",offset:-1,indent:n,source:`
`}];switch(c[0]){case"|":case">":{const h=c.indexOf(`
`),f=c.substring(0,h),d=c.substring(h+1)+`
`,p=[{type:"block-scalar-header",offset:o,indent:n,source:f}];return tte(p,u)||p.push({type:"newline",offset:-1,indent:n,source:`
`}),{type:"block-scalar",offset:o,indent:n,props:p,source:d}}case'"':return{type:"double-quoted-scalar",offset:o,indent:n,source:c,end:u};case"'":return{type:"single-quoted-scalar",offset:o,indent:n,source:c,end:u};default:return{type:"scalar",offset:o,indent:n,source:c,end:u}}}function i7e(e,t,r={}){let{afterKey:n=!1,implicitKey:a=!1,inFlow:o=!1,type:l}=r,c="indent"in e?e.indent:null;if(n&&typeof c=="number"&&(c+=2),!l)switch(e.type){case"single-quoted-scalar":l="QUOTE_SINGLE";break;case"double-quoted-scalar":l="QUOTE_DOUBLE";break;case"block-scalar":{const h=e.props[0];if(h.type!=="block-scalar-header")throw new Error("Invalid block scalar header");l=h.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:l="PLAIN"}const u=zx({type:l,value:t},{implicitKey:a||c===null,indent:c!==null&&c>0?" ".repeat(c):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(u[0]){case"|":case">":a7e(e,u);break;case'"':L8(e,u,"double-quoted-scalar");break;case"'":L8(e,u,"single-quoted-scalar");break;default:L8(e,u,"scalar")}}function a7e(e,t){const r=t.indexOf(`
`),n=t.substring(0,r),a=t.substring(r+1)+`
`;if(e.type==="block-scalar"){const o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=a}else{const{offset:o}=e,l="indent"in e?e.indent:-1,c=[{type:"block-scalar-header",offset:o,indent:l,source:n}];tte(c,"end"in e?e.end:void 0)||c.push({type:"newline",offset:-1,indent:l,source:`
`});for(const u of Object.keys(e))u!=="type"&&u!=="offset"&&delete e[u];Object.assign(e,{type:"block-scalar",indent:l,props:c,source:a})}}function tte(e,t){if(t)for(const r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function L8(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{const n=e.props.slice(1);let a=t.length;e.props[0].type==="block-scalar-header"&&(a-=e.props[0].source.length);for(const o of n)o.offset+=a;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{const a={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[a]});break}default:{const n="indent"in e?e.indent:-1,a="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(const o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:a})}}}const s7e=e=>"type"in e?T5(e):ew(e);function T5(e){switch(e.type){case"block-scalar":{let t="";for(const r of e.props)t+=T5(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(const r of e.items)t+=ew(r);return t}case"flow-collection":{let t=e.start.source;for(const r of e.items)t+=ew(r);for(const r of e.end)t+=r.source;return t}case"document":{let t=ew(e);if(e.end)for(const r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const r of e.end)t+=r.source;return t}}}function ew({start:e,key:t,sep:r,value:n}){let a="";for(const o of e)a+=o.source;if(t&&(a+=T5(t)),r)for(const o of r)a+=o.source;return n&&(a+=T5(n)),a}const zI=Symbol("break visit"),o7e=Symbol("skip children"),rte=Symbol("remove item");function qd(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),nte(Object.freeze([]),e,t)}qd.BREAK=zI;qd.SKIP=o7e;qd.REMOVE=rte;qd.itemAtPath=(e,t)=>{let r=e;for(const[n,a]of t){const o=r==null?void 0:r[n];if(o&&"items"in o)r=o.items[a];else return}return r};qd.parentCollection=(e,t)=>{const r=qd.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],a=r==null?void 0:r[n];if(a&&"items"in a)return a;throw new Error("Parent collection not found")};function nte(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(const a of["key","value"]){const o=t[a];if(o&&"items"in o){for(let l=0;l<o.items.length;++l){const c=nte(Object.freeze(e.concat([[a,l]])),o.items[l],r);if(typeof c=="number")l=c-1;else{if(c===zI)return zI;c===rte&&(o.items.splice(l,1),l-=1)}}typeof n=="function"&&a==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}const v6="\uFEFF",y6="",b6="",Ib="",l7e=e=>!!e&&"items"in e,c7e=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function u7e(e){switch(e){case v6:return"<BOM>";case y6:return"<DOC>";case b6:return"<FLOW_END>";case Ib:return"<SCALAR>";default:return JSON.stringify(e)}}function ite(e){switch(e){case v6:return"byte-order-mark";case y6:return"doc-mode";case b6:return"flow-error-end";case Ib:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const h7e=Object.freeze(Object.defineProperty({__proto__:null,BOM:v6,DOCUMENT:y6,FLOW_END:b6,SCALAR:Ib,createScalarToken:n7e,isCollection:l7e,isScalar:c7e,prettyToken:u7e,resolveAsScalar:r7e,setScalarValue:i7e,stringify:s7e,tokenType:ite,visit:qd},Symbol.toStringTag,{value:"Module"}));function Bl(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const RH=new Set("0123456789ABCDEFabcdef"),f7e=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),ST=new Set(",[]{}"),d7e=new Set(` ,[]{}
\r	`),M8=e=>!e||d7e.has(e);let ate=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){const a=this.buffer[n+t+1];if(a===`
`||!a&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){const n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&Bl(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===v6&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");for(;n!==-1;){const o=t[n-1];if(o===" "||o==="	"){r=n-1;break}else n=t.indexOf("#",n+1)}for(;;){const o=t[r-1];if(o===" "||o==="	")r-=1;else break}const a=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-a),this.pushNewline(),"stream"}if(this.atLineEnd()){const r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield y6,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const r=this.peek(3);if((r==="---"||r==="...")&&Bl(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Bl(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Bl(r)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(M8),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);const a=this.getLine();if(a===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&a[0]!=="#"||n===0&&(a.startsWith("---")||a.startsWith("..."))&&Bl(a[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(a[0]==="]"||a[0]==="}")))return this.flowLevel=0,yield b6,yield*this.parseLineStart();let o=0;for(;a[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),a[o]){case void 0:return"flow";case"#":return yield*this.pushCount(a.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(M8),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const l=this.charAt(1);if(this.flowKey||Bl(l)||l===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2===0)break;r=this.buffer.indexOf('"',r+1)}const n=this.buffer.substring(0,r);let a=n.indexOf(`
`,this.pos);if(a!==-1){for(;a!==-1;){const o=this.continueScalar(a+1);if(o===-1)break;a=n.indexOf(`
`,o)}a!==-1&&(r=a-(n[a-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>Bl(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let o=this.pos;n=this.buffer[o];++o)switch(n){case" ":r+=1;break;case`
`:t=o,r=0;break;case"\r":{const l=this.buffer[o+1];if(!l&&!this.atEnd)return this.setNext("block-scalar");if(l===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const o=this.continueScalar(t+1);if(o===-1)break;t=this.buffer.indexOf(`
`,o)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let a=t+1;for(n=this.buffer[a];n===" ";)n=this.buffer[++a];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n===`
`;)n=this.buffer[++a];t=a-1}else if(!this.blockScalarKeep)do{let o=t-1,l=this.buffer[o];l==="\r"&&(l=this.buffer[--o]);const c=o;for(;l===" ";)l=this.buffer[--o];if(l===`
`&&o>=this.pos&&o+1+r>c)t=o;else break}while(!0);return yield Ib,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r=this.pos-1,n=this.pos-1,a;for(;a=this.buffer[++n];)if(a===":"){const o=this.buffer[n+1];if(Bl(o)||t&&ST.has(o))break;r=n}else if(Bl(a)){let o=this.buffer[n+1];if(a==="\r"&&(o===`
`?(n+=1,a=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&ST.has(o))break;if(a===`
`){const l=this.continueScalar(n+1);if(l===-1)break;n=Math.max(n,l-2)}}else{if(t&&ST.has(a))break;r=n}return!a&&!this.atEnd?this.setNext("plain-scalar"):(yield Ib,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(M8))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,r=this.charAt(1);if(Bl(r)||t&&ST.has(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!Bl(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(f7e.has(r))r=this.buffer[++t];else if(r==="%"&&RH.has(this.buffer[t+1])&&RH.has(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");const a=r-this.pos;return a>0&&(yield this.buffer.substr(this.pos,a),this.pos=r),a}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};class ste{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){const o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};const a=this.lineStarts[r-1];return{line:r,col:t-a+1}}}}function fd(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function OH(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function ote(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function AT(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function t1(e){var r;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((r=e[++t])==null?void 0:r.type)==="space";);return e.splice(t,e.length)}function _H(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!fd(t.start,"explicit-key-ind")&&!fd(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,ote(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}let D9=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ate,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const r=ite(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const r=t??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{const n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&_H(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{const a=n.items[n.items.length-1];if(a.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(a.sep)a.value=r;else{Object.assign(a,{key:r,sep:[]}),this.onKeyLine=!a.explicitKey;return}break}case"block-seq":{const a=n.items[n.items.length-1];a.value?n.items.push({start:[],value:r}):a.value=r;break}case"flow-collection":{const a=n.items[n.items.length-1];!a||a.value?n.items.push({start:[],key:r,sep:[]}):a.sep?a.value=r:Object.assign(a,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){const a=r.items[r.items.length-1];a&&!a.sep&&!a.value&&a.start.length>0&&OH(a.start)===-1&&(r.indent===0||a.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=a.start:n.items.push({start:a.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{OH(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const r=AT(this.peek(2)),n=t1(r);let a;t.end?(a=t.end,a.push(this.sourceToken),delete t.end):a=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){const a="end"in r.value?r.value.end:void 0,o=Array.isArray(a)?a[a.length-1]:void 0;(o==null?void 0:o.type)==="comment"?a==null||a.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){const a=t.items[t.items.length-2],o=(n=a==null?void 0:a.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const a=!this.onKeyLine&&this.indent===t.indent,o=a&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind";let l=[];if(o&&r.sep&&!r.value){const c=[];for(let u=0;u<r.sep.length;++u){const h=r.sep[u];switch(h.type){case"newline":c.push(u);break;case"space":break;case"comment":h.indent>t.indent&&(c.length=0);break;default:c.length=0}}c.length>=2&&(l=r.sep.splice(c[1]))}switch(this.type){case"anchor":case"tag":o||r.value?(l.push(this.sourceToken),t.items.push({start:l}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):o||r.value?(l.push(this.sourceToken),t.items.push({start:l,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(fd(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]});else if(ote(r.key)&&!fd(r.sep,"newline")){const c=t1(r.start),u=r.key,h=r.sep;h.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:u,sep:h}]})}else l.length>0?r.sep=r.sep.concat(l,this.sourceToken):r.sep.push(this.sourceToken);else if(fd(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{const c=t1(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:c,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||o?t.items.push({start:l,key:null,sep:[this.sourceToken]}):fd(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const c=this.flowScalar(this.type);o||r.value?(t.items.push({start:l,key:c,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(c):(Object.assign(r,{key:c,sep:[]}),this.onKeyLine=!0);return}default:{const c=this.startBlockValue(t);if(c){a&&c.type!=="block-seq"&&t.items.push({start:l}),this.stack.push(c);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var n;const r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){const a="end"in r.value?r.value.end:void 0,o=Array.isArray(a)?a[a.length-1]:void 0;(o==null?void 0:o.type)==="comment"?a==null||a.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){const a=t.items[t.items.length-2],o=(n=a==null?void 0:a.value)==null?void 0:n.end;if(Array.isArray(o)){Array.prototype.push.apply(o,r.start),o.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||fd(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){const a=this.startBlockValue(t);if(a){this.stack.push(a);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:a,sep:[]}):r.sep?this.stack.push(a):Object.assign(r,{key:a,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){const a=AT(n),o=t1(a);_H(t);const l=t.end.splice(1,t.end.length);l.push(this.sourceToken);const c={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:l}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=c}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const r=AT(t),n=t1(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const r=AT(t),n=t1(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};function lte(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new ste||null,prettyErrors:t}}function p7e(e,t={}){const{lineCounter:r,prettyErrors:n}=lte(t),a=new D9(r==null?void 0:r.addNewLine),o=new M9(t),l=Array.from(o.compose(a.parse(e)));if(n&&r)for(const c of l)c.errors.forEach(x5(e,r)),c.warnings.forEach(x5(e,r));return l.length>0?l:Object.assign([],{empty:!0},o.streamInfo())}function cte(e,t={}){const{lineCounter:r,prettyErrors:n}=lte(t),a=new D9(r==null?void 0:r.addNewLine),o=new M9(t);let l=null;for(const c of o.compose(a.parse(e),!0,e.length))if(!l)l=c;else if(l.options.logLevel!=="silent"){l.errors.push(new Td(c.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(l.errors.forEach(x5(e,r)),l.warnings.forEach(x5(e,r))),l}function ute(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);const a=cte(e,r);if(!a)return null;if(a.warnings.forEach(o=>Cee(a.options.logLevel,o)),a.errors.length>0){if(a.options.logLevel!=="silent")throw a.errors[0];a.errors=[]}return a.toJS(Object.assign({reviver:n},r))}function P9(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){const a=Math.round(r);r=a<1?void 0:a>8?{indent:8}:{indent:a}}if(e===void 0){const{keepUndefined:a}=r??t??{};if(!a)return}return Ip(e)&&!n?e.toString(r):new bv(e,n,r).toString(r)}const g7e=Object.freeze(Object.defineProperty({__proto__:null,Alias:l6,CST:h7e,Composer:M9,Document:bv,Lexer:ate,LineCounter:ste,Pair:Za,Parser:D9,Scalar:hr,Schema:Vee,YAMLError:N9,YAMLMap:_o,YAMLParseError:Td,YAMLSeq:Y0,YAMLWarning:jee,isAlias:Cp,isCollection:Yn,isDocument:Ip,isMap:gv,isNode:jn,isPair:Pn,isScalar:fn,isSeq:mv,parse:ute,parseAllDocuments:p7e,parseDocument:cte,stringify:P9,visit:G0,visitAsync:o6},Symbol.toStringTag,{value:"Module"}));function hte(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function fte(e){return e}function m7e(e,t){t=t||{};const r=t.delimiter||".",n=t.maxDepth,a=t.transformKey||fte,o={};function l(c,u,h){h=h||1,Object.keys(c).forEach(function(f){const d=c[f],p=t.safe&&Array.isArray(d),g=Object.prototype.toString.call(d),m=hte(d),y=g==="[object Object]"||g==="[object Array]",b=u?u+r+a(f):a(f);if(!p&&!m&&y&&Object.keys(d).length&&(!t.maxDepth||h<n))return l(d,b,h+1);o[b]=d})}return l(e),o}function x6(e,t){t=t||{};const r=t.delimiter||".",n=t.overwrite||!1,a=t.transformKey||fte,o={};if(hte(e)||Object.prototype.toString.call(e)!=="[object Object]")return e;function c(f){const d=Number(f);return isNaN(d)||f.indexOf(".")!==-1||t.object?f:d}function u(f,d,p){return Object.keys(p).reduce(function(g,m){return g[f+r+m]=p[m],g},d)}function h(f){const d=Object.prototype.toString.call(f),p=d==="[object Array]",g=d==="[object Object]";if(f){if(p)return!f.length;if(g)return!Object.keys(f).length}else return!0}return e=Object.keys(e).reduce(function(f,d){const p=Object.prototype.toString.call(e[d]);return!(p==="[object Object]"||p==="[object Array]")||h(e[d])?(f[d]=e[d],f):u(d,f,m7e(e[d],t))},{}),Object.keys(e).forEach(function(f){const d=f.split(r).map(a);let p=c(d.shift()),g=c(d[0]),m=o;for(;g!==void 0;){if(p==="__proto__")return;const y=Object.prototype.toString.call(m[p]),b=y==="[object Object]"||y==="[object Array]";if(!n&&!b&&typeof m[p]<"u")return;(n&&!b||!n&&m[p]==null)&&(m[p]=typeof g=="number"&&!t.object?[]:{}),m=m[p],d.length>0&&(p=c(d.shift()),g=c(d[0]))}m[p]=x6(e[f],t)}),o}function v7e(e,t,r,n){const a=r.enter("blockquote"),o=r.createTracker(n);o.move("> "),o.shift(2);const l=r.indentLines(r.containerFlow(e,o.current()),y7e);return a(),l}function y7e(e,t,r){return">"+(r?"":" ")+e}function b7e(e,t){return NH(e,t.inConstruct,!0)&&!NH(e,t.notInConstruct,!1)}function NH(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function LH(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&b7e(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function x7e(e,t){const r=String(e);let n=r.indexOf(t),a=n,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++o>l&&(l=o):o=1,a=n+t.length,n=r.indexOf(t,a);return l}function T7e(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function w7e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function E7e(e,t,r,n){const a=w7e(r),o=e.value||"",l=a==="`"?"GraveAccent":"Tilde";if(T7e(e,r)){const d=r.enter("codeIndented"),p=r.indentLines(o,S7e);return d(),p}const c=r.createTracker(n),u=a.repeat(Math.max(x7e(o,a)+1,3)),h=r.enter("codeFenced");let f=c.move(u);if(e.lang){const d=r.enter(`codeFencedLang${l}`);f+=c.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...c.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${l}`);f+=c.move(" "),f+=c.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...c.current()})),d()}return f+=c.move(`
`),o&&(f+=c.move(o+`
`)),f+=c.move(u),h(),f}function S7e(e,t,r){return(r?"":"    ")+e}function F9(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function A7e(e,t,r,n){const a=F9(r),o=a==='"'?"Quote":"Apostrophe",l=r.enter("definition");let c=r.enter("label");const u=r.createTracker(n);let h=u.move("[");return h+=u.move(r.safe(r.associationId(e),{before:h,after:"]",...u.current()})),h+=u.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(c=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":`
`,...u.current()}))),c(),e.title&&(c=r.enter(`title${o}`),h+=u.move(" "+a),h+=u.move(r.safe(e.title,{before:h,after:a,...u.current()})),h+=u.move(a),c()),l(),h}function k7e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Rb(e){return"&#x"+e.toString(16).toUpperCase()+";"}function w5(e,t,r){const n=vm(e),a=vm(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}dte.peek=C7e;function dte(e,t,r,n){const a=k7e(r),o=r.enter("emphasis"),l=r.createTracker(n),c=l.move(a);let u=l.move(r.containerPhrasing(e,{after:a,before:c,...l.current()}));const h=u.charCodeAt(0),f=w5(n.before.charCodeAt(n.before.length-1),h,a);f.inside&&(u=Rb(h)+u.slice(1));const d=u.charCodeAt(u.length-1),p=w5(n.after.charCodeAt(0),d,a);p.inside&&(u=u.slice(0,-1)+Rb(d));const g=l.move(a);return o(),r.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},c+u+g}function C7e(e,t,r){return r.options.emphasis||"*"}function I7e(e,t){let r=!1;return Vd(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,LI}),!!((!e.depth||e.depth<3)&&s9(e)&&(t.options.setext||r))}function R7e(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),o=r.createTracker(n);if(I7e(e,r)){const f=r.enter("headingSetext"),d=r.enter("phrasing"),p=r.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const l="#".repeat(a),c=r.enter("headingAtx"),u=r.enter("phrasing");o.move(l+" ");let h=r.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(h)&&(h=Rb(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,r.options.closeAtx&&(h+=" "+l),u(),c(),h}pte.peek=O7e;function pte(e){return e.value||""}function O7e(){return"<"}gte.peek=_7e;function gte(e,t,r,n){const a=F9(r),o=a==='"'?"Quote":"Apostrophe",l=r.enter("image");let c=r.enter("label");const u=r.createTracker(n);let h=u.move("![");return h+=u.move(r.safe(e.alt,{before:h,after:"]",...u.current()})),h+=u.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(c=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":")",...u.current()}))),c(),e.title&&(c=r.enter(`title${o}`),h+=u.move(" "+a),h+=u.move(r.safe(e.title,{before:h,after:a,...u.current()})),h+=u.move(a),c()),h+=u.move(")"),l(),h}function _7e(){return"!"}mte.peek=N7e;function mte(e,t,r,n){const a=e.referenceType,o=r.enter("imageReference");let l=r.enter("label");const c=r.createTracker(n);let u=c.move("![");const h=r.safe(e.alt,{before:u,after:"]",...c.current()});u+=c.move(h+"]["),l();const f=r.stack;r.stack=[],l=r.enter("reference");const d=r.safe(r.associationId(e),{before:u,after:"]",...c.current()});return l(),r.stack=f,o(),a==="full"||!h||h!==d?u+=c.move(d+"]"):a==="shortcut"?u=u.slice(0,-1):u+=c.move("]"),u}function N7e(){return"!"}vte.peek=L7e;function vte(e,t,r){let n=e.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++o<r.unsafe.length;){const l=r.unsafe[o],c=r.compilePattern(l);let u;if(l.atBreak)for(;u=c.exec(n);){let h=u.index;n.charCodeAt(h)===10&&n.charCodeAt(h-1)===13&&h--,n=n.slice(0,h)+" "+n.slice(u.index+1)}}return a+n+a}function L7e(){return"`"}function yte(e,t){const r=s9(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}bte.peek=M7e;function bte(e,t,r,n){const a=F9(r),o=a==='"'?"Quote":"Apostrophe",l=r.createTracker(n);let c,u;if(yte(e,r)){const f=r.stack;r.stack=[],c=r.enter("autolink");let d=l.move("<");return d+=l.move(r.containerPhrasing(e,{before:d,after:">",...l.current()})),d+=l.move(">"),c(),r.stack=f,d}c=r.enter("link"),u=r.enter("label");let h=l.move("[");return h+=l.move(r.containerPhrasing(e,{before:h,after:"](",...l.current()})),h+=l.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(r.safe(e.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(u=r.enter("destinationRaw"),h+=l.move(r.safe(e.url,{before:h,after:e.title?" ":")",...l.current()}))),u(),e.title&&(u=r.enter(`title${o}`),h+=l.move(" "+a),h+=l.move(r.safe(e.title,{before:h,after:a,...l.current()})),h+=l.move(a),u()),h+=l.move(")"),c(),h}function M7e(e,t,r){return yte(e,r)?"<":"["}xte.peek=D7e;function xte(e,t,r,n){const a=e.referenceType,o=r.enter("linkReference");let l=r.enter("label");const c=r.createTracker(n);let u=c.move("[");const h=r.containerPhrasing(e,{before:u,after:"]",...c.current()});u+=c.move(h+"]["),l();const f=r.stack;r.stack=[],l=r.enter("reference");const d=r.safe(r.associationId(e),{before:u,after:"]",...c.current()});return l(),r.stack=f,o(),a==="full"||!h||h!==d?u+=c.move(d+"]"):a==="shortcut"?u=u.slice(0,-1):u+=c.move("]"),u}function D7e(){return"["}function B9(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function P7e(e){const t=B9(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function F7e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Tte(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function B7e(e,t,r,n){const a=r.enter("list"),o=r.bulletCurrent;let l=e.ordered?F7e(r):B9(r);const c=e.ordered?l==="."?")":".":P7e(r);let u=t&&r.bulletLastUsed?l===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),Tte(r)===l&&f){let d=-1;for(;++d<e.children.length;){const p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(l=c),r.bulletCurrent=l;const h=r.containerFlow(e,n);return r.bulletLastUsed=l,r.bulletCurrent=o,a(),h}function $7e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function H7e(e,t,r,n){const a=$7e(r);let o=r.bulletCurrent||B9(r);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=r.createTracker(n);c.move(o+" ".repeat(l-o.length)),c.shift(l);const u=r.enter("listItem"),h=r.indentLines(r.containerFlow(e,c.current()),f);return u(),h;function f(d,p,g){return p?(g?"":" ".repeat(l))+d:(g?o:o+" ".repeat(l-o.length))+d}}function U7e(e,t,r,n){const a=r.enter("paragraph"),o=r.enter("phrasing"),l=r.containerPhrasing(e,n);return o(),a(),l}const W7e=dv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function z7e(e,t,r,n){return(e.children.some(function(l){return W7e(l)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function G7e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}wte.peek=Y7e;function wte(e,t,r,n){const a=G7e(r),o=r.enter("strong"),l=r.createTracker(n),c=l.move(a+a);let u=l.move(r.containerPhrasing(e,{after:a,before:c,...l.current()}));const h=u.charCodeAt(0),f=w5(n.before.charCodeAt(n.before.length-1),h,a);f.inside&&(u=Rb(h)+u.slice(1));const d=u.charCodeAt(u.length-1),p=w5(n.after.charCodeAt(0),d,a);p.inside&&(u=u.slice(0,-1)+Rb(d));const g=l.move(a+a);return o(),r.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},c+u+g}function Y7e(e,t,r){return r.options.strong||"*"}function V7e(e,t,r,n){return r.safe(e.value,n)}function q7e(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function j7e(e,t,r){const n=(Tte(r)+(r.options.ruleSpaces?" ":"")).repeat(q7e(r));return r.options.ruleSpaces?n.slice(0,-1):n}const b0={blockquote:v7e,break:LH,code:E7e,definition:A7e,emphasis:dte,hardBreak:LH,heading:R7e,html:pte,image:gte,imageReference:mte,inlineCode:vte,link:bte,linkReference:xte,list:B7e,listItem:H7e,paragraph:U7e,root:z7e,strong:wte,text:V7e,thematicBreak:j7e},E5="---",X7e="```yaml [props]",K7e=`
`,Z7e="\r";function Q7e(e,t=""){if(!Object.keys(e).length)return t.trim();e=x6(e||{},{});const r=[E5,P9(e).trim(),E5,""].join(`
`);return t?[r,t.trim(),""].join(`
`):r}function J7e(e,t=""){return Object.keys(e).length?(e=x6(e||{},{}),[X7e,P9(e).trim(),"```",t].join(`
`)):""}function eIe(e){let t={};if(e.startsWith(E5)){const r=e.indexOf(K7e+E5);if(r!==-1){const n=e[r-1]===Z7e,a=e.slice(4,r-(n?1:0));a&&(t=ute(a),e=e.slice(r+4+(n?1:0)))}}return{content:e,data:x6(t||{},{})}}function S5(e){const t=e||{},r=t.now||{};let n=t.lineShift||0,a=r.line||1,o=r.column||1;return{move:u,current:l,shift:c};function l(){return{now:{line:a,column:o},lineShift:n}}function c(h){n+=h}function u(h=""){const f=h.split(/\r?\n|\r/g),d=f[f.length-1];return a+=f.length-1,o=f.length===1?o+d.length:1+d.length+n,h}}function tIe(e,t,r={}){const n=t.indexStack,a=e.children||[],o=S5(r),l=[];let c=-1;for(n.push(-1);++c<a.length;){const u=a[c];n[n.length-1]=c,l.push(o.move(t.handle(u,e,t,{before:"",after:"",...o.current()})))}return n.pop(),l.join("")}function rIe(e,t,r={}){const n=t.indexStack,a=e.children||[],o=S5(r),l=[];let c=-1;for(n.push(-1);++c<a.length;){const h=a[c];n[n.length-1]=c,l.push(o.move(t.handle(h,e,t,{before:`
`,after:`
`,...o.current()}))),h.type!=="list"&&(t.bulletLastUsed=void 0),c<a.length-1&&l.push(o.move(u(h,a[c+1])))}return n.pop(),l.join("");function u(h,f){let d=t.join.length;for(;d--;){const p=t.join[d](h,f,e,t);if(p===!0||p===1)break;if(typeof p=="number")return`
`.repeat(1+p);if(p===!1)return`

\x3C!---->

`}return`

`}}function nIe(e,t,r){const n=t.indexStack,a=e.children||[],o=[];let l=-1,c=r.before;n.push(-1);let u=S5(r);for(;++l<a.length;){const h=a[l];let f;if(n[n.length-1]=l,l+1<a.length){let d=t.handle.handlers[a[l+1].type];d&&d.peek&&(d=d.peek),f=d?d(a[l+1],e,t,{before:"",after:"",...u.current()}).charAt(0):""}else f=r.after;o.length>0&&(c==="\r"||c===`
`)&&h.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),c=" ",u=S5(r),u.move(o.join(""))),o.push(u.move(t.handle(h,e,t,{...u.current(),before:c,after:f}))),c=o[o.length-1].slice(-1)}return n.pop(),o.join("")}function iIe(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}const aIe=new Set(["componentContainerSection","containerComponent","leafComponent"]),Ete=new Set(["componentContainerSection","componentContainerDataSection","containerComponent","leafComponent","table","pre","code","textComponent"]),sIe={}.hasOwnProperty,MH=/^[^\t\n\r "#'.<=>`}]+$/,oIe=2;function DH(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}const lIe=(e={})=>{const t=(g,{safeTypes:m=[]})=>{var b;const y=x=>Ete.has(x)||m.includes(x);(b=g.mdc)!=null&&b.unwrapped&&(g.children=[{type:g.mdc.unwrapped,children:g.children.filter(x=>!y(x.type))},...g.children.filter(x=>y(x.type))])},r=g=>{const m=Object.entries(g.fmAttributes||{});if(m.length===0)return"";const y=m.sort(([b],[x])=>b.localeCompare(x)).reduce((b,[x,T])=>{if(x!=null&&x.startsWith(":")&&h(T)){try{T=JSON.parse(T)}catch{}x=x.slice(1)}return b[x]=T,b},{});return`
`+(e!=null&&e.yamlCodeBlockProps?J7e(y).trim():Q7e(y).trim())},n=g=>{e.autoUnwrap&&t(g,typeof e.autoUnwrap=="boolean"?{}:e.autoUnwrap)};function a(g,m,y){return y.indexStack=y.stack,n(g),`#${g.name}${f(g,y)}
${d(g,y)}`.trim()}function o(g,m,y){let b;y.indexStack=y.stack;const x=y.enter(g.type);if(g.name==="span")b=`[${d(g,y)}]${f(g,y)}`;else if(g.name==="binding"){const T=g.attributes||{};b=T.defaultValue?`{{ ${T.value} || '${T.defaultValue}' }}`:`{{ ${T.value} }}`}else b=":"+(g.name||"")+u(g,y)+f(g,y);return x(),b}let l=0;function c(g,m,y){var k;y.indexStack=y.stack;const b=":".repeat(oIe+l);l+=1;const x=y.enter(g.type);let T=b+(g.name||"")+u(g,y);const w=g.children.filter(O=>O.type!=="componentContainerSection"),E=g.children.filter(O=>O.type==="componentContainerSection");g.children=[...w,...E],g.fmAttributes=g.fmAttributes||{};const S=f(g,y);((T+S).length>((e==null?void 0:e.maxAttributesLength)||80)||Object.keys(g.fmAttributes).length>0||(k=g.children)!=null&&k.some(O=>O.type==="componentContainerSection"))&&(Object.assign(g.fmAttributes,g.attributes),g.attributes=[]),n(g),T+=f(g,y),T+=r(g);let C;return g.type==="containerComponent"&&(C=d(g,y),C&&(T+=`
`+C),T+=`
`+b,l>1&&(T=T.split(`
`).map(O=>"  "+O).join(`
`))),l-=1,x(),T}c.peek=function(){return":"};function u(g,m){let y=g;if(g.type==="containerComponent"){if(!p(g))return"";y=g.children[0]}const b=m.enter("label"),x=m.enter(g.type+"Label"),T=nIe(y,m,{before:"[",after:"]"});return x(),b(),T?"["+T+"]":""}const h=g=>{try{return JSON.parse(g),!0}catch{return!1}};function f(g,m){const y=iIe(m),b=g.type==="textComponent"?[y]:[y,`
`,"\r"],x=Object.fromEntries(Object.entries(g.attributes||{}).sort(([_],[R])=>_.localeCompare(R))),T=[];let w,E="",S="",C,k,O;for(k in x)if(sIe.call(x,k)&&x[k]!=null)if(C=String(x[k]),k==="id")w=MH.test(C)?"#"+C:I("id",C);else if(k==="class"){for(C=C.split(/[\t\n\r ]+/g),E=[],S=[],O=-1;++O<C.length;)(MH.test(C[O])?S:E).push(C[O]);E=E.length?I("class",E.join(" ")):"",S=S.length?"."+S.join("."):""}else k.startsWith(":")&&C==="true"?T.push(k.slice(1)):k.startsWith(":")&&h(C)?T.push(`${k}='${C.replace(/([^/])'/g,"$1\\'")}'`):T.push(I(k,C));return E&&T.unshift(E),S&&T.unshift(S),w&&T.unshift(w),T.length?"{"+T.join(" ")+"}":"";function I(_,R){return _+"="+y+LJ(R,{subset:b})+y}}function d(g,m){const y=p(g)?Object.assign({},g,{children:g.children.slice(1)}):g;return g.type==="textComponent"?tIe(y,m):rIe(y,m)}function p(g){return g.children&&g.children[0]&&g.children[0].data&&g.children[0].data.componentLabel}return{compilePattern:DH,unsafe:[{character:"\r",inConstruct:["leafComponentLabel","containerComponentLabel"]},{character:`
`,inConstruct:["leafComponentLabel","containerComponentLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}],handlers:{containerComponent:c,textComponent:o,componentContainerSection:a,image:(g,m,y,b)=>b0.image(g,m,y,b)+f(g,y),link:(g,m,y,b)=>b0.link(g,m,y,b)+f(g,y),linkReference:(g,m,y,b)=>b0.linkReference(g,m,y,b)+f(g,y),strong:(g,m,y,b)=>b0.strong(g,m,y,b)+f(g,y),inlineCode:(g,m,y)=>(y.compilePattern=y.compilePattern||DH,b0.inlineCode(g,m,y)+f(g,y)),emphasis:(g,m,y,b)=>b0.emphasis(g,m,y,b)+f(g,y)}}},cIe=(e={})=>{const t=["textComponent"],r=L=>{var B;const D=L.children[0];D&&((B=D.children)!=null&&B.length)&&D.children[0].type==="code"&&D.children[0].lang==="yaml"&&D.children[0].meta==="[props]"&&(L.rawData=D.children[0].value,L.mdc=L.mdc||{},L.mdc.codeBlockProps=!0,D.children.splice(0,1))},n=(L,{safeTypes:D=[]})=>{if(!aIe.has(L.type))return;const B=L.children.filter(G=>G.type!=="componentContainerSection");if(B.length!==1)return;const H=B[0];if(Ete.has(H.type)||D.includes(H.type))return;const U=L.children.indexOf(H);L.children.splice(U,1,...(H==null?void 0:H.children)||[]),L.mdc=L.mdc||{},L.mdc.unwrapped=H.type},a=L=>{e.yamlCodeBlockProps&&r(L),e.autoUnwrap&&n(L,typeof e.autoUnwrap=="boolean"?{}:e.autoUnwrap)},o={componentContainer:h,componentContainerSection:d,componentContainerDataSection:p,componentContainerAttributes:O,componentContainerLabel:C,bindingContent:c,componentLeaf:b,componentLeafAttributes:O,componentText:T,textSpan:x,componentTextAttributes:O},l={bindingContent:u,componentContainerSectionTitle:y,listUnordered:P,listOrdered:P,listItem:P,componentContainerSection:g,componentContainerDataSection:m,componentContainer:f,componentContainerAttributeClassValue:_,componentContainerAttributeIdValue:I,componentContainerAttributeName:M,componentContainerAttributeValue:R,componentContainerAttributes:$,componentContainerLabel:k,componentContainerName:E,componentContainerAttributeInitializerMarker(){const L=this.data.componentAttributes;L[L.length-1][1]=""},componentLeaf:N,componentLeafAttributeClassValue:_,componentLeafAttributeIdValue:I,componentLeafAttributeName:M,componentLeafAttributeValue:R,componentLeafAttributes:$,componentLeafName:S,componentText:N,textSpan:N,componentTextAttributeClassValue:_,componentTextAttributeIdValue:I,componentTextAttributeName:M,componentTextAttributeValue:R,componentTextAttributes:$,componentTextName:E};function c(L){var H;const B=/([^|]*)(?:\|\|\s*'(.*)')?/.exec(this.sliceSerialize(L));this.enter({type:"textComponent",name:"binding",attributes:{value:(H=B==null?void 0:B[1])==null?void 0:H.trim(),defaultValue:B==null?void 0:B[2]}},L)}function u(L){this.exit(L)}function h(L){w.call(this,"containerComponent",L)}function f(L){const D=this.stack[this.stack.length-1];if(D.children.length>1){const B=D.children.find(H=>H.rawData);D.rawData=B==null?void 0:B.rawData}a(D),D.children=D.children.flatMap(B=>{var H,U;return B.rawData?[]:B.name==="default"&&Object.keys(B.attributes).length===0||!B.name?((H=B.mdc)!=null&&H.unwrapped&&(D.mdc=D.mdc||{},D.mdc.unwrapped=(U=B.mdc)==null?void 0:U.unwrapped),B.children):(B.data={hName:"component-slot",hProperties:{...B.attributes,[`v-slot:${B.name}`]:""}},B)}),this.exit(L)}function d(L){w.call(this,"componentContainerSection",L)}function p(L){w.call(this,"componentContainerDataSection",L)}function g(L){const D=this.stack[this.stack.length-1];F.call(this,D),a(D),this.exit(L)}function m(L){let D=this.stack[this.stack.length-1];D=F.call(this,D),D.type==="componentContainerDataSection"&&(D.rawData=this.sliceSerialize(L),this.exit(L))}function y(L){var D;this.stack[this.stack.length-1].name=(D=this.sliceSerialize(L))==null?void 0:D.trim()}function b(L){w.call(this,"leafComponent",L)}function x(L){this.enter({type:"textComponent",name:"span",attributes:{},children:[]},L)}function T(L){w.call(this,"textComponent",L)}function w(L,D){this.enter({type:L,name:"",attributes:{},children:[]},D)}function E(L){this.stack[this.stack.length-1].name=FI(this.sliceSerialize(L))}function S(L){this.stack[this.stack.length-1].name=this.sliceSerialize(L)}function C(L){this.enter({type:"paragraph",data:{componentLabel:!0},children:[]},L)}function k(L){this.exit(L)}function O(){this.data.componentAttributes=[],this.buffer()}function I(L){this.data.componentAttributes.push(["id",ag(this.sliceSerialize(L))])}function _(L){this.data.componentAttributes.push(["class",ag(this.sliceSerialize(L))])}function R(L){const D=this.data.componentAttributes,B=D[D.length-1];B[1]=(typeof B[1]=="string"?B[1]:"")+ag(this.sliceSerialize(L))}function M(L){this.data.componentAttributes.push([this.sliceSerialize(L),!0])}function $(){var G,W;const L=this.data.componentAttributes,D={};let B=-1,H;for(;++B<L.length;){H=L[B];const ee=FI(H[0]);ee==="class"&&D.class?D.class+=" "+H[1]:D[ee]=H[1]}this.data.componentAttributes=L,this.resume();let U=this.stack[this.stack.length-1];if(U.type!=="textComponent"||U.name==="span")for(;!((G=U.position)!=null&&G.end)&&((W=U.children)==null?void 0:W.length)>0;)U=U.children[U.children.length-1];U.attributes=D}function N(L){this.exit(L)}function P(L){const[D]=this.tokenStack[this.tokenStack.length-1];D.type===L.type&&this.exit(L)}function F(L){for(;L.type==="listItem"||L.type==="list";){const[D]=this.tokenStack[this.tokenStack.length-1];this.exit(D),L=this.stack[this.stack.length-1]}return L}return{canContainEols:t,enter:o,exit:l}},uIe=2,hIe=3,PH=35,fIe=1,Ze={EOF:null,space:32,quotationMark:34,hash:35,apostrophe:39,openingParentheses:40,star:42,dash:45,dot:46,colon:58,LessThan:60,equals:61,greaterThan:62,uppercaseX:88,openingSquareBracket:91,backSlash:92,closingSquareBracket:93,underscore:95,backTick:96,lowercaseX:120,openingCurlyBracket:123,closingCurlyBracket:125};function $9(e,t,r,n,a,o,l){let c=0,u=0;return h;function h(y){if(y!==Ze.openingSquareBracket)throw new Error("expected `[`");return e.enter(n),e.enter(a),e.consume(y),e.exit(a),f}function f(y){return y===Ze.closingSquareBracket?(e.enter(a),e.consume(y),e.exit(a),e.exit(n),t):(e.enter(o),d(y))}function d(y){return y===Ze.EOF||c>999?r(y):y===Ze.closingSquareBracket&&!u--?g(y):yt(y)?l?r(y):(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkText",{contentType:"text"}),p(y))}function p(y){return y===Ze.EOF||yt(y)||c>999?(e.exit("chunkText"),d(y)):y===Ze.openingSquareBracket&&++u>3?r(y):y===Ze.closingSquareBracket&&!u--?(e.exit("chunkText"),g(y)):(e.consume(y),y===Ze.backSlash?m:p)}function g(y){return e.exit(o),e.enter(a),e.consume(y),e.exit(a),e.exit(n),t}function m(y){return y===Ze.openingSquareBracket||y===Ze.backSlash||y===Ze.closingSquareBracket?(e.consume(y),c++,p):p(y)}}const dIe={tokenize:vIe,partial:!0},pIe={tokenize:bIe,partial:!0},gIe={tokenize:xIe,partial:!0};function mIe(e,t,r){const n=this;return a;function a(u){if(u!==Ze.openingSquareBracket)throw new Error("expected `[`");return n.previous===Ze.EOF&&n._gfmTasklistFirstContentOfListItem?e.check(pIe,r,o)(u):n.previous===Ze.openingSquareBracket?r(u):e.check(gIe,r,o)(u)}function o(u){return e.enter("textSpan"),e.attempt(dIe,l,r)(u)}function l(u){return u===Ze.openingParentheses||u===Ze.openingSquareBracket?r(u):c(u)}function c(u){return e.exit("textSpan"),t(u)}}function vIe(e,t,r){return $9(e,t,r,"componentTextLabel","componentTextLabelMarker","componentTextLabelString")}const yIe={tokenize:mIe};function bIe(e,t,r){return n;function n(o){return e.enter("formGfmTaskCheckbox"),e.consume(o),a}function a(o){return Xt(o)||o===Ze.uppercaseX||o===Ze.lowercaseX?(e.consume(o),a):o===Ze.closingSquareBracket?(e.exit("formGfmTaskCheckbox"),t(o)):r(o)}}function xIe(e,t,r){return n;function n(o){return e.enter("doubleBracket"),e.consume(o),a}function a(o){return o!==Ze.openingSquareBracket?r(o):(e.exit("doubleBracket"),t(o))}}function H9(e,t,r,n,a,o,l,c,u,h,f,d,p,g,m){let y,b,x=!1;return T;function T(B){return e.enter(n),e.enter(a),e.consume(B),e.exit(a),w}function w(B){return B===Ze.hash?(y=l,E(B)):B===Ze.dot?(y=c,E(B)):B===Ze.colon||B===Ze.underscore||Ci(B)?(e.enter(o),e.enter(u),e.consume(B),x=B===Ze.colon,B===Ze.colon?k:I):m&&Xt(B)?Ft(e,w,"whitespace")(B):!m&&dr(B)?Qs(e,w)(B):D(B)}function E(B){return e.enter(o),e.enter(y),e.enter(y+"Marker"),e.consume(B),e.exit(y+"Marker"),S}function S(B){return B===Ze.EOF||B===Ze.quotationMark||B===Ze.hash||B===Ze.apostrophe||B===Ze.dot||B===Ze.LessThan||B===Ze.equals||B===Ze.greaterThan||B===Ze.backTick||B===Ze.closingCurlyBracket||dr(B)?r(B):(e.enter(y+"Value"),e.consume(B),C)}function C(B){return B===Ze.EOF||B===Ze.quotationMark||B===Ze.apostrophe||B===Ze.LessThan||B===Ze.equals||B===Ze.greaterThan||B===Ze.backTick?r(B):B===Ze.hash||B===Ze.dot||B===Ze.closingCurlyBracket||dr(B)?(e.exit(y+"Value"),e.exit(y),e.exit(o),w(B)):(e.consume(B),C)}function k(B){return B===Ze.dash||yi(B)?(e.consume(B),k):(e.exit(u),m&&Xt(B)?Ft(e,O,"whitespace")(B):!m&&dr(B)?Qs(e,O)(B):O(B))}function O(B){return B===Ze.equals?(e.enter(h),e.consume(B),e.exit(h),R):(e.exit(o),r(B))}function I(B){return B===Ze.dash||B===Ze.dot||B===Ze.colon||B===Ze.underscore||yi(B)?(e.consume(B),I):(e.exit(u),m&&Xt(B)?Ft(e,_,"whitespace")(B):!m&&dr(B)?Qs(e,_)(B):_(B))}function _(B){return B===Ze.equals?(e.enter(h),e.consume(B),e.exit(h),R):(e.exit(o),w(B))}function R(B){return B===Ze.EOF||B===Ze.LessThan||B===Ze.equals||B===Ze.greaterThan||B===Ze.backTick||B===Ze.closingCurlyBracket||m&&yt(B)?r(B):B===Ze.quotationMark||B===Ze.apostrophe?(e.enter(f),e.enter(p),e.consume(B),e.exit(p),b=B,$):m&&Xt(B)?Ft(e,R,"whitespace")(B):!m&&dr(B)?Qs(e,R)(B):(e.enter(d),e.enter(g),e.consume(B),b=void 0,M)}function M(B){return B===Ze.EOF||B===Ze.quotationMark||B===Ze.apostrophe||B===Ze.LessThan||B===Ze.equals||B===Ze.greaterThan||B===Ze.backTick?r(B):B===Ze.closingCurlyBracket||dr(B)?(e.exit(g),e.exit(d),e.exit(o),w(B)):(e.consume(B),M)}function $(B){return B===b?(e.enter(p),e.consume(B),e.exit(p),e.exit(f),e.exit(o),L):(e.enter(d),N(B))}function N(B){return B===b?(e.exit(d),$(B)):B===Ze.EOF?r(B):yt(B)?m?r(B):Qs(e,N)(B):(e.enter(g),e.consume(B),P)}function P(B){return x&&B===Ze.backSlash?(e.exit(g),e.exit(d),e.enter("escapeCharacter"),e.consume(B),e.exit("escapeCharacter"),e.enter(d),e.enter(g),F):B===b||B===Ze.EOF||yt(B)?(e.exit(g),N(B)):(e.consume(B),P)}function F(B){return e.consume(B),P}function L(B){return B===Ze.closingCurlyBracket||dr(B)?w(B):D(B)}function D(B){return B===Ze.closingCurlyBracket?(e.enter(a),e.consume(B),e.exit(a),e.exit(n),t):r(B)}}const TIe={tokenize:SIe,partial:!0},wIe=["textSpan","attentionSequence","codeText","link","image"];function EIe(e,t,r){const n=this;return a;function a(o){if(o!==Ze.openingCurlyBracket)throw new Error("expected `{`");const l=n.events[n.events.length-1];return yt(n.previous)||!l||!wIe.includes(l[1].type)?r(o):e.attempt(TIe,t,r)(o)}}function SIe(e,t,r){return H9(e,t,r,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const AIe={tokenize:EIe};function kIe(e,t,r){return n;function n(o){return o!==Ze.closingCurlyBracket?r(o):(e.exit("bindingContent"),e.enter("bindingFence"),e.consume(o),a)}function a(o){return o!==Ze.closingCurlyBracket?r(o):(e.consume(o),e.exit("bindingFence"),t)}}function CIe(e,t,r){return n;function n(c){if(c!==Ze.openingCurlyBracket)throw new Error("expected `{`");return e.enter("bindingFence"),e.consume(c),a}function a(c){return c!==Ze.openingCurlyBracket?r(c):(e.consume(c),e.exit("bindingFence"),e.enter("bindingContent"),o)}function o(c){return c===Ze.closingCurlyBracket?e.attempt({tokenize:kIe,partial:!0},l,u=>(e.consume(u),o))(c):(e.consume(c),o)}function l(c){return t(c)}}const IIe={tokenize:CIe};function Ste(e,t,r,n){const a=this;return o;function o(c){return Ci(c)?(e.enter(n),e.consume(c),l):r(c)}function l(c){return c===Ze.dash||c===Ze.underscore||yi(c)?(e.consume(c),l):(e.exit(n),a.previous===Ze.underscore?r(c):t(c))}}const FH={tokenize:OIe,partial:!0},BH={tokenize:_Ie,partial:!0};function Ate(e){return e!==Ze.colon||this.events[this.events.length-1][1].type==="characterEscape"}function RIe(e,t,r){const n=this;return a;function a(h){if(h!==Ze.colon)throw new Error("expected `:`");if(n.previous!==null&&!dr(n.previous)&&![Ze.openingSquareBracket,Ze.star,Ze.underscore,Ze.openingParentheses].includes(n.previous))return r(h);if(!Ate.call(n,n.previous))throw new Error("expected correct previous");return e.enter("componentText"),e.enter("componentTextMarker"),e.consume(h),e.exit("componentTextMarker"),Ste.call(n,e,o,r,"componentTextName")}function o(h){return h===Ze.colon?r(h):h===Ze.openingSquareBracket?e.attempt(FH,c,c)(h):h===Ze.openingCurlyBracket?e.attempt(BH,l,l)(h):u(h)}function l(h){return h===Ze.openingSquareBracket?e.attempt(FH,c,c)(h):u(h)}function c(h){return h===Ze.openingCurlyBracket?e.attempt(BH,u,u)(h):u(h)}function u(h){return e.exit("componentText"),t(h)}}function OIe(e,t,r){return $9(e,t,r,"componentTextLabel","componentTextLabelMarker","componentTextLabelString")}function _Ie(e,t,r){return H9(e,t,r,"componentTextAttributes","componentTextAttributesMarker","componentTextAttribute","componentTextAttributeId","componentTextAttributeClass","componentTextAttributeName","componentTextAttributeInitializerMarker","componentTextAttributeValueLiteral","componentTextAttributeValue","componentTextAttributeValueMarker","componentTextAttributeValueData")}const kte={tokenize:RIe,previous:Ate};function Cte(e){let t=-1,r=0;for(;++t<e.length;)r+=typeof e[t]=="string"?e[t].length:1;return r}function NIe(e,t){const r=e[e.length-1];return!r||r[1].type!==t?0:Cte(r[2].sliceStream(r[1]))}function GI(e){let t=0,r=e.length-1,n=e[r];for(;r>=0&&n&&n[1].type==="linePrefix"&&n[0]==="exit";)t+=Cte(n[2].sliceStream(n[1])),r-=1,n=e[r];return t}const LIe=e=>{const t={isOpen:!1,enter:r=>{const n=t.isOpen;return t.exit(r),r.enter(e),t.isOpen=!0,()=>{t.isOpen=n}},enterOnce:r=>{const n=t.isOpen;return t.isOpen||(r.enter(e),t.isOpen=!0),()=>{t.isOpen=n}},exit:r=>{const n=t.isOpen;return t.isOpen&&(r.exit(e),t.isOpen=!1),()=>{t.isOpen=n}}};return t},MIe={tokenize:DIe,partial:!0};function DIe(e,t,r){let n=0;return a;function a(l){return e.enter("codeFenced"),o(l)}function o(l){return l===Ze.backTick?(n++,e.consume(l),o):(e.exit("codeFenced"),n>=3?t(l):r(l))}}function PIe(e,t,r,n,a){let o;return e.attempt({tokenize:l,partial:!0},c,n);function l(d,p,g){const m=this;let y=0,b=0;return T;function x(E){return Xt(E)?(d.consume(E),b+=1,x):(d.exit("space"),T(E))}function T(E){return Xt(E)?(d.enter("space"),x(E)):(b===0&&(b=GI(m.events)),d.enter("componentContainerSectionSequence"),w(E))}function w(E){return E===Ze.dash||Xt(E)?(d.consume(E),y++,w):y<hIe||b!==a||!yt(E)?g(E):(d.exit("componentContainerSectionSequence"),Ft(d,p,"whitespace")(E))}}function c(d){return e.enter("componentContainerDataSection"),e.attempt({tokenize:l,partial:!0},f,u)(d)}function u(d){if(d===null)return e.exit("componentContainerDataSection"),e.exit("componentContainer"),t(d);const p=e.enter("chunkDocument",{contentType:"document",previous:o});return o&&(o.next=p),o=p,h(d)}function h(d){return d===null?(e.exit("chunkDocument"),e.exit("componentContainerDataSection"),e.exit("componentContainer"),t(d)):yt(d)?(e.consume(d),e.exit("chunkDocument"),e.attempt({tokenize:l,partial:!0},f,u)):(e.consume(d),h)}function f(d){return e.exit("componentContainerDataSection"),Ft(e,n,"whitespace")(d)}}const FIe={tokenize:$Ie,partial:!0},D8={tokenize:HIe,partial:!0};function BIe(e,t,r){const n=this,a=GI(this.events);let o=0,l;const c=[];let u=!0,h=!1;const f=LIe("componentContainerSection");return d;function d(R){if(R!==Ze.colon)throw new Error("expected `:`");return e.enter("componentContainer"),e.enter("componentContainerFence"),e.enter("componentContainerSequence"),y(R)}function p(R,M,$){let N=0,P=0,F;return L;function L(B){return P=GI(n.events),F=f.exit(R),R.enter("componentContainerSectionSequence"),D(B)}function D(B){return B===PH?(R.consume(B),N++,D):N!==fIe||P!==a||!Ci(B)?(F(),$(B)):(R.exit("componentContainerSectionSequence"),Ft(R,M,"whitespace")(B))}}function g(R){return f.enter(e),yt(R)?Ft(e,C,"whitespace")(R):(e.enter("componentContainerSectionTitle"),m(R))}function m(R){return R===Ze.openingCurlyBracket?e.check(D8,M=>(e.exit("componentContainerSectionTitle"),e.attempt(D8,Ft(e,C,"linePrefix",4),r)(M)),M=>(e.consume(M),m))(R):yt(R)?(e.exit("componentContainerSectionTitle"),Ft(e,C,"linePrefix",4)(R)):(e.consume(R),m)}function y(R){return R===Ze.colon?(e.consume(R),o++,y):o<uIe?r(R):(e.exit("componentContainerSequence"),Ste.call(n,e,b,r,"componentContainerName")(R))}function b(R){return R===Ze.openingSquareBracket?e.attempt(FIe,x,x)(R):x(R)}function x(R){return R===Ze.openingCurlyBracket?e.attempt(D8,T,T)(R):T(R)}function T(R){return Ft(e,w,"whitespace")(R)}function w(R){return e.exit("componentContainerFence"),R===null?(e.exit("componentContainer"),t(R)):yt(R)?(e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),n.interrupt?t:E):r(R)}function E(R){return R===null?(e.exit("componentContainer"),t(R)):u&&(R===Ze.dash||Xt(R))?(u=!1,PIe(e,t,r,E,a)(R)):(e.enter("componentContainerContent"),C(R))}function S(R){return R===null?I(R):R===Ze.backTick?e.check(MIe,M=>(h=!h,k(M)),k)(R):h?k(R):!c.length&&(R===PH||R===Ze.space)?e.attempt({tokenize:p,partial:!0},g,k)(R):R===Ze.colon?e.attempt({tokenize:_,partial:!0},I,k)(R):k(R)}function C(R){return R===null?I(R):a?Ft(e,S,"linePrefix",a+1)(R):S(R)}function k(R){if(R===null)return I(R);f.enterOnce(e);const M=e.enter("chunkDocument",{contentType:"document",previous:l});return l&&(l.next=M),l=M,O(R)}function O(R){return R===null?(e.exit("chunkDocument"),I(R)):yt(R)?(e.consume(R),e.exit("chunkDocument"),C):(e.consume(R),O)}function I(R){return f.exit(e),e.exit("componentContainerContent"),e.exit("componentContainer"),t(R)}function _(R,M,$){let N=0;return Ft(R,P,"linePrefix",4);function P(D){return R.enter("componentContainerFence"),R.enter("componentContainerSequence"),F(D)}function F(D){return D===Ze.colon?(R.consume(D),N++,F):c.length?(N===c[c.length-1]&&c.pop(),$(D)):N!==o?$(D):(R.exit("componentContainerSequence"),Ft(R,L,"whitespace")(D))}function L(D){return D===null||yt(D)?(R.exit("componentContainerFence"),M(D)):(c.push(N),$(D))}}}function $Ie(e,t,r){return $9(e,t,r,"componentContainerLabel","componentContainerLabelMarker","componentContainerLabelString",!0)}function HIe(e,t,r){return H9(e,t,r,"componentContainerAttributes","componentContainerAttributesMarker","componentContainerAttribute","componentContainerAttributeId","componentContainerAttributeClass","componentContainerAttributeName","componentContainerAttributeInitializerMarker","componentContainerAttributeValueLiteral","componentContainerAttributeValue","componentContainerAttributeValueMarker","componentContainerAttributeValueData",!0)}const Ite={tokenize:BIe,concrete:!0};function UIe(e,t,r){const n=this;return Ft(e,a,"linePrefix");function a(o){if(NIe(n.events,"linePrefix")<4)return r(o);switch(o){case Ze.backTick:return _I.tokenize.call(n,e,t,r)(o);case Ze.colon:return Ite.tokenize.call(n,e,t,r)(o);default:return r(o)}}}const P8={tokenize:UIe};function WIe(e,t,r){const n=this,a=kte.tokenize.call(n,e,Ft(e,l,"linePrefix"),r);return Ft(e,o,"linePrefix");function o(c){return c===Ze.colon?a(c):r(c)}function l(c){return yt(c)||c===Ze.EOF?t(c):r(c)}}const zIe={tokenize:WIe};function GIe(){return{text:{[Ze.colon]:kte,[Ze.openingSquareBracket]:[yIe],[Ze.openingCurlyBracket]:[IIe,AIe]},flow:{[Ze.colon]:[Ite,zIe]},flowInitial:{"-2":P8,"-1":P8,[Ze.space]:P8}}}const YIe=e=>`---
${e}
---`,VIe=function(t={}){var a,o,l;const r=this.data();t.autoUnwrap===void 0&&((a=t.experimental)!=null&&a.autoUnwrap)&&(t.autoUnwrap=t.experimental.autoUnwrap?{safeTypes:[]}:!1),t.yamlCodeBlockProps===void 0&&((o=t.experimental)!=null&&o.componentCodeBlockYamlProps)&&(t.yamlCodeBlockProps=t.experimental.componentCodeBlockYamlProps),n("micromarkExtensions",GIe()),n("fromMarkdownExtensions",cIe(t)),n("toMarkdownExtensions",lIe(t));function n(c,u){r[c]||(r[c]=[]),r[c].push(u)}return(l=t==null?void 0:t.components)!=null&&l.length?async(c,{data:u})=>{const h=[];return Vd(c,["textComponent","leafComponent","containerComponent"],f=>{$H(f);const{instance:d,options:p}=t.components.find(g=>g.name===f.name)||{};d&&h.push(d(p)(f,u))}),await Promise.all(h),c}:c=>{Vd(c,["textComponent","leafComponent","containerComponent"],u=>{$H(u)})}};function $H(e){const t=e.data||(e.data={});e.fmAttributes=qIe(e),t.hName=FI(e.name),t.hProperties=jIe({...e.attributes,...e.fmAttributes})}function qIe(e){if(e.rawData){const t=e.rawData.replace(/\s-+$/,""),{data:r}=eIe(YIe(t));return r}return{}}function jIe(e){const t=Object.entries(e).map(([r,n])=>r.startsWith(":")?[r,n]:typeof n=="string"?[r,n]:[`:${r}`,JSON.stringify(n)]);return Object.fromEntries(t)}const XIe=/^---(?:\r?\n|\r)(?:([\s\S]*?)(?:\r?\n|\r))?---(?:\r?\n|\r|$)/;function KIe(e,t){const r={},n=r.strip,a=r.yaml||{};let o=String(e);const l=XIe.exec(o);l?(e.data.matter=g7e.parse(l[1],a),n&&(o=o.slice(l[0].length),e.value=e.value&&typeof e.value=="object"?new TextEncoder().encode(o):o)):e.data.matter={}}function ZIe(){return function(e,t){KIe(t)}}var Rte={exports:{}};(function(e){(function(){var t;t=e.exports=a,t.format=a,t.vsprintf=n,typeof console<"u"&&typeof console.log=="function"&&(t.printf=r);function r(){console.log(a.apply(null,arguments))}function n(o,l){return a.apply(null,[o].concat(l))}function a(o){for(var l=1,c=[].slice.call(arguments),u=0,h=o.length,f="",d,p=!1,g,m,y=!1,b,x=function(){return c[l++]},T=function(){for(var w="";/\d/.test(o[u]);)w+=o[u++],d=o[u];return w.length>0?parseInt(w):null};u<h;++u)if(d=o[u],p)switch(p=!1,d=="."?(y=!1,d=o[++u]):d=="0"&&o[u+1]=="."?(y=!0,u+=2,d=o[u]):y=!0,b=T(),d){case"b":f+=parseInt(x(),10).toString(2);break;case"c":g=x(),typeof g=="string"||g instanceof String?f+=g:f+=String.fromCharCode(parseInt(g,10));break;case"d":f+=parseInt(x(),10);break;case"f":m=String(parseFloat(x()).toFixed(b||6)),f+=y?m:m.replace(/^0/,"");break;case"j":f+=JSON.stringify(x());break;case"o":f+="0"+parseInt(x(),10).toString(8);break;case"s":f+=x();break;case"x":f+="0x"+parseInt(x(),10).toString(16);break;case"X":f+="0x"+parseInt(x(),10).toString(16).toUpperCase();break;default:f+=d;break}else d==="%"?p=!0:f+=d;return f}})()})(Rte);var QIe=Rte.exports;const JIe=Wo(QIe),kT=Object.assign(Hf(Error),{eval:Hf(EvalError),range:Hf(RangeError),reference:Hf(ReferenceError),syntax:Hf(SyntaxError),type:Hf(TypeError),uri:Hf(URIError)});function Hf(e){return t.displayName=e.displayName||e.name,t;function t(r,...n){const a=r&&JIe(r,...n);return new e(a)}}const CT={}.hasOwnProperty,HH={yaml:"-",toml:"+"};function U9(e){const t=[];let r=-1;const n=Array.isArray(e)?e:e?[e]:["yaml"];for(;++r<n.length;)t[r]=eRe(n[r]);return t}function eRe(e){let t=e;if(typeof t=="string"){if(!CT.call(HH,t))throw kT("Missing matter definition for `%s`",t);t={type:t,marker:HH[t]}}else if(typeof t!="object")throw kT("Expected matter to be an object, not `%j`",t);if(!CT.call(t,"type"))throw kT("Missing `type` in matter `%j`",t);if(!CT.call(t,"fence")&&!CT.call(t,"marker"))throw kT("Missing `marker` or `fence` in matter `%j`",t);return t}function tRe(e){const t=U9(e),r={};let n=-1;for(;++n<t.length;){const a=t[n],o=YI(a,"open").charCodeAt(0),l=rRe(a),c=r[o];Array.isArray(c)?c.push(l):r[o]=[l]}return{flow:r}}function rRe(e){const t=e.anywhere,r=e.type,n=r+"Fence",a=n+"Sequence",o=r+"Value",l={tokenize:f,partial:!0};let c,u=0;return{tokenize:h,concrete:!0};function h(d,p,g){const m=this;return y;function y(k){const O=m.now();return O.column===1&&(O.line===1||t)&&(c=YI(e,"open"),u=0,k===c.charCodeAt(u))?(d.enter(r),d.enter(n),d.enter(a),b(k)):g(k)}function b(k){return u===c.length?(d.exit(a),Xt(k)?(d.enter("whitespace"),x(k)):T(k)):k===c.charCodeAt(u++)?(d.consume(k),b):g(k)}function x(k){return Xt(k)?(d.consume(k),x):(d.exit("whitespace"),T(k))}function T(k){return yt(k)?(d.exit(n),d.enter("lineEnding"),d.consume(k),d.exit("lineEnding"),c=YI(e,"close"),u=0,d.attempt(l,C,w)):g(k)}function w(k){return k===null||yt(k)?S(k):(d.enter(o),E(k))}function E(k){return k===null||yt(k)?(d.exit(o),S(k)):(d.consume(k),E)}function S(k){return k===null?g(k):(d.enter("lineEnding"),d.consume(k),d.exit("lineEnding"),d.attempt(l,C,w))}function C(k){return d.exit(r),p(k)}}function f(d,p,g){let m=0;return y;function y(w){return w===c.charCodeAt(m)?(d.enter(n),d.enter(a),b(w)):g(w)}function b(w){return m===c.length?(d.exit(a),Xt(w)?(d.enter("whitespace"),x(w)):T(w)):w===c.charCodeAt(m++)?(d.consume(w),b):g(w)}function x(w){return Xt(w)?(d.consume(w),x):(d.exit("whitespace"),T(w))}function T(w){return w===null||yt(w)?(d.exit(n),p(w)):g(w)}}}function YI(e,t){return e.marker?UH(e.marker,t).repeat(3):UH(e.fence,t)}function UH(e,t){return typeof e=="string"?e:e[t]}function nRe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function iRe(e){const t=U9(e),r={},n={};let a=-1;for(;++a<t.length;){const o=t[a];r[o.type]=aRe(o),n[o.type]=sRe,n[o.type+"Value"]=oRe}return{enter:r,exit:n}}function aRe(e){return t;function t(r){this.enter({type:e.type,value:""},r),this.buffer()}}function sRe(e){const t=this.resume(),r=this.stack[this.stack.length-1];this.exit(e),r.value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function oRe(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function lRe(e){const t=[],r={},n=U9(e);let a=-1;for(;++a<n.length;){const o=n[a];r[o.type]=cRe(o);const l=VI(o,"open");t.push({atBreak:!0,character:l.charAt(0),after:nRe(l.charAt(1))})}return{unsafe:t,handlers:r}}function cRe(e){const t=VI(e,"open"),r=VI(e,"close");return n;function n(a){return t+(a.value?`
`+a.value:"")+`
`+r}}function VI(e,t){return e.marker?WH(e.marker,t).repeat(3):WH(e.fence,t)}function WH(e,t){return typeof e=="string"?e:e[t]}const uRe="yaml";function hRe(e){const t=this,r=e||uRe,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),l=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(tRe(r)),o.push(iRe(r)),l.push(lRe(r))}var fRe=Ote;function Ote(e){if(typeof e=="string")return mRe(e);if(e==null)return vRe;if(typeof e=="object")return("length"in e?gRe:pRe)(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function dRe(e){for(var t=[],r=e.length,n=-1;++n<r;)t[n]=Ote(e[n]);return t}function pRe(e){return t;function t(r){var n;for(n in e)if(r[n]!==e[n])return!1;return!0}}function gRe(e){var t=dRe(e),r=t.length;return n;function n(){for(var a=-1;++a<r;)if(t[a].apply(this,arguments))return!0;return!1}}function mRe(e){return t;function t(r){return!!(r&&r.type===e)}}function vRe(){return!0}var yRe=T6,bRe=fRe,_te=!0,Nte="skip",tw=!1;T6.CONTINUE=_te;T6.SKIP=Nte;T6.EXIT=tw;function T6(e,t,r,n){var a;typeof t=="function"&&typeof r!="function"&&(n=r,r=t,t=null),a=bRe(t),o(e,null,[]);function o(c,u,h){var f=[],d;return(!t||a(c,u,h[h.length-1]||null))&&(f=zH(r(c,h)),f[0]===tw)?f:c.children&&f[0]!==Nte?(d=zH(l(c.children,h.concat(c))),d[0]===tw?d:f):f}function l(c,u){for(var h=-1,f=n?-1:1,d=(n?c.length:h)+f,p;d>h&&d<c.length;){if(p=o(c[d],d,u),p[0]===tw)return p;d=typeof p[1]=="number"?p[1]:d+f}}}function zH(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[_te,e]:[e]}var xRe=E6,w6=yRe,TRe=w6.CONTINUE,wRe=w6.SKIP,ERe=w6.EXIT;E6.CONTINUE=TRe;E6.SKIP=wRe;E6.EXIT=ERe;function E6(e,t,r,n){typeof t=="function"&&typeof r!="function"&&(n=r,r=t,t=null),w6(e,t,a,n);function a(o,l){var c=l[l.length-1],u=c?c.children.indexOf(o):null;return r(o,u,c)}}var W9={exports:{}},ii={},Vx={},_l={};function Lte(e){return typeof e>"u"||e===null}function SRe(e){return typeof e=="object"&&e!==null}function ARe(e){return Array.isArray(e)?e:Lte(e)?[]:[e]}function kRe(e,t){var r,n,a,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)a=o[r],e[a]=t[a];return e}function CRe(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function IRe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}_l.isNothing=Lte;_l.isObject=SRe;_l.toArray=ARe;_l.repeat=CRe;_l.isNegativeZero=IRe;_l.extend=kRe;function Ob(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ob.prototype=Object.create(Error.prototype);Ob.prototype.constructor=Ob;Ob.prototype.toString=function(t){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!t&&this.mark&&(r+=" "+this.mark.toString()),r};var qx=Ob,GH=_l;function z9(e,t,r,n,a){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=a}z9.prototype.getSnippet=function(t,r){var n,a,o,l,c;if(!this.buffer)return null;for(t=t||4,r=r||75,n="",a=this.position;a>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(a-1))===-1;)if(a-=1,this.position-a>r/2-1){n=" ... ",a+=5;break}for(o="",l=this.position;l<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(l))===-1;)if(l+=1,l-this.position>r/2-1){o=" ... ",l-=5;break}return c=this.buffer.slice(a,l),GH.repeat(" ",t)+n+c+o+`
`+GH.repeat(" ",t+this.position-a+n.length)+"^"};z9.prototype.toString=function(t){var r,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(r=this.getSnippet(),r&&(n+=`:
`+r)),n};var RRe=z9,YH=qx,ORe=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],_Re=["scalar","sequence","mapping"];function NRe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function LRe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(ORe.indexOf(r)===-1)throw new YH('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=NRe(t.styleAliases||null),_Re.indexOf(this.kind)===-1)throw new YH('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var la=LRe,VH=_l,rw=qx,MRe=la;function qI(e,t,r){var n=[];return e.include.forEach(function(a){r=qI(a,t,r)}),e[t].forEach(function(a){r.forEach(function(o,l){o.tag===a.tag&&o.kind===a.kind&&n.push(l)}),r.push(a)}),r.filter(function(a,o){return n.indexOf(o)===-1})}function DRe(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},t,r;function n(a){e[a.kind][a.tag]=e.fallback[a.tag]=a}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function D1(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new rw("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=qI(this,"implicit",[]),this.compiledExplicit=qI(this,"explicit",[]),this.compiledTypeMap=DRe(this.compiledImplicit,this.compiledExplicit)}D1.DEFAULT=null;D1.create=function(){var t,r;switch(arguments.length){case 1:t=D1.DEFAULT,r=arguments[0];break;case 2:t=arguments[0],r=arguments[1];break;default:throw new rw("Wrong number of arguments for Schema.create function")}if(t=VH.toArray(t),r=VH.toArray(r),!t.every(function(n){return n instanceof D1}))throw new rw("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof MRe}))throw new rw("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new D1({include:t,explicit:r})};var xv=D1,PRe=la,FRe=new PRe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),BRe=la,$Re=new BRe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),HRe=la,URe=new HRe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),WRe=xv,G9=new WRe({explicit:[FRe,$Re,URe]}),zRe=la;function GRe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function YRe(){return null}function VRe(e){return e===null}var qRe=new zRe("tag:yaml.org,2002:null",{kind:"scalar",resolve:GRe,construct:YRe,predicate:VRe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),jRe=la;function XRe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function KRe(e){return e==="true"||e==="True"||e==="TRUE"}function ZRe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var QRe=new jRe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:XRe,construct:KRe,predicate:ZRe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),JRe=_l,eOe=la;function tOe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function rOe(e){return 48<=e&&e<=55}function nOe(e){return 48<=e&&e<=57}function iOe(e){if(e===null)return!1;var t=e.length,r=0,n=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!tOe(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}for(;r<t;r++)if(a=e[r],a!=="_"){if(!rOe(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(a===":")break;if(!nOe(e.charCodeAt(r)))return!1;n=!0}return!n||a==="_"?!1:a!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(r))}function aOe(e){var t=e,r=1,n,a,o=[];return t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0"?0:n==="0"?t[1]==="b"?r*parseInt(t.slice(2),2):t[1]==="x"?r*parseInt(t,16):r*parseInt(t,8):t.indexOf(":")!==-1?(t.split(":").forEach(function(l){o.unshift(parseInt(l,10))}),t=0,a=1,o.forEach(function(l){t+=l*a,a*=60}),r*t):r*parseInt(t,10)}function sOe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!JRe.isNegativeZero(e)}var oOe=new eOe("tag:yaml.org,2002:int",{kind:"scalar",resolve:iOe,construct:aOe,predicate:sOe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Mte=_l,lOe=la,cOe=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function uOe(e){return!(e===null||!cOe.test(e)||e[e.length-1]==="_")}function hOe(e){var t,r,n,a;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,a=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(o){a.unshift(parseFloat(o,10))}),t=0,n=1,a.forEach(function(o){t+=o*n,n*=60}),r*t):r*parseFloat(t,10)}var fOe=/^[-+]?[0-9]+e/;function dOe(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Mte.isNegativeZero(e))return"-0.0";return r=e.toString(10),fOe.test(r)?r.replace("e",".e"):r}function pOe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Mte.isNegativeZero(e))}var gOe=new lOe("tag:yaml.org,2002:float",{kind:"scalar",resolve:uOe,construct:hOe,predicate:pOe,represent:dOe,defaultStyle:"lowercase"}),mOe=xv,Dte=new mOe({include:[G9],implicit:[qRe,QRe,oOe,gOe]}),vOe=xv,Pte=new vOe({include:[Dte]}),yOe=la,Fte=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Bte=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function bOe(e){return e===null?!1:Fte.exec(e)!==null||Bte.exec(e)!==null}function xOe(e){var t,r,n,a,o,l,c,u=0,h=null,f,d,p;if(t=Fte.exec(e),t===null&&(t=Bte.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(o=+t[4],l=+t[5],c=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(f=+t[10],d=+(t[11]||0),h=(f*60+d)*6e4,t[9]==="-"&&(h=-h)),p=new Date(Date.UTC(r,n,a,o,l,c,u)),h&&p.setTime(p.getTime()-h),p}function TOe(e){return e.toISOString()}var wOe=new yOe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:bOe,construct:xOe,instanceOf:Date,represent:TOe}),EOe=la;function SOe(e){return e==="<<"||e===null}var AOe=new EOe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:SOe});function $te(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wd;try{var kOe=$te;wd=kOe("buffer").Buffer}catch{}var COe=la,Y9=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function IOe(e){if(e===null)return!1;var t,r,n=0,a=e.length,o=Y9;for(r=0;r<a;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function ROe(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,o=Y9,l=0,c=[];for(t=0;t<a;t++)t%4===0&&t&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|o.indexOf(n.charAt(t));return r=a%4*6,r===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):r===18?(c.push(l>>10&255),c.push(l>>2&255)):r===12&&c.push(l>>4&255),wd?wd.from?wd.from(c):new wd(c):c}function OOe(e){var t="",r=0,n,a,o=e.length,l=Y9;for(n=0;n<o;n++)n%3===0&&n&&(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]),r=(r<<8)+e[n];return a=o%3,a===0?(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]):a===2?(t+=l[r>>10&63],t+=l[r>>4&63],t+=l[r<<2&63],t+=l[64]):a===1&&(t+=l[r>>2&63],t+=l[r<<4&63],t+=l[64],t+=l[64]),t}function _Oe(e){return wd&&wd.isBuffer(e)}var NOe=new COe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:IOe,construct:ROe,predicate:_Oe,represent:OOe}),LOe=la,MOe=Object.prototype.hasOwnProperty,DOe=Object.prototype.toString;function POe(e){if(e===null)return!0;var t=[],r,n,a,o,l,c=e;for(r=0,n=c.length;r<n;r+=1){if(a=c[r],l=!1,DOe.call(a)!=="[object Object]")return!1;for(o in a)if(MOe.call(a,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function FOe(e){return e!==null?e:[]}var BOe=new LOe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:POe,construct:FOe}),$Oe=la,HOe=Object.prototype.toString;function UOe(e){if(e===null)return!0;var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1){if(n=l[t],HOe.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;o[t]=[a[0],n[a[0]]]}return!0}function WOe(e){if(e===null)return[];var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1)n=l[t],a=Object.keys(n),o[t]=[a[0],n[a[0]]];return o}var zOe=new $Oe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:UOe,construct:WOe}),GOe=la,YOe=Object.prototype.hasOwnProperty;function VOe(e){if(e===null)return!0;var t,r=e;for(t in r)if(YOe.call(r,t)&&r[t]!==null)return!1;return!0}function qOe(e){return e!==null?e:{}}var jOe=new GOe("tag:yaml.org,2002:set",{kind:"mapping",resolve:VOe,construct:qOe}),XOe=xv,jx=new XOe({include:[Pte],implicit:[wOe,AOe],explicit:[NOe,BOe,zOe,jOe]}),KOe=la;function ZOe(){return!0}function QOe(){}function JOe(){return""}function e_e(e){return typeof e>"u"}var t_e=new KOe("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:ZOe,construct:QOe,predicate:e_e,represent:JOe}),r_e=la;function n_e(e){if(e===null||e.length===0)return!1;var t=e,r=/\/([gim]*)$/.exec(e),n="";return!(t[0]==="/"&&(r&&(n=r[1]),n.length>3||t[t.length-n.length-1]!=="/"))}function i_e(e){var t=e,r=/\/([gim]*)$/.exec(e),n="";return t[0]==="/"&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)}function a_e(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function s_e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var o_e=new r_e("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:n_e,construct:i_e,predicate:s_e,represent:a_e}),A5;try{var l_e=$te;A5=l_e("esprima")}catch{typeof window<"u"&&(A5=window.esprima)}var c_e=la;function u_e(e){if(e===null)return!1;try{var t="("+e+")",r=A5.parse(t,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function h_e(e){var t="("+e+")",r=A5.parse(t,{range:!0}),n=[],a;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(o){n.push(o.name)}),a=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(n,t.slice(a[0]+1,a[1]-1)):new Function(n,"return "+t.slice(a[0],a[1]))}function f_e(e){return e.toString()}function d_e(e){return Object.prototype.toString.call(e)==="[object Function]"}var p_e=new c_e("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:u_e,construct:h_e,predicate:d_e,represent:f_e}),qH=xv,S6=qH.DEFAULT=new qH({include:[jx],explicit:[t_e,o_e,p_e]}),Ju=_l,Hte=qx,g_e=RRe,Ute=jx,m_e=S6,V0=Object.prototype.hasOwnProperty,k5=1,Wte=2,zte=3,C5=4,F8=1,v_e=2,jH=3,y_e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b_e=/[\x85\u2028\u2029]/,x_e=/[,\[\]\{\}]/,Gte=/^(?:!|!!|![a-z\-]+!)$/i,Yte=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function XH(e){return Object.prototype.toString.call(e)}function lu(e){return e===10||e===13}function Pd(e){return e===9||e===32}function ro(e){return e===9||e===32||e===10||e===13}function P1(e){return e===44||e===91||e===93||e===123||e===125}function T_e(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function w_e(e){return e===120?2:e===117?4:e===85?8:0}function E_e(e){return 48<=e&&e<=57?e-48:-1}function KH(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function S_e(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Vte=new Array(256),qte=new Array(256);for(var r1=0;r1<256;r1++)Vte[r1]=KH(r1)?1:0,qte[r1]=KH(r1);function A_e(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||m_e,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function jte(e,t){return new Hte(t,new g_e(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function er(e,t){throw jte(e,t)}function I5(e,t){e.onWarning&&e.onWarning.call(null,jte(e,t))}var ZH={YAML:function(t,r,n){var a,o,l;t.version!==null&&er(t,"duplication of %YAML directive"),n.length!==1&&er(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&er(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),l=parseInt(a[2],10),o!==1&&er(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&I5(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var a,o;n.length!==2&&er(t,"TAG directive accepts exactly two arguments"),a=n[0],o=n[1],Gte.test(a)||er(t,"ill-formed tag handle (first argument) of the TAG directive"),V0.call(t.tagMap,a)&&er(t,'there is a previously declared suffix for "'+a+'" tag handle'),Yte.test(o)||er(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[a]=o}};function D0(e,t,r,n){var a,o,l,c;if(t<r){if(c=e.input.slice(t,r),n)for(a=0,o=c.length;a<o;a+=1)l=c.charCodeAt(a),l===9||32<=l&&l<=1114111||er(e,"expected valid JSON character");else y_e.test(c)&&er(e,"the stream contains non-printable characters");e.result+=c}}function QH(e,t,r,n){var a,o,l,c;for(Ju.isObject(r)||er(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),l=0,c=a.length;l<c;l+=1)o=a[l],V0.call(t,o)||(t[o]=r[o],n[o]=!0)}function F1(e,t,r,n,a,o,l,c){var u,h;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),u=0,h=a.length;u<h;u+=1)Array.isArray(a[u])&&er(e,"nested arrays are not supported inside keys"),typeof a=="object"&&XH(a[u])==="[object Object]"&&(a[u]="[object Object]");if(typeof a=="object"&&XH(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,h=o.length;u<h;u+=1)QH(e,t,o[u],r);else QH(e,t,o,r);else!e.json&&!V0.call(r,a)&&V0.call(t,a)&&(e.line=l||e.line,e.position=c||e.position,er(e,"duplicated mapping key")),t[a]=o,delete r[a];return t}function V9(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):er(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Ii(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;Pd(a);)a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(lu(a))for(V9(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&I5(e,"deficient indentation"),n}function A6(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ro(r)))}function q9(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ju.repeat(`
`,t-1))}function k_e(e,t,r){var n,a,o,l,c,u,h,f,d=e.kind,p=e.result,g;if(g=e.input.charCodeAt(e.position),ro(g)||P1(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(a=e.input.charCodeAt(e.position+1),ro(a)||r&&P1(a)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,c=!1;g!==0;){if(g===58){if(a=e.input.charCodeAt(e.position+1),ro(a)||r&&P1(a))break}else if(g===35){if(n=e.input.charCodeAt(e.position-1),ro(n))break}else{if(e.position===e.lineStart&&A6(e)||r&&P1(g))break;if(lu(g))if(u=e.line,h=e.lineStart,f=e.lineIndent,Ii(e,!1,-1),e.lineIndent>=t){c=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=h,e.lineIndent=f;break}}c&&(D0(e,o,l,!1),q9(e,e.line-u),o=l=e.position,c=!1),Pd(g)||(l=e.position+1),g=e.input.charCodeAt(++e.position)}return D0(e,o,l,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function C_e(e,t){var r,n,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(D0(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,a=e.position;else return!0;else lu(r)?(D0(e,n,a,!0),q9(e,Ii(e,!1,t)),n=a=e.position):e.position===e.lineStart&&A6(e)?er(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);er(e,"unexpected end of the stream within a single quoted scalar")}function I_e(e,t){var r,n,a,o,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return D0(e,r,e.position,!0),e.position++,!0;if(c===92){if(D0(e,r,e.position,!0),c=e.input.charCodeAt(++e.position),lu(c))Ii(e,!1,t);else if(c<256&&Vte[c])e.result+=qte[c],e.position++;else if((l=w_e(c))>0){for(a=l,o=0;a>0;a--)c=e.input.charCodeAt(++e.position),(l=T_e(c))>=0?o=(o<<4)+l:er(e,"expected hexadecimal character");e.result+=S_e(o),e.position++}else er(e,"unknown escape sequence");r=n=e.position}else lu(c)?(D0(e,r,n,!0),q9(e,Ii(e,!1,t)),r=n=e.position):e.position===e.lineStart&&A6(e)?er(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}er(e,"unexpected end of the stream within a double quoted scalar")}function R_e(e,t){var r=!0,n,a=e.tag,o,l=e.anchor,c,u,h,f,d,p={},g,m,y,b;if(b=e.input.charCodeAt(e.position),b===91)u=93,d=!1,o=[];else if(b===123)u=125,d=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),b=e.input.charCodeAt(++e.position);b!==0;){if(Ii(e,!0,t),b=e.input.charCodeAt(e.position),b===u)return e.position++,e.tag=a,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=o,!0;r||er(e,"missed comma between flow collection entries"),m=g=y=null,h=f=!1,b===63&&(c=e.input.charCodeAt(e.position+1),ro(c)&&(h=f=!0,e.position++,Ii(e,!0,t))),n=e.line,xm(e,t,k5,!1,!0),m=e.tag,g=e.result,Ii(e,!0,t),b=e.input.charCodeAt(e.position),(f||e.line===n)&&b===58&&(h=!0,b=e.input.charCodeAt(++e.position),Ii(e,!0,t),xm(e,t,k5,!1,!0),y=e.result),d?F1(e,o,p,m,g,y):h?o.push(F1(e,null,p,m,g,y)):o.push(g),Ii(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}er(e,"unexpected end of the stream within a flow collection")}function O_e(e,t){var r,n,a=F8,o=!1,l=!1,c=t,u=0,h=!1,f,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)F8===a?a=d===43?jH:v_e:er(e,"repeat of a chomping mode identifier");else if((f=E_e(d))>=0)f===0?er(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?er(e,"repeat of an indentation width identifier"):(c=t+f-1,l=!0);else break;if(Pd(d)){do d=e.input.charCodeAt(++e.position);while(Pd(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!lu(d)&&d!==0)}for(;d!==0;){for(V9(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),lu(d)){u++;continue}if(e.lineIndent<c){a===jH?e.result+=Ju.repeat(`
`,o?1+u:u):a===F8&&o&&(e.result+=`
`);break}for(n?Pd(d)?(h=!0,e.result+=Ju.repeat(`
`,o?1+u:u)):h?(h=!1,e.result+=Ju.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=Ju.repeat(`
`,u):e.result+=Ju.repeat(`
`,o?1+u:u),o=!0,l=!0,u=0,r=e.position;!lu(d)&&d!==0;)d=e.input.charCodeAt(++e.position);D0(e,r,e.position,!1)}return!0}function JH(e,t){var r,n=e.tag,a=e.anchor,o=[],l,c=!1,u;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&!(u!==45||(l=e.input.charCodeAt(e.position+1),!ro(l)));){if(c=!0,e.position++,Ii(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,xm(e,t,zte,!1,!0),o.push(e.result),Ii(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)er(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}function __e(e,t,r){var n,a,o,l,c=e.tag,u=e.anchor,h={},f={},d=null,p=null,g=null,m=!1,y=!1,b;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),b=e.input.charCodeAt(e.position);b!==0;){if(n=e.input.charCodeAt(e.position+1),o=e.line,l=e.position,(b===63||b===58)&&ro(n))b===63?(m&&(F1(e,h,f,d,p,null),d=p=g=null),y=!0,m=!0,a=!0):m?(m=!1,a=!0):er(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else if(xm(e,r,Wte,!1,!0))if(e.line===o){for(b=e.input.charCodeAt(e.position);Pd(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),ro(b)||er(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(F1(e,h,f,d,p,null),d=p=g=null),y=!0,m=!1,a=!1,d=e.tag,p=e.result;else if(y)er(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(y)er(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0;else break;if((e.line===o||e.lineIndent>t)&&(xm(e,t,C5,!0,a)&&(m?p=e.result:g=e.result),m||(F1(e,h,f,d,p,g,o,l),d=p=g=null),Ii(e,!0,-1),b=e.input.charCodeAt(e.position)),e.lineIndent>t&&b!==0)er(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&F1(e,h,f,d,p,null),y&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=h),y}function N_e(e){var t,r=!1,n=!1,a,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&er(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(r=!0,l=e.input.charCodeAt(++e.position)):l===33?(n=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):er(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!ro(l);)l===33&&(n?er(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),Gte.test(a)||er(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),x_e.test(o)&&er(e,"tag suffix cannot contain flow indicator characters")}return o&&!Yte.test(o)&&er(e,"tag name cannot contain such characters: "+o),r?e.tag=o:V0.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:er(e,'undeclared tag handle "'+a+'"'),!0}function L_e(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&er(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ro(r)&&!P1(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&er(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function M_e(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ro(n)&&!P1(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&er(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),V0.call(e.anchorMap,r)||er(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ii(e,!0,-1),!0}function xm(e,t,r,n,a){var o,l,c,u=1,h=!1,f=!1,d,p,g,m,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=c=C5===r||zte===r,n&&Ii(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;N_e(e)||L_e(e);)Ii(e,!0,-1)?(h=!0,c=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):c=!1;if(c&&(c=h||a),(u===1||C5===r)&&(k5===r||Wte===r?m=t:m=t+1,y=e.position-e.lineStart,u===1?c&&(JH(e,y)||__e(e,y,m))||R_e(e,m)?f=!0:(l&&O_e(e,m)||C_e(e,m)||I_e(e,m)?f=!0:M_e(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&er(e,"alias node should not have any properties")):k_e(e,m,k5===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=c&&JH(e,y))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&er(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(g=e.implicitTypes[d],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else V0.call(e.typeMap[e.kind||"fallback"],e.tag)?(g=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&g.kind!==e.kind&&er(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result)?(e.result=g.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):er(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):er(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function D_e(e){var t=e.position,r,n,a,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(l=e.input.charCodeAt(e.position))!==0&&(Ii(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),r=e.position;l!==0&&!ro(l);)l=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),a=[],n.length<1&&er(e,"directive name must not be less than one character in length");l!==0;){for(;Pd(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!lu(l));break}if(lu(l))break;for(r=e.position;l!==0&&!ro(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}l!==0&&V9(e),V0.call(ZH,n)?ZH[n](e,n,a):I5(e,'unknown document directive "'+n+'"')}if(Ii(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ii(e,!0,-1)):o&&er(e,"directives end mark is expected"),xm(e,e.lineIndent-1,C5,!1,!0),Ii(e,!0,-1),e.checkLineBreaks&&b_e.test(e.input.slice(t,e.position))&&I5(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&A6(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ii(e,!0,-1));return}if(e.position<e.length-1)er(e,"end of the stream or a document separator is expected");else return}function Xte(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new A_e(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,er(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)D_e(r);return r.documents}function Kte(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Xte(e,r);if(typeof t!="function")return n;for(var a=0,o=n.length;a<o;a+=1)t(n[a])}function Zte(e,t){var r=Xte(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Hte("expected a single document in the stream, but found more")}}function P_e(e,t,r){return typeof t=="object"&&t!==null&&typeof r>"u"&&(r=t,t=null),Kte(e,t,Ju.extend({schema:Ute},r))}function F_e(e,t){return Zte(e,Ju.extend({schema:Ute},t))}Vx.loadAll=Kte;Vx.load=Zte;Vx.safeLoadAll=P_e;Vx.safeLoad=F_e;var j9={},Xx=_l,Kx=qx,B_e=S6,$_e=jx,Qte=Object.prototype.toString,Jte=Object.prototype.hasOwnProperty,H_e=9,_b=10,U_e=13,W_e=32,z_e=33,G_e=34,ere=35,Y_e=37,V_e=38,q_e=39,j_e=42,tre=44,X_e=45,rre=58,K_e=61,Z_e=62,Q_e=63,J_e=64,nre=91,ire=93,eNe=96,are=123,tNe=124,sre=125,ns={};ns[0]="\\0";ns[7]="\\a";ns[8]="\\b";ns[9]="\\t";ns[10]="\\n";ns[11]="\\v";ns[12]="\\f";ns[13]="\\r";ns[27]="\\e";ns[34]='\\"';ns[92]="\\\\";ns[133]="\\N";ns[160]="\\_";ns[8232]="\\L";ns[8233]="\\P";var rNe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function nNe(e,t){var r,n,a,o,l,c,u;if(t===null)return{};for(r={},n=Object.keys(t),a=0,o=n.length;a<o;a+=1)l=n[a],c=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&Jte.call(u.styleAliases,c)&&(c=u.styleAliases[c]),r[l]=c;return r}function eU(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Kx("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Xx.repeat("0",n-t.length)+t}function iNe(e){this.schema=e.schema||B_e,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Xx.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=nNe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function tU(e,t){for(var r=Xx.repeat(" ",t),n=0,a=-1,o="",l,c=e.length;n<c;)a=e.indexOf(`
`,n),a===-1?(l=e.slice(n),n=c):(l=e.slice(n,a+1),n=a+1),l.length&&l!==`
`&&(o+=r),o+=l;return o}function jI(e,t){return`
`+Xx.repeat(" ",e.indent*t)}function aNe(e,t){var r,n,a;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}function X9(e){return e===W_e||e===H_e}function Tm(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function sNe(e){return Tm(e)&&!X9(e)&&e!==65279&&e!==U_e&&e!==_b}function rU(e,t){return Tm(e)&&e!==65279&&e!==tre&&e!==nre&&e!==ire&&e!==are&&e!==sre&&e!==rre&&(e!==ere||t&&sNe(t))}function oNe(e){return Tm(e)&&e!==65279&&!X9(e)&&e!==X_e&&e!==Q_e&&e!==rre&&e!==tre&&e!==nre&&e!==ire&&e!==are&&e!==sre&&e!==ere&&e!==V_e&&e!==j_e&&e!==z_e&&e!==tNe&&e!==K_e&&e!==Z_e&&e!==q_e&&e!==G_e&&e!==Y_e&&e!==J_e&&e!==eNe}function ore(e){var t=/^\n* /;return t.test(e)}var lre=1,cre=2,ure=3,hre=4,nw=5;function lNe(e,t,r,n,a){var o,l,c,u=!1,h=!1,f=n!==-1,d=-1,p=oNe(e.charCodeAt(0))&&!X9(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(l=e.charCodeAt(o),!Tm(l))return nw;c=o>0?e.charCodeAt(o-1):null,p=p&&rU(l,c)}else{for(o=0;o<e.length;o++){if(l=e.charCodeAt(o),l===_b)u=!0,f&&(h=h||o-d-1>n&&e[d+1]!==" ",d=o);else if(!Tm(l))return nw;c=o>0?e.charCodeAt(o-1):null,p=p&&rU(l,c)}h=h||f&&o-d-1>n&&e[d+1]!==" "}return!u&&!h?p&&!a(e)?lre:cre:r>9&&ore(e)?nw:h?hre:ure}function cNe(e,t,r,n){e.dump=function(){if(t.length===0)return"''";if(!e.noCompatMode&&rNe.indexOf(t)!==-1)return"'"+t+"'";var a=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return aNe(e,u)}switch(lNe(t,l,e.indent,o,c)){case lre:return t;case cre:return"'"+t.replace(/'/g,"''")+"'";case ure:return"|"+nU(t,e.indent)+iU(tU(t,a));case hre:return">"+nU(t,e.indent)+iU(tU(uNe(t,o),a));case nw:return'"'+hNe(t)+'"';default:throw new Kx("impossible error: invalid scalar style")}}()}function nU(e,t){var r=ore(e)?String(t):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),o=a?"+":n?"":"-";return r+o+`
`}function iU(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function uNe(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,aU(e.slice(0,h),t)}(),a=e[0]===`
`||e[0]===" ",o,l;l=r.exec(e);){var c=l[1],u=l[2];o=u[0]===" ",n+=c+(!a&&!o&&u!==""?`
`:"")+aU(u,t),a=o}return n}function aU(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,a=0,o,l=0,c=0,u="";n=r.exec(e);)c=n.index,c-a>t&&(o=l>a?l:c,u+=`
`+e.slice(a,o),a=o+1),l=c;return u+=`
`,e.length-a>t&&l>a?u+=e.slice(a,l)+`
`+e.slice(l+1):u+=e.slice(a),u.slice(1)}function hNe(e){for(var t="",r,n,a,o=0;o<e.length;o++){if(r=e.charCodeAt(o),r>=55296&&r<=56319&&(n=e.charCodeAt(o+1),n>=56320&&n<=57343)){t+=eU((r-55296)*1024+n-56320+65536),o++;continue}a=ns[r],t+=!a&&Tm(r)?e[o]:a||eU(r)}return t}function fNe(e,t,r){var n="",a=e.tag,o,l;for(o=0,l=r.length;o<l;o+=1)jd(e,t,r[o],!1,!1)&&(o!==0&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}function dNe(e,t,r,n){var a="",o=e.tag,l,c;for(l=0,c=r.length;l<c;l+=1)jd(e,t+1,r[l],!0,!0)&&((!n||l!==0)&&(a+=jI(e,t)),e.dump&&_b===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}function pNe(e,t,r){var n="",a=e.tag,o=Object.keys(r),l,c,u,h,f;for(l=0,c=o.length;l<c;l+=1)f="",l!==0&&(f+=", "),e.condenseFlow&&(f+='"'),u=o[l],h=r[u],jd(e,t,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),jd(e,t,h,!1,!1)&&(f+=e.dump,n+=f));e.tag=a,e.dump="{"+n+"}"}function gNe(e,t,r,n){var a="",o=e.tag,l=Object.keys(r),c,u,h,f,d,p;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Kx("sortKeys must be a boolean or a function");for(c=0,u=l.length;c<u;c+=1)p="",(!n||c!==0)&&(p+=jI(e,t)),h=l[c],f=r[h],jd(e,t+1,h,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&_b===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=jI(e,t)),jd(e,t+1,f,!0,d)&&(e.dump&&_b===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,a+=p));e.tag=o,e.dump=a||"{}"}function sU(e,t,r){var n,a,o,l,c,u;for(a=r?e.explicitTypes:e.implicitTypes,o=0,l=a.length;o<l;o+=1)if(c=a[o],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(e.tag=r?c.tag:"?",c.represent){if(u=e.styleMap[c.tag]||c.defaultStyle,Qte.call(c.represent)==="[object Function]")n=c.represent(t,u);else if(Jte.call(c.represent,u))n=c.represent[u](t,u);else throw new Kx("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function jd(e,t,r,n,a,o){e.tag=null,e.dump=r,sU(e,r,!1)||sU(e,r,!0);var l=Qte.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var c=l==="[object Object]"||l==="[object Array]",u,h;if(c&&(u=e.duplicates.indexOf(r),h=u!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(a=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(c&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(gNe(e,t,e.dump,a),h&&(e.dump="&ref_"+u+e.dump)):(pNe(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(l==="[object Array]"){var f=e.noArrayIndent&&t>0?t-1:t;n&&e.dump.length!==0?(dNe(e,f,e.dump,a),h&&(e.dump="&ref_"+u+e.dump)):(fNe(e,f,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump))}else if(l==="[object String]")e.tag!=="?"&&cNe(e,e.dump,t,o);else{if(e.skipInvalid)return!1;throw new Kx("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function mNe(e,t){var r=[],n=[],a,o;for(XI(e,r,n),a=0,o=n.length;a<o;a+=1)t.duplicates.push(r[n[a]]);t.usedDuplicates=new Array(o)}function XI(e,t,r){var n,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)XI(e[a],t,r);else for(n=Object.keys(e),a=0,o=n.length;a<o;a+=1)XI(e[n[a]],t,r)}function fre(e,t){t=t||{};var r=new iNe(t);return r.noRefs||mNe(e,r),jd(r,0,e,!0,!0)?r.dump+`
`:""}function vNe(e,t){return fre(e,Xx.extend({schema:$_e},t))}j9.dump=fre;j9.safeDump=vNe;var k6=Vx,dre=j9;function C6(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}ii.Type=la;ii.Schema=xv;ii.FAILSAFE_SCHEMA=G9;ii.JSON_SCHEMA=Dte;ii.CORE_SCHEMA=Pte;ii.DEFAULT_SAFE_SCHEMA=jx;ii.DEFAULT_FULL_SCHEMA=S6;ii.load=k6.load;ii.loadAll=k6.loadAll;ii.safeLoad=k6.safeLoad;ii.safeLoadAll=k6.safeLoadAll;ii.dump=dre.dump;ii.safeDump=dre.safeDump;ii.YAMLException=qx;ii.MINIMAL_SCHEMA=G9;ii.SAFE_SCHEMA=jx;ii.DEFAULT_SCHEMA=S6;ii.scan=C6("scan");ii.parse=C6("parse");ii.compose=C6("compose");ii.addConstructor=C6("addConstructor");var yNe=ii,bNe=yNe,xNe=bNe,TNe="\\ufeff?",wNe=typeof process<"u"?process.platform:"",ENe="^("+TNe+"(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+(wNe==="win32"?"\\r?":"")+"(?:\\n)?)",pre=new RegExp(ENe,"m");W9.exports=SNe;W9.exports.test=CNe;function SNe(e){e=e||"";var t=e.split(/(\r?\n)/);return t[0]&&/= yaml =|---/.test(t[0])?kNe(e):{attributes:{},body:e,bodyBegin:1}}function ANe(e,t){for(var r=1,n=t.indexOf(`
`),a=e.index+e[0].length;n!==-1;){if(n>=a)return r;r++,n=t.indexOf(`
`,n+1)}return r}function kNe(e){var t=pre.exec(e);if(!t)return{attributes:{},body:e,bodyBegin:1};var r=t[t.length-1].replace(/^\s+|\s+$/g,""),n=xNe.load(r)||{},a=e.replace(t[0],""),o=ANe(t,e);return{attributes:n,body:a,bodyBegin:o,frontmatter:r}}function CNe(e){return e=e||"",pre.test(e)}var INe=W9.exports;const RNe=xRe,ONe=INe,_Ne=()=>(t,r)=>(RNe(t,"code",n=>{const a=ONe(n.value);n.frontmatter=a.attributes,n.value=a.body}),t);var NNe=_Ne;const LNe=Wo(NNe),MNe={class:"scrubber"},DNe=["src"],PNe=["value"],FNe=["disabled"],BNe=["max"],$Ne=["value"],HNe=Fh({__name:"AudioScrubber",props:{duration:{default:0},durationModifiers:{}},emits:["update:duration"],setup(e){const t=xZ(e,"duration"),r=Gd(),n=or(""),a=or("Play"),o=or(0),l=or(0),c=or(0),u=or(0),h=or(0),f=or(0),d=or(0),p=or(),g=Gn(()=>tg(f.value*1e3,"mm:ss")),m=Gn(()=>tg(d.value*1e3,"mm:ss"));function y(){f.value=60*l.value+c.value}const{copy:b}=m5e({source:g.value});cv(()=>{var S,C,k,O;r.getAudioItems().length>0&&(n.value=r.getAudioItems()[0].href),(S=p.value)==null||S.addEventListener("loadedmetadata",I=>{a.value="Play",t.value=I.target.duration,console.log(g.value)}),(C=p.value)==null||C.addEventListener("play",()=>{a.value="Stop"}),(k=p.value)==null||k.addEventListener("pause",I=>{a.value="Play",I.target.currentTime=f.value,console.log("seek to",f.value)}),(O=p.value)==null||O.addEventListener("timeupdate",I=>{d.value=I.target.currentTime})}),iu(h,S=>{u.value=S-f.value}),iu(f,S=>{o.value=Math.floor(S/(60*60)),l.value=Math.floor((S-o.value*60*60)/60),c.value=S-o.value*60*60-l.value*60,p.value.currentTime=f.value,S>=h.value&&(h.value=S)});const x=Gn(()=>{const S=r.findItemByHref(""+n.value);return S==null?void 0:S.getContentUrl()});function T(){var S;if(n.value!=""){const C=r.findItemByHref(""+n.value),k=C==null?void 0:C.getContentUrl();(S=p.value)==null||S.setAttribute("src",k)}}const w=Gn(()=>r.getAudioItems());function E(){p.value&&(p.value.paused?p.value.play():p.value.pause())}return(S,C)=>(Dn(),Bi("div",MNe,[Ve("audio",{src:x.value,ref_key:"audioEl",ref:p},null,8,DNe),Wa(Ve("select",{name:"",id:"","onUpdate:modelValue":C[0]||(C[0]=k=>n.value=k),onChange:T},[C[6]||(C[6]=Ve("option",{disabled:"",value:""},"Audio track",-1)),(Dn(!0),Bi(xa,null,t5(w.value,k=>(Dn(),Bi("option",{value:k.href,key:k.href},Ya(k.id),9,PNe))),128))],544),[[cxe,n.value]]),Ve("button",{class:"action",onClick:ud(E,["prevent"]),disabled:n.value==""},Ya(a.value),9,FNe),Wa(Ve("input",{type:"range",name:"begin",id:"begin","onUpdate:modelValue":C[1]||(C[1]=k=>f.value=k),max:t.value},null,8,BNe),[[Oo,f.value]]),Wa(Ve("input",{type:"number",name:"",id:"","onUpdate:modelValue":C[2]||(C[2]=k=>o.value=k),max:"2",min:"0"},null,512),[[Oo,o.value]]),Wa(Ve("input",{type:"number",name:"",id:"",onChange:y,"onUpdate:modelValue":C[3]||(C[3]=k=>l.value=k),max:"59",min:"0"},null,544),[[Oo,l.value]]),Wa(Ve("input",{type:"number",name:"",id:"",onChange:y,"onUpdate:modelValue":C[4]||(C[4]=k=>c.value=k),max:"59",min:"0"},null,544),[[Oo,c.value]]),Ve("input",{type:"text",name:"",id:"",size:"6",readonly:"",onClick:C[5]||(C[5]=k=>Vr(b)(g.value.value)),value:g.value.value},null,8,$Ne),ko(Ya(m.value)+" "+Ya(Vr(tg)(t.value*1e3,"mm:ss")),1)]))}}),UNe=uv(HNe,[["__scopeId","data-v-d3f21641"]]),oU=/[#.]/g;function WNe(e,t){const r=e||"",n={};let a=0,o,l;for(;a<r.length;){oU.lastIndex=a;const c=oU.exec(r),u=r.slice(a,c?c.index:r.length);u&&(o?o==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:l=u,a+=u.length),c&&(o=c[0],a++)}return{type:"element",tagName:l||t||"div",properties:n,children:[]}}const KI={}.hasOwnProperty;function gre(e,t,r){const n=r&&VNe(r);function a(o,l,...c){let u=-1,h;if(o==null){h={type:"root",children:[]};const f=l;c.unshift(f)}else if(h=WNe(o,t),h.tagName=h.tagName.toLowerCase(),n&&KI.call(n,h.tagName)&&(h.tagName=n[h.tagName]),zNe(l))c.unshift(l);else{let f;for(f in l)KI.call(l,f)&&GNe(e,h.properties,f,l[f])}for(;++u<c.length;)ZI(h.children,c[u]);return h.type==="element"&&h.tagName==="template"&&(h.content={type:"root",children:h.children},h.children=[]),h}return a}function zNe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const a=t[n];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const o=a;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function GNe(e,t,r,n){const a=IJ(e,r);let o=-1,l;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;l=n}else typeof n=="boolean"?l=n:typeof n=="string"?a.spaceSeparated?l=p5(n):a.commaSeparated?l=P$(n):a.commaOrSpaceSeparated?l=p5(P$(n).join(" ")):l=lU(a,a.property,n):Array.isArray(n)?l=n.concat():l=a.property==="style"?YNe(n):String(n);if(Array.isArray(l)){const c=[];for(;++o<l.length;){const u=lU(a,a.property,l[o]);c[o]=u}l=c}if(a.property==="className"&&Array.isArray(t.className)){const c=l;l=t.className.concat(c)}t[a.property]=l}}function ZI(e,t){let r=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++r<t.length;)ZI(e,t[r]);else if(typeof t=="object"&&"type"in t)t.type==="root"?ZI(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function lU(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Sb(r)===Sb(t)))return!0}return r}function YNe(e){const t=[];let r;for(r in e)KI.call(e,r)&&t.push([r,e[r]].join(": "));return t.join("; ")}function VNe(e){const t={};let r=-1;for(;++r<e.length;)t[e[r].toLowerCase()]=e[r];return t}const qNe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mre=gre(RJ,"div"),jNe=gre(i9,"g",qNe);function XNe(){return function(e){Vd(e,function(t){if(t.type==="containerDirective"||t.type==="leafDirective"||t.type==="textDirective"){const r=t.data||(t.data={}),n=mre(t.name,t.attributes||{});r.hName=n.tagName,r.hProperties=n.properties}})}}var KNe=vre;function vre(e){if(typeof e=="string")return e9e(e);if(e==null)return t9e;if(typeof e=="object")return("length"in e?JNe:QNe)(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function ZNe(e){for(var t=[],r=e.length,n=-1;++n<r;)t[n]=vre(e[n]);return t}function QNe(e){return t;function t(r){var n;for(n in e)if(r[n]!==e[n])return!1;return!0}}function JNe(e){var t=ZNe(e),r=t.length;return n;function n(){for(var a=-1;++a<r;)if(t[a].apply(this,arguments))return!0;return!1}}function e9e(e){return t;function t(r){return!!(r&&r.type===e)}}function t9e(){return!0}var r9e=I6,n9e=KNe,yre=!0,bre="skip",iw=!1;I6.CONTINUE=yre;I6.SKIP=bre;I6.EXIT=iw;function I6(e,t,r,n){var a;typeof t=="function"&&typeof r!="function"&&(n=r,r=t,t=null),a=n9e(t),o(e,null,[]);function o(c,u,h){var f=[],d;return(!t||a(c,u,h[h.length-1]||null))&&(f=cU(r(c,h)),f[0]===iw)?f:c.children&&f[0]!==bre?(d=cU(l(c.children,h.concat(c))),d[0]===iw?d:f):f}function l(c,u){for(var h=-1,f=n?-1:1,d=(n?c.length:h)+f,p;d>h&&d<c.length;){if(p=o(c[d],d,u),p[0]===iw)return p;d=typeof p[1]=="number"?p[1]:d+f}}}function cU(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[yre,e]:[e]}var i9e=O6,R6=r9e,a9e=R6.CONTINUE,s9e=R6.SKIP,o9e=R6.EXIT;O6.CONTINUE=a9e;O6.SKIP=s9e;O6.EXIT=o9e;function O6(e,t,r,n){typeof t=="function"&&typeof r!="function"&&(n=r,r=t,t=null),R6(e,t,a,n);function a(o,l){var c=l[l.length-1],u=c?c.children.indexOf(o):null;return r(o,u,c)}}var K9={};Object.defineProperty(K9,"__esModule",{value:!0});function l9e(e){return!!e}K9.validateOptions=l9e;var uU=As&&As.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function l(h){try{u(n.next(h))}catch(f){o(f)}}function c(h){try{u(n.throw(h))}catch(f){o(f)}}function u(h){h.done?a(h.value):new r(function(f){f(h.value)}).then(l,c)}u((n=n.apply(e,t||[])).next())})};const c9e=i9e,xre=K9,Tre=e=>{if(!xre.validateOptions(e))throw new Error("Invalid options");return(r,n)=>uU(void 0,void 0,void 0,function*(){let a=[];return c9e(r,"code",o=>{const l=typeof e.transform=="function"?e.transform(o):e.transform;a.push(Promise.resolve(l).then(c=>uU(this,void 0,void 0,function*(){if(c){const u=o.data&&o.data.hChildren||[{type:"text",value:o.value}],h=o.data&&o.data.hProperties||(o.lang?{className:["language-"+o.lang]}:{}),f=o;f.type="code-extra",f.data||(f.data={});const d=c.before?yield Promise.resolve(c.before):[],p=c.after?yield Promise.resolve(c.after):[],g=[...d,{type:"element",tagName:"pre",children:[{type:"element",tagName:"code",properties:h,children:u}]},...p];if(f.data.hName="div",f.data.hProperties={className:["code-extra"]},f.data.hChildren=g,c.transform)return c.transform(f)}})))}),yield Promise.all(a),r})};Tre.validateOptions=xre.validateOptions;var u9e=Tre;const h9e=Wo(u9e);function f9e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function d9e(e,t,r){const a=dv((r||{}).ignore||[]),o=p9e(t);let l=-1;for(;++l<o.length;)Ux(e,"text",c);function c(h,f){let d=-1,p;for(;++d<f.length;){const g=f[d],m=p?p.children:void 0;if(a(g,m?m.indexOf(g):void 0,p))return;p=g}if(p)return u(h,f)}function u(h,f){const d=f[f.length-1],p=o[l][0],g=o[l][1];let m=0;const b=d.children.indexOf(h);let x=!1,T=[];p.lastIndex=0;let w=p.exec(h.value);for(;w;){const E=w.index,S={index:w.index,input:w.input,stack:[...f,h]};let C=g(...w,S);if(typeof C=="string"&&(C=C.length>0?{type:"text",value:C}:void 0),C===!1?p.lastIndex=E+1:(m!==E&&T.push({type:"text",value:h.value.slice(m,E)}),Array.isArray(C)?T.push(...C):C&&T.push(C),m=E+w[0].length,x=!0),!p.global)break;w=p.exec(h.value)}return x?(m<h.value.length&&T.push({type:"text",value:h.value.slice(m)}),d.children.splice(b,1,...T)):T=[h],b+T.length}}function p9e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([g9e(a[0]),m9e(a[1])])}return t}function g9e(e){return typeof e=="string"?new RegExp(f9e(e),"g"):e}function m9e(e){return typeof e=="function"?e:function(){return e}}const B8="phrasing",$8=["autolink","link","image","label"];function v9e(){return{transforms:[S9e],enter:{literalAutolink:b9e,literalAutolinkEmail:H8,literalAutolinkHttp:H8,literalAutolinkWww:H8},exit:{literalAutolink:E9e,literalAutolinkEmail:w9e,literalAutolinkHttp:x9e,literalAutolinkWww:T9e}}}function y9e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:B8,notInConstruct:$8},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:B8,notInConstruct:$8},{character:":",before:"[ps]",after:"\\/",inConstruct:B8,notInConstruct:$8}]}}function b9e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function H8(e){this.config.enter.autolinkProtocol.call(this,e)}function x9e(e){this.config.exit.autolinkProtocol.call(this,e)}function T9e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function w9e(e){this.config.exit.autolinkEmail.call(this,e)}function E9e(e){this.exit(e)}function S9e(e){d9e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,A9e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),k9e]],{ignore:["link","linkReference"]})}function A9e(e,t,r,n,a){let o="";if(!wre(a)||(/^w/i.test(t)&&(r=t+r,t="",o="http://"),!C9e(r)))return!1;const l=I9e(r+n);if(!l[0])return!1;const c={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function k9e(e,t,r,n){return!wre(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function C9e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function I9e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=mm(e,"(");let o=mm(e,")");for(;n!==-1&&a>o;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),o++;return[e,r]}function wre(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Yd(r)||n6(r))&&(!t||r!==47)}Ere.peek=F9e;function R9e(){this.buffer()}function O9e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function _9e(){this.buffer()}function N9e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function L9e(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=nc(this.sliceSerialize(e)).toLowerCase(),r.label=t}function M9e(e){this.exit(e)}function D9e(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=nc(this.sliceSerialize(e)).toLowerCase(),r.label=t}function P9e(e){this.exit(e)}function F9e(){return"["}function Ere(e,t,r,n){const a=r.createTracker(n);let o=a.move("[^");const l=r.enter("footnoteReference"),c=r.enter("reference");return o+=a.move(r.safe(r.associationId(e),{after:"]",before:o})),c(),l(),o+=a.move("]"),o}function B9e(){return{enter:{gfmFootnoteCallString:R9e,gfmFootnoteCall:O9e,gfmFootnoteDefinitionLabelString:_9e,gfmFootnoteDefinition:N9e},exit:{gfmFootnoteCallString:L9e,gfmFootnoteCall:M9e,gfmFootnoteDefinitionLabelString:D9e,gfmFootnoteDefinition:P9e}}}function $9e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:Ere},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,o,l){const c=o.createTracker(l);let u=c.move("[^");const h=o.enter("footnoteDefinition"),f=o.enter("label");return u+=c.move(o.safe(o.associationId(n),{before:u,after:"]"})),f(),u+=c.move("]:"),n.children&&n.children.length>0&&(c.shift(4),u+=c.move((t?`
`:" ")+o.indentLines(o.containerFlow(n,c.current()),t?Sre:H9e))),h(),u}}function H9e(e,t,r){return t===0?e:Sre(e,t,r)}function Sre(e,t,r){return(r?"":"    ")+e}const U9e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Are.peek=V9e;function W9e(){return{canContainEols:["delete"],enter:{strikethrough:G9e},exit:{strikethrough:Y9e}}}function z9e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:U9e}],handlers:{delete:Are}}}function G9e(e){this.enter({type:"delete",children:[]},e)}function Y9e(e){this.exit(e)}function Are(e,t,r,n){const a=r.createTracker(n),o=r.enter("strikethrough");let l=a.move("~~");return l+=r.containerPhrasing(e,{...a.current(),before:l,after:"~"}),l+=a.move("~~"),o(),l}function V9e(){return"~"}function q9e(e){return e.length}function j9e(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||q9e,o=[],l=[],c=[],u=[];let h=0,f=-1;for(;++f<e.length;){const y=[],b=[];let x=-1;for(e[f].length>h&&(h=e[f].length);++x<e[f].length;){const T=X9e(e[f][x]);if(r.alignDelimiters!==!1){const w=a(T);b[x]=w,(u[x]===void 0||w>u[x])&&(u[x]=w)}y.push(T)}l[f]=y,c[f]=b}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<h;)o[d]=hU(n[d]);else{const y=hU(n);for(;++d<h;)o[d]=y}d=-1;const p=[],g=[];for(;++d<h;){const y=o[d];let b="",x="";y===99?(b=":",x=":"):y===108?b=":":y===114&&(x=":");let T=r.alignDelimiters===!1?1:Math.max(1,u[d]-b.length-x.length);const w=b+"-".repeat(T)+x;r.alignDelimiters!==!1&&(T=b.length+T+x.length,T>u[d]&&(u[d]=T),g[d]=T),p[d]=w}l.splice(1,0,p),c.splice(1,0,g),f=-1;const m=[];for(;++f<l.length;){const y=l[f],b=c[f];d=-1;const x=[];for(;++d<h;){const T=y[d]||"";let w="",E="";if(r.alignDelimiters!==!1){const S=u[d]-(b[d]||0),C=o[d];C===114?w=" ".repeat(S):C===99?S%2?(w=" ".repeat(S/2+.5),E=" ".repeat(S/2-.5)):(w=" ".repeat(S/2),E=w):E=" ".repeat(S)}r.delimiterStart!==!1&&!d&&x.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&T==="")&&(r.delimiterStart!==!1||d)&&x.push(" "),r.alignDelimiters!==!1&&x.push(w),x.push(T),r.alignDelimiters!==!1&&x.push(E),r.padding!==!1&&x.push(" "),(r.delimiterEnd!==!1||d!==h-1)&&x.push("|")}m.push(r.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return m.join(`
`)}function X9e(e){return e==null?"":String(e)}function hU(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function K9e(){return{enter:{table:Z9e,tableData:fU,tableHeader:fU,tableRow:J9e},exit:{codeText:eLe,table:Q9e,tableData:U8,tableHeader:U8,tableRow:U8}}}function Z9e(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Q9e(e){this.exit(e),this.data.inTable=void 0}function J9e(e){this.enter({type:"tableRow",children:[]},e)}function U8(e){this.exit(e)}function fU(e){this.enter({type:"tableCell",children:[]},e)}function eLe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,tLe));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function tLe(e,t){return t==="|"?t:e}function rLe(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:l,tableCell:u,tableRow:c}};function l(g,m,y,b){return h(f(g,y,b),g.align)}function c(g,m,y,b){const x=d(g,y,b),T=h([x]);return T.slice(0,T.indexOf(`
`))}function u(g,m,y,b){const x=y.enter("tableCell"),T=y.enter("phrasing"),w=y.containerPhrasing(g,{...b,before:o,after:o});return T(),x(),w}function h(g,m){return j9e(g,{align:m,alignDelimiters:n,padding:r,stringLength:a})}function f(g,m,y){const b=g.children;let x=-1;const T=[],w=m.enter("table");for(;++x<b.length;)T[x]=d(b[x],m,y);return w(),T}function d(g,m,y){const b=g.children;let x=-1;const T=[],w=m.enter("tableRow");for(;++x<b.length;)T[x]=u(b[x],g,m,y);return w(),T}function p(g,m,y){let b=b0.inlineCode(g,m,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function nLe(){return{exit:{taskListCheckValueChecked:dU,taskListCheckValueUnchecked:dU,paragraph:aLe}}}function iLe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:sLe}}}function dU(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function aLe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let o=-1,l;for(;++o<a.length;){const c=a[o];if(c.type==="paragraph"){l=c;break}}l===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function sLe(e,t,r,n){const a=e.children[0],o=typeof e.checked=="boolean"&&a&&a.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=r.createTracker(n);o&&c.move(l);let u=b0.listItem(e,t,r,{...n,...c.current()});return o&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),u;function h(f){return f+l}}function oLe(){return[v9e(),B9e(),W9e(),K9e(),nLe()]}function lLe(e){return{extensions:[y9e(),$9e(e),z9e(),rLe(e),iLe()]}}const cLe={tokenize:gLe,partial:!0},kre={tokenize:mLe,partial:!0},Cre={tokenize:vLe,partial:!0},Ire={tokenize:yLe,partial:!0},uLe={tokenize:bLe,partial:!0},Rre={name:"wwwAutolink",tokenize:dLe,previous:_re},Ore={name:"protocolAutolink",tokenize:pLe,previous:Nre},$h={name:"emailAutolink",tokenize:fLe,previous:Lre},bu={};function hLe(){return{text:bu}}let Uf=48;for(;Uf<123;)bu[Uf]=$h,Uf++,Uf===58?Uf=65:Uf===91&&(Uf=97);bu[43]=$h;bu[45]=$h;bu[46]=$h;bu[95]=$h;bu[72]=[$h,Ore];bu[104]=[$h,Ore];bu[87]=[$h,Rre];bu[119]=[$h,Rre];function fLe(e,t,r){const n=this;let a,o;return l;function l(d){return!QI(d)||!Lre.call(n,n.previous)||Z9(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(d))}function c(d){return QI(d)?(e.consume(d),c):d===64?(e.consume(d),u):r(d)}function u(d){return d===46?e.check(uLe,f,h)(d):d===45||d===95||yi(d)?(o=!0,e.consume(d),u):f(d)}function h(d){return e.consume(d),a=!0,u}function f(d){return o&&a&&Ci(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}function dLe(e,t,r){const n=this;return a;function a(l){return l!==87&&l!==119||!_re.call(n,n.previous)||Z9(n.events)?r(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(cLe,e.attempt(kre,e.attempt(Cre,o),r),r)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function pLe(e,t,r){const n=this;let a="",o=!1;return l;function l(d){return(d===72||d===104)&&Nre.call(n,n.previous)&&!Z9(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(d),e.consume(d),c):r(d)}function c(d){if(Ci(d)&&a.length<5)return a+=String.fromCodePoint(d),e.consume(d),c;if(d===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(d),u}return r(d)}function u(d){return d===47?(e.consume(d),o?h:(o=!0,u)):r(d)}function h(d){return d===null||g5(d)||dr(d)||Yd(d)||n6(d)?r(d):e.attempt(kre,e.attempt(Cre,f),r)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function gLe(e,t,r){let n=0;return a;function a(l){return(l===87||l===119)&&n<3?(n++,e.consume(l),a):l===46&&n===3?(e.consume(l),o):r(l)}function o(l){return l===null?r(l):t(l)}}function mLe(e,t,r){let n,a,o;return l;function l(h){return h===46||h===95?e.check(Ire,u,c)(h):h===null||dr(h)||Yd(h)||h!==45&&n6(h)?u(h):(o=!0,e.consume(h),l)}function c(h){return h===95?n=!0:(a=n,n=void 0),e.consume(h),l}function u(h){return a||n||!o?r(h):t(h)}}function vLe(e,t){let r=0,n=0;return a;function a(l){return l===40?(r++,e.consume(l),a):l===41&&n<r?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(Ire,t,o)(l):l===null||dr(l)||Yd(l)?t(l):(e.consume(l),a)}function o(l){return l===41&&n++,e.consume(l),a}}function yLe(e,t,r){return n;function n(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),n):c===38?(e.consume(c),o):c===93?(e.consume(c),a):c===60||c===null||dr(c)||Yd(c)?t(c):r(c)}function a(c){return c===null||c===40||c===91||dr(c)||Yd(c)?t(c):n(c)}function o(c){return Ci(c)?l(c):r(c)}function l(c){return c===59?(e.consume(c),n):Ci(c)?(e.consume(c),l):r(c)}}function bLe(e,t,r){return n;function n(o){return e.consume(o),a}function a(o){return yi(o)?r(o):t(o)}}function _re(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||dr(e)}function Nre(e){return!Ci(e)}function Lre(e){return!(e===47||QI(e))}function QI(e){return e===43||e===45||e===46||e===95||yi(e)}function Z9(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const xLe={tokenize:ILe,partial:!0};function TLe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ALe,continuation:{tokenize:kLe},exit:CLe}},text:{91:{name:"gfmFootnoteCall",tokenize:SLe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wLe,resolveTo:ELe}}}}function wLe(e,t,r){const n=this;let a=n.events.length;const o=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let l;for(;a--;){const u=n.events[a][1];if(u.type==="labelImage"){l=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return c;function c(u){if(!l||!l._balanced)return r(u);const h=nc(n.sliceSerialize({start:l.end,end:n.now()}));return h.codePointAt(0)!==94||!o.includes(h.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function ELe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...c),e}function SLe(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o=0,l;return c;function c(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(d){if(o>999||d===93&&!l||d===null||d===91||dr(d))return r(d);if(d===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(nc(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return dr(d)||(l=!0),o++,e.consume(d),d===92?f:h}function f(d){return d===91||d===92||d===93?(e.consume(d),o++,h):h(d)}}function ALe(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o,l=0,c;return u;function u(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(m)}function f(m){if(l>999||m===93&&!c||m===null||m===91||dr(m))return r(m);if(m===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return o=nc(n.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return dr(m)||(c=!0),l++,e.consume(m),m===92?d:f}function d(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}function p(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a.includes(o)||a.push(o),Ft(e,g,"gfmFootnoteDefinitionWhitespace")):r(m)}function g(m){return t(m)}}function kLe(e,t,r){return e.check(Hx,t,e.attempt(xLe,t,r))}function CLe(e){e.exit("gfmFootnoteDefinition")}function ILe(e,t,r){const n=this;return Ft(e,a,"gfmFootnoteDefinitionIndent",5);function a(o){const l=n.events[n.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):r(o)}}function RLe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:o,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(l,c){let u=-1;for(;++u<l.length;)if(l[u][0]==="enter"&&l[u][1].type==="strikethroughSequenceTemporary"&&l[u][1]._close){let h=u;for(;h--;)if(l[h][0]==="exit"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._open&&l[u][1].end.offset-l[u][1].start.offset===l[h][1].end.offset-l[h][1].start.offset){l[u][1].type="strikethroughSequence",l[h][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[h][1].start),end:Object.assign({},l[u][1].end)},d={type:"strikethroughText",start:Object.assign({},l[h][1].end),end:Object.assign({},l[u][1].start)},p=[["enter",f,c],["enter",l[h][1],c],["exit",l[h][1],c],["enter",d,c]],g=c.parser.constructs.insideSpan.null;g&&Do(p,p.length,0,i6(g,l.slice(h+1,u),c)),Do(p,p.length,0,[["exit",d,c],["enter",l[u][1],c],["exit",l[u][1],c],["exit",f,c]]),Do(l,h-1,u-h+3,p),u=h+p.length-2;break}}for(u=-1;++u<l.length;)l[u][1].type==="strikethroughSequenceTemporary"&&(l[u][1].type="data");return l}function o(l,c,u){const h=this.previous,f=this.events;let d=0;return p;function p(m){return h===126&&f[f.length-1][1].type!=="characterEscape"?u(m):(l.enter("strikethroughSequenceTemporary"),g(m))}function g(m){const y=vm(h);if(m===126)return d>1?u(m):(l.consume(m),d++,g);if(d<2&&!r)return u(m);const b=l.exit("strikethroughSequenceTemporary"),x=vm(m);return b._open=!x||x===2&&!!y,b._close=!y||y===2&&!!x,c(m)}}}class OLe{constructor(){this.map=[]}add(t,r,n){_Le(this,t,r,n)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const o of a)t.push(o);a=n.pop()}this.map.length=0}}function _Le(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function NLe(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=n.length-1;n[o]=n[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function LLe(){return{flow:{null:{name:"table",tokenize:MLe,resolveAll:DLe}}}}function MLe(e,t,r){const n=this;let a=0,o=0,l;return c;function c(_){let R=n.events.length-1;for(;R>-1;){const N=n.events[R][1].type;if(N==="lineEnding"||N==="linePrefix")R--;else break}const M=R>-1?n.events[R][1].type:null,$=M==="tableHead"||M==="tableRow"?C:u;return $===C&&n.parser.lazy[n.now().line]?r(_):$(_)}function u(_){return e.enter("tableHead"),e.enter("tableRow"),h(_)}function h(_){return _===124||(l=!0,o+=1),f(_)}function f(_){return _===null?r(_):yt(_)?o>1?(o=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),g):r(_):Xt(_)?Ft(e,f,"whitespace")(_):(o+=1,l&&(l=!1,a+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),l=!0,f):(e.enter("data"),d(_)))}function d(_){return _===null||_===124||dr(_)?(e.exit("data"),f(_)):(e.consume(_),_===92?p:d)}function p(_){return _===92||_===124?(e.consume(_),d):d(_)}function g(_){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(_):(e.enter("tableDelimiterRow"),l=!1,Xt(_)?Ft(e,m,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):m(_))}function m(_){return _===45||_===58?b(_):_===124?(l=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),y):S(_)}function y(_){return Xt(_)?Ft(e,b,"whitespace")(_):b(_)}function b(_){return _===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),x):_===45?(o+=1,x(_)):_===null||yt(_)?E(_):S(_)}function x(_){return _===45?(e.enter("tableDelimiterFiller"),T(_)):S(_)}function T(_){return _===45?(e.consume(_),T):_===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(_))}function w(_){return Xt(_)?Ft(e,E,"whitespace")(_):E(_)}function E(_){return _===124?m(_):_===null||yt(_)?!l||a!==o?S(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(_)):S(_)}function S(_){return r(_)}function C(_){return e.enter("tableRow"),k(_)}function k(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),k):_===null||yt(_)?(e.exit("tableRow"),t(_)):Xt(_)?Ft(e,k,"whitespace")(_):(e.enter("data"),O(_))}function O(_){return _===null||_===124||dr(_)?(e.exit("data"),k(_)):(e.consume(_),_===92?I:O)}function I(_){return _===92||_===124?(e.consume(_),O):O(_)}}function DLe(e,t){let r=-1,n=!0,a=0,o=[0,0,0,0],l=[0,0,0,0],c=!1,u=0,h,f,d;const p=new OLe;for(;++r<e.length;){const g=e[r],m=g[1];g[0]==="enter"?m.type==="tableHead"?(c=!1,u!==0&&(pU(p,t,u,h,f),f=void 0,u=0),h={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(r,0,[["enter",h,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(n=!0,d=void 0,o=[0,0,0,0],l=[0,r+1,0,0],c&&(c=!1,f={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(r,0,[["enter",f,t]])),a=m.type==="tableDelimiterRow"?2:f?3:1):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(n=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],d=IT(p,t,o,a,void 0,d),o=[0,0,0,0]),l[2]=r)):m.type==="tableCellDivider"&&(n?n=!1:(o[1]!==0&&(l[0]=l[1],d=IT(p,t,o,a,void 0,d)),o=l,l=[o[1],r,0,0])):m.type==="tableHead"?(c=!0,u=r):m.type==="tableRow"||m.type==="tableDelimiterRow"?(u=r,o[1]!==0?(l[0]=l[1],d=IT(p,t,o,a,r,d)):l[1]!==0&&(d=IT(p,t,l,a,r,d)),a=0):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(l[3]=r)}for(u!==0&&pU(p,t,u,h,f),p.consume(t.events),r=-1;++r<t.events.length;){const g=t.events[r];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=NLe(t.events,r))}return e}function IT(e,t,r,n,a,o){const l=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",c="tableContent";r[0]!==0&&(o.end=Object.assign({},k1(t.events,r[0])),e.add(r[0],0,[["exit",o,t]]));const u=k1(t.events,r[1]);if(o={type:l,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",o,t]]),r[2]!==0){const h=k1(t.events,r[2]),f=k1(t.events,r[3]),d={type:c,start:Object.assign({},h),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const p=t.events[r[2]],g=t.events[r[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const m=r[2]+1,y=r[3]-r[2]-1;e.add(m,y,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return a!==void 0&&(o.end=Object.assign({},k1(t.events,a)),e.add(a,0,[["exit",o,t]]),o=void 0),o}function pU(e,t,r,n,a){const o=[],l=k1(t.events,r);a&&(a.end=Object.assign({},l),o.push(["exit",a,t])),n.end=Object.assign({},l),o.push(["exit",n,t]),e.add(r+1,0,o)}function k1(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const PLe={name:"tasklistCheck",tokenize:BLe};function FLe(){return{text:{91:PLe}}}function BLe(e,t,r){const n=this;return a;function a(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),o)}function o(u){return dr(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),l):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),l):r(u)}function l(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):r(u)}function c(u){return yt(u)?t(u):Xt(u)?e.check({tokenize:$Le},t,r)(u):r(u)}}function $Le(e,t,r){return Ft(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function HLe(e){return $J([hLe(),TLe(),RLe(e),LLe(),FLe()])}const ULe={};function WLe(e){const t=this,r=e||ULe,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),o=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),l=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(HLe(r)),o.push(oLe()),l.push(lLe(r))}const zLe={key:1},GLe={class:"chapter-controls"},YLe=["readonly"],VLe=["src"],qLe=Fh({__name:"ChapterView",props:ebe({name:String},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=new gm("epub-editor"),r=Gd(),n=e,a=or("working"),o=or(""),l=or(""),c=bJ(),u=or(0),h=or(["working"]),f=or(a.value),d=E5e("auto_save",!0);let p;d5e(d,()=>{console.log("changed!"),g()},{throttle:500});function g(){d.value?p=f5e(T,()=>{_()},{debounce:2e3}):p&&p()}async function m(){var R;if(a.value!=""){o.value=a.value=="working"?"":a.value;const M=await navigator.storage.getDirectory(),$=(R=n.name)==null?void 0:R.replaceAll("/","_"),N=await M.getDirectoryHandle(`${$}-versions`,{create:!0});if(N){if(console.log("loading version",a.value),f.value=="working"){const L=await(await N.getFileHandle(a.value,{create:!0})).createWritable();await L.write(T.value||""),await L.close(),f.value=a.value}const P=await N.getFileHandle(a.value,{create:!1});P&&(T.value=await(await P.getFile()).text())}}}function y(R){console.log(R)}async function b(R){const M=await navigator.storage.getDirectory();let $;const N=`${R}-versions`;try{$=await M.getDirectoryHandle(N,{create:!1})}catch(P){console.log(P,N)}if(h.value.length=0,$)for await(const[P,F]of $.entries())console.log(P,F),h.value.push(P);else console.log("no directoryHandle for ",R)}async function x(R){const M=await navigator.storage.getDirectory();let $;const N=`${R}-versions`;try{$=await M.getDirectoryHandle(N,{create:!1})}catch(P){console.log(P,N)}if($)for await(const[P,F]of $.entries())console.log(P,F),$.removeEntry(P);else console.log("no directoryHandle for ",R)}const T=or(""),w=or(),E=xZ(e,"modelValue");E.value={source_filename:"",fixed_layout:!1},iu(n,async R=>{R.name&&(T.value=await C(R.name),a.value="working",m(),b(R.name.replaceAll("/","_")))});function S(R){return R.split(".").pop()}async function C(R){const M=S(R);if(R&&M&&["mimetype","xml","opf","xhtml","html","ncx","css","js","md","smil","svg"].includes(M)){const $=await t.promises.readFile(R);if(l.value="",M=="md")try{let N=(await t.promises.readFile(R.replace(".md",".xhtml"))).toString();const F=new DOMParser().parseFromString(N,"text/xml");[{tag:"script",attr:"src"},{tag:"link",attr:"href"},{tag:"a",attr:"href"},{tag:"audio",attr:"src"},{tag:"video",attr:"src"},{tag:"video",attr:"poster"},{tag:"img",attr:"src"},{tag:"button.clip",attr:"data-src"},{tag:"span.clip",attr:"data-src"}].forEach(D=>{Array.from(F.querySelectorAll(D.tag)).forEach(B=>{const H=r.findItemByHref(B.getAttribute(D.attr)),U=H==null?void 0:H.getContentUrl();B.setAttribute(D.attr,U)})}),N=new XMLSerializer().serializeToString(F),w.value=URL.createObjectURL(new Blob([N],{type:"application/xhtml+xml"}))}catch(N){throw console.log(`no xhtml for manifest markdown item: ${R}`),N}else w.value=void 0;return typeof $=="string"?$:new TextDecoder().decode($)}if(R&&M&&["jpg","jpeg","png"].includes(M.toLowerCase())){const $=await t.promises.readFile(R);l.value=URL.createObjectURL(new Blob([$])),w.value=void 0}R&&M&&["xhtml"].includes(M.toLowerCase())&&(w.value=void 0,l.value="")}cv(async()=>{T.value=await C(n.name),g()});function k(){const R=document.getElementById("preview").contentWindow;R&&(R.focus(),R.print())}async function O(){var R;if(n.name&&confirm(`Delete "${n.name}"?`)){const M=r9(),$=n.name.split("/");console.log($);const N=$.length>1?M.manifest.findItemByHref($[2]):void 0;console.log(N.href),M.manifest.removeItem(N.id),await t.promises.writeFile("/EPUB/content.opf",rg()),await t.promises.unlink(n.name);const P=(R=n.name)==null?void 0:R.replaceAll("/","_");await x(P)}}async function I(R){R.key==="s"&&(R.ctrlKey||R.metaKey)&&(R.preventDefault(),await _())}async function _(){var M,$;const R=Bx();if(n.name&&T.value){t.promises.writeFile(n.name,T.value).then(B=>{typeof B=="string"&&(T.value=B)});let N,P,F;try{({default:N}=await vr(()=>Promise.resolve().then(()=>iMe),void 0,import.meta.url)),{default:P}=await vr(()=>Promise.resolve().then(()=>kKe),void 0,import.meta.url),{default:F}=await vr(()=>Promise.resolve().then(()=>tZe),void 0,import.meta.url),P.initialize({securityLevel:"loose",theme:"base",htmlLabels:!1})}catch(B){console.log("dynamic import failed.",B)}let L;const D=(M=n.name)==null?void 0:M.match(/\/.*\/(.*)\.md/);if(D){const B=r.getItem(D[1]),H=Uke().use(RAe).use(VIe).use(WLe).use(O8e).use(LNe).use(Yke);N&&H.use(N),H.use(XNe).use(h9e,{transform:z=>z.lang=="neumes"?{transform:j=>{j.data.hChildren=[{type:"element",tagName:"table",properties:{class:j.lang},children:[{type:"element",tagName:"tbody",children:[...j.value.split(`
`).map((te,re)=>({type:"element",tagName:"tr",children:[{type:"element",tagName:"td",children:[{type:"element",tagName:"pre",properties:{className:"neumes-"+(re%2==0?"arrows":"text")},children:[{type:"text",value:te}]}]}]}))]}]}]}}:null}).use(Eke),F&&H.use(F,{strategy:"inline-svg"}),H.use(nCe).use(CSe,{collapseEmptyAttributes:!1,closeEmptyElements:!0,closeSelfClosing:!0,voids:["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","input","keygen","link","meta","param","source","track","wbr"]}).use(hRe).use(ZIe);const U=await H.process(T.value);let G=U.value.toString();const W=U.data.matter&&U.data.matter.hasOwnProperty("title")?U.data.matter.title:R.title;let ee;if("matter"in U.data&&U.data.matter&&typeof U.data.matter=="object"&&("script"in U.data.matter&&(Object.prototype.toString.call(U.data.matter.script)=="[object Array]"?(ee="",U.data.matter.script.forEach(z=>{ee+=`<script src="${z}" type="text/javascript"><\/script>`})):typeof U.data.matter.script=="string"&&(ee=`<script src="${U.data.matter.script}" type="text/javascript"><\/script>`)),"fixed-layout"in U.data.matter&&B)){L="rendition:layout-pre-paginated rendition:orientation-portrait rendition:spread-none";const z=r6();z.getItem(B.id).properties=L}let ce="";r.getItemsByType("text/css").sort((z,j)=>z.href>j.href?1:-1).forEach(z=>{ce+=`<link href="${z.href}" rel="stylesheet" />
  `});const Z=[];ee&&B&&Z.push("scripted"),new DOMParser().parseFromString(G,"text/html").querySelectorAll("svg").length>0&&Z.push("svg"),B&&(B.properties=Z.join(" ")),G=G.replaceAll("controls>",'controls="controls">').replaceAll(new RegExp("<pre>(.*)</pre>","g"),"<div>$1</div>");const Y=`/EPUB/${D[1]}.xhtml`;await t.promises.writeFile(Y,`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE xhtml5>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/" xml:lang="${R.lang}">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>${W}</title>
  ${ce}${ee||""}
  </head>
<body>
  ${G}
</body>
</html>`),C(n.name);const X=document.getElementById("preview"),K=X.contentWindow;if(K){const z=K.scrollX,j=K.scrollY;X.onload=function(){K.scrollTo(z,j)},K.location.reload()}}else{const B=($=n.name)==null?void 0:$.match(/\/.*\/(.*\.*)$/),H=r.findItemByHref(B[1]);H&&H.setContent(T.value)}}await t.promises.writeFile("/EPUB/content.opf",rg()),c.status=`saved ${n.name}`}return(R,M)=>(Dn(),Bi("container",null,[Ve("content-footer",null,[Ve("nav",null,[(Dn(),Bi("ul",zLe)),Ve("ul",GLe,[Ve("li",null,[Vr(r).getAudioItems().length>0?(Dn(),db(UNe,{key:0,duration:u.value,onTime:y},null,8,["duration"])):O2("",!0)]),Ve("li",null,[w.value?(Dn(),Bi("button",{key:0,onClick:k},"Print")):O2("",!0)]),Ve("li",null,[Ve("button",{onClick:O},"Delete")]),Ve("li",null,[Ve("button",{onClick:_},"Save")]),Ve("li",null,[Wa(Ve("input",{type:"checkbox",id:"auto_save","onUpdate:modelValue":M[2]||(M[2]=$=>qn(d)?d.value=$:null)},null,512),[[OZ,Vr(d)]])]),M[7]||(M[7]=Ve("li",null,[Ve("label",{for:"auto_save"},"Auto save")],-1))])])]),Ve("content",null,[Wa(Ve("textarea",{name:"editor",id:"editor","onUpdate:modelValue":M[3]||(M[3]=$=>T.value=$),spellcheck:"false",onKeydown:I,readonly:a.value!="working",style:HS(`background-image: url(${l.value}); background-size: contain;`)},null,44,YLe),[[Oo,T.value]]),w.value?(Dn(),Bi("iframe",{key:0,id:"preview",name:"preview",src:w.value},null,8,VLe)):O2("",!0)])]))}}),jLe=uv(qLe,[["__scopeId","data-v-d8973bc8"]]),gU=Object.freeze(Object.defineProperty({__proto__:null,default:jLe},Symbol.toStringTag,{value:"Module"})),XLe=Fh({__name:"ContentOpf",setup(e){const t=new gm("epub-editor"),r=or("");return t.promises.readFile("/EPUB/content.opf").then(n=>{r.value=""+n}),(n,a)=>(Dn(),Bi("container",null,[a[1]||(a[1]=Ve("content-footer",null,null,-1)),Wa(Ve("textarea",{name:"editor",id:"editor","onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),spellcheck:"false",readonly:""},null,512),[[Oo,r.value]])]))}}),KLe=uv(XLe,[["__scopeId","data-v-2ba9b20b"]]),ZLe=Object.freeze(Object.defineProperty({__proto__:null,default:KLe},Symbol.toStringTag,{value:"Module"})),W8={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Mre(e,t){return Dre(e,{})||{type:"root",children:[]}}function Dre(e,t){const r=QLe(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function QLe(e,t){switch(e.nodeType){case 1:return rMe(e,t);case 3:return eMe(e);case 8:return tMe(e);case 9:return mU(e,t);case 10:return JLe();case 11:return mU(e,t);default:return}}function mU(e,t){return{type:"root",children:Pre(e,t)}}function JLe(){return{type:"doctype"}}function eMe(e){return{type:"text",value:e.nodeValue||""}}function tMe(e){return{type:"comment",value:e.nodeValue||""}}function rMe(e,t){const r=e.namespaceURI,n=r===W8.svg?jNe:mre,a=r===W8.html?e.tagName.toLowerCase():e.tagName,o=r===W8.html&&a==="template"?e.content:e,l=e.getAttributeNames(),c={};let u=-1;for(;++u<l.length;)c[l[u]]=e.getAttribute(l[u])||"";return n(a,c,Pre(o,t))}function Pre(e,t){const r=e.childNodes,n=[];let a=-1;for(;++a<r.length;){const o=Dre(r[a],t);o!==void 0&&n.push(o)}return n}function nMe(){return async function(e){let t;try{({default:t}=await vr(()=>Promise.resolve().then(()=>Vst),void 0,import.meta.url))}catch(r){console.log("failed to import abcjs",r)}return Vd(e,"code",r=>{if(r.lang==="abc"){const n="frontmatter"in r&&r.frontmatter,a={regular:540};let o=a;n&&"staffwidths"in n&&(o=n.staffwidths||a);const l=[];for(const[c,u]of Object.entries(o)){const h=document.createElement("div");h.className=c;const f={responsive:"resize",staffwidth:u,textboxpadding:0,format:{vocalfont:"serif 16"}};t?(t.renderAbc(h,r.value,{...f,...n}),h.children[0].setAttribute("xmlns","http://www.w3.org/2000/svg"),l.push(Mre(h))):l.push({type:"text",value:"ABCJS not supported in this build"})}r.data={hName:"div",hProperties:{},hChildren:l}}})}}const iMe=Object.freeze(Object.defineProperty({__proto__:null,default:nMe},Symbol.toStringTag,{value:"Module"}));var Fre={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(As,function(){var r=1e3,n=6e4,a=36e5,o="millisecond",l="second",c="minute",u="hour",h="day",f="week",d="month",p="quarter",g="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var P=["th","st","nd","rd"],F=N%100;return"["+N+(P[(F-20)%10]||P[F]||P[0])+"]"}},w=function(N,P,F){var L=String(N);return!L||L.length>=P?N:""+Array(P+1-L.length).join(F)+N},E={s:w,z:function(N){var P=-N.utcOffset(),F=Math.abs(P),L=Math.floor(F/60),D=F%60;return(P<=0?"+":"-")+w(L,2,"0")+":"+w(D,2,"0")},m:function N(P,F){if(P.date()<F.date())return-N(F,P);var L=12*(F.year()-P.year())+(F.month()-P.month()),D=P.clone().add(L,d),B=F-D<0,H=P.clone().add(L+(B?-1:1),d);return+(-(L+(F-D)/(B?D-H:H-D))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:g,w:f,d:h,D:m,h:u,m:c,s:l,ms:o,Q:p}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},S="en",C={};C[S]=T;var k="$isDayjsObject",O=function(N){return N instanceof M||!(!N||!N[k])},I=function N(P,F,L){var D;if(!P)return S;if(typeof P=="string"){var B=P.toLowerCase();C[B]&&(D=B),F&&(C[B]=F,D=B);var H=P.split("-");if(!D&&H.length>1)return N(H[0])}else{var U=P.name;C[U]=P,D=U}return!L&&D&&(S=D),D||!L&&S},_=function(N,P){if(O(N))return N.clone();var F=typeof P=="object"?P:{};return F.date=N,F.args=arguments,new M(F)},R=E;R.l=I,R.i=O,R.w=function(N,P){return _(N,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var M=function(){function N(F){this.$L=I(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[k]=!0}var P=N.prototype;return P.parse=function(F){this.$d=function(L){var D=L.date,B=L.utc;if(D===null)return new Date(NaN);if(R.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var H=D.match(b);if(H){var U=H[2]-1||0,G=(H[7]||"0").substring(0,3);return B?new Date(Date.UTC(H[1],U,H[3]||1,H[4]||0,H[5]||0,H[6]||0,G)):new Date(H[1],U,H[3]||1,H[4]||0,H[5]||0,H[6]||0,G)}}return new Date(D)}(F),this.init()},P.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},P.$utils=function(){return R},P.isValid=function(){return this.$d.toString()!==y},P.isSame=function(F,L){var D=_(F);return this.startOf(L)<=D&&D<=this.endOf(L)},P.isAfter=function(F,L){return _(F)<this.startOf(L)},P.isBefore=function(F,L){return this.endOf(L)<_(F)},P.$g=function(F,L,D){return R.u(F)?this[L]:this.set(D,F)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(F,L){var D=this,B=!!R.u(L)||L,H=R.p(F),U=function(Y,X){var K=R.w(D.$u?Date.UTC(D.$y,X,Y):new Date(D.$y,X,Y),D);return B?K:K.endOf(h)},G=function(Y,X){return R.w(D.toDate()[Y].apply(D.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(X)),D)},W=this.$W,ee=this.$M,ce=this.$D,Z="set"+(this.$u?"UTC":"");switch(H){case g:return B?U(1,0):U(31,11);case d:return B?U(1,ee):U(0,ee+1);case f:var J=this.$locale().weekStart||0,oe=(W<J?W+7:W)-J;return U(B?ce-oe:ce+(6-oe),ee);case h:case m:return G(Z+"Hours",0);case u:return G(Z+"Minutes",1);case c:return G(Z+"Seconds",2);case l:return G(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(F){return this.startOf(F,!1)},P.$set=function(F,L){var D,B=R.p(F),H="set"+(this.$u?"UTC":""),U=(D={},D[h]=H+"Date",D[m]=H+"Date",D[d]=H+"Month",D[g]=H+"FullYear",D[u]=H+"Hours",D[c]=H+"Minutes",D[l]=H+"Seconds",D[o]=H+"Milliseconds",D)[B],G=B===h?this.$D+(L-this.$W):L;if(B===d||B===g){var W=this.clone().set(m,1);W.$d[U](G),W.init(),this.$d=W.set(m,Math.min(this.$D,W.daysInMonth())).$d}else U&&this.$d[U](G);return this.init(),this},P.set=function(F,L){return this.clone().$set(F,L)},P.get=function(F){return this[R.p(F)]()},P.add=function(F,L){var D,B=this;F=Number(F);var H=R.p(L),U=function(ee){var ce=_(B);return R.w(ce.date(ce.date()+Math.round(ee*F)),B)};if(H===d)return this.set(d,this.$M+F);if(H===g)return this.set(g,this.$y+F);if(H===h)return U(1);if(H===f)return U(7);var G=(D={},D[c]=n,D[u]=a,D[l]=r,D)[H]||1,W=this.$d.getTime()+F*G;return R.w(W,this)},P.subtract=function(F,L){return this.add(-1*F,L)},P.format=function(F){var L=this,D=this.$locale();if(!this.isValid())return D.invalidDate||y;var B=F||"YYYY-MM-DDTHH:mm:ssZ",H=R.z(this),U=this.$H,G=this.$m,W=this.$M,ee=D.weekdays,ce=D.months,Z=D.meridiem,J=function(X,K,z,j){return X&&(X[K]||X(L,B))||z[K].slice(0,j)},oe=function(X){return R.s(U%12||12,X,"0")},Y=Z||function(X,K,z){var j=X<12?"AM":"PM";return z?j.toLowerCase():j};return B.replace(x,function(X,K){return K||function(z){switch(z){case"YY":return String(L.$y).slice(-2);case"YYYY":return R.s(L.$y,4,"0");case"M":return W+1;case"MM":return R.s(W+1,2,"0");case"MMM":return J(D.monthsShort,W,ce,3);case"MMMM":return J(ce,W);case"D":return L.$D;case"DD":return R.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return J(D.weekdaysMin,L.$W,ee,2);case"ddd":return J(D.weekdaysShort,L.$W,ee,3);case"dddd":return ee[L.$W];case"H":return String(U);case"HH":return R.s(U,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return Y(U,G,!0);case"A":return Y(U,G,!1);case"m":return String(G);case"mm":return R.s(G,2,"0");case"s":return String(L.$s);case"ss":return R.s(L.$s,2,"0");case"SSS":return R.s(L.$ms,3,"0");case"Z":return H}return null}(X)||H.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(F,L,D){var B,H=this,U=R.p(L),G=_(F),W=(G.utcOffset()-this.utcOffset())*n,ee=this-G,ce=function(){return R.m(H,G)};switch(U){case g:B=ce()/12;break;case d:B=ce();break;case p:B=ce()/3;break;case f:B=(ee-W)/6048e5;break;case h:B=(ee-W)/864e5;break;case u:B=ee/a;break;case c:B=ee/n;break;case l:B=ee/r;break;default:B=ee}return D?B:R.a(B)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return C[this.$L]},P.locale=function(F,L){if(!F)return this.$L;var D=this.clone(),B=I(F,L,!0);return B&&(D.$L=B),D},P.clone=function(){return R.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},N}(),$=M.prototype;return _.prototype=$,[["$ms",o],["$s",l],["$m",c],["$H",u],["$W",h],["$M",d],["$y",g],["$D",m]].forEach(function(N){$[N[1]]=function(P){return this.$g(P,N[0],N[1])}}),_.extend=function(N,P){return N.$i||(N(P,M,_),N.$i=!0),_},_.locale=I,_.isDayjs=O,_.unix=function(N){return _(1e3*N)},_.en=C[S],_.Ls=C,_.p={},_})})(Fre);var aMe=Fre.exports;const ja=Wo(aMe),aw={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const a=r<.5?r*(1+t):r+t-r*t,o=2*r-a;switch(n){case"r":return aw.hue2rgb(o,a,e+1/3)*255;case"g":return aw.hue2rgb(o,a,e)*255;case"b":return aw.hue2rgb(o,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const a=Math.max(e,t,r),o=Math.min(e,t,r),l=(a+o)/2;if(n==="l")return l*100;if(a===o)return 0;const c=a-o,u=l>.5?c/(2-a-o):c/(a+o);if(n==="s")return u*100;switch(a){case e:return((t-r)/c+(t<r?6:0))*60;case t:return((r-e)/c+2)*60;case r:return((e-t)/c+4)*60;default:return-1}}},sMe={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},oMe={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},ar={channel:aw,lang:sMe,unit:oMe},f0={};for(let e=0;e<=255;e++)f0[e]=ar.unit.dec2hex(e);const Fa={ALL:0,RGB:1,HSL:2};let lMe=class{constructor(){this.type=Fa.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Fa.ALL}is(t){return this.type===t}};class cMe{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new lMe}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=Fa.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:a}=t;r===void 0&&(t.h=ar.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=ar.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=ar.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:a}=t;r===void 0&&(t.r=ar.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=ar.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=ar.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),ar.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),ar.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(Fa.HSL)&&r!==void 0?r:(this._ensureHSL(),ar.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),ar.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),ar.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(Fa.RGB)&&r!==void 0?r:(this._ensureRGB(),ar.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Fa.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Fa.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Fa.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Fa.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Fa.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Fa.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const _6=new cMe({r:0,g:0,b:0,a:0},"transparent"),lg={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(lg.re);if(!t)return;const r=t[1],n=parseInt(r,16),a=r.length,o=a%4===0,l=a>4,c=l?1:17,u=l?8:4,h=o?0:-1,f=l?255:15;return _6.set({r:(n>>u*(h+3)&f)*c,g:(n>>u*(h+2)&f)*c,b:(n>>u*(h+1)&f)*c,a:o?(n&f)*c/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a}=e;return a<1?`#${f0[Math.round(t)]}${f0[Math.round(r)]}${f0[Math.round(n)]}${f0[Math.round(a*255)]}`:`#${f0[Math.round(t)]}${f0[Math.round(r)]}${f0[Math.round(n)]}`}},Ed={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Ed.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return ar.channel.clamp.h(parseFloat(r)*.9);case"rad":return ar.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ar.channel.clamp.h(parseFloat(r)*360)}}return ar.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(Ed.re);if(!r)return;const[,n,a,o,l,c]=r;return _6.set({h:Ed._hue2deg(n),s:ar.channel.clamp.s(parseFloat(a)),l:ar.channel.clamp.l(parseFloat(o)),a:l?ar.channel.clamp.a(c?parseFloat(l)/100:parseFloat(l)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a}=e;return a<1?`hsla(${ar.lang.round(t)}, ${ar.lang.round(r)}%, ${ar.lang.round(n)}%, ${a})`:`hsl(${ar.lang.round(t)}, ${ar.lang.round(r)}%, ${ar.lang.round(n)}%)`}},H2={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=H2.colors[e];if(t)return lg.parse(t)},stringify:e=>{const t=lg.stringify(e);for(const r in H2.colors)if(H2.colors[r]===t)return r}},t2={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(t2.re);if(!r)return;const[,n,a,o,l,c,u,h,f]=r;return _6.set({r:ar.channel.clamp.r(a?parseFloat(n)*2.55:parseFloat(n)),g:ar.channel.clamp.g(l?parseFloat(o)*2.55:parseFloat(o)),b:ar.channel.clamp.b(u?parseFloat(c)*2.55:parseFloat(c)),a:h?ar.channel.clamp.a(f?parseFloat(h)/100:parseFloat(h)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a}=e;return a<1?`rgba(${ar.lang.round(t)}, ${ar.lang.round(r)}, ${ar.lang.round(n)}, ${ar.lang.round(a)})`:`rgb(${ar.lang.round(t)}, ${ar.lang.round(r)}, ${ar.lang.round(n)})`}},mc={format:{keyword:H2,hex:lg,rgb:t2,rgba:t2,hsl:Ed,hsla:Ed},parse:e=>{if(typeof e!="string")return e;const t=lg.parse(e)||t2.parse(e)||Ed.parse(e)||H2.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Fa.HSL)||e.data.r===void 0?Ed.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?t2.stringify(e):lg.stringify(e)},Bre=(e,t)=>{const r=mc.parse(e);for(const n in t)r[n]=ar.channel.clamp[n](t[n]);return mc.stringify(r)},Fd=(e,t,r=0,n=1)=>{if(typeof e!="number")return Bre(e,{a:t});const a=_6.set({r:ar.channel.clamp.r(e),g:ar.channel.clamp.g(t),b:ar.channel.clamp.b(r),a:ar.channel.clamp.a(n)});return mc.stringify(a)},$re=(e,t)=>ar.lang.round(mc.parse(e)[t]),uMe=e=>{const{r:t,g:r,b:n}=mc.parse(e),a=.2126*ar.channel.toLinear(t)+.7152*ar.channel.toLinear(r)+.0722*ar.channel.toLinear(n);return ar.lang.round(a)},hMe=e=>uMe(e)>=.5,yf=e=>!hMe(e),Hre=(e,t,r)=>{const n=mc.parse(e),a=n[t],o=ar.channel.clamp[t](a+r);return a!==o&&(n[t]=o),mc.stringify(n)},Lt=(e,t)=>Hre(e,"l",t),Wt=(e,t)=>Hre(e,"l",-t),Ue=(e,t)=>{const r=mc.parse(e),n={};for(const a in t)t[a]&&(n[a]=r[a]+t[a]);return Bre(e,n)},fMe=(e,t,r=50)=>{const{r:n,g:a,b:o,a:l}=mc.parse(e),{r:c,g:u,b:h,a:f}=mc.parse(t),d=r/100,p=d*2-1,g=l-f,y=((p*g===-1?p:(p+g)/(1+p*g))+1)/2,b=1-y,x=n*y+c*b,T=a*y+u*b,w=o*y+h*b,E=l*d+f*(1-d);return Fd(x,T,w,E)},wt=(e,t=100)=>{const r=mc.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,fMe(r,e,t)};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Ure,setPrototypeOf:vU,isFrozen:dMe,getPrototypeOf:pMe,getOwnPropertyDescriptor:gMe}=Object;let{freeze:Is,seal:xl,create:Wre}=Object,{apply:JI,construct:eR}=typeof Reflect<"u"&&Reflect;Is||(Is=function(t){return t});xl||(xl=function(t){return t});JI||(JI=function(t,r,n){return t.apply(r,n)});eR||(eR=function(t,r){return new t(...r)});const RT=Rs(Array.prototype.forEach),mMe=Rs(Array.prototype.lastIndexOf),yU=Rs(Array.prototype.pop),vy=Rs(Array.prototype.push),vMe=Rs(Array.prototype.splice),sw=Rs(String.prototype.toLowerCase),z8=Rs(String.prototype.toString),bU=Rs(String.prototype.match),yy=Rs(String.prototype.replace),yMe=Rs(String.prototype.indexOf),bMe=Rs(String.prototype.trim),Gl=Rs(Object.prototype.hasOwnProperty),hs=Rs(RegExp.prototype.test),by=xMe(TypeError);function Rs(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return JI(e,t,n)}}function xMe(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return eR(e,r)}}function wr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sw;vU&&vU(e,null);let n=t.length;for(;n--;){let a=t[n];if(typeof a=="string"){const o=r(a);o!==a&&(dMe(t)||(t[n]=o),a=o)}e[a]=!0}return e}function TMe(e){for(let t=0;t<e.length;t++)Gl(e,t)||(e[t]=null);return e}function td(e){const t=Wre(null);for(const[r,n]of Ure(e))Gl(e,r)&&(Array.isArray(n)?t[r]=TMe(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=td(n):t[r]=n);return t}function xy(e,t){for(;e!==null;){const n=gMe(e,t);if(n){if(n.get)return Rs(n.get);if(typeof n.value=="function")return Rs(n.value)}e=pMe(e)}function r(){return null}return r}const xU=Is(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),G8=Is(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y8=Is(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wMe=Is(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V8=Is(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),EMe=Is(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),TU=Is(["#text"]),wU=Is(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),q8=Is(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),EU=Is(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),OT=Is(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),SMe=xl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),AMe=xl(/<%[\w\W]*|[\w\W]*%>/gm),kMe=xl(/\$\{[\w\W]*/gm),CMe=xl(/^data-[\-\w.\u00B7-\uFFFF]+$/),IMe=xl(/^aria-[\-\w]+$/),zre=xl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),RMe=xl(/^(?:\w+script|data):/i),OMe=xl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Gre=xl(/^html$/i),_Me=xl(/^[a-z][.\w]*(-[.\w]+)+$/i);var SU=Object.freeze({__proto__:null,ARIA_ATTR:IMe,ATTR_WHITESPACE:OMe,CUSTOM_ELEMENT:_Me,DATA_ATTR:CMe,DOCTYPE_NAME:Gre,ERB_EXPR:AMe,IS_ALLOWED_URI:zre,IS_SCRIPT_OR_DATA:RMe,MUSTACHE_EXPR:SMe,TMPLIT_EXPR:kMe});const Ty={element:1,text:3,progressingInstruction:7,comment:8,document:9},NMe=function(){return typeof window>"u"?null:window},LMe=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},AU=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Yre(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NMe();const t=At=>Yre(At);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==Ty.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,a=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:h,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:p,trustedTypes:g}=e,m=u.prototype,y=xy(m,"cloneNode"),b=xy(m,"remove"),x=xy(m,"nextSibling"),T=xy(m,"childNodes"),w=xy(m,"parentNode");if(typeof l=="function"){const At=r.createElement("template");At.content&&At.content.ownerDocument&&(r=At.content.ownerDocument)}let E,S="";const{implementation:C,createNodeIterator:k,createDocumentFragment:O,getElementsByTagName:I}=r,{importNode:_}=n;let R=AU();t.isSupported=typeof Ure=="function"&&typeof w=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:$,TMPLIT_EXPR:N,DATA_ATTR:P,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:B}=SU;let{IS_ALLOWED_URI:H}=SU,U=null;const G=wr({},[...xU,...G8,...Y8,...V8,...TU]);let W=null;const ee=wr({},[...wU,...q8,...EU,...OT]);let ce=Object.seal(Wre(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Z=null,J=null,oe=!0,Y=!0,X=!1,K=!0,z=!1,j=!0,te=!1,re=!1,Se=!1,ue=!1,se=!1,fe=!1,ye=!0,he=!1;const Ae="user-content-";let Ce=!0,Ie=!1,Le={},ae=null;const q=wr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ge=null;const le=wr({},["audio","video","img","source","image","track"]);let Te=null;const ne=wr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",ie="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let xe=pe,ve=!1,Ee=null;const ke=wr({},[Re,ie,pe],z8);let Pe=wr({},["mi","mo","mn","ms","mtext"]),Oe=wr({},["annotation-xml"]);const Ye=wr({},["title","style","font","a","script"]);let Je=null;const Ct=["application/xhtml+xml","text/html"],dt="text/html";let ct=null,qe=null;const je=r.createElement("form"),ht=function(Fe){return Fe instanceof RegExp||Fe instanceof Function},Ke=function(){let Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qe&&qe===Fe)){if((!Fe||typeof Fe!="object")&&(Fe={}),Fe=td(Fe),Je=Ct.indexOf(Fe.PARSER_MEDIA_TYPE)===-1?dt:Fe.PARSER_MEDIA_TYPE,ct=Je==="application/xhtml+xml"?z8:sw,U=Gl(Fe,"ALLOWED_TAGS")?wr({},Fe.ALLOWED_TAGS,ct):G,W=Gl(Fe,"ALLOWED_ATTR")?wr({},Fe.ALLOWED_ATTR,ct):ee,Ee=Gl(Fe,"ALLOWED_NAMESPACES")?wr({},Fe.ALLOWED_NAMESPACES,z8):ke,Te=Gl(Fe,"ADD_URI_SAFE_ATTR")?wr(td(ne),Fe.ADD_URI_SAFE_ATTR,ct):ne,ge=Gl(Fe,"ADD_DATA_URI_TAGS")?wr(td(le),Fe.ADD_DATA_URI_TAGS,ct):le,ae=Gl(Fe,"FORBID_CONTENTS")?wr({},Fe.FORBID_CONTENTS,ct):q,Z=Gl(Fe,"FORBID_TAGS")?wr({},Fe.FORBID_TAGS,ct):{},J=Gl(Fe,"FORBID_ATTR")?wr({},Fe.FORBID_ATTR,ct):{},Le=Gl(Fe,"USE_PROFILES")?Fe.USE_PROFILES:!1,oe=Fe.ALLOW_ARIA_ATTR!==!1,Y=Fe.ALLOW_DATA_ATTR!==!1,X=Fe.ALLOW_UNKNOWN_PROTOCOLS||!1,K=Fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,z=Fe.SAFE_FOR_TEMPLATES||!1,j=Fe.SAFE_FOR_XML!==!1,te=Fe.WHOLE_DOCUMENT||!1,ue=Fe.RETURN_DOM||!1,se=Fe.RETURN_DOM_FRAGMENT||!1,fe=Fe.RETURN_TRUSTED_TYPE||!1,Se=Fe.FORCE_BODY||!1,ye=Fe.SANITIZE_DOM!==!1,he=Fe.SANITIZE_NAMED_PROPS||!1,Ce=Fe.KEEP_CONTENT!==!1,Ie=Fe.IN_PLACE||!1,H=Fe.ALLOWED_URI_REGEXP||zre,xe=Fe.NAMESPACE||pe,Pe=Fe.MATHML_TEXT_INTEGRATION_POINTS||Pe,Oe=Fe.HTML_INTEGRATION_POINTS||Oe,ce=Fe.CUSTOM_ELEMENT_HANDLING||{},Fe.CUSTOM_ELEMENT_HANDLING&&ht(Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&ht(Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&typeof Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z&&(Y=!1),se&&(ue=!0),Le&&(U=wr({},TU),W=[],Le.html===!0&&(wr(U,xU),wr(W,wU)),Le.svg===!0&&(wr(U,G8),wr(W,q8),wr(W,OT)),Le.svgFilters===!0&&(wr(U,Y8),wr(W,q8),wr(W,OT)),Le.mathMl===!0&&(wr(U,V8),wr(W,EU),wr(W,OT))),Fe.ADD_TAGS&&(U===G&&(U=td(U)),wr(U,Fe.ADD_TAGS,ct)),Fe.ADD_ATTR&&(W===ee&&(W=td(W)),wr(W,Fe.ADD_ATTR,ct)),Fe.ADD_URI_SAFE_ATTR&&wr(Te,Fe.ADD_URI_SAFE_ATTR,ct),Fe.FORBID_CONTENTS&&(ae===q&&(ae=td(ae)),wr(ae,Fe.FORBID_CONTENTS,ct)),Ce&&(U["#text"]=!0),te&&wr(U,["html","head","body"]),U.table&&(wr(U,["tbody"]),delete Z.tbody),Fe.TRUSTED_TYPES_POLICY){if(typeof Fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw by('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw by('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=Fe.TRUSTED_TYPES_POLICY,S=E.createHTML("")}else E===void 0&&(E=LMe(g,a)),E!==null&&typeof S=="string"&&(S=E.createHTML(""));Is&&Is(Fe),qe=Fe}},it=wr({},[...G8,...Y8,...wMe]),Pt=wr({},[...V8,...EMe]),at=function(Fe){let et=w(Fe);(!et||!et.tagName)&&(et={namespaceURI:xe,tagName:"template"});const kt=sw(Fe.tagName),fr=sw(et.tagName);return Ee[Fe.namespaceURI]?Fe.namespaceURI===ie?et.namespaceURI===pe?kt==="svg":et.namespaceURI===Re?kt==="svg"&&(fr==="annotation-xml"||Pe[fr]):!!it[kt]:Fe.namespaceURI===Re?et.namespaceURI===pe?kt==="math":et.namespaceURI===ie?kt==="math"&&Oe[fr]:!!Pt[kt]:Fe.namespaceURI===pe?et.namespaceURI===ie&&!Oe[fr]||et.namespaceURI===Re&&!Pe[fr]?!1:!Pt[kt]&&(Ye[kt]||!it[kt]):!!(Je==="application/xhtml+xml"&&Ee[Fe.namespaceURI]):!1},Qe=function(Fe){vy(t.removed,{element:Fe});try{w(Fe).removeChild(Fe)}catch{b(Fe)}},pt=function(Fe,et){try{vy(t.removed,{attribute:et.getAttributeNode(Fe),from:et})}catch{vy(t.removed,{attribute:null,from:et})}if(et.removeAttribute(Fe),Fe==="is")if(ue||se)try{Qe(et)}catch{}else try{et.setAttribute(Fe,"")}catch{}},Ot=function(Fe){let et=null,kt=null;if(Se)Fe="<remove></remove>"+Fe;else{const dn=bU(Fe,/^[\r\n\t ]+/);kt=dn&&dn[0]}Je==="application/xhtml+xml"&&xe===pe&&(Fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Fe+"</body></html>");const fr=E?E.createHTML(Fe):Fe;if(xe===pe)try{et=new p().parseFromString(fr,Je)}catch{}if(!et||!et.documentElement){et=C.createDocument(xe,"template",null);try{et.documentElement.innerHTML=ve?S:fr}catch{}}const rn=et.body||et.documentElement;return Fe&&kt&&rn.insertBefore(r.createTextNode(kt),rn.childNodes[0]||null),xe===pe?I.call(et,te?"html":"body")[0]:te?et.documentElement:rn},vt=function(Fe){return k.call(Fe.ownerDocument||Fe,Fe,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},tr=function(Fe){return Fe instanceof d&&(typeof Fe.nodeName!="string"||typeof Fe.textContent!="string"||typeof Fe.removeChild!="function"||!(Fe.attributes instanceof f)||typeof Fe.removeAttribute!="function"||typeof Fe.setAttribute!="function"||typeof Fe.namespaceURI!="string"||typeof Fe.insertBefore!="function"||typeof Fe.hasChildNodes!="function")},$r=function(Fe){return typeof c=="function"&&Fe instanceof c};function sr(At,Fe,et){RT(At,kt=>{kt.call(t,Fe,et,qe)})}const Kn=function(Fe){let et=null;if(sr(R.beforeSanitizeElements,Fe,null),tr(Fe))return Qe(Fe),!0;const kt=ct(Fe.nodeName);if(sr(R.uponSanitizeElement,Fe,{tagName:kt,allowedTags:U}),Fe.hasChildNodes()&&!$r(Fe.firstElementChild)&&hs(/<[/\w]/g,Fe.innerHTML)&&hs(/<[/\w]/g,Fe.textContent)||Fe.nodeType===Ty.progressingInstruction||j&&Fe.nodeType===Ty.comment&&hs(/<[/\w]/g,Fe.data))return Qe(Fe),!0;if(!U[kt]||Z[kt]){if(!Z[kt]&&En(kt)&&(ce.tagNameCheck instanceof RegExp&&hs(ce.tagNameCheck,kt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(kt)))return!1;if(Ce&&!ae[kt]){const fr=w(Fe)||Fe.parentNode,rn=T(Fe)||Fe.childNodes;if(rn&&fr){const dn=rn.length;for(let _n=dn-1;_n>=0;--_n){const Sn=y(rn[_n],!0);Sn.__removalCount=(Fe.__removalCount||0)+1,fr.insertBefore(Sn,x(Fe))}}}return Qe(Fe),!0}return Fe instanceof u&&!at(Fe)||(kt==="noscript"||kt==="noembed"||kt==="noframes")&&hs(/<\/no(script|embed|frames)/i,Fe.innerHTML)?(Qe(Fe),!0):(z&&Fe.nodeType===Ty.text&&(et=Fe.textContent,RT([M,$,N],fr=>{et=yy(et,fr," ")}),Fe.textContent!==et&&(vy(t.removed,{element:Fe.cloneNode()}),Fe.textContent=et)),sr(R.afterSanitizeElements,Fe,null),!1)},ln=function(Fe,et,kt){if(ye&&(et==="id"||et==="name")&&(kt in r||kt in je))return!1;if(!(Y&&!J[et]&&hs(P,et))){if(!(oe&&hs(F,et))){if(!W[et]||J[et]){if(!(En(Fe)&&(ce.tagNameCheck instanceof RegExp&&hs(ce.tagNameCheck,Fe)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Fe))&&(ce.attributeNameCheck instanceof RegExp&&hs(ce.attributeNameCheck,et)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(et))||et==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&hs(ce.tagNameCheck,kt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(kt))))return!1}else if(!Te[et]){if(!hs(H,yy(kt,D,""))){if(!((et==="src"||et==="xlink:href"||et==="href")&&Fe!=="script"&&yMe(kt,"data:")===0&&ge[Fe])){if(!(X&&!hs(L,yy(kt,D,"")))){if(kt)return!1}}}}}}return!0},En=function(Fe){return Fe!=="annotation-xml"&&bU(Fe,B)},Sr=function(Fe){sr(R.beforeSanitizeAttributes,Fe,null);const{attributes:et}=Fe;if(!et||tr(Fe))return;const kt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let fr=et.length;for(;fr--;){const rn=et[fr],{name:dn,namespaceURI:_n,value:Sn}=rn,xt=ct(dn);let Et=dn==="value"?Sn:bMe(Sn);if(kt.attrName=xt,kt.attrValue=Et,kt.keepAttr=!0,kt.forceKeepAttr=void 0,sr(R.uponSanitizeAttribute,Fe,kt),Et=kt.attrValue,he&&(xt==="id"||xt==="name")&&(pt(dn,Fe),Et=Ae+Et),j&&hs(/((--!?|])>)|<\/(style|title)/i,Et)){pt(dn,Fe);continue}if(kt.forceKeepAttr||(pt(dn,Fe),!kt.keepAttr))continue;if(!K&&hs(/\/>/i,Et)){pt(dn,Fe);continue}z&&RT([M,$,N],ot=>{Et=yy(Et,ot," ")});const Yt=ct(Fe.nodeName);if(ln(Yt,xt,Et)){if(E&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!_n)switch(g.getAttributeType(Yt,xt)){case"TrustedHTML":{Et=E.createHTML(Et);break}case"TrustedScriptURL":{Et=E.createScriptURL(Et);break}}try{_n?Fe.setAttributeNS(_n,dn,Et):Fe.setAttribute(dn,Et),tr(Fe)?Qe(Fe):yU(t.removed)}catch{}}}sr(R.afterSanitizeAttributes,Fe,null)},li=function At(Fe){let et=null;const kt=vt(Fe);for(sr(R.beforeSanitizeShadowDOM,Fe,null);et=kt.nextNode();)sr(R.uponSanitizeShadowNode,et,null),Kn(et),Sr(et),et.content instanceof o&&At(et.content);sr(R.afterSanitizeShadowDOM,Fe,null)};return t.sanitize=function(At){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=null,kt=null,fr=null,rn=null;if(ve=!At,ve&&(At="\x3C!-->"),typeof At!="string"&&!$r(At))if(typeof At.toString=="function"){if(At=At.toString(),typeof At!="string")throw by("dirty is not a string, aborting")}else throw by("toString is not a function");if(!t.isSupported)return At;if(re||Ke(Fe),t.removed=[],typeof At=="string"&&(Ie=!1),Ie){if(At.nodeName){const Sn=ct(At.nodeName);if(!U[Sn]||Z[Sn])throw by("root node is forbidden and cannot be sanitized in-place")}}else if(At instanceof c)et=Ot("\x3C!---->"),kt=et.ownerDocument.importNode(At,!0),kt.nodeType===Ty.element&&kt.nodeName==="BODY"||kt.nodeName==="HTML"?et=kt:et.appendChild(kt);else{if(!ue&&!z&&!te&&At.indexOf("<")===-1)return E&&fe?E.createHTML(At):At;if(et=Ot(At),!et)return ue?null:fe?S:""}et&&Se&&Qe(et.firstChild);const dn=vt(Ie?At:et);for(;fr=dn.nextNode();)Kn(fr),Sr(fr),fr.content instanceof o&&li(fr.content);if(Ie)return At;if(ue){if(se)for(rn=O.call(et.ownerDocument);et.firstChild;)rn.appendChild(et.firstChild);else rn=et;return(W.shadowroot||W.shadowrootmode)&&(rn=_.call(n,rn,!0)),rn}let _n=te?et.outerHTML:et.innerHTML;return te&&U["!doctype"]&&et.ownerDocument&&et.ownerDocument.doctype&&et.ownerDocument.doctype.name&&hs(Gre,et.ownerDocument.doctype.name)&&(_n="<!DOCTYPE "+et.ownerDocument.doctype.name+`>
`+_n),z&&RT([M,$,N],Sn=>{_n=yy(_n,Sn," ")}),E&&fe?E.createHTML(_n):_n},t.setConfig=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ke(At),re=!0},t.clearConfig=function(){qe=null,re=!1},t.isValidAttribute=function(At,Fe,et){qe||Ke({});const kt=ct(At),fr=ct(Fe);return ln(kt,fr,et)},t.addHook=function(At,Fe){typeof Fe=="function"&&vy(R[At],Fe)},t.removeHook=function(At,Fe){if(Fe!==void 0){const et=mMe(R[At],Fe);return et===-1?void 0:vMe(R[At],et,1)[0]}return yU(R[At])},t.removeHooks=function(At){R[At]=[]},t.removeAllHooks=function(){R=AU()},t}var wm=Yre(),Vre=Object.defineProperty,A=(e,t)=>Vre(e,"name",{value:t,configurable:!0}),qre=(e,t)=>{for(var r in t)Vre(e,r,{get:t[r],enumerable:!0})},Pu={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},me={trace:A((...e)=>{},"trace"),debug:A((...e)=>{},"debug"),info:A((...e)=>{},"info"),warn:A((...e)=>{},"warn"),error:A((...e)=>{},"error"),fatal:A((...e)=>{},"fatal")},Q9=A(function(e="fatal"){let t=Pu.fatal;typeof e=="string"?e.toLowerCase()in Pu&&(t=Pu[e]):typeof e=="number"&&(t=e),me.trace=()=>{},me.debug=()=>{},me.info=()=>{},me.warn=()=>{},me.error=()=>{},me.fatal=()=>{},t<=Pu.fatal&&(me.fatal=console.error?console.error.bind(console,Ko("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ko("FATAL"))),t<=Pu.error&&(me.error=console.error?console.error.bind(console,Ko("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ko("ERROR"))),t<=Pu.warn&&(me.warn=console.warn?console.warn.bind(console,Ko("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ko("WARN"))),t<=Pu.info&&(me.info=console.info?console.info.bind(console,Ko("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ko("INFO"))),t<=Pu.debug&&(me.debug=console.debug?console.debug.bind(console,Ko("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ko("DEBUG"))),t<=Pu.trace&&(me.trace=console.debug?console.debug.bind(console,Ko("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ko("TRACE")))},"setLogLevel"),Ko=A(e=>`%c${ja().format("ss.SSS")} : ${e} : `,"format"),jre=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,U2=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,MMe=/\s*%%.*\n/gm,kg,Xre=(kg=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},A(kg,"UnknownDiagramError"),kg),Em={},J9=A(function(e,t){e=e.replace(jre,"").replace(U2,"").replace(MMe,`
`);for(const[r,{detector:n}]of Object.entries(Em))if(n(e,t))return r;throw new Xre(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Kre=A((...e)=>{for(const{id:t,detector:r,loader:n}of e)Zre(t,r,n)},"registerLazyLoadedDiagrams"),Zre=A((e,t,r)=>{Em[e]&&me.warn(`Detector with key ${e} already exists. Overwriting.`),Em[e]={detector:t,loader:r},me.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),DMe=A(e=>Em[e].loader,"getDiagramLoader"),tR=A((e,t,{depth:r=2,clobber:n=!1}={})=>{const a={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(o=>tR(e,o,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(o=>{e.includes(o)||e.push(o)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(o=>{typeof t[o]=="object"&&(e[o]===void 0||typeof e[o]=="object")?(e[o]===void 0&&(e[o]=Array.isArray(t[o])?[]:{}),e[o]=tR(e[o],t[o],{depth:r-1,clobber:n})):(n||typeof e[o]!="object"&&typeof t[o]!="object")&&(e[o]=t[o])}),e)},"assignWithDepth"),Ui=tR,N6="#ffffff",L6="#f2f2f2",ws=A((e,t)=>t?Ue(e,{s:-40,l:10}):Ue(e,{s:-40,l:-10}),"mkBorder"),Cg,PMe=(Cg=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,a,o,l,c,u,h,f,d,p;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ue(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ue(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ws(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ws(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ws(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ws(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wt(this.tertiaryColor),this.lineColor=this.lineColor||wt(this.background),this.arrowheadColor=this.arrowheadColor||wt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Wt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Wt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Lt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330}),this.darkMode)for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Wt(this["cScale"+g],75);else for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScale"+g]=Wt(this["cScale"+g],25);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleInv"+g]=this["cScaleInv"+g]||wt(this["cScale"+g]);for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this.darkMode?this["cScalePeer"+g]=this["cScalePeer"+g]||Lt(this["cScale"+g],10):this["cScalePeer"+g]=this["cScalePeer"+g]||Wt(this["cScale"+g],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let g=0;g<this.THEME_COLOR_LIMIT;g++)this["cScaleLabel"+g]=this["cScaleLabel"+g]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let g=0;g<5;g++)this["surface"+g]=this["surface"+g]||Ue(this.mainBkg,{h:180,s:-15,l:t*(5+g*3)}),this["surfacePeer"+g]=this["surfacePeer"+g]||Ue(this.mainBkg,{h:180,s:-15,l:t*(8+g*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ue(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ue(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ue(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ue(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ue(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ue(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ue(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ue(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ue(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ue(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ue(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ue(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ue(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ue(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ue(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||yf(this.quadrant1Fill)?Lt(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((o=this.xyChart)==null?void 0:o.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((c=this.xyChart)==null?void 0:c.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Wt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ue(this.primaryColor,{h:-30}),this.git4=this.git4||Ue(this.primaryColor,{h:-60}),this.git5=this.git5||Ue(this.primaryColor,{h:-90}),this.git6=this.git6||Ue(this.primaryColor,{h:60}),this.git7=this.git7||Ue(this.primaryColor,{h:120}),this.darkMode?(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)):(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||N6,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||L6}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},A(Cg,"Theme"),Cg),FMe=A(e=>{const t=new PMe;return t.calculate(e),t},"getThemeVariables"),Ig,BMe=(Ig=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Lt(this.primaryColor,16),this.tertiaryColor=Ue(this.primaryColor,{h:-160}),this.primaryBorderColor=wt(this.background),this.secondaryBorderColor=ws(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ws(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Lt(wt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Fd(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Wt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Wt(this.sectionBkgColor,10),this.taskBorderColor=Fd(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Fd(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,a,o,l,c,u,h,f,d;this.secondBkg=Lt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Lt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Lt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||wt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScalePeer"+p]=this["cScalePeer"+p]||Lt(this["cScale"+p],10);for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ue(this.mainBkg,{h:30,s:-30,l:-(-10+p*4)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ue(this.mainBkg,{h:30,s:-30,l:-(-7+p*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||yf(this.quadrant1Fill)?Lt(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Wt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Lt(this.secondaryColor,20),this.git1=Lt(this.pie2||this.secondaryColor,20),this.git2=Lt(this.pie3||this.tertiaryColor,20),this.git3=Lt(this.pie4||Ue(this.primaryColor,{h:-30}),20),this.git4=Lt(this.pie5||Ue(this.primaryColor,{h:-60}),20),this.git5=Lt(this.pie6||Ue(this.primaryColor,{h:-90}),10),this.git6=Lt(this.pie7||Ue(this.primaryColor,{h:60}),10),this.git7=Lt(this.pie8||Ue(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Lt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Lt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},A(Ig,"Theme"),Ig),$Me=A(e=>{const t=new BMe;return t.calculate(e),t},"getThemeVariables"),Rg,HMe=(Rg=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ue(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ue(this.primaryColor,{h:-160}),this.primaryBorderColor=ws(this.primaryColor,this.darkMode),this.secondaryBorderColor=ws(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ws(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Fd(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,a,o,l,c,u,h,f,d;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Wt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Wt(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Wt(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Wt(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ue(this["cScale"+p],{h:180});for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ue(this.mainBkg,{h:30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ue(this.mainBkg,{h:30,l:-(7+p*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||wt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wt(this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Lt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ue(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ue(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ue(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ue(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ue(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ue(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ue(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ue(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ue(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ue(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||yf(this.quadrant1Fill)?Lt(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ue(this.primaryColor,{h:-30}),this.git4=this.git4||Ue(this.primaryColor,{h:-60}),this.git5=this.git5||Ue(this.primaryColor,{h:-90}),this.git6=this.git6||Ue(this.primaryColor,{h:60}),this.git7=this.git7||Ue(this.primaryColor,{h:120}),this.darkMode?(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)):(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)),this.gitInv0=this.gitInv0||Wt(wt(this.git0),25),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||N6,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||L6}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},A(Rg,"Theme"),Rg),eL=A(e=>{const t=new HMe;return t.calculate(e),t},"getThemeVariables"),Og,UMe=(Og=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Lt("#cde498",10),this.primaryBorderColor=ws(this.primaryColor,this.darkMode),this.secondaryBorderColor=ws(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ws(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.primaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,a,o,l,c,u,h,f,d;this.actorBorder=Wt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ue(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ue(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ue(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ue(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ue(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ue(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ue(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ue(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ue(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Wt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Wt(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=Wt(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||Wt(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ue(this["cScale"+p],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ue(this.mainBkg,{h:30,s:-30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ue(this.mainBkg,{h:30,s:-30,l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ue(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ue(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ue(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ue(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ue(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ue(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ue(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ue(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ue(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||yf(this.quadrant1Fill)?Lt(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ue(this.primaryColor,{h:-30}),this.git4=this.git4||Ue(this.primaryColor,{h:-60}),this.git5=this.git5||Ue(this.primaryColor,{h:-90}),this.git6=this.git6||Ue(this.primaryColor,{h:60}),this.git7=this.git7||Ue(this.primaryColor,{h:120}),this.darkMode?(this.git0=Lt(this.git0,25),this.git1=Lt(this.git1,25),this.git2=Lt(this.git2,25),this.git3=Lt(this.git3,25),this.git4=Lt(this.git4,25),this.git5=Lt(this.git5,25),this.git6=Lt(this.git6,25),this.git7=Lt(this.git7,25)):(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||N6,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||L6}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},A(Og,"Theme"),Og),WMe=A(e=>{const t=new UMe;return t.calculate(e),t},"getThemeVariables"),_g,zMe=(_g=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Lt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ue(this.primaryColor,{h:-160}),this.primaryBorderColor=ws(this.primaryColor,this.darkMode),this.secondaryBorderColor=ws(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ws(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,a,o,l,c,u,h,f,d;this.secondBkg=Lt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Lt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||wt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||Lt(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||Wt(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ue(this.mainBkg,{l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ue(this.mainBkg,{l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Lt(this.contrast,30),this.sectionBkgColor2=Lt(this.contrast,30),this.taskBorderColor=Wt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Lt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Wt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ue(this.primaryColor,{h:64}),this.fillType3=Ue(this.secondaryColor,{h:64}),this.fillType4=Ue(this.primaryColor,{h:-64}),this.fillType5=Ue(this.secondaryColor,{h:-64}),this.fillType6=Ue(this.primaryColor,{h:128}),this.fillType7=Ue(this.secondaryColor,{h:128});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ue(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ue(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ue(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ue(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ue(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ue(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||yf(this.quadrant1Fill)?Lt(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Wt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ue(this.primaryColor,{h:-30}),this.git4=this.pie5||Ue(this.primaryColor,{h:-60}),this.git5=this.pie6||Ue(this.primaryColor,{h:-90}),this.git6=this.pie7||Ue(this.primaryColor,{h:60}),this.git7=this.pie8||Ue(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||N6,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||L6}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},A(_g,"Theme"),_g),GMe=A(e=>{const t=new zMe;return t.calculate(e),t},"getThemeVariables"),dh={base:{getThemeVariables:FMe},dark:{getThemeVariables:$Me},default:{getThemeVariables:eL},forest:{getThemeVariables:WMe},neutral:{getThemeVariables:GMe}},n0={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},Qre={...n0,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:dh.default.getThemeVariables(),sequence:{...n0.sequence,messageFont:A(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:A(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:A(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...n0.gantt,tickInterval:void 0,useWidth:void 0},c4:{...n0.c4,useWidth:void 0,personFont:A(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:A(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:A(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:A(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:A(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:A(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:A(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:A(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:A(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:A(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:A(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:A(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:A(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:A(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:A(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:A(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:A(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:A(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:A(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:A(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:A(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:A(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...n0.pie,useWidth:984},xyChart:{...n0.xyChart,useWidth:void 0},requirement:{...n0.requirement,useWidth:void 0},packet:{...n0.packet}},Jre=A((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...Jre(e[n],"")]:[...r,t+n],[]),"keyify"),YMe=new Set(Jre(Qre,"")),Lr=Qre,R5=A(e=>{if(me.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>R5(t));return}for(const t of Object.keys(e)){if(me.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!YMe.has(t)||e[t]==null){me.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){me.debug("sanitizing object",t),R5(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(me.debug("sanitizing css option",t),e[t]=VMe(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}me.debug("After sanitization",e)}},"sanitizeDirective"),VMe=A(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Sm=Object.freeze(Lr),Ks=Ui({},Sm),ene,Am=[],W2=Ui({},Sm),M6=A((e,t)=>{let r=Ui({},e),n={};for(const a of t)nne(a),n=Ui(n,a);if(r=Ui(r,n),n.theme&&n.theme in dh){const a=Ui({},ene),o=Ui(a.themeVariables||{},n.themeVariables);r.theme&&r.theme in dh&&(r.themeVariables=dh[r.theme].getThemeVariables(o))}return W2=r,ine(W2),W2},"updateCurrentConfig"),qMe=A(e=>(Ks=Ui({},Sm),Ks=Ui(Ks,e),e.theme&&dh[e.theme]&&(Ks.themeVariables=dh[e.theme].getThemeVariables(e.themeVariables)),M6(Ks,Am),Ks),"setSiteConfig"),jMe=A(e=>{ene=Ui({},e)},"saveConfigFromInitialize"),XMe=A(e=>(Ks=Ui(Ks,e),M6(Ks,Am),Ks),"updateSiteConfig"),tne=A(()=>Ui({},Ks),"getSiteConfig"),rne=A(e=>(ine(e),Ui(W2,e),Fn()),"setConfig"),Fn=A(()=>Ui({},W2),"getConfig"),nne=A(e=>{e&&(["secure",...Ks.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(me.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&nne(e[t])}))},"sanitize"),KMe=A(e=>{var t;R5(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Am.push(e),M6(Ks,Am)},"addDirective"),O5=A((e=Ks)=>{Am=[],M6(e,Am)},"reset"),ZMe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},kU={},QMe=A(e=>{kU[e]||(me.warn(ZMe[e]),kU[e]=!0)},"issueWarning"),ine=A(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&QMe("LAZY_LOAD_DEPRECATED")},"checkConfig"),Tv=/<br\s*\/?>/gi,JMe=A(e=>e?one(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),eDe=(()=>{let e=!1;return()=>{e||(ane(),e=!0)}})();function ane(){const e="data-temp-href-target";wm.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),wm.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}A(ane,"setupDompurifyHooks");var sne=A(e=>(eDe(),wm.sanitize(e)),"removeScript"),CU=A((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=sne(e):n!=="loose"&&(e=one(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=iDe(e))}return e},"sanitizeMore"),sn=A((e,t)=>e&&(t.dompurifyConfig?e=wm.sanitize(CU(e,t),t.dompurifyConfig).toString():e=wm.sanitize(CU(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),tDe=A((e,t)=>typeof e=="string"?sn(e,t):e.flat().map(r=>sn(r,t)),"sanitizeTextOrArray"),rDe=A(e=>Tv.test(e),"hasBreaks"),nDe=A(e=>e.split(Tv),"splitBreaks"),iDe=A(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),one=A(e=>e.replace(Tv,"#br#"),"breakToPlaceholder"),aDe=A(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),cn=A(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),sDe=A(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),oDe=A(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),rd=A(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let a=t[n];if(a===","&&n>0&&n+1<t.length){const o=t[n-1],l=t[n+1];lDe(o,l)&&(a=o+","+l,n++,r.pop())}r.push(cDe(a))}return r.join("")},"parseGenericTypes"),rR=A((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),lDe=A((e,t)=>{const r=rR(e,"~"),n=rR(t,"~");return r===1&&n===1},"shouldCombineSets"),cDe=A(e=>{const t=rR(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let a=n.indexOf("~"),o=n.lastIndexOf("~");for(;a!==-1&&o!==-1&&a!==o;)n[a]="<",n[o]=">",a=n.indexOf("~"),o=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),IU=A(()=>window.MathMLElement!==void 0,"isMathMLSupported"),nR=/\$\$(.*)\$\$/g,es=A(e=>{var t;return(((t=e.match(nR))==null?void 0:t.length)??0)>0},"hasKatex"),Zx=A(async(e,t)=>{e=await Qx(e,t);const r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const a={width:r.clientWidth,height:r.clientHeight};return r.remove(),a},"calculateMathMLDimensions"),Qx=A(async(e,t)=>{if(!es(e))return e;if(!(IU()||t.legacyMathML||t.forceLegacyMathML))return e.replace(nR,"MathML is unsupported in this environment.");const{default:r}=await vr(async()=>{const{default:a}=await Promise.resolve().then(()=>Wlt);return{default:a}},void 0,import.meta.url),n=t.forceLegacyMathML||!IU()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Tv).map(a=>es(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(nR,(a,o)=>r.renderToString(o,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),st={getRows:JMe,sanitizeText:sn,sanitizeTextOrArray:tDe,hasBreaks:rDe,splitBreaks:nDe,lineBreakRegex:Tv,removeScript:sne,getUrl:aDe,evaluate:cn,getMax:sDe,getMin:oDe},uDe=A(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),hDe=A(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),is=A(function(e,t,r,n){const a=hDe(t,r,n);uDe(e,a)},"configureSvgSize"),wv=A(function(e,t,r,n){const a=t.node().getBBox(),o=a.width,l=a.height;me.info(`SVG bounds: ${o}x${l}`,a);let c=0,u=0;me.info(`Graph bounds: ${c}x${u}`,e),c=o+r*2,u=l+r*2,me.info(`Calculated bounds: ${c}x${u}`),is(t,u,c,n);const h=`${a.x-r} ${a.y-r} ${a.width+2*r} ${a.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox"),ow={},fDe=A((e,t,r)=>{let n="";return e in ow&&ow[e]?n=ow[e](r):me.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),dDe=A((e,t)=>{t!==void 0&&(ow[e]=t)},"addStylesForDiagram"),pDe=fDe,tL={};qre(tL,{clear:()=>ca,getAccDescription:()=>Oa,getAccTitle:()=>Ia,getDiagramTitle:()=>_a,setAccDescription:()=>Ra,setAccTitle:()=>ua,setDiagramTitle:()=>Ns});var rL="",nL="",iL="",aL=A(e=>sn(e,Fn()),"sanitizeText"),ca=A(()=>{rL="",iL="",nL=""},"clear"),ua=A(e=>{rL=aL(e).replace(/^\s+/g,"")},"setAccTitle"),Ia=A(()=>rL,"getAccTitle"),Ra=A(e=>{iL=aL(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Oa=A(()=>iL,"getAccDescription"),Ns=A(e=>{nL=aL(e)},"setDiagramTitle"),_a=A(()=>nL,"getDiagramTitle"),RU=me,gDe=Q9,De=Fn,OU=rne,lne=Sm,cne=A(e=>sn(e,De()),"sanitizeText"),une=wv,mDe=A(()=>tL,"getCommonDb"),_5={},N5=A((e,t,r)=>{var n;_5[e]&&RU.warn(`Diagram with id ${e} already registered. Overwriting.`),_5[e]=t,r&&Zre(e,r),dDe(e,t.styles),(n=t.injectUtils)==null||n.call(t,RU,gDe,De,cne,une,mDe(),()=>{})},"registerDiagram"),iR=A(e=>{if(e in _5)return _5[e];throw new vDe(e)},"getDiagram"),Ng,vDe=(Ng=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},A(Ng,"DiagramNotFoundError"),Ng);function sL(e){return typeof e>"u"||e===null}A(sL,"isNothing");function hne(e){return typeof e=="object"&&e!==null}A(hne,"isObject");function fne(e){return Array.isArray(e)?e:sL(e)?[]:[e]}A(fne,"toArray");function dne(e,t){var r,n,a,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)a=o[r],e[a]=t[a];return e}A(dne,"extend");function pne(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}A(pne,"repeat");function gne(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}A(gne,"isNegativeZero");var yDe=sL,bDe=hne,xDe=fne,TDe=pne,wDe=gne,EDe=dne,Wi={isNothing:yDe,isObject:bDe,toArray:xDe,repeat:TDe,isNegativeZero:wDe,extend:EDe};function oL(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}A(oL,"formatError");function km(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=oL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}A(km,"YAMLException$1");km.prototype=Object.create(Error.prototype);km.prototype.constructor=km;km.prototype.toString=A(function(t){return this.name+": "+oL(this,t)},"toString");var Js=km;function lw(e,t,r,n,a){var o="",l="",c=Math.floor(a/2)-1;return n-t>c&&(o=" ... ",t=n-c+o.length),r-n>c&&(l=" ...",r=n+c-l.length),{str:o+e.slice(t,r).replace(/\t/g,"→")+l,pos:n-t+o.length}}A(lw,"getLine");function cw(e,t){return Wi.repeat(" ",t-e.length)+e}A(cw,"padStart");function mne(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],a=[],o,l=-1;o=r.exec(e.buffer);)a.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var c="",u,h,f=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+f+3);for(u=1;u<=t.linesBefore&&!(l-u<0);u++)h=lw(e.buffer,n[l-u],a[l-u],e.position-(n[l]-n[l-u]),d),c=Wi.repeat(" ",t.indent)+cw((e.line-u+1).toString(),f)+" | "+h.str+`
`+c;for(h=lw(e.buffer,n[l],a[l],e.position,d),c+=Wi.repeat(" ",t.indent)+cw((e.line+1).toString(),f)+" | "+h.str+`
`,c+=Wi.repeat("-",t.indent+f+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(l+u>=a.length);u++)h=lw(e.buffer,n[l+u],a[l+u],e.position-(n[l]-n[l+u]),d),c+=Wi.repeat(" ",t.indent)+cw((e.line+u+1).toString(),f)+" | "+h.str+`
`;return c.replace(/\n$/,"")}A(mne,"makeSnippet");var SDe=mne,ADe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],kDe=["scalar","sequence","mapping"];function vne(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}A(vne,"compileStyleAliases");function yne(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(ADe.indexOf(r)===-1)throw new Js('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=vne(t.styleAliases||null),kDe.indexOf(this.kind)===-1)throw new Js('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}A(yne,"Type$1");var Qa=yne;function aR(e,t){var r=[];return e[t].forEach(function(n){var a=r.length;r.forEach(function(o,l){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(a=l)}),r[a]=n}),r}A(aR,"compileList");function bne(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(A(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}A(bne,"compileMap");function L5(e){return this.extend(e)}A(L5,"Schema$1");L5.prototype.extend=A(function(t){var r=[],n=[];if(t instanceof Qa)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Js("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Qa))throw new Js("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Js("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Js("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Qa))throw new Js("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(L5.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=aR(a,"implicit"),a.compiledExplicit=aR(a,"explicit"),a.compiledTypeMap=bne(a.compiledImplicit,a.compiledExplicit),a},"extend");var CDe=L5,IDe=new Qa("tag:yaml.org,2002:str",{kind:"scalar",construct:A(function(e){return e!==null?e:""},"construct")}),RDe=new Qa("tag:yaml.org,2002:seq",{kind:"sequence",construct:A(function(e){return e!==null?e:[]},"construct")}),ODe=new Qa("tag:yaml.org,2002:map",{kind:"mapping",construct:A(function(e){return e!==null?e:{}},"construct")}),_De=new CDe({explicit:[IDe,RDe,ODe]});function xne(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}A(xne,"resolveYamlNull");function Tne(){return null}A(Tne,"constructYamlNull");function wne(e){return e===null}A(wne,"isNull");var NDe=new Qa("tag:yaml.org,2002:null",{kind:"scalar",resolve:xne,construct:Tne,predicate:wne,represent:{canonical:A(function(){return"~"},"canonical"),lowercase:A(function(){return"null"},"lowercase"),uppercase:A(function(){return"NULL"},"uppercase"),camelcase:A(function(){return"Null"},"camelcase"),empty:A(function(){return""},"empty")},defaultStyle:"lowercase"});function Ene(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}A(Ene,"resolveYamlBoolean");function Sne(e){return e==="true"||e==="True"||e==="TRUE"}A(Sne,"constructYamlBoolean");function Ane(e){return Object.prototype.toString.call(e)==="[object Boolean]"}A(Ane,"isBoolean");var LDe=new Qa("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ene,construct:Sne,predicate:Ane,represent:{lowercase:A(function(e){return e?"true":"false"},"lowercase"),uppercase:A(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:A(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function kne(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}A(kne,"isHexCode");function Cne(e){return 48<=e&&e<=55}A(Cne,"isOctCode");function Ine(e){return 48<=e&&e<=57}A(Ine,"isDecCode");function Rne(e){if(e===null)return!1;var t=e.length,r=0,n=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!kne(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!Cne(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!Ine(e.charCodeAt(r)))return!1;n=!0}return!(!n||a==="_")}A(Rne,"resolveYamlInteger");function One(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}A(One,"constructYamlInteger");function _ne(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Wi.isNegativeZero(e)}A(_ne,"isInteger");var MDe=new Qa("tag:yaml.org,2002:int",{kind:"scalar",resolve:Rne,construct:One,predicate:_ne,represent:{binary:A(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:A(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:A(function(e){return e.toString(10)},"decimal"),hexadecimal:A(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),DDe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Nne(e){return!(e===null||!DDe.test(e)||e[e.length-1]==="_")}A(Nne,"resolveYamlFloat");function Lne(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}A(Lne,"constructYamlFloat");var PDe=/^[-+]?[0-9]+e/;function Mne(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Wi.isNegativeZero(e))return"-0.0";return r=e.toString(10),PDe.test(r)?r.replace("e",".e"):r}A(Mne,"representYamlFloat");function Dne(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Wi.isNegativeZero(e))}A(Dne,"isFloat");var FDe=new Qa("tag:yaml.org,2002:float",{kind:"scalar",resolve:Nne,construct:Lne,predicate:Dne,represent:Mne,defaultStyle:"lowercase"}),Pne=_De.extend({implicit:[NDe,LDe,MDe,FDe]}),BDe=Pne,Fne=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Bne=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function $ne(e){return e===null?!1:Fne.exec(e)!==null||Bne.exec(e)!==null}A($ne,"resolveYamlTimestamp");function Hne(e){var t,r,n,a,o,l,c,u=0,h=null,f,d,p;if(t=Fne.exec(e),t===null&&(t=Bne.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(o=+t[4],l=+t[5],c=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(f=+t[10],d=+(t[11]||0),h=(f*60+d)*6e4,t[9]==="-"&&(h=-h)),p=new Date(Date.UTC(r,n,a,o,l,c,u)),h&&p.setTime(p.getTime()-h),p}A(Hne,"constructYamlTimestamp");function Une(e){return e.toISOString()}A(Une,"representYamlTimestamp");var $De=new Qa("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$ne,construct:Hne,instanceOf:Date,represent:Une});function Wne(e){return e==="<<"||e===null}A(Wne,"resolveYamlMerge");var HDe=new Qa("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Wne}),lL=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function zne(e){if(e===null)return!1;var t,r,n=0,a=e.length,o=lL;for(r=0;r<a;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}A(zne,"resolveYamlBinary");function Gne(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,o=lL,l=0,c=[];for(t=0;t<a;t++)t%4===0&&t&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|o.indexOf(n.charAt(t));return r=a%4*6,r===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):r===18?(c.push(l>>10&255),c.push(l>>2&255)):r===12&&c.push(l>>4&255),new Uint8Array(c)}A(Gne,"constructYamlBinary");function Yne(e){var t="",r=0,n,a,o=e.length,l=lL;for(n=0;n<o;n++)n%3===0&&n&&(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]),r=(r<<8)+e[n];return a=o%3,a===0?(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]):a===2?(t+=l[r>>10&63],t+=l[r>>4&63],t+=l[r<<2&63],t+=l[64]):a===1&&(t+=l[r>>2&63],t+=l[r<<4&63],t+=l[64],t+=l[64]),t}A(Yne,"representYamlBinary");function Vne(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}A(Vne,"isBinary");var UDe=new Qa("tag:yaml.org,2002:binary",{kind:"scalar",resolve:zne,construct:Gne,predicate:Vne,represent:Yne}),WDe=Object.prototype.hasOwnProperty,zDe=Object.prototype.toString;function qne(e){if(e===null)return!0;var t=[],r,n,a,o,l,c=e;for(r=0,n=c.length;r<n;r+=1){if(a=c[r],l=!1,zDe.call(a)!=="[object Object]")return!1;for(o in a)if(WDe.call(a,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}A(qne,"resolveYamlOmap");function jne(e){return e!==null?e:[]}A(jne,"constructYamlOmap");var GDe=new Qa("tag:yaml.org,2002:omap",{kind:"sequence",resolve:qne,construct:jne}),YDe=Object.prototype.toString;function Xne(e){if(e===null)return!0;var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1){if(n=l[t],YDe.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;o[t]=[a[0],n[a[0]]]}return!0}A(Xne,"resolveYamlPairs");function Kne(e){if(e===null)return[];var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1)n=l[t],a=Object.keys(n),o[t]=[a[0],n[a[0]]];return o}A(Kne,"constructYamlPairs");var VDe=new Qa("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Xne,construct:Kne}),qDe=Object.prototype.hasOwnProperty;function Zne(e){if(e===null)return!0;var t,r=e;for(t in r)if(qDe.call(r,t)&&r[t]!==null)return!1;return!0}A(Zne,"resolveYamlSet");function Qne(e){return e!==null?e:{}}A(Qne,"constructYamlSet");var jDe=new Qa("tag:yaml.org,2002:set",{kind:"mapping",resolve:Zne,construct:Qne}),Jne=BDe.extend({implicit:[$De,HDe],explicit:[UDe,GDe,VDe,jDe]}),q0=Object.prototype.hasOwnProperty,M5=1,eie=2,tie=3,D5=4,j8=1,XDe=2,_U=3,KDe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ZDe=/[\x85\u2028\u2029]/,QDe=/[,\[\]\{\}]/,rie=/^(?:!|!!|![a-z\-]+!)$/i,nie=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function sR(e){return Object.prototype.toString.call(e)}A(sR,"_class");function ic(e){return e===10||e===13}A(ic,"is_EOL");function P0(e){return e===9||e===32}A(P0,"is_WHITE_SPACE");function Es(e){return e===9||e===32||e===10||e===13}A(Es,"is_WS_OR_EOL");function Sd(e){return e===44||e===91||e===93||e===123||e===125}A(Sd,"is_FLOW_INDICATOR");function iie(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}A(iie,"fromHexCode");function aie(e){return e===120?2:e===117?4:e===85?8:0}A(aie,"escapedHexLen");function sie(e){return 48<=e&&e<=57?e-48:-1}A(sie,"fromDecimalCode");function oR(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}A(oR,"simpleEscapeSequence");function oie(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}A(oie,"charFromCodepoint");var lie=new Array(256),cie=new Array(256);for(Wf=0;Wf<256;Wf++)lie[Wf]=oR(Wf)?1:0,cie[Wf]=oR(Wf);var Wf;function uie(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Jne,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}A(uie,"State$1");function cL(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=SDe(r),new Js(t,r)}A(cL,"generateError");function Ht(e,t){throw cL(e,t)}A(Ht,"throwError");function Nb(e,t){e.onWarning&&e.onWarning.call(null,cL(e,t))}A(Nb,"throwWarning");var NU={YAML:A(function(t,r,n){var a,o,l;t.version!==null&&Ht(t,"duplication of %YAML directive"),n.length!==1&&Ht(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&Ht(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),l=parseInt(a[2],10),o!==1&&Ht(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&Nb(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:A(function(t,r,n){var a,o;n.length!==2&&Ht(t,"TAG directive accepts exactly two arguments"),a=n[0],o=n[1],rie.test(a)||Ht(t,"ill-formed tag handle (first argument) of the TAG directive"),q0.call(t.tagMap,a)&&Ht(t,'there is a previously declared suffix for "'+a+'" tag handle'),nie.test(o)||Ht(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ht(t,"tag prefix is malformed: "+o)}t.tagMap[a]=o},"handleTagDirective")};function ph(e,t,r,n){var a,o,l,c;if(t<r){if(c=e.input.slice(t,r),n)for(a=0,o=c.length;a<o;a+=1)l=c.charCodeAt(a),l===9||32<=l&&l<=1114111||Ht(e,"expected valid JSON character");else KDe.test(c)&&Ht(e,"the stream contains non-printable characters");e.result+=c}}A(ph,"captureSegment");function lR(e,t,r,n){var a,o,l,c;for(Wi.isObject(r)||Ht(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),l=0,c=a.length;l<c;l+=1)o=a[l],q0.call(t,o)||(t[o]=r[o],n[o]=!0)}A(lR,"mergeMappings");function Ad(e,t,r,n,a,o,l,c,u){var h,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),h=0,f=a.length;h<f;h+=1)Array.isArray(a[h])&&Ht(e,"nested arrays are not supported inside keys"),typeof a=="object"&&sR(a[h])==="[object Object]"&&(a[h]="[object Object]");if(typeof a=="object"&&sR(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(h=0,f=o.length;h<f;h+=1)lR(e,t,o[h],r);else lR(e,t,o,r);else!e.json&&!q0.call(r,a)&&q0.call(t,a)&&(e.line=l||e.line,e.lineStart=c||e.lineStart,e.position=u||e.position,Ht(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[a]=o,delete r[a];return t}A(Ad,"storeMappingPair");function D6(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ht(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}A(D6,"readLineBreak");function vi(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;P0(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(ic(a))for(D6(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Nb(e,"deficient indentation"),n}A(vi,"skipSeparationSpace");function Jx(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Es(r)))}A(Jx,"testDocumentSeparator");function P6(e,t){t===1?e.result+=" ":t>1&&(e.result+=Wi.repeat(`
`,t-1))}A(P6,"writeFoldedLines");function hie(e,t,r){var n,a,o,l,c,u,h,f,d=e.kind,p=e.result,g;if(g=e.input.charCodeAt(e.position),Es(g)||Sd(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(a=e.input.charCodeAt(e.position+1),Es(a)||r&&Sd(a)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,c=!1;g!==0;){if(g===58){if(a=e.input.charCodeAt(e.position+1),Es(a)||r&&Sd(a))break}else if(g===35){if(n=e.input.charCodeAt(e.position-1),Es(n))break}else{if(e.position===e.lineStart&&Jx(e)||r&&Sd(g))break;if(ic(g))if(u=e.line,h=e.lineStart,f=e.lineIndent,vi(e,!1,-1),e.lineIndent>=t){c=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=h,e.lineIndent=f;break}}c&&(ph(e,o,l,!1),P6(e,e.line-u),o=l=e.position,c=!1),P0(g)||(l=e.position+1),g=e.input.charCodeAt(++e.position)}return ph(e,o,l,!1),e.result?!0:(e.kind=d,e.result=p,!1)}A(hie,"readPlainScalar");function fie(e,t){var r,n,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ph(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,a=e.position;else return!0;else ic(r)?(ph(e,n,a,!0),P6(e,vi(e,!1,t)),n=a=e.position):e.position===e.lineStart&&Jx(e)?Ht(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);Ht(e,"unexpected end of the stream within a single quoted scalar")}A(fie,"readSingleQuotedScalar");function die(e,t){var r,n,a,o,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return ph(e,r,e.position,!0),e.position++,!0;if(c===92){if(ph(e,r,e.position,!0),c=e.input.charCodeAt(++e.position),ic(c))vi(e,!1,t);else if(c<256&&lie[c])e.result+=cie[c],e.position++;else if((l=aie(c))>0){for(a=l,o=0;a>0;a--)c=e.input.charCodeAt(++e.position),(l=iie(c))>=0?o=(o<<4)+l:Ht(e,"expected hexadecimal character");e.result+=oie(o),e.position++}else Ht(e,"unknown escape sequence");r=n=e.position}else ic(c)?(ph(e,r,n,!0),P6(e,vi(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Jx(e)?Ht(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ht(e,"unexpected end of the stream within a double quoted scalar")}A(die,"readDoubleQuotedScalar");function pie(e,t){var r=!0,n,a,o,l=e.tag,c,u=e.anchor,h,f,d,p,g,m=Object.create(null),y,b,x,T;if(T=e.input.charCodeAt(e.position),T===91)f=93,g=!1,c=[];else if(T===123)f=125,g=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),T=e.input.charCodeAt(++e.position);T!==0;){if(vi(e,!0,t),T=e.input.charCodeAt(e.position),T===f)return e.position++,e.tag=l,e.anchor=u,e.kind=g?"mapping":"sequence",e.result=c,!0;r?T===44&&Ht(e,"expected the node content, but found ','"):Ht(e,"missed comma between flow collection entries"),b=y=x=null,d=p=!1,T===63&&(h=e.input.charCodeAt(e.position+1),Es(h)&&(d=p=!0,e.position++,vi(e,!0,t))),n=e.line,a=e.lineStart,o=e.position,Xd(e,t,M5,!1,!0),b=e.tag,y=e.result,vi(e,!0,t),T=e.input.charCodeAt(e.position),(p||e.line===n)&&T===58&&(d=!0,T=e.input.charCodeAt(++e.position),vi(e,!0,t),Xd(e,t,M5,!1,!0),x=e.result),g?Ad(e,c,m,b,y,x,n,a,o):d?c.push(Ad(e,null,m,b,y,x,n,a,o)):c.push(y),vi(e,!0,t),T=e.input.charCodeAt(e.position),T===44?(r=!0,T=e.input.charCodeAt(++e.position)):r=!1}Ht(e,"unexpected end of the stream within a flow collection")}A(pie,"readFlowCollection");function gie(e,t){var r,n,a=j8,o=!1,l=!1,c=t,u=0,h=!1,f,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)j8===a?a=d===43?_U:XDe:Ht(e,"repeat of a chomping mode identifier");else if((f=sie(d))>=0)f===0?Ht(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Ht(e,"repeat of an indentation width identifier"):(c=t+f-1,l=!0);else break;if(P0(d)){do d=e.input.charCodeAt(++e.position);while(P0(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!ic(d)&&d!==0)}for(;d!==0;){for(D6(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),ic(d)){u++;continue}if(e.lineIndent<c){a===_U?e.result+=Wi.repeat(`
`,o?1+u:u):a===j8&&o&&(e.result+=`
`);break}for(n?P0(d)?(h=!0,e.result+=Wi.repeat(`
`,o?1+u:u)):h?(h=!1,e.result+=Wi.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=Wi.repeat(`
`,u):e.result+=Wi.repeat(`
`,o?1+u:u),o=!0,l=!0,u=0,r=e.position;!ic(d)&&d!==0;)d=e.input.charCodeAt(++e.position);ph(e,r,e.position,!1)}return!0}A(gie,"readBlockScalar");function cR(e,t){var r,n=e.tag,a=e.anchor,o=[],l,c=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ht(e,"tab characters must not be used in indentation")),!(u!==45||(l=e.input.charCodeAt(e.position+1),!Es(l))));){if(c=!0,e.position++,vi(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Xd(e,t,tie,!1,!0),o.push(e.result),vi(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)Ht(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}A(cR,"readBlockSequence");function mie(e,t,r){var n,a,o,l,c,u,h=e.tag,f=e.anchor,d={},p=Object.create(null),g=null,m=null,y=null,b=!1,x=!1,T;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),T=e.input.charCodeAt(e.position);T!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ht(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(T===63||T===58)&&Es(n))T===63?(b&&(Ad(e,d,p,g,m,null,l,c,u),g=m=y=null),x=!0,b=!0,a=!0):b?(b=!1,a=!0):Ht(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,T=n;else{if(l=e.line,c=e.lineStart,u=e.position,!Xd(e,r,eie,!1,!0))break;if(e.line===o){for(T=e.input.charCodeAt(e.position);P0(T);)T=e.input.charCodeAt(++e.position);if(T===58)T=e.input.charCodeAt(++e.position),Es(T)||Ht(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Ad(e,d,p,g,m,null,l,c,u),g=m=y=null),x=!0,b=!1,a=!1,g=e.tag,m=e.result;else if(x)Ht(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=f,!0}else if(x)Ht(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(b&&(l=e.line,c=e.lineStart,u=e.position),Xd(e,t,D5,!0,a)&&(b?m=e.result:y=e.result),b||(Ad(e,d,p,g,m,y,l,c,u),g=m=y=null),vi(e,!0,-1),T=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&T!==0)Ht(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Ad(e,d,p,g,m,null,l,c,u),x&&(e.tag=h,e.anchor=f,e.kind="mapping",e.result=d),x}A(mie,"readBlockMapping");function vie(e){var t,r=!1,n=!1,a,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&Ht(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(r=!0,l=e.input.charCodeAt(++e.position)):l===33?(n=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):Ht(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!Es(l);)l===33&&(n?Ht(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),rie.test(a)||Ht(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),QDe.test(o)&&Ht(e,"tag suffix cannot contain flow indicator characters")}o&&!nie.test(o)&&Ht(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ht(e,"tag name is malformed: "+o)}return r?e.tag=o:q0.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:Ht(e,'undeclared tag handle "'+a+'"'),!0}A(vie,"readTagProperty");function yie(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ht(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Es(r)&&!Sd(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ht(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}A(yie,"readAnchorProperty");function bie(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Es(n)&&!Sd(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ht(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),q0.call(e.anchorMap,r)||Ht(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],vi(e,!0,-1),!0}A(bie,"readAlias");function Xd(e,t,r,n,a){var o,l,c,u=1,h=!1,f=!1,d,p,g,m,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=c=D5===r||tie===r,n&&vi(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;vie(e)||yie(e);)vi(e,!0,-1)?(h=!0,c=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):c=!1;if(c&&(c=h||a),(u===1||D5===r)&&(M5===r||eie===r?y=t:y=t+1,b=e.position-e.lineStart,u===1?c&&(cR(e,b)||mie(e,b,y))||pie(e,y)?f=!0:(l&&gie(e,y)||fie(e,y)||die(e,y)?f=!0:bie(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Ht(e,"alias node should not have any properties")):hie(e,y,M5===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=c&&cR(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ht(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(q0.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,g=e.typeMap.multi[e.kind||"fallback"],d=0,p=g.length;d<p;d+=1)if(e.tag.slice(0,g[d].tag.length)===g[d].tag){m=g[d];break}m||Ht(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&Ht(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ht(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}A(Xd,"composeNode");function xie(e){var t=e.position,r,n,a,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(vi(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),r=e.position;l!==0&&!Es(l);)l=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),a=[],n.length<1&&Ht(e,"directive name must not be less than one character in length");l!==0;){for(;P0(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!ic(l));break}if(ic(l))break;for(r=e.position;l!==0&&!Es(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}l!==0&&D6(e),q0.call(NU,n)?NU[n](e,n,a):Nb(e,'unknown document directive "'+n+'"')}if(vi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,vi(e,!0,-1)):o&&Ht(e,"directives end mark is expected"),Xd(e,e.lineIndent-1,D5,!1,!0),vi(e,!0,-1),e.checkLineBreaks&&ZDe.test(e.input.slice(t,e.position))&&Nb(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Jx(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,vi(e,!0,-1));return}if(e.position<e.length-1)Ht(e,"end of the stream or a document separator is expected");else return}A(xie,"readDocument");function uL(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new uie(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Ht(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)xie(r);return r.documents}A(uL,"loadDocuments");function JDe(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=uL(e,r);if(typeof t!="function")return n;for(var a=0,o=n.length;a<o;a+=1)t(n[a])}A(JDe,"loadAll$1");function Tie(e,t){var r=uL(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Js("expected a single document in the stream, but found more")}}A(Tie,"load$1");var ePe=Tie,tPe={load:ePe},wie=Object.prototype.toString,Eie=Object.prototype.hasOwnProperty,hL=65279,rPe=9,Lb=10,nPe=13,iPe=32,aPe=33,sPe=34,uR=35,oPe=37,lPe=38,cPe=39,uPe=42,Sie=44,hPe=45,P5=58,fPe=61,dPe=62,pPe=63,gPe=64,Aie=91,kie=93,mPe=96,Cie=123,vPe=124,Iie=125,as={};as[0]="\\0";as[7]="\\a";as[8]="\\b";as[9]="\\t";as[10]="\\n";as[11]="\\v";as[12]="\\f";as[13]="\\r";as[27]="\\e";as[34]='\\"';as[92]="\\\\";as[133]="\\N";as[160]="\\_";as[8232]="\\L";as[8233]="\\P";var yPe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],bPe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Rie(e,t){var r,n,a,o,l,c,u;if(t===null)return{};for(r={},n=Object.keys(t),a=0,o=n.length;a<o;a+=1)l=n[a],c=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&Eie.call(u.styleAliases,c)&&(c=u.styleAliases[c]),r[l]=c;return r}A(Rie,"compileStyleMap");function Oie(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Js("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Wi.repeat("0",n-t.length)+t}A(Oie,"encodeHex");var xPe=1,Mb=2;function _ie(e){this.schema=e.schema||Jne,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Wi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Rie(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Mb:xPe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}A(_ie,"State");function hR(e,t){for(var r=Wi.repeat(" ",t),n=0,a=-1,o="",l,c=e.length;n<c;)a=e.indexOf(`
`,n),a===-1?(l=e.slice(n),n=c):(l=e.slice(n,a+1),n=a+1),l.length&&l!==`
`&&(o+=r),o+=l;return o}A(hR,"indentString");function F5(e,t){return`
`+Wi.repeat(" ",e.indent*t)}A(F5,"generateNextLine");function Nie(e,t){var r,n,a;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}A(Nie,"testImplicitResolving");function Db(e){return e===iPe||e===rPe}A(Db,"isWhitespace");function Cm(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==hL||65536<=e&&e<=1114111}A(Cm,"isPrintable");function fR(e){return Cm(e)&&e!==hL&&e!==nPe&&e!==Lb}A(fR,"isNsCharOrWhitespace");function dR(e,t,r){var n=fR(e),a=n&&!Db(e);return(r?n:n&&e!==Sie&&e!==Aie&&e!==kie&&e!==Cie&&e!==Iie)&&e!==uR&&!(t===P5&&!a)||fR(t)&&!Db(t)&&e===uR||t===P5&&a}A(dR,"isPlainSafe");function Lie(e){return Cm(e)&&e!==hL&&!Db(e)&&e!==hPe&&e!==pPe&&e!==P5&&e!==Sie&&e!==Aie&&e!==kie&&e!==Cie&&e!==Iie&&e!==uR&&e!==lPe&&e!==uPe&&e!==aPe&&e!==vPe&&e!==fPe&&e!==dPe&&e!==cPe&&e!==sPe&&e!==oPe&&e!==gPe&&e!==mPe}A(Lie,"isPlainSafeFirst");function Mie(e){return!Db(e)&&e!==P5}A(Mie,"isPlainSafeLast");function B1(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}A(B1,"codePointAt");function fL(e){var t=/^\n* /;return t.test(e)}A(fL,"needIndentIndicator");var Die=1,pR=2,Pie=3,Fie=4,C1=5;function Bie(e,t,r,n,a,o,l,c){var u,h=0,f=null,d=!1,p=!1,g=n!==-1,m=-1,y=Lie(B1(e,0))&&Mie(B1(e,e.length-1));if(t||l)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=B1(e,u),!Cm(h))return C1;y=y&&dR(h,f,c),f=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=B1(e,u),h===Lb)d=!0,g&&(p=p||u-m-1>n&&e[m+1]!==" ",m=u);else if(!Cm(h))return C1;y=y&&dR(h,f,c),f=h}p=p||g&&u-m-1>n&&e[m+1]!==" "}return!d&&!p?y&&!l&&!a(e)?Die:o===Mb?C1:pR:r>9&&fL(e)?C1:l?o===Mb?C1:pR:p?Fie:Pie}A(Bie,"chooseScalarStyle");function $ie(e,t,r,n,a){e.dump=function(){if(t.length===0)return e.quotingType===Mb?'""':"''";if(!e.noCompatMode&&(yPe.indexOf(t)!==-1||bPe.test(t)))return e.quotingType===Mb?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),c=n||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return Nie(e,h)}switch(A(u,"testAmbiguity"),Bie(t,c,e.indent,l,u,e.quotingType,e.forceQuotes&&!n,a)){case Die:return t;case pR:return"'"+t.replace(/'/g,"''")+"'";case Pie:return"|"+gR(t,e.indent)+mR(hR(t,o));case Fie:return">"+gR(t,e.indent)+mR(hR(Hie(t,l),o));case C1:return'"'+Uie(t)+'"';default:throw new Js("impossible error: invalid scalar style")}}()}A($ie,"writeScalar");function gR(e,t){var r=fL(e)?String(t):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),o=a?"+":n?"":"-";return r+o+`
`}A(gR,"blockHeader");function mR(e){return e[e.length-1]===`
`?e.slice(0,-1):e}A(mR,"dropEndingNewline");function Hie(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,vR(e.slice(0,h),t)}(),a=e[0]===`
`||e[0]===" ",o,l;l=r.exec(e);){var c=l[1],u=l[2];o=u[0]===" ",n+=c+(!a&&!o&&u!==""?`
`:"")+vR(u,t),a=o}return n}A(Hie,"foldString");function vR(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,a=0,o,l=0,c=0,u="";n=r.exec(e);)c=n.index,c-a>t&&(o=l>a?l:c,u+=`
`+e.slice(a,o),a=o+1),l=c;return u+=`
`,e.length-a>t&&l>a?u+=e.slice(a,l)+`
`+e.slice(l+1):u+=e.slice(a),u.slice(1)}A(vR,"foldLine");function Uie(e){for(var t="",r=0,n,a=0;a<e.length;r>=65536?a+=2:a++)r=B1(e,a),n=as[r],!n&&Cm(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=n||Oie(r);return t}A(Uie,"escapeString");function Wie(e,t,r){var n="",a=e.tag,o,l,c;for(o=0,l=r.length;o<l;o+=1)c=r[o],e.replacer&&(c=e.replacer.call(r,String(o),c)),(du(e,t,c,!1,!1)||typeof c>"u"&&du(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}A(Wie,"writeFlowSequence");function yR(e,t,r,n){var a="",o=e.tag,l,c,u;for(l=0,c=r.length;l<c;l+=1)u=r[l],e.replacer&&(u=e.replacer.call(r,String(l),u)),(du(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&du(e,t+1,null,!0,!0,!1,!0))&&((!n||a!=="")&&(a+=F5(e,t)),e.dump&&Lb===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}A(yR,"writeBlockSequence");function zie(e,t,r){var n="",a=e.tag,o=Object.keys(r),l,c,u,h,f;for(l=0,c=o.length;l<c;l+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),u=o[l],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),du(e,t,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),du(e,t,h,!1,!1)&&(f+=e.dump,n+=f));e.tag=a,e.dump="{"+n+"}"}A(zie,"writeFlowMapping");function Gie(e,t,r,n){var a="",o=e.tag,l=Object.keys(r),c,u,h,f,d,p;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Js("sortKeys must be a boolean or a function");for(c=0,u=l.length;c<u;c+=1)p="",(!n||a!=="")&&(p+=F5(e,t)),h=l[c],f=r[h],e.replacer&&(f=e.replacer.call(r,h,f)),du(e,t+1,h,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&Lb===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=F5(e,t)),du(e,t+1,f,!0,d)&&(e.dump&&Lb===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,a+=p));e.tag=o,e.dump=a||"{}"}A(Gie,"writeBlockMapping");function bR(e,t,r){var n,a,o,l,c,u;for(a=r?e.explicitTypes:e.implicitTypes,o=0,l=a.length;o<l;o+=1)if(c=a[o],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(r?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(u=e.styleMap[c.tag]||c.defaultStyle,wie.call(c.represent)==="[object Function]")n=c.represent(t,u);else if(Eie.call(c.represent,u))n=c.represent[u](t,u);else throw new Js("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}A(bR,"detectType");function du(e,t,r,n,a,o,l){e.tag=null,e.dump=r,bR(e,r,!1)||bR(e,r,!0);var c=wie.call(e.dump),u=n,h;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=c==="[object Object]"||c==="[object Array]",d,p;if(f&&(d=e.duplicates.indexOf(r),p=d!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(a=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(f&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),c==="[object Object]")n&&Object.keys(e.dump).length!==0?(Gie(e,t,e.dump,a),p&&(e.dump="&ref_"+d+e.dump)):(zie(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(c==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?yR(e,t-1,e.dump,a):yR(e,t,e.dump,a),p&&(e.dump="&ref_"+d+e.dump)):(Wie(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&$ie(e,e.dump,t,o,u);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Js("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}A(du,"writeNode");function Yie(e,t){var r=[],n=[],a,o;for(B5(e,r,n),a=0,o=n.length;a<o;a+=1)t.duplicates.push(r[n[a]]);t.usedDuplicates=new Array(o)}A(Yie,"getDuplicateReferences");function B5(e,t,r){var n,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)B5(e[a],t,r);else for(n=Object.keys(e),a=0,o=n.length;a<o;a+=1)B5(e[n[a]],t,r)}A(B5,"inspectNode");function TPe(e,t){t=t||{};var r=new _ie(t);r.noRefs||Yie(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),du(r,0,n,!0,!0)?r.dump+`
`:""}A(TPe,"dump$1");function wPe(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}A(wPe,"renamed");var dL=Pne,pL=tPe.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const EPe=Object.freeze({left:0,top:0,width:16,height:16}),$5=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Vie=Object.freeze({...EPe,...$5}),SPe=Object.freeze({...Vie,body:"",hidden:!1}),APe=Object.freeze({width:null,height:null}),kPe=Object.freeze({...APe,...$5}),CPe=(e,t,r,n="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;n=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const c=a.pop(),u=a.pop(),h={provider:a.length>0?a[0]:n,prefix:u,name:c};return X8(h)?h:null}const o=a[0],l=o.split("-");if(l.length>1){const c={provider:n,prefix:l.shift(),name:l.join("-")};return X8(c)?c:null}if(r&&n===""){const c={provider:n,prefix:"",name:o};return X8(c,r)?c:null}return null},X8=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function IPe(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function LU(e,t){const r=IPe(e,t);for(const n in SPe)n in $5?n in e&&!(n in r)&&(r[n]=$5[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function RPe(e,t){const r=e.icons,n=e.aliases||Object.create(null),a=Object.create(null);function o(l){if(r[l])return a[l]=[];if(!(l in a)){a[l]=null;const c=n[l]&&n[l].parent,u=c&&o(c);u&&(a[l]=[c].concat(u))}return a[l]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(o),a}function MU(e,t,r){const n=e.icons,a=e.aliases||Object.create(null);let o={};function l(c){o=LU(n[c]||a[c],o)}return l(t),r.forEach(l),LU(e,o)}function OPe(e,t){if(e.icons[t])return MU(e,t,[]);const r=RPe(e,[t])[t];return r?MU(e,t,r):null}const _Pe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,NPe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function DU(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(_Pe);if(n===null||!n.length)return e;const a=[];let o=n.shift(),l=NPe.test(o);for(;;){if(l){const c=parseFloat(o);isNaN(c)?a.push(o):a.push(Math.ceil(c*t*r)/r)}else a.push(o);if(o=n.shift(),o===void 0)return a.join("");l=!l}}function LPe(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const a=e.indexOf(">",n),o=e.indexOf("</"+t);if(a===-1||o===-1)break;const l=e.indexOf(">",o);if(l===-1)break;r+=e.slice(a+1,o).trim(),e=e.slice(0,n).trim()+e.slice(l+1)}return{defs:r,content:e}}function MPe(e,t){return e?"<defs>"+e+"</defs>"+t:t}function DPe(e,t,r){const n=LPe(e);return MPe(n.defs,t+n.content+r)}const PPe=e=>e==="unset"||e==="undefined"||e==="none";function FPe(e,t){const r={...Vie,...e},n={...kPe,...t},a={left:r.left,top:r.top,width:r.width,height:r.height};let o=r.body;[r,n].forEach(y=>{const b=[],x=y.hFlip,T=y.vFlip;let w=y.rotate;x?T?w+=2:(b.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),b.push("scale(-1 1)"),a.top=a.left=0):T&&(b.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),b.push("scale(1 -1)"),a.top=a.left=0);let E;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:E=a.height/2+a.top,b.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:b.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:E=a.width/2+a.left,b.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}w%2===1&&(a.left!==a.top&&(E=a.left,a.left=a.top,a.top=E),a.width!==a.height&&(E=a.width,a.width=a.height,a.height=E)),b.length&&(o=DPe(o,'<g transform="'+b.join(" ")+'">',"</g>"))});const l=n.width,c=n.height,u=a.width,h=a.height;let f,d;l===null?(d=c===null?"1em":c==="auto"?h:c,f=DU(d,u/h)):(f=l==="auto"?u:l,d=c===null?DU(f,h/u):c==="auto"?h:c);const p={},g=(y,b)=>{PPe(b)||(p[y]=b.toString())};g("width",f),g("height",d);const m=[a.left,a.top,u,h];return p.viewBox=m.join(" "),{attributes:p,viewBox:m,body:o}}const BPe=/\sid="(\S+)"/g,$Pe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let HPe=0;function UPe(e,t=$Pe){const r=[];let n;for(;n=BPe.exec(e);)r.push(n[1]);if(!r.length)return e;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(o=>{const l=typeof t=="function"?t(o):t+(HPe++).toString(),c=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+l+a+"$3")}),e=e.replace(new RegExp(a,"g"),""),e}function WPe(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var qie={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},xR=new Map,jie=new Map,Xie=A(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(me.debug("Registering icon pack:",t.name),"loader"in t)jie.set(t.name,t.loader);else if("icons"in t)xR.set(t.name,t.icons);else throw me.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),zPe=A(async(e,t)=>{const r=CPe(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let a=xR.get(n);if(!a){const l=jie.get(n);if(!l)throw new Error(`Icon set not found: ${r.prefix}`);try{a={...await l(),prefix:n},xR.set(n,a)}catch(c){throw me.error(c),new Error(`Failed to load icon set: ${r.prefix}`)}}const o=OPe(a,r.name);if(!o)throw new Error(`Icon not found: ${e}`);return o},"getRegisteredIconData"),Kd=A(async(e,t)=>{let r;try{r=await zPe(e,t==null?void 0:t.fallbackPrefix)}catch(o){me.error(o),r=qie}const n=FPe(r,t);return WPe(UPe(n.body),n.attributes)},"getIconSVG"),e3=A(({flowchart:e})=>{var a,o;const t=((a=e==null?void 0:e.subGraphTitleMargin)==null?void 0:a.top)??0,r=((o=e==null?void 0:e.subGraphTitleMargin)==null?void 0:o.bottom)??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),gL={},ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.BLANK_URL=ra.relativeFirstCharacters=ra.whitespaceEscapeCharsRegex=ra.urlSchemeRegex=ra.ctrlCharactersRegex=ra.htmlCtrlEntityRegex=ra.htmlEntitiesRegex=ra.invalidProtocolRegex=void 0;ra.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;ra.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;ra.htmlCtrlEntityRegex=/&(newline|tab);/gi;ra.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;ra.urlSchemeRegex=/^.+(:|&colon;)/gim;ra.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;ra.relativeFirstCharacters=[".","/"];ra.BLANK_URL="about:blank";Object.defineProperty(gL,"__esModule",{value:!0});var bf=gL.sanitizeUrl=void 0,Ba=ra;function GPe(e){return Ba.relativeFirstCharacters.indexOf(e[0])>-1}function YPe(e){var t=e.replace(Ba.ctrlCharactersRegex,"");return t.replace(Ba.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function VPe(e){return URL.canParse(e)}function PU(e){try{return decodeURIComponent(e)}catch{return e}}function qPe(e){if(!e)return Ba.BLANK_URL;var t,r=PU(e.trim());do r=YPe(r).replace(Ba.htmlCtrlEntityRegex,"").replace(Ba.ctrlCharactersRegex,"").replace(Ba.whitespaceEscapeCharsRegex,"").trim(),r=PU(r),t=r.match(Ba.ctrlCharactersRegex)||r.match(Ba.htmlEntitiesRegex)||r.match(Ba.htmlCtrlEntityRegex)||r.match(Ba.whitespaceEscapeCharsRegex);while(t&&t.length>0);var n=r;if(!n)return Ba.BLANK_URL;if(GPe(n))return n;var a=n.trimStart(),o=a.match(Ba.urlSchemeRegex);if(!o)return n;var l=o[0].toLowerCase().trim();if(Ba.invalidProtocolRegex.test(l))return Ba.BLANK_URL;var c=a.replace(/\\/g,"/");if(l==="mailto:"||l.includes("://"))return c;if(l==="http:"||l==="https:"){if(!VPe(c))return Ba.BLANK_URL;var u=new URL(c);return u.protocol=u.protocol.toLowerCase(),u.hostname=u.hostname.toLowerCase(),u.toString()}return c}bf=gL.sanitizeUrl=qPe;function uw(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mL(e){let t,r,n;e.length!==2?(t=uw,r=(c,u)=>uw(e(c),u),n=(c,u)=>e(c)-u):(t=e===uw||e===jPe?e:XPe,r=e,n=e);function a(c,u,h=0,f=c.length){if(h<f){if(t(u,u)!==0)return f;do{const d=h+f>>>1;r(c[d],u)<0?h=d+1:f=d}while(h<f)}return h}function o(c,u,h=0,f=c.length){if(h<f){if(t(u,u)!==0)return f;do{const d=h+f>>>1;r(c[d],u)<=0?h=d+1:f=d}while(h<f)}return h}function l(c,u,h=0,f=c.length){const d=a(c,u,h,f-1);return d>h&&n(c[d-1],u)>-n(c[d],u)?d-1:d}return{left:a,center:l,right:o}}function XPe(){return 0}function KPe(e){return e===null?NaN:+e}const ZPe=mL(uw),QPe=ZPe.right;mL(KPe).center;class FU extends Map{constructor(t,r=tFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(BU(this,t))}has(t){return super.has(BU(this,t))}set(t,r){return super.set(JPe(this,t),r)}delete(t){return super.delete(eFe(this,t))}}function BU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function JPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function eFe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function tFe(e){return e!==null&&typeof e=="object"?e.valueOf():e}const rFe=Math.sqrt(50),nFe=Math.sqrt(10),iFe=Math.sqrt(2);function H5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),l=o>=rFe?10:o>=nFe?5:o>=iFe?2:1;let c,u,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(e*h),u=Math.round(t*h),c/h<e&&++c,u/h>t&&--u,h=-h):(h=Math.pow(10,a)*l,c=Math.round(e/h),u=Math.round(t/h),c*h<e&&++c,u*h>t&&--u),u<c&&.5<=r&&r<2?H5(e,t,r*2):[c,u,h]}function aFe(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,l]=n?H5(t,e,r):H5(e,t,r);if(!(o>=a))return[];const c=o-a+1,u=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)u[h]=(o-h)/-l;else for(let h=0;h<c;++h)u[h]=(o-h)*l;else if(l<0)for(let h=0;h<c;++h)u[h]=(a+h)/-l;else for(let h=0;h<c;++h)u[h]=(a+h)*l;return u}function TR(e,t,r){return t=+t,e=+e,r=+r,H5(e,t,r)[2]}function wR(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?TR(t,e,r):TR(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sFe(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function oFe(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function lFe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function cFe(e){return e}var hw=1,K8=2,ER=3,_T=4,$U=1e-6;function uFe(e){return"translate("+e+",0)"}function hFe(e){return"translate(0,"+e+")"}function fFe(e){return t=>+e(t)}function dFe(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function pFe(){return!this.__axis}function Kie(e,t){var r=[],n=null,a=null,o=6,l=6,c=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===hw||e===_T?-1:1,f=e===_T||e===K8?"x":"y",d=e===hw||e===ER?uFe:hFe;function p(g){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),y=a??(t.tickFormat?t.tickFormat.apply(t,r):cFe),b=Math.max(o,0)+c,x=t.range(),T=+x[0]+u,w=+x[x.length-1]+u,E=(t.bandwidth?dFe:fFe)(t.copy(),u),S=g.selection?g.selection():g,C=S.selectAll(".domain").data([null]),k=S.selectAll(".tick").data(m,t).order(),O=k.exit(),I=k.enter().append("g").attr("class","tick"),_=k.select("line"),R=k.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(I),_=_.merge(I.append("line").attr("stroke","currentColor").attr(f+"2",h*o)),R=R.merge(I.append("text").attr("fill","currentColor").attr(f,h*b).attr("dy",e===hw?"0em":e===ER?"0.71em":"0.32em")),g!==S&&(C=C.transition(g),k=k.transition(g),_=_.transition(g),R=R.transition(g),O=O.transition(g).attr("opacity",$U).attr("transform",function(M){return isFinite(M=E(M))?d(M+u):this.getAttribute("transform")}),I.attr("opacity",$U).attr("transform",function(M){var $=this.parentNode.__axis;return d(($&&isFinite($=$(M))?$:E(M))+u)})),O.remove(),C.attr("d",e===_T||e===K8?l?"M"+h*l+","+T+"H"+u+"V"+w+"H"+h*l:"M"+u+","+T+"V"+w:l?"M"+T+","+h*l+"V"+u+"H"+w+"V"+h*l:"M"+T+","+u+"H"+w),k.attr("opacity",1).attr("transform",function(M){return d(E(M)+u)}),_.attr(f+"2",h*o),R.attr(f,h*b).text(y),S.filter(pFe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===K8?"start":e===_T?"end":"middle"),S.each(function(){this.__axis=E})}return p.scale=function(g){return arguments.length?(t=g,p):t},p.ticks=function(){return r=Array.from(arguments),p},p.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),p):r.slice()},p.tickValues=function(g){return arguments.length?(n=g==null?null:Array.from(g),p):n&&n.slice()},p.tickFormat=function(g){return arguments.length?(a=g,p):a},p.tickSize=function(g){return arguments.length?(o=l=+g,p):o},p.tickSizeInner=function(g){return arguments.length?(o=+g,p):o},p.tickSizeOuter=function(g){return arguments.length?(l=+g,p):l},p.tickPadding=function(g){return arguments.length?(c=+g,p):c},p.offset=function(g){return arguments.length?(u=+g,p):u},p}function gFe(e){return Kie(hw,e)}function mFe(e){return Kie(ER,e)}var vFe={value:()=>{}};function Zie(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new fw(r)}function fw(e){this._=e}function yFe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}fw.prototype=Zie.prototype={constructor:fw,on:function(e,t){var r=this._,n=yFe(e+"",r),a,o=-1,l=n.length;if(arguments.length<2){for(;++o<l;)if((a=(e=n[o]).type)&&(a=bFe(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(a=(e=n[o]).type)r[a]=HU(r[a],e.name,t);else if(t==null)for(a in r)r[a]=HU(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new fw(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function bFe(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function HU(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=vFe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var SR="http://www.w3.org/1999/xhtml";const UU={svg:"http://www.w3.org/2000/svg",xhtml:SR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function F6(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),UU.hasOwnProperty(t)?{space:UU[t],local:e}:e}function xFe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===SR&&t.documentElement.namespaceURI===SR?t.createElement(e):t.createElementNS(r,e)}}function TFe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qie(e){var t=F6(e);return(t.local?TFe:xFe)(t)}function wFe(){}function vL(e){return e==null?wFe:function(){return this.querySelector(e)}}function EFe(e){typeof e!="function"&&(e=vL(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],l=o.length,c=n[a]=new Array(l),u,h,f=0;f<l;++f)(u=o[f])&&(h=e.call(u,u.__data__,f,o))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h);return new Ho(n,this._parents)}function SFe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function AFe(){return[]}function Jie(e){return e==null?AFe:function(){return this.querySelectorAll(e)}}function kFe(e){return function(){return SFe(e.apply(this,arguments))}}function CFe(e){typeof e=="function"?e=kFe(e):e=Jie(e);for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var l=t[o],c=l.length,u,h=0;h<c;++h)(u=l[h])&&(n.push(e.call(u,u.__data__,h,l)),a.push(u));return new Ho(n,a)}function eae(e){return function(){return this.matches(e)}}function tae(e){return function(t){return t.matches(e)}}var IFe=Array.prototype.find;function RFe(e){return function(){return IFe.call(this.children,e)}}function OFe(){return this.firstElementChild}function _Fe(e){return this.select(e==null?OFe:RFe(typeof e=="function"?e:tae(e)))}var NFe=Array.prototype.filter;function LFe(){return Array.from(this.children)}function MFe(e){return function(){return NFe.call(this.children,e)}}function DFe(e){return this.selectAll(e==null?LFe:MFe(typeof e=="function"?e:tae(e)))}function PFe(e){typeof e!="function"&&(e=eae(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],l=o.length,c=n[a]=[],u,h=0;h<l;++h)(u=o[h])&&e.call(u,u.__data__,h,o)&&c.push(u);return new Ho(n,this._parents)}function rae(e){return new Array(e.length)}function FFe(){return new Ho(this._enter||this._groups.map(rae),this._parents)}function U5(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}U5.prototype={constructor:U5,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function BFe(e){return function(){return e}}function $Fe(e,t,r,n,a,o){for(var l=0,c,u=t.length,h=o.length;l<h;++l)(c=t[l])?(c.__data__=o[l],n[l]=c):r[l]=new U5(e,o[l]);for(;l<u;++l)(c=t[l])&&(a[l]=c)}function HFe(e,t,r,n,a,o,l){var c,u,h=new Map,f=t.length,d=o.length,p=new Array(f),g;for(c=0;c<f;++c)(u=t[c])&&(p[c]=g=l.call(u,u.__data__,c,t)+"",h.has(g)?a[c]=u:h.set(g,u));for(c=0;c<d;++c)g=l.call(e,o[c],c,o)+"",(u=h.get(g))?(n[c]=u,u.__data__=o[c],h.delete(g)):r[c]=new U5(e,o[c]);for(c=0;c<f;++c)(u=t[c])&&h.get(p[c])===u&&(a[c]=u)}function UFe(e){return e.__data__}function WFe(e,t){if(!arguments.length)return Array.from(this,UFe);var r=t?HFe:$Fe,n=this._parents,a=this._groups;typeof e!="function"&&(e=BFe(e));for(var o=a.length,l=new Array(o),c=new Array(o),u=new Array(o),h=0;h<o;++h){var f=n[h],d=a[h],p=d.length,g=zFe(e.call(f,f&&f.__data__,h,n)),m=g.length,y=c[h]=new Array(m),b=l[h]=new Array(m),x=u[h]=new Array(p);r(f,d,y,b,x,g,t);for(var T=0,w=0,E,S;T<m;++T)if(E=y[T]){for(T>=w&&(w=T+1);!(S=b[w])&&++w<m;);E._next=S||null}}return l=new Ho(l,n),l._enter=c,l._exit=u,l}function zFe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GFe(){return new Ho(this._exit||this._groups.map(rae),this._parents)}function YFe(e,t,r){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),n&&a?n.merge(a).order():a}function VFe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,o=n.length,l=Math.min(a,o),c=new Array(a),u=0;u<l;++u)for(var h=r[u],f=n[u],d=h.length,p=c[u]=new Array(d),g,m=0;m<d;++m)(g=h[m]||f[m])&&(p[m]=g);for(;u<a;++u)c[u]=r[u];return new Ho(c,this._parents)}function qFe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],l;--a>=0;)(l=n[a])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function jFe(e){e||(e=XFe);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var l=r[o],c=l.length,u=a[o]=new Array(c),h,f=0;f<c;++f)(h=l[f])&&(u[f]=h);u.sort(t)}return new Ho(a,this._parents).order()}function XFe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function KFe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ZFe(){return Array.from(this)}function QFe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var l=n[a];if(l)return l}return null}function JFe(){let e=0;for(const t of this)++e;return e}function eBe(){return!this.node()}function tBe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,l=a.length,c;o<l;++o)(c=a[o])&&e.call(c,c.__data__,o,a);return this}function rBe(e){return function(){this.removeAttribute(e)}}function nBe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iBe(e,t){return function(){this.setAttribute(e,t)}}function aBe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sBe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function oBe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function lBe(e,t){var r=F6(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?nBe:rBe:typeof t=="function"?r.local?oBe:sBe:r.local?aBe:iBe)(r,t))}function nae(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cBe(e){return function(){this.style.removeProperty(e)}}function uBe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function hBe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function fBe(e,t,r){return arguments.length>1?this.each((t==null?cBe:typeof t=="function"?hBe:uBe)(e,t,r??"")):Im(this.node(),e)}function Im(e,t){return e.style.getPropertyValue(t)||nae(e).getComputedStyle(e,null).getPropertyValue(t)}function dBe(e){return function(){delete this[e]}}function pBe(e,t){return function(){this[e]=t}}function gBe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function mBe(e,t){return arguments.length>1?this.each((t==null?dBe:typeof t=="function"?gBe:pBe)(e,t)):this.node()[e]}function iae(e){return e.trim().split(/^|\s+/)}function yL(e){return e.classList||new aae(e)}function aae(e){this._node=e,this._names=iae(e.getAttribute("class")||"")}aae.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function sae(e,t){for(var r=yL(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function oae(e,t){for(var r=yL(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function vBe(e){return function(){sae(this,e)}}function yBe(e){return function(){oae(this,e)}}function bBe(e,t){return function(){(t.apply(this,arguments)?sae:oae)(this,e)}}function xBe(e,t){var r=iae(e+"");if(arguments.length<2){for(var n=yL(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?bBe:t?vBe:yBe)(r,t))}function TBe(){this.textContent=""}function wBe(e){return function(){this.textContent=e}}function EBe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function SBe(e){return arguments.length?this.each(e==null?TBe:(typeof e=="function"?EBe:wBe)(e)):this.node().textContent}function ABe(){this.innerHTML=""}function kBe(e){return function(){this.innerHTML=e}}function CBe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function IBe(e){return arguments.length?this.each(e==null?ABe:(typeof e=="function"?CBe:kBe)(e)):this.node().innerHTML}function RBe(){this.nextSibling&&this.parentNode.appendChild(this)}function OBe(){return this.each(RBe)}function _Be(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NBe(){return this.each(_Be)}function LBe(e){var t=typeof e=="function"?e:Qie(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function MBe(){return null}function DBe(e,t){var r=typeof e=="function"?e:Qie(e),n=t==null?MBe:typeof t=="function"?t:vL(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function PBe(){var e=this.parentNode;e&&e.removeChild(this)}function FBe(){return this.each(PBe)}function BBe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $Be(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HBe(e){return this.select(e?$Be:BBe)}function UBe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function WBe(e){return function(t){e.call(this,t,this.__data__)}}function zBe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function GBe(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function YBe(e,t,r){return function(){var n=this.__on,a,o=WBe(t);if(n){for(var l=0,c=n.length;l<c;++l)if((a=n[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(a):this.__on=[a]}}function VBe(e,t,r){var n=zBe(e+""),a,o=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,h=c.length,f;u<h;++u)for(a=0,f=c[u];a<o;++a)if((l=n[a]).type===f.type&&l.name===f.name)return f.value}return}for(c=t?YBe:GBe,a=0;a<o;++a)this.each(c(n[a],t,r));return this}function lae(e,t,r){var n=nae(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function qBe(e,t){return function(){return lae(this,e,t)}}function jBe(e,t){return function(){return lae(this,e,t.apply(this,arguments))}}function XBe(e,t){return this.each((typeof t=="function"?jBe:qBe)(e,t))}function*KBe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length,l;a<o;++a)(l=n[a])&&(yield l)}var cae=[null];function Ho(e,t){this._groups=e,this._parents=t}function t3(){return new Ho([[document.documentElement]],cae)}function ZBe(){return this}Ho.prototype=t3.prototype={constructor:Ho,select:EFe,selectAll:CFe,selectChild:_Fe,selectChildren:DFe,filter:PFe,data:WFe,enter:FFe,exit:GFe,join:YFe,merge:VFe,selection:ZBe,order:qFe,sort:jFe,call:KFe,nodes:ZFe,node:QFe,size:JFe,empty:eBe,each:tBe,attr:lBe,style:fBe,property:mBe,classed:xBe,text:SBe,html:IBe,raise:OBe,lower:NBe,append:LBe,insert:DBe,remove:FBe,clone:HBe,datum:UBe,on:VBe,dispatch:XBe,[Symbol.iterator]:KBe};function nt(e){return typeof e=="string"?new Ho([[document.querySelector(e)]],[document.documentElement]):new Ho([[e]],cae)}function r3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function B6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rp(){}var Pb=.7,W5=1/Pb,cg="\\s*([+-]?\\d+)\\s*",Fb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QBe=/^#([0-9a-f]{3,8})$/,JBe=new RegExp(`^rgb\\(${cg},${cg},${cg}\\)$`),e$e=new RegExp(`^rgb\\(${cu},${cu},${cu}\\)$`),t$e=new RegExp(`^rgba\\(${cg},${cg},${cg},${Fb}\\)$`),r$e=new RegExp(`^rgba\\(${cu},${cu},${cu},${Fb}\\)$`),n$e=new RegExp(`^hsl\\(${Fb},${cu},${cu}\\)$`),i$e=new RegExp(`^hsla\\(${Fb},${cu},${cu},${Fb}\\)$`),WU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r3(Rp,Zd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zU,formatHex:zU,formatHex8:a$e,formatHsl:s$e,formatRgb:GU,toString:GU});function zU(){return this.rgb().formatHex()}function a$e(){return this.rgb().formatHex8()}function s$e(){return hae(this).formatHsl()}function GU(){return this.rgb().formatRgb()}function Zd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QBe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YU(t):r===3?new Xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?NT(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?NT(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JBe.exec(e))?new Xa(t[1],t[2],t[3],1):(t=e$e.exec(e))?new Xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=t$e.exec(e))?NT(t[1],t[2],t[3],t[4]):(t=r$e.exec(e))?NT(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n$e.exec(e))?jU(t[1],t[2]/100,t[3]/100,1):(t=i$e.exec(e))?jU(t[1],t[2]/100,t[3]/100,t[4]):WU.hasOwnProperty(e)?YU(WU[e]):e==="transparent"?new Xa(NaN,NaN,NaN,0):null}function YU(e){return new Xa(e>>16&255,e>>8&255,e&255,1)}function NT(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xa(e,t,r,n)}function uae(e){return e instanceof Rp||(e=Zd(e)),e?(e=e.rgb(),new Xa(e.r,e.g,e.b,e.opacity)):new Xa}function AR(e,t,r,n){return arguments.length===1?uae(e):new Xa(e,t,r,n??1)}function Xa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}r3(Xa,AR,B6(Rp,{brighter(e){return e=e==null?W5:Math.pow(W5,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pb:Math.pow(Pb,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xa(Bd(this.r),Bd(this.g),Bd(this.b),z5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VU,formatHex:VU,formatHex8:o$e,formatRgb:qU,toString:qU}));function VU(){return`#${kd(this.r)}${kd(this.g)}${kd(this.b)}`}function o$e(){return`#${kd(this.r)}${kd(this.g)}${kd(this.b)}${kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function qU(){const e=z5(this.opacity);return`${e===1?"rgb(":"rgba("}${Bd(this.r)}, ${Bd(this.g)}, ${Bd(this.b)}${e===1?")":`, ${e})`}`}function z5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kd(e){return e=Bd(e),(e<16?"0":"")+e.toString(16)}function jU(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ec(e,t,r,n)}function hae(e){if(e instanceof ec)return new ec(e.h,e.s,e.l,e.opacity);if(e instanceof Rp||(e=Zd(e)),!e)return new ec;if(e instanceof ec)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,c=o-a,u=(o+a)/2;return c?(t===o?l=(r-n)/c+(r<n)*6:r===o?l=(n-t)/c+2:l=(t-r)/c+4,c/=u<.5?o+a:2-o-a,l*=60):c=u>0&&u<1?0:l,new ec(l,c,u,e.opacity)}function l$e(e,t,r,n){return arguments.length===1?hae(e):new ec(e,t,r,n??1)}function ec(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}r3(ec,l$e,B6(Rp,{brighter(e){return e=e==null?W5:Math.pow(W5,e),new ec(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pb:Math.pow(Pb,e),new ec(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xa(Z8(e>=240?e-240:e+120,a,n),Z8(e,a,n),Z8(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ec(XU(this.h),LT(this.s),LT(this.l),z5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=z5(this.opacity);return`${e===1?"hsl(":"hsla("}${XU(this.h)}, ${LT(this.s)*100}%, ${LT(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XU(e){return e=(e||0)%360,e<0?e+360:e}function LT(e){return Math.max(0,Math.min(1,e||0))}function Z8(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const c$e=Math.PI/180,u$e=180/Math.PI,G5=18,fae=.96422,dae=1,pae=.82521,gae=4/29,ug=6/29,mae=3*ug*ug,h$e=ug*ug*ug;function vae(e){if(e instanceof uu)return new uu(e.l,e.a,e.b,e.opacity);if(e instanceof nh)return yae(e);e instanceof Xa||(e=uae(e));var t=tC(e.r),r=tC(e.g),n=tC(e.b),a=Q8((.2225045*t+.7168786*r+.0606169*n)/dae),o,l;return t===r&&r===n?o=l=a:(o=Q8((.4360747*t+.3850649*r+.1430804*n)/fae),l=Q8((.0139322*t+.0971045*r+.7141733*n)/pae)),new uu(116*a-16,500*(o-a),200*(a-l),e.opacity)}function f$e(e,t,r,n){return arguments.length===1?vae(e):new uu(e,t,r,n??1)}function uu(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}r3(uu,f$e,B6(Rp,{brighter(e){return new uu(this.l+G5*(e??1),this.a,this.b,this.opacity)},darker(e){return new uu(this.l-G5*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=fae*J8(t),e=dae*J8(e),r=pae*J8(r),new Xa(eC(3.1338561*t-1.6168667*e-.4906146*r),eC(-.9787684*t+1.9161415*e+.033454*r),eC(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function Q8(e){return e>h$e?Math.pow(e,1/3):e/mae+gae}function J8(e){return e>ug?e*e*e:mae*(e-gae)}function eC(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function tC(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d$e(e){if(e instanceof nh)return new nh(e.h,e.c,e.l,e.opacity);if(e instanceof uu||(e=vae(e)),e.a===0&&e.b===0)return new nh(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*u$e;return new nh(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kR(e,t,r,n){return arguments.length===1?d$e(e):new nh(e,t,r,n??1)}function nh(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function yae(e){if(isNaN(e.h))return new uu(e.l,0,0,e.opacity);var t=e.h*c$e;return new uu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}r3(nh,kR,B6(Rp,{brighter(e){return new nh(this.h,this.c,this.l+G5*(e??1),this.opacity)},darker(e){return new nh(this.h,this.c,this.l-G5*(e??1),this.opacity)},rgb(){return yae(this).rgb()}}));const $6=e=>()=>e;function bae(e,t){return function(r){return e+r*t}}function p$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function g$e(e,t){var r=t-e;return r?bae(e,r>180||r<-180?r-360*Math.round(r/360):r):$6(isNaN(e)?t:e)}function m$e(e){return(e=+e)==1?z2:function(t,r){return r-t?p$e(t,r,e):$6(isNaN(t)?r:t)}}function z2(e,t){var r=t-e;return r?bae(e,r):$6(isNaN(e)?t:e)}const Y5=function e(t){var r=m$e(t);function n(a,o){var l=r((a=AR(a)).r,(o=AR(o)).r),c=r(a.g,o.g),u=r(a.b,o.b),h=z2(a.opacity,o.opacity);return function(f){return a.r=l(f),a.g=c(f),a.b=u(f),a.opacity=h(f),a+""}}return n.gamma=e,n}(1);function v$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function y$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function b$e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)a[l]=bL(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(c){for(l=0;l<n;++l)o[l]=a[l](c);return o}}function x$e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kl(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function T$e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bL(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var CR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rC=new RegExp(CR.source,"g");function w$e(e){return function(){return e}}function E$e(e){return function(t){return e(t)+""}}function xae(e,t){var r=CR.lastIndex=rC.lastIndex=0,n,a,o,l=-1,c=[],u=[];for(e=e+"",t=t+"";(n=CR.exec(e))&&(a=rC.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),c[l]?c[l]+=o:c[++l]=o),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,u.push({i:l,x:Kl(n,a)})),r=rC.lastIndex;return r<t.length&&(o=t.slice(r),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?E$e(u[0].x):w$e(t):(t=u.length,function(h){for(var f=0,d;f<t;++f)c[(d=u[f]).i]=d.x(h);return c.join("")})}function bL(e,t){var r=typeof t,n;return t==null||r==="boolean"?$6(t):(r==="number"?Kl:r==="string"?(n=Zd(t))?(t=n,Y5):xae:t instanceof Zd?Y5:t instanceof Date?x$e:y$e(t)?v$e:Array.isArray(t)?b$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T$e:Kl)(e,t)}function S$e(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var KU=180/Math.PI,IR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tae(e,t,r,n,a,o){var l,c,u;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(c=Math.sqrt(r*r+n*n))&&(r/=c,n/=c,u/=c),e*n<t*r&&(e=-e,t=-t,u=-u,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*KU,skewX:Math.atan(u)*KU,scaleX:l,scaleY:c}}var MT;function A$e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?IR:Tae(t.a,t.b,t.c,t.d,t.e,t.f)}function k$e(e){return e==null||(MT||(MT=document.createElementNS("http://www.w3.org/2000/svg","g")),MT.setAttribute("transform",e),!(e=MT.transform.baseVal.consolidate()))?IR:(e=e.matrix,Tae(e.a,e.b,e.c,e.d,e.e,e.f))}function wae(e,t,r,n){function a(h){return h.length?h.pop()+" ":""}function o(h,f,d,p,g,m){if(h!==d||f!==p){var y=g.push("translate(",null,t,null,r);m.push({i:y-4,x:Kl(h,d)},{i:y-2,x:Kl(f,p)})}else(d||p)&&g.push("translate("+d+t+p+r)}function l(h,f,d,p){h!==f?(h-f>180?f+=360:f-h>180&&(h+=360),p.push({i:d.push(a(d)+"rotate(",null,n)-2,x:Kl(h,f)})):f&&d.push(a(d)+"rotate("+f+n)}function c(h,f,d,p){h!==f?p.push({i:d.push(a(d)+"skewX(",null,n)-2,x:Kl(h,f)}):f&&d.push(a(d)+"skewX("+f+n)}function u(h,f,d,p,g,m){if(h!==d||f!==p){var y=g.push(a(g)+"scale(",null,",",null,")");m.push({i:y-4,x:Kl(h,d)},{i:y-2,x:Kl(f,p)})}else(d!==1||p!==1)&&g.push(a(g)+"scale("+d+","+p+")")}return function(h,f){var d=[],p=[];return h=e(h),f=e(f),o(h.translateX,h.translateY,f.translateX,f.translateY,d,p),l(h.rotate,f.rotate,d,p),c(h.skewX,f.skewX,d,p),u(h.scaleX,h.scaleY,f.scaleX,f.scaleY,d,p),h=f=null,function(g){for(var m=-1,y=p.length,b;++m<y;)d[(b=p[m]).i]=b.x(g);return d.join("")}}}var C$e=wae(A$e,"px, ","px)","deg)"),I$e=wae(k$e,", ",")",")");function R$e(e){return function(t,r){var n=e((t=kR(t)).h,(r=kR(r)).h),a=z2(t.c,r.c),o=z2(t.l,r.l),l=z2(t.opacity,r.opacity);return function(c){return t.h=n(c),t.c=a(c),t.l=o(c),t.opacity=l(c),t+""}}}const O$e=R$e(g$e);var Rm=0,r2=0,wy=0,Eae=1e3,V5,n2,q5=0,Qd=0,H6=0,Bb=typeof performance=="object"&&performance.now?performance:Date,Sae=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xL(){return Qd||(Sae(_$e),Qd=Bb.now()+H6)}function _$e(){Qd=0}function j5(){this._call=this._time=this._next=null}j5.prototype=Aae.prototype={constructor:j5,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?xL():+r)+(t==null?0:+t),!this._next&&n2!==this&&(n2?n2._next=this:V5=this,n2=this),this._call=e,this._time=r,RR()},stop:function(){this._call&&(this._call=null,this._time=1/0,RR())}};function Aae(e,t,r){var n=new j5;return n.restart(e,t,r),n}function N$e(){xL(),++Rm;for(var e=V5,t;e;)(t=Qd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Rm}function ZU(){Qd=(q5=Bb.now())+H6,Rm=r2=0;try{N$e()}finally{Rm=0,M$e(),Qd=0}}function L$e(){var e=Bb.now(),t=e-q5;t>Eae&&(H6-=t,q5=e)}function M$e(){for(var e,t=V5,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:V5=r);n2=e,RR(n)}function RR(e){if(!Rm){r2&&(r2=clearTimeout(r2));var t=e-Qd;t>24?(e<1/0&&(r2=setTimeout(ZU,e-Bb.now()-H6)),wy&&(wy=clearInterval(wy))):(wy||(q5=Bb.now(),wy=setInterval(L$e,Eae)),Rm=1,Sae(ZU))}}function QU(e,t,r){var n=new j5;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var D$e=Zie("start","end","cancel","interrupt"),P$e=[],kae=0,JU=1,OR=2,dw=3,eW=4,_R=5,pw=6;function U6(e,t,r,n,a,o){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;F$e(e,r,{name:t,index:n,group:a,on:D$e,tween:P$e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:kae})}function TL(e,t){var r=wc(e,t);if(r.state>kae)throw new Error("too late; already scheduled");return r}function xu(e,t){var r=wc(e,t);if(r.state>dw)throw new Error("too late; already running");return r}function wc(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function F$e(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=Aae(o,0,r.time);function o(h){r.state=JU,r.timer.restart(l,r.delay,r.time),r.delay<=h&&l(h-r.delay)}function l(h){var f,d,p,g;if(r.state!==JU)return u();for(f in n)if(g=n[f],g.name===r.name){if(g.state===dw)return QU(l);g.state===eW?(g.state=pw,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[f]):+f<t&&(g.state=pw,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[f])}if(QU(function(){r.state===dw&&(r.state=eW,r.timer.restart(c,r.delay,r.time),c(h))}),r.state=OR,r.on.call("start",e,e.__data__,r.index,r.group),r.state===OR){for(r.state=dw,a=new Array(p=r.tween.length),f=0,d=-1;f<p;++f)(g=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++d]=g);a.length=d+1}}function c(h){for(var f=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=_R,1),d=-1,p=a.length;++d<p;)a[d].call(e,f);r.state===_R&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=pw,r.timer.stop(),delete n[t];for(var h in n)return;delete e.__transition}}function B$e(e,t){var r=e.__transition,n,a,o=!0,l;if(r){t=t==null?null:t+"";for(l in r){if((n=r[l]).name!==t){o=!1;continue}a=n.state>OR&&n.state<_R,n.state=pw,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[l]}o&&delete e.__transition}}function $$e(e){return this.each(function(){B$e(this,e)})}function H$e(e,t){var r,n;return function(){var a=xu(this,e),o=a.tween;if(o!==r){n=r=o;for(var l=0,c=n.length;l<c;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}a.tween=n}}function U$e(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var o=xu(this,e),l=o.tween;if(l!==n){a=(n=l).slice();for(var c={name:t,value:r},u=0,h=a.length;u<h;++u)if(a[u].name===t){a[u]=c;break}u===h&&a.push(c)}o.tween=a}}function W$e(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=wc(this.node(),r).tween,a=0,o=n.length,l;a<o;++a)if((l=n[a]).name===e)return l.value;return null}return this.each((t==null?H$e:U$e)(r,e,t))}function wL(e,t,r){var n=e._id;return e.each(function(){var a=xu(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return wc(a,n).value[t]}}function Cae(e,t){var r;return(typeof t=="number"?Kl:t instanceof Zd?Y5:(r=Zd(t))?(t=r,Y5):xae)(e,t)}function z$e(e){return function(){this.removeAttribute(e)}}function G$e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Y$e(e,t,r){var n,a=r+"",o;return function(){var l=this.getAttribute(e);return l===a?null:l===n?o:o=t(n=l,r)}}function V$e(e,t,r){var n,a=r+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===n?o:o=t(n=l,r)}}function q$e(e,t,r){var n,a,o;return function(){var l,c=r(this),u;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=c+"",l===u?null:l===n&&u===a?o:(a=u,o=t(n=l,c)))}}function j$e(e,t,r){var n,a,o;return function(){var l,c=r(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=c+"",l===u?null:l===n&&u===a?o:(a=u,o=t(n=l,c)))}}function X$e(e,t){var r=F6(e),n=r==="transform"?I$e:Cae;return this.attrTween(e,typeof t=="function"?(r.local?j$e:q$e)(r,n,wL(this,"attr."+e,t)):t==null?(r.local?G$e:z$e)(r):(r.local?V$e:Y$e)(r,n,t))}function K$e(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Z$e(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Q$e(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Z$e(e,o)),r}return a._value=t,a}function J$e(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&K$e(e,o)),r}return a._value=t,a}function eHe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=F6(e);return this.tween(r,(n.local?Q$e:J$e)(n,t))}function tHe(e,t){return function(){TL(this,e).delay=+t.apply(this,arguments)}}function rHe(e,t){return t=+t,function(){TL(this,e).delay=t}}function nHe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tHe:rHe)(t,e)):wc(this.node(),t).delay}function iHe(e,t){return function(){xu(this,e).duration=+t.apply(this,arguments)}}function aHe(e,t){return t=+t,function(){xu(this,e).duration=t}}function sHe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iHe:aHe)(t,e)):wc(this.node(),t).duration}function oHe(e,t){if(typeof t!="function")throw new Error;return function(){xu(this,e).ease=t}}function lHe(e){var t=this._id;return arguments.length?this.each(oHe(t,e)):wc(this.node(),t).ease}function cHe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;xu(this,e).ease=r}}function uHe(e){if(typeof e!="function")throw new Error;return this.each(cHe(this._id,e))}function hHe(e){typeof e!="function"&&(e=eae(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],l=o.length,c=n[a]=[],u,h=0;h<l;++h)(u=o[h])&&e.call(u,u.__data__,h,o)&&c.push(u);return new yh(n,this._parents,this._name,this._id)}function fHe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),l=new Array(n),c=0;c<o;++c)for(var u=t[c],h=r[c],f=u.length,d=l[c]=new Array(f),p,g=0;g<f;++g)(p=u[g]||h[g])&&(d[g]=p);for(;c<n;++c)l[c]=t[c];return new yh(l,this._parents,this._name,this._id)}function dHe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function pHe(e,t,r){var n,a,o=dHe(t)?TL:xu;return function(){var l=o(this,e),c=l.on;c!==n&&(a=(n=c).copy()).on(t,r),l.on=a}}function gHe(e,t){var r=this._id;return arguments.length<2?wc(this.node(),r).on.on(e):this.each(pHe(r,e,t))}function mHe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function vHe(){return this.on("end.remove",mHe(this._id))}function yHe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=vL(e));for(var n=this._groups,a=n.length,o=new Array(a),l=0;l<a;++l)for(var c=n[l],u=c.length,h=o[l]=new Array(u),f,d,p=0;p<u;++p)(f=c[p])&&(d=e.call(f,f.__data__,p,c))&&("__data__"in f&&(d.__data__=f.__data__),h[p]=d,U6(h[p],t,r,p,h,wc(f,r)));return new yh(o,this._parents,t,r)}function bHe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Jie(e));for(var n=this._groups,a=n.length,o=[],l=[],c=0;c<a;++c)for(var u=n[c],h=u.length,f,d=0;d<h;++d)if(f=u[d]){for(var p=e.call(f,f.__data__,d,u),g,m=wc(f,r),y=0,b=p.length;y<b;++y)(g=p[y])&&U6(g,t,r,y,p,m);o.push(p),l.push(f)}return new yh(o,l,t,r)}var xHe=t3.prototype.constructor;function THe(){return new xHe(this._groups,this._parents)}function wHe(e,t){var r,n,a;return function(){var o=Im(this,e),l=(this.style.removeProperty(e),Im(this,e));return o===l?null:o===r&&l===n?a:a=t(r=o,n=l)}}function Iae(e){return function(){this.style.removeProperty(e)}}function EHe(e,t,r){var n,a=r+"",o;return function(){var l=Im(this,e);return l===a?null:l===n?o:o=t(n=l,r)}}function SHe(e,t,r){var n,a,o;return function(){var l=Im(this,e),c=r(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),Im(this,e))),l===u?null:l===n&&u===a?o:(a=u,o=t(n=l,c))}}function AHe(e,t){var r,n,a,o="style."+t,l="end."+o,c;return function(){var u=xu(this,e),h=u.on,f=u.value[o]==null?c||(c=Iae(t)):void 0;(h!==r||a!==f)&&(n=(r=h).copy()).on(l,a=f),u.on=n}}function kHe(e,t,r){var n=(e+="")=="transform"?C$e:Cae;return t==null?this.styleTween(e,wHe(e,n)).on("end.style."+e,Iae(e)):typeof t=="function"?this.styleTween(e,SHe(e,n,wL(this,"style."+e,t))).each(AHe(this._id,e)):this.styleTween(e,EHe(e,n,t),r).on("end.style."+e,null)}function CHe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function IHe(e,t,r){var n,a;function o(){var l=t.apply(this,arguments);return l!==a&&(n=(a=l)&&CHe(e,l,r)),n}return o._value=t,o}function RHe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,IHe(e,t,r??""))}function OHe(e){return function(){this.textContent=e}}function _He(e){return function(){var t=e(this);this.textContent=t??""}}function NHe(e){return this.tween("text",typeof e=="function"?_He(wL(this,"text",e)):OHe(e==null?"":e+""))}function LHe(e){return function(t){this.textContent=e.call(this,t)}}function MHe(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&LHe(a)),t}return n._value=e,n}function DHe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,MHe(e))}function PHe(){for(var e=this._name,t=this._id,r=Rae(),n=this._groups,a=n.length,o=0;o<a;++o)for(var l=n[o],c=l.length,u,h=0;h<c;++h)if(u=l[h]){var f=wc(u,t);U6(u,e,r,h,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new yh(n,this._parents,e,r)}function FHe(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(o,l){var c={value:l},u={value:function(){--a===0&&o()}};r.each(function(){var h=xu(this,n),f=h.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),h.on=t}),a===0&&o()})}var BHe=0;function yh(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Rae(){return++BHe}var Fu=t3.prototype;yh.prototype={constructor:yh,select:yHe,selectAll:bHe,selectChild:Fu.selectChild,selectChildren:Fu.selectChildren,filter:hHe,merge:fHe,selection:THe,transition:PHe,call:Fu.call,nodes:Fu.nodes,node:Fu.node,size:Fu.size,empty:Fu.empty,each:Fu.each,on:gHe,attr:X$e,attrTween:eHe,style:kHe,styleTween:RHe,text:NHe,textTween:DHe,remove:vHe,tween:W$e,delay:nHe,duration:sHe,ease:lHe,easeVarying:uHe,end:FHe,[Symbol.iterator]:Fu[Symbol.iterator]};function $He(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var HHe={time:null,delay:0,duration:250,ease:$He};function UHe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function WHe(e){var t,r;e instanceof yh?(t=e._id,e=e._name):(t=Rae(),(r=HHe).time=xL(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var l=n[o],c=l.length,u,h=0;h<c;++h)(u=l[h])&&U6(u,e,t,h,l,r||UHe(u,t));return new yh(n,this._parents,e,t)}t3.prototype.interrupt=$$e;t3.prototype.transition=WHe;const NR=Math.PI,LR=2*NR,nd=1e-6,zHe=LR-nd;function Oae(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GHe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Oae;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}let YHe=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Oae:GHe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,u=n-t,h=a-r,f=l-t,d=c-r,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>nd)if(!(Math.abs(d*u-h*f)>nd)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-l,m=a-c,y=u*u+h*h,b=g*g+m*m,x=Math.sqrt(y),T=Math.sqrt(p),w=o*Math.tan((NR-Math.acos((y+p-b)/(2*x*T)))/2),E=w/T,S=w/x;Math.abs(E-1)>nd&&this._append`L${t+E*f},${r+E*d}`,this._append`A${o},${o},0,0,${+(d*g>f*m)},${this._x1=t+S*u},${this._y1=r+S*h}`}}arc(t,r,n,a,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),u=n*Math.sin(a),h=t+c,f=r+u,d=1^l,p=l?a-o:o-a;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>nd||Math.abs(this._y1-f)>nd)&&this._append`L${h},${f}`,n&&(p<0&&(p=p%LR+LR),p>zHe?this._append`A${n},${n},0,1,${d},${t-c},${r-u}A${n},${n},0,1,${d},${this._x1=h},${this._y1=f}`:p>nd&&this._append`A${n},${n},0,${+(p>=NR)},${d},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};function VHe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function X5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Om(e){return e=X5(Math.abs(e)),e?e[1]:NaN}function qHe(e,t){return function(r,n){for(var a=r.length,o=[],l=0,c=e[0],u=0;a>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),o.push(r.substring(a-=c,a+c)),!((u+=c+1)>n));)c=e[l=(l+1)%e.length];return o.reverse().join(t)}}function jHe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var XHe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function K5(e){if(!(t=XHe.exec(e)))throw new Error("invalid format: "+e);var t;return new EL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}K5.prototype=EL.prototype;function EL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}EL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KHe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var _ae;function ZHe(e,t){var r=X5(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(_ae=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+X5(e,Math.max(0,t+o-1))[0]}function tW(e,t){var r=X5(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const rW={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VHe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tW(e*100,t),r:tW,s:ZHe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nW(e){return e}var iW=Array.prototype.map,aW=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function QHe(e){var t=e.grouping===void 0||e.thousands===void 0?nW:qHe(iW.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?nW:jHe(iW.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(d){d=K5(d);var p=d.fill,g=d.align,m=d.sign,y=d.symbol,b=d.zero,x=d.width,T=d.comma,w=d.precision,E=d.trim,S=d.type;S==="n"?(T=!0,S="g"):rW[S]||(w===void 0&&(w=12),E=!0,S="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var C=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=y==="$"?n:/[%p]/.test(S)?l:"",O=rW[S],I=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(R){var M=C,$=k,N,P,F;if(S==="c")$=O(R)+$,R="";else{R=+R;var L=R<0||1/R<0;if(R=isNaN(R)?u:O(Math.abs(R),w),E&&(R=KHe(R)),L&&+R==0&&m!=="+"&&(L=!1),M=(L?m==="("?m:c:m==="-"||m==="("?"":m)+M,$=(S==="s"?aW[8+_ae/3]:"")+$+(L&&m==="("?")":""),I){for(N=-1,P=R.length;++N<P;)if(F=R.charCodeAt(N),48>F||F>57){$=(F===46?a+R.slice(N+1):R.slice(N))+$,R=R.slice(0,N);break}}}T&&!b&&(R=t(R,1/0));var D=M.length+R.length+$.length,B=D<x?new Array(x-D+1).join(p):"";switch(T&&b&&(R=t(B+R,B.length?x-$.length:1/0),B=""),g){case"<":R=M+R+$+B;break;case"=":R=M+B+R+$;break;case"^":R=B.slice(0,D=B.length>>1)+M+R+$+B.slice(D);break;default:R=B+M+R+$;break}return o(R)}return _.toString=function(){return d+""},_}function f(d,p){var g=h((d=K5(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Om(p)/3)))*3,y=Math.pow(10,-m),b=aW[8+m/3];return function(x){return g(y*x)+b}}return{format:h,formatPrefix:f}}var DT,Nae,Lae;JHe({thousands:",",grouping:[3],currency:["$",""]});function JHe(e){return DT=QHe(e),Nae=DT.format,Lae=DT.formatPrefix,DT}function eUe(e){return Math.max(0,-Om(Math.abs(e)))}function tUe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Om(t)/3)))*3-Om(Math.abs(e)))}function rUe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Om(t)-Om(e))+1}function W6(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const sW=Symbol("implicit");function z6(){var e=new FU,t=[],r=[],n=sW;function a(o){let l=e.get(o);if(l===void 0){if(n!==sW)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new FU;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return z6(t,r).unknown(n)},W6.apply(a,arguments),a}function MR(){var e=z6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,l,c=!1,u=0,h=0,f=.5;delete e.unknown;function d(){var p=t().length,g=a<n,m=g?a:n,y=g?n:a;o=(y-m)/Math.max(1,p-u+h*2),c&&(o=Math.floor(o)),m+=(y-m-o*(p-u))*f,l=o*(1-u),c&&(m=Math.round(m),l=Math.round(l));var b=lFe(p).map(function(x){return m+o*x});return r(g?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,c=!0,d()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(p){return arguments.length?(c=!!p,d()):c},e.padding=function(p){return arguments.length?(u=Math.min(1,h=+p),d()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),d()):u},e.paddingOuter=function(p){return arguments.length?(h=+p,d()):h},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},e.copy=function(){return MR(t(),[n,a]).round(c).paddingInner(u).paddingOuter(h).align(f)},W6.apply(d(),arguments)}function nUe(e){return function(){return e}}function iUe(e){return+e}var oW=[0,1];function $1(e){return e}function DR(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nUe(isNaN(t)?NaN:.5)}function aUe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sUe(e,t,r){var n=e[0],a=e[1],o=t[0],l=t[1];return a<n?(n=DR(a,n),o=r(l,o)):(n=DR(n,a),o=r(o,l)),function(c){return o(n(c))}}function oUe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=DR(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(c){var u=QPe(e,c,1,n)-1;return o[u](a[u](c))}}function Mae(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lUe(){var e=oW,t=oW,r=bL,n,a,o,l=$1,c,u,h;function f(){var p=Math.min(e.length,t.length);return l!==$1&&(l=aUe(e[0],e[p-1])),c=p>2?oUe:sUe,u=h=null,d}function d(p){return p==null||isNaN(p=+p)?o:(u||(u=c(e.map(n),t,r)))(n(l(p)))}return d.invert=function(p){return l(a((h||(h=c(t,e.map(n),Kl)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,iUe),f()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=S$e,f()},d.clamp=function(p){return arguments.length?(l=p?!0:$1,f()):l!==$1},d.interpolate=function(p){return arguments.length?(r=p,f()):r},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,g){return n=p,a=g,f()}}function Dae(){return lUe()($1,$1)}function cUe(e,t,r,n){var a=wR(e,t,r),o;switch(n=K5(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=tUe(a,l))&&(n.precision=o),Lae(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=rUe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=eUe(a))&&(n.precision=o-(n.type==="%")*2);break}}return Nae(n)}function uUe(e){var t=e.domain;return e.ticks=function(r){var n=t();return aFe(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return cUe(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,l=n[a],c=n[o],u,h,f=10;for(c<l&&(h=l,l=c,c=h,h=a,a=o,o=h);f-- >0;){if(h=TR(l,c,r),h===u)return n[a]=l,n[o]=c,t(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;u=h}return e},e}function _m(){var e=Dae();return e.copy=function(){return Mae(e,_m())},W6.apply(e,arguments),uUe(e)}function hUe(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],l;return o<a&&(l=r,r=n,n=l,l=a,a=o,o=l),e[r]=t.floor(a),e[n]=t.ceil(o),e}const nC=new Date,iC=new Date;function Ki(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const u=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return u;let h;do u.push(h=new Date(+o)),t(o,c),e(o);while(h<o&&o<l);return u},a.filter=o=>Ki(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!o(l););else for(;--c>=0;)for(;t(l,1),!o(l););}),r&&(a.count=(o,l)=>(nC.setTime(+o),iC.setTime(+l),e(nC),e(iC),Math.floor(r(nC,iC))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?l=>n(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const Nm=Ki(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Nm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ki(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Nm);Nm.range;const ih=1e3,hl=ih*60,ah=hl*60,bh=ah*24,SL=bh*7,lW=bh*30,aC=bh*365,k0=Ki(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ih)},(e,t)=>(t-e)/ih,e=>e.getUTCSeconds());k0.range;const $b=Ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ih)},(e,t)=>{e.setTime(+e+t*hl)},(e,t)=>(t-e)/hl,e=>e.getMinutes());$b.range;const fUe=Ki(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hl)},(e,t)=>(t-e)/hl,e=>e.getUTCMinutes());fUe.range;const Hb=Ki(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ih-e.getMinutes()*hl)},(e,t)=>{e.setTime(+e+t*ah)},(e,t)=>(t-e)/ah,e=>e.getHours());Hb.range;const dUe=Ki(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ah)},(e,t)=>(t-e)/ah,e=>e.getUTCHours());dUe.range;const Jd=Ki(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hl)/bh,e=>e.getDate()-1);Jd.range;const AL=Ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bh,e=>e.getUTCDate()-1);AL.range;const pUe=Ki(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bh,e=>Math.floor(e/bh));pUe.range;function Op(e){return Ki(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hl)/SL)}const n3=Op(0),Ub=Op(1),Pae=Op(2),Fae=Op(3),ep=Op(4),Bae=Op(5),$ae=Op(6);n3.range;Ub.range;Pae.range;Fae.range;ep.range;Bae.range;$ae.range;function _p(e){return Ki(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/SL)}const Hae=_p(0),Z5=_p(1),gUe=_p(2),mUe=_p(3),Lm=_p(4),vUe=_p(5),yUe=_p(6);Hae.range;Z5.range;gUe.range;mUe.range;Lm.range;vUe.range;yUe.range;const Wb=Ki(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Wb.range;const bUe=Ki(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bUe.range;const xh=Ki(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ki(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xh.range;const tp=Ki(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ki(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});tp.range;function xUe(e,t,r,n,a,o){const l=[[k0,1,ih],[k0,5,5*ih],[k0,15,15*ih],[k0,30,30*ih],[o,1,hl],[o,5,5*hl],[o,15,15*hl],[o,30,30*hl],[a,1,ah],[a,3,3*ah],[a,6,6*ah],[a,12,12*ah],[n,1,bh],[n,2,2*bh],[r,1,SL],[t,1,lW],[t,3,3*lW],[e,1,aC]];function c(h,f,d){const p=f<h;p&&([h,f]=[f,h]);const g=d&&typeof d.range=="function"?d:u(h,f,d),m=g?g.range(h,+f+1):[];return p?m.reverse():m}function u(h,f,d){const p=Math.abs(f-h)/d,g=mL(([,,b])=>b).right(l,p);if(g===l.length)return e.every(wR(h/aC,f/aC,d));if(g===0)return Nm.every(Math.max(wR(h,f,d),1));const[m,y]=l[p/l[g-1][2]<l[g][2]/p?g-1:g];return m.every(y)}return[c,u]}const[TUe,wUe]=xUe(xh,Wb,n3,Jd,Hb,$b);function sC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ey(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function EUe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,l=e.shortDays,c=e.months,u=e.shortMonths,h=Sy(a),f=Ay(a),d=Sy(o),p=Ay(o),g=Sy(l),m=Ay(l),y=Sy(c),b=Ay(c),x=Sy(u),T=Ay(u),w={a:L,A:D,b:B,B:H,c:null,d:pW,e:pW,f:VUe,g:rWe,G:iWe,H:zUe,I:GUe,j:YUe,L:Uae,m:qUe,M:jUe,p:U,q:G,Q:vW,s:yW,S:XUe,u:KUe,U:ZUe,V:QUe,w:JUe,W:eWe,x:null,X:null,y:tWe,Y:nWe,Z:aWe,"%":mW},E={a:W,A:ee,b:ce,B:Z,c:null,d:gW,e:gW,f:cWe,g:bWe,G:TWe,H:sWe,I:oWe,j:lWe,L:zae,m:uWe,M:hWe,p:J,q:oe,Q:vW,s:yW,S:fWe,u:dWe,U:pWe,V:gWe,w:mWe,W:vWe,x:null,X:null,y:yWe,Y:xWe,Z:wWe,"%":mW},S={a:_,A:R,b:M,B:$,c:N,d:fW,e:fW,f:$Ue,g:hW,G:uW,H:dW,I:dW,j:DUe,L:BUe,m:MUe,M:PUe,p:I,q:LUe,Q:UUe,s:WUe,S:FUe,u:IUe,U:RUe,V:OUe,w:CUe,W:_Ue,x:P,X:F,y:hW,Y:uW,Z:NUe,"%":HUe};w.x=C(r,w),w.X=C(n,w),w.c=C(t,w),E.x=C(r,E),E.X=C(n,E),E.c=C(t,E);function C(Y,X){return function(K){var z=[],j=-1,te=0,re=Y.length,Se,ue,se;for(K instanceof Date||(K=new Date(+K));++j<re;)Y.charCodeAt(j)===37&&(z.push(Y.slice(te,j)),(ue=cW[Se=Y.charAt(++j)])!=null?Se=Y.charAt(++j):ue=Se==="e"?" ":"0",(se=X[Se])&&(Se=se(K,ue)),z.push(Se),te=j+1);return z.push(Y.slice(te,j)),z.join("")}}function k(Y,X){return function(K){var z=Ey(1900,void 0,1),j=O(z,Y,K+="",0),te,re;if(j!=K.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(X&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(te=oC(Ey(z.y,0,1)),re=te.getUTCDay(),te=re>4||re===0?Z5.ceil(te):Z5(te),te=AL.offset(te,(z.V-1)*7),z.y=te.getUTCFullYear(),z.m=te.getUTCMonth(),z.d=te.getUTCDate()+(z.w+6)%7):(te=sC(Ey(z.y,0,1)),re=te.getDay(),te=re>4||re===0?Ub.ceil(te):Ub(te),te=Jd.offset(te,(z.V-1)*7),z.y=te.getFullYear(),z.m=te.getMonth(),z.d=te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),re="Z"in z?oC(Ey(z.y,0,1)).getUTCDay():sC(Ey(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(re+5)%7:z.w+z.U*7-(re+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,oC(z)):sC(z)}}function O(Y,X,K,z){for(var j=0,te=X.length,re=K.length,Se,ue;j<te;){if(z>=re)return-1;if(Se=X.charCodeAt(j++),Se===37){if(Se=X.charAt(j++),ue=S[Se in cW?X.charAt(j++):Se],!ue||(z=ue(Y,K,z))<0)return-1}else if(Se!=K.charCodeAt(z++))return-1}return z}function I(Y,X,K){var z=h.exec(X.slice(K));return z?(Y.p=f.get(z[0].toLowerCase()),K+z[0].length):-1}function _(Y,X,K){var z=g.exec(X.slice(K));return z?(Y.w=m.get(z[0].toLowerCase()),K+z[0].length):-1}function R(Y,X,K){var z=d.exec(X.slice(K));return z?(Y.w=p.get(z[0].toLowerCase()),K+z[0].length):-1}function M(Y,X,K){var z=x.exec(X.slice(K));return z?(Y.m=T.get(z[0].toLowerCase()),K+z[0].length):-1}function $(Y,X,K){var z=y.exec(X.slice(K));return z?(Y.m=b.get(z[0].toLowerCase()),K+z[0].length):-1}function N(Y,X,K){return O(Y,t,X,K)}function P(Y,X,K){return O(Y,r,X,K)}function F(Y,X,K){return O(Y,n,X,K)}function L(Y){return l[Y.getDay()]}function D(Y){return o[Y.getDay()]}function B(Y){return u[Y.getMonth()]}function H(Y){return c[Y.getMonth()]}function U(Y){return a[+(Y.getHours()>=12)]}function G(Y){return 1+~~(Y.getMonth()/3)}function W(Y){return l[Y.getUTCDay()]}function ee(Y){return o[Y.getUTCDay()]}function ce(Y){return u[Y.getUTCMonth()]}function Z(Y){return c[Y.getUTCMonth()]}function J(Y){return a[+(Y.getUTCHours()>=12)]}function oe(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var X=C(Y+="",w);return X.toString=function(){return Y},X},parse:function(Y){var X=k(Y+="",!1);return X.toString=function(){return Y},X},utcFormat:function(Y){var X=C(Y+="",E);return X.toString=function(){return Y},X},utcParse:function(Y){var X=k(Y+="",!0);return X.toString=function(){return Y},X}}}var cW={"-":"",_:" ",0:"0"},ha=/^\s*\d+/,SUe=/^%/,AUe=/[\\^$*+?|[\]().{}]/g;function zr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function kUe(e){return e.replace(AUe,"\\$&")}function Sy(e){return new RegExp("^(?:"+e.map(kUe).join("|")+")","i")}function Ay(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CUe(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function IUe(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function RUe(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function OUe(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _Ue(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uW(e,t,r){var n=ha.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function NUe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function LUe(e,t,r){var n=ha.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function MUe(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function DUe(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dW(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function PUe(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FUe(e,t,r){var n=ha.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BUe(e,t,r){var n=ha.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $Ue(e,t,r){var n=ha.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function HUe(e,t,r){var n=SUe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function UUe(e,t,r){var n=ha.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WUe(e,t,r){var n=ha.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pW(e,t){return zr(e.getDate(),t,2)}function zUe(e,t){return zr(e.getHours(),t,2)}function GUe(e,t){return zr(e.getHours()%12||12,t,2)}function YUe(e,t){return zr(1+Jd.count(xh(e),e),t,3)}function Uae(e,t){return zr(e.getMilliseconds(),t,3)}function VUe(e,t){return Uae(e,t)+"000"}function qUe(e,t){return zr(e.getMonth()+1,t,2)}function jUe(e,t){return zr(e.getMinutes(),t,2)}function XUe(e,t){return zr(e.getSeconds(),t,2)}function KUe(e){var t=e.getDay();return t===0?7:t}function ZUe(e,t){return zr(n3.count(xh(e)-1,e),t,2)}function Wae(e){var t=e.getDay();return t>=4||t===0?ep(e):ep.ceil(e)}function QUe(e,t){return e=Wae(e),zr(ep.count(xh(e),e)+(xh(e).getDay()===4),t,2)}function JUe(e){return e.getDay()}function eWe(e,t){return zr(Ub.count(xh(e)-1,e),t,2)}function tWe(e,t){return zr(e.getFullYear()%100,t,2)}function rWe(e,t){return e=Wae(e),zr(e.getFullYear()%100,t,2)}function nWe(e,t){return zr(e.getFullYear()%1e4,t,4)}function iWe(e,t){var r=e.getDay();return e=r>=4||r===0?ep(e):ep.ceil(e),zr(e.getFullYear()%1e4,t,4)}function aWe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zr(t/60|0,"0",2)+zr(t%60,"0",2)}function gW(e,t){return zr(e.getUTCDate(),t,2)}function sWe(e,t){return zr(e.getUTCHours(),t,2)}function oWe(e,t){return zr(e.getUTCHours()%12||12,t,2)}function lWe(e,t){return zr(1+AL.count(tp(e),e),t,3)}function zae(e,t){return zr(e.getUTCMilliseconds(),t,3)}function cWe(e,t){return zae(e,t)+"000"}function uWe(e,t){return zr(e.getUTCMonth()+1,t,2)}function hWe(e,t){return zr(e.getUTCMinutes(),t,2)}function fWe(e,t){return zr(e.getUTCSeconds(),t,2)}function dWe(e){var t=e.getUTCDay();return t===0?7:t}function pWe(e,t){return zr(Hae.count(tp(e)-1,e),t,2)}function Gae(e){var t=e.getUTCDay();return t>=4||t===0?Lm(e):Lm.ceil(e)}function gWe(e,t){return e=Gae(e),zr(Lm.count(tp(e),e)+(tp(e).getUTCDay()===4),t,2)}function mWe(e){return e.getUTCDay()}function vWe(e,t){return zr(Z5.count(tp(e)-1,e),t,2)}function yWe(e,t){return zr(e.getUTCFullYear()%100,t,2)}function bWe(e,t){return e=Gae(e),zr(e.getUTCFullYear()%100,t,2)}function xWe(e,t){return zr(e.getUTCFullYear()%1e4,t,4)}function TWe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lm(e):Lm.ceil(e),zr(e.getUTCFullYear()%1e4,t,4)}function wWe(){return"+0000"}function mW(){return"%"}function vW(e){return+e}function yW(e){return Math.floor(+e/1e3)}var n1,Q5;EWe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EWe(e){return n1=EUe(e),Q5=n1.format,n1.parse,n1.utcFormat,n1.utcParse,n1}function SWe(e){return new Date(e)}function AWe(e){return e instanceof Date?+e:+new Date(+e)}function Yae(e,t,r,n,a,o,l,c,u,h){var f=Dae(),d=f.invert,p=f.domain,g=h(".%L"),m=h(":%S"),y=h("%I:%M"),b=h("%I %p"),x=h("%a %d"),T=h("%b %d"),w=h("%B"),E=h("%Y");function S(C){return(u(C)<C?g:c(C)<C?m:l(C)<C?y:o(C)<C?b:n(C)<C?a(C)<C?x:T:r(C)<C?w:E)(C)}return f.invert=function(C){return new Date(d(C))},f.domain=function(C){return arguments.length?p(Array.from(C,AWe)):p().map(SWe)},f.ticks=function(C){var k=p();return e(k[0],k[k.length-1],C??10)},f.tickFormat=function(C,k){return k==null?S:h(k)},f.nice=function(C){var k=p();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?p(hUe(k,C)):f},f.copy=function(){return Mae(f,Yae(e,t,r,n,a,o,l,c,u,h))},f}function kWe(){return W6.apply(Yae(TUe,wUe,xh,Wb,n3,Jd,Hb,$b,k0,Q5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CWe(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const IWe=CWe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function pi(e){return function(){return e}}const bW=Math.abs,Da=Math.atan2,zf=Math.cos,RWe=Math.max,lC=Math.min,Oc=Math.sin,H1=Math.sqrt,$a=1e-12,zb=Math.PI,J5=zb/2,gw=2*zb;function OWe(e){return e>1?0:e<-1?zb:Math.acos(e)}function xW(e){return e>=1?J5:e<=-1?-J5:Math.asin(e)}function Vae(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new YHe(t)}function _We(e){return e.innerRadius}function NWe(e){return e.outerRadius}function LWe(e){return e.startAngle}function MWe(e){return e.endAngle}function DWe(e){return e&&e.padAngle}function PWe(e,t,r,n,a,o,l,c){var u=r-e,h=n-t,f=l-a,d=c-o,p=d*u-f*h;if(!(p*p<$a))return p=(f*(t-o)-d*(e-a))/p,[e+p*u,t+p*h]}function PT(e,t,r,n,a,o,l){var c=e-r,u=t-n,h=(l?o:-o)/H1(c*c+u*u),f=h*u,d=-h*c,p=e+f,g=t+d,m=r+f,y=n+d,b=(p+m)/2,x=(g+y)/2,T=m-p,w=y-g,E=T*T+w*w,S=a-o,C=p*y-m*g,k=(w<0?-1:1)*H1(RWe(0,S*S*E-C*C)),O=(C*w-T*k)/E,I=(-C*T-w*k)/E,_=(C*w+T*k)/E,R=(-C*T+w*k)/E,M=O-b,$=I-x,N=_-b,P=R-x;return M*M+$*$>N*N+P*P&&(O=_,I=R),{cx:O,cy:I,x01:-f,y01:-d,x11:O*(a/S-1),y11:I*(a/S-1)}}function Mm(){var e=_We,t=NWe,r=pi(0),n=null,a=LWe,o=MWe,l=DWe,c=null,u=Vae(h);function h(){var f,d,p=+e.apply(this,arguments),g=+t.apply(this,arguments),m=a.apply(this,arguments)-J5,y=o.apply(this,arguments)-J5,b=bW(y-m),x=y>m;if(c||(c=f=u()),g<p&&(d=g,g=p,p=d),!(g>$a))c.moveTo(0,0);else if(b>gw-$a)c.moveTo(g*zf(m),g*Oc(m)),c.arc(0,0,g,m,y,!x),p>$a&&(c.moveTo(p*zf(y),p*Oc(y)),c.arc(0,0,p,y,m,x));else{var T=m,w=y,E=m,S=y,C=b,k=b,O=l.apply(this,arguments)/2,I=O>$a&&(n?+n.apply(this,arguments):H1(p*p+g*g)),_=lC(bW(g-p)/2,+r.apply(this,arguments)),R=_,M=_,$,N;if(I>$a){var P=xW(I/p*Oc(O)),F=xW(I/g*Oc(O));(C-=P*2)>$a?(P*=x?1:-1,E+=P,S-=P):(C=0,E=S=(m+y)/2),(k-=F*2)>$a?(F*=x?1:-1,T+=F,w-=F):(k=0,T=w=(m+y)/2)}var L=g*zf(T),D=g*Oc(T),B=p*zf(S),H=p*Oc(S);if(_>$a){var U=g*zf(w),G=g*Oc(w),W=p*zf(E),ee=p*Oc(E),ce;if(b<zb)if(ce=PWe(L,D,W,ee,U,G,B,H)){var Z=L-ce[0],J=D-ce[1],oe=U-ce[0],Y=G-ce[1],X=1/Oc(OWe((Z*oe+J*Y)/(H1(Z*Z+J*J)*H1(oe*oe+Y*Y)))/2),K=H1(ce[0]*ce[0]+ce[1]*ce[1]);R=lC(_,(p-K)/(X-1)),M=lC(_,(g-K)/(X+1))}else R=M=0}k>$a?M>$a?($=PT(W,ee,L,D,g,M,x),N=PT(U,G,B,H,g,M,x),c.moveTo($.cx+$.x01,$.cy+$.y01),M<_?c.arc($.cx,$.cy,M,Da($.y01,$.x01),Da(N.y01,N.x01),!x):(c.arc($.cx,$.cy,M,Da($.y01,$.x01),Da($.y11,$.x11),!x),c.arc(0,0,g,Da($.cy+$.y11,$.cx+$.x11),Da(N.cy+N.y11,N.cx+N.x11),!x),c.arc(N.cx,N.cy,M,Da(N.y11,N.x11),Da(N.y01,N.x01),!x))):(c.moveTo(L,D),c.arc(0,0,g,T,w,!x)):c.moveTo(L,D),!(p>$a)||!(C>$a)?c.lineTo(B,H):R>$a?($=PT(B,H,U,G,p,-R,x),N=PT(L,D,W,ee,p,-R,x),c.lineTo($.cx+$.x01,$.cy+$.y01),R<_?c.arc($.cx,$.cy,R,Da($.y01,$.x01),Da(N.y01,N.x01),!x):(c.arc($.cx,$.cy,R,Da($.y01,$.x01),Da($.y11,$.x11),!x),c.arc(0,0,p,Da($.cy+$.y11,$.cx+$.x11),Da(N.cy+N.y11,N.cx+N.x11),x),c.arc(N.cx,N.cy,R,Da(N.y11,N.x11),Da(N.y01,N.x01),!x))):c.arc(0,0,p,S,E,x)}if(c.closePath(),f)return c=null,f+""||null}return h.centroid=function(){var f=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-zb/2;return[zf(d)*f,Oc(d)*f]},h.innerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:pi(+f),h):e},h.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:pi(+f),h):t},h.cornerRadius=function(f){return arguments.length?(r=typeof f=="function"?f:pi(+f),h):r},h.padRadius=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pi(+f),h):n},h.startAngle=function(f){return arguments.length?(a=typeof f=="function"?f:pi(+f),h):a},h.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:pi(+f),h):o},h.padAngle=function(f){return arguments.length?(l=typeof f=="function"?f:pi(+f),h):l},h.context=function(f){return arguments.length?(c=f??null,h):c},h}function qae(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jae(e){this._context=e}jae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xae(e){return new jae(e)}function FWe(e){return e[0]}function BWe(e){return e[1]}function rp(e,t){var r=pi(!0),n=null,a=Xae,o=null,l=Vae(c);e=typeof e=="function"?e:e===void 0?FWe:pi(e),t=typeof t=="function"?t:t===void 0?BWe:pi(t);function c(u){var h,f=(u=qae(u)).length,d,p=!1,g;for(n==null&&(o=a(g=l())),h=0;h<=f;++h)!(h<f&&r(d=u[h],h,u))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,h,u),+t(d,h,u));if(g)return o=null,g+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:pi(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:pi(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:pi(!!u),c):r},c.curve=function(u){return arguments.length?(a=u,n!=null&&(o=a(n)),c):a},c.context=function(u){return arguments.length?(u==null?n=o=null:o=a(n=u),c):n},c}function $We(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function HWe(e){return e}function UWe(){var e=HWe,t=$We,r=null,n=pi(0),a=pi(gw),o=pi(0);function l(c){var u,h=(c=qae(c)).length,f,d,p=0,g=new Array(h),m=new Array(h),y=+n.apply(this,arguments),b=Math.min(gw,Math.max(-gw,a.apply(this,arguments)-y)),x,T=Math.min(Math.abs(b)/h,o.apply(this,arguments)),w=T*(b<0?-1:1),E;for(u=0;u<h;++u)(E=m[g[u]=u]=+e(c[u],u,c))>0&&(p+=E);for(t!=null?g.sort(function(S,C){return t(m[S],m[C])}):r!=null&&g.sort(function(S,C){return r(c[S],c[C])}),u=0,d=p?(b-h*w)/p:0;u<h;++u,y=x)f=g[u],E=m[f],x=y+(E>0?E*d:0)+w,m[f]={data:c[f],index:u,value:E,startAngle:y,endAngle:x,padAngle:T};return m}return l.value=function(c){return arguments.length?(e=typeof c=="function"?c:pi(+c),l):e},l.sortValues=function(c){return arguments.length?(t=c,r=null,l):t},l.sort=function(c){return arguments.length?(r=c,t=null,l):r},l.startAngle=function(c){return arguments.length?(n=typeof c=="function"?c:pi(+c),l):n},l.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:pi(+c),l):a},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:pi(+c),l):o},l}class Kae{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WWe(e){return new Kae(e,!0)}function zWe(e){return new Kae(e,!1)}function j0(){}function eE(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function G6(e){this._context=e}G6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i3(e){return new G6(e)}function Zae(e){this._context=e}Zae.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GWe(e){return new Zae(e)}function Qae(e){this._context=e}Qae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eE(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YWe(e){return new Qae(e)}function Jae(e,t){this._basis=new G6(e),this._beta=t}Jae.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],o=e[r]-n,l=t[r]-a,c=-1,u;++c<=r;)u=c/r,this._basis.point(this._beta*e[c]+(1-this._beta)*(n+u*o),this._beta*t[c]+(1-this._beta)*(a+u*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const VWe=function e(t){function r(n){return t===1?new G6(n):new Jae(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function tE(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function kL(e,t){this._context=e,this._k=(1-t)/6}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tE(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:tE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qWe=function e(t){function r(n){return new kL(n,t)}return r.tension=function(n){return e(+n)},r}(0);function CL(e,t){this._context=e,this._k=(1-t)/6}CL.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:tE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jWe=function e(t){function r(n){return new CL(n,t)}return r.tension=function(n){return e(+n)},r}(0);function IL(e,t){this._context=e,this._k=(1-t)/6}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tE(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XWe=function e(t){function r(n){return new IL(n,t)}return r.tension=function(n){return e(+n)},r}(0);function RL(e,t,r){var n=e._x1,a=e._y1,o=e._x2,l=e._y2;if(e._l01_a>$a){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,a=(a*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>$a){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*h+e._x1*e._l23_2a-t*e._l12_2a)/f,l=(l*h+e._y1*e._l23_2a-r*e._l12_2a)/f}e._context.bezierCurveTo(n,a,o,l,e._x2,e._y2)}function ese(e,t){this._context=e,this._alpha=t}ese.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:RL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KWe=function e(t){function r(n){return t?new ese(n,t):new kL(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function tse(e,t){this._context=e,this._alpha=t}tse.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:RL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ZWe=function e(t){function r(n){return t?new tse(n,t):new CL(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function rse(e,t){this._context=e,this._alpha=t}rse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:RL(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const QWe=function e(t){function r(n){return t?new rse(n,t):new IL(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function nse(e){this._context=e}nse.prototype={areaStart:j0,areaEnd:j0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JWe(e){return new nse(e)}function TW(e){return e<0?-1:1}function wW(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(o*a+l*n)/(n+a);return(TW(o)+TW(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function EW(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cC(e,t,r){var n=e._x0,a=e._y0,o=e._x1,l=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,a+c*t,o-c,l-c*r,o,l)}function rE(e){this._context=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cC(this,this._t0,EW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cC(this,EW(this,r=wW(this,e,t)),r);break;default:cC(this,this._t0,r=wW(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ise(e){this._context=new ase(e)}(ise.prototype=Object.create(rE.prototype)).point=function(e,t){rE.prototype.point.call(this,t,e)};function ase(e){this._context=e}ase.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function eze(e){return new rE(e)}function tze(e){return new ise(e)}function sse(e){this._context=e}sse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=SW(e),a=SW(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SW(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),l=new Array(r);for(a[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function rze(e){return new sse(e)}function Y6(e,t){this._context=e,this._t=t}Y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nze(e){return new Y6(e,.5)}function ize(e){return new Y6(e,0)}function aze(e){return new Y6(e,1)}function i2(e,t,r){this.k=e,this.x=t,this.y=r}i2.prototype={constructor:i2,scale:function(e){return e===1?this:new i2(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new i2(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};i2.prototype;var ose=typeof global=="object"&&global&&global.Object===Object&&global,sze=typeof self=="object"&&self&&self.Object===Object&&self,Tu=ose||sze||Function("return this")(),Tl=Tu.Symbol,lse=Object.prototype,oze=lse.hasOwnProperty,lze=lse.toString,ky=Tl?Tl.toStringTag:void 0;function cze(e){var t=oze.call(e,ky),r=e[ky];try{e[ky]=void 0;var n=!0}catch{}var a=lze.call(e);return n&&(t?e[ky]=r:delete e[ky]),a}var uze=Object.prototype,hze=uze.toString;function fze(e){return hze.call(e)}var dze="[object Null]",pze="[object Undefined]",AW=Tl?Tl.toStringTag:void 0;function Hh(e){return e==null?e===void 0?pze:dze:AW&&AW in Object(e)?cze(e):fze(e)}function so(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gze="[object AsyncFunction]",mze="[object Function]",vze="[object GeneratorFunction]",yze="[object Proxy]";function wl(e){if(!so(e))return!1;var t=Hh(e);return t==mze||t==vze||t==gze||t==yze}var uC=Tu["__core-js_shared__"],kW=function(){var e=/[^.]+$/.exec(uC&&uC.keys&&uC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bze(e){return!!kW&&kW in e}var xze=Function.prototype,Tze=xze.toString;function Np(e){if(e!=null){try{return Tze.call(e)}catch{}try{return e+""}catch{}}return""}var wze=/[\\^$.*+?()[\]{}|]/g,Eze=/^\[object .+?Constructor\]$/,Sze=Function.prototype,Aze=Object.prototype,kze=Sze.toString,Cze=Aze.hasOwnProperty,Ize=RegExp("^"+kze.call(Cze).replace(wze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rze(e){if(!so(e)||bze(e))return!1;var t=wl(e)?Ize:Eze;return t.test(Np(e))}function Oze(e,t){return e==null?void 0:e[t]}function Lp(e,t){var r=Oze(e,t);return Rze(r)?r:void 0}var Gb=Lp(Object,"create");function _ze(){this.__data__=Gb?Gb(null):{},this.size=0}function Nze(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lze="__lodash_hash_undefined__",Mze=Object.prototype,Dze=Mze.hasOwnProperty;function Pze(e){var t=this.__data__;if(Gb){var r=t[e];return r===Lze?void 0:r}return Dze.call(t,e)?t[e]:void 0}var Fze=Object.prototype,Bze=Fze.hasOwnProperty;function $ze(e){var t=this.__data__;return Gb?t[e]!==void 0:Bze.call(t,e)}var Hze="__lodash_hash_undefined__";function Uze(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gb&&t===void 0?Hze:t,this}function np(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}np.prototype.clear=_ze;np.prototype.delete=Nze;np.prototype.get=Pze;np.prototype.has=$ze;np.prototype.set=Uze;function Wze(){this.__data__=[],this.size=0}function Ev(e,t){return e===t||e!==e&&t!==t}function V6(e,t){for(var r=e.length;r--;)if(Ev(e[r][0],t))return r;return-1}var zze=Array.prototype,Gze=zze.splice;function Yze(e){var t=this.__data__,r=V6(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Gze.call(t,r,1),--this.size,!0}function Vze(e){var t=this.__data__,r=V6(t,e);return r<0?void 0:t[r][1]}function qze(e){return V6(this.__data__,e)>-1}function jze(e,t){var r=this.__data__,n=V6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Uh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uh.prototype.clear=Wze;Uh.prototype.delete=Yze;Uh.prototype.get=Vze;Uh.prototype.has=qze;Uh.prototype.set=jze;var Yb=Lp(Tu,"Map");function Xze(){this.size=0,this.__data__={hash:new np,map:new(Yb||Uh),string:new np}}function Kze(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q6(e,t){var r=e.__data__;return Kze(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Zze(e){var t=q6(this,e).delete(e);return this.size-=t?1:0,t}function Qze(e){return q6(this,e).get(e)}function Jze(e){return q6(this,e).has(e)}function eGe(e,t){var r=q6(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Wh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wh.prototype.clear=Xze;Wh.prototype.delete=Zze;Wh.prototype.get=Qze;Wh.prototype.has=Jze;Wh.prototype.set=eGe;var tGe="Expected a function";function Sv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tGe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var l=e.apply(this,n);return r.cache=o.set(a,l)||o,l};return r.cache=new(Sv.Cache||Wh),r}Sv.Cache=Wh;function rGe(){this.__data__=new Uh,this.size=0}function nGe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function iGe(e){return this.__data__.get(e)}function aGe(e){return this.__data__.has(e)}var sGe=200;function oGe(e,t){var r=this.__data__;if(r instanceof Uh){var n=r.__data__;if(!Yb||n.length<sGe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wh(n)}return r.set(e,t),this.size=r.size,this}function ac(e){var t=this.__data__=new Uh(e);this.size=t.size}ac.prototype.clear=rGe;ac.prototype.delete=nGe;ac.prototype.get=iGe;ac.prototype.has=aGe;ac.prototype.set=oGe;var nE=function(){try{var e=Lp(Object,"defineProperty");return e({},"",{}),e}catch{}}();function a3(e,t,r){t=="__proto__"&&nE?nE(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function PR(e,t,r){(r!==void 0&&!Ev(e[t],r)||r===void 0&&!(t in e))&&a3(e,t,r)}function lGe(e){return function(t,r,n){for(var a=-1,o=Object(t),l=n(t),c=l.length;c--;){var u=l[++a];if(r(o[u],u,o)===!1)break}return t}}var OL=lGe(),cse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CW=cse&&typeof module=="object"&&module&&!module.nodeType&&module,cGe=CW&&CW.exports===cse,IW=cGe?Tu.Buffer:void 0,RW=IW?IW.allocUnsafe:void 0;function use(e,t){if(t)return e.slice();var r=e.length,n=RW?RW(r):new e.constructor(r);return e.copy(n),n}var iE=Tu.Uint8Array;function _L(e){var t=new e.constructor(e.byteLength);return new iE(t).set(new iE(e)),t}function hse(e,t){var r=t?_L(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function fse(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var OW=Object.create,uGe=function(){function e(){}return function(t){if(!so(t))return{};if(OW)return OW(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function dse(e,t){return function(r){return e(t(r))}}var NL=dse(Object.getPrototypeOf,Object),hGe=Object.prototype;function s3(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hGe;return e===r}function pse(e){return typeof e.constructor=="function"&&!s3(e)?uGe(NL(e)):{}}function El(e){return e!=null&&typeof e=="object"}var fGe="[object Arguments]";function _W(e){return El(e)&&Hh(e)==fGe}var gse=Object.prototype,dGe=gse.hasOwnProperty,pGe=gse.propertyIsEnumerable,Dm=_W(function(){return arguments}())?_W:function(e){return El(e)&&dGe.call(e,"callee")&&!pGe.call(e,"callee")},Er=Array.isArray,gGe=9007199254740991;function LL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gGe}function wu(e){return e!=null&&LL(e.length)&&!wl(e)}function aE(e){return El(e)&&wu(e)}function mGe(){return!1}var mse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NW=mse&&typeof module=="object"&&module&&!module.nodeType&&module,vGe=NW&&NW.exports===mse,LW=vGe?Tu.Buffer:void 0,yGe=LW?LW.isBuffer:void 0,Pm=yGe||mGe,bGe="[object Object]",xGe=Function.prototype,TGe=Object.prototype,vse=xGe.toString,wGe=TGe.hasOwnProperty,EGe=vse.call(Object);function SGe(e){if(!El(e)||Hh(e)!=bGe)return!1;var t=NL(e);if(t===null)return!0;var r=wGe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&vse.call(r)==EGe}var AGe="[object Arguments]",kGe="[object Array]",CGe="[object Boolean]",IGe="[object Date]",RGe="[object Error]",OGe="[object Function]",_Ge="[object Map]",NGe="[object Number]",LGe="[object Object]",MGe="[object RegExp]",DGe="[object Set]",PGe="[object String]",FGe="[object WeakMap]",BGe="[object ArrayBuffer]",$Ge="[object DataView]",HGe="[object Float32Array]",UGe="[object Float64Array]",WGe="[object Int8Array]",zGe="[object Int16Array]",GGe="[object Int32Array]",YGe="[object Uint8Array]",VGe="[object Uint8ClampedArray]",qGe="[object Uint16Array]",jGe="[object Uint32Array]",kn={};kn[HGe]=kn[UGe]=kn[WGe]=kn[zGe]=kn[GGe]=kn[YGe]=kn[VGe]=kn[qGe]=kn[jGe]=!0;kn[AGe]=kn[kGe]=kn[BGe]=kn[CGe]=kn[$Ge]=kn[IGe]=kn[RGe]=kn[OGe]=kn[_Ge]=kn[NGe]=kn[LGe]=kn[MGe]=kn[DGe]=kn[PGe]=kn[FGe]=!1;function XGe(e){return El(e)&&LL(e.length)&&!!kn[Hh(e)]}function o3(e){return function(t){return e(t)}}var yse=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G2=yse&&typeof module=="object"&&module&&!module.nodeType&&module,KGe=G2&&G2.exports===yse,hC=KGe&&ose.process,X0=function(){try{var e=G2&&G2.require&&G2.require("util").types;return e||hC&&hC.binding&&hC.binding("util")}catch{}}(),MW=X0&&X0.isTypedArray,j6=MW?o3(MW):XGe;function FR(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ZGe=Object.prototype,QGe=ZGe.hasOwnProperty;function l3(e,t,r){var n=e[t];(!(QGe.call(e,t)&&Ev(n,r))||r===void 0&&!(t in e))&&a3(e,t,r)}function Av(e,t,r,n){var a=!r;r||(r={});for(var o=-1,l=t.length;++o<l;){var c=t[o],u=void 0;u===void 0&&(u=e[c]),a?a3(r,c,u):l3(r,c,u)}return r}function JGe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var eYe=9007199254740991,tYe=/^(?:0|[1-9]\d*)$/;function X6(e,t){var r=typeof e;return t=t??eYe,!!t&&(r=="number"||r!="symbol"&&tYe.test(e))&&e>-1&&e%1==0&&e<t}var rYe=Object.prototype,nYe=rYe.hasOwnProperty;function bse(e,t){var r=Er(e),n=!r&&Dm(e),a=!r&&!n&&Pm(e),o=!r&&!n&&!a&&j6(e),l=r||n||a||o,c=l?JGe(e.length,String):[],u=c.length;for(var h in e)(t||nYe.call(e,h))&&!(l&&(h=="length"||a&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||X6(h,u)))&&c.push(h);return c}function iYe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var aYe=Object.prototype,sYe=aYe.hasOwnProperty;function oYe(e){if(!so(e))return iYe(e);var t=s3(e),r=[];for(var n in e)n=="constructor"&&(t||!sYe.call(e,n))||r.push(n);return r}function Mp(e){return wu(e)?bse(e,!0):oYe(e)}function lYe(e){return Av(e,Mp(e))}function cYe(e,t,r,n,a,o,l){var c=FR(e,r),u=FR(t,r),h=l.get(u);if(h){PR(e,r,h);return}var f=o?o(c,u,r+"",e,t,l):void 0,d=f===void 0;if(d){var p=Er(u),g=!p&&Pm(u),m=!p&&!g&&j6(u);f=u,p||g||m?Er(c)?f=c:aE(c)?f=fse(c):g?(d=!1,f=use(u,!0)):m?(d=!1,f=hse(u,!0)):f=[]:SGe(u)||Dm(u)?(f=c,Dm(c)?f=lYe(c):(!so(c)||wl(c))&&(f=pse(u))):d=!1}d&&(l.set(u,f),a(f,u,n,o,l),l.delete(u)),PR(e,r,f)}function xse(e,t,r,n,a){e!==t&&OL(t,function(o,l){if(a||(a=new ac),so(o))cYe(e,t,l,r,xse,n,a);else{var c=n?n(FR(e,l),o,l+"",e,t,a):void 0;c===void 0&&(c=o),PR(e,l,c)}},Mp)}function Th(e){return e}function uYe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var DW=Math.max;function Tse(e,t,r){return t=DW(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=DW(n.length-t,0),l=Array(o);++a<o;)l[a]=n[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=n[a];return c[t]=r(l),uYe(e,this,c)}}function U1(e){return function(){return e}}var hYe=nE?function(e,t){return nE(e,"toString",{configurable:!0,enumerable:!1,value:U1(t),writable:!0})}:Th,fYe=800,dYe=16,pYe=Date.now;function gYe(e){var t=0,r=0;return function(){var n=pYe(),a=dYe-(n-r);if(r=n,a>0){if(++t>=fYe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wse=gYe(hYe);function c3(e,t){return wse(Tse(e,t,Th),e+"")}function Vb(e,t,r){if(!so(r))return!1;var n=typeof t;return(n=="number"?wu(r)&&X6(t,r.length):n=="string"&&t in r)?Ev(r[t],e):!1}function Ese(e){return c3(function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,l&&Vb(r[0],r[1],l)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var c=r[n];c&&e(t,c,n,o)}return t})}var sE=Ese(function(e,t,r){xse(e,t,r)}),Sse="​",mYe={curveBasis:i3,curveBasisClosed:GWe,curveBasisOpen:YWe,curveBumpX:WWe,curveBumpY:zWe,curveBundle:VWe,curveCardinalClosed:jWe,curveCardinalOpen:XWe,curveCardinal:qWe,curveCatmullRomClosed:ZWe,curveCatmullRomOpen:QWe,curveCatmullRom:KWe,curveLinear:Xae,curveLinearClosed:JWe,curveMonotoneX:eze,curveMonotoneY:tze,curveNatural:rze,curveStep:nze,curveStepAfter:aze,curveStepBefore:ize},vYe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,yYe=A(function(e,t){const r=Ase(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const l=r.map(c=>c.args);R5(l),n=Ui(n,[...l])}else n=r.args;if(!n)return;let a=J9(e,t);const o="config";return n[o]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),n[a]=n[o],delete n[o]),n},"detectInit"),Ase=A(function(e,t=null){var r,n;try{const a=new RegExp(`[%]{2}(?![{]${vYe.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(a,"").replace(/'/gm,'"'),me.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let o;const l=[];for(;(o=U2.exec(e))!==null;)if(o.index===U2.lastIndex&&U2.lastIndex++,o&&!t||t&&((r=o[1])!=null&&r.match(t))||t&&((n=o[2])!=null&&n.match(t))){const c=o[1]?o[1]:o[2],u=o[3]?o[3].trim():o[4]?JSON.parse(o[4].trim()):null;l.push({type:c,args:u})}return l.length===0?{type:e,args:null}:l.length===1?l[0]:l}catch(a){return me.error(`ERROR: ${a.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),bYe=A(function(e){return e.replace(U2,"")},"removeDirectives"),xYe=A(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function ML(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return mYe[r]??t}A(ML,"interpolateToCurve");function kse(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?bf(r):r}A(kse,"formatUrl");var TYe=A((e,...t)=>{const r=e.split("."),n=r.length-1,a=r[n];let o=window;for(let l=0;l<n;l++)if(o=o[r[l]],!o){me.error(`Function name: ${e} not found in window`);return}o[a](...t)},"runFunc");function DL(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}A(DL,"distance");function Cse(e){let t,r=0;e.forEach(a=>{r+=DL(a,t),t=a});const n=r/2;return PL(e,n)}A(Cse,"traverseEdge");function Ise(e){return e.length===1?e[0]:Cse(e)}A(Ise,"calcLabelPosition");var PW=A((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),PL=A((e,t)=>{let r,n=t;for(const a of e){if(r){const o=DL(a,r);if(o<n)n-=o;else{const l=n/o;if(l<=0)return r;if(l>=1)return{x:a.x,y:a.y};if(l>0&&l<1)return{x:PW((1-l)*r.x+l*a.x,5),y:PW((1-l)*r.y+l*a.y,5)}}}r=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),wYe=A((e,t,r)=>{me.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const a=PL(t,25),o=e?10:5,l=Math.atan2(t[0].y-a.y,t[0].x-a.x),c={x:0,y:0};return c.x=Math.sin(l)*o+(t[0].x+a.x)/2,c.y=-Math.cos(l)*o+(t[0].y+a.y)/2,c},"calcCardinalityPosition");function Rse(e,t,r){const n=structuredClone(r);me.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const a=25+e,o=PL(n,a),l=10+e*.5,c=Math.atan2(n[0].y-o.y,n[0].x-o.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(c+Math.PI)*l+(n[0].x+o.x)/2,u.y=-Math.cos(c+Math.PI)*l+(n[0].y+o.y)/2):t==="end_right"?(u.x=Math.sin(c-Math.PI)*l+(n[0].x+o.x)/2-5,u.y=-Math.cos(c-Math.PI)*l+(n[0].y+o.y)/2-5):t==="end_left"?(u.x=Math.sin(c)*l+(n[0].x+o.x)/2-5,u.y=-Math.cos(c)*l+(n[0].y+o.y)/2-5):(u.x=Math.sin(c)*l+(n[0].x+o.x)/2,u.y=-Math.cos(c)*l+(n[0].y+o.y)/2),u}A(Rse,"calcTerminalLabelPosition");function FL(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}A(FL,"getStylesFromArray");var FW=0,Ose=A(()=>(FW++,"id-"+Math.random().toString(36).substr(2,12)+"-"+FW),"generateId");function _se(e){let t="";const r="0123456789abcdef",n=r.length;for(let a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*n));return t}A(_se,"makeRandomHex");var Nse=A(e=>_se(e.length),"random"),EYe=A(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),SYe=A(function(e,t){const r=t.text.replace(st.lineBreakRegex," "),[,n]=xf(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",n),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);const o=a.append("tspan");return o.attr("x",t.x+t.textMargin*2),o.attr("fill",t.fill),o.text(r),a},"drawSimpleText"),Lse=Sv((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),st.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),a=[];let o="";return n.forEach((l,c)=>{const u=vl(`${l} `,r),h=vl(o,r);if(u>t){const{hyphenatedStrings:p,remainingWord:g}=AYe(l,t,"-",r);a.push(o,...p),o=g}else h+u>=t?(a.push(o),o=l):o=[o,l].filter(Boolean).join(" ");c+1===n.length&&a.push(o)}),a.filter(l=>l!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),AYe=Sv((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const a=[...e],o=[];let l="";return a.forEach((c,u)=>{const h=`${l}${c}`;if(vl(h,n)>=t){const d=u+1,p=a.length===d,g=`${h}${r}`;o.push(p?h:g),l=""}else l=h}),{hyphenatedStrings:o,remainingWord:l}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function oE(e,t){return BL(e,t).height}A(oE,"calculateTextHeight");function vl(e,t){return BL(e,t).width}A(vl,"calculateTextWidth");var BL=Sv((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,o]=xf(r),l=["sans-serif",n],c=e.split(st.lineBreakRegex),u=[],h=nt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const f=h.append("svg");for(const p of l){let g=0;const m={width:0,height:0,lineHeight:0};for(const y of c){const b=EYe();b.text=y||Sse;const x=SYe(f,b).style("font-size",o).style("font-weight",a).style("font-family",p),T=(x._groups||x)[0][0].getBBox();if(T.width===0&&T.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,T.width)),g=Math.round(T.height),m.height+=g,m.lineHeight=Math.round(Math.max(m.lineHeight,g))}u.push(m)}f.remove();const d=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[d]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Lg,kYe=(Lg=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},A(Lg,"InitIDGenerator"),Lg),FT,CYe=A(function(e){return FT=FT||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),FT.innerHTML=e,unescape(FT.textContent)},"entityDecode");function $L(e){return"str"in e}A($L,"isDetailedError");var IYe=A((e,t,r,n)=>{var o;if(!n)return;const a=(o=e.node())==null?void 0:o.getBBox();a&&e.append("text").text(n).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-r).attr("class",t)},"insertTitle"),xf=A(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function zh(e,t){return sE({},e,t)}A(zh,"cleanAndMerge");var ur={assignWithDepth:Ui,wrapLabel:Lse,calculateTextHeight:oE,calculateTextWidth:vl,calculateTextDimensions:BL,cleanAndMerge:zh,detectInit:yYe,detectDirective:Ase,isSubstringInArray:xYe,interpolateToCurve:ML,calcLabelPosition:Ise,calcCardinalityPosition:wYe,calcTerminalLabelPosition:Rse,formatUrl:kse,getStylesFromArray:FL,generateId:Ose,random:Nse,runFunc:TYe,entityDecode:CYe,insertTitle:IYe,parseFontSize:xf,InitIDGenerator:kYe},RYe=A(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),t},"encodeEntities"),wh=A(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Mse=A((e,t,{counter:r=0,prefix:n,suffix:a})=>`${n?`${n}_`:""}${e}_${t}_${r}${a?`_${a}`:""}`,"getEdgeId");function ks(e){return e??null}A(ks,"handleUndefinedAttr");function HL(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Dp=HL();function Dse(e){Dp=e}const Pse=/[&<>"']/,OYe=new RegExp(Pse.source,"g"),Fse=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_Ye=new RegExp(Fse.source,"g"),NYe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BW=e=>NYe[e];function Co(e,t){if(t){if(Pse.test(e))return e.replace(OYe,BW)}else if(Fse.test(e))return e.replace(_Ye,BW);return e}const LYe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function MYe(e){return e.replace(LYe,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const DYe=/(^|[^\[])\^/g;function on(e,t){let r=typeof e=="string"?e:e.source;t=t||"";const n={replace:(a,o)=>{let l=typeof o=="string"?o:o.source;return l=l.replace(DYe,"$1"),r=r.replace(a,l),n},getRegex:()=>new RegExp(r,t)};return n}function $W(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Y2={exec:()=>null};function HW(e,t){const r=e.replace(/\|/g,(o,l,c)=>{let u=!1,h=l;for(;--h>=0&&c[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(/ \|/);let a=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(/\\\|/g,"|");return n}function Cy(e,t,r){const n=e.length;if(n===0)return"";let a=0;for(;a<n&&e.charAt(n-a-1)===t;)a++;return e.slice(0,n-a)}function PYe(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function UW(e,t,r,n){const a=t.href,o=t.title?Co(t.title):null,l=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;const c={type:"link",raw:r,href:a,title:o,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,c}return{type:"image",raw:r,href:a,title:o,text:Co(l)}}function FYe(e,t){const r=e.match(/^(\s+)(?:```)/);if(r===null)return t;const n=r[1];return t.split(`
`).map(a=>{const o=a.match(/^\s+/);if(o===null)return a;const[l]=o;return l.length>=n.length?a.slice(n.length):a}).join(`
`)}class lE{constructor(t){Tr(this,"options");Tr(this,"rules");Tr(this,"lexer");this.options=t||Dp}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Cy(n,`
`)}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],a=FYe(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:a}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const a=Cy(n,"#");(this.options.pedantic||!a||/ $/.test(a))&&(n=a.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Cy(r[0],`
`)}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){let n=Cy(r[0],`
`).split(`
`),a="",o="";const l=[];for(;n.length>0;){let c=!1;const u=[];let h;for(h=0;h<n.length;h++)if(/^ {0,3}>/.test(n[h]))u.push(n[h]),c=!0;else if(!c)u.push(n[h]);else break;n=n.slice(h);const f=u.join(`
`),d=f.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");a=a?`${a}
${f}`:f,o=o?`${o}
${d}`:d;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,l,!0),this.lexer.state.top=p,n.length===0)break;const g=l[l.length-1];if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const m=g,y=m.raw+`
`+n.join(`
`),b=this.blockquote(y);l[l.length-1]=b,a=a.substring(0,a.length-m.raw.length)+b.raw,o=o.substring(0,o.length-m.text.length)+b.text;break}else if((g==null?void 0:g.type)==="list"){const m=g,y=m.raw+`
`+n.join(`
`),b=this.list(y);l[l.length-1]=b,a=a.substring(0,a.length-g.raw.length)+b.raw,o=o.substring(0,o.length-m.raw.length)+b.raw,n=y.substring(l[l.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:l,text:o}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const a=n.length>1,o={type:"list",raw:"",ordered:a,start:a?+n.slice(0,-1):"",loose:!1,items:[]};n=a?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=a?n:"[*+-]");const l=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let c=!1;for(;t;){let u=!1,h="",f="";if(!(r=l.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let d=r[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),p=t.split(`
`,1)[0],g=!d.trim(),m=0;if(this.options.pedantic?(m=2,f=d.trimStart()):g?m=r[1].length+1:(m=r[2].search(/[^ ]/),m=m>4?1:m,f=d.slice(m),m+=r[1].length),g&&/^ *$/.test(p)&&(h+=p+`
`,t=t.substring(p.length+1),u=!0),!u){const x=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;t;){const S=t.split(`
`,1)[0];if(p=S,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),w.test(p)||E.test(p)||x.test(p)||T.test(t))break;if(p.search(/[^ ]/)>=m||!p.trim())f+=`
`+p.slice(m);else{if(g||d.search(/[^ ]/)>=4||w.test(d)||E.test(d)||T.test(d))break;f+=`
`+p}!g&&!p.trim()&&(g=!0),h+=S+`
`,t=t.substring(S.length+1),d=p.slice(m)}}o.loose||(c?o.loose=!0:/\n *\n *$/.test(h)&&(c=!0));let y=null,b;this.options.gfm&&(y=/^\[[ xX]\] /.exec(f),y&&(b=y[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:h,task:!!y,checked:b,loose:!1,text:f,tokens:[]}),o.raw+=h}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let u=0;u<o.items.length;u++)if(this.lexer.state.top=!1,o.items[u].tokens=this.lexer.blockTokens(o.items[u].text,[]),!o.loose){const h=o.items[u].tokens.filter(d=>d.type==="space"),f=h.length>0&&h.some(d=>/\n.*\n/.test(d.raw));o.loose=f}if(o.loose)for(let u=0;u<o.items.length;u++)o.items[u].loose=!0;return o}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),a=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:a,title:o}}}table(t){const r=this.rules.block.table.exec(t);if(!r||!/[:|]/.test(r[2]))return;const n=HW(r[1]),a=r[2].replace(/^\||\| *$/g,"").split("|"),o=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],l={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===a.length){for(const c of a)/^ *-+: *$/.test(c)?l.align.push("right"):/^ *:-+: *$/.test(c)?l.align.push("center"):/^ *:-+ *$/.test(c)?l.align.push("left"):l.align.push(null);for(let c=0;c<n.length;c++)l.header.push({text:n[c],tokens:this.lexer.inline(n[c]),header:!0,align:l.align[c]});for(const c of o)l.rows.push(HW(c,l.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:l.align[h]})));return l}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Co(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const l=Cy(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=PYe(r[2],"()");if(l>-1){const u=(r[0].indexOf("!")===0?5:4)+r[1].length+l;r[2]=r[2].substring(0,l),r[0]=r[0].substring(0,u).trim(),r[3]=""}}let a=r[2],o="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],o=l[3])}else o=r[3]?r[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(this.options.pedantic&&!/>$/.test(n)?a=a.slice(1):a=a.slice(1,-1)),UW(r,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const a=(n[2]||n[1]).replace(/\s+/g," "),o=r[a.toLowerCase()];if(!o){const l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return UW(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!a||a[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(a[1]||a[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const l=[...a[0]].length-1;let c,u,h=l,f=0;const d=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,r=r.slice(-1*t.length+l);(a=d.exec(r))!=null;){if(c=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!c)continue;if(u=[...c].length,a[3]||a[4]){h+=u;continue}else if((a[5]||a[6])&&l%3&&!((l+u)%3)){f+=u;continue}if(h-=u,h>0)continue;u=Math.min(u,u+h+f);const p=[...a[0]][0].length,g=t.slice(0,l+a.index+p+u);if(Math.min(l,u)%2){const y=g.slice(1,-1);return{type:"em",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}const m=g.slice(2,-2);return{type:"strong",raw:g,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const a=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return a&&o&&(n=n.substring(1,n.length-1)),n=Co(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,a;return r[2]==="@"?(n=Co(r[1]),a="mailto:"+n):(n=Co(r[1]),a=n),{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let a,o;if(r[2]==="@")a=Co(r[0]),o="mailto:"+a;else{let l;do l=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(l!==r[0]);a=Co(r[0]),r[1]==="www."?o="http://"+r[0]:o=r[0]}return{type:"link",raw:r[0],text:a,href:o,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=Co(r[0]),{type:"text",raw:r[0],text:n}}}}const BYe=/^(?: *(?:\n|$))+/,$Ye=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,HYe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,u3=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,UYe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Bse=/(?:[*+-]|\d{1,9}[.)])/,$se=on(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Bse).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),UL=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,WYe=/^[^\n]+/,WL=/(?!\s*\])(?:\\.|[^\[\]\\])+/,zYe=on(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",WL).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),GYe=on(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Bse).getRegex(),K6="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zL=/\x3C!--(?:-?>|[\s\S]*?(?:-->|$))/,YYe=on("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",zL).replace("tag",K6).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hse=on(UL).replace("hr",u3).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",K6).getRegex(),VYe=on(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hse).getRegex(),GL={blockquote:VYe,code:$Ye,def:zYe,fences:HYe,heading:UYe,hr:u3,html:YYe,lheading:$se,list:GYe,newline:BYe,paragraph:Hse,table:Y2,text:WYe},WW=on("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",u3).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",K6).getRegex(),qYe={...GL,table:WW,paragraph:on(UL).replace("hr",u3).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",WW).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",K6).getRegex()},jYe={...GL,html:on(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",zL).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Y2,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:on(UL).replace("hr",u3).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Use=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,XYe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Wse=/^( {2,}|\\)\n(?!\s*$)/,KYe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,h3="\\p{P}\\p{S}",ZYe=on(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,h3).getRegex(),QYe=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,JYe=on(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,h3).getRegex(),eVe=on("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,h3).getRegex(),tVe=on("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,h3).getRegex(),rVe=on(/\\([punct])/,"gu").replace(/punct/g,h3).getRegex(),nVe=on(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),iVe=on(zL).replace("(?:-->|$)","-->").getRegex(),aVe=on("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",iVe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),cE=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,sVe=on(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",cE).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),zse=on(/^!?\[(label)\]\[(ref)\]/).replace("label",cE).replace("ref",WL).getRegex(),Gse=on(/^!?\[(ref)\](?:\[\])?/).replace("ref",WL).getRegex(),oVe=on("reflink|nolink(?!\\()","g").replace("reflink",zse).replace("nolink",Gse).getRegex(),YL={_backpedal:Y2,anyPunctuation:rVe,autolink:nVe,blockSkip:QYe,br:Wse,code:XYe,del:Y2,emStrongLDelim:JYe,emStrongRDelimAst:eVe,emStrongRDelimUnd:tVe,escape:Use,link:sVe,nolink:Gse,punctuation:ZYe,reflink:zse,reflinkSearch:oVe,tag:aVe,text:KYe,url:Y2},lVe={...YL,link:on(/^!?\[(label)\]\((.*?)\)/).replace("label",cE).getRegex(),reflink:on(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",cE).getRegex()},BR={...YL,escape:on(Use).replace("])","~|])").getRegex(),url:on(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},cVe={...BR,br:on(Wse).replace("{2,}","*").getRegex(),text:on(BR.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},BT={normal:GL,gfm:qYe,pedantic:jYe},Iy={normal:YL,gfm:BR,breaks:cVe,pedantic:lVe};class qc{constructor(t){Tr(this,"tokens");Tr(this,"options");Tr(this,"state");Tr(this,"tokenizer");Tr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Dp,this.options.tokenizer=this.options.tokenizer||new lE,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:BT.normal,inline:Iy.normal};this.options.pedantic?(r.block=BT.pedantic,r.inline=Iy.pedantic):this.options.gfm&&(r.block=BT.gfm,this.options.breaks?r.inline=Iy.breaks:r.inline=Iy.gfm),this.tokenizer.rules=r}static get rules(){return{block:BT,inline:Iy}}static lex(t,r){return new qc(r).lex(t)}static lexInline(t,r){return new qc(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(c,u,h)=>u+"    ".repeat(h.length));let a,o,l;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(a=c.call({lexer:this},t,r))?(t=t.substring(a.raw.length),r.push(a),!0):!1))){if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length),a.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length),o=r[r.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length),o=r[r.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+a.raw,o.text+=`
`+a.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),r.push(a);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let c=1/0;const u=t.slice(1);let h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){o=r[r.length-1],n&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(a),n=l.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length),o=r[r.length-1],o&&o.type==="text"?(o.raw+=`
`+a.raw,o.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(a);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,a,o,l=t,c,u,h;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)f.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,c.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(u||(h=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(n=f.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),a=r[r.length-1],a&&n.type==="text"&&a.type==="text"?(a.raw+=n.raw,a.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),a=r[r.length-1],a&&n.type==="text"&&a.type==="text"?(a.raw+=n.raw,a.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,l,h)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const d=t.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},d),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(o=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(o)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(h=n.raw.slice(-1)),u=!0,a=r[r.length-1],a&&a.type==="text"?(a.raw+=n.raw,a.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}}class uE{constructor(t){Tr(this,"options");Tr(this,"parser");this.options=t||Dp}space(t){return""}code({text:t,lang:r,escaped:n}){var l;const a=(l=(r||"").match(/^\S*/))==null?void 0:l[0],o=t.replace(/\n$/,"")+`
`;return a?'<pre><code class="language-'+Co(a)+'">'+(n?o:Co(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Co(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){const r=t.ordered,n=t.start;let a="";for(let c=0;c<t.items.length;c++){const u=t.items[c];a+=this.listitem(u)}const o=r?"ol":"ul",l=r&&n!==1?' start="'+n+'"':"";return"<"+o+l+`>
`+a+"</"+o+`>
`}listitem(t){let r="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let o=0;o<t.header.length;o++)n+=this.tablecell(t.header[o]);r+=this.tablerow({text:n});let a="";for(let o=0;o<t.rows.length;o++){const l=t.rows[o];n="";for(let c=0;c<l.length;c++)n+=this.tablecell(l[c]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){const a=this.parser.parseInline(n),o=$W(t);if(o===null)return a;t=o;let l='<a href="'+t+'"';return r&&(l+=' title="'+r+'"'),l+=">"+a+"</a>",l}image({href:t,title:r,text:n}){const a=$W(t);if(a===null)return n;t=a;let o=`<img src="${t}" alt="${n}"`;return r&&(o+=` title="${r}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class VL{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class jc{constructor(t){Tr(this,"options");Tr(this,"renderer");Tr(this,"textRenderer");this.options=t||Dp,this.options.renderer=this.options.renderer||new uE,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new VL}static parse(t,r){return new jc(r).parse(t)}static parseInline(t,r){return new jc(r).parseInline(t)}parse(t,r=!0){let n="";for(let a=0;a<t.length;a++){const o=t[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=u||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;a+1<t.length&&t[a+1].type==="text";)c=t[++a],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u}]}):n+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let a=0;a<t.length;a++){const o=t[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=c||"";continue}}const l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}}class V2{constructor(t){Tr(this,"options");this.options=t||Dp}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}Tr(V2,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Dh,Yse,$R,Vse;class uVe{constructor(...t){EF(this,Dh);Tr(this,"defaults",HL());Tr(this,"options",this.setOptions);Tr(this,"parse",ny(this,Dh,$R).call(this,qc.lex,jc.parse));Tr(this,"parseInline",ny(this,Dh,$R).call(this,qc.lexInline,jc.parseInline));Tr(this,"Parser",jc);Tr(this,"Renderer",uE);Tr(this,"TextRenderer",VL);Tr(this,"Lexer",qc);Tr(this,"Tokenizer",lE);Tr(this,"Hooks",V2);this.use(...t)}walkTokens(t,r){var a,o;let n=[];for(const l of t)switch(n=n.concat(r.call(this,l)),l.type){case"table":{const c=l;for(const u of c.header)n=n.concat(this.walkTokens(u.tokens,r));for(const u of c.rows)for(const h of u)n=n.concat(this.walkTokens(h.tokens,r));break}case"list":{const c=l;n=n.concat(this.walkTokens(c.items,r));break}default:{const c=l;(o=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&o[c.type]?this.defaults.extensions.childTokens[c.type].forEach(u=>{const h=c[u].flat(1/0);n=n.concat(this.walkTokens(h,r))}):c.tokens&&(n=n.concat(this.walkTokens(c.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const a={...n};if(a.async=this.defaults.async||a.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const l=r.renderers[o.name];l?r.renderers[o.name]=function(...c){let u=o.renderer.apply(this,c);return u===!1&&(u=l.apply(this,c)),u}:r.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const l=r[o.level];l?l.unshift(o.tokenizer):r[o.level]=[o.tokenizer],o.start&&(o.level==="block"?r.startBlock?r.startBlock.push(o.start):r.startBlock=[o.start]:o.level==="inline"&&(r.startInline?r.startInline.push(o.start):r.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(r.childTokens[o.name]=o.childTokens)}),a.extensions=r),n.renderer){const o=this.defaults.renderer||new uE(this.defaults);for(const l in n.renderer){if(!(l in o))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;const c=l;let u=n.renderer[c];n.useNewRenderer||(u=ny(this,Dh,Yse).call(this,u,c,o));const h=o[c];o[c]=(...f)=>{let d=u.apply(o,f);return d===!1&&(d=h.apply(o,f)),d||""}}a.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new lE(this.defaults);for(const l in n.tokenizer){if(!(l in o))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;const c=l,u=n.tokenizer[c],h=o[c];o[c]=(...f)=>{let d=u.apply(o,f);return d===!1&&(d=h.apply(o,f)),d}}a.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new V2;for(const l in n.hooks){if(!(l in o))throw new Error(`hook '${l}' does not exist`);if(l==="options")continue;const c=l,u=n.hooks[c],h=o[c];V2.passThroughHooks.has(l)?o[c]=f=>{if(this.defaults.async)return Promise.resolve(u.call(o,f)).then(p=>h.call(o,p));const d=u.call(o,f);return h.call(o,d)}:o[c]=(...f)=>{let d=u.apply(o,f);return d===!1&&(d=h.apply(o,f)),d}}a.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,l=n.walkTokens;a.walkTokens=function(c){let u=[];return u.push(l.call(this,c)),o&&(u=u.concat(o.call(this,c))),u}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return qc.lex(t,r??this.defaults)}parser(t,r){return jc.parse(t,r??this.defaults)}}Dh=new WeakSet,Yse=function(t,r,n){switch(r){case"heading":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,n.parser.parseInline(a.tokens),a.depth,MYe(n.parser.parseInline(a.tokens,n.parser.textRenderer)))};case"code":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.text,a.lang,!!a.escaped)};case"table":return function(a){if(!a.type||a.type!==r)return t.apply(this,arguments);let o="",l="";for(let u=0;u<a.header.length;u++)l+=this.tablecell({text:a.header[u].text,tokens:a.header[u].tokens,header:!0,align:a.align[u]});o+=this.tablerow({text:l});let c="";for(let u=0;u<a.rows.length;u++){const h=a.rows[u];l="";for(let f=0;f<h.length;f++)l+=this.tablecell({text:h[f].text,tokens:h[f].tokens,header:!1,align:a.align[f]});c+=this.tablerow({text:l})}return t.call(this,o,c)};case"blockquote":return function(a){if(!a.type||a.type!==r)return t.apply(this,arguments);const o=this.parser.parse(a.tokens);return t.call(this,o)};case"list":return function(a){if(!a.type||a.type!==r)return t.apply(this,arguments);const o=a.ordered,l=a.start,c=a.loose;let u="";for(let h=0;h<a.items.length;h++){const f=a.items[h],d=f.checked,p=f.task;let g="";if(f.task){const m=this.checkbox({checked:!!d});c?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=m+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=m+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:m+" "}):g+=m+" "}g+=this.parser.parse(f.tokens,c),u+=this.listitem({type:"list_item",raw:g,text:g,task:p,checked:!!d,loose:c,tokens:f.tokens})}return t.call(this,u,o,l)};case"html":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.text,a.block)};case"paragraph":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"escape":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.text)};case"link":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.href,a.title,this.parser.parseInline(a.tokens))};case"image":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.href,a.title,a.text)};case"strong":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"em":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"codespan":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.text)};case"del":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,this.parser.parseInline(a.tokens))};case"text":return function(a){return!a.type||a.type!==r?t.apply(this,arguments):t.call(this,a.text)}}return t},$R=function(t,r){return(n,a)=>{const o={...a},l={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(l.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),l.async=!0);const c=ny(this,Dh,Vse).call(this,!!l.silent,!!l.async);if(typeof n>"u"||n===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(l.hooks&&(l.hooks.options=l),l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(n):n).then(u=>t(u,l)).then(u=>l.hooks?l.hooks.processAllTokens(u):u).then(u=>l.walkTokens?Promise.all(this.walkTokens(u,l.walkTokens)).then(()=>u):u).then(u=>r(u,l)).then(u=>l.hooks?l.hooks.postprocess(u):u).catch(c);try{l.hooks&&(n=l.hooks.preprocess(n));let u=t(n,l);l.hooks&&(u=l.hooks.processAllTokens(u)),l.walkTokens&&this.walkTokens(u,l.walkTokens);let h=r(u,l);return l.hooks&&(h=l.hooks.postprocess(h)),h}catch(u){return c(u)}}},Vse=function(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const a="<p>An error occurred:</p><pre>"+Co(n.message+"",!0)+"</pre>";return r?Promise.resolve(a):a}if(r)return Promise.reject(n);throw n}};const ip=new uVe;function Kr(e,t){return ip.parse(e,t)}Kr.options=Kr.setOptions=function(e){return ip.setOptions(e),Kr.defaults=ip.defaults,Dse(Kr.defaults),Kr};Kr.getDefaults=HL;Kr.defaults=Dp;Kr.use=function(...e){return ip.use(...e),Kr.defaults=ip.defaults,Dse(Kr.defaults),Kr};Kr.walkTokens=function(e,t){return ip.walkTokens(e,t)};Kr.parseInline=ip.parseInline;Kr.Parser=jc;Kr.parser=jc.parse;Kr.Renderer=uE;Kr.TextRenderer=VL;Kr.Lexer=qc;Kr.lexer=qc.lex;Kr.Tokenizer=lE;Kr.Hooks=V2;Kr.parse=Kr;Kr.options;Kr.setOptions;Kr.use;Kr.walkTokens;Kr.parseInline;jc.parse;qc.lex;function qse(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var a=n.reduce(function(c,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?c.concat(h.map(function(f){var d,p;return(p=(d=f.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&p!==void 0?p:0})):c},[]);if(a.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");n=n.map(function(c){return c.replace(o,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var l=n[0];return t.forEach(function(c,u){var h=l.match(/(?:^|\n)( *)$/),f=h?h[1]:"",d=c;typeof c=="string"&&c.includes(`
`)&&(d=String(c).split(`
`).map(function(p,g){return g===0?p:""+f+p}).join(`
`)),l+=d+n[u+1]}),l}function jse(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=qse(n);return t===!1?a.replace(/ /g,"&nbsp;"):a}A(jse,"preprocessMarkdown");function Xse(e,t={}){const r=jse(e,t),n=Kr.lexer(r),a=[[]];let o=0;function l(c,u="normal"){c.type==="text"?c.text.split(`
`).forEach((f,d)=>{d!==0&&(o++,a.push([])),f.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&a[o].push({content:p,type:u})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(h=>{l(h,c.type)}):c.type==="html"&&a[o].push({content:c.text,type:"normal"})}return A(l,"processNode"),n.forEach(c=>{var u;c.type==="paragraph"?(u=c.tokens)==null||u.forEach(h=>{l(h)}):c.type==="html"&&a[o].push({content:c.text,type:"normal"})}),a}A(Xse,"markdownToLines");function Kse(e,{markdownAutoWrap:t}={}){const r=Kr.lexer(e);function n(a){var o,l,c;return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${(o=a.tokens)==null?void 0:o.map(n).join("")}</strong>`:a.type==="em"?`<em>${(l=a.tokens)==null?void 0:l.map(n).join("")}</em>`:a.type==="paragraph"?`<p>${(c=a.tokens)==null?void 0:c.map(n).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:`Unsupported markdown: ${a.type}`}return A(n,"output"),r.map(n).join("")}A(Kse,"markdownToHTML");function Zse(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}A(Zse,"splitTextToChars");function Qse(e,t){const r=Zse(t.content);return qL(e,[],r,t.type)}A(Qse,"splitWordToFitWidth");function qL(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[a,...o]=r,l=[...t,a];return e([{content:l.join(""),type:n}])?qL(e,l,o,n):(t.length===0&&a&&(t.push(a),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}A(qL,"splitWordToFitWidthRecursion");function Jse(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return hE(e,t)}A(Jse,"splitLineToFitWidth");function hE(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let a="";e[0].content===" "&&(a=" ",e.shift());const o=e.shift()??{content:" ",type:"normal"},l=[...n];if(a!==""&&l.push({content:a,type:"normal"}),l.push(o),t(l))return hE(e,t,r,l);if(n.length>0)r.push(n),e.unshift(o);else if(o.content){const[c,u]=Qse(t,o);r.push([c]),u.content&&e.unshift(u)}return hE(e,t,r)}A(hE,"splitLineToFitWidthRecursion");function HR(e,t){t&&e.attr("style",t)}A(HR,"applyStyle");async function eoe(e,t,r,n,a=!1){const o=e.append("foreignObject");o.attr("width",`${10*r}px`),o.attr("height",`${10*r}px`);const l=o.append("xhtml:div");let c=t.label;t.label&&es(t.label)&&(c=await Qx(t.label.replace(st.lineBreakRegex,`
`),De()));const u=t.isNode?"nodeLabel":"edgeLabel",h=l.append("span");h.html(c),HR(h,t.labelStyle),h.attr("class",`${u} ${n}`),HR(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("line-height","1.5"),l.style("max-width",r+"px"),l.style("text-align","center"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&l.attr("class","labelBkg");let f=l.node().getBoundingClientRect();return f.width===r&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",r+"px"),f=l.node().getBoundingClientRect()),o.node()}A(eoe,"addHtmlSpan");function Z6(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}A(Z6,"createTspan");function toe(e,t,r){const n=e.append("text"),a=Z6(n,1,t);Q6(a,r);const o=a.node().getComputedTextLength();return n.remove(),o}A(toe,"computeWidthOfText");function roe(e,t,r){var l;const n=e.append("text"),a=Z6(n,1,t);Q6(a,[{content:r,type:"normal"}]);const o=(l=a.node())==null?void 0:l.getBoundingClientRect();return o&&n.remove(),o}A(roe,"computeDimensionOfText");function noe(e,t,r,n=!1){const o=t.append("g"),l=o.insert("rect").attr("class","background").attr("style","stroke: none"),c=o.append("text").attr("y","-10.1");let u=0;for(const h of r){const f=A(p=>toe(o,1.1,p)<=e,"checkWidth"),d=f(h)?[h]:Jse(h,f);for(const p of d){const g=Z6(c,u,1.1);Q6(g,p),u++}}if(n){const h=c.node().getBBox(),f=2;return l.attr("x",h.x-f).attr("y",h.y-f).attr("width",h.width+2*f).attr("height",h.height+2*f),o.node()}else return c.node()}A(noe,"createFormattedText");function Q6(e,t){e.text(""),t.forEach((r,n)=>{const a=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?a.text(r.content):a.text(" "+r.content)})}A(Q6,"updateTextContentAndStyles");function jL(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}A(jL,"replaceIconSubstring");var Nl=A(async(e,t="",{style:r="",isTitle:n=!1,classes:a="",useHtmlLabels:o=!0,isNode:l=!0,width:c=200,addSvgBackground:u=!1}={},h)=>{if(me.debug("XYZ createText",t,r,n,a,o,l,"addSvgBackground: ",u),o){const f=Kse(t,h),d=jL(wh(f)),p=t.replace(/\\\\/g,"\\"),g={isNode:l,label:es(t)?p:d,labelStyle:r.replace("fill:","color:")};return await eoe(e,g,c,a,u)}else{const f=t.replace(/<br\s*\/?>/g,"<br/>"),d=Xse(f.replace("<br>","<br/>"),h),p=noe(c,e,d,t?u:!1);if(l){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");nt(p).attr("style",g)}else{const g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");nt(p).select("rect").attr("style",g.replace(/background:/g,"fill:"));const m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");nt(p).select("text").attr("style",m)}return p}},"createText");function fC(e,t,r){if(e&&e.length){const[n,a]=t,o=Math.PI/180*r,l=Math.cos(o),c=Math.sin(o);for(const u of e){const[h,f]=u;u[0]=(h-n)*l-(f-a)*c+n,u[1]=(h-n)*c+(f-a)*l+a}}}function hVe(e,t){return e[0]===t[0]&&e[1]===t[1]}function fVe(e,t,r,n=1){const a=r,o=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,c=[0,0];if(a)for(const h of l)fC(h,c,a);const u=function(h,f,d){const p=[];for(const T of h){const w=[...T];hVe(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&p.push(w)}const g=[];f=Math.max(f,.1);const m=[];for(const T of p)for(let w=0;w<T.length-1;w++){const E=T[w],S=T[w+1];if(E[1]!==S[1]){const C=Math.min(E[1],S[1]);m.push({ymin:C,ymax:Math.max(E[1],S[1]),x:C===E[1]?E[0]:S[0],islope:(S[0]-E[0])/(S[1]-E[1])})}}if(m.sort((T,w)=>T.ymin<w.ymin?-1:T.ymin>w.ymin?1:T.x<w.x?-1:T.x>w.x?1:T.ymax===w.ymax?0:(T.ymax-w.ymax)/Math.abs(T.ymax-w.ymax)),!m.length)return g;let y=[],b=m[0].ymin,x=0;for(;y.length||m.length;){if(m.length){let T=-1;for(let w=0;w<m.length&&!(m[w].ymin>b);w++)T=w;m.splice(0,T+1).forEach(w=>{y.push({s:b,edge:w})})}if(y=y.filter(T=>!(T.edge.ymax<=b)),y.sort((T,w)=>T.edge.x===w.edge.x?0:(T.edge.x-w.edge.x)/Math.abs(T.edge.x-w.edge.x)),(d!==1||x%f==0)&&y.length>1)for(let T=0;T<y.length;T+=2){const w=T+1;if(w>=y.length)break;const E=y[T].edge,S=y[w].edge;g.push([[Math.round(E.x),b],[Math.round(S.x),b]])}b+=d,y.forEach(T=>{T.edge.x=T.edge.x+d*T.edge.islope}),x++}return g}(l,o,n);if(a){for(const h of l)fC(h,c,-a);(function(h,f,d){const p=[];h.forEach(g=>p.push(...g)),fC(p,f,d)})(u,c,-a)}return u}function f3(e,t){var r;const n=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let o=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(o=a),fVe(e,a,n,o||1)}class XL{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=f3(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const a of t)n.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],r));return n}}function J6(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class dVe extends XL{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const a=f3(t,Object.assign({},r,{hachureGap:n})),o=Math.PI/180*r.hachureAngle,l=[],c=.5*n*Math.cos(o),u=.5*n*Math.sin(o);for(const[h,f]of a)J6([h,f])&&l.push([[h[0]-c,h[1]+u],[...f]],[[h[0]+c,h[1]-u],[...f]]);return{type:"fillSketch",ops:this.renderLines(l,r)}}}class pVe extends XL{fillPolygons(t,r){const n=this._fillPolygons(t,r),a=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),o=this._fillPolygons(t,a);return n.ops=n.ops.concat(o.ops),n}}let gVe=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=f3(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let a=r.hachureGap;a<0&&(a=4*r.strokeWidth),a=Math.max(a,.1);let o=r.fillWeight;o<0&&(o=r.strokeWidth/2);const l=a/4;for(const c of t){const u=J6(c),h=u/a,f=Math.ceil(h)-1,d=u-f*a,p=(c[0][0]+c[1][0])/2-a/4,g=Math.min(c[0][1],c[1][1]);for(let m=0;m<f;m++){const y=g+d+m*a,b=p-l+2*Math.random()*l,x=y-l+2*Math.random()*l,T=this.helper.ellipse(b,x,o,o,r);n.push(...T.ops)}}return{type:"fillSketch",ops:n}}};class mVe{constructor(t){this.helper=t}fillPolygons(t,r){const n=f3(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,a=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,o=[];return t.forEach(l=>{const c=J6(l),u=Math.floor(c/(n+a)),h=(c+a-u*(n+a))/2;let f=l[0],d=l[1];f[0]>d[0]&&(f=l[1],d=l[0]);const p=Math.atan((d[1]-f[1])/(d[0]-f[0]));for(let g=0;g<u;g++){const m=g*(n+a),y=m+n,b=[f[0]+m*Math.cos(p)+h*Math.cos(p),f[1]+m*Math.sin(p)+h*Math.sin(p)],x=[f[0]+y*Math.cos(p)+h*Math.cos(p),f[1]+y*Math.sin(p)+h*Math.sin(p)];o.push(...this.helper.doubleLineOps(b[0],b[1],x[0],x[1],r))}}),o}}class vVe{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,a=r.zigzagOffset<0?n:r.zigzagOffset,o=f3(t,r=Object.assign({},r,{hachureGap:n+a}));return{type:"fillSketch",ops:this.zigzagLines(o,a,r)}}zigzagLines(t,r,n){const a=[];return t.forEach(o=>{const l=J6(o),c=Math.round(l/(2*r));let u=o[0],h=o[1];u[0]>h[0]&&(u=o[1],h=o[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let d=0;d<c;d++){const p=2*d*r,g=2*(d+1)*r,m=Math.sqrt(2*Math.pow(r,2)),y=[u[0]+p*Math.cos(f),u[1]+p*Math.sin(f)],b=[u[0]+g*Math.cos(f),u[1]+g*Math.sin(f)],x=[y[0]+m*Math.cos(f+Math.PI/4),y[1]+m*Math.sin(f+Math.PI/4)];a.push(...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n),...this.helper.doubleLineOps(x[0],x[1],b[0],b[1],n))}}),a}}const Bs={};let yVe=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const bVe=0,dC=1,zW=2,$T={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function pC(e,t){return e.type===t}function KL(e){const t=[],r=function(l){const c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:bVe,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:dC,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:zW,text:""},c}(e);let n="BOD",a=0,o=r[a];for(;!pC(o,zW);){let l=0;const c=[];if(n==="BOD"){if(o.text!=="M"&&o.text!=="m")return KL("M0,0"+e);a++,l=$T[o.text],n=o.text}else pC(o,dC)?l=$T[n]:(a++,l=$T[o.text],n=o.text);if(!(a+l<r.length))throw new Error("Path data ended short");for(let u=a;u<a+l;u++){const h=r[u];if(!pC(h,dC))throw new Error("Param not a number: "+n+","+h.text);c[c.length]=+h.text}if(typeof $T[n]!="number")throw new Error("Bad segment: "+n);{const u={key:n,data:c};t.push(u),a+=l,o=r[a],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function ioe(e){let t=0,r=0,n=0,a=0;const o=[];for(const{key:l,data:c}of e)switch(l){case"M":o.push({key:"M",data:[...c]}),[t,r]=c,[n,a]=c;break;case"m":t+=c[0],r+=c[1],o.push({key:"M",data:[t,r]}),n=t,a=r;break;case"L":o.push({key:"L",data:[...c]}),[t,r]=c;break;case"l":t+=c[0],r+=c[1],o.push({key:"L",data:[t,r]});break;case"C":o.push({key:"C",data:[...c]}),t=c[4],r=c[5];break;case"c":{const u=c.map((h,f)=>f%2?h+r:h+t);o.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":o.push({key:"Q",data:[...c]}),t=c[2],r=c[3];break;case"q":{const u=c.map((h,f)=>f%2?h+r:h+t);o.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":o.push({key:"A",data:[...c]}),t=c[5],r=c[6];break;case"a":t+=c[5],r+=c[6],o.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],t,r]});break;case"H":o.push({key:"H",data:[...c]}),t=c[0];break;case"h":t+=c[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...c]}),r=c[0];break;case"v":r+=c[0],o.push({key:"V",data:[r]});break;case"S":o.push({key:"S",data:[...c]}),t=c[2],r=c[3];break;case"s":{const u=c.map((h,f)=>f%2?h+r:h+t);o.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":o.push({key:"T",data:[...c]}),t=c[0],r=c[1];break;case"t":t+=c[0],r+=c[1],o.push({key:"T",data:[t,r]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=n,r=a}return o}function aoe(e){const t=[];let r="",n=0,a=0,o=0,l=0,c=0,u=0;for(const{key:h,data:f}of e){switch(h){case"M":t.push({key:"M",data:[...f]}),[n,a]=f,[o,l]=f;break;case"C":t.push({key:"C",data:[...f]}),n=f[4],a=f[5],c=f[2],u=f[3];break;case"L":t.push({key:"L",data:[...f]}),[n,a]=f;break;case"H":n=f[0],t.push({key:"L",data:[n,a]});break;case"V":a=f[0],t.push({key:"L",data:[n,a]});break;case"S":{let d=0,p=0;r==="C"||r==="S"?(d=n+(n-c),p=a+(a-u)):(d=n,p=a),t.push({key:"C",data:[d,p,...f]}),c=f[0],u=f[1],n=f[2],a=f[3];break}case"T":{const[d,p]=f;let g=0,m=0;r==="Q"||r==="T"?(g=n+(n-c),m=a+(a-u)):(g=n,m=a);const y=n+2*(g-n)/3,b=a+2*(m-a)/3,x=d+2*(g-d)/3,T=p+2*(m-p)/3;t.push({key:"C",data:[y,b,x,T,d,p]}),c=g,u=m,n=d,a=p;break}case"Q":{const[d,p,g,m]=f,y=n+2*(d-n)/3,b=a+2*(p-a)/3,x=g+2*(d-g)/3,T=m+2*(p-m)/3;t.push({key:"C",data:[y,b,x,T,g,m]}),c=d,u=p,n=g,a=m;break}case"A":{const d=Math.abs(f[0]),p=Math.abs(f[1]),g=f[2],m=f[3],y=f[4],b=f[5],x=f[6];d===0||p===0?(t.push({key:"C",data:[n,a,b,x,b,x]}),n=b,a=x):(n!==b||a!==x)&&(soe(n,a,b,x,d,p,g,m,y).forEach(function(T){t.push({key:"C",data:T})}),n=b,a=x);break}case"Z":t.push({key:"Z",data:[]}),n=o,a=l}r=h}return t}function Ry(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function soe(e,t,r,n,a,o,l,c,u,h){const f=(d=l,Math.PI*d/180);var d;let p=[],g=0,m=0,y=0,b=0;if(h)[g,m,y,b]=h;else{[e,t]=Ry(e,t,-f),[r,n]=Ry(r,n,-f);const $=(e-r)/2,N=(t-n)/2;let P=$*$/(a*a)+N*N/(o*o);P>1&&(P=Math.sqrt(P),a*=P,o*=P);const F=a*a,L=o*o,D=F*L-F*N*N-L*$*$,B=F*N*N+L*$*$,H=(c===u?-1:1)*Math.sqrt(Math.abs(D/B));y=H*a*N/o+(e+r)/2,b=H*-o*$/a+(t+n)/2,g=Math.asin(parseFloat(((t-b)/o).toFixed(9))),m=Math.asin(parseFloat(((n-b)/o).toFixed(9))),e<y&&(g=Math.PI-g),r<y&&(m=Math.PI-m),g<0&&(g=2*Math.PI+g),m<0&&(m=2*Math.PI+m),u&&g>m&&(g-=2*Math.PI),!u&&m>g&&(m-=2*Math.PI)}let x=m-g;if(Math.abs(x)>120*Math.PI/180){const $=m,N=r,P=n;m=u&&m>g?g+120*Math.PI/180*1:g+120*Math.PI/180*-1,p=soe(r=y+a*Math.cos(m),n=b+o*Math.sin(m),N,P,a,o,l,0,u,[m,$,y,b])}x=m-g;const T=Math.cos(g),w=Math.sin(g),E=Math.cos(m),S=Math.sin(m),C=Math.tan(x/4),k=4/3*a*C,O=4/3*o*C,I=[e,t],_=[e+k*w,t-O*T],R=[r+k*S,n-O*E],M=[r,n];if(_[0]=2*I[0]-_[0],_[1]=2*I[1]-_[1],h)return[_,R,M].concat(p);{p=[_,R,M].concat(p);const $=[];for(let N=0;N<p.length;N+=3){const P=Ry(p[N][0],p[N][1],f),F=Ry(p[N+1][0],p[N+1][1],f),L=Ry(p[N+2][0],p[N+2][1],f);$.push([P[0],P[1],F[0],F[1],L[0],L[1]])}return $}}const xVe={randOffset:function(e,t){return rr(e,t)},randOffsetWithRange:function(e,t,r){return fE(e,t,r)},ellipse:function(e,t,r,n,a){const o=loe(r,n,a);return UR(e,t,a,o).opset},doubleLineOps:function(e,t,r,n,a){return K0(e,t,r,n,a,!0)}};function ooe(e,t,r,n,a){return{type:"path",ops:K0(e,t,r,n,a)}}function mw(e,t,r){const n=(e||[]).length;if(n>2){const a=[];for(let o=0;o<n-1;o++)a.push(...K0(e[o][0],e[o][1],e[o+1][0],e[o+1][1],r));return t&&a.push(...K0(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:a}}return n===2?ooe(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function TVe(e,t,r,n,a){return function(o,l){return mw(o,!0,l)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],a)}function GW(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=HT(r[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:HT(r[0],1.5*(1+.22*t.roughness),qW(t));for(let o=1;o<r.length;o++){const l=r[o];if(l.length){const c=HT(l,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:HT(l,1.5*(1+.22*t.roughness),qW(t));for(const h of c)h.op!=="move"&&n.push(h);for(const h of u)h.op!=="move"&&a.push(h)}}return{type:"path",ops:n.concat(a)}}return{type:"path",ops:[]}}function loe(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),o=2*Math.PI/a;let l=Math.abs(e/2),c=Math.abs(t/2);const u=1-r.curveFitting;return l+=rr(l*u,r),c+=rr(c*u,r),{increment:o,rx:l,ry:c}}function UR(e,t,r,n){const[a,o]=jW(n.increment,e,t,n.rx,n.ry,1,n.increment*fE(.1,fE(.4,1,r),r),r);let l=dE(a,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[c]=jW(n.increment,e,t,n.rx,n.ry,1.5,0,r),u=dE(c,null,r);l=l.concat(u)}return{estimatedPoints:o,opset:{type:"path",ops:l}}}function YW(e,t,r,n,a,o,l,c,u){const h=e,f=t;let d=Math.abs(r/2),p=Math.abs(n/2);d+=rr(.01*d,u),p+=rr(.01*p,u);let g=a,m=o;for(;g<0;)g+=2*Math.PI,m+=2*Math.PI;m-g>2*Math.PI&&(g=0,m=2*Math.PI);const y=2*Math.PI/u.curveStepCount,b=Math.min(y/2,(m-g)/2),x=XW(b,h,f,d,p,g,m,1,u);if(!u.disableMultiStroke){const T=XW(b,h,f,d,p,g,m,1.5,u);x.push(...T)}return l&&(c?x.push(...K0(h,f,h+d*Math.cos(g),f+p*Math.sin(g),u),...K0(h,f,h+d*Math.cos(m),f+p*Math.sin(m),u)):x.push({op:"lineTo",data:[h,f]},{op:"lineTo",data:[h+d*Math.cos(g),f+p*Math.sin(g)]})),{type:"path",ops:x}}function VW(e,t){const r=aoe(ioe(KL(e))),n=[];let a=[0,0],o=[0,0];for(const{key:l,data:c}of r)switch(l){case"M":o=[c[0],c[1]],a=[c[0],c[1]];break;case"L":n.push(...K0(o[0],o[1],c[0],c[1],t)),o=[c[0],c[1]];break;case"C":{const[u,h,f,d,p,g]=c;n.push(...wVe(u,h,f,d,p,g,o,t)),o=[p,g];break}case"Z":n.push(...K0(o[0],o[1],a[0],a[1],t)),o=[a[0],a[1]]}return{type:"path",ops:n}}function gC(e,t){const r=[];for(const n of e)if(n.length){const a=t.maxRandomnessOffset||0,o=n.length;if(o>2){r.push({op:"move",data:[n[0][0]+rr(a,t),n[0][1]+rr(a,t)]});for(let l=1;l<o;l++)r.push({op:"lineTo",data:[n[l][0]+rr(a,t),n[l][1]+rr(a,t)]})}}return{type:"fillPath",ops:r}}function i1(e,t){return function(r,n){let a=r.fillStyle||"hachure";if(!Bs[a])switch(a){case"zigzag":Bs[a]||(Bs[a]=new dVe(n));break;case"cross-hatch":Bs[a]||(Bs[a]=new pVe(n));break;case"dots":Bs[a]||(Bs[a]=new gVe(n));break;case"dashed":Bs[a]||(Bs[a]=new mVe(n));break;case"zigzag-line":Bs[a]||(Bs[a]=new vVe(n));break;default:a="hachure",Bs[a]||(Bs[a]=new XL(n))}return Bs[a]}(t,xVe).fillPolygons(e,t)}function qW(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function coe(e){return e.randomizer||(e.randomizer=new yVe(e.seed||0)),e.randomizer.next()}function fE(e,t,r,n=1){return r.roughness*n*(coe(r)*(t-e)+e)}function rr(e,t,r=1){return fE(-e,e,t,r)}function K0(e,t,r,n,a,o=!1){const l=o?a.disableMultiStrokeFill:a.disableMultiStroke,c=WR(e,t,r,n,a,!0,!1);if(l)return c;const u=WR(e,t,r,n,a,!0,!0);return c.concat(u)}function WR(e,t,r,n,a,o,l){const c=Math.pow(e-r,2)+Math.pow(t-n,2),u=Math.sqrt(c);let h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let f=a.maxRandomnessOffset||0;f*f*100>c&&(f=u/10);const d=f/2,p=.2+.2*coe(a);let g=a.bowing*a.maxRandomnessOffset*(n-t)/200,m=a.bowing*a.maxRandomnessOffset*(e-r)/200;g=rr(g,a,h),m=rr(m,a,h);const y=[],b=()=>rr(d,a,h),x=()=>rr(f,a,h),T=a.preserveVertices;return l?y.push({op:"move",data:[e+(T?0:b()),t+(T?0:b())]}):y.push({op:"move",data:[e+(T?0:rr(f,a,h)),t+(T?0:rr(f,a,h))]}),l?y.push({op:"bcurveTo",data:[g+e+(r-e)*p+b(),m+t+(n-t)*p+b(),g+e+2*(r-e)*p+b(),m+t+2*(n-t)*p+b(),r+(T?0:b()),n+(T?0:b())]}):y.push({op:"bcurveTo",data:[g+e+(r-e)*p+x(),m+t+(n-t)*p+x(),g+e+2*(r-e)*p+x(),m+t+2*(n-t)*p+x(),r+(T?0:x()),n+(T?0:x())]}),y}function HT(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+rr(t,r),e[0][1]+rr(t,r)]),n.push([e[0][0]+rr(t,r),e[0][1]+rr(t,r)]);for(let a=1;a<e.length;a++)n.push([e[a][0]+rr(t,r),e[a][1]+rr(t,r)]),a===e.length-1&&n.push([e[a][0]+rr(t,r),e[a][1]+rr(t,r)]);return dE(n,null,r)}function dE(e,t,r){const n=e.length,a=[];if(n>3){const o=[],l=1-r.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let c=1;c+2<n;c++){const u=e[c];o[0]=[u[0],u[1]],o[1]=[u[0]+(l*e[c+1][0]-l*e[c-1][0])/6,u[1]+(l*e[c+1][1]-l*e[c-1][1])/6],o[2]=[e[c+1][0]+(l*e[c][0]-l*e[c+2][0])/6,e[c+1][1]+(l*e[c][1]-l*e[c+2][1])/6],o[3]=[e[c+1][0],e[c+1][1]],a.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}}else n===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&a.push(...WR(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return a}function jW(e,t,r,n,a,o,l,c){const u=[],h=[];if(c.roughness===0){e/=4,h.push([t+n*Math.cos(-e),r+a*Math.sin(-e)]);for(let f=0;f<=2*Math.PI;f+=e){const d=[t+n*Math.cos(f),r+a*Math.sin(f)];u.push(d),h.push(d)}h.push([t+n*Math.cos(0),r+a*Math.sin(0)]),h.push([t+n*Math.cos(e),r+a*Math.sin(e)])}else{const f=rr(.5,c)-Math.PI/2;h.push([rr(o,c)+t+.9*n*Math.cos(f-e),rr(o,c)+r+.9*a*Math.sin(f-e)]);const d=2*Math.PI+f-.01;for(let p=f;p<d;p+=e){const g=[rr(o,c)+t+n*Math.cos(p),rr(o,c)+r+a*Math.sin(p)];u.push(g),h.push(g)}h.push([rr(o,c)+t+n*Math.cos(f+2*Math.PI+.5*l),rr(o,c)+r+a*Math.sin(f+2*Math.PI+.5*l)]),h.push([rr(o,c)+t+.98*n*Math.cos(f+l),rr(o,c)+r+.98*a*Math.sin(f+l)]),h.push([rr(o,c)+t+.9*n*Math.cos(f+.5*l),rr(o,c)+r+.9*a*Math.sin(f+.5*l)])}return[h,u]}function XW(e,t,r,n,a,o,l,c,u){const h=o+rr(.1,u),f=[];f.push([rr(c,u)+t+.9*n*Math.cos(h-e),rr(c,u)+r+.9*a*Math.sin(h-e)]);for(let d=h;d<=l;d+=e)f.push([rr(c,u)+t+n*Math.cos(d),rr(c,u)+r+a*Math.sin(d)]);return f.push([t+n*Math.cos(l),r+a*Math.sin(l)]),f.push([t+n*Math.cos(l),r+a*Math.sin(l)]),dE(f,null,u)}function wVe(e,t,r,n,a,o,l,c){const u=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let f=[0,0];const d=c.disableMultiStroke?1:2,p=c.preserveVertices;for(let g=0;g<d;g++)g===0?u.push({op:"move",data:[l[0],l[1]]}):u.push({op:"move",data:[l[0]+(p?0:rr(h[0],c)),l[1]+(p?0:rr(h[0],c))]}),f=p?[a,o]:[a+rr(h[g],c),o+rr(h[g],c)],u.push({op:"bcurveTo",data:[e+rr(h[g],c),t+rr(h[g],c),r+rr(h[g],c),n+rr(h[g],c),f[0],f[1]]});return u}function Oy(e){return[...e]}function KW(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Oy(e[0]),Oy(e[1]),Oy(e[2]),Oy(e[2]));else{const a=[];a.push(e[0],e[0]);for(let c=1;c<e.length;c++)a.push(e[c]),c===e.length-1&&a.push(e[c]);const o=[],l=1-t;n.push(Oy(a[0]));for(let c=1;c+2<a.length;c++){const u=a[c];o[0]=[u[0],u[1]],o[1]=[u[0]+(l*a[c+1][0]-l*a[c-1][0])/6,u[1]+(l*a[c+1][1]-l*a[c-1][1])/6],o[2]=[a[c+1][0]+(l*a[c][0]-l*a[c+2][0])/6,a[c+1][1]+(l*a[c][1]-l*a[c+2][1])/6],o[3]=[a[c+1][0],a[c+1][1]],n.push(o[1],o[2],o[3])}}return n}function vw(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function EVe(e,t,r){const n=vw(t,r);if(n===0)return vw(e,t);let a=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return a=Math.max(0,Math.min(1,a)),vw(e,id(t,r,a))}function id(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function zR(e,t,r,n){const a=n||[];if(function(c,u){const h=c[u+0],f=c[u+1],d=c[u+2],p=c[u+3];let g=3*f[0]-2*h[0]-p[0];g*=g;let m=3*f[1]-2*h[1]-p[1];m*=m;let y=3*d[0]-2*p[0]-h[0];y*=y;let b=3*d[1]-2*p[1]-h[1];return b*=b,g<y&&(g=y),m<b&&(m=b),g+m}(e,t)<r){const c=e[t+0];a.length?(o=a[a.length-1],l=c,Math.sqrt(vw(o,l))>1&&a.push(c)):a.push(c),a.push(e[t+3])}else{const u=e[t+0],h=e[t+1],f=e[t+2],d=e[t+3],p=id(u,h,.5),g=id(h,f,.5),m=id(f,d,.5),y=id(p,g,.5),b=id(g,m,.5),x=id(y,b,.5);zR([u,p,y,x],0,r,a),zR([x,b,m,d],0,r,a)}var o,l;return a}function SVe(e,t){return pE(e,0,e.length,t)}function pE(e,t,r,n,a){const o=a||[],l=e[t],c=e[r-1];let u=0,h=1;for(let f=t+1;f<r-1;++f){const d=EVe(e[f],l,c);d>u&&(u=d,h=f)}return Math.sqrt(u)>n?(pE(e,t,h+1,n,o),pE(e,h,r,n,o)):(o.length||o.push(l),o.push(c)),o}function mC(e,t=.15,r){const n=[],a=(e.length-1)/3;for(let o=0;o<a;o++)zR(e,3*o,t,n);return r&&r>0?pE(n,0,n.length,r):n}const bo="none";class gE{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,a,o){const l=this._o(o);return this._d("line",[ooe(t,r,n,a,l)],l)}rectangle(t,r,n,a,o){const l=this._o(o),c=[],u=TVe(t,r,n,a,l);if(l.fill){const h=[[t,r],[t+n,r],[t+n,r+a],[t,r+a]];l.fillStyle==="solid"?c.push(gC([h],l)):c.push(i1([h],l))}return l.stroke!==bo&&c.push(u),this._d("rectangle",c,l)}ellipse(t,r,n,a,o){const l=this._o(o),c=[],u=loe(n,a,l),h=UR(t,r,l,u);if(l.fill)if(l.fillStyle==="solid"){const f=UR(t,r,l,u).opset;f.type="fillPath",c.push(f)}else c.push(i1([h.estimatedPoints],l));return l.stroke!==bo&&c.push(h.opset),this._d("ellipse",c,l)}circle(t,r,n,a){const o=this.ellipse(t,r,n,n,a);return o.shape="circle",o}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[mw(t,!1,n)],n)}arc(t,r,n,a,o,l,c=!1,u){const h=this._o(u),f=[],d=YW(t,r,n,a,o,l,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const p=Object.assign({},h);p.disableMultiStroke=!0;const g=YW(t,r,n,a,o,l,!0,!1,p);g.type="fillPath",f.push(g)}else f.push(function(p,g,m,y,b,x,T){const w=p,E=g;let S=Math.abs(m/2),C=Math.abs(y/2);S+=rr(.01*S,T),C+=rr(.01*C,T);let k=b,O=x;for(;k<0;)k+=2*Math.PI,O+=2*Math.PI;O-k>2*Math.PI&&(k=0,O=2*Math.PI);const I=(O-k)/T.curveStepCount,_=[];for(let R=k;R<=O;R+=I)_.push([w+S*Math.cos(R),E+C*Math.sin(R)]);return _.push([w+S*Math.cos(O),E+C*Math.sin(O)]),_.push([w,E]),i1([_],T)}(t,r,n,a,o,l,h));return h.stroke!==bo&&f.push(d),this._d("arc",f,h)}curve(t,r){const n=this._o(r),a=[],o=GW(t,n);if(n.fill&&n.fill!==bo)if(n.fillStyle==="solid"){const l=GW(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=t;if(c.length){const u=typeof c[0][0]=="number"?[c]:c;for(const h of u)h.length<3?l.push(...h):h.length===3?l.push(...mC(KW([h[0],h[0],h[1],h[2]]),10,(1+n.roughness)/2)):l.push(...mC(KW(h),10,(1+n.roughness)/2))}l.length&&a.push(i1([l],n))}return n.stroke!==bo&&a.push(o),this._d("curve",a,n)}polygon(t,r){const n=this._o(r),a=[],o=mw(t,!0,n);return n.fill&&(n.fillStyle==="solid"?a.push(gC([t],n)):a.push(i1([t],n))),n.stroke!==bo&&a.push(o),this._d("polygon",a,n)}path(t,r){const n=this._o(r),a=[];if(!t)return this._d("path",a,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=n.fill&&n.fill!=="transparent"&&n.fill!==bo,l=n.stroke!==bo,c=!!(n.simplification&&n.simplification<1),u=function(f,d,p){const g=aoe(ioe(KL(f))),m=[];let y=[],b=[0,0],x=[];const T=()=>{x.length>=4&&y.push(...mC(x,d)),x=[]},w=()=>{T(),y.length&&(m.push(y),y=[])};for(const{key:S,data:C}of g)switch(S){case"M":w(),b=[C[0],C[1]],y.push(b);break;case"L":T(),y.push([C[0],C[1]]);break;case"C":if(!x.length){const k=y.length?y[y.length-1]:b;x.push([k[0],k[1]])}x.push([C[0],C[1]]),x.push([C[2],C[3]]),x.push([C[4],C[5]]);break;case"Z":T(),y.push([b[0],b[1]])}if(w(),!p)return m;const E=[];for(const S of m){const C=SVe(S,p);C.length&&E.push(C)}return E}(t,1,c?4-4*(n.simplification||1):(1+n.roughness)/2),h=VW(t,n);if(o)if(n.fillStyle==="solid")if(u.length===1){const f=VW(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else a.push(gC(u,n));else a.push(i1(u,n));return l&&(c?u.forEach(f=>{a.push(mw(f,!1,n))}):a.push(h)),this._d("path",a,n)}opsToPath(t,r){let n="";for(const a of t.ops){const o=typeof r=="number"&&r>=0?a.data.map(l=>+l.toFixed(r)):a.data;switch(a.op){case"move":n+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":n+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":n+=`L${o[0]} ${o[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,a=[];for(const o of r){let l=null;switch(o.type){case"path":l={d:this.opsToPath(o),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:bo};break;case"fillPath":l={d:this.opsToPath(o),stroke:bo,strokeWidth:0,fill:n.fill||bo};break;case"fillSketch":l=this.fillSketch(o,n)}l&&a.push(l)}return a}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||bo,strokeWidth:n,fill:bo}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class AVe{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new gE(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const l of r)switch(l.type){case"path":a.save(),a.strokeStyle=n.stroke==="none"?"transparent":n.stroke,a.lineWidth=n.strokeWidth,n.strokeLineDash&&a.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(a.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(a,l,o),a.restore();break;case"fillPath":{a.save(),a.fillStyle=n.fill||"";const c=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,l,o,c),a.restore();break}case"fillSketch":this.fillSketch(a,l,n)}}fillSketch(t,r,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=a,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,a="nonzero"){t.beginPath();for(const o of r.ops){const l=typeof n=="number"&&n>=0?o.data.map(c=>+c.toFixed(n)):o.data;switch(o.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}r.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,a,o){const l=this.gen.line(t,r,n,a,o);return this.draw(l),l}rectangle(t,r,n,a,o){const l=this.gen.rectangle(t,r,n,a,o);return this.draw(l),l}ellipse(t,r,n,a,o){const l=this.gen.ellipse(t,r,n,a,o);return this.draw(l),l}circle(t,r,n,a){const o=this.gen.circle(t,r,n,a);return this.draw(o),o}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,a,o,l,c=!1,u){const h=this.gen.arc(t,r,n,a,o,l,c,u);return this.draw(h),h}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const UT="http://www.w3.org/2000/svg";class kVe{constructor(t,r){this.svg=t,this.gen=new gE(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,o=a.createElementNS(UT,"g"),l=t.options.fixedDecimalPlaceDigits;for(const c of r){let u=null;switch(c.type){case"path":u=a.createElementNS(UT,"path"),u.setAttribute("d",this.opsToPath(c,l)),u.setAttribute("stroke",n.stroke),u.setAttribute("stroke-width",n.strokeWidth+""),u.setAttribute("fill","none"),n.strokeLineDash&&u.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":u=a.createElementNS(UT,"path"),u.setAttribute("d",this.opsToPath(c,l)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(a,c,n)}u&&o.appendChild(u)}return o}fillSketch(t,r,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const o=t.createElementNS(UT,"path");return o.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),o.setAttribute("stroke",n.fill||""),o.setAttribute("stroke-width",a+""),o.setAttribute("fill","none"),n.fillLineDash&&o.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,a,o){const l=this.gen.line(t,r,n,a,o);return this.draw(l)}rectangle(t,r,n,a,o){const l=this.gen.rectangle(t,r,n,a,o);return this.draw(l)}ellipse(t,r,n,a,o){const l=this.gen.ellipse(t,r,n,a,o);return this.draw(l)}circle(t,r,n,a){const o=this.gen.circle(t,r,n,a);return this.draw(o)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,a,o,l,c=!1,u){const h=this.gen.arc(t,r,n,a,o,l,c,u);return this.draw(h)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var Bt={canvas:(e,t)=>new AVe(e,t),svg:(e,t)=>new kVe(e,t),generator:e=>new gE(e),newSeed:()=>gE.newSeed()},lr=A(async(e,t,r)=>{var d,p;let n;const a=t.useHtmlLabels||cn((d=De())==null?void 0:d.htmlLabels);r?n=r:n="node default";const o=e.insert("g").attr("class",n).attr("id",t.domId||t.id),l=o.insert("g").attr("class","label").attr("style",ks(t.labelStyle));let c;t.label===void 0?c="":c=typeof t.label=="string"?t.label:t.label[0];const u=await Nl(l,sn(wh(c),De()),{useHtmlLabels:a,width:t.width||((p=De().flowchart)==null?void 0:p.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let h=u.getBBox();const f=((t==null?void 0:t.padding)??0)/2;if(a){const g=u.children[0],m=nt(u),y=g.getElementsByTagName("img");if(y){const b=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(x=>new Promise(T=>{function w(){if(x.style.display="flex",x.style.flexDirection="column",b){const E=De().fontSize?De().fontSize:window.getComputedStyle(document.body).fontSize,S=5,[C=Lr.fontSize]=xf(E),k=C*S+"px";x.style.minWidth=k,x.style.maxWidth=k}else x.style.width="100%";T(x)}A(w,"setupImage"),setTimeout(()=>{x.complete&&w()}),x.addEventListener("error",w),x.addEventListener("load",w)})))}h=g.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return a?l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):l.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:h,halfPadding:f,label:l}},"labelHelper"),vC=A(async(e,t,r)=>{var u,h,f,d,p,g;const n=r.useHtmlLabels||cn((h=(u=De())==null?void 0:u.flowchart)==null?void 0:h.htmlLabels),a=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),o=await Nl(a,sn(wh(t),De()),{useHtmlLabels:n,width:r.width||((d=(f=De())==null?void 0:f.flowchart)==null?void 0:d.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let l=o.getBBox();const c=r.padding/2;if(cn((g=(p=De())==null?void 0:p.flowchart)==null?void 0:g.htmlLabels)){const m=o.children[0],y=nt(o);l=m.getBoundingClientRect(),y.attr("width",l.width),y.attr("height",l.height)}return n?a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):a.attr("transform","translate(0, "+-l.height/2+")"),r.centerLabel&&a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:l,halfPadding:c,label:a}},"insertLabel"),Ut=A((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),cr=A((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function _r(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}A(_r,"createPathFromPoints");function Z0(e,t,r,n,a,o){const l=[],u=r-e,h=n-t,f=u/o,d=2*Math.PI/f,p=t+h/2;for(let g=0;g<=50;g++){const m=g/50,y=e+m*u,b=p+a*Math.sin(d*(y-e));l.push({x:y,y:b})}return l}A(Z0,"generateFullSineWavePoints");function ZL(e,t,r,n,a,o){const l=[],c=a*Math.PI/180,f=(o*Math.PI/180-c)/(n-1);for(let d=0;d<n;d++){const p=c+d*f,g=e+r*Math.cos(p),m=t+r*Math.sin(p);l.push({x:-g,y:-m})}return l}A(ZL,"generateCirclePoints");var CVe=A((e,t)=>{var r=e.x,n=e.y,a=t.x-r,o=t.y-n,l=e.width/2,c=e.height/2,u,h;return Math.abs(o)*l>Math.abs(a)*c?(o<0&&(c=-c),u=o===0?0:c*a/o,h=c):(a<0&&(l=-l),u=l,h=a===0?0:l*o/a),{x:r+u,y:n+h}},"intersectRect"),kv=CVe;function uoe(e,t){t&&e.attr("style",t)}A(uoe,"applyStyle");async function hoe(e){const t=nt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div");let n=e.label;e.label&&es(e.label)&&(n=await Qx(e.label.replace(st.lineBreakRegex,`
`),De()));const a=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+a+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),uoe(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}A(hoe,"addHtmlLabel");var IVe=A(async(e,t,r,n)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),cn(De().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),me.info("vertexText"+a);const o={isNode:n,label:wh(a).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await hoe(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof a=="string"?l=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?l=a:l=[];for(const c of l){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=c.trim(),o.appendChild(u)}return o}},"createLabel"),Cd=IVe,Gh=A((e,t,r,n,a)=>["M",e+a,t,"H",e+r-a,"A",a,a,0,0,1,e+r,t+a,"V",t+n-a,"A",a,a,0,0,1,e+r-a,t+n,"H",e+a,"A",a,a,0,0,1,e,t+n-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),RVe=A(e=>{const{handDrawnSeed:t}=De();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Cv=A(e=>{const t=OVe([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),OVe=A(e=>{const t=new Map;return e.forEach(r=>{const[n,a]=r.split(":");t.set(n.trim(),a==null?void 0:a.trim())}),t},"styles2Map"),Gt=A(e=>{const{stylesArray:t}=Cv(e),r=[],n=[],a=[],o=[];return t.forEach(l=>{const c=l[0];c==="color"||c==="font-size"||c==="font-family"||c==="font-weight"||c==="font-style"||c==="text-decoration"||c==="text-align"||c==="text-transform"||c==="line-height"||c==="letter-spacing"||c==="word-spacing"||c==="text-shadow"||c==="text-overflow"||c==="white-space"||c==="word-wrap"||c==="word-break"||c==="overflow-wrap"||c==="hyphens"?r.push(l.join(":")+" !important"):(n.push(l.join(":")+" !important"),c.includes("stroke")&&a.push(l.join(":")+" !important"),c==="fill"&&o.push(l.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:o}},"styles2String"),$t=A((e,t)=>{var u;const{themeVariables:r,handDrawnSeed:n}=De(),{nodeBorder:a,mainBkg:o}=r,{stylesMap:l}=Cv(e);return Object.assign({roughness:.7,fill:l.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||a,seed:n,strokeWidth:((u=l.get("stroke-width"))==null?void 0:u.replace("px",""))||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides"),foe=A(async(e,t)=>{me.info("Creating subgraph rect for ",t.id,t);const r=De(),{themeVariables:n,handDrawnSeed:a}=r,{clusterBkg:o,clusterBorder:l}=n,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:f}=Gt(t),d=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),p=cn(r.flowchart.htmlLabels),g=d.insert("g").attr("class","cluster-label "),m=await Nl(g,t.label,{style:t.labelStyle,useHtmlLabels:p,isNode:!0});let y=m.getBBox();if(cn(r.flowchart.htmlLabels)){const k=m.children[0],O=nt(m);y=k.getBoundingClientRect(),O.attr("width",y.width),O.attr("height",y.height)}const b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,T=t.x-b/2,w=t.y-x/2;me.trace("Data ",t,JSON.stringify(t));let E;if(t.look==="handDrawn"){const k=Bt.svg(d),O=$t(t,{roughness:.7,fill:o,stroke:l,fillWeight:3,seed:a}),I=k.path(Gh(T,w,b,x,0),O);E=d.insert(()=>(me.debug("Rough node insert CXC",I),I),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",f.join(";").replace("fill","stroke"))}else E=d.insert("rect",":first-child"),E.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",T).attr("y",w).attr("width",b).attr("height",x);const{subGraphTitleTopMargin:S}=e3(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+S})`),c){const k=g.select("span");k&&k.attr("style",c)}const C=E.node().getBBox();return t.offsetX=0,t.width=C.width,t.height=C.height,t.offsetY=y.height-t.padding/2,t.intersect=function(k){return kv(t,k)},{cluster:d,labelBBox:y}},"rect"),_Ve=A((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),a=0*t.padding,o=a/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2-o).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const l=n.node().getBBox();return t.width=l.width,t.height=l.height,t.intersect=function(c){return kv(t,c)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),NVe=A(async(e,t)=>{const r=De(),{themeVariables:n,handDrawnSeed:a}=r,{altBackground:o,compositeBackground:l,compositeTitleBackground:c,nodeBorder:u}=n,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),f=h.insert("g",":first-child"),d=h.insert("g").attr("class","cluster-label");let p=h.append("rect");const g=d.node().appendChild(await Cd(t.label,t.labelStyle,void 0,!0));let m=g.getBBox();if(cn(r.flowchart.htmlLabels)){const I=g.children[0],_=nt(g);m=I.getBoundingClientRect(),_.attr("width",m.width),_.attr("height",m.height)}const y=0*t.padding,b=y/2,x=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+y;t.width<=m.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const T=t.height+y,w=t.height+y-m.height-6,E=t.x-x/2,S=t.y-T/2;t.width=x;const C=t.y-t.height/2-b+m.height+2;let k;if(t.look==="handDrawn"){const I=t.cssClasses.includes("statediagram-cluster-alt"),_=Bt.svg(h),R=t.rx||t.ry?_.path(Gh(E,S,x,T,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:u,seed:a}):_.rectangle(E,S,x,T,{seed:a});k=h.insert(()=>R,":first-child");const M=_.rectangle(E,C,x,w,{fill:I?o:l,fillStyle:I?"hachure":"solid",stroke:u,seed:a});k=h.insert(()=>R,":first-child"),p=h.insert(()=>M)}else k=f.insert("rect",":first-child"),k.attr("class","outer").attr("x",E).attr("y",S).attr("width",x).attr("height",T).attr("data-look",t.look),p.attr("class","inner").attr("x",E).attr("y",C).attr("width",x).attr("height",w);d.attr("transform",`translate(${t.x-m.width/2}, ${S+1-(cn(r.flowchart.htmlLabels)?0:3)})`);const O=k.node().getBBox();return t.height=O.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(I){return kv(t,I)},{cluster:h,labelBBox:m}},"roundedWithTitle"),LVe=A(async(e,t)=>{me.info("Creating subgraph rect for ",t.id,t);const r=De(),{themeVariables:n,handDrawnSeed:a}=r,{clusterBkg:o,clusterBorder:l}=n,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:f}=Gt(t),d=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),p=cn(r.flowchart.htmlLabels),g=d.insert("g").attr("class","cluster-label "),m=await Nl(g,t.label,{style:t.labelStyle,useHtmlLabels:p,isNode:!0,width:t.width});let y=m.getBBox();if(cn(r.flowchart.htmlLabels)){const k=m.children[0],O=nt(m);y=k.getBoundingClientRect(),O.attr("width",y.width),O.attr("height",y.height)}const b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,T=t.x-b/2,w=t.y-x/2;me.trace("Data ",t,JSON.stringify(t));let E;if(t.look==="handDrawn"){const k=Bt.svg(d),O=$t(t,{roughness:.7,fill:o,stroke:l,fillWeight:4,seed:a}),I=k.path(Gh(T,w,b,x,t.rx),O);E=d.insert(()=>(me.debug("Rough node insert CXC",I),I),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",f.join(";").replace("fill","stroke"))}else E=d.insert("rect",":first-child"),E.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",T).attr("y",w).attr("width",b).attr("height",x);const{subGraphTitleTopMargin:S}=e3(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+S})`),c){const k=g.select("span");k&&k.attr("style",c)}const C=E.node().getBBox();return t.offsetX=0,t.width=C.width,t.height=C.height,t.offsetY=y.height-t.padding/2,t.intersect=function(k){return kv(t,k)},{cluster:d,labelBBox:y}},"kanbanSection"),MVe=A((e,t)=>{const r=De(),{themeVariables:n,handDrawnSeed:a}=r,{nodeBorder:o}=n,l=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),c=l.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;const f=t.height+u,d=t.x-h/2,p=t.y-f/2;t.width=h;let g;if(t.look==="handDrawn"){const b=Bt.svg(l).rectangle(d,p,h,f,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:o,seed:a});g=l.insert(()=>b,":first-child")}else g=c.insert("rect",":first-child"),g.attr("class","divider").attr("x",d).attr("y",p).attr("width",h).attr("height",f).attr("data-look",t.look);const m=g.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(y){return kv(t,y)},{cluster:l,labelBBox:{}}},"divider"),DVe=foe,PVe={rect:foe,squareRect:DVe,roundedWithTitle:NVe,noteGroup:_Ve,divider:MVe,kanbanSection:LVe},doe=new Map,QL=A(async(e,t)=>{const r=t.shape||"rect",n=await PVe[r](e,t);return doe.set(t.id,n),n},"insertCluster"),FVe=A(()=>{doe=new Map},"clear");function poe(e,t){return e.intersect(t)}A(poe,"intersectNode");var BVe=poe;function goe(e,t,r,n){var a=e.x,o=e.y,l=a-n.x,c=o-n.y,u=Math.sqrt(t*t*c*c+r*r*l*l),h=Math.abs(t*r*l/u);n.x<a&&(h=-h);var f=Math.abs(t*r*c/u);return n.y<o&&(f=-f),{x:a+h,y:o+f}}A(goe,"intersectEllipse");var moe=goe;function voe(e,t,r){return moe(e,t,t,r)}A(voe,"intersectCircle");var $Ve=voe;function yoe(e,t,r,n){var a,o,l,c,u,h,f,d,p,g,m,y,b,x,T;if(a=t.y-e.y,l=e.x-t.x,u=t.x*e.y-e.x*t.y,p=a*r.x+l*r.y+u,g=a*n.x+l*n.y+u,!(p!==0&&g!==0&&GR(p,g))&&(o=n.y-r.y,c=r.x-n.x,h=n.x*r.y-r.x*n.y,f=o*e.x+c*e.y+h,d=o*t.x+c*t.y+h,!(f!==0&&d!==0&&GR(f,d))&&(m=a*c-o*l,m!==0)))return y=Math.abs(m/2),b=l*h-c*u,x=b<0?(b-y)/m:(b+y)/m,b=o*u-a*h,T=b<0?(b-y)/m:(b+y)/m,{x,y:T}}A(yoe,"intersectLine");function GR(e,t){return e*t>0}A(GR,"sameSign");var HVe=yoe;function boe(e,t,r){let n=e.x,a=e.y,o=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(f){l=Math.min(l,f.x),c=Math.min(c,f.y)}):(l=Math.min(l,t.x),c=Math.min(c,t.y));let u=n-e.width/2-l,h=a-e.height/2-c;for(let f=0;f<t.length;f++){let d=t[f],p=t[f<t.length-1?f+1:0],g=HVe(e,r,{x:u+d.x,y:h+d.y},{x:u+p.x,y:h+p.y});g&&o.push(g)}return o.length?(o.length>1&&o.sort(function(f,d){let p=f.x-r.x,g=f.y-r.y,m=Math.sqrt(p*p+g*g),y=d.x-r.x,b=d.y-r.y,x=Math.sqrt(y*y+b*b);return m<x?-1:m===x?0:1}),o[0]):e}A(boe,"intersectPolygon");var UVe=boe,Nt={node:BVe,circle:$Ve,ellipse:moe,polygon:UVe,rect:kv};function xoe(e,t){const{labelStyles:r}=Gt(t);t.labelStyle=r;const n=cr(t);let a=n;n||(a="anchor");const o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=1,{cssStyles:c}=t,u=Bt.svg(o),h=$t(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const f=u.circle(0,0,l*2,h),d=o.insert(()=>f,":first-child");return d.attr("class","anchor").attr("style",ks(c)),Ut(t,d),t.intersect=function(p){return me.info("Circle intersect",t,l,p),Nt.circle(t,l,p)},o}A(xoe,"anchor");function YR(e,t,r,n,a,o,l){const u=(e+r)/2,h=(t+n)/2,f=Math.atan2(n-t,r-e),d=(r-e)/2,p=(n-t)/2,g=d/a,m=p/o,y=Math.sqrt(g**2+m**2);if(y>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-y**2),x=u+b*o*Math.sin(f)*(l?-1:1),T=h-b*a*Math.cos(f)*(l?-1:1),w=Math.atan2((t-T)/o,(e-x)/a);let S=Math.atan2((n-T)/o,(r-x)/a)-w;l&&S<0&&(S+=2*Math.PI),!l&&S>0&&(S-=2*Math.PI);const C=[];for(let k=0;k<20;k++){const O=k/19,I=w+O*S,_=x+a*Math.cos(I),R=T+o*Math.sin(I);C.push({x:_,y:R})}return C}A(YR,"generateArcPoints");async function Toe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=o.width+t.padding+20,c=o.height+t.padding,u=c/2,h=u/(2.5+c/50),{cssStyles:f}=t,d=[{x:l/2,y:-c/2},{x:-l/2,y:-c/2},...YR(-l/2,-c/2,-l/2,c/2,h,u,!1),{x:l/2,y:c/2},...YR(l/2,c/2,l/2,-c/2,h,u,!0)],p=Bt.svg(a),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=_r(d),y=p.path(m,g),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${h/2}, 0)`),Ut(t,b),t.intersect=function(x){return Nt.polygon(t,d,x)},a}A(Toe,"bowTieRect");function Yh(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}A(Yh,"insertPolygonShape");async function woe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=o.height+t.padding,c=12,u=o.width+t.padding+c,h=0,f=u,d=-l,p=0,g=[{x:h+c,y:d},{x:f,y:d},{x:f,y:p},{x:h,y:p},{x:h,y:d+c},{x:h+c,y:d}];let m;const{cssStyles:y}=t;if(t.look==="handDrawn"){const b=Bt.svg(a),x=$t(t,{}),T=_r(g),w=b.path(T,x);m=a.insert(()=>w,":first-child").attr("transform",`translate(${-u/2}, ${l/2})`),y&&m.attr("style",y)}else m=Yh(a,u,l,g);return n&&m.attr("style",n),Ut(t,m),t.intersect=function(b){return Nt.polygon(t,g,b)},a}A(woe,"card");function Eoe(e,t){const{nodeStyles:r}=Gt(t);t.label="";const n=e.insert("g").attr("class",cr(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,o=Math.max(28,t.width??0),l=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}],c=Bt.svg(n),u=$t(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=_r(l),f=c.path(h,u),d=n.insert(()=>f,":first-child");return a&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",a),r&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(p){return Nt.polygon(t,l,p)},n}A(Eoe,"choice");async function Soe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,halfPadding:l}=await lr(e,t,cr(t)),c=o.width/2+l;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=Bt.svg(a),d=$t(t,{}),p=f.circle(0,0,c*2,d);u=a.insert(()=>p,":first-child"),u.attr("class","basic label-container").attr("style",ks(h))}else u=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0);return Ut(t,u),t.intersect=function(f){return me.info("Circle intersect",t,c,f),Nt.circle(t,c,f)},a}A(Soe,"circle");function Aoe(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,a={x:n/2*t,y:n/2*r},o={x:-(n/2)*t,y:n/2*r},l={x:-(n/2)*t,y:-(n/2)*r},c={x:n/2*t,y:-(n/2)*r};return`M ${o.x},${o.y} L ${c.x},${c.y}
                   M ${a.x},${a.y} L ${l.x},${l.y}`}A(Aoe,"createLine");function koe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r,t.label="";const a=e.insert("g").attr("class",cr(t)).attr("id",t.domId??t.id),o=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:l}=t,c=Bt.svg(a),u=$t(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=c.circle(0,0,o*2,u),f=Aoe(o),d=c.path(f,u),p=a.insert(()=>h,":first-child");return p.insert(()=>d),l&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",l),n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),Ut(t,p),t.intersect=function(g){return me.info("crossedCircle intersect",t,{radius:o,point:g}),Nt.circle(t,o,g)},a}A(koe,"crossedCircle");function Wu(e,t,r,n=100,a=0,o=180){const l=[],c=a*Math.PI/180,f=(o*Math.PI/180-c)/(n-1);for(let d=0;d<n;d++){const p=c+d*f,g=e+r*Math.cos(p),m=t+r*Math.sin(p);l.push({x:-g,y:-m})}return l}A(Wu,"generateCirclePoints");async function Coe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=o.width+(t.padding??0),u=o.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=t,d=[...Wu(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...Wu(c/2+h*2,-h,h,20,-180,-270),...Wu(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...Wu(c/2,u/2,h,20,0,90)],p=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...Wu(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...Wu(c/2+c*.1,-h,h,20,-180,-270),...Wu(c/2+c*.1,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...Wu(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2,y:u/2+h}],g=Bt.svg(a),m=$t(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=_r(d).replace("Z",""),x=g.path(b,m),T=_r(p),w=g.path(T,{...m}),E=a.insert("g",":first-child");return E.insert(()=>w,":first-child").attr("stroke-opacity",0),E.insert(()=>x,":first-child"),E.attr("class","text"),f&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${h}, 0)`),l.attr("transform",`translate(${-c/2+h-(o.x-(o.left??0))},${-u/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,E),t.intersect=function(S){return Nt.polygon(t,p,S)},a}A(Coe,"curlyBraceLeft");function zu(e,t,r,n=100,a=0,o=180){const l=[],c=a*Math.PI/180,f=(o*Math.PI/180-c)/(n-1);for(let d=0;d<n;d++){const p=c+d*f,g=e+r*Math.cos(p),m=t+r*Math.sin(p);l.push({x:g,y:m})}return l}A(zu,"generateCirclePoints");async function Ioe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=o.width+(t.padding??0),u=o.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=t,d=[...zu(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...zu(c/2+h*2,-h,h,20,-180,-270),...zu(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...zu(c/2,u/2,h,20,0,90)],p=[{x:-c/2,y:-u/2-h},{x:c/2,y:-u/2-h},...zu(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...zu(c/2+h*2,-h,h,20,-180,-270),...zu(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...zu(c/2,u/2,h,20,0,90),{x:c/2,y:u/2+h},{x:-c/2,y:u/2+h}],g=Bt.svg(a),m=$t(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=_r(d).replace("Z",""),x=g.path(b,m),T=_r(p),w=g.path(T,{...m}),E=a.insert("g",":first-child");return E.insert(()=>w,":first-child").attr("stroke-opacity",0),E.insert(()=>x,":first-child"),E.attr("class","text"),f&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${-h}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(o.x-(o.left??0))},${-u/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,E),t.intersect=function(S){return Nt.polygon(t,p,S)},a}A(Ioe,"curlyBraceRight");function pa(e,t,r,n=100,a=0,o=180){const l=[],c=a*Math.PI/180,f=(o*Math.PI/180-c)/(n-1);for(let d=0;d<n;d++){const p=c+d*f,g=e+r*Math.cos(p),m=t+r*Math.sin(p);l.push({x:-g,y:-m})}return l}A(pa,"generateCirclePoints");async function Roe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=o.width+(t.padding??0),u=o.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=t,d=[...pa(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...pa(c/2+h*2,-h,h,20,-180,-270),...pa(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...pa(c/2,u/2,h,20,0,90)],p=[...pa(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...pa(-c/2-h/2,-h,h,20,0,90),...pa(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...pa(-c/2+h+h/2,u/2,h,30,-180,-270)],g=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...pa(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...pa(c/2+h*2,-h,h,20,-180,-270),...pa(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...pa(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2-h-h/2,y:u/2+h},...pa(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...pa(-c/2-h/2,-h,h,20,0,90),...pa(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...pa(-c/2+h+h/2,u/2,h,30,-180,-270)],m=Bt.svg(a),y=$t(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=_r(d).replace("Z",""),T=m.path(x,y),E=_r(p).replace("Z",""),S=m.path(E,y),C=_r(g),k=m.path(C,{...y}),O=a.insert("g",":first-child");return O.insert(()=>k,":first-child").attr("stroke-opacity",0),O.insert(()=>T,":first-child"),O.insert(()=>S,":first-child"),O.attr("class","text"),f&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",n),O.attr("transform",`translate(${h-h/4}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(o.x-(o.left??0))},${-u/2+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,O),t.intersect=function(I){return Nt.polygon(t,g,I)},a}A(Roe,"curlyBraces");async function Ooe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=80,c=20,u=Math.max(l,(o.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),h=Math.max(c,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=h/2,{cssStyles:d}=t,p=Bt.svg(a),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=u,y=h,b=m-f,x=y/4,T=[{x:b,y:0},{x,y:0},{x:0,y:y/2},{x,y},{x:b,y},...ZL(-b,-y/2,f,50,270,90)],w=_r(T),E=p.path(w,g),S=a.insert(()=>E,":first-child");return S.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",n),S.attr("transform",`translate(${-u/2}, ${-h/2})`),Ut(t,S),t.intersect=function(C){return Nt.polygon(t,T,C)},a}A(Ooe,"curvedTrapezoid");var WVe=A((e,t,r,n,a,o)=>[`M${e},${t+o}`,`a${a},${o} 0,0,0 ${r},0`,`a${a},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${o} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),zVe=A((e,t,r,n,a,o)=>[`M${e},${t+o}`,`M${e+r},${t+o}`,`a${a},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${o} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),GVe=A((e,t,r,n,a,o)=>[`M${e-r/2},${-n/2}`,`a${a},${o} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function _oe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+t.padding,t.width??0),u=c/2,h=u/(2.5+c/50),f=Math.max(o.height+h+t.padding,t.height??0);let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=Bt.svg(a),m=zVe(0,0,c,f,u,h),y=GVe(0,h,c,f,u,h),b=g.path(m,$t(t,{})),x=g.path(y,$t(t,{fill:"none"}));d=a.insert(()=>x,":first-child"),d=a.insert(()=>b,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{const g=WVe(0,0,c,f,u,h);d=a.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",ks(p)).attr("style",n)}return d.attr("label-offset-y",h),d.attr("transform",`translate(${-c/2}, ${-(f/2+h)})`),Ut(t,d),l.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+(t.padding??0)/1.5-(o.y-(o.top??0))})`),t.intersect=function(g){const m=Nt.rect(t,g),y=m.x-(t.x??0);if(u!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-h)){let b=h*h*(1-y*y/(u*u));b>0&&(b=Math.sqrt(b)),b=h-b,g.y-(t.y??0)>0&&(b=-b),m.y+=b}return m},a}A(_oe,"cylinder");async function Noe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=o.width+t.padding,u=o.height+t.padding,h=u*.2,f=-c/2,d=-u/2-h/2,{cssStyles:p}=t,g=Bt.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:f,y:d+h},{x:-f,y:d+h},{x:-f,y:-d},{x:f,y:-d},{x:f,y:d},{x:-f,y:d},{x:-f,y:d+h}],b=g.polygon(y.map(T=>[T.x,T.y]),m),x=a.insert(()=>b,":first-child");return x.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),l.attr("transform",`translate(${f+(t.padding??0)/2-(o.x-(o.left??0))}, ${d+h+(t.padding??0)/2-(o.y-(o.top??0))})`),Ut(t,x),t.intersect=function(T){return Nt.rect(t,T)},a}A(Noe,"dividedRectangle");async function Loe(e,t){var p,g;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,halfPadding:l}=await lr(e,t,cr(t)),u=o.width/2+l+5,h=o.width/2+l;let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=Bt.svg(a),y=$t(t,{roughness:.2,strokeWidth:2.5}),b=$t(t,{roughness:.2,strokeWidth:1.5}),x=m.circle(0,0,u*2,y),T=m.circle(0,0,h*2,b);f=a.insert("g",":first-child"),f.attr("class",ks(t.cssClasses)).attr("style",ks(d)),(p=f.node())==null||p.appendChild(x),(g=f.node())==null||g.appendChild(T)}else{f=a.insert("g",":first-child");const m=f.insert("circle",":first-child"),y=f.insert("circle");f.attr("class","basic label-container").attr("style",n),m.attr("class","outer-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0),y.attr("class","inner-circle").attr("style",n).attr("r",h).attr("cx",0).attr("cy",0)}return Ut(t,f),t.intersect=function(m){return me.info("DoubleCircle intersect",t,u,m),Nt.circle(t,u,m)},a}A(Loe,"doublecircle");function Moe(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=Gt(t);t.label="",t.labelStyle=n;const o=e.insert("g").attr("class",cr(t)).attr("id",t.domId??t.id),l=7,{cssStyles:c}=t,u=Bt.svg(o),{nodeBorder:h}=r,f=$t(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(f.roughness=0);const d=u.circle(0,0,l*2,f),p=o.insert(()=>d,":first-child");return p.selectAll("path").attr("style",`fill: ${h} !important;`),c&&c.length>0&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",c),a&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",a),Ut(t,p),t.intersect=function(g){return me.info("filledCircle intersect",t,{radius:l,point:g}),Nt.circle(t,l,g)},o}A(Moe,"filledCircle");async function Doe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=o.width+(t.padding??0),u=c+o.height,h=c+o.height,f=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:d}=t,p=Bt.svg(a),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=_r(f),y=p.path(m,g),b=a.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),t.width=c,t.height=u,Ut(t,b),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-u/2+(t.padding??0)/2+(o.y-(o.top??0))})`),t.intersect=function(x){return me.info("Triangle intersect",t,f,x),Nt.polygon(t,f,x)},a}A(Doe,"flippedTriangle");function Poe(e,t,{dir:r,config:{state:n,themeVariables:a}}){const{nodeStyles:o}=Gt(t);t.label="";const l=e.insert("g").attr("class",cr(t)).attr("id",t.domId??t.id),{cssStyles:c}=t;let u=Math.max(70,(t==null?void 0:t.width)??0),h=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(u=Math.max(10,(t==null?void 0:t.width)??0),h=Math.max(70,(t==null?void 0:t.height)??0));const f=-1*u/2,d=-1*h/2,p=Bt.svg(l),g=$t(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=p.rectangle(f,d,u,h,g),y=l.insert(()=>m,":first-child");c&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",c),o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),Ut(t,y);const b=(n==null?void 0:n.padding)??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(x){return Nt.rect(t,x)},l}A(Poe,"forkJoin");async function Foe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const a=80,o=50,{shapeSvg:l,bbox:c}=await lr(e,t,cr(t)),u=Math.max(a,c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o,c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=h/2,{cssStyles:d}=t,p=Bt.svg(l),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-u/2,y:-h/2},{x:u/2-f,y:-h/2},...ZL(-u/2+f,0,f,50,90,270),{x:u/2-f,y:h/2},{x:-u/2,y:h/2}],y=_r(m),b=p.path(y,g),x=l.insert(()=>b,":first-child");return x.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),Ut(t,x),t.intersect=function(T){return me.info("Pill intersect",t,{radius:f,point:T}),Nt.polygon(t,m,T)},l}A(Foe,"halfRoundedRectangle");var YVe=A((e,t,r,n,a)=>[`M${e+a},${t}`,`L${e+r-a},${t}`,`L${e+r},${t-n/2}`,`L${e+r-a},${t-n}`,`L${e+a},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createHexagonPathD");async function Boe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=4,c=o.height+t.padding,u=c/l,h=o.width+2*u+t.padding,f=[{x:u,y:0},{x:h-u,y:0},{x:h,y:-c/2},{x:h-u,y:-c},{x:u,y:-c},{x:0,y:-c/2}];let d;const{cssStyles:p}=t;if(t.look==="handDrawn"){const g=Bt.svg(a),m=$t(t,{}),y=YVe(0,0,h,c,u),b=g.path(y,m);d=a.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${c/2})`),p&&d.attr("style",p)}else d=Yh(a,h,c,f);return n&&d.attr("style",n),t.width=h,t.height=c,Ut(t,d),t.intersect=function(g){return Nt.polygon(t,f,g)},a}A(Boe,"hexagon");async function $oe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.label="",t.labelStyle=r;const{shapeSvg:a}=await lr(e,t,cr(t)),o=Math.max(30,(t==null?void 0:t.width)??0),l=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:c}=t,u=Bt.svg(a),h=$t(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:0,y:0},{x:o,y:0},{x:0,y:l},{x:o,y:l}],d=_r(f),p=u.path(d,h),g=a.insert(()=>p,":first-child");return g.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",c),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),g.attr("transform",`translate(${-o/2}, ${-l/2})`),Ut(t,g),t.intersect=function(m){return me.info("Pill intersect",t,{points:f}),Nt.polygon(t,f,m)},a}A($oe,"hourglass");async function Hoe(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Gt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,label:d}=await lr(e,t,"icon-shape default"),p=t.pos==="t",g=c,m=c,{nodeBorder:y}=r,{stylesMap:b}=Cv(t),x=-m/2,T=-g/2,w=t.label?8:0,E=Bt.svg(h),S=$t(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const C=E.rectangle(x,T,m,g,S),k=Math.max(m,f.width),O=g+f.height+w,I=E.rectangle(-k/2,-O/2,k,O,{...S,fill:"transparent",stroke:"none"}),_=h.insert(()=>C,":first-child"),R=h.insert(()=>I);if(t.icon){const M=h.append("g");M.html(`<g>${await Kd(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const $=M.node().getBBox(),N=$.width,P=$.height,F=$.x,L=$.y;M.attr("transform",`translate(${-N/2-F},${p?f.height/2+w/2-P/2-L:-f.height/2-w/2-P/2-L})`),M.attr("style",`color: ${b.get("stroke")??y};`)}return d.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${p?-O/2:O/2-f.height})`),_.attr("transform",`translate(0,${p?f.height/2+w/2:-f.height/2-w/2})`),Ut(t,R),t.intersect=function(M){if(me.info("iconSquare intersect",t,M),!t.label)return Nt.rect(t,M);const $=t.x??0,N=t.y??0,P=t.height??0;let F=[];return p?F=[{x:$-f.width/2,y:N-P/2},{x:$+f.width/2,y:N-P/2},{x:$+f.width/2,y:N-P/2+f.height+w},{x:$+m/2,y:N-P/2+f.height+w},{x:$+m/2,y:N+P/2},{x:$-m/2,y:N+P/2},{x:$-m/2,y:N-P/2+f.height+w},{x:$-f.width/2,y:N-P/2+f.height+w}]:F=[{x:$-m/2,y:N-P/2},{x:$+m/2,y:N-P/2},{x:$+m/2,y:N-P/2+g},{x:$+f.width/2,y:N-P/2+g},{x:$+f.width/2/2,y:N+P/2},{x:$-f.width/2,y:N+P/2},{x:$-f.width/2,y:N-P/2+g},{x:$-m/2,y:N-P/2+g}],Nt.polygon(t,F,M)},h}A(Hoe,"icon");async function Uoe(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Gt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,label:d}=await lr(e,t,"icon-shape default"),p=20,g=t.label?8:0,m=t.pos==="t",{nodeBorder:y,mainBkg:b}=r,{stylesMap:x}=Cv(t),T=Bt.svg(h),w=$t(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=x.get("fill");w.stroke=E??b;const S=h.append("g");t.icon&&S.html(`<g>${await Kd(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const C=S.node().getBBox(),k=C.width,O=C.height,I=C.x,_=C.y,R=Math.max(k,O)*Math.SQRT2+p*2,M=T.circle(0,0,R,w),$=Math.max(R,f.width),N=R+f.height+g,P=T.rectangle(-$/2,-N/2,$,N,{...w,fill:"transparent",stroke:"none"}),F=h.insert(()=>M,":first-child"),L=h.insert(()=>P);return S.attr("transform",`translate(${-k/2-I},${m?f.height/2+g/2-O/2-_:-f.height/2-g/2-O/2-_})`),S.attr("style",`color: ${x.get("stroke")??y};`),d.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-N/2:N/2-f.height})`),F.attr("transform",`translate(0,${m?f.height/2+g/2:-f.height/2-g/2})`),Ut(t,L),t.intersect=function(D){return me.info("iconSquare intersect",t,D),Nt.rect(t,D)},h}A(Uoe,"iconCircle");async function Woe(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Gt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,halfPadding:d,label:p}=await lr(e,t,"icon-shape default"),g=t.pos==="t",m=c+d*2,y=c+d*2,{nodeBorder:b,mainBkg:x}=r,{stylesMap:T}=Cv(t),w=-y/2,E=-m/2,S=t.label?8:0,C=Bt.svg(h),k=$t(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const O=T.get("fill");k.stroke=O??x;const I=C.path(Gh(w,E,y,m,5),k),_=Math.max(y,f.width),R=m+f.height+S,M=C.rectangle(-_/2,-R/2,_,R,{...k,fill:"transparent",stroke:"none"}),$=h.insert(()=>I,":first-child").attr("class","icon-shape2"),N=h.insert(()=>M);if(t.icon){const P=h.append("g");P.html(`<g>${await Kd(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const F=P.node().getBBox(),L=F.width,D=F.height,B=F.x,H=F.y;P.attr("transform",`translate(${-L/2-B},${g?f.height/2+S/2-D/2-H:-f.height/2-S/2-D/2-H})`),P.attr("style",`color: ${T.get("stroke")??b};`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${g?-R/2:R/2-f.height})`),$.attr("transform",`translate(0,${g?f.height/2+S/2:-f.height/2-S/2})`),Ut(t,N),t.intersect=function(P){if(me.info("iconSquare intersect",t,P),!t.label)return Nt.rect(t,P);const F=t.x??0,L=t.y??0,D=t.height??0;let B=[];return g?B=[{x:F-f.width/2,y:L-D/2},{x:F+f.width/2,y:L-D/2},{x:F+f.width/2,y:L-D/2+f.height+S},{x:F+y/2,y:L-D/2+f.height+S},{x:F+y/2,y:L+D/2},{x:F-y/2,y:L+D/2},{x:F-y/2,y:L-D/2+f.height+S},{x:F-f.width/2,y:L-D/2+f.height+S}]:B=[{x:F-y/2,y:L-D/2},{x:F+y/2,y:L-D/2},{x:F+y/2,y:L-D/2+m},{x:F+f.width/2,y:L-D/2+m},{x:F+f.width/2/2,y:L+D/2},{x:F-f.width/2,y:L+D/2},{x:F-f.width/2,y:L-D/2+m},{x:F-y/2,y:L-D/2+m}],Nt.polygon(t,B,P)},h}A(Woe,"iconRounded");async function zoe(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:a}=Gt(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(o,l),u=n==null?void 0:n.wrappingWidth;t.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,halfPadding:d,label:p}=await lr(e,t,"icon-shape default"),g=t.pos==="t",m=c+d*2,y=c+d*2,{nodeBorder:b,mainBkg:x}=r,{stylesMap:T}=Cv(t),w=-y/2,E=-m/2,S=t.label?8:0,C=Bt.svg(h),k=$t(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const O=T.get("fill");k.stroke=O??x;const I=C.path(Gh(w,E,y,m,.1),k),_=Math.max(y,f.width),R=m+f.height+S,M=C.rectangle(-_/2,-R/2,_,R,{...k,fill:"transparent",stroke:"none"}),$=h.insert(()=>I,":first-child"),N=h.insert(()=>M);if(t.icon){const P=h.append("g");P.html(`<g>${await Kd(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const F=P.node().getBBox(),L=F.width,D=F.height,B=F.x,H=F.y;P.attr("transform",`translate(${-L/2-B},${g?f.height/2+S/2-D/2-H:-f.height/2-S/2-D/2-H})`),P.attr("style",`color: ${T.get("stroke")??b};`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${g?-R/2:R/2-f.height})`),$.attr("transform",`translate(0,${g?f.height/2+S/2:-f.height/2-S/2})`),Ut(t,N),t.intersect=function(P){if(me.info("iconSquare intersect",t,P),!t.label)return Nt.rect(t,P);const F=t.x??0,L=t.y??0,D=t.height??0;let B=[];return g?B=[{x:F-f.width/2,y:L-D/2},{x:F+f.width/2,y:L-D/2},{x:F+f.width/2,y:L-D/2+f.height+S},{x:F+y/2,y:L-D/2+f.height+S},{x:F+y/2,y:L+D/2},{x:F-y/2,y:L+D/2},{x:F-y/2,y:L-D/2+f.height+S},{x:F-f.width/2,y:L-D/2+f.height+S}]:B=[{x:F-y/2,y:L-D/2},{x:F+y/2,y:L-D/2},{x:F+y/2,y:L-D/2+m},{x:F+f.width/2,y:L-D/2+m},{x:F+f.width/2/2,y:L+D/2},{x:F-f.width/2,y:L+D/2},{x:F-f.width/2,y:L-D/2+m},{x:F-y/2,y:L-D/2+m}],Nt.polygon(t,B,P)},h}A(zoe,"iconSquare");async function Goe(e,t,{config:{flowchart:r}}){const n=new Image;n.src=(t==null?void 0:t.img)??"",await n.decode();const a=Number(n.naturalWidth.toString().replace("px","")),o=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/o;const{labelStyles:l}=Gt(t);t.labelStyle=l;const c=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const u=Math.max(t.label?c??0:0,(t==null?void 0:t.assetWidth)??a),h=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:u,f=t.constraint==="on"?h/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??o;t.width=Math.max(h,c??0);const{shapeSvg:d,bbox:p,label:g}=await lr(e,t,"image-shape default"),m=t.pos==="t",y=-h/2,b=-f/2,x=t.label?8:0,T=Bt.svg(d),w=$t(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=T.rectangle(y,b,h,f,w),S=Math.max(h,p.width),C=f+p.height+x,k=T.rectangle(-S/2,-C/2,S,C,{...w,fill:"none",stroke:"none"}),O=d.insert(()=>E,":first-child"),I=d.insert(()=>k);if(t.img){const _=d.append("image");_.attr("href",t.img),_.attr("width",h),_.attr("height",f),_.attr("preserveAspectRatio","none"),_.attr("transform",`translate(${-h/2},${m?C/2-f:-C/2})`)}return g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${m?-f/2-p.height/2-x/2:f/2-p.height/2+x/2})`),O.attr("transform",`translate(0,${m?p.height/2+x/2:-p.height/2-x/2})`),Ut(t,I),t.intersect=function(_){if(me.info("iconSquare intersect",t,_),!t.label)return Nt.rect(t,_);const R=t.x??0,M=t.y??0,$=t.height??0;let N=[];return m?N=[{x:R-p.width/2,y:M-$/2},{x:R+p.width/2,y:M-$/2},{x:R+p.width/2,y:M-$/2+p.height+x},{x:R+h/2,y:M-$/2+p.height+x},{x:R+h/2,y:M+$/2},{x:R-h/2,y:M+$/2},{x:R-h/2,y:M-$/2+p.height+x},{x:R-p.width/2,y:M-$/2+p.height+x}]:N=[{x:R-h/2,y:M-$/2},{x:R+h/2,y:M-$/2},{x:R+h/2,y:M-$/2+f},{x:R+p.width/2,y:M-$/2+f},{x:R+p.width/2/2,y:M+$/2},{x:R-p.width/2,y:M+$/2},{x:R-p.width/2,y:M-$/2+f},{x:R-h/2,y:M-$/2+f}],Nt.polygon(t,N,_)},d}A(Goe,"imageSquare");async function Yoe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=[{x:0,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:-3*c/6,y:-c}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Bt.svg(a),p=$t(t,{}),g=_r(u),m=d.path(g,p);h=a.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Yh(a,l,c,u);return n&&h.attr("style",n),t.width=l,t.height=c,Ut(t,h),t.intersect=function(d){return Nt.polygon(t,u,d)},a}A(Yoe,"inv_trapezoid");async function eA(e,t,r){const{labelStyles:n,nodeStyles:a}=Gt(t);t.labelStyle=n;const{shapeSvg:o,bbox:l}=await lr(e,t,cr(t)),c=Math.max(l.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),u=Math.max(l.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),h=-c/2,f=-u/2;let d,{rx:p,ry:g}=t;const{cssStyles:m}=t;if(r!=null&&r.rx&&r.ry&&(p=r.rx,g=r.ry),t.look==="handDrawn"){const y=Bt.svg(o),b=$t(t,{}),x=p||g?y.path(Gh(h,f,c,u,p||0),b):y.rectangle(h,f,c,u,b);d=o.insert(()=>x,":first-child"),d.attr("class","basic label-container").attr("style",ks(m))}else d=o.insert("rect",":first-child"),d.attr("class","basic label-container").attr("style",a).attr("rx",ks(p)).attr("ry",ks(g)).attr("x",h).attr("y",f).attr("width",c).attr("height",u);return Ut(t,d),t.intersect=function(y){return Nt.rect(t,y)},o}A(eA,"drawRect");async function Voe(e,t){const{shapeSvg:r,bbox:n,label:a}=await lr(e,t,"label"),o=r.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Ut(t,o),t.intersect=function(u){return Nt.rect(t,u)},r}A(Voe,"labelRect");async function qoe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:0,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:-(3*c)/6,y:-c}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Bt.svg(a),p=$t(t,{}),g=_r(u),m=d.path(g,p);h=a.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Yh(a,l,c,u);return n&&h.attr("style",n),t.width=l,t.height=c,Ut(t,h),t.intersect=function(d){return Nt.polygon(t,u,d)},a}A(qoe,"lean_left");async function joe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),u=[{x:-3*c/6,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:0,y:-c}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Bt.svg(a),p=$t(t,{}),g=_r(u),m=d.path(g,p);h=a.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Yh(a,l,c,u);return n&&h.attr("style",n),t.width=l,t.height=c,Ut(t,h),t.intersect=function(d){return Nt.polygon(t,u,d)},a}A(joe,"lean_right");function Xoe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.label="",t.labelStyle=r;const a=e.insert("g").attr("class",cr(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,l=Math.max(35,(t==null?void 0:t.width)??0),c=Math.max(35,(t==null?void 0:t.height)??0),u=7,h=[{x:l,y:0},{x:0,y:c+u/2},{x:l-2*u,y:c+u/2},{x:0,y:2*c},{x:l,y:c-u/2},{x:2*u,y:c-u/2}],f=Bt.svg(a),d=$t(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=_r(h),g=f.path(p,d),m=a.insert(()=>g,":first-child");return o&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),m.attr("transform",`translate(-${l/2},${-c})`),Ut(t,m),t.intersect=function(y){return me.info("lightningBolt intersect",t,y),Nt.polygon(t,h,y)},a}A(Xoe,"lightningBolt");var VVe=A((e,t,r,n,a,o,l)=>[`M${e},${t+o}`,`a${a},${o} 0,0,0 ${r},0`,`a${a},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${o} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+o+l}`,`a${a},${o} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),qVe=A((e,t,r,n,a,o,l)=>[`M${e},${t+o}`,`M${e+r},${t+o}`,`a${a},${o} 0,0,0 ${-r},0`,`l0,${n}`,`a${a},${o} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+o+l}`,`a${a},${o} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),jVe=A((e,t,r,n,a,o)=>[`M${e-r/2},${-n/2}`,`a${a},${o} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Koe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0),t.width??0),u=c/2,h=u/(2.5+c/50),f=Math.max(o.height+h+(t.padding??0),t.height??0),d=f*.1;let p;const{cssStyles:g}=t;if(t.look==="handDrawn"){const m=Bt.svg(a),y=qVe(0,0,c,f,u,h,d),b=jVe(0,h,c,f,u,h),x=$t(t,{}),T=m.path(y,x),w=m.path(b,x);a.insert(()=>w,":first-child").attr("class","line"),p=a.insert(()=>T,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{const m=VVe(0,0,c,f,u,h,d);p=a.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",ks(g)).attr("style",n)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-c/2}, ${-(f/2+h)})`),Ut(t,p),l.attr("transform",`translate(${-(o.width/2)-(o.x-(o.left??0))}, ${-(o.height/2)+h-(o.y-(o.top??0))})`),t.intersect=function(m){const y=Nt.rect(t,m),b=y.x-(t.x??0);if(u!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-h)){let x=h*h*(1-b*b/(u*u));x>0&&(x=Math.sqrt(x)),x=h-x,m.y-(t.y??0)>0&&(x=-x),y.y+=x}return y},a}A(Koe,"linedCylinder");async function Zoe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=u/4,f=u+h,{cssStyles:d}=t,p=Bt.svg(a),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-c/2-c/2*.1,y:-f/2},{x:-c/2-c/2*.1,y:f/2},...Z0(-c/2-c/2*.1,f/2,c/2+c/2*.1,f/2,h,.8),{x:c/2+c/2*.1,y:-f/2},{x:-c/2-c/2*.1,y:-f/2},{x:-c/2,y:-f/2},{x:-c/2,y:f/2*1.1},{x:-c/2,y:-f/2}],y=p.polygon(m.map(x=>[x.x,x.y]),g),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)+c/2*.1/2-(o.x-(o.left??0))},${-u/2+(t.padding??0)-h/2-(o.y-(o.top??0))})`),Ut(t,b),t.intersect=function(x){return Nt.polygon(t,m,x)},a}A(Zoe,"linedWaveEdgedRect");async function Qoe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=5,f=-c/2,d=-u/2,{cssStyles:p}=t,g=Bt.svg(a),m=$t(t,{}),y=[{x:f-h,y:d+h},{x:f-h,y:d+u+h},{x:f+c-h,y:d+u+h},{x:f+c-h,y:d+u},{x:f+c,y:d+u},{x:f+c,y:d+u-h},{x:f+c+h,y:d+u-h},{x:f+c+h,y:d-h},{x:f+h,y:d-h},{x:f+h,y:d},{x:f,y:d},{x:f,y:d+h}],b=[{x:f,y:d+h},{x:f+c-h,y:d+h},{x:f+c-h,y:d+u},{x:f+c,y:d+u},{x:f+c,y:d},{x:f,y:d}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=_r(y),T=g.path(x,m),w=_r(b),E=g.path(w,{...m,fill:"none"}),S=a.insert(()=>E,":first-child");return S.insert(()=>T,":first-child"),S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),l.attr("transform",`translate(${-(o.width/2)-h-(o.x-(o.left??0))}, ${-(o.height/2)+h-(o.y-(o.top??0))})`),Ut(t,S),t.intersect=function(C){return Nt.polygon(t,y,C)},a}A(Qoe,"multiRect");async function Joe(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=u/4,f=u+h,d=-c/2,p=-f/2,g=5,{cssStyles:m}=t,y=Z0(d-g,p+f+g,d+c-g,p+f+g,h,.8),b=y==null?void 0:y[y.length-1],x=[{x:d-g,y:p+g},{x:d-g,y:p+f+g},...y,{x:d+c-g,y:b.y-g},{x:d+c,y:b.y-g},{x:d+c,y:b.y-2*g},{x:d+c+g,y:b.y-2*g},{x:d+c+g,y:p-g},{x:d+g,y:p-g},{x:d+g,y:p},{x:d,y:p},{x:d,y:p+g}],T=[{x:d,y:p+g},{x:d+c-g,y:p+g},{x:d+c-g,y:b.y-g},{x:d+c,y:b.y-g},{x:d+c,y:p},{x:d,y:p}],w=Bt.svg(a),E=$t(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const S=_r(x),C=w.path(S,E),k=_r(T),O=w.path(k,E),I=a.insert(()=>C,":first-child");return I.insert(()=>O),I.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-(o.width/2)-g-(o.x-(o.left??0))}, ${-(o.height/2)+g-h/2-(o.y-(o.top??0))})`),Ut(t,I),t.intersect=function(_){return Nt.polygon(t,x,_)},a}A(Joe,"multiWaveEdgedRectangle");async function ele(e,t,{config:{themeVariables:r}}){var x;const{labelStyles:n,nodeStyles:a}=Gt(t);t.labelStyle=n,t.useHtmlLabels||((x=Fn().flowchart)==null?void 0:x.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:l,bbox:c}=await lr(e,t,cr(t)),u=Math.max(c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=-u/2,d=-h/2,{cssStyles:p}=t,g=Bt.svg(l),m=$t(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=g.rectangle(f,d,u,h,m),b=l.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),a&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",a),Ut(t,b),t.intersect=function(T){return Nt.rect(t,T)},l}A(ele,"note");var XVe=A((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function tle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=o.width+t.padding,c=o.height+t.padding,u=l+c,h=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let f;const{cssStyles:d}=t;if(t.look==="handDrawn"){const p=Bt.svg(a),g=$t(t,{}),m=XVe(0,0,u),y=p.path(m,g);f=a.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`),d&&f.attr("style",d)}else f=Yh(a,u,u,h);return n&&f.attr("style",n),Ut(t,f),t.intersect=function(p){return me.debug(`APA12 Intersect called SPLIT
point:`,p,`
node:
`,t,`
res:`,Nt.polygon(t,h,p)),Nt.polygon(t,h,p)},a}A(tle,"question");async function rle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0),(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0),(t==null?void 0:t.height)??0),h=-c/2,f=-u/2,d=f/2,p=[{x:h+d,y:f},{x:h,y:0},{x:h+d,y:-f},{x:-h,y:-f},{x:-h,y:f}],{cssStyles:g}=t,m=Bt.svg(a),y=$t(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=_r(p),x=m.path(b,y),T=a.insert(()=>x,":first-child");return T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(${-d/2},0)`),l.attr("transform",`translate(${-d/2-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Ut(t,T),t.intersect=function(w){return Nt.polygon(t,p,w)},a}A(rle,"rect_left_inv_arrow");async function nle(e,t){var O,I;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";const o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=o.insert("g"),c=o.insert("g").attr("class","label").attr("style",n),u=t.description,h=t.label,f=c.node().appendChild(await Cd(h,t.labelStyle,!0,!0));let d={width:0,height:0};if(cn((I=(O=De())==null?void 0:O.flowchart)==null?void 0:I.htmlLabels)){const _=f.children[0],R=nt(f);d=_.getBoundingClientRect(),R.attr("width",d.width),R.attr("height",d.height)}me.info("Text 2",u);const p=u||[],g=f.getBBox(),m=c.node().appendChild(await Cd(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0)),y=m.children[0],b=nt(m);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height);const x=(t.padding||0)/2;nt(m).attr("transform","translate( "+(d.width>g.width?0:(g.width-d.width)/2)+", "+(g.height+x+5)+")"),nt(f).attr("transform","translate( "+(d.width<g.width?0:-(g.width-d.width)/2)+", 0)"),d=c.node().getBBox(),c.attr("transform","translate("+-d.width/2+", "+(-d.height/2-x+3)+")");const T=d.width+(t.padding||0),w=d.height+(t.padding||0),E=-d.width/2-x,S=-d.height/2-x;let C,k;if(t.look==="handDrawn"){const _=Bt.svg(o),R=$t(t,{}),M=_.path(Gh(E,S,T,w,t.rx||0),R),$=_.line(-d.width/2-x,-d.height/2-x+g.height+x,d.width/2+x,-d.height/2-x+g.height+x,R);k=o.insert(()=>(me.debug("Rough node insert CXC",M),$),":first-child"),C=o.insert(()=>(me.debug("Rough node insert CXC",M),M),":first-child")}else C=l.insert("rect",":first-child"),k=l.insert("line"),C.attr("class","outer title-state").attr("style",n).attr("x",-d.width/2-x).attr("y",-d.height/2-x).attr("width",d.width+(t.padding||0)).attr("height",d.height+(t.padding||0)),k.attr("class","divider").attr("x1",-d.width/2-x).attr("x2",d.width/2+x).attr("y1",-d.height/2-x+g.height+x).attr("y2",-d.height/2-x+g.height+x);return Ut(t,C),t.intersect=function(_){return Nt.rect(t,_)},o}A(nle,"rectWithTitle");async function ile(e,t){const r={rx:5,ry:5,labelPaddingX:((t==null?void 0:t.padding)||0)*1,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return eA(e,t,r)}A(ile,"roundedRect");async function ale(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=(t==null?void 0:t.padding)??0,u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=-o.width/2-c,d=-o.height/2-c,{cssStyles:p}=t,g=Bt.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:f,y:d},{x:f+u+8,y:d},{x:f+u+8,y:d+h},{x:f-8,y:d+h},{x:f-8,y:d},{x:f,y:d},{x:f,y:d+h}],b=g.polygon(y.map(T=>[T.x,T.y]),m),x=a.insert(()=>b,":first-child");return x.attr("class","basic label-container").attr("style",ks(p)),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),p&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),l.attr("transform",`translate(${-u/2+4+(t.padding??0)-(o.x-(o.left??0))},${-h/2+(t.padding??0)-(o.y-(o.top??0))})`),Ut(t,x),t.intersect=function(T){return Nt.rect(t,T)},a}A(ale,"shadedProcess");async function sle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-c/2,f=-u/2,{cssStyles:d}=t,p=Bt.svg(a),g=$t(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const m=[{x:h,y:f},{x:h,y:f+u},{x:h+c,y:f+u},{x:h+c,y:f-u/2}],y=_r(m),b=p.path(y,g),x=a.insert(()=>b,":first-child");return x.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(0, ${u/4})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(o.x-(o.left??0))}, ${-u/4+(t.padding??0)-(o.y-(o.top??0))})`),Ut(t,x),t.intersect=function(T){return Nt.polygon(t,m,T)},a}A(sle,"slopedRect");async function ole(e,t){const r={rx:0,ry:0,labelPaddingX:((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return eA(e,t,r)}A(ole,"squareRect");async function lle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=o.height+t.padding,c=o.width+l/4+t.padding;let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const f=Bt.svg(a),d=$t(t,{}),p=Gh(-c/2,-l/2,c,l,l/2),g=f.path(p,d);u=a.insert(()=>g,":first-child"),u.attr("class","basic label-container").attr("style",ks(h))}else u=a.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",n).attr("rx",l/2).attr("ry",l/2).attr("x",-c/2).attr("y",-l/2).attr("width",c).attr("height",l);return Ut(t,u),t.intersect=function(f){return Nt.rect(t,f)},a}A(lle,"stadium");async function cle(e,t){return eA(e,t,{rx:5,ry:5})}A(cle,"state");function ule(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:a}=Gt(t);t.labelStyle=n;const{cssStyles:o}=t,{lineColor:l,stateBorder:c,nodeBorder:u}=r,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),f=Bt.svg(h),d=$t(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=f.circle(0,0,14,{...d,stroke:l,strokeWidth:2}),g=c??u,m=f.circle(0,0,5,{...d,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),y=h.insert(()=>p,":first-child");return y.insert(()=>m),o&&y.selectAll("path").attr("style",o),a&&y.selectAll("path").attr("style",a),Ut(t,y),t.intersect=function(b){return Nt.circle(t,7,b)},h}A(ule,"stateEnd");function hle(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let o;if(t.look==="handDrawn"){const c=Bt.svg(a).circle(0,0,14,RVe(n));o=a.insert(()=>c),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else o=a.insert("circle",":first-child"),o.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Ut(t,o),t.intersect=function(l){return Nt.circle(t,7,l)},a}A(hle,"stateStart");async function fle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=((t==null?void 0:t.padding)||0)/2,c=o.width+t.padding,u=o.height+t.padding,h=-o.width/2-l,f=-o.height/2-l,d=[{x:0,y:0},{x:c,y:0},{x:c,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){const p=Bt.svg(a),g=$t(t,{}),m=p.rectangle(h-8,f,c+16,u,g),y=p.line(h,f,h,f+u,g),b=p.line(h+c,f,h+c,f+u,g);a.insert(()=>y,":first-child"),a.insert(()=>b,":first-child");const x=a.insert(()=>m,":first-child"),{cssStyles:T}=t;x.attr("class","basic label-container").attr("style",ks(T)),Ut(t,x)}else{const p=Yh(a,c,u,d);n&&p.attr("style",n),Ut(t,p)}return t.intersect=function(p){return Nt.polygon(t,d,p)},a}A(fle,"subroutine");async function dle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-l/2,h=-c/2,f=.2*c,d=.2*c,{cssStyles:p}=t,g=Bt.svg(a),m=$t(t,{}),y=[{x:u-f/2,y:h},{x:u+l+f/2,y:h},{x:u+l+f/2,y:h+c},{x:u-f/2,y:h+c}],b=[{x:u+l-f/2,y:h+c},{x:u+l+f/2,y:h+c},{x:u+l+f/2,y:h+c-d}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=_r(y),T=g.path(x,m),w=_r(b),E=g.path(w,{...m,fillStyle:"solid"}),S=a.insert(()=>E,":first-child");return S.insert(()=>T,":first-child"),S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),Ut(t,S),t.intersect=function(C){return Nt.polygon(t,y,C)},a}A(dle,"taggedRect");async function ple(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=u/4,f=.2*c,d=.2*u,p=u+h,{cssStyles:g}=t,m=Bt.svg(a),y=$t(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:-c/2-c/2*.1,y:p/2},...Z0(-c/2-c/2*.1,p/2,c/2+c/2*.1,p/2,h,.8),{x:c/2+c/2*.1,y:-p/2},{x:-c/2-c/2*.1,y:-p/2}],x=-c/2+c/2*.1,T=-p/2-d*.4,w=[{x:x+c-f,y:(T+u)*1.4},{x:x+c,y:T+u-d},{x:x+c,y:(T+u)*.9},...Z0(x+c,(T+u)*1.3,x+c-f,(T+u)*1.5,-u*.03,.5)],E=_r(b),S=m.path(E,y),C=_r(w),k=m.path(C,{...y,fillStyle:"solid"}),O=a.insert(()=>k,":first-child");return O.insert(()=>S,":first-child"),O.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&O.selectAll("path").attr("style",n),O.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(o.x-(o.left??0))},${-u/2+(t.padding??0)-h/2-(o.y-(o.top??0))})`),Ut(t,O),t.intersect=function(I){return Nt.polygon(t,b,I)},a}A(ple,"taggedWaveEdgedRectangle");async function gle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=Math.max(o.width+t.padding,(t==null?void 0:t.width)||0),c=Math.max(o.height+t.padding,(t==null?void 0:t.height)||0),u=-l/2,h=-c/2,f=a.insert("rect",":first-child");return f.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",l).attr("height",c),Ut(t,f),t.intersect=function(d){return Nt.rect(t,d)},a}A(gle,"text");var KVe=A((e,t,r,n,a,o)=>`M${e},${t}
    a${a},${o} 0,0,1 0,${-n}
    l${r},0
    a${a},${o} 0,0,1 0,${n}
    M${r},${-n}
    a${a},${o} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),ZVe=A((e,t,r,n,a,o)=>[`M${e},${t}`,`M${e+r},${t}`,`a${a},${o} 0,0,0 0,${-n}`,`l${-r},0`,`a${a},${o} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),QVe=A((e,t,r,n,a,o)=>[`M${e+r/2},${-n/2}`,`a${a},${o} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function mle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l,halfPadding:c}=await lr(e,t,cr(t)),u=t.look==="neo"?c*2:c,h=o.height+u,f=h/2,d=f/(2.5+h/50),p=o.width+d+u,{cssStyles:g}=t;let m;if(t.look==="handDrawn"){const y=Bt.svg(a),b=ZVe(0,0,p,h,d,f),x=QVe(0,0,p,h,d,f),T=y.path(b,$t(t,{})),w=y.path(x,$t(t,{fill:"none"}));m=a.insert(()=>w,":first-child"),m=a.insert(()=>T,":first-child"),m.attr("class","basic label-container"),g&&m.attr("style",g)}else{const y=KVe(0,0,p,h,d,f);m=a.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",ks(g)).attr("style",n),m.attr("class","basic label-container"),g&&m.selectAll("path").attr("style",g),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",d),m.attr("transform",`translate(${-p/2}, ${h/2} )`),l.attr("transform",`translate(${-(o.width/2)-d-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Ut(t,m),t.intersect=function(y){const b=Nt.rect(t,y),x=b.y-(t.y??0);if(f!=0&&(Math.abs(x)<(t.height??0)/2||Math.abs(x)==(t.height??0)/2&&Math.abs(b.x-(t.x??0))>(t.width??0)/2-d)){let T=d*d*(1-x*x/(f*f));T!=0&&(T=Math.sqrt(Math.abs(T))),T=d-T,y.x-(t.x??0)>0&&(T=-T),b.x+=T}return b},a}A(mle,"tiltedCylinder");async function vle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=o.width+t.padding,c=o.height+t.padding,u=[{x:-3*c/6,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:0,y:-c}];let h;const{cssStyles:f}=t;if(t.look==="handDrawn"){const d=Bt.svg(a),p=$t(t,{}),g=_r(u),m=d.path(g,p);h=a.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Yh(a,l,c,u);return n&&h.attr("style",n),t.width=l,t.height=c,Ut(t,h),t.intersect=function(d){return Nt.polygon(t,u,d)},a}A(vle,"trapezoid");async function yle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=60,c=20,u=Math.max(l,o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(c,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:f}=t,d=Bt.svg(a),p=$t(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const g=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],m=_r(g),y=d.path(m,p),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Ut(t,b),t.intersect=function(x){return Nt.polygon(t,g,x)},a}A(yle,"trapezoidalPentagon");async function ble(e,t){var T;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=cn((T=De().flowchart)==null?void 0:T.htmlLabels),u=o.width+(t.padding??0),h=u+o.height,f=u+o.height,d=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-h}],{cssStyles:p}=t,g=Bt.svg(a),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=_r(d),b=g.path(y,m),x=a.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return p&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=u,t.height=h,Ut(t,x),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${h/2-(o.height+(t.padding??0)/(c?2:1)-(o.y-(o.top??0)))})`),t.intersect=function(w){return me.info("Triangle intersect",t,d,w),Nt.polygon(t,d,w)},a}A(ble,"triangle");async function xle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=u/8,f=u+h,{cssStyles:d}=t,g=70-c,m=g>0?g/2:0,y=Bt.svg(a),b=$t(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=[{x:-c/2-m,y:f/2},...Z0(-c/2-m,f/2,c/2+m,f/2,h,.8),{x:c/2+m,y:-f/2},{x:-c/2-m,y:-f/2}],T=_r(x),w=y.path(T,b),E=a.insert(()=>w,":first-child");return E.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(o.x-(o.left??0))},${-u/2+(t.padding??0)-h-(o.y-(o.top??0))})`),Ut(t,E),t.intersect=function(S){return Nt.polygon(t,x,S)},a}A(xle,"waveEdgedRectangle");async function Tle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await lr(e,t,cr(t)),l=100,c=50,u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=u/h;let d=u,p=h;d>p*f?p=d/f:d=p*f,d=Math.max(d,l),p=Math.max(p,c);const g=Math.min(p*.2,p/4),m=p+g*2,{cssStyles:y}=t,b=Bt.svg(a),x=$t(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const T=[{x:-d/2,y:m/2},...Z0(-d/2,m/2,d/2,m/2,g,1),{x:d/2,y:-m/2},...Z0(d/2,-m/2,-d/2,-m/2,g,-1)],w=_r(T),E=b.path(w,x),S=a.insert(()=>E,":first-child");return S.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),Ut(t,S),t.intersect=function(C){return Nt.polygon(t,T,C)},a}A(Tle,"waveRectangle");async function wle(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:a,bbox:o,label:l}=await lr(e,t,cr(t)),c=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=5,f=-c/2,d=-u/2,{cssStyles:p}=t,g=Bt.svg(a),m=$t(t,{}),y=[{x:f-h,y:d-h},{x:f-h,y:d+u},{x:f+c,y:d+u},{x:f+c,y:d-h}],b=`M${f-h},${d-h} L${f+c},${d-h} L${f+c},${d+u} L${f-h},${d+u} L${f-h},${d-h}
                M${f-h},${d} L${f+c},${d}
                M${f},${d-h} L${f},${d+u}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=g.path(b,m),T=a.insert(()=>x,":first-child");return T.attr("transform",`translate(${h/2}, ${h/2})`),T.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),l.attr("transform",`translate(${-(o.width/2)+h/2-(o.x-(o.left??0))}, ${-(o.height/2)+h/2-(o.y-(o.top??0))})`),Ut(t,T),t.intersect=function(w){return Nt.polygon(t,y,w)},a}A(wle,"windowPane");async function Ele(e,t,r,n,a=r.class.padding??12){const o=n?0:3,l=e.insert("g").attr("class",cr(t)).attr("id",t.domId||t.id);let c=null,u=null,h=null,f=null,d=0,p=0,g=0;if(c=l.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const T=t.annotations[0];await a2(c,{text:`«${T}»`},0),d=c.node().getBBox().height}u=l.insert("g").attr("class","label-group text"),await a2(u,t,0,["font-weight: bolder"]);const m=u.node().getBBox();p=m.height,h=l.insert("g").attr("class","members-group text");let y=0;for(const T of t.members){const w=await a2(h,T,y,[T.parseClassifier()]);y+=w+o}g=h.node().getBBox().height,g<=0&&(g=a/2),f=l.insert("g").attr("class","methods-group text");let b=0;for(const T of t.methods){const w=await a2(f,T,b,[T.parseClassifier()]);b+=w+o}let x=l.node().getBBox();if(c!==null){const T=c.node().getBBox();c.attr("transform",`translate(${-T.width/2})`)}return u.attr("transform",`translate(${-m.width/2}, ${d})`),x=l.node().getBBox(),h.attr("transform",`translate(0, ${d+p+a*2})`),x=l.node().getBBox(),f.attr("transform",`translate(0, ${d+p+(g?g+a*4:a*2)})`),x=l.node().getBBox(),{shapeSvg:l,bbox:x}}A(Ele,"textHelper");async function a2(e,t,r,n=[]){const a=e.insert("g").attr("class","label").attr("style",n.join("; ")),o=Fn();let l="useHtmlLabels"in t?t.useHtmlLabels:cn(o.htmlLabels)??!0,c="";"text"in t?c=t.text:c=t.label,!l&&c.startsWith("\\")&&(c=c.substring(1)),es(c)&&(l=!0);const u=await Nl(a,cne(wh(c)),{width:vl(c,o)+50,classes:"markdown-node-label",useHtmlLabels:l},o);let h,f=1;if(l){const d=u.children[0],p=nt(u);f=d.innerHTML.split("<br>").length,d.innerHTML.includes("</math>")&&(f+=d.innerHTML.split("<mrow>").length-1);const g=d.getElementsByTagName("img");if(g){const m=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(b=>{function x(){var T;if(y.style.display="flex",y.style.flexDirection="column",m){const w=((T=o.fontSize)==null?void 0:T.toString())??window.getComputedStyle(document.body).fontSize,S=parseInt(w,10)*5+"px";y.style.minWidth=S,y.style.maxWidth=S}else y.style.width="100%";b(y)}A(x,"setupImage"),setTimeout(()=>{y.complete&&x()}),y.addEventListener("error",x),y.addEventListener("load",x)})))}h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}else{n.includes("font-weight: bolder")&&nt(u).selectAll("tspan").attr("font-weight",""),f=u.children.length;const d=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(d.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(d.textContent=d.textContent[0]+" "+d.textContent.substring(1))),d.textContent==="undefined"&&(d.textContent=""),h=u.getBBox()}return a.attr("transform","translate(0,"+(-h.height/(2*f)+r)+")"),h.height}A(a2,"addText");async function Sle(e,t){var I,_;const r=De(),n=r.class.padding??12,a=n,o=t.useHtmlLabels??cn(r.htmlLabels)??!0,l=t;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:c,bbox:u}=await Ele(e,t,r,o,a),{labelStyles:h,nodeStyles:f}=Gt(t);t.labelStyle=h,t.cssStyles=l.styles||"";const d=((I=l.styles)==null?void 0:I.join(";"))||f||"";t.cssStyles||(t.cssStyles=d.replaceAll("!important","").split(";"));const p=l.members.length===0&&l.methods.length===0&&!((_=r.class)!=null&&_.hideEmptyMembersBox),g=Bt.svg(c),m=$t(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=u.width;let b=u.height;l.members.length===0&&l.methods.length===0?b+=a:l.members.length>0&&l.methods.length===0&&(b+=a*2);const x=-y/2,T=-b/2,w=g.rectangle(x-n,T-n-(p?n:l.members.length===0&&l.methods.length===0?-n/2:0),y+2*n,b+2*n+(p?n*2:l.members.length===0&&l.methods.length===0?-n:0),m),E=c.insert(()=>w,":first-child");E.attr("class","basic label-container");const S=E.node().getBBox();c.selectAll(".text").each((R,M,$)=>{var B;const N=nt($[M]),P=N.attr("transform");let F=0;if(P){const U=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(P);U&&(F=parseFloat(U[2]))}let L=F+T+n-(p?n:l.members.length===0&&l.methods.length===0?-n/2:0);o||(L-=4);let D=x;(N.attr("class").includes("label-group")||N.attr("class").includes("annotation-group"))&&(D=-((B=N.node())==null?void 0:B.getBBox().width)/2||0,c.selectAll("text").each(function(H,U,G){window.getComputedStyle(G[U]).textAnchor==="middle"&&(D=0)})),N.attr("transform",`translate(${D}, ${L})`)});const C=c.select(".annotation-group").node().getBBox().height-(p?n/2:0)||0,k=c.select(".label-group").node().getBBox().height-(p?n/2:0)||0,O=c.select(".members-group").node().getBBox().height-(p?n/2:0)||0;if(l.members.length>0||l.methods.length>0||p){const R=g.line(S.x,C+k+T+n,S.x+S.width,C+k+T+n,m);c.insert(()=>R).attr("class","divider").attr("style",d)}if(p||l.members.length>0||l.methods.length>0){const R=g.line(S.x,C+k+O+T+a*2+n,S.x+S.width,C+k+O+T+n+a*2,m);c.insert(()=>R).attr("class","divider").attr("style",d)}if(l.look!=="handDrawn"&&c.selectAll("path").attr("style",d),E.select(":nth-child(2)").attr("style",d),c.selectAll(".divider").select("path").attr("style",d),t.labelStyle?c.selectAll("span").attr("style",t.labelStyle):c.selectAll("span").attr("style",d),!o){const R=RegExp(/color\s*:\s*([^;]*)/),M=R.exec(d);if(M){const $=M[0].replace("color","fill");c.selectAll("tspan").attr("style",$)}else if(h){const $=R.exec(h);if($){const N=$[0].replace("color","fill");c.selectAll("tspan").attr("style",N)}}}return Ut(t,E),t.intersect=function(R){return Nt.rect(t,R)},c}A(Sle,"classBox");var JVe=A(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Ale(e,t,{config:r}){var M,$;const{labelStyles:n,nodeStyles:a}=Gt(t);t.labelStyle=n||"";const o=10,l=t.width;t.width=(t.width??200)-10;const{shapeSvg:c,bbox:u,label:h}=await lr(e,t,cr(t)),f=t.padding||10;let d="",p;"ticket"in t&&t.ticket&&((M=r==null?void 0:r.kanban)!=null&&M.ticketBaseUrl)&&(d=($=r==null?void 0:r.kanban)==null?void 0:$.ticketBaseUrl.replace("#TICKET#",t.ticket),p=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",d).attr("target","_blank"));const g={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let m,y;p?{label:m,bbox:y}=await vC(p,"ticket"in t&&t.ticket||"",g):{label:m,bbox:y}=await vC(c,"ticket"in t&&t.ticket||"",g);const{label:b,bbox:x}=await vC(c,"assigned"in t&&t.assigned||"",g);t.width=l;const T=10,w=(t==null?void 0:t.width)||0,E=Math.max(y.height,x.height)/2,S=Math.max(u.height+T*2,(t==null?void 0:t.height)||0)+E,C=-w/2,k=-S/2;h.attr("transform","translate("+(f-w/2)+", "+(-E-u.height/2)+")"),m.attr("transform","translate("+(f-w/2)+", "+(-E+u.height/2)+")"),b.attr("transform","translate("+(f+w/2-x.width-2*o)+", "+(-E+u.height/2)+")");let O;const{rx:I,ry:_}=t,{cssStyles:R}=t;if(t.look==="handDrawn"){const N=Bt.svg(c),P=$t(t,{}),F=I||_?N.path(Gh(C,k,w,S,I||0),P):N.rectangle(C,k,w,S,P);O=c.insert(()=>F,":first-child"),O.attr("class","basic label-container").attr("style",R||null)}else{O=c.insert("rect",":first-child"),O.attr("class","basic label-container __APA__").attr("style",a).attr("rx",I??5).attr("ry",_??5).attr("x",C).attr("y",k).attr("width",w).attr("height",S);const N="priority"in t&&t.priority;if(N){const P=c.append("line"),F=C+2,L=k+Math.floor((I??0)/2),D=k+S-Math.floor((I??0)/2);P.attr("x1",F).attr("y1",L).attr("x2",F).attr("y2",D).attr("stroke-width","4").attr("stroke",JVe(N))}}return Ut(t,O),t.height=S,t.intersect=function(N){return Nt.rect(t,N)},c}A(Ale,"kanbanItem");var eqe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:ole},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:ile},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:lle},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:fle},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:_oe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Soe},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:tle},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Boe},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:joe},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:qoe},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:vle},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Yoe},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Loe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:gle},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:woe},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:ale},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:hle},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:ule},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Poe},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:$oe},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Coe},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Ioe},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Roe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Xoe},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:xle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Foe},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:mle},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Koe},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Ooe},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Noe},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:ble},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:wle},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Moe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:yle},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Doe},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:sle},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Joe},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Qoe},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Toe},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:koe},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:ple},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:dle},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Tle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rle},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Zoe}],tqe=A(()=>{const t=[...Object.entries({state:cle,choice:Eoe,note:ele,rectWithTitle:nle,labelRect:Voe,iconSquare:zoe,iconCircle:Uoe,icon:Hoe,iconRounded:Woe,imageSquare:Goe,anchor:xoe,kanbanItem:Ale,classBox:Sle}),...eqe.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(a=>[a,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),kle=tqe();function Cle(e){return e in kle}A(Cle,"isValidShape");var tA=new Map;async function rA(e,t,r){let n,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const o=t.shape?kle[t.shape]:void 0;if(!o)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let l;r.config.securityLevel==="sandbox"?l="_top":t.linkTarget&&(l=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",l??null),a=await o(n,t,r)}else a=await o(e,t,r),n=a;return t.tooltip&&a.attr("title",t.tooltip),tA.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}A(rA,"insertNode");var rqe=A((e,t)=>{tA.set(t.id,e)},"setNodeElem"),nqe=A(()=>{tA.clear()},"clear"),VR=A(e=>{const t=tA.get(e.id);me.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),Zo={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function s2(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Ln(e),t=Ln(t);const[r,n]=[e.x,e.y],[a,o]=[t.x,t.y],l=a-r,c=o-n;return{angle:Math.atan(c/l),deltaX:l,deltaY:c}}A(s2,"calculateDeltaAndAngle");var Ln=A(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),Ile=A(e=>({x:A(function(t,r,n){let a=0;const o=Ln(n[0]).x<Ln(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Zo,e.arrowTypeStart)){const{angle:g,deltaX:m}=s2(n[0],n[1]);a=Zo[e.arrowTypeStart]*Math.cos(g)*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Zo,e.arrowTypeEnd)){const{angle:g,deltaX:m}=s2(n[n.length-1],n[n.length-2]);a=Zo[e.arrowTypeEnd]*Math.cos(g)*(m>=0?1:-1)}const l=Math.abs(Ln(t).x-Ln(n[n.length-1]).x),c=Math.abs(Ln(t).y-Ln(n[n.length-1]).y),u=Math.abs(Ln(t).x-Ln(n[0]).x),h=Math.abs(Ln(t).y-Ln(n[0]).y),f=Zo[e.arrowTypeStart],d=Zo[e.arrowTypeEnd],p=1;if(l<d&&l>0&&c<d){let g=d+p-l;g*=o==="right"?-1:1,a-=g}if(u<f&&u>0&&h<f){let g=f+p-u;g*=o==="right"?-1:1,a+=g}return Ln(t).x+a},"x"),y:A(function(t,r,n){let a=0;const o=Ln(n[0]).y<Ln(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Zo,e.arrowTypeStart)){const{angle:g,deltaY:m}=s2(n[0],n[1]);a=Zo[e.arrowTypeStart]*Math.abs(Math.sin(g))*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Zo,e.arrowTypeEnd)){const{angle:g,deltaY:m}=s2(n[n.length-1],n[n.length-2]);a=Zo[e.arrowTypeEnd]*Math.abs(Math.sin(g))*(m>=0?1:-1)}const l=Math.abs(Ln(t).y-Ln(n[n.length-1]).y),c=Math.abs(Ln(t).x-Ln(n[n.length-1]).x),u=Math.abs(Ln(t).y-Ln(n[0]).y),h=Math.abs(Ln(t).x-Ln(n[0]).x),f=Zo[e.arrowTypeStart],d=Zo[e.arrowTypeEnd],p=1;if(l<d&&l>0&&c<d){let g=d+p-l;g*=o==="up"?-1:1,a-=g}if(u<f&&u>0&&h<f){let g=f+p-u;g*=o==="up"?-1:1,a+=g}return Ln(t).y+a},"y")}),"getLineFunctionsWithOffset"),iqe=A((e,t,r,n,a)=>{t.arrowTypeStart&&ZW(e,"start",t.arrowTypeStart,r,n,a),t.arrowTypeEnd&&ZW(e,"end",t.arrowTypeEnd,r,n,a)},"addEdgeMarkers"),aqe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},ZW=A((e,t,r,n,a,o)=>{const l=aqe[r];if(!l){me.warn(`Unknown arrow type: ${r}`);return}const c=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${a}_${o}-${l}${c})`)},"addEdgeMarker"),mE=new Map,va=new Map,sqe=A(()=>{mE.clear(),va.clear()},"clear"),_y=A(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),Rle=A(async(e,t)=>{let r=cn(De().flowchart.htmlLabels);const n=await Nl(e,t.label,{style:_y(t.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});me.info("abc82",t,t.labelType);const a=e.insert("g").attr("class","edgeLabel"),o=a.insert("g").attr("class","label");o.node().appendChild(n);let l=n.getBBox();if(r){const u=n.children[0],h=nt(n);l=u.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}o.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),mE.set(t.id,a),t.width=l.width,t.height=l.height;let c;if(t.startLabelLeft){const u=await Cd(t.startLabelLeft,_y(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");c=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),va.get(t.id)||va.set(t.id,{}),va.get(t.id).startLeft=h,o2(c,t.startLabelLeft)}if(t.startLabelRight){const u=await Cd(t.startLabelRight,_y(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");c=h.node().appendChild(u),f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),va.get(t.id)||va.set(t.id,{}),va.get(t.id).startRight=h,o2(c,t.startLabelRight)}if(t.endLabelLeft){const u=await Cd(t.endLabelLeft,_y(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");c=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(u),va.get(t.id)||va.set(t.id,{}),va.get(t.id).endLeft=h,o2(c,t.endLabelLeft)}if(t.endLabelRight){const u=await Cd(t.endLabelRight,_y(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");c=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(u),va.get(t.id)||va.set(t.id,{}),va.get(t.id).endRight=h,o2(c,t.endLabelRight)}return n},"insertEdgeLabel");function o2(e,t){De().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}A(o2,"setTerminalWidth");var Ole=A((e,t)=>{me.debug("Moving label abc88 ",e.id,e.label,mE.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=De(),{subGraphTitleTotalMargin:a}=e3(n);if(e.label){const o=mE.get(e.id);let l=e.x,c=e.y;if(r){const u=ur.calcLabelPosition(r);me.debug("Moving label "+e.label+" from (",l,",",c,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(l=u.x,c=u.y)}o.attr("transform",`translate(${l}, ${c+a/2})`)}if(e.startLabelLeft){const o=va.get(e.id).startLeft;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.startLabelRight){const o=va.get(e.id).startRight;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelLeft){const o=va.get(e.id).endLeft;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelRight){const o=va.get(e.id).endRight;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),oqe=A((e,t)=>{const r=e.x,n=e.y,a=Math.abs(t.x-r),o=Math.abs(t.y-n),l=e.width/2,c=e.height/2;return a>=l||o>=c},"outsideNode"),lqe=A((e,t,r)=>{me.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,a=e.y,o=Math.abs(n-r.x),l=e.width/2;let c=r.x<t.x?l-o:l+o;const u=e.height/2,h=Math.abs(t.y-r.y),f=Math.abs(t.x-r.x);if(Math.abs(a-t.y)*l>Math.abs(n-t.x)*u){let d=r.y<t.y?t.y-u-a:a-u-t.y;c=f*d/h;const p={x:r.x<t.x?r.x+c:r.x-f+c,y:r.y<t.y?r.y+h-d:r.y-h+d};return c===0&&(p.x=t.x,p.y=t.y),f===0&&(p.x=t.x),h===0&&(p.y=t.y),me.debug(`abc89 top/bottom calc, Q ${h}, q ${d}, R ${f}, r ${c}`,p),p}else{r.x<t.x?c=t.x-l-n:c=n-l-t.x;let d=h*c/f,p=r.x<t.x?r.x+f-c:r.x-f+c,g=r.y<t.y?r.y+d:r.y-d;return me.debug(`sides calc abc89, Q ${h}, q ${d}, R ${f}, r ${c}`,{_x:p,_y:g}),c===0&&(p=t.x,g=t.y),f===0&&(p=t.x),h===0&&(g=t.y),{x:p,y:g}}},"intersection"),QW=A((e,t)=>{me.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],a=!1;return e.forEach(o=>{if(me.info("abc88 checking point",o,t),!oqe(t,o)&&!a){const l=lqe(t,n,o);me.debug("abc88 inside",o,n,l),me.debug("abc88 intersection",l,t);let c=!1;r.forEach(u=>{c=c||u.x===l.x&&u.y===l.y}),r.some(u=>u.x===l.x&&u.y===l.y)?me.warn("abc88 no intersect",l,r):r.push(l),a=!0}else me.warn("abc88 outside",o,n),n=o,a||r.push(o)}),me.debug("returning points",r),r},"cutPathAtIntersect");function _le(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const a=e[n-1],o=e[n],l=e[n+1];(a.x===o.x&&o.y===l.y&&Math.abs(o.x-l.x)>5&&Math.abs(o.y-a.y)>5||a.y===o.y&&o.x===l.x&&Math.abs(o.x-a.x)>5&&Math.abs(o.y-l.y)>5)&&(t.push(o),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}A(_le,"extractCornerPoints");var JW=A(function(e,t,r){const n=t.x-e.x,a=t.y-e.y,o=Math.sqrt(n*n+a*a),l=r/o;return{x:t.x-l*n,y:t.y-l*a}},"findAdjacentPoint"),cqe=A(function(e){const{cornerPointPositions:t}=_le(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const a=e[n-1],o=e[n+1],l=e[n],c=JW(a,l,5),u=JW(o,l,5),h=u.x-c.x,f=u.y-c.y;r.push(c);const d=Math.sqrt(2)*2;let p={x:l.x,y:l.y};if(Math.abs(o.x-a.x)>10&&Math.abs(o.y-a.y)>=10){me.debug("Corner point fixing",Math.abs(o.x-a.x),Math.abs(o.y-a.y));const g=5;l.x===c.x?p={x:h<0?c.x-g+d:c.x+g-d,y:f<0?c.y-d:c.y+d}:p={x:h<0?c.x-d:c.x+d,y:f<0?c.y-g+d:c.y+g-d}}else me.debug("Corner point skipping fixing",Math.abs(o.x-a.x),Math.abs(o.y-a.y));r.push(p,u)}else r.push(e[n]);return r},"fixCorners"),Nle=A(function(e,t,r,n,a,o,l){const{handDrawnSeed:c}=De();let u=t.points,h=!1;const f=a;var d=o;d.intersect&&f.intersect&&(u=u.slice(1,t.points.length-1),u.unshift(f.intersect(u[0])),me.debug("Last point APA12",t.start,"-->",t.end,u[u.length-1],d,d.intersect(u[u.length-1])),u.push(d.intersect(u[u.length-1]))),t.toCluster&&(me.info("to cluster abc88",r.get(t.toCluster)),u=QW(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(me.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=QW(u.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let p=u.filter(k=>!Number.isNaN(k.y));p=cqe(p);let g=i3;t.curve&&(g=t.curve);const{x:m,y}=Ile(t),b=rp().x(m).y(y).curve(g);let x;switch(t.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-invisible";break;default:x="edge-thickness-normal"}switch(t.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break;default:x+=" edge-pattern-solid"}let T,w=b(p);const E=Array.isArray(t.style)?t.style:[t.style];if(t.look==="handDrawn"){const k=Bt.svg(e);Object.assign([],p);const O=k.path(w,{roughness:.3,seed:c});x+=" transition",T=nt(O).select("path").attr("id",t.id).attr("class"," "+x+(t.classes?" "+t.classes:"")).attr("style",E?E.reduce((_,R)=>_+";"+R,""):"");let I=T.attr("d");T.attr("d",I),e.node().appendChild(T.node())}else T=e.append("path").attr("d",w).attr("id",t.id).attr("class"," "+x+(t.classes?" "+t.classes:"")).attr("style",E?E.reduce((k,O)=>k+";"+O,""):"");let S="";(De().flowchart.arrowMarkerAbsolute||De().state.arrowMarkerAbsolute)&&(S=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,S=S.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),me.info("arrowTypeStart",t.arrowTypeStart),me.info("arrowTypeEnd",t.arrowTypeEnd),iqe(T,t,S,l,n);let C={};return h&&(C.updatedPath=u),C.originalPath=t.points,C},"insertEdge"),uqe=A((e,t,r,n)=>{t.forEach(a=>{xqe[a](e,r,n)})},"insertMarkers"),hqe=A((e,t,r)=>{me.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),fqe=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),dqe=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),pqe=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),gqe=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),mqe=A((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),vqe=A((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),yqe=A((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),bqe=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),xqe={extension:hqe,composition:fqe,aggregation:dqe,dependency:pqe,lollipop:gqe,point:mqe,circle:vqe,cross:yqe,barb:bqe},Lle=uqe,Tqe={common:st,getConfig:Fn,insertCluster:QL,insertEdge:Nle,insertEdgeLabel:Rle,insertMarkers:Lle,insertNode:rA,interpolateToCurve:ML,labelHelper:lr,log:me,positionEdgeLabel:Ole},qb={},Mle=A(e=>{for(const t of e)qb[t.name]=t},"registerLayoutLoaders"),wqe=A(()=>{Mle([{name:"dagre",loader:A(async()=>await vr(()=>Promise.resolve().then(()=>ldt),void 0,import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");wqe();var JL=A(async(e,t)=>{if(!(e.layoutAlgorithm in qb))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=qb[e.layoutAlgorithm];return(await r.loader()).render(e,t,Tqe,{algorithm:r.algorithm})},"render"),Dle=A((e="",{fallback:t="dagre"}={})=>{if(e in qb)return e;if(t in qb)return me.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),qR="11.4.1",Tf=A(e=>{var a;const{securityLevel:t}=De();let r=nt("body");if(t==="sandbox"){const l=((a=nt(`#i${e}`).node())==null?void 0:a.contentDocument)??document;r=nt(l.body)}return r.select(`#${e}`)},"selectSvgElement"),Ple="comm",Fle="rule",Ble="decl",Eqe="@import",Sqe="@namespace",Aqe="@keyframes",kqe="@layer",$le=Math.abs,eM=String.fromCharCode;function Hle(e){return e.trim()}function yw(e,t,r){return e.replace(t,r)}function Cqe(e,t,r){return e.indexOf(t,r)}function hg(e,t){return e.charCodeAt(t)|0}function Fm(e,t,r){return e.slice(t,r)}function Hc(e){return e.length}function Iqe(e){return e.length}function WT(e,t){return t.push(e),e}var nA=1,Bm=1,Ule=0,Sl=0,Si=0,Iv="";function tM(e,t,r,n,a,o,l,c){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:nA,column:Bm,length:l,return:"",siblings:c}}function Rqe(){return Si}function Oqe(){return Si=Sl>0?hg(Iv,--Sl):0,Bm--,Si===10&&(Bm=1,nA--),Si}function sc(){return Si=Sl<Ule?hg(Iv,Sl++):0,Bm++,Si===10&&(Bm=1,nA++),Si}function C0(){return hg(Iv,Sl)}function bw(){return Sl}function iA(e,t){return Fm(Iv,e,t)}function jb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _qe(e){return nA=Bm=1,Ule=Hc(Iv=e),Sl=0,[]}function Nqe(e){return Iv="",e}function yC(e){return Hle(iA(Sl-1,jR(e===91?e+2:e===40?e+1:e)))}function Lqe(e){for(;(Si=C0())&&Si<33;)sc();return jb(e)>2||jb(Si)>3?"":" "}function Mqe(e,t){for(;--t&&sc()&&!(Si<48||Si>102||Si>57&&Si<65||Si>70&&Si<97););return iA(e,bw()+(t<6&&C0()==32&&sc()==32))}function jR(e){for(;sc();)switch(Si){case e:return Sl;case 34:case 39:e!==34&&e!==39&&jR(Si);break;case 40:e===41&&jR(e);break;case 92:sc();break}return Sl}function Dqe(e,t){for(;sc()&&e+Si!==57;)if(e+Si===84&&C0()===47)break;return"/*"+iA(t,Sl-1)+"*"+eM(e===47?e:sc())}function Pqe(e){for(;!jb(C0());)sc();return iA(e,Sl)}function Fqe(e){return Nqe(xw("",null,null,null,[""],e=_qe(e),0,[0],e))}function xw(e,t,r,n,a,o,l,c,u){for(var h=0,f=0,d=l,p=0,g=0,m=0,y=1,b=1,x=1,T=0,w="",E=a,S=o,C=n,k=w;b;)switch(m=T,T=sc()){case 40:if(m!=108&&hg(k,d-1)==58){Cqe(k+=yw(yC(T),"&","&\f"),"&\f",$le(h?c[h-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:k+=yC(T);break;case 9:case 10:case 13:case 32:k+=Lqe(m);break;case 92:k+=Mqe(bw()-1,7);continue;case 47:switch(C0()){case 42:case 47:WT(Bqe(Dqe(sc(),bw()),t,r,u),u),(jb(m||1)==5||jb(C0()||1)==5)&&Hc(k)&&Fm(k,-1,void 0)!==" "&&(k+=" ");break;default:k+="/"}break;case 123*y:c[h++]=Hc(k)*x;case 125*y:case 59:case 0:switch(T){case 0:case 125:b=0;case 59+f:x==-1&&(k=yw(k,/\f/g,"")),g>0&&(Hc(k)-d||y===0&&m===47)&&WT(g>32?tz(k+";",n,r,d-1,u):tz(yw(k," ","")+";",n,r,d-2,u),u);break;case 59:k+=";";default:if(WT(C=ez(k,t,r,h,f,a,c,w,E=[],S=[],d,o),o),T===123)if(f===0)xw(k,t,C,C,E,o,d,c,S);else{switch(p){case 99:if(hg(k,3)===110)break;case 108:if(hg(k,2)===97)break;default:f=0;case 100:case 109:case 115:}f?xw(e,C,C,n&&WT(ez(e,C,C,0,0,a,c,w,a,E=[],d,S),S),a,S,d,c,n?E:S):xw(k,C,C,C,[""],S,0,c,S)}}h=f=g=0,y=x=1,w=k="",d=l;break;case 58:d=1+Hc(k),g=m;default:if(y<1){if(T==123)--y;else if(T==125&&y++==0&&Oqe()==125)continue}switch(k+=eM(T),T*y){case 38:x=f>0?1:(k+="\f",-1);break;case 44:c[h++]=(Hc(k)-1)*x,x=1;break;case 64:C0()===45&&(k+=yC(sc())),p=C0(),f=d=Hc(w=k+=Pqe(bw())),T++;break;case 45:m===45&&Hc(k)==2&&(y=0)}}return o}function ez(e,t,r,n,a,o,l,c,u,h,f,d){for(var p=a-1,g=a===0?o:[""],m=Iqe(g),y=0,b=0,x=0;y<n;++y)for(var T=0,w=Fm(e,p+1,p=$le(b=l[y])),E=e;T<m;++T)(E=Hle(b>0?g[T]+" "+w:yw(w,/&\f/g,g[T])))&&(u[x++]=E);return tM(e,t,r,a===0?Fle:c,u,h,f,d)}function Bqe(e,t,r,n){return tM(e,t,r,Ple,eM(Rqe()),Fm(e,2,-2),0,n)}function tz(e,t,r,n,a){return tM(e,t,r,Ble,Fm(e,0,n),Fm(e,n+1,-1),n,a)}function XR(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function $qe(e,t,r,n){switch(e.type){case kqe:if(e.children.length)break;case Eqe:case Sqe:case Ble:return e.return=e.return||e.value;case Ple:return"";case Aqe:return e.return=e.value+"{"+XR(e.children,n)+"}";case Fle:if(!Hc(e.value=e.props.join(",")))return""}return Hc(r=XR(e.children,n))?e.return=e.value+"{"+r+"}":""}var Hqe=dse(Object.keys,Object),Uqe=Object.prototype,Wqe=Uqe.hasOwnProperty;function Wle(e){if(!s3(e))return Hqe(e);var t=[];for(var r in Object(e))Wqe.call(e,r)&&r!="constructor"&&t.push(r);return t}var KR=Lp(Tu,"DataView"),ZR=Lp(Tu,"Promise"),fg=Lp(Tu,"Set"),QR=Lp(Tu,"WeakMap"),rz="[object Map]",zqe="[object Object]",nz="[object Promise]",iz="[object Set]",az="[object WeakMap]",sz="[object DataView]",Gqe=Np(KR),Yqe=Np(Yb),Vqe=Np(ZR),qqe=Np(fg),jqe=Np(QR),sl=Hh;(KR&&sl(new KR(new ArrayBuffer(1)))!=sz||Yb&&sl(new Yb)!=rz||ZR&&sl(ZR.resolve())!=nz||fg&&sl(new fg)!=iz||QR&&sl(new QR)!=az)&&(sl=function(e){var t=Hh(e),r=t==zqe?e.constructor:void 0,n=r?Np(r):"";if(n)switch(n){case Gqe:return sz;case Yqe:return rz;case Vqe:return nz;case qqe:return iz;case jqe:return az}return t});var Xqe="[object Map]",Kqe="[object Set]",Zqe=Object.prototype,Qqe=Zqe.hasOwnProperty;function Gr(e){if(e==null)return!0;if(wu(e)&&(Er(e)||typeof e=="string"||typeof e.splice=="function"||Pm(e)||j6(e)||Dm(e)))return!e.length;var t=sl(e);if(t==Xqe||t==Kqe)return!e.size;if(s3(e))return!Wle(e).length;for(var r in e)if(Qqe.call(e,r))return!1;return!0}var zle="c4",Jqe=A(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),eje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>spt);return{diagram:t}},void 0,import.meta.url);return{id:zle,diagram:e}},"loader"),tje={id:zle,detector:Jqe,loader:eje},rje=tje,Gle="flowchart",nje=A((e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),ije=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>TD);return{diagram:t}},void 0,import.meta.url);return{id:Gle,diagram:e}},"loader"),aje={id:Gle,detector:nje,loader:ije},sje=aje,Yle="flowchart-v2",oje=A((e,t)=>{var r,n,a;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((a=t==null?void 0:t.flowchart)==null?void 0:a.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),lje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>TD);return{diagram:t}},void 0,import.meta.url);return{id:Yle,diagram:e}},"loader"),cje={id:Yle,detector:oje,loader:lje},uje=cje,Vle="er",hje=A(e=>/^\s*erDiagram/.test(e),"detector"),fje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>R1t);return{diagram:t}},void 0,import.meta.url);return{id:Vle,diagram:e}},"loader"),dje={id:Vle,detector:hje,loader:fje},pje=dje,qle="gitGraph",gje=A(e=>/^\s*gitGraph/.test(e),"detector"),mje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Kxt);return{diagram:t}},void 0,import.meta.url);return{id:qle,diagram:e}},"loader"),vje={id:qle,detector:gje,loader:mje},yje=vje,jle="gantt",bje=A(e=>/^\s*gantt/.test(e),"detector"),xje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>q3t);return{diagram:t}},void 0,import.meta.url);return{id:jle,diagram:e}},"loader"),Tje={id:jle,detector:bje,loader:xje},wje=Tje,Xle="info",Eje=A(e=>/^\s*info/.test(e),"detector"),Sje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>tTt);return{diagram:t}},void 0,import.meta.url);return{id:Xle,diagram:e}},"loader"),Aje={id:Xle,detector:Eje,loader:Sje},Kle="pie",kje=A(e=>/^\s*pie/.test(e),"detector"),Cje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>yTt);return{diagram:t}},void 0,import.meta.url);return{id:Kle,diagram:e}},"loader"),Ije={id:Kle,detector:kje,loader:Cje},Zle="quadrantChart",Rje=A(e=>/^\s*quadrantChart/.test(e),"detector"),Oje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>CTt);return{diagram:t}},void 0,import.meta.url);return{id:Zle,diagram:e}},"loader"),_je={id:Zle,detector:Rje,loader:Oje},Nje=_je,Qle="xychart",Lje=A(e=>/^\s*xychart-beta/.test(e),"detector"),Mje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>WTt);return{diagram:t}},void 0,import.meta.url);return{id:Qle,diagram:e}},"loader"),Dje={id:Qle,detector:Lje,loader:Mje},Pje=Dje,Jle="requirement",Fje=A(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Bje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>x4t);return{diagram:t}},void 0,import.meta.url);return{id:Jle,diagram:e}},"loader"),$je={id:Jle,detector:Fje,loader:Bje},Hje=$je,ece="sequence",Uje=A(e=>/^\s*sequenceDiagram/.test(e),"detector"),Wje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Twt);return{diagram:t}},void 0,import.meta.url);return{id:ece,diagram:e}},"loader"),zje={id:ece,detector:Uje,loader:Wje},Gje=zje,tce="class",Yje=A((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),Vje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Jwt);return{diagram:t}},void 0,import.meta.url);return{id:tce,diagram:e}},"loader"),qje={id:tce,detector:Yje,loader:Vje},jje=qje,rce="classDiagram",Xje=A((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),Kje=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>t5t);return{diagram:t}},void 0,import.meta.url);return{id:rce,diagram:e}},"loader"),Zje={id:rce,detector:Xje,loader:Kje},Qje=Zje,nce="state",Jje=A((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),eXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>fEt);return{diagram:t}},void 0,import.meta.url);return{id:nce,diagram:e}},"loader"),tXe={id:nce,detector:Jje,loader:eXe},rXe=tXe,ice="stateDiagram",nXe=A((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),iXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>pEt);return{diagram:t}},void 0,import.meta.url);return{id:ice,diagram:e}},"loader"),aXe={id:ice,detector:nXe,loader:iXe},sXe=aXe,ace="journey",oXe=A(e=>/^\s*journey/.test(e),"detector"),lXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>PEt);return{diagram:t}},void 0,import.meta.url);return{id:ace,diagram:e}},"loader"),cXe={id:ace,detector:oXe,loader:lXe},uXe=cXe,hXe=A((e,t,r)=>{me.debug(`rendering svg for syntax error
`);const n=Tf(t),a=n.append("g");n.attr("viewBox","0 0 2412 512"),is(n,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),sce={draw:hXe},fXe=sce,dXe={db:{},renderer:sce,parser:{parse:A(()=>{},"parse")}},pXe=dXe,oce="flowchart-elk",gXe=A((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),mXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>TD);return{diagram:t}},void 0,import.meta.url);return{id:oce,diagram:e}},"loader"),vXe={id:oce,detector:gXe,loader:mXe},yXe=vXe,lce="timeline",bXe=A(e=>/^\s*timeline/.test(e),"detector"),xXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>iSt);return{diagram:t}},void 0,import.meta.url);return{id:lce,diagram:e}},"loader"),TXe={id:lce,detector:bXe,loader:xXe},wXe=TXe,cce="mindmap",EXe=A(e=>/^\s*mindmap/.test(e),"detector"),SXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>WRt);return{diagram:t}},void 0,import.meta.url);return{id:cce,diagram:e}},"loader"),AXe={id:cce,detector:EXe,loader:SXe},kXe=AXe,uce="kanban",CXe=A(e=>/^\s*kanban/.test(e),"detector"),IXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>lOt);return{diagram:t}},void 0,import.meta.url);return{id:uce,diagram:e}},"loader"),RXe={id:uce,detector:CXe,loader:IXe},OXe=RXe,hce="sankey",_Xe=A(e=>/^\s*sankey-beta/.test(e),"detector"),NXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>GOt);return{diagram:t}},void 0,import.meta.url);return{id:hce,diagram:e}},"loader"),LXe={id:hce,detector:_Xe,loader:NXe},MXe=LXe,fce="packet",DXe=A(e=>/^\s*packet-beta/.test(e),"detector"),PXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>s_t);return{diagram:t}},void 0,import.meta.url);return{id:fce,diagram:e}},"loader"),FXe={id:fce,detector:DXe,loader:PXe},dce="block",BXe=A(e=>/^\s*block-beta/.test(e),"detector"),$Xe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>NNt);return{diagram:t}},void 0,import.meta.url);return{id:dce,diagram:e}},"loader"),HXe={id:dce,detector:BXe,loader:$Xe},UXe=HXe,pce="architecture",WXe=A(e=>/^\s*architecture/.test(e),"detector"),zXe=A(async()=>{const{diagram:e}=await vr(async()=>{const{diagram:t}=await Promise.resolve().then(()=>g9t);return{diagram:t}},void 0,import.meta.url);return{id:pce,diagram:e}},"loader"),GXe={id:pce,detector:WXe,loader:zXe},YXe=GXe,oz=!1,aA=A(()=>{oz||(oz=!0,N5("error",pXe,e=>e.toLowerCase().trim()==="error"),N5("---",{db:{clear:A(()=>{},"clear")},styles:{},renderer:{draw:A(()=>{},"draw")},parser:{parse:A(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:A(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Kre(rje,OXe,Qje,jje,pje,wje,Aje,Ije,Hje,Gje,yXe,uje,sje,kXe,wXe,yje,sXe,rXe,uXe,Nje,MXe,FXe,Pje,UXe,YXe))},"addDiagrams"),VXe=A(async()=>{me.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Em).map(async([r,{detector:n,loader:a}])=>{if(a)try{iR(r)}catch{try{const{diagram:o,id:l}=await a();N5(l,o,n)}catch(o){throw me.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Em[r],o}}}))).filter(r=>r.status==="rejected");if(t.length>0){me.error(`Failed to load ${t.length} external diagrams`);for(const r of t)me.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),qXe="graphics-document document";function gce(e,t){e.attr("role",qXe),t!==""&&e.attr("aria-roledescription",t)}A(gce,"setA11yDiagramInfo");function mce(e,t,r,n){if(e.insert!==void 0){if(r){const a=`chart-desc-${n}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(r)}if(t){const a=`chart-title-${n}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}A(mce,"addSVGa11yTitleDescription");var Ud,JR=(Ud=class{constructor(t,r,n,a,o){this.type=t,this.text=r,this.db=n,this.parser=a,this.renderer=o}static async fromText(t,r={}){var h,f;const n=Fn(),a=J9(t,n);t=RYe(t)+`
`;try{iR(a)}catch{const d=DMe(a);if(!d)throw new Xre(`Diagram ${a} not found.`);const{id:p,diagram:g}=await d();N5(p,g)}const{db:o,parser:l,renderer:c,init:u}=iR(a);return l.parser&&(l.parser.yy=o),(h=o.clear)==null||h.call(o),u==null||u(n),r.title&&((f=o.setDiagramTitle)==null||f.call(o,r.title)),await l.parse(t),new Ud(a,t,o,l,c)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},A(Ud,"Diagram"),Ud),lz=[],jXe=A(()=>{lz.forEach(e=>{e()}),lz=[]},"attachFunctions"),XXe=A(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function vce(e){const t=e.match(jre);if(!t)return{text:e,metadata:{}};let r=pL(t[1],{schema:dL})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}A(vce,"extractFrontMatter");var KXe=A(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),ZXe=A(e=>{const{text:t,metadata:r}=vce(e),{displayMode:n,title:a,config:o={}}=r;return n&&(o.gantt||(o.gantt={}),o.gantt.displayMode=n),{title:a,config:o,text:t}},"processFrontmatter"),QXe=A(e=>{const t=ur.detectInit(e)??{},r=ur.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:bYe(e),directive:t}},"processDirectives");function rM(e){const t=KXe(e),r=ZXe(t),n=QXe(r.text),a=zh(r.config,n.directive);return e=XXe(n.text),{code:e,title:r.title,config:a}}A(rM,"preprocessDiagram");function yce(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}A(yce,"toBase64");var JXe=5e4,eKe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",tKe="sandbox",rKe="loose",nKe="http://www.w3.org/2000/svg",iKe="http://www.w3.org/1999/xlink",aKe="http://www.w3.org/1999/xhtml",sKe="100%",oKe="100%",lKe="border:0;margin:0;",cKe="margin:0",uKe="allow-top-navigation-by-user-activation allow-popups",hKe='The "iframe" tag is not supported by your browser.',fKe=["foreignobject"],dKe=["dominant-baseline"];function nM(e){const t=rM(e);return O5(),KMe(t.config??{}),t}A(nM,"processAndSetConfigs");async function bce(e,t){aA();try{const{code:r,config:n}=nM(e);return{diagramType:(await Tce(r)).type,config:n}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}A(bce,"parse");var cz=A((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),pKe=A((e,t=new Map)=>{var n;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const c=e.htmlLabels??((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(u=>{Gr(u.styles)||c.forEach(h=>{r+=cz(u.id,h,u.styles)}),Gr(u.textStyles)||(r+=cz(u.id,"tspan",((u==null?void 0:u.textStyles)||[]).map(h=>h.replace("color","fill"))))})}return r},"createCssStyles"),gKe=A((e,t,r,n)=>{const a=pKe(e,r),o=pDe(t,a,e.themeVariables);return XR(Fqe(`${n}{${o}}`),$qe)},"createUserStyles"),mKe=A((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=wh(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),vKe=A((e="",t)=>{var a,o;const r=(o=(a=t==null?void 0:t.viewBox)==null?void 0:a.baseVal)!=null&&o.height?t.viewBox.baseVal.height+"px":oKe,n=yce(`<body style="${cKe}">${e}</body>`);return`<iframe style="width:${sKe};height:${r};${lKe}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${uKe}">
  ${hKe}
</iframe>`},"putIntoIFrame"),uz=A((e,t,r,n,a)=>{const o=e.append("div");o.attr("id",r),n&&o.attr("style",n);const l=o.append("svg").attr("id",t).attr("width","100%").attr("xmlns",nKe);return a&&l.attr("xmlns:xlink",a),l.append("g"),e},"appendDivSvgG");function eO(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}A(eO,"sandboxedIframe");var yKe=A((e,t,r,n)=>{var a,o,l;(a=e.getElementById(t))==null||a.remove(),(o=e.getElementById(r))==null||o.remove(),(l=e.getElementById(n))==null||l.remove()},"removeExistingElements"),bKe=A(async function(e,t,r){var M,$,N,P,F,L;aA();const n=nM(t);t=n.code;const a=Fn();me.debug(a),t.length>((a==null?void 0:a.maxTextSize)??JXe)&&(t=eKe);const o="#"+e,l="i"+e,c="#"+l,u="d"+e,h="#"+u,f=A(()=>{const B=nt(p?c:h).node();B&&"remove"in B&&B.remove()},"removeTempElements");let d=nt("body");const p=a.securityLevel===tKe,g=a.securityLevel===rKe,m=a.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),p){const D=eO(nt(r),l);d=nt(D.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=nt(r);uz(d,e,u,`font-family: ${m}`,iKe)}else{if(yKe(document,e,u,l),p){const D=eO(nt("body"),l);d=nt(D.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=nt("body");uz(d,e,u)}let y,b;try{y=await JR.fromText(t,{title:n.title})}catch(D){if(a.suppressErrorRendering)throw f(),D;y=await JR.fromText("error"),b=D}const x=d.select(h).node(),T=y.type,w=x.firstChild,E=w.firstChild,S=($=(M=y.renderer).getClasses)==null?void 0:$.call(M,t,y),C=gKe(a,T,S,o),k=document.createElement("style");k.innerHTML=C,w.insertBefore(k,E);try{await y.renderer.draw(t,e,qR,y)}catch(D){throw a.suppressErrorRendering?f():fXe.draw(t,e,qR),D}const O=d.select(`${h} svg`),I=(P=(N=y.db).getAccTitle)==null?void 0:P.call(N),_=(L=(F=y.db).getAccDescription)==null?void 0:L.call(F);wce(T,O,I,_),d.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",aKe);let R=d.select(h).node().innerHTML;if(me.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),R=mKe(R,p,cn(a.arrowMarkerAbsolute)),p){const D=d.select(h+" svg").node();R=vKe(R,D)}else g||(R=wm.sanitize(R,{ADD_TAGS:fKe,ADD_ATTR:dKe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(jXe(),b)throw b;return f(),{diagramType:T,svg:R,bindFunctions:y.db.bindFunctions}},"render");function xce(e={}){var n;const t=Ui({},e);t!=null&&t.fontFamily&&!((n=t.themeVariables)!=null&&n.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),jMe(t),t!=null&&t.theme&&t.theme in dh?t.themeVariables=dh[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=dh.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?qMe(t):tne();Q9(r.logLevel),aA()}A(xce,"initialize");var Tce=A((e,t={})=>{const{code:r}=rM(e);return JR.fromText(r,t)},"getDiagramFromText");function wce(e,t,r,n){gce(t,e),mce(t,r,n,t.attr("id"))}A(wce,"addA11yInfo");var ap=Object.freeze({render:bKe,parse:bce,getDiagramFromText:Tce,initialize:xce,getConfig:Fn,setConfig:rne,getSiteConfig:tne,updateSiteConfig:XMe,reset:A(()=>{O5()},"reset"),globalReset:A(()=>{O5(Sm)},"globalReset"),defaultConfig:Sm});Q9(Fn().logLevel);O5(Fn());var xKe=A((e,t,r)=>{me.warn(e),$L(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),Ece=A(async function(e={querySelector:".mermaid"}){try{await TKe(e)}catch(t){if($L(t)&&me.error(t.str),Po.parseError&&Po.parseError(t),!e.suppressErrors)throw me.error("Use the suppressErrors option to suppress these errors"),t}},"run"),TKe=A(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=ap.getConfig();me.debug(`${e?"":"No "}Callback function found`);let a;if(r)a=r;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");me.debug(`Found ${a.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(me.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),ap.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const o=new ur.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let l;const c=[];for(const u of Array.from(a)){if(me.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const h=`mermaid-${o.next()}`;l=u.innerHTML,l=qse(ur.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=ur.detectInit(l);f&&me.debug("Detected early reinit: ",f);try{const{svg:d,bindFunctions:p}=await Cce(h,l,u);u.innerHTML=d,e&&await e(h),p&&p(u)}catch(d){xKe(d,c,Po.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),Sce=A(function(e){ap.initialize(e)},"initialize"),wKe=A(async function(e,t,r){me.warn("mermaid.init is deprecated. Please use run instead."),e&&Sce(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await Ece(n)},"init"),EKe=A(async(e,{lazyLoad:t=!0}={})=>{aA(),Kre(...e),t===!1&&await VXe()},"registerExternalDiagrams"),Ace=A(function(){if(Po.startOnLoad){const{startOnLoad:e}=ap.getConfig();e&&Po.run().catch(t=>me.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Ace,!1);var SKe=A(function(e){Po.parseError=e},"setParseErrorHandler"),vE=[],bC=!1,kce=A(async()=>{if(!bC){for(bC=!0;vE.length>0;){const e=vE.shift();if(e)try{await e()}catch(t){me.error("Error executing queue",t)}}bC=!1}},"executeQueue"),AKe=A(async(e,t)=>new Promise((r,n)=>{const a=A(()=>new Promise((o,l)=>{ap.parse(e,t).then(c=>{o(c),r(c)},c=>{var u;me.error("Error parsing",c),(u=Po.parseError)==null||u.call(Po,c),l(c),n(c)})}),"performCall");vE.push(a),kce().catch(n)}),"parse"),Cce=A((e,t,r)=>new Promise((n,a)=>{const o=A(()=>new Promise((l,c)=>{ap.render(e,t,r).then(u=>{l(u),n(u)},u=>{var h;me.error("Error parsing",u),(h=Po.parseError)==null||h.call(Po,u),c(u),a(u)})}),"performCall");vE.push(o),kce().catch(a)}),"render"),Po={startOnLoad:!0,mermaidAPI:ap,parse:AKe,render:Cce,init:wKe,run:Ece,registerExternalDiagrams:EKe,registerLayoutLoaders:Mle,initialize:Sce,parseError:void 0,contentLoaded:Ace,setParseErrorHandler:SKe,detectType:J9,registerIconPacks:Xie},Ice=Po;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const kKe=Object.freeze(Object.defineProperty({__proto__:null,default:Ice},Symbol.toStringTag,{value:"Module"}));new DOMParser;function CKe(e,t){const r=IKe(e);return Mre(r)}function IKe(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const hz=function(e,t,r){const n=dv(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},fz=/\n/g,dz=/[\t ]+/g,tO=xc("br"),pz=xc(PKe),RKe=xc("p"),gz=xc("tr"),OKe=xc(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",DKe,FKe]),Rce=xc(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function _Ke(e,t){const r=t||{},n="children"in e?e.children:[],a=Rce(e),o=Nce(e,{whitespace:r.whitespace||"normal"}),l=[];(e.type==="text"||e.type==="comment")&&l.push(..._ce(e,{breakBefore:!0,breakAfter:!0}));let c=-1;for(;++c<n.length;)l.push(...Oce(n[c],e,{whitespace:o,breakBefore:c?void 0:a,breakAfter:c<n.length-1?tO(n[c+1]):a}));const u=[];let h;for(c=-1;++c<l.length;){const f=l[c];typeof f=="number"?h!==void 0&&f>h&&(h=f):f&&(h!==void 0&&h>-1&&u.push(`
`.repeat(h)||" "),h=-1,u.push(f))}return u.join("")}function Oce(e,t,r){return e.type==="element"?NKe(e,t,r):e.type==="text"?r.whitespace==="normal"?_ce(e,r):LKe(e):[]}function NKe(e,t,r){const n=Nce(e,r),a=e.children||[];let o=-1,l=[];if(OKe(e))return l;let c,u;for(tO(e)||gz(e)&&hz(t,e,gz)?u=`
`:RKe(e)?(c=2,u=2):Rce(e)&&(c=1,u=1);++o<a.length;)l=l.concat(Oce(a[o],e,{whitespace:n,breakBefore:o?void 0:c,breakAfter:o<a.length-1?tO(a[o+1]):u}));return pz(e)&&hz(t,e,pz)&&l.push("	"),c&&l.unshift(c),u&&l.push(u),l}function _ce(e,t){const r=String(e.value),n=[],a=[];let o=0;for(;o<=r.length;){fz.lastIndex=o;const u=fz.exec(r),h=u&&"index"in u?u.index:r.length;n.push(MKe(r.slice(o,h).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,h===r.length?t.breakAfter:!0)),o=h+1}let l=-1,c;for(;++l<n.length;)n[l].charCodeAt(n[l].length-1)===8203||l<n.length-1&&n[l+1].charCodeAt(0)===8203?(a.push(n[l]),c=void 0):n[l]?(typeof c=="number"&&a.push(c),a.push(n[l]),c=0):(l===0||l===n.length-1)&&a.push(0);return a}function LKe(e){return[String(e.value)]}function MKe(e,t,r){const n=[];let a=0,o;for(;a<e.length;){dz.lastIndex=a;const l=dz.exec(e);o=l?l.index:e.length,!a&&!o&&l&&!t&&n.push(""),a!==o&&n.push(e.slice(a,o)),a=l?o+l[0].length:o}return a!==o&&!r&&n.push(""),n.join(" ")}function Nce(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function DKe(e){return!!(e.properties||{}).hidden}function PKe(e){return e.tagName==="td"||e.tagName==="th"}function FKe(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const BKe=new DOMParser,$Ke=new XMLSerializer;function mz(e,t){const r=e.getAttribute(t);if(!r)return;let n="";for(const a of r.split(/\s+/)){const o=e.getElementById(a);o&&(n+=o.textContent)}return n}const HKe=(e,t)=>Promise.allSettled(e.map(async(r,n)=>{const a=`${(t==null?void 0:t.prefix)??"mermaid"}-${n}`,{svg:o}=await Ice.render(a,r),l=BKe.parseFromString(o,"text/html"),[c]=l.getElementsByTagName("svg"),{height:u,width:h}=c.viewBox.baseVal,f=mz(c,"aria-describedby"),d=mz(c,"aria-labelledby"),p={height:u,id:a,svg:$Ke.serializeToString(c),width:h};return f&&(p.description=f),d&&(p.title=d),p})),UKe=()=>HKe;var WKe={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},xC=WKe,iM={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function zKe(e){return e.trim().replace(iM.whitespace," ")}function GKe(e){return encodeURIComponent(e).replace(iM.urlHexPairs,VKe)}function YKe(e){return Object.keys(xC).forEach(function(t){xC[t].test(e)&&(e=e.replace(xC[t],t))}),e}function VKe(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function rO(e){if(typeof e!="string")throw new TypeError("Expected a string, but received "+typeof e);e.charCodeAt(0)===65279&&(e=e.slice(1));var t=YKe(zKe(e)).replace(iM.quotes,"'");return"data:image/svg+xml,"+GKe(t)}rO.toSrcset=function(t){return rO(t).replace(/ /g,"%20")};var qKe=rO;const vz=Wo(qKe),jKe=/\w/,yz=["img-png","img-svg","inline-svg","pre-mermaid"];function XKe(e="inline-svg"){if(yz.includes(e))return e;throw new Error(`Expected strategy to be one of ${yz.join(", ")}, got: ${e}`)}function KKe(e,t){var a;let r;if(e.tagName==="pre"){if(t==="pre-mermaid")return!1;r="mermaid"}else if(e.tagName==="code")r="language-mermaid";else return!1;let n=(a=e.properties)==null?void 0:a.className;return typeof n=="string"&&(n=p5(n)),Array.isArray(n)?n.includes(r):!1}function bz(e,t){return e.screenshot?`data:image/png;base64,${e.screenshot.toString("base64")}`:t?vz.toSrcset(e.svg):vz(e.svg)}function ZKe(e){return e==="dark"?"light":"dark"}function QKe(e,t,r){let n,a;r==="dark"?(n=t||e,a=e):(n=e,a=t);const o={type:"element",tagName:"img",properties:{alt:n.description||"",height:n.height,id:n.id,src:bz(n),title:n.title,width:n.width},children:[]};return t?{type:"element",tagName:"picture",properties:{},children:[{type:"element",tagName:"source",properties:{height:a.height,id:a.id,media:`(prefers-color-scheme: ${ZKe(r)})`,srcset:bz(a,!0),width:a.width},children:[]},o]}:o}function xz(e,t,r,n){const{ancestors:a,diagram:o}=t;if(n!=null&&n.errorFallback)return n.errorFallback(a.at(-1),o,e,r);const l=r.message(e,{ruleId:"rehype-mermaid",source:"rehype-mermaid",ancestors:a});throw l.fatal=!0,l.url="https://github.com/remcohaszing/rehype-mermaid",l}function JKe(e){if(typeof e.properties.content!="string")return;const t=p5(e.properties.content);for(const r of t)if(r==="light"||r==="dark")return r}const eZe=e=>{const t=XKe(e==null?void 0:e.strategy),r=UKe();let n=e==null?void 0:e.colorScheme;return(a,o)=>{const l=[];if(Ux(a,"element",(u,h)=>{if(!n&&u.tagName==="meta"&&u.properties.name==="color-scheme"&&(n=JKe(u)),!KKe(u,t))return;const f=h.at(-1);let d=h;if(f.type==="element"&&f.tagName==="pre"){for(const p of f.children)if(p.type==="text"){if(jKe.test(p.value))return}else if(p!==u)return}else d=[...d,u];l.push({diagram:_Ke(u,{whitespace:"pre"}),ancestors:d})}),!l.length)return;if(t==="pre-mermaid"){for(const{ancestors:u,diagram:h}of l){const f=u.at(-2),d=u.at(-1);f.children[f.children.indexOf(d)]={type:"element",tagName:"pre",properties:{className:["mermaid"]},children:[{type:"text",value:h}]}}return}const c=[r(l.map(u=>u.diagram),{...e,screenshot:t==="img-png"})];return e!=null&&e.dark&&c.push(r(l.map(u=>u.diagram),{...e,screenshot:t==="img-png",mermaidConfig:e.dark===!0?{theme:"dark"}:e.dark,prefix:`${e.prefix||"mermaid"}-dark`})),Promise.all(c).then(([u,h])=>{for(const[f,d]of l.entries()){const p=u[f],g=h==null?void 0:h[f];let m;p.status==="rejected"?m=xz(p.reason,d,o,e):(g==null?void 0:g.status)==="rejected"?m=xz(g.reason,d,o,e):t==="inline-svg"?m=CKe(p.value.svg).children[0]:m=QKe(p.value,g==null?void 0:g.value,n);const{ancestors:y}=d,b=y.at(-1),x=y.at(-2),T=x.children.indexOf(b);m?x.children[T]=m:x.children.splice(T,1)}})}},tZe=Object.freeze(Object.defineProperty({__proto__:null,default:eZe},Symbol.toStringTag,{value:"Module"}));var rZe="6.4.4",nZe=rZe,iZe=function(e,t){var r=this;if(t||(t={}),r.qpm=t.qpm?parseInt(t.qpm,10):null,!r.qpm){var n=e.metaText?e.metaText.tempo:null;r.qpm=e.getBpm(n)}r.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,r.beatCallback=t.beatCallback,r.eventCallback=t.eventCallback,r.lineEndCallback=t.lineEndCallback,r.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,r.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,r.joggerTimer=null,r.replaceTarget=function(o){r.noteTimings=o.setTiming(r.qpm,r.extraMeasuresAtBeginning),o.noteTimings.length===0&&(r.noteTimings=o.setTiming(0,0)),r.lineEndCallback&&(r.lineEndTimings=aZe(o.noteTimings,r.lineEndAnticipation)),r.startTime=null,r.currentBeat=0,r.currentEvent=0,r.currentLine=0,r.currentTime=0,r.isPaused=!1,r.isRunning=!1,r.pausedPercent=null,r.justUnpaused=!1,r.newSeekPercent=0,r.lastTimestamp=0,r.noteTimings.length!==0&&(r.millisecondsPerBeat=1e3/(r.qpm/60)/r.beatSubdivisions,r.lastMoment=r.noteTimings[r.noteTimings.length-1].milliseconds,r.totalBeats=Math.round(r.lastMoment/r.millisecondsPerBeat))},r.replaceTarget(e),r.doTiming=function(o){if(r.lastTimestamp!==o&&(r.lastTimestamp=o,r.startTime||(r.startTime=o),!r.isPaused&&r.isRunning)){for(r.currentTime=o-r.startTime,r.currentTime+=16;r.noteTimings.length>r.currentEvent&&r.noteTimings[r.currentEvent].milliseconds<r.currentTime;){if(r.eventCallback&&r.noteTimings[r.currentEvent].type==="event"){var l=r.startTime;r.eventCallback(r.noteTimings[r.currentEvent]),l!==r.startTime&&(r.currentTime=o-r.startTime)}r.currentEvent++}if(r.lineEndCallback&&r.lineEndTimings.length>r.currentLine&&r.lineEndTimings[r.currentLine].milliseconds<r.currentTime&&r.currentEvent<r.noteTimings.length){var c=r.noteTimings[r.currentEvent].milliseconds===r.currentTime?r.noteTimings[r.currentEvent]:r.noteTimings[r.currentEvent-1];r.lineEndCallback(r.lineEndTimings[r.currentLine],c,{line:r.currentLine,endTimings:r.lineEndTimings,currentTime:r.currentTime}),r.currentLine++}if(r.currentTime<r.lastMoment){if(requestAnimationFrame(r.doTiming),r.currentBeat*r.millisecondsPerBeat<r.currentTime){var u=r.doBeatCallback(o);u!==null&&(r.currentTime=u)}}else if(r.currentBeat<=r.totalBeats&&r.beatCallback){var h=r.doBeatCallback(o);h!==null&&(r.currentTime=h),requestAnimationFrame(r.doTiming)}if(r.currentTime>=r.lastMoment)if(r.eventCallback){var f=r.eventCallback(null);r.shouldStop(f).then(function(d){d&&r.stop()})}else r.stop()}},r.shouldStop=function(o){return new Promise(function(l){if(!o)return l(!0);if(o==="continue")return l(!1);o.then&&o.then(function(c){l(c!=="continue")})})},r.doBeatCallback=function(o){if(r.beatCallback){for(var l=r.currentEvent;l<r.noteTimings.length&&r.noteTimings[l].left===null;)l++;var c,u;if(l<r.noteTimings.length){for(c=r.noteTimings[l].milliseconds,l=Math.max(0,r.currentEvent-1);l>=0&&r.noteTimings[l].left===null;)l--;u=r.noteTimings[l]}var h={},f={};if(u){h.top=u.top,h.height=u.height;var d=Math.max(0,o-r.startTime-u.milliseconds),p=c-u.milliseconds,g=u.endX-u.left,m=p?d*g/p:0;h.left=u.left+m,r.currentEvent===0&&u.milliseconds>o-r.startTime&&(h.left=void 0),f={timestamp:o,startTime:r.startTime,ev:u,endMs:c,offMs:d,offPx:m,gapMs:p,gapPx:g}}else f={timestamp:o,startTime:r.startTime};var y=r.startTime;if(r.beatCallback(r.currentBeat/r.beatSubdivisions,r.totalBeats/r.beatSubdivisions,r.lastMoment,h,f),y!==r.startTime)return o-r.startTime;r.currentBeat++}return null};var a=60;r.animationJogger=function(){r.isRunning&&(r.doTiming(performance.now()),r.joggerTimer=setTimeout(r.animationJogger,a))},r.start=function(o,l){if(r.isRunning=!0,r.isPaused&&(r.isPaused=!1,o===void 0&&(r.justUnpaused=!0)),o)r.setProgress(o,l);else if(o===0)r.reset();else if(r.pausedPercent!==null){var c=performance.now();r.currentTime=r.lastMoment*r.pausedPercent,r.startTime=c-r.currentTime,r.pausedPercent=null,r.reportNext=!0}requestAnimationFrame(r.doTiming),r.joggerTimer=setTimeout(r.animationJogger,a)},r.pause=function(){r.isPaused=!0;var o=performance.now();r.pausedPercent=(o-r.startTime)/r.lastMoment,r.isRunning=!1,r.joggerTimer&&(clearTimeout(r.joggerTimer),r.joggerTimer=null)},r.currentMillisecond=function(){return r.currentTime},r.reset=function(){r.currentBeat=0,r.currentEvent=0,r.currentLine=0,r.startTime=null,r.pausedPercent=null},r.stop=function(){r.pause(),r.reset()},r.setProgress=function(o,l){var c;switch(l){case"seconds":r.currentTime=o*1e3,r.currentTime<0&&(r.currentTime=0),r.currentTime>r.lastMoment&&(r.currentTime=r.lastMoment),c=r.currentTime/r.lastMoment;break;case"beats":r.currentTime=o*r.millisecondsPerBeat*r.beatSubdivisions,r.currentTime<0&&(r.currentTime=0),r.currentTime>r.lastMoment&&(r.currentTime=r.lastMoment),c=r.currentTime/r.lastMoment;break;default:c=o,c<0&&(c=0),c>1&&(c=1),r.currentTime=r.lastMoment*c;break}r.isRunning||(r.pausedPercent=c);var u=performance.now();for(r.startTime=u-r.currentTime,r.currentEvent,r.currentEvent=0;r.noteTimings.length>r.currentEvent&&r.noteTimings[r.currentEvent].milliseconds<r.currentTime;)r.currentEvent++;if(r.lineEndCallback)for(r.currentLine=0;r.lineEndTimings.length>r.currentLine&&r.lineEndTimings[r.currentLine].milliseconds+r.lineEndAnticipation<r.currentTime;)r.currentLine++;var h=r.currentBeat;r.currentBeat=Math.floor(r.currentTime/r.millisecondsPerBeat),r.beatCallback&&h!==r.currentBeat&&r.doBeatCallback(r.startTime+r.currentTime),r.eventCallback&&r.currentEvent>=0&&r.noteTimings[r.currentEvent].type==="event"&&r.eventCallback(r.noteTimings[r.currentEvent]),r.lineEndCallback&&r.lineEndCallback(r.lineEndTimings[r.currentLine],r.noteTimings[r.currentEvent],{line:r.currentLine,endTimings:r.lineEndTimings}),r.joggerTimer=setTimeout(r.animationJogger,a)}};function aZe(e,t){for(var r=[],n=null,a=0;a<e.length;a++){var o=e[a];o.type!=="end"&&o.top!==n&&(r.push({measureNumber:o.measureNumber,milliseconds:o.milliseconds-t,top:o.top,bottom:o.top+o.height}),n=o.top)}return r}var aM=iZe,sZe=aM,Tw={};(function(){var e,t;Tw.startAnimation=function(r,n,a){e&&(e.stop(),e=void 0),a.showCursor&&(t=r.querySelector(".abcjs-cursor"),t||(t=document.createElement("DIV"),t.className="abcjs-cursor cursor",t.style.position="absolute",r.appendChild(t),r.style.position="relative"));function o(p){for(var g=0;g<p.length;g++){var m=p[g];m.classList.contains("abcjs-bar")||(m.style.display="none")}}var l;function c(p){if(l){var g=r.querySelectorAll(l);o(g)}l=p}function u(p){var g=r.querySelectorAll(p);o(g)}function h(p){a.hideCurrentMeasure?u(p):a.hideFinishedMeasures&&c(p)}function f(p){return".abcjs-l"+p.line+".abcjs-m"+p.measureNumber}function d(p){if(p){if(p.measureStart){var g=f(p);g&&h(g)}t&&(t.style.left=p.left+"px",t.style.top=p.top+"px",t.style.width=p.width+"px",t.style.height=p.height+"px")}else e.stop(),e=void 0}e=new sZe(n,{qpm:a.bpm,eventCallback:d}),e.start()},Tw.pauseAnimation=function(r){e&&(r?e.pause():e.start())},Tw.stopAnimation=function(){e&&(e.stop(),e=void 0)}})();var oZe=Tw,Eh={};Eh.cloneArray=function(e){for(var t=[],r=0;r<e.length;r++)t.push(Object.assign({},e[r]));return t};Eh.cloneHashOfHash=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=Object.assign({},e[r]));return t};Eh.cloneHashOfArrayOfHash=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=Eh.cloneArray(e[r]));return t};Eh.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};Eh.startsWith=function(e,t){return e.indexOf(t)===0};Eh.endsWith=function(e,t){var r=e.length-t.length;return r>=0&&e.lastIndexOf(t)===r};Eh.last=function(e){return e.length===0?null:e[e.length-1]};var Vh=Eh,Tz=Vh,ad={};(function(){var e,t,r,n,a;ad.initialize=function(L,D,B,H,U){e=L,t=D,r=B,n=H,a=U,o()};function o(){r.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},r.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},r.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},r.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},r.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},r.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},n.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},n.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},n.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},n.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},n.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},n.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},n.formatting.annotationfont=r.annotationfont,n.formatting.gchordfont=r.gchordfont,n.formatting.historyfont=r.historyfont,n.formatting.infofont=r.infofont,n.formatting.measurefont=r.measurefont,n.formatting.partsfont=r.partsfont,n.formatting.repeatfont=r.repeatfont,n.formatting.textfont=r.textfont,n.formatting.tripletfont=r.tripletfont,n.formatting.vocalfont=r.vocalfont,n.formatting.wordsfont=r.wordsfont}var l={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},c=function(L){switch(L){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},u=function(L,D,B,H,U){function G(){var re=parseInt(L[0].token);return L.shift(),D?L.length===0?{face:D.face,weight:D.weight,style:D.style,decoration:D.decoration,size:re}:L.length===1&&L[0].token==="box"&&l[U]?{face:D.face,weight:D.weight,style:D.style,decoration:D.decoration,size:re,box:!0}:(t("Extra parameters in font definition.",B,H),{face:D.face,weight:D.weight,style:D.style,decoration:D.decoration,size:re}):(t("Can't set just the size of the font since there is no default value.",B,H),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:re})}if(L[0].token==="*"){if(L.shift(),L[0].type==="number")return G();t("Expected font size number after *.",B,H)}if(L[0].type==="number")return G();for(var W=[],ee,ce="normal",Z="normal",J="none",oe=!1,Y="face",X=!1;L.length;){var K=L.shift(),z=K.token.toLowerCase();switch(Y){case"face":X||z!=="utf"&&K.type!=="number"&&z!=="bold"&&z!=="italic"&&z!=="underline"&&z!=="box"?W.length>0&&K.token==="-"?(X=!0,W[W.length-1]=W[W.length-1]+K.token):X?(X=!1,W[W.length-1]=W[W.length-1]+K.token):W.push(K.token):K.type==="number"?(ee?t("Font size specified twice in font definition.",B,H):ee=K.token,Y="modifier"):z==="bold"?ce="bold":z==="italic"?Z="italic":z==="underline"?J="underline":z==="box"?(l[U]?oe=!0:t(`This font style doesn't support "box"`,B,H),Y="finished"):z==="utf"?(K=L.shift(),Y="size"):t("Unknown parameter "+K.token+" in font definition.",B,H);break;case"size":K.type==="number"?ee?t("Font size specified twice in font definition.",B,H):ee=K.token:t("Expected font size in font definition.",B,H),Y="modifier";break;case"modifier":z==="bold"?ce="bold":z==="italic"?Z="italic":z==="underline"?J="underline":z==="box"?(l[U]?oe=!0:t(`This font style doesn't support "box"`,B,H),Y="finished"):t("Unknown parameter "+K.token+" in font definition.",B,H);break;case"finished":t('Extra characters found after "box" in font definition.',B,H);break}}ee===void 0?D?ee=D.size:(t("Must specify the size of the font since there is no default value.",B,H),ee=12):ee=parseFloat(ee),W=W.join(" "),W===""&&(D?W=D.face:(t("Must specify the name of the font since there is no default value.",B,H),W="sans-serif"));var j=c(W),te={};return j?(te.face=j.face,te.weight=j.weight,te.style=j.style,te.decoration=j.decoration,te.size=ee,oe&&(te.box=!0),te):(te.face=W,te.weight=ce,te.style=Z,te.decoration=J,te.size=ee,oe&&(te.box=!0),te)},h=function(L,D,B){return D.length===0?'Directive "'+L+'" requires a font as a parameter.':(r[L]=u(D,r[L],B,0,L),r.is_in_header&&(n.formatting[L]=r[L]),null)},f=function(L,D,B){return D.length===0?'Directive "'+L+'" requires a font as a parameter.':(n.formatting[L]=u(D,n.formatting[L],B,0,L),null)},d=function(L,D){var B="";D.forEach(function(U){B+=U.token});var H=parseFloat(B);if(isNaN(H)||H===0)return'Directive "'+L+'" requires a number as a parameter.';n.formatting.scale=H},p=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],g=function(L){var D=L.split(/\s+/);if(D.length!==2&&D.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var B=D[0],H=parseInt(D[1],10);if((isNaN(H)||H<35||H>81)&&D[1]&&(H=p.indexOf(D[1].toLowerCase())+35),isNaN(H)||H<35||H>81)return{error:'Expected drum name, received "'+D[1]+'"'};var U={sound:H};return D.length===3&&(U.noteHead=D[2]),{key:B,value:U}},m=function(L,D){var B=e.getMeasurement(D);return B.used===0||D.length!==0?{error:'Directive "'+L+'" requires a measurement as a parameter.'}:B.value},y=function(L,D){var B=e.getMeasurement(D);return B.used===0||D.length!==0?'Directive "'+L+'" requires a measurement as a parameter.':(n.formatting[L]=B.value,null)},b=function(L,D,B,H,U){if(B.length!==1||B[0].type!=="number")return'Directive "'+D+'" requires a number as a parameter.';var G=B[0].intt;return H!==void 0&&G<H?'Directive "'+D+'" requires a number greater than or equal to '+H+" as a parameter.":U!==void 0&&G>U?'Directive "'+D+'" requires a number less than or equal to '+U+" as a parameter.":(r[L]=G,null)},x=function(L,D,B){if(B.length===1&&(B[0].token==="true"||B[0].token==="false"))return r[L]=B[0].token==="true",null;var H=b(L,D,B,0,1);return H!==null?H:(r[L]=r[L]===1,null)},T=function(L,D,B,H){if(B.length!==1)return'Directive "'+D+'" requires one of [ '+H.join(", ")+" ] as a parameter.";for(var U=B[0].token,G=!1,W=0;!G&&W<H.length;W++)H[W]===U&&(G=!0);return G?(r[L]=U,null):'Directive "'+D+'" requires one of [ '+H.join(", ")+" ] as a parameter."},w=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],E=["gchord","ptstress","beatstring"],S=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],C=["program"],k=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],O=["beat"],I=["drone"],_=["portamento"],R=["expand","grace","trim"],M=["drum","chordname"],$=["bassprog","chordprog"],N=function(L,D,B){var H=L.shift().token,U=[];if(w.indexOf(H)>=0)L.length!==0&&t("Unexpected parameter in MIDI "+H,B,0);else if(E.indexOf(H)>=0)L.length!==1?t("Expected one parameter in MIDI "+H,B,0):U.push(L[0].token);else if(S.indexOf(H)>=0)L.length!==1?t("Expected one parameter in MIDI "+H,B,0):L[0].type!=="number"?t("Expected one integer parameter in MIDI "+H,B,0):U.push(L[0].intt);else if(C.indexOf(H)>=0)L.length!==1&&L.length!==2?t("Expected one or two parameters in MIDI "+H,B,0):L[0].type!=="number"||L.length===2&&L[1].type!=="number"?t("Expected integer parameter in MIDI "+H,B,0):(U.push(L[0].intt),L.length===2&&U.push(L[1].intt));else if(k.indexOf(H)>=0)L.length!==2?t("Expected two parameters in MIDI "+H,B,0):L[0].type!=="number"||L[1].type!=="number"?t("Expected two integer parameters in MIDI "+H,B,0):(U.push(L[0].intt),U.push(L[1].intt));else if(_.indexOf(H)>=0)L.length!==2?t("Expected two parameters in MIDI "+H,B,0):L[0].type!=="alpha"||L[1].type!=="number"?t("Expected one string and one integer parameters in MIDI "+H,B,0):(U.push(L[0].token),U.push(L[1].intt));else if(H==="drummap")L.length===2&&L[0].type==="alpha"&&L[1].type==="number"?(D.formatting||(D.formatting={}),D.formatting.midi||(D.formatting.midi={}),D.formatting.midi.drummap||(D.formatting.midi.drummap={}),D.formatting.midi.drummap[L[0].token]=L[1].intt,U=D.formatting.midi.drummap):L.length===3&&L[0].type==="punct"&&L[1].type==="alpha"&&L[2].type==="number"?(D.formatting||(D.formatting={}),D.formatting.midi||(D.formatting.midi={}),D.formatting.midi.drummap||(D.formatting.midi.drummap={}),D.formatting.midi.drummap[L[0].token+L[1].token]=L[2].intt,U=D.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+H,B,0);else if(R.indexOf(H)>=0)L.length!==3||L[0].type!=="number"||L[1].token!=="/"||L[2].type!=="number"?t("Expected fraction parameter in MIDI "+H,B,0):(U.push(L[0].intt),U.push(L[2].intt));else if(O.indexOf(H)>=0)L.length!==4?t("Expected four parameters in MIDI "+H,B,0):L[0].type!=="number"||L[1].type!=="number"||L[2].type!=="number"||L[3].type!=="number"?t("Expected four integer parameters in MIDI "+H,B,0):(U.push(L[0].intt),U.push(L[1].intt),U.push(L[2].intt),U.push(L[3].intt));else if(I.indexOf(H)>=0)L.length!==5?t("Expected five parameters in MIDI "+H,B,0):L[0].type!=="number"||L[1].type!=="number"||L[2].type!=="number"||L[3].type!=="number"||L[4].type!=="number"?t("Expected five integer parameters in MIDI "+H,B,0):(U.push(L[0].intt),U.push(L[1].intt),U.push(L[2].intt),U.push(L[3].intt),U.push(L[4].intt));else if(C.indexOf(H)>=0)L.length!==1||L.length!==4?t("Expected one or two parameters in MIDI "+H,B,0):L[0].type!=="number"?t("Expected integer parameter in MIDI "+H,B,0):L.length===4?(L[1].token!=="octave"&&t("Expected octave parameter in MIDI "+H,B,0),L[2].token!=="="&&t("Expected octave parameter in MIDI "+H,B,0),L[3].type!=="number"&&t("Expected integer parameter for octave in MIDI "+H,B,0)):(U.push(L[0].intt),L.length===4&&U.push(L[3].intt));else if(M.indexOf(H)>=0)if(L.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+H,B,0);else if(L[0].type!=="alpha")t("Expected string parameter and at least one integer parameter in MIDI "+H,B,0);else{var G=L.shift();for(U.push(G.token);L.length>0;)G=L.shift(),G.type!=="number"&&t("Expected integer parameter in MIDI "+H,B,0),U.push(G.intt)}else if($.indexOf(H)>=0){if(L.length!==1&&L.length!==2)t("Expected one or two parameters in MIDI "+H,B,0);else if(L[0].type!=="number")t("Expected integer parameter in MIDI "+H,B,0);else if(L.length===2&&L[1].type!=="alpha")t("Expected alpha parameter in MIDI "+H,B,0);else if(U.push(L[0].intt),L.length===2){var W=L[1].token;W.indexOf("octave=")!=-1?(W=W.replace("octave=",""),W=parseInt(W),isNaN(W)?t("Expected octave value in MIDI"+H):(W<-1&&(t("Expected octave= in MIDI "+H+" to be >= -1 (recv:"+W+")"),W=-1),W>3&&(t("Expected octave= in MIDI "+H+" to be <= 3 (recv:"+W+")"),W=3),U.push(W))):t("Expected octave= in MIDI"+H)}}a.hasBeginMusic()?a.appendElement("midi",-1,-1,{cmd:H,params:U}):(D.formatting.midi===void 0&&(D.formatting.midi={}),D.formatting.midi[H]=U)};ad.parseFontChangeLine=function(L){L=L.replace(/\$\$/g,"");var D=L.split("$");if(D.length>1&&r.setfont){var B=[];D[0]!==""&&B.push({text:D[0]});for(var H=1;H<D.length;H++)if(D[H][0]==="0")B.push({text:D[H].substring(1).replace(/\x03/g,"$$")});else{var U=parseInt(D[H][0],10);r.setfont[U]?B.push({font:r.setfont[U],text:D[H].substring(1).replace(/\x03/g,"$$")}):B[B.length-1].text+="$"+D[H].replace(/\x03/g,"$$")}return B}return L.replace(/\x03/g,"$$")};var P=["auto","above","below","hidden"];ad.addDirective=function(L){var D=e.tokenize(L,0,L.length);if(D.length===0||D[0].type!=="alpha")return null;var B=L.substring(L.indexOf(D[0].token)+D[0].token.length);B=e.stripComment(B);var H=D.shift().token.toLowerCase(),U="",G;switch(H){case"bagpipes":n.formatting.bagpipes=!0;break;case"flatbeams":n.formatting.flatbeams=!0;break;case"jazzchords":n.formatting.jazzchords=!0;break;case"accentAbove":n.formatting.accentAbove=!0;break;case"germanAlphabet":n.formatting.germanAlphabet=!0;break;case"landscape":r.landscape=!0;break;case"papersize":r.papersize=B;break;case"graceslurs":if(D.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(D[0].token==="0"||D[0].token==="false")n.formatting.graceSlurs=!1;else if(D[0].token==="1"||D[0].token==="true")n.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+D[0].token+")";break;case"lineThickness":var W=F(D);if(W.value!==void 0&&(n.formatting.lineThickness=W.value),W.error)return W.error;break;case"stretchlast":var ee=F(D);if(ee.value!==void 0&&(n.formatting.stretchlast=ee.value),ee.error)return ee.error;break;case"titlecaps":r.titlecaps=!0;break;case"titleleft":n.formatting.titleleft=!0;break;case"measurebox":n.formatting.measurebox=!0;break;case"vocal":return T("vocalPosition",H,D,P);case"dynamic":return T("dynamicPosition",H,D,P);case"gchord":return T("chordPosition",H,D,P);case"ornament":return T("ornamentPosition",H,D,P);case"volume":return T("volumePosition",H,D,P);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return y(H,D);case"voicescale":if(D.length!==1||D[0].type!=="number")return"voicescale requires one float as a parameter";var ce=D.shift();return r.currentVoice&&(r.currentVoice.scale=ce.floatt,a.changeVoiceScale(r.currentVoice.scale)),null;case"voicecolor":if(D.length!==1)return"voicecolor requires one string as a parameter";var Z=D.shift();return r.currentVoice&&(r.currentVoice.color=Z.token,a.changeVoiceColor(r.currentVoice.color)),null;case"vskip":var J=Math.round(m(H,D));return J.error?J.error:(a.addSpacing(J),null);case"scale":d(H,D);break;case"sep":if(D.length===0)a.addSeparator(14,14,85,{startChar:r.iChar,endChar:r.iChar+5});else{var oe=e.getMeasurement(D);if(oe.used===0)return'Directive "'+H+'" requires 3 numbers: space above, space below, length of line';var Y=oe.value;if(oe=e.getMeasurement(D),oe.used===0)return'Directive "'+H+'" requires 3 numbers: space above, space below, length of line';var X=oe.value;if(oe=e.getMeasurement(D),oe.used===0||D.length!==0)return'Directive "'+H+'" requires 3 numbers: space above, space below, length of line';var K=oe.value;a.addSeparator(Y,X,K,{startChar:r.iChar,endChar:r.iChar+B.length})}break;case"barsperstaff":if(U=b("barsperstaff",H,D),U!==null)return U;break;case"staffnonote":if(D.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(D[0].token==="0")r.staffnonote=!0;else if(D[0].token==="1")r.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+D[0].token+")";break;case"printtempo":if(U=x("printTempo",H,D),U!==null)return U;break;case"partsbox":if(U=x("partsBox",H,D),U!==null)return U;r.partsfont.box=r.partsBox;break;case"freegchord":if(U=x("freegchord",H,D),U!==null)return U;break;case"measurenb":case"barnumbers":if(U=b("barNumbers",H,D),U!==null)return U;break;case"setbarnb":if(D.length!==1||D[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";r.currBarNumber=a.setBarNumberImmediate(D[0].intt);break;case"begintext":var z="";for(G=e.nextLine();G&&G.indexOf("%%endtext")!==0;)Tz.startsWith(G,"%%")?z+=G.substring(2)+`
`:z+=G+`
`,G=e.nextLine();a.addText(z,{startChar:r.iChar,endChar:r.iChar+z.length+7});break;case"continueall":r.continueall=!0;break;case"beginps":for(G=e.nextLine();G&&G.indexOf("%%endps")!==0;)e.nextLine();t("Postscript ignored",L,0);break;case"deco":B.length>0&&r.ignoredDecorations.push(B.substring(0,B.indexOf(" "))),t("Decoration redefinition ignored",L,0);break;case"text":var j=e.translateString(B);a.addText(ad.parseFontChangeLine(j),{startChar:r.iChar,endChar:r.iChar+B.length+7});break;case"center":var te=e.translateString(B);a.addCentered(ad.parseFontChangeLine(te));break;case"font":break;case"setfont":var re=e.tokenize(B,0,B.length);if(re.length>=4&&re[0].token==="-"&&re[1].type==="number"){var Se=parseInt(re[1].token);Se>=1&&Se<=9&&(r.setfont||(r.setfont=[]),re.shift(),re.shift(),r.setfont[Se]=u(re,r.setfont[Se],L,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return h(H,D,L);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return f(H,D,L);case"barlabelfont":case"barnumberfont":case"barnumfont":return h("measurefont",D,L);case"staves":case"score":r.score_is_present=!0;for(var ue=function(Oe,Ye,Je,Ct,dt){(Ye||r.staves.length===0)&&r.staves.push({index:r.staves.length,numVoices:0});var ct=Tz.last(r.staves);Je!==void 0&&ct.bracket===void 0&&(ct.bracket=Je),Ct!==void 0&&ct.brace===void 0&&(ct.brace=Ct),dt&&(ct.connectBarLines="end"),r.voices[Oe]===void 0&&(r.voices[Oe]={staffNum:ct.index,index:ct.numVoices},ct.numVoices++)},se=!1,fe=!1,ye=!1,he=!1,Ae=!1,Ce=!1,Ie=!1,Le,ae=function(){if(Ie=!0,Le){var Oe="start";Le.staffNum>0&&(r.staves[Le.staffNum-1].connectBarLines==="start"||r.staves[Le.staffNum-1].connectBarLines==="continue")&&(Oe="continue"),r.staves[Le.staffNum].connectBarLines=Oe}};D.length;){var q=D.shift();switch(q.token){case"(":se?t("Can't nest parenthesis in %%score",L,q.start):(se=!0,he=!0);break;case")":!se||he?t("Unexpected close parenthesis in %%score",L,q.start):se=!1;break;case"[":fe?t("Can't nest brackets in %%score",L,q.start):(fe=!0,Ae=!0);break;case"]":!fe||Ae?t("Unexpected close bracket in %%score",L,q.start):(fe=!1,r.staves[Le.staffNum].bracket="end");break;case"{":ye?t("Can't nest braces in %%score",L,q.start):(ye=!0,Ce=!0);break;case"}":!ye||Ce?t("Unexpected close brace in %%score",L,q.start):(ye=!1,r.staves[Le.staffNum].brace="end");break;case"|":ae();break;default:for(var ge="";(q.type==="alpha"||q.type==="number")&&(ge+=q.token,q.continueId);)q=D.shift();var le=!se||he,Te=Ae?"start":fe?"continue":void 0,ne=Ce?"start":ye?"continue":void 0;ue(ge,le,Te,ne,Ie),he=!1,Ae=!1,Ce=!1,Ie=!1,Le=r.voices[ge],H==="staves"&&ae();break}}break;case"newpage":var Re=e.getInt(B);a.addNewPage(Re.digits===0?-1:Re.value);break;case"abc":var ie=B.split(" ");switch(ie[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var pe=ie.shift();a.addMetaText(H+pe,ie.join(" "),{startChar:r.iChar,endChar:r.iChar+B.length+5});break;default:return"Unknown directive: "+H+ie[0]}break;case"header":case"footer":var xe=e.getMeat(B,0,B.length);xe=B.substring(xe.start,xe.end),xe[0]==='"'&&xe[xe.length-1]==='"'&&(xe=xe.substring(1,xe.length-1));var ve=xe.split("	"),Ee={};ve.length===1?Ee={left:"",center:ve[0],right:""}:ve.length===2?Ee={left:ve[0],center:ve[1],right:""}:Ee={left:ve[0],center:ve[1],right:ve[2]},ve.length>3&&t("Too many tabs in "+H+": "+ve.length+" found.",B,0),a.addMetaTextObj(H,Ee,{startChar:r.iChar,endChar:r.iChar+L.length});break;case"midi":var ke=e.tokenize(B,0,B.length,!0);ke.length>0&&ke[0].token==="="&&ke.shift(),ke.length===0?t("Expected midi command",B,0):N(ke,n,B);break;case"percmap":var Pe=g(B);Pe.error?t(Pe.error,L,8):(n.formatting.percmap||(n.formatting.percmap={}),n.formatting.percmap[Pe.key]=Pe.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":n.formatting[H]=B;break;default:return"Unknown directive: "+H}return null},ad.globalFormatting=function(L){for(var D in L)if(L.hasOwnProperty(D)){var B=""+L[D],H=e.tokenize(B,0,B.length),U;switch(D){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":h(D,H,B);break;case"scale":d(D,H);break;case"partsbox":U=x("partsBox",D,H),U!==null&&t(U),r.partsfont.box=r.partsBox;break;case"freegchord":U=x("freegchord",D,H),U!==null&&t(U);break;case"fontboxpadding":(H.length!==1||H[0].type!=="number")&&t('Directive "'+D+'" requires a number as a parameter.'),n.formatting.fontboxpadding=H[0].floatt;break;case"stafftopmargin":(H.length!==1||H[0].type!=="number")&&t('Directive "'+D+'" requires a number as a parameter.'),n.formatting.stafftopmargin=H[0].floatt;break;case"stretchlast":var G=F(H);if(G.value!==void 0&&(n.formatting.stretchlast=G.value),G.error)return G.error;break;default:t("Formatting directive unrecognized: ",D,0)}}};function F(L){if(L.length===0)return{value:1};if(L.length===1)if(L[0].type==="number"){if(L[0].floatt>=0||L[0].floatt<=1)return{value:L[0].floatt}}else{if(L[0].token==="false")return{value:0};if(L[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+L[0].token+")"}}})();var sM=ad,oM={};const Lce=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];oM.pitchIndex=function(e){return Lce.indexOf(e)};oM.noteName=function(e){return Lce[e]};var lZe=oM,zT=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],GT=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],YT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],VT=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function cZe(e,t,r,n){if(!t||t%12===0)return e;for(;t<0;)t+=12;t>11&&(t=t%12);var a=e.match(/^([A-G][b#♭♯]?)([^\/]+)?\/?([A-G][b#♭♯]?)?(.+)?/);if(!a)return e;var o=a[1],l=a[2],c=a[3],u=a[4],h=zT.indexOf(o);if(h<0&&(h=GT.indexOf(o)),h<0&&(h=YT.indexOf(o)),h<0&&(h=VT.indexOf(o)),h<0)return e;if(h+=t,h=h%12,r?n?e=VT[h]:e=GT[h]:n?e=YT[h]:e=zT[h],l&&(e+=l),c){var h=zT.indexOf(c);h<0&&(h=GT.indexOf(c)),h<0&&(h=YT.indexOf(c)),h<0&&(h=VT.indexOf(c)),e+="/",h>=0?(h+=t,h=h%12,r?n?e+=VT[h]:e+=GT[h]:n?e+=YT[h]:e+=zT[h]):e+=c}return u&&(e+=u),e}var Mce=cZe,Id={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},q2=null;function uZe(){q2={};for(var e=Object.keys(Id),t=0;t<e.length;t++){var r=Id[e[t]];q2[e[t].toLowerCase()]=e[t];for(var n=0;n<r.modes.length;n++){var a=r.modes[n].toLowerCase();q2[a]=e[t]}}}function hZe(e){q2||uZe();var t=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!t||!t[2])return e;t=t[1]+t[2];var r=q2[t];return r||e}function fZe(e,t){var r=Id[e];if(!r||t==="")return e;var n=t.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!n)return e;for(var a=n[1],o=0;o<r.modes.length;o++){var l=r.modes[o],c=l.toLowerCase().indexOf(a);if(c!==-1&&c===l.length-a.length)return l.substring(0,l.length-a.length)}return e}function dZe(e,t){var r=Id[e];if(!r)return e;for(;t<0;)t+=12;for(var n=(r.stepsFromC+t)%12,a=0;a<Object.keys(Id).length;a++){var o=Object.keys(Id)[a];if(Id[o].stepsFromC===n)return o}return e}var Dce={relativeMajor:hZe,relativeMode:fZe,transposeKey:dZe},{relativeMajor:pZe}=Dce,Gf={acc:"sharp",note:"f"},a1={acc:"sharp",note:"c"},Ny={acc:"sharp",note:"g"},qT={acc:"sharp",note:"d"},TC={acc:"sharp",note:"A"},wz={acc:"sharp",note:"e"},gZe={acc:"sharp",note:"B"},Qo={acc:"flat",note:"B"},_c={acc:"flat",note:"e"},i0={acc:"flat",note:"A"},Ly={acc:"flat",note:"d"},wC={acc:"flat",note:"G"},Ez={acc:"flat",note:"c"},mZe={acc:"flat",note:"F"},vZe={"C#":[Gf,a1,Ny,qT,TC,wz,gZe],"F#":[Gf,a1,Ny,qT,TC,wz],B:[Gf,a1,Ny,qT,TC],E:[Gf,a1,Ny,qT],A:[Gf,a1,Ny],D:[Gf,a1],G:[Gf],C:[],F:[Qo],Bb:[Qo,_c],Eb:[Qo,_c,i0],Cm:[Qo,_c,i0],Ab:[Qo,_c,i0,Ly],Db:[Qo,_c,i0,Ly,wC],Gb:[Qo,_c,i0,Ly,wC,Ez],Cb:[Qo,_c,i0,Ly,wC,Ez,mZe],"A#":[Qo,_c],"B#":[],"D#":[Qo,_c,i0],"E#":[Qo],"G#":[Qo,_c,i0,Ly],none:[]};function yZe(e){var t=vZe[pZe(e)];return t?JSON.parse(JSON.stringify(t)):null}var Pce=yZe,Sz=lZe,bZe=Mce,EC=Pce,sA={},xZe={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},TZe=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],wZe=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];sA.keySignature=function(e,t,r,n,a){if(e.clef.type==="perc"||e.clef.type==="none")return{accidentals:EC(t),root:r,acc:n};a||(a=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var o=EC(t);if(!o)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+a,!e.localTranspose)return{accidentals:o,root:r,acc:n};if(e.globalTransposeOrigKeySig=o,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:o,root:r,acc:n};var l=t[0];t[1]==="b"||t[1]==="#"?(l+=t[1],t=t.substr(2)):t=t.substr(1);var c=xZe[l],u=c!==void 0;u||(c=0,l="C",t="");for(var h=c+e.localTranspose;h<0;)h+=12;h>11&&(h=h%12);var f=t[0]==="m"?wZe[h]:TZe[h],d=f+t,p=EC(d);p.length>0&&p[0].acc==="flat"&&(e.localTransposePreferFlats=!0);var g=d.charCodeAt(0)-l.charCodeAt(0);return e.localTranspose>0?(g<0||g===0&&(l[1]==="#"||d[1]==="b"))&&(g+=7):e.localTranspose<0&&(g>0||g===0&&(l[1]==="b"||d[1]==="#"))&&(g-=7),e.localTranspose>0?e.localTransposeVerticalMovement=g+Math.floor(e.localTranspose/12)*7:e.localTransposeVerticalMovement=g+Math.ceil(e.localTranspose/12)*7,u?{accidentals:p,root:f[0],acc:f.length>1?f[1]:""}:{accidentals:[],root:r,acc:n}};sA.chordName=function(e,t){return bZe(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var Az=["c","d","e","f","g","a","b"];function EZe(e,t,r,n,a){for(var o=Az[(e+49)%7],l=0,c=0;c<n.length;c++)n[c].note.toLowerCase()===o&&(l=SC[n[c].acc]);for(var u=SC[r],h=u-l,f=Az[(t+49)%7],d=0,p=0;p<a.accidentals.length;p++)a.accidentals[p].note.toLowerCase()===f&&(d=SC[a.accidentals[p].acc]);var g=h+d;return g<-2&&(t--,g+=f==="c"||f==="f"?1:2),g>2&&(t++,g-=f==="b"||f==="e"?1:2),[t,g]}var SC={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},SZe={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},AZe={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};sA.note=function(e,t){if(!(!e.localTranspose||e.clef.type==="perc")){var r=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var n=t.accidental?t.name.substring(1):t.name,a=t.accidental?t.name[0]:"",o=Sz.pitchIndex(n);t.name=a+Sz.noteName(o+e.localTransposeVerticalMovement)}if(t.accidental){var l=EZe(r,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=l[0],t.accidental=SZe[l[1]],t.name&&(t.name=AZe[l[1]]+t.name.replace(/[_^=]/g,""))}}};var Fce=sA,kz=sM,kZe=Fce,Us={};(function(){var e,t,r,n;Us.initialize=function(f,d,p,g,m){e=f,t=d,r=p,n=m},Us.standardKey=function(f,d,p,g){return kZe.keySignature(r,f,d,p,g)};var a={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},o=function(f,d){var p=a[f],g=p?p.mid:0;return g+d};Us.fixClef=function(f){var d=a[f.type];d&&(f.clefPos=d.pitch,f.type=d.clef)},Us.deepCopyKey=function(f){var d={accidentals:[],root:f.root,acc:f.acc,mode:f.mode};return f.accidentals.forEach(function(p){d.accidentals.push(Object.assign({},p))}),d};var l={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Us.addPosToKey=function(f,d){var p=f.verticalPos;d.accidentals.forEach(function(g){var m=l[g.note];m=m-p,g.verticalPos=m}),d.impliedNaturals&&d.impliedNaturals.forEach(function(g){var m=l[g.note];m=m-p,g.verticalPos=m}),p<-10?(d.accidentals.forEach(function(g){g.verticalPos-=7,(g.verticalPos>=11||g.verticalPos===10&&g.acc==="flat")&&(g.verticalPos-=7),g.note==="A"&&g.acc==="sharp"&&(g.verticalPos-=7),(g.note==="G"||g.note==="F")&&g.acc==="flat"&&(g.verticalPos-=7)}),d.impliedNaturals&&d.impliedNaturals.forEach(function(g){g.verticalPos-=7,(g.verticalPos>=11||g.verticalPos===10&&g.acc==="flat")&&(g.verticalPos-=7),g.note==="A"&&g.acc==="sharp"&&(g.verticalPos-=7),(g.note==="G"||g.note==="F")&&g.acc==="flat"&&(g.verticalPos-=7)})):p<-4?(d.accidentals.forEach(function(g){g.verticalPos-=7,p===-8&&(g.note==="f"||g.note==="g")&&g.acc==="sharp"&&(g.verticalPos-=7)}),d.impliedNaturals&&d.impliedNaturals.forEach(function(g){g.verticalPos-=7,p===-8&&(g.note==="f"||g.note==="g")&&g.acc==="sharp"&&(g.verticalPos-=7)})):p>=7&&(d.accidentals.forEach(function(g){g.verticalPos+=7}),d.impliedNaturals&&d.impliedNaturals.forEach(function(g){g.verticalPos+=7}))},Us.fixKey=function(f,d){var p=Object.assign({},d);return Us.addPosToKey(f,p),p};var c=function(f){var d=0,p=f[d++];(p==="^"||p==="_")&&(p=f[d++]);var g=l[p];for(g===void 0&&(g=6);d<f.length;d++)if(f[d]===",")g-=7;else if(f[d]==="'")g+=7;else break;return{mid:g-6,str:f.substring(d)}},u=function(f){for(var d=0;d<f.length;d++)f[d].note==="b"?f[d].note="B":f[d].note==="a"?f[d].note="A":f[d].note==="F"?f[d].note="f":f[d].note==="E"?f[d].note="e":f[d].note==="D"?f[d].note="d":f[d].note==="C"?f[d].note="c":f[d].note==="G"&&f[d].acc==="sharp"?f[d].note="g":f[d].note==="g"&&f[d].acc==="flat"&&(f[d].note="G")};Us.parseKey=function(f,d){f.length===0&&(f="none");var p=e.tokenize(f,0,f.length),g={};if(p.length===0)return t("Must pass in key signature.",f,0),g;switch(p[0].token){case"HP":kz.addDirective("bagpipes"),r.key={root:"HP",accidentals:[],acc:"",mode:""},g.foundKey=!0,p.shift();break;case"Hp":kz.addDirective("bagpipes"),r.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},g.foundKey=!0,p.shift();break;case"none":r.key={root:"none",accidentals:[],acc:"",mode:""},g.foundKey=!0,p.shift();break;default:var m=e.getKeyPitch(p[0].token);if(m.len>0){g.foundKey=!0;var y="",b="";p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift();var x=m.token;if(p.length>0){var T=e.getSharpFlat(p[0].token);if(T.len>0&&(p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift(),x+=T.token,y=T.token),p.length>0){var w=e.getMode(p[0].token);w.len>0&&(p.shift(),x+=w.token,b=w.token)}if(Us.standardKey(x,m.token,y,0)===void 0)return t("Unsupported key signature: "+x,f,0),g}var E=Us.deepCopyKey(r.key),S=!d&&r.globalTranspose?-r.globalTranspose:0,C;if(d&&(C=r.globalTransposeOrigKeySig),r.key=Us.deepCopyKey(Us.standardKey(x,m.token,y,S)),d&&(r.globalTransposeOrigKeySig=C),r.key.mode=b,E){for(var k,O=0;O<r.key.accidentals.length;O++)for(k=0;k<E.accidentals.length;k++)E.accidentals[k].note&&r.key.accidentals[O].note.toLowerCase()===E.accidentals[k].note.toLowerCase()&&(E.accidentals[k].note=null);for(k=0;k<E.accidentals.length;k++)E.accidentals[k].note&&(r.key.impliedNaturals||(r.key.impliedNaturals=[]),r.key.impliedNaturals.push({acc:"natural",note:E.accidentals[k].note}))}}break}if(p.length===0||(p[0].token==="exp"&&p.shift(),p.length===0)||(p[0].token==="oct"&&p.shift(),p.length===0))return g;var I=e.getKeyAccidentals2(p);if(I.warn&&t(I.warn,f,0),I.accs){g.foundKey||(g.foundKey=!0,r.key={root:"none",acc:"",mode:"",accidentals:[]}),u(I.accs);for(var _=0;_<I.accs.length;_++){for(var R=!1,M=0;M<r.key.accidentals.length&&!R;M++)r.key.accidentals[M].note===I.accs[_].note&&(R=!0,r.key.accidentals[M].acc!==I.accs[_].acc&&(r.key.accidentals[M].acc=I.accs[_].acc,r.key.explicitAccidentals||(r.key.explicitAccidentals=[]),r.key.explicitAccidentals.push(I.accs[_])));if(!R&&(r.key.explicitAccidentals||(r.key.explicitAccidentals=[]),r.key.explicitAccidentals.push(I.accs[_]),r.key.accidentals.push(I.accs[_]),r.key.impliedNaturals))for(var $=0;$<r.key.impliedNaturals.length;$++)r.key.impliedNaturals[$].note===I.accs[_].note&&r.key.impliedNaturals.splice($,1)}}for(var N;p.length>0;)switch(p[0].token){case"m":case"middle":if(p.shift(),p.length===0)return t("Expected = after middle",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after middle",f,N.start);break}if(p.length===0)return t("Expected parameter after middle=",f,0),g;var P=e.getPitchFromTokens(p);P.warn&&t(P.warn,f,0),P.position&&(r.clef.verticalPos=P.position-6);break;case"transpose":if(p.shift(),p.length===0)return t("Expected = after transpose",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after transpose",f,N.start);break}if(p.length===0)return t("Expected parameter after transpose=",f,0),g;if(p[0].type!=="number"){t("Expected number after transpose",f,p[0].start);break}r.clef.transpose=p[0].intt,p.shift();break;case"stafflines":if(p.shift(),p.length===0)return t("Expected = after stafflines",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after stafflines",f,N.start);break}if(p.length===0)return t("Expected parameter after stafflines=",f,0),g;if(p[0].type!=="number"){t("Expected number after stafflines",f,p[0].start);break}r.clef.stafflines=p[0].intt,p.shift();break;case"staffscale":if(p.shift(),p.length===0)return t("Expected = after staffscale",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after staffscale",f,N.start);break}if(p.length===0)return t("Expected parameter after staffscale=",f,0),g;if(p[0].type!=="number"){t("Expected number after staffscale",f,p[0].start);break}r.clef.staffscale=p[0].floatt,p.shift();break;case"octave":if(p.shift(),p.length===0)return t("Expected = after octave",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after octave",f,N.start);break}if(p.length===0)return t("Expected parameter after octave=",f,0),g;if(p[0].type!=="number"){t("Expected number after octave",f,p[0].start);break}r.octave=p[0].intt,p.shift();break;case"style":if(p.shift(),p.length===0)return t("Expected = after style",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after style",f,N.start);break}if(p.length===0)return t("Expected parameter after style=",f,0),g;switch(p[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":r.style=p[0].token,p.shift();break;default:t("error parsing style element: "+p[0].token,f,p[0].start);break}break;case"clef":if(p.shift(),p.length===0)return t("Expected = after clef",f,0),g;if(N=p.shift(),N.token!=="="){t("Expected = after clef",f,N.start);break}if(p.length===0)return t("Expected parameter after clef=",f,0),g;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var F=p.shift();switch(F.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":F.token="alto";break;case"F":F.token="bass";break;case"G":F.token="treble";break;case"c":F.token="alto";break;case"f":F.token="bass";break;case"g":F.token="treble";break;default:t("Expected clef name. Found "+F.token,f,F.start);break}p.length>0&&p[0].type==="number"&&(F.token+=p[0].token,p.shift()),p.length>1&&(p[0].token==="-"||p[0].token==="+"||p[0].token==="^"||p[0].token==="_")&&p[1].token==="8"&&(F.token+=p[0].token+p[1].token,p.shift(),p.shift()),r.clef={type:F.token,verticalPos:o(F.token,0)},r.currentVoice&&r.currentVoice.transpose!==void 0&&(r.clef.transpose=r.currentVoice.transpose),g.foundClef=!0;break;default:t("Unknown parameter: "+p[0].token,f,p[0].start),p.shift()}return g};var h=function(f){var d=r.voices[f];if(!(r.currentVoice&&r.currentVoice.index===d.index&&r.currentVoice.staffNum===d.staffNum))return r.currentVoice=d,n.setCurrentVoice(d.staffNum,d.index,f)};Us.parseVoice=function(f,d,p){var g=e.getMeat(f,d,p),m=g.start,y=g.end,b=e.getToken(f,m,y);if(b.length===0){t("Expected a voice id",f,m);return}var x=!1;r.voices[b]===void 0&&(r.voices[b]={},x=!0,r.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",f,m)),m+=b.length,m+=e.eatWhiteSpace(f,m);for(var T={startStaff:x},w=function(P){var F=e.getVoiceToken(f,m,y);F.warn!==void 0?t("Expected value for "+P+" in voice: "+F.warn,f,m):F.err!==void 0?t("Expected value for "+P+" in voice: "+F.err,f,m):F.token.length===0&&f[m]!=='"'?t("Expected value for "+P+" in voice",f,m):T[P]=F.token,m+=F.len},E=function(P,F,L){var D=e.getVoiceToken(f,m,y);D.warn!==void 0?t("Expected value for "+F+" in voice: "+D.warn,f,m):D.err!==void 0?t("Expected value for "+F+" in voice: "+D.err,f,m):D.token.length===0&&f[m]!=='"'?t("Expected value for "+F+" in voice",f,m):(D.token=parseFloat(D.token),r.voices[P][F]=D.token),m+=D.len},S=function(P,F){var L=e.getVoiceToken(f,m,y);if(L.warn!==void 0)t("Expected value for "+P+" in voice: "+L.warn,f,m);else if(L.err!==void 0)t("Expected value for "+P+" in voice: "+L.err,f,m);else if(L.token.length===0&&f[m]!=='"')t("Expected value for "+P+" in voice",f,m);else return L.token;m+=L.len},C=function(P,F){var L={_B:2,_E:9,_b:-10,_e:-3},D=e.getVoiceToken(f,m,y);if(D.warn!==void 0)t("Expected one of (_B, _E, _b, _e) for "+F+" in voice: "+D.warn,f,m);else if(D.token.length===0&&f[m]!=='"')t("Expected one of (_B, _E, _b, _e) for "+F+" in voice",f,m);else{var B=L[D.token];B?r.voices[P][F]=B:t("Expected one of (_B, _E, _b, _e) for "+F+" in voice",f,m)}m+=D.len};m<y;){var k=e.getVoiceToken(f,m,y);if(m+=k.len,k.warn)t("Error parsing voice: "+k.warn,f,m);else{var O=null;switch(k.token){case"clef":case"cl":w("clef");var I=0;T.clef!==void 0&&(T.clef=T.clef.replace(/[',]/g,""),T.clef.indexOf("+16")!==-1&&(I+=14,T.clef=T.clef.replace("+16","")),T.verticalPos=o(T.clef,I));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var _=0;T.clef=k.token.replace(/[',]/g,""),T.verticalPos=o(T.clef,_),r.voices[b].clef=k.token;break;case"staves":case"stave":case"stv":w("staves");break;case"brace":case"brc":w("brace");break;case"bracket":case"brk":w("bracket");break;case"name":case"nm":w("name");break;case"subname":case"sname":case"snm":w("subname");break;case"merge":T.startStaff=!1;break;case"stem":case"stems":O=e.getVoiceToken(f,m,y),O.warn!==void 0?t("Expected value for stems in voice: "+O.warn,f,m):O.err!==void 0?t("Expected value for stems in voice: "+O.err,f,m):O.token==="up"||O.token==="down"?r.voices[b].stem=O.token:t("Expected up or down for voice stem",f,m),m+=O.len;break;case"up":case"down":r.voices[b].stem=k.token;break;case"middle":case"m":w("verticalPos"),T.verticalPos=c(T.verticalPos).mid;break;case"gchords":case"gch":r.voices[b].suppressChords=!0,O=e.getVoiceToken(f,m,y),O.token==="0"&&(m=m+O.len);break;case"space":case"spc":w("spacing");break;case"scale":E(b,"scale");break;case"score":C(b,"scoreTranspose");break;case"transpose":E(b,"transpose");break;case"stafflines":E(b,"stafflines");break;case"staffscale":E(b,"staffscale");break;case"octave":E(b,"octave");break;case"volume":E(b,"volume");break;case"cue":var R=S("cue");R==="on"?r.voices[b].scale=.6:r.voices[b].scale=1;break;case"style":O=e.getVoiceToken(f,m,y),O.warn!==void 0?t("Expected value for style in voice: "+O.warn,f,m):O.err!==void 0?t("Expected value for style in voice: "+O.err,f,m):O.token==="normal"||O.token==="harmonic"||O.token==="rhythm"||O.token==="x"||O.token==="triangle"?r.voices[b].style=O.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",f,m),m+=O.len;break}}m+=e.eatWhiteSpace(f,m)}if((T.startStaff||r.staves.length===0)&&(r.staves.push({index:r.staves.length,meter:r.origMeter}),r.score_is_present||(r.staves[r.staves.length-1].numVoices=0)),r.voices[b].staffNum===void 0){r.voices[b].staffNum=r.staves.length-1;var M=0;for(var $ in r.voices)r.voices.hasOwnProperty($)&&r.voices[$].staffNum===r.voices[b].staffNum&&M++;r.voices[b].index=M-1}var N=r.staves[r.voices[b].staffNum];return r.score_is_present||N.numVoices++,T.clef&&(N.clef={type:T.clef,verticalPos:T.verticalPos}),T.spacing&&(N.spacing_below_offset=T.spacing),T.verticalPos&&(N.verticalPos=T.verticalPos),T.name&&(N.name?N.name.push(T.name):N.name=[T.name]),T.subname&&(N.subname?N.subname.push(T.subname):N.subname=[T.subname]),h(b)}})();var lM=Us,jT=Vh,Nc=sM,Lc=lM,CZe=function(e,t,r,n,a){this.reset=function(c,u,h,f){Lc.initialize(c,u,h,f,a),Nc.initialize(c,u,h,f,a)},this.reset(e,t,r,n),this.setTitle=function(c,u){r.hasMainTitle?a.addSubtitle(c,{startChar:r.iChar,endChar:r.iChar+u+2}):(a.addMetaText("title",c,{startChar:r.iChar,endChar:r.iChar+u+2}),r.hasMainTitle=!0)},this.setMeter=function(c){if(c=e.stripComment(c),c==="C")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"common_time"};if(c==="C|")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"cut_time"};if(c==="o")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_perfectum"};if(c==="c")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_imperfectum"};if(c==="o.")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(c==="c.")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(c.length===0||c.toLowerCase()==="none")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),null;var u=e.tokenize(c,0,c.length);try{var h=function(){var y={value:0,num:""},b=u.shift();for(b.token==="("&&(b=u.shift());;){if(b.type!=="number")throw"Expected top number of meter";if(y.value+=parseInt(b.token),y.num+=b.token,u.length===0||u[0].token==="/")return y;if(b=u.shift(),b.token===")"){if(u.length===0||u[0].token==="/")return y;throw"Unexpected paren in meter"}if(b.token!=="."&&b.token!=="+"||(y.num+=b.token,u.length===0))throw"Expected top number of meter";b=u.shift()}return y},f=function(){var y=h();if(u.length===0)return y;var b=u.shift();if(b.token!=="/")throw"Expected slash in meter";if(b=u.shift(),b.type!=="number")throw"Expected bottom number of meter";return y.den=b.token,y.value=y.value/parseInt(y.den),y};if(u.length===0)throw"Expected meter definition in M: line";for(var d={type:"specified",value:[]},p=0;;){var g=f();p+=g.value;var m={num:g.num};if(g.den!==void 0&&(m.den=g.den),d.value.push(m),u.length===0)break}return r.havent_set_length===!0&&(r.default_length=p<.75?.0625:.125,r.havent_set_length=!1),d}catch(y){t(y,c,0)}return null},this.calcTempo=function(c){var u=.25;r.meter&&r.meter.type==="specified"?u=1/parseInt(r.meter.value[0].den):r.origMeter&&r.origMeter.type==="specified"&&(u=1/parseInt(r.origMeter.value[0].den));for(var h=0;h<c.duration;h++)c.duration[h]=u*c.duration[h];return c},this.resolveTempo=function(){r.tempo&&(this.calcTempo(r.tempo),n.metaText.tempo=r.tempo,delete r.tempo)},this.addUserDefinition=function(c,u,h){var f=c.indexOf("=",u);if(f===-1){t("Need an = in a macro definition",c,u);return}var d=jT.strip(c.substring(u,f)),p=jT.strip(c.substring(f+1));if(d.length!==1){t("Macro definitions can only be one character",c,u);return}var g="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(g.indexOf(d)===-1){t("Macro definitions must be H-Y, h-w, or tilde",c,u);return}if(p.length===0){t("Missing macro definition",c,u);return}r.macros===void 0&&(r.macros={}),r.macros[d]=p},this.setDefaultLength=function(c,u,h){var f=c.substring(u,h).replace(/ /g,""),d=f.split("/");if(d.length===2){var p=parseInt(d[0]),g=parseInt(d[1]);g>0&&(r.default_length=p/g,r.havent_set_length=!1)}else d.length===1&&d[0]==="1"&&(r.default_length=1,r.havent_set_length=!1)};var o={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(c,u,h,f){try{var d=e.tokenize(c,u,h);if(d.length===0)throw"Missing parameter in Q: field";var p={startChar:f+u-2,endChar:f+h},g=!0,m=d.shift();if(m.type==="quote"&&(p.preString=m.token,m=d.shift(),d.length===0))return o[p.preString.toLowerCase()]&&(p.bpm=o[p.preString.toLowerCase()],p.suppressBpm=!0),{type:"immediate",tempo:p};if(m.type==="alpha"&&m.token==="C"){if(d.length===0)throw"Missing tempo after C in Q: field";if(m=d.shift(),m.type==="punct"&&m.token==="="){if(d.length===0)throw"Missing tempo after = in Q: field";if(m=d.shift(),m.type!=="number")throw"Expected number after = in Q: field";p.duration=[1],p.bpm=parseInt(m.token)}else if(m.type==="number"){if(p.duration=[parseInt(m.token)],d.length===0)throw"Missing = after duration in Q: field";if(m=d.shift(),m.type!=="punct"||m.token!=="=")throw"Expected = after duration in Q: field";if(d.length===0)throw"Missing tempo after = in Q: field";if(m=d.shift(),m.type!=="number")throw"Expected number after = in Q: field";p.bpm=parseInt(m.token)}else throw"Expected number or equal after C in Q: field"}else if(m.type==="number"){var y=parseInt(m.token);if(d.length===0||d[0].type==="quote")p.duration=[1],p.bpm=y;else{if(g=!1,m=d.shift(),m.type!=="punct"&&m.token!=="/"||(m=d.shift(),m.type!=="number"))throw"Expected fraction in Q: field";var b=parseInt(m.token);for(p.duration=[y/b];d.length>0&&d[0].token!=="="&&d[0].type!=="quote";){if(m=d.shift(),m.type!=="number"||(y=parseInt(m.token),m=d.shift(),m.type!=="punct"&&m.token!=="/")||(m=d.shift(),m.type!=="number"))throw"Expected fraction in Q: field";b=parseInt(m.token),p.duration.push(y/b)}if(m=d.shift(),m.type!=="punct"&&m.token!=="=")throw"Expected = in Q: field";if(m=d.shift(),m.type!=="number")throw"Expected tempo in Q: field";p.bpm=parseInt(m.token)}}else throw"Unknown value in Q: field";if(d.length!==0&&(m=d.shift(),m.type==="quote"&&(p.postString=m.token,m=d.shift()),d.length!==0))throw"Unexpected string at end of Q: field";return r.printTempo===!1&&(p.suppress=!0),{type:g?"delaySet":"immediate",tempo:p}}catch(x){return t(x,c,u),{type:"none"}}},this.letter_to_inline_header=function(c,u,h){var f=!1,d=e.eatWhiteSpace(c,u);if(u+=d,c.length>=u+5&&c[u]==="["&&c[u+2]===":"){var p=c.indexOf("]",u),g=r.iChar+u,m=r.iChar+p+1;switch(c.substring(u,u+3)){case"[I:":var y=Nc.addDirective(c.substring(u+3,p));return y&&t(y,c,u),[p-u+1+d];case"[M:":var b=this.setMeter(c.substring(u+3,p));return a.hasBeginMusic()&&b?a.appendStartingElement("meter",g,m,b):r.meter=b,[p-u+1+d];case"[K:":var x=Lc.parseKey(c.substring(u+3,p),!0);return x.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",g,m,r.clef),x.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",g,m,Lc.fixKey(r.clef,r.key)),[p-u+1+d];case"[P:":var T=Nc.parseFontChangeLine(c.substring(u+3,p));return h||n.lines.length<=n.lineNum?r.partForNextLine={title:T,startChar:g,endChar:m}:a.appendElement("part",g,m,{title:T}),[p-u+1+d];case"[L:":return this.setDefaultLength(c,u+3,p),[p-u+1+d];case"[Q:":if(p>0){var w=this.setTempo(c,u+3,p,r.iChar);return w.type==="delaySet"?a.hasBeginMusic()?a.appendElement("tempo",g,m,this.calcTempo(w.tempo)):r.tempoForNextLine=["tempo",g,m,this.calcTempo(w.tempo)]:w.type==="immediate"&&(!h&&a.hasBeginMusic()?a.appendElement("tempo",g,m,w.tempo):r.tempoForNextLine=["tempo",g,m,w.tempo]),[p-u+1+d,c[u+1],c.substring(u+3,p)]}break;case"[V:":if(p>0)return f=Lc.parseVoice(c,u+3,p),[p-u+1+d,c[u+1],c.substring(u+3,p),f];break;case"[r:":return[p-u+1+d]}}return[0]},this.letter_to_body_header=function(c,u){var h=!1;if(c.length>=u+3)switch(c.substring(u,u+2)){case"I:":var f=Nc.addDirective(c.substring(u+2));return f&&t(f,c,u),[c.length];case"M:":var d=this.setMeter(c.substring(u+2));return a.hasBeginMusic()&&d&&a.appendStartingElement("meter",r.iChar+u,r.iChar+c.length,d),[c.length];case"K:":var p=Lc.parseKey(c.substring(u+2),a.hasBeginMusic());return p.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",r.iChar+u,r.iChar+c.length,r.clef),p.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",r.iChar+u,r.iChar+c.length,Lc.fixKey(r.clef,r.key)),[c.length];case"P:":return a.hasBeginMusic()&&a.appendElement("part",r.iChar+u,r.iChar+c.length,{title:c.substring(u+2)}),[c.length];case"L:":return this.setDefaultLength(c,u+2,c.length),[c.length];case"Q:":var g=c.indexOf("",u+2);g===-1&&(g=c.length);var m=this.setTempo(c,u+2,g,r.iChar);return m.type==="delaySet"?a.appendElement("tempo",r.iChar+u,r.iChar+c.length,this.calcTempo(m.tempo)):m.type==="immediate"&&a.appendElement("tempo",r.iChar+u,r.iChar+c.length,m.tempo),[g,c[u],jT.strip(c.substring(u+2))];case"V:":return h=Lc.parseVoice(c,u+2,c.length),[c.length,c[u],jT.strip(c.substring(u+2)),h]}return[0]};var l={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(c){var u=l[c[0]],h=c.length-2,f=e.translateString(e.stripComment(c.substring(2)));if(u==="unalignedWords"||u==="notes")a.addMetaTextArray(u,Nc.parseFontChangeLine(f),{startChar:r.iChar,endChar:r.iChar+c.length});else if(u!==void 0)a.addMetaText(u,Nc.parseFontChangeLine(f),{startChar:r.iChar,endChar:r.iChar+c.length});else{var d=r.iChar,p=d+c.length;switch(c[0]){case"H":for(a.addMetaTextArray("history",Nc.parseFontChangeLine(f),{startChar:r.iChar,endChar:r.iChar+c.length}),c=e.peekLine();c&&c[1]!==":";)e.nextLine(),a.addMetaTextArray("history",Nc.parseFontChangeLine(e.translateString(e.stripComment(c))),{startChar:r.iChar,endChar:r.iChar+c.length}),c=e.peekLine();break;case"K":this.resolveTempo();var g=Lc.parseKey(c.substring(2),!1);!r.is_in_header&&a.hasBeginMusic()&&(g.foundClef&&a.appendStartingElement("clef",d,p,r.clef),g.foundKey&&a.appendStartingElement("key",d,p,Lc.fixKey(r.clef,r.key))),r.is_in_header=!1;break;case"L":this.setDefaultLength(c,2,c.length);break;case"M":r.origMeter=r.meter=this.setMeter(c.substring(2));break;case"P":r.is_in_header?a.addMetaText("partOrder",Nc.parseFontChangeLine(f),{startChar:r.iChar,endChar:r.iChar+c.length}):r.partForNextLine={title:f,startChar:d,endChar:p};break;case"Q":var m=this.setTempo(c,2,c.length,r.iChar);m.type==="delaySet"?r.tempo=m.tempo:m.type==="immediate"&&(n.metaText.tempo?r.tempoForNextLine=["tempo",d,p,m.tempo]:n.metaText.tempo=m.tempo);break;case"T":r.titlecaps&&(f=f.toUpperCase()),this.setTitle(Nc.parseFontChangeLine(e.theReverser(f)),h);break;case"U":this.addUserDefinition(c,2,c.length);break;case"V":if(Lc.parseVoice(c,2,c.length),!r.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",c,0);break;default:return{regular:!0}}}return{}}},IZe=CZe,Ll={};Ll.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];Ll.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];Ll.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];Ll.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];Ll.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];Ll.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";Ll.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];Ll.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Ll.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};Ll.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};Ll.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2};var Cz=lM,Bce=Fce,ei,Ai,He,Zl,Vl,l2,{legalAccents:Iz,volumeDecorations:Rz,dynamicDecorations:Oz,accentPseudonyms:_z,accentDynamicPseudonyms:Nz,nonDecorations:RZe,durations:OZe,pitches:_Ze,rests:NZe,accMap:Lz,tripletQ:LZe}=Ll,cM=function(e,t,r,n,a,o){ei=e,Ai=t,He=r,Zl=n,Vl=a,l2=o,this.lineContinuation=!1},Mz=function(e,t,r){if(e.inTie[t]===void 0)return!1;var n=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;return!!(e.inTie[t][n]&&(r.pitches!==void 0||r.rest.type!=="spacer"))},Xe={};cM.prototype.parseMusic=function(e){l2.resolveTempo(),He.is_in_header=!1;for(var t=0,r=He.iChar;ei.isWhiteSpace(e[t])&&t<e.length;)t++;if(!(t===e.length||e[t]==="%")){var n=He.start_new_line;He.continueall===void 0?He.start_new_line=!0:He.start_new_line=!1;var a=0,o=l2.letter_to_body_header(e,t);o[0]>0&&(t+=o[0],o[1]==="V"&&this.startNewLine());for(var l=0;t<e.length;){var c=t;if(e[t]==="%")break;var u=l2.letter_to_inline_header(e,t,n);if(u[0]>0)t+=u[0],u[1]==="V"&&(n=!0);else{(!Vl.hasBeginMusic()||n&&!this.lineContinuation)&&(this.startNewLine(),n=!1);for(var h;;)if(h=ei.eatWhiteSpace(e,t),h>0&&(t+=h),t>0&&e[t-1]===""&&(h=l2.letter_to_body_header(e,t),h[0]>0&&(h[1]==="V"&&this.startNewLine(),t=h[0],He.start_new_line=!1)),h=FZe(e,t),h[0]>0&&(t+=h[0]),h=MZe(e,t),h[0]>0){Xe.chord||(Xe.chord=[]);var f=ei.translateString(h[1]);f=f.replace(/;/g,`
`);for(var d=!1,p=0;p<Xe.chord.length;p++)Xe.chord[p].position===h[2]&&(d=!0,Xe.chord[p].name+=`
`+f);d===!1&&(h[2]===null&&h[3]?Xe.chord.push({name:f,rel_position:h[3]}):Xe.chord.push({name:f,position:h[2]})),t+=h[0];var g=ei.skipWhiteSpace(e.substring(t));g>0&&(Xe.force_end_beam_last=!0),t+=g}else if(RZe.indexOf(e[t])===-1?h=Pz(e,t):h=[0],h[0]>0)h[1]===null?t+1<e.length&&this.startNewLine():h[1].length>0&&(h[1].indexOf("style=")===0?Xe.style=h[1].substr(6):(Xe.decoration===void 0&&(Xe.decoration=[]),h[1]==="beambr1"?Xe.beambr=1:h[1]==="beambr2"?Xe.beambr=2:Xe.decoration.push(h[1]))),t+=h[0];else if(h=DZe(e,t),h[0]>0)Xe.gracenotes=h[1],t+=h[0];else break;if(h=BZe(e,t),h[0]>0){l=0,Xe.gracenotes!==void 0&&(Xe.rest={type:"spacer"},Xe.duration=.125,He.addFormattingOptions(Xe,Zl.formatting,"note"),Vl.appendElement("note",r+t,r+t+h[0],Xe),He.measureNotEmpty=!0,Xe={});var m={type:h[1]};m.type.length===0?Ai("Unknown bar type",e,t):(He.inEnding&&m.type!=="bar_thin"&&(m.endEnding=!0,He.inEnding=!1),h[2]&&(m.startEnding=h[2],He.inEnding&&(m.endEnding=!0),He.inEnding=!0,h[1]==="bar_right_repeat"?He.restoreStartEndingHoldOvers():He.duplicateStartEndingHoldOvers()),Xe.decoration!==void 0&&(m.decoration=Xe.decoration),Xe.chord!==void 0&&(m.chord=Xe.chord),m.startEnding&&He.barFirstEndingNum===void 0?He.barFirstEndingNum=He.currBarNumber:m.startEnding&&m.endEnding&&He.barFirstEndingNum?He.currBarNumber=He.barFirstEndingNum:m.endEnding&&(He.barFirstEndingNum=void 0),m.type!=="bar_invisible"&&He.measureNotEmpty&&iO()&&(He.currBarNumber++,He.barNumbers&&He.currBarNumber%He.barNumbers===0&&(m.barNumber=He.currBarNumber)),He.addFormattingOptions(Xe,Zl.formatting,"bar"),Vl.appendElement("bar",r+c,r+t+h[0],m),He.measureNotEmpty=!1,Xe={}),t+=h[0]}else if(e[t]==="&")h=PZe(e,t),h[0]>0&&(Vl.appendElement("overlay",r,r+1,{}),t+=1,l++);else{if(h=$Ze(e,t),h.consumed>0&&(h.startSlur!==void 0&&(Xe.startSlur=h.startSlur),h.dottedSlur&&(Xe.dottedSlur=!0),h.triplet!==void 0&&(a>0?Ai("Can't nest triplets",e,t):(Xe.startTriplet=h.triplet,Xe.tripletMultiplier=h.tripletQ/h.triplet,Xe.tripletR=h.num_notes,a=h.num_notes===void 0?h.triplet:h.num_notes)),t+=h.consumed),e[t]==="["){t++;for(var y=null,b=!1,x=!1;!x;){var T=Pz(e,t);T[0]>0&&(t+=T[0]);var w=nO(e,t,{},!1);if(w!==null&&w.pitch!==void 0)T[0]>0&&T[1].indexOf("style=")!==0&&(Xe.decoration===void 0&&(Xe.decoration=[]),Xe.decoration.push(T[1])),w.end_beam&&(Xe.end_beam=!0,delete w.end_beam),Xe.pitches===void 0?(Xe.duration=w.duration,Xe.pitches=[w]):Xe.pitches.push(w),delete w.duration,T[0]>0&&T[1].indexOf("style=")===0&&(Xe.pitches[Xe.pitches.length-1].style=T[1].substr(6)),He.inTieChord[Xe.pitches.length]&&(w.endTie=!0,He.inTieChord[Xe.pitches.length]=void 0),w.startTie&&(He.inTieChord[Xe.pitches.length]=!0),t=w.endChar,delete w.endChar;else if(e[t]===" ")Ai("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&e[t]==="]"){t++,He.next_note_duration!==0&&(Xe.duration=Xe.duration*He.next_note_duration,He.next_note_duration=0),Mz(He,l,Xe)&&(Xe.pitches.forEach(function(R){R.endTie=!0}),My(He,l,!1)),a>0&&!(Xe.rest&&Xe.rest.type==="spacer")&&(a--,a===0&&(Xe.endTriplet=!0));for(var E=!1;t<e.length&&!E;){switch(e[t]){case" ":case"	":j2(Xe);break;case")":Xe.endSlur===void 0?Xe.endSlur=1:Xe.endSlur++;break;case"-":Xe.pitches.forEach(function(R){R.startTie={}}),My(He,l,!0);break;case">":case"<":var S=$ce(e,t);t+=S[0]-1,He.next_note_duration=S[2],y?y=y*S[1]:y=S[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var C=ei.getFraction(e,t);y=C.value,t=C.index;var k=e[t];k===" "&&(b=!0),k==="-"||k===")"||k===" "||k==="<"||k===">"?t--:E=!0;break;case"0":y=0;break;default:E=!0;break}E||t++}}else Ai("Expected ']' to end the chords",e,t);Xe.pitches!==void 0&&(y!==null&&(Xe.duration=Xe.duration*y,b&&j2(Xe)),He.addFormattingOptions(Xe,Zl.formatting,"note"),Vl.appendElement("note",r+c,r+t,Xe),He.measureNotEmpty=!0,Xe={}),x=!0}}}else{var O={},I=nO(e,t,O,!0);if(O.endTie!==void 0&&My(He,l,!0),I!==null){I.pitch!==void 0?(Xe.pitches=[{}],I.accidental!==void 0&&(Xe.pitches[0].accidental=I.accidental),Xe.pitches[0].pitch=I.pitch,Xe.pitches[0].name=I.name,(I.midipitch||I.midipitch===0)&&(Xe.pitches[0].midipitch=I.midipitch),I.endSlur!==void 0&&(Xe.pitches[0].endSlur=I.endSlur),I.endTie!==void 0&&(Xe.pitches[0].endTie=I.endTie),I.startSlur!==void 0&&(Xe.pitches[0].startSlur=I.startSlur),Xe.startSlur!==void 0&&(Xe.pitches[0].startSlur=Xe.startSlur),Xe.dottedSlur!==void 0&&(Xe.pitches[0].dottedSlur=!0),I.startTie!==void 0&&(Xe.pitches[0].startTie=I.startTie),Xe.startTie!==void 0&&(Xe.pitches[0].startTie=Xe.startTie)):(Xe.rest=I.rest,I.rest.type==="multimeasure"&&iO()&&(He.currBarNumber+=I.rest.text-1),I.endSlur!==void 0&&(Xe.endSlur=I.endSlur),I.endTie!==void 0&&(Xe.rest.endTie=I.endTie),I.startSlur!==void 0&&(Xe.startSlur=I.startSlur),I.startTie!==void 0&&(Xe.rest.startTie=I.startTie),Xe.startTie!==void 0&&(Xe.rest.startTie=Xe.startTie)),I.chord!==void 0&&(Xe.chord=I.chord),I.duration!==void 0&&(Xe.duration=I.duration),I.decoration!==void 0&&(Xe.decoration=I.decoration),I.graceNotes!==void 0&&(Xe.graceNotes=I.graceNotes),delete Xe.startSlur,delete Xe.dottedSlur,Mz(He,l,Xe)&&(Xe.pitches!==void 0?Xe.pitches[0].endTie=!0:Xe.rest.type!=="spacer"&&(Xe.rest.endTie=!0),My(He,l,!1)),(I.startTie||Xe.startTie)&&My(He,l,!0),t=I.endChar,a>0&&!(I.rest&&I.rest.type==="spacer")&&(a--,a===0&&(Xe.endTriplet=!0)),I.end_beam&&j2(Xe),Xe.rest&&Xe.rest.type==="rest"&&Xe.duration===1&&Dz(He)<=1&&(Xe.rest.type="whole",Xe.duration=Dz(He)),Xe.duration<1&&OZe.indexOf(Xe.duration)===-1&&Xe.duration!==0&&(!Xe.rest||Xe.rest.type!=="spacer")&&Ai("Duration not representable: "+e.substring(c,t),e,t),He.addFormattingOptions(Xe,Zl.formatting,"note");var _=Vl.appendElement("note",r+c,r+t,Xe);_||(this.startNewLine(),Vl.appendElement("note",r+c,r+t,Xe)),He.measureNotEmpty=!0,Xe={}}}t===c&&(e[t]!==" "&&e[t]!=="`"&&Ai("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||o[0]>0,this.lineContinuation||(Xe={})}};var My=function(e,t,r){var n=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;e.inTie[t]===void 0&&(e.inTie[t]=[]),e.inTie[t][n]=r},MZe=function(e,t){if(e[t]==='"'){var r=ei.getBrackettedSubstring(e,t,5);if(r[2]||Ai("Missing the closing quote while parsing the chord symbol",e,t),r[0]>0&&r[1].length>0&&r[1][0]==="^")r[1]=r[1].substring(1),r[2]="above";else if(r[0]>0&&r[1].length>0&&r[1][0]==="_")r[1]=r[1].substring(1),r[2]="below";else if(r[0]>0&&r[1].length>0&&r[1][0]==="<")r[1]=r[1].substring(1),r[2]="left";else if(r[0]>0&&r[1].length>0&&r[1][0]===">")r[1]=r[1].substring(1),r[2]="right";else if(r[0]>0&&r[1].length>0&&r[1][0]==="@"){r[1]=r[1].substring(1);var n=ei.getFloat(r[1]);if(n.digits===0)return Ai("Missing first position in absolutely positioned annotation.",e,t),r[1]=r[1].replace("@",""),r[2]="above",r;if(r[1]=r[1].substring(n.digits),r[1][0]!==",")return Ai("Missing comma absolutely positioned annotation.",e,t),r[1]=r[1].replace("@",""),r[2]="above",r;r[1]=r[1].substring(1);var a=ei.getFloat(r[1]);if(a.digits===0)return Ai("Missing second position in absolutely positioned annotation.",e,t),r[1]=r[1].replace("@",""),r[2]="above",r;r[1]=r[1].substring(a.digits);var o=ei.skipWhiteSpace(r[1]);r[1]=r[1].substring(o),r[2]=null,r[3]={x:n.value,y:a.value}}else He.freegchord!==!0&&(r[1]=r[1].replace(/([ABCDEFG0-9])b/g,"$1♭"),r[1]=r[1].replace(/([ABCDEFG0-9])#/g,"$1♯"),r[1]=r[1].replace(/^([ABCDEFG])([♯♭]?)o([^A-Za-z])/g,"$1$2°$3"),r[1]=r[1].replace(/^([ABCDEFG])([♯♭]?)o$/g,"$1$2°"),r[1]=r[1].replace(/^([ABCDEFG])([♯♭]?)0([^A-Za-z])/g,"$1$2ø$3"),r[1]=r[1].replace(/^([ABCDEFG])([♯♭]?)\^([^A-Za-z])/g,"$1$2∆$3")),r[2]="default",r[1]=Bce.chordName(He,r[1]);return r}return[0,""]},DZe=function(e,t){if(e[t]==="{"){var r=ei.getBrackettedSubstring(e,t,1,"}");r[2]||Ai("Missing the closing '}' while parsing grace note",e,t),e[t+r[0]]===")"&&(r[0]++,r[1]+=")");for(var n=[],a=0,o=!1;a<r[1].length;){var l=!1;r[1][a]==="/"&&(l=!0,a++);var c=nO(r[1],a,{},!1);c!==null?(c.duration=c.duration/(He.default_length*8),l&&(c.acciaccatura=!0),c.rest?Ai("Rests not allowed as grace notes '"+r[1][a]+"' while parsing grace note",e,t):n.push(c),o&&(c.endTie=!0,o=!1),c.startTie&&(o=!0),a=c.endChar,delete c.endChar,c.end_beam&&(c.endBeam=!0,delete c.end_beam)):(r[1][a]===" "?n.length>0&&(n[n.length-1].endBeam=!0):Ai("Unknown character '"+r[1][a]+"' while parsing grace note",e,t),a++)}if(n.length)return[r[0],n]}return[0]};function PZe(e,t){if(e[t]==="&"){for(var r=t;e[t]&&e[t]!==":"&&e[t]!=="|";)t++;return[t-r,e.substring(r+1,t)]}return[0]}function Dz(e){var t=e.origMeter;return!t||t.type!=="specified"||!t.value||t.value.length===0?1:parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10)}var Pz=function(e,t){var r=He.macros[e[t]];if(r!==void 0)return(r[0]==="!"||r[0]==="+")&&(r=r.substring(1)),(r[r.length-1]==="!"||r[r.length-1]==="+")&&(r=r.substring(0,r.length-1)),Iz.includes(r)?[1,r]:Rz.includes(r)?(He.volumePosition==="hidden"&&(r=""),[1,r]):Oz.includes(r)?(He.dynamicPosition==="hidden"&&(r=""),[1,r]):(He.ignoredDecorations.includes(r)||Ai("Unknown macro: "+r,e,t),[1,""]);switch(e[t]){case".":if(e[t+1]==="("||e[t+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var n=ei.getBrackettedSubstring(e,t,5);if(n[1].length>1&&(n[1][0]==="^"||n[1][0]==="_")&&(n[1]=n[1].substring(1)),Iz.includes(n[1]))return n;if(Rz.includes(n[1]))return He.volumePosition==="hidden"&&(n[1]=""),n;if(Oz.includes(n[1]))return He.dynamicPosition==="hidden"&&(n[1]=""),n;var a=_z.findIndex(function(o){return n[1]===o[0]});return a>=0?(n[1]=_z[a][1],n):(a=Nz.findIndex(function(o){return n[1]===o[0]}),a>=0?(n[1]=Nz[a][1],He.dynamicPosition==="hidden"&&(n[1]=""),n):e[t]==="!"&&(n[0]===1||e[t+n[0]-1]!=="!")?[1,null]:(Ai("Unknown decoration: "+n[1],e,t),n[1]="",n));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},FZe=function(e,t){for(var r=t;ei.isWhiteSpace(e[t]);)t++;return[t-r]},BZe=function(e,t){var r=ei.getBarLine(e,t);if(r.len===0)return[0,""];if(r.warn)return Ai(r.warn,e,t),[r.len,""];for(var n=0;n<e.length&&e[t+r.len+n]===" ";n++);var a=r.len;if(e[t+r.len+n]==="["&&(r.len+=n+1),e[t+r.len]==='"'&&e[t+r.len-1]==="["){var o=ei.getBrackettedSubstring(e,t+r.len,5);return[r.len+o[0],r.token,o[1]]}var l=ei.getTokenOf(e.substring(t+r.len),"1234567890-,");return l.len===0||l.token[0]==="-"?[a,r.token]:[r.len+l.len,r.token,l.token]},$Ze=function(e,t){var r={},n=t;for(e[t]==="."&&e[t+1]==="("&&(r.dottedSlur=!0,t++);e[t]==="("||ei.isWhiteSpace(e[t]);)e[t]==="("&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(r.triplet!==void 0?Ai("Can't nest triplets",e,t):(r.triplet=e[t+1]-"0",r.tripletQ=LZe[r.triplet],r.num_notes=r.triplet,t+2<e.length&&e[t+2]===":"&&(t+3<e.length&&e[t+3]===":"?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(r.num_notes=e[t+4]-"0",t+=3):Ai("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(r.tripletQ=e[t+3]-"0",t+4<e.length&&e[t+4]===":"?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(r.num_notes=e[t+5]-"0",t+=4):t+=2):Ai("expected number after the triplet to mark the duration",e,t))),t++):r.startSlur===void 0?r.startSlur=1:r.startSlur++),t++;return r.consumed=t-n,r};cM.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};He.partForNextLine.title&&(e.part=He.partForNextLine),e.clef=He.currentVoice&&He.staves[He.currentVoice.staffNum].clef!==void 0?Object.assign({},He.staves[He.currentVoice.staffNum].clef):Object.assign({},He.clef);var t=He.currentVoice?He.currentVoice.scoreTranspose:0;if(e.key=Cz.standardKey(He.key.root+He.key.acc+He.key.mode,He.key.root,He.key.acc,t),e.key.mode=He.key.mode,He.key.impliedNaturals&&(e.key.impliedNaturals=He.key.impliedNaturals),He.key.explicitAccidentals)for(var r=0;r<He.key.explicitAccidentals.length;r++){for(var n=!1,a=0;a<e.key.accidentals.length;a++)e.key.accidentals[a].note===He.key.explicitAccidentals[r].note&&(e.key.accidentals[a].acc=He.key.explicitAccidentals[r].acc,n=!0);n||e.key.accidentals.push(He.key.explicitAccidentals[r])}if(He.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,Cz.addPosToKey(e.clef,e.key),He.meter!==null?(He.currentVoice?(He.staves.forEach(function(u){u.meter=He.meter}),e.meter=He.staves[He.currentVoice.staffNum].meter,He.staves[He.currentVoice.staffNum].meter=null):e.meter=He.meter,He.meter=null):He.currentVoice&&He.staves[He.currentVoice.staffNum].meter&&(e.meter=He.staves[He.currentVoice.staffNum].meter,He.staves[He.currentVoice.staffNum].meter=null),He.currentVoice&&He.currentVoice.name&&(e.name=He.currentVoice.name),He.vocalfont&&(e.vocalfont=He.vocalfont),He.tripletfont&&(e.tripletfont=He.tripletfont),He.gchordfont&&(e.gchordfont=He.gchordfont),He.style&&(e.style=He.style),He.currentVoice){var o=He.staves[He.currentVoice.staffNum];o.brace&&(e.brace=o.brace),o.bracket&&(e.bracket=o.bracket),o.connectBarLines&&(e.connectBarLines=o.connectBarLines),o.name&&(e.name=o.name[He.currentVoice.index]),o.subname&&(e.subname=o.subname[He.currentVoice.index]),He.currentVoice.stem&&(e.stem=He.currentVoice.stem),He.currentVoice.stafflines&&(e.stafflines=He.currentVoice.stafflines),He.currentVoice.staffscale&&(e.staffscale=He.currentVoice.staffscale),He.currentVoice.scale&&(e.scale=He.currentVoice.scale),He.currentVoice.color&&(e.color=He.currentVoice.color),He.currentVoice.style&&(e.style=He.currentVoice.style),He.currentVoice.transpose&&(e.clef.transpose=He.currentVoice.transpose),e.currentVoice=He.currentVoice;for(var l=Object.keys(He.voices),c=0;c<l.length;c++)e.currentVoice.staffNum===He.voices[l[c]].staffNum&&e.currentVoice.index===He.voices[l[c]].index&&(e.currentVoiceName=l[c])}He.barNumbers===0&&iO()&&He.currBarNumber!==1&&(e.barNumber=He.currBarNumber),Vl.startNewLine(e),He.key.impliedNaturals&&delete He.key.impliedNaturals,He.partForNextLine={},He.tempoForNextLine.length===4&&Vl.appendElement(He.tempoForNextLine[0],He.tempoForNextLine[1],He.tempoForNextLine[2],He.tempoForNextLine[3]),He.tempoForNextLine=[]};var j2=function(e){return e.duration!==void 0&&e.duration<.25&&(e.end_beam=!0),e},nO=function(e,t,r,n){var a=function(p){return p==="octave"||p==="duration"||p==="Zduration"||p==="broken_rhythm"||p==="end_slur"},o;e[t]==="."&&e[t+1]==="-"&&(o=!0,t++);for(var l="startSlur",c=!1;;){switch(e[t]){case"(":if(l==="startSlur")r.startSlur===void 0?r.startSlur=1:r.startSlur++;else return a(l)?(r.endChar=t,r):null;break;case")":if(a(l))r.endSlur===void 0?r.endSlur=1:r.endSlur++;else return null;break;case"^":if(l==="startSlur")r.accidental="sharp",l="sharp2";else if(l==="sharp2")r.accidental="dblsharp",l="pitch";else return a(l)?(r.endChar=t,r):null;break;case"_":if(l==="startSlur")r.accidental="flat",l="flat2";else if(l==="flat2")r.accidental="dblflat",l="pitch";else return a(l)?(r.endChar=t,r):null;break;case"=":if(l==="startSlur")r.accidental="natural",l="pitch";else return a(l)?(r.endChar=t,r):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(l==="startSlur"||l==="sharp2"||l==="flat2"||l==="pitch"){if(r.pitch=_Ze[e[t]],r.pitch+=7*(He.currentVoice&&He.currentVoice.octave!==void 0?He.currentVoice.octave:He.octave),r.name=e[t],r.accidental&&(r.name=Lz[r.accidental]+r.name),Bce.note(He,r),l="octave",n&&He.next_note_duration!==0?(r.duration=He.default_length*He.next_note_duration,He.next_note_duration=0,c=!0):r.duration=He.default_length,He.clef&&He.clef.type==="perc"||He.currentVoice&&He.currentVoice.clef==="perc"){var u=e[t];r.accidental&&(u=Lz[r.accidental]+u),Zl.formatting&&Zl.formatting.midi&&Zl.formatting.midi.drummap&&(r.midipitch=Zl.formatting.midi.drummap[u])}}else return a(l)?(r.endChar=t,r):null;break;case",":if(l==="octave")r.pitch-=7,r.name+=",";else return a(l)?(r.endChar=t,r):null;break;case"'":if(l==="octave")r.pitch+=7,r.name+="'";else return a(l)?(r.endChar=t,r):null;break;case"x":case"X":case"y":case"z":case"Z":if(l==="startSlur")r.rest={type:NZe[e[t]]},delete r.accidental,delete r.startSlur,delete r.startTie,delete r.endSlur,delete r.endTie,delete r.end_beam,delete r.grace_notes,r.rest.type.indexOf("multimeasure")>=0?(r.duration=Zl.getBarLength(),r.rest.text=1,l="Zduration"):(n&&He.next_note_duration!==0?(r.duration=He.default_length*He.next_note_duration,He.next_note_duration=0,c=!0):r.duration=He.default_length,l="duration");else return a(l)?(r.endChar=t,r):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(l==="octave"||l==="duration"){var h=ei.getFraction(e,t);for(r.duration=r.duration*h.value,r.endChar=h.index;h.index<e.length&&(ei.isWhiteSpace(e[h.index])||e[h.index]==="-");)e[h.index]==="-"?r.startTie={}:r=j2(r),h.index++;t=h.index-1,l="broken_rhythm"}else if(l==="sharp2")r.accidental="quartersharp",l="pitch";else if(l==="flat2")r.accidental="quarterflat",l="pitch";else if(l==="Zduration"){var f=ei.getNumber(e,t);return r.duration=f.num*Zl.getBarLength(),r.rest.text=f.num,r.endChar=f.index,r}else return null;break;case"-":if(l==="startSlur")Vl.addTieToLastNote(o),r.endTie=!0;else if(l==="octave"||l==="duration"||l==="end_slur")if(r.startTie={},!c&&n)l="broken_rhythm";else return ei.isWhiteSpace(e[t+1])&&j2(r),r.endChar=t+1,r;else return l==="broken_rhythm"?(r.endChar=t,r):null;break;case" ":case"	":if(a(l)){r.end_beam=!0,o=!1;do e[t]==="."&&e[t+1]==="-"&&(o=!0,t++),e[t]==="-"&&(r.startTie={},o&&(r.startTie.style="dotted")),t++;while(t<e.length&&(ei.isWhiteSpace(e[t])||e[t]==="-")||e[t]==="."&&e[t+1]==="-");if(r.endChar=t,!c&&n&&(e[t]==="<"||e[t]===">"))t--,l="broken_rhythm";else return r}else return null;break;case">":case"<":if(a(l))if(n){var d=$ce(e,t);t+=d[0]-1,He.next_note_duration=d[2],r.duration=d[1]*r.duration,l="end_slur"}else return r.endChar=t,r;else return null;break;default:return a(l)?(r.endChar=t,r):null}if(t++,t===e.length)return a(l)?(r.endChar=t,r):null}return null},$ce=function(e,t){switch(e[t]){case">":return t<e.length-2&&e[t+1]===">"&&e[t+2]===">"?[3,1.875,.125]:t<e.length-1&&e[t+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&e[t+1]==="<"&&e[t+2]==="<"?[3,.125,1.875]:t<e.length-1&&e[t+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function iO(){return He.currentVoice===void 0||He.currentVoice.staffNum===0&&He.currentVoice.index===0}var HZe=cM,Pa=Vh,uM=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(d){for(var p=0;p<d.length;p++)if(!this.isWhiteSpace(d[p]))return p;return d.length};var r=function(d,p){return p>=d.length};this.eatWhiteSpace=function(d,p){for(var g=p;g<d.length;g++)if(!this.isWhiteSpace(d[g]))return g-p;return g-p},this.getKeyPitch=function(d){var p=this.skipWhiteSpace(d);if(r(d,p))return{len:0};switch(d[p]){case"A":return{len:p+1,token:"A"};case"B":return{len:p+1,token:"B"};case"C":return{len:p+1,token:"C"};case"D":return{len:p+1,token:"D"};case"E":return{len:p+1,token:"E"};case"F":return{len:p+1,token:"F"};case"G":return{len:p+1,token:"G"}}return{len:0}},this.getSharpFlat=function(d){if(d==="bass")return{len:0};switch(d[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(d){var p=function(y,b){for(;b<y.length&&(y[b]>="a"&&y[b]<="z"||y[b]>="A"&&y[b]<="Z");)b++;return b},g=this.skipWhiteSpace(d);if(r(d,g))return{len:0};var m=d.substring(g,g+3).toLowerCase();switch((m.length>1&&m[1]===" "||m[1]==="^"||m[1]==="_"||m[1]==="=")&&(m=m[0]),m){case"mix":return{len:p(d,g),token:"Mix"};case"dor":return{len:p(d,g),token:"Dor"};case"phr":return{len:p(d,g),token:"Phr"};case"lyd":return{len:p(d,g),token:"Lyd"};case"loc":return{len:p(d,g),token:"Loc"};case"aeo":return{len:p(d,g),token:"m"};case"maj":return{len:p(d,g),token:""};case"ion":return{len:p(d,g),token:""};case"min":return{len:p(d,g),token:"m"};case"m":return{len:p(d,g),token:"m"}}return{len:0}},this.getClef=function(d,p){var g=d,m=this.skipWhiteSpace(d);if(r(d,m))return{len:0};var y=!1,b=d.substring(m);if(Pa.startsWith(b,"clef=")&&(y=!0,b=b.substring(5),m+=5),b.length===0&&y)return{len:m+5,warn:"No clef specified: "+g};var x=this.skipWhiteSpace(b);if(r(b,x))return{len:0};x>0&&(m+=x,b=b.substring(x));var T=null;if(Pa.startsWith(b,"treble"))T="treble";else if(Pa.startsWith(b,"bass3"))T="bass3";else if(Pa.startsWith(b,"bass"))T="bass";else if(Pa.startsWith(b,"tenor"))T="tenor";else if(Pa.startsWith(b,"alto2"))T="alto2";else if(Pa.startsWith(b,"alto1"))T="alto1";else if(Pa.startsWith(b,"alto"))T="alto";else if(!p&&y&&Pa.startsWith(b,"none"))T="none";else if(Pa.startsWith(b,"perc"))T="perc";else if(!p&&y&&Pa.startsWith(b,"C"))T="tenor";else if(!p&&y&&Pa.startsWith(b,"F"))T="bass";else if(!p&&y&&Pa.startsWith(b,"G"))T="treble";else return{len:m+5,warn:"Unknown clef specified: "+g};return b=b.substring(T.length),x=this.isMatch(b,"+8"),x>0?T+="+8":(x=this.isMatch(b,"-8"),x>0&&(T+="-8")),{len:m+T.length,token:T,explicit:y}},this.getBarLine=function(d,p){switch(d[p]){case"]":switch(++p,d[p]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++p,d[p]>="1"&&d[p]<="9"||d[p]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++p,d[p]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++p,d[p]){case"]":switch(++p,d[p]){case"|":return++p,d[p]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++p,d[p]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++p,d[p]==="|")switch(++p,d[p]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return d[p]>="1"&&d[p]<="9"||d[p]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++p,d[p]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++p,d[p]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var g=0;d[p+g]===":";)g++;return{len:1+g,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(d,p){for(var g=0;g<d.length;g++)if(p.indexOf(d[g])<0)return{len:g,token:d.substring(0,g)};return{len:g,token:d}},this.getToken=function(d,p,g){for(var m=p;m<g&&!this.isWhiteSpace(d[m]);)m++;return d.substring(p,m)},this.isMatch=function(d,p){var g=this.skipWhiteSpace(d);return r(d,g)?0:Pa.startsWith(d.substring(g),p)?g+p.length:0},this.getPitchFromTokens=function(d){var p={},g={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(p.position=g[d[0].token],p.position===void 0)return{warn:"Pitch expected. Found: "+d[0].token};for(d.shift();d.length;)switch(d[0].token){case",":p.position-=7,d.shift();break;case"'":p.position+=7,d.shift();break;default:return p}return p},this.getKeyAccidentals2=function(d){for(var p;d.length>0;){var g;if(d[0].token==="^"){if(g="sharp",d.shift(),d.length===0)return{accs:p,warn:"Expected note name after "+g};switch(d[0].token){case"^":g="dblsharp",d.shift();break;case"/":g="quartersharp",d.shift();break}}else if(d[0].token==="=")g="natural",d.shift();else if(d[0].token==="_"){if(g="flat",d.shift(),d.length===0)return{accs:p,warn:"Expected note name after "+g};switch(d[0].token){case"_":g="dblflat",d.shift();break;case"/":g="quarterflat",d.shift();break}}else return{accs:p};if(d.length===0)return{accs:p,warn:"Expected note name after "+g};switch(d[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":p===void 0&&(p=[]),p.push({acc:g,note:d[0].token[0]}),d[0].token.length===1?d.shift():d[0].token=d[0].token.substring(1);break;default:return{accs:p,warn:"Expected note name after "+g+" Found: "+d[0].token}}}return{accs:p}},this.getKeyAccidental=function(d){var p={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},g=this.skipWhiteSpace(d);if(r(d,g))return{len:0};var m=null;switch(d[g]){case"^":case"_":case"=":m=d[g];break;default:return{len:0}}if(g++,r(d,g))return{len:1,warn:"Expected note name after accidental"};switch(d[g]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:g+1,token:{acc:p[m],note:d[g]}};case"^":case"_":case"/":if(m+=d[g],g++,r(d,g))return{len:2,warn:"Expected note name after accidental"};switch(d[g]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:g+1,token:{acc:p[m],note:d[g]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(d){return d===" "||d==="	"||d===""},this.getMeat=function(d,p,g){var m=d.indexOf("%",p);for(m>=0&&m<g&&(g=m);p<g&&(d[p]===" "||d[p]==="	"||d[p]==="");)p++;for(;p<g&&(d[g-1]===" "||d[g-1]==="	"||d[g-1]==="");)g--;return{start:p,end:g}};var n=function(d){return d>="A"&&d<="Z"||d>="a"&&d<="z"},a=function(d){return d>="0"&&d<="9"};this.tokenize=function(d,p,g,m){var y=this.getMeat(d,p,g);p=y.start,g=y.end;for(var b=[],x;p<g;){if(d[p]==='"'){for(x=p+1;x<g&&d[x]!=='"';)x++;b.push({type:"quote",token:d.substring(p+1,x),start:p+1,end:x}),x++}else if(n(d[p])){if(x=p+1,m)for(;x<g&&!this.isWhiteSpace(d[x]);)x++;else for(;x<g&&n(d[x]);)x++;b.push({type:"alpha",token:d.substring(p,x),continueId:a(d[x]),start:p,end:x}),p=x+1}else if(d[p]==="."&&a(d[x+1])){x=p+1;for(var T=null,w=null;x<g&&a(d[x]);)x++;w=parseFloat(d.substring(p,x)),b.push({type:"number",token:d.substring(p,x),intt:T,floatt:w,continueId:n(d[x]),start:p,end:x}),p=x+1}else if(a(d[p])||d[p]==="-"&&a(d[x+1])){x=p+1;for(var E=null,S=null;x<g&&a(d[x]);)x++;if(d[x]==="."&&a(d[x+1]))for(x++;x<g&&a(d[x]);)x++;else E=parseInt(d.substring(p,x));S=parseFloat(d.substring(p,x)),b.push({type:"number",token:d.substring(p,x),intt:E,floatt:S,continueId:n(d[x]),start:p,end:x}),p=x+1}else d[p]===" "||d[p]==="	"||b.push({type:"punct",token:d[p],start:p,end:p+1}),x=p+1;p=x}return b},this.getVoiceToken=function(d,p,g){for(var m=p;m<g&&this.isWhiteSpace(d[m])||d[m]==="=";)m++;if(d[m]==='"'){var y=d.indexOf('"',m+1);return y===-1||y>=g?{len:1,err:"Missing close quote"}:{len:y-p+1,token:this.translateString(d.substring(m+1,y))}}else{for(var b=m;b<g&&!this.isWhiteSpace(d[b])&&d[b]!=="=";)b++;return{len:b-p+1,token:d.substring(m,b)}}};var o={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å",aa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å",AA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~N":"Ñ","~n":"ñ","=s":"š",vs:"š",DH:"Ð",dh:"ð",HO:"Ő",Ho:"ő",HU:"Ű",Hu:"ű","'Y":"Ý","'y":"ý","^Y":"Ŷ","^y":"ŷ",'"Y':"Ÿ",'"y':"ÿ",vS:"Š",vZ:"Ž",vz:"ž"},l={"#":"♯",b:"♭","=":"♮"},c={201:"♯",202:"♭",203:"♮",241:"¡",242:"¢",252:"a",262:"2",272:"o",302:"Â",312:"Ê",322:"Ò",332:"Ú",342:"â",352:"ê",362:"ò",372:"ú",243:"£",253:"«",263:"3",273:"»",303:"Ã",313:"Ë",323:"Ó",333:"Û",343:"ã",353:"ë",363:"ó",373:"û",244:"¤",254:"¬",264:"  ́",274:"1⁄4",304:"Ä",314:"Ì",324:"Ô",334:"Ü",344:"ä",354:"ì",364:"ô",374:"ü",245:"¥",255:"-",265:"μ",275:"1⁄2",305:"Å",315:"Í",325:"Õ",335:"Ý",345:"å",355:"í",365:"õ",375:"ý",246:"¦",256:"®",266:"¶",276:"3⁄4",306:"Æ",316:"Î",326:"Ö",336:"Þ",346:"æ",356:"î",366:"ö",376:"þ",247:"§",257:" ̄",267:"·",277:"¿",307:"Ç",317:"Ï",327:"×",337:"ß",347:"ç",357:"ï",367:"÷",377:"ÿ",250:" ̈",260:"°",270:" ̧",300:"À",310:"È",320:"Ð",330:"Ø",340:"à",350:"è",360:"ð",370:"ø",251:"©",261:"±",271:"1",301:"Á",311:"É",321:"Ñ",331:"Ù",341:"á",351:"é",361:"ñ",371:"ù"};this.translateString=function(d){var p=d.split("\\");if(p.length===1)return d;var g=null;return p.forEach(function(m){if(g===null)g=m;else{var y=o[m.substring(0,2)];y!==void 0?g+=y+m.substring(2):(y=c[m.substring(0,3)],y!==void 0?g+=y+m.substring(3):(y=l[m.substring(0,1)],y!==void 0?g+=y+m.substring(1):g+="\\"+m))}}),g},this.getNumber=function(d,p){for(var g=0;p<d.length;)switch(d[p]){case"0":g=g*10,p++;break;case"1":g=g*10+1,p++;break;case"2":g=g*10+2,p++;break;case"3":g=g*10+3,p++;break;case"4":g=g*10+4,p++;break;case"5":g=g*10+5,p++;break;case"6":g=g*10+6,p++;break;case"7":g=g*10+7,p++;break;case"8":g=g*10+8,p++;break;case"9":g=g*10+9,p++;break;default:return{num:g,index:p}}return{num:g,index:p}},this.getFraction=function(d,p){var g=1,m=1;if(d[p]!=="/"){var y=this.getNumber(d,p);g=y.num,p=y.index}if(d[p]==="/")if(p++,d[p]==="/"){for(var b=.5;d[p++]==="/";)b=b/2;return{value:g*b,index:p-1}}else{var x=p,T=this.getNumber(d,p);T.num===0&&x===p&&(T.num=2),T.num!==0&&(m=T.num),p=T.index}return{value:g/m,index:p}};function u(d){const g=/^(\d+)\./.exec(d);return g?g[1]:null}var h=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(d){for(var p=0;p<h.length;p++){var g=h[p],m=d.match(g.match);if(m){var y=u(d);y&&(d=d.replace(y+".",""),d=d.trim());var b=m[0].length,x=g.replace+d.substring(0,d.length-b);return y&&(x=y+". "+x),x}}return d},this.stripComment=function(d){var p=d.indexOf("%");return p>=0?Pa.strip(d.substring(0,p)):Pa.strip(d)},this.getInt=function(d){var p=parseInt(d);if(isNaN(p))return{digits:0};var g=""+p,m=d.indexOf(g);return{value:p,digits:m+g.length}},this.getFloat=function(d){var p=parseFloat(d);if(isNaN(p))return{digits:0};var g=""+p,m=d.indexOf(g);return{value:p,digits:m+g.length}},this.getMeasurement=function(d){if(d.length===0)return{used:0};var p=1,g="";if(d[0].token==="-")d.shift(),g="-",p++;else if(d[0].type!=="number")return{used:0};if(g+=d.shift().token,d.length===0)return{used:1,value:parseInt(g)};var m=d.shift();if(m.token==="."){if(p++,d.length===0)return{used:p,value:parseInt(g)};if(d[0].type==="number"&&(m=d.shift(),g=g+"."+m.token,p++,d.length===0))return{used:p,value:parseFloat(g)};m=d.shift()}switch(m.token){case"pt":return{used:p+1,value:parseFloat(g)};case"px":return{used:p+1,value:parseFloat(g)};case"cm":return{used:p+1,value:parseFloat(g)/2.54*72};case"in":return{used:p+1,value:parseFloat(g)*72};default:return d.unshift(m),{used:p,value:parseFloat(g)}}};var f=function(d){return d=d.replace(/\\n/g,`
`),d=d.replace(/\\"/g,'"'),d};this.getBrackettedSubstring=function(d,p,g,m){for(var y=m||d[p],b=p+1,x=!1;b<d.length&&(x||d[b]!==y);)x=d[b]==="\\",++b;return d[b]===y?[b-p+1,f(d.substring(p+1,b)),!0]:(b=p+g,b>d.length-1&&(b=d.length-1),[b-p+1,f(d.substring(p+1,b)),!1])}};uM.prototype.peekLine=function(){return this.lines[this.lineIndex]};uM.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null};var UZe=uM;function WZe(e,t,r){if(!(!t||e.lines.length===0)){var n=e.deline({lineBreaks:!1}),a=GZe(n,t);e.lines=zZe(n,a,r),e.lineBreaks=a}}function zZe(e,t,r){for(var n=[],a=[],o=[],l=1,c=0;c<t.length;c++){var u=t[c];if(e[u.ogLine].staff){var h=e[u.ogLine].staff[u.staff];if(n[u.line]||(n[u.line]={staff:[]}),!n[u.line].staff[u.staff]){n[u.line].staff[u.staff]={voices:[]},r!==void 0&&u.staff===0&&u.line>0&&(n[u.line].staff[u.staff].barNumber=l);for(var f=Object.keys(h),d=0;d<f.length;d++){var p=f[d]==="voices";f[d]==="meter"&&u.line!==0&&(p=!0),p||(n[u.line].staff[u.staff][f[d]]=h[f[d]])}a[u.staff]&&(n[u.line].staff[u.staff].key=a[u.staff])}n[u.line].staff[u.staff].voices[u.voice]||(n[u.line].staff[u.staff].voices[u.voice]=[]),n[u.line].staff[u.staff].voices[u.voice]=e[u.ogLine].staff[u.staff].voices[u.voice].slice(u.start,u.end+1),o[u.staff*10+u.voice]&&n[u.line].staff[u.staff].voices[u.voice].unshift({el_type:"stem",direction:o[u.staff*10+u.voice].direction});for(var g=n[u.line].staff[u.staff].voices[u.voice],m=g.length-1;m>=0;m--)if(g[m].el_type==="key"){a[u.staff]={root:g[m].root,acc:g[m].acc,mode:g[m].mode,accidentals:g[m].accidentals.filter(function(b){return b.acc!=="natural"})};break}for(m=g.length-1;m>=0;m--)if(g[m].el_type==="stem"){o[u.staff*10+u.voice]={direction:g[m].direction};break}if(r!==void 0&&u.staff===0&&u.voice===0)for(m=0;m<g.length;m++)g[m].el_type==="bar"&&(l++,m===g.length-1?delete g[m].barNumber:g[m].barNumber=l)}else n[u.line]=e[u.ogLine]}for(var y=0;y<n.length;y++)n[y].staff&&(n[y].staff=n[y].staff.filter(function(b){return b!=null}));return n}function GZe(e,t){for(var r=[],n=0,a=0,o=0,l=0;l<e.length;l++){var c=e[l];if(c.staff){var u=a,h=t[n];n++;for(var f=0;f<c.staff.length;f++)for(var d=c.staff[f],p=0;p<d.voices.length;p++){o=u;for(var g=0,m=0,y=d.voices[p],b=0,x=0;x<y.length;x++){var T=y[x];T.el_type==="bar"&&(h[m]===g&&(r.push({ogLine:l,line:o,staff:f,voice:p,start:b,end:x}),b=x+1,o++,a=Math.max(a,o),m++),g++)}r.push({ogLine:l,line:o,staff:f,voice:p,start:b,end:y.length}),o++,a=Math.max(a,o)}}else r.push({ogLine:l,line:o}),o++,a=Math.max(a,o)}return r}function YZe(e,t){for(var r=[],n=[],a=0,o=0;o<e.length;o++){var l=e[o],c=a+l;if(c<t)a=c;else{var u=t-a,h=c-t;u<h&&a>0?(r.push(o-1),n.push(Math.round(a-l)),a=l):o<e.length-1&&(r.push(o),n.push(Math.round(a)),a=0)}}return n.push(Math.round(a)),{lineBreaks:r,totals:n}}function XT(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}function VZe(e,t,r,n,a,o,l,c,u,h,f){for(var d=h;d<e.length;d++){var p=e[d];r+=p,n+=p;var g=Math.abs(r-t[c]),m=Math.abs(g-o)<t[0]/10;if(m)if(g<o){var y=XT(a),b=XT(u);b.push(d-1),y.push(n-p),f.push({accumulator:r,lineAccumulator:p,lineWidths:y,lastVariance:Math.abs(r-t[c+1]),highestVariance:Math.max(l,o),currLine:c+1,lineBreaks:b,startIndex:d+1})}else g>o&&d<e.length-1&&(y=XT(a),b=XT(u),f.push({accumulator:r,lineAccumulator:n,lineWidths:y,lastVariance:g,highestVariance:Math.max(l,g),currLine:c,lineBreaks:b,startIndex:d+1}));g>o?(u.push(d-1),c++,l=Math.max(l,o),o=Math.abs(r-t[c]),a.push(n-p),n=p):o=g}a.push(n)}function qZe(e,t,r,n){for(var a=Math.ceil(e.total/t),o=Math.floor(e.total/a),l=[],c=0;c<a;c++)l.push(o*(c+1));var u=[];u.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var h=0;h<u.length;)VZe(e.measureWidths,l,u[h].accumulator,u[h].lineAccumulator,u[h].lineWidths,u[h].lastVariance,u[h].highestVariance,u[h].currLine,u[h].lineBreaks,u[h].startIndex,u),h++;for(c=0;c<u.length;c++){var f=u[c];f.variances=[],f.aveVariance=0;for(var d=0;d<f.lineWidths.length;d++){var p=f.lineWidths[d];f.variances.push(p-l[0]),f.aveVariance+=Math.abs(p-l[0])}f.aveVariance=f.aveVariance/f.lineWidths.length,n.attempts.push({type:"optimizeLineWidths",lineBreaks:f.lineBreaks,variances:f.variances,aveVariance:f.aveVariance,widths:e.measureWidths})}var g=9999999,m=-1;for(c=0;c<u.length;c++)f=u[c],f.aveVariance<g&&(g=f.aveVariance,m=c);return{failed:!1,lineBreaks:u[m].lineBreaks,variance:u[m].highestVariance}}function jZe(e,t,r){for(var n=[],a=[],o=0,l=!1,c=0;c<e.length;c++)o+=e[c],o>t&&(l=!0),c%r===r-1&&(c!==e.length-1&&n.push(c),a.push(Math.round(o)),o=0);return{failed:l,totals:a,lineBreaks:n}}function XZe(e,t,r){var n={lineBreaks:e,staffwidth:t};for(var a in r)r.hasOwnProperty(a)&&a!=="wrap"&&a!=="staffwidth"&&(n[a]=r[a]);return{revisedParams:n}}function KZe(e,t,r){if(t.length===0||r.staffwidth<t[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:r};var n=r.scale?Math.max(r.scale,.1):1,a=r.wrap.minSpacing?Math.max(parseFloat(r.wrap.minSpacing),1):1,o=r.wrap.minSpacingLimit?Math.max(parseFloat(r.wrap.minSpacingLimit),1):a-.1,l=r.wrap.maxSpacing?Math.max(parseFloat(r.wrap.maxSpacing),1):void 0;r.wrap.lastLineLimit&&!l&&(l=Math.max(parseFloat(r.wrap.lastLineLimit),1));for(var c=r.wrap.preferredMeasuresPerLine?Math.max(parseInt(r.wrap.preferredMeasuresPerLine,10),0):void 0,u=[],h=[],f=0;f<t.length;f++){var d=t[f],p=r.staffwidth-d.left,g=p/a/n,m=p/l/n,y=p/o/n,b={widths:d,lineBreakPoint:g,minLineSize:m,attempts:[],staffWidth:r.staffwidth,minWidth:Math.round(y)},x=null;if(c){var T=jZe(d.measureWidths,g,c);b.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:c,lineBreaks:T.lineBreaks,failed:T.failed,totals:T.totals}),T.failed||(x=T.lineBreaks)}if(!x){var w=YZe(d.measureWidths,g);b.attempts.push({type:"Free Form",lineBreaks:w.lineBreaks,totals:w.totals}),x=w.lineBreaks,x.length>0&&d.measureWidths.length<25&&(w=qZe(d,g,x,b),b.attempts.push({type:"Optimize",failed:w.failed,reason:w.reason,lineBreaks:w.lineBreaks,totals:w.totals}),w.failed||(x=w.lineBreaks))}u.push(x),h.push(b)}var E=r.staffwidth,S=XZe(u,E,r);return S.explanation=h,S.reParse=!0,S}var Hce={wrapLines:WZe,calcLineWraps:KZe},Sh={};Sh.FONTEM=360;Sh.FONTSIZE=30;Sh.STEP=Sh.FONTSIZE*93/720;Sh.SPACE=10;Sh.TOPNOTE=15;Sh.STAVEHEIGHT=100;Sh.INDENT=50;var ho=Sh,Uce,KT=Vh;(function(){var e=1,t=128;Uce=function(g,m){m=m||{};var y,b=m.program||0,x=m.midiTranspose||0;g.visualTranspose&&(x-=g.visualTranspose);var T=m.channel||0,w=!1,E=m.drum||"",S=m.drumBars||1,C=m.drumIntro||0,k=E!=="",O=!!m.drumOff,I=[],_=50;b=parseInt(b,10),x=parseInt(x,10),T=parseInt(T,10),T===10&&(b=t),E=E.split(" "),S=parseInt(S,10),C=parseInt(C,10);var R=g.formatting.bagpipes;R&&(b=71);var M=[];if(g.formatting.midi){var $=g.formatting.midi;$.program&&$.program.length>0&&(b=$.program[0],$.program.length>1&&(b=$.program[1],T=$.program[0]),w=!0),$.transpose&&(x=$.transpose[0]),$.channel&&(T=$.channel[0],w=!0),$.drum&&(E=$.drum),$.drumbars&&(S=$.drumbars[0]),$.drumon&&(k=!0),T===10&&(b=t),$.beat&&M.push({el_type:"beat",beats:$.beat}),$.nobeataccents&&M.push({el_type:"beataccents",value:!1})}m.qpm?y=parseInt(m.qpm,10):g.metaText.tempo?y=c(g.metaText.tempo,g.getBeatLength()):m.defaultQpm?y=m.defaultQpm:y=180;var N=[];R&&N.push({el_type:"bagpipes"}),N.push({el_type:"instrument",program:b}),T&&N.push({el_type:"channel",channel:T}),x&&N.push({el_type:"transpose",transpose:x}),N.push({el_type:"tempo",qpm:y});for(var P=0;P<M.length;P++)N.push(M[P]);var F=[],L=[],D=[],B=[0],H={};H[0]={el_type:"tempo",qpm:y,timing:0};for(var U,G=[],W=[],ee=!1,ce=g.lines,Z=0;Z<ce.length;Z++){var J=ce[Z];if(J.staff){let ve=function(Ee){var ke={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Pe;if(Ee.decoration)if(Ee.decoration.indexOf("pppp")>=0?Pe="pppp":Ee.decoration.indexOf("ppp")>=0?Pe="ppp":Ee.decoration.indexOf("pp")>=0?Pe="pp":Ee.decoration.indexOf("p")>=0?Pe="p":Ee.decoration.indexOf("mp")>=0?Pe="mp":Ee.decoration.indexOf("mf")>=0?Pe="mf":Ee.decoration.indexOf("f")>=0?Pe="f":Ee.decoration.indexOf("ff")>=0?Pe="ff":Ee.decoration.indexOf("fff")>=0?Pe="fff":Ee.decoration.indexOf("ffff")>=0&&(Pe="ffff"),Pe&&(U=ke[Pe].slice(0),F[Y].push({el_type:"beat",beats:U.slice(0)}),L[z]=!1,D[z]=!1),Ee.decoration.indexOf("crescendo(")>=0){var Oe=r(j,ye,"crescendo)"),Ye=Math.min(127,U[0]+_),Je=n(j,ye+Oe+1,Object.keys(ke));Je&&(Ye=ke[Je][0]),Oe>0?L[z]=Math.floor((Ye-U[0])/Oe):L[z]=!1,D[z]=!1}else if(Ee.decoration.indexOf("crescendo)")>=0)L[z]=!1;else if(Ee.decoration.indexOf("diminuendo(")>=0){var Ct=r(j,ye,"diminuendo)"),dt=Math.max(15,U[0]-_),ct=n(j,ye+Ct+1,Object.keys(ke));ct&&(dt=ke[ct][0]),L[z]=!1,Ct>0?D[z]=Math.floor((dt-U[0])/Ct):D[z]=!1}else Ee.decoration.indexOf("diminuendo)")>=0&&(D[z]=!1)};for(var oe=J.staff,Y=0,X=0;X<oe.length;X++){var K=oe[X];if(!(K.clef&&K.clef.type==="TAB"))for(var z=0;z<K.voices.length;z++){var j=K.voices[z];if(!F[Y]){F[Y]=[].concat(JSON.parse(JSON.stringify(N)));var te=l(J.staff,Y);te&&F[Y].unshift({el_type:"name",trackName:te})}if(x&&K.clef.type==="perc"&&F[Y].push({el_type:"transpose",transpose:0}),K.clef&&K.clef.type==="perc"&&!w)for(var re=0;re<F[Y].length;re++)F[Y][re].el_type==="instrument"&&(F[Y][re].program=t);else K.key&&f(F[Y],K.key);K.meter&&d(F[Y],K.meter),!ee&&k&&(F[Y].push({el_type:"drum",params:{pattern:E,bars:S,on:k,intro:C}}),ee=!0),K.clef&&K.clef.type!=="perc"&&K.clef.transpose&&(K.clef.el_type="clef",F[Y].push({el_type:"transpose",transpose:K.clef.transpose})),K.clef&&K.clef.type&&(K.clef.type.indexOf("-8")>=0?F[Y].push({el_type:"transpose",transpose:-12}):K.clef.type.indexOf("+8")>=0&&F[Y].push({el_type:"transpose",transpose:12})),g.formatting.midi&&g.formatting.midi.drumoff&&(F[Y].push({el_type:"bar"}),F[Y].push({el_type:"drum",params:{pattern:"",on:!1}}));var Se=0,ue=0,se=0,fe=0;U=[105,95,85,1];for(var ye=0;ye<j.length;ye++){var he=j[ye];switch(he.el_type){case"note":if(L[z]&&(U[0]+=L[z],U[1]+=L[z],U[2]+=L[z],F[Y].push({el_type:"beat",beats:U.slice(0)})),D[z]&&(U[0]+=D[z],U[1]+=D[z],U[2]+=D[z],F[Y].push({el_type:"beat",beats:U.slice(0)})),ve(he),!he.rest||he.rest.type!=="spacer"){var Ae={elem:he,el_type:"note",timing:B[Y]};if(he.style?Ae.style=he.style:I[Y]&&(Ae.style=I[Y]),Ae.duration=he.duration===0?.25:he.duration,he.startTriplet){if(ue=he.tripletMultiplier,se=he.startTriplet*ue*he.duration,he.startTriplet!==he.tripletR&&ye+he.tripletR<=j.length){for(var Ce=0,Ie=ye;Ie<ye+he.tripletR;Ie++)Ce+=j[Ie].duration;se=ue*Ce}Ae.duration=Ae.duration*ue,Ae.duration=Math.round(Ae.duration*1e6)/1e6,fe=Ae.duration}else ue&&(he.endTriplet?(ue=0,Ae.duration=Math.round((se-fe)*1e6)/1e6):(Ae.duration=Ae.duration*ue,Ae.duration=Math.round(Ae.duration*1e6)/1e6,fe+=Ae.duration));he.rest&&(Ae.rest=he.rest),he.decoration&&(Ae.decoration=he.decoration.slice(0)),he.pitches&&(Ae.pitches=KT.cloneArray(he.pitches)),he.gracenotes&&(Ae.gracenotes=KT.cloneArray(he.gracenotes)),he.chord&&(Ae.chord=KT.cloneArray(he.chord)),F[Y].push(Ae),he.style==="rhythm"&&o(F),Se++,B[Y]+=Ae.duration}break;case"key":case"keySignature":f(F[Y],he);break;case"meter":d(F[Y],he);break;case"clef":he.transpose&&F[Y].push({el_type:"transpose",transpose:he.transpose}),he.type&&(he.type.indexOf("-8")>=0?F[Y].push({el_type:"transpose",transpose:-12}):he.type.indexOf("+8")>=0&&F[Y].push({el_type:"transpose",transpose:12}));break;case"tempo":y=c(he,g.getBeatLength()),F[Y].push({el_type:"tempo",qpm:y,timing:B[Y]}),H[""+B[Y]]={el_type:"tempo",qpm:y,timing:B[Y]};break;case"bar":Se>0&&F[Y].push({el_type:"bar"}),ve(he),Se=0;var Le=he.type==="bar_right_repeat"||he.type==="bar_dbl_repeat",ae=he.startEnding==="1",q=he.type==="bar_left_repeat"||he.type==="bar_dbl_repeat"||he.type==="bar_right_repeat";if(Le){var ge=G[Y];ge||(ge=0);var le=W[Y];le||(le=F[Y].length);for(var Te=ge;Te<le;Te++){var ne=Object.assign({},F[Y][Te]);ne.pitches&&(ne.pitches=KT.cloneArray(ne.pitches)),F[Y].push(ne)}W[Y]=void 0,G[Y]=void 0}ae&&(W[Y]=F[Y].length),q&&(G[Y]=F[Y].length);break;case"style":I[Y]=he.head;break;case"timeSignature":F[Y].push(u(he));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var Re=!1;switch(he.cmd){case"drumon":k=!0,Re=!0;break;case"drumoff":k=!1,Re=!0;break;case"drum":E=he.params,Re=!0;break;case"drumbars":S=he.params[0],Re=!0;break;case"drummap":break;case"channel":he.params[0]===10&&F[Y].push({el_type:"instrument",program:t});break;case"program":p(F[Y],{el_type:"instrument",program:he.params[0]}),w=!0;break;case"transpose":F[Y].push({el_type:"transpose",transpose:he.params[0]});break;case"gchordoff":F[Y].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":F[Y].push({el_type:"gchordOn",tacet:!1});break;case"beat":F[Y].push({el_type:"beat",beats:he.params});break;case"nobeataccents":F[Y].push({el_type:"beataccents",value:!1});break;case"beataccents":F[Y].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":F[Y].push({el_type:he.cmd,volume:he.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":F[Y].push({el_type:he.cmd,param:he.params[0]});break;case"bassprog":case"chordprog":F[Y].push({el_type:he.cmd,value:he.params[0],octaveShift:he.params[1]});break;case"gchordbars":F[Y].push({el_type:he.cmd,param:he.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",he.cmd,he)}Re&&(F[0].push({el_type:"drum",params:{pattern:E,bars:S,intro:C,on:k}}),ee=!0);break;default:console.log("MIDI: element type "+he.el_type+" not handled.")}}Y++,B[Y]||(B[Y]=0)}}}}if(a(F,H),C)for(var ie=g.getPickupLength(),pe=0;pe<F.length;pe++){for(var xe=0;F[pe][xe].el_type!=="note"&&F[pe].length>xe;)xe++;if(F[pe].length>xe){for(var Ie=0;Ie<C;Ie++)ie===0||Ie<C-1?(F[pe].splice(xe,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}),xe+=2):F[pe].splice(xe++,0,{el_type:"note",rest:{type:"rest"},duration:e-ie});O&&(k=!1,F[pe].splice(xe++,0,{el_type:"drum",params:{pattern:E,bars:S,intro:C,on:k}}),O=!1)}}return F.length>0&&F[0].length>0&&(F[0][0].pickupLength=g.getPickupLength()),F};function r(g,m,y){for(var b=0,x=m+1;x<g.length;x++)if(g[x].el_type==="note"&&b++,g[x].decoration&&g[x].decoration.indexOf(y)>=0)return b;return b}function n(g,m,y){for(var b=Math.min(g.length,m+3),x=m;x<b;x++)if(g[x].el_type==="note"&&g[x].decoration){for(var T=0;T<g[x].decoration.length;T++)if(y.indexOf(g[x].decoration[T])>=0)return g[x].decoration[T]}return null}function a(g,m){if(!(!m||m.length===0))for(var y=Object.keys(m),b=0;b<g.length;b++)for(var x=g[b],T=m[0]?m[0].qpm:0,w=0;w<x.length;w++){var E=x[w];E.el_type==="tempo"&&(T=E.qpm),y.indexOf(""+E.timing)>=0&&T!==m[""+E.timing].qpm&&(T=m[""+E.timing].qpm,E.el_type==="tempo"?(E.qpm=m[""+E.timing].qpm,w++):(g[b].splice(w,0,{el_type:"tempo",qpm:m[""+E.timing].qpm,timing:E.timing}),w+=2))}}function o(g){for(var m=0;m<g.length;m++)for(var y=g[m],b=y.length-1;b>=0&&y[b].el_type!=="bar";)y[b].noChordVoice=!0,b--}function l(g,m){if(!(!g||g.length<=m||!g[m].title))return g[m].title.join(" ")}function c(g,m){var y=.25;g.duration&&(y=g.duration[0]);var b=60;return g.bpm&&(b=g.bpm),y*b/m}function u(g){var m;switch(g.type){case"common_time":m={el_type:"meter",num:4,den:4};break;case"cut_time":m={el_type:"meter",num:2,den:2};break;case"specified":m={el_type:"meter",num:g.value[0].num,den:g.value[0].den};break;default:m={el_type:"meter"}}return e=m.num/m.den,m}function h(g){for(var m=[],y=0;y<g.length;y++)g[y].acc!=="natural"&&m.push(g[y]);return m}function f(g,m){var y;m.root==="HP"?y={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:y={el_type:"key",accidentals:h(m.accidentals)},p(g,y)}function d(g,m){var y=u(m);p(g,y)}function p(g,m){for(var y=g.length-1;y>=0;y--)if(g[y].el_type===m.el_type){JSON.stringify(g[y])!==JSON.stringify(m)&&g.push(m);return}g.push(m)}})();var Wce=Uce,ai=function(t,r,n,a){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=t,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!r,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=a,this.tempoChangeFactor=1,this.bassInstrument=n.bassprog&&n.bassprog.length>=1?n.bassprog[0]:0,this.chordInstrument=n.chordprog&&n.chordprog.length>=1?n.chordprog[0]:0,this.bassOctaveShift=n.bassprog&&n.bassprog.length===2?n.bassprog[1]:0,this.chordOctaveShift=n.chordprog&&n.chordprog.length===2?n.chordprog[1]:0,this.boomVolume=n.bassvol&&n.bassvol.length===1?n.bassvol[0]:64,this.chickVolume=n.chordvol&&n.chordvol.length===1?n.chordvol[0]:48,n.gchord&&n.gchord.length>0?this.overridePattern=zce(n.gchord[0]):this.overridePattern=void 0};ai.prototype.setMeter=function(e){this.meter=e};ai.prototype.setTempoChangeFactor=function(e){this.tempoChangeFactor=e};ai.prototype.setLastBarTime=function(e){this.lastBarTime=e};ai.prototype.setTranspose=function(e){this.transpose=e};ai.prototype.setRhythmHead=function(e,t){this.hasRhythmHead=e;var r=[];if(e&&this.lastChord&&this.lastChord.chick)for(var n=0;n<this.lastChord.chick.length;n++){var a=Object.assign({},t.pitches[0]);a.actualPitch=this.lastChord.chick[n],r.push(a)}return r};ai.prototype.barEnd=function(e){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,aO(e.time)),this.currentChords=[]),this.chordLastBar=this.lastChord};ai.prototype.gChordOn=function(e){this.chordsOff||(this.gChordTacet=e.tacet)};ai.prototype.paramChange=function(e){switch(e.el_type){case"gchord":e.param&&e.param.length>0?this.overridePattern=zce(e.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.bassOctaveShift=e.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.chordOctaveShift=e.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=e.param;break;case"chordvol":this.chickVolume=e.param;break;default:console.log("unhandled midi param",e)}};ai.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)};ai.prototype.addTrack=function(e){this.chordTrackEmpty()||e.push(this.chordTrack)};ai.prototype.findChord=function(e){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!e.chord||e.chord.length===0)return null;for(var t=0;t<e.chord.length;t++){var r=e.chord[t];if(r.position==="default")return r.name;if(this.breakSynonyms.indexOf(r.name.toLowerCase())>=0)return"break"}return null};ai.prototype.interpretChord=function(e){if(e.length!==0){if(e==="break")return{chick:[]};var t=e.substring(0,1);if(t==="("){if(e=e.substring(1,e.length-2),e.length===0)return;t=e.substring(0,1)}var r=this.basses[t];if(r){for(var n=this.transpose;n<-8;)n+=12;for(;n>8;)n-=12;r+=n,r<33?r+=12:r>44&&(r-=12);var a=r;r+=this.bassOctaveShift*12;var o=r-5,l;e.length===1&&(l=this.chordNotes(r,""));var c=e.substring(1),u=c.substring(0,1);u==="b"||u==="♭"?(a--,r--,o--,c=c.substring(1)):(u==="#"||u==="♯")&&(a++,r++,o++,c=c.substring(1));var h=c.split("/");if(l=this.chordNotes(a,h[0]),l.length>=3){var f=l[2]-l[0];o=o+f-7}if(h.length===2){var d=this.basses[h[1].substring(0,1)];if(d){var p=h[1].substring(1),g={"#":1,"♯":1,b:-1,"♭":-1}[p]||0;r=this.basses[h[1].substring(0,1)]+g+n,r+=this.bassOctaveShift*12,o=r}}return{boom:r,boom2:o,chick:l}}}};ai.prototype.chordNotes=function(e,t){var r=this.chordIntervals[t];r||(t.slice(0,2).toLowerCase()==="ma"||t[0]==="M"?r=this.chordIntervals.M:t[0]==="m"||t[0]==="-"?r=this.chordIntervals.m:r=this.chordIntervals.M),e+=12,e+=this.chordOctaveShift*12;for(var n=[],a=0;a<r.length;a++)n.push(e+r[a]);return n};ai.prototype.writeNote=function(e,t,r,n,a,o){e!==void 0&&this.chordTrack.push({cmd:"note",pitch:e,volume:r,start:this.lastBarTime+n*Fz(t,this.tempoChangeFactor),duration:Fz(a,this.tempoChangeFactor),gap:0,instrument:o})};ai.prototype.chordTrackEmpty=function(){for(var e=!0,t=0;t<this.chordTrack.length&&e;t++)this.chordTrack[t].cmd==="note"&&(e=!1);return e};ai.prototype.resolveChords=function(e,t){if(!this.hasRhythmHead){var r=this.meter.num,n=this.meter.den,a=1/n,o=a/2,l=parseInt(r,10)/parseInt(n,10),c=l-(t-e)/this.tempoChangeFactor;Math.abs(c)<1e-5&&(c=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var u=QZe(this.currentChords,8*r/n),h=this.overridePattern?this.overridePattern:this.rhythmPatterns[r+"/"+n];if(c){h=[];for(var f=(t-e)/this.tempoChangeFactor*8,d=0;d<f/2;d+=2)h.push("chick"),h.push("")}if(!h){h=[];for(var d=0;d<8*r/n/2;d++)h.push("chick"),h.push("")}for(var p=!0,g=Math.min(h.length,u.length),d=0;d<g;d++){d>0&&u[d-1]&&u[d]&&u[d-1].boom!==u[d].boom&&(p=!0);var m=h[d],y=m.indexOf("boom")>=0,b=!y&&d!==0&&h[0].indexOf("boom")>=0&&(!u[d-1]||u[d-1].boom!==u[d].boom),x=ZZe(u[d],m,p,b);y&&(p=!1);for(var T=0;T<x.length;T++)this.writeNote(x[T],.125,y||b?this.boomVolume:this.chickVolume,d,o,y||b?this.bassInstrument:this.chordInstrument),b?b=!1:y=!1}}};ai.prototype.processChord=function(e){if(!this.chordTrackFinished){var t=this.findChord(e);if(t){var r=this.interpretChord(t);if(r){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=r;var n=JZe(this.lastBarTime,aO(e.time));this.currentChords.push({chord:this.lastChord,beat:n,start:aO(e.time)})}}}};function ZZe(e,t,r,n){var a=[];if(!e)return a;t.indexOf("boom")>=0?a.push(r?e.boom:e.boom2):n&&a.push(e.boom);var o=e.chick.length;if(t.indexOf("chick")>=0)for(var l=0;l<o;l++)a.push(e.chick[l]);switch(t){case"DO":a.push(e.chick[0]);break;case"MI":a.push(e.chick[1]);break;case"SOL":a.push(s1(e,2));break;case"TI":a.push(s1(e,3));break;case"TOP":a.push(s1(e,4));break;case"do":a.push(e.chick[0]+12);break;case"mi":a.push(e.chick[1]+12);break;case"sol":a.push(s1(e,2)+12);break;case"ti":a.push(s1(e,3)+12);break;case"top":a.push(s1(e,4)+12);break}return a}function s1(e,t){var r=Math.floor(t/e.chick.length),n=e.chick[t%e.chick.length];return n+r*12}function zce(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];switch(n){case"z":t.push("");break;case"2":t.push("");break;case"c":t.push("chick");break;case"b":t.push("boom&chick");break;case"f":t.push("boom");break;case"G":t.push("DO");break;case"H":t.push("MI");break;case"I":t.push("SOL");break;case"J":t.push("TI");break;case"K":t.push("TOP");break;case"g":t.push("do");break;case"h":t.push("mi");break;case"i":t.push("sol");break;case"j":t.push("ti");break;case"k":t.push("top");break}}return t}function QZe(e,t,r){var n=[];if(e.length===0)return n;for(var a=e[0].chord,o=1;o<e.length;o++){for(var l=e[o];n.length<l.beat;)n.push(a);a=l.chord}for(;n.length<t;)n.push(a);return n}function JZe(e,t){var r=t-e;return r*8}ai.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"];ai.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43};ai.prototype.chordIntervals={dim:[0,3,6],"°":[0,3,6],"˚":[0,3,6],dim7:[0,3,6,9],"°7":[0,3,6,9],"˚7":[0,3,6,9],ø7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7♭5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7♭5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-∆9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7♭9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"∆7":[0,4,7,11],Δ7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7♯5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9♯5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]};ai.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function aO(e){return e/1e6}function Fz(e,t){return Math.round(e*t*1e6)/1e6}var eQe=ai,tQe={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function rQe(e){var t=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return tQe[t]}var Gce=rQe,Yce,nQe=eQe,Bz=Gce;(function(){var e,t,r,n,a,o=1,l,c,u,h,f,d,p={num:4,den:4},g=128,m,y=!0,b=105,x=95,T=85,w=.25,E,S,C=0,k,O={},I,_=0,R,M=0,$=-.001,N=.4;Yce=function(se,fe,ye,he){fe||(fe={}),he||(he={}),e=[],t=[0,0,0,0,0,0,0],n=[],a=fe.qpm,o=1,l=void 0,c=void 0,u=void 0,h=void 0,f=0,R=ye,p={num:4,den:4},y=!0,b=105,x=95,T=85,w=.25,E=void 0,S=void 0,C=0,k=[],O={},I=1,se.length>0&&se[0].length>0&&(_=se[0][0].pickupLength),fe.bassprog!==void 0&&!he.bassprog&&(he.bassprog=[fe.bassprog]),fe.bassvol!==void 0&&!he.bassvol&&(he.bassvol=[fe.bassvol]),fe.chordprog!==void 0&&!he.chordprog&&(he.chordprog=[fe.chordprog]),fe.chordvol!==void 0&&!he.chordvol&&(he.chordvol=[fe.chordvol]),fe.gchord!==void 0&&!he.gchord&&(he.gchord=[fe.gchord]),d=new nQe(se.length,fe.chordsOff,he,p),D(se,fe);for(var Ae=0;Ae<se.length;Ae++){r=0,d.setTranspose(r);var Ce=se[Ae];u=[{cmd:"program",channel:Ae,instrument:l}],h=void 0,m=0,d.setLastBarTime(0);var Ie=!1;(fe.voicesOff===!0||fe.voicesOff&&fe.voicesOff.length&&fe.voicesOff.indexOf(Ae)>=0)&&(Ie=!0);for(var Le=0;Le<Ce.length;Le++){var ae=Ce[Le];switch(ae.el_type){case"name":h={cmd:"text",type:"name",text:ae.trackName};break;case"note":ee(ae,Ie);break;case"key":t=oe(ae);break;case"meter":p=ae,d.setMeter(p),w=B(p),re();break;case"tempo":a?o=ae.qpm?a/ae.qpm:1:a=ae.qpm,d.setTempoChangeFactor(o);break;case"transpose":r=ae.transpose,d.setTranspose(r);break;case"bar":d.barEnd(ae),e=[],Ae===0&&Se(se.length+1),d.setRhythmHead(!1),m=F(ae.time),d.setLastBarTime(m);break;case"bagpipes":break;case"instrument":if(l===void 0&&(l=ae.program),c=ae.program,u.length>0&&u[u.length-1].cmd==="program")u[u.length-1].instrument=ae.program;else{var q;for(q=u.length-1;q>=0&&u[q].cmd!=="program";q--);(q<0||u[q].instrument!==ae.program)&&u.push({cmd:"program",channel:0,instrument:ae.program})}break;case"channel":P(ae.channel);break;case"drum":O=te(ae.params),re();break;case"gchordOn":d.gChordOn(ae);break;case"beat":b=ae.beats[0],x=ae.beats[1],T=ae.beats[2];break;case"vol":E=ae.volume;break;case"volinc":S=ae.volume;break;case"beataccents":y=ae.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":d.paramChange(ae);break;default:console.log("MIDI creation. Unknown el_type: "+ae.el_type+`
`);break}}u[0].instrument===void 0&&(u[0].instrument=l||0),h&&u.unshift(h),n.push(u),d.finish(),k.length>0}return fe.detuneOctave&&ue(n,parseInt(fe.detuneOctave,10)),d.addTrack(n),k.length>0&&n.push(k),{tempo:a,instrument:l,tracks:n,totalDuration:f}};function P(se){for(var fe=u.length-1;fe>=0;fe--)if(u[fe].cmd==="program"){u[fe].channel=se;return}}function F(se){return se/1e6}function L(se){return Math.round(se*o*1e6)/1e6}function D(se,fe){for(var ye=0;ye<se.length;ye++){for(var he=se[ye],Ae={},Ce=fe.qpm,Ie=0,Le=1,ae=0;ae<he.length;ae++){var q=he[ae];if(q.el_type==="tempo"){Ce?Le=q.qpm?Ce/q.qpm:1:Ce=q.qpm;continue}q.time=Ie;var ge=q.duration?q.duration:0;if(Ie+=Math.round(ge*Le*1e6),q.pitches){for(var le=0;le<q.pitches.length;le++){var Te=q.pitches[le];if(Te){if(Te.duration=q.duration,Te.startTie)Ae[Te.pitch]===void 0?Ae[Te.pitch]={el:ae,pitch:le}:(he[Ae[Te.pitch].el].pitches[Ae[Te.pitch].pitch].duration+=Te.duration,q.pitches[le]=null);else if(Te.endTie){var ne=Ae[Te.pitch];if(ne){var Re=Te.duration;delete he[ne.el].pitches[ne.pitch].startTie,he[ne.el].pitches[ne.pitch].duration+=Re,q.pitches[le]=null,delete Ae[Te.pitch]}else delete Te.endTie}}}delete q.duration}}for(var ie in Ae)if(Ae.hasOwnProperty(ie)){var pe=Ae[ie];delete he[pe.el].pitches[pe.pitch].startTie}}}function B(se){switch(parseInt(se.den,10)){case 2:return .5;case 4:return .25;case 8:return se.num%3===0?.375:.125;case 16:return .125}return .25}function H(se,fe,ye){var he=ye-se;return he/fe}function U(se,fe){if(fe)return 0;var ye;if(E!=null)ye=E,E=void 0;else if(!y)ye=x;else if(_>se)ye=T;else{var he=H(m,B(p),se);he===0?ye=b:parseInt(he,10)===he?ye=x:ye=T}return S&&(ye+=S,S=void 0),ye<0&&(ye=0),ye>127&&(ye=127),fe?0:ye}function G(se,fe){var ye={};if(se.decoration)for(var he=0;he<se.decoration.length;he++)se.decoration[he]==="staccato"?ye.thisBreakBetweenNotes="staccato":se.decoration[he]==="tenuto"?ye.thisBreakBetweenNotes="tenuto":se.decoration[he]==="accent"?ye.velocity=Math.min(127,fe*1.5):se.decoration[he]==="trill"?ye.noteModification="trill":se.decoration[he]==="lowermordent"?ye.noteModification="lowermordent":se.decoration[he]==="uppermordent"||se.decoration[he]==="mordent"?ye.noteModification="mordent":se.decoration[he]==="turn"?ye.noteModification="turn":se.decoration[he]==="roll"&&(ye.noteModification="roll");return ye}function W(se,fe){var ye=fe.start,he=fe.duration,Ae=L(1/32);switch(se){case"trill":for(var Ce=2;he>0;)u.push({cmd:"note",pitch:fe.pitch+Ce,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),Ce=Ce===2?0:2,he-=Ae,ye+=Ae;break;case"mordent":u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),he-=Ae,ye+=Ae,u.push({cmd:"note",pitch:fe.pitch+2,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),he-=Ae,ye+=Ae,u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye,duration:he,gap:0,instrument:c});break;case"lowermordent":u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),he-=Ae,ye+=Ae,u.push({cmd:"note",pitch:fe.pitch-2,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),he-=Ae,ye+=Ae,u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye,duration:he,gap:0,instrument:c});break;case"turn":Ae=fe.duration/4,u.push({cmd:"note",pitch:fe.pitch+2,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye+Ae,duration:Ae,gap:0,instrument:c,style:"decoration"}),u.push({cmd:"note",pitch:fe.pitch-1,volume:fe.volume,start:ye+Ae*2,duration:Ae,gap:0,instrument:c,style:"decoration"}),u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye+Ae*3,duration:Ae,gap:0,instrument:c,style:"decoration"});break;case"roll":for(;he>0;)u.push({cmd:"note",pitch:fe.pitch,volume:fe.volume,start:ye,duration:Ae,gap:0,instrument:c,style:"decoration"}),he-=Ae*2,ye+=Ae*2;break}}function ee(se,fe){var ye=U(F(se.time),fe);d.processChord(se);var he;if(se.gracenotes&&se.pitches&&se.pitches.length>0&&se.pitches[0]&&(he=Y(se.gracenotes,se.pitches[0].duration),se.elem&&(se.elem.midiGraceNotePitches=X(he,F(se.time),ye*2/3,c))),se.elem){var Ae=F(se.time),Ce=Ae/w/a*60*1e3;if(se.elem.currentTrackMilliseconds===void 0)se.elem.currentTrackMilliseconds=Ce,se.elem.currentTrackWholeNotes=Ae;else if(se.elem.currentTrackMilliseconds.length===void 0)se.elem.currentTrackMilliseconds!==Ce&&(se.elem.currentTrackMilliseconds=[se.elem.currentTrackMilliseconds,Ce],se.elem.currentTrackWholeNotes=[se.elem.currentTrackWholeNotes,Ae]);else{for(var Ie=!1,Le=0;Le<se.elem.currentTrackMilliseconds.length;Le++)se.elem.currentTrackMilliseconds[Le]===Ce&&(Ie=!0);Ie||(se.elem.currentTrackMilliseconds.push(Ce),se.elem.currentTrackWholeNotes.push(Ae))}}if(se.pitches){var ae="",q=G(se,ye);q.thisBreakBetweenNotes&&(ae=q.thisBreakBetweenNotes),q.velocity&&(ye=q.velocity);var ge=se.pitches;se.style==="rhythm"&&(ge=d.setRhythmHead(!0,se)),se.elem&&(se.elem.midiPitches=[]);for(var le=0;le<ge.length;le++){var Te=ge[le];if(Te){Te.startSlur&&(C+=Te.startSlur.length),Te.endSlur&&(C-=Te.endSlur.length);var ne=Te.actualPitch?Te.actualPitch:J(Te);if(c===g&&R){var Re=Bz(Te);Re&&R[Re]&&(ne=R[Re].sound)}var ie={cmd:"note",pitch:ne,volume:ye,start:F(se.time),duration:L(Te.duration),instrument:c,startChar:se.elem.startChar,endChar:se.elem.endChar};if(ie=K(ie),se.gracenotes&&(ie.duration=ie.duration/2,ie.start=ie.start+ie.duration),se.elem&&se.elem.midiPitches.push(ie),q.noteModification)W(q.noteModification,ie);else{switch(C>0?ie.endType="tenuto":ae&&(ie.endType=ae),ie.endType){case"tenuto":ie.gap=$;break;case"staccato":var pe=ie.duration*N;ie.gap=a/60*pe;break;default:ie.gap=M;break}u.push(ie)}}}u.length-1}var xe=ce(se);f=Math.max(f,F(se.time)+L(xe))}function ce(se){return se.pitches&&se.pitches.length>0&&se.pitches[0]?se.pitches[0].duration:se.elem?se.elem.duration:se.duration}var Z=[0,2,4,5,7,9,11];function J(se){if(se.midipitch!==void 0)return se.midipitch;var fe=se.pitch;if(se.accidental)switch(se.accidental){case"sharp":e[fe]=1;break;case"flat":e[fe]=-1;break;case"natural":e[fe]=0;break;case"dblsharp":e[fe]=2;break;case"dblflat":e[fe]=-2;break;case"quartersharp":e[fe]=.25;break;case"quarterflat":e[fe]=-.25;break}var ye=z(fe)*12+Z[j(fe)]+60;return e[fe]!==void 0?ye+=e[fe]:ye+=t[j(fe)],ye+=r,ye}function oe(se){var fe=[0,0,0,0,0,0,0];if(!se.accidentals)return fe;for(var ye=0;ye<se.accidentals.length;ye++){var he=se.accidentals[ye],Ae;switch(he.acc){case"flat":Ae=-1;break;case"quarterflat":Ae=-.25;break;case"sharp":Ae=1;break;case"quartersharp":Ae=.25;break;default:Ae=0;break}var Ce=he.note.toLowerCase(),Ie=j(Ce.charCodeAt(0)-99);fe[Ie]+=Ae}return fe}function Y(se,fe){for(var ye=0,he=[],Ae,Ce=0;Ce<se.length;Ce++)Ae=se[Ce],ye+=Ae.duration;var Ie=fe/2/ye;for(Ce=0;Ce<se.length;Ce++){Ae=se[Ce];var Le=J(Ae);if(c===g&&R){var ae=Bz(Ae);ae&&R[ae]&&(Le=R[ae].sound)}var q={pitch:Le,duration:Ae.duration*Ie};q=K(q),he.push(q)}return he}function X(se,fe,ye,he){var Ae=[];ye=Math.round(ye);for(var Ce=0;Ce<se.length;Ce++){var Ie=se[Ce];u.push({cmd:"note",pitch:Ie.pitch,volume:ye,start:fe,duration:Ie.duration,gap:0,instrument:he,style:"grace"}),Ae.push({pitch:Ie.pitch,durationInMeasures:Ie.duration,volume:ye,instrument:he}),fe+=Ie.duration}return Ae}function K(se){var fe=""+se.pitch;return fe.indexOf(".75")>=0?(se.pitch=Math.round(se.pitch),se.cents=-50):fe.indexOf(".25")>=0&&(se.pitch=Math.round(se.pitch),se.cents=50),se}function z(se){return Math.floor(se/7)}function j(se){return se=se%7,se<0&&(se+=7),se}function te(se){if(se.pattern.length===0||se.on===!1)return{on:!1};for(var fe=se.pattern[0],ye=[],he="",Ae=0,Ce=0;Ce<fe.length;Ce++)if(fe[Ce]==="d"&&Ae++,fe[Ce]==="d"||fe[Ce]==="z")he.length!==0?(ye.push(he),he=fe[Ce]):he=he+fe[Ce];else{if(he.length===0)return{on:!1};he=he+fe[Ce]}if(he.length!==0&&ye.push(he),se.pattern.length!==Ae*2+1)return{on:!1};for(var Ie={on:!0,bars:se.bars,pattern:[]},Le=B(p),ae=0,q=0;q<ye.length;q++){he=ye[q];for(var ge=1,le=!1,Te=0,ne=1;ne<he.length;ne++)switch(he[ne]){case"/":Te!==0&&(ge*=Te),Te=0,le=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Te=Te*10+he[ne];break;default:return{on:!1}}le?(Te===0&&(Te=2),ge/=Te):Te&&(ge*=Te),he[0]==="d"?(Ie.pattern.push({len:ge*Le,pitch:se.pattern[1+ae],velocity:se.pattern[1+ae+Ae]}),ae++):Ie.pattern.push({len:ge*Le,pitch:null})}return I=se.bars?se.bars:1,Ie}function re(){if(!(!O||!O.pattern)){for(var se=O,fe=0,ye=p.num/p.den,he=0;he<se.pattern.length;he++)fe+=se.pattern[he].len;var Ae=fe/I/ye;for(he=0;he<se.pattern.length;he++)se.pattern[he].len=se.pattern[he].len/Ae;O=se}}function Se(se){if(!(k.length===0&&!O.on)){var fe=p.num/p.den;if(k.length===0){if(f<fe)return;k.push({cmd:"program",channel:se,instrument:g})}if(O.on)for(var ye=m,he=0;he<O.pattern.length;he++){var Ae=L(O.pattern[he].len);O.pattern[he].pitch&&k.push({cmd:"note",pitch:O.pattern[he].pitch,volume:O.pattern[he].velocity,start:ye,duration:Ae,gap:0,instrument:g}),ye+=Ae}}}function ue(se,fe){for(var ye={},he=0;he<se.length;he++)for(var Ae=0;Ae<se[he].length;Ae++){var Ce=se[he][Ae];Ce.cmd==="note"&&(ye[Ce.start]===void 0&&(ye[Ce.start]=[]),ye[Ce.start].push({track:he,event:Ae,pitch:Ce.pitch}))}var Ie=Object.keys(ye);for(he=0;he<Ie.length;he++){var Le=ye[Ie[he]];if(Le.length>1){Le=Le.sort(function(Te,ne){return Te.pitch-ne.pitch});var ae=Le[Le.length-1],q=ae.pitch%12,ge=!1;for(Ae=0;!ge&&Ae<Le.length-1;Ae++)Le[Ae].pitch%12===q&&(ge=!0);if(ge){var le=se[ae.track][ae.event];le.cents||(le.cents=0),le.cents+=fe}}}}})();var iQe=Yce;function aQe(e,t){t||(t={});for(var r=!!t.lineBreaks,n=[],a=!1,o=[],l=[],c=[],u=[],h=[],f=[],d=[],p=0;p<e.length;p++){var g=e[p];if(g.staff){if(a&&!g.vskip)for(var m=n[n.length-1],y=0;y<m.staff.length;y++){var b=g.staff[y],x=m.staff[y];if(b&&(Yf(b.meter,o[y])||(sQe(b.meter,b.voices),o[y]=b.meter,delete b.meter),Yf(b.key,l[y])||(oQe(b.key,b.voices),l[y]=b.key,delete b.key),b.title&&(x.abbrevTitle=b.title),Yf(b.clef,c[y])||(lQe(b.clef,b.voices),c[y]=b.clef,delete b.clef),Yf(b.vocalfont,u[y])||(ZT(b.vocalfont,b.voices,"vocalfont"),u[y]=b.vocalfont,delete b.vocalfont),Yf(b.gchordfont,h[y])||(ZT(b.gchordfont,b.voices,"gchordfont"),h[y]=b.gchordfont,delete b.gchordfont),Yf(b.tripletfont,f[y])||(ZT(b.tripletfont,b.voices,"tripletfont"),f[y]=b.tripletfont,delete b.tripletfont),Yf(b.annotationfont,d[y])||(ZT(b.annotationfont,b.voices,"annotationfont"),d[y]=b.annotationfont,delete b.annotationfont)),b)for(var T=0;T<x.voices.length;T++){var w=x.voices[T],E=b.voices[T];r&&w.push({el_type:"break"}),E&&(x.voices[T]=w.concat(E))}}else{for(var S=0;S<g.staff.length;S++)l[S]=g.staff[S].key,o[S]=g.staff[S].meter,c[S]=g.staff[S].clef;n.push(cQe(g))}a=!0}else a=!1,n.push(g)}return n}function $z(e,t){return e==="abselem"?"abselem":t}function sQe(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function oQe(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function lQe(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function ZT(e,t,r){e.el_type="font",e.type=r,e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function Yf(e,t){if(!e)return!0;var r=JSON.stringify(e,$z),n=JSON.stringify(t,$z);return r===n}function cQe(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++)if(r[n]!=="staff")t[r[n]]=e[r[n]];else{t.staff=[];for(var a=0;a<e.staff.length;a++){for(var o={},l=Object.keys(e.staff[a]),c=0;c<l.length;c++)if(l[c]!=="voices")o[l[c]]=e.staff[a][l[c]];else{o.voices=[];for(var u=0;u<e.staff[a].voices.length;u++)o.voices.push([].concat(e.staff[a].voices[u]))}t.staff.push(o)}}return t}var uQe=aQe,Hz=Vh,Uz=ho,hQe=Wce,fQe=iQe,dQe=uQe,pQe=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function e(l,c,u,h){for(var f=0;f<h.length;f++)l[u][h[f]]=c[u][h[f]]}this.copyTopInfo=function(l){var c=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,l,"metaText",c),e(this,l,"metaTextInfo",c)},this.copyBottomInfo=function(l){var c=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,l,"metaText",c),e(this,l,"metaTextInfo",c)},this.getBeatLength=function(){var l=this.getMeterFraction(),c=1;return(l.num===6||l.num===9||l.num===12||l.num===3&&l.den===8)&&(c=3),c/l.den};function t(l,c){for(var u=0,h=0;h<l.length;h++)if(l[h].staff)for(var f=0;f<l[h].staff.length;f++)for(var d=0;d<l[h].staff[f].voices.length;d++)for(var p=l[h].staff[f].voices[d],g=1,m=0;m<p.length;m++){var y=p[m].rest&&p[m].rest.type==="spacer";if(p[m].startTriplet&&(g=p[m].tripletMultiplier),p[m].duration&&!y&&p[m].el_type!=="tempo"&&(u+=p[m].duration*g),p[m].endTriplet&&(g=1),u>=c&&(u-=c),p[m].el_type==="bar")return u}return u}this.getPickupLength=function(){var l=this.getBarLength(),c=t(this.lines,l);return c<1e-8||l-c<1e-8?0:c},this.getBarLength=function(){var l=this.getMeterFraction();return l.num/l.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(l){var c;if(l)c=l;else{var u=this.metaText?this.metaText.tempo:null;c=this.getBpm(u)}c<=0&&(c=1);var h=this.getBeatsPerMeasure(),f=h/c;return f*6e4},this.getBeatsPerMeasure=function(){var l=this.getBeatLength(),c=this.getBarLength();return c/l},this.getMeter=function(){for(var l=0;l<this.lines.length;l++){var c=this.lines[l];if(c.staff)for(var u=0;u<c.staff.length;u++){var h=c.staff[u].meter;if(h)return h}}return{type:"common_time"}},this.getMeterFraction=function(){var l=this.getMeter(),c=4,u=4;return l&&(l.type==="specified"?(c=parseInt(l.value[0].num,10),u=parseInt(l.value[0].den,10)):l.type==="cut_time"?(c=2,u=2):l.type==="common_time"&&(c=4,u=4)),this.meter={num:c,den:u},this.meter},this.getKeySignature=function(){for(var l=0;l<this.lines.length;l++){var c=this.lines[l];if(c.staff){for(var u=0;u<c.staff.length;u++)if(c.staff[u].key)return c.staff[u].key}}return{}},this.getElementFromChar=function(l){for(var c=0;c<this.lines.length;c++){var u=this.lines[c];if(u.staff)for(var h=0;h<u.staff.length;h++)for(var f=u.staff[h],d=0;d<f.voices.length;d++)for(var p=f.voices[d],g=0;g<p.length;g++){var m=p[g];if(m.startChar&&m.endChar&&m.startChar<=l&&m.endChar>l)return m}}return null};function r(l){for(var c,u,h,f,d=l.length-1;d>=0;d--){var p=l[d];p.type==="bar"?(p.top=h,p.nextTop=c,c=h,p.bottom=f,p.nextBottom=u,u=f):p.type==="event"&&(h=p.top,f=p.top+p.height)}}function n(l){var c=[];for(var u in l)l.hasOwnProperty(u)&&c.push(l[u]);return c=c.sort(function(h,f){var d=h.milliseconds-f.milliseconds;return d!==0?d:h.type==="bar"?-1:1}),c}this.addElementToEvents=function(l,c,u,h,f,d,p,g,m,y){if(c.hint)return{isTiedState:void 0,duration:0};var b=c.durationClass?c.durationClass:c.duration;if(c.abcelem.rest&&c.abcelem.rest.type==="spacer"&&(b=0),b>0){for(var x=[],T=0;T<c.elemset.length;T++)c.elemset[T]!==null&&x.push(c.elemset[T]);var w=c.startTie;if(m!==void 0)l["event"+m].elements.push(x),y&&(l["event"+u]||(l["event"+u]={type:"event",milliseconds:u,line:d,measureNumber:p,top:h,height:f,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),l["event"+u].measureStart=!0,y=!1),w||(m=void 0);else{if(!l["event"+u])l["event"+u]={type:"event",milliseconds:u,line:d,measureNumber:p,top:h,height:f,left:c.x,width:c.w,elements:[x],startChar:c.abcelem.startChar,endChar:c.abcelem.endChar,startCharArray:[c.abcelem.startChar],endCharArray:[c.abcelem.endChar],midiPitches:c.abcelem.midiPitches?Hz.cloneArray(c.abcelem.midiPitches):[]},c.abcelem.midiGraceNotePitches&&(l["event"+u].midiGraceNotePitches=Hz.cloneArray(c.abcelem.midiGraceNotePitches));else{if(l["event"+u].left?l["event"+u].left=Math.min(l["event"+u].left,c.x):l["event"+u].left=c.x,l["event"+u].elements.push(x),l["event"+u].startCharArray.push(c.abcelem.startChar),l["event"+u].endCharArray.push(c.abcelem.endChar),l["event"+u].startChar===null&&(l["event"+u].startChar=c.abcelem.startChar),l["event"+u].endChar===null&&(l["event"+u].endChar=c.abcelem.endChar),c.abcelem.midiPitches&&c.abcelem.midiPitches.length){l["event"+u].midiPitches||(l["event"+u].midiPitches=[]);for(var T=0;T<c.abcelem.midiPitches.length;T++)l["event"+u].midiPitches.push(c.abcelem.midiPitches[T])}if(c.abcelem.midiGraceNotePitches&&c.abcelem.midiGraceNotePitches.length){l["event"+u].midiGraceNotePitches||(l["event"+u].midiGraceNotePitches=[]);for(var E=0;E<c.abcelem.midiGraceNotePitches.length;E++)l["event"+u].midiGraceNotePitches.push(c.abcelem.midiGraceNotePitches[E])}}y&&(l["event"+u].measureStart=!0,y=!1)}}return{isTiedState:m,duration:b/g,nextIsBar:y||c.type==="bar"}},this.makeVoicesArray=function(){for(var l=[],c=[],u={},h=0;h<this.engraver.staffgroups.length;h++){var f=this.engraver.staffgroups[h];if(f&&f.staffs&&f.staffs.length>0){var d=f.staffs[0],p=d.absoluteY,g=p-d.top*Uz.STEP,m=f.staffs[f.staffs.length-1];p=m.absoluteY;for(var y=p-m.bottom*Uz.STEP,b=y-g,x=f.voices,T=0;T<x.length;T++)if(!(x[T].staff&&x[T].staff.isTabStaff)){var w=!1;l[T]||(l[T]=[]),c[T]===void 0&&(c[T]=0);for(var E=x[T].children,S=0;S<E.length;S++)E[S].type==="tempo"&&(u[c[T]]=this.getBpm(E[S].abcelem)),l[T].push({top:g,height:b,line:f.line,measureNumber:c[T],elem:E[S]}),E[S].type==="bar"&&w&&c[T]++,(E[S].type==="note"||E[S].type==="rest")&&(w=!0)}}}return this.tempoLocations=u,l},this.setupEvents=function(l,c,u,h){h||(h=1);for(var f=[],d={},p=l,g,m=!0,y=this.makeVoicesArray(),b=0,x=0;x<y.length;x++){var T=p,w=Math.round(T*1e3),E=0,S=-1,C=y[x],k=u;c=this.getBeatLength()*k/60;for(var O=-1,I=0;I<C.length;I++){var _=C[I].measureNumber;O!==_&&this.tempoLocations[_]&&(k=this.tempoLocations[_],c=h*this.getBeatLength()*k/60,O=_);var R=C[I].elem,M=this.addElementToEvents(d,R,w,C[I].top,C[I].height,C[I].line,C[I].measureNumber,c,g,m);g=M.isTiedState,m=M.nextIsBar,T+=M.duration;var $;if(R.duration>0&&d["event"+w]&&($="event"+w),w=Math.round(T*1e3),R.type==="bar"){var N=R.abcelem.type,P=N==="bar_right_repeat"||N==="bar_dbl_repeat",F=R.abcelem.startEnding==="1",L=N==="bar_left_repeat"||N==="bar_dbl_repeat"||N==="bar_right_repeat";if(P){I>0&&(d[$].endX=R.x),S===-1&&(S=I);var D=0;O=-1;for(var B=E;B<S;B++){_=C[B].measureNumber,O!==_&&this.tempoLocations[_]&&(k=this.tempoLocations[_],c=h*this.getBeatLength()*k/60,O=_);var H=C[B].elem;M=this.addElementToEvents(d,H,w,C[B].top,C[B].height,C[B].line,C[B].measureNumber,c,g,m),g=M.isTiedState,m=M.nextIsBar,T+=M.duration,D=w,w=Math.round(T*1e3)}d["event"+D]&&(d["event"+D].endX=C[S].elem.x),m=!0,S=-1}F&&(S=I),L&&(E=I)}}b=Math.max(b,w)}return f=n(d),r(f),o(this.lines,f),f.push({type:"end",milliseconds:b}),this.addUsefulCallbackInfo(f,k*h),f},this.addUsefulCallbackInfo=function(l,c){for(var u=this.millisecondsPerMeasure(c),h=0;h<l.length;h++){var f=l[h];f.millisecondsPerMeasure=u}};function a(l,c){for(;c<l.length&&l[c].left===null;)c++;return l[c]}function o(l,c){if(!(c.length<1)){for(var u=0;u<c.length-1;u++){var h=c[u],f=a(c,u+1);if(h.left!==null){var d=f&&h.top===f.top?f.left:l[h.line].staffGroup.w;h.endX!==void 0?d>h.left&&(h.endX=Math.min(h.endX,d)):h.endX=d}}var p=c[c.length-1];p.endX=l[p.line].staffGroup.w}}this.getBpm=function(l){var c;if(l||(l=this.metaText?this.metaText.tempo:null),l){c=l.bpm;var u=this.getBeatLength(),h=l.duration&&l.duration.length>0?l.duration[0]:u;c=c*h/u}if(!c){c=180;var f=this.getMeterFraction();f&&f.num!==3&&f.num%3===0&&(c=120)}return c},this.setTiming=function(l,c){if(c=c||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var u=this.metaText?this.metaText.tempo:null,h=this.getBpm(u),f=1;l?u&&(f=l/h):l=h;var d=this.getBeatLength(),p=l/60,g=this.getBarLength(),m=g/d*c/p;m&&(m-=this.getPickupLength()/d/p);var y=d*p;return this.noteTimings=this.setupEvents(m,y,l,f),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*p):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(l){l||(l={});var c=hQe(this,l);return fQe(c,l,this.formatting.percmap,this.formatting.midi)},this.deline=function(l){return dQe(this.lines,l)},this.findSelectableElement=function(l){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(l):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}},gQe=pQe,Wz=lM,mQe=function(e){var t=this,r={},n="";e.reset(),this.setVisualTranspose=function(a){a&&(e.visualTranspose=a)},this.cleanUp=function(a,o,l){AC(e),delete e.runningFonts,vQe(e),e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var c=!1,u,h,f;for(u=0;u<e.lines.length;u++)if(e.lines[u].staff!==void 0){var d=!1;for(h=0;h<e.lines[u].staff.length;h++)if(e.lines[u].staff[h]===void 0)c=!0,e.lines[u].staff[h]=null;else for(f=0;f<e.lines[u].staff[h].voices.length;f++)e.lines[u].staff[h].voices[f]===void 0?e.lines[u].staff[h].voices[f]=[]:kC(e.lines[u].staff[h].voices[f])&&(d=!0);d||(e.lines[u]=null,c=!0)}if(c&&(e.lines=e.lines.filter(function(x){return!!x}),e.lines.forEach(function(x){x.staff&&(x.staff=x.staff.filter(function(T){return!!T}))})),a)for(;wQe(e.lines,a););if(o){for(c=!1,u=0;u<e.lines.length;u++)if(e.lines[u].staff!==void 0)for(h=0;h<e.lines[u].staff.length;h++){var p=!1;for(f=0;f<e.lines[u].staff[h].voices.length;f++)kQe(e.lines[u].staff[h].voices[f])&&(p=!0);p||(c=!0,e.lines[u].staff[h]=null)}c&&e.lines.forEach(function(x){x.staff&&(x.staff=x.staff.filter(function(T){return!!T}))})}for(xQe(e.lines),u=0;u<e.lines.length;u++)if(e.lines[u].staff)for(h=0;h<e.lines[u].staff.length;h++)delete e.lines[u].staff[h].workingClef;for(;yQe(e););for(var u=0;u<e.lines.length;u++){var g=e.lines[u].staff;if(g)for(e.staffNum=0;e.staffNum<g.length;e.staffNum++)for(g[e.staffNum].clef&&Wz.fixClef(g[e.staffNum].clef),e.voiceNum=0;e.voiceNum<g[e.staffNum].voices.length;e.voiceNum++){var m=g[e.staffNum].voices[e.voiceNum];TQe(m,e.staffNum,e.voiceNum,l);for(var y=0;y<m.length;y++)m[y].el_type==="clef"&&Wz.fixClef(m[y]);if(m.length>0&&m[m.length-1].barNumber){var b=Vce(e.lines,u);b&&(b.staff[0].barNumber=m[m.length-1].barNumber),delete m[m.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,l},this.addTieToLastNote=function(a){var o=SQe(e);return o&&o.pitches&&o.pitches.length>0?(o.pitches[0].startTie={},a&&(o.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(a,o,l,c){if(c.el_type=a,o!==null&&(c.startChar=o),l!==null&&(c.endChar=l),a==="note"){var u=AQe(c);u>=.25||c.force_end_beam_last&&e.potentialStartBeam!==void 0?QT(e):c.end_beam&&e.potentialStartBeam!==void 0?c.rest===void 0?IQe(c,e):QT(e):c.rest===void 0&&(e.potentialStartBeam===void 0?c.end_beam||(e.potentialStartBeam=c,delete e.potentialEndBeam):e.potentialEndBeam=c)}else QT(e);return delete c.end_beam,delete c.force_end_beam_last,c.rest&&c.rest.type==="invisible"&&delete c.decoration,e.lines.length<=e.lineNum||e.lines[e.lineNum].staff.length<=e.staffNum?!1:(CQe(t,e,c,r,n),!0)},this.appendStartingElement=function(a,o,l,c){AC(e);var u;a==="key"&&(u=c.impliedNaturals,delete c.impliedNaturals,delete c.explicitAccidentals);var h=Object.assign({},c);if(e.lines[e.lineNum]){var f=e.lines[e.lineNum].staff;if(f){f.length<=e.staffNum&&(f[e.staffNum]={},f[e.staffNum].clef=Object.assign({},f[0].clef),f[e.staffNum].key=Object.assign({},f[0].key),f[0].meter&&(f[e.staffNum].meter=Object.assign({},f[0].meter)),f[e.staffNum].workingClef=Object.assign({},f[0].workingClef),f[e.staffNum].voices=[[]]),a==="clef"&&(f[e.staffNum].workingClef=h);for(var d=f[e.staffNum].voices[e.voiceNum],p=0;p<d.length;p++){if(d[p].el_type==="note"||d[p].el_type==="bar"){h.el_type=a,h.startChar=o,h.endChar=l,u&&(h.accidentals=u.concat(h.accidentals)),d.push(h);return}if(d[p].el_type===a){h.el_type=a,h.startChar=o,h.endChar=l,u&&(h.accidentals=u.concat(h.accidentals)),d[p]=h;return}}f[e.staffNum][a]=c}}},this.addSubtitle=function(a,o){Dy(e,{subtitle:{text:a,startChar:o.startChar,endChar:o.endChar}})},this.addSpacing=function(a){e.vskipPending=a},this.addNewPage=function(a){Dy(e,{newpage:a})},this.addSeparator=function(a,o,l,c){Dy(e,{separator:{spaceAbove:Math.round(a),spaceBelow:Math.round(o),lineLength:Math.round(l),startChar:c.startChar,endChar:c.endChar}})},this.addText=function(a,o){Dy(e,{text:{text:a,startChar:o.startChar,endChar:o.endChar}})},this.addCentered=function(a){Dy(e,{text:[{text:a,center:!0}]})},this.changeVoiceScale=function(a){t.appendElement("scale",null,null,{size:a})},this.changeVoiceColor=function(a){t.appendElement("color",null,null,{color:a})},this.startNewLine=function(a){AC(e),a.currentVoiceName&&(n=a.currentVoiceName,r[a.currentVoiceName]=a),e.lines[e.lineNum]===void 0?RQe(t,e,a):e.lines[e.lineNum].staff===void 0?(e.lineNum++,this.startNewLine(a)):e.lines[e.lineNum].staff[e.staffNum]===void 0?qce(t,e,a):e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]===void 0?hM(t,e,a):kC(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(a)):a.part&&t.appendElement("part",a.part.startChar,a.part.endChar,{title:a.part.title})},this.setRunningFont=function(a,o){e.runningFonts[a]=o},this.setBarNumberImmediate=function(a){var o=this.getCurrentVoice();if(o&&o.length>0){var l=o[o.length-1];if(l.el_type==="bar")l.barNumber!==void 0&&(l.barNumber=a);else return a-1}return a},this.hasBeginMusic=function(){for(var a=0;a<e.lines.length;a++)if(e.lines[a].staff)return!0;return!1},this.isFirstLine=function(a){for(var o=a-1;o>=0;o--)if(e.lines[o].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var a=EQe(e.lines,e.lineNum);if(!a)return null;var o=a.staff[e.staffNum];return o&&o.voices[e.voiceNum]!==void 0?o.voices[e.voiceNum]:null},this.setCurrentVoice=function(a,o,l){e.staffNum=a,e.voiceNum=o,n=l;for(var c=0;c<e.lines.length;c++)if(e.lines[c].staff&&(e.lines[c].staff[a]===void 0||e.lines[c].staff[a].voices[o]===void 0||!kC(e.lines[c].staff[a].voices[o])))return e.lineNum=c,!!(!e.lines[c].staff[a]||e.lines[c].staff[a].voices[o]);return e.lineNum=c,!1},this.addMetaText=function(a,o,l){e.metaText[a]===void 0?(e.metaText[a]=o,e.metaTextInfo[a]=l):(typeof e.metaText[a]=="string"&&typeof o=="string"?e.metaText[a]+=`
`+o:(e.metaText[a]==="string"&&(e.metaText[a]=[{text:e.metaText[a]}]),typeof o=="string"&&(o=[{text:o}]),e.metaText[a]=e.metaText[a].concat(o)),e.metaTextInfo[a].endChar=l.endChar)},this.addMetaTextArray=function(a,o,l){e.metaText[a]===void 0?(e.metaText[a]=[o],e.metaTextInfo[a]=l):(e.metaText[a].push(o),e.metaTextInfo[a].endChar=l.endChar)},this.addMetaTextObj=function(a,o,l){e.metaText[a]=o,e.metaTextInfo[a]=l}};function zz(e){if(!e||typeof e=="string")return!1;for(var t=0;t<e.length;t++)if(typeof e[t]!="string")return!1;return!0}function vQe(e){zz(e.metaText.notes)&&(e.metaText.notes=e.metaText.notes.join(`
`)),zz(e.metaText.history)&&(e.metaText.history=e.metaText.history.join(`
`))}function yQe(e){for(var t=!1,r=[],n=0;n<e.lines.length;n++){var a=e.lines[n];if(a.staff)for(var o=0;o<a.staff.length;o++){for(var l=a.staff[o],c=[],u=0;u<l.voices.length;u++){var h=l.voices[u];c.push({hasOverlay:!1,voice:[],snip:[]}),r[n]=0;for(var f=0,d=!1,p=-1,g=0;g<h.length;g++){var m=h[g];if(m.el_type==="overlay"&&!d){t=!0,d=!0,p=g,c[u].hasOverlay=!0;for(var y=0;y<n;y++)r[y]&&e.lines[y].staff&&l.voices.length>=e.lines[y].staff[0].voices.length&&e.lines[y].staff[0].voices.push([{el_type:"note",duration:r[y],rest:{type:"invisible"},startChar:m.startChar,endChar:m.endChar}])}else m.el_type==="bar"?(d?(d=!1,c[u].snip.push({start:p,len:g-p}),c[u].voice.push(m)):(f>0&&c[u].voice.push({el_type:"note",duration:f,rest:{type:"invisible"},startChar:m.startChar,endChar:m.endChar}),c[u].voice.push(m)),f=0):m.el_type==="note"?d?c[u].voice.push(m):(f+=m.duration,r[n]+=m.duration):(m.el_type==="scale"||m.el_type==="stem"||m.el_type==="overlay"||m.el_type==="style"||m.el_type==="transpose"||m.el_type==="color")&&c[u].voice.push(m)}c[u].hasOverlay&&c[u].snip.length===0&&c[u].snip.push({start:p,len:h.length-p})}for(u=0;u<c.length;u++){var b=c[u];if(b.hasOverlay){b.voice.splice(0,0,{el_type:"stem",direction:"down"}),l.voices.push(b.voice);for(var x=b.snip.length-1;x>=0;x--){var T=b.snip[x];l.voices[u].splice(T.start,T.len),l.voices[u].splice(T.start+1,0,{el_type:"stem",direction:"auto"});var w=bQe(l.voices[u],T.start);l.voices[u].splice(w,0,{el_type:"stem",direction:"up"})}for(x=0;x<l.voices[l.voices.length-1].length;x++){l.voices[l.voices.length-1][x]=Object.assign({},l.voices[l.voices.length-1][x]);var E=l.voices[l.voices.length-1][x];E.el_type==="bar"&&E.startEnding&&delete E.startEnding,E.el_type==="bar"&&E.endEnding&&delete E.endEnding}}}}}return t}function bQe(e,t){for(var r=t-1;r>0&&e[r].el_type!=="bar";r--);return r}function xQe(e){for(var t=!0,r=0;r<e.length;r++){var n=e[r];if(n.staff){for(var a=0;a<n.staff.length;a++){var o=n.staff[a];if(o.title){for(var l=!1,c=0;c<o.title.length;c++)o.title[c]?(o.title[c]=t?o.title[c].name:o.title[c].subname,o.title[c]?l=!0:o.title[c]=""):o.title[c]="";l||delete o.title}}t=!1}}}function TQe(e,t,r,n){n[t]||(n[t]=[]),n[t][r]||(n[t][r]=[]);for(var a,o=function(x,T,w){if(n[t][r][w]===void 0){for(a=0;a<n[t][r].length;a++)if(n[t][r][a]!==void 0){w=a;break}if(n[t][r][w]===void 0){var E=w*100+1;x.endSlur.forEach(function(k){E===k&&--E}),n[t][r][w]=[E]}}for(var S,C=0;C<T;C++)S=n[t][r][w].pop(),x.endSlur.push(S);return n[t][r][w].length===0&&delete n[t][r][w],S},l=function(x,T,w,E){x.startSlur=[],n[t][r][w]===void 0&&(n[t][r][w]=[]);for(var S=w*100+1,C=0;C<T;C++)E&&(E.forEach(function(k){S===k&&++S}),E.forEach(function(k){S===k&&++S}),E.forEach(function(k){S===k&&++S})),n[t][r][w].forEach(function(k){S===k&&++S}),n[t][r][w].forEach(function(k){S===k&&++S}),n[t][r][w].push(S),x.startSlur.push({label:S}),x.dottedSlur&&(x.startSlur[x.startSlur.length-1].style="dotted",delete x.dottedSlur),S++},c=0;c<e.length;c++){var u=e[c];if(u.el_type==="note"){if(u.gracenotes)for(var h=0;h<u.gracenotes.length;h++){if(u.gracenotes[h].endSlur){var f=u.gracenotes[h].endSlur;u.gracenotes[h].endSlur=[];for(var d=0;d<f;d++)o(u.gracenotes[h],1,20)}u.gracenotes[h].startSlur&&(a=u.gracenotes[h].startSlur,l(u.gracenotes[h],a,20))}if(u.endSlur&&(a=u.endSlur,u.endSlur=[],o(u,a,0)),u.startSlur&&(a=u.startSlur,l(u,a,0)),u.pitches){for(var p=[],g=0;g<u.pitches.length;g++)if(u.pitches[g].endSlur){var m=u.pitches[g].endSlur;u.pitches[g].endSlur=[];for(var y=0;y<m;y++){var b=o(u.pitches[g],1,g+1);p.push(b)}}for(g=0;g<u.pitches.length;g++)u.pitches[g].startSlur&&(a=u.pitches[g].startSlur,l(u.pitches[g],a,g+1,p));u.gracenotes&&u.pitches[0].endSlur&&u.pitches[0].endSlur[0]===100&&u.pitches[0].startSlur&&(u.gracenotes[0].endSlur?u.gracenotes[0].endSlur.push(u.pitches[0].startSlur[0].label):u.gracenotes[0].endSlur=[u.pitches[0].startSlur[0].label],u.pitches[0].endSlur.length===1?delete u.pitches[0].endSlur:u.pitches[0].endSlur[0]===100?u.pitches[0].endSlur.shift():u.pitches[0].endSlur[u.pitches[0].endSlur.length-1]===100&&u.pitches[0].endSlur.pop(),n[t][r][1].length===1?delete n[t][r][1]:n[t][r][1].pop())}}}}function wQe(e,t){for(i=0;i<e.length;i++)if(e[i].staff!==void 0)for(s=0;s<e[i].staff.length;s++){var r=[];for(v=0;v<e[i].staff[s].voices.length;v++)for(var n=e[i].staff[s].voices[v],a=0,o=0;o<n.length;o++)if(n[o].el_type==="bar"){if(a++,a>=t&&o<n.length-1){var l=Vce(e,i);if(!l){var c=JSON.parse(JSON.stringify(e[i]));e.push(Object.assign({},c)),l=e[e.length-1];for(var u=0;u<l.staff.length;u++)for(var h=0;h<l.staff[u].voices.length;h++)l.staff[u].voices[h]=[]}var f=o+1,d=e[i].staff[s].voices[v].slice(f);return e[i].staff[s].voices[v]=e[i].staff[s].voices[v].slice(0,f),l.staff[s].voices[v]=r.concat(d.concat(l.staff[s].voices[v])),!0}}else n[o].duration||r.push(n[o])}return!1}function EQe(e,t){for(;t>=0;){if(e[t].staff)return e[t];t--}return null}function Vce(e,t){for(t++;e.length>t;){if(e[t].staff)return e[t];t++}return null}function SQe(e){if(!e.lines[e.lineNum]||!e.lines[e.lineNum].staff||!e.lines[e.lineNum].staff[e.staffNum])return null;var t=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum];if(!t)return null;for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.el_type==="note")return n}return null}function AQe(e){return e.duration?e.duration:0}function AC(e){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function kC(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"||e[t].el_type==="bar")return!0;return!1}function kQe(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"&&(e[t].rest===void 0||e[t].chord!==void 0))return!0;return!1}function Dy(e,t){e.vskipPending&&(t.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(t)}function CQe(e,t,r,n,a){var o=t.lines[t.lineNum].staff[t.staffNum];if(r.pitches!==void 0){var l=o.workingClef.verticalPos;r.pitches.forEach(function(u){u.verticalPos=u.pitch-l})}if(r.gracenotes!==void 0){var c=o.workingClef.verticalPos;r.gracenotes.forEach(function(u){u.verticalPos=u.pitch-c})}o.voices.length<=t.voiceNum&&(n[a]||(n[a]={}),hM(e,t,n[a])),o.voices[t.voiceNum].push(r)}function IQe(e,t){t.potentialStartBeam.startBeam=!0,e.endBeam=!0,delete t.potentialStartBeam,delete t.potentialEndBeam}function QT(e){e.potentialStartBeam!==void 0&&e.potentialEndBeam!==void 0&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function JT(e,t,r){if(e.runningFonts[t]){for(var n=!1,a=Object.keys(r),o=0;o<a.length;o++)e.runningFonts[t][a[o]]!==r[a[o]]&&(n=!0);n&&(e.lines[e.lineNum].staff[e.staffNum][t]=r)}e.runningFonts[t]=r}function hM(e,t,r){var n=t.lines[t.lineNum].staff[t.staffNum];if(n.voices[t.voiceNum]=[],n.title||(n.title=[]),n.title[t.voiceNum]={name:r.name,subname:r.subname},r.style&&e.appendElement("style",null,null,{head:r.style}),r.stem)e.appendElement("stem",null,null,{direction:r.stem});else if(t.voiceNum>0){if(n.voices[0]!==void 0){for(var a=!1,o=0;o<n.voices[0].length;o++)n.voices[0].el_type==="stem"&&(a=!0);if(!a){var l={el_type:"stem",direction:"up"};n.voices[0].splice(0,0,l)}}e.appendElement("stem",null,null,{direction:"down"})}r.scale&&e.appendElement("scale",null,null,{size:r.scale}),r.color&&e.appendElement("color",null,null,{color:r.color})}function qce(e,t,r){r.key&&r.key.impliedNaturals&&(r.key.accidentals=r.key.accidentals.concat(r.key.impliedNaturals),delete r.key.impliedNaturals),t.lines[t.lineNum].staff[t.staffNum]={voices:[],clef:r.clef,key:r.key,workingClef:r.clef};var n=t.lines[t.lineNum].staff[t.staffNum];r.stafflines!==void 0&&(n.clef.stafflines=r.stafflines,n.workingClef.stafflines=r.stafflines),r.staffscale&&(n.staffscale=r.staffscale),r.annotationfont&&JT(t,"annotationfont",r.annotationfont),r.gchordfont&&JT(t,"gchordfont",r.gchordfont),r.tripletfont&&JT(t,"tripletfont",r.tripletfont),r.vocalfont&&JT(t,"vocalfont",r.vocalfont),r.bracket&&(n.bracket=r.bracket),r.brace&&(n.brace=r.brace),r.connectBarLines&&(n.connectBarLines=r.connectBarLines),r.barNumber&&(n.barNumber=r.barNumber),hM(e,t,r),r.part&&e.appendElement("part",r.part.startChar,r.part.endChar,{title:r.part.title}),r.meter!==void 0&&(n.meter=r.meter),t.vskipPending&&(t.lines[t.lineNum].vskip=t.vskipPending,delete t.vskipPending)}function RQe(e,t,r){t.lines[t.lineNum]={staff:[]},qce(e,t,r)}var OQe=mQe,a0=Vh,Gz=sM,_Qe=IZe,NQe=HZe,LQe=UZe,MQe=Hce,DQe=gQe,PQe=OQe,FQe=function(){var e=new DQe,t=new PQe(e),r,n="",a="";this.getTune=function(){var E={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,metaTextInfo:e.metaTextInfo,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline,findSelectableElement:e.findSelectableElement,getSelectableArray:e.getSelectableArray};return e.lineBreaks&&(E.lineBreaks=e.lineBreaks),e.visualTranspose&&(E.visualTranspose=e.visualTranspose),E};function o(E,S,C){E.positioning||(E.positioning={}),E.positioning[S]=C}function l(E,S,C){E.fonts||(E.fonts={}),E.fonts[S]=C}var c={reset:function(){for(var E in this)this.hasOwnProperty(E)&&typeof this[E]!="function"&&delete this[E];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(E,S){return this[E].decoration!==S[E].decoration||this[E].face!==S[E].face||this[E].size!==S[E].size||this[E].style!==S[E].style||this[E].weight!==S[E].weight},addFormattingOptions:function(E,S,C){C==="note"?(this.vocalPosition!=="auto"&&o(E,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&o(E,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(E,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(E,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(E,"volumePosition",this.volumePosition),this.differentFont("annotationfont",S)&&l(E,"annotationfont",this.annotationfont),this.differentFont("gchordfont",S)&&l(E,"gchordfont",this.gchordfont),this.differentFont("vocalfont",S)&&l(E,"vocalfont",this.vocalfont),this.differentFont("tripletfont",S)&&l(E,"tripletfont",this.tripletfont)):C==="bar"&&(this.dynamicPosition!=="auto"&&o(E,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(E,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(E,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(E,"volumePosition",this.volumePosition),this.differentFont("measurefont",S)&&l(E,"measurefont",this.measurefont),this.differentFont("repeatfont",S)&&l(E,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var E=0;E<this.inTie.length;E++)if(this.endingHoldOver.inTie.push([]),this.inTie[E])for(var S=0;S<this.inTie[E].length;S++)this.endingHoldOver.inTie[E].push(this.inTie[E][S]);for(var C in this.inTieChord)this.inTieChord.hasOwnProperty(C)&&(this.endingHoldOver.inTieChord[C]=this.inTieChord[C])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var E=0;E<this.endingHoldOver.inTie.length;E++){this.inTie.push([]);for(var S=0;S<this.endingHoldOver.inTie[E].length;S++)this.inTie[E].push(this.endingHoldOver.inTie[E][S])}for(var C in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(C)&&(this.inTieChord[C]=this.endingHoldOver.inTieChord[C])}}},u=function(E){c.warnings||(c.warnings=[]),c.warnings.push(E)},h=function(E){c.warningObjects||(c.warningObjects=[]),c.warningObjects.push(E)},f=function(E){var S=E.replace(/\x12/g," ");return S=S.replace(/&/g,"&amp;"),S=S.replace(/</g,"&lt;"),S.replace(/>/g,"&gt;")},d=function(E,S,C){S||(S=" ");var k=S[C];(k===" "||!k)&&(k="SPACE");var O=f(S.substring(C-64,C))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+k+"</span>"+f(S.substring(C+1).substring(0,64));u("Music Line:"+r.lineIndex+":"+(C+1)+": "+E+":  "+O),h({message:E,line:S,startChar:c.iChar+C,column:C})},p,g;this.getWarnings=function(){return c.warnings},this.getWarningObjects=function(){return c.warningObjects};var m=function(E,S){if(S.indexOf("")>=0){n+=S;return}if(S=n+S,n="",!E){d("Can't add words before the first line of music",E,0);return}S=a0.strip(S),S[S.length-1]!=="-"&&(S=S+" ");for(var C=[],k=0,O=!1,I=function(M){var $=a0.strip(S.substring(k,M));if($=$.replace(/\\([-_*|~])/g,"$1"),k=M+1,$.length>0){O&&($=$.replace(/~/g," "));var N=S[M];return N!=="_"&&N!=="-"&&(N=" "),C.push({syllable:r.translateString($),divider:N}),O=!1,!0}return!1},_=!1,R=0;R<S.length;R++){switch(S[R]){case" ":case"":I(R);break;case"-":!_&&!I(R)&&C.length>0&&(a0.last(C).divider="-",C.push({skip:!0,to:"next"}));break;case"_":_||(I(R),C.push({skip:!0,to:"slur"}));break;case"*":_||(I(R),C.push({skip:!0,to:"next"}));break;case"|":_||(I(R),C.push({skip:!0,to:"bar"}));break;case"~":_||(O=!0);break}_=S[R]==="\\"}E.forEach(function(M){if(C.length!==0){if(C[0].skip){switch(C[0].to){case"next":M.el_type==="note"&&M.pitches!==null&&C.shift();break;case"slur":M.el_type==="note"&&M.pitches!==null&&C.shift();break;case"bar":M.el_type==="bar"&&C.shift();break}M.el_type!=="bar"&&(M.lyric===void 0?M.lyric=[{syllable:"",divider:" "}]:M.lyric.push({syllable:"",divider:" "}))}else if(M.el_type==="note"&&M.rest===void 0){var $=C.shift();$.syllable&&($.syllable=$.syllable.replace(/ +/g," ")),M.lyric===void 0?M.lyric=[$]:M.lyric.push($)}}})},y=function(E,S){if(S.indexOf("")>=0){a+=S;return}if(S=a+S,a="",!E){d("Can't add symbols before the first line of music",E,0);return}S=a0.strip(S),S[S.length-1]!=="-"&&(S=S+" ");for(var C=[],k=0,O=!1,I=function(R){var M=a0.strip(S.substring(k,R));if(k=R+1,M.length>0){O&&(M=M.replace(/~/g," "));var $=S[R];return $!=="_"&&$!=="-"&&($=" "),C.push({syllable:r.translateString(M),divider:$}),O=!1,!0}return!1},_=0;_<S.length;_++)switch(S[_]){case" ":case"":I(_);break;case"-":!I(_)&&C.length>0&&(a0.last(C).divider="-",C.push({skip:!0,to:"next"}));break;case"_":I(_),C.push({skip:!0,to:"slur"});break;case"*":I(_),C.push({skip:!0,to:"next"});break;case"|":I(_),C.push({skip:!0,to:"bar"});break;case"~":O=!0;break}E.forEach(function(R){if(C.length!==0){if(C[0].skip)switch(C[0].to){case"next":R.el_type==="note"&&R.pitches!==null&&C.shift();break;case"slur":R.el_type==="note"&&R.pitches!==null&&C.shift();break;case"bar":R.el_type==="bar"&&C.shift();break}else if(R.el_type==="note"&&R.rest===void 0){var M=C.shift();R.lyric===void 0?R.lyric=[M]:R.lyric.push(M)}}})},b=function(E){if(a0.startsWith(E,"%%")){var S=Gz.addDirective(E.substring(2));S&&d(S,E,2);return}var C=E.indexOf("%");if(C>=0&&(E=E.substring(0,C)),E=E.replace(/\s+$/,""),E.length!==0){if(n){m(t.getCurrentVoice(),E.substring(2));return}if(a){y(t.getCurrentVoice(),E.substring(2));return}if(E.length<2||E[1]!==":"||g.lineContinuation){g.parseMusic(E);return}var k=p.parseHeader(E);k.regular&&g.parseMusic(E),k.newline&&g.startNewLine(),k.words&&m(t.getCurrentVoice(),E.substring(2)),k.symbols&&y(t.getCurrentVoice(),E.substring(2))}};function x(E,S){E.push({el_type:"hint"});for(var C=0;C<S.length;C++){var k=S[C],O=Object.assign({},k);if(E.push(O),k.el_type==="bar")return}}function T(E,S){for(var C=0;C<E.length;C++){var k=E[C],O=S[C];if(O)for(var I=0;I<O.voices.length;I++){var _=O.voices[I],R=k.voices[I];R&&x(R,_)}}}function w(){for(var E=0;E<e.lines.length;E++){var S=e.lines[E].staff;if(S){for(var C=E+1;C<e.lines.length&&e.lines[C].staff===void 0;)C++;if(C<e.lines.length){var k=e.lines[C].staff;T(S,k)}}}}this.parse=function(E,S,C){S||(S={}),C||(C=0),e.reset(),E=E.replace(/\r\n?/g,`
`)+`
`;var k=E.split(`
\\`);if(k.length>1){for(var O=1;O<k.length;O++)for(;k[O].length>0&&k[O][0]!==`
`;)k[O]=k[O].substr(1),k[O-1]+=" ";E=k.join("  ")}E=E.replace(/\\([ \t]*)(%.*)*\n/g,function(P,F,L){var D=L?Array(L.length+1).join(" "):"";return F+""+D+`
`});var I=E.split(`
`);a0.last(I).length===0&&I.pop(),r=new LQe(I,c),p=new _Qe(r,d,c,e,t),g=new NQe(r,d,c,e,t,p),S.print&&(e.media="print"),c.reset(),c.iChar=C,S.visualTranspose?(c.globalTranspose=parseInt(S.visualTranspose),c.globalTranspose===0?c.globalTranspose=void 0:t.setVisualTranspose(S.visualTranspose)):c.globalTranspose=void 0,S.lineBreaks&&(c.lineBreaks=S.lineBreaks),p.reset(r,d,c,e);try{S.format&&Gz.globalFormatting(S.format);for(var _=r.nextLine();_;){if(S.header_only&&c.is_in_header===!1||S.stop_on_warning&&c.warnings)throw"normal_abort";var R=c.is_in_header;b(_),R&&!c.is_in_header&&(t.setRunningFont("annotationfont",c.annotationfont),t.setRunningFont("gchordfont",c.gchordfont),t.setRunningFont("tripletfont",c.tripletfont),t.setRunningFont("vocalfont",c.vocalfont)),_=r.nextLine()}n&&m(t.getCurrentVoice(),""),a&&y(t.getCurrentVoice(),""),c.openSlurs=t.cleanUp(c.barsperstaff,c.staffnonote,c.openSlurs)}catch(P){if(P!=="normal_abort")throw P}var M=11*72,$=8.5*72;switch(c.papersize){case"legal":M=14*72,$=8.5*72;break;case"A4":M=11.7*72,$=8.3*72;break}if(c.landscape){var N=M;M=$,$=N}e.formatting.pagewidth||(e.formatting.pagewidth=$),e.formatting.pageheight||(e.formatting.pageheight=M),S.hint_measures&&w(),MQe.wrapLines(e,c.lineBreaks,c.barNumbers)}},jce=FQe,Py=Vh,BQe=function(e){var t="",r=e.match(/(\s*)/);e=Py.strip(e);for(var n=e.split(`
X:`),a=1;a<n.length;a++)n[a]="X:"+n[a];var o=r?r[0].length:0,l=[];if(n.forEach(function(f){l.push({abc:f,startPos:o}),o+=f.length+1}),l.length>1&&!Py.startsWith(l[0].abc,"X:")){var c=l.shift(),u=c.abc.split(`
`);u.forEach(function(f){Py.startsWith(f,"%%")&&(t+=f+`
`)})}var h=t;return l.forEach(function(f){var d=f.abc.indexOf(`

`);d>0&&(f.abc=f.abc.substring(0,d)),f.pure=f.abc,f.abc=t+f.abc,f.title="";var p=f.pure.split("T:");p.length>1&&(p=p[1].split(`
`),f.title=Py.strip(p[0]));var g=f.pure.substring(2,f.pure.indexOf(`
`));f.id=Py.strip(g)}),{header:h,tunes:l}},$Qe=BQe;function fM(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var r=3;this.bar={pitch:r,pitch2:t*e,height:5}}fM.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)};fM.prototype.setRelative=function(e,t,r){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var n=this.bar.pitch2/2;if(e.name=="dots.dot")return r?(t.pitch=n,!1):(t.pitch=n+this.lineSpace,!0);break}return r};var HQe=fM,wf=function(t,r){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=r,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};wf.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,r=0;t&&r<this.children.length;r++)this.children[r].type.indexOf("staff-extra")<0&&this.children[r].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)};wf.prototype.setLimit=function(e,t){var r=t.specialY;r||(r=t),r[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],r[e]):this.specialY[e]=r[e])};wf.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))};wf.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};wf.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)};wf.prototype.addBeam=function(e){this.beams.push(e)};wf.prototype.setWidth=function(e){this.w=e};var Xce=wf,UQe=function(e,t,r,n){if(e)for(var a=0;a<e.length;a++){var o=e[a],l=o.getAttribute("highlight");l||(l="fill"),o.setAttribute(l,n);var c=o.getAttribute("class");c||(c=""),c=c.replace(r,""),c=c.replace(t,""),t.length>0&&(c.length>0&&c[c.length-1]!==" "&&(c+=" "),c+=t),o.setAttribute("class",c)}},dM=UQe,WQe=dM,zQe=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#ff0000"),WQe(this.elemset,e,"",t)},Kce=zQe,GQe=dM,YQe=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#000000"),GQe(this.elemset,"",e,t)},Zce=YQe,VQe=Kce,qQe=Zce,Na=function(t,r,n,a,o,l){l||(l={}),this.tuneNumber=o,this.abcelem=t,this.duration=r,this.durationClass=l.durationClassOveride?l.durationClassOveride:this.duration,this.minspacing=n||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=a,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Na.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};Na.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)};Na.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)};Na.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)};Na.prototype.addFixed=function(e){this._addChild(e)};Na.prototype.addFixedX=function(e){this._addChild(e)};Na.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)};Na.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])};Na.prototype._addChild=function(e){var t=!0;this.abcelem.el_type=="clef"&&e.type=="barNumber"&&(t=!1),e.parent=this,this.children[this.children.length]=e,t&&this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};Na.prototype.pushTop=function(e){e!==void 0&&(this.top===void 0?this.top=e:this.top=Math.max(e,this.top))};Na.prototype.pushBottom=function(e){e!==void 0&&(this.bottom===void 0?this.bottom=e:this.bottom=Math.min(e,this.bottom))};Na.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)};Na.prototype.center=function(e,t){var r=(t.x-e.x)/2+e.x;this.x=r-this.w/2;for(var n=0;n<this.children.length;n++)this.children[n].setX(this.x)};Na.prototype.setHint=function(){this.hint=!0};Na.prototype.highlight=function(e,t){VQe.bind(this)(e,t)};Na.prototype.unhighlight=function(e,t){qQe.bind(this)(e,t)};var Rv=Na,Ov=function(t,r,n,a,o){switch(o=o||{},this.x=0,this.c=t,this.dx=r,this.w=n,this.pitch=a,this.scalex=o.scalex||1,this.scaley=o.scaley||1,this.type=o.type||"symbol",this.pitch2=o.pitch2,this.linewidth=o.linewidth,this.klass=o.klass,this.anchor=o.anchor?o.anchor:"middle",this.top=a,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=a,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),o.thickness&&(this.top+=o.thickness/2,this.bottom-=o.thickness/2),o.stemHeight&&(o.stemHeight>0?this.top+=o.stemHeight:this.bottom+=o.stemHeight),o.dim&&(this.dim=o.dim),o.position&&(this.position=o.position),this.height=o.height?o.height:4,o.top&&(this.top=o.top),o.bottom&&(this.bottom=o.bottom),o.name?this.name=o.name:this.c?this.name=this.c:this.name=this.type,o.realWidth?this.realWidth=o.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":o.position&&o.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};Ov.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,r=this.x-t-e,n=r+this.realWidth+e;return{left:r,right:n}};Ov.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1};Ov.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};Ov.prototype.getLane=function(){return this.lane===void 0?0:this.lane};Ov.prototype.setX=function(e){this.x=e+this.dx};var Eu=Ov,Qce=Rv,pM=Eu;function jQe(e){return e!=null&&e.constructor===Object}function sO(e,t){for(var r in t)t.hasOwnProperty(r)&&(Array.isArray(t[r])||jQe(t[r])||(e[r]=t[r]))}function Jce(e){var t=new Qce("",0,0,"",0);return sO(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},sO(t.abcelem,e.abcelem),t.abcelem.el_type==="note"&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function XQe(e,t){var r=Jce(e);if(t)for(var n=e.children,a=!0,o=0;o<n.length;o++){var l=n[o],c=new pM("",0,0,0,"");sO(c,l),a=t.tablature.setRelative(l,c,a),r.children.push(c)}return r}function KQe(e,t,r){var n="tab.tiny",a=7.5;e.isTabBig&&(n="tab.big",a=10);var o={el_type:"tab",icon:n,Ypos:a};if(a+=e.tabSymbolOffset,!e.hideTabSymbol){var l=new Qce(o,0,0,"symbol",0);l.x=t;var c=new pM(n,0,0,7.5,"tab");c.x=r,l.children.push(c),l.abcelem.el_type=="tab"&&(c.pitch=a)}return l}function ZQe(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var r=e.extra[t];if(r.type=="lyric")return{bottom:r.bottom,height:r.height}}return null}function eue(){this.accidentals=null}function QQe(e){for(var t=0,r=0;r<e.length;r++)e[r].tabNameInfos||t++;return t}function oO(e,t,r,n,a){var o=n.num;n.note.quarter!=null&&(o=o.toString(),o+=n.note.quarter);var l=e.semantics.stringToPitch(n.str);r.notes.push({num:o,str:n.str,pitch:n.note.emit()});var c={type:"tabNumber"},u=new pM(o,0,0,l+.3,c);return u.x=t,u.isGrace=a,u.isAltered=n.note.isAltered,u}function tue(e,t){var r=0;if(e.extra){for(var n=0;n<e.extra.length;n++)if(e.extra[n].c.indexOf("noteheads")>=0){if(r===t)return e.extra[n].x+e.extra[n].w/2;r++}}return-1}function JQe(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function Yz(e,t,r){var n=e.semantics.notesToNumber(t,r);if(n.error)return e.setError(n.error),n;if(n.graces&&n.notes){var a=n.notes.length-1;n.notes[a].graces=n.graces}return n}function eJe(e,t,r,n,a){for(var o=0;o<n.length;o++){var l={el_type:"note",startChar:r.abcelem.startChar,endChar:r.abcelem.endChar,notes:[],grace:!0},c=tue(r,o),u=n[o],h=oO(e,c,l,u,!0);t.children.push(h),a.push(l)}}eue.prototype.build=function(e,t,r,n,a,o,l){QQe(t);var c=t[a+n],u=t[l],h=null,f=null;c.children[0].abcelem.el_type!="clef"&&o!="none"&&c.children.splice(0,0,o);for(var d=0;d<c.children.length;d++){var p=c.children[d],g=p.x,m=g;switch(p.isClef&&(u.children.push(KQe(e,g,m)),p.abcelem.type.indexOf("-8")>=0&&(e.semantics.clefTranspose=-12),p.abcelem.type.indexOf("+8")>=0&&(e.semantics.clefTranspose=12)),p.type){case"staff-extra key-signature":this.accidentals=p.abcelem.accidentals,e.semantics.accidentals=this.accidentals;break;case"bar":e.semantics.measureAccidentals={};var y=!1;d===c.children.length-1&&(y=!0);var b=XQe(p,e);if(b.abcelem.barNumber){delete b.abcelem.barNumber;for(var x=0;x<b.children.length;x++)if(b.children[x].type==="barNumber"){b.children.splice(x,1);break}}b.abcelem.lastBar=y,u.children.push(b),r.push({el_type:p.abcelem.el_type,type:p.abcelem.type,endChar:p.abcelem.endChar,startChar:p.abcelem.startChar,abselem:b});break;case"rest":var T=JQe(p);if(T){if(h=Yz(e,null,T),h.error)return;_={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[],grace:!0},eJe(e,w,p,h.graces,r)}break;case"note":var w=Jce(p);w.x=p.heads[0].x+p.heads[0].w/2,w.lyricDim=ZQe(p);var E=p.abcelem.pitches,S=p.abcelem.gracenotes;if(w.type="tabNumber",h=Yz(e,E,S),h.error)return;if(h.graces){var C=h.notes.length-1;h.notes[C].graces=h.graces}f={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[]};for(var k=0;k<h.notes.length;k++){var O=h.notes[k];if(O.graces)for(var I=0;I<O.graces.length;I++){var _={el_type:"note",startChar:p.abcelem.startChar,endChar:p.abcelem.endChar,notes:[],grace:!0},R=tue(p,I),M=O.graces[I],$=oO(e,R,_,M,!0);w.children.push($),r.push(_)}var N=oO(e,w.x+p.heads[k].dx,f,O,!1);w.children.push(N)}f.notes.length>0&&(f.abselem=w,r.push(f),u.children.push(w));break}}};var tJe=eue,rJe=Xce,nJe=tJe,iJe=ho;function aJe(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function sJe(e){for(var t=0,r=0;r<e.children.length;r++){var n=e.children[r];n.specialY&&n.specialY.lyricHeightBelow>t&&(t=n.specialY.lyricHeightBelow)}return t}function oJe(e,t,r){var n=e.semantics,a=t.controller.getTextSize,o=n.tabInfos(e),l=n.suppress(e),c=!0;if(l&&(c=!1),c){var u=a.calc(o,"tablabelfont","text instrumentname");return r.tabNameInfos={textSize:{height:u.height,width:u.width},name:o},u.height}return 0}function lJe(e,t){return t[e].isTabStaff?e===t.length-1?!0:!t[e+1].isTabStaff:!1}function cJe(e){for(var t=0,r=0;r<e.length;r++)e[r].isTabStaff||t++;return t}function uJe(e,t){for(var r=t;r>=0;r--)if(!e[r].isTabStaff)return r;return-1}function hJe(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var r=uJe(e,t);e[t].hasStaff=e[r],e[r].hasTab||(e[r].hasTab=[]),e[r].hasTab.push(e[t])}}function fJe(e,t){return cJe(e)===1&&t.voices.length>1}function dJe(e,t){for(var r=0,n=0,a=!0,o=0;a;){if(!t[r])return-1;if(t[r].isTabStaff||(o=t[r].voices.length),t[r].isTabStaff){if(n++,lJe(r,t)&&n<o)return r+1}else if(n=0,r>=e&&(r+1==t.length||!t[r+1].isTabStaff))return r+1;if(r++,r>t.length)return-1}}function pJe(e,t){for(var r=t;r>=0;r--)if(!e[r].isTabStaff)return e[r];return null}function gJe(e,t){var r=e[t],n=r.children[0].abcelem;return n.el_type==="clef"?null:t==0?"none":e[t-1].children[0]}function mJe(e,t,r,n){var a=new nJe,o={clef:{type:"TAB"}},l=e.linePitch*e.nbLines,c=r.staff;if(c){var u=c[0];if(u&&u.clef&&u.clef.stafflines==0){e.setError("No tablatures when stafflines=0");return}c.splice(c.length,0,o)}var h=r.staffGroup,f=h.voices,d=f[0],p=sJe(d),g=3,m=n,y=h.staffs[m],b=l+g-y.bottom-p;y.isTabStaff&&(b=y.top);var x={bottom:-1,isTabStaff:!0,specialY:aJe(),lines:e.nbLines,linePitch:e.linePitch,dy:.15,top:b},T=dJe(n,h.staffs);if(T!==-1){x.parentIndex=T-1,h.staffs.splice(T,0,x),h.height+=l+g;var w=pJe(h.staffs,T),E=1;fJe(h.staffs,w)&&(E=w.voices.length),o.voices=[];for(var S=0;S<E;S++){var C=new rJe(0,0);S>0&&(C.duplicate=!0);var k=oJe(e,t,C)/iJe.STEP;k=Math.max(k,1),h.staffs[n].top+=1,h.height+=k,C.staff=x;var O=f.length;f.splice(f.length,0,C);var I=gJe(f,S+n);o.voices[S]=[],a.build(e,f,o.voices[S],S,n,I,O)}hJe(h.staffs)}}var vJe=mJe,yJe={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},lO=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function bJe(e){var t=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(t&&t.length===5){var r=yJe[t[1]],n=lO.indexOf(t[2]),a=t[4].length-t[3].length;return 48+n+r+a*12}return 0}function xJe(e){e=parseInt(e,10);var t=Math.floor(e/12),r=e%12,n=lO[r];if(n==="-"&&(n="^"+lO[r-1]),t>4)for(n=n.toLowerCase(),t-=5;t>0;)n+="'",t--;else for(;t<4;)n+=",",t++;return n}var rue={noteToMidi:bJe,midiToNote:xJe},{noteToMidi:TJe,midiToNote:gM}=rue;function Al(e,t){var r=TJe(e);t&&(r+=t);var n=gM(r),a=!1,o=!1,l=!1,c=null,u=null,h=!1,f=0;e.startsWith("_")?(a=!0,f=-1,e[1]=="/"?(a=!1,u="v",f=0):e[1]=="_"&&(h=!0,f-=1)):e.startsWith("^")?(o=!0,f=1,e[1]=="/"?(o=!1,u="^",f=0):e[1]=="^"&&(h=!0,f+=1)):e.startsWith("=")&&(c=!0,f=0),l=a||o||u!=null,(l||c)&&(u!=null||h?n=e.slice(2):n=e.slice(1));var d=(n.match(/,/g)||[]).length,p=(n.match(/'/g)||[]).length;this.pitch=r,this.pitchAltered=0,this.name=n,this.acc=f,this.isSharp=o,this.isKeySharp=!1,this.isDouble=h,this.isAltered=l,this.isFlat=a,this.isKeyFlat=!1,this.natural=c,this.quarter=u,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=d,this.isQuoted=p}function wJe(e){var t=e.name,r=new Al(t);return r.pitch=e.pitch,r.hasComma=e.hasComma,r.isLower=e.isLower,r.isQuoted=e.isQuoted,r.isSharp=e.isSharp,r.isKeySharp=e.isKeySharp,r.isFlat=e.isFlat,r.isKeyFlat=e.isKeyFlat,r}Al.prototype.sameNoteAs=function(e){return e.pitch===this.pitch};Al.prototype.isLowerThan=function(e){return e.pitch>this.pitch};Al.prototype.checkKeyAccidentals=function(e,t){if(!(this.isAltered||this.natural)){if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(e)for(var r=this.name,n=0;n<e.length;n++){var a=e[n];r==a.note.toUpperCase()&&(a.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),a.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};Al.prototype.getAccidentalEquiv=function(){var e=wJe(this);return e.isSharp||e.isKeySharp?(e=e.nextNote(),e.isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&(e=e.prevNote(),e.isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e};Al.prototype.nextNote=function(){var e=gM(this.pitch+1+this.pitchAltered);return new Al(e)};Al.prototype.prevNote=function(){var e=gM(this.pitch-1+this.pitchAltered);return new Al(e)};Al.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var r=0;r<this.hasComma;r++)e+=",";return e};Al.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(this.quarter=="^"?e="^/"+e:e="_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var r=1;r<=this.isQuoted;r++)e+="'"}return e};var nue=Al,Vz=nue,qz=["A","B","C","D","E","F","G"];function EJe(e,t){var r=new Vz(e),n=new Vz(t);if(n.isLowerThan(r)){var a=r.emit(),o=n.emit();return{error:"Invalid string Instrument tuning : "+o+" string lower than "+a+" string"}}var l=[],c=qz.indexOf(r.name),u=qz.indexOf(n.name);if(c==-1||u==-1)return l;for(var h=!1;!h;)l.push(r.emit()),r=r.nextNote(),r.sameNoteAs(n)&&(h=!0);return l}var SJe=EJe;const{noteToMidi:AJe}=rue;var yE=nue,kJe=SJe;function CJe(e){var t=null,r=e.tuning;if(e.capo>0){t=[];for(var n=0;n<r.length;n++){for(var a=new yE(r[n]),o=0;o<e.capo;o++)a=a.nextNote();t[n]=a.emit()}}return t}function IJe(e){var t=[],r=e.tuning;e.capo>0&&(r=e.capoTuning);for(var n=r.length-1,a=0;a<r.length;a++){var o=e.highestNote;a!=r.length-1&&(o=r[a+1]);var l=kJe(r[a],o);if(l.error)return l;t[n--]=l}return t}function RJe(e){var t=[];t[0]=[];for(var r=e.strings,n=1;n<r.length;n++)t[n]=r[n-1];return t}function OJe(e,t){for(var r=0;r<t.length-1;r++){var n=t[r],a=t[r+1];if(n.str==a.str){if(n.str==e.strings.length-1){n.num="?",a.num="?";return}a.num<n.num?(a.str++,a=jz(e,a.note,a.str,e.secondPos,e.strings[a.str].length)):(n.str++,n=jz(e,n.note,n.str,e.secondPos,e.strings[n.str].length)),t[r]=n,t[r+1]=a}}return null}function _Je(e,t){for(var r=[],n=0;n<t.length;n++)if(!t[n].endTie){var a=new yE(t[n].name,e.clefTranspose);a.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var o=cO(e,a);r.push(o)}return OJe(e,r),r}function jz(e,t,r,n,a){var o=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),n&&(o=n);var l=t.emitNoAccidentals(),c=o[r].indexOf(l),u=t.acc;if(c!=-1){if(n&&(c+=a),(t.isFlat||t.acc==-1)&&c==0){var h=t.getAccidentalEquiv();r++,c=o[r].indexOf(h.emit()),u=0}return{num:c+u,str:r,note:t}}return null}function cO(e,t){if(t.isAltered||t.natural){var r;t.isFlat?t.isDouble?r="__":r="_":t.isSharp?t.isDouble?r="^^":r="^":t.natural&&(r="="),e.measureAccidentals[t.name.toUpperCase()]=r}for(var n=e.stringPitches.length-1;n>=0;n--)if(t.pitch+t.pitchAltered>=e.stringPitches[n]){var a=t.pitch+t.pitchAltered-e.stringPitches[n];return t.quarter==="^"?a-=.5:t.quarter==="v"&&(a+=.5),{num:Math.round(a),str:e.stringPitches.length-1-n,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}_v.prototype.stringToPitch=function(e){var t=5.3,r=this.strings.length-1;return t+(r-e)*this.linePitch};function Xz(e,t){var r={num:"?",str:0,note:t};e.push(r),e.error=t.emit()+": unexpected note for instrument"}_v.prototype.notesToNumber=function(e,t){var r,n,a=null,o=null;if(e&&(o=[],e.length>1?(o=_Je(this,e),o.error&&(a=o.error)):e[0].endTie||(r=new yE(e[0].name,this.clefTranspose),r.checkKeyAccidentals(this.accidentals,this.measureAccidentals),n=cO(this,r),n?o.push(n):(Xz(o,r),a=o.error))),a)return o;var l=null;if(t){l=[];for(var c=0;c<t.length;c++)r=new yE(t[c].name,this.clefTranspose),r.checkKeyAccidentals(this.accidentals,this.measureAccidentals),n=cO(this,r),n?l.push(n):(Xz(l,r),a=o.error)}return{notes:o,graces:l,error:a}};_v.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var r=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();r[0]==="_"?r=r[1]+"b ":r[0]==="^"&&(r=r[1]+"# "),e.push(r)}return e.join("")};_v.prototype.tabInfos=function(e){var t=e.params.label;if(t){var r=t.indexOf("%T"),n="";return r!=-1&&(n=this.toString(),e.capo>0&&(n+=" capo:"+e.capo),t=t.replace("%T",n)),t}return""};_v.prototype.suppress=function(e){var t=e.params.suppress;return!!t};function _v(e){var t=e.tuning,r=e.capo,n=e.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",n&&(this.highestNote=n),this.measureAccidentals={},this.capo=0,r&&(this.capo=parseInt(r,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var a=0;a<this.tuning.length;a++){var o=AJe(this.tuning[a])+this.capo;this.stringPitches.push(o)}if(this.capo>0&&(this.capoTuning=CJe(this)),this.strings=IJe(this),this.strings.error){e.setError(this.strings.error),e.inError=!0;return}this.secondPos=RJe(this)}var NJe=_v,LJe=HQe,MJe=vJe,DJe=NJe;oA.prototype.init=function(e,t,r,n){this.tune=e,this.params=r,this.tuneNumber=t,this.inError=!1,this.abcTune=e,this.linePitch=3,this.nbLines=n.defaultTuning.length,this.isTabBig=n.isTabBig,this.tabSymbolOffset=n.tabSymbolOffset,this.capo=r.capo,this.transpose=r.visualTranspose,this.hideTabSymbol=r.hideTabSymbol,this.tablature=new LJe(this.nbLines,this.linePitch);var a=r.tuning;a||(a=n.defaultTuning),this.tuning=a,this.semantics=new DJe(this)};oA.prototype.setError=function(e){e&&(this.error=e,this.inError=!0,this.tune.warnings?this.tune.warnings.push(e):this.tune.warnings=[e])};oA.prototype.render=function(e,t,r){this.inError||this.tablature.bypass(t)||MJe(this,e,t,r)};function oA(){}var PJe=function(){return{name:"StringTab",tablature:oA}},FJe=PJe,BJe=FJe,$Je={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},HJe={inited:!1,plugins:{},register:function(e){var t=e.name,r=e.tablature;this.plugins[t]=r},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,r){this.inited||(this.register(new BJe),this.inited=!0);var n=null;if(r.tablature){var a=r.tablature;n=[];for(var o=0;o<a.length;o++){var l=a[o],c=l.instrument;if(c==null)return this.setError(e,"tablature 'instrument' is missing"),n;var u=$Je[c],h=null;if(u&&(h=this.plugins[u.name]),h){r.visualTranspose!=0&&(l.visualTranspose=r.visualTranspose),l.abcSrc=r.tablature.abcSrc;var f={classz:h,tuneNumber:t,params:l,instance:null,tabType:u};n.push(f)}else if(c==="")n.push(null);else return this.setError(e,"Undefined tablature plugin: "+c),n}}return n},layoutTablatures:function(t,r){var n=r.tablatures,a=0;if(n&&n.length>0)for(var o=n.length,l=0;l<o;++l)n[l]&&n[l].params.firstStaffOnly&&(n[l].params.suppress=!1);for(var c=0;c<r.lines.length;c++){var u=r.lines[c];if(u.staff&&a++,a>1&&n&&n.length>0)for(var o=n.length,l=0;l<o;++l)n[l].params.firstStaffOnly&&(n[l].params.suppress=!0);var h=u.staff;if(h){for(var f=h.length,d=0;d<h.length;d++)if(n[d]&&d<f){var p=n[d];p.instance==null&&(p.instance=new p.classz,p.instance.init(r,p.tuneNumber,p.params,p.tabType)),p.instance.render(t,u,d)}}}}},iue=HJe,UJe=jce,WJe=$Qe,zJe=iue,Gu={};(function(){Gu.numberOfTunes=function(t){var r=t.split(`
X:`),n=r.length;return n===0&&(n=1),n};var e=Gu.TuneBook=function(t){var r=WJe(t);this.header=r.header,this.tunes=r.tunes};e.prototype.getTuneById=function(t){for(var r=0;r<this.tunes.length;r++)if(this.tunes[r].id===""+t)return this.tunes[r];return null},e.prototype.getTuneByTitle=function(t){for(var r=0;r<this.tunes.length;r++)if(this.tunes[r].title===t)return this.tunes[r];return null},Gu.parseOnly=function(t,r){for(var n=Gu.numberOfTunes(t),a=[],o=0;o<n;o++)a.push(1);function l(){}return Gu.renderEngine(l,a,t,r)},Gu.renderEngine=function(t,r,n,a){var o=[],l=function(y){return y&&!y.propertyIsEnumerable("length")&&typeof y=="object"&&typeof y.length=="number"};if(!(r===void 0||n===void 0)){l(r)||(r=[r]),a===void 0&&(a={});for(var c=a.startingTune?parseInt(a.startingTune,10):0,u=new e(n),h=new UJe,f=0;f<r.length;f++){var d=r[f];if(d==="*"||typeof d=="string"&&(d=document.getElementById(d)),d)if(c>=0&&c<u.tunes.length){h.parse(u.tunes[c].abc,a,u.tunes[c].startPos-u.header.length);var p=h.getTune();a.tablature&&(p.tablatures=zJe.preparePlugins(p,c,a));var g=h.getWarnings();g&&(p.warnings=g);var m=t(d,p,f,u.tunes[c].abc);o.push(m||p)}else d.innerHTML&&(d.innerHTML="");c++}return o}},Gu.extractMeasures=function(t){for(var r=[],n=new e(t),a=0;a<n.tunes.length;a++){for(var o=n.tunes[a],l=o.abc.split("K:"),c=l[1].split(`
`),u=l[0]+"K:"+c[0]+`
`,h=null,f=null,d=null,p=[],g=!1,m=Gu.parseOnly(o.abc)[0],y=m.getPickupLength()>0,b=0;b<m.lines.length;b++){var x=m.lines[b];if(x.staff)for(var T=0;T<1;T++)for(var w=x.staff[T],E=0;E<1;E++)for(var S=w.voices[E],C=0;C<S.length;C++){var k=S[C];if(d===null&&k.startChar>=0&&(d=k.startChar,k.chord===void 0?f=h:f=null),k.chord&&(h=k),k.el_type==="bar"){if(g){var O=o.abc.substring(d,k.endChar),I={abc:O};h=f&&f.chord&&f.chord.length>0?f.chord[0].name:null,h&&(I.lastChord=h),k.startEnding&&(I.startEnding=k.startEnding),k.endEnding&&(I.endEnding=k.endEnding),p.push(I),d=null,g=!1}}else k.el_type==="note"&&(g=!0)}}r.push({header:u,measures:p,hasPickup:y})}return r}})();var lA=Gu,Kz=Pce,{relativeMajor:Zz,transposeKey:CC,relativeMode:Qz}=Dce,Jz=Mce,aue;(function(){aue=function(w,E,S){if(E==="TEST")return{keyAccidentals:Kz,relativeMajor:Zz,transposeKey:CC,relativeMode:Qz,transposeChordName:Jz};S=parseInt(S,10);var C=[],k;for(k=0;k<E.length;k++)C=C.concat(e(w,E[k],S));C=C.sort(function(_,R){return R.start-_.start});var O=w.split("");for(k=0;k<C.length;k++){var I=C[k];O.splice(I.start,I.end-I.start,I.note)}return O.join("")};function e(w,E,S){var C=[],k=E.getKeySignature();if(k.root==="Hp"||k.root==="HP")return C;C=C.concat(t(w,S));for(var O=0;O<E.lines.length;O++){var I=E.lines[O].staff;if(I)for(var _=0;_<I.length;_++){var R=I[_];R.clef.type!=="perc"&&(C=C.concat(r(w,R.voices,R.key,S)))}}return C}function t(w,E){for(var S=[],C=w.split("K:"),k=C[0].length,O=1;O<C.length;O++){var I=C[O],_=I.match(/^( *)([A-G])([#b]?)(\w*)/);if(_){var R=k+2+_[1].length,M=_[2]+_[3]+_[4],$=u({root:_[2],acc:_[3],mode:_[4]},E),N=$.root+$.acc+$.mode;S.push({start:R,end:R+M.length,note:N})}k+=I.length+2}return S}function r(w,E,S,C){for(var k=[],O=u(S,C),I=0;I<E.length;I++)k=k.concat(o(w,E[I],S.root,n(S),O,C));return k}function n(w){for(var E={},S=0;S<w.accidentals.length;S++){var C=w.accidentals[S];C.acc==="flat"?E[C.note.toUpperCase()]="_":C.acc==="sharp"&&(E[C.note.toUpperCase()]="^")}return E}function a(w,E,S){var C=l.indexOf(w.root)-l.indexOf(E);return E==="none"&&(C=l.indexOf(w.root)),C===0?S>2?C+=7:S===-12&&(C-=7):S>0&&C<0?C+=7:S<0&&C>0&&(C-=7),S>12?C+=7:S<-12&&(C-=7),C}function o(w,E,S,C,k,O){for(var I=[],_=a(k,S,O),R={},M={},$=0;$<E.length;$++){var N=E[$];if(N.chord)for(var P=0;P<N.chord.length;P++){var F=N.chord[P];if(F.position==="default"){var L=k.accidentals.length&&k.accidentals[0].acc==="flat",D=Jz(F.name,O,L,!0);D=D.replace(/♭/g,"b").replace(/♯/g,"#"),D!==F.name&&I.push(x(w,N.startChar,N.endChar,D))}}if(N.el_type==="note"&&N.pitches){for(var B=0;B<N.pitches.length;B++){var H=m(N.pitches[B].name,S,C,R);H.acc&&(R[H.name.toUpperCase()]=H.acc);var U=h(H,k,_,M);U.acc&&(M[U.upper]=U.acc),I.push(y(w,N.startChar,N.endChar,U.acc+U.name,B))}if(N.gracenotes)for(var G=0;G<N.gracenotes.length;G++){var W=m(N.gracenotes[G].name,S,C,R);W.acc&&(R[W.name.toUpperCase()]=W.acc);var ee=h(W,k,_,R);ee.acc&&(M[ee.upper]=ee.acc),I.push(b(w,N.startChar,N.endChar,ee.acc+ee.name,G))}}else N.el_type==="bar"?(R={},M={}):N.el_type==="keySignature"&&(S=N.root,C=n(N),k=u(N,O),_=a(k,S,O))}return I}var l="CDEFGAB",c=[",,,,",",,,",",,",",","","'","''","'''","''''"];function u(w,E){if(w.root==="none")return{root:CC("C",E),mode:"",acc:"",accidentals:[]};var S=Zz(w.root+w.acc+w.mode),C=CC(S,E),k=Qz(C,w.mode),O=Kz(C);return{root:k[0],mode:w.mode,acc:k.length>1?k[1]:"",accidentals:O}}function h(w,E,S,C){for(var k=w.pitch,O=l.indexOf(w.name),I=l.indexOf(E.root),_=(I+k)%7,R=O+S,M=w.oct;R>6;)M++,R-=7;for(;R<0;)M--,R+=7;for(var $=l[_],N="",P=w.adj,F="=",L=0;L<E.accidentals.length;L++)if(E.accidentals[L].note.toLowerCase()===$.toLowerCase()){P=P+(E.accidentals[L].acc==="flat"?-1:1),F=E.accidentals[L].acc==="flat"?"_":"^";break}switch(P){case-2:N="__";break;case-1:N="_";break;case 0:N="=";break;case 1:N="^";break;case 2:N="^^";break;case-3:var D={};return D.pitch=w.pitch-1,D.oct=w.oct,D.name=l[l.indexOf(w.name)-1],D.name||(D.name="B",D.oct--),D.name==="B"||D.name==="E"?D.adj=w.adj+1:D.adj=w.adj+2,h(D,E,S+1,C);case 3:var D={};return D.pitch=w.pitch+1,D.oct=w.oct,D.name=l[l.indexOf(w.name)+1],D.name||(D.name="C",D.oct++),D.name==="C"||D.name==="F"?D.adj=w.adj-1:D.adj=w.adj-2,h(D,E,S+1,C)}switch((C[$]===N||!C[$]&&N===F)&&!w.courtesy&&(N=""),M){case 0:$=$+",,,";break;case 1:$=$+",,";break;case 2:$=$+",";break;case 4:$=$.toLowerCase();break;case 5:$=$.toLowerCase()+"'";break;case 6:$=$.toLowerCase()+"''";break;case 7:$=$.toLowerCase()+"'''";break;case 8:$=$.toLowerCase()+"''''";break}return M>4&&($=$.toLowerCase()),{acc:N,name:$,upper:$.toUpperCase()}}var f=/([_^=]*)([A-Ga-g])([,']*)/,d=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,p=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,g=/(\s*)$/;function m(w,E,S,C){var k=E==="none"?0:l.indexOf(E),O=w.match(f),I=O[2].toUpperCase(),_=l.indexOf(I)-k;_<0&&(_+=7);var R=c.indexOf(O[3]);I===O[2]&&R--;var M=C[I]||S[I]||"=";return{acc:O[1],name:I,pitch:_,oct:R,adj:T(O[1],S[I],C[I]),courtesy:O[1]===M}}function y(w,E,S,C,k){var O=w.substring(E,S),I=O.match(new RegExp(d.source+g.source),"");if(I){var _=I[1].length,R=I[2].length+I[3].length+I[4].length,M=S-E-_-R;E+=M,S-=R}else{var $=/([^\[]*)/,N=/\[/,P=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(I=O.match(new RegExp($.source+N.source+p.source+p.source+p.source+p.source+p.source+p.source+p.source+p.source+P.source+g.source)),I){for(var F=1+I[1].length,L=0;L<k;L++)I[L*3+2]&&(F+=I[L*3+2].length),I[L*3+3]&&(F+=I[L*3+3].length),I[L*3+4]&&(F+=I[L*3+4].length);E+=F;var D=I[k*3+2]?I[k*3+2].length:0;S=E+D}}return{start:E,end:S,note:C}}function b(w,E,S,C,k){var O=w.substring(E,S),I=/\{/,_=/\}/,R=/([^\{]*)/,M=/(\/*)/,$=O.match(new RegExp(R.source+I.source+M.source+p.source+M.source+p.source+M.source+p.source+M.source+p.source+M.source+p.source+M.source+p.source+M.source+p.source+M.source+p.source+_.source));if($){for(var N=1+$[1].length,P=0;P<k;P++)$[P*3+2]&&(N+=$[P*3+2].length),$[P*3+3]&&(N+=$[P*3+3].length),$[P*3+4]&&(N+=$[P*3+4].length),$[P*3+5]&&(N+=$[P*3+5].length);$[k*3+2]&&(N+=$[P*3+2].length),E+=N;var F=$[k*3+3]?$[k*3+3].length:0;F+=$[k*3+4]?$[k*3+4].length:0,F+=$[k*3+5]?$[k*3+5].length:0,S=E+F}return{start:E,end:S,note:C}}function x(w,E,S,C){var k=w.substring(E,S).match(/([^"]+)?(".+")+/);return k[1]&&(E+=k[1].length),S=E+k[2].length,{start:E+1,end:S-1,note:C}}function T(w,E,S){if(!w&&S&&(w=S),!w)return 0;switch(E){case void 0:switch(w){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(w){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(w){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var GJe=aue,Pp=function(t,r,n,a){this.type="BeamElem",this.isflat=!!n,this.isgrace=!!(r&&r==="grace"),this.forceup=!!(this.isgrace||r&&r==="up"),this.forcedown=!!(r&&r==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],a&&a.duration?(this.duration=a.duration,a.startTriplet&&(this.duration*=a.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};Pp.prototype.setHint=function(){this.hint=!0};Pp.prototype.runningDirection=function(e){var t=e.averagepitch;t!==void 0&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)};Pp.prototype.add=function(e){var t=e.abcelem.averagepitch;t!==void 0&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(this.min===void 0||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(this.max===void 0||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))};Pp.prototype.addBeam=function(e){this.beams.push(e)};Pp.prototype.setStemDirection=function(){if(this.average=sue(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}delete this.count,this.total=0};Pp.prototype.calcDir=function(){if(this.average=sue(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}for(var t=this.stemsUp?"up":"down",r=0;r<this.elems.length;r++)for(var n=0;n<this.elems[r].heads.length;n++)this.elems[r].heads[n].stemDir=t};function sue(e,t){return t?e/t:0}var YJe=Pp,d3=function(t,r){this.startVoice=t,this.type=r};d3.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};d3.prototype.continuing=function(e){this.lastContinuedVoice=e};d3.prototype.getWidth=function(){return 10};d3.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)};var VJe=d3,qJe=ho,Ao={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};Ao["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};Ao["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};Ao["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};Ao["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var eG=function(e){for(var t=[],r=0,n=e.length;r<n;r++){t[r]=[];for(var a=0,o=e[r].length;a<o;a++)t[r][a]=e[r][a]}return t},jJe=function(e,t,r){for(var n=0,a=e.length;n<a;n++){var o=e[n],l,c;for(l=1,c=o.length;l<c;l++)o[l]*=l%2?t:r}},XJe={printSymbol:function(e,t,r,n,a){if(!Ao[r])return null;var o=eG(Ao[r].d);o[0][1]+=e,o[0][2]+=t;for(var l="",c=0;c<o.length;c++)l+=o[c].join(" ");return a.path=l,n.path(a)},getPathForSymbol:function(e,t,r,n,a){if(n=n||1,a=a||1,!Ao[r])return null;var o=eG(Ao[r].d);return(n!==1||a!==1)&&jJe(o,n,a),o[0][1]+=e,o[0][2]+=t,o},getSymbolWidth:function(e){return Ao[e]?Ao[e].w:0},symbolHeightInPitches:function(e){var t=Ao[e]?Ao[e].h:0;return t/qJe.STEP},getSymbolAlign:function(e){return e.substring(0,7)==="scripts"&&e!=="scripts.roll"?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(e,t){Ao[e]=t}},Ef=XJe,KJe=Rv,Fy=Ef,IC=Eu,ZJe=function(e,t){var r,n=0;e.el_type="clef";var a=new KJe(e,0,10,"staff-extra clef",t);switch(a.isClef=!0,e.type){case"treble":r="clefs.G";break;case"tenor":r="clefs.C";break;case"alto":r="clefs.C";break;case"bass":r="clefs.F";break;case"treble+8":r="clefs.G",n=1;break;case"tenor+8":r="clefs.C",n=1;break;case"bass+8":r="clefs.F",n=1;break;case"alto+8":r="clefs.C",n=1;break;case"treble-8":r="clefs.G",n=-1;break;case"tenor-8":r="clefs.C",n=-1;break;case"bass-8":r="clefs.F",n=-1;break;case"alto-8":r="clefs.C",n=-1;break;case"none":return null;case"perc":r="clefs.perc";break;default:a.addFixed(new IC("clef="+e.type,0,0,void 0,{type:"debug"}))}var o=5;if(r){var l=Fy.symbolHeightInPitches(r),c=QJe(r);if(a.addRight(new IC(r,o,Fy.getSymbolWidth(r),e.clefPos,{top:l+e.clefPos+c,bottom:e.clefPos+c})),n!==0){var u=.6666666666666666,h=(Fy.getSymbolWidth(r)-Fy.getSymbolWidth("8")*u)/2,f=n>0?a.top+3:a.bottom-1,d=n>0?a.top+3:a.bottom-3,p=d-2;e.type==="bass-8"&&(f=3,h=0),a.addRight(new IC("8",o+h,Fy.getSymbolWidth("8")*u,f,{scalex:u,scaley:u,top:d,bottom:p}))}}return a};function QJe(e){switch(e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var JJe=ZJe,eet=Rv,e4=Ef,tet=Eu,ret=function(e,t){if(e.el_type="keySignature",!e.accidentals||e.accidentals.length===0)return null;var r=new eet(e,0,10,"staff-extra key-signature",t);r.isKeySig=!0;var n=0;return e.accidentals.forEach(function(a){var o,l=0;switch(a.acc){case"sharp":o="accidentals.sharp",l=-3;break;case"natural":o="accidentals.nat";break;case"flat":o="accidentals.flat",l=-1.2;break;case"quartersharp":o="accidentals.halfsharp",l=-2.5;break;case"quarterflat":o="accidentals.halfflat",l=-1.2;break;default:o="accidentals.flat"}r.addRight(new tet(o,n,e4.getSymbolWidth(o),a.verticalPos,{thickness:e4.symbolHeightInPitches(o),top:a.verticalPos+e4.symbolHeightInPitches(o)+l,bottom:a.verticalPos+l})),n+=e4.getSymbolWidth(o)+2},this),r},net=ret,$l=Ef,o1=Eu,iet=function(e,t,r,n){n||(n={});var a=n.dir!==void 0?n.dir:null,o=n.headx!==void 0?n.headx:0,l=n.extrax!==void 0?n.extrax:0,c=n.flag!==void 0?n.flag:null,u=n.dot!==void 0?n.dot:0,h=n.dotshiftx!==void 0?n.dotshiftx:0,f=n.scale!==void 0?n.scale:1,d=n.accidentalSlot!==void 0?n.accidentalSlot:[],p=n.shouldExtendStem!==void 0?n.shouldExtendStem:!1,g=n.printAccidentals!==void 0?n.printAccidentals:!0,m=r.verticalPos,y,b=0,x=0,T=0;if(t===void 0)e.addFixed(new o1("pitch is undefined",0,0,0,{type:"debug"}));else if(t==="")y=new o1(null,0,0,m);else{var w=o;if(r.printer_shift){var E=r.printer_shift==="same"?1:0;w=a==="down"?-$l.getSymbolWidth(t)*f+E:$l.getSymbolWidth(t)*f-E}var S={scalex:f,scaley:f,thickness:$l.symbolHeightInPitches(t)*f,name:r.name};if(y=new o1(t,w,$l.getSymbolWidth(t)*f,m,S),y.stemDir=a,c){var C=m+(a==="down"?-7:7)*f;p&&(a==="down"&&C>6&&(C=6),a==="up"&&C<6&&(C=6));var k=a==="down"?o:o+y.w-.6;e.addRight(new o1(c,k,$l.getSymbolWidth(c)*f,C,{scalex:f,scaley:f}))}for(x=y.w+h-2+5*u;u>0;u--){var O=1-Math.abs(m)%2;e.addRight(new o1("dots.dot",y.w+h-2+5*u,$l.getSymbolWidth("dots.dot"),m+O))}}if(y&&(y.highestVert=r.highestVert),g&&r.accidental){var I;switch(r.accidental){case"quartersharp":I="accidentals.halfsharp";break;case"dblsharp":I="accidentals.dblsharp";break;case"sharp":I="accidentals.sharp";break;case"quarterflat":I="accidentals.halfflat";break;case"flat":I="accidentals.flat";break;case"dblflat":I="accidentals.dblflat";break;case"natural":I="accidentals.nat"}for(var _=!1,R=l,M=0;M<d.length;M++)if(m-d[M][0]>=6){d[M][0]=m,R=d[M][1],_=!0;break}_===!1&&(R-=$l.getSymbolWidth(I)*f+2,d.push([m,R]),b=$l.getSymbolWidth(I)*f+2);var $=$l.symbolHeightInPitches(I);e.addExtra(new o1(I,R,$l.getSymbolWidth(I),m,{scalex:f,scaley:f,top:m+$/2,bottom:m-$/2})),T=$l.getSymbolWidth(I)/2}return{notehead:y,accidentalshiftx:b,dotshiftx:x,extraLeft:T}},aet=iet,set=Rv,ci=Ef,Mc=Eu,oet=function(e,t){e.el_type="timeSignature";var r=new set(e,0,10,"staff-extra time-signature",t);if(e.type==="specified")for(var n=0,a=0;a<e.value.length;a++)if(a!==0&&(r.addRight(new Mc("+",n+1,ci.getSymbolWidth("+"),6,{thickness:ci.symbolHeightInPitches("+")})),n+=ci.getSymbolWidth("+")+2),e.value[a].den){for(var o=0,l=0;l<e.value[a].num.length;l++)o+=ci.getSymbolWidth(e.value[a].num[l]);var c=0;for(l=0;l<e.value[a].num.length;l++)c+=ci.getSymbolWidth(e.value[a].den[l]);var u=Math.max(o,c);r.addRight(new Mc(e.value[a].num,n+(u-o)/2,o,8,{thickness:ci.symbolHeightInPitches(e.value[a].num[0])})),r.addRight(new Mc(e.value[a].den,n+(u-c)/2,c,4,{thickness:ci.symbolHeightInPitches(e.value[a].den[0])})),n+=u}else{for(var h=0,f=0;f<e.value[a].num.length;f++)h+=ci.getSymbolWidth(e.value[a].num[f]);r.addRight(new Mc(e.value[a].num,n,h,6,{thickness:ci.symbolHeightInPitches(e.value[a].num[0])})),n+=h}else e.type==="common_time"?r.addRight(new Mc("timesig.common",0,ci.getSymbolWidth("timesig.common"),6,{thickness:ci.symbolHeightInPitches("timesig.common")})):e.type==="cut_time"?r.addRight(new Mc("timesig.cut",0,ci.getSymbolWidth("timesig.cut"),6,{thickness:ci.symbolHeightInPitches("timesig.cut")})):e.type==="tempus_imperfectum"?r.addRight(new Mc("timesig.imperfectum",0,ci.getSymbolWidth("timesig.imperfectum"),6,{thickness:ci.symbolHeightInPitches("timesig.imperfectum")})):e.type==="tempus_imperfectum_prolatio"?r.addRight(new Mc("timesig.imperfectum2",0,ci.getSymbolWidth("timesig.imperfectum2"),6,{thickness:ci.symbolHeightInPitches("timesig.imperfectum2")})):e.type==="tempus_perfectum"?r.addRight(new Mc("timesig.perfectum",0,ci.getSymbolWidth("timesig.perfectum"),6,{thickness:ci.symbolHeightInPitches("timesig.perfectum")})):e.type==="tempus_perfectum_prolatio"?r.addRight(new Mc("timesig.perfectum2",0,ci.getSymbolWidth("timesig.perfectum2"),6,{thickness:ci.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return r},cet=oet,uet=function(t,r,n){this.type="DynamicDecoration",this.anchor=t,this.dec=r,n==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},het=uet,fet=function(t,r,n,a){this.type="CrescendoElem",this.anchor1=t,this.anchor2=r,this.dir=n,a==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},det=fet,pet=function(t,r){this.type="GlissandoElem",this.anchor1=t,this.anchor2=r},get=pet,zo=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};zo.prototype.addInternalNote=function(e){this.internalNotes.push(e)};zo.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};zo.prototype.setStartX=function(e){this.startLimitX=e};zo.prototype.setEndX=function(e){this.endLimitX=e};zo.prototype.setHint=function(){this.hint=!0};zo.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}};zo.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var r=this.internalNotes[t];r.stemDir==="down"&&(e=!0)}this.above=e}};zo.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t};zo.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};zo.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var r=!!this.anchor1.parent.beam,n=!!this.anchor2.parent.beam;if(r){var a=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];a||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(n){var o=this.anchor2.parent===this.anchor2.parent.beam.elems[0];o||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};zo.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}};zo.prototype.getYBounds=function(){var e=10,t=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,t),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,t),this.calcSlurY());var r,n;return this.above?(n=Math.min(this.startY,this.endY),r=n+3):(r=Math.min(this.startY,this.endY),n=r-3),[r,n]};var oue=zo,met=het,tG=det,vet=get,tc=Ef,$d=Eu,yet=oue,mM=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},bet=function(e,t,r,n,a,o,l,c,u){for(var h,f=0;f<t.length;f++){if(t[f]==="staccato"||t[f]==="tenuto"||t[f]==="accent"&&!u){var d="scripts."+t[f];if(t[f]==="accent"&&(d="scripts.sforzato"),h===void 0?h=l==="down"?r+2:c-2:h=l==="down"?h+2:h-2,t[f]==="accent")l==="up"?h--:h++;else switch(h){case 2:case 4:case 6:case 8:case 10:l==="up"?h--:h++;break}r>9&&h++;var p=n/2;tc.getSymbolAlign(d)!=="center"&&(p-=tc.getSymbolWidth(d)/2),a.addFixedX(new $d(d,p,tc.getSymbolWidth(d),h))}if(t[f]==="slide"&&a.heads[0]){var g=a.heads[0].pitch;g-=2;var m=new $d("",-o-15,0,g-1),y=new $d("",-o-5,0,g+1);a.addFixedX(m),a.addFixedX(y),e.addOther(new yet({anchor1:m,anchor2:y,fixedY:!0}))}}return h===void 0&&(h=r),{above:h,below:a.bottom}},xet=function(e,t,r,n){for(var a=0;a<t.length;a++)switch(t[a]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var o=new met(r,t[a],n);e.addOther(o)}},Tet=function(e,t,r,n,a){function o(){if(n.heads.length===0)return 10;for(var h=n.heads[0].pitch,f=1;f<n.heads.length;f++)h=Math.max(h,n.heads[f].pitch);return h}function l(){if(n.heads.length===0)return 2;for(var h=n.heads[0].pitch,f=1;f<n.heads.length;f++)h=Math.min(h,n.heads[f].pitch);return h}function c(h,f){var d=a==="down"?l()+1:o()+9;a!=="down"&&f===1&&d--;var p=r/2;p+=a==="down"?-5:3;for(var g=0;g<f;g++)d-=1,n.addFixedX(new $d(h,p,tc.getSymbolWidth(h),d))}for(var u=0;u<e.length;u++)switch(e[u]){case"/":c("flags.ugrace",1);break;case"//":c("flags.ugrace",2);break;case"///":c("flags.ugrace",3);break;case"////":c("flags.ugrace",4);break}},wet=function(e,t,r,n,a,o,l,c){function u(y,b){y==="above"?n.above+=b:n.below-=b}function h(y){var b;return y==="above"?(b=n.above,b<o&&(b=o)):(b=n.below,b>l&&(b=l)),b}function f(y,b,x){var T=h(b),w=2,E=5;r.addFixedX(new $d(y,t/2,0,T+w,{type:"decoration",klass:"ornament",thickness:3,anchor:x})),u(b,E)}function d(y,b){var x=t/2;tc.getSymbolAlign(y)!=="center"&&(x-=tc.getSymbolWidth(y)/2);var T=tc.symbolHeightInPitches(y)+1,w=h(b);w=b==="above"?w+T/2:w-T/2,r.addFixedX(new $d(y,x,tc.getSymbolWidth(y),w,{klass:"ornament",thickness:tc.symbolHeightInPitches(y),position:b})),u(b,T)}for(var p={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},g=!1,m=0;m<e.length;m++)switch(e[m]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":f(e[m],a,"middle"),g=!0;break;case"D.C.alcoda":f("D.C. al coda",a,"end"),g=!0;break;case"D.C.alfine":f("D.C. al fine",a,"end"),g=!0;break;case"D.S.alcoda":f("D.S. al coda",a,"end"),g=!0;break;case"D.S.alfine":f("D.S. al fine",a,"end"),g=!0;break;case"fine":f("FINE",a,"middle"),g=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":d(p[e[m]],a),g=!0;break;case"invertedfermata":d(p[e[m]],"below"),g=!0;break;case"mark":r.klass="mark";break;case"accent":c&&(d("scripts.sforzato",a),g=!0);break}return g};function Eet(e,t,r){for(var n=0;n<e.length;n++)switch(e[n]){case"arpeggio":for(var a=t.abcelem.minpitch-1;a<=t.abcelem.maxpitch;a+=2)t.addExtra(new $d("scripts.arpeggio",-tc.getSymbolWidth("scripts.arpeggio")*2-r,0,a+2,{klass:"ornament",thickness:tc.symbolHeightInPitches("scripts.arpeggio")}));break}}mM.prototype.dynamicDecoration=function(e,t,r,n){for(var a,o,l,c=0;c<t.length;c++)switch(t[c]){case"diminuendo(":this.startDiminuendoX=r,a=void 0;break;case"diminuendo)":a={start:this.startDiminuendoX,stop:r},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=r,o=void 0;break;case"crescendo)":o={start:this.startCrescendoX,stop:r},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=r,l=void 0;break;case"~)":case"glissando)":l={start:this.startGlissandoX,stop:r},this.startGlissandoX=void 0;break}a&&e.addOther(new tG(a.start,a.stop,">",n)),o&&e.addOther(new tG(o.start,o.stop,"<",n)),l&&e.addOther(new vet(l.start,l.stop))};mM.prototype.createDecoration=function(e,t,r,n,a,o,l,c,u,h,f){u||(u={ornamentPosition:"above",volumePosition:h?"above":"below",dynamicPosition:h?"above":"below"}),xet(e,t,a,u.volumePosition),this.dynamicDecoration(e,t,a,u.dynamicPosition),Tet(t,r,n,a,l);var d=bet(e,t,r,n,a,o,l,c,f);d.above=Math.max(d.above,this.minTop),d.below=Math.min(d.below,c),wet(t,n,a,d,u.ornamentPosition,this.minTop,c,f),Eet(t,a,o)};var Aet=mM,ket=function(t,r,n){this.type="EndingElem",this.text=t,this.anchor1=r,this.anchor2=n,this.endingHeightAbove=5,this.pitch=void 0},Cet=ket,Iet=function(e){for(var t=0,r=0;r<e.voices.length;r++){var n=e.voices[r].staff;e.voices[r].duplicate||(t+=n.top,t+=-n.bottom)}return t},Ret=Iet,Oet=Ret,Nv=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};Nv.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])};Nv.prototype.addVoice=function(e,t,r){var n=this.voices.length;this.voices[n]=e,this.staffs[t]?this.staffs[t].voices.push(n):this.staffs[this.staffs.length]={top:10,bottom:2,lines:r,voices:[n],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]};Nv.prototype.setHeight=function(){this.height=Oet(this)};Nv.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)};Nv.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};var _et=Nv,Net=Rv,Let=Eu,vM=function(t,r,n){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=r,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(n,t,r))};vM.prototype.setX=function(e){this.x=e};vM.prototype.createNote=function(e,t,r){var n=.75,a=t.duration[0],o=new Net(t,a,1,"tempo",r),l,c,u;a<=1/32?(u="noteheads.quarter",c="flags.u32nd",l=0):a<=1/16?(u="noteheads.quarter",c="flags.u16th",l=0):a<=3/32?(u="noteheads.quarter",c="flags.u16nd",l=1):a<=1/8?(u="noteheads.quarter",c="flags.u8th",l=0):a<=3/16?(u="noteheads.quarter",c="flags.u8th",l=1):a<=1/4?(u="noteheads.quarter",l=0):a<=3/8?(u="noteheads.quarter",l=1):a<=1/2?(u="noteheads.half",l=0):a<=3/4?(u="noteheads.half",l=1):a<=1?(u="noteheads.whole",l=0):a<=1.5?(u="noteheads.whole",l=1):a<=2?(u="noteheads.dbl",l=0):(u="noteheads.dbl",l=1);var h=e(o,u,{verticalPos:0},{dir:"up",flag:c,dot:l,scale:n}),f=h.notehead;o.addHead(f);var d;if(u!=="noteheads.whole"&&u!=="noteheads.dbl"){var p=.3333333333333333*n,g=5*n,m=f.dx+f.w,y=-.6;d=new Let(null,m,0,p,{type:"stem",pitch2:g,linewidth:y}),o.addRight(d)}return o};var Met=vM,cA=function(t,r,n){this.type="TripletElem",this.anchor1=r,this.number=t,this.durationClass=("d"+Math.round(r.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=n.flatBeams};cA.prototype.isClosed=function(){return!!this.anchor2};cA.prototype.middleNote=function(e){this.middleElems.push(e)};cA.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var Det=cA;function rG(e){switch(e){case"B#":return"H#";case"B♯":return"H♯";case"B":return"H";case"Bb":return"B";case"B♭":return"B"}return e}function Pet(e,t,r){var n=e.split(`
`);for(let a=0;a<n.length;a++){let l=n[a].match(/^([ABCDEFG][♯♭]?)?([^\/]+)?(\/([ABCDEFG][#b♯♭]?))?/);if(!l)continue;let c=l[1]||"",u=l[2]||"",h=l[4]||"";r&&(c=rG(c),h=rG(h));const f=t?"":"",d=h?"/"+h:"";n[a]=[c,u,d].join(f)}return n.join(`
`)}var Fet=Pet,l1=Eu,RC=ho;const Bet=Fet;var $et=function(e,t,r,n,a,o,l,c){for(var u=0;u<r.chord.length;u++){var h=r.chord[u].position,f=r.chord[u].rel_position,d=h==="left"||h==="right"||h==="below"||h==="above"||!!f,p,g;d?(p="annotationfont",g="abcjs-annotation"):(p="gchordfont",g="abcjs-chord");var m=e.attr(p,g),y=r.chord[u].name,b;if(typeof y=="string")b=nG(y,h,f,d,p,g,m,e,t,r,n,a,o,l,c),n=b.roomTaken,a=b.roomTakenRight;else for(var x=0;x<y.length;x++)b=nG(y[x].text,h,f,d,p,g,m,e,t,r,n,a,o,l,c),n=b.roomTaken,a=b.roomTakenRight}return{roomTaken:n,roomTakenRight:a}};function nG(e,t,r,n,a,o,l,c,u,h,f,d,p,g,m){for(var y=e.split(`
`),b=y.length-1;b>=0;b--){var x=y[b],T=0,w;n||(x=Bet(x,g,m));var E=c.calc(x,a,o),S=E.width,C=E.height/RC.STEP;switch(t){case"left":f+=S+7,T=-f,w=h.averagepitch,u.addExtra(new l1(x,T,S+4,w,{type:"text",height:C,dim:l,position:"left"}));break;case"right":d+=4,T=d,w=h.averagepitch,u.addRight(new l1(x,T,S+4,w,{type:"text",height:C,dim:l,position:"right"}));break;case"below":u.addRight(new l1(x,0,0,void 0,{type:"text",position:"below",height:C,dim:l,realWidth:S}));break;case"above":u.addRight(new l1(x,0,0,void 0,{type:"text",position:"above",height:C,dim:l,realWidth:S}));break;default:if(r){var k=r.y+3*RC.STEP;u.addRight(new l1(x,T+r.x,0,h.minpitch+k/RC.STEP,{position:"relative",type:"text",height:C,dim:l}))}else{var O="above";h.positioning&&h.positioning.chordPosition&&(O=h.positioning.chordPosition),O!=="hidden"&&u.addCentered(new l1(x,p/2,S,void 0,{type:"chord",position:O,height:C,dim:l,realWidth:S}))}}}return{roomTaken:f,roomTakenRight:d}}var Het=$et,dg=Rv,lue=YJe,iG=VJe,cue=JJe,uue=net,p3=aet,hue=cet,Uet=Aet,fue=Cet,X2=Ef,gi=Eu,g3=ho,Wet=_et,due=Met,pg=oue,zet=Det,Get=Xce,pue=Het,Yet=Gce,I0=Vh,uO=function(e){var t=0;return e.duration&&(t=e.duration),t},oc=!1,Ql={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},xi=function(e,t,r){this.decoration=new Uet,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=r.bagpipes,this.flatBeams=r.flatbeams,this.graceSlurs=r.graceSlurs,this.percmap=r.percmap,this.initialClef=r.initialClef,this.jazzchords=!!r.jazzchords,this.accentAbove=!!r.accentAbove,this.germanAlphabet=!!r.germanAlphabet,this.reset()};xi.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};xi.prototype.setStemHeight=function(e){this.stemHeight=Math.round(e*10/g3.STEP)/10};xi.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t};xi.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)};xi.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]};xi.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].voices.length;r++)for(var n=0;n<e[t].voices[r].length;n++){var a=e[t].voices[r][n];if(a.lyric){(!a.positioning||a.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};xi.prototype.createABCLine=function(e,t,r){this.minY=2,this.containsLyrics(e);var n=new Wet(this.getTextSize);this.tempoSet=!1;for(var a=0;a<e.length;a++)oc&&this.restoreState(),oc=!1,this.createABCStaff(n,e[a],t,a,r);return n};xi.prototype.createABCStaff=function(e,t,r,n,a){e.getTextSize.updateFonts(t);for(var o=0;o<t.voices.length;o++){var l=new Get(o,t.voices.length);o===0?(l.barfrom=t.connectBarLines==="start"||t.connectBarLines==="continue",l.barto=t.connectBarLines==="continue"||t.connectBarLines==="end"):l.duplicate=!0,t.title&&t.title[o]&&(l.header=t.title[o].replace(/\\n/g,`
`),l.headerPosition=6+e.getTextSize.baselineToCenter(l.header,"voicefont","staff-extra voice-name",o,t.voices.length)/g3.STEP),t.clef&&t.clef.type==="perc"&&(l.isPercussion=!0);var c=(!this.initialClef||a===0)&&cue(t.clef,this.tuneNumber);c&&(o===0&&t.barNumber&&this.addMeasureNumber(t.barNumber,c),l.addChild(c),this.startlimitelem=c);var u=uue(t.key,this.tuneNumber);if(u&&(l.addChild(u),this.startlimitelem=u),t.meter){t.meter.type==="specified"?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var h=hue(t.meter,this.tuneNumber);l.addChild(h),this.startlimitelem=h}l.duplicate&&(l.children=[]);var f=t.clef.stafflines||t.clef.stafflines===0?t.clef.stafflines:5;e.addVoice(l,n,f);var d=f===1;this.createABCVoice(t.voices[o],r,n,o,d,l),e.setStaffLimits(l),o===0&&(t.brace==="start"||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new iG(l,"brace"))):t.brace==="end"&&e.brace?e.brace[e.brace.length-1].setBottomStaff(l):t.brace==="continue"&&e.brace&&e.brace[e.brace.length-1].continuing(l),t.bracket==="start"||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new iG(l,"bracket"))):t.bracket==="end"&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(l):t.bracket==="continue"&&e.bracket&&e.bracket[e.bracket.length-1].continuing(l))}};function Vet(e,t){var r=e[t];if(r.el_type!=="note"||!r.startBeam||r.endBeam)return{count:1,elem:r};for(var n=[];t<e.length&&e[t].el_type==="note"&&(n.push(e[t]),!e[t].endBeam);)t++;return{count:n.length,elem:n}}xi.prototype.createABCVoice=function(e,t,r,n,a,o){this.popCrossLineElems(r,n),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new fue("",null,null),o.addOther(this.partstartelem));var l=o.voicetotal<2?-1:o.voicenumber;for(var c in this.slurs)this.slurs.hasOwnProperty(c)&&(this.slurs[c]=new pg({force:this.slurs[c].force,voiceNumber:l,stemDir:this.slurs[c].stemDir,style:this.slurs[c].dotted}),oc&&this.slurs[c].setHint(),o.addOther(this.slurs[c]));for(var u=0;u<this.ties.length;u++)this.ties[u]=new pg({force:this.ties[u].force,stemDir:this.ties[u].stemDir,voiceNumber:l,style:this.ties[u].dotted}),oc&&this.ties[u].setHint(),o.addOther(this.ties[u]);for(var h=0;h<this.abcline.length;h++)qet(this.abcline[h]),this.minY=Math.min(this.abcline[h].minpitch,this.minY);for(var f=r===0,d=0;d<this.abcline.length;){var p=Vet(this.abcline,d),g=this.createABCElement(f,a,o,p.elem);if(g)for(u=0;u<g.length;u++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var m=new dg(t,0,0,"tempo",this.tuneNumber,{});m.addFixedX(new due(t,this.tuneNumber,p3)),o.addChild(m)}o.addChild(g[u])}d+=p.count}this.pushCrossLineElems(r,n)};xi.prototype.saveState=function(){this.tiesSave=I0.cloneArray(this.ties),this.slursSave=I0.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=I0.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=I0.cloneHashOfArrayOfHash(this.tiesbyvoice)};xi.prototype.restoreState=function(){this.ties=I0.cloneArray(this.tiesSave),this.slurs=I0.cloneHashOfHash(this.slursSave),this.slursbyvoice=I0.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=I0.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};xi.prototype.createABCElement=function(e,t,r,n){var a=[];switch(n.el_type){case void 0:a=this.createBeam(t,r,n);break;case"note":a[0]=this.createNote(n,!1,t,r),this.triplet&&this.triplet.isClosed()&&(r.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":a[0]=this.createBarLine(r,n,e),r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"meter":a[0]=hue(n,this.tuneNumber),this.startlimitelem=a[0],r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"clef":if(a[0]=cue(n,this.tuneNumber),!a[0])return null;r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"key":var o=uue(n,this.tuneNumber);o&&(a[0]=o,this.startlimitelem=a[0]),r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"stem":this.stemdir=n.direction==="auto"?void 0:n.direction;break;case"part":var l=new dg(n,0,0,"part",this.tuneNumber),c=this.getTextSize.calc(n.title,"partsfont","part");l.addFixedX(new gi(n.title,0,0,void 0,{type:"part",height:c.height/g3.STEP})),a[0]=l;break;case"tempo":var u=new dg(n,0,0,"tempo",this.tuneNumber);u.addFixedX(new due(n,this.tuneNumber,p3)),a[0]=u;break;case"style":n.head==="normal"?delete this.style:this.style=n.head;break;case"hint":oc=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=n.size;break;case"color":this.voiceColor=n.color,r.color=this.voiceColor;break;default:var h=new dg(n,0,0,"unsupported",this.tuneNumber);h.addFixed(new gi("element type "+n.el_type,0,0,void 0,{type:"debug"})),a[0]=h}return a};function qet(e){if(e.pitches){jet(e);for(var t=0,r=0;r<e.pitches.length;r++)t+=e.pitches[r].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}xi.prototype.createBeam=function(e,t,r){var n=[],a=new lue(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,r[0]);oc&&a.setHint();for(var o=0;o<r.length;o++)a.runningDirection(r[o]);a.setStemDirection();var l=this.stemdir;for(this.stemdir=a.stemsUp?"up":"down",o=0;o<r.length;o++){var c=r[o],u=this.createNote(c,!0,e,t);n.push(u),a.add(u),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return a.calcDir(),t.addBeam(a),this.stemdir=l,n};var jet=function(e){var t;do{t=!0;for(var r=0;r<e.pitches.length-1;r++)if(e.pitches[r].pitch>e.pitches[r+1].pitch){t=!1;var n=e.pitches[r];e.pitches[r]=e.pitches[r+1],e.pitches[r+1]=n}}while(!t)},gue=function(e,t,r,n,a,o,l,c,u){for(var h=r;h>11;h--)h%2===0&&!n&&e.addFixed(new gi(null,c,(a+4)*u,h,{type:"ledger"}));for(h=t;h<1;h++)h%2===0&&!n&&e.addFixed(new gi(null,c,(a+4)*u,h,{type:"ledger"}));for(h=0;h<o.length;h++){var f=a;l==="down"&&(f=-f),e.addFixed(new gi(null,f+c,(a+4)*u,o[h],{type:"ledger"}))}};xi.prototype.addGraceNotes=function(e,t,r,n,a,o,l){var c=.6,u=3.5/5;a=Math.round(a*u);var h=null,f;e.gracenotes.length>1&&(h=new lue(a,"grace",o),oc&&h.setHint(),h.mainNote=r);var d,p=[];for(d=e.gracenotes.length-1;d>=0;d--)l+=10,p[d]=l,e.gracenotes[d].accidental&&(l+=7);for(d=0;d<e.gracenotes.length;d++){var g=e.gracenotes[d].verticalPos;f=h?null:Ql.uflags[o?5:3];var m=[],y=p3(r,"noteheads.quarter",e.gracenotes[d],{dir:"up",headx:-p[d],extrax:-p[d],flag:f,scale:c*this.voiceScale,accidentalSlot:m});y.notehead.highestVert=y.notehead.pitch+a;var b=y.notehead;if(this.addSlursAndTies(r,e.gracenotes[d],b,t,"up",!0),r.addExtra(b),e.gracenotes[d].acciaccatura){var x=e.gracenotes[d].verticalPos+7*c,T=h?5:6;r.addRight(new gi("flags.ugrace",-p[d]+T,0,x,{scalex:c,scaley:c}))}if(h){var w=e.gracenotes[d].duration/2;o&&(w/=2);var E={heads:[b],abcelem:{averagepitch:g,minpitch:g,maxpitch:g,duration:w}};h.add(E)}else{var S=g+.3333333333333333*c,C=g+7*c,k=b.dx+b.w,O=-.6;r.addExtra(new gi(null,k,0,S,{type:"stem",pitch2:C,linewidth:O}))}gue(r,g,g,!1,X2.getSymbolWidth("noteheads.quarter"),[],!0,b.dx-1,.6);var I=e.rest&&(e.rest.type==="spacer"||e.rest.type==="invisible");d===0&&!o&&this.graceSlurs&&!I&&t.addOther(new pg({anchor1:b,anchor2:n,isGrace:!0}))}return h&&(h.calcDir(),t.addBeam(h)),l};function Xet(e,t,r,n,a,o,l,c,u){var h,f=7,d,p,g;switch(a&&(o==="down"&&(f=3),o==="up"&&(f=11)),l&&(r<.5||r<1?f=7:f=5),t.rest.type){case"whole":h=Ql.rest[0],t.averagepitch=f,t.minpitch=f,t.maxpitch=f,n=0;break;case"rest":t.style==="rhythm"?h=Ql.rhythm[-c]:h=Ql.rest[-c],t.averagepitch=f,t.minpitch=f,t.maxpitch=f;break;case"invisible":case"invisible-multimeasure":case"spacer":h="",t.averagepitch=f,t.minpitch=f,t.maxpitch=f;break;case"multimeasure":h=Ql.rest.multi,t.averagepitch=f,t.minpitch=f,t.maxpitch=f,n=0;var m=X2.getSymbolWidth(h);e.addHead(new gi(h,m,m*2,7));var y=new gi(""+t.rest.text,m,m,16,{type:"multimeasure-text"});e.addExtra(y)}if(t.rest.type.indexOf("multimeasure")<0&&t.rest.type!=="invisible"){var b=p3(e,h,{verticalPos:f},{dot:n,scale:u});d=b.notehead,d&&(e.addHead(d),p=b.accidentalshiftx,g=b.dotshiftx)}return{noteHead:d,roomTaken:p,roomTakenRight:g}}function aG(e,t){for(var r=0;r<e.length;r++)if(JSON.stringify(e[r])===JSON.stringify(t))return;e.push(t)}xi.prototype.addNoteToAbcElement=function(e,t,r,n,a,o,l,c,u){var h=0,f,d=0,p=0,g,m,y=[],b=[],x=0,T=t.averagepitch>=6?"down":"up";n&&(T=n),a=t.style?t.style:a,(!a||a==="normal")&&(a="note");var w;o?w=Ql[a].nostem:w=Ql[a][-l],w||console.log("noteSymbol:",a,l,o);var E;for(E=T==="down"?t.pitches.length-2:1;T==="down"?E>=0:E<t.pitches.length;E=T==="down"?E-1:E+1){var S=t.pitches[T==="down"?E+1:E-1],C=t.pitches[E],k=T==="down"?S.pitch-C.pitch:C.pitch-S.pitch;k<=1&&!S.printer_shift&&(C.printer_shift=k?"different":"same",(C.verticalPos>11||C.verticalPos<1)&&y.push(C.verticalPos-C.verticalPos%2),T==="down"?d=X2.getSymbolWidth(w)+2:h=X2.getSymbolWidth(w)+2)}var O=t.pitches.length;for(E=0;E<t.pitches.length;E++){if(!c){var I;T==="down"&&E!==0||T==="up"&&E!==O-1?I=null:I=Ql[T==="down"?"dflags":"uflags"][-l]}var _;if(t.pitches[E].style)_=Ql[t.pitches[E].style][-l];else if(u.isPercussion&&this.percmap){_=w;var R=this.percmap[Yet(t.pitches[E])];R&&R.noteHead&&Ql[R.noteHead]&&(_=Ql[R.noteHead][-l])}else _=w;t.pitches[E].highestVert=t.pitches[E].verticalPos;var M=(n==="up"||T==="up")&&E===0,$=(n==="down"||T==="down")&&E===O-1;if(M||$){if((t.startSlur||O===1)&&(t.pitches[E].highestVert=t.pitches[O-1].verticalPos,uO(t)<1&&(n==="up"||T==="up")&&(t.pitches[E].highestVert+=6)),t.startSlur)for(t.pitches[E].startSlur||(t.pitches[E].startSlur=[]),m=0;m<t.startSlur.length;m++)aG(t.pitches[E].startSlur,t.startSlur[m]);if(t.endSlur)for(t.pitches[E].highestVert=t.pitches[O-1].verticalPos,uO(t)<1&&(n==="up"||T==="up")&&(t.pitches[E].highestVert+=6),t.pitches[E].endSlur||(t.pitches[E].endSlur=[]),m=0;m<t.endSlur.length;m++)aG(t.pitches[E].endSlur,t.endSlur[m])}var N=!c&&l<=-1,P=p3(e,_,t.pitches[E],{dir:T,extrax:-d,flag:I,dot:r,dotshiftx:h,scale:this.voiceScale,accidentalSlot:b,shouldExtendStem:!n,printAccidentals:!u.isPercussion});x=Math.max(X2.getSymbolWidth(_),x),e.extraw-=P.extraLeft,f=P.notehead,f&&(this.addSlursAndTies(e,t.pitches[E],f,u,N?T:null,!1),t.gracenotes&&t.gracenotes.length>0&&(f.bottom=f.bottom-1),e.addHead(f)),d+=P.accidentalshiftx,p=Math.max(p,P.dotshiftx)}if(N){var F=Math.round(70*this.voiceScale)/10,L=T==="down"?t.minpitch-F:t.minpitch+1/3;L>6&&!n&&(L=6);var D=T==="down"?t.maxpitch-1/3:t.maxpitch+F;D<6&&!n&&(D=6);var B=T==="down"||e.heads.length===0?0:e.heads[0].w,H=T==="down"?1:-1;f&&f.c==="noteheads.slash.quarter"&&(T==="down"?D-=1:L+=1),f&&f.c==="noteheads.triangle.quarter"&&(T==="down"?D-=.7:L-=1.2),e.addRight(new gi(null,B,0,L,{type:"stem",pitch2:D,linewidth:H,bottom:L-1})),g=Math.min(L,D)}return{noteHead:f,roomTaken:d,roomTakenRight:p,min:g,additionalLedgers:y,dir:T,symbolWidth:x}};xi.prototype.addLyric=function(e,t){var r="";t.lyric.forEach(function(o){var l=o.divider===" "?"":o.divider;r+=o.syllable+l+`
`});var n=this.getTextSize.calc(r,"vocalfont","lyric"),a=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new gi(r,0,n.width,void 0,{type:"lyric",position:a,height:n.height/g3.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};xi.prototype.createNote=function(e,t,r,n){var a=null,o=0,l=0,c=0,u=[],h,f=uO(e),d=!1;f===0&&(d=!0,f=.25,t=!0);for(var p=Math.floor(Math.log(f)/Math.log(2)),g=0,m=Math.pow(2,p),y=m/2;m<f;g++,m+=y,y/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var b=f*this.tripletmultiplier;e.rest&&e.rest.type==="multimeasure"&&(b=1),e.rest&&e.rest.type==="invisible-multimeasure"&&(b=this.measureLength*e.rest.text);var x=e.rest?"rest":"note",T=new dg(e,b,1,x,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(oc&&T.setHint(),e.rest){this.measureLength===f&&e.rest.type!=="invisible"&&e.rest.type!=="spacer"&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var w=Xet(T,e,f,g,n.voicetotal>1,this.stemdir,r,p,this.voiceScale);a=w.noteHead,o=w.roomTaken,l=w.roomTakenRight}else{var E=this.addNoteToAbcElement(T,e,g,this.stemdir,this.style,d,p,t,n);E.min!==void 0&&(this.minY=Math.min(E.min,this.minY)),a=E.noteHead,o=E.roomTaken,l=E.roomTakenRight,u=E.additionalLedgers,h=E.dir,c=E.symbolWidth}if(e.lyric!==void 0&&this.addLyric(T,e),e.gracenotes!==void 0&&(o+=this.addGraceNotes(e,n,T,a,this.stemHeight*this.voiceScale,this.isBagpipes,o)),e.decoration){var S=t&&h!=="up"?Math.min(-3,T.bottom-6):T.bottom;this.decoration.createDecoration(n,e.decoration,T.top,a?a.w:0,T,o,h,S,e.positioning,this.hasVocals,this.accentAbove)}if(e.barNumber&&T.addFixed(new gi(e.barNumber,-10,0,0,{type:"barNumber"})),gue(T,e.minpitch,e.maxpitch,e.rest,c,u,h,-2,1),e.chord!==void 0){var C=pue(this.getTextSize,T,e,o,l,c,this.jazzchords,this.germanAlphabet);o=C.roomTaken,l=C.roomTakenRight}return e.startTriplet&&(this.triplet=new zet(e.startTriplet,a,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(a),this.triplet&&!e.startTriplet&&!e.endTriplet&&!(e.rest&&e.rest.type==="spacer")&&this.triplet.middleNote(a),T};xi.prototype.addSlursAndTies=function(e,t,r,n,a,o){if(t.endTie&&this.ties.length>0){for(var l=!1,c=0;c<this.ties.length;c++)if(this.ties[c].anchor1&&this.ties[c].anchor1.pitch===r.pitch){this.ties[c].setEndAnchor(r),n.setRange(this.ties[c]),this.ties.splice(c,1),l=!0;break}l||(this.ties[0].setEndAnchor(r),n.setRange(this.ties[0]),this.ties.splice(0,1))}var u=n.voicetotal<2?-1:n.voicenumber;if(t.startTie){var h=new pg({anchor1:r,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:o,voiceNumber:u,style:t.startTie.style});oc&&h.setHint(),this.ties[this.ties.length]=h,n.addOther(h),e.startTie=!0}var f,d;if(t.endSlur)for(var p=0;p<t.endSlur.length;p++)d=t.endSlur[p],this.slurs[d]?(f=this.slurs[d],f.setEndAnchor(r),n.setRange(f),delete this.slurs[d]):(f=new pg({anchor2:r,stemDir:this.stemdir,voiceNumber:u}),oc&&f.setHint(),n.addOther(f)),this.startlimitelem&&f.setStartX(this.startlimitelem);else if(!o)for(var g in this.slurs)this.slurs.hasOwnProperty(g)&&this.slurs[g].addInternalNote(r);if(t.startSlur)for(p=0;p<t.startSlur.length;p++)d=t.startSlur[p].label,f=new pg({anchor1:r,stemDir:this.stemdir,voiceNumber:u,style:t.startSlur[p].style}),oc&&f.setHint(),this.slurs[d]=f,n.addOther(f)};xi.prototype.addMeasureNumber=function(e,t){var r=this.getTextSize.calc(e,"measurefont","bar-number"),n=0;t.isClef&&(n+=r.width/2);var a=r.width>10&&t.abcelem.type==="treble"?13.5:11;t.addFixed(new gi(e,n,r.width,a+r.height/g3.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};xi.prototype.createBarLine=function(e,t,r){var n=new dg(t,0,10,"bar",this.tuneNumber),a=null,o=0;t.barNumber&&this.addMeasureNumber(t.barNumber,n);var l=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",c=t.type!=="bar_left_repeat"&&t.type!=="bar_thick_thin"&&t.type!=="bar_invisible",u=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat"||t.type==="bar_left_repeat"||t.type==="bar_thin_thick"||t.type==="bar_thick_thin",h=t.type==="bar_left_repeat"||t.type==="bar_thick_thin"||t.type==="bar_thin_thin"||t.type==="bar_dbl_repeat",f=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat";if(l||f){for(var d in this.slurs)this.slurs.hasOwnProperty(d)&&this.slurs[d].setEndX(n);this.startlimitelem=n}if(l&&(n.addRight(new gi("dots.dot",o,1,7)),n.addRight(new gi("dots.dot",o,1,5)),o+=6),c&&(a=new gi(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),n.addRight(a)),t.type==="bar_invisible"&&(a=new gi(null,o,1,2,{type:"none",pitch2:10,linewidth:.6}),n.addRight(a)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,u?3:1,n,0,"down",2,t.positioning,this.hasVocals,this.accentAbove),u&&(o+=4,a=new gi(null,o,4,2,{type:"bar",pitch2:10,linewidth:4}),n.addRight(a),o+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=a,this.partstartelem=null),h&&(o+=3,a=new gi(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),n.addRight(a)),f&&(o+=3,n.addRight(new gi("dots.dot",o,1,7)),n.addRight(new gi("dots.dot",o,1,5))),t.startEnding&&r){var p=this.getTextSize.calc(t.startEnding,"repeatfont","").width;n.minspacing+=p+10,this.partstartelem=new fue(t.startEnding,a,null),e.addOther(this.partstartelem)}return n.extraw-=5,t.chord!==void 0&&pue(this.getTextSize,n,t,0,0,0,!1,this.germanAlphabet),n};var Ket=xi,no="http://www.w3.org/2000/svg";function wn(e){this.svg=yM(),this.currentGroup=[],e.appendChild(this.svg)}wn.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=yM(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}};wn.prototype.setTitle=function(e){var t=document.createElement("title"),r=document.createTextNode(e);t.appendChild(r),this.svg.insertBefore(t,this.svg.firstChild)};wn.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var r=this.svg.parentNode.getAttribute("class");r?r.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",r+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var n=t/e*100;this.svg.parentNode.style["padding-bottom"]=n+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};wn.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)};wn.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)};wn.prototype.setScale=function(e){e!==1?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};wn.prototype.insertStyles=function(e){var t=document.createElementNS(no,"style");t.textContent=e,this.svg.insertBefore(t,this.svg.firstChild)};wn.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);if(this.dummySvg){var r=document.querySelector("body");r.removeChild(this.dummySvg),this.dummySvg=null}};function sG(e,t,r){var n=r-e;return"M "+e+" "+t+" l "+n+" 0 l 0 1  l "+-n+" 0  z "}function oG(e,t,r){var n=r-t;return"M "+e+" "+t+" l 0 "+n+" l 1 0  l 0 "+-n+"  z "}wn.prototype.rect=function(e){var t=[],r=e.x,n=e.y,a=e.x+e.width,o=e.y+e.height;return t.push(sG(r,n,a)),t.push(sG(r,o,a)),t.push(oG(a,n,o)),t.push(oG(r,o,n)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})};wn.prototype.dottedLine=function(e){var t=document.createElementNS(no,"line");t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(t,this.svg.firstChild)};wn.prototype.rectBeneath=function(e){var t=document.createElementNS(no,"rect");t.setAttribute("x",e.x),t.setAttribute("width",e.width),t.setAttribute("y",e.y),t.setAttribute("height",e.height),e.stroke&&t.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&t.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&t.setAttribute("fill",e.fill),e["fill-opacity"]&&t.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(t,this.svg.firstChild)};wn.prototype.text=function(e,t,r){var n=document.createElementNS(no,"text");n.setAttribute("stroke","none");for(var a in t)t.hasOwnProperty(a)&&n.setAttribute(a,t[a]);for(var o=(""+e).split(`
`),l=0;l<o.length;l++){var c=document.createElementNS(no,"tspan");if(c.setAttribute("x",t.x?t.x:0),l!==0&&c.setAttribute("dy","1.2em"),o[l].indexOf("")!==-1){var u=o[l].split("");if(c.textContent=u[0],u[1]){var h=document.createElementNS(no,"tspan");h.setAttribute("dy","-0.3em"),h.setAttribute("style","font-size:0.7em"),h.textContent=u[1],c.appendChild(h)}if(u[2]){var f=u[1]?"0.4em":"0.1em",d=document.createElementNS(no,"tspan");d.setAttribute("dy",f),d.setAttribute("style","font-size:0.7em"),d.textContent=u[2],c.appendChild(d)}}else c.textContent=o[l];n.appendChild(c)}return r?r.appendChild(n):this.append(n),n};wn.prototype.richTextLine=function(e,t,r,n,a,o){var l=document.createElementNS(no,"text");l.setAttribute("stroke","none"),l.setAttribute("class",n),l.setAttribute("x",t),l.setAttribute("y",r),l.setAttribute("text-anchor",a),l.setAttribute("dominant-baseline","middle");for(var c=0;c<e.length;c++){for(var u=e[c],h=document.createElementNS(no,"tspan"),f=Object.keys(u.attrs),d=0;d<f.length;d++){var p=u.attrs[f[d]];p!==""&&h.setAttribute(f[d],p)}h.textContent=u.content,l.appendChild(h)}return o?o.appendChild(l):this.append(l),l};wn.prototype.guessWidth=function(e,t){var r=this.createDummySvg(),n=this.text(e,t,r),a;try{a=n.getBBox(),isNaN(a.height)||!a.height?a={width:t["font-size"]/2,height:t["font-size"]+2}:a={width:a.width,height:a.height}}catch{a={width:t["font-size"]/2,height:t["font-size"]+2}}return r.removeChild(n),a};wn.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=yM();var e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",e.join(""));var t=document.querySelector("body");t.appendChild(this.dummySvg)}return this.dummySvg};var OC={};wn.prototype.getTextSize=function(e,t,r){if(typeof e=="number"&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var n;if(e.length<20&&(n=e+JSON.stringify(t),OC[n]))return OC[n];var a=!r;r||(r=this.text(e,t));var o;try{o=r.getBBox(),isNaN(o.height)||!o.height?o=this.guessWidth(e,t):o={width:o.width,height:o.height}}catch{o=this.guessWidth(e,t)}return a&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(r):this.svg.removeChild(r)),n&&(OC[n]=o),o};wn.prototype.openGroup=function(e){e=e||{};var t=document.createElementNS(no,"g");return e.klass&&t.setAttribute("class",e.klass),e.fill&&t.setAttribute("fill",e.fill),e.stroke&&t.setAttribute("stroke",e.stroke),e["data-name"]&&t.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(t):this.append(t),this.currentGroup.unshift(t),t};wn.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&e.children.length===0?(e.parentElement.removeChild(e),null):e};wn.prototype.path=function(e){var t=document.createElementNS(no,"path");for(var r in e)e.hasOwnProperty(r)&&(r==="path"?t.setAttributeNS(null,"d",e.path):r==="klass"?t.setAttributeNS(null,"class",e[r]):e[r]!==void 0&&t.setAttributeNS(null,r,e[r]));return this.append(t),t};wn.prototype.pathToBack=function(e){var t=document.createElementNS(no,"path");for(var r in e)e.hasOwnProperty(r)&&(r==="path"?t.setAttributeNS(null,"d",e.path):r==="klass"?t.setAttributeNS(null,"class",e[r]):t.setAttributeNS(null,r,e[r]));return this.prepend(t),t};wn.prototype.lineToBack=function(e){for(var t=document.createElementNS(no,"line"),r=Object.keys(e),n=0;n<r.length;n++)t.setAttribute(r[n],e[r[n]]);return this.prepend(t),t};wn.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)};wn.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)};wn.prototype.setAttributeOnElement=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttributeNS(null,r,t[r])};wn.prototype.moveElementToChild=function(e,t){e.appendChild(t)};function yM(){var e=document.createElementNS(no,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}var Zet=wn,mue=ho,Qet=Zet,Ml=function(e){this.paper=new Qet(e),this.controller=null,this.space=3*mue.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};Ml.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};Ml.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint=e.media==="print",this.setPadding(e)};Ml.prototype.setLineThickness=function(e){this.lineThickness=e};Ml.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}};Ml.prototype.setPadding=function(e){function t(r,n,a,o,l){e.formatting[a]!==void 0?r.padding[n]=e.formatting[a]:r.paddingOverride[n]!==void 0?r.padding[n]=r.paddingOverride[n]:r.isPrint?r.padding[n]=o:r.padding[n]=l}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)};Ml.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e};Ml.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};Ml.prototype.setVerticalSpace=function(e){e.staffsep!==void 0&&(this.spacing.staffSeparation=e.staffsep*4/3),e.composerspace!==void 0&&(this.spacing.composer=e.composerspace*4/3),e.partsspace!==void 0&&(this.spacing.parts=e.partsspace*4/3),e.textspace!==void 0&&(this.spacing.text=e.textspace*4/3),e.musicspace!==void 0&&(this.spacing.music=e.musicspace*4/3),e.titlespace!==void 0&&(this.spacing.title=e.titlespace*4/3),e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=e.sysstaffsep*4/3),e.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=e.stafftopmargin*4/3),e.subtitlespace!==void 0&&(this.spacing.subtitle=e.subtitlespace*4/3),e.topspace!==void 0&&(this.spacing.top=e.topspace*4/3),e.vocalspace!==void 0&&(this.spacing.vocal=e.vocalspace*4/3),e.wordsspace!==void 0&&(this.spacing.words=e.wordsspace*4/3)};Ml.prototype.calcY=function(e){return this.y-e*mue.STEP};Ml.prototype.moveY=function(e,t){t===void 0&&(t=1),this.y+=e*t};Ml.prototype.absolutemoveY=function(e){this.y=e};var Jet=Ml;function ett(e,t,r,n,a,o){var l=e.text;this.rows=[];var c;t&&this.rows.push({move:t});var u=r.calc("textfont","defined-text");if(l==="")this.rows.push({move:u.attr["font-size"]*2});else if(typeof l=="string")this.rows.push({move:u.attr["font-size"]/2}),this.rows.push({left:n,text:l,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),c=o.calc(l,"textfont","defined-text"),this.rows.push({move:c.height});else if(l){for(var h=0,f=n,d="textfont",p=0;p<l.length;p++)l[p].font?d=l[p].font:d="textfont",this.rows.push({left:f,text:l[p].text,font:d,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),c=o.calc(l[p].text,r.calc(d,"defined-text").font,"defined-text"),f+=c.width+c.height/2,h=Math.max(h,c.height);this.rows.push({move:h})}else if(e.length===1){var g=a/2;this.rows.push({left:g,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),c=o.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:c.height})}}var ttt=ett;function rtt(e,t,r){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),r&&this.rows.push({move:r})}var ntt=rtt;function itt(e,t,r,n,a,o){this.rows=[],e&&this.rows.push({move:e});var l=t.titleleft?"start":"middle",c=t.titleleft?a:n;this.rows.push({left:c,text:r.text,font:"subtitlefont",klass:"text subtitle",anchor:l,startChar:r.startChar,endChar:r.endChar,absElemType:"subtitle",name:"subtitle"});var u=o.calc(r.text,"subtitlefont","text subtitle");this.rows.push({move:u.height})}var att=itt;function stt(e,t,r){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var n={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar,"dominant-baseline":t["dominant-baseline"]};t.absElemType&&(n.absElemType=t.absElemType),!t.inGroup&&t.klass&&(n.klass=t.klass),t.name&&(n.name=t.name),e.push(n);var a=r.calc("A",t.font,t.klass),o=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&o--,!t.noMove){var l=a.height*1.1*o;e.push({move:Math.round(l)}),t.marginBottom&&e.push({move:t.marginBottom})}}}var bM=stt;const ott=bM;function ltt(e,t,r,n,a,o,l,c){var u=c.calc("i",r,n);if(t==="")e.push({move:u.height});else{if(typeof t=="string"){ott(e,{marginLeft:o,text:t,font:r,klass:n,marginTop:l.marginTop,anchor:l.anchor,absElemType:l.absElemType,info:l.info,name:a},c);return}l.marginTop&&e.push({move:l.marginTop});var h=0,f={left:o,anchor:l.anchor,phrases:[]};n&&(f.klass=n),e.push(f);for(var d=0;d<t.length;d++){var p=t[d],g=p.font?p.font:c.attr(r,n).font,m={content:p.text};g&&(m.attrs={"font-family":c.getFamily(g.face),"font-size":g.size,"font-weight":g.weight,"font-style":g.style,"font-decoration":g.decoration}),f.phrases.push(m);var y=c.calc(p.text,g,n);h=Math.max(h,y.height),p.text[p.text.length-1]===" "&&u.width}e.push({move:h})}}var vue=ltt;const t4=bM,By=vue;function ctt(e,t,r,n,a,o,l,c,u,h){if(this.rows=[],e.header&&o){var f=h.calc("X","headerfont","abcjs-header abcjs-meta-top").height;t4(this.rows,{marginLeft:l,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-f,info:t.header,name:"header"},h),t4(this.rows,{marginLeft:l+a/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-f,anchor:"middle",info:t.header,name:"header"},h),t4(this.rows,{marginLeft:l+a,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-f,anchor:"end",info:t.header,name:"header"},h)}o&&this.rows.push({move:c.top});var d=r.titleleft?"start":"middle",p=r.titleleft?l:l+a/2;if(e.title){var g=u?"abcjs-title":"";By(this.rows,e.title,"titlefont",g,"title",p,{marginTop:c.title,anchor:d,absElemType:"title",info:t.title},h)}if(n.length)for(var m=0;m<n.length&&n[m].subtitle;){var g=u?"abcjs-text abcjs-subtitle":"";By(this.rows,n[m].subtitle.text,"subtitlefont",g,"subtitle",p,{marginTop:c.subtitle,anchor:d,absElemType:"subtitle",info:n[m].subtitle},h),m++}if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:c.composer}),e.rhythm&&e.rhythm.length>0){var y=!!(e.composer||e.origin),g=u?"abcjs-rhythm":"";t4(this.rows,{marginLeft:l,text:e.rhythm,font:"infofont",klass:g,absElemType:"rhythm",noMove:y,info:t.rhythm,name:"rhythm"},h)}e.composer&&e.composer,e.origin&&e.origin;var b=e.composer?e.composer:"";if(e.origin&&(typeof b=="string"&&typeof e.origin=="string"?b+=" ("+e.origin+")":typeof b=="string"&&typeof e.origin!="string"?(b=[{text:b}],b.push({text:" ("}),b=b.concat(e.origin),b.push({text:")"})):(b.push({text:" ("}),b=b.concat(e.origin),b.push({text:")"}))),b){var g=u?"abcjs-composer":"";By(this.rows,b,"composerfont",g,"composer",l+a,{anchor:"end",absElemType:"composer",info:t.composer},h)}}if(e.author&&e.author.length>0){var g=u?"abcjs-author":"";By(this.rows,e.author,"composerfont",g,"author",l+a,{anchor:"end",absElemType:"author",info:t.author},h)}if(e.partOrder&&e.partOrder.length>0){var g=u?"abcjs-part-order":"";By(this.rows,e.partOrder,"partsfont",g,"part-order",l,{absElemType:"partOrder",info:t.partOrder,anchor:"start"},h)}}var utt=ctt;const K2=bM,yue=vue;function uA(e,t,r,n,a,o,l){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,n,a,o,l),this.extraText(e,n,a,o,l),e.footer&&r&&this.footer(e.footer,t,n,l)}uA.prototype.unalignedWords=function(e,t,r,n,a){var o=n?"abcjs-unaligned-words":"",l="wordsfont",c=a.calc("i",l,o);this.rows.push({move:r.words}),hO(this.rows,"",e,t,l,"unalignedWords","unalignedWords",o,"unalignedWords",r,n,a),this.rows.push({move:c.height})};function Vf(e,t,r,n,a,o,l){r&&(t&&(typeof r=="string"?r=t+r:r=[{text:t}].concat(r)),a=o?"abcjs-extra-text "+a:"",yue(e,r,"historyfont",a,"description",n,{absElemType:"extraText",anchor:"start"},l))}function hO(e,t,r,n,a,o,l,c,u,h,f,d){if(r){c=f?"abcjs-extra-text "+c:"";var p=d.calc("A",a,c);if(typeof r=="string")t&&(r=t+`
`+r),K2(e,{marginLeft:n,text:r,font:a,absElemType:"extraText",name:u,"dominant-baseline":"middle",klass:c},d);else{e.push({startGroup:l,klass:c,name:u}),e.push({move:h.info}),t&&(K2(e,{marginLeft:n,text:t,font:a,absElemType:"extraText",name:u,"dominant-baseline":"middle"},d),e.push({move:p.height*3/4}));for(var g=0;g<r.length;g++)yue(e,r[g],a,"",u,n,{anchor:"start"},d),g<r.length-1&&typeof r[g]=="string"&&typeof r[g+1]!="string"&&e.push({move:p.height*3/4});e.push({endGroup:l,absElemType:o,startChar:-1,endChar:-1,name:u}),e.push({move:p.height})}}}uA.prototype.extraText=function(e,t,r,n,a){Vf(this.rows,"Book: ",e.book,t,"abcjs-book",n,a),Vf(this.rows,"Source: ",e.source,t,"abcjs-source",n,a),Vf(this.rows,"Discography: ",e.discography,t,"abcjs-discography",n,a),hO(this.rows,"Notes:",e.notes,t,"historyfont","extraText","notes","abcjs-notes","description",r,n,a),Vf(this.rows,"Transcription: ",e.transcription,t,"abcjs-transcription",n,a),hO(this.rows,"History:",e.history,t,"historyfont","extraText","history","abcjs-history","description",r,n,a),Vf(this.rows,"Copyright: ",e["abc-copyright"],t,"abcjs-copyright",n,a),Vf(this.rows,"Creator: ",e["abc-creator"],t,"abcjs-creator",n,a),Vf(this.rows,"Edited By: ",e["abc-edited-by"],t,"abcjs-edited-by",n,a)};uA.prototype.footer=function(e,t,r,n){var a="header meta-bottom",o="footerfont";this.rows.push({startGroup:"footer",klass:a}),K2(this.rows,{marginLeft:r,text:e.left,font:o,klass:a,name:"footer"},n),K2(this.rows,{marginLeft:r+t/2,text:e.center,font:o,klass:a,anchor:"middle",name:"footer"},n),K2(this.rows,{marginLeft:r+t,text:e.right,font:o,klass:a,anchor:"end",name:"footer"},n)};var htt=uA;function _C(e,t,r,n){if(e.indexOf(t)===0){var a=e.replace(t,""),o=parseInt(a,10);""+o===a&&(r[n]=o)}}function ftt(e,t){var r=[];if(e.absEl.elemset){for(var n={},a=0;a<e.absEl.elemset.length;a++){var o=e.absEl.elemset[a];if(o)for(var l=o.getAttribute("class").split(" "),c=0;c<l.length;c++)n[l[c]]=!0}for(var u=0;u<Object.keys(n).length;u++)r.push(Object.keys(n)[u])}for(var h={},f=0;f<r.length;f++)_C(r[f],"abcjs-v",h,"voice"),_C(r[f],"abcjs-l",h,"line"),_C(r[f],"abcjs-m",h,"measure");e.staffPos&&(h.staffPos=e.staffPos);for(var d=t.target;d&&d.dataset&&!d.dataset.name&&d.tagName.toLowerCase()!=="svg";)d=d.parentNode;for(var p=t.target;p&&p.dataset&&!p.dataset.index&&p.tagName.toLowerCase()!=="svg";)p=p.parentNode;return p&&p.dataset&&(h.name=p.dataset.name,h.clickedName=d.dataset.name,h.parentClasses=p.classList),d&&d.classList&&(h.clickedClasses=d.classList),h.selectableElement=e.svgEl,{classes:r,analysis:h}}var bue=ftt,bE=ho,dtt=bue;function ptt(e,t){if(e.rangeHighlight=Stt,e.dragging)for(var r=0;r<e.selectables.length;r++){var n=e.selectables[r];n.svgEl.getAttribute("selectable")==="true"&&(n.svgEl.setAttribute("tabindex",0),n.svgEl.setAttribute("data-index",r),n.svgEl.addEventListener("keydown",vtt.bind(e)),n.svgEl.addEventListener("keyup",ytt.bind(e)),n.svgEl.addEventListener("focus",mtt.bind(e)))}for(var a=0;a<t.length;a++)t[a].addEventListener("touchstart",lG.bind(e),{passive:!0}),t[a].addEventListener("touchmove",cG.bind(e),{passive:!0}),t[a].addEventListener("touchend",Xb.bind(e),{passive:!0}),t[a].addEventListener("mousedown",lG.bind(e)),t[a].addEventListener("mousemove",cG.bind(e)),t[a].addEventListener("mouseup",Xb.bind(e))}function gtt(e){var t=1,r=1,n=e.target.closest("svg"),a=0;n&&n.viewBox&&n.viewBox.baseVal&&(n.viewBox.baseVal.width!==0&&(t=n.viewBox.baseVal.width/n.clientWidth),n.viewBox.baseVal.height!==0&&(r=n.viewBox.baseVal.height/n.clientHeight),a=n.viewBox.baseVal.y);var o=e.target&&e.target.tagName==="svg",l,c;return o?(l=e.offsetX,c=e.offsetY):(l=e.layerX,c=e.layerY),l=l*t,c=c*r,[l,c+a]}function mtt(e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&Tue.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function vtt(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function ytt(e){var t=!1,r=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[r],this.dragIndex=r,this.dragMechanism="keyboard",Xb.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[r],this.dragIndex=r,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*bE.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[r],this.dragIndex=r,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*bE.STEP+")"));break;case 9:this.dragYStep!==0&&Xb.bind(this)(e);break}t&&e.preventDefault()}function btt(e,t){if(!t)return-1;for(var r=0;r<e.length;r++)if(t.dataset.index===e[r].svgEl.dataset.index)return r;return-1}function xtt(e,t,r){for(var n=9999999,a=-1,o=0;o<e.selectables.length&&n>0;o++){var l=e.selectables[o];if(e.getDim(l),l.dim.left<t&&l.dim.right>t&&l.dim.top<r&&l.dim.bottom>r)a=o,n=0;else if(l.dim.top<r&&l.dim.bottom>r){var c=Math.min(Math.abs(l.dim.left-t),Math.abs(l.dim.right-t));c<n&&(n=c,a=o)}else if(l.dim.left<t&&l.dim.right>t){var u=Math.min(Math.abs(l.dim.top-r),Math.abs(l.dim.bottom-r));u<n&&(n=u,a=o)}else{var h=Math.abs(t-l.dim.left)>Math.abs(t-l.dim.right)?Math.abs(t-l.dim.right):Math.abs(t-l.dim.left),f=Math.abs(r-l.dim.top)>Math.abs(r-l.dim.bottom)?Math.abs(r-l.dim.bottom):Math.abs(r-l.dim.top),d=Math.sqrt(h*h+f*f);d<n&&(n=d,a=o)}}return a>=0&&n<=12?a:-1}function Ttt(e,t,r){if(e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY)return[t.offsetX,t.offsetY];var n=Math.abs(t.layerY/r-t.offsetY);return n<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}function wtt(e){if(!e)return null;if(e.tagName==="svg")return e;if(!e.getAttribute)return null;for(var t=e.getAttribute("selectable");!t;)e.parentElement?(e=e.parentElement,e.tagName==="svg"?t=!0:t=e.getAttribute("selectable")):t=!0;return e}function xue(e,t){var r,n,a,o=btt(e.selectables,wtt(t.target));return o>=0?(a=Ttt(e.selectables[o].svgEl.getBBox(),t,e.scale),r=a[0],n=a[1]):(a=gtt(t),r=a[0],n=a[1],o=xtt(e,r,n)),{x:r,y:n,clickedOn:o}}function xM(e){if(!(!e||!e.target||!e.touches||e.touches.length<1)){var t=e.target.getBoundingClientRect(),r=e.touches[0].pageX-t.left,n=e.touches[0].pageY-t.top;e.touches[0].offsetX=r,e.touches[0].offsetY=n,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function lG(e){var t=e;e.type==="touchstart"&&(xM(e),e.touches.length>0&&(t=e.touches[0]));var r=xue(this,t);r.clickedOn>=0&&(e.type==="touchstart"||e.button===0)&&this.selectables[r.clickedOn]&&(this.dragTarget=this.selectables[r.clickedOn],this.dragIndex=r.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:r.x,y:r.y},this.dragging&&this.dragTarget.isDraggable&&(Att(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function cG(e){var t=e;if(e.type==="touchmove"&&(xM(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var r=xue(this,t),n=Math.round((r.y-this.dragMouseStart.y)/bE.STEP);n!==this.dragYStep&&(this.dragYStep=n,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+n*bE.STEP+")"))}}function Xb(e){var t=e;e.type==="touchend"&&this.lastTouchMove&&(xM(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(wue.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),Tue.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),ktt(this.renderer.svg,"abcjs-dragging-in-progress"))}function Ett(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",Xb.bind(this)({target:this.dragTarget.svgEl}))}function Tue(e,t,r,n,a){for(var o=dtt(e,a),l=o.classes,c=o.analysis,u=0;u<this.listeners.length;u++)this.listeners[u](e.absEl.abcelem,e.absEl.tuneNumber,l.join(" "),c,{step:t,max:r,index:n,setSelection:Ett.bind(this)},a)}function wue(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function Stt(e,t){wue.bind(this)();for(var r=0;r<this.staffgroups.length;r++)for(var n=this.staffgroups[r].voices,a=0;a<n.length;a++)for(var o=n[a].children,l=0;l<o.length;l++){var c=o[l].abcelem.startChar,u=o[l].abcelem.endChar;(t>c&&e<u||t===e&&t===u)&&(this.selected[this.selected.length]=o[l],o[l].highlight(void 0,this.selectionColor))}}function Eue(e){var t=e.getAttribute("class");t||(t="");for(var r=t.split(" "),n={},a=0;a<r.length;a++)n[r[a]]=!0;return n}function Sue(e,t){var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(n);e.setAttribute("class",r.join(" "))}function Att(e,t){if(e){var r=Eue(e.svg);r[t]=!0,Sue(e.svg,r)}}function ktt(e,t){if(e){var r=Eue(e.svg);delete r[t],Sue(e.svg,r)}}var Ctt=ptt;function Itt(e,t,r,n,a){return t+(n-t)/(r-e)*(a-e)}var TM=Itt,Rtt=Eu,fO=ho,dO=TM,Ott=function(e){if(!(e.elems.length===0||e.allrests)){var t=Ntt(e.stemsUp,e.isgrace),r=e.elems[0],n=e.elems[e.elems.length-1],a=0,o=e.stemsUp?r.abcelem.maxpitch:r.abcelem.minpitch;a=hG(r,e.stemsUp,o,a),a=hG(n,e.stemsUp,o,a),a=Math.max(e.stemHeight,a+3);var l=Ltt(e.average,e.elems.length,a,e.stemsUp,r.abcelem.averagepitch,n.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),c=Aue(e.stemsUp,r,n);e.addBeam({startX:c[0],endX:c[1],startY:l[0],endY:l[1],dy:t});for(var u=Dtt(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),h=0;h<u.length;h++)e.addBeam(u[h]);Mtt(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}},uG=function(e){return e===void 0?0:Math.floor(Math.log(e)/Math.log(2))};function hG(e,t,r,n){if(!e.children)return n;for(var a=0;a<e.children.length;a++){var o=e.children[a];t&&o.top!==void 0&&o.c==="flags.ugrace"?n=Math.max(n,o.top-r):!t&&o.bottom!==void 0&&o.c==="flags.ugrace"&&(n=Math.max(n,r-o.bottom+7))}return n}function _tt(e,t,r,n){if(n)return 0;var a=e-t,o=r/2;return a>o&&(a=o),a<-o&&(a=-o),a}function Ntt(e,t){var r=e?fO.STEP:-fO.STEP;return t&&(r=r*.4),r}function Aue(e,t,r){var n=t.heads[e?0:t.heads.length-1],a=r.heads[e?0:r.heads.length-1],o=n.x;e&&(o+=n.w-.6);var l=a.x;return l+=e?a.w:.6,[o,l]}function Ltt(e,t,r,n,a,o,l,c,u,h){var f=r-2,d=r-2,p=Math.round(n?Math.max(e+f,u+d):Math.min(e-f,c-d)),g=_tt(a,o,t,l),m=p+Math.floor(g/2),y=p+Math.floor(-g/2);return h||(n&&p<6||!n&&p>6)&&(m=6,y=6),[m,y]}function Mtt(e,t,r,n,a){for(var o=0;o<e.length;o++){var l=e[o];if(!l.abcelem.rest){var c=!l.addExtra,u=c?a:l,h=l.heads[t?0:l.heads.length-1],f=1/5,d=h.pitch+(t?f:-f),p=t?h.w:0;c||(p+=h.dx);var g=h.x+p,m=dO(r.startX,r.startY,r.endX,r.endY,g),y=t?-.6:.6;t||(m-=n/2/fO.STEP),c&&(p+=l.heads[0].dx),h.c==="noteheads.slash.quarter"&&(t?d+=1:d-=1);var b=new Rtt(null,p,0,d,{type:"stem",pitch2:m,linewidth:y});b.setX(u.x),u.addRight(b)}}}function Dtt(e,t,r,n,a){for(var o=[],l=[],c=0;c<e.length;c++){var u=e[c];if(!u.abcelem.rest){var h=u.heads[t?0:u.heads.length-1],f=h.x+(t?h.w:0),d=dO(r.startX,r.startY,r.endX,r.endY,f),p=t?-1.5:1.5;n&&(p=p*2/3);var g=u.abcelem.duration;g===0&&(g=.25);for(var m=uG(g);m<-3;m++){var y=-4-m;if(l[y]?l[y].single=!1:l[y]={x:f+(t?-.6:0),y:d+p*(y+1),durlog:m,single:!0},c>0&&u.abcelem.beambr&&u.abcelem.beambr<=y+1){l[y].split||(l[y].split=[l[y].x]);var b=Aue(t,e[c-1],u);l[y].split[l[y].split.length-1]>=b[0]&&(b[0]+=u.w),l[y].split.push(b[0]),l[y].split.push(b[1])}}for(var x=l.length-1;x>=0;x--)if(c===e.length-1||uG(e[c+1].abcelem.duration)>-x-4){var T=f,w=d+p*(x+1);l[x].single&&(T=c===0?f+5:f-5,w=dO(r.startX,r.startY,r.endX,r.endY,T)+p*(x+1));var E={startX:l[x].x,endX:T,startY:l[x].y,endY:w,dy:a};if(l[x].split!==void 0){var S=l[x].split;E.endX<=S[S.length-1]&&(S[S.length-1]-=u.w),S.push(E.endX),E.split=l[x].split}o.push(E),l=l.slice(0,x)}}}return o}var Ptt=Ott,Ftt=TM;function Btt(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(e.hasBeam&&(t.elems[0]!==e.anchor1.parent||t.elems[t.elems.length-1]!==e.anchor2.parent)&&(e.hasBeam=!1),e.hasBeam){var r=NC(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=$tt(r,e.anchor2.x,t),e.yTextPos+=NC(t)?3:-2,e.xTextPos=Htt(r,e.anchor2.x),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,NC(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,e.anchor1.parent.type==="rest"&&e.anchor2.parent.type!=="rest"?e.startNote=e.endNote:e.anchor2.parent.type==="rest"&&e.anchor1.parent.type!=="rest"&&(e.endNote=e.startNote);for(var n=0,a=0;a<e.middleElems.length;a++)n=Math.max(n,e.middleElems[a].top);n+=4,(n>e.startNote||n>e.endNote)&&(e.startNote=n,e.endNote=n),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}delete e.middleElems,delete e.flatBeams}function NC(e){return e.stemsUp}function $tt(e,t,r){if(r.beams.length===0)return 0;r=r.beams[0];var n=e+(t-e)/2;return Ftt(r.startX,r.startY,r.endX,r.endY,n)}function Htt(e,t){return e+(t-e)/2}var Utt=Btt,Wtt=Ptt,ztt=TM,Gtt=Utt,Ytt=function(e){for(var t=0;t<e.beams.length;t++)if(e.beams[t].type==="BeamElem"){Wtt(e.beams[t]),Vtt(e.beams[t]);for(var r=0;r<e.beams[t].elems.length;r++)e.adjustRange(e.beams[t].elems[r])}for(e.staff.specialY.chordLines=qtt(e.children),t=0;t<e.otherchildren.length;t++){var n=e.otherchildren[t];n.type==="TripletElem"&&(Gtt(n),e.adjustRange(n))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)};function Vtt(e){for(var t=1.5,r=0;r<e.elems.length;r++){var n=e.elems[r];if(n.top)for(var a=Ktt(n,e),o=0;o<n.children.length;o++){var l=n.children[o];if(l.klass==="ornament"&&l.position!=="below"&&l.bottom-t<a){var c=a-l.bottom+t;l.bottom+=c,l.top+=c,l.pitch+=c,a=n.top=l.top}}}}function fG(e,t){var r=t.getChordDim();if(r){for(var n=0;n<e.length;n++){var a=e[n]<r.left;if(a){n>0&&t.putChordInLane(n),e[n]=r.right;return}}e.push(r.right),t.putChordInLane(e.length-1)}}function qtt(e){var t=[0],r=[0],n,a,o;for(n=0;n<e.length;n++){for(a=0;a<e[n].children.length;a++)o=e[n].children[a],o.chordHeightAbove&&fG(t,o);for(a=e[n].children.length-1;a>=0;a--)o=e[n].children[a],o.chordHeightBelow&&fG(r,o)}return(t.length>1||r.length>1)&&Xtt(e,t.length,r.length),{above:t.length,below:r.length}}function jtt(e){for(var t=0,r=0;r<e.children.length;r++){var n=e.children[r];n.chordHeightBelow&&t++}return t}function Xtt(e,t,r){for(var n=0;n<e.length;n++){jtt(e[n]);for(var a=0;a<e[n].children.length;a++){var o=e[n].children[a];o.chordHeightAbove&&o.invertLane(t)}}}function Ktt(e,t){return t=t.beams[0],ztt(t.startX,t.startY,t.endX,t.endY,e.x)}var Ztt=Ytt,gg=ho,Qtt=function(e,t){for(var r,n=0;n<t.staffs.length;n++){var a=t.staffs[n],o={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(a.originalTop=a.top,a.originalBottom=a.bottom),c1(a,o,"lyricHeightAbove"),c1(a,o,"chordHeightAbove",a.specialY.chordLines.above),a.specialY.endingHeightAbove&&(a.specialY.chordHeightAbove?a.top+=2:a.top+=a.specialY.endingHeightAbove+d0,o.endingHeightAbove=a.top),a.specialY.dynamicHeightAbove&&a.specialY.volumeHeightAbove?(a.top+=Math.max(a.specialY.dynamicHeightAbove,a.specialY.volumeHeightAbove)+d0,o.dynamicHeightAbove=a.top,o.volumeHeightAbove=a.top):(c1(a,o,"dynamicHeightAbove"),c1(a,o,"volumeHeightAbove")),c1(a,o,"partHeightAbove"),c1(a,o,"tempoHeightAbove"),a.specialY.lyricHeightBelow&&(a.specialY.lyricHeightBelow+=e.spacing.vocal/gg.STEP,o.lyricHeightBelow=a.bottom,a.bottom-=a.specialY.lyricHeightBelow+d0),a.specialY.chordHeightBelow){o.chordHeightBelow=a.bottom;var l=a.specialY.chordHeightBelow;a.specialY.chordLines.below&&(l*=a.specialY.chordLines.below),a.bottom-=l+d0}a.specialY.volumeHeightBelow&&a.specialY.dynamicHeightBelow?(o.volumeHeightBelow=a.bottom,o.dynamicHeightBelow=a.bottom,a.bottom-=Math.max(a.specialY.volumeHeightBelow,a.specialY.dynamicHeightBelow)+d0):a.specialY.volumeHeightBelow?(o.volumeHeightBelow=a.bottom,a.bottom-=a.specialY.volumeHeightBelow+d0):a.specialY.dynamicHeightBelow&&(o.dynamicHeightBelow=a.bottom,a.bottom-=a.specialY.dynamicHeightBelow+d0),e.showDebug&&e.showDebug.indexOf("box")>=0&&(a.positionY=o);for(var c=0;c<a.voices.length;c++){var u=t.voices[a.voices[c]];Jtt(o,u,e.spacing)}if(r!==void 0){var h=a.top-10,f=r+h,d=e.spacing.systemStaffSeparation/gg.STEP,p=d-f;p>0&&(a.top+=p)}a.top+=e.spacing.staffTopMargin/gg.STEP,r=2-a.bottom}},d0=1;function c1(e,t,r,n){if(e.specialY[r]){var a=e.specialY[r];n&&(a*=n),e.top+=a+d0,t[r]=e.top}}function Jtt(e,t,r){var n,a;for(n=0;n<t.children.length;n++)a=t.children[n],ert(e,a,r);for(n=0;n<t.otherchildren.length;n++)switch(a=t.otherchildren[n],a.type){case"CrescendoElem":trt(e,a);break;case"DynamicDecoration":rrt(e,a);break;case"EndingElem":nrt(e,a);break;case"TieElem":var o=a.getYBounds();t.staff.top=Math.max(t.staff.top,o[0]),t.staff.top=Math.max(t.staff.top,o[1]),t.staff.bottom=Math.min(t.staff.bottom,o[0]),t.staff.bottom=Math.min(t.staff.bottom,o[1]);break}}function ert(e,t,r){for(var n=0;n<t.children.length;n++){var a=t.children[n];for(var o in t.specialY)t.specialY.hasOwnProperty(o)&&a[o]&&(a.pitch=e[o],a.top===void 0&&(a.type==="TempoElement"?irt(e,a):art(e,a,r),t.pushTop(a.top),t.pushBottom(a.bottom)))}}function trt(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function rrt(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function nrt(e,t){t.pitch=e.endingHeightAbove-2}function irt(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var r=t.pitch-t.totalHeightInPitches+1;t.note.top=r,t.note.bottom=r;for(var n=0;n<t.note.children.length;n++){var a=t.note.children[n];a.top+=r,a.bottom+=r,a.pitch+=r,a.pitch2!==void 0&&(a.pitch2+=r)}}}function art(e,t,r){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+r.vocal/gg.STEP,t.bottom=e.lyricHeightBelow+r.vocal/gg.STEP,t.pitch-=r.vocal/gg.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove;break}(t.pitch===void 0||t.top===void 0)&&console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}var srt=Qtt,qh=function(){};qh.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0};qh.layoutEnded=function(e){return e.i>=e.children.length};qh.getNextX=function(e){return Math.max(e.minx,e.nextx)};qh.getSpacingUnits=function(e){return Math.sqrt(e.spacingduration*8)};qh.layoutOneItem=function(e,t,r,n,a){var o=r.children[r.i];if(!o)return 0;var l=e-r.minx,c=r.durationindex+o.duration>0?n:0;if(o.abcelem.el_type==="note"&&!o.abcelem.rest&&r.voicenumber!==0&&a){var u=a.children[a.i],h=u&&(o.abcelem.maxpitch<=u.abcelem.maxpitch+1&&o.abcelem.maxpitch>=u.abcelem.minpitch-1||o.abcelem.minpitch<=u.abcelem.maxpitch+1&&o.abcelem.minpitch>=u.abcelem.minpitch-1);if(h&&o.abcelem.minpitch===u.abcelem.minpitch&&o.abcelem.maxpitch===u.abcelem.maxpitch&&u.heads&&u.heads.length>0&&o.heads&&o.heads.length>0&&u.heads[0].c===o.heads[0].c&&(h=!1),h){var f=u.heads&&u.heads.length>0?u.heads[0].realWidth:u.fixed.w;o.adjustedWidth||(o.adjustedWidth=f+o.w),o.w=o.adjustedWidth;for(var d=0;d<o.children.length;d++){var p=o.children[d];p.name.indexOf("accidental")<0&&(p.adjustedWidth||(p.adjustedWidth=p.dx+f),p.dx=p.adjustedWidth)}}}var g=ort(o,c);return l<g&&(r.i===0||o.type!=="bar"||r.children[r.i-1].type!=="part"&&r.children[r.i-1].type!=="tempo")&&(e+=g-l),o.setX(e),r.spacingduration=o.duration,r.minx=e+lrt(o),r.i!==r.children.length-1&&(r.minx+=o.minspacing),this.updateNextX(e,t,r),e};qh.shiftRight=function(e,t){var r=t.children[t.i];r&&(r.setX(r.x+e),t.minx+=e,t.nextx+=e)};qh.updateNextX=function(e,t,r){r.nextx=e+t*this.getSpacingUnits(r)};qh.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,e.children[e.i].type==="bar"&&(e.durationindex=Math.round(e.durationindex*64)/64),e.i++)};function ort(e,t){var r=0;return(e.type==="note"||e.type==="bar")&&(r=t),-e.extraw+r}function lrt(e){return e.w}var crt=qh,wo=crt;function urt(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];if(n.children.length>0){var a=n.children.length-1,o=n.children[a];if(o.abcelem.el_type==="bar"){var l=o.children[0].x;l>t?t=l:o.children[0].x=t}}}}var hrt=function(e,t,r,n,a){var o=1e-7,l=0,c=1e3,u=a;n.startx=u;var h,f=0;for(r&&console.log("init layout",e),h=0;h<n.voices.length;h++)wo.beginLayout(u,n.voices[h]);for(var d=0;!frt(n.voices);){for(f=null,h=0;h<n.voices.length;h++)!wo.layoutEnded(n.voices[h])&&(!f||LC(n.voices[h])<f)&&(f=LC(n.voices[h]));var p=[],g=[];for(h=0;h<n.voices.length;h++){var m=LC(n.voices[h]);m-f>o?g.push(n.voices[h]):p.push(n.voices[h])}d=0;var y=0;for(h=0;h<p.length;h++)wo.getNextX(p[h])>u&&(u=wo.getNextX(p[h]),d=wo.getSpacingUnits(p[h]),y=p[h].spacingduration);l+=d,c=Math.min(c,d),r&&console.log("currentduration: ",f,l,c);var b=void 0;for(h=0;h<p.length;h++){var x=p[h];x.voicenumber===0&&(b=h);var T=b!==void 0&&p[b].voicenumber!==x.voicenumber?p[b]:void 0;drt(x,T)||(T=void 0);var w=wo.layoutOneItem(u,e,x,t,T),E=w-u;if(E>0){u=w;for(var S=0;S<h;S++)wo.shiftRight(E,p[S])}}for(h=0;h<g.length;h++)g[h].spacingduration-=y,wo.updateNextX(u,e,g[h]);for(h=0;h<p.length;h++){var C=p[h];wo.updateIndices(C)}}for(h=0;h<n.voices.length;h++)wo.getNextX(n.voices[h])>u&&(u=wo.getNextX(n.voices[h]),d=wo.getSpacingUnits(n.voices[h]));return urt(n.voices),l+=d,n.setWidth(u),{spacingUnits:l,minSpace:c}};function frt(e){for(var t=0;t<e.length;t++)if(!wo.layoutEnded(e[t]))return!1;return!0}function LC(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function drt(e,t){return!e||!e.staff||!e.staff.voices||e.staff.voices.length===0||!t||!t.staff||!t.staff.voices||t.staff.voices.length===0?!1:e.staff.voices[0]===t.staff.voices[0]}var prt=hrt;function grt(e,t,r,n,a){var o=e.padding.left,l=0,c,u;for(c=0;c<r.length;c++)r[c].header&&(u=t.calc(r[c].header,"voicefont",""),l=Math.max(l,u.width));if(l=dG(l,n,t),l=dG(l,a,t),l){var h=t.calc("A","voicefont","");l+=h.width}o+=l;var f=0;return f=pG(n,o,f),f=pG(a,o,f),o+f}function dG(e,t,r){if(t){for(var n=0;n<t.length;n++)if(t[n].header){var a=r.calc(t[n].header,"voicefont","");e=Math.max(e,a.width)}}return e}function pG(e,t,r){if(e)for(var n=0;n<e.length;n++)mrt(t,e[n]),r=Math.max(r,e[n].getWidth());return r}function mrt(e,t){t.x=e}var kue=grt,vrt=kue;function yrt(e,t,r){var n=vrt(e,t.getTextSize,t.voices,t.brace,t.bracket),a=brt(t,r.minPadding),o=a.totalDuration,l=a.minSpacing,c=l*o;r.minWidth&&(c=Math.max(c,r.minWidth));var u=r.minPadding?r.minPadding/2:2;t.startx=n,t.w=c+n;for(var h=0;h<t.voices.length;h++){var f=t.voices[h];f.startx=n,f.w=c+n;for(var d=n,p=!1,g=0,m=0;m<f.children.length;m++){var y=f.children[m];p||(y.duration!==0?(p=!0,g=(c+n-d)/o,t.gridStart=d):(y.x=d,d+=y.w+y.minspacing)),p&&(r.align==="center"?y.x=d+y.duration*g/2-y.w/2:y.duration===0?y.x=d+1-y.w:y.x=d+u-y.extraw,d+=y.duration*g);for(var b=0;b<y.children.length;b++){var x=y.children[b],T=x.dx?x.dx:0;x.x=y.x+T}}t.gridEnd=d}return c}function brt(e,t){for(var r=0,n=0,a=0;a<e.voices.length;a++){for(var o=0,l=e.voices[a],c=0;c<l.children.length;c++){var u=l.children[c];if(o+=u.duration,u.duration){var h=(u.w+t)/u.duration;r=Math.max(r,h)}}n=Math.max(n,o)}return{totalDuration:n,minSpacing:r}}var xrt=yrt,Trt=Ztt,wrt=srt,Ert=prt,Srt=kue,Art=xrt,krt=function(e,t,r,n,a,o){var l,c,u=r;for(l=0;l<t.lines.length;l++)if(c=t.lines[l],c.staff){var h;o!==void 0?h=Art(e,c.staffGroup,o):h=Crt(e,u,n,c.staffGroup,t.formatting,l===t.lines.length-1,!1),Math.round(h)>Math.round(u)&&(u=h,a&&(l=-1))}for(l=0;l<t.lines.length;l++)if(c=t.lines[l],c.staffGroup&&c.staffGroup.voices){for(var f=0;f<c.staffGroup.voices.length;f++)Trt(c.staffGroup.voices[f]);wrt(e,c.staffGroup)}for(l=0;l<t.lines.length;l++)c=t.lines[l],c.staffGroup&&c.staffGroup.setHeight();return u},Crt=function(e,t,r,n,a,o,l){for(var c=Srt(e,n.getTextSize,n.voices,n.brace,n.bracket),u=r,h=0;h<8;h++){var f=Ert(u,e.minPadding,l,n,c);if(u=Irt(o,a.stretchlast,t+e.padding.left,n.w,u,f.spacingUnits,f.minSpace,e.padding.left+e.padding.right),u===null)break}return Rrt(n.voices),n.w-c};function Irt(e,t,r,n,a,o,l,c){if(e)if(t===void 0){if(n/r<.66)return null}else{var u=1-(n+c)/r,h=u<t;if(!h)return null}if(Math.abs(r-n)<2)return null;var f=o*a,d=n-f;return o>0?(a=(r-d)/o,a*l>50&&(a=50/l),a):null}function Rrt(e){for(var t=0;t<e.length;t++)for(var r=e[t],n=1;n<r.children.length-1;n++){var a=r.children[n];if(a.abcelem.rest&&(a.abcelem.rest.type==="whole"||a.abcelem.rest.type==="multimeasure")){var o=r.children[n-1],l=r.children[n+1];a.center(o,l)}}}var Ort=krt,Dl=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};Dl.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Dl.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Dl.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Dl.prototype.isInMeasure=function(){return this.measureNumber!==null};Dl.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Dl.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Dl.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Dl.prototype.incrNote=function(){this.noteNumber++};Dl.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e};Dl.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Dl.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="abcjs-tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var r=0;r<t.length;r++)t[r].indexOf("abcjs-")!==0&&t[r].length>0&&(t[r]="abcjs-"+t[r])}return t.join(" ")};var _rt=Dl,hA=function(t,r){this.formatting=t,this.classes=r};hA.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)};hA.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};hA.prototype.calc=function(e,t){var r;typeof e=="string"?(r=this.formatting[e],r?r={face:r.face,size:Math.round(r.size*4/3),decoration:r.decoration,style:r.style,weight:r.weight,box:r.box}:r={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):r={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var n=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;r.padding=r.size*n;var a={"font-size":r.size,"font-style":r.style,"font-family":this.getFamily(r.face),"font-weight":r.weight,"text-decoration":r.decoration,class:this.classes.generate(t)};return{font:r,attr:a}};var Nrt=hA,Lv=function(t,r){this.getFontAndAttr=t,this.svg=r};Lv.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)};Lv.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)};Lv.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};Lv.prototype.calc=function(e,t,r,n){var a;typeof t=="string"?a=this.attr(t,r):a={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":this.getFamily(t.face),"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(r)}};var o=this.svg.getTextSize(e,a.attr,n);return a.font.box?{height:o.height+a.font.padding*4,width:o.width+a.font.padding*4}:o};Lv.prototype.baselineToCenter=function(e,t,r,n,a){var o=this.calc(e,t,r).height,l=this.attr(t,r).font.size;return o*.5+(a-n-2)*l};var Lrt=Lv,Mrt=function(){for(var e=0,t,r=arguments[e++],n=[],a,o,l,c;r;){if(a=/^[^\x25]+/.exec(r))n.push(a[0]);else if(a=/^\x25{2}/.exec(r))n.push("%");else if(a=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)){if((t=arguments[a[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(a[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(a[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=a[6]?t.toExponential(a[6]):t.toExponential();break;case"f":t=a[6]?parseFloat(t).toFixed(a[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&a[6]?t.substring(0,a[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(a[7])&&a[2]&&t>0?"+"+t:t,l=a[3]?a[3]=="0"?"0":a[3][1]:" ",c=a[5]-String(t).length,o=a[5]?str_repeat(l,c):"",n.push(a[4]?t+o:o+t)}else throw"Huh ?!";r=r.substring(a[0].length)}return n.join("")},Fp=Mrt;function Drt(e){return parseFloat(e.toFixed(2))}var Su=Drt,gG=Su;function Prt(e,t,r){var n=t.y;if(t.phrases){var c=e.paper.richTextLine(t.phrases,t.x,t.y,t.klass,t.anchor);return c}if(t.lane){var a=t.dim.font.size*.25;n+=(t.dim.font.size+a)*t.lane}var o;t.dim?(o=t.dim,o.attr.class=t.klass):o=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(o.attr["text-anchor"]=t.anchor),t["dominant-baseline"]&&(o.attr["dominant-baseline"]=t["dominant-baseline"]),o.attr.x=t.x,o.attr.y=n,t.centerVertically||(o.attr.y+=o.font.size),t.type==="debugfont"&&(console.log("Debug msg: "+t.text),o.attr.stroke="#ff0000"),t.cursor&&(o.attr.cursor=t.cursor);var l=t.text.replace(/\n\n/g,`
 
`);l=l.replace(/^\n/,` 
`),o.font.box&&(r||e.paper.openGroup({klass:o.attr.class,fill:e.foregroundColor,"data-name":t.name}),o.attr["text-anchor"]==="end"?o.attr.x-=o.font.padding:o.attr["text-anchor"]==="start"&&(o.attr.x+=o.font.padding),o.attr.y+=o.font.padding,delete o.attr.class),t.noClass&&delete o.attr.class,o.attr.x=gG(o.attr.x),o.attr.y=gG(o.attr.y),t.name&&(o.attr["data-name"]=t.name);var c=e.paper.text(l,o.attr);if(o.font.box){var u=c.getBBox(),h=0;o.attr["text-anchor"]==="middle"?h=u.width/2+o.font.padding:o.attr["text-anchor"]==="end"&&(h=u.width+o.font.padding*2);var f=0;t.centerVertically&&(f=u.height-o.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-h),y:Math.round(n-f),width:Math.round(u.width+o.font.padding*2),height:Math.round(u.height+o.font.padding*2)}),r||(c=e.paper.closeGroup())}return c}var Sf=Prt,ww=Fp,ql=ho,Frt=Sf;function Brt(e,t,r){var n=t.startVoice.staff.absoluteY-ql.STEP*10;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-ql.STEP*2:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-ql.STEP*2:t.endY=t.startVoice.staff.absoluteY-ql.STEP*2,Urt(e,t.x,n,t.endY,t.type,t.header,r)}function $rt(e,t,r,n,a){t+=ql.STEP;var o=ql.STEP*.75,l=ql.STEP*.75,c=n-r,u=ww("M %f %f l %f %f l %f %f l %f %f z",t,r-l,0,c+l*2,o,0,0,-(c+l*2)),h=ql.STEP*2,f=ql.STEP;return u+=ww("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,r-l,h*.6,f*.2,h,-f,-h*.1,f*.3,-h,f+ql.STEP),u+=ww("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,r+l+c,h*.6,-f*.2,h,f,-h*.1,-f*.3,-h,-f-ql.STEP),e.paper.path({path:u,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}function Hrt(e,t,r,n,a){var o=n-r,l=mG(t,r,[7.5,-8,21,0,18.5,-10.5,7.5],[0,o/5.5,o/3.14,o/2,o/2.93,o/4.88,0]);return l+=mG(t,r,[0,17.5,-7.5,6.6,-5,20,0],[o/2,o/1.46,o/1.22,o,o/1.19,o/1.42,o/2]),e.paper.path({path:l,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}function mG(e,t,r,n){return ww("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+r[0],t+n[0],e+r[1],t+n[1],e+r[2],t+n[2],e+r[3],t+n[3],e+r[4],t+n[4],e+r[5],t+n[5],e+r[6],t+n[6])}var Urt=function(e,t,r,n,a,o,l){var c;if(o){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":a});var u=r+(n-r)/2;u=u-e.controller.getTextSize.baselineToCenter(o,"voicefont","staff-extra voice-name",0,1),Frt(e,{x:e.padding.left,y:u,text:o,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return a==="brace"?c=Hrt(e,t,r,n,a):a==="bracket"&&(c=$rt(e,t,r,n,a)),o&&(c=e.paper.closeGroup()),l.wrapSvgEl({el_type:a,startChar:-1,endChar:-1},c),c},Wrt=Brt;function zrt(e,t,r){var n=e.paper.path(t);return n}var m3=zrt,Grt=Fp,Yrt=m3,Vrt=Su;function qrt(e,t,r){(!t.anchor1||!t.anchor2||!t.anchor1.heads||!t.anchor2.heads||t.anchor1.heads.length===0||t.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var n=4,a=e.calcY(t.anchor1.heads[0].pitch),o=e.calcY(t.anchor2.heads[0].pitch),l=t.anchor1.x+t.anchor1.w/2,c=t.anchor2.x+t.anchor2.w/2,u=jrt(l,a,c,o),h=t.anchor1.w/2+n,f=t.anchor2.w/2+n,d=Xrt(l,a,c,o),p=pO(a,d,h);pO(o,d,-f);var g=Krt(u-h-f),m=rnt(e,l+h,p,g,d);return r.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},m),[m]}function jrt(e,t,r,n){var a=r-e,o=n-t;return Math.sqrt(a*a+o*o)}function Xrt(e,t,r,n){return(n-t)/(r-e)}function pO(e,t,r){return Vrt(e+r*t)}function Krt(e){var t=5;return Math.max(2,Math.floor((e-t*2)/6))}var Zrt=[[3.5,-4.8]],Qrt=[[1.5,-1],[.3,-.3],[-3.5,3.8]],Jrt=[[-1.5,2]],ent=[[3,4],[3,-4]],tnt=[[-3,4],[-3,-4]];function $y(e,t){for(var r="",n=0;n<e.length;n++)r+="l"+e[n][0]+" "+pO(e[n][1],t,e[n][0]);return r}var rnt=function(e,t,r,n,a){var o=Grt("M %f %f",t,r);o+=$y(Zrt,a);var l;for(l=0;l<n;l++)o+=$y(ent,a);for(o+=$y(Qrt,a),l=0;l<n;l++)o+=$y(tnt,a);return o+=$y(Jrt,a)+"z",Yrt(e,{path:o,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})},nnt=qrt,int=Fp,ant=m3,u1=Su;function snt(e,t,r){t.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var n=e.calcY(t.pitch)+4,a=8,o=t.anchor1?t.anchor1.x:0,l=t.anchor2?t.anchor2.x:800,c;return t.dir==="<"?c=vG(e,n+a/2,n,n+a/2,n+a,o,l):c=vG(e,n,n+a/2,n+a,n+a/2,o,l),r.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},c),[c]}var vG=function(e,t,r,n,a,o,l){t=u1(t),r=u1(r),n=u1(n),a=u1(a),o=u1(o),l=u1(l);var c=int("M %f %f L %f %f M %f %f L %f %f",o,t,l,r,o,n,l,a);return ant(e,{path:c,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},ont=snt,yG=Su;function v3(){this.ingroup=!1}v3.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};v3.prototype.isInGroup=function(){return this.ingroup};v3.prototype.addPath=function(e){if(e=e||[],e.length!==0){e[0][0]="m",e[0][1]=yG(e[0][1]-this.lastM[0]),e[0][2]=yG(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,r=e.length;t<r;t++)e[t][0]==="m"&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}};v3.prototype.endGroup=function(e,t){this.ingroup=!1;for(var r="",n=0;n<this.path.length;n++)r+=this.path[n].join(" ");this.path=[];var a=this.paper.closeGroup();return a&&(a.setAttribute("class",this.controller.classes.generate(e)),a.setAttribute("fill",this.controller.renderer.foregroundColor),a.setAttribute("stroke","none"),a.setAttribute("data-name",t)),a};var lnt=new v3,wM=lnt,bG=Sf,h1=Ef,xG=wM;function cnt(e,t,r,n,a){var o,l;if(!n)return null;if(n.length>1&&n.indexOf(".")<0){var c=xG.isInGroup()?"":a.klass;e.paper.openGroup({"data-name":a.name,klass:c});for(var u=0,h=0;h<n.length;h++){var f=n[h];l=h1.getYCorr(f),o=h1.printSymbol(t+u,e.calcY(r+l),f,e.paper,{stroke:a.stroke,fill:a.fill}),o?h<n.length-1&&(u+=unt(f,n[h+1],h1.getSymbolWidth(f))):bG(e,{x:t,y:e.y,text:"no symbol:"+n,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var d=e.paper.closeGroup();return d}else return l=h1.getYCorr(n),xG.isInGroup()?o=h1.printSymbol(t,e.calcY(r+l),n,e.paper,{"data-name":a.name}):o=h1.printSymbol(t,e.calcY(r+l),n,e.paper,{klass:a.klass,stroke:a.stroke,fill:a.fill,"data-name":a.name}),o||(bG(e,{x:t,y:e.y,text:"no symbol:"+n,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function unt(e,t,r){var n=r;return e==="f"&&t==="f"&&(n=n*2/3),e==="p"&&t==="p"&&(n=n*5/6),e==="f"&&t==="z"&&(n=n*5/8),n}var Cue=cnt,hnt=Cue;function fnt(e,t,r){t.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var n=hnt(e,t.anchor.x,t.pitch,t.dec,{klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return r.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},n),[n]}var dnt=fnt,pnt=Fp,gnt=Sf,mnt=m3,r4=Su;function vnt(e,t,r){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||ynt(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),gnt(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var n=e.paper.closeGroup();return r.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},n),n}function n4(e,t,r,n){return pnt("M %f %f L %f %f",r4(e),r4(t),r4(r),r4(n))}function ynt(e,t,r,n,a){r=e.calcY(r),a=e.calcY(a);var o=5,l="";l+=n4(t,r,t,r+o),l+=n4(n,a,n,a+o);var c=t+(n-t)/2,u=8,h=(a-r)/(n-t),f=c-u,d=r+(f-t)*h;l+=n4(t,r,f,d);var p=c+u,g=r+(p-t)*h;l+=n4(p,g,n,a),mnt(e,{path:l,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}var bnt=vnt,MC=Fp,xnt=Sf,Tnt=m3,qf=Su;function wnt(e,t,r,n,a){t.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var o=qf(e.calcY(t.pitch)),l=20,c="";t.anchor1&&(r=qf(t.anchor1.x+t.anchor1.w),c+=MC("M %f %f L %f %f ",r,o,r,qf(o+l))),t.anchor2&&(n=qf(t.anchor2.x),c+=MC("M %f %f L %f %f ",n,o,n,qf(o+l))),c+=MC("M %f %f L %f %f ",r,o,n,o),e.paper.openGroup({klass:e.controller.classes.generate("ending"),"data-name":"ending"}),Tnt(e,{path:c,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&xnt(e,{x:qf(r+5),y:qf(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var u=e.paper.closeGroup();return a.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},u),[u]}var Ent=wnt,TG=Fp,Jo=Su;function Snt(e,t,r,n,a){Ant(t,r,n);var o="";t.anchor1?o+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:o+="abcjs-start-edge",t.anchor2?o+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:o+=" abcjs-end-edge",t.hint&&(o="abcjs-hint");var l=t.fixedY?1.5:0,c=knt(e,t.startX,t.endX,t.startY+l,t.endY+l,t.above,o,t.isTie,t.dotted),u=-1;t.anchor1&&!t.isTie&&(u=t.anchor1.parent.abcelem.startChar-1);var h=-1;return t.anchor2&&!t.isTie&&(h=t.anchor2.parent.abcelem.endChar+1),a.wrapSvgEl({el_type:"slur",startChar:u,endChar:h},c),[c]}var Ant=function(e,t,r){!e.anchor1||!e.anchor2||e.anchor1.pitch===e.anchor2.pitch&&e.internalNotes.length===0?e.isTie=!0:e.isTie=!1,e.isTie?(e.calcTieDirection(),e.calcX(t,r),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,r),e.calcSlurY()),e.avoidCollisionAbove()},knt=function(e,t,r,n,a,o,l,c,u){var h=c?1.2:1.5;t=Jo(t+6),r=Jo(r+4),n=n+(o?h:-h),a=a+(o?h:-h);var f=Jo(e.calcY(n)),d=Jo(e.calcY(a)),p=r-t,g=d-f,m=Math.sqrt(p*p+g*g),y=p/m,b=g/m,x=m/3.5,T=c?10:25,w=(o?-1:1)*Math.min(T,Math.max(4,x)),E=Jo(t+x*y-w*b),S=Jo(f+x*b+w*y),C=Jo(r-x*y-w*b),k=Jo(d-x*b+w*y),O=2;l?l+=" slur":l="slur",l+=c?" tie":" legato";var I;if(u){l+=" dotted";var _=TG("M %f %f C %f %f %f %f %f %f",t,f,E,S,C,k,r,d);I=e.paper.path({path:_,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(l),"data-name":c?"tie":"slur"})}else{var R=TG("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,f,E,S,C,k,r,d,Jo(C-O*b),Jo(k+O*y),Jo(E-O*b),Jo(S+O*y),t,f);I=e.paper.path({path:R,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(l),"data-name":c?"tie":"slur"})}return I},Cnt=Snt,Int=m3,f1=Su;function Rnt(e,t){if(t.beams.length!==0){for(var r="",n=0;n<t.beams.length;n++){var a=t.beams[n];if(a.split){for(var o=Ont(e,a.startX,a.startY,a.endX,a.endY),l=[],c=0;c<a.split.length;c+=2)l.push([a.split[c],a.split[c+1]]);for(c=0;c<l.length;c++){var u=EG(a.startX,a.startY,o,l[c][0]),h=EG(a.startX,a.startY,o,l[c][1]);r+=wG(e,l[c][0],u,l[c][1],h,a.dy)}}else r+=wG(e,a.startX,a.startY,a.endX,a.endY,a.dy)}var f=("abcjs-d"+t.duration).replace(/\./g,"-"),d=e.controller.classes.generate("beam-elem "+f),p=Int(e,{path:r,stroke:"none",fill:e.foregroundColor,class:d});return[p]}}function wG(e,t,r,n,a,o){r=f1(e.calcY(r)),a=f1(e.calcY(a)),t=f1(t),n=f1(n);var l=f1(r+o),c=f1(a+o);return"M"+t+" "+r+" L"+n+" "+a+"L"+n+" "+c+" L"+t+" "+l+"z"}function Ont(e,t,r,n,a){return(a-r)/(n-t)}function EG(e,t,r,n){var a=n-e;return t+a*r}var _nt=Rnt,Nnt=wM,d1=Su;function Lnt(e,t,r,n,a,o,l){if(r<0||n<a){var c=d1(a);a=d1(n),n=c}else n=d1(n),a=d1(a);t=d1(t);var u=d1(t+r);if(e.firefox112){t+=r/2;var f={x1:t,x2:t,y1:n,y2:a,stroke:e.foregroundColor,"stroke-width":Math.abs(r)};return o&&(f.class=o),l&&(f["data-name"]=l),e.paper.lineToBack(f)}for(var h=[["M",t,n],["L",t,a],["L",u,a],["L",u,n],["z"]],f={path:""},d=0;d<h.length;d++)f.path+=h[d].join(" ");return o&&(f.class=o),l&&(f["data-name"]=l),Nnt.isInGroup()||(f.stroke="none",f.fill=e.foregroundColor),e.paper.pathToBack(f)}var Iue=Lnt,Mnt=Fp,i4=Su;function Dnt(e,t,r,n,a,o,l){var c=e.foregroundColor;t=i4(t),r=i4(r);var u=i4(n-l),h=i4(n+l);if(e.firefox112){n+=l/2;var f={x1:t,x2:r,y1:n,y2:n,stroke:e.foregroundColor,"stroke-width":Math.abs(l*2)};return a&&(f.class=a),o&&(f["data-name"]=o),e.paper.lineToBack(f)}var d=Mnt("M %f %f L %f %f L %f %f L %f %f z",t,u,r,u,r,h,t,h),p={path:d,stroke:"none",fill:c};o&&(p["data-name"]=o),a&&(p.class=a);var g=e.paper.pathToBack(p);return g}var Pnt=Dnt,Fnt=Pnt;function Bnt(e,t,r,n,a,o,l){var c=e.calcY(n);return Fnt(e,t,r,c,a,o,l)}var Rue=Bnt,Bu=Sf,SG=Iue,$nt=Rue,Hnt=Cue;function Unt(e,t,r){t.pitch===void 0&&window.console.error(t.type+" Relative Element y-coordinate not set.");var n=e.calcY(t.pitch);switch(t.type){case"symbol":if(t.c===null)return null;var a="symbol";t.klass&&(a+=" "+t.klass),t.graphelem=Hnt(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(a),name:t.name});break;case"debug":t.graphelem=Bu(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var o="middle",l="tabnumberfont",c="abcjs-tab-number";t.isGrace&&(l="tabgracefont",n+=2.5,c="tab-grace"),t.graphelem=Bu(e,{x:t.x,y:n,text:""+t.c,type:l,klass:e.controller.classes.generate(c),anchor:o,centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=Bu(e,{x:t.x,y:n,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=Bu(e,{x:t.x,y:n,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=Bu(e,{x:t.x,y:n,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=Bu(e,{x:t.x,y:n+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=Bu(e,{x:t.x,y:n,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=Bu(e,{x:t.x+t.w/2,y:n,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=Bu(e,{x:t.x,y:n,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=SG(e,t.x,t.linewidth+e.lineThickness,n,r||e.calcY(t.pitch2),null,"bar");break;case"stem":var u=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=SG(e,t.x,u,n,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=$nt(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness);break}return t.scalex!==1&&t.graphelem&&Wnt(e.paper,t.graphelem,t.scalex,t.scaley,t.x,n),t.graphelem}function Wnt(e,t,r,n,a,o){e.setAttributeOnElement(t,{style:"transform:scale("+r+","+n+");transform-origin:"+a+"px "+o+"px;"})}var Oue=Unt,znt=Oue,DC=Sf;function Gnt(e,t){var r=t.x;t.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var n=e.calcY(t.pitch)+2,a,o;if(t.tempo.preString){a=DC(e,{x:r,y:n,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),o=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",a);var l=o.width,c=l/t.tempo.preString.length;r+=l+c}if(t.note){t.note.setX(r);for(var u=0;u<t.note.children.length;u++)znt(e,t.note.children[u],r);r+=t.note.w+5;var h="= "+t.tempo.bpm;a=DC(e,{x:r,y:n,text:h,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),o=e.controller.getTextSize.calc(h,"tempofont","tempo",a);var f=o.width,d=f/h.length;r+=f+d}t.tempo.postString&&DC(e,{x:r,y:n,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var Ynt=Gnt,Vnt=Ynt,qnt=Oue,jnt=ho,AG=dM,kG=wM;function Xnt(e,t,r,n,a){if(!t.invisible){var o=t.children.length>0&&t.children[0].type==="TempoElement";t.elemset=[],kG.beginGroup(e.paper,e.controller);for(var l=0;l<t.children.length;l++){var c=t.children[l];switch(c.type){case"TempoElement":Vnt(e,c);break;default:var u=qnt(e,c,r);c.type==="symbol"&&c.c&&c.c.indexOf("notehead")>=0&&u.setAttribute("class","abcjs-notehead")}}var h=t.type;if((t.type==="note"||t.type==="rest")&&(t.counters=e.controller.classes.getCurrent(),h+=" d"+Math.round(t.durationClass*1e3)/1e3,h=h.replace(/\./g,"-"),t.abcelem.pitches))for(var f=0;f<t.abcelem.pitches.length;f++)h+=" p"+t.abcelem.pitches[f].pitch;var d=kG.endGroup(h,t.type);if(d){if(t.cloned&&(t.cloned.overrideClasses=d.className.baseVal),t.overrideClasses){var p=d.classList&&d.classList.length>0?d.classList[0]+" ":"";d.setAttribute("class",p+t.overrideClasses)}if(o)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,n.add(t,d,!1,a);else{t.elemset.push(d);var g=!1;(t.type==="note"||t.type==="tabNumber")&&(g=!0),n.add(t,d,g,a)}}else t.elemset.length>0&&n.add(t,t.elemset[0],t.type==="note",a);if(t.klass&&AG(t.elemset,"mark","","#00ff00"),t.hint&&AG(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var m=0;m<t.heads.length;m++)t.notePositions.push({x:t.heads[m].x+t.heads[m].w/2,y:a.zero-t.heads[m].pitch*jnt.STEP})}}}var Knt=Xnt,Znt=nnt,Qnt=ont,Jnt=dnt,eit=bnt,tit=Ent,rit=Cnt,nit=_nt,iit=Sf,CG=Knt;function ait(e,t,r,n,a){var o=t.w-1;e.staffbottom=t.staff.bottom;var l=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var c=iit(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);n.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},c)}var u,h,f=!1;for(u=0;u<t.children.length;u++){h=t.children[u],(h.type==="note"||h.type==="rest")&&(f=!0);var d=!1;h.type!=="staff-extra"&&!e.controller.classes.isInMeasure()&&(e.controller.classes.startMeasure(),d=!0),t.staff.isTabStaff&&(h.invisible=!1,h.type=="bar"&&h.abcelem.lastBar&&(r=t.topLine)),CG(e,h,t.barto||u===t.children.length-1?r:0,n,a),(h.type==="note"||sit(h))&&e.controller.classes.incrNote(),h.type==="bar"&&!d&&f&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),u=0;u<t.beams.length;u++){var p=t.beams[u];p==="bar"?e.controller.classes.incrMeasure():nit(e,p)}for(e.controller.classes.startMeasure(),u=0;u<t.otherchildren.length;u++)if(h=t.otherchildren[u],h==="bar")e.controller.classes.incrMeasure();else switch(h.type){case"GlissandoElem":h.elemset=Znt(e,h,n);break;case"CrescendoElem":h.elemset=Qnt(e,h,n);break;case"DynamicDecoration":h.elemset=Jnt(e,h,n);break;case"TripletElem":eit(e,h,n);break;case"EndingElem":h.elemset=tit(e,h,t.startx+10,o,n);break;case"TieElem":h.elemset=rit(e,h,t.startx+10,o,n);break;default:console.log(h),CG(e,h,t.startx+10,o,n)}e.foregroundColor=l}function sit(e){return e.type!=="rest"?!1:!!(e.abcelem&&e.abcelem.rest&&e.abcelem.rest.type!=="spacer")}var oit=ait,IG=Rue;function lit(e,t,r,n,a,o){var l="abcjs-top-line",c=2;a&&(c=a),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var u=0,h=0;if(n===1)IG(e,t,r,6,l,null,o+e.lineThickness),u=e.calcY(10),h=e.calcY(2);else for(var f=n-1;f>=0;f--){var d=(f+1)*c;h=e.calcY(d),u===0&&(u=h),IG(e,t,r,d,l,null,o+e.lineThickness),l=void 0}return e.paper.closeGroup(),[u,h]}var cit=lit;function uit(e,t,r){var n=e.paper.rectBeneath(t);return r&&e.paper.text(r,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),n}var hit=uit;function fit(e,t){var r="rgba(0,0,0,255)",n="rgba(0,0,0,0)",a=Math.round(e.y),o=e.controller.width,l=(o-t)/2,c=l+t,u="M "+l+" "+a+" L "+c+" "+a+" L "+c+" "+(a+1)+" L "+l+" "+(a+1)+" L "+l+" "+a+" z";e.paper.pathToBack({path:u,stroke:n,fill:r,class:e.controller.classes.generate("defined-text")})}var dit=fit,pit=dit,git=Sf;function mit(e,t,r){for(var n=0;n<t.rows.length;n++){var a=t.rows[n];if(a.absmove)e.absolutemoveY(a.absmove);else if(a.move)e.moveY(a.move);else if(a.text||a.phrases){var o=a.left?a.left:0,l=git(e,{x:o,y:e.y,text:a.text,phrases:a.phrases,"dominant-baseline":a["dominant-baseline"],type:a.font,klass:a.klass,name:a.name,anchor:a.anchor});a.absElemType&&r.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:a.text},l)}else if(a.separator)pit(e,a.separator);else if(a.startGroup)e.paper.openGroup({klass:a.klass,"data-name":a.name});else if(a.endGroup){var c=e.paper.closeGroup();a.absElemType&&r.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:""},c)}}}var _ue=mit,W1=ho,vit=Wrt,yit=oit,bit=cit,xE=hit,xit=Iue,Tit=_ue;function wit(e,t,r,n){for(var a,o=e.y,l=0;l<t.staffs.length;l++){var c=t.staffs[l];e.moveY(W1.STEP,c.top),c.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&c.voices&&Eit(e,t.voices,c.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:o,y2:o,stroke:"#0000ff"}),xE(e,{x:e.padding.left,y:e.calcY(c.originalTop),width:e.controller.width,height:e.calcY(c.originalBottom)-e.calcY(c.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),a=0,E(c,"chordHeightAbove"),E(c,"chordHeightBelow"),E(c,"dynamicHeightAbove"),E(c,"dynamicHeightBelow"),E(c,"endingHeightAbove"),E(c,"lyricHeightAbove"),E(c,"lyricHeightBelow"),E(c,"partHeightAbove"),E(c,"tempoHeightAbove"),E(c,"volumeHeightAbove"),E(c,"volumeHeightBelow"))),e.moveY(W1.STEP,-c.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var u,h,f=2,d=0,p=0;p<t.voices.length;p++){var g=t.voices[p].staff,m=t.voices[p].tabNameInfos;if(e.y=g.absoluteY,e.controller.classes.incrVoice(),!t.voices[p].duplicate){if(u||(u=e.calcY(10)),h=e.calcY(f),g.lines!==0){g.linePitch&&(f=g.linePitch),e.controller.classes.newMeasure();var y=bit(e,t.startx,t.w,g.lines,g.linePitch,.35);h=y[1],g.bottomLine=h,g.topLine=y[0],g.hasTab&&(d=g.topLine),g.hasStaff&&(d=g.hasStaff.topLine,t.voices[p].barto=!0,t.voices[p].topLine=u)}RG(e,g.absoluteY,t.brace,p,r),RG(e,g.absoluteY,t.bracket,p,r)}yit(e,t.voices[p],d,r,{top:o,zero:e.y,height:t.height*W1.STEP});var b=0;if(m){var x={rows:[]};x.rows.push({absmove:h+2});var T=8;x.rows.push({left:t.startx+T,text:m.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),x.rows.push({move:m.textSize.height}),Tit(e,x),b=m.textSize.height}e.controller.classes.newMeasure(),t.voices[p].duplicate||(d=e.calcY(2+b))}e.controller.classes.newMeasure();var w=t.staffs.length;w>1&&(u=t.staffs[0].topLine,h=t.staffs[w-1].bottomLine,xit(e,t.startx,.6,u,h,null)),e.y=o;function E(S,C){var k=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(S.positionY&&S.positionY[C]){var O=S.specialY[C]*W1.STEP;C==="chordHeightAbove"&&S.specialY.chordLines&&S.specialY.chordLines.above&&(O*=S.specialY.chordLines.above),C==="chordHeightBelow"&&S.specialY.chordLines&&S.specialY.chordLines.below&&(O*=S.specialY.chordLines.below),xE(e,{x:e.padding.left,y:e.calcY(S.positionY[C]),width:e.controller.width,height:O,fill:k[a],stroke:k[a],"fill-opacity":.4,"stroke-opacity":.4},C.substr(0,4)),a+=1,a>6&&(a=0)}}}function RG(e,t,r,n,a){if(r)for(var o=0;o<r.length;o++)r[o].isStartVoice(n)&&(r[o].startY=t-W1.STEP*10,r[o].elemset=vit(e,r[o],a))}function Eit(e,t,r){for(var n=0;n<r.length;n++)for(var a=t[r[n]].children,o=0;o<a.length;o++){var l=a[o],c=l.getFixedCoords();if(!(l.invisible||c.t===void 0||c.b===void 0)){var u=(c.t-c.b)*W1.STEP;xE(e,{x:c.x,y:e.calcY(c.t),width:c.w,height:u,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var h=0;h<l.children.length;h++){var f=l.children[h],d=f.getChordDim();if(d){var p=e.calcY(f.pitch);p+=f.dim.font.size*f.getLane(),xE(e,{x:d.left,y:p,width:d.right-d.left,height:f.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var Sit=wit;function Ait(e,t,r,n){var a=(t+e.padding.left+e.padding.right)*r,o=(e.y+e.padding.bottom)*r;if(e.isPrint&&(o=Math.max(o,1056)),e.ariaLabel!==""){var l="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(l+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(l);var c=e.ariaLabel?e.ariaLabel:l;e.paper.setAttribute("aria-label",c)}var u=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+u.join(" ")+"}");var h={overflow:"hidden"};n==="resize"?e.paper.setResponsiveWidth(a,o):(h.width="",h.height=o+"px",r<1?(h.width=a+"px",e.paper.setSize(a/r,o/r)):e.paper.setSize(a,o)),e.paper.setScale(r),e.paper.setParentStyles(h)}var kit=Ait,Cit=Kce,Iit=Zce;function y3(e,t,r){this.elements=[],this.paper=e,this.tuneNumber=r,this.selectTypes=t}y3.prototype.getElements=function(){return this.elements};y3.prototype.add=function(e,t,r,n){if(this.canSelect(e)){var a;this.selectTypes===void 0?a={selectable:!1,"data-index":this.elements.length}:a={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,a);var o={absEl:e,svgEl:t,isDraggable:r};n!==void 0&&(o.staffPos=n),this.elements.push(o)}};y3.prototype.canSelect=function(e){return this.selectTypes===!1||!e||!e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?e.abcelem.el_type==="note"||e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(e.abcelem.el_type)>=0};y3.prototype.wrapSvgEl=function(e,t){var r={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:Cit,unhighlight:Iit};this.add(r,t,!1)};var Rit=y3,Oit=Sit,_it=kit,PC=_ue,Nue=ho,Nit=Rit;function Lit(e,t,r,n,a,o,l,c,u,h){var f=new Nit(e.paper,c,u),d={};t.shouldAddClasses&&(d.klass="abcjs-meta-top"),e.paper.openGroup(d),e.moveY(e.padding.top),PC(e,r.topText,f),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var p=[],g=0;g<r.lines.length;g++){t.incrLine();var m=r.lines[g];if(m.staff){t.shouldAddClasses&&(d.klass="abcjs-staff-wrapper abcjs-l"+t.lineNumber),e.paper.openGroup(d),m.vskip&&e.moveY(m.vskip),p.length>=1&&Dit(e,e.spacing.staffSeparation,p[p.length-1],m.staffGroup);var y=Mit(e,m.staffGroup,f);y.line=h+g,p.push(y),e.paper.closeGroup()}else m.nonMusic&&(t.shouldAddClasses&&(d.klass="abcjs-non-music"),e.paper.openGroup(d),PC(e,m.nonMusic,f),e.paper.closeGroup())}return t.reset(),r.bottomText&&r.bottomText.rows&&r.bottomText.rows.length>0&&(t.shouldAddClasses&&(d.klass="abcjs-meta-bottom"),e.paper.openGroup(d),e.moveY(24),PC(e,r.bottomText,f),e.paper.closeGroup()),_it(e,a,l,o),{staffgroups:p,selectables:f.getElements()}}function Mit(e,t,r,n){Oit(e,t,r);var a=t.height*Nue.STEP;return e.y+=a,t}function Dit(e,t,r,n){var a=r.staffs[r.staffs.length-1],o=-(a.bottom-2),l=n.staffs[0].top-10,c=l+o,u=c*Nue.STEP;u<t&&e.moveY(t-u)}var Pit=Lit,Fit=bue;function Bit(e){for(var t=e;t&&t.attributes&&t.tagName.toLowerCase()!=="svg"&&!t.attributes.selectable;)t=t.parentNode;if(t&&t.attributes&&t.attributes.selectable){var r=t.attributes["data-index"].nodeValue;if(r&&(r=parseInt(r,10),r>=0&&r<this.selectables.length)){var n=this.selectables[r],a=Fit(n,e);return a.index=r,a.element=n,a}}return null}var $it=Bit,Hit=ho,Uit=Ket,Wit=Jet,zit=ttt,Git=ntt,Yit=att,Lue=utt,Vit=htt,qit=Ctt,Mue=Ort,jit=_rt,Due=Nrt,Pue=Lrt,Xit=Pit,Kit=iue,Zit=$it,Au=function(e,t){t=t||{},this.findSelectableElement=Zit,this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*Hit.SPACE,this.initialClef=t.initialClef,this.timeBasedLayout=t.timeBasedLayout,this.expandToWidest=!!t.expandToWidest,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new jit({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new Wit(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.accentAbove&&(this.accentAbove=t.accentAbove),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",t.ariaLabel!==void 0&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};Au.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};Au.prototype.engraveABC=function(e,t,r){e[0]===void 0&&(e=[e]),this.reset();for(var n=0;n<e.length;n++)t===void 0&&(t=n),this.getFontAndAttr=new Due(e[n].formatting,this.classes),this.getTextSize=new Pue(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[n],t,r)};Au.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)};Au.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new Due(e.formatting,this.classes),this.getTextSize=new Pue(this.getFontAndAttr,this.renderer.paper);var t=this.jazzchords;this.setupTune(e,0),this.constructTuneElements(e),Mue(this.renderer,e,0,this.space,this.timeBasedLayout);for(var r=[],n,a=!0,o=0;o<e.lines.length;o++){var l=e.lines[o];if(l.staff){if(a&&(n={left:0,measureWidths:[],total:0},r.push(n),a=!1),l.staffGroup.voices.length>0)for(var c=l.staffGroup.voices[0],u=!1,h=0,f=0;f<c.children.length;f++){var d=c.children[f];!u&&!d.isClef&&!d.isKeySig&&(u=!0,n.left=d.x,h=d.x),d.type==="bar"&&(n.measureWidths.push(d.x-h),n.total+=d.x-h,h=d.x)}}else a=!0}return this.jazzchords=t,r};Au.prototype.setupTune=function(e,t){this.classes.reset(),e.formatting.jazzchords!==void 0&&(this.jazzchords=e.formatting.jazzchords),e.formatting.accentAbove!==void 0&&(this.accentAbove=e.formatting.accentAbove),this.renderer.newTune(e),this.engraver=new Uit(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:e.formatting.graceSlurs!==!1,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var r=e.formatting.scale?e.formatting.scale:this.scale;return this.responsive==="resize"&&(r=void 0),r===void 0&&(r=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(r),r};Au.prototype.constructTuneElements=function(e){e.topText=new Lue(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var t,r,n=!1,a=!1;for(t=0;t<e.lines.length;t++)if(r=e.lines[t],r.staff)a=!0,r.staffGroup=this.engraver.createABCLine(r.staff,n?null:e.metaText.tempo,t),n=!0;else if(r.subtitle){if(a){var o=this.width/2+this.renderer.padding.left;r.nonMusic=new Yit(this.renderer.spacing.subtitle,e.formatting,r.subtitle,o,this.renderer.padding.left,this.getTextSize)}}else r.text!==void 0?(a=!0,r.nonMusic=new zit(r.text,r.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):r.separator!==void 0&&r.separator.lineLength&&(a=!0,r.nonMusic=new Git(r.separator.spaceAbove,r.separator.lineLength,r.separator.spaceBelow));e.bottomText=new Vit(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};Au.prototype.engraveTune=function(e,t,r){var n=this.jazzchords,a=this.setupTune(e,t);this.constructTuneElements(e);var o=Mue(this.renderer,e,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&o>this.width+1&&(e.topText=new Lue(e.metaText,e.metaTextInfo,e.formatting,e.lines,o,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),e.lines&&e.lines.length>0))for(var l=e.lines.length,c=0;c<l;++c){var u=e.lines[c];if(u.nonMusic&&u.nonMusic.rows&&u.nonMusic.rows.length>0)for(var h=u.nonMusic.rows.length,f=0;f<h;++f){var d=u.nonMusic.rows[f];d.left&&(u.subtitle?d.left=o/2+this.renderer.padding.left:u.text&&u.text.length>0&&u.text[0].center&&(d.left=o/2+this.renderer.padding.left))}}e.tablatures&&Kit.layoutTablatures(this.renderer,e);var p=Xit(this.renderer,this.classes,e,this.width,o,this.responsive,a,this.selectTypes,t,r);if(this.staffgroups=p.staffgroups,this.selectables=p.selectables,this.oneSvgPerLine){var g=this.renderer.paper.svg.parentNode;this.svgs=Qit(this.renderer,g,e.metaText.title,this.responsive,a)}else this.svgs=[this.renderer.paper.svg];qit(this,this.svgs),this.jazzchords=n};function Qit(e,t,r,n,a){r||(r="Untitled");var o=t.querySelector("svg");n==="resize"&&(t.style.paddingBottom="");for(var l=o.querySelector("style"),c=n==="resize"?o.viewBox.baseVal.width:o.getAttribute("width"),u=t.querySelectorAll("svg > g"),h=0,f=[],d=0;d<u.length;d++){var p=u[d],g=p.getBBox(),m=g.y-h,y=g.height+m,b=document.createElement("div"),x="overflow: hidden;";n!=="resize"&&(x+="height:"+y*a+"px;"),b.setAttribute("style",x);var T=Jit(o),w='Sheet Music for "'+r+'" section '+(d+1);T.setAttribute("aria-label",w),n!=="resize"&&T.setAttribute("height",y),n==="resize"&&(T.style.position="");var E=e.firefox112?y+1:y;T.setAttribute("viewBox","0 "+h+" "+c+" "+E),T.appendChild(l.cloneNode(!0));var S=document.createElement("title");S.innerText=w,T.appendChild(S),T.appendChild(p),b.appendChild(T),f.push(T),t.appendChild(b),h=g.y+g.height}return t.removeChild(o),f}function Jit(e){for(var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg"),n=0;n<e.attributes.length;n++){var a=e.attributes[n];a.name!=="height"&&a.name!="aria-label"&&r.setAttribute(a.name,a.value)}return r}Au.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim};Au.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e};var Fue=Au,eat=lA,Bue=Fue,tat=jce,rat=Hce,Ew={};function OG(){var e=window.innerWidth;for(var t in Ew)if(Ew.hasOwnProperty(t)){var r=Ew[t],n=r.offsetLeft;e-=n*2,r.style.width=e+"px"}}try{window.addEventListener("resize",OG),window.addEventListener("orientationChange",OG)}catch{}function $ue(e,t,r,n,a){r.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',r.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",Ew[e.id]=e,e=e.children[0]):r.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var o=new Bue(e,r);if(o.engraveABC(t,n,a),t.engraver=o,r.viewportVertical||r.viewportHorizontal){var l=e.parentNode;l.style.width=e.style.width}}var nat=function(e,t,r,n,a){var o={},l;if(r){for(l in r)r.hasOwnProperty(l)&&(o[l]=r[l]);o.warnings_id&&o.tablature&&(o.tablature.warning_id=o.warnings_id)}if(n)for(l in n)n.hasOwnProperty(l)&&(l==="listener"?n[l].highlight&&(o.clickListener=n[l].highlight):o[l]=n[l]);if(a)for(l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);function c(u,h,f,d){var p=!1;return u==="*"&&(p=!0,u=document.createElement("div"),u.setAttribute("style","visibility: hidden;"),document.body.appendChild(u)),!p&&o.wrap&&o.staffwidth?(h=iat(u,h,f,d,o),h):(o.afterParsing&&o.afterParsing(h,f,d),$ue(u,h,o,f,0),p&&u.parentNode.removeChild(u),null)}return eat.renderEngine(c,e,t,o)};function iat(e,t,r,n,a){var o=new Bue(e,a),l=o.getMeasureWidths(t),c=rat.calcLineWraps(t,l,a);if(c.reParse){var u=new tat;u.parse(n,c.revisedParams),t=u.getTune();var h=u.getWarnings();h&&(t.warnings=h)}return a.afterParsing&&a.afterParsing(t,r,n),$ue(e,t,c.revisedParams,r,0),t.explanation=c.explanation,t}var Hue=nat,aat=lA,sat=Fue,oat=function(e,t){function r(n,a,o,l){n=document.createElement("div"),n.setAttribute("style","visibility: hidden;"),document.body.appendChild(n);var c=new sat(n,t),u=c.getMeasureWidths(a);return n.parentNode.removeChild(n),{sections:u}}return aat.renderEngine(r,"*",e,t)},lat=oat,cat={},EM=cat,FC=EM,uat=function(e,t,r,n){FC[t]||(FC[t]={});var a=FC[t];return a[r]||(a[r]=new Promise(function(o,l){var c=new XMLHttpRequest;let u=e+t+"-mp3/"+r+".mp3";c.open("GET",u,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status!==200){l(Error("Can't load sound at "+u+" status="+c.status));return}var h=function(d){o({instrument:t,name:r,status:"loaded",audioBuffer:d})},f=n.decodeAudioData(c.response,h,function(){l(Error("Can't decode sound at "+u))});f&&typeof f.catch=="function"&&f.catch(l)},c.onerror=function(){l(Error("Can't load sound at "+u))},c.send()}).catch(o=>{throw console.error("Didn't load note",t,r,":",o.message),o})),a[r]},hat=uat,fat=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],SM=fat,BC=SM,dat=function(e){for(var t=[],r=0;r<e.tracks.length;r++)t.push([]);var n=BC[0];return e.tracks.forEach(function(a,o){a.forEach(function(l){switch(l.cmd){case"note":var c=l.instrument!==void 0?BC[l.instrument]:n;if(l.duration>0){var u=l.gap?l.gap:0,h=l.duration;u=Math.min(u,h*2/3);var f={pitch:l.pitch,instrument:c,start:Math.round(l.start*1e6)/1e6,end:Math.round((l.start+h-u)*1e6)/1e6,volume:l.volume};l.startChar&&(f.startChar=l.startChar),l.endChar&&(f.endChar=l.endChar),l.style&&(f.style=l.style),l.cents&&(f.cents=l.cents),t[o].push(f)}break;case"program":n=BC[l.instrument];break;case"text":break;default:console.log("Unhandled midi event",l)}})}),t},pat=dat;function gat(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}var fA=gat,mat=fA;function vat(){return window.abcjsAudioContext||mat(),window.abcjsAudioContext}var Mv=vat,yat=Mv;function bat(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=yat();if(e)return e.resume!==void 0}var dA=bat,xat={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},AM=xat,Tat=function(e){return window.URL.createObjectURL(wat(e.audioBuffers))};function wat(e){var t=e[0],r=t.numberOfChannels,n=t.length*r*2+44,a=new ArrayBuffer(n),o=new DataView(a),l=[],c,u,h=0,f=0;for(p(1179011410),p(n-8),p(1163280727),p(544501094),p(16),d(1),d(r),p(t.sampleRate),p(t.sampleRate*2*r),d(r*2),d(16),p(1635017060),p(n-f-4),c=0;c<r;c++)l.push(t.getChannelData(c));for(;f<n;){for(c=0;c<l.length;c++)u=Math.max(-1,Math.min(1,l[c][h])),u=(.5+u<0?u*32768:u*32767)|0,o.setInt16(f,u,!0),f+=2;h++}return new Blob([a],{type:"audio/wav"});function d(g){o.setUint16(f,g,!0),f+=2}function p(g){o.setUint32(f,g,!0),f+=4}}var Eat=Tat;function Sat(e){return Math.pow(2,e/1200)}var Uue=Sat,_G=EM,Aat=AM,kat=Uue;function Cat(e,t,r,n,a,o,l,c,u){var h=window.OfflineAudioContext||window.webkitOfflineAudioContext,f=r.len*r.tempoMultiplier;o&&(f+=o/1e3),f-=c,f<0&&(f=.005);var d=new h(2,Math.floor((f+l)*t),t),p=Aat[r.pitch];if(!_G[r.instrument])return u&&u("placeNote skipped (instrument empty): "+r.instrument+":"+p),Promise.resolve();var g=_G[r.instrument][p];return g?g.then(function(m){var y=d.createBufferSource();y.buffer=m.audioBuffer;var b=r.volume/96*a;y.gainNode=d.createGain(),r.pan&&d.createStereoPanner&&(y.panNode=d.createStereoPanner(),y.panNode.pan.setValueAtTime(r.pan,0)),y.gainNode.gain.value=b,y.gainNode.gain.linearRampToValueAtTime(y.gainNode.gain.value,f),y.gainNode.gain.linearRampToValueAtTime(0,f+l),r.cents&&(y.playbackRate.value=kat(r.cents)),y.panNode?(y.panNode.connect(d.destination),y.gainNode.connect(y.panNode)):y.gainNode.connect(d.destination),y.connect(y.gainNode),y.start(0),y.noteOff?y.noteOff(f+l):y.stop(f+l);var x;return d.oncomplete=function(T){if(T.renderedBuffer&&T.renderedBuffer.getChannelData)for(var w=0;w<n.length;w++){var E=n[w]*r.tempoMultiplier;o&&(E-=o/1e3),E<0&&(E=0),E=Math.floor(E*t),Iat(e,T.renderedBuffer,E)}u&&u("placeNote: "+r.instrument+":"+p),x()},d.startRendering(),new Promise(function(T){x=T})}).catch(function(m){return u&&u("placeNote catch: "+m.message),Promise.resolve()}):(u&&u("placeNote skipped: "+r.instrument+":"+p),Promise.resolve())}var Iat=function(e,t,r){for(var n=0;n<2;n++)for(var a=t.getChannelData(n),o=e.getChannelData(n),l=0;l<a.length;l++)o[l+r]+=a[l]},Rat=Cat,Oat=hat,_at=pat,Nat=fA,Hn=Mv,Lat=dA,Mat=AM,a4=SM,Dat=Eat,Pat=Rat,NG=EM,jf="MIDI is not supported in this browser.",LG="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",MG="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",Fat="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function Bat(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.options=void 0,e.pickupLength=0,e.init=function(n){n||(n={}),n.options&&(e.options=n.options),Nat(n.audioContext);var a=Hn().currentTime;if(e.debugCallback=n.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:jf});var o=n.options?n.options:{};e.soundFontUrl=o.soundFontUrl?o.soundFontUrl:MG,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),o.soundFontVolumeMultiplier||o.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=o.soundFontVolumeMultiplier:e.soundFontUrl===MG||e.soundFontUrl===Fat?e.soundFontVolumeMultiplier=3:e.soundFontUrl===LG?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,o.programOffsets?e.programOffsets=o.programOffsets:e.soundFontUrl===LG?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var l=o.fadeLength!==void 0?parseInt(o.fadeLength,10):NaN;if(e.fadeLength=isNaN(l)?200:l,l=o.noteEnd!==void 0?parseInt(o.noteEnd,10):NaN,e.noteEnd=isNaN(l)?0:l,e.pan=o.pan,e.meterSize=1,n.visualObj){e.flattened=n.visualObj.setUpAudio(o);var c=n.visualObj.getMeterFraction();c.den&&(e.meterSize=n.visualObj.getMeterFraction().num/n.visualObj.getMeterFraction().den),e.pickupLength=n.visualObj.getPickupLength()}else if(n.sequence)e.flattened=n.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=n.millisecondsPerMeasure?n.millisecondsPerMeasure:n.visualObj?n.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=n.visualObj?n.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=o.sequenceCallback,e.callbackContext=o.callbackContext,e.onEnded=o.onEnded,e.meterFraction=n.visualObj?n.visualObj.getMeterFraction():{den:1};var u={},h=[],f=[],d=a4[0];e.flattened.tracks.forEach(function(b){b.forEach(function(x){if(x.cmd==="program"&&a4[x.instrument]&&(d=a4[x.instrument]),x.pitch!==void 0){var T=x.pitch,w=Mat[T],E=x.instrument!==void 0?a4[x.instrument]:d;if(w)if(u[E]||(u[E]={}),!NG[E]||!NG[E][w])u[E][w]=!0;else{var S=E+":"+w;h.indexOf(S)<0&&h.push(S)}else{var C=E+":"+w;console.log("Can't find note: ",T,C),f.indexOf(C)<0&&f.push(C)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((Hn().currentTime-a)*1e3)+"ms"),a=Hn().currentTime;var p=[];Object.keys(u).forEach(function(b){Object.keys(u[b]).forEach(function(x){p.push({instrument:b,note:x})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(p));for(var g=[],m=256,y=0;y<p.length;y+=m)g.push(p.slice(y,y+m));return new Promise(function(b,x){var T={cached:h,error:f,loaded:[]},w=0,E=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+w+" len="+g.length),w<g.length?e._loadBatch(g[w],e.soundFontUrl,a).then(function(S){e.debugCallback&&e.debugCallback("loadBatch then"),a=Hn().currentTime,S&&(S.error&&(T.error=T.error.concat(S.error)),S.loaded&&(T.loaded=T.loaded.concat(S.loaded))),w++,E()},x):(e.debugCallback&&e.debugCallback("resolve init"),b(T))};E()})},e._loadBatch=function(n,a,o,l){var c=[];return n.forEach(function(u){e.debugCallback&&e.debugCallback("getNote "+u.instrument+":"+u.note),c.push(Oat(a,u.instrument,u.note,Hn()))}),Promise.all(c).then(function(u){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((Hn().currentTime-o)*1e3)+"ms");for(var h=[],f=[],d=[],p=[],g=0;g<u.length;g++){var m=u[g],y=m.instrument+":"+m.name;m.status==="loaded"?h.push(y):m.status==="pending"?d.push(y):m.status==="cached"?f.push(y):p.push(y+" "+m.message)}if(d.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(d)),l?l=l*2:l=50,l<9e4)return new Promise(function(T,w){setTimeout(function(){var E=[];for(g=0;g<d.length;g++)y=d[g].split(":"),E.push({instrument:y[0],note:y[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(E)),e._loadBatch(E,a,o,l).then(function(S){T(S)}).catch(function(S){w(S)})},l)});for(var b=[],x=0;x<n.length;x++)b.push(n[x].instrument+"/"+n[x].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+b.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:h,cached:f,error:p})}).catch(function(u){e.debugCallback&&e.debugCallback("loadBatch catch "+u.message)})},e.prime=function(){var n=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(a){var o=Hn().currentTime,l=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*l,e.duration<=0)return e.audioBuffers=[],a({status:"empty",seconds:0});e.duration+=n;var c=Math.floor(Hn().sampleRate*e.duration);e.stop();var u=_at(e.flattened);e.options.swing&&r(u,e.options.swing,e.meterFraction,e.pickupLength),e.sequenceCallback&&e.sequenceCallback(u,e.callbackContext);var h=t(u.length,e.pan),f={};u.forEach(function(T,w){var E=h&&h.length>w?h[w]:0;T.forEach(function(S){var C=S.instrument+":"+S.pitch+":"+S.volume+":"+Math.round((S.end-S.start)*1e3)/1e3+":"+E+":"+l+":"+(S.cents?S.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+C),f[C]||(f[C]=[]),f[C].push(S.start)})});for(var d=[],p=Hn().createBuffer(2,c,Hn().sampleRate),g=0;g<Object.keys(f).length;g++){var m=Object.keys(f)[g],y=m.split(":"),b=y[6]!==void 0?parseFloat(y[6]):0;y={instrument:y[0],pitch:parseInt(y[1],10),volume:parseInt(y[2],10),len:parseFloat(y[3]),pan:parseFloat(y[4]),tempoMultiplier:parseFloat(y[5]),cents:b},d.push(Pat(p,Hn().sampleRate,y,f[m],e.soundFontVolumeMultiplier,e.programOffsets[y.instrument],n,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[p],e.debugCallback&&(e.debugCallback("sampleRate = "+Hn().sampleRate),e.debugCallback("totalSamples = "+c),e.debugCallback("creationTime = "+Math.floor((Hn().currentTime-o)*1e3)+"ms"));function x(T){var w=T&&T.audioBuffers&&T.audioBuffers.length>0?T.audioBuffers[0].duration:0;return{status:Hn().state,duration:w}}Promise.all(d).then(function(){Hn().state==="suspended"?Hn().resume().then(function(){a(x(e))}):Hn().state==="interrupted"?Hn().suspend().then(function(){Hn().resume().then(function(){a(x(e))})}):a(x(e))})})):Promise.reject(new Error(jf))};function t(n,a){if(a==null)return null;var o=[];if(a.length){for(var l=0;l<n;l++)if(l<a.length){var c=parseFloat(a[l]);c<-1?c=-1:c>1&&(c=1),o.push(c)}else o.push(0);return o}else{var u=parseFloat(a);if(u*(n-1)>2)return null;for(var h=n%2===0,f=h?0-u/2:0,d=f+u,p=0;p<n;p++)h=p%2===0,h?(o.push(f),f-=u):(o.push(d),d+=u);return o}}e.start=function(){if(!e.audioBufferPossible)throw new Error(jf);e.debugCallback&&e.debugCallback("start called");var n=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(n),e.startTimeSec=Hn().currentTime-n,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(jf);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(n,a){var o;switch(a){case"seconds":o=n;break;case"beats":o=n*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:o=(e.duration-e.fadeLength/1e3)*n;break}if(!e.audioBufferPossible)throw new Error(jf);e.debugCallback&&e.debugCallback("seek called sec="+o),e.isRunning?(e.stop(),e._kickOffSound(o)):e.pausedTimeSec=o,e.pausedTimeSec=o},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(a){try{a.stop()}catch(o){console.log("direct source didn't stop:",o)}}),e.directSource=[];var n=Hn().currentTime-e.startTimeSec;return n},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return Dat(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return Lat()?!0:(console.warn(jf),e.debugCallback&&e.debugCallback(jf),!1)},e._kickOffSound=function(n){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(a,o){e.directSource[o]=Hn().createBufferSource(),e.directSource[o].buffer=a,e.directSource[o].connect(Hn().destination)}),e.directSource.forEach(function(a){a.start(0,n)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})};function r(n,a,o,l){if(!(o.den!=4&&o.den!=8)&&(a=parseFloat(a),!(isNaN(a)||a<=50))){a>75&&(a=75),a=a/50-1;var c=0,u=.25;o.den===8&&(u=u/2);for(var h=u/2,f=h*a,d=0;d<n.length;d++)for(var p=n[d],g=0;g<p.length;g++){var m=p[g];if((m.start-l)%h==0&&(m.start-l)%u!=0&&(g==0||p[g-1].start<=p[g].start-h)&&(g==p.length-1||p[g+1].start>=p[g].start+h)){var y=m.start;m.start+=f,m.volume*=1+c,g>0&&p[g-1].end==y&&(p[g-1].end=m.start,p[g-1].volume*=1-c)}}}}}var kM=Bat,$at=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,r){e.tracks[t].push({channel:0,cmd:"program",instrument:r}),e.currentInstrument[t]=r},e.appendNote=function(t,r,n,a,o){var l={cmd:"note",duration:n,gap:0,instrument:e.currentInstrument[t],pitch:r,start:e.starts[t],volume:a};o&&(l.cents=o),e.tracks[t].push(l),e.starts[t]+=n,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}},Wue=$at,Hat=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,Uat=Hat,Wat=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,zat=Wat,Gat=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,Yat=Gat,Vat=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,qat=Vat,jat=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,Xat=jat,Kat=dA,zue=fA,Z2=Mv,Zat=Uat,Qat=zat,Jat=Yat,est=qat,tst=Xat;function rst(e,t){var r=this;if(typeof e=="string"){var n=e;if(e=document.querySelector(n),!e)throw new Error('Cannot find element "'+n+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(r.parent=e,r.options={},t&&(r.options=Object.assign({},t)),r.options.ac&&zue(r.options.ac),nst(r.parent,r.options),ist(r),r.disable=function(o){var l=r.parent.querySelector(".abcjs-inline-audio");o?l.classList.add("abcjs-disabled"):l.classList.remove("abcjs-disabled")},r.setWarp=function(o,l){var c=r.parent.querySelector(".abcjs-midi-tempo");c.value=Math.round(l),r.setTempo(o)},r.setTempo=function(o){var l=r.parent.querySelector(".abcjs-midi-current-tempo");l&&(l.innerHTML=Math.round(o))},r.resetAll=function(){for(var o=r.parent.querySelectorAll(".abcjs-pushed"),l=0;l<o.length;l++){var c=o[l];c.classList.remove("abcjs-pushed")}},r.pushPlay=function(o){var l=r.parent.querySelector(".abcjs-midi-start");l&&(o?l.classList.add("abcjs-pushed"):l.classList.remove("abcjs-pushed"))},r.pushLoop=function(o){var l=r.parent.querySelector(".abcjs-midi-loop");l&&(o?l.classList.add("abcjs-pushed"):l.classList.remove("abcjs-pushed"))},r.setProgress=function(o,l){var c=r.parent.querySelector(".abcjs-midi-progress-background"),u=r.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!c||!u)){var h=c.clientWidth,f=h*o;u.style.left=f+"px";var d=r.parent.querySelector(".abcjs-midi-clock");if(d){var p=l*o/1e3,g=Math.floor(p/60),m=Math.floor(p%60),y=m<10?"0"+m:m;d.innerHTML=g+":"+y}}},r.options.afterResume){var a=!1;r.options.ac?a=r.options.ac.state!=="suspended":Z2()&&(a=Z2().state!=="suspended"),a&&r.options.afterResume()}}function nst(e,t){var r=!!t.loopHandler,n=!!t.restartHandler,a=!!t.playHandler||!!t.playPromiseHandler,o=!!t.progressHandler,l=!!t.warpHandler,c=t.hasClock!==!1,u=`<div class="abcjs-inline-audio">
`;if(r){var h=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.",f=t.repeatAria?t.repeatAria:h;u+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+h+'" aria-label="'+f+'">'+Zat+`</button>
`}if(n){var d=t.restartTitle?t.restartTitle:"Click to go to beginning.",p=t.restartAria?t.restartAria:d;u+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+d+'" aria-label="'+p+'">'+tst+`</button>
`}if(a){var g=t.playTitle?t.playTitle:"Click to play/pause.",m=t.playAria?t.playAria:g;u+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+g+'" aria-label="'+m+'">'+Qat+Jat+est+`</button>
`}if(o){var y=t.randomTitle?t.randomTitle:"Click to change the playback position.",b=t.randomAria?t.randomAria:y;u+='<button type="button" class="abcjs-midi-progress-background" title="'+y+'" aria-label="'+b+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(c&&(u+=`<span class="abcjs-midi-clock"></span>
`),l){var x=t.warpTitle?t.warpTitle:"Change the playback speed.",T=t.warpAria?t.warpAria:x,w=t.bpm?t.bpm:"BPM";u+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+x+'" aria-label="'+T+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+w+`)</span></span>
`}u+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',u+=`</div>
`,e.innerHTML=u}function Hy(e,t,r,n,a){var o=!0;if(Z2()?o=Z2().state==="suspended":zue(),!Kat())throw{status:"NotSupported",message:"This browser does not support audio."};(o||a)&&r&&r.classList.add("abcjs-loading"),o?Z2().resume().then(function(){n?n().then(function(l){$C(e,t,r,a)}):$C(e,t,r,a)}):$C(e,t,r,a)}function $C(e,t,r,n){n?e(t).then(function(){r&&r.classList.remove("abcjs-loading")}):(e(t),r&&r.classList.remove("abcjs-loading"))}function ist(e){var t=!!e.options.loopHandler,r=!!e.options.restartHandler,n=!!e.options.playHandler||!!e.options.playPromiseHandler,a=!!e.options.progressHandler,o=!!e.options.warpHandler,l=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(c){Hy(e.options.loopHandler,c,l,e.options.afterResume)}),r&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(c){Hy(e.options.restartHandler,c,l,e.options.afterResume)}),n&&l.addEventListener("click",function(c){Hy(e.options.playPromiseHandler||e.options.playHandler,c,l,e.options.afterResume,!!e.options.playPromiseHandler)}),a&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(c){Hy(e.options.progressHandler,c,l,e.options.afterResume)}),o&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(c){Hy(e.options.warpHandler,c,l,e.options.afterResume)})}var Gue=rst,ast=Wue,sst=kM,ost=Mv;function lst(e,t,r,n,a){for(var o=new ast,l=0;l<e.length;l++){var c=e[l],u=o.addTrack();if(o.setInstrument(u,c.instrument),l===0&&t)for(var h=0;h<t.length;h++){var f=t[h];o.appendNote(u,f.pitch,1/64,f.volume,f.cents)}o.appendNote(u,c.pitch,c.duration,c.volume,c.cents)}var d=ost();return d.state==="suspended"?d.resume().then(function(){return DG(o,r,n,a)}):DG(o,r,n,a)}function DG(e,t,r,n){var a=new sst;return a.init({sequence:e,millisecondsPerMeasure:t,options:{soundFontUrl:r},debugCallback:n}).then(function(){return a.prime()}).then(function(){return a.start(),Promise.resolve()})}var cst=lst,ust=Gue,hst=kM,fst=aM,PG=Mv;function dst(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(r,n,a){a||(a={}),a.displayPlay===void 0&&(a.displayPlay=!0),a.displayProgress===void 0&&(a.displayProgress=!0),e.control=new ust(r,{loopHandler:a.displayLoop?e.toggleLoop:void 0,restartHandler:a.displayRestart?e.restart:void 0,playPromiseHandler:a.displayPlay?e.play:void 0,progressHandler:a.displayProgress?e.randomAccess:void 0,warpHandler:a.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=n,e.disable(!0)},e.disable=function(r){e.control&&e.control.disable(r)},e.setTune=function(r,n,a){return e.visualObj=r,e.disable(!1),e.options=a||{},e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,n?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var r=e.visualObj.millisecondsPerMeasure()*100/e.warp;e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/r*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0;var n;return e.midiBuffer||(e.midiBuffer=new hst),PG().resume().then(function(a){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:r})}).then(function(a){return n=a,e.midiBuffer.prime()}).then(function(){var a=16;return e.cursorControl&&e.cursorControl.beatSubdivisions!==void 0&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(a=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new fst(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:a}),e.cursorControl&&e.cursorControl.onReady&&typeof e.cursorControl.onReady=="function"&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:n})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)};function t(r){return new Promise(function(n){setTimeout(n,r)})}e.runWhenReady=function(r,n){return e.visualObj?e.isLoading?t(500).then(function(){return e.isLoading?e.runWhenReady(r,n):r(n)}):e.isLoaded?r(n):e.go().then(function(){return r(n)}):Promise.resolve({status:"loading"})},e._play=function(){return PG().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&typeof e.cursorControl.onStart=="function"&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(r){return e.runWhenReady(e._randomAccess,r)},e._randomAccess=function(r){var n=r.target.classList.contains("abcjs-midi-progress-indicator")?r.target.parentNode:r.target,a=(r.x-n.getBoundingClientRect().left)/n.offsetWidth;return a<0&&(a=0),a>1&&(a=1),e.seek(a),Promise.resolve({status:"ok"})},e.seek=function(r,n){e.timer&&e.midiBuffer&&(e.timer.setProgress(r,n),e.midiBuffer.seek(r,n))},e.setWarp=function(r){if(parseInt(r,10)>0){e.warp=parseInt(r,10);var n=e.isStarted,a=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(a,e.midiBuffer.duration*1e3),e.control&&e.control.setWarp(e.currentTempo,e.warp),n?e.play().then(function(){return e.seek(a),Promise.resolve()}):(e.seek(a),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(r){var n=r.target.value;return e.setWarp(n)},e.setProgress=function(r,n){e.percent=r,e.control&&e.control.setProgress(r,n)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&typeof e.cursorControl.onFinished=="function"&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(r,n,a,o){var l=r/n;e.setProgress(l,a),e.cursorControl&&e.cursorControl.onBeat&&typeof e.cursorControl.onBeat=="function"&&e.cursorControl.onBeat(r,n,a,o)},e.eventCallback=function(r){if(r)e.cursorControl&&e.cursorControl.onEvent&&typeof e.cursorControl.onEvent=="function"&&e.cursorControl.onEvent(r);else return e.finished()},e.lineEndCallback=function(r,n){e.cursorControl&&e.cursorControl.onLineEnd&&typeof e.cursorControl.onLineEnd=="function"&&e.cursorControl.onLineEnd(r,n)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(r){var n=e.getUrl(),a=document.createElement("a");document.body.appendChild(a),a.setAttribute("style","display: none;"),a.href=n,a.download=r||"output.wav",a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}}var Yue=dst,pst=Uue,Vue;(function(){function e(f,d){for(var p in d)d.hasOwnProperty(p)&&f.setAttribute(p,d[p]);return f}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(f){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+c(Math.round(6e7/f),6),this.endTrack())},t.prototype.setGlobalInfo=function(f,d,p,g){if(this.trackcount===0){this.startTrack();var m=Math.round(6e7/f);this.track+="%00%FF%51%03"+c(m,6),p&&(this.track+=a(p)),g&&(this.track+=o(g)),d&&(this.track+=n(d,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var f=c(this.track.length/3+4,8);this.track="MTrk"+f+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(f,d){switch(f){case"name":this.trackName=n(d,"%03");break}},t.prototype.setInstrument=function(f){this.trackInstrument="%00%C0"+c(f,2),this.instrument=f},t.prototype.setChannel=function(f,d){this.channel=f;var p="%00%B"+this.channel.toString(16);this.track+=p+"%79%00",this.track+=p+"%40%00",this.track+=p+"%5B%30",d||(d=0),d=Math.round((d+1)*64),this.track+=p+"%0A"+c(d,2),this.track+=p+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var r=4096;t.prototype.startNote=function(f,d,p){if(this.track+=h(this.silencelength),this.silencelength=0,p){this.track+="%e"+this.channel.toString(16);var g=Math.round(pst(p)*r);this.track+=u(8192+g),this.track+=h(0),this.noteWarped[f]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+f.toString(16)+c(d,2)},t.prototype.endNote=function(f){this.track+=h(this.silencelength),this.silencelength=0,this.noteWarped[f]&&(this.track+="%e"+this.channel.toString(16),this.track+=u(8192),this.track+=h(0),this.noteWarped[f]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+f.toString(16)+"%00"},t.prototype.addRest=function(f){this.silencelength+=f,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+c(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(f,d){var p=this.getData(),g=e(document.createElement("a"),{href:p});if(g.innerHTML="download midi",f.insertBefore(g,f.firstChild),!d){var m=e(document.createElement("embed"),{src:p,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});f.insertBefore(m,f.firstChild)}};function n(f,d){for(var p="",g=0;g<f.length;g++)p+=c(f.charCodeAt(g),2);return"%00%FF"+d+c(p.length/3,2)+p}function a(f){if(!f||!f.accidentals)return"";for(var d="%00%FF%59%02",p=0,g=256,m=0;m<f.accidentals.length;m++)f.accidentals[m].acc==="sharp"?p++:f.accidentals[m].acc==="flat"&&g--;var y=c(g!==256?g:p,2),b=f.mode==="m"?"%01":"%00";return d+y+b}function o(f){var d="%00%FF%58%04"+c(f.num,2),p={1:0,2:1,4:2,8:3,16:4,32:5},g=p[f.den];if(!g)return"";d+=c(g,2);var m;switch(f.num+"/"+f.den){case"2/4":case"3/4":case"4/4":case"5/4":m=24;break;case"6/4":m=72;break;case"2/2":case"3/2":case"4/2":m=48;break;case"3/8":case"6/8":case"9/8":case"12/8":m=36;break}return m?(d+=c(m,2),d+"%08"):""}function l(f){for(var d="",p=0;p<f.length;p+=2)d+="%",d+=f.substr(p,2);return d}function c(f,d){var p=f.toString(16);for(p=p.split(".")[0];p.length<d;)p="0"+p;return p.length>d&&(p=p.substring(0,d)),l(p)}function u(f){f=Math.round(f);var d=f%128,p=f-d;return c(p*2+d,4)}function h(f){var d=0,p=[];for(f=Math.round(f);f!==0;)p.push(f&127),f=f>>7;for(var g=p.length-1;g>=0;g--){d=d<<8;var m=p[g];g!==0&&(m=m|128),d=d|m}var y=d.toString(16).length;return y+=y%2,c(d,y)}Vue=function(){return new t}})();var que=Vue,gst=que,jue;(function(){var e=1920;jue=function(n,a){a===void 0&&(a={});var o=n.setUpAudio(a),l=gst(),c=n.metaText?n.metaText.title:void 0;c&&c.length>128&&(c=c.substring(0,124)+"...");var u=n.getKeySignature(),h=n.getMeterFraction(),f=o.tempo,d=f/60;if(h.den==8){var p=n.millisecondsPerMeasure();f=6e4/(p/h.num)/2,d=f/60}l.setGlobalInfo(f,c,u,h);for(var g=0;g<o.tracks.length;g++){l.startTrack();for(var m={},y=0;y<o.tracks[g].length;y++){var b=o.tracks[g][y];switch(b.cmd){case"text":l.setText(b.type,b.text);break;case"program":var x=0;a.pan&&a.pan.length>g&&(x=a.pan[g]),b.instrument===128?(l.setChannel(9,x),l.setInstrument(0)):(l.setChannel(b.channel,x),l.setInstrument(b.instrument));break;case"note":var T=b.gap*d,w=b.start,E=w+b.duration-T;m[w]||(m[w]=[]),m[w].push({pitch:b.pitch,volume:b.volume,cents:b.cents}),m[E]||(m[E]=[]),m[E].push({pitch:b.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+b.cmd)}}t(l,m,e),l.endTrack()}return l.getData()};function t(r,n,a){for(var o=Object.keys(n),l=0;l<o.length;l++)o[l]=parseFloat(o[l]);o.sort(function(g,m){return g-m});for(var c=0,u=0;u<o.length;u++){var h=n[o[u]];if(o[u]>c){var f=(o[u]-c)*a;r.addRest(f),c=o[u]}for(var d=0;d<h.length;d++){var p=h[d];p.volume?r.startNote(p.pitch,p.volume,p.cents):r.endNote(p.pitch)}}}})();var mst=jue,vst=lA,yst=mst,bst=function(e,t){var r={};if(t)for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.generateInline=!1;function a(o,l,c){var u=yst(l,r);switch(r.midiOutputType){case"encoded":return u;case"binary":var h=u.replace("data:audio/midi,","");h=h.replace(/MThd/g,"%4d%54%68%64"),h=h.replace(/MTrk/g,"%4d%54%72%6b");for(var f=new ArrayBuffer(h.length/3),d=new Uint8Array(f),p=0;p<h.length/3;p++){var g=p*3+1,m=parseInt(h.substring(g,g+2),16);d[p]=m}return d;case"link":default:return Tst(l,r,u,c)}}return typeof e=="string"?vst.renderEngine(a,"*",e,r):a(null,e,0)};function xst(e){var t={};return e&&t.toString.call(e)==="[object Function]"}var Tst=function(e,t,r,n){var a=["abcjs-download-midi","abcjs-midi-"+n];t.downloadClass&&a.push(t.downloadClass);var o='<div class="'+a.join(" ")+'">';t.preTextDownload&&(o+=t.preTextDownload);var l=e.metaText&&e.metaText.title?e.metaText.title:"Untitled",c;t.downloadLabel&&xst(t.downloadLabel)?c=t.downloadLabel(e,n):t.downloadLabel?c=t.downloadLabel.replace(/%T/,l):c='Download MIDI for "'+l+'"',l=l.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var u=t.fileName?t.fileName:l+".midi";return o+='<a download="'+u+'" href="'+r+'">'+c+"</a>",t.postTextDownload&&(o+=t.postTextDownload),o+"</div>"},wst=bst;try{if(typeof window.CustomEvent!="function"){var FG=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};FG.prototype=window.Event.prototype,window.CustomEvent=FG}}catch{}var Af=function(e){typeof e=="string"?this.textarea=document.getElementById(e):this.textarea=e,this.initialText=this.textarea.value,this.isDragging=!1};Af.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}};Af.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}};Af.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};Af.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var r=this.textarea.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}this.textarea.focus()};Af.prototype.getString=function(){return this.textarea.value};Af.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};Af.prototype.getElem=function(){return this.textarea};var Xue=Af,Kue=Vh,Est=Yue,Sst=dA,Ast=Hue,kst=Xue;function Cst(e){var t={},r;if(e.abcjsParams)for(r in e.abcjsParams)e.abcjsParams.hasOwnProperty(r)&&(t[r]=e.abcjsParams[r]);if(e.midi_options)for(r in e.midi_options)e.midi_options.hasOwnProperty(r)&&(t[r]=e.midi_options[r]);if(e.parser_options)for(r in e.parser_options)e.parser_options.hasOwnProperty(r)&&(t[r]=e.parser_options[r]);if(e.render_options)for(r in e.render_options)e.render_options.hasOwnProperty(r)&&(t[r]=e.render_options[r]);return t.tablature&&e.warnings_id&&(t.tablature.warnings_id=e.warnings_id),t}var ss=function(e,t){this.abcjsParams=Cst(t),t.indicate_changed&&(this.indicate_changed=!0),typeof e=="string"?this.editarea=new kst(e):this.editarea=e,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&Sst()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&(typeof t.midi_download_id=="string"?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof t.midi_id=="string"?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?typeof t.warnings_id=="string"?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(r,n){var a=function(o,l){var c=o.className;return c.length>0&&(c===l||new RegExp("(^|\\s)"+l+"(\\s|$)").test(c))};return a(r,n)||(r.className+=(r.className?" ":"")+n),r},this.removeClassName=function(r,n){return r.className=Kue.strip(r.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ")),r},this.setReadOnly=function(r){var n="abc_textarea_readonly",a=this.editarea.getElem();r?(a.setAttribute("readonly","yes"),this.addClassName(a,n)):(a.removeAttribute("readonly"),this.removeClassName(a,n))}};ss.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new Est,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}};ss.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=Ast(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};ss.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()};ss.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}};ss.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)};ss.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)};ss.prototype.fireSelectionChanged=function(){this.updateSelection()};ss.prototype.setDirtyStyle=function(e){if(this.indicate_changed!==void 0){var t=function(o,l){var c=function(u,h){var f=u.className;return f.length>0&&(f===h||new RegExp("(^|\\s)"+h+"(\\s|$)").test(f))};return c(o,l)||(o.className+=(o.className?" ":"")+l),o},r=function(o,l){return o.className=Kue.strip(o.className.replace(new RegExp("(^|\\s+)"+l+"(\\s+|$)")," ")),o},n="abc_textarea_dirty",a=this.editarea.getElem();e?t(a,n):r(a,n)}};ss.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}};ss.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};ss.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};ss.prototype.highlight=function(e,t,r,n,a,o){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,r,n,a,o)};ss.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()};ss.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};ss.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()};var Ist=ss,Rst=nZe,BG=oZe,$G=lA,Ost=Wce,_st=GJe,Pl={};Pl.signature="abcjs-basic v"+Rst;Object.keys(BG).forEach(function(e){Pl[e]=BG[e]});Object.keys($G).forEach(function(e){Pl[e]=$G[e]});Pl.renderAbc=Hue;Pl.tuneMetrics=lat;Pl.TimingCallbacks=aM;var Nst=Ef;Pl.setGlyph=Nst.setSymbol;Pl.strTranspose=_st;var Lst=kM,Mst=SM,Dst=AM,Pst=Wue,Fst=Gue,Bst=fA,$st=Mv,Hst=dA,Ust=cst,Wst=Yue,zst=wst,Gst=que;Pl.synth={CreateSynth:Lst,instrumentIndexToName:Mst,pitchToNoteName:Dst,SynthController:Wst,SynthSequence:Pst,CreateSynthControl:Fst,registerAudioContext:Bst,activeAudioContext:$st,supportsAudio:Hst,playEvent:Ust,getMidiFile:zst,sequence:Ost,midiRenderer:Gst};Pl.Editor=Ist;Pl.EditArea=Xue;var Zue=Pl;const Yst=Wo(Zue),Vst=Gye({__proto__:null,default:Yst},[Zue]);class Io{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new Io(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class yl{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new yl(r,Io.range(this,t))}}class ut{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,a,o,l=r&&r.loc;if(l&&l.start<=l.end){var c=l.lexer.input;a=l.start,o=l.end,a===c.length?n+=" at end of input: ":n+=" at position "+(a+1)+": ";var u=c.slice(a,o).replace(/[^]/g,"$&̲"),h;a>15?h="…"+c.slice(a-15,a):h=c.slice(0,a);var f;o+15<c.length?f=c.slice(o,o+15)+"…":f=c.slice(o),n+=h+u+f}var d=new Error(n);return d.name="ParseError",d.__proto__=ut.prototype,d.position=a,a!=null&&o!=null&&(d.length=o-a),d.rawMessage=t,d}}ut.prototype.__proto__=Error.prototype;var qst=function(t,r){return t.indexOf(r)!==-1},jst=function(t,r){return t===void 0?r:t},Xst=/([A-Z])/g,Kst=function(t){return t.replace(Xst,"-$1").toLowerCase()},Zst={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Qst=/[&><"']/g;function Jst(e){return String(e).replace(Qst,t=>Zst[t])}var Que=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},eot=function(t){var r=Que(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},tot=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},rot=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},qt={contains:qst,deflt:jst,escape:Jst,hyphenate:Kst,getBaseElem:Que,isCharacterBox:eot,protocolFromUrl:rot},Q2={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function not(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class CM{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in Q2)if(Q2.hasOwnProperty(r)){var n=Q2[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:not(n)}}reportNonstrict(t,r,n){var a=this.strict;if(typeof a=="function"&&(a=a(t,r,n)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new ut("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var a=this.strict;if(typeof a=="function")try{a=a(t,r,n)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=qt.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}let s0=class{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return zc[iot[this.id]]}sub(){return zc[aot[this.id]]}fracNum(){return zc[sot[this.id]]}fracDen(){return zc[oot[this.id]]}cramp(){return zc[lot[this.id]]}text(){return zc[cot[this.id]]}isTight(){return this.size>=2}};var IM=0,TE=1,mg=2,gh=3,Kb=4,fl=5,$m=6,Ss=7,zc=[new s0(IM,0,!1),new s0(TE,0,!0),new s0(mg,1,!1),new s0(gh,1,!0),new s0(Kb,2,!1),new s0(fl,2,!0),new s0($m,3,!1),new s0(Ss,3,!0)],iot=[Kb,fl,Kb,fl,$m,Ss,$m,Ss],aot=[fl,fl,fl,fl,Ss,Ss,Ss,Ss],sot=[mg,gh,Kb,fl,$m,Ss,$m,Ss],oot=[gh,gh,fl,fl,Ss,Ss,Ss,Ss],lot=[TE,TE,gh,gh,fl,fl,Ss,Ss],cot=[IM,TE,mg,gh,mg,gh,mg,gh],Qt={DISPLAY:zc[IM],TEXT:zc[mg],SCRIPT:zc[Kb],SCRIPTSCRIPT:zc[$m]},gO=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function uot(e){for(var t=0;t<gO.length;t++)for(var r=gO[t],n=0;n<r.blocks.length;n++){var a=r.blocks[n];if(e>=a[0]&&e<=a[1])return r.name}return null}var Sw=[];gO.forEach(e=>e.blocks.forEach(t=>Sw.push(...t)));function Jue(e){for(var t=0;t<Sw.length;t+=2)if(e>=Sw[t]&&e<=Sw[t+1])return!0;return!1}var p1=80,hot=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},fot=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},dot=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},pot=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},got=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},mot=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},vot=function(t,r,n){var a=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},yot=function(t,r,n){r=1e3*r;var a="";switch(t){case"sqrtMain":a=hot(r,p1);break;case"sqrtSize1":a=fot(r,p1);break;case"sqrtSize2":a=dot(r,p1);break;case"sqrtSize3":a=pot(r,p1);break;case"sqrtSize4":a=got(r,p1);break;case"sqrtTall":a=vot(r,p1,n)}return a},bot=function(t,r){switch(t){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},HG={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},xot=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class b3{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return qt.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}}var Xc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},s4={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},UG={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function ehe(e,t){Xc[e]=t}function RM(e,t,r){if(!Xc[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),a=Xc[t][n];if(!a&&e[0]in UG&&(n=UG[e[0]].charCodeAt(0),a=Xc[t][n]),!a&&r==="text"&&Jue(n)&&(a=Xc[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var HC={};function Tot(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!HC[t]){var r=HC[t]={cssEmPerMu:s4.quad[t]/18};for(var n in s4)s4.hasOwnProperty(n)&&(r[n]=s4[n][t])}return HC[t]}var wot=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],WG=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],zG=function(t,r){return r.size<2?t:wot[t-1][r.size-1]};class ju{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||ju.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=WG[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new ju(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:zG(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:WG[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=zG(ju.BASESIZE,t);return this.size===r&&this.textSize===ju.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ju.BASESIZE?["sizing","reset-size"+this.size,"size"+ju.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Tot(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}ju.BASESIZE=6;var mO={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Eot={ex:!0,em:!0,mu:!0},the=function(t){return typeof t!="string"&&(t=t.unit),t in mO||t in Eot||t==="ex"},Wn=function(t,r){var n;if(t.unit in mO)n=mO[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var a;if(r.style.isTight()?a=r.havingStyle(r.style.text()):a=r,t.unit==="ex")n=a.fontMetrics().xHeight;else if(t.unit==="em")n=a.fontMetrics().quad;else throw new ut("Invalid unit: '"+t.unit+"'");a!==r&&(n*=a.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},mt=function(t){return+t.toFixed(4)+"em"},Q0=function(t){return t.filter(r=>r).join(" ")},rhe=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var a=r.getColor();a&&(this.style.color=a)}},nhe=function(t){var r=document.createElement(t);r.className=Q0(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&r.setAttribute(a,this.attributes[a]);for(var o=0;o<this.children.length;o++)r.appendChild(this.children[o].toNode());return r},Sot=/[\s"'>/=\x00-\x1f]/,ihe=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+qt.escape(Q0(this.classes))+'"');var n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=qt.hyphenate(a)+":"+this.style[a]+";");n&&(r+=' style="'+qt.escape(n)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(Sot.test(o))throw new ut("Invalid attribute name '"+o+"'");r+=" "+o+'="'+qt.escape(this.attributes[o])+'"'}r+=">";for(var l=0;l<this.children.length;l++)r+=this.children[l].toMarkup();return r+="</"+t+">",r};class x3{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,rhe.call(this,t,n,a),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return qt.contains(this.classes,t)}toNode(){return nhe.call(this,"span")}toMarkup(){return ihe.call(this,"span")}}class OM{constructor(t,r,n,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,rhe.call(this,r,a),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return qt.contains(this.classes,t)}toNode(){return nhe.call(this,"a")}toMarkup(){return ihe.call(this,"a")}}class Aot{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return qt.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+qt.escape(this.src)+'"'+(' alt="'+qt.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=qt.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+qt.escape(r)+'"'),t+="'/>",t}}var kot={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class kl{constructor(t,r,n,a,o,l,c,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=a||0,this.skew=o||0,this.width=l||0,this.classes=c||[],this.style=u||{},this.maxFontSize=0;var h=uot(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=kot[this.text])}hasClass(t){return qt.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=mt(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Q0(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=qt.escape(Q0(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=qt.hyphenate(a)+":"+this.style[a]+";");n&&(t=!0,r+=' style="'+qt.escape(n)+'"');var o=qt.escape(this.text);return t?(r+=">",r+=o,r+="</span>",r):o}}class Ah{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+qt.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class J0{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",HG[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+qt.escape(this.alternate)+'"/>':'<path d="'+qt.escape(HG[this.pathName])+'"/>'}}class vO{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+qt.escape(this.attributes[r])+'"');return t+="/>",t}}function GG(e){if(e instanceof kl)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Cot(e){if(e instanceof x3)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var Iot={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Rot={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},bn={math:{},text:{}};function V(e,t,r,n,a,o){bn[e][a]={font:t,group:r,replace:n},o&&n&&(bn[e][n]=bn[e][a])}var Q="math",rt="text",de="main",Ne="ams",Bn="accent-token",It="bin",Ls="close",Dv="inner",Zt="mathord",_i="op-token",Go="open",pA="punct",Me="rel",jh="spacing",Be="textord";V(Q,de,Me,"≡","\\equiv",!0);V(Q,de,Me,"≺","\\prec",!0);V(Q,de,Me,"≻","\\succ",!0);V(Q,de,Me,"∼","\\sim",!0);V(Q,de,Me,"⊥","\\perp");V(Q,de,Me,"⪯","\\preceq",!0);V(Q,de,Me,"⪰","\\succeq",!0);V(Q,de,Me,"≃","\\simeq",!0);V(Q,de,Me,"∣","\\mid",!0);V(Q,de,Me,"≪","\\ll",!0);V(Q,de,Me,"≫","\\gg",!0);V(Q,de,Me,"≍","\\asymp",!0);V(Q,de,Me,"∥","\\parallel");V(Q,de,Me,"⋈","\\bowtie",!0);V(Q,de,Me,"⌣","\\smile",!0);V(Q,de,Me,"⊑","\\sqsubseteq",!0);V(Q,de,Me,"⊒","\\sqsupseteq",!0);V(Q,de,Me,"≐","\\doteq",!0);V(Q,de,Me,"⌢","\\frown",!0);V(Q,de,Me,"∋","\\ni",!0);V(Q,de,Me,"∝","\\propto",!0);V(Q,de,Me,"⊢","\\vdash",!0);V(Q,de,Me,"⊣","\\dashv",!0);V(Q,de,Me,"∋","\\owns");V(Q,de,pA,".","\\ldotp");V(Q,de,pA,"⋅","\\cdotp");V(Q,de,Be,"#","\\#");V(rt,de,Be,"#","\\#");V(Q,de,Be,"&","\\&");V(rt,de,Be,"&","\\&");V(Q,de,Be,"ℵ","\\aleph",!0);V(Q,de,Be,"∀","\\forall",!0);V(Q,de,Be,"ℏ","\\hbar",!0);V(Q,de,Be,"∃","\\exists",!0);V(Q,de,Be,"∇","\\nabla",!0);V(Q,de,Be,"♭","\\flat",!0);V(Q,de,Be,"ℓ","\\ell",!0);V(Q,de,Be,"♮","\\natural",!0);V(Q,de,Be,"♣","\\clubsuit",!0);V(Q,de,Be,"℘","\\wp",!0);V(Q,de,Be,"♯","\\sharp",!0);V(Q,de,Be,"♢","\\diamondsuit",!0);V(Q,de,Be,"ℜ","\\Re",!0);V(Q,de,Be,"♡","\\heartsuit",!0);V(Q,de,Be,"ℑ","\\Im",!0);V(Q,de,Be,"♠","\\spadesuit",!0);V(Q,de,Be,"§","\\S",!0);V(rt,de,Be,"§","\\S");V(Q,de,Be,"¶","\\P",!0);V(rt,de,Be,"¶","\\P");V(Q,de,Be,"†","\\dag");V(rt,de,Be,"†","\\dag");V(rt,de,Be,"†","\\textdagger");V(Q,de,Be,"‡","\\ddag");V(rt,de,Be,"‡","\\ddag");V(rt,de,Be,"‡","\\textdaggerdbl");V(Q,de,Ls,"⎱","\\rmoustache",!0);V(Q,de,Go,"⎰","\\lmoustache",!0);V(Q,de,Ls,"⟯","\\rgroup",!0);V(Q,de,Go,"⟮","\\lgroup",!0);V(Q,de,It,"∓","\\mp",!0);V(Q,de,It,"⊖","\\ominus",!0);V(Q,de,It,"⊎","\\uplus",!0);V(Q,de,It,"⊓","\\sqcap",!0);V(Q,de,It,"∗","\\ast");V(Q,de,It,"⊔","\\sqcup",!0);V(Q,de,It,"◯","\\bigcirc",!0);V(Q,de,It,"∙","\\bullet",!0);V(Q,de,It,"‡","\\ddagger");V(Q,de,It,"≀","\\wr",!0);V(Q,de,It,"⨿","\\amalg");V(Q,de,It,"&","\\And");V(Q,de,Me,"⟵","\\longleftarrow",!0);V(Q,de,Me,"⇐","\\Leftarrow",!0);V(Q,de,Me,"⟸","\\Longleftarrow",!0);V(Q,de,Me,"⟶","\\longrightarrow",!0);V(Q,de,Me,"⇒","\\Rightarrow",!0);V(Q,de,Me,"⟹","\\Longrightarrow",!0);V(Q,de,Me,"↔","\\leftrightarrow",!0);V(Q,de,Me,"⟷","\\longleftrightarrow",!0);V(Q,de,Me,"⇔","\\Leftrightarrow",!0);V(Q,de,Me,"⟺","\\Longleftrightarrow",!0);V(Q,de,Me,"↦","\\mapsto",!0);V(Q,de,Me,"⟼","\\longmapsto",!0);V(Q,de,Me,"↗","\\nearrow",!0);V(Q,de,Me,"↩","\\hookleftarrow",!0);V(Q,de,Me,"↪","\\hookrightarrow",!0);V(Q,de,Me,"↘","\\searrow",!0);V(Q,de,Me,"↼","\\leftharpoonup",!0);V(Q,de,Me,"⇀","\\rightharpoonup",!0);V(Q,de,Me,"↙","\\swarrow",!0);V(Q,de,Me,"↽","\\leftharpoondown",!0);V(Q,de,Me,"⇁","\\rightharpoondown",!0);V(Q,de,Me,"↖","\\nwarrow",!0);V(Q,de,Me,"⇌","\\rightleftharpoons",!0);V(Q,Ne,Me,"≮","\\nless",!0);V(Q,Ne,Me,"","\\@nleqslant");V(Q,Ne,Me,"","\\@nleqq");V(Q,Ne,Me,"⪇","\\lneq",!0);V(Q,Ne,Me,"≨","\\lneqq",!0);V(Q,Ne,Me,"","\\@lvertneqq");V(Q,Ne,Me,"⋦","\\lnsim",!0);V(Q,Ne,Me,"⪉","\\lnapprox",!0);V(Q,Ne,Me,"⊀","\\nprec",!0);V(Q,Ne,Me,"⋠","\\npreceq",!0);V(Q,Ne,Me,"⋨","\\precnsim",!0);V(Q,Ne,Me,"⪹","\\precnapprox",!0);V(Q,Ne,Me,"≁","\\nsim",!0);V(Q,Ne,Me,"","\\@nshortmid");V(Q,Ne,Me,"∤","\\nmid",!0);V(Q,Ne,Me,"⊬","\\nvdash",!0);V(Q,Ne,Me,"⊭","\\nvDash",!0);V(Q,Ne,Me,"⋪","\\ntriangleleft");V(Q,Ne,Me,"⋬","\\ntrianglelefteq",!0);V(Q,Ne,Me,"⊊","\\subsetneq",!0);V(Q,Ne,Me,"","\\@varsubsetneq");V(Q,Ne,Me,"⫋","\\subsetneqq",!0);V(Q,Ne,Me,"","\\@varsubsetneqq");V(Q,Ne,Me,"≯","\\ngtr",!0);V(Q,Ne,Me,"","\\@ngeqslant");V(Q,Ne,Me,"","\\@ngeqq");V(Q,Ne,Me,"⪈","\\gneq",!0);V(Q,Ne,Me,"≩","\\gneqq",!0);V(Q,Ne,Me,"","\\@gvertneqq");V(Q,Ne,Me,"⋧","\\gnsim",!0);V(Q,Ne,Me,"⪊","\\gnapprox",!0);V(Q,Ne,Me,"⊁","\\nsucc",!0);V(Q,Ne,Me,"⋡","\\nsucceq",!0);V(Q,Ne,Me,"⋩","\\succnsim",!0);V(Q,Ne,Me,"⪺","\\succnapprox",!0);V(Q,Ne,Me,"≆","\\ncong",!0);V(Q,Ne,Me,"","\\@nshortparallel");V(Q,Ne,Me,"∦","\\nparallel",!0);V(Q,Ne,Me,"⊯","\\nVDash",!0);V(Q,Ne,Me,"⋫","\\ntriangleright");V(Q,Ne,Me,"⋭","\\ntrianglerighteq",!0);V(Q,Ne,Me,"","\\@nsupseteqq");V(Q,Ne,Me,"⊋","\\supsetneq",!0);V(Q,Ne,Me,"","\\@varsupsetneq");V(Q,Ne,Me,"⫌","\\supsetneqq",!0);V(Q,Ne,Me,"","\\@varsupsetneqq");V(Q,Ne,Me,"⊮","\\nVdash",!0);V(Q,Ne,Me,"⪵","\\precneqq",!0);V(Q,Ne,Me,"⪶","\\succneqq",!0);V(Q,Ne,Me,"","\\@nsubseteqq");V(Q,Ne,It,"⊴","\\unlhd");V(Q,Ne,It,"⊵","\\unrhd");V(Q,Ne,Me,"↚","\\nleftarrow",!0);V(Q,Ne,Me,"↛","\\nrightarrow",!0);V(Q,Ne,Me,"⇍","\\nLeftarrow",!0);V(Q,Ne,Me,"⇏","\\nRightarrow",!0);V(Q,Ne,Me,"↮","\\nleftrightarrow",!0);V(Q,Ne,Me,"⇎","\\nLeftrightarrow",!0);V(Q,Ne,Me,"△","\\vartriangle");V(Q,Ne,Be,"ℏ","\\hslash");V(Q,Ne,Be,"▽","\\triangledown");V(Q,Ne,Be,"◊","\\lozenge");V(Q,Ne,Be,"Ⓢ","\\circledS");V(Q,Ne,Be,"®","\\circledR");V(rt,Ne,Be,"®","\\circledR");V(Q,Ne,Be,"∡","\\measuredangle",!0);V(Q,Ne,Be,"∄","\\nexists");V(Q,Ne,Be,"℧","\\mho");V(Q,Ne,Be,"Ⅎ","\\Finv",!0);V(Q,Ne,Be,"⅁","\\Game",!0);V(Q,Ne,Be,"‵","\\backprime");V(Q,Ne,Be,"▲","\\blacktriangle");V(Q,Ne,Be,"▼","\\blacktriangledown");V(Q,Ne,Be,"■","\\blacksquare");V(Q,Ne,Be,"⧫","\\blacklozenge");V(Q,Ne,Be,"★","\\bigstar");V(Q,Ne,Be,"∢","\\sphericalangle",!0);V(Q,Ne,Be,"∁","\\complement",!0);V(Q,Ne,Be,"ð","\\eth",!0);V(rt,de,Be,"ð","ð");V(Q,Ne,Be,"╱","\\diagup");V(Q,Ne,Be,"╲","\\diagdown");V(Q,Ne,Be,"□","\\square");V(Q,Ne,Be,"□","\\Box");V(Q,Ne,Be,"◊","\\Diamond");V(Q,Ne,Be,"¥","\\yen",!0);V(rt,Ne,Be,"¥","\\yen",!0);V(Q,Ne,Be,"✓","\\checkmark",!0);V(rt,Ne,Be,"✓","\\checkmark");V(Q,Ne,Be,"ℶ","\\beth",!0);V(Q,Ne,Be,"ℸ","\\daleth",!0);V(Q,Ne,Be,"ℷ","\\gimel",!0);V(Q,Ne,Be,"ϝ","\\digamma",!0);V(Q,Ne,Be,"ϰ","\\varkappa");V(Q,Ne,Go,"┌","\\@ulcorner",!0);V(Q,Ne,Ls,"┐","\\@urcorner",!0);V(Q,Ne,Go,"└","\\@llcorner",!0);V(Q,Ne,Ls,"┘","\\@lrcorner",!0);V(Q,Ne,Me,"≦","\\leqq",!0);V(Q,Ne,Me,"⩽","\\leqslant",!0);V(Q,Ne,Me,"⪕","\\eqslantless",!0);V(Q,Ne,Me,"≲","\\lesssim",!0);V(Q,Ne,Me,"⪅","\\lessapprox",!0);V(Q,Ne,Me,"≊","\\approxeq",!0);V(Q,Ne,It,"⋖","\\lessdot");V(Q,Ne,Me,"⋘","\\lll",!0);V(Q,Ne,Me,"≶","\\lessgtr",!0);V(Q,Ne,Me,"⋚","\\lesseqgtr",!0);V(Q,Ne,Me,"⪋","\\lesseqqgtr",!0);V(Q,Ne,Me,"≑","\\doteqdot");V(Q,Ne,Me,"≓","\\risingdotseq",!0);V(Q,Ne,Me,"≒","\\fallingdotseq",!0);V(Q,Ne,Me,"∽","\\backsim",!0);V(Q,Ne,Me,"⋍","\\backsimeq",!0);V(Q,Ne,Me,"⫅","\\subseteqq",!0);V(Q,Ne,Me,"⋐","\\Subset",!0);V(Q,Ne,Me,"⊏","\\sqsubset",!0);V(Q,Ne,Me,"≼","\\preccurlyeq",!0);V(Q,Ne,Me,"⋞","\\curlyeqprec",!0);V(Q,Ne,Me,"≾","\\precsim",!0);V(Q,Ne,Me,"⪷","\\precapprox",!0);V(Q,Ne,Me,"⊲","\\vartriangleleft");V(Q,Ne,Me,"⊴","\\trianglelefteq");V(Q,Ne,Me,"⊨","\\vDash",!0);V(Q,Ne,Me,"⊪","\\Vvdash",!0);V(Q,Ne,Me,"⌣","\\smallsmile");V(Q,Ne,Me,"⌢","\\smallfrown");V(Q,Ne,Me,"≏","\\bumpeq",!0);V(Q,Ne,Me,"≎","\\Bumpeq",!0);V(Q,Ne,Me,"≧","\\geqq",!0);V(Q,Ne,Me,"⩾","\\geqslant",!0);V(Q,Ne,Me,"⪖","\\eqslantgtr",!0);V(Q,Ne,Me,"≳","\\gtrsim",!0);V(Q,Ne,Me,"⪆","\\gtrapprox",!0);V(Q,Ne,It,"⋗","\\gtrdot");V(Q,Ne,Me,"⋙","\\ggg",!0);V(Q,Ne,Me,"≷","\\gtrless",!0);V(Q,Ne,Me,"⋛","\\gtreqless",!0);V(Q,Ne,Me,"⪌","\\gtreqqless",!0);V(Q,Ne,Me,"≖","\\eqcirc",!0);V(Q,Ne,Me,"≗","\\circeq",!0);V(Q,Ne,Me,"≜","\\triangleq",!0);V(Q,Ne,Me,"∼","\\thicksim");V(Q,Ne,Me,"≈","\\thickapprox");V(Q,Ne,Me,"⫆","\\supseteqq",!0);V(Q,Ne,Me,"⋑","\\Supset",!0);V(Q,Ne,Me,"⊐","\\sqsupset",!0);V(Q,Ne,Me,"≽","\\succcurlyeq",!0);V(Q,Ne,Me,"⋟","\\curlyeqsucc",!0);V(Q,Ne,Me,"≿","\\succsim",!0);V(Q,Ne,Me,"⪸","\\succapprox",!0);V(Q,Ne,Me,"⊳","\\vartriangleright");V(Q,Ne,Me,"⊵","\\trianglerighteq");V(Q,Ne,Me,"⊩","\\Vdash",!0);V(Q,Ne,Me,"∣","\\shortmid");V(Q,Ne,Me,"∥","\\shortparallel");V(Q,Ne,Me,"≬","\\between",!0);V(Q,Ne,Me,"⋔","\\pitchfork",!0);V(Q,Ne,Me,"∝","\\varpropto");V(Q,Ne,Me,"◀","\\blacktriangleleft");V(Q,Ne,Me,"∴","\\therefore",!0);V(Q,Ne,Me,"∍","\\backepsilon");V(Q,Ne,Me,"▶","\\blacktriangleright");V(Q,Ne,Me,"∵","\\because",!0);V(Q,Ne,Me,"⋘","\\llless");V(Q,Ne,Me,"⋙","\\gggtr");V(Q,Ne,It,"⊲","\\lhd");V(Q,Ne,It,"⊳","\\rhd");V(Q,Ne,Me,"≂","\\eqsim",!0);V(Q,de,Me,"⋈","\\Join");V(Q,Ne,Me,"≑","\\Doteq",!0);V(Q,Ne,It,"∔","\\dotplus",!0);V(Q,Ne,It,"∖","\\smallsetminus");V(Q,Ne,It,"⋒","\\Cap",!0);V(Q,Ne,It,"⋓","\\Cup",!0);V(Q,Ne,It,"⩞","\\doublebarwedge",!0);V(Q,Ne,It,"⊟","\\boxminus",!0);V(Q,Ne,It,"⊞","\\boxplus",!0);V(Q,Ne,It,"⋇","\\divideontimes",!0);V(Q,Ne,It,"⋉","\\ltimes",!0);V(Q,Ne,It,"⋊","\\rtimes",!0);V(Q,Ne,It,"⋋","\\leftthreetimes",!0);V(Q,Ne,It,"⋌","\\rightthreetimes",!0);V(Q,Ne,It,"⋏","\\curlywedge",!0);V(Q,Ne,It,"⋎","\\curlyvee",!0);V(Q,Ne,It,"⊝","\\circleddash",!0);V(Q,Ne,It,"⊛","\\circledast",!0);V(Q,Ne,It,"⋅","\\centerdot");V(Q,Ne,It,"⊺","\\intercal",!0);V(Q,Ne,It,"⋒","\\doublecap");V(Q,Ne,It,"⋓","\\doublecup");V(Q,Ne,It,"⊠","\\boxtimes",!0);V(Q,Ne,Me,"⇢","\\dashrightarrow",!0);V(Q,Ne,Me,"⇠","\\dashleftarrow",!0);V(Q,Ne,Me,"⇇","\\leftleftarrows",!0);V(Q,Ne,Me,"⇆","\\leftrightarrows",!0);V(Q,Ne,Me,"⇚","\\Lleftarrow",!0);V(Q,Ne,Me,"↞","\\twoheadleftarrow",!0);V(Q,Ne,Me,"↢","\\leftarrowtail",!0);V(Q,Ne,Me,"↫","\\looparrowleft",!0);V(Q,Ne,Me,"⇋","\\leftrightharpoons",!0);V(Q,Ne,Me,"↶","\\curvearrowleft",!0);V(Q,Ne,Me,"↺","\\circlearrowleft",!0);V(Q,Ne,Me,"↰","\\Lsh",!0);V(Q,Ne,Me,"⇈","\\upuparrows",!0);V(Q,Ne,Me,"↿","\\upharpoonleft",!0);V(Q,Ne,Me,"⇃","\\downharpoonleft",!0);V(Q,de,Me,"⊶","\\origof",!0);V(Q,de,Me,"⊷","\\imageof",!0);V(Q,Ne,Me,"⊸","\\multimap",!0);V(Q,Ne,Me,"↭","\\leftrightsquigarrow",!0);V(Q,Ne,Me,"⇉","\\rightrightarrows",!0);V(Q,Ne,Me,"⇄","\\rightleftarrows",!0);V(Q,Ne,Me,"↠","\\twoheadrightarrow",!0);V(Q,Ne,Me,"↣","\\rightarrowtail",!0);V(Q,Ne,Me,"↬","\\looparrowright",!0);V(Q,Ne,Me,"↷","\\curvearrowright",!0);V(Q,Ne,Me,"↻","\\circlearrowright",!0);V(Q,Ne,Me,"↱","\\Rsh",!0);V(Q,Ne,Me,"⇊","\\downdownarrows",!0);V(Q,Ne,Me,"↾","\\upharpoonright",!0);V(Q,Ne,Me,"⇂","\\downharpoonright",!0);V(Q,Ne,Me,"⇝","\\rightsquigarrow",!0);V(Q,Ne,Me,"⇝","\\leadsto");V(Q,Ne,Me,"⇛","\\Rrightarrow",!0);V(Q,Ne,Me,"↾","\\restriction");V(Q,de,Be,"‘","`");V(Q,de,Be,"$","\\$");V(rt,de,Be,"$","\\$");V(rt,de,Be,"$","\\textdollar");V(Q,de,Be,"%","\\%");V(rt,de,Be,"%","\\%");V(Q,de,Be,"_","\\_");V(rt,de,Be,"_","\\_");V(rt,de,Be,"_","\\textunderscore");V(Q,de,Be,"∠","\\angle",!0);V(Q,de,Be,"∞","\\infty",!0);V(Q,de,Be,"′","\\prime");V(Q,de,Be,"△","\\triangle");V(Q,de,Be,"Γ","\\Gamma",!0);V(Q,de,Be,"Δ","\\Delta",!0);V(Q,de,Be,"Θ","\\Theta",!0);V(Q,de,Be,"Λ","\\Lambda",!0);V(Q,de,Be,"Ξ","\\Xi",!0);V(Q,de,Be,"Π","\\Pi",!0);V(Q,de,Be,"Σ","\\Sigma",!0);V(Q,de,Be,"Υ","\\Upsilon",!0);V(Q,de,Be,"Φ","\\Phi",!0);V(Q,de,Be,"Ψ","\\Psi",!0);V(Q,de,Be,"Ω","\\Omega",!0);V(Q,de,Be,"A","Α");V(Q,de,Be,"B","Β");V(Q,de,Be,"E","Ε");V(Q,de,Be,"Z","Ζ");V(Q,de,Be,"H","Η");V(Q,de,Be,"I","Ι");V(Q,de,Be,"K","Κ");V(Q,de,Be,"M","Μ");V(Q,de,Be,"N","Ν");V(Q,de,Be,"O","Ο");V(Q,de,Be,"P","Ρ");V(Q,de,Be,"T","Τ");V(Q,de,Be,"X","Χ");V(Q,de,Be,"¬","\\neg",!0);V(Q,de,Be,"¬","\\lnot");V(Q,de,Be,"⊤","\\top");V(Q,de,Be,"⊥","\\bot");V(Q,de,Be,"∅","\\emptyset");V(Q,Ne,Be,"∅","\\varnothing");V(Q,de,Zt,"α","\\alpha",!0);V(Q,de,Zt,"β","\\beta",!0);V(Q,de,Zt,"γ","\\gamma",!0);V(Q,de,Zt,"δ","\\delta",!0);V(Q,de,Zt,"ϵ","\\epsilon",!0);V(Q,de,Zt,"ζ","\\zeta",!0);V(Q,de,Zt,"η","\\eta",!0);V(Q,de,Zt,"θ","\\theta",!0);V(Q,de,Zt,"ι","\\iota",!0);V(Q,de,Zt,"κ","\\kappa",!0);V(Q,de,Zt,"λ","\\lambda",!0);V(Q,de,Zt,"μ","\\mu",!0);V(Q,de,Zt,"ν","\\nu",!0);V(Q,de,Zt,"ξ","\\xi",!0);V(Q,de,Zt,"ο","\\omicron",!0);V(Q,de,Zt,"π","\\pi",!0);V(Q,de,Zt,"ρ","\\rho",!0);V(Q,de,Zt,"σ","\\sigma",!0);V(Q,de,Zt,"τ","\\tau",!0);V(Q,de,Zt,"υ","\\upsilon",!0);V(Q,de,Zt,"ϕ","\\phi",!0);V(Q,de,Zt,"χ","\\chi",!0);V(Q,de,Zt,"ψ","\\psi",!0);V(Q,de,Zt,"ω","\\omega",!0);V(Q,de,Zt,"ε","\\varepsilon",!0);V(Q,de,Zt,"ϑ","\\vartheta",!0);V(Q,de,Zt,"ϖ","\\varpi",!0);V(Q,de,Zt,"ϱ","\\varrho",!0);V(Q,de,Zt,"ς","\\varsigma",!0);V(Q,de,Zt,"φ","\\varphi",!0);V(Q,de,It,"∗","*",!0);V(Q,de,It,"+","+");V(Q,de,It,"−","-",!0);V(Q,de,It,"⋅","\\cdot",!0);V(Q,de,It,"∘","\\circ",!0);V(Q,de,It,"÷","\\div",!0);V(Q,de,It,"±","\\pm",!0);V(Q,de,It,"×","\\times",!0);V(Q,de,It,"∩","\\cap",!0);V(Q,de,It,"∪","\\cup",!0);V(Q,de,It,"∖","\\setminus",!0);V(Q,de,It,"∧","\\land");V(Q,de,It,"∨","\\lor");V(Q,de,It,"∧","\\wedge",!0);V(Q,de,It,"∨","\\vee",!0);V(Q,de,Be,"√","\\surd");V(Q,de,Go,"⟨","\\langle",!0);V(Q,de,Go,"∣","\\lvert");V(Q,de,Go,"∥","\\lVert");V(Q,de,Ls,"?","?");V(Q,de,Ls,"!","!");V(Q,de,Ls,"⟩","\\rangle",!0);V(Q,de,Ls,"∣","\\rvert");V(Q,de,Ls,"∥","\\rVert");V(Q,de,Me,"=","=");V(Q,de,Me,":",":");V(Q,de,Me,"≈","\\approx",!0);V(Q,de,Me,"≅","\\cong",!0);V(Q,de,Me,"≥","\\ge");V(Q,de,Me,"≥","\\geq",!0);V(Q,de,Me,"←","\\gets");V(Q,de,Me,">","\\gt",!0);V(Q,de,Me,"∈","\\in",!0);V(Q,de,Me,"","\\@not");V(Q,de,Me,"⊂","\\subset",!0);V(Q,de,Me,"⊃","\\supset",!0);V(Q,de,Me,"⊆","\\subseteq",!0);V(Q,de,Me,"⊇","\\supseteq",!0);V(Q,Ne,Me,"⊈","\\nsubseteq",!0);V(Q,Ne,Me,"⊉","\\nsupseteq",!0);V(Q,de,Me,"⊨","\\models");V(Q,de,Me,"←","\\leftarrow",!0);V(Q,de,Me,"≤","\\le");V(Q,de,Me,"≤","\\leq",!0);V(Q,de,Me,"<","\\lt",!0);V(Q,de,Me,"→","\\rightarrow",!0);V(Q,de,Me,"→","\\to");V(Q,Ne,Me,"≱","\\ngeq",!0);V(Q,Ne,Me,"≰","\\nleq",!0);V(Q,de,jh," ","\\ ");V(Q,de,jh," ","\\space");V(Q,de,jh," ","\\nobreakspace");V(rt,de,jh," ","\\ ");V(rt,de,jh," "," ");V(rt,de,jh," ","\\space");V(rt,de,jh," ","\\nobreakspace");V(Q,de,jh,null,"\\nobreak");V(Q,de,jh,null,"\\allowbreak");V(Q,de,pA,",",",");V(Q,de,pA,";",";");V(Q,Ne,It,"⊼","\\barwedge",!0);V(Q,Ne,It,"⊻","\\veebar",!0);V(Q,de,It,"⊙","\\odot",!0);V(Q,de,It,"⊕","\\oplus",!0);V(Q,de,It,"⊗","\\otimes",!0);V(Q,de,Be,"∂","\\partial",!0);V(Q,de,It,"⊘","\\oslash",!0);V(Q,Ne,It,"⊚","\\circledcirc",!0);V(Q,Ne,It,"⊡","\\boxdot",!0);V(Q,de,It,"△","\\bigtriangleup");V(Q,de,It,"▽","\\bigtriangledown");V(Q,de,It,"†","\\dagger");V(Q,de,It,"⋄","\\diamond");V(Q,de,It,"⋆","\\star");V(Q,de,It,"◃","\\triangleleft");V(Q,de,It,"▹","\\triangleright");V(Q,de,Go,"{","\\{");V(rt,de,Be,"{","\\{");V(rt,de,Be,"{","\\textbraceleft");V(Q,de,Ls,"}","\\}");V(rt,de,Be,"}","\\}");V(rt,de,Be,"}","\\textbraceright");V(Q,de,Go,"{","\\lbrace");V(Q,de,Ls,"}","\\rbrace");V(Q,de,Go,"[","\\lbrack",!0);V(rt,de,Be,"[","\\lbrack",!0);V(Q,de,Ls,"]","\\rbrack",!0);V(rt,de,Be,"]","\\rbrack",!0);V(Q,de,Go,"(","\\lparen",!0);V(Q,de,Ls,")","\\rparen",!0);V(rt,de,Be,"<","\\textless",!0);V(rt,de,Be,">","\\textgreater",!0);V(Q,de,Go,"⌊","\\lfloor",!0);V(Q,de,Ls,"⌋","\\rfloor",!0);V(Q,de,Go,"⌈","\\lceil",!0);V(Q,de,Ls,"⌉","\\rceil",!0);V(Q,de,Be,"\\","\\backslash");V(Q,de,Be,"∣","|");V(Q,de,Be,"∣","\\vert");V(rt,de,Be,"|","\\textbar",!0);V(Q,de,Be,"∥","\\|");V(Q,de,Be,"∥","\\Vert");V(rt,de,Be,"∥","\\textbardbl");V(rt,de,Be,"~","\\textasciitilde");V(rt,de,Be,"\\","\\textbackslash");V(rt,de,Be,"^","\\textasciicircum");V(Q,de,Me,"↑","\\uparrow",!0);V(Q,de,Me,"⇑","\\Uparrow",!0);V(Q,de,Me,"↓","\\downarrow",!0);V(Q,de,Me,"⇓","\\Downarrow",!0);V(Q,de,Me,"↕","\\updownarrow",!0);V(Q,de,Me,"⇕","\\Updownarrow",!0);V(Q,de,_i,"∐","\\coprod");V(Q,de,_i,"⋁","\\bigvee");V(Q,de,_i,"⋀","\\bigwedge");V(Q,de,_i,"⨄","\\biguplus");V(Q,de,_i,"⋂","\\bigcap");V(Q,de,_i,"⋃","\\bigcup");V(Q,de,_i,"∫","\\int");V(Q,de,_i,"∫","\\intop");V(Q,de,_i,"∬","\\iint");V(Q,de,_i,"∭","\\iiint");V(Q,de,_i,"∏","\\prod");V(Q,de,_i,"∑","\\sum");V(Q,de,_i,"⨂","\\bigotimes");V(Q,de,_i,"⨁","\\bigoplus");V(Q,de,_i,"⨀","\\bigodot");V(Q,de,_i,"∮","\\oint");V(Q,de,_i,"∯","\\oiint");V(Q,de,_i,"∰","\\oiiint");V(Q,de,_i,"⨆","\\bigsqcup");V(Q,de,_i,"∫","\\smallint");V(rt,de,Dv,"…","\\textellipsis");V(Q,de,Dv,"…","\\mathellipsis");V(rt,de,Dv,"…","\\ldots",!0);V(Q,de,Dv,"…","\\ldots",!0);V(Q,de,Dv,"⋯","\\@cdots",!0);V(Q,de,Dv,"⋱","\\ddots",!0);V(Q,de,Be,"⋮","\\varvdots");V(rt,de,Be,"⋮","\\varvdots");V(Q,de,Bn,"ˊ","\\acute");V(Q,de,Bn,"ˋ","\\grave");V(Q,de,Bn,"¨","\\ddot");V(Q,de,Bn,"~","\\tilde");V(Q,de,Bn,"ˉ","\\bar");V(Q,de,Bn,"˘","\\breve");V(Q,de,Bn,"ˇ","\\check");V(Q,de,Bn,"^","\\hat");V(Q,de,Bn,"⃗","\\vec");V(Q,de,Bn,"˙","\\dot");V(Q,de,Bn,"˚","\\mathring");V(Q,de,Zt,"","\\@imath");V(Q,de,Zt,"","\\@jmath");V(Q,de,Be,"ı","ı");V(Q,de,Be,"ȷ","ȷ");V(rt,de,Be,"ı","\\i",!0);V(rt,de,Be,"ȷ","\\j",!0);V(rt,de,Be,"ß","\\ss",!0);V(rt,de,Be,"æ","\\ae",!0);V(rt,de,Be,"œ","\\oe",!0);V(rt,de,Be,"ø","\\o",!0);V(rt,de,Be,"Æ","\\AE",!0);V(rt,de,Be,"Œ","\\OE",!0);V(rt,de,Be,"Ø","\\O",!0);V(rt,de,Bn,"ˊ","\\'");V(rt,de,Bn,"ˋ","\\`");V(rt,de,Bn,"ˆ","\\^");V(rt,de,Bn,"˜","\\~");V(rt,de,Bn,"ˉ","\\=");V(rt,de,Bn,"˘","\\u");V(rt,de,Bn,"˙","\\.");V(rt,de,Bn,"¸","\\c");V(rt,de,Bn,"˚","\\r");V(rt,de,Bn,"ˇ","\\v");V(rt,de,Bn,"¨",'\\"');V(rt,de,Bn,"˝","\\H");V(rt,de,Bn,"◯","\\textcircled");var ahe={"--":!0,"---":!0,"``":!0,"''":!0};V(rt,de,Be,"–","--",!0);V(rt,de,Be,"–","\\textendash");V(rt,de,Be,"—","---",!0);V(rt,de,Be,"—","\\textemdash");V(rt,de,Be,"‘","`",!0);V(rt,de,Be,"‘","\\textquoteleft");V(rt,de,Be,"’","'",!0);V(rt,de,Be,"’","\\textquoteright");V(rt,de,Be,"“","``",!0);V(rt,de,Be,"“","\\textquotedblleft");V(rt,de,Be,"”","''",!0);V(rt,de,Be,"”","\\textquotedblright");V(Q,de,Be,"°","\\degree",!0);V(rt,de,Be,"°","\\degree");V(rt,de,Be,"°","\\textdegree",!0);V(Q,de,Be,"£","\\pounds");V(Q,de,Be,"£","\\mathsterling",!0);V(rt,de,Be,"£","\\pounds");V(rt,de,Be,"£","\\textsterling",!0);V(Q,Ne,Be,"✠","\\maltese");V(rt,Ne,Be,"✠","\\maltese");var YG='0123456789/@."';for(var UC=0;UC<YG.length;UC++){var VG=YG.charAt(UC);V(Q,de,Be,VG,VG)}var qG='0123456789!@*()-=+";:?/.,';for(var WC=0;WC<qG.length;WC++){var jG=qG.charAt(WC);V(rt,de,Be,jG,jG)}var wE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var zC=0;zC<wE.length;zC++){var o4=wE.charAt(zC);V(Q,de,Zt,o4,o4),V(rt,de,Be,o4,o4)}V(Q,Ne,Be,"C","ℂ");V(rt,Ne,Be,"C","ℂ");V(Q,Ne,Be,"H","ℍ");V(rt,Ne,Be,"H","ℍ");V(Q,Ne,Be,"N","ℕ");V(rt,Ne,Be,"N","ℕ");V(Q,Ne,Be,"P","ℙ");V(rt,Ne,Be,"P","ℙ");V(Q,Ne,Be,"Q","ℚ");V(rt,Ne,Be,"Q","ℚ");V(Q,Ne,Be,"R","ℝ");V(rt,Ne,Be,"R","ℝ");V(Q,Ne,Be,"Z","ℤ");V(rt,Ne,Be,"Z","ℤ");V(Q,de,Zt,"h","ℎ");V(rt,de,Zt,"h","ℎ");var nr="";for(var fs=0;fs<wE.length;fs++){var Zn=wE.charAt(fs);nr=String.fromCharCode(55349,56320+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56372+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56424+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56580+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56684+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56736+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56788+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56840+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56944+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),fs<26&&(nr=String.fromCharCode(55349,56632+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr),nr=String.fromCharCode(55349,56476+fs),V(Q,de,Zt,Zn,nr),V(rt,de,Be,Zn,nr))}nr="𝕜";V(Q,de,Zt,"k",nr);V(rt,de,Be,"k",nr);for(var Xf=0;Xf<10;Xf++){var o0=Xf.toString();nr=String.fromCharCode(55349,57294+Xf),V(Q,de,Zt,o0,nr),V(rt,de,Be,o0,nr),nr=String.fromCharCode(55349,57314+Xf),V(Q,de,Zt,o0,nr),V(rt,de,Be,o0,nr),nr=String.fromCharCode(55349,57324+Xf),V(Q,de,Zt,o0,nr),V(rt,de,Be,o0,nr),nr=String.fromCharCode(55349,57334+Xf),V(Q,de,Zt,o0,nr),V(rt,de,Be,o0,nr)}var yO="ÐÞþ";for(var GC=0;GC<yO.length;GC++){var l4=yO.charAt(GC);V(Q,de,Zt,l4,l4),V(rt,de,Be,l4,l4)}var c4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],XG=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Oot=function(t,r){var n=t.charCodeAt(0),a=t.charCodeAt(1),o=(n-55296)*1024+(a-56320)+65536,l=r==="math"?0:1;if(119808<=o&&o<120484){var c=Math.floor((o-119808)/26);return[c4[c][2],c4[c][l]]}else if(120782<=o&&o<=120831){var u=Math.floor((o-120782)/10);return[XG[u][2],XG[u][l]]}else{if(o===120485||o===120486)return[c4[0][2],c4[0][l]];if(120486<o&&o<120782)return["",""];throw new ut("Unsupported character: "+t)}},gA=function(t,r,n){return bn[n][t]&&bn[n][t].replace&&(t=bn[n][t].replace),{value:t,metrics:RM(t,r,n)}},jl=function(t,r,n,a,o){var l=gA(t,r,n),c=l.metrics;t=l.value;var u;if(c){var h=c.italic;(n==="text"||a&&a.font==="mathit")&&(h=0),u=new kl(t,c.height,c.depth,h,c.skew,c.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),u=new kl(t,0,0,0,0,0,o);if(a){u.maxFontSize=a.sizeMultiplier,a.style.isTight()&&u.classes.push("mtight");var f=a.getColor();f&&(u.style.color=f)}return u},_ot=function(t,r,n,a){return a===void 0&&(a=[]),n.font==="boldsymbol"&&gA(t,"Main-Bold",r).metrics?jl(t,"Main-Bold",r,n,a.concat(["mathbf"])):t==="\\"||bn[r][t].font==="main"?jl(t,"Main-Regular",r,n,a):jl(t,"AMS-Regular",r,n,a.concat(["amsrm"]))},Not=function(t,r,n,a,o){return o!=="textord"&&gA(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Lot=function(t,r,n){var a=t.mode,o=t.text,l=["mord"],c=a==="math"||a==="text"&&r.font,u=c?r.font:r.fontFamily,h="",f="";if(o.charCodeAt(0)===55349&&([h,f]=Oot(o,a)),h.length>0)return jl(o,h,a,r,l.concat(f));if(u){var d,p;if(u==="boldsymbol"){var g=Not(o,a,r,l,n);d=g.fontName,p=[g.fontClass]}else c?(d=lhe[u].fontName,p=[u]):(d=u4(u,r.fontWeight,r.fontShape),p=[u,r.fontWeight,r.fontShape]);if(gA(o,d,a).metrics)return jl(o,d,a,r,l.concat(p));if(ahe.hasOwnProperty(o)&&d.slice(0,10)==="Typewriter"){for(var m=[],y=0;y<o.length;y++)m.push(jl(o[y],d,a,r,l.concat(p)));return ohe(m)}}if(n==="mathord")return jl(o,"Math-Italic",a,r,l.concat(["mathnormal"]));if(n==="textord"){var b=bn[a][o]&&bn[a][o].font;if(b==="ams"){var x=u4("amsrm",r.fontWeight,r.fontShape);return jl(o,x,a,r,l.concat("amsrm",r.fontWeight,r.fontShape))}else if(b==="main"||!b){var T=u4("textrm",r.fontWeight,r.fontShape);return jl(o,T,a,r,l.concat(r.fontWeight,r.fontShape))}else{var w=u4(b,r.fontWeight,r.fontShape);return jl(o,w,a,r,l.concat(w,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Mot=(e,t)=>{if(Q0(e.classes)!==Q0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},Dot=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof kl&&n instanceof kl&&Mot(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},_M=function(t){for(var r=0,n=0,a=0,o=0;o<t.children.length;o++){var l=t.children[o];l.height>r&&(r=l.height),l.depth>n&&(n=l.depth),l.maxFontSize>a&&(a=l.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=a},Ws=function(t,r,n,a){var o=new x3(t,r,n,a);return _M(o),o},she=(e,t,r,n)=>new x3(e,t,r,n),Pot=function(t,r,n){var a=Ws([t],[],r);return a.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),a.style.borderBottomWidth=mt(a.height),a.maxFontSize=1,a},Fot=function(t,r,n,a){var o=new OM(t,r,n,a);return _M(o),o},ohe=function(t){var r=new b3(t);return _M(r),r},Bot=function(t,r){return t instanceof b3?Ws([],[t],r):t},$ot=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],a=-r[0].shift-r[0].elem.depth,o=a,l=1;l<r.length;l++){var c=-r[l].shift-o-r[l].elem.depth,u=c-(r[l-1].elem.height+r[l-1].elem.depth);o=o+c,n.push({type:"kern",size:u}),n.push(r[l])}return{children:n,depth:a}}var h;if(t.positionType==="top"){for(var f=t.positionData,d=0;d<t.children.length;d++){var p=t.children[d];f-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=f}else if(t.positionType==="bottom")h=-t.positionData;else{var g=t.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")h=-g.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")h=-g.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:h}},Hot=function(t,r){for(var{children:n,depth:a}=$ot(t),o=0,l=0;l<n.length;l++){var c=n[l];if(c.type==="elem"){var u=c.elem;o=Math.max(o,u.maxFontSize,u.height)}}o+=2;var h=Ws(["pstrut"],[]);h.style.height=mt(o);for(var f=[],d=a,p=a,g=a,m=0;m<n.length;m++){var y=n[m];if(y.type==="kern")g+=y.size;else{var b=y.elem,x=y.wrapperClasses||[],T=y.wrapperStyle||{},w=Ws(x,[h,b],void 0,T);w.style.top=mt(-o-g-b.depth),y.marginLeft&&(w.style.marginLeft=y.marginLeft),y.marginRight&&(w.style.marginRight=y.marginRight),f.push(w),g+=b.height+b.depth}d=Math.min(d,g),p=Math.max(p,g)}var E=Ws(["vlist"],f);E.style.height=mt(p);var S;if(d<0){var C=Ws([],[]),k=Ws(["vlist"],[C]);k.style.height=mt(-d);var O=Ws(["vlist-s"],[new kl("​")]);S=[Ws(["vlist-r"],[E,O]),Ws(["vlist-r"],[k])]}else S=[Ws(["vlist-r"],[E])];var I=Ws(["vlist-t"],S);return S.length===2&&I.classes.push("vlist-t2"),I.height=p,I.depth=-d,I},Uot=(e,t)=>{var r=Ws(["mspace"],[],t),n=Wn(e,t);return r.style.marginRight=mt(n),r},u4=function(t,r,n){var a="";switch(t){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=t}var o;return r==="textbf"&&n==="textit"?o="BoldItalic":r==="textbf"?o="Bold":r==="textit"?o="Italic":o="Regular",a+"-"+o},lhe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},che={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Wot=function(t,r){var[n,a,o]=che[t],l=new J0(n),c=new Ah([l],{width:mt(a),height:mt(o),style:"width:"+mt(a),viewBox:"0 0 "+1e3*a+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),u=she(["overlay"],[c],r);return u.height=o,u.style.height=mt(o),u.style.width=mt(a),u},ze={fontMap:lhe,makeSymbol:jl,mathsym:_ot,makeSpan:Ws,makeSvgSpan:she,makeLineSpan:Pot,makeAnchor:Fot,makeFragment:ohe,wrapFragment:Bot,makeVList:Hot,makeOrd:Lot,makeGlue:Uot,staticSvg:Wot,svgData:che,tryCombineChars:Dot},Un={number:3,unit:"mu"},Kf={number:4,unit:"mu"},$u={number:5,unit:"mu"},zot={mord:{mop:Un,mbin:Kf,mrel:$u,minner:Un},mop:{mord:Un,mop:Un,mrel:$u,minner:Un},mbin:{mord:Kf,mop:Kf,mopen:Kf,minner:Kf},mrel:{mord:$u,mop:$u,mopen:$u,minner:$u},mopen:{},mclose:{mop:Un,mbin:Kf,mrel:$u,minner:Un},mpunct:{mord:Un,mop:Un,mrel:$u,mopen:Un,mclose:Un,mpunct:Un,minner:Un},minner:{mord:Un,mop:Un,mbin:Kf,mrel:$u,mopen:Un,mpunct:Un,minner:Un}},Got={mord:{mop:Un},mop:{mord:Un,mop:Un},mbin:{},mrel:{},mopen:{},mclose:{mop:Un},mpunct:{},minner:{mop:Un}},uhe={},EE={},SE={};function St(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:o,mathmlBuilder:l}=e,c={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:a},u=0;u<r.length;++u)uhe[r[u]]=c;t&&(o&&(EE[t]=o),l&&(SE[t]=l))}function Bp(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;St({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var AE=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},bi=function(t){return t.type==="ordgroup"?t.body:[t]},kh=ze.makeSpan,Yot=["leftmost","mbin","mopen","mrel","mop","mpunct"],Vot=["rightmost","mrel","mclose","mpunct"],qot={display:Qt.DISPLAY,text:Qt.TEXT,script:Qt.SCRIPT,scriptscript:Qt.SCRIPTSCRIPT},jot={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Vi=function(t,r,n,a){a===void 0&&(a=[null,null]);for(var o=[],l=0;l<t.length;l++){var c=Br(t[l],r);if(c instanceof b3){var u=c.children;o.push(...u)}else o.push(c)}if(ze.tryCombineChars(o),!n)return o;var h=r;if(t.length===1){var f=t[0];f.type==="sizing"?h=r.havingSize(f.size):f.type==="styling"&&(h=r.havingStyle(qot[f.style]))}var d=kh([a[0]||"leftmost"],[],r),p=kh([a[1]||"rightmost"],[],r),g=n==="root";return KG(o,(m,y)=>{var b=y.classes[0],x=m.classes[0];b==="mbin"&&qt.contains(Vot,x)?y.classes[0]="mord":x==="mbin"&&qt.contains(Yot,b)&&(m.classes[0]="mord")},{node:d},p,g),KG(o,(m,y)=>{var b=bO(y),x=bO(m),T=b&&x?m.hasClass("mtight")?Got[b][x]:zot[b][x]:null;if(T)return ze.makeGlue(T,h)},{node:d},p,g),o},KG=function e(t,r,n,a,o){a&&t.push(a);for(var l=0;l<t.length;l++){var c=t[l],u=hhe(c);if(u){e(u.children,r,n,null,o);continue}var h=!c.hasClass("mspace");if(h){var f=r(c,n.node);f&&(n.insertAfter?n.insertAfter(f):(t.unshift(f),l++))}h?n.node=c:o&&c.hasClass("newline")&&(n.node=kh(["leftmost"])),n.insertAfter=(d=>p=>{t.splice(d+1,0,p),l++})(l)}a&&t.pop()},hhe=function(t){return t instanceof b3||t instanceof OM||t instanceof x3&&t.hasClass("enclosing")?t:null},Xot=function e(t,r){var n=hhe(t);if(n){var a=n.children;if(a.length){if(r==="right")return e(a[a.length-1],"right");if(r==="left")return e(a[0],"left")}}return t},bO=function(t,r){return t?(r&&(t=Xot(t,r)),jot[t.classes[0]]||null):null},Zb=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return kh(r.concat(n))},Br=function(t,r,n){if(!t)return kh();if(EE[t.type]){var a=EE[t.type](t,r);if(n&&r.size!==n.size){a=kh(r.sizingClasses(n),[a],r);var o=r.sizeMultiplier/n.sizeMultiplier;a.height*=o,a.depth*=o}return a}else throw new ut("Got group of unknown type: '"+t.type+"'")};function h4(e,t){var r=kh(["base"],e,t),n=kh(["strut"]);return n.style.height=mt(r.height+r.depth),r.depth&&(n.style.verticalAlign=mt(-r.depth)),r.children.unshift(n),r}function xO(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=Vi(e,t,"root"),a;n.length===2&&n[1].hasClass("tag")&&(a=n.pop());for(var o=[],l=[],c=0;c<n.length;c++)if(l.push(n[c]),n[c].hasClass("mbin")||n[c].hasClass("mrel")||n[c].hasClass("allowbreak")){for(var u=!1;c<n.length-1&&n[c+1].hasClass("mspace")&&!n[c+1].hasClass("newline");)c++,l.push(n[c]),n[c].hasClass("nobreak")&&(u=!0);u||(o.push(h4(l,t)),l=[])}else n[c].hasClass("newline")&&(l.pop(),l.length>0&&(o.push(h4(l,t)),l=[]),o.push(n[c]));l.length>0&&o.push(h4(l,t));var h;r?(h=h4(Vi(r,t,!0)),h.classes=["tag"],o.push(h)):a&&o.push(a);var f=kh(["katex-html"],o);if(f.setAttribute("aria-hidden","true"),h){var d=h.children[0];d.style.height=mt(f.height+f.depth),f.depth&&(d.style.verticalAlign=mt(-f.depth))}return f}function fhe(e){return new b3(e)}class No{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Q0(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Kc&&this.children[n+1]instanceof Kc){for(var a=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Kc;)a+=this.children[++n].toText();t.appendChild(new Kc(a).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=qt.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+qt.escape(Q0(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Kc{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return qt.escape(this.toText())}toText(){return this.text}}class Kot{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",mt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+mt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var lt={MathNode:No,TextNode:Kc,SpaceNode:Kot,newDocumentFragment:fhe},Cl=function(t,r,n){return bn[r][t]&&bn[r][t].replace&&t.charCodeAt(0)!==55349&&!(ahe.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=bn[r][t].replace),new lt.TextNode(t)},NM=function(t){return t.length===1?t[0]:new lt.MathNode("mrow",t)},LM=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var a=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var o=t.text;if(qt.contains(["\\imath","\\jmath"],o))return null;bn[a][o]&&bn[a][o].replace&&(o=bn[a][o].replace);var l=ze.fontMap[n].fontName;return RM(o,l,a)?ze.fontMap[n].variant:null};function YC(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Kc&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof Kc&&r.text===","}else return!1}var fo=function(t,r,n){if(t.length===1){var a=hn(t[0],r);return n&&a instanceof No&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var o=[],l,c=0;c<t.length;c++){var u=hn(t[c],r);if(u instanceof No&&l instanceof No){if(u.type==="mtext"&&l.type==="mtext"&&u.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...u.children);continue}else if(u.type==="mn"&&l.type==="mn"){l.children.push(...u.children);continue}else if(YC(u)&&l.type==="mn"){l.children.push(...u.children);continue}else if(u.type==="mn"&&YC(l))u.children=[...l.children,...u.children],o.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(l.type==="mn"||YC(l))){var h=u.children[0];h instanceof No&&h.type==="mn"&&(h.children=[...l.children,...h.children],o.pop())}else if(l.type==="mi"&&l.children.length===1){var f=l.children[0];if(f instanceof Kc&&f.text==="̸"&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var d=u.children[0];d instanceof Kc&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),o.pop())}}}o.push(u),l=u}return o},ef=function(t,r,n){return NM(fo(t,r,n))},hn=function(t,r){if(!t)return new lt.MathNode("mrow");if(SE[t.type]){var n=SE[t.type](t,r);return n}else throw new ut("Got group of unknown type: '"+t.type+"'")};function ZG(e,t,r,n,a){var o=fo(e,r),l;o.length===1&&o[0]instanceof No&&qt.contains(["mrow","mtable"],o[0].type)?l=o[0]:l=new lt.MathNode("mrow",o);var c=new lt.MathNode("annotation",[new lt.TextNode(t)]);c.setAttribute("encoding","application/x-tex");var u=new lt.MathNode("semantics",[l,c]),h=new lt.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var f=a?"katex":"katex-mathml";return ze.makeSpan([f],[h])}var dhe=function(t){return new ju({style:t.displayMode?Qt.DISPLAY:Qt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},phe=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=ze.makeSpan(n,[t])}return t},Zot=function(t,r,n){var a=dhe(n),o;if(n.output==="mathml")return ZG(t,r,a,n.displayMode,!0);if(n.output==="html"){var l=xO(t,a);o=ze.makeSpan(["katex"],[l])}else{var c=ZG(t,r,a,n.displayMode,!1),u=xO(t,a);o=ze.makeSpan(["katex"],[c,u])}return phe(o,n)},Qot=function(t,r,n){var a=dhe(n),o=xO(t,a),l=ze.makeSpan(["katex"],[o]);return phe(l,n)},Jot={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},elt=function(t){var r=new lt.MathNode("mo",[new lt.TextNode(Jot[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},tlt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},rlt=function(t){return t.type==="ordgroup"?t.body.length:1},nlt=function(t,r){function n(){var c=4e5,u=t.label.slice(1);if(qt.contains(["widehat","widecheck","widetilde","utilde"],u)){var h=t,f=rlt(h.base),d,p,g;if(f>5)u==="widehat"||u==="widecheck"?(d=420,c=2364,g=.42,p=u+"4"):(d=312,c=2340,g=.34,p="tilde4");else{var m=[1,1,2,2,3,3][f];u==="widehat"||u==="widecheck"?(c=[0,1062,2364,2364,2364][m],d=[0,239,300,360,420][m],g=[0,.24,.3,.3,.36,.42][m],p=u+m):(c=[0,600,1033,2339,2340][m],d=[0,260,286,306,312][m],g=[0,.26,.286,.3,.306,.34][m],p="tilde"+m)}var y=new J0(p),b=new Ah([y],{width:"100%",height:mt(g),viewBox:"0 0 "+c+" "+d,preserveAspectRatio:"none"});return{span:ze.makeSvgSpan([],[b],r),minWidth:0,height:g}}else{var x=[],T=tlt[u],[w,E,S]=T,C=S/1e3,k=w.length,O,I;if(k===1){var _=T[3];O=["hide-tail"],I=[_]}else if(k===2)O=["halfarrow-left","halfarrow-right"],I=["xMinYMin","xMaxYMin"];else if(k===3)O=["brace-left","brace-center","brace-right"],I=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+k+" children.");for(var R=0;R<k;R++){var M=new J0(w[R]),$=new Ah([M],{width:"400em",height:mt(C),viewBox:"0 0 "+c+" "+S,preserveAspectRatio:I[R]+" slice"}),N=ze.makeSvgSpan([O[R]],[$],r);if(k===1)return{span:N,minWidth:E,height:C};N.style.height=mt(C),x.push(N)}return{span:ze.makeSpan(["stretchy"],x,r),minWidth:E,height:C}}}var{span:a,minWidth:o,height:l}=n();return a.height=l,a.style.height=mt(l),o>0&&(a.style.minWidth=mt(o)),a},ilt=function(t,r,n,a,o){var l,c=t.height+t.depth+n+a;if(/fbox|color|angl/.test(r)){if(l=ze.makeSpan(["stretchy",r],[],o),r==="fbox"){var u=o.color&&o.getColor();u&&(l.style.borderColor=u)}}else{var h=[];/^[bx]cancel$/.test(r)&&h.push(new vO({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&h.push(new vO({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new Ah(h,{width:"100%",height:mt(c)});l=ze.makeSvgSpan([],[f],o)}return l.height=c,l.style.height=mt(c),l},Ch={encloseSpan:ilt,mathMLnode:elt,svgSpan:nlt};function yr(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function MM(e){var t=mA(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function mA(e){return e&&(e.type==="atom"||Rot.hasOwnProperty(e.type))?e:null}var DM=(e,t)=>{var r,n,a;e&&e.type==="supsub"?(n=yr(e.base,"accent"),r=n.base,e.base=r,a=Cot(Br(e,t)),e.base=n):(n=yr(e,"accent"),r=n.base);var o=Br(r,t.havingCrampedStyle()),l=n.isShifty&&qt.isCharacterBox(r),c=0;if(l){var u=qt.getBaseElem(r),h=Br(u,t.havingCrampedStyle());c=GG(h).skew}var f=n.label==="\\c",d=f?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight),p;if(n.isStretchy)p=Ch.svgSpan(n,t),p=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+mt(2*c)+")",marginLeft:mt(2*c)}:void 0}]},t);else{var g,m;n.label==="\\vec"?(g=ze.staticSvg("vec",t),m=ze.svgData.vec[1]):(g=ze.makeOrd({mode:n.mode,text:n.label},t,"textord"),g=GG(g),g.italic=0,m=g.width,f&&(d+=g.depth)),p=ze.makeSpan(["accent-body"],[g]);var y=n.label==="\\textcircled";y&&(p.classes.push("accent-full"),d=o.height);var b=c;y||(b-=m/2),p.style.left=mt(b),n.label==="\\textcircled"&&(p.style.top=".2em"),p=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-d},{type:"elem",elem:p}]},t)}var x=ze.makeSpan(["mord","accent"],[p],t);return a?(a.children[0]=x,a.height=Math.max(x.height,a.height),a.classes[0]="mord",a):x},ghe=(e,t)=>{var r=e.isStretchy?Ch.mathMLnode(e.label):new lt.MathNode("mo",[Cl(e.label,e.mode)]),n=new lt.MathNode("mover",[hn(e.base,t),r]);return n.setAttribute("accent","true"),n},alt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));St({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=AE(t[0]),n=!alt.test(e.funcName),a=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:a,base:r}},htmlBuilder:DM,mathmlBuilder:ghe});St({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:DM,mathmlBuilder:ghe});St({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:a}},htmlBuilder:(e,t)=>{var r=Br(e.base,t),n=Ch.svgSpan(e,t),a=e.label==="\\utilde"?.12:0,o=ze.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:r}]},t);return ze.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var r=Ch.mathMLnode(e.label),n=new lt.MathNode("munder",[hn(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var f4=e=>{var t=new lt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};St({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:a}=e;return{type:"xArrow",mode:n.mode,label:a,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),a=ze.wrapFragment(Br(e.body,n,t),t),o=e.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(o+"-arrow-pad");var l;e.below&&(n=t.havingStyle(r.sub()),l=ze.wrapFragment(Br(e.below,n,t),t),l.classes.push(o+"-arrow-pad"));var c=Ch.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*c.height,h=-t.fontMetrics().axisHeight-.5*c.height-.111;(a.depth>.25||e.label==="\\xleftequilibrium")&&(h-=a.depth);var f;if(l){var d=-t.fontMetrics().axisHeight+l.height+.5*c.height+.111;f=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:h},{type:"elem",elem:c,shift:u},{type:"elem",elem:l,shift:d}]},t)}else f=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:h},{type:"elem",elem:c,shift:u}]},t);return f.children[0].children[0].children[1].classes.push("svg-align"),ze.makeSpan(["mrel","x-arrow"],[f],t)},mathmlBuilder(e,t){var r=Ch.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var a=f4(hn(e.body,t));if(e.below){var o=f4(hn(e.below,t));n=new lt.MathNode("munderover",[r,o,a])}else n=new lt.MathNode("mover",[r,a])}else if(e.below){var l=f4(hn(e.below,t));n=new lt.MathNode("munder",[r,l])}else n=f4(),n=new lt.MathNode("mover",[r,n]);return n}});var slt=ze.makeSpan;function mhe(e,t){var r=Vi(e.body,t,!0);return slt([e.mclass],r,t)}function vhe(e,t){var r,n=fo(e.body,t);return e.mclass==="minner"?r=new lt.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new lt.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new lt.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}St({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:bi(a),isCharacterBox:qt.isCharacterBox(a)}},htmlBuilder:mhe,mathmlBuilder:vhe});var vA=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};St({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:vA(t[0]),body:bi(t[1]),isCharacterBox:qt.isCharacterBox(t[1])}}});St({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,a=t[1],o=t[0],l;n!=="\\stackrel"?l=vA(a):l="mrel";var c={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:bi(a)},u={type:"supsub",mode:o.mode,base:c,sup:n==="\\underset"?null:o,sub:n==="\\underset"?o:null};return{type:"mclass",mode:r.mode,mclass:l,body:[u],isCharacterBox:qt.isCharacterBox(u)}},htmlBuilder:mhe,mathmlBuilder:vhe});St({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:vA(t[0]),body:bi(t[0])}},htmlBuilder(e,t){var r=Vi(e.body,t,!0),n=ze.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=fo(e.body,t),n=new lt.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var olt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},QG=()=>({type:"styling",body:[],mode:"math",style:"display"}),JG=e=>e.type==="textord"&&e.text==="@",llt=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function clt(e,t,r){var n=olt[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var a=r.callFunction("\\\\cdleft",[t[0]],[]),o={type:"atom",text:n,mode:"math",family:"rel"},l=r.callFunction("\\Big",[o],[]),c=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[a,l,c]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ult(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ut("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],a=[n],o=0;o<t.length;o++){for(var l=t[o],c=QG(),u=0;u<l.length;u++)if(!JG(l[u]))c.body.push(l[u]);else{n.push(c),u+=1;var h=MM(l[u]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var d=0;d<2;d++){for(var p=!0,g=u+1;g<l.length;g++){if(llt(l[g],h)){p=!1,u=g;break}if(JG(l[g]))throw new ut("Missing a "+h+" character to complete a CD arrow.",l[g]);f[d].body.push(l[g])}if(p)throw new ut("Missing a "+h+" character to complete a CD arrow.",l[u])}else throw new ut('Expected one of "<>AV=|." after @',l[u]);var m=clt(h,f,e),y={type:"styling",body:[m],mode:"math",style:"display"};n.push(y),c=QG()}o%2===0?n.push(c):n.shift(),n=[],a.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}St({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=ze.wrapFragment(Br(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=mt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new lt.MathNode("mrow",[hn(e.label,t)]);return r=new lt.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new lt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});St({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=ze.wrapFragment(Br(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new lt.MathNode("mrow",[hn(e.fragment,t)])}});St({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=yr(t[0],"ordgroup"),a=n.body,o="",l=0;l<a.length;l++){var c=yr(a[l],"textord");o+=c.text}var u=parseInt(o),h;if(isNaN(u))throw new ut("\\@char has non-numeric argument "+o);if(u<0||u>=1114111)throw new ut("\\@char with invalid code point "+o);return u<=65535?h=String.fromCharCode(u):(u-=65536,h=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:h}}});var yhe=(e,t)=>{var r=Vi(e.body,t.withColor(e.color),!1);return ze.makeFragment(r)},bhe=(e,t)=>{var r=fo(e.body,t.withColor(e.color)),n=new lt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};St({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=yr(t[0],"color-token").color,a=t[1];return{type:"color",mode:r.mode,color:n,body:bi(a)}},htmlBuilder:yhe,mathmlBuilder:bhe});St({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,a=yr(t[0],"color-token").color;r.gullet.macros.set("\\current@color",a);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:a,body:o}},htmlBuilder:yhe,mathmlBuilder:bhe});St({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,a=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:a&&yr(a,"size").value}},htmlBuilder(e,t){var r=ze.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=mt(Wn(e.size,t)))),r},mathmlBuilder(e,t){var r=new lt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",mt(Wn(e.size,t)))),r}});var TO={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},xhe=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ut("Expected a control sequence",e);return t},hlt=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},The=(e,t,r,n)=>{var a=e.gullet.macros.get(r.text);a==null&&(r.noexpand=!0,a={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,a,n)};St({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(TO[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=TO[n.text]),yr(t.parseFunction(),"internal");throw new ut("Invalid token after macro prefix",n)}});St({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),a=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new ut("Expected a control sequence",n);for(var o=0,l,c=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){l=t.gullet.future(),c[o].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new ut('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==o+1)throw new ut('Argument number "'+n.text+'" out of order');o++,c.push([])}else{if(n.text==="EOF")throw new ut("Expected a macro definition");c[o].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return l&&u.unshift(l),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(a,{tokens:u,numArgs:o,delimiters:c},r===TO[r]),{type:"internal",mode:t.mode}}});St({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=xhe(t.gullet.popToken());t.gullet.consumeSpaces();var a=hlt(t);return The(t,n,a,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});St({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=xhe(t.gullet.popToken()),a=t.gullet.popToken(),o=t.gullet.popToken();return The(t,n,o,r==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var c2=function(t,r,n){var a=bn.math[t]&&bn.math[t].replace,o=RM(a||t,r,n);if(!o)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return o},PM=function(t,r,n,a){var o=n.havingBaseStyle(r),l=ze.makeSpan(a.concat(o.sizingClasses(n)),[t],n),c=o.sizeMultiplier/n.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=o.sizeMultiplier,l},whe=function(t,r,n){var a=r.havingBaseStyle(n),o=(1-r.sizeMultiplier/a.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=mt(o),t.height-=o,t.depth+=o},flt=function(t,r,n,a,o,l){var c=ze.makeSymbol(t,"Main-Regular",o,a),u=PM(c,r,a,l);return n&&whe(u,a,r),u},dlt=function(t,r,n,a){return ze.makeSymbol(t,"Size"+r+"-Regular",n,a)},Ehe=function(t,r,n,a,o,l){var c=dlt(t,r,o,a),u=PM(ze.makeSpan(["delimsizing","size"+r],[c],a),Qt.TEXT,a,l);return n&&whe(u,a,Qt.TEXT),u},VC=function(t,r,n){var a;r==="Size1-Regular"?a="delim-size1":a="delim-size4";var o=ze.makeSpan(["delimsizinginner",a],[ze.makeSpan([],[ze.makeSymbol(t,r,n)])]);return{type:"elem",elem:o}},qC=function(t,r,n){var a=Xc["Size4-Regular"][t.charCodeAt(0)]?Xc["Size4-Regular"][t.charCodeAt(0)][4]:Xc["Size1-Regular"][t.charCodeAt(0)][4],o=new J0("inner",bot(t,Math.round(1e3*r))),l=new Ah([o],{width:mt(a),height:mt(r),style:"width:"+mt(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=ze.makeSvgSpan([],[l],n);return c.height=r,c.style.height=mt(r),c.style.width=mt(a),{type:"elem",elem:c}},wO=.008,d4={type:"kern",size:-1*wO},plt=["|","\\lvert","\\rvert","\\vert"],glt=["\\|","\\lVert","\\rVert","\\Vert"],She=function(t,r,n,a,o,l){var c,u,h,f,d="",p=0;c=h=f=t,u=null;var g="Size1-Regular";t==="\\uparrow"?h=f="⏐":t==="\\Uparrow"?h=f="‖":t==="\\downarrow"?c=h="⏐":t==="\\Downarrow"?c=h="‖":t==="\\updownarrow"?(c="\\uparrow",h="⏐",f="\\downarrow"):t==="\\Updownarrow"?(c="\\Uparrow",h="‖",f="\\Downarrow"):qt.contains(plt,t)?(h="∣",d="vert",p=333):qt.contains(glt,t)?(h="∥",d="doublevert",p=556):t==="["||t==="\\lbrack"?(c="⎡",h="⎢",f="⎣",g="Size4-Regular",d="lbrack",p=667):t==="]"||t==="\\rbrack"?(c="⎤",h="⎥",f="⎦",g="Size4-Regular",d="rbrack",p=667):t==="\\lfloor"||t==="⌊"?(h=c="⎢",f="⎣",g="Size4-Regular",d="lfloor",p=667):t==="\\lceil"||t==="⌈"?(c="⎡",h=f="⎢",g="Size4-Regular",d="lceil",p=667):t==="\\rfloor"||t==="⌋"?(h=c="⎥",f="⎦",g="Size4-Regular",d="rfloor",p=667):t==="\\rceil"||t==="⌉"?(c="⎤",h=f="⎥",g="Size4-Regular",d="rceil",p=667):t==="("||t==="\\lparen"?(c="⎛",h="⎜",f="⎝",g="Size4-Regular",d="lparen",p=875):t===")"||t==="\\rparen"?(c="⎞",h="⎟",f="⎠",g="Size4-Regular",d="rparen",p=875):t==="\\{"||t==="\\lbrace"?(c="⎧",u="⎨",f="⎩",h="⎪",g="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(c="⎫",u="⎬",f="⎭",h="⎪",g="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(c="⎧",f="⎩",h="⎪",g="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(c="⎫",f="⎭",h="⎪",g="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(c="⎧",f="⎭",h="⎪",g="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(c="⎫",f="⎩",h="⎪",g="Size4-Regular");var m=c2(c,g,o),y=m.height+m.depth,b=c2(h,g,o),x=b.height+b.depth,T=c2(f,g,o),w=T.height+T.depth,E=0,S=1;if(u!==null){var C=c2(u,g,o);E=C.height+C.depth,S=2}var k=y+w+E,O=Math.max(0,Math.ceil((r-k)/(S*x))),I=k+O*S*x,_=a.fontMetrics().axisHeight;n&&(_*=a.sizeMultiplier);var R=I/2-_,M=[];if(d.length>0){var $=I-y-w,N=Math.round(I*1e3),P=xot(d,Math.round($*1e3)),F=new J0(d,P),L=(p/1e3).toFixed(3)+"em",D=(N/1e3).toFixed(3)+"em",B=new Ah([F],{width:L,height:D,viewBox:"0 0 "+p+" "+N}),H=ze.makeSvgSpan([],[B],a);H.height=N/1e3,H.style.width=L,H.style.height=D,M.push({type:"elem",elem:H})}else{if(M.push(VC(f,g,o)),M.push(d4),u===null){var U=I-y-w+2*wO;M.push(qC(h,U,a))}else{var G=(I-y-w-E)/2+2*wO;M.push(qC(h,G,a)),M.push(d4),M.push(VC(u,g,o)),M.push(d4),M.push(qC(h,G,a))}M.push(d4),M.push(VC(c,g,o))}var W=a.havingBaseStyle(Qt.TEXT),ee=ze.makeVList({positionType:"bottom",positionData:R,children:M},W);return PM(ze.makeSpan(["delimsizing","mult"],[ee],W),Qt.TEXT,a,l)},jC=80,XC=.08,KC=function(t,r,n,a,o){var l=yot(t,a,n),c=new J0(t,l),u=new Ah([c],{width:"400em",height:mt(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ze.makeSvgSpan(["hide-tail"],[u],o)},mlt=function(t,r){var n=r.havingBaseSizing(),a=Ihe("\\surd",t*n.sizeMultiplier,Che,n),o=n.sizeMultiplier,l=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,u=0,h=0,f=0,d;return a.type==="small"?(f=1e3+1e3*l+jC,t<1?o=1:t<1.4&&(o=.7),u=(1+l+XC)/o,h=(1+l)/o,c=KC("sqrtMain",u,f,l,r),c.style.minWidth="0.853em",d=.833/o):a.type==="large"?(f=(1e3+jC)*J2[a.size],h=(J2[a.size]+l)/o,u=(J2[a.size]+l+XC)/o,c=KC("sqrtSize"+a.size,u,f,l,r),c.style.minWidth="1.02em",d=1/o):(u=t+l+XC,h=t+l,f=Math.floor(1e3*t+l)+jC,c=KC("sqrtTall",u,f,l,r),c.style.minWidth="0.742em",d=1.056),c.height=h,c.style.height=mt(u),{span:c,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+l)*o}},Ahe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],vlt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],khe=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],J2=[0,1.2,1.8,2.4,3],ylt=function(t,r,n,a,o){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),qt.contains(Ahe,t)||qt.contains(khe,t))return Ehe(t,r,!1,n,a,o);if(qt.contains(vlt,t))return She(t,J2[r],!1,n,a,o);throw new ut("Illegal delimiter: '"+t+"'")},blt=[{type:"small",style:Qt.SCRIPTSCRIPT},{type:"small",style:Qt.SCRIPT},{type:"small",style:Qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],xlt=[{type:"small",style:Qt.SCRIPTSCRIPT},{type:"small",style:Qt.SCRIPT},{type:"small",style:Qt.TEXT},{type:"stack"}],Che=[{type:"small",style:Qt.SCRIPTSCRIPT},{type:"small",style:Qt.SCRIPT},{type:"small",style:Qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Tlt=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},Ihe=function(t,r,n,a){for(var o=Math.min(2,3-a.style.size),l=o;l<n.length&&n[l].type!=="stack";l++){var c=c2(t,Tlt(n[l]),"math"),u=c.height+c.depth;if(n[l].type==="small"){var h=a.havingBaseStyle(n[l].style);u*=h.sizeMultiplier}if(u>r)return n[l]}return n[n.length-1]},Rhe=function(t,r,n,a,o,l){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var c;qt.contains(khe,t)?c=blt:qt.contains(Ahe,t)?c=Che:c=xlt;var u=Ihe(t,r,c,a);return u.type==="small"?flt(t,u.style,n,a,o,l):u.type==="large"?Ehe(t,u.size,n,a,o,l):She(t,r,n,a,o,l)},wlt=function(t,r,n,a,o,l){var c=a.fontMetrics().axisHeight*a.sizeMultiplier,u=901,h=5/a.fontMetrics().ptPerEm,f=Math.max(r-c,n+c),d=Math.max(f/500*u,2*f-h);return Rhe(t,d,!0,a,o,l)},mh={sqrtImage:mlt,sizedDelim:ylt,sizeToMaxHeight:J2,customSizedDelim:Rhe,leftRightDelim:wlt},eY={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Elt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function yA(e,t){var r=mA(e);if(r&&qt.contains(Elt,r.text))return r;throw r?new ut("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new ut("Invalid delimiter type '"+e.type+"'",e)}St({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=yA(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:eY[e.funcName].size,mclass:eY[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?ze.makeSpan([e.mclass]):mh.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Cl(e.delim,e.mode));var r=new lt.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=mt(mh.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function tY(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}St({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new ut("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:yA(t[0],e).text,color:r}}});St({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=yA(t[0],e),n=e.parser;++n.leftrightDepth;var a=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=yr(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:a,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{tY(e);for(var r=Vi(e.body,t,!0,["mopen","mclose"]),n=0,a=0,o=!1,l=0;l<r.length;l++)r[l].isMiddle?o=!0:(n=Math.max(r[l].height,n),a=Math.max(r[l].depth,a));n*=t.sizeMultiplier,a*=t.sizeMultiplier;var c;if(e.left==="."?c=Zb(t,["mopen"]):c=mh.leftRightDelim(e.left,n,a,t,e.mode,["mopen"]),r.unshift(c),o)for(var u=1;u<r.length;u++){var h=r[u],f=h.isMiddle;f&&(r[u]=mh.leftRightDelim(f.delim,n,a,f.options,e.mode,[]))}var d;if(e.right===".")d=Zb(t,["mclose"]);else{var p=e.rightColor?t.withColor(e.rightColor):t;d=mh.leftRightDelim(e.right,n,a,p,e.mode,["mclose"])}return r.push(d),ze.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{tY(e);var r=fo(e.body,t);if(e.left!=="."){var n=new lt.MathNode("mo",[Cl(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var a=new lt.MathNode("mo",[Cl(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),r.push(a)}return NM(r)}});St({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=yA(t[0],e);if(!e.parser.leftrightDepth)throw new ut("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=Zb(t,[]);else{r=mh.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Cl("|","text"):Cl(e.delim,e.mode),n=new lt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var FM=(e,t)=>{var r=ze.wrapFragment(Br(e.body,t),t),n=e.label.slice(1),a=t.sizeMultiplier,o,l=0,c=qt.isCharacterBox(e.body);if(n==="sout")o=ze.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=Wn({number:.6,unit:"pt"},t),h=Wn({number:.35,unit:"ex"},t),f=t.havingBaseSizing();a=a/f.sizeMultiplier;var d=r.height+r.depth+u+h;r.style.paddingLeft=mt(d/2+u);var p=Math.floor(1e3*d*a),g=mot(p),m=new Ah([new J0("phase",g)],{width:"400em",height:mt(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});o=ze.makeSvgSpan(["hide-tail"],[m],t),o.style.height=mt(d),l=r.depth+u+h}else{/cancel/.test(n)?c||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var y=0,b=0,x=0;/box/.test(n)?(x=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(n==="colorbox"?0:x),b=y):n==="angl"?(x=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*x,b=Math.max(0,.25-r.depth)):(y=c?.2:0,b=y),o=Ch.encloseSpan(r,n,y,b,t),/fbox|boxed|fcolorbox/.test(n)?(o.style.borderStyle="solid",o.style.borderWidth=mt(x)):n==="angl"&&x!==.049&&(o.style.borderTopWidth=mt(x),o.style.borderRightWidth=mt(x)),l=r.depth+b,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}var T;if(e.backgroundColor)T=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:l},{type:"elem",elem:r,shift:0}]},t);else{var w=/cancel|phase/.test(n)?["svg-align"]:[];T=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:o,shift:l,wrapperClasses:w}]},t)}return/cancel/.test(n)&&(T.height=r.height,T.depth=r.depth),/cancel/.test(n)&&!c?ze.makeSpan(["mord","cancel-lap"],[T],t):ze.makeSpan(["mord"],[T],t)},BM=(e,t)=>{var r=0,n=new lt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hn(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};St({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,o=yr(t[0],"color-token").color,l=t[1];return{type:"enclose",mode:n.mode,label:a,backgroundColor:o,body:l}},htmlBuilder:FM,mathmlBuilder:BM});St({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:a}=e,o=yr(t[0],"color-token").color,l=yr(t[1],"color-token").color,c=t[2];return{type:"enclose",mode:n.mode,label:a,backgroundColor:l,borderColor:o,body:c}},htmlBuilder:FM,mathmlBuilder:BM});St({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});St({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"enclose",mode:r.mode,label:n,body:a}},htmlBuilder:FM,mathmlBuilder:BM});St({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var Ohe={};function ku(e){for(var{type:t,names:r,props:n,handler:a,htmlBuilder:o,mathmlBuilder:l}=e,c={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},u=0;u<r.length;++u)Ohe[r[u]]=c;o&&(EE[t]=o),l&&(SE[t]=l)}var _he={};function be(e,t){_he[e]=t}function rY(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}var bA=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ut("{"+e.envName+"} can be used only in display mode.")};function $M(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function kf(e,t,r){var{hskipBeforeAndAfter:n,addJot:a,cols:o,arraystretch:l,colSeparationType:c,autoTag:u,singleRow:h,emptySingleRow:f,maxNumCols:d,leqno:p}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=e.gullet.expandMacroAsText("\\arraystretch");if(g==null)l=1;else if(l=parseFloat(g),!l||l<0)throw new ut("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],y=[m],b=[],x=[],T=u!=null?[]:void 0;function w(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}function E(){T&&(e.gullet.macros.get("\\df@tag")?(T.push(e.subparse([new yl("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(w(),x.push(rY(e));;){var S=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),S={type:"ordgroup",mode:e.mode,body:S},r&&(S={type:"styling",mode:e.mode,style:r,body:[S]}),m.push(S);var C=e.fetch().text;if(C==="&"){if(d&&m.length===d){if(h||c)throw new ut("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(C==="\\end"){E(),m.length===1&&S.type==="styling"&&S.body[0].body.length===0&&(y.length>1||!f)&&y.pop(),x.length<y.length+1&&x.push([]);break}else if(C==="\\\\"){e.consume();var k=void 0;e.gullet.future().text!==" "&&(k=e.parseSizeGroup(!0)),b.push(k?k.value:null),E(),x.push(rY(e)),m=[],y.push(m),w()}else throw new ut("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:a,arraystretch:l,body:y,cols:o,rowGaps:b,hskipBeforeAndAfter:n,hLinesBeforeRow:x,colSeparationType:c,tags:T,leqno:p}}function HM(e){return e.slice(0,1)==="d"?"display":"text"}var Cu=function(t,r){var n,a,o=t.body.length,l=t.hLinesBeforeRow,c=0,u=new Array(o),h=[],f=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,p=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var g=r.havingStyle(Qt.SCRIPT).sizeMultiplier;p=.2778*(g/r.sizeMultiplier)}var m=t.colSeparationType==="CD"?Wn({number:3,unit:"ex"},r):12*d,y=3*d,b=t.arraystretch*m,x=.7*b,T=.3*b,w=0;function E(se){for(var fe=0;fe<se.length;++fe)fe>0&&(w+=.25),h.push({pos:w,isDashed:se[fe]})}for(E(l[0]),n=0;n<t.body.length;++n){var S=t.body[n],C=x,k=T;c<S.length&&(c=S.length);var O=new Array(S.length);for(a=0;a<S.length;++a){var I=Br(S[a],r);k<I.depth&&(k=I.depth),C<I.height&&(C=I.height),O[a]=I}var _=t.rowGaps[n],R=0;_&&(R=Wn(_,r),R>0&&(R+=T,k<R&&(k=R),R=0)),t.addJot&&(k+=y),O.height=C,O.depth=k,w+=C,O.pos=w,w+=k+R,u[n]=O,E(l[n+1])}var M=w/2+r.fontMetrics().axisHeight,$=t.cols||[],N=[],P,F,L=[];if(t.tags&&t.tags.some(se=>se))for(n=0;n<o;++n){var D=u[n],B=D.pos-M,H=t.tags[n],U=void 0;H===!0?U=ze.makeSpan(["eqn-num"],[],r):H===!1?U=ze.makeSpan([],[],r):U=ze.makeSpan([],Vi(H,r,!0),r),U.depth=D.depth,U.height=D.height,L.push({type:"elem",elem:U,shift:B})}for(a=0,F=0;a<c||F<$.length;++a,++F){for(var G=$[F]||{},W=!0;G.type==="separator";){if(W||(P=ze.makeSpan(["arraycolsep"],[]),P.style.width=mt(r.fontMetrics().doubleRuleSep),N.push(P)),G.separator==="|"||G.separator===":"){var ee=G.separator==="|"?"solid":"dashed",ce=ze.makeSpan(["vertical-separator"],[],r);ce.style.height=mt(w),ce.style.borderRightWidth=mt(f),ce.style.borderRightStyle=ee,ce.style.margin="0 "+mt(-f/2);var Z=w-M;Z&&(ce.style.verticalAlign=mt(-Z)),N.push(ce)}else throw new ut("Invalid separator type: "+G.separator);F++,G=$[F]||{},W=!1}if(!(a>=c)){var J=void 0;(a>0||t.hskipBeforeAndAfter)&&(J=qt.deflt(G.pregap,p),J!==0&&(P=ze.makeSpan(["arraycolsep"],[]),P.style.width=mt(J),N.push(P)));var oe=[];for(n=0;n<o;++n){var Y=u[n],X=Y[a];if(X){var K=Y.pos-M;X.depth=Y.depth,X.height=Y.height,oe.push({type:"elem",elem:X,shift:K})}}oe=ze.makeVList({positionType:"individualShift",children:oe},r),oe=ze.makeSpan(["col-align-"+(G.align||"c")],[oe]),N.push(oe),(a<c-1||t.hskipBeforeAndAfter)&&(J=qt.deflt(G.postgap,p),J!==0&&(P=ze.makeSpan(["arraycolsep"],[]),P.style.width=mt(J),N.push(P)))}}if(u=ze.makeSpan(["mtable"],N),h.length>0){for(var z=ze.makeLineSpan("hline",r,f),j=ze.makeLineSpan("hdashline",r,f),te=[{type:"elem",elem:u,shift:0}];h.length>0;){var re=h.pop(),Se=re.pos-M;re.isDashed?te.push({type:"elem",elem:j,shift:Se}):te.push({type:"elem",elem:z,shift:Se})}u=ze.makeVList({positionType:"individualShift",children:te},r)}if(L.length===0)return ze.makeSpan(["mord"],[u],r);var ue=ze.makeVList({positionType:"individualShift",children:L},r);return ue=ze.makeSpan(["tag"],[ue],r),ze.makeFragment([u,ue])},Slt={c:"center ",l:"left ",r:"right "},Iu=function(t,r){for(var n=[],a=new lt.MathNode("mtd",[],["mtr-glue"]),o=new lt.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<t.body.length;l++){for(var c=t.body[l],u=[],h=0;h<c.length;h++)u.push(new lt.MathNode("mtd",[hn(c[h],r)]));t.tags&&t.tags[l]&&(u.unshift(a),u.push(a),t.leqno?u.unshift(o):u.push(o)),n.push(new lt.MathNode("mtr",u))}var f=new lt.MathNode("mtable",n),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);f.setAttribute("rowspacing",mt(d));var p="",g="";if(t.cols&&t.cols.length>0){var m=t.cols,y="",b=!1,x=0,T=m.length;m[0].type==="separator"&&(p+="top ",x=1),m[m.length-1].type==="separator"&&(p+="bottom ",T-=1);for(var w=x;w<T;w++)m[w].type==="align"?(g+=Slt[m[w].align],b&&(y+="none "),b=!0):m[w].type==="separator"&&b&&(y+=m[w].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",g.trim()),/[sd]/.test(y)&&f.setAttribute("columnlines",y.trim())}if(t.colSeparationType==="align"){for(var E=t.cols||[],S="",C=1;C<E.length;C++)S+=C%2?"0em ":"1em ";f.setAttribute("columnspacing",S.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var k="",O=t.hLinesBeforeRow;p+=O[0].length>0?"left ":"",p+=O[O.length-1].length>0?"right ":"";for(var I=1;I<O.length-1;I++)k+=O[I].length===0?"none ":O[I][0]?"dashed ":"solid ";return/[sd]/.test(k)&&f.setAttribute("rowlines",k.trim()),p!==""&&(f=new lt.MathNode("menclose",[f]),f.setAttribute("notation",p.trim())),t.arraystretch&&t.arraystretch<1&&(f=new lt.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},Nhe=function(t,r){t.envName.indexOf("ed")===-1&&bA(t);var n=[],a=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",l=kf(t.parser,{cols:n,addJot:!0,autoTag:o?void 0:$M(t.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),c,u=0,h={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var f="",d=0;d<r[0].body.length;d++){var p=yr(r[0].body[d],"textord");f+=p.text}c=Number(f),u=c*2}var g=!u;l.body.forEach(function(x){for(var T=1;T<x.length;T+=2){var w=yr(x[T],"styling"),E=yr(w.body[0],"ordgroup");E.body.unshift(h)}if(g)u<x.length&&(u=x.length);else{var S=x.length/2;if(c<S)throw new ut("Too many math in a row: "+("expected "+c+", but got "+S),x[0])}});for(var m=0;m<u;++m){var y="r",b=0;m%2===1?y="l":m>0&&g&&(b=1),n[m]={type:"align",align:y,pregap:b,postgap:0}}return l.colSeparationType=g?"align":"alignat",l};ku({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=mA(t[0]),n=r?[t[0]]:yr(t[0],"ordgroup").body,a=n.map(function(l){var c=MM(l),u=c.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new ut("Unknown column alignment: "+u,l)}),o={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return kf(e.parser,o,HM(e.envName))},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var a=e.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),r=a.fetch().text,"lcr".indexOf(r)===-1)throw new ut("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),n.cols=[{type:"align",align:r}]}}var o=kf(e.parser,n,HM(e.envName)),l=Math.max(0,...o.body.map(c=>c.length));return o.cols=new Array(l).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=kf(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=mA(t[0]),n=r?[t[0]]:yr(t[0],"ordgroup").body,a=n.map(function(l){var c=MM(l),u=c.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new ut("Unknown column alignment: "+u,l)});if(a.length>1)throw new ut("{subarray} can contain only one column");var o={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=kf(e.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ut("{subarray} can contain only one column");return o},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=kf(e.parser,t,HM(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Nhe,htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){qt.contains(["gather","gather*"],e.envName)&&bA(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:$M(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return kf(e.parser,t,"display")},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Nhe,htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){bA(e);var t={autoTag:$M(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return kf(e.parser,t,"display")},htmlBuilder:Cu,mathmlBuilder:Iu});ku({type:"array",names:["CD"],props:{numArgs:0},handler(e){return bA(e),ult(e.parser)},htmlBuilder:Cu,mathmlBuilder:Iu});be("\\nonumber","\\gdef\\@eqnsw{0}");be("\\notag","\\nonumber");St({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ut(e.funcName+" valid only within array environment")}});var nY=Ohe;St({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];if(a.type!=="ordgroup")throw new ut("Invalid environment name",a);for(var o="",l=0;l<a.body.length;++l)o+=yr(a.body[l],"textord").text;if(n==="\\begin"){if(!nY.hasOwnProperty(o))throw new ut("No such environment: "+o,a);var c=nY[o],{args:u,optArgs:h}=r.parseArguments("\\begin{"+o+"}",c),f={mode:r.mode,envName:o,parser:r},d=c.handler(f,u,h);r.expect("\\end",!1);var p=r.nextToken,g=yr(r.parseFunction(),"environment");if(g.name!==o)throw new ut("Mismatch: \\begin{"+o+"} matched by \\end{"+g.name+"}",p);return d}return{type:"environment",mode:r.mode,name:o,nameGroup:a}}});var Lhe=(e,t)=>{var r=e.font,n=t.withFont(r);return Br(e.body,n)},Mhe=(e,t)=>{var r=e.font,n=t.withFont(r);return hn(e.body,n)},iY={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};St({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=AE(t[0]),o=n;return o in iY&&(o=iY[o]),{type:"font",mode:r.mode,font:o.slice(1),body:a}},htmlBuilder:Lhe,mathmlBuilder:Mhe});St({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],a=qt.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:vA(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:a}}});St({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:a}=e,{mode:o}=r,l=r.parseExpression(!0,a),c="math"+n.slice(1);return{type:"font",mode:o,font:c,body:{type:"ordgroup",mode:r.mode,body:l}}},htmlBuilder:Lhe,mathmlBuilder:Mhe});var Dhe=(e,t)=>{var r=t;return e==="display"?r=r.id>=Qt.SCRIPT.id?r.text():Qt.DISPLAY:e==="text"&&r.size===Qt.DISPLAY.size?r=Qt.TEXT:e==="script"?r=Qt.SCRIPT:e==="scriptscript"&&(r=Qt.SCRIPTSCRIPT),r},UM=(e,t)=>{var r=Dhe(e.size,t.style),n=r.fracNum(),a=r.fracDen(),o;o=t.havingStyle(n);var l=Br(e.numer,o,t);if(e.continued){var c=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<u?u:l.depth}o=t.havingStyle(a);var h=Br(e.denom,o,t),f,d,p;e.hasBarLine?(e.barSize?(d=Wn(e.barSize,t),f=ze.makeLineSpan("frac-line",t,d)):f=ze.makeLineSpan("frac-line",t),d=f.height,p=f.height):(f=null,d=0,p=t.fontMetrics().defaultRuleThickness);var g,m,y;r.size===Qt.DISPLAY.size||e.size==="display"?(g=t.fontMetrics().num1,d>0?m=3*p:m=7*p,y=t.fontMetrics().denom1):(d>0?(g=t.fontMetrics().num2,m=p):(g=t.fontMetrics().num3,m=3*p),y=t.fontMetrics().denom2);var b;if(f){var T=t.fontMetrics().axisHeight;g-l.depth-(T+.5*d)<m&&(g+=m-(g-l.depth-(T+.5*d))),T-.5*d-(h.height-y)<m&&(y+=m-(T-.5*d-(h.height-y)));var w=-(T-.5*d);b=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:f,shift:w},{type:"elem",elem:l,shift:-g}]},t)}else{var x=g-l.depth-(h.height-y);x<m&&(g+=.5*(m-x),y+=.5*(m-x)),b=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:l,shift:-g}]},t)}o=t.havingStyle(r),b.height*=o.sizeMultiplier/t.sizeMultiplier,b.depth*=o.sizeMultiplier/t.sizeMultiplier;var E;r.size===Qt.DISPLAY.size?E=t.fontMetrics().delim1:r.size===Qt.SCRIPTSCRIPT.size?E=t.havingStyle(Qt.SCRIPT).fontMetrics().delim2:E=t.fontMetrics().delim2;var S,C;return e.leftDelim==null?S=Zb(t,["mopen"]):S=mh.customSizedDelim(e.leftDelim,E,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?C=ze.makeSpan([]):e.rightDelim==null?C=Zb(t,["mclose"]):C=mh.customSizedDelim(e.rightDelim,E,!0,t.havingStyle(r),e.mode,["mclose"]),ze.makeSpan(["mord"].concat(o.sizingClasses(t)),[S,ze.makeSpan(["mfrac"],[b]),C],t)},WM=(e,t)=>{var r=new lt.MathNode("mfrac",[hn(e.numer,t),hn(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=Wn(e.barSize,t);r.setAttribute("linethickness",mt(n))}var a=Dhe(e.size,t.style);if(a.size!==t.style.size){r=new lt.MathNode("mstyle",[r]);var o=a.size===Qt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var l=[];if(e.leftDelim!=null){var c=new lt.MathNode("mo",[new lt.TextNode(e.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(r),e.rightDelim!=null){var u=new lt.MathNode("mo",[new lt.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),l.push(u)}return NM(l)}return r};St({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],o=t[1],l,c=null,u=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",u=")";break;case"\\\\bracefrac":l=!1,c="\\{",u="\\}";break;case"\\\\brackfrac":l=!1,c="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:a,denom:o,hasBarLine:l,leftDelim:c,rightDelim:u,size:h,barSize:null}},htmlBuilder:UM,mathmlBuilder:WM});St({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],o=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:a,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});St({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,a;switch(r){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:a,token:n}}});var aY=["display","text","script","scriptscript"],sY=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};St({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],a=t[5],o=AE(t[0]),l=o.type==="atom"&&o.family==="open"?sY(o.text):null,c=AE(t[1]),u=c.type==="atom"&&c.family==="close"?sY(c.text):null,h=yr(t[2],"size"),f,d=null;h.isBlank?f=!0:(d=h.value,f=d.number>0);var p="auto",g=t[3];if(g.type==="ordgroup"){if(g.body.length>0){var m=yr(g.body[0],"textord");p=aY[Number(m.text)]}}else g=yr(g,"textord"),p=aY[Number(g.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:f,barSize:d,leftDelim:l,rightDelim:u,size:p}},htmlBuilder:UM,mathmlBuilder:WM});St({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:a}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:yr(t[0],"size").value,token:a}}});St({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0],o=tot(yr(t[1],"infix").size),l=t[2],c=o.number>0;return{type:"genfrac",mode:r.mode,numer:a,denom:l,continued:!1,hasBarLine:c,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:UM,mathmlBuilder:WM});var Phe=(e,t)=>{var r=t.style,n,a;e.type==="supsub"?(n=e.sup?Br(e.sup,t.havingStyle(r.sup()),t):Br(e.sub,t.havingStyle(r.sub()),t),a=yr(e.base,"horizBrace")):a=yr(e,"horizBrace");var o=Br(a.base,t.havingBaseStyle(Qt.DISPLAY)),l=Ch.svgSpan(a,t),c;if(a.isOver?(c=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},t),c.children[0].children[0].children[1].classes.push("svg-align")):(c=ze.makeVList({positionType:"bottom",positionData:o.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},t),c.children[0].children[0].children[0].classes.push("svg-align")),n){var u=ze.makeSpan(["mord",a.isOver?"mover":"munder"],[c],t);a.isOver?c=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):c=ze.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return ze.makeSpan(["mord",a.isOver?"mover":"munder"],[c],t)},Alt=(e,t)=>{var r=Ch.mathMLnode(e.label);return new lt.MathNode(e.isOver?"mover":"munder",[hn(e.base,t),r])};St({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:Phe,mathmlBuilder:Alt});St({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],a=yr(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:r.mode,href:a,body:bi(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=Vi(e.body,t,!1);return ze.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=ef(e.body,t);return r instanceof No||(r=new No("mrow",[r])),r.setAttribute("href",e.href),r}});St({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=yr(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var a=[],o=0;o<n.length;o++){var l=n[o];l==="~"&&(l="\\textasciitilde"),a.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:r.mode,font:"\\texttt",body:a};return{type:"href",mode:r.mode,href:n,body:bi(c)}}});St({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:bi(t[0])}},htmlBuilder(e,t){var r=Vi(e.body,t,!1);return ze.makeFragment(r)},mathmlBuilder(e,t){return new lt.MathNode("mrow",fo(e.body,t))}});St({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:a}=e,o=yr(t[0],"raw").string,l=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,u={};switch(n){case"\\htmlClass":u.class=o,c={command:"\\htmlClass",class:o};break;case"\\htmlId":u.id=o,c={command:"\\htmlId",id:o};break;case"\\htmlStyle":u.style=o,c={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var h=o.split(","),f=0;f<h.length;f++){var d=h[f].split("=");if(d.length!==2)throw new ut("Error parsing key-value for \\htmlData");u["data-"+d[0].trim()]=d[1].trim()}c={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:u,body:bi(l)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=Vi(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var a=ze.makeSpan(n,r,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&a.setAttribute(o,e.attributes[o]);return a},mathmlBuilder:(e,t)=>ef(e.body,t)});St({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:bi(t[0]),mathml:bi(t[1])}},htmlBuilder:(e,t)=>{var r=Vi(e.html,t,!1);return ze.makeFragment(r)},mathmlBuilder:(e,t)=>ef(e.mathml,t)});var ZC=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new ut("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!the(n))throw new ut("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};St({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,a={number:0,unit:"em"},o={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(r[0])for(var u=yr(r[0],"raw").string,h=u.split(","),f=0;f<h.length;f++){var d=h[f].split("=");if(d.length===2){var p=d[1].trim();switch(d[0].trim()){case"alt":c=p;break;case"width":a=ZC(p);break;case"height":o=ZC(p);break;case"totalheight":l=ZC(p);break;default:throw new ut("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var g=yr(t[0],"url").url;return c===""&&(c=g,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:n.mode,alt:c,width:a,height:o,totalheight:l,src:g}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=Wn(e.height,t),n=0;e.totalheight.number>0&&(n=Wn(e.totalheight,t)-r);var a=0;e.width.number>0&&(a=Wn(e.width,t));var o={height:mt(r+n)};a>0&&(o.width=mt(a)),n>0&&(o.verticalAlign=mt(-n));var l=new Aot(e.src,e.alt,o);return l.height=r,l.depth=n,l},mathmlBuilder:(e,t)=>{var r=new lt.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Wn(e.height,t),a=0;if(e.totalheight.number>0&&(a=Wn(e.totalheight,t)-n,r.setAttribute("valign",mt(-a))),r.setAttribute("height",mt(n+a)),e.width.number>0){var o=Wn(e.width,t);r.setAttribute("width",mt(o))}return r.setAttribute("src",e.src),r}});St({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=yr(t[0],"size");if(r.settings.strict){var o=n[1]==="m",l=a.value.unit==="mu";o?(l||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+a.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):l&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:a.value}},htmlBuilder(e,t){return ze.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=Wn(e.dimension,t);return new lt.SpaceNode(r)}});St({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:a}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=ze.makeSpan([],[Br(e.body,t)]),r=ze.makeSpan(["inner"],[r],t)):r=ze.makeSpan(["inner"],[Br(e.body,t)]);var n=ze.makeSpan(["fix"],[]),a=ze.makeSpan([e.alignment],[r,n],t),o=ze.makeSpan(["strut"]);return o.style.height=mt(a.height+a.depth),a.depth&&(o.style.verticalAlign=mt(-a.depth)),a.children.unshift(o),a=ze.makeSpan(["thinbox"],[a],t),ze.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:(e,t)=>{var r=new lt.MathNode("mpadded",[hn(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});St({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,a=n.mode;n.switchMode("math");var o=r==="\\("?"\\)":"$",l=n.parseExpression(!1,o);return n.expect(o),n.switchMode(a),{type:"styling",mode:n.mode,style:"text",body:l}}});St({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ut("Mismatched "+e.funcName)}});var oY=(e,t)=>{switch(t.style.size){case Qt.DISPLAY.size:return e.display;case Qt.TEXT.size:return e.text;case Qt.SCRIPT.size:return e.script;case Qt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};St({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:bi(t[0]),text:bi(t[1]),script:bi(t[2]),scriptscript:bi(t[3])}},htmlBuilder:(e,t)=>{var r=oY(e,t),n=Vi(r,t,!1);return ze.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=oY(e,t);return ef(r,t)}});var Fhe=(e,t,r,n,a,o,l)=>{e=ze.makeSpan([],[e]);var c=r&&qt.isCharacterBox(r),u,h;if(t){var f=Br(t,n.havingStyle(a.sup()),n);h={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-f.depth)}}if(r){var d=Br(r,n.havingStyle(a.sub()),n);u={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var p;if(h&&u){var g=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+l;p=ze.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:mt(-o)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:mt(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var m=e.height-l;p=ze.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:mt(-o)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(h){var y=e.depth+l;p=ze.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:mt(o)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var b=[p];if(u&&o!==0&&!c){var x=ze.makeSpan(["mspace"],[],n);x.style.marginRight=mt(o),b.unshift(x)}return ze.makeSpan(["mop","op-limits"],b,n)},Bhe=["\\smallint"],Pv=(e,t)=>{var r,n,a=!1,o;e.type==="supsub"?(r=e.sup,n=e.sub,o=yr(e.base,"op"),a=!0):o=yr(e,"op");var l=t.style,c=!1;l.size===Qt.DISPLAY.size&&o.symbol&&!qt.contains(Bhe,o.name)&&(c=!0);var u;if(o.symbol){var h=c?"Size2-Regular":"Size1-Regular",f="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(f=o.name.slice(1),o.name=f==="oiint"?"\\iint":"\\iiint"),u=ze.makeSymbol(o.name,h,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),f.length>0){var d=u.italic,p=ze.staticSvg(f+"Size"+(c?"2":"1"),t);u=ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:p,shift:c?.08:0}]},t),o.name="\\"+f,u.classes.unshift("mop"),u.italic=d}}else if(o.body){var g=Vi(o.body,t,!0);g.length===1&&g[0]instanceof kl?(u=g[0],u.classes[0]="mop"):u=ze.makeSpan(["mop"],g,t)}else{for(var m=[],y=1;y<o.name.length;y++)m.push(ze.mathsym(o.name[y],o.mode,t));u=ze.makeSpan(["mop"],m,t)}var b=0,x=0;return(u instanceof kl||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(b=(u.height-u.depth)/2-t.fontMetrics().axisHeight,x=u.italic),a?Fhe(u,r,n,t,l,x,b):(b&&(u.style.position="relative",u.style.top=mt(b)),u)},T3=(e,t)=>{var r;if(e.symbol)r=new No("mo",[Cl(e.name,e.mode)]),qt.contains(Bhe,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new No("mo",fo(e.body,t));else{r=new No("mi",[new Kc(e.name.slice(1))]);var n=new No("mo",[Cl("⁡","text")]);e.parentIsSupSub?r=new No("mrow",[r,n]):r=fhe([r,n])}return r},klt={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};St({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=n;return a.length===1&&(a=klt[a]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:Pv,mathmlBuilder:T3});St({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:bi(n)}},htmlBuilder:Pv,mathmlBuilder:T3});var Clt={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};St({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Pv,mathmlBuilder:T3});St({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Pv,mathmlBuilder:T3});St({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=Clt[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Pv,mathmlBuilder:T3});var $he=(e,t)=>{var r,n,a=!1,o;e.type==="supsub"?(r=e.sup,n=e.sub,o=yr(e.base,"operatorname"),a=!0):o=yr(e,"operatorname");var l;if(o.body.length>0){for(var c=o.body.map(d=>{var p=d.text;return typeof p=="string"?{type:"textord",mode:d.mode,text:p}:d}),u=Vi(c,t.withFont("mathrm"),!0),h=0;h<u.length;h++){var f=u[h];f instanceof kl&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ze.makeSpan(["mop"],u,t)}else l=ze.makeSpan(["mop"],[],t);return a?Fhe(l,r,n,t,t.style,0,0):l},Ilt=(e,t)=>{for(var r=fo(e.body,t.withFont("mathrm")),n=!0,a=0;a<r.length;a++){var o=r[a];if(!(o instanceof lt.SpaceNode))if(o instanceof lt.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=o.children[0];o.children.length===1&&l instanceof lt.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var c=r.map(f=>f.toText()).join("");r=[new lt.TextNode(c)]}var u=new lt.MathNode("mi",r);u.setAttribute("mathvariant","normal");var h=new lt.MathNode("mo",[Cl("⁡","text")]);return e.parentIsSupSub?new lt.MathNode("mrow",[u,h]):lt.newDocumentFragment([u,h])};St({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,a=t[0];return{type:"operatorname",mode:r.mode,body:bi(a),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:$he,mathmlBuilder:Ilt});be("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Bp({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?ze.makeFragment(Vi(e.body,t,!1)):ze.makeSpan(["mord"],Vi(e.body,t,!0),t)},mathmlBuilder(e,t){return ef(e.body,t,!0)}});St({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=Br(e.body,t.havingCrampedStyle()),n=ze.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,o=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n},{type:"kern",size:a}]},t);return ze.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var r=new lt.MathNode("mo",[new lt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new lt.MathNode("mover",[hn(e.body,t),r]);return n.setAttribute("accent","true"),n}});St({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:bi(n)}},htmlBuilder:(e,t)=>{var r=Vi(e.body,t.withPhantom(),!1);return ze.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=fo(e.body,t);return new lt.MathNode("mphantom",r)}});St({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ze.makeSpan([],[Br(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),ze.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=fo(bi(e.body),t),n=new lt.MathNode("mphantom",r),a=new lt.MathNode("mpadded",[n]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});St({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=ze.makeSpan(["inner"],[Br(e.body,t.withPhantom())]),n=ze.makeSpan(["fix"],[]);return ze.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=fo(bi(e.body),t),n=new lt.MathNode("mphantom",r),a=new lt.MathNode("mpadded",[n]);return a.setAttribute("width","0px"),a}});St({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=yr(t[0],"size").value,a=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:a}},htmlBuilder(e,t){var r=Br(e.body,t),n=Wn(e.dy,t);return ze.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new lt.MathNode("mpadded",[hn(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});St({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});St({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,a=r[0],o=yr(t[0],"size"),l=yr(t[1],"size");return{type:"rule",mode:n.mode,shift:a&&yr(a,"size").value,width:o.value,height:l.value}},htmlBuilder(e,t){var r=ze.makeSpan(["mord","rule"],[],t),n=Wn(e.width,t),a=Wn(e.height,t),o=e.shift?Wn(e.shift,t):0;return r.style.borderRightWidth=mt(n),r.style.borderTopWidth=mt(a),r.style.bottom=mt(o),r.width=n,r.height=a+o,r.depth=-o,r.maxFontSize=a*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=Wn(e.width,t),n=Wn(e.height,t),a=e.shift?Wn(e.shift,t):0,o=t.color&&t.getColor()||"black",l=new lt.MathNode("mspace");l.setAttribute("mathbackground",o),l.setAttribute("width",mt(r)),l.setAttribute("height",mt(n));var c=new lt.MathNode("mpadded",[l]);return a>=0?c.setAttribute("height",mt(a)):(c.setAttribute("height",mt(a)),c.setAttribute("depth",mt(-a))),c.setAttribute("voffset",mt(a)),c}});function Hhe(e,t,r){for(var n=Vi(e,t,!1),a=t.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var l=n[o].classes.indexOf("sizing");l<0?Array.prototype.push.apply(n[o].classes,t.sizingClasses(r)):n[o].classes[l+1]==="reset-size"+t.size&&(n[o].classes[l+1]="reset-size"+r.size),n[o].height*=a,n[o].depth*=a}return ze.makeFragment(n)}var lY=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Rlt=(e,t)=>{var r=t.havingSize(e.size);return Hhe(e.body,r,t)};St({type:"sizing",names:lY,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:a}=e,o=a.parseExpression(!1,r);return{type:"sizing",mode:a.mode,size:lY.indexOf(n)+1,body:o}},htmlBuilder:Rlt,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=fo(e.body,r),a=new lt.MathNode("mstyle",n);return a.setAttribute("mathsize",mt(r.sizeMultiplier)),a}});St({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,a=!1,o=!1,l=r[0]&&yr(r[0],"ordgroup");if(l)for(var c="",u=0;u<l.body.length;++u){var h=l.body[u];if(c=h.text,c==="t")a=!0;else if(c==="b")o=!0;else{a=!1,o=!1;break}}else a=!0,o=!0;var f=t[0];return{type:"smash",mode:n.mode,body:f,smashHeight:a,smashDepth:o}},htmlBuilder:(e,t)=>{var r=ze.makeSpan([],[Br(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].depth=0;var o=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return ze.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var r=new lt.MathNode("mpadded",[hn(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});St({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,a=r[0],o=t[0];return{type:"sqrt",mode:n.mode,body:o,index:a}},htmlBuilder(e,t){var r=Br(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=ze.wrapFragment(r,t);var n=t.fontMetrics(),a=n.defaultRuleThickness,o=a;t.style.id<Qt.TEXT.id&&(o=t.fontMetrics().xHeight);var l=a+o/4,c=r.height+r.depth+l+a,{span:u,ruleWidth:h,advanceWidth:f}=mh.sqrtImage(c,t),d=u.height-h;d>r.height+r.depth+l&&(l=(l+d-r.height-r.depth)/2);var p=u.height-r.height-l-h;r.style.paddingLeft=mt(f);var g=ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+p)},{type:"elem",elem:u},{type:"kern",size:h}]},t);if(e.index){var m=t.havingStyle(Qt.SCRIPTSCRIPT),y=Br(e.index,m,t),b=.6*(g.height-g.depth),x=ze.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),T=ze.makeSpan(["root"],[x]);return ze.makeSpan(["mord","sqrt"],[T,g],t)}else return ze.makeSpan(["mord","sqrt"],[g],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new lt.MathNode("mroot",[hn(r,t),hn(n,t)]):new lt.MathNode("msqrt",[hn(r,t)])}});var cY={display:Qt.DISPLAY,text:Qt.TEXT,script:Qt.SCRIPT,scriptscript:Qt.SCRIPTSCRIPT};St({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:a}=e,o=a.parseExpression(!0,r),l=n.slice(1,n.length-5);return{type:"styling",mode:a.mode,style:l,body:o}},htmlBuilder(e,t){var r=cY[e.style],n=t.havingStyle(r).withFont("");return Hhe(e.body,n,t)},mathmlBuilder(e,t){var r=cY[e.style],n=t.havingStyle(r),a=fo(e.body,n),o=new lt.MathNode("mstyle",a),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[e.style];return o.setAttribute("scriptlevel",c[0]),o.setAttribute("displaystyle",c[1]),o}});var Olt=function(t,r){var n=t.base;if(n)if(n.type==="op"){var a=n.limits&&(r.style.size===Qt.DISPLAY.size||n.alwaysHandleSupSub);return a?Pv:null}else if(n.type==="operatorname"){var o=n.alwaysHandleSupSub&&(r.style.size===Qt.DISPLAY.size||n.limits);return o?$he:null}else{if(n.type==="accent")return qt.isCharacterBox(n.base)?DM:null;if(n.type==="horizBrace"){var l=!t.sub;return l===n.isOver?Phe:null}else return null}else return null};Bp({type:"supsub",htmlBuilder(e,t){var r=Olt(e,t);if(r)return r(e,t);var{base:n,sup:a,sub:o}=e,l=Br(n,t),c,u,h=t.fontMetrics(),f=0,d=0,p=n&&qt.isCharacterBox(n);if(a){var g=t.havingStyle(t.style.sup());c=Br(a,g,t),p||(f=l.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(o){var m=t.havingStyle(t.style.sub());u=Br(o,m,t),p||(d=l.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var y;t.style===Qt.DISPLAY?y=h.sup1:t.style.cramped?y=h.sup3:y=h.sup2;var b=t.sizeMultiplier,x=mt(.5/h.ptPerEm/b),T=null;if(u){var w=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(l instanceof kl||w)&&(T=mt(-l.italic))}var E;if(c&&u){f=Math.max(f,y,c.depth+.25*h.xHeight),d=Math.max(d,h.sub2);var S=h.defaultRuleThickness,C=4*S;if(f-c.depth-(u.height-d)<C){d=C-(f-c.depth)+u.height;var k=.8*h.xHeight-(f-c.depth);k>0&&(f+=k,d-=k)}var O=[{type:"elem",elem:u,shift:d,marginRight:x,marginLeft:T},{type:"elem",elem:c,shift:-f,marginRight:x}];E=ze.makeVList({positionType:"individualShift",children:O},t)}else if(u){d=Math.max(d,h.sub1,u.height-.8*h.xHeight);var I=[{type:"elem",elem:u,marginLeft:T,marginRight:x}];E=ze.makeVList({positionType:"shift",positionData:d,children:I},t)}else if(c)f=Math.max(f,y,c.depth+.25*h.xHeight),E=ze.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:c,marginRight:x}]},t);else throw new Error("supsub must have either sup or sub.");var _=bO(l,"right")||"mord";return ze.makeSpan([_],[l,ze.makeSpan(["msupsub"],[E])],t)},mathmlBuilder(e,t){var r=!1,n,a;e.base&&e.base.type==="horizBrace"&&(a=!!e.sup,a===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var o=[hn(e.base,t)];e.sub&&o.push(hn(e.sub,t)),e.sup&&o.push(hn(e.sup,t));var l;if(r)l=n?"mover":"munder";else if(e.sub)if(e.sup){var h=e.base;h&&h.type==="op"&&h.limits&&t.style===Qt.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(t.style===Qt.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===Qt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===Qt.DISPLAY)?l="munder":l="msub"}else{var c=e.base;c&&c.type==="op"&&c.limits&&(t.style===Qt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===Qt.DISPLAY)?l="mover":l="msup"}return new lt.MathNode(l,o)}});Bp({type:"atom",htmlBuilder(e,t){return ze.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new lt.MathNode("mo",[Cl(e.text,e.mode)]);if(e.family==="bin"){var n=LM(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var Uhe={mi:"italic",mn:"normal",mtext:"normal"};Bp({type:"mathord",htmlBuilder(e,t){return ze.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new lt.MathNode("mi",[Cl(e.text,e.mode,t)]),n=LM(e,t)||"italic";return n!==Uhe[r.type]&&r.setAttribute("mathvariant",n),r}});Bp({type:"textord",htmlBuilder(e,t){return ze.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=Cl(e.text,e.mode,t),n=LM(e,t)||"normal",a;return e.mode==="text"?a=new lt.MathNode("mtext",[r]):/[0-9]/.test(e.text)?a=new lt.MathNode("mn",[r]):e.text==="\\prime"?a=new lt.MathNode("mo",[r]):a=new lt.MathNode("mi",[r]),n!==Uhe[a.type]&&a.setAttribute("mathvariant",n),a}});var QC={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},JC={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Bp({type:"spacing",htmlBuilder(e,t){if(JC.hasOwnProperty(e.text)){var r=JC[e.text].className||"";if(e.mode==="text"){var n=ze.makeOrd(e,t,"textord");return n.classes.push(r),n}else return ze.makeSpan(["mspace",r],[ze.mathsym(e.text,e.mode,t)],t)}else{if(QC.hasOwnProperty(e.text))return ze.makeSpan(["mspace",QC[e.text]],[],t);throw new ut('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(JC.hasOwnProperty(e.text))r=new lt.MathNode("mtext",[new lt.TextNode(" ")]);else{if(QC.hasOwnProperty(e.text))return new lt.MathNode("mspace");throw new ut('Unknown type of space "'+e.text+'"')}return r}});var uY=()=>{var e=new lt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Bp({type:"tag",mathmlBuilder(e,t){var r=new lt.MathNode("mtable",[new lt.MathNode("mtr",[uY(),new lt.MathNode("mtd",[ef(e.body,t)]),uY(),new lt.MathNode("mtd",[ef(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var hY={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},fY={"\\textbf":"textbf","\\textmd":"textmd"},_lt={"\\textit":"textit","\\textup":"textup"},dY=(e,t)=>{var r=e.font;if(r){if(hY[r])return t.withTextFontFamily(hY[r]);if(fY[r])return t.withTextFontWeight(fY[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(_lt[r])};St({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,a=t[0];return{type:"text",mode:r.mode,body:bi(a),font:n}},htmlBuilder(e,t){var r=dY(e,t),n=Vi(e.body,r,!0);return ze.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=dY(e,t);return ef(e.body,r)}});St({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Br(e.body,t),n=ze.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,o=ze.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:a},{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r}]},t);return ze.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var r=new lt.MathNode("mo",[new lt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new lt.MathNode("munder",[hn(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});St({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Br(e.body,t),n=t.fontMetrics().axisHeight,a=.5*(r.height-n-(r.depth+n));return ze.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new lt.MathNode("mpadded",[hn(e.body,t)],["vcenter"])}});St({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new ut("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=pY(e),n=[],a=t.havingStyle(t.style.text()),o=0;o<r.length;o++){var l=r[o];l==="~"&&(l="\\textasciitilde"),n.push(ze.makeSymbol(l,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return ze.makeSpan(["mord","text"].concat(a.sizingClasses(t)),ze.tryCombineChars(n),a)},mathmlBuilder(e,t){var r=new lt.TextNode(pY(e)),n=new lt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var pY=e=>e.body.replace(/ /g,e.star?"␣":" "),R0=uhe,Whe=`[ \r
	]`,Nlt="\\\\[a-zA-Z@]+",Llt="\\\\[^\uD800-\uDFFF]",Mlt="("+Nlt+")"+Whe+"*",Dlt=`\\\\(
|[ \r	]+
?)[ \r	]*`,EO="[̀-ͯ]",Plt=new RegExp(EO+"+$"),Flt="("+Whe+"+)|"+(Dlt+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(EO+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(EO+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Mlt)+("|"+Llt+")");let gY=class{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(Flt,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new yl("EOF",new Io(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new ut("Unexpected character: '"+t[r]+"'",new yl(t[r],new Io(this,r,r+1)));var a=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[a]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new yl(a,new Io(this,r,this.tokenRegex.lastIndex))}};class Blt{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ut("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var $lt=_he;be("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});be("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});be("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});be("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});be("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});be("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");be("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var mY={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};be("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ut("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=mY[t.text],n==null||n>=r)throw new ut("Invalid base-"+r+" digit "+t.text);for(var a;(a=mY[e.future().text])!=null&&a<r;)n*=r,n+=a,e.popToken()}return"\\@char{"+n+"}"});var zM=(e,t,r,n)=>{var a=e.consumeArg().tokens;if(a.length!==1)throw new ut("\\newcommand's first argument must be a macro name");var o=a[0].text,l=e.isDefined(o);if(l&&!t)throw new ut("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!l&&!r)throw new ut("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var c=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var u="",h=e.expandNextToken();h.text!=="]"&&h.text!=="EOF";)u+=h.text,h=e.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new ut("Invalid number of arguments: "+u);c=parseInt(u),a=e.consumeArg().tokens}return l&&n||e.macros.set(o,{tokens:a,numArgs:c}),""};be("\\newcommand",e=>zM(e,!1,!0,!1));be("\\renewcommand",e=>zM(e,!0,!1,!1));be("\\providecommand",e=>zM(e,!0,!0,!0));be("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});be("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});be("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),R0[r],bn.math[r],bn.text[r]),""});be("\\bgroup","{");be("\\egroup","}");be("~","\\nobreakspace");be("\\lq","`");be("\\rq","'");be("\\aa","\\r a");be("\\AA","\\r A");be("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");be("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");be("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");be("ℬ","\\mathscr{B}");be("ℰ","\\mathscr{E}");be("ℱ","\\mathscr{F}");be("ℋ","\\mathscr{H}");be("ℐ","\\mathscr{I}");be("ℒ","\\mathscr{L}");be("ℳ","\\mathscr{M}");be("ℛ","\\mathscr{R}");be("ℭ","\\mathfrak{C}");be("ℌ","\\mathfrak{H}");be("ℨ","\\mathfrak{Z}");be("\\Bbbk","\\Bbb{k}");be("·","\\cdotp");be("\\llap","\\mathllap{\\textrm{#1}}");be("\\rlap","\\mathrlap{\\textrm{#1}}");be("\\clap","\\mathclap{\\textrm{#1}}");be("\\mathstrut","\\vphantom{(}");be("\\underbar","\\underline{\\text{#1}}");be("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');be("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");be("\\ne","\\neq");be("≠","\\neq");be("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");be("∉","\\notin");be("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");be("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");be("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");be("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");be("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");be("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");be("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");be("⟂","\\perp");be("‼","\\mathclose{!\\mkern-0.8mu!}");be("∌","\\notni");be("⌜","\\ulcorner");be("⌝","\\urcorner");be("⌞","\\llcorner");be("⌟","\\lrcorner");be("©","\\copyright");be("®","\\textregistered");be("️","\\textregistered");be("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');be("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');be("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');be("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');be("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");be("⋮","\\vdots");be("\\varGamma","\\mathit{\\Gamma}");be("\\varDelta","\\mathit{\\Delta}");be("\\varTheta","\\mathit{\\Theta}");be("\\varLambda","\\mathit{\\Lambda}");be("\\varXi","\\mathit{\\Xi}");be("\\varPi","\\mathit{\\Pi}");be("\\varSigma","\\mathit{\\Sigma}");be("\\varUpsilon","\\mathit{\\Upsilon}");be("\\varPhi","\\mathit{\\Phi}");be("\\varPsi","\\mathit{\\Psi}");be("\\varOmega","\\mathit{\\Omega}");be("\\substack","\\begin{subarray}{c}#1\\end{subarray}");be("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");be("\\boxed","\\fbox{$\\displaystyle{#1}$}");be("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");be("\\implies","\\DOTSB\\;\\Longrightarrow\\;");be("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");be("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");be("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var vY={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};be("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in vY?t=vY[r]:(r.slice(0,4)==="\\not"||r in bn.math&&qt.contains(["bin","rel"],bn.math[r].group))&&(t="\\dotsb"),t});var GM={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};be("\\dotso",function(e){var t=e.future().text;return t in GM?"\\ldots\\,":"\\ldots"});be("\\dotsc",function(e){var t=e.future().text;return t in GM&&t!==","?"\\ldots\\,":"\\ldots"});be("\\cdots",function(e){var t=e.future().text;return t in GM?"\\@cdots\\,":"\\@cdots"});be("\\dotsb","\\cdots");be("\\dotsm","\\cdots");be("\\dotsi","\\!\\cdots");be("\\dotsx","\\ldots\\,");be("\\DOTSI","\\relax");be("\\DOTSB","\\relax");be("\\DOTSX","\\relax");be("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");be("\\,","\\tmspace+{3mu}{.1667em}");be("\\thinspace","\\,");be("\\>","\\mskip{4mu}");be("\\:","\\tmspace+{4mu}{.2222em}");be("\\medspace","\\:");be("\\;","\\tmspace+{5mu}{.2777em}");be("\\thickspace","\\;");be("\\!","\\tmspace-{3mu}{.1667em}");be("\\negthinspace","\\!");be("\\negmedspace","\\tmspace-{4mu}{.2222em}");be("\\negthickspace","\\tmspace-{5mu}{.277em}");be("\\enspace","\\kern.5em ");be("\\enskip","\\hskip.5em\\relax");be("\\quad","\\hskip1em\\relax");be("\\qquad","\\hskip2em\\relax");be("\\tag","\\@ifstar\\tag@literal\\tag@paren");be("\\tag@paren","\\tag@literal{({#1})}");be("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ut("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});be("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");be("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");be("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");be("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");be("\\newline","\\\\\\relax");be("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var zhe=mt(Xc["Main-Regular"][84][1]-.7*Xc["Main-Regular"][65][1]);be("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+zhe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");be("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+zhe+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");be("\\hspace","\\@ifstar\\@hspacer\\@hspace");be("\\@hspace","\\hskip #1\\relax");be("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");be("\\ordinarycolon",":");be("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");be("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');be("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');be("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');be("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');be("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');be("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');be("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');be("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');be("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');be("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');be("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');be("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');be("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');be("∷","\\dblcolon");be("∹","\\eqcolon");be("≔","\\coloneqq");be("≕","\\eqqcolon");be("⩴","\\Coloneqq");be("\\ratio","\\vcentcolon");be("\\coloncolon","\\dblcolon");be("\\colonequals","\\coloneqq");be("\\coloncolonequals","\\Coloneqq");be("\\equalscolon","\\eqqcolon");be("\\equalscoloncolon","\\Eqqcolon");be("\\colonminus","\\coloneq");be("\\coloncolonminus","\\Coloneq");be("\\minuscolon","\\eqcolon");be("\\minuscoloncolon","\\Eqcolon");be("\\coloncolonapprox","\\Colonapprox");be("\\coloncolonsim","\\Colonsim");be("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");be("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");be("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");be("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");be("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");be("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");be("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");be("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");be("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");be("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");be("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");be("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");be("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");be("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");be("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");be("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");be("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");be("\\nleqq","\\html@mathml{\\@nleqq}{≰}");be("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");be("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");be("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");be("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");be("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");be("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");be("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");be("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");be("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");be("\\imath","\\html@mathml{\\@imath}{ı}");be("\\jmath","\\html@mathml{\\@jmath}{ȷ}");be("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");be("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");be("⟦","\\llbracket");be("⟧","\\rrbracket");be("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");be("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");be("⦃","\\lBrace");be("⦄","\\rBrace");be("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");be("⦵","\\minuso");be("\\darr","\\downarrow");be("\\dArr","\\Downarrow");be("\\Darr","\\Downarrow");be("\\lang","\\langle");be("\\rang","\\rangle");be("\\uarr","\\uparrow");be("\\uArr","\\Uparrow");be("\\Uarr","\\Uparrow");be("\\N","\\mathbb{N}");be("\\R","\\mathbb{R}");be("\\Z","\\mathbb{Z}");be("\\alef","\\aleph");be("\\alefsym","\\aleph");be("\\Alpha","\\mathrm{A}");be("\\Beta","\\mathrm{B}");be("\\bull","\\bullet");be("\\Chi","\\mathrm{X}");be("\\clubs","\\clubsuit");be("\\cnums","\\mathbb{C}");be("\\Complex","\\mathbb{C}");be("\\Dagger","\\ddagger");be("\\diamonds","\\diamondsuit");be("\\empty","\\emptyset");be("\\Epsilon","\\mathrm{E}");be("\\Eta","\\mathrm{H}");be("\\exist","\\exists");be("\\harr","\\leftrightarrow");be("\\hArr","\\Leftrightarrow");be("\\Harr","\\Leftrightarrow");be("\\hearts","\\heartsuit");be("\\image","\\Im");be("\\infin","\\infty");be("\\Iota","\\mathrm{I}");be("\\isin","\\in");be("\\Kappa","\\mathrm{K}");be("\\larr","\\leftarrow");be("\\lArr","\\Leftarrow");be("\\Larr","\\Leftarrow");be("\\lrarr","\\leftrightarrow");be("\\lrArr","\\Leftrightarrow");be("\\Lrarr","\\Leftrightarrow");be("\\Mu","\\mathrm{M}");be("\\natnums","\\mathbb{N}");be("\\Nu","\\mathrm{N}");be("\\Omicron","\\mathrm{O}");be("\\plusmn","\\pm");be("\\rarr","\\rightarrow");be("\\rArr","\\Rightarrow");be("\\Rarr","\\Rightarrow");be("\\real","\\Re");be("\\reals","\\mathbb{R}");be("\\Reals","\\mathbb{R}");be("\\Rho","\\mathrm{P}");be("\\sdot","\\cdot");be("\\sect","\\S");be("\\spades","\\spadesuit");be("\\sub","\\subset");be("\\sube","\\subseteq");be("\\supe","\\supseteq");be("\\Tau","\\mathrm{T}");be("\\thetasym","\\vartheta");be("\\weierp","\\wp");be("\\Zeta","\\mathrm{Z}");be("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");be("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");be("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");be("\\bra","\\mathinner{\\langle{#1}|}");be("\\ket","\\mathinner{|{#1}\\rangle}");be("\\braket","\\mathinner{\\langle{#1}\\rangle}");be("\\Bra","\\left\\langle#1\\right|");be("\\Ket","\\left|#1\\right\\rangle");var Ghe=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.consumeArg().tokens,l=t.macros.get("|"),c=t.macros.get("\\|");t.macros.beginGroup();var u=d=>p=>{e&&(p.macros.set("|",l),a.length&&p.macros.set("\\|",c));var g=d;if(!d&&a.length){var m=p.future();m.text==="|"&&(p.popToken(),g=!0)}return{tokens:g?a:n,numArgs:0}};t.macros.set("|",u(!1)),a.length&&t.macros.set("\\|",u(!0));var h=t.consumeArg().tokens,f=t.expandTokens([...o,...h,...r]);return t.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};be("\\bra@ket",Ghe(!1));be("\\bra@set",Ghe(!0));be("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");be("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");be("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");be("\\angln","{\\angl n}");be("\\blue","\\textcolor{##6495ed}{#1}");be("\\orange","\\textcolor{##ffa500}{#1}");be("\\pink","\\textcolor{##ff00af}{#1}");be("\\red","\\textcolor{##df0030}{#1}");be("\\green","\\textcolor{##28ae7b}{#1}");be("\\gray","\\textcolor{gray}{#1}");be("\\purple","\\textcolor{##9d38bd}{#1}");be("\\blueA","\\textcolor{##ccfaff}{#1}");be("\\blueB","\\textcolor{##80f6ff}{#1}");be("\\blueC","\\textcolor{##63d9ea}{#1}");be("\\blueD","\\textcolor{##11accd}{#1}");be("\\blueE","\\textcolor{##0c7f99}{#1}");be("\\tealA","\\textcolor{##94fff5}{#1}");be("\\tealB","\\textcolor{##26edd5}{#1}");be("\\tealC","\\textcolor{##01d1c1}{#1}");be("\\tealD","\\textcolor{##01a995}{#1}");be("\\tealE","\\textcolor{##208170}{#1}");be("\\greenA","\\textcolor{##b6ffb0}{#1}");be("\\greenB","\\textcolor{##8af281}{#1}");be("\\greenC","\\textcolor{##74cf70}{#1}");be("\\greenD","\\textcolor{##1fab54}{#1}");be("\\greenE","\\textcolor{##0d923f}{#1}");be("\\goldA","\\textcolor{##ffd0a9}{#1}");be("\\goldB","\\textcolor{##ffbb71}{#1}");be("\\goldC","\\textcolor{##ff9c39}{#1}");be("\\goldD","\\textcolor{##e07d10}{#1}");be("\\goldE","\\textcolor{##a75a05}{#1}");be("\\redA","\\textcolor{##fca9a9}{#1}");be("\\redB","\\textcolor{##ff8482}{#1}");be("\\redC","\\textcolor{##f9685d}{#1}");be("\\redD","\\textcolor{##e84d39}{#1}");be("\\redE","\\textcolor{##bc2612}{#1}");be("\\maroonA","\\textcolor{##ffbde0}{#1}");be("\\maroonB","\\textcolor{##ff92c6}{#1}");be("\\maroonC","\\textcolor{##ed5fa6}{#1}");be("\\maroonD","\\textcolor{##ca337c}{#1}");be("\\maroonE","\\textcolor{##9e034e}{#1}");be("\\purpleA","\\textcolor{##ddd7ff}{#1}");be("\\purpleB","\\textcolor{##c6b9fc}{#1}");be("\\purpleC","\\textcolor{##aa87ff}{#1}");be("\\purpleD","\\textcolor{##7854ab}{#1}");be("\\purpleE","\\textcolor{##543b78}{#1}");be("\\mintA","\\textcolor{##f5f9e8}{#1}");be("\\mintB","\\textcolor{##edf2df}{#1}");be("\\mintC","\\textcolor{##e0e5cc}{#1}");be("\\grayA","\\textcolor{##f6f7f7}{#1}");be("\\grayB","\\textcolor{##f0f1f2}{#1}");be("\\grayC","\\textcolor{##e3e5e6}{#1}");be("\\grayD","\\textcolor{##d6d8da}{#1}");be("\\grayE","\\textcolor{##babec2}{#1}");be("\\grayF","\\textcolor{##888d93}{#1}");be("\\grayG","\\textcolor{##626569}{#1}");be("\\grayH","\\textcolor{##3b3e40}{#1}");be("\\grayI","\\textcolor{##21242c}{#1}");be("\\kaBlue","\\textcolor{##314453}{#1}");be("\\kaGreen","\\textcolor{##71B307}{#1}");var Yhe={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Hlt{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new Blt($lt,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new gY(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,a;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:a,end:n}=this.consumeArg(["]"])}else({tokens:a,start:r,end:n}=this.consumeArg());return this.pushToken(new yl("EOF",n.loc)),this.pushTokens(a),r.range(n,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var a=this.future(),o,l=0,c=0;do{if(o=this.popToken(),r.push(o),o.text==="{")++l;else if(o.text==="}"){if(--l,l===-1)throw new ut("Extra }",o)}else if(o.text==="EOF")throw new ut("Unexpected end of input in a macro argument, expected '"+(t&&n?t[c]:"}")+"'",o);if(t&&n)if((l===0||l===1&&t[c]==="{")&&o.text===t[c]){if(++c,c===t.length){r.splice(-c,c);break}}else c=0}while(l!==0||n);return a.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:a,end:o}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new ut("The length of delimiters doesn't match the number of args!");for(var n=r[0],a=0;a<n.length;a++){var o=this.popToken();if(n[a]!==o.text)throw new ut("Use of the macro doesn't match its definition",o)}}for(var l=[],c=0;c<t;c++)l.push(this.consumeArg(r&&r[c+1]).tokens);return l}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ut("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,a=r.noexpand?null:this._getExpansion(n);if(a==null||t&&a.unexpandable){if(t&&a==null&&n[0]==="\\"&&!this.isDefined(n))throw new ut("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var o=a.tokens,l=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){o=o.slice();for(var c=o.length-1;c>=0;--c){var u=o[c];if(u.text==="#"){if(c===0)throw new ut("Incomplete placeholder at end of macro body",u);if(u=o[--c],u.text==="#")o.splice(c+1,1);else if(/^[1-9]$/.test(u.text))o.splice(c,2,...l[+u.text-1]);else throw new ut("Not a valid argument number",u)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new yl(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),r.push(a)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var a=typeof r=="function"?r(this):r;if(typeof a=="string"){var o=0;if(a.indexOf("#")!==-1)for(var l=a.replace(/##/g,"");l.indexOf("#"+(o+1))!==-1;)++o;for(var c=new gY(a,this.settings),u=[],h=c.lex();h.text!=="EOF";)u.push(h),h=c.lex();u.reverse();var f={tokens:u,numArgs:o};return f}return a}isDefined(t){return this.macros.has(t)||R0.hasOwnProperty(t)||bn.math.hasOwnProperty(t)||bn.text.hasOwnProperty(t)||Yhe.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:R0.hasOwnProperty(t)&&!R0[t].primitive}}var yY=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,p4=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),e7={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},bY={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let Vhe=class qhe{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Hlt(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new ut("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new yl("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(qhe.endOfExpression.indexOf(a.text)!==-1||r&&a.text===r||t&&R0[a.text]&&R0[a.text].infix)break;var o=this.parseAtom(r);if(o){if(o.type==="internal")continue}else break;n.push(o)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,a=0;a<t.length;a++)if(t[a].type==="infix"){if(r!==-1)throw new ut("only one infix operator per group",t[a].token);r=a,n=t[a].replaceWith}if(r!==-1&&n){var o,l,c=t.slice(0,r),u=t.slice(r+1);c.length===1&&c[0].type==="ordgroup"?o=c[0]:o={type:"ordgroup",mode:this.mode,body:c},u.length===1&&u[0].type==="ordgroup"?l=u[0]:l={type:"ordgroup",mode:this.mode,body:u};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[o,t[r],l],[]):h=this.callFunction(n,[o,l],[]),[h]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var a=this.parseGroup(t);if(!a)throw new ut("Expected group after '"+n+"'",r);return a}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var a={type:"text",mode:this.mode,body:r},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return o}parseAtom(t){var r=this.parseGroup("atom",t);if(this.mode==="text")return r;for(var n,a;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(r&&r.type==="op"){var l=o.text==="\\limits";r.limits=l,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=o.text==="\\limits");else throw new ut("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(n)throw new ut("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(a)throw new ut("Double subscript",o);a=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new ut("Double superscript",o);var c={type:"textord",mode:this.mode,text:"\\prime"},u=[c];for(this.consume();this.fetch().text==="'";)u.push(c),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if(p4[o.text]){var h=yY.test(o.text),f=[];for(f.push(new yl(p4[o.text])),this.consume();;){var d=this.fetch().text;if(!p4[d]||yY.test(d)!==h)break;f.unshift(new yl(p4[d])),this.consume()}var p=this.subparse(f);h?a={type:"ordgroup",mode:"math",body:p}:n={type:"ordgroup",mode:"math",body:p}}else break}return n||a?{type:"supsub",mode:this.mode,base:r,sup:n,sub:a}:r}parseFunction(t,r){var n=this.fetch(),a=n.text,o=R0[a];if(!o)return null;if(this.consume(),r&&r!=="atom"&&!o.allowedInArgument)throw new ut("Got function '"+a+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!o.allowedInText)throw new ut("Can't use function '"+a+"' in text mode",n);if(this.mode==="math"&&o.allowedInMath===!1)throw new ut("Can't use function '"+a+"' in math mode",n);var{args:l,optArgs:c}=this.parseArguments(a,o);return this.callFunction(a,l,c,n,t)}callFunction(t,r,n,a,o){var l={funcName:t,parser:this,token:a,breakOnTokenText:o},c=R0[t];if(c&&c.handler)return c.handler(l,r,n);throw new ut("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var a=[],o=[],l=0;l<n;l++){var c=r.argTypes&&r.argTypes[l],u=l<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&l===1&&o[0]==null)&&(c="primitive");var h=this.parseGroupOfType("argument to '"+t+"'",c,u);if(u)o.push(h);else if(h!=null)a.push(h);else throw new ut("Null argument, please report this as a bug")}return{args:a,optArgs:o}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var a=this.parseArgumentGroup(n,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",n);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(n)throw new ut("A primitive argument cannot be optional");var l=this.parseGroup(t);if(l==null)throw new ut("Expected group as "+t,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new ut("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var a="",o;(o=this.fetch()).text!=="EOF";)a+=o.text,this.consume();return this.consume(),n.text=a,n}parseRegexGroup(t,r){for(var n=this.fetch(),a=n,o="",l;(l=this.fetch()).text!=="EOF"&&t.test(o+l.text);)a=l,o+=a.text,this.consume();if(o==="")throw new ut("Invalid "+r+": '"+n.text+"'",n);return n.range(a,o)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new ut("Invalid color: '"+r.text+"'",r);var a=n[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!a)throw new ut("Invalid size: '"+r.text+"'",r);var o={number:+(a[1]+a[2]),unit:a[3]};if(!the(o))throw new ut("Invalid unit: '"+o.unit+"'",r);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var a=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return r&&this.switchMode(a),l}parseGroup(t,r){var n=this.fetch(),a=n.text,o;if(a==="{"||a==="\\begingroup"){this.consume();var l=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),u=this.fetch();this.expect(l),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Io.range(n,u),body:c,semisimple:a==="\\begingroup"||void 0}}else if(o=this.parseFunction(r,t)||this.parseSymbol(),o==null&&a[0]==="\\"&&!Yhe.hasOwnProperty(a)){if(this.settings.throwOnError)throw new ut("Undefined control sequence: "+a,n);o=this.formatUnsupportedCmd(a),this.consume()}return o}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var a=t[n],o=a.text;o==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:Io.range(a,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:Io.range(a,t[n+1]),text:"--"}),r-=1)),(o==="'"||o==="`")&&t[n+1].text===o&&(t.splice(n,2,{type:"textord",mode:"text",loc:Io.range(a,t[n+1]),text:o+o}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),a=n.charAt(0)==="*";if(a&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new ut(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:a}}bY.hasOwnProperty(r[0])&&!bn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=bY[r[0]]+r.slice(1));var o=Plt.exec(r);o&&(r=r.substring(0,o.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var l;if(bn[this.mode][r]){this.settings.strict&&this.mode==="math"&&yO.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var c=bn[this.mode][r].group,u=Io.range(t),h;if(Iot.hasOwnProperty(c)){var f=c;h={type:"atom",mode:this.mode,family:f,loc:u,text:r}}else h={type:c,mode:this.mode,loc:u,text:r};l=h}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Jue(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),l={type:"textord",mode:"text",loc:Io.range(t),text:r};else return null;if(this.consume(),o)for(var d=0;d<o[0].length;d++){var p=o[0][d];if(!e7[p])throw new ut("Unknown accent ' "+p+"'",t);var g=e7[p][this.mode]||e7[p].text;if(!g)throw new ut("Accent "+p+" unsupported in "+this.mode+" mode",t);l={type:"accent",mode:this.mode,loc:Io.range(t),label:g,isStretchy:!1,isShifty:!0,base:l}}return l}};Vhe.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var YM=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Vhe(t,r);delete n.gullet.macros.current["\\df@tag"];var a=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new ut("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:n.subparse([new yl("\\df@tag")])}]}return a},VM=function(t,r,n){r.textContent="";var a=xA(t,n).toNode();r.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),VM=function(){throw new ut("KaTeX doesn't work in quirks mode.")});var jhe=function(t,r){var n=xA(t,r).toMarkup();return n},Xhe=function(t,r){var n=new CM(r);return YM(t,n)},Khe=function(t,r,n){if(n.throwOnError||!(t instanceof ut))throw t;var a=ze.makeSpan(["katex-error"],[new kl(r)]);return a.setAttribute("title",t.toString()),a.setAttribute("style","color:"+n.errorColor),a},xA=function(t,r){var n=new CM(r);try{var a=YM(t,n);return Zot(a,t,n)}catch(o){return Khe(o,t,n)}},Zhe=function(t,r){var n=new CM(r);try{var a=YM(t,n);return Qot(a,t,n)}catch(o){return Khe(o,t,n)}},Qhe="0.16.21",Jhe={Span:x3,Anchor:OM,SymbolNode:kl,SvgNode:Ah,PathNode:J0,LineNode:vO},Ult={version:Qhe,render:VM,renderToString:jhe,ParseError:ut,SETTINGS_SCHEMA:Q2,__parse:Xhe,__renderToDomTree:xA,__renderToHTMLTree:Zhe,__setFontMetrics:ehe,__defineSymbol:V,__defineFunction:St,__defineMacro:be,__domTree:Jhe};const Wlt=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ut,SETTINGS_SCHEMA:Q2,__defineFunction:St,__defineMacro:be,__defineSymbol:V,__domTree:Jhe,__parse:Xhe,__renderToDomTree:xA,__renderToHTMLTree:Zhe,__setFontMetrics:ehe,default:Ult,get render(){return VM},renderToString:jhe,version:Qhe},Symbol.toStringTag,{value:"Module"}));var zlt="[object Symbol]";function sp(e){return typeof e=="symbol"||El(e)&&Hh(e)==zlt}function Hd(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xY=Tl?Tl.prototype:void 0,TY=xY?xY.toString:void 0;function e0e(e){if(typeof e=="string")return e;if(Er(e))return Hd(e,e0e)+"";if(sp(e))return TY?TY.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Glt=/\s/;function Ylt(e){for(var t=e.length;t--&&Glt.test(e.charAt(t)););return t}var Vlt=/^\s+/;function qlt(e){return e&&e.slice(0,Ylt(e)+1).replace(Vlt,"")}var wY=NaN,jlt=/^[-+]0x[0-9a-f]+$/i,Xlt=/^0b[01]+$/i,Klt=/^0o[0-7]+$/i,Zlt=parseInt;function Qlt(e){if(typeof e=="number")return e;if(sp(e))return wY;if(so(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=so(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qlt(e);var r=Xlt.test(e);return r||Klt.test(e)?Zlt(e.slice(2),r?2:8):jlt.test(e)?wY:+e}var Jlt=1/0,ect=17976931348623157e292;function Aw(e){if(!e)return e===0?e:0;if(e=Qlt(e),e===Jlt||e===-1/0){var t=e<0?-1:1;return t*ect}return e===e?e:0}function TA(e){var t=Aw(e),r=t%1;return t===t?r?t-r:t:0}function Ni(){}function t0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function r0e(e,t,r,n){for(var a=e.length,o=r+-1;++o<a;)if(t(e[o],o,e))return o;return-1}function tct(e){return e!==e}function rct(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function qM(e,t,r){return t===t?rct(e,t,r):r0e(e,tct,r)}function n0e(e,t){var r=e==null?0:e.length;return!!r&&qM(e,t,0)>-1}function $i(e){return wu(e)?bse(e):Wle(e)}var nct=Object.prototype,ict=nct.hasOwnProperty,Uo=Ese(function(e,t){if(s3(t)||wu(t)){Av(t,$i(t),e);return}for(var r in t)ict.call(t,r)&&l3(e,r,t[r])}),act=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sct=/^\w*$/;function jM(e,t){if(Er(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sp(e)?!0:sct.test(e)||!act.test(e)||t!=null&&e in Object(t)}var oct=500;function lct(e){var t=Sv(e,function(n){return r.size===oct&&r.clear(),n}),r=t.cache;return t}var cct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uct=/\\(\\)?/g,hct=lct(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cct,function(r,n,a,o){t.push(a?o.replace(uct,"$1"):n||r)}),t});function i0e(e){return e==null?"":e0e(e)}function wA(e,t){return Er(e)?e:jM(e,t)?[e]:hct(i0e(e))}function w3(e){if(typeof e=="string"||sp(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function EA(e,t){t=wA(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[w3(t[r++])];return r&&r==n?e:void 0}function fct(e,t,r){var n=e==null?void 0:EA(e,t);return n===void 0?r:n}function XM(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var EY=Tl?Tl.isConcatSpreadable:void 0;function dct(e){return Er(e)||Dm(e)||!!(EY&&e&&e[EY])}function E3(e,t,r,n,a){var o=-1,l=e.length;for(r||(r=dct),a||(a=[]);++o<l;){var c=e[o];r(c)?XM(a,c):n||(a[a.length]=c)}return a}function aa(e){var t=e==null?0:e.length;return t?E3(e):[]}function pct(e){return wse(Tse(e,void 0,aa),e+"")}function a0e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}function gct(e,t,r,n){var a=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}function mct(e,t){return e&&Av(t,$i(t),e)}function vct(e,t){return e&&Av(t,Mp(t),e)}function KM(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var l=e[r];t(l,r,e)&&(o[a++]=l)}return o}function s0e(){return[]}var yct=Object.prototype,bct=yct.propertyIsEnumerable,SY=Object.getOwnPropertySymbols,ZM=SY?function(e){return e==null?[]:(e=Object(e),KM(SY(e),function(t){return bct.call(e,t)}))}:s0e;function xct(e,t){return Av(e,ZM(e),t)}var Tct=Object.getOwnPropertySymbols,o0e=Tct?function(e){for(var t=[];e;)XM(t,ZM(e)),e=NL(e);return t}:s0e;function wct(e,t){return Av(e,o0e(e),t)}function l0e(e,t,r){var n=t(e);return Er(e)?n:XM(n,r(e))}function SO(e){return l0e(e,$i,ZM)}function c0e(e){return l0e(e,Mp,o0e)}var Ect=Object.prototype,Sct=Ect.hasOwnProperty;function Act(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Sct.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function kct(e,t){var r=t?_L(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Cct=/\w*$/;function Ict(e){var t=new e.constructor(e.source,Cct.exec(e));return t.lastIndex=e.lastIndex,t}var AY=Tl?Tl.prototype:void 0,kY=AY?AY.valueOf:void 0;function Rct(e){return kY?Object(kY.call(e)):{}}var Oct="[object Boolean]",_ct="[object Date]",Nct="[object Map]",Lct="[object Number]",Mct="[object RegExp]",Dct="[object Set]",Pct="[object String]",Fct="[object Symbol]",Bct="[object ArrayBuffer]",$ct="[object DataView]",Hct="[object Float32Array]",Uct="[object Float64Array]",Wct="[object Int8Array]",zct="[object Int16Array]",Gct="[object Int32Array]",Yct="[object Uint8Array]",Vct="[object Uint8ClampedArray]",qct="[object Uint16Array]",jct="[object Uint32Array]";function Xct(e,t,r){var n=e.constructor;switch(t){case Bct:return _L(e);case Oct:case _ct:return new n(+e);case $ct:return kct(e,r);case Hct:case Uct:case Wct:case zct:case Gct:case Yct:case Vct:case qct:case jct:return hse(e,r);case Nct:return new n;case Lct:case Pct:return new n(e);case Mct:return Ict(e);case Dct:return new n;case Fct:return Rct(e)}}var Kct="[object Map]";function Zct(e){return El(e)&&sl(e)==Kct}var CY=X0&&X0.isMap,Qct=CY?o3(CY):Zct,Jct="[object Set]";function eut(e){return El(e)&&sl(e)==Jct}var IY=X0&&X0.isSet,tut=IY?o3(IY):eut,rut=1,nut=2,iut=4,u0e="[object Arguments]",aut="[object Array]",sut="[object Boolean]",out="[object Date]",lut="[object Error]",h0e="[object Function]",cut="[object GeneratorFunction]",uut="[object Map]",hut="[object Number]",f0e="[object Object]",fut="[object RegExp]",dut="[object Set]",put="[object String]",gut="[object Symbol]",mut="[object WeakMap]",vut="[object ArrayBuffer]",yut="[object DataView]",but="[object Float32Array]",xut="[object Float64Array]",Tut="[object Int8Array]",wut="[object Int16Array]",Eut="[object Int32Array]",Sut="[object Uint8Array]",Aut="[object Uint8ClampedArray]",kut="[object Uint16Array]",Cut="[object Uint32Array]",gn={};gn[u0e]=gn[aut]=gn[vut]=gn[yut]=gn[sut]=gn[out]=gn[but]=gn[xut]=gn[Tut]=gn[wut]=gn[Eut]=gn[uut]=gn[hut]=gn[f0e]=gn[fut]=gn[dut]=gn[put]=gn[gut]=gn[Sut]=gn[Aut]=gn[kut]=gn[Cut]=!0;gn[lut]=gn[h0e]=gn[mut]=!1;function eb(e,t,r,n,a,o){var l,c=t&rut,u=t&nut,h=t&iut;if(l!==void 0)return l;if(!so(e))return e;var f=Er(e);if(f){if(l=Act(e),!c)return fse(e,l)}else{var d=sl(e),p=d==h0e||d==cut;if(Pm(e))return use(e,c);if(d==f0e||d==u0e||p&&!a){if(l=u||p?{}:pse(e),!c)return u?wct(e,vct(l,e)):xct(e,mct(l,e))}else{if(!gn[d])return a?e:{};l=Xct(e,d,c)}}o||(o=new ac);var g=o.get(e);if(g)return g;o.set(e,l),tut(e)?e.forEach(function(b){l.add(eb(b,t,r,b,e,o))}):Qct(e)&&e.forEach(function(b,x){l.set(x,eb(b,t,r,x,e,o))});var m=h?u?c0e:SO:u?Mp:$i,y=f?void 0:m(e);return t0e(y||e,function(b,x){y&&(x=b,b=e[x]),l3(l,x,eb(b,t,r,x,e,o))}),l}var Iut=4;function qi(e){return eb(e,Iut)}var Rut=1,Out=4;function _ut(e){return eb(e,Rut|Out)}function S3(e){for(var t=-1,r=e==null?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a}var Nut="__lodash_hash_undefined__";function Lut(e){return this.__data__.set(e,Nut),this}function Mut(e){return this.__data__.has(e)}function Hm(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Wh;++t<r;)this.add(e[t])}Hm.prototype.add=Hm.prototype.push=Lut;Hm.prototype.has=Mut;function d0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function QM(e,t){return e.has(t)}var Dut=1,Put=2;function p0e(e,t,r,n,a,o){var l=r&Dut,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var d=-1,p=!0,g=r&Put?new Hm:void 0;for(o.set(e,t),o.set(t,e);++d<c;){var m=e[d],y=t[d];if(n)var b=l?n(y,m,d,t,e,o):n(m,y,d,e,t,o);if(b!==void 0){if(b)continue;p=!1;break}if(g){if(!d0e(t,function(x,T){if(!QM(g,T)&&(m===x||a(m,x,r,n,o)))return g.push(T)})){p=!1;break}}else if(!(m===y||a(m,y,r,n,o))){p=!1;break}}return o.delete(e),o.delete(t),p}function Fut(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function JM(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var But=1,$ut=2,Hut="[object Boolean]",Uut="[object Date]",Wut="[object Error]",zut="[object Map]",Gut="[object Number]",Yut="[object RegExp]",Vut="[object Set]",qut="[object String]",jut="[object Symbol]",Xut="[object ArrayBuffer]",Kut="[object DataView]",RY=Tl?Tl.prototype:void 0,t7=RY?RY.valueOf:void 0;function Zut(e,t,r,n,a,o,l){switch(r){case Kut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Xut:return!(e.byteLength!=t.byteLength||!o(new iE(e),new iE(t)));case Hut:case Uut:case Gut:return Ev(+e,+t);case Wut:return e.name==t.name&&e.message==t.message;case Yut:case qut:return e==t+"";case zut:var c=Fut;case Vut:var u=n&But;if(c||(c=JM),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;n|=$ut,l.set(e,t);var f=p0e(c(e),c(t),n,a,o,l);return l.delete(e),f;case jut:if(t7)return t7.call(e)==t7.call(t)}return!1}var Qut=1,Jut=Object.prototype,eht=Jut.hasOwnProperty;function tht(e,t,r,n,a,o){var l=r&Qut,c=SO(e),u=c.length,h=SO(t),f=h.length;if(u!=f&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:eht.call(t,p)))return!1}var g=o.get(e),m=o.get(t);if(g&&m)return g==t&&m==e;var y=!0;o.set(e,t),o.set(t,e);for(var b=l;++d<u;){p=c[d];var x=e[p],T=t[p];if(n)var w=l?n(T,x,p,t,e,o):n(x,T,p,e,t,o);if(!(w===void 0?x===T||a(x,T,r,n,o):w)){y=!1;break}b||(b=p=="constructor")}if(y&&!b){var E=e.constructor,S=t.constructor;E!=S&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(e),o.delete(t),y}var rht=1,OY="[object Arguments]",_Y="[object Array]",g4="[object Object]",nht=Object.prototype,NY=nht.hasOwnProperty;function iht(e,t,r,n,a,o){var l=Er(e),c=Er(t),u=l?_Y:sl(e),h=c?_Y:sl(t);u=u==OY?g4:u,h=h==OY?g4:h;var f=u==g4,d=h==g4,p=u==h;if(p&&Pm(e)){if(!Pm(t))return!1;l=!0,f=!1}if(p&&!f)return o||(o=new ac),l||j6(e)?p0e(e,t,r,n,a,o):Zut(e,t,u,r,n,a,o);if(!(r&rht)){var g=f&&NY.call(e,"__wrapped__"),m=d&&NY.call(t,"__wrapped__");if(g||m){var y=g?e.value():e,b=m?t.value():t;return o||(o=new ac),a(y,b,r,n,o)}}return p?(o||(o=new ac),tht(e,t,r,n,a,o)):!1}function eD(e,t,r,n,a){return e===t?!0:e==null||t==null||!El(e)&&!El(t)?e!==e&&t!==t:iht(e,t,r,n,eD,a)}var aht=1,sht=2;function oht(e,t,r,n){var a=r.length,o=a;if(e==null)return!o;for(e=Object(e);a--;){var l=r[a];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=r[a];var c=l[0],u=e[c],h=l[1];if(l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new ac,d;if(!(d===void 0?eD(h,u,aht|sht,n,f):d))return!1}}return!0}function g0e(e){return e===e&&!so(e)}function lht(e){for(var t=$i(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,g0e(a)]}return t}function m0e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function cht(e){var t=lht(e);return t.length==1&&t[0][2]?m0e(t[0][0],t[0][1]):function(r){return r===e||oht(r,e,t)}}function uht(e,t){return e!=null&&t in Object(e)}function v0e(e,t,r){t=wA(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var l=w3(t[n]);if(!(o=e!=null&&r(e,l)))break;e=e[l]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&LL(a)&&X6(l,a)&&(Er(e)||Dm(e)))}function y0e(e,t){return e!=null&&v0e(e,t,uht)}var hht=1,fht=2;function dht(e,t){return jM(e)&&g0e(t)?m0e(w3(e),t):function(r){var n=fct(r,e);return n===void 0&&n===t?y0e(r,e):eD(t,n,hht|fht)}}function pht(e){return function(t){return t==null?void 0:t[e]}}function ght(e){return function(t){return EA(t,e)}}function mht(e){return jM(e)?pht(w3(e)):ght(e)}function po(e){return typeof e=="function"?e:e==null?Th:typeof e=="object"?Er(e)?dht(e[0],e[1]):cht(e):mht(e)}function vht(e,t,r,n){for(var a=-1,o=e==null?0:e.length;++a<o;){var l=e[a];t(n,l,r(l),e)}return n}function tD(e,t){return e&&OL(e,t,$i)}function yht(e,t){return function(r,n){if(r==null)return r;if(!wu(r))return e(r,n);for(var a=r.length,o=-1,l=Object(r);++o<a&&n(l[o],o,l)!==!1;);return r}}var $p=yht(tD);function bht(e,t,r,n){return $p(e,function(a,o,l){t(n,a,r(a),l)}),n}function xht(e,t){return function(r,n){var a=Er(r)?vht:bht,o=t?t():{};return a(r,e,po(n),o)}}var b0e=Object.prototype,Tht=b0e.hasOwnProperty,SA=c3(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&Vb(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],l=Mp(o),c=-1,u=l.length;++c<u;){var h=l[c],f=e[h];(f===void 0||Ev(f,b0e[h])&&!Tht.call(e,h))&&(e[h]=o[h])}return e}),wht=200;function Eht(e,t,r,n){var a=-1,o=n0e,l=!0,c=e.length,u=[],h=t.length;if(!c)return u;t.length>=wht&&(o=QM,l=!1,t=new Hm(t));e:for(;++a<c;){var f=e[a],d=f;if(f=f!==0?f:0,l&&d===d){for(var p=h;p--;)if(t[p]===d)continue e;u.push(f)}else o(t,d,n)||u.push(f)}return u}var AA=c3(function(e,t){return aE(e)?Eht(e,E3(t,1,aE,!0)):[]});function pu(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function ma(e,t,r){var n=e==null?0:e.length;return n?(t=t===void 0?1:TA(t),a0e(e,t<0?0:t,n)):[]}function Qb(e,t,r){var n=e==null?0:e.length;return n?(t=t===void 0?1:TA(t),t=n-t,a0e(e,0,t<0?0:t)):[]}function rD(e){return typeof e=="function"?e:Th}function We(e,t){var r=Er(e)?t0e:$p;return r(e,rD(t))}function Sht(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Aht(e,t){var r=!0;return $p(e,function(n,a,o){return r=!!t(n,a,o),r}),r}function lc(e,t,r){var n=Er(e)?Sht:Aht;return n(e,po(t))}function x0e(e,t){var r=[];return $p(e,function(n,a,o){t(n,a,o)&&r.push(n)}),r}function ni(e,t){var r=Er(e)?KM:x0e;return r(e,po(t))}function kht(e){return function(t,r,n){var a=Object(t);if(!wu(t)){var o=po(r);t=$i(t),r=function(c){return o(a[c],c,a)}}var l=e(t,r,n);return l>-1?a[o?t[l]:l]:void 0}}var Cht=Math.max;function Iht(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:TA(r);return a<0&&(a=Cht(n+a,0)),r0e(e,po(t),a)}var Ih=kht(Iht);function vc(e){return e&&e.length?e[0]:void 0}function T0e(e,t){var r=-1,n=wu(e)?Array(e.length):[];return $p(e,function(a,o,l){n[++r]=t(a,o,l)}),n}function gt(e,t){var r=Er(e)?Hd:T0e;return r(e,po(t))}function Fo(e,t){return E3(gt(e,t))}function Rht(e,t){return e==null?e:OL(e,rD(t),Mp)}function Oht(e,t){return e&&tD(e,rD(t))}var _ht=Object.prototype,Nht=_ht.hasOwnProperty,Lht=xht(function(e,t,r){Nht.call(e,r)?e[r].push(t):a3(e,r,[t])});function Mht(e,t){return e>t}var Dht=Object.prototype,Pht=Dht.hasOwnProperty;function Fht(e,t){return e!=null&&Pht.call(e,t)}function jt(e,t){return e!=null&&v0e(e,t,Fht)}var Bht="[object String]";function oo(e){return typeof e=="string"||!Er(e)&&El(e)&&Hh(e)==Bht}function $ht(e,t){return Hd(t,function(r){return e[r]})}function an(e){return e==null?[]:$ht(e,$i(e))}var Hht=Math.max;function Ms(e,t,r,n){e=wu(e)?e:an(e),r=r?TA(r):0;var a=e.length;return r<0&&(r=Hht(a+r,0)),oo(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&qM(e,t,r)>-1}function LY(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=0;return qM(e,t,a)}var Uht="[object RegExp]";function Wht(e){return El(e)&&Hh(e)==Uht}var MY=X0&&X0.isRegExp,Rh=MY?o3(MY):Wht;function Zr(e){return e===void 0}function w0e(e,t){return e<t}function kA(e,t){var r={};return t=po(t),tD(e,function(n,a,o){a3(r,a,t(n,a,o))}),r}function nD(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],l=t(o);if(l!=null&&(c===void 0?l===l&&!sp(l):r(l,c)))var c=l,u=o}return u}function op(e){return e&&e.length?nD(e,Th,Mht):void 0}function Um(e){return e&&e.length?nD(e,Th,w0e):void 0}function iD(e,t){return e&&e.length?nD(e,po(t),w0e):void 0}var zht="Expected a function";function Ght(e){if(typeof e!="function")throw new TypeError(zht);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Yht(e,t,r,n){if(!so(e))return e;t=wA(t,e);for(var a=-1,o=t.length,l=o-1,c=e;c!=null&&++a<o;){var u=w3(t[a]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=l){var f=c[u];h=void 0,h===void 0&&(h=so(f)?f:X6(t[a+1])?[]:{})}l3(c,u,h),c=c[u]}return e}function E0e(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var l=t[n],c=EA(e,l);r(c,l)&&Yht(o,wA(l,e),c)}return o}function Ec(e,t){if(e==null)return{};var r=Hd(c0e(e),function(n){return[n]});return t=po(t),E0e(e,r,function(n,a){return t(n,a[0])})}function Vht(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function qht(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=sp(e),l=t!==void 0,c=t===null,u=t===t,h=sp(t);if(!c&&!h&&!o&&e>t||o&&l&&u&&!c&&!h||n&&l&&u||!r&&u||!a)return 1;if(!n&&!o&&!h&&e<t||h&&r&&a&&!n&&!o||c&&r&&a||!l&&a||!u)return-1}return 0}function jht(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,l=a.length,c=r.length;++n<l;){var u=qht(a[n],o[n]);if(u){if(n>=c)return u;var h=r[n];return u*(h=="desc"?-1:1)}}return e.index-t.index}function Xht(e,t,r){t.length?t=Hd(t,function(o){return Er(o)?function(l){return EA(l,o.length===1?o[0]:o)}:o}):t=[Th];var n=-1;t=Hd(t,o3(po));var a=T0e(e,function(o,l,c){var u=Hd(t,function(h){return h(o)});return{criteria:u,index:++n,value:o}});return Vht(a,function(o,l){return jht(o,l,r)})}function Kht(e,t){return E0e(e,t,function(r,n){return y0e(e,n)})}var kE=pct(function(e,t){return e==null?{}:Kht(e,t)}),Zht=Math.ceil,Qht=Math.max;function Jht(e,t,r,n){for(var a=-1,o=Qht(Zht((t-e)/(r||1)),0),l=Array(o);o--;)l[++a]=e,e+=r;return l}function e0t(e){return function(t,r,n){return n&&typeof n!="number"&&Vb(t,r,n)&&(r=n=void 0),t=Aw(t),r===void 0?(r=t,t=0):r=Aw(r),n=n===void 0?t<r?1:-1:Aw(n),Jht(t,r,n)}}var Wm=e0t();function t0t(e,t,r,n,a){return a(e,function(o,l,c){r=n?(n=!1,o):t(r,o,l,c)}),r}function Oi(e,t,r){var n=Er(e)?gct:t0t,a=arguments.length<3;return n(e,po(t),r,a,$p)}function CA(e,t){var r=Er(e)?KM:x0e;return r(e,Ght(po(t)))}function r0t(e,t){var r;return $p(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}function S0e(e,t,r){var n=Er(e)?d0e:r0t;return n(e,po(t))}var A3=c3(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Vb(e,t[0],t[1])?t=[]:r>2&&Vb(t[0],t[1],t[2])&&(t=[t[0]]),Xht(e,E3(t),[])}),n0t=1/0,i0t=fg&&1/JM(new fg([,-0]))[1]==n0t?function(e){return new fg(e)}:Ni,a0t=200;function aD(e,t,r){var n=-1,a=n0e,o=e.length,l=!0,c=[],u=c;if(o>=a0t){var h=t?null:i0t(e);if(h)return JM(h);l=!1,a=QM,u=new Hm}else u=t?[]:c;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=f!==0?f:0,l&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),c.push(f)}else a(u,d,r)||(u!==c&&u.push(d),c.push(f))}return c}var s0t=c3(function(e){return aD(E3(e,1,aE,!0))});function sD(e){return e&&e.length?aD(e):[]}function o0t(e,t){return e&&e.length?aD(e,po(t)):[]}var l0t=0;function oD(e){var t=++l0t;return i0e(e)+t}function c0t(e,t,r){for(var n=-1,a=e.length,o=t.length,l={};++n<a;){var c=n<o?t[n]:void 0;r(l,e[n],c)}return l}function u0t(e,t){return c0t(e||[],t||[],l3)}var h0t="\0",Zf="\0",DY="";class os{constructor(t={}){this._isDirected=Object.prototype.hasOwnProperty.call(t,"directed")?t.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=U1(void 0),this._defaultEdgeLabelFn=U1(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Zf]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return wl(t)||(t=U1(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return $i(this._nodes)}sources(){var t=this;return ni(this.nodes(),function(r){return Gr(t._in[r])})}sinks(){var t=this;return ni(this.nodes(),function(r){return Gr(t._out[r])})}setNodes(t,r){var n=arguments,a=this;return We(t,function(o){n.length>1?a.setNode(o,r):a.setNode(o)}),this}setNode(t,r){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=Zf,this._children[t]={},this._children[Zf][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var r=n=>this.removeEdge(this._edgeObjs[n]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],We(this.children(t),n=>{this.setParent(n)}),delete this._children[t]),We($i(this._in[t]),r),delete this._in[t],delete this._preds[t],We($i(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Zr(r))r=Zf;else{r+="";for(var n=r;!Zr(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==Zf)return r}}children(t){if(Zr(t)&&(t=Zf),this._isCompound){var r=this._children[t];if(r)return $i(r)}else{if(t===Zf)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return $i(r)}successors(t){var r=this._sucs[t];if(r)return $i(r)}neighbors(t){var r=this.predecessors(t);if(r)return s0t(r,this.successors(t))}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;We(this._nodes,function(l,c){t(c)&&r.setNode(c,l)}),We(this._edgeObjs,function(l){r.hasNode(l.v)&&r.hasNode(l.w)&&r.setEdge(l,n.edge(l))});var a={};function o(l){var c=n.parent(l);return c===void 0||r.hasNode(c)?(a[l]=c,c):c in a?a[c]:o(c)}return this._isCompound&&We(r.nodes(),function(l){r.setParent(l,o(l))}),r}setDefaultEdgeLabel(t){return wl(t)||(t=U1(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return an(this._edgeObjs)}setPath(t,r){var n=this,a=arguments;return Oi(t,function(o,l){return a.length>1?n.setEdge(o,l,r):n.setEdge(o,l),l}),this}setEdge(){var t,r,n,a,o=!1,l=arguments[0];typeof l=="object"&&l!==null&&"v"in l?(t=l.v,r=l.w,n=l.name,arguments.length===2&&(a=arguments[1],o=!0)):(t=l,r=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],o=!0)),t=""+t,r=""+r,Zr(n)||(n=""+n);var c=u2(this._isDirected,t,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,c))return o&&(this._edgeLabels[c]=a),this;if(!Zr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[c]=o?a:this._defaultEdgeLabelFn(t,r,n);var u=f0t(this._isDirected,t,r,n);return t=u.v,r=u.w,Object.freeze(u),this._edgeObjs[c]=u,PY(this._preds[r],t),PY(this._sucs[t],r),this._in[r][c]=u,this._out[t][c]=u,this._edgeCount++,this}edge(t,r,n){var a=arguments.length===1?r7(this._isDirected,arguments[0]):u2(this._isDirected,t,r,n);return this._edgeLabels[a]}hasEdge(t,r,n){var a=arguments.length===1?r7(this._isDirected,arguments[0]):u2(this._isDirected,t,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,a)}removeEdge(t,r,n){var a=arguments.length===1?r7(this._isDirected,arguments[0]):u2(this._isDirected,t,r,n),o=this._edgeObjs[a];return o&&(t=o.v,r=o.w,delete this._edgeLabels[a],delete this._edgeObjs[a],FY(this._preds[r],t),FY(this._sucs[t],r),delete this._in[r][a],delete this._out[t][a],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var a=an(n);return r?ni(a,function(o){return o.v===r}):a}}outEdges(t,r){var n=this._out[t];if(n){var a=an(n);return r?ni(a,function(o){return o.w===r}):a}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}}os.prototype._nodeCount=0;os.prototype._edgeCount=0;function PY(e,t){e[t]?e[t]++:e[t]=1}function FY(e,t){--e[t]||delete e[t]}function u2(e,t,r,n){var a=""+t,o=""+r;if(!e&&a>o){var l=a;a=o,o=l}return a+DY+o+DY+(Zr(n)?h0t:n)}function f0t(e,t,r,n){var a=""+t,o=""+r;if(!e&&a>o){var l=a;a=o,o=l}var c={v:a,w:o};return n&&(c.name=n),c}function r7(e,t){return u2(e,t.v,t.w,t.name)}class d0t{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return BY(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&BY(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,p0t)),n=n._prev;return"["+t.join(", ")+"]"}}function BY(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function p0t(e,t){if(e!=="_next"&&e!=="_prev")return t}var g0t=U1(1);function m0t(e,t){if(e.nodeCount()<=1)return[];var r=y0t(e,t||g0t),n=v0t(r.graph,r.buckets,r.zeroIdx);return aa(gt(n,function(a){return e.outEdges(a.v,a.w)}))}function v0t(e,t,r){for(var n=[],a=t[t.length-1],o=t[0],l;e.nodeCount();){for(;l=o.dequeue();)n7(e,t,r,l);for(;l=a.dequeue();)n7(e,t,r,l);if(e.nodeCount()){for(var c=t.length-2;c>0;--c)if(l=t[c].dequeue(),l){n=n.concat(n7(e,t,r,l,!0));break}}}return n}function n7(e,t,r,n,a){var o=a?[]:void 0;return We(e.inEdges(n.v),function(l){var c=e.edge(l),u=e.node(l.v);a&&o.push({v:l.v,w:l.w}),u.out-=c,AO(t,r,u)}),We(e.outEdges(n.v),function(l){var c=e.edge(l),u=l.w,h=e.node(u);h.in-=c,AO(t,r,h)}),e.removeNode(n.v),o}function y0t(e,t){var r=new os,n=0,a=0;We(e.nodes(),function(c){r.setNode(c,{v:c,in:0,out:0})}),We(e.edges(),function(c){var u=r.edge(c.v,c.w)||0,h=t(c),f=u+h;r.setEdge(c.v,c.w,f),a=Math.max(a,r.node(c.v).out+=h),n=Math.max(n,r.node(c.w).in+=h)});var o=Wm(a+n+3).map(function(){return new d0t}),l=n+1;return We(r.nodes(),function(c){AO(o,l,r.node(c))}),{graph:r,buckets:o,zeroIdx:l}}function AO(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function b0t(e){var t=e.graph().acyclicer==="greedy"?m0t(e,r(e)):x0t(e);We(t,function(n){var a=e.edge(n);e.removeEdge(n),a.forwardName=n.name,a.reversed=!0,e.setEdge(n.w,n.v,a,oD("rev"))});function r(n){return function(a){return n.edge(a).weight}}}function x0t(e){var t=[],r={},n={};function a(o){Object.prototype.hasOwnProperty.call(n,o)||(n[o]=!0,r[o]=!0,We(e.outEdges(o),function(l){Object.prototype.hasOwnProperty.call(r,l.w)?t.push(l):a(l.w)}),delete r[o])}return We(e.nodes(),a),t}function T0t(e){We(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}function Fv(e,t,r,n){var a;do a=oD(n);while(e.hasNode(a));return r.dummy=t,e.setNode(a,r),a}function w0t(e){var t=new os().setGraph(e.graph());return We(e.nodes(),function(r){t.setNode(r,e.node(r))}),We(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},a=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+a.weight,minlen:Math.max(n.minlen,a.minlen)})}),t}function A0e(e){var t=new os({multigraph:e.isMultigraph()}).setGraph(e.graph());return We(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),We(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function $Y(e,t){var r=e.x,n=e.y,a=t.x-r,o=t.y-n,l=e.width/2,c=e.height/2;if(!a&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,h;return Math.abs(o)*l>Math.abs(a)*c?(o<0&&(c=-c),u=c*a/o,h=c):(a<0&&(l=-l),u=l,h=l*o/a),{x:r+u,y:n+h}}function IA(e){var t=gt(Wm(k0e(e)+1),function(){return[]});return We(e.nodes(),function(r){var n=e.node(r),a=n.rank;Zr(a)||(t[a][n.order]=r)}),t}function E0t(e){var t=Um(gt(e.nodes(),function(r){return e.node(r).rank}));We(e.nodes(),function(r){var n=e.node(r);jt(n,"rank")&&(n.rank-=t)})}function S0t(e){var t=Um(gt(e.nodes(),function(o){return e.node(o).rank})),r=[];We(e.nodes(),function(o){var l=e.node(o).rank-t;r[l]||(r[l]=[]),r[l].push(o)});var n=0,a=e.graph().nodeRankFactor;We(r,function(o,l){Zr(o)&&l%a!==0?--n:n&&We(o,function(c){e.node(c).rank+=n})})}function HY(e,t,r,n){var a={width:0,height:0};return arguments.length>=4&&(a.rank=r,a.order=n),Fv(e,"border",a,t)}function k0e(e){return op(gt(e.nodes(),function(t){var r=e.node(t).rank;if(!Zr(r))return r}))}function A0t(e,t){var r={lhs:[],rhs:[]};return We(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function k0t(e,t){return t()}function C0t(e){function t(r){var n=e.children(r),a=e.node(r);if(n.length&&We(n,t),Object.prototype.hasOwnProperty.call(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var o=a.minRank,l=a.maxRank+1;o<l;++o)UY(e,"borderLeft","_bl",r,a,o),UY(e,"borderRight","_br",r,a,o)}}We(e.children(),t)}function UY(e,t,r,n,a,o){var l={width:0,height:0,rank:o,borderType:t},c=a[t][o-1],u=Fv(e,"border",l,r);a[t][o]=u,e.setParent(u,n),c&&e.setEdge(c,u,{weight:1})}function I0t(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&C0e(e)}function R0t(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&O0t(e),(t==="lr"||t==="rl")&&(_0t(e),C0e(e))}function C0e(e){We(e.nodes(),function(t){WY(e.node(t))}),We(e.edges(),function(t){WY(e.edge(t))})}function WY(e){var t=e.width;e.width=e.height,e.height=t}function O0t(e){We(e.nodes(),function(t){i7(e.node(t))}),We(e.edges(),function(t){var r=e.edge(t);We(r.points,i7),Object.prototype.hasOwnProperty.call(r,"y")&&i7(r)})}function i7(e){e.y=-e.y}function _0t(e){We(e.nodes(),function(t){a7(e.node(t))}),We(e.edges(),function(t){var r=e.edge(t);We(r.points,a7),Object.prototype.hasOwnProperty.call(r,"x")&&a7(r)})}function a7(e){var t=e.x;e.x=e.y,e.y=t}function N0t(e){e.graph().dummyChains=[],We(e.edges(),function(t){L0t(e,t)})}function L0t(e,t){var r=t.v,n=e.node(r).rank,a=t.w,o=e.node(a).rank,l=t.name,c=e.edge(t),u=c.labelRank;if(o!==n+1){e.removeEdge(t);var h=void 0,f,d;for(d=0,++n;n<o;++d,++n)c.points=[],h={width:0,height:0,edgeLabel:c,edgeObj:t,rank:n},f=Fv(e,"edge",h,"_d"),n===u&&(h.width=c.width,h.height=c.height,h.dummy="edge-label",h.labelpos=c.labelpos),e.setEdge(r,f,{weight:c.weight},l),d===0&&e.graph().dummyChains.push(f),r=f;e.setEdge(r,a,{weight:c.weight},l)}}function M0t(e){We(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,a;for(e.setEdge(r.edgeObj,n);r.dummy;)a=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=a,r=e.node(t)})}function lD(e){var t={};function r(n){var a=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return a.rank;t[n]=!0;var o=Um(gt(e.outEdges(n),function(l){return r(l.w)-e.edge(l).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),a.rank=o}We(e.sources(),r)}function Jb(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function I0e(e){var t=new os({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var a,o;D0t(t,e)<n;)a=P0t(t,e),o=t.hasNode(a.v)?Jb(e,a):-Jb(e,a),F0t(t,e,o);return t}function D0t(e,t){function r(n){We(t.nodeEdges(n),function(a){var o=a.v,l=n===o?a.w:o;!e.hasNode(l)&&!Jb(t,a)&&(e.setNode(l,{}),e.setEdge(n,l,{}),r(l))})}return We(e.nodes(),r),e.nodeCount()}function P0t(e,t){return iD(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Jb(t,r)})}function F0t(e,t,r){We(e.nodes(),function(n){t.node(n).rank+=r})}function B0t(){}B0t.prototype=new Error;function R0e(e,t,r){Er(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],o={};return We(t,function(l){if(!e.hasNode(l))throw new Error("Graph does not have node: "+l);O0e(e,l,r==="post",o,n,a)}),a}function O0e(e,t,r,n,a,o){Object.prototype.hasOwnProperty.call(n,t)||(n[t]=!0,r||o.push(t),We(a(t),function(l){O0e(e,l,r,n,a,o)}),r&&o.push(t))}function $0t(e,t){return R0e(e,t,"post")}function H0t(e,t){return R0e(e,t,"pre")}Hp.initLowLimValues=uD;Hp.initCutValues=cD;Hp.calcCutValue=_0e;Hp.leaveEdge=L0e;Hp.enterEdge=M0e;Hp.exchangeEdges=D0e;function Hp(e){e=w0t(e),lD(e);var t=I0e(e);uD(t),cD(t,e);for(var r,n;r=L0e(t);)n=M0e(t,e,r),D0e(t,e,r,n)}function cD(e,t){var r=$0t(e,e.nodes());r=r.slice(0,r.length-1),We(r,function(n){U0t(e,t,n)})}function U0t(e,t,r){var n=e.node(r),a=n.parent;e.edge(r,a).cutvalue=_0e(e,t,r)}function _0e(e,t,r){var n=e.node(r),a=n.parent,o=!0,l=t.edge(r,a),c=0;return l||(o=!1,l=t.edge(a,r)),c=l.weight,We(t.nodeEdges(r),function(u){var h=u.v===r,f=h?u.w:u.v;if(f!==a){var d=h===o,p=t.edge(u).weight;if(c+=d?p:-p,z0t(e,r,f)){var g=e.edge(r,f).cutvalue;c+=d?-g:g}}}),c}function uD(e,t){arguments.length<2&&(t=e.nodes()[0]),N0e(e,{},1,t)}function N0e(e,t,r,n,a){var o=r,l=e.node(n);return t[n]=!0,We(e.neighbors(n),function(c){Object.prototype.hasOwnProperty.call(t,c)||(r=N0e(e,t,r,c,n))}),l.low=o,l.lim=r++,a?l.parent=a:delete l.parent,r}function L0e(e){return Ih(e.edges(),function(t){return e.edge(t).cutvalue<0})}function M0e(e,t,r){var n=r.v,a=r.w;t.hasEdge(n,a)||(n=r.w,a=r.v);var o=e.node(n),l=e.node(a),c=o,u=!1;o.lim>l.lim&&(c=l,u=!0);var h=ni(t.edges(),function(f){return u===zY(e,e.node(f.v),c)&&u!==zY(e,e.node(f.w),c)});return iD(h,function(f){return Jb(t,f)})}function D0e(e,t,r,n){var a=r.v,o=r.w;e.removeEdge(a,o),e.setEdge(n.v,n.w,{}),uD(e),cD(e,t),W0t(e,t)}function W0t(e,t){var r=Ih(e.nodes(),function(a){return!t.node(a).parent}),n=H0t(e,r);n=n.slice(1),We(n,function(a){var o=e.node(a).parent,l=t.edge(a,o),c=!1;l||(l=t.edge(o,a),c=!0),t.node(a).rank=t.node(o).rank+(c?l.minlen:-l.minlen)})}function z0t(e,t,r){return e.hasEdge(t,r)}function zY(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}function G0t(e){switch(e.graph().ranker){case"network-simplex":GY(e);break;case"tight-tree":V0t(e);break;case"longest-path":Y0t(e);break;default:GY(e)}}var Y0t=lD;function V0t(e){lD(e),I0e(e)}function GY(e){Hp(e)}function q0t(e){var t=Fv(e,"root",{},"_root"),r=j0t(e),n=op(an(r))-1,a=2*n+1;e.graph().nestingRoot=t,We(e.edges(),function(l){e.edge(l).minlen*=a});var o=X0t(e)+1;We(e.children(),function(l){P0e(e,t,a,o,n,r,l)}),e.graph().nodeRankFactor=a}function P0e(e,t,r,n,a,o,l){var c=e.children(l);if(!c.length){l!==t&&e.setEdge(t,l,{weight:0,minlen:r});return}var u=HY(e,"_bt"),h=HY(e,"_bb"),f=e.node(l);e.setParent(u,l),f.borderTop=u,e.setParent(h,l),f.borderBottom=h,We(c,function(d){P0e(e,t,r,n,a,o,d);var p=e.node(d),g=p.borderTop?p.borderTop:d,m=p.borderBottom?p.borderBottom:d,y=p.borderTop?n:2*n,b=g!==m?1:a-o[l]+1;e.setEdge(u,g,{weight:y,minlen:b,nestingEdge:!0}),e.setEdge(m,h,{weight:y,minlen:b,nestingEdge:!0})}),e.parent(l)||e.setEdge(t,u,{weight:0,minlen:a+o[l]})}function j0t(e){var t={};function r(n,a){var o=e.children(n);o&&o.length&&We(o,function(l){r(l,a+1)}),t[n]=a}return We(e.children(),function(n){r(n,1)}),t}function X0t(e){return Oi(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function K0t(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,We(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}function Z0t(e,t,r){var n={},a;We(r,function(o){for(var l=e.parent(o),c,u;l;){if(c=e.parent(l),c?(u=n[c],n[c]=l):(u=a,a=l),u&&u!==l){t.setEdge(u,l);return}l=c}})}function Q0t(e,t,r){var n=J0t(e),a=new os({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(o){return e.node(o)});return We(e.nodes(),function(o){var l=e.node(o),c=e.parent(o);(l.rank===t||l.minRank<=t&&t<=l.maxRank)&&(a.setNode(o),a.setParent(o,c||n),We(e[r](o),function(u){var h=u.v===o?u.w:u.v,f=a.edge(h,o),d=Zr(f)?0:f.weight;a.setEdge(h,o,{weight:e.edge(u).weight+d})}),Object.prototype.hasOwnProperty.call(l,"minRank")&&a.setNode(o,{borderLeft:l.borderLeft[t],borderRight:l.borderRight[t]}))}),a}function J0t(e){for(var t;e.hasNode(t=oD("_root")););return t}function eft(e,t){for(var r=0,n=1;n<t.length;++n)r+=tft(e,t[n-1],t[n]);return r}function tft(e,t,r){for(var n=u0t(r,gt(r,function(h,f){return f})),a=aa(gt(t,function(h){return A3(gt(e.outEdges(h),function(f){return{pos:n[f.w],weight:e.edge(f).weight}}),"pos")})),o=1;o<r.length;)o<<=1;var l=2*o-1;o-=1;var c=gt(new Array(l),function(){return 0}),u=0;return We(a.forEach(function(h){var f=h.pos+o;c[f]+=h.weight;for(var d=0;f>0;)f%2&&(d+=c[f+1]),f=f-1>>1,c[f]+=h.weight;u+=h.weight*d})),u}function rft(e){var t={},r=ni(e.nodes(),function(c){return!e.children(c).length}),n=op(gt(r,function(c){return e.node(c).rank})),a=gt(Wm(n+1),function(){return[]});function o(c){if(!jt(t,c)){t[c]=!0;var u=e.node(c);a[u.rank].push(c),We(e.successors(c),o)}}var l=A3(r,function(c){return e.node(c).rank});return We(l,o),a}function nft(e,t){return gt(t,function(r){var n=e.inEdges(r);if(n.length){var a=Oi(n,function(o,l){var c=e.edge(l),u=e.node(l.v);return{sum:o.sum+c.weight*u.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:r}})}function ift(e,t){var r={};We(e,function(a,o){var l=r[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:o};Zr(a.barycenter)||(l.barycenter=a.barycenter,l.weight=a.weight)}),We(t.edges(),function(a){var o=r[a.v],l=r[a.w];!Zr(o)&&!Zr(l)&&(l.indegree++,o.out.push(r[a.w]))});var n=ni(r,function(a){return!a.indegree});return aft(n)}function aft(e){var t=[];function r(o){return function(l){l.merged||(Zr(l.barycenter)||Zr(o.barycenter)||l.barycenter>=o.barycenter)&&sft(o,l)}}function n(o){return function(l){l.in.push(o),--l.indegree===0&&e.push(l)}}for(;e.length;){var a=e.pop();t.push(a),We(a.in.reverse(),r(a)),We(a.out,n(a))}return gt(ni(t,function(o){return!o.merged}),function(o){return kE(o,["vs","i","barycenter","weight"])})}function sft(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}function oft(e,t){var r=A0t(e,function(f){return Object.prototype.hasOwnProperty.call(f,"barycenter")}),n=r.lhs,a=A3(r.rhs,function(f){return-f.i}),o=[],l=0,c=0,u=0;n.sort(lft(!!t)),u=YY(o,a,u),We(n,function(f){u+=f.vs.length,o.push(f.vs),l+=f.barycenter*f.weight,c+=f.weight,u=YY(o,a,u)});var h={vs:aa(o)};return c&&(h.barycenter=l/c,h.weight=c),h}function YY(e,t,r){for(var n;t.length&&(n=pu(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function lft(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}function F0e(e,t,r,n){var a=e.children(t),o=e.node(t),l=o?o.borderLeft:void 0,c=o?o.borderRight:void 0,u={};l&&(a=ni(a,function(m){return m!==l&&m!==c}));var h=nft(e,a);We(h,function(m){if(e.children(m.v).length){var y=F0e(e,m.v,r,n);u[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&uft(m,y)}});var f=ift(h,r);cft(f,u);var d=oft(f,n);if(l&&(d.vs=aa([l,d.vs,c]),e.predecessors(l).length)){var p=e.node(e.predecessors(l)[0]),g=e.node(e.predecessors(c)[0]);Object.prototype.hasOwnProperty.call(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+p.order+g.order)/(d.weight+2),d.weight+=2}return d}function cft(e,t){We(e,function(r){r.vs=aa(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function uft(e,t){Zr(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function hft(e){var t=k0e(e),r=VY(e,Wm(1,t+1),"inEdges"),n=VY(e,Wm(t-1,-1,-1),"outEdges"),a=rft(e);qY(e,a);for(var o=Number.POSITIVE_INFINITY,l,c=0,u=0;u<4;++c,++u){fft(c%2?r:n,c%4>=2),a=IA(e);var h=eft(e,a);h<o&&(u=0,l=_ut(a),o=h)}qY(e,l)}function VY(e,t,r){return gt(t,function(n){return Q0t(e,n,r)})}function fft(e,t){var r=new os;We(e,function(n){var a=n.graph().root,o=F0e(n,a,r,t);We(o.vs,function(l,c){n.node(l).order=c}),Z0t(n,r,o.vs)})}function qY(e,t){We(t,function(r){We(r,function(n,a){e.node(n).order=a})})}function dft(e){var t=gft(e);We(e.graph().dummyChains,function(r){for(var n=e.node(r),a=n.edgeObj,o=pft(e,t,a.v,a.w),l=o.path,c=o.lca,u=0,h=l[u],f=!0;r!==a.w;){if(n=e.node(r),f){for(;(h=l[u])!==c&&e.node(h).maxRank<n.rank;)u++;h===c&&(f=!1)}if(!f){for(;u<l.length-1&&e.node(h=l[u+1]).minRank<=n.rank;)u++;h=l[u]}e.setParent(r,h),r=e.successors(r)[0]}})}function pft(e,t,r,n){var a=[],o=[],l=Math.min(t[r].low,t[n].low),c=Math.max(t[r].lim,t[n].lim),u,h;u=r;do u=e.parent(u),a.push(u);while(u&&(t[u].low>l||c>t[u].lim));for(h=u,u=n;(u=e.parent(u))!==h;)o.push(u);return{path:a.concat(o.reverse()),lca:h}}function gft(e){var t={},r=0;function n(a){var o=r;We(e.children(a),n),t[a]={low:o,lim:r++}}return We(e.children(),n),t}function mft(e,t){var r={};function n(a,o){var l=0,c=0,u=a.length,h=pu(o);return We(o,function(f,d){var p=yft(e,f),g=p?e.node(p).order:u;(p||f===h)&&(We(o.slice(c,d+1),function(m){We(e.predecessors(m),function(y){var b=e.node(y),x=b.order;(x<l||g<x)&&!(b.dummy&&e.node(m).dummy)&&B0e(r,y,m)})}),c=d+1,l=g)}),o}return Oi(t,n),r}function vft(e,t){var r={};function n(o,l,c,u,h){var f;We(Wm(l,c),function(d){f=o[d],e.node(f).dummy&&We(e.predecessors(f),function(p){var g=e.node(p);g.dummy&&(g.order<u||g.order>h)&&B0e(r,p,f)})})}function a(o,l){var c=-1,u,h=0;return We(l,function(f,d){if(e.node(f).dummy==="border"){var p=e.predecessors(f);p.length&&(u=e.node(p[0]).order,n(l,h,d,c,u),h=d,c=u)}n(l,h,l.length,u,o.length)}),l}return Oi(t,a),r}function yft(e,t){if(e.node(t).dummy)return Ih(e.predecessors(t),function(r){return e.node(r).dummy})}function B0e(e,t,r){if(t>r){var n=t;t=r,r=n}var a=e[t];a||(e[t]=a={}),a[r]=!0}function bft(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function xft(e,t,r,n){var a={},o={},l={};return We(t,function(c){We(c,function(u,h){a[u]=u,o[u]=u,l[u]=h})}),We(t,function(c){var u=-1;We(c,function(h){var f=n(h);if(f.length){f=A3(f,function(y){return l[y]});for(var d=(f.length-1)/2,p=Math.floor(d),g=Math.ceil(d);p<=g;++p){var m=f[p];o[h]===h&&u<l[m]&&!bft(r,h,m)&&(o[m]=h,o[h]=a[h]=a[m],u=l[m])}}})}),{root:a,align:o}}function Tft(e,t,r,n,a){var o={},l=wft(e,t,r,a),c=a?"borderLeft":"borderRight";function u(d,p){for(var g=l.nodes(),m=g.pop(),y={};m;)y[m]?d(m):(y[m]=!0,g.push(m),g=g.concat(p(m))),m=g.pop()}function h(d){o[d]=l.inEdges(d).reduce(function(p,g){return Math.max(p,o[g.v]+l.edge(g))},0)}function f(d){var p=l.outEdges(d).reduce(function(m,y){return Math.min(m,o[y.w]-l.edge(y))},Number.POSITIVE_INFINITY),g=e.node(d);p!==Number.POSITIVE_INFINITY&&g.borderType!==c&&(o[d]=Math.max(o[d],p))}return u(h,l.predecessors.bind(l)),u(f,l.successors.bind(l)),We(n,function(d){o[d]=o[r[d]]}),o}function wft(e,t,r,n){var a=new os,o=e.graph(),l=Cft(o.nodesep,o.edgesep,n);return We(t,function(c){var u;We(c,function(h){var f=r[h];if(a.setNode(f),u){var d=r[u],p=a.edge(d,f);a.setEdge(d,f,Math.max(l(e,h,u),p||0))}u=h})}),a}function Eft(e,t){return iD(an(t),function(r){var n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return Rht(r,function(o,l){var c=Ift(e,l)/2;n=Math.max(o+c,n),a=Math.min(o-c,a)}),n-a})}function Sft(e,t){var r=an(t),n=Um(r),a=op(r);We(["u","d"],function(o){We(["l","r"],function(l){var c=o+l,u=e[c],h;if(u!==t){var f=an(u);h=l==="l"?n-Um(f):a-op(f),h&&(e[c]=kA(u,function(d){return d+h}))}})})}function Aft(e,t){return kA(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var a=A3(gt(e,n));return(a[1]+a[2])/2})}function kft(e){var t=IA(e),r=sE(mft(e,t),vft(e,t)),n={},a;We(["u","d"],function(l){a=l==="u"?t:an(t).reverse(),We(["l","r"],function(c){c==="r"&&(a=gt(a,function(d){return an(d).reverse()}));var u=(l==="u"?e.predecessors:e.successors).bind(e),h=xft(e,a,r,u),f=Tft(e,a,h.root,h.align,c==="r");c==="r"&&(f=kA(f,function(d){return-d})),n[l+c]=f})});var o=Eft(e,n);return Sft(n,o),Aft(n,e.graph().align)}function Cft(e,t,r){return function(n,a,o){var l=n.node(a),c=n.node(o),u=0,h;if(u+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":h=-l.width/2;break;case"r":h=l.width/2;break}if(h&&(u+=r?h:-h),h=0,u+=(l.dummy?t:e)/2,u+=(c.dummy?t:e)/2,u+=c.width/2,Object.prototype.hasOwnProperty.call(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":h=c.width/2;break;case"r":h=-c.width/2;break}return h&&(u+=r?h:-h),h=0,u}}function Ift(e,t){return e.node(t).width}function Rft(e){e=A0e(e),Oft(e),Oht(kft(e),function(t,r){e.node(r).x=t})}function Oft(e){var t=IA(e),r=e.graph().ranksep,n=0;We(t,function(a){var o=op(gt(a,function(l){return e.node(l).height}));We(a,function(l){e.node(l).y=n+o/2}),n+=o+r})}function RA(e,t){var r=k0t;r("layout",()=>{var n=r("  buildLayoutGraph",()=>Uft(e));r("  runLayout",()=>_ft(n,r)),r("  updateInputGraph",()=>Nft(e,n))})}function _ft(e,t){t("    makeSpaceForEdgeLabels",()=>Wft(e)),t("    removeSelfEdges",()=>Zft(e)),t("    acyclic",()=>b0t(e)),t("    nestingGraph.run",()=>q0t(e)),t("    rank",()=>G0t(A0e(e))),t("    injectEdgeLabelProxies",()=>zft(e)),t("    removeEmptyRanks",()=>S0t(e)),t("    nestingGraph.cleanup",()=>K0t(e)),t("    normalizeRanks",()=>E0t(e)),t("    assignRankMinMax",()=>Gft(e)),t("    removeEdgeLabelProxies",()=>Yft(e)),t("    normalize.run",()=>N0t(e)),t("    parentDummyChains",()=>dft(e)),t("    addBorderSegments",()=>C0t(e)),t("    order",()=>hft(e)),t("    insertSelfEdges",()=>Qft(e)),t("    adjustCoordinateSystem",()=>I0t(e)),t("    position",()=>Rft(e)),t("    positionSelfEdges",()=>Jft(e)),t("    removeBorderNodes",()=>Kft(e)),t("    normalize.undo",()=>M0t(e)),t("    fixupEdgeLabelCoords",()=>jft(e)),t("    undoCoordinateSystem",()=>R0t(e)),t("    translateGraph",()=>Vft(e)),t("    assignNodeIntersects",()=>qft(e)),t("    reversePoints",()=>Xft(e)),t("    acyclic.undo",()=>T0t(e))}function Nft(e,t){We(e.nodes(),function(r){var n=e.node(r),a=t.node(r);n&&(n.x=a.x,n.y=a.y,t.children(r).length&&(n.width=a.width,n.height=a.height))}),We(e.edges(),function(r){var n=e.edge(r),a=t.edge(r);n.points=a.points,Object.prototype.hasOwnProperty.call(a,"x")&&(n.x=a.x,n.y=a.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var Lft=["nodesep","edgesep","ranksep","marginx","marginy"],Mft={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Dft=["acyclicer","ranker","rankdir","align"],Pft=["width","height"],Fft={width:0,height:0},Bft=["minlen","weight","width","height","labeloffset"],$ft={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Hft=["labelpos"];function Uft(e){var t=new os({multigraph:!0,compound:!0}),r=o7(e.graph());return t.setGraph(sE({},Mft,s7(r,Lft),kE(r,Dft))),We(e.nodes(),function(n){var a=o7(e.node(n));t.setNode(n,SA(s7(a,Pft),Fft)),t.setParent(n,e.parent(n))}),We(e.edges(),function(n){var a=o7(e.edge(n));t.setEdge(n,sE({},$ft,s7(a,Bft),kE(a,Hft)))}),t}function Wft(e){var t=e.graph();t.ranksep/=2,We(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function zft(e){We(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),a=e.node(t.w),o={rank:(a.rank-n.rank)/2+n.rank,e:t};Fv(e,"edge-proxy",o,"_ep")}})}function Gft(e){var t=0;We(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=op(t,n.maxRank))}),e.graph().maxRank=t}function Yft(e){We(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function Vft(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,a=0,o=e.graph(),l=o.marginx||0,c=o.marginy||0;function u(h){var f=h.x,d=h.y,p=h.width,g=h.height;t=Math.min(t,f-p/2),r=Math.max(r,f+p/2),n=Math.min(n,d-g/2),a=Math.max(a,d+g/2)}We(e.nodes(),function(h){u(e.node(h))}),We(e.edges(),function(h){var f=e.edge(h);Object.prototype.hasOwnProperty.call(f,"x")&&u(f)}),t-=l,n-=c,We(e.nodes(),function(h){var f=e.node(h);f.x-=t,f.y-=n}),We(e.edges(),function(h){var f=e.edge(h);We(f.points,function(d){d.x-=t,d.y-=n}),Object.prototype.hasOwnProperty.call(f,"x")&&(f.x-=t),Object.prototype.hasOwnProperty.call(f,"y")&&(f.y-=n)}),o.width=r-t+l,o.height=a-n+c}function qft(e){We(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),a=e.node(t.w),o,l;r.points?(o=r.points[0],l=r.points[r.points.length-1]):(r.points=[],o=a,l=n),r.points.unshift($Y(n,o)),r.points.push($Y(a,l))})}function jft(e){We(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function Xft(e){We(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function Kft(e){We(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),a=e.node(r.borderBottom),o=e.node(pu(r.borderLeft)),l=e.node(pu(r.borderRight));r.width=Math.abs(l.x-o.x),r.height=Math.abs(a.y-n.y),r.x=o.x+r.width/2,r.y=n.y+r.height/2}}),We(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Zft(e){We(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Qft(e){var t=IA(e);We(t,function(r){var n=0;We(r,function(a,o){var l=e.node(a);l.order=o+n,We(l.selfEdges,function(c){Fv(e,"selfedge",{width:c.label.width,height:c.label.height,rank:l.rank,order:o+ ++n,e:c.e,label:c.label},"_se")}),delete l.selfEdges})})}function Jft(e){We(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),a=n.x+n.width/2,o=n.y,l=r.x-a,c=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:a+2*l/3,y:o-c},{x:a+5*l/6,y:o-c},{x:a+l,y:o},{x:a+5*l/6,y:o+c},{x:a+2*l/3,y:o+c}],r.label.x=r.x,r.label.y=r.y}})}function s7(e,t){return kA(kE(e,t),Number)}function o7(e){var t={};return We(e,function(r,n){t[n.toLowerCase()]=r}),t}function Zc(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:edt(e),edges:tdt(e)};return Zr(e.graph())||(t.value=qi(e.graph())),t}function edt(e){return gt(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),a={v:t};return Zr(r)||(a.value=r),Zr(n)||(a.parent=n),a})}function tdt(e){return gt(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return Zr(t.name)||(n.name=t.name),Zr(r)||(n.value=r),n})}var xr=new Map,Rd=new Map,$0e=new Map,rdt=A(()=>{Rd.clear(),$0e.clear(),xr.clear()},"clear"),CE=A((e,t)=>{const r=Rd.get(t)||[];return me.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),ndt=A((e,t)=>{const r=Rd.get(t)||[];return me.info("Descendants of ",t," is ",r),me.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||CE(e.v,t)||CE(e.w,t)||r.includes(e.w):(me.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),H0e=A((e,t,r,n)=>{me.warn("Copying children of ",e,"root",n,"data",t.node(e),n);const a=t.children(e)||[];e!==n&&a.push(e),me.warn("Copying (nodes) clusterId",e,"nodes",a),a.forEach(o=>{if(t.children(o).length>0)H0e(o,t,r,n);else{const l=t.node(o);me.info("cp ",o," to ",n," with parent ",e),r.setNode(o,l),n!==t.parent(o)&&(me.warn("Setting parent",o,t.parent(o)),r.setParent(o,t.parent(o))),e!==n&&o!==e?(me.debug("Setting parent",o,e),r.setParent(o,e)):(me.info("In copy ",e,"root",n,"data",t.node(e),n),me.debug("Not Setting parent for node=",o,"cluster!==rootId",e!==n,"node!==clusterId",o!==e));const c=t.edges(o);me.debug("Copying Edges",c),c.forEach(u=>{me.info("Edge",u);const h=t.edge(u.v,u.w,u.name);me.info("Edge data",h,n);try{ndt(u,n)?(me.info("Copying as ",u.v,u.w,h,u.name),r.setEdge(u.v,u.w,h,u.name),me.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):me.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",n," clusterId:",e)}catch(f){me.error(f)}})}me.debug("Removing node",o),t.removeNode(o)})},"copy"),U0e=A((e,t)=>{const r=t.children(e);let n=[...r];for(const a of r)$0e.set(a,e),n=[...n,...U0e(a,t)];return n},"extractDescendants"),idt=A((e,t,r)=>{const n=e.edges().filter(u=>u.v===t||u.w===t),a=e.edges().filter(u=>u.v===r||u.w===r),o=n.map(u=>({v:u.v===t?r:u.v,w:u.w===t?t:u.w})),l=a.map(u=>({v:u.v,w:u.w}));return o.filter(u=>l.some(h=>u.v===h.v&&u.w===h.w))},"findCommonEdges"),ex=A((e,t,r)=>{const n=t.children(e);if(me.trace("Searching children of id ",e,n),n.length<1)return e;let a;for(const o of n){const l=ex(o,t,r),c=idt(t,r,l);if(l)if(c.length>0)a=l;else return l}return a},"findNonClusterChild"),jY=A(e=>!xr.has(e)||!xr.get(e).externalConnections?e:xr.has(e)?xr.get(e).id:e,"getAnchorId"),adt=A((e,t)=>{if(!e||t>10){me.debug("Opting out, no graph ");return}else me.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(me.warn("Cluster identified",r," Replacement id in edges: ",ex(r,e,r)),Rd.set(r,U0e(r,e)),xr.set(r,{id:ex(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){const n=e.children(r),a=e.edges();n.length>0?(me.debug("Cluster identified",r,Rd),a.forEach(o=>{const l=CE(o.v,r),c=CE(o.w,r);l^c&&(me.warn("Edge: ",o," leaves cluster ",r),me.warn("Descendants of XXX ",r,": ",Rd.get(r)),xr.get(r).externalConnections=!0)})):me.debug("Not a cluster ",r,Rd)});for(let r of xr.keys()){const n=xr.get(r).id,a=e.parent(n);a!==r&&xr.has(a)&&!xr.get(a).externalConnections&&(xr.get(r).id=a)}e.edges().forEach(function(r){const n=e.edge(r);me.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),me.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let a=r.v,o=r.w;if(me.warn("Fix XXX",xr,"ids:",r.v,r.w,"Translating: ",xr.get(r.v)," --- ",xr.get(r.w)),xr.get(r.v)||xr.get(r.w)){if(me.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),a=jY(r.v),o=jY(r.w),e.removeEdge(r.v,r.w,r.name),a!==r.v){const l=e.parent(a);xr.get(l).externalConnections=!0,n.fromCluster=r.v}if(o!==r.w){const l=e.parent(o);xr.get(l).externalConnections=!0,n.toCluster=r.w}me.warn("Fix Replacing with XXX",a,o,r.name),e.setEdge(a,o,n,r.name)}}),me.warn("Adjusted Graph",Zc(e)),W0e(e,0),me.trace(xr)},"adjustClustersAndEdges"),W0e=A((e,t)=>{var a,o;if(me.warn("extractor - ",t,Zc(e),e.children("D")),t>10){me.error("Bailing out");return}let r=e.nodes(),n=!1;for(const l of r){const c=e.children(l);n=n||c.length>0}if(!n){me.debug("Done, no node has children",e.nodes());return}me.debug("Nodes = ",r,t);for(const l of r)if(me.debug("Extracting node",l,xr,xr.has(l)&&!xr.get(l).externalConnections,!e.parent(l),e.node(l),e.children("D")," Depth ",t),!xr.has(l))me.debug("Not a cluster",l,t);else if(!xr.get(l).externalConnections&&e.children(l)&&e.children(l).length>0){me.warn("Cluster without external connections, without a parent and with children",l,t);let u=e.graph().rankdir==="TB"?"LR":"TB";(o=(a=xr.get(l))==null?void 0:a.clusterData)!=null&&o.dir&&(u=xr.get(l).clusterData.dir,me.warn("Fixing dir",xr.get(l).clusterData.dir,u));const h=new os({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});me.warn("Old graph before copy",Zc(e)),H0e(l,e,h,l),e.setNode(l,{clusterNode:!0,id:l,clusterData:xr.get(l).clusterData,label:xr.get(l).label,graph:h}),me.warn("New graph after copy node: (",l,")",Zc(h)),me.debug("Old graph after copy",Zc(e))}else me.warn("Cluster ** ",l," **not meeting the criteria !externalConnections:",!xr.get(l).externalConnections," no parent: ",!e.parent(l)," children ",e.children(l)&&e.children(l).length>0,e.children("D"),t),me.debug(xr);r=e.nodes(),me.warn("New list of nodes",r);for(const l of r){const c=e.node(l);me.warn(" Now next level",l,c),c!=null&&c.clusterNode&&W0e(c.graph,t+1)}},"extractor"),z0e=A((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(n=>{const a=e.children(n),o=z0e(e,a);r=[...r,...o]}),r},"sorter"),sdt=A(e=>z0e(e,e.children()),"sortNodesByHierarchy"),G0e=A(async(e,t,r,n,a,o)=>{me.warn("Graph in recursive render:XAX",Zc(t),a);const l=t.graph().rankdir;me.trace("Dir in recursive render - dir:",l);const c=e.insert("g").attr("class","root");t.nodes()?me.info("Recursive render XXX",t.nodes()):me.info("No nodes found for",t),t.edges().length>0&&me.info("Recursive edges",t.edge(t.edges()[0]));const u=c.insert("g").attr("class","clusters"),h=c.insert("g").attr("class","edgePaths"),f=c.insert("g").attr("class","edgeLabels"),d=c.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(y){const b=t.node(y);if(a!==void 0){const x=JSON.parse(JSON.stringify(a.clusterData));me.trace(`Setting data for parent cluster XXX
 Node.id = `,y,`
 data=`,x.height,`
Parent cluster`,a.height),t.setNode(a.id,x),t.parent(y)||(me.trace("Setting parent",y,a.id),t.setParent(y,a.id,x))}if(me.info("(Insert) Node XXX"+y+": "+JSON.stringify(t.node(y))),b!=null&&b.clusterNode){me.info("Cluster identified XBX",y,b.width,t.node(y));const{ranksep:x,nodesep:T}=t.graph();b.graph.setGraph({...b.graph.graph(),ranksep:x+25,nodesep:T});const w=await G0e(d,b.graph,r,n,t.node(y),o),E=w.elem;Ut(b,E),b.diff=w.diff||0,me.info("New compound node after recursive render XAX",y,"width",b.width,"height",b.height),rqe(E,b)}else t.children(y).length>0?(me.trace("Cluster - the non recursive path XBX",y,b.id,b,b.width,"Graph:",t),me.trace(ex(b.id,t)),xr.set(b.id,{id:ex(b.id,t),node:b})):(me.trace("Node - the non recursive path XAX",y,d,t.node(y),l),await rA(d,t.node(y),{config:o,dir:l}))})),await A(async()=>{const y=t.edges().map(async function(b){const x=t.edge(b.v,b.w,b.name);me.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(b)),me.info("Edge "+b.v+" -> "+b.w+": ",b," ",JSON.stringify(t.edge(b))),me.info("Fix",xr,"ids:",b.v,b.w,"Translating: ",xr.get(b.v),xr.get(b.w)),await Rle(f,x)});await Promise.all(y)},"processEdges")(),me.info("Graph before layout:",JSON.stringify(Zc(t))),me.info("############################################# XXX"),me.info("###                Layout                 ### XXX"),me.info("############################################# XXX"),RA(t),me.info("Graph after layout:",JSON.stringify(Zc(t)));let g=0,{subGraphTitleTotalMargin:m}=e3(o);return await Promise.all(sdt(t).map(async function(y){var x;const b=t.node(y);if(me.info("Position XBX => "+y+": ("+b.x,","+b.y,") width: ",b.width," height: ",b.height),b!=null&&b.clusterNode)b.y+=m,me.info("A tainted cluster node XBX1",y,b.id,b.width,b.height,b.x,b.y,t.parent(y)),xr.get(b.id).node=b,VR(b);else if(t.children(y).length>0){me.info("A pure cluster node XBX1",y,b.id,b.x,b.y,b.width,b.height,t.parent(y)),b.height+=m,t.node(b.parentId);const T=(b==null?void 0:b.padding)/2||0,w=((x=b==null?void 0:b.labelBBox)==null?void 0:x.height)||0,E=w-T||0;me.debug("OffsetY",E,"labelHeight",w,"halfPadding",T),await QL(u,b),xr.get(b.id).node=b}else{const T=t.node(b.parentId);b.y+=m/2,me.info("A regular node XBX1 - using the padding",b.id,"parent",b.parentId,b.width,b.height,b.x,b.y,"offsetY",b.offsetY,"parent",T,T==null?void 0:T.offsetY,b),VR(b)}})),t.edges().forEach(function(y){const b=t.edge(y);me.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(b),b),b.points.forEach(E=>E.y+=m/2);const x=t.node(y.v);var T=t.node(y.w);const w=Nle(h,b,xr,r,x,T,n);Ole(b,w)}),t.nodes().forEach(function(y){const b=t.node(y);me.info(y,b.type,b.diff),b.isGroup&&(g=b.diff)}),me.warn("Returning from recursive render XAX",c,g),{elem:c,diff:g}},"recursiveRender"),odt=A(async(e,t)=>{var o,l,c,u,h,f;const r=new os({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:((o=e.config)==null?void 0:o.nodeSpacing)||((c=(l=e.config)==null?void 0:l.flowchart)==null?void 0:c.nodeSpacing)||e.nodeSpacing,ranksep:((u=e.config)==null?void 0:u.rankSpacing)||((f=(h=e.config)==null?void 0:h.flowchart)==null?void 0:f.rankSpacing)||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=t.select("g");Lle(n,e.markers,e.type,e.diagramId),nqe(),sqe(),FVe(),rdt(),e.nodes.forEach(d=>{r.setNode(d.id,{...d}),d.parentId&&r.setParent(d.id,d.parentId)}),me.debug("Edges:",e.edges),e.edges.forEach(d=>{if(d.start===d.end){const p=d.start,g=p+"---"+p+"---1",m=p+"---"+p+"---2",y=r.node(p);r.setNode(g,{domId:g,id:g,parentId:y.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(g,y.parentId),r.setNode(m,{domId:m,id:m,parentId:y.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(m,y.parentId);const b=structuredClone(d),x=structuredClone(d),T=structuredClone(d);b.label="",b.arrowTypeEnd="none",b.id=p+"-cyclic-special-1",x.arrowTypeEnd="none",x.id=p+"-cyclic-special-mid",T.label="",y.isGroup&&(b.fromCluster=p,T.toCluster=p),T.id=p+"-cyclic-special-2",r.setEdge(p,g,b,p+"-cyclic-special-0"),r.setEdge(g,m,x,p+"-cyclic-special-1"),r.setEdge(m,p,T,p+"-cyc<lic-special-2")}else r.setEdge(d.start,d.end,{...d},d.id)}),me.warn("Graph at first:",JSON.stringify(Zc(r))),adt(r),me.warn("Graph after XAX:",JSON.stringify(Zc(r)));const a=De();await G0e(n,r,e.type,e.diagramId,void 0,a)},"render");const ldt=Object.freeze(Object.defineProperty({__proto__:null,render:odt},Symbol.toStringTag,{value:"Module"}));var OA=A((e,t)=>{const r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(const n in t.attrs)r.attr(n,t.attrs[n]);return t.class&&r.attr("class",t.class),r},"drawRect"),Y0e=A((e,t)=>{const r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};OA(e,r).lower()},"drawBackgroundRect"),cdt=A((e,t)=>{const r=t.text.replace(Tv," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);const a=n.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.text(r),n},"drawText"),udt=A((e,t,r,n)=>{const a=e.append("image");a.attr("x",t),a.attr("y",r);const o=bf(n);a.attr("xlink:href",o)},"drawImage"),hdt=A((e,t,r,n)=>{const a=e.append("use");a.attr("x",t),a.attr("y",r);const o=bf(n);a.attr("xlink:href",`#${o}`)},"drawEmbeddedImage"),Up=A(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),hD=A(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),IE=function(){var e=A(function(Ce,Ie,Le,ae){for(Le=Le||{},ae=Ce.length;ae--;Le[Ce[ae]]=Ie);return Le},"o"),t=[1,24],r=[1,25],n=[1,26],a=[1,27],o=[1,28],l=[1,63],c=[1,64],u=[1,65],h=[1,66],f=[1,67],d=[1,68],p=[1,69],g=[1,29],m=[1,30],y=[1,31],b=[1,32],x=[1,33],T=[1,34],w=[1,35],E=[1,36],S=[1,37],C=[1,38],k=[1,39],O=[1,40],I=[1,41],_=[1,42],R=[1,43],M=[1,44],$=[1,45],N=[1,46],P=[1,47],F=[1,48],L=[1,50],D=[1,51],B=[1,52],H=[1,53],U=[1,54],G=[1,55],W=[1,56],ee=[1,57],ce=[1,58],Z=[1,59],J=[1,60],oe=[14,42],Y=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],X=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],K=[1,82],z=[1,83],j=[1,84],te=[1,85],re=[12,14,42],Se=[12,14,33,42],ue=[12,14,33,42,76,77,79,80],se=[12,33],fe=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ye={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:A(function(Ie,Le,ae,q,ge,le,Te){var ne=le.length-1;switch(ge){case 3:q.setDirection("TB");break;case 4:q.setDirection("BT");break;case 5:q.setDirection("RL");break;case 6:q.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:q.setC4Type(le[ne-3]);break;case 19:q.setTitle(le[ne].substring(6)),this.$=le[ne].substring(6);break;case 20:q.setAccDescription(le[ne].substring(15)),this.$=le[ne].substring(15);break;case 21:this.$=le[ne].trim(),q.setTitle(this.$);break;case 22:case 23:this.$=le[ne].trim(),q.setAccDescription(this.$);break;case 28:le[ne].splice(2,0,"ENTERPRISE"),q.addPersonOrSystemBoundary(...le[ne]),this.$=le[ne];break;case 29:le[ne].splice(2,0,"SYSTEM"),q.addPersonOrSystemBoundary(...le[ne]),this.$=le[ne];break;case 30:q.addPersonOrSystemBoundary(...le[ne]),this.$=le[ne];break;case 31:le[ne].splice(2,0,"CONTAINER"),q.addContainerBoundary(...le[ne]),this.$=le[ne];break;case 32:q.addDeploymentNode("node",...le[ne]),this.$=le[ne];break;case 33:q.addDeploymentNode("nodeL",...le[ne]),this.$=le[ne];break;case 34:q.addDeploymentNode("nodeR",...le[ne]),this.$=le[ne];break;case 35:q.popBoundaryParseStack();break;case 39:q.addPersonOrSystem("person",...le[ne]),this.$=le[ne];break;case 40:q.addPersonOrSystem("external_person",...le[ne]),this.$=le[ne];break;case 41:q.addPersonOrSystem("system",...le[ne]),this.$=le[ne];break;case 42:q.addPersonOrSystem("system_db",...le[ne]),this.$=le[ne];break;case 43:q.addPersonOrSystem("system_queue",...le[ne]),this.$=le[ne];break;case 44:q.addPersonOrSystem("external_system",...le[ne]),this.$=le[ne];break;case 45:q.addPersonOrSystem("external_system_db",...le[ne]),this.$=le[ne];break;case 46:q.addPersonOrSystem("external_system_queue",...le[ne]),this.$=le[ne];break;case 47:q.addContainer("container",...le[ne]),this.$=le[ne];break;case 48:q.addContainer("container_db",...le[ne]),this.$=le[ne];break;case 49:q.addContainer("container_queue",...le[ne]),this.$=le[ne];break;case 50:q.addContainer("external_container",...le[ne]),this.$=le[ne];break;case 51:q.addContainer("external_container_db",...le[ne]),this.$=le[ne];break;case 52:q.addContainer("external_container_queue",...le[ne]),this.$=le[ne];break;case 53:q.addComponent("component",...le[ne]),this.$=le[ne];break;case 54:q.addComponent("component_db",...le[ne]),this.$=le[ne];break;case 55:q.addComponent("component_queue",...le[ne]),this.$=le[ne];break;case 56:q.addComponent("external_component",...le[ne]),this.$=le[ne];break;case 57:q.addComponent("external_component_db",...le[ne]),this.$=le[ne];break;case 58:q.addComponent("external_component_queue",...le[ne]),this.$=le[ne];break;case 60:q.addRel("rel",...le[ne]),this.$=le[ne];break;case 61:q.addRel("birel",...le[ne]),this.$=le[ne];break;case 62:q.addRel("rel_u",...le[ne]),this.$=le[ne];break;case 63:q.addRel("rel_d",...le[ne]),this.$=le[ne];break;case 64:q.addRel("rel_l",...le[ne]),this.$=le[ne];break;case 65:q.addRel("rel_r",...le[ne]),this.$=le[ne];break;case 66:q.addRel("rel_b",...le[ne]),this.$=le[ne];break;case 67:le[ne].splice(0,1),q.addRel("rel",...le[ne]),this.$=le[ne];break;case 68:q.updateElStyle("update_el_style",...le[ne]),this.$=le[ne];break;case 69:q.updateRelStyle("update_rel_style",...le[ne]),this.$=le[ne];break;case 70:q.updateLayoutConfig("update_layout_config",...le[ne]),this.$=le[ne];break;case 71:this.$=[le[ne]];break;case 72:le[ne].unshift(le[ne-1]),this.$=le[ne];break;case 73:case 75:this.$=le[ne].trim();break;case 74:let Re={};Re[le[ne-1].trim()]=le[ne].trim(),this.$=Re;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:o,29:49,30:61,32:62,34:l,36:c,37:u,38:h,39:f,40:d,41:p,43:23,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:o,29:49,30:61,32:62,34:l,36:c,37:u,38:h,39:f,40:d,41:p,43:23,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:o,29:49,30:61,32:62,34:l,36:c,37:u,38:h,39:f,40:d,41:p,43:23,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:o,29:49,30:61,32:62,34:l,36:c,37:u,38:h,39:f,40:d,41:p,43:23,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:a,28:o,29:49,30:61,32:62,34:l,36:c,37:u,38:h,39:f,40:d,41:p,43:23,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J},{14:[1,74]},e(oe,[2,13],{43:23,29:49,30:61,32:62,20:75,34:l,36:c,37:u,38:h,39:f,40:d,41:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J}),e(oe,[2,14]),e(Y,[2,16],{12:[1,76]}),e(oe,[2,36],{12:[1,77]}),e(X,[2,19]),e(X,[2,20]),{25:[1,78]},{27:[1,79]},e(X,[2,23]),{35:80,75:81,76:K,77:z,79:j,80:te},{35:86,75:81,76:K,77:z,79:j,80:te},{35:87,75:81,76:K,77:z,79:j,80:te},{35:88,75:81,76:K,77:z,79:j,80:te},{35:89,75:81,76:K,77:z,79:j,80:te},{35:90,75:81,76:K,77:z,79:j,80:te},{35:91,75:81,76:K,77:z,79:j,80:te},{35:92,75:81,76:K,77:z,79:j,80:te},{35:93,75:81,76:K,77:z,79:j,80:te},{35:94,75:81,76:K,77:z,79:j,80:te},{35:95,75:81,76:K,77:z,79:j,80:te},{35:96,75:81,76:K,77:z,79:j,80:te},{35:97,75:81,76:K,77:z,79:j,80:te},{35:98,75:81,76:K,77:z,79:j,80:te},{35:99,75:81,76:K,77:z,79:j,80:te},{35:100,75:81,76:K,77:z,79:j,80:te},{35:101,75:81,76:K,77:z,79:j,80:te},{35:102,75:81,76:K,77:z,79:j,80:te},{35:103,75:81,76:K,77:z,79:j,80:te},{35:104,75:81,76:K,77:z,79:j,80:te},e(re,[2,59]),{35:105,75:81,76:K,77:z,79:j,80:te},{35:106,75:81,76:K,77:z,79:j,80:te},{35:107,75:81,76:K,77:z,79:j,80:te},{35:108,75:81,76:K,77:z,79:j,80:te},{35:109,75:81,76:K,77:z,79:j,80:te},{35:110,75:81,76:K,77:z,79:j,80:te},{35:111,75:81,76:K,77:z,79:j,80:te},{35:112,75:81,76:K,77:z,79:j,80:te},{35:113,75:81,76:K,77:z,79:j,80:te},{35:114,75:81,76:K,77:z,79:j,80:te},{35:115,75:81,76:K,77:z,79:j,80:te},{20:116,29:49,30:61,32:62,34:l,36:c,37:u,38:h,39:f,40:d,41:p,43:23,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J},{12:[1,118],33:[1,117]},{35:119,75:81,76:K,77:z,79:j,80:te},{35:120,75:81,76:K,77:z,79:j,80:te},{35:121,75:81,76:K,77:z,79:j,80:te},{35:122,75:81,76:K,77:z,79:j,80:te},{35:123,75:81,76:K,77:z,79:j,80:te},{35:124,75:81,76:K,77:z,79:j,80:te},{35:125,75:81,76:K,77:z,79:j,80:te},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(oe,[2,15]),e(Y,[2,17],{21:22,19:130,22:t,23:r,24:n,26:a,28:o}),e(oe,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:a,28:o,34:l,36:c,37:u,38:h,39:f,40:d,41:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w,51:E,52:S,53:C,54:k,55:O,56:I,57:_,58:R,59:M,60:$,61:N,62:P,63:F,64:L,65:D,66:B,67:H,68:U,69:G,70:W,71:ee,72:ce,73:Z,74:J}),e(X,[2,21]),e(X,[2,22]),e(re,[2,39]),e(Se,[2,71],{75:81,35:132,76:K,77:z,79:j,80:te}),e(ue,[2,73]),{78:[1,133]},e(ue,[2,75]),e(ue,[2,76]),e(re,[2,40]),e(re,[2,41]),e(re,[2,42]),e(re,[2,43]),e(re,[2,44]),e(re,[2,45]),e(re,[2,46]),e(re,[2,47]),e(re,[2,48]),e(re,[2,49]),e(re,[2,50]),e(re,[2,51]),e(re,[2,52]),e(re,[2,53]),e(re,[2,54]),e(re,[2,55]),e(re,[2,56]),e(re,[2,57]),e(re,[2,58]),e(re,[2,60]),e(re,[2,61]),e(re,[2,62]),e(re,[2,63]),e(re,[2,64]),e(re,[2,65]),e(re,[2,66]),e(re,[2,67]),e(re,[2,68]),e(re,[2,69]),e(re,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(se,[2,28]),e(se,[2,29]),e(se,[2,30]),e(se,[2,31]),e(se,[2,32]),e(se,[2,33]),e(se,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(Y,[2,18]),e(oe,[2,38]),e(Se,[2,72]),e(ue,[2,74]),e(re,[2,24]),e(re,[2,35]),e(fe,[2,25]),e(fe,[2,26],{12:[1,138]}),e(fe,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:A(function(Ie,Le){if(Le.recoverable)this.trace(Ie);else{var ae=new Error(Ie);throw ae.hash=Le,ae}},"parseError"),parse:A(function(Ie){var Le=this,ae=[0],q=[],ge=[null],le=[],Te=this.table,ne="",Re=0,ie=0,pe=2,xe=1,ve=le.slice.call(arguments,1),Ee=Object.create(this.lexer),ke={yy:{}};for(var Pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Pe)&&(ke.yy[Pe]=this.yy[Pe]);Ee.setInput(Ie,ke.yy),ke.yy.lexer=Ee,ke.yy.parser=this,typeof Ee.yylloc>"u"&&(Ee.yylloc={});var Oe=Ee.yylloc;le.push(Oe);var Ye=Ee.options&&Ee.options.ranges;typeof ke.yy.parseError=="function"?this.parseError=ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Je(pt){ae.length=ae.length-2*pt,ge.length=ge.length-pt,le.length=le.length-pt}A(Je,"popStack");function Ct(){var pt;return pt=q.pop()||Ee.lex()||xe,typeof pt!="number"&&(pt instanceof Array&&(q=pt,pt=q.pop()),pt=Le.symbols_[pt]||pt),pt}A(Ct,"lex");for(var dt,ct,qe,je,ht={},Ke,it,Pt,at;;){if(ct=ae[ae.length-1],this.defaultActions[ct]?qe=this.defaultActions[ct]:((dt===null||typeof dt>"u")&&(dt=Ct()),qe=Te[ct]&&Te[ct][dt]),typeof qe>"u"||!qe.length||!qe[0]){var Qe="";at=[];for(Ke in Te[ct])this.terminals_[Ke]&&Ke>pe&&at.push("'"+this.terminals_[Ke]+"'");Ee.showPosition?Qe="Parse error on line "+(Re+1)+`:
`+Ee.showPosition()+`
Expecting `+at.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":Qe="Parse error on line "+(Re+1)+": Unexpected "+(dt==xe?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(Qe,{text:Ee.match,token:this.terminals_[dt]||dt,line:Ee.yylineno,loc:Oe,expected:at})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ct+", token: "+dt);switch(qe[0]){case 1:ae.push(dt),ge.push(Ee.yytext),le.push(Ee.yylloc),ae.push(qe[1]),dt=null,ie=Ee.yyleng,ne=Ee.yytext,Re=Ee.yylineno,Oe=Ee.yylloc;break;case 2:if(it=this.productions_[qe[1]][1],ht.$=ge[ge.length-it],ht._$={first_line:le[le.length-(it||1)].first_line,last_line:le[le.length-1].last_line,first_column:le[le.length-(it||1)].first_column,last_column:le[le.length-1].last_column},Ye&&(ht._$.range=[le[le.length-(it||1)].range[0],le[le.length-1].range[1]]),je=this.performAction.apply(ht,[ne,ie,Re,ke.yy,qe[1],ge,le].concat(ve)),typeof je<"u")return je;it&&(ae=ae.slice(0,-1*it*2),ge=ge.slice(0,-1*it),le=le.slice(0,-1*it)),ae.push(this.productions_[qe[1]][0]),ge.push(ht.$),le.push(ht._$),Pt=Te[ae[ae.length-2]][ae[ae.length-1]],ae.push(Pt);break;case 3:return!0}}return!0},"parse")},he=function(){var Ce={EOF:1,parseError:A(function(Le,ae){if(this.yy.parser)this.yy.parser.parseError(Le,ae);else throw new Error(Le)},"parseError"),setInput:A(function(Ie,Le){return this.yy=Le||this.yy||{},this._input=Ie,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var Ie=this._input[0];this.yytext+=Ie,this.yyleng++,this.offset++,this.match+=Ie,this.matched+=Ie;var Le=Ie.match(/(?:\r\n?|\n).*/g);return Le?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ie},"input"),unput:A(function(Ie){var Le=Ie.length,ae=Ie.split(/(?:\r\n?|\n)/g);this._input=Ie+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Le),this.offset-=Le;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ae.length-1&&(this.yylineno-=ae.length-1);var ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ae?(ae.length===q.length?this.yylloc.first_column:0)+q[q.length-ae.length].length-ae[0].length:this.yylloc.first_column-Le},this.options.ranges&&(this.yylloc.range=[ge[0],ge[0]+this.yyleng-Le]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(Ie){this.unput(this.match.slice(Ie))},"less"),pastInput:A(function(){var Ie=this.matched.substr(0,this.matched.length-this.match.length);return(Ie.length>20?"...":"")+Ie.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var Ie=this.match;return Ie.length<20&&(Ie+=this._input.substr(0,20-Ie.length)),(Ie.substr(0,20)+(Ie.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var Ie=this.pastInput(),Le=new Array(Ie.length+1).join("-");return Ie+this.upcomingInput()+`
`+Le+"^"},"showPosition"),test_match:A(function(Ie,Le){var ae,q,ge;if(this.options.backtrack_lexer&&(ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ge.yylloc.range=this.yylloc.range.slice(0))),q=Ie[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ie[0].length},this.yytext+=Ie[0],this.match+=Ie[0],this.matches=Ie,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ie[0].length),this.matched+=Ie[0],ae=this.performAction.call(this,this.yy,this,Le,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ae)return ae;if(this._backtrack){for(var le in ge)this[le]=ge[le];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ie,Le,ae,q;this._more||(this.yytext="",this.match="");for(var ge=this._currentRules(),le=0;le<ge.length;le++)if(ae=this._input.match(this.rules[ge[le]]),ae&&(!Le||ae[0].length>Le[0].length)){if(Le=ae,q=le,this.options.backtrack_lexer){if(Ie=this.test_match(ae,ge[le]),Ie!==!1)return Ie;if(this._backtrack){Le=!1;continue}else return!1}else if(!this.options.flex)break}return Le?(Ie=this.test_match(Le,ge[q]),Ie!==!1?Ie:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var Le=this.next();return Le||this.lex()},"lex"),begin:A(function(Le){this.conditionStack.push(Le)},"begin"),popState:A(function(){var Le=this.conditionStack.length-1;return Le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(Le){return Le=this.conditionStack.length-1-Math.abs(Le||0),Le>=0?this.conditionStack[Le]:"INITIAL"},"topState"),pushState:A(function(Le){this.begin(Le)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:A(function(Le,ae,q,ge){switch(q){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Ce}();ye.lexer=he;function Ae(){this.yy={}}return A(Ae,"Parser"),Ae.prototype=ye,ye.Parser=Ae,new Ae}();IE.parser=IE;var fdt=IE,yc=[],F0=[""],Cs="global",cc="",gu=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],tx=[],fD="",dD=!1,RE=4,OE=2,V0e,ddt=A(function(){return V0e},"getC4Type"),pdt=A(function(e){V0e=sn(e,De())},"setC4Type"),gdt=A(function(e,t,r,n,a,o,l,c,u){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let h={};const f=tx.find(d=>d.from===t&&d.to===r);if(f?h=f:tx.push(h),h.type=e,h.from=t,h.to=r,h.label={text:n},a==null)h.techn={text:""};else if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]={text:p}}else h.techn={text:a};if(o==null)h.descr={text:""};else if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]={text:p}}else h.descr={text:o};if(typeof l=="object"){let[d,p]=Object.entries(l)[0];h[d]=p}else h.sprite=l;if(typeof c=="object"){let[d,p]=Object.entries(c)[0];h[d]=p}else h.tags=c;if(typeof u=="object"){let[d,p]=Object.entries(u)[0];h[d]=p}else h.link=u;h.wrap=Cf()},"addRel"),mdt=A(function(e,t,r,n,a,o,l){if(t===null||r===null)return;let c={};const u=yc.find(h=>h.alias===t);if(u&&t===u.alias?c=u:(c.alias=t,yc.push(c)),r==null?c.label={text:""}:c.label={text:r},n==null)c.descr={text:""};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];c[h]={text:f}}else c.descr={text:n};if(typeof a=="object"){let[h,f]=Object.entries(a)[0];c[h]=f}else c.sprite=a;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];c[h]=f}else c.tags=o;if(typeof l=="object"){let[h,f]=Object.entries(l)[0];c[h]=f}else c.link=l;c.typeC4Shape={text:e},c.parentBoundary=Cs,c.wrap=Cf()},"addPersonOrSystem"),vdt=A(function(e,t,r,n,a,o,l,c){if(t===null||r===null)return;let u={};const h=yc.find(f=>f.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,yc.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[f,d]=Object.entries(n)[0];u[f]={text:d}}else u.techn={text:n};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[f,d]=Object.entries(a)[0];u[f]={text:d}}else u.descr={text:a};if(typeof o=="object"){let[f,d]=Object.entries(o)[0];u[f]=d}else u.sprite=o;if(typeof l=="object"){let[f,d]=Object.entries(l)[0];u[f]=d}else u.tags=l;if(typeof c=="object"){let[f,d]=Object.entries(c)[0];u[f]=d}else u.link=c;u.wrap=Cf(),u.typeC4Shape={text:e},u.parentBoundary=Cs},"addContainer"),ydt=A(function(e,t,r,n,a,o,l,c){if(t===null||r===null)return;let u={};const h=yc.find(f=>f.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,yc.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[f,d]=Object.entries(n)[0];u[f]={text:d}}else u.techn={text:n};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[f,d]=Object.entries(a)[0];u[f]={text:d}}else u.descr={text:a};if(typeof o=="object"){let[f,d]=Object.entries(o)[0];u[f]=d}else u.sprite=o;if(typeof l=="object"){let[f,d]=Object.entries(l)[0];u[f]=d}else u.tags=l;if(typeof c=="object"){let[f,d]=Object.entries(c)[0];u[f]=d}else u.link=c;u.wrap=Cf(),u.typeC4Shape={text:e},u.parentBoundary=Cs},"addComponent"),bdt=A(function(e,t,r,n,a){if(e===null||t===null)return;let o={};const l=gu.find(c=>c.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,gu.push(o)),t==null?o.label={text:""}:o.label={text:t},r==null)o.type={text:"system"};else if(typeof r=="object"){let[c,u]=Object.entries(r)[0];o[c]={text:u}}else o.type={text:r};if(typeof n=="object"){let[c,u]=Object.entries(n)[0];o[c]=u}else o.tags=n;if(typeof a=="object"){let[c,u]=Object.entries(a)[0];o[c]=u}else o.link=a;o.parentBoundary=Cs,o.wrap=Cf(),cc=Cs,Cs=e,F0.push(cc)},"addPersonOrSystemBoundary"),xdt=A(function(e,t,r,n,a){if(e===null||t===null)return;let o={};const l=gu.find(c=>c.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,gu.push(o)),t==null?o.label={text:""}:o.label={text:t},r==null)o.type={text:"container"};else if(typeof r=="object"){let[c,u]=Object.entries(r)[0];o[c]={text:u}}else o.type={text:r};if(typeof n=="object"){let[c,u]=Object.entries(n)[0];o[c]=u}else o.tags=n;if(typeof a=="object"){let[c,u]=Object.entries(a)[0];o[c]=u}else o.link=a;o.parentBoundary=Cs,o.wrap=Cf(),cc=Cs,Cs=e,F0.push(cc)},"addContainerBoundary"),Tdt=A(function(e,t,r,n,a,o,l,c){if(t===null||r===null)return;let u={};const h=gu.find(f=>f.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,gu.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.type={text:"node"};else if(typeof n=="object"){let[f,d]=Object.entries(n)[0];u[f]={text:d}}else u.type={text:n};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[f,d]=Object.entries(a)[0];u[f]={text:d}}else u.descr={text:a};if(typeof l=="object"){let[f,d]=Object.entries(l)[0];u[f]=d}else u.tags=l;if(typeof c=="object"){let[f,d]=Object.entries(c)[0];u[f]=d}else u.link=c;u.nodeType=e,u.parentBoundary=Cs,u.wrap=Cf(),cc=Cs,Cs=t,F0.push(cc)},"addDeploymentNode"),wdt=A(function(){Cs=cc,F0.pop(),cc=F0.pop(),F0.push(cc)},"popBoundaryParseStack"),Edt=A(function(e,t,r,n,a,o,l,c,u,h,f){let d=yc.find(p=>p.alias===t);if(!(d===void 0&&(d=gu.find(p=>p.alias===t),d===void 0))){if(r!=null)if(typeof r=="object"){let[p,g]=Object.entries(r)[0];d[p]=g}else d.bgColor=r;if(n!=null)if(typeof n=="object"){let[p,g]=Object.entries(n)[0];d[p]=g}else d.fontColor=n;if(a!=null)if(typeof a=="object"){let[p,g]=Object.entries(a)[0];d[p]=g}else d.borderColor=a;if(o!=null)if(typeof o=="object"){let[p,g]=Object.entries(o)[0];d[p]=g}else d.shadowing=o;if(l!=null)if(typeof l=="object"){let[p,g]=Object.entries(l)[0];d[p]=g}else d.shape=l;if(c!=null)if(typeof c=="object"){let[p,g]=Object.entries(c)[0];d[p]=g}else d.sprite=c;if(u!=null)if(typeof u=="object"){let[p,g]=Object.entries(u)[0];d[p]=g}else d.techn=u;if(h!=null)if(typeof h=="object"){let[p,g]=Object.entries(h)[0];d[p]=g}else d.legendText=h;if(f!=null)if(typeof f=="object"){let[p,g]=Object.entries(f)[0];d[p]=g}else d.legendSprite=f}},"updateElStyle"),Sdt=A(function(e,t,r,n,a,o,l){const c=tx.find(u=>u.from===t&&u.to===r);if(c!==void 0){if(n!=null)if(typeof n=="object"){let[u,h]=Object.entries(n)[0];c[u]=h}else c.textColor=n;if(a!=null)if(typeof a=="object"){let[u,h]=Object.entries(a)[0];c[u]=h}else c.lineColor=a;if(o!=null)if(typeof o=="object"){let[u,h]=Object.entries(o)[0];c[u]=parseInt(h)}else c.offsetX=parseInt(o);if(l!=null)if(typeof l=="object"){let[u,h]=Object.entries(l)[0];c[u]=parseInt(h)}else c.offsetY=parseInt(l)}},"updateRelStyle"),Adt=A(function(e,t,r){let n=RE,a=OE;if(typeof t=="object"){const o=Object.values(t)[0];n=parseInt(o)}else n=parseInt(t);if(typeof r=="object"){const o=Object.values(r)[0];a=parseInt(o)}else a=parseInt(r);n>=1&&(RE=n),a>=1&&(OE=a)},"updateLayoutConfig"),kdt=A(function(){return RE},"getC4ShapeInRow"),Cdt=A(function(){return OE},"getC4BoundaryInRow"),Idt=A(function(){return Cs},"getCurrentBoundaryParse"),Rdt=A(function(){return cc},"getParentBoundaryParse"),q0e=A(function(e){return e==null?yc:yc.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),Odt=A(function(e){return yc.find(t=>t.alias===e)},"getC4Shape"),_dt=A(function(e){return Object.keys(q0e(e))},"getC4ShapeKeys"),j0e=A(function(e){return e==null?gu:gu.filter(t=>t.parentBoundary===e)},"getBoundaries"),Ndt=j0e,Ldt=A(function(){return tx},"getRels"),Mdt=A(function(){return fD},"getTitle"),Ddt=A(function(e){dD=e},"setWrap"),Cf=A(function(){return dD},"autoWrap"),Pdt=A(function(){yc=[],gu=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],cc="",Cs="global",F0=[""],tx=[],F0=[""],fD="",dD=!1,RE=4,OE=2},"clear"),Fdt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},Bdt={FILLED:0,OPEN:1},$dt={LEFTOF:0,RIGHTOF:1,OVER:2},Hdt=A(function(e){fD=sn(e,De())},"setTitle"),kO={addPersonOrSystem:mdt,addPersonOrSystemBoundary:bdt,addContainer:vdt,addContainerBoundary:xdt,addComponent:ydt,addDeploymentNode:Tdt,popBoundaryParseStack:wdt,addRel:gdt,updateElStyle:Edt,updateRelStyle:Sdt,updateLayoutConfig:Adt,autoWrap:Cf,setWrap:Ddt,getC4ShapeArray:q0e,getC4Shape:Odt,getC4ShapeKeys:_dt,getBoundaries:j0e,getBoundarys:Ndt,getCurrentBoundaryParse:Idt,getParentBoundaryParse:Rdt,getRels:Ldt,getTitle:Mdt,getC4Type:ddt,getC4ShapeInRow:kdt,getC4BoundaryInRow:Cdt,setAccTitle:ua,getAccTitle:Ia,getAccDescription:Oa,setAccDescription:Ra,getConfig:A(()=>De().c4,"getConfig"),clear:Pdt,LINETYPE:Fdt,ARROWTYPE:Bdt,PLACEMENT:$dt,setTitle:Hdt,setC4Type:pdt},pD=A(function(e,t){return OA(e,t)},"drawRect"),X0e=A(function(e,t,r,n,a,o){const l=e.append("image");l.attr("width",t),l.attr("height",r),l.attr("x",n),l.attr("y",a);let c=o.startsWith("data:image/png;base64")?o:bf(o);l.attr("xlink:href",c)},"drawImage"),Udt=A((e,t,r)=>{const n=e.append("g");let a=0;for(let o of t){let l=o.textColor?o.textColor:"#444444",c=o.lineColor?o.lineColor:"#444444",u=o.offsetX?parseInt(o.offsetX):0,h=o.offsetY?parseInt(o.offsetY):0,f="";if(a===0){let p=n.append("line");p.attr("x1",o.startPoint.x),p.attr("y1",o.startPoint.y),p.attr("x2",o.endPoint.x),p.attr("y2",o.endPoint.y),p.attr("stroke-width","1"),p.attr("stroke",c),p.style("fill","none"),o.type!=="rel_b"&&p.attr("marker-end","url("+f+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&p.attr("marker-start","url("+f+"#arrowend)"),a=-1}else{let p=n.append("path");p.attr("fill","none").attr("stroke-width","1").attr("stroke",c).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",o.startPoint.x).replaceAll("starty",o.startPoint.y).replaceAll("controlx",o.startPoint.x+(o.endPoint.x-o.startPoint.x)/2-(o.endPoint.x-o.startPoint.x)/4).replaceAll("controly",o.startPoint.y+(o.endPoint.y-o.startPoint.y)/2).replaceAll("stopx",o.endPoint.x).replaceAll("stopy",o.endPoint.y)),o.type!=="rel_b"&&p.attr("marker-end","url("+f+"#arrowhead)"),(o.type==="birel"||o.type==="rel_b")&&p.attr("marker-start","url("+f+"#arrowend)")}let d=r.messageFont();sh(r)(o.label.text,n,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+u,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+h,o.label.width,o.label.height,{fill:l},d),o.techn&&o.techn.text!==""&&(d=r.messageFont(),sh(r)("["+o.techn.text+"]",n,Math.min(o.startPoint.x,o.endPoint.x)+Math.abs(o.endPoint.x-o.startPoint.x)/2+u,Math.min(o.startPoint.y,o.endPoint.y)+Math.abs(o.endPoint.y-o.startPoint.y)/2+r.messageFontSize+5+h,Math.max(o.label.width,o.techn.width),o.techn.height,{fill:l,"font-style":"italic"},d))}},"drawRels"),Wdt=A(function(e,t,r){const n=e.append("g");let a=t.bgColor?t.bgColor:"none",o=t.borderColor?t.borderColor:"#444444",l=t.fontColor?t.fontColor:"black",c={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(c={"stroke-width":1});let u={x:t.x,y:t.y,fill:a,stroke:o,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:c};pD(n,u);let h=r.boundaryFont();h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=l,sh(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},h),t.type&&t.type.text!==""&&(h=r.boundaryFont(),h.fontColor=l,sh(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},h)),t.descr&&t.descr.text!==""&&(h=r.boundaryFont(),h.fontSize=h.fontSize-2,h.fontColor=l,sh(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},h))},"drawBoundary"),zdt=A(function(e,t,r){var d;let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],a=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],o=t.fontColor?t.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const c=e.append("g");c.attr("class","person-man");const u=Up();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=n,u.width=t.width,u.height=t.height,u.stroke=a,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},pD(c,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":c.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),c.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":c.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),c.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let h=Qdt(r,t.typeC4Shape.text);switch(c.append("text").attr("fill",o).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":X0e(c,48,48,t.x+t.width/2-24,t.y+t.image.Y,l);break}let f=r[t.typeC4Shape.text+"Font"]();return f.fontWeight="bold",f.fontSize=f.fontSize+2,f.fontColor=o,sh(r)(t.label.text,c,t.x,t.y+t.label.Y,t.width,t.height,{fill:o},f),f=r[t.typeC4Shape.text+"Font"](),f.fontColor=o,t.techn&&((d=t.techn)==null?void 0:d.text)!==""?sh(r)(t.techn.text,c,t.x,t.y+t.techn.Y,t.width,t.height,{fill:o,"font-style":"italic"},f):t.type&&t.type.text!==""&&sh(r)(t.type.text,c,t.x,t.y+t.type.Y,t.width,t.height,{fill:o,"font-style":"italic"},f),t.descr&&t.descr.text!==""&&(f=r.personFont(),f.fontColor=o,sh(r)(t.descr.text,c,t.x,t.y+t.descr.Y,t.width,t.height,{fill:o},f)),t.height},"drawC4Shape"),Gdt=A(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Ydt=A(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Vdt=A(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),qdt=A(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),jdt=A(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Xdt=A(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Kdt=A(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),Zdt=A(function(e){const r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Qdt=A((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),sh=function(){function e(a,o,l,c,u,h,f){const d=o.append("text").attr("x",l+u/2).attr("y",c+h/2+5).style("text-anchor","middle").text(a);n(d,f)}A(e,"byText");function t(a,o,l,c,u,h,f,d){const{fontSize:p,fontFamily:g,fontWeight:m}=d,y=a.split(st.lineBreakRegex);for(let b=0;b<y.length;b++){const x=b*p-p*(y.length-1)/2,T=o.append("text").attr("x",l+u/2).attr("y",c).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",p).style("font-weight",m).style("font-family",g);T.append("tspan").attr("dy",x).text(y[b]).attr("alignment-baseline","mathematical"),n(T,f)}}A(t,"byTspan");function r(a,o,l,c,u,h,f,d){const p=o.append("switch"),m=p.append("foreignObject").attr("x",l).attr("y",c).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,p,l,c,u,h,f,d),n(m,f)}A(r,"byFo");function n(a,o){for(const l in o)o.hasOwnProperty(l)&&a.attr(l,o[l])}return A(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),Uc={drawRect:pD,drawBoundary:Wdt,drawC4Shape:zdt,drawRels:Udt,drawImage:X0e,insertArrowHead:qdt,insertArrowEnd:jdt,insertArrowFilledHead:Xdt,insertDynamicNumber:Kdt,insertArrowCrossHead:Zdt,insertDatabaseIcon:Gdt,insertComputerIcon:Ydt,insertClockIcon:Vdt},_E=0,NE=0,K0e=4,CO=2;IE.yy=kO;var Mt={},Mg,Z0e=(Mg=class{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,IO(t.db.getConfig())}setData(t,r,n,a){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=a}updateVal(t,r,n,a){t[r]===void 0?t[r]=n:t[r]=a(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,a=this.nextData.starty+t.margin*2,o=a+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>K0e)&&(r=this.nextData.startx+t.margin+Mt.nextLinePaddingX,a=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=a+t.height,this.nextData.cnt=1),t.x=r,t.y=a,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",a,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",a,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},IO(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},A(Mg,"Bounds"),Mg),IO=A(function(e){Ui(Mt,e),e.fontFamily&&(Mt.personFontFamily=Mt.systemFontFamily=Mt.messageFontFamily=e.fontFamily),e.fontSize&&(Mt.personFontSize=Mt.systemFontSize=Mt.messageFontSize=e.fontSize),e.fontWeight&&(Mt.personFontWeight=Mt.systemFontWeight=Mt.messageFontWeight=e.fontWeight)},"setConf"),Uy=A((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),kw=A(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),Jdt=A(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");function dl(e,t,r,n,a){if(!t[e].width)if(r)t[e].text=Lse(t[e].text,a,n),t[e].textLines=t[e].text.split(st.lineBreakRegex).length,t[e].width=a,t[e].height=oE(t[e].text,n);else{let o=t[e].text.split(st.lineBreakRegex);t[e].textLines=o.length;let l=0;t[e].height=0,t[e].width=0;for(const c of o)t[e].width=Math.max(vl(c,n),t[e].width),l=oE(c,n),t[e].height=t[e].height+l}}A(dl,"calcC4ShapeTextWH");var Q0e=A(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Mt.c4ShapeMargin-35;let n=t.wrap&&Mt.wrap,a=kw(Mt);a.fontSize=a.fontSize+2,a.fontWeight="bold";let o=vl(t.label.text,a);dl("label",t,n,a,o),Uc.drawBoundary(e,t,Mt)},"drawBoundary"),J0e=A(function(e,t,r,n){let a=0;for(const o of n){a=0;const l=r[o];let c=Uy(Mt,l.typeC4Shape.text);switch(c.fontSize=c.fontSize-2,l.typeC4Shape.width=vl("«"+l.typeC4Shape.text+"»",c),l.typeC4Shape.height=c.fontSize+2,l.typeC4Shape.Y=Mt.c4ShapePadding,a=l.typeC4Shape.Y+l.typeC4Shape.height-4,l.image={width:0,height:0,Y:0},l.typeC4Shape.text){case"person":case"external_person":l.image.width=48,l.image.height=48,l.image.Y=a,a=l.image.Y+l.image.height;break}l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=a,a=l.image.Y+l.image.height);let u=l.wrap&&Mt.wrap,h=Mt.width-Mt.c4ShapePadding*2,f=Uy(Mt,l.typeC4Shape.text);if(f.fontSize=f.fontSize+2,f.fontWeight="bold",dl("label",l,u,f,h),l.label.Y=a+8,a=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let g=Uy(Mt,l.typeC4Shape.text);dl("type",l,u,g,h),l.type.Y=a+5,a=l.type.Y+l.type.height}else if(l.techn&&l.techn.text!==""){l.techn.text="["+l.techn.text+"]";let g=Uy(Mt,l.techn.text);dl("techn",l,u,g,h),l.techn.Y=a+5,a=l.techn.Y+l.techn.height}let d=a,p=l.label.width;if(l.descr&&l.descr.text!==""){let g=Uy(Mt,l.typeC4Shape.text);dl("descr",l,u,g,h),l.descr.Y=a+20,a=l.descr.Y+l.descr.height,p=Math.max(l.label.width,l.descr.width),d=a-l.descr.textLines*5}p=p+Mt.c4ShapePadding,l.width=Math.max(l.width||Mt.width,p,Mt.width),l.height=Math.max(l.height||Mt.height,d,Mt.height),l.margin=l.margin||Mt.c4ShapeMargin,e.insert(l),Uc.drawC4Shape(t,l,Mt)}e.bumpLastMargin(Mt.c4ShapeMargin)},"drawC4ShapeArray"),Dg,el=(Dg=class{constructor(t,r){this.x=t,this.y=r}},A(Dg,"Point"),Dg),XY=A(function(e,t){let r=e.x,n=e.y,a=t.x,o=t.y,l=r+e.width/2,c=n+e.height/2,u=Math.abs(r-a),h=Math.abs(n-o),f=h/u,d=e.height/e.width,p=null;return n==o&&r<a?p=new el(r+e.width,c):n==o&&r>a?p=new el(r,c):r==a&&n<o?p=new el(l,n+e.height):r==a&&n>o&&(p=new el(l,n)),r>a&&n<o?d>=f?p=new el(r,c+f*e.width/2):p=new el(l-u/h*e.height/2,n+e.height):r<a&&n<o?d>=f?p=new el(r+e.width,c+f*e.width/2):p=new el(l+u/h*e.height/2,n+e.height):r<a&&n>o?d>=f?p=new el(r+e.width,c-f*e.width/2):p=new el(l+e.height/2*u/h,n):r>a&&n>o&&(d>=f?p=new el(r,c-e.width/2*f):p=new el(l-e.height/2*u/h,n)),p},"getIntersectPoint"),ept=A(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=XY(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let a=XY(t,r);return{startPoint:n,endPoint:a}},"getIntersectPoints"),tpt=A(function(e,t,r,n){let a=0;for(let o of t){a=a+1;let l=o.wrap&&Mt.wrap,c=Jdt(Mt);n.db.getC4Type()==="C4Dynamic"&&(o.label.text=a+": "+o.label.text);let h=vl(o.label.text,c);dl("label",o,l,c,h),o.techn&&o.techn.text!==""&&(h=vl(o.techn.text,c),dl("techn",o,l,c,h)),o.descr&&o.descr.text!==""&&(h=vl(o.descr.text,c),dl("descr",o,l,c,h));let f=r(o.from),d=r(o.to),p=ept(f,d);o.startPoint=p.startPoint,o.endPoint=p.endPoint}Uc.drawRels(e,t,Mt)},"drawRels");function gD(e,t,r,n,a){let o=new Z0e(a);o.data.widthLimit=r.data.widthLimit/Math.min(CO,n.length);for(let[l,c]of n.entries()){let u=0;c.image={width:0,height:0,Y:0},c.sprite&&(c.image.width=48,c.image.height=48,c.image.Y=u,u=c.image.Y+c.image.height);let h=c.wrap&&Mt.wrap,f=kw(Mt);if(f.fontSize=f.fontSize+2,f.fontWeight="bold",dl("label",c,h,f,o.data.widthLimit),c.label.Y=u+8,u=c.label.Y+c.label.height,c.type&&c.type.text!==""){c.type.text="["+c.type.text+"]";let m=kw(Mt);dl("type",c,h,m,o.data.widthLimit),c.type.Y=u+5,u=c.type.Y+c.type.height}if(c.descr&&c.descr.text!==""){let m=kw(Mt);m.fontSize=m.fontSize-2,dl("descr",c,h,m,o.data.widthLimit),c.descr.Y=u+20,u=c.descr.Y+c.descr.height}if(l==0||l%CO===0){let m=r.data.startx+Mt.diagramMarginX,y=r.data.stopy+Mt.diagramMarginY+u;o.setData(m,m,y,y)}else{let m=o.data.stopx!==o.data.startx?o.data.stopx+Mt.diagramMarginX:o.data.startx,y=o.data.starty;o.setData(m,m,y,y)}o.name=c.alias;let d=a.db.getC4ShapeArray(c.alias),p=a.db.getC4ShapeKeys(c.alias);p.length>0&&J0e(o,e,d,p),t=c.alias;let g=a.db.getBoundarys(t);g.length>0&&gD(e,t,o,g,a),c.alias!=="global"&&Q0e(e,c,o),r.data.stopy=Math.max(o.data.stopy+Mt.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(o.data.stopx+Mt.c4ShapeMargin,r.data.stopx),_E=Math.max(_E,r.data.stopx),NE=Math.max(NE,r.data.stopy)}}A(gD,"drawInsideBoundary");var rpt=A(function(e,t,r,n){Mt=De().c4;const a=De().securityLevel;let o;a==="sandbox"&&(o=nt("#i"+t));const l=nt(a==="sandbox"?o.nodes()[0].contentDocument.body:"body");let c=n.db;n.db.setWrap(Mt.wrap),K0e=c.getC4ShapeInRow(),CO=c.getC4BoundaryInRow(),me.debug(`C:${JSON.stringify(Mt,null,2)}`);const u=a==="sandbox"?l.select(`[id="${t}"]`):nt(`[id="${t}"]`);Uc.insertComputerIcon(u),Uc.insertDatabaseIcon(u),Uc.insertClockIcon(u);let h=new Z0e(n);h.setData(Mt.diagramMarginX,Mt.diagramMarginX,Mt.diagramMarginY,Mt.diagramMarginY),h.data.widthLimit=screen.availWidth,_E=Mt.diagramMarginX,NE=Mt.diagramMarginY;const f=n.db.getTitle();let d=n.db.getBoundarys("");gD(u,"",h,d,n),Uc.insertArrowHead(u),Uc.insertArrowEnd(u),Uc.insertArrowCrossHead(u),Uc.insertArrowFilledHead(u),tpt(u,n.db.getRels(),n.db.getC4Shape,n),h.data.stopx=_E,h.data.stopy=NE;const p=h.data;let m=p.stopy-p.starty+2*Mt.diagramMarginY;const b=p.stopx-p.startx+2*Mt.diagramMarginX;f&&u.append("text").text(f).attr("x",(p.stopx-p.startx)/2-4*Mt.diagramMarginX).attr("y",p.starty+Mt.diagramMarginY),is(u,m,b,Mt.useMaxWidth);const x=f?60:0;u.attr("viewBox",p.startx-Mt.diagramMarginX+" -"+(Mt.diagramMarginY+x)+" "+b+" "+(m+x)),me.debug("models:",p)},"draw"),KY={drawPersonOrSystemArray:J0e,drawBoundary:Q0e,setConf:IO,draw:rpt},npt=A(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),ipt=npt,apt={parser:fdt,db:kO,renderer:KY,styles:ipt,init:A(({c4:e,wrap:t})=>{KY.setConf(e),kO.setWrap(t)},"init")};const spt=Object.freeze(Object.defineProperty({__proto__:null,diagram:apt},Symbol.toStringTag,{value:"Module"}));var mD=A((e,t)=>{let r;return t==="sandbox"&&(r=nt("#i"+e)),nt(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement"),vD=A((e,t,r,n)=>{e.attr("class",r);const{width:a,height:o,x:l,y:c}=opt(e,t);is(e,o,a,n);const u=lpt(l,c,a,o,t);e.attr("viewBox",u),me.debug(`viewBox configured: ${u} with padding: ${t}`)},"setupViewPortForSVG"),opt=A((e,t)=>{var n;const r=((n=e.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),lpt=A((e,t,r,n,a)=>`${e-a} ${t-a} ${r} ${n}`,"createViewBox"),cpt="flowchart-",ZY=0,zm=De(),tf=new Map,Gs=[],rx=new Map,Oh=[],yD=new Map,bD=new Map,Cw=0,RO=!0,tl,_A,NA=[],LA=A(e=>st.sanitizeText(e,zm),"sanitizeText"),MA=A(function(e){for(const t of tf.values())if(t.id===e)return t.domId;return e},"lookUpDomId"),upt=A(function(e,t,r,n,a,o,l={},c){var f,d;if(!e||e.trim().length===0)return;let u,h=tf.get(e);if(h===void 0&&(h={id:e,labelType:"text",domId:cpt+e+"-"+ZY,styles:[],classes:[]},tf.set(e,h)),ZY++,t!==void 0?(zm=De(),u=LA(t.text.trim()),h.labelType=t.type,u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),h.text=u):h.text===void 0&&(h.text=e),r!==void 0&&(h.type=r),n!=null&&n.forEach(function(p){h.styles.push(p)}),a!=null&&a.forEach(function(p){h.classes.push(p)}),o!==void 0&&(h.dir=o),h.props===void 0?h.props=l:l!==void 0&&Object.assign(h.props,l),c!==void 0){let p;c.includes(`
`)?p=c+`
`:p=`{
`+c+`
}`;const g=pL(p,{schema:dL});if(g.shape){if(g.shape!==g.shape.toLowerCase()||g.shape.includes("_"))throw new Error(`No such shape: ${g.shape}. Shape names should be lowercase.`);if(!Cle(g.shape))throw new Error(`No such shape: ${g.shape}.`);h.type=g==null?void 0:g.shape}g!=null&&g.label&&(h.text=g==null?void 0:g.label),g!=null&&g.icon&&(h.icon=g==null?void 0:g.icon,!((f=g.label)!=null&&f.trim())&&h.text===e&&(h.text="")),g!=null&&g.form&&(h.form=g==null?void 0:g.form),g!=null&&g.pos&&(h.pos=g==null?void 0:g.pos),g!=null&&g.img&&(h.img=g==null?void 0:g.img,!((d=g.label)!=null&&d.trim())&&h.text===e&&(h.text="")),g!=null&&g.constraint&&(h.constraint=g.constraint),g.w&&(h.assetWidth=Number(g.w)),g.h&&(h.assetHeight=Number(g.h))}},"addVertex"),hpt=A(function(e,t,r){const o={start:e,end:t,type:void 0,text:"",labelType:"text"};me.info("abc78 Got edge...",o);const l=r.text;if(l!==void 0&&(o.text=LA(l.text.trim()),o.text.startsWith('"')&&o.text.endsWith('"')&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=l.type),r!==void 0&&(o.type=r.type,o.stroke=r.stroke,o.length=r.length>10?10:r.length),Gs.length<(zm.maxEdges??500))me.info("Pushing edge..."),Gs.push(o);else throw new Error(`Edge limit exceeded. ${Gs.length} edges found, but the limit is ${zm.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),fpt=A(function(e,t,r){me.info("addLink",e,t,r);for(const n of e)for(const a of t)hpt(n,a,r)},"addLink"),dpt=A(function(e,t){e.forEach(function(r){r==="default"?Gs.defaultInterpolate=t:Gs[r].interpolate=t})},"updateLinkInterpolate"),ppt=A(function(e,t){e.forEach(function(r){var n,a,o,l,c,u;if(typeof r=="number"&&r>=Gs.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Gs.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?Gs.defaultStyle=t:(Gs[r].style=t,(((a=(n=Gs[r])==null?void 0:n.style)==null?void 0:a.length)??0)>0&&!((l=(o=Gs[r])==null?void 0:o.style)!=null&&l.some(h=>h==null?void 0:h.startsWith("fill")))&&((u=(c=Gs[r])==null?void 0:c.style)==null||u.push("fill:none")))})},"updateLink"),gpt=A(function(e,t){e.split(",").forEach(function(r){let n=rx.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},rx.set(r,n)),t!=null&&t.forEach(function(a){if(/color/.exec(a)){const o=a.replace("fill","bgFill");n.textStyles.push(o)}n.styles.push(a)})})},"addClass"),mpt=A(function(e){tl=e,/.*</.exec(tl)&&(tl="RL"),/.*\^/.exec(tl)&&(tl="BT"),/.*>/.exec(tl)&&(tl="LR"),/.*v/.exec(tl)&&(tl="TB"),tl==="TD"&&(tl="TB")},"setDirection"),xD=A(function(e,t){for(const r of e.split(",")){const n=tf.get(r);n&&n.classes.push(t);const a=yD.get(r);a&&a.classes.push(t)}},"setClass"),vpt=A(function(e,t){if(t!==void 0){t=LA(t);for(const r of e.split(","))bD.set(_A==="gen-1"?MA(r):r,t)}},"setTooltip"),ypt=A(function(e,t,r){const n=MA(e);if(De().securityLevel!=="loose"||t===void 0)return;let a=[];if(typeof r=="string"){a=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<a.length;l++){let c=a[l].trim();c.startsWith('"')&&c.endsWith('"')&&(c=c.substr(1,c.length-2)),a[l]=c}}a.length===0&&a.push(e);const o=tf.get(e);o&&(o.haveCallback=!0,NA.push(function(){const l=document.querySelector(`[id="${n}"]`);l!==null&&l.addEventListener("click",function(){ur.runFunc(t,...a)},!1)}))},"setClickFun"),bpt=A(function(e,t,r){e.split(",").forEach(function(n){const a=tf.get(n);a!==void 0&&(a.link=ur.formatUrl(t,zm),a.linkTarget=r)}),xD(e,"clickable")},"setLink"),efe=A(function(e){return bD.get(e)},"getTooltip"),xpt=A(function(e,t,r){e.split(",").forEach(function(n){ypt(n,t,r)}),xD(e,"clickable")},"setClickEvent"),Tpt=A(function(e){NA.forEach(function(t){t(e)})},"bindFunctions"),tfe=A(function(){return tl.trim()},"getDirection"),rfe=A(function(){return tf},"getVertices"),nfe=A(function(){return Gs},"getEdges"),wpt=A(function(){return rx},"getClasses"),ife=A(function(e){let t=nt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=nt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),nt(e).select("svg").selectAll("g.node").on("mouseover",function(){const a=nt(this);if(a.attr("title")===null)return;const l=this==null?void 0:this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(a.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),nt(this).classed("hover",!1)})},"setupToolTips");NA.push(ife);var Ept=A(function(e="gen-1"){tf=new Map,rx=new Map,Gs=[],NA=[ife],Oh=[],yD=new Map,Cw=0,bD=new Map,RO=!0,_A=e,zm=De(),ca()},"clear"),Spt=A(e=>{_A=e||"gen-2"},"setGen"),Apt=A(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),kpt=A(function(e,t,r){let n=e.text.trim(),a=r.text;e===r&&/\s/.exec(r.text)&&(n=void 0);function o(h){const f={boolean:{},number:{},string:{}},d=[];let p;return{nodeList:h.filter(function(m){const y=typeof m;return m.stmt&&m.stmt==="dir"?(p=m.value,!1):m.trim()===""?!1:y in f?f[y].hasOwnProperty(m)?!1:f[y][m]=!0:d.includes(m)?!1:d.push(m)}),dir:p}}A(o,"uniq");const{nodeList:l,dir:c}=o(t.flat());if(_A==="gen-1")for(let h=0;h<l.length;h++)l[h]=MA(l[h]);n=n??"subGraph"+Cw,a=a||"",a=LA(a),Cw=Cw+1;const u={id:n,nodes:l,title:a.trim(),classes:[],dir:c,labelType:r.type};return me.info("Adding",u.id,u.nodes,u.dir),u.nodes=cfe(u,Oh).nodes,Oh.push(u),yD.set(n,u),n},"addSubGraph"),Cpt=A(function(e){for(const[t,r]of Oh.entries())if(r.id===e)return t;return-1},"getPosForId"),h2=-1,afe=[],sfe=A(function(e,t){const r=Oh[t].nodes;if(h2=h2+1,h2>2e3)return{result:!1,count:0};if(afe[h2]=t,Oh[t].id===e)return{result:!0,count:0};let n=0,a=1;for(;n<r.length;){const o=Cpt(r[n]);if(o>=0){const l=sfe(e,o);if(l.result)return{result:!0,count:a+l.count};a=a+l.count}n=n+1}return{result:!1,count:a}},"indexNodes2"),Ipt=A(function(e){return afe[e]},"getDepthFirstPos"),Rpt=A(function(){h2=-1,Oh.length>0&&sfe("none",Oh.length-1)},"indexNodes"),ofe=A(function(){return Oh},"getSubGraphs"),Opt=A(()=>RO?(RO=!1,!0):!1,"firstGraph"),_pt=A(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),Npt=A((e,t)=>{const r=t.length;let n=0;for(let a=0;a<r;++a)t[a]===e&&++n;return n},"countChar"),Lpt=A(e=>{const t=e.trim();let r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let a="normal",o=r.length-1;r.startsWith("=")&&(a="thick"),r.startsWith("~")&&(a="invisible");const l=Npt(".",r);return l&&(a="dotted",o=l),{type:n,stroke:a,length:o}},"destructEndLink"),Mpt=A((e,t)=>{const r=Lpt(e);let n;if(t){if(n=_pt(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),lfe=A((e,t)=>{for(const r of e)if(r.nodes.includes(t))return!0;return!1},"exists"),cfe=A((e,t)=>{const r=[];return e.nodes.forEach((n,a)=>{lfe(t,n)||r.push(e.nodes[a])}),{nodes:r}},"makeUniq"),Dpt={firstGraph:Opt},Ppt=A(e=>{if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}},"getTypeFromVertex"),Fpt=A((e,t)=>e.find(r=>r.id===t),"findNode"),Bpt=A(e=>{let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t;break}return{arrowTypeStart:t,arrowTypeEnd:r}},"destructEdgeType"),$pt=A((e,t,r,n,a,o)=>{var h;const l=r.get(e.id),c=n.get(e.id)??!1,u=Fpt(t,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=LE(e.classes),u.cssClasses=e.classes.join(" ");else{const f={id:e.id,label:e.text,labelStyle:"",parentId:l,padding:((h=a.flowchart)==null?void 0:h.padding)||8,cssStyles:e.styles,cssCompiledStyles:LE(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:o,link:e.link,linkTarget:e.linkTarget,tooltip:efe(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};c?t.push({...f,isGroup:!0,shape:"rect"}):t.push({...f,isGroup:!1,shape:Ppt(e)})}},"addNodeFromVertex");function LE(e){let t=[];for(const r of e){const n=rx.get(r);n!=null&&n.styles&&(t=[...t,...n.styles??[]].map(a=>a.trim())),n!=null&&n.textStyles&&(t=[...t,...n.textStyles??[]].map(a=>a.trim()))}return t}A(LE,"getCompiledStyles");var Hpt=A(()=>{const e=De(),t=[],r=[],n=ofe(),a=new Map,o=new Map;for(let u=n.length-1;u>=0;u--){const h=n[u];h.nodes.length>0&&o.set(h.id,!0);for(const f of h.nodes)a.set(f,h.id)}for(let u=n.length-1;u>=0;u--){const h=n[u];t.push({id:h.id,label:h.title,labelStyle:"",parentId:a.get(h.id),padding:8,cssCompiledStyles:LE(h.classes),cssClasses:h.classes.join(" "),shape:"rect",dir:h.dir,isGroup:!0,look:e.look})}rfe().forEach(u=>{$pt(u,t,a,o,e,e.look||"classic")});const c=nfe();return c.forEach((u,h)=>{const{arrowTypeStart:f,arrowTypeEnd:d}=Bpt(u.type),p=[...c.defaultStyle??[]];u.style&&p.push(...u.style);const g={id:Mse(u.start,u.end,{counter:h,prefix:"L"}),start:u.start,end:u.end,type:u.type??"normal",label:u.text,labelpos:"c",thickness:u.stroke,minlen:u.length,classes:(u==null?void 0:u.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(u==null?void 0:u.stroke)==="invisible"?"none":f,arrowTypeEnd:(u==null?void 0:u.stroke)==="invisible"?"none":d,arrowheadStyle:"fill: #333",labelStyle:p,style:p,pattern:u.stroke,look:e.look};r.push(g)}),{nodes:t,edges:r,other:{},config:e}},"getData"),l7={defaultConfig:A(()=>lne.flowchart,"defaultConfig"),setAccTitle:ua,getAccTitle:Ia,getAccDescription:Oa,getData:Hpt,setAccDescription:Ra,addVertex:upt,lookUpDomId:MA,addLink:fpt,updateLinkInterpolate:dpt,updateLink:ppt,addClass:gpt,setDirection:mpt,setClass:xD,setTooltip:vpt,getTooltip:efe,setClickEvent:xpt,setLink:bpt,bindFunctions:Tpt,getDirection:tfe,getVertices:rfe,getEdges:nfe,getClasses:wpt,clear:Ept,setGen:Spt,defaultStyle:Apt,addSubGraph:kpt,getDepthFirstPos:Ipt,indexNodes:Rpt,getSubGraphs:ofe,destructLink:Mpt,lex:Dpt,exists:lfe,makeUniq:cfe,setDiagramTitle:Ns,getDiagramTitle:_a},Upt=A(function(e,t){return t.db.getClasses()},"getClasses"),Wpt=A(async function(e,t,r,n){var g;me.info("REF0:"),me.info("Drawing state diagram (v2)",t);const{securityLevel:a,flowchart:o,layout:l}=De();let c;a==="sandbox"&&(c=nt("#i"+t));const u=a==="sandbox"?c.nodes()[0].contentDocument:document;me.debug("Before getData: ");const h=n.db.getData();me.debug("Data: ",h);const f=mD(t,a),d=tfe();h.type=n.type,h.layoutAlgorithm=Dle(l),h.layoutAlgorithm==="dagre"&&l==="elk"&&me.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),h.direction=d,h.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,h.rankSpacing=(o==null?void 0:o.rankSpacing)||50,h.markers=["point","circle","cross"],h.diagramId=t,me.debug("REF1:",h),await JL(h,f);const p=((g=h.config.flowchart)==null?void 0:g.diagramPadding)??8;ur.insertTitle(f,"flowchartTitleText",(o==null?void 0:o.titleTopMargin)||0,n.db.getDiagramTitle()),vD(f,p,"flowchart",(o==null?void 0:o.useMaxWidth)||!1);for(const m of h.nodes){const y=nt(`#${t} [id="${m.id}"]`);if(!y||!m.link)continue;const b=u.createElementNS("http://www.w3.org/2000/svg","a");b.setAttributeNS("http://www.w3.org/2000/svg","class",m.cssClasses),b.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),a==="sandbox"?b.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):m.linkTarget&&b.setAttributeNS("http://www.w3.org/2000/svg","target",m.linkTarget);const x=y.insert(function(){return b},":first-child"),T=y.select(".label-container");T&&x.append(function(){return T.node()});const w=y.select(".label");w&&x.append(function(){return w.node()})}},"draw"),zpt={getClasses:Upt,draw:Wpt},OO=function(){var e=A(function(Sn,xt,Et,Yt){for(Et=Et||{},Yt=Sn.length;Yt--;Et[Sn[Yt]]=xt);return Et},"o"),t=[1,4],r=[1,3],n=[1,5],a=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],o=[2,2],l=[1,13],c=[1,14],u=[1,15],h=[1,16],f=[1,23],d=[1,25],p=[1,26],g=[1,27],m=[1,49],y=[1,48],b=[1,29],x=[1,30],T=[1,31],w=[1,32],E=[1,33],S=[1,44],C=[1,46],k=[1,42],O=[1,47],I=[1,43],_=[1,50],R=[1,45],M=[1,51],$=[1,52],N=[1,34],P=[1,35],F=[1,36],L=[1,37],D=[1,57],B=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],H=[1,61],U=[1,60],G=[1,62],W=[8,9,11,75,77],ee=[1,77],ce=[1,90],Z=[1,95],J=[1,94],oe=[1,91],Y=[1,87],X=[1,93],K=[1,89],z=[1,96],j=[1,92],te=[1,97],re=[1,88],Se=[8,9,10,11,40,75,77],ue=[8,9,10,11,40,46,75,77],se=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],fe=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],ye=[44,60,88,101,104,105,108,110,113,114,115],he=[1,123],Ae=[1,122],Ce=[1,130],Ie=[1,144],Le=[1,145],ae=[1,146],q=[1,147],ge=[1,132],le=[1,134],Te=[1,138],ne=[1,139],Re=[1,140],ie=[1,141],pe=[1,142],xe=[1,143],ve=[1,148],Ee=[1,149],ke=[1,128],Pe=[1,129],Oe=[1,136],Ye=[1,131],Je=[1,135],Ct=[1,133],dt=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],ct=[1,151],qe=[1,153],je=[8,9,11],ht=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],Ke=[1,173],it=[1,169],Pt=[1,170],at=[1,174],Qe=[1,171],pt=[1,172],Ot=[77,115,118],vt=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],tr=[10,105],$r=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],sr=[1,242],Kn=[1,240],ln=[1,244],En=[1,238],Sr=[1,239],li=[1,241],At=[1,243],Fe=[1,245],et=[1,263],kt=[8,9,11,105],fr=[8,9,10,11,60,83,104,105,108,109,110,111],rn={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:A(function(xt,Et,Yt,ot,Vt,we,Ar){var _e=we.length-1;switch(Vt){case 2:this.$=[];break;case 3:(!Array.isArray(we[_e])||we[_e].length>0)&&we[_e-1].push(we[_e]),this.$=we[_e-1];break;case 4:case 181:this.$=we[_e];break;case 11:ot.setDirection("TB"),this.$="TB";break;case 12:ot.setDirection(we[_e-1]),this.$=we[_e-1];break;case 27:this.$=we[_e-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=ot.addSubGraph(we[_e-6],we[_e-1],we[_e-4]);break;case 34:this.$=ot.addSubGraph(we[_e-3],we[_e-1],we[_e-3]);break;case 35:this.$=ot.addSubGraph(void 0,we[_e-1],void 0);break;case 37:this.$=we[_e].trim(),ot.setAccTitle(this.$);break;case 38:case 39:this.$=we[_e].trim(),ot.setAccDescription(this.$);break;case 43:this.$=we[_e-1]+we[_e];break;case 44:this.$=we[_e];break;case 45:ot.addVertex(we[_e-1][0],void 0,void 0,void 0,void 0,void 0,void 0,we[_e]),ot.addLink(we[_e-3].stmt,we[_e-1],we[_e-2]),this.$={stmt:we[_e-1],nodes:we[_e-1].concat(we[_e-3].nodes)};break;case 46:ot.addLink(we[_e-2].stmt,we[_e],we[_e-1]),this.$={stmt:we[_e],nodes:we[_e].concat(we[_e-2].nodes)};break;case 47:ot.addLink(we[_e-3].stmt,we[_e-1],we[_e-2]),this.$={stmt:we[_e-1],nodes:we[_e-1].concat(we[_e-3].nodes)};break;case 48:this.$={stmt:we[_e-1],nodes:we[_e-1]};break;case 49:ot.addVertex(we[_e-1][0],void 0,void 0,void 0,void 0,void 0,void 0,we[_e]),this.$={stmt:we[_e-1],nodes:we[_e-1],shapeData:we[_e]};break;case 50:this.$={stmt:we[_e],nodes:we[_e]};break;case 51:this.$=[we[_e]];break;case 52:ot.addVertex(we[_e-5][0],void 0,void 0,void 0,void 0,void 0,void 0,we[_e-4]),this.$=we[_e-5].concat(we[_e]);break;case 53:this.$=we[_e-4].concat(we[_e]);break;case 54:this.$=we[_e];break;case 55:this.$=we[_e-2],ot.setClass(we[_e-2],we[_e]);break;case 56:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"square");break;case 57:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"doublecircle");break;case 58:this.$=we[_e-5],ot.addVertex(we[_e-5],we[_e-2],"circle");break;case 59:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"ellipse");break;case 60:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"stadium");break;case 61:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"subroutine");break;case 62:this.$=we[_e-7],ot.addVertex(we[_e-7],we[_e-1],"rect",void 0,void 0,void 0,Object.fromEntries([[we[_e-5],we[_e-3]]]));break;case 63:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"cylinder");break;case 64:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"round");break;case 65:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"diamond");break;case 66:this.$=we[_e-5],ot.addVertex(we[_e-5],we[_e-2],"hexagon");break;case 67:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"odd");break;case 68:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"trapezoid");break;case 69:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"inv_trapezoid");break;case 70:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"lean_right");break;case 71:this.$=we[_e-3],ot.addVertex(we[_e-3],we[_e-1],"lean_left");break;case 72:this.$=we[_e],ot.addVertex(we[_e]);break;case 73:we[_e-1].text=we[_e],this.$=we[_e-1];break;case 74:case 75:we[_e-2].text=we[_e-1],this.$=we[_e-2];break;case 76:this.$=we[_e];break;case 77:var An=ot.destructLink(we[_e],we[_e-2]);this.$={type:An.type,stroke:An.stroke,length:An.length,text:we[_e-1]};break;case 78:this.$={text:we[_e],type:"text"};break;case 79:this.$={text:we[_e-1].text+""+we[_e],type:we[_e-1].type};break;case 80:this.$={text:we[_e],type:"string"};break;case 81:this.$={text:we[_e],type:"markdown"};break;case 82:var An=ot.destructLink(we[_e]);this.$={type:An.type,stroke:An.stroke,length:An.length};break;case 83:this.$=we[_e-1];break;case 84:this.$={text:we[_e],type:"text"};break;case 85:this.$={text:we[_e-1].text+""+we[_e],type:we[_e-1].type};break;case 86:this.$={text:we[_e],type:"string"};break;case 87:case 102:this.$={text:we[_e],type:"markdown"};break;case 99:this.$={text:we[_e],type:"text"};break;case 100:this.$={text:we[_e-1].text+""+we[_e],type:we[_e-1].type};break;case 101:this.$={text:we[_e],type:"text"};break;case 103:this.$=we[_e-4],ot.addClass(we[_e-2],we[_e]);break;case 104:this.$=we[_e-4],ot.setClass(we[_e-2],we[_e]);break;case 105:case 113:this.$=we[_e-1],ot.setClickEvent(we[_e-1],we[_e]);break;case 106:case 114:this.$=we[_e-3],ot.setClickEvent(we[_e-3],we[_e-2]),ot.setTooltip(we[_e-3],we[_e]);break;case 107:this.$=we[_e-2],ot.setClickEvent(we[_e-2],we[_e-1],we[_e]);break;case 108:this.$=we[_e-4],ot.setClickEvent(we[_e-4],we[_e-3],we[_e-2]),ot.setTooltip(we[_e-4],we[_e]);break;case 109:this.$=we[_e-2],ot.setLink(we[_e-2],we[_e]);break;case 110:this.$=we[_e-4],ot.setLink(we[_e-4],we[_e-2]),ot.setTooltip(we[_e-4],we[_e]);break;case 111:this.$=we[_e-4],ot.setLink(we[_e-4],we[_e-2],we[_e]);break;case 112:this.$=we[_e-6],ot.setLink(we[_e-6],we[_e-4],we[_e]),ot.setTooltip(we[_e-6],we[_e-2]);break;case 115:this.$=we[_e-1],ot.setLink(we[_e-1],we[_e]);break;case 116:this.$=we[_e-3],ot.setLink(we[_e-3],we[_e-2]),ot.setTooltip(we[_e-3],we[_e]);break;case 117:this.$=we[_e-3],ot.setLink(we[_e-3],we[_e-2],we[_e]);break;case 118:this.$=we[_e-5],ot.setLink(we[_e-5],we[_e-4],we[_e]),ot.setTooltip(we[_e-5],we[_e-2]);break;case 119:this.$=we[_e-4],ot.addVertex(we[_e-2],void 0,void 0,we[_e]);break;case 120:this.$=we[_e-4],ot.updateLink([we[_e-2]],we[_e]);break;case 121:this.$=we[_e-4],ot.updateLink(we[_e-2],we[_e]);break;case 122:this.$=we[_e-8],ot.updateLinkInterpolate([we[_e-6]],we[_e-2]),ot.updateLink([we[_e-6]],we[_e]);break;case 123:this.$=we[_e-8],ot.updateLinkInterpolate(we[_e-6],we[_e-2]),ot.updateLink(we[_e-6],we[_e]);break;case 124:this.$=we[_e-6],ot.updateLinkInterpolate([we[_e-4]],we[_e]);break;case 125:this.$=we[_e-6],ot.updateLinkInterpolate(we[_e-4],we[_e]);break;case 126:case 128:this.$=[we[_e]];break;case 127:case 129:we[_e-2].push(we[_e]),this.$=we[_e-2];break;case 131:this.$=we[_e-1]+we[_e];break;case 179:this.$=we[_e];break;case 180:this.$=we[_e-1]+""+we[_e];break;case 182:this.$=we[_e-1]+""+we[_e];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(a,o,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:l,9:c,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:f,33:24,34:d,36:p,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:x,85:T,86:w,87:E,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$,120:N,121:P,122:F,123:L},e(a,[2,9]),e(a,[2,10]),e(a,[2,11]),{8:[1,54],9:[1,55],10:D,15:53,18:56},e(B,[2,3]),e(B,[2,4]),e(B,[2,5]),e(B,[2,6]),e(B,[2,7]),e(B,[2,8]),{8:H,9:U,11:G,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:H,9:U,11:G,21:66},{8:H,9:U,11:G,21:67},{8:H,9:U,11:G,21:68},{8:H,9:U,11:G,21:69},{8:H,9:U,11:G,21:70},{8:H,9:U,10:[1,71],11:G,21:72},e(B,[2,36]),{35:[1,73]},{37:[1,74]},e(B,[2,39]),e(W,[2,50],{18:75,39:76,10:D,40:ee}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:ce,44:Z,60:J,79:[1,85],88:oe,94:[1,82],96:[1,83],100:84,104:Y,105:X,108:K,110:z,113:j,114:te,115:re,119:86},e(B,[2,183]),e(B,[2,184]),e(B,[2,185]),e(B,[2,186]),e(Se,[2,51]),e(Se,[2,54],{46:[1,98]}),e(ue,[2,72],{112:111,29:[1,99],44:m,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:y,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:S,101:C,104:k,105:O,108:I,110:_,113:R,114:M,115:$}),e(se,[2,179]),e(se,[2,140]),e(se,[2,141]),e(se,[2,142]),e(se,[2,143]),e(se,[2,144]),e(se,[2,145]),e(se,[2,146]),e(se,[2,147]),e(se,[2,148]),e(se,[2,149]),e(se,[2,150]),e(a,[2,12]),e(a,[2,18]),e(a,[2,19]),{9:[1,112]},e(fe,[2,26],{18:113,10:D}),e(B,[2,27]),{42:114,43:38,44:m,45:39,47:40,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},e(B,[2,40]),e(B,[2,41]),e(B,[2,42]),e(ye,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:he,118:Ae},e([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),e(B,[2,28]),e(B,[2,29]),e(B,[2,30]),e(B,[2,31]),e(B,[2,32]),{10:Ce,12:Ie,14:Le,27:ae,28:124,32:q,44:ge,60:le,75:Te,79:[1,126],80:[1,127],82:137,83:ne,84:Re,85:ie,86:pe,87:xe,88:ve,89:Ee,90:125,104:ke,108:Pe,110:Oe,113:Ye,114:Je,115:Ct},e(dt,o,{5:150}),e(B,[2,37]),e(B,[2,38]),e(W,[2,48],{44:ct}),e(W,[2,49],{18:152,10:D,40:qe}),e(Se,[2,44]),{44:m,47:154,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},{101:[1,155],102:156,104:[1,157]},{44:m,47:158,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},{44:m,47:159,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},e(je,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},e(je,[2,113],{119:164,10:[1,163],14:ce,44:Z,60:J,88:oe,104:Y,105:X,108:K,110:z,113:j,114:te,115:re}),e(je,[2,115],{10:[1,165]}),e(ht,[2,181]),e(ht,[2,168]),e(ht,[2,169]),e(ht,[2,170]),e(ht,[2,171]),e(ht,[2,172]),e(ht,[2,173]),e(ht,[2,174]),e(ht,[2,175]),e(ht,[2,176]),e(ht,[2,177]),e(ht,[2,178]),{44:m,47:166,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},{30:167,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:175,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:177,50:[1,176],67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:178,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:179,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:180,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{108:[1,181]},{30:182,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:183,65:[1,184],67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:185,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:186,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{30:187,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},e(se,[2,180]),e(a,[2,20]),e(fe,[2,25]),e(W,[2,46],{39:188,18:189,10:D,40:ee}),e(ye,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{77:[1,193],78:194,115:he,118:Ae},e(Ot,[2,78]),e(Ot,[2,80]),e(Ot,[2,81]),e(Ot,[2,166]),e(Ot,[2,167]),{8:H,9:U,10:Ce,11:G,12:Ie,14:Le,21:196,27:ae,29:[1,195],32:q,44:ge,60:le,75:Te,82:137,83:ne,84:Re,85:ie,86:pe,87:xe,88:ve,89:Ee,90:197,104:ke,108:Pe,110:Oe,113:Ye,114:Je,115:Ct},e(vt,[2,99]),e(vt,[2,101]),e(vt,[2,102]),e(vt,[2,155]),e(vt,[2,156]),e(vt,[2,157]),e(vt,[2,158]),e(vt,[2,159]),e(vt,[2,160]),e(vt,[2,161]),e(vt,[2,162]),e(vt,[2,163]),e(vt,[2,164]),e(vt,[2,165]),e(vt,[2,88]),e(vt,[2,89]),e(vt,[2,90]),e(vt,[2,91]),e(vt,[2,92]),e(vt,[2,93]),e(vt,[2,94]),e(vt,[2,95]),e(vt,[2,96]),e(vt,[2,97]),e(vt,[2,98]),{6:11,7:12,8:l,9:c,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:f,32:[1,198],33:24,34:d,36:p,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:x,85:T,86:w,87:E,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$,120:N,121:P,122:F,123:L},{10:D,18:199},{44:[1,200]},e(Se,[2,43]),{10:[1,201],44:m,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:111,113:R,114:M,115:$},{10:[1,202]},{10:[1,203],105:[1,204]},e(tr,[2,126]),{10:[1,205],44:m,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:111,113:R,114:M,115:$},{10:[1,206],44:m,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:111,113:R,114:M,115:$},{79:[1,207]},e(je,[2,107],{10:[1,208]}),e(je,[2,109],{10:[1,209]}),{79:[1,210]},e(ht,[2,182]),{79:[1,211],97:[1,212]},e(Se,[2,55],{112:111,44:m,60:y,88:S,101:C,104:k,105:O,108:I,110:_,113:R,114:M,115:$}),{31:[1,213],67:Ke,81:214,115:at,116:Qe,117:pt},e($r,[2,84]),e($r,[2,86]),e($r,[2,87]),e($r,[2,151]),e($r,[2,152]),e($r,[2,153]),e($r,[2,154]),{49:[1,215],67:Ke,81:214,115:at,116:Qe,117:pt},{30:216,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{51:[1,217],67:Ke,81:214,115:at,116:Qe,117:pt},{53:[1,218],67:Ke,81:214,115:at,116:Qe,117:pt},{55:[1,219],67:Ke,81:214,115:at,116:Qe,117:pt},{57:[1,220],67:Ke,81:214,115:at,116:Qe,117:pt},{60:[1,221]},{64:[1,222],67:Ke,81:214,115:at,116:Qe,117:pt},{66:[1,223],67:Ke,81:214,115:at,116:Qe,117:pt},{30:224,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},{31:[1,225],67:Ke,81:214,115:at,116:Qe,117:pt},{67:Ke,69:[1,226],71:[1,227],81:214,115:at,116:Qe,117:pt},{67:Ke,69:[1,229],71:[1,228],81:214,115:at,116:Qe,117:pt},e(W,[2,45],{18:152,10:D,40:qe}),e(W,[2,47],{44:ct}),e(ye,[2,75]),e(ye,[2,74]),{62:[1,230],67:Ke,81:214,115:at,116:Qe,117:pt},e(ye,[2,77]),e(Ot,[2,79]),{30:231,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},e(dt,o,{5:232}),e(vt,[2,100]),e(B,[2,35]),{43:233,44:m,45:39,47:40,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},{10:D,18:234},{10:sr,60:Kn,83:ln,91:235,104:En,106:236,107:237,108:Sr,109:li,110:At,111:Fe},{10:sr,60:Kn,83:ln,91:246,103:[1,247],104:En,106:236,107:237,108:Sr,109:li,110:At,111:Fe},{10:sr,60:Kn,83:ln,91:248,103:[1,249],104:En,106:236,107:237,108:Sr,109:li,110:At,111:Fe},{104:[1,250]},{10:sr,60:Kn,83:ln,91:251,104:En,106:236,107:237,108:Sr,109:li,110:At,111:Fe},{44:m,47:252,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},e(je,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},e(je,[2,114]),e(je,[2,116],{10:[1,256]}),e(je,[2,117]),e(ue,[2,56]),e($r,[2,85]),e(ue,[2,57]),{51:[1,257],67:Ke,81:214,115:at,116:Qe,117:pt},e(ue,[2,64]),e(ue,[2,59]),e(ue,[2,60]),e(ue,[2,61]),{108:[1,258]},e(ue,[2,63]),e(ue,[2,65]),{66:[1,259],67:Ke,81:214,115:at,116:Qe,117:pt},e(ue,[2,67]),e(ue,[2,68]),e(ue,[2,70]),e(ue,[2,69]),e(ue,[2,71]),e([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:Ke,81:214,115:at,116:Qe,117:pt},{6:11,7:12,8:l,9:c,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:f,32:[1,261],33:24,34:d,36:p,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:x,85:T,86:w,87:E,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$,120:N,121:P,122:F,123:L},e(Se,[2,53]),{43:262,44:m,45:39,47:40,60:y,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$},e(je,[2,119],{105:et}),e(kt,[2,128],{107:264,10:sr,60:Kn,83:ln,104:En,108:Sr,109:li,110:At,111:Fe}),e(fr,[2,130]),e(fr,[2,132]),e(fr,[2,133]),e(fr,[2,134]),e(fr,[2,135]),e(fr,[2,136]),e(fr,[2,137]),e(fr,[2,138]),e(fr,[2,139]),e(je,[2,120],{105:et}),{10:[1,265]},e(je,[2,121],{105:et}),{10:[1,266]},e(tr,[2,127]),e(je,[2,103],{105:et}),e(je,[2,104],{112:111,44:m,60:y,88:S,101:C,104:k,105:O,108:I,110:_,113:R,114:M,115:$}),e(je,[2,108]),e(je,[2,110],{10:[1,267]}),e(je,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:H,9:U,11:G,21:272},e(B,[2,34]),e(Se,[2,52]),{10:sr,60:Kn,83:ln,104:En,106:273,107:237,108:Sr,109:li,110:At,111:Fe},e(fr,[2,131]),{14:ce,44:Z,60:J,88:oe,100:274,104:Y,105:X,108:K,110:z,113:j,114:te,115:re,119:86},{14:ce,44:Z,60:J,88:oe,100:275,104:Y,105:X,108:K,110:z,113:j,114:te,115:re,119:86},{97:[1,276]},e(je,[2,118]),e(ue,[2,58]),{30:277,67:Ke,79:it,80:Pt,81:168,115:at,116:Qe,117:pt},e(ue,[2,66]),e(dt,o,{5:278}),e(kt,[2,129],{107:264,10:sr,60:Kn,83:ln,104:En,108:Sr,109:li,110:At,111:Fe}),e(je,[2,124],{119:164,10:[1,279],14:ce,44:Z,60:J,88:oe,104:Y,105:X,108:K,110:z,113:j,114:te,115:re}),e(je,[2,125],{119:164,10:[1,280],14:ce,44:Z,60:J,88:oe,104:Y,105:X,108:K,110:z,113:j,114:te,115:re}),e(je,[2,112]),{31:[1,281],67:Ke,81:214,115:at,116:Qe,117:pt},{6:11,7:12,8:l,9:c,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:f,32:[1,282],33:24,34:d,36:p,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:x,85:T,86:w,87:E,88:S,101:C,104:k,105:O,108:I,110:_,112:41,113:R,114:M,115:$,120:N,121:P,122:F,123:L},{10:sr,60:Kn,83:ln,91:283,104:En,106:236,107:237,108:Sr,109:li,110:At,111:Fe},{10:sr,60:Kn,83:ln,91:284,104:En,106:236,107:237,108:Sr,109:li,110:At,111:Fe},e(ue,[2,62]),e(B,[2,33]),e(je,[2,122],{105:et}),e(je,[2,123],{105:et})],defaultActions:{},parseError:A(function(xt,Et){if(Et.recoverable)this.trace(xt);else{var Yt=new Error(xt);throw Yt.hash=Et,Yt}},"parseError"),parse:A(function(xt){var Et=this,Yt=[0],ot=[],Vt=[null],we=[],Ar=this.table,_e="",An=0,yF=0,Fye=2,bF=1,Bye=we.slice.call(arguments,1),Qi=Object.create(this.lexer),Mf={yy:{}};for(var kk in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kk)&&(Mf.yy[kk]=this.yy[kk]);Qi.setInput(xt,Mf.yy),Mf.yy.lexer=Qi,Mf.yy.parser=this,typeof Qi.yylloc>"u"&&(Qi.yylloc={});var Ck=Qi.yylloc;we.push(Ck);var $ye=Qi.options&&Qi.options.ranges;typeof Mf.yy.parseError=="function"?this.parseError=Mf.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Hye(vo){Yt.length=Yt.length-2*vo,Vt.length=Vt.length-vo,we.length=we.length-vo}A(Hye,"popStack");function xF(){var vo;return vo=ot.pop()||Qi.lex()||bF,typeof vo!="number"&&(vo instanceof Array&&(ot=vo,vo=ot.pop()),vo=Et.symbols_[vo]||vo),vo}A(xF,"lex");for(var Ps,Df,jo,Ik,jp={},Z3,Lu,TF,Q3;;){if(Df=Yt[Yt.length-1],this.defaultActions[Df]?jo=this.defaultActions[Df]:((Ps===null||typeof Ps>"u")&&(Ps=xF()),jo=Ar[Df]&&Ar[Df][Ps]),typeof jo>"u"||!jo.length||!jo[0]){var Rk="";Q3=[];for(Z3 in Ar[Df])this.terminals_[Z3]&&Z3>Fye&&Q3.push("'"+this.terminals_[Z3]+"'");Qi.showPosition?Rk="Parse error on line "+(An+1)+`:
`+Qi.showPosition()+`
Expecting `+Q3.join(", ")+", got '"+(this.terminals_[Ps]||Ps)+"'":Rk="Parse error on line "+(An+1)+": Unexpected "+(Ps==bF?"end of input":"'"+(this.terminals_[Ps]||Ps)+"'"),this.parseError(Rk,{text:Qi.match,token:this.terminals_[Ps]||Ps,line:Qi.yylineno,loc:Ck,expected:Q3})}if(jo[0]instanceof Array&&jo.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Df+", token: "+Ps);switch(jo[0]){case 1:Yt.push(Ps),Vt.push(Qi.yytext),we.push(Qi.yylloc),Yt.push(jo[1]),Ps=null,yF=Qi.yyleng,_e=Qi.yytext,An=Qi.yylineno,Ck=Qi.yylloc;break;case 2:if(Lu=this.productions_[jo[1]][1],jp.$=Vt[Vt.length-Lu],jp._$={first_line:we[we.length-(Lu||1)].first_line,last_line:we[we.length-1].last_line,first_column:we[we.length-(Lu||1)].first_column,last_column:we[we.length-1].last_column},$ye&&(jp._$.range=[we[we.length-(Lu||1)].range[0],we[we.length-1].range[1]]),Ik=this.performAction.apply(jp,[_e,yF,An,Mf.yy,jo[1],Vt,we].concat(Bye)),typeof Ik<"u")return Ik;Lu&&(Yt=Yt.slice(0,-1*Lu*2),Vt=Vt.slice(0,-1*Lu),we=we.slice(0,-1*Lu)),Yt.push(this.productions_[jo[1]][0]),Vt.push(jp.$),we.push(jp._$),TF=Ar[Yt[Yt.length-2]][Yt[Yt.length-1]],Yt.push(TF);break;case 3:return!0}}return!0},"parse")},dn=function(){var Sn={EOF:1,parseError:A(function(Et,Yt){if(this.yy.parser)this.yy.parser.parseError(Et,Yt);else throw new Error(Et)},"parseError"),setInput:A(function(xt,Et){return this.yy=Et||this.yy||{},this._input=xt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var xt=this._input[0];this.yytext+=xt,this.yyleng++,this.offset++,this.match+=xt,this.matched+=xt;var Et=xt.match(/(?:\r\n?|\n).*/g);return Et?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),xt},"input"),unput:A(function(xt){var Et=xt.length,Yt=xt.split(/(?:\r\n?|\n)/g);this._input=xt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Et),this.offset-=Et;var ot=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Yt.length-1&&(this.yylineno-=Yt.length-1);var Vt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Yt?(Yt.length===ot.length?this.yylloc.first_column:0)+ot[ot.length-Yt.length].length-Yt[0].length:this.yylloc.first_column-Et},this.options.ranges&&(this.yylloc.range=[Vt[0],Vt[0]+this.yyleng-Et]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(xt){this.unput(this.match.slice(xt))},"less"),pastInput:A(function(){var xt=this.matched.substr(0,this.matched.length-this.match.length);return(xt.length>20?"...":"")+xt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var xt=this.match;return xt.length<20&&(xt+=this._input.substr(0,20-xt.length)),(xt.substr(0,20)+(xt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var xt=this.pastInput(),Et=new Array(xt.length+1).join("-");return xt+this.upcomingInput()+`
`+Et+"^"},"showPosition"),test_match:A(function(xt,Et){var Yt,ot,Vt;if(this.options.backtrack_lexer&&(Vt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Vt.yylloc.range=this.yylloc.range.slice(0))),ot=xt[0].match(/(?:\r\n?|\n).*/g),ot&&(this.yylineno+=ot.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ot?ot[ot.length-1].length-ot[ot.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+xt[0].length},this.yytext+=xt[0],this.match+=xt[0],this.matches=xt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(xt[0].length),this.matched+=xt[0],Yt=this.performAction.call(this,this.yy,this,Et,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Yt)return Yt;if(this._backtrack){for(var we in Vt)this[we]=Vt[we];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var xt,Et,Yt,ot;this._more||(this.yytext="",this.match="");for(var Vt=this._currentRules(),we=0;we<Vt.length;we++)if(Yt=this._input.match(this.rules[Vt[we]]),Yt&&(!Et||Yt[0].length>Et[0].length)){if(Et=Yt,ot=we,this.options.backtrack_lexer){if(xt=this.test_match(Yt,Vt[we]),xt!==!1)return xt;if(this._backtrack){Et=!1;continue}else return!1}else if(!this.options.flex)break}return Et?(xt=this.test_match(Et,Vt[ot]),xt!==!1?xt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var Et=this.next();return Et||this.lex()},"lex"),begin:A(function(Et){this.conditionStack.push(Et)},"begin"),popState:A(function(){var Et=this.conditionStack.length-1;return Et>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(Et){return Et=this.conditionStack.length-1-Math.abs(Et||0),Et>=0?this.conditionStack[Et]:"INITIAL"},"topState"),pushState:A(function(Et){this.begin(Et)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:A(function(Et,Yt,ot,Vt){switch(ot){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),Yt.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const we=/\n\s*/g;return Yt.yytext=Yt.yytext.replace(we,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return Et.lex.firstGraph()&&this.begin("dir"),12;case 36:return Et.lex.firstGraph()&&this.begin("dir"),12;case 37:return Et.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Sn}();rn.lexer=dn;function _n(){this.yy={}}return A(_n,"Parser"),_n.prototype=rn,rn.Parser=_n,new _n}();OO.parser=OO;var Gpt=OO,Ypt=A((e,t)=>{const r=$re,n=r(e,"r"),a=r(e,"g"),o=r(e,"b");return Fd(n,a,o,t)},"fade"),Vpt=A(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Ypt(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),qpt=Vpt,jpt={parser:Gpt,db:l7,renderer:zpt,styles:qpt,init:A(e=>{e.flowchart||(e.flowchart={}),e.layout&&OU({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,OU({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),l7.clear(),l7.setGen("gen-2")},"init")};const TD=Object.freeze(Object.defineProperty({__proto__:null,diagram:jpt},Symbol.toStringTag,{value:"Module"})),Xpt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Kpt(e){return typeof e=="string"&&Xpt.test(e)}const ga=[];for(let e=0;e<256;++e)ga.push((e+256).toString(16).slice(1));function Zpt(e,t=0){return ga[e[t+0]]+ga[e[t+1]]+ga[e[t+2]]+ga[e[t+3]]+"-"+ga[e[t+4]]+ga[e[t+5]]+"-"+ga[e[t+6]]+ga[e[t+7]]+"-"+ga[e[t+8]]+ga[e[t+9]]+"-"+ga[e[t+10]]+ga[e[t+11]]+ga[e[t+12]]+ga[e[t+13]]+ga[e[t+14]]+ga[e[t+15]]}function Qpt(e){if(!Kpt(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function Jpt(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}const e1t="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t1t="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function r1t(e,t,r){function n(a,o,l,c){var u;if(typeof a=="string"&&(a=Jpt(a)),typeof o=="string"&&(o=Qpt(o)),((u=o)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+a.length);if(h.set(o),h.set(a,o.length),h=r(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,l){c=c||0;for(let f=0;f<16;++f)l[c+f]=h[f];return l}return Zpt(h)}try{n.name=e}catch{}return n.DNS=e1t,n.URL=t1t,n}function n1t(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function c7(e,t){return e<<t|e>>>32-t}function i1t(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const l=unescape(encodeURIComponent(e));e=[];for(let c=0;c<l.length;++c)e.push(l.charCodeAt(c))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,a=Math.ceil(n/16),o=new Array(a);for(let l=0;l<a;++l){const c=new Uint32Array(16);for(let u=0;u<16;++u)c[u]=e[l*64+u*4]<<24|e[l*64+u*4+1]<<16|e[l*64+u*4+2]<<8|e[l*64+u*4+3];o[l]=c}o[a-1][14]=(e.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(e.length-1)*8&4294967295;for(let l=0;l<a;++l){const c=new Uint32Array(80);for(let g=0;g<16;++g)c[g]=o[l][g];for(let g=16;g<80;++g)c[g]=c7(c[g-3]^c[g-8]^c[g-14]^c[g-16],1);let u=r[0],h=r[1],f=r[2],d=r[3],p=r[4];for(let g=0;g<80;++g){const m=Math.floor(g/20),y=c7(u,5)+n1t(m,h,f,d)+p+t[m]+c[g]>>>0;p=d,d=f,f=c7(h,30)>>>0,h=u,u=y}r[0]=r[0]+u>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+f>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+p>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const a1t=r1t("v5",80,i1t);var _O=function(){var e=A(function(O,I,_,R){for(_=_||{},R=O.length;R--;_[O[R]]=I);return _},"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],a=[1,12],o=[1,13],l=[1,14],c=[1,15],u=[1,21],h=[1,22],f=[1,23],d=[1,24],p=[1,25],g=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],m=[1,34],y=[27,28,46,47],b=[41,42,43,44,45],x=[17,34],T=[1,54],w=[1,53],E=[17,34,36,38],S={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:A(function(I,_,R,M,$,N,P){var F=N.length-1;switch($){case 1:break;case 2:this.$=[];break;case 3:N[F-1].push(N[F]),this.$=N[F-1];break;case 4:case 5:this.$=N[F];break;case 6:case 7:this.$=[];break;case 8:M.addEntity(N[F-4]),M.addEntity(N[F-2]),M.addRelationship(N[F-4],N[F],N[F-2],N[F-3]);break;case 9:M.addEntity(N[F-3]),M.addAttributes(N[F-3],N[F-1]);break;case 10:M.addEntity(N[F-2]);break;case 11:M.addEntity(N[F]);break;case 12:M.addEntity(N[F-6],N[F-4]),M.addAttributes(N[F-6],N[F-1]);break;case 13:M.addEntity(N[F-5],N[F-3]);break;case 14:M.addEntity(N[F-3],N[F-1]);break;case 15:case 16:this.$=N[F].trim(),M.setAccTitle(this.$);break;case 17:case 18:this.$=N[F].trim(),M.setAccDescription(this.$);break;case 19:case 43:this.$=N[F];break;case 20:case 41:case 42:this.$=N[F].replace(/"/g,"");break;case 21:case 29:this.$=[N[F]];break;case 22:N[F].push(N[F-1]),this.$=N[F];break;case 23:this.$={attributeType:N[F-1],attributeName:N[F]};break;case 24:this.$={attributeType:N[F-2],attributeName:N[F-1],attributeKeyTypeList:N[F]};break;case 25:this.$={attributeType:N[F-2],attributeName:N[F-1],attributeComment:N[F]};break;case 26:this.$={attributeType:N[F-3],attributeName:N[F-2],attributeKeyTypeList:N[F-1],attributeComment:N[F]};break;case 27:case 28:case 31:this.$=N[F];break;case 30:N[F-2].push(N[F]),this.$=N[F-2];break;case 32:this.$=N[F].replace(/"/g,"");break;case 33:this.$={cardA:N[F],relType:N[F-1],cardB:N[F-2]};break;case 34:this.$=M.Cardinality.ZERO_OR_ONE;break;case 35:this.$=M.Cardinality.ZERO_OR_MORE;break;case 36:this.$=M.Cardinality.ONE_OR_MORE;break;case 37:this.$=M.Cardinality.ONLY_ONE;break;case 38:this.$=M.Cardinality.MD_PARENT;break;case 39:this.$=M.Identification.NON_IDENTIFYING;break;case 40:this.$=M.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:a,26:o,27:l,28:c},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:a,26:o,27:l,28:c},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:u,42:h,43:f,44:d,45:p}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(g,[2,19]),e(g,[2,20]),e(t,[2,4]),{11:29,27:l,28:c},{16:30,17:[1,31],29:32,30:33,34:m},{11:35,27:l,28:c},{40:36,46:[1,37],47:[1,38]},e(y,[2,34]),e(y,[2,35]),e(y,[2,36]),e(y,[2,37]),e(y,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:m},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:u,42:h,43:f,44:d,45:p},e(b,[2,39]),e(b,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(x,[2,23],{32:50,33:51,35:52,37:T,38:w}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(x,[2,24],{33:56,36:[1,57],38:w}),e(x,[2,25]),e(E,[2,29]),e(x,[2,32]),e(E,[2,31]),{16:58,17:[1,59],29:32,30:33,34:m},e(x,[2,26]),{35:60,37:T},{17:[1,61]},e(t,[2,13]),e(E,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:A(function(I,_){if(_.recoverable)this.trace(I);else{var R=new Error(I);throw R.hash=_,R}},"parseError"),parse:A(function(I){var _=this,R=[0],M=[],$=[null],N=[],P=this.table,F="",L=0,D=0,B=2,H=1,U=N.slice.call(arguments,1),G=Object.create(this.lexer),W={yy:{}};for(var ee in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ee)&&(W.yy[ee]=this.yy[ee]);G.setInput(I,W.yy),W.yy.lexer=G,W.yy.parser=this,typeof G.yylloc>"u"&&(G.yylloc={});var ce=G.yylloc;N.push(ce);var Z=G.options&&G.options.ranges;typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function J(fe){R.length=R.length-2*fe,$.length=$.length-fe,N.length=N.length-fe}A(J,"popStack");function oe(){var fe;return fe=M.pop()||G.lex()||H,typeof fe!="number"&&(fe instanceof Array&&(M=fe,fe=M.pop()),fe=_.symbols_[fe]||fe),fe}A(oe,"lex");for(var Y,X,K,z,j={},te,re,Se,ue;;){if(X=R[R.length-1],this.defaultActions[X]?K=this.defaultActions[X]:((Y===null||typeof Y>"u")&&(Y=oe()),K=P[X]&&P[X][Y]),typeof K>"u"||!K.length||!K[0]){var se="";ue=[];for(te in P[X])this.terminals_[te]&&te>B&&ue.push("'"+this.terminals_[te]+"'");G.showPosition?se="Parse error on line "+(L+1)+`:
`+G.showPosition()+`
Expecting `+ue.join(", ")+", got '"+(this.terminals_[Y]||Y)+"'":se="Parse error on line "+(L+1)+": Unexpected "+(Y==H?"end of input":"'"+(this.terminals_[Y]||Y)+"'"),this.parseError(se,{text:G.match,token:this.terminals_[Y]||Y,line:G.yylineno,loc:ce,expected:ue})}if(K[0]instanceof Array&&K.length>1)throw new Error("Parse Error: multiple actions possible at state: "+X+", token: "+Y);switch(K[0]){case 1:R.push(Y),$.push(G.yytext),N.push(G.yylloc),R.push(K[1]),Y=null,D=G.yyleng,F=G.yytext,L=G.yylineno,ce=G.yylloc;break;case 2:if(re=this.productions_[K[1]][1],j.$=$[$.length-re],j._$={first_line:N[N.length-(re||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(re||1)].first_column,last_column:N[N.length-1].last_column},Z&&(j._$.range=[N[N.length-(re||1)].range[0],N[N.length-1].range[1]]),z=this.performAction.apply(j,[F,D,L,W.yy,K[1],$,N].concat(U)),typeof z<"u")return z;re&&(R=R.slice(0,-1*re*2),$=$.slice(0,-1*re),N=N.slice(0,-1*re)),R.push(this.productions_[K[1]][0]),$.push(j.$),N.push(j._$),Se=P[R[R.length-2]][R[R.length-1]],R.push(Se);break;case 3:return!0}}return!0},"parse")},C=function(){var O={EOF:1,parseError:A(function(_,R){if(this.yy.parser)this.yy.parser.parseError(_,R);else throw new Error(_)},"parseError"),setInput:A(function(I,_){return this.yy=_||this.yy||{},this._input=I,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var I=this._input[0];this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I;var _=I.match(/(?:\r\n?|\n).*/g);return _?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),I},"input"),unput:A(function(I){var _=I.length,R=I.split(/(?:\r\n?|\n)/g);this._input=I+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===M.length?this.yylloc.first_column:0)+M[M.length-R.length].length-R[0].length:this.yylloc.first_column-_},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-_]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(I){this.unput(this.match.slice(I))},"less"),pastInput:A(function(){var I=this.matched.substr(0,this.matched.length-this.match.length);return(I.length>20?"...":"")+I.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var I=this.match;return I.length<20&&(I+=this._input.substr(0,20-I.length)),(I.substr(0,20)+(I.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var I=this.pastInput(),_=new Array(I.length+1).join("-");return I+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:A(function(I,_){var R,M,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),M=I[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],R=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var N in $)this[N]=$[N];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var I,_,R,M;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),N=0;N<$.length;N++)if(R=this._input.match(this.rules[$[N]]),R&&(!_||R[0].length>_[0].length)){if(_=R,M=N,this.options.backtrack_lexer){if(I=this.test_match(R,$[N]),I!==!1)return I;if(this._backtrack){_=!1;continue}else return!1}else if(!this.options.flex)break}return _?(I=this.test_match(_,$[M]),I!==!1?I:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var _=this.next();return _||this.lex()},"lex"),begin:A(function(_){this.conditionStack.push(_)},"begin"),popState:A(function(){var _=this.conditionStack.length-1;return _>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(_){return _=this.conditionStack.length-1-Math.abs(_||0),_>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:A(function(_){this.begin(_)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(_,R,M,$){switch(M){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return R.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return R.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return O}();S.lexer=C;function k(){this.yy={}}return A(k,"Parser"),k.prototype=S,S.Parser=k,new k}();_O.parser=_O;var s1t=_O,dd=new Map,wD=[],o1t={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},l1t={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},ufe=A(function(e,t=void 0){return dd.has(e)?!dd.get(e).alias&&t&&(dd.get(e).alias=t,me.info(`Add alias '${t}' to entity '${e}'`)):(dd.set(e,{attributes:[],alias:t}),me.info("Added new entity :",e)),dd.get(e)},"addEntity"),c1t=A(()=>dd,"getEntities"),u1t=A(function(e,t){let r=ufe(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),me.debug("Added attribute ",t[n].attributeName)},"addAttributes"),h1t=A(function(e,t,r,n){let a={entityA:e,roleA:t,entityB:r,relSpec:n};wD.push(a),me.debug("Added new relationship :",a)},"addRelationship"),f1t=A(()=>wD,"getRelationships"),d1t=A(function(){dd=new Map,wD=[],ca()},"clear"),p1t={Cardinality:o1t,Identification:l1t,getConfig:A(()=>De().er,"getConfig"),addEntity:ufe,addAttributes:u1t,getEntities:c1t,addRelationship:h1t,getRelationships:f1t,clear:d1t,setAccTitle:ua,getAccTitle:Ia,setAccDescription:Ra,getAccDescription:Oa,setDiagramTitle:Ns,getDiagramTitle:_a},Hl={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},g1t=A(function(e,t){let r;e.append("defs").append("marker").attr("id",Hl.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Hl.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Hl.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",Hl.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",Hl.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",Hl.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",Hl.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",Hl.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",Hl.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",Hl.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Ul={ERMarkers:Hl,insertMarkers:g1t},m1t=/[^\dA-Za-z](\W)*/g,Di={},nx=new Map,v1t=A(function(e){const t=Object.keys(e);for(const r of t)Di[r]=e[r]},"setConf"),y1t=A((e,t,r)=>{const n=Di.entityPadding/3,a=Di.entityPadding/3,o=Di.fontSize*.85,l=t.node().getBBox(),c=[];let u=!1,h=!1,f=0,d=0,p=0,g=0,m=l.height+n*2,y=1;r.forEach(w=>{w.attributeKeyTypeList!==void 0&&w.attributeKeyTypeList.length>0&&(u=!0),w.attributeComment!==void 0&&(h=!0)}),r.forEach(w=>{const E=`${t.node().id}-attr-${y}`;let S=0;const C=rd(w.attributeType),k=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",De().fontFamily).style("font-size",o+"px").text(C),O=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",De().fontFamily).style("font-size",o+"px").text(w.attributeName),I={};I.tn=k,I.nn=O;const _=k.node().getBBox(),R=O.node().getBBox();if(f=Math.max(f,_.width),d=Math.max(d,R.width),S=Math.max(_.height,R.height),u){const M=w.attributeKeyTypeList!==void 0?w.attributeKeyTypeList.join(","):"",$=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",De().fontFamily).style("font-size",o+"px").text(M);I.kn=$;const N=$.node().getBBox();p=Math.max(p,N.width),S=Math.max(S,N.height)}if(h){const M=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",De().fontFamily).style("font-size",o+"px").text(w.attributeComment||"");I.cn=M;const $=M.node().getBBox();g=Math.max(g,$.width),S=Math.max(S,$.height)}I.height=S,c.push(I),m+=S+n*2,y+=1});let b=4;u&&(b+=2),h&&(b+=2);const x=f+d+p+g,T={width:Math.max(Di.minEntityWidth,Math.max(l.width+Di.entityPadding*2,x+a*b)),height:r.length>0?m:Math.max(Di.minEntityHeight,l.height+Di.entityPadding*2)};if(r.length>0){const w=Math.max(0,(T.width-x-a*b)/(b/2));t.attr("transform","translate("+T.width/2+","+(n+l.height/2)+")");let E=l.height+n*2,S="attributeBoxOdd";c.forEach(C=>{const k=E+n+C.height/2;C.tn.attr("transform","translate("+a+","+k+")");const O=e.insert("rect","#"+C.tn.node().id).classed(`er ${S}`,!0).attr("x",0).attr("y",E).attr("width",f+a*2+w).attr("height",C.height+n*2),I=parseFloat(O.attr("x"))+parseFloat(O.attr("width"));C.nn.attr("transform","translate("+(I+a)+","+k+")");const _=e.insert("rect","#"+C.nn.node().id).classed(`er ${S}`,!0).attr("x",I).attr("y",E).attr("width",d+a*2+w).attr("height",C.height+n*2);let R=parseFloat(_.attr("x"))+parseFloat(_.attr("width"));if(u){C.kn.attr("transform","translate("+(R+a)+","+k+")");const M=e.insert("rect","#"+C.kn.node().id).classed(`er ${S}`,!0).attr("x",R).attr("y",E).attr("width",p+a*2+w).attr("height",C.height+n*2);R=parseFloat(M.attr("x"))+parseFloat(M.attr("width"))}h&&(C.cn.attr("transform","translate("+(R+a)+","+k+")"),e.insert("rect","#"+C.cn.node().id).classed(`er ${S}`,"true").attr("x",R).attr("y",E).attr("width",g+a*2+w).attr("height",C.height+n*2)),E+=C.height+n*2,S=S==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else T.height=Math.max(Di.minEntityHeight,m),t.attr("transform","translate("+T.width/2+","+T.height/2+")");return T},"drawAttributes"),b1t=A(function(e,t,r){const n=[...t.keys()];let a;return n.forEach(function(o){const l=ffe(o,"entity");nx.set(o,l);const c=e.append("g").attr("id",l);a=a===void 0?l:a;const u="text-"+l,h=c.append("text").classed("er entityLabel",!0).attr("id",u).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",De().fontFamily).style("font-size",Di.fontSize+"px").text(t.get(o).alias??o),{width:f,height:d}=y1t(c,h,t.get(o).attributes),g=c.insert("rect","#"+u).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",f).attr("height",d).node().getBBox();r.setNode(l,{width:g.width,height:g.height,shape:"rect",id:l})}),a},"drawEntities"),x1t=A(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities"),hfe=A(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),T1t=A(function(e,t){return e.forEach(function(r){t.setEdge(nx.get(r.entityA),nx.get(r.entityB),{relationship:r},hfe(r))}),e},"addRelationships"),QY=0,w1t=A(function(e,t,r,n,a){QY++;const o=r.edge(nx.get(t.entityA),nx.get(t.entityB),hfe(t)),l=rp().x(function(y){return y.x}).y(function(y){return y.y}).curve(i3),c=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",l(o.points)).style("stroke",Di.stroke).style("fill","none");t.relSpec.relType===a.db.Identification.NON_IDENTIFYING&&c.attr("stroke-dasharray","8,8");let u="";switch(Di.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),t.relSpec.cardA){case a.db.Cardinality.ZERO_OR_ONE:c.attr("marker-end","url("+u+"#"+Ul.ERMarkers.ZERO_OR_ONE_END+")");break;case a.db.Cardinality.ZERO_OR_MORE:c.attr("marker-end","url("+u+"#"+Ul.ERMarkers.ZERO_OR_MORE_END+")");break;case a.db.Cardinality.ONE_OR_MORE:c.attr("marker-end","url("+u+"#"+Ul.ERMarkers.ONE_OR_MORE_END+")");break;case a.db.Cardinality.ONLY_ONE:c.attr("marker-end","url("+u+"#"+Ul.ERMarkers.ONLY_ONE_END+")");break;case a.db.Cardinality.MD_PARENT:c.attr("marker-end","url("+u+"#"+Ul.ERMarkers.MD_PARENT_END+")");break}switch(t.relSpec.cardB){case a.db.Cardinality.ZERO_OR_ONE:c.attr("marker-start","url("+u+"#"+Ul.ERMarkers.ZERO_OR_ONE_START+")");break;case a.db.Cardinality.ZERO_OR_MORE:c.attr("marker-start","url("+u+"#"+Ul.ERMarkers.ZERO_OR_MORE_START+")");break;case a.db.Cardinality.ONE_OR_MORE:c.attr("marker-start","url("+u+"#"+Ul.ERMarkers.ONE_OR_MORE_START+")");break;case a.db.Cardinality.ONLY_ONE:c.attr("marker-start","url("+u+"#"+Ul.ERMarkers.ONLY_ONE_START+")");break;case a.db.Cardinality.MD_PARENT:c.attr("marker-start","url("+u+"#"+Ul.ERMarkers.MD_PARENT_START+")");break}const h=c.node().getTotalLength(),f=c.node().getPointAtLength(h*.5),d="rel"+QY,p=t.roleA.split(/<br ?\/>/g),g=e.append("text").classed("er relationshipLabel",!0).attr("id",d).attr("x",f.x).attr("y",f.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",De().fontFamily).style("font-size",Di.fontSize+"px");if(p.length==1)g.text(t.roleA);else{const y=-(p.length-1)*.5;p.forEach((b,x)=>{g.append("tspan").attr("x",f.x).attr("dy",`${x===0?y:1}em`).text(b)})}const m=g.node().getBBox();e.insert("rect","#"+d).classed("er relationshipLabelBox",!0).attr("x",f.x-m.width/2).attr("y",f.y-m.height/2).attr("width",m.width).attr("height",m.height)},"drawRelationshipFromLayout"),E1t=A(function(e,t,r,n){Di=De().er,me.info("Drawing ER diagram");const a=De().securityLevel;let o;a==="sandbox"&&(o=nt("#i"+t));const c=nt(a==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);Ul.insertMarkers(c,Di);let u;u=new os({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Di.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const h=b1t(c,n.db.getEntities(),u),f=T1t(n.db.getRelationships(),u);RA(u),x1t(c,u),f.forEach(function(y){w1t(c,y,u,h,n)});const d=Di.diagramPadding;ur.insertTitle(c,"entityTitleText",Di.titleTopMargin,n.db.getDiagramTitle());const p=c.node().getBBox(),g=p.width+d*2,m=p.height+d*2;is(c,m,g,Di.useMaxWidth),c.attr("viewBox",`${p.x-d} ${p.y-d} ${g} ${m}`)},"draw"),S1t="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function ffe(e="",t=""){const r=e.replace(m1t,"");return`${NO(t)}${NO(r)}${a1t(e,S1t)}`}A(ffe,"generateId");function NO(e=""){return e.length>0?`${e}-`:""}A(NO,"strWithHyphen");var A1t={setConf:v1t,draw:E1t},k1t=A(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),C1t=k1t,I1t={parser:s1t,db:p1t,renderer:A1t,styles:C1t};const R1t=Object.freeze(Object.defineProperty({__proto__:null,diagram:I1t},Symbol.toStringTag,{value:"Module"}));function k3(e,t){var r,n,a;e.accDescr&&((r=t.setAccDescription)==null||r.call(t,e.accDescr)),e.accTitle&&((n=t.setAccTitle)==null||n.call(t,e.accTitle)),e.title&&((a=t.setDiagramTitle)==null||a.call(t,e.title))}A(k3,"populateCommonDb");var Pg,ED=(Pg=class{constructor(t){this.init=t,this.records=this.init()}reset(){this.records=this.init()}},A(Pg,"ImperativeState"),Pg);function Ka(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function Qc(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function O1t(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function Iw(e){return typeof e=="object"&&e!==null&&Ka(e.container)&&Qc(e.reference)&&typeof e.message=="string"}class dfe{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return Ka(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});const a=n[r];if(a!==void 0)return a;{const o=this.computeIsSubtype(t,r);return n[r]=o,o}}getAllSubTypes(t){const r=this.allSubtypes[t];if(r)return r;{const n=this.getAllTypes(),a=[];for(const o of n)this.isSubtype(o,t)&&a.push(o);return this.allSubtypes[t]=a,a}}}function Gm(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function pfe(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function gfe(e){return Gm(e)&&typeof e.fullText=="string"}class za{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const t=this.iterator();let r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){const t=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){const n=this.map(a=>[t?t(a):a,r?r(a):a]);return new Map(n)}toString(){return this.join()}concat(t){const r=t[Symbol.iterator]();return new za(()=>({first:this.startFn(),firstDone:!1}),n=>{let a;if(!n.firstDone){do if(a=this.nextFn(n.first),!a.done)return a;while(!a.done);n.firstDone=!0}do if(a=r.next(),!a.done)return a;while(!a.done);return ol})}join(t=","){const r=this.iterator();let n="",a,o=!1;do a=r.next(),a.done||(o&&(n+=t),n+=_1t(a.value)),o=!0;while(!a.done);return n}indexOf(t,r=0){const n=this.iterator();let a=0,o=n.next();for(;!o.done;){if(a>=r&&o.value===t)return a;o=n.next(),a++}return-1}every(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){const r=this.iterator();let n=0,a=r.next();for(;!a.done;)t(a.value,n),a=r.next(),n++}map(t){return new za(this.startFn,r=>{const{done:n,value:a}=this.nextFn(r);return n?ol:{done:!1,value:t(a)}})}filter(t){return new za(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return ol})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){const n=this.iterator();let a=r,o=n.next();for(;!o.done;)a===void 0?a=o.value:a=t(a,o.value),o=n.next();return a}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){const a=t.next();if(a.done)return n;const o=this.recursiveReduce(t,r,n);return o===void 0?a.value:r(o,a.value)}find(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){const r=this.iterator();let n=0,a=r.next();for(;!a.done;){if(t(a.value))return n;a=r.next(),n++}return-1}includes(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new za(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const o=r.iterator.next();if(o.done)r.iterator=void 0;else return o}const{done:n,value:a}=this.nextFn(r.this);if(!n){const o=t(a);if(ME(o))r.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}}while(r.iterator);return ol})}flat(t){if(t===void 0&&(t=1),t<=0)return this;const r=t>1?this.flat(t-1):this;return new za(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const l=n.iterator.next();if(l.done)n.iterator=void 0;else return l}const{done:a,value:o}=r.nextFn(n.this);if(!a)if(ME(o))n.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}while(n.iterator);return ol})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new za(()=>{const r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new za(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?ol:this.nextFn(r.state)))}distinct(t){const r=new Set;return this.filter(n=>{const a=t?t(n):n;return r.has(a)?!1:(r.add(a),!0)})}exclude(t,r){const n=new Set;for(const a of t){const o=r?r(a):a;n.add(o)}return this.filter(a=>{const o=r?r(a):a;return!n.has(o)})}}function _1t(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function ME(e){return!!e&&typeof e[Symbol.iterator]=="function"}const N1t=new za(()=>{},()=>ol),ol=Object.freeze({done:!0,value:void 0});function wa(...e){if(e.length===1){const t=e[0];if(t instanceof za)return t;if(ME(t))return new za(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new za(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:ol)}return e.length>1?new za(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const r=e[t.collIndex++];ME(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return ol}):N1t}class SD extends za{constructor(t,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[t][Symbol.iterator]()]:[r(t)[Symbol.iterator]()],pruned:!1}),a=>{for(a.pruned&&(a.iterators.pop(),a.pruned=!1);a.iterators.length>0;){const l=a.iterators[a.iterators.length-1].next();if(l.done)a.iterators.pop();else return a.iterators.push(r(l.value)[Symbol.iterator]()),l}return ol})}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),prune:()=>{t.state.pruned=!0},[Symbol.iterator]:()=>t};return t}}var LO;(function(e){function t(o){return o.reduce((l,c)=>l+c,0)}e.sum=t;function r(o){return o.reduce((l,c)=>l*c,0)}e.product=r;function n(o){return o.reduce((l,c)=>Math.min(l,c))}e.min=n;function a(o){return o.reduce((l,c)=>Math.max(l,c))}e.max=a})(LO||(LO={}));function MO(e){return new SD(e,t=>Gm(t)?t.content:[],{includeRoot:!0})}function L1t(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function DO(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function DE(e){if(!e)return;const{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}var w0;(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"})(w0||(w0={}));function M1t(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return w0.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return w0.After;const r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?w0.Inside:r?w0.OverlapBack:w0.OverlapFront}function D1t(e,t){return M1t(e,t)>w0.After}const P1t=/^[\w\p{L}]$/u;function F1t(e,t){if(e){const r=B1t(e,!0);if(r&&JY(r,t))return r;if(gfe(e)){const n=e.content.findIndex(a=>!a.hidden);for(let a=n-1;a>=0;a--){const o=e.content[a];if(JY(o,t))return o}}}}function JY(e,t){return pfe(e)&&t.includes(e.tokenType.name)}function B1t(e,t=!0){for(;e.container;){const r=e.container;let n=r.content.indexOf(e);for(;n>0;){n--;const a=r.content[n];if(t||!a.hidden)return a}e=r}}class mfe extends Error{constructor(t,r){super(t?`${r} at ${t.range.start.line}:${t.range.start.character}`:r)}}function DA(e){throw new Error("Error! The input value was not handled.")}const u7="AbstractRule",h7="AbstractType",eV="Condition",$1t="TypeDefinition",tV="ValueLiteral",vfe="AbstractElement";function H1t(e){return Jr.isInstance(e,vfe)}const U1t="ArrayLiteral",W1t="ArrayType",yfe="BooleanLiteral";function z1t(e){return Jr.isInstance(e,yfe)}const bfe="Conjunction";function G1t(e){return Jr.isInstance(e,bfe)}const xfe="Disjunction";function Y1t(e){return Jr.isInstance(e,xfe)}const V1t="Grammar",Tfe="InferredType";function wfe(e){return Jr.isInstance(e,Tfe)}const Efe="Interface";function Sfe(e){return Jr.isInstance(e,Efe)}const Afe="Negation";function q1t(e){return Jr.isInstance(e,Afe)}const j1t="NumberLiteral",X1t="Parameter",kfe="ParameterReference";function K1t(e){return Jr.isInstance(e,kfe)}const Cfe="ParserRule";function Il(e){return Jr.isInstance(e,Cfe)}const Z1t="ReferenceType",Q1t="ReturnType";function J1t(e){return Jr.isInstance(e,Q1t)}const Ife="SimpleType";function egt(e){return Jr.isInstance(e,Ife)}const tgt="StringLiteral",PO="TerminalRule";function Wp(e){return Jr.isInstance(e,PO)}const Rfe="Type";function Ofe(e){return Jr.isInstance(e,Rfe)}const rgt="UnionType",_fe="Action";function PA(e){return Jr.isInstance(e,_fe)}const Nfe="Alternatives";function Lfe(e){return Jr.isInstance(e,Nfe)}const Mfe="Assignment";function lp(e){return Jr.isInstance(e,Mfe)}const Dfe="CharacterRange";function ngt(e){return Jr.isInstance(e,Dfe)}const Pfe="CrossReference";function AD(e){return Jr.isInstance(e,Pfe)}const Ffe="EndOfFile";function igt(e){return Jr.isInstance(e,Ffe)}const Bfe="Group";function kD(e){return Jr.isInstance(e,Bfe)}const $fe="Keyword";function cp(e){return Jr.isInstance(e,$fe)}const Hfe="NegatedToken";function agt(e){return Jr.isInstance(e,Hfe)}const Ufe="RegexToken";function sgt(e){return Jr.isInstance(e,Ufe)}const Wfe="RuleCall";function up(e){return Jr.isInstance(e,Wfe)}const zfe="TerminalAlternatives";function ogt(e){return Jr.isInstance(e,zfe)}const Gfe="TerminalGroup";function lgt(e){return Jr.isInstance(e,Gfe)}const Yfe="TerminalRuleCall";function cgt(e){return Jr.isInstance(e,Yfe)}const Vfe="UnorderedGroup";function qfe(e){return Jr.isInstance(e,Vfe)}const jfe="UntilToken";function ugt(e){return Jr.isInstance(e,jfe)}const Xfe="Wildcard";function hgt(e){return Jr.isInstance(e,Xfe)}class Kfe extends dfe{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(t,r){switch(t){case _fe:case Nfe:case Mfe:case Dfe:case Pfe:case Ffe:case Bfe:case $fe:case Hfe:case Ufe:case Wfe:case zfe:case Gfe:case Yfe:case Vfe:case jfe:case Xfe:return this.isSubtype(vfe,r);case U1t:case j1t:case tgt:return this.isSubtype(tV,r);case W1t:case Z1t:case Ife:case rgt:return this.isSubtype($1t,r);case yfe:return this.isSubtype(eV,r)||this.isSubtype(tV,r);case bfe:case xfe:case Afe:case kfe:return this.isSubtype(eV,r);case Tfe:case Efe:case Rfe:return this.isSubtype(h7,r);case Cfe:return this.isSubtype(u7,r)||this.isSubtype(h7,r);case PO:return this.isSubtype(u7,r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return h7;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return u7;case"Grammar:usedGrammars":return V1t;case"NamedArgument:parameter":case"ParameterReference:parameter":return X1t;case"TerminalRuleCall:rule":return PO;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}}const Jr=new Kfe;function fgt(e){for(const[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,a)=>{Ka(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=a)}):Ka(r)&&(r.$container=e,r.$containerProperty=t))}function FA(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function mu(e){const r=dgt(e).$document;if(!r)throw new Error("AST node has no document.");return r}function dgt(e){for(;e.$container;)e=e.$container;return e}function CD(e,t){if(!e)throw new Error("Node must be an AstNode.");const r=t==null?void 0:t.range;return new za(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const a=n.keys[n.keyIndex];if(!a.startsWith("$")){const o=e[a];if(Ka(o)){if(n.keyIndex++,rV(o,r))return{done:!1,value:o}}else if(Array.isArray(o)){for(;n.arrayIndex<o.length;){const l=n.arrayIndex++,c=o[l];if(Ka(c)&&rV(c,r))return{done:!1,value:c}}n.arrayIndex=0}}n.keyIndex++}return ol})}function C3(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new SD(e,r=>CD(r,t))}function vg(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new SD(e,r=>CD(r,t),{includeRoot:!0})}function rV(e,t){var r;if(!t)return!0;const n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?D1t(n,t):!1}function Zfe(e){return new za(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const r=t.keys[t.keyIndex];if(!r.startsWith("$")){const n=e[r];if(Qc(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){const a=t.arrayIndex++,o=n[a];if(Qc(o))return{done:!1,value:{reference:o,container:e,property:r,index:a}}}t.arrayIndex=0}}t.keyIndex++}return ol})}function pgt(e,t){const r=e.getTypeMetaData(t.$type),n=t;for(const a of r.properties)a.defaultValue!==void 0&&n[a.name]===void 0&&(n[a.name]=Qfe(a.defaultValue))}function Qfe(e){return Array.isArray(e)?[...e.map(Qfe)]:e}function ir(e){return e.charCodeAt(0)}function f7(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Wy(e,t){if(e[t]===!0)throw"duplicate flag "+t;e[t],e[t]=!0}function g1(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function ggt(){throw Error("Internal Error - Should never get here!")}function nV(e){return e.type==="Character"}const PE=[];for(let e=ir("0");e<=ir("9");e++)PE.push(e);const FE=[ir("_")].concat(PE);for(let e=ir("a");e<=ir("z");e++)FE.push(e);for(let e=ir("A");e<=ir("Z");e++)FE.push(e);const iV=[ir(" "),ir("\f"),ir(`
`),ir("\r"),ir("	"),ir("\v"),ir("	"),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir(" "),ir("\u2028"),ir("\u2029"),ir(" "),ir(" "),ir("　"),ir("\uFEFF")],mgt=/[0-9a-fA-F]/,m4=/[0-9]/,vgt=/[1-9]/;class Jfe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Wy(n,"global");break;case"i":Wy(n,"ignoreCase");break;case"m":Wy(n,"multiLine");break;case"u":Wy(n,"unicode");break;case"y":Wy(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){const t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}g1(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return ggt()}quantifier(t=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const a=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:a,atMost:a};break;case",":let o;this.isDigit()?(o=this.integerIncludingZero(),r={atLeast:a,atMost:o}):r={atLeast:a,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;g1(r);break}if(!(t===!0&&r===void 0)&&g1(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t;const r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}if(t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),g1(t))return t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[ir(`
`),ir("\r"),ir("\u2028"),ir("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=PE;break;case"D":t=PE,r=!0;break;case"s":t=iV;break;case"S":t=iV,r=!0;break;case"w":t=FE;break;case"W":t=FE,r=!0;break}if(g1(t))return{type:"Set",value:t,complement:r}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=ir("\f");break;case"n":t=ir(`
`);break;case"r":t=ir("\r");break;case"t":t=ir("	");break;case"v":t=ir("\v");break}if(g1(t))return{type:"Character",value:t}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:ir("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const t=this.popChar();return{type:"Character",value:ir(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const t=this.popChar();return{type:"Character",value:ir(t)}}}characterClass(){const t=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,nV(n)&&this.isRangeDash()){this.consumeChar("-");const a=this.classAtom();if(a.type,nV(a)){if(a.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:a.value})}else f7(n.value,t),t.push(ir("-")),f7(a.value,t)}else f7(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:ir("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(vgt.test(t)===!1)throw Error("Expecting a positive integer");for(;m4.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(m4.test(t)===!1)throw Error("Expecting an integer");for(;m4.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:ir(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return m4.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let a=0;a<t;a++){const o=this.popChar();if(mgt.test(o)===!1)throw Error("Expecting a HexDecimal digits");r+=o}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}class BA{visitChildren(t){for(const r in t){const n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(a=>{this.visit(a)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}const ygt=/\r?\n/gm,bgt=new Jfe;class xgt extends BA{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=$A(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){const r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}}const d7=new xgt;function Tgt(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),d7.reset(e),d7.visit(bgt.pattern(e)),d7.multiline}catch{return!1}}function aV(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function $A(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wgt(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:$A(t)).join("")}function Egt(e,t){const r=Sgt(e),n=t.match(r);return!!n&&n[0].length>0}function Sgt(e){typeof e=="string"&&(e=new RegExp(e));const t=e,r=e.source;let n=0;function a(){let o="",l;function c(h){o+=r.substr(n,h),n+=h}function u(h){o+="(?:"+r.substr(n,h)+"|$)",n+=h}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":u(3);break;case"x":u(4);break;case"u":t.unicode?r[n+2]==="{"?u(r.indexOf("}",n)-n+1):u(6):u(2);break;case"p":case"P":t.unicode?u(r.indexOf("}",n)-n+1):u(2);break;case"k":u(r.indexOf(">",n)-n+1);break;default:u(2);break}break;case"[":l=/\[(?:\\.|.)*?\]/g,l.lastIndex=n,l=l.exec(r)||[],u(l[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":c(1);break;case"{":l=/\{\d+,?\d*\}/g,l.lastIndex=n,l=l.exec(r),l?c(l[0].length):u(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":o+="(?:",n+=3,o+=a()+"|$)";break;case"=":o+="(?=",n+=3,o+=a()+")";break;case"!":l=n,n+=3,a(),o+=r.substr(l,n-l);break;case"<":switch(r[n+3]){case"=":case"!":l=n,n+=4,a(),o+=r.substr(l,n-l);break;default:c(r.indexOf(">",n)-n+1),o+=a()+"|$)";break}break}else c(1),o+=a()+"|$)";break;case")":return++n,o;default:u(1);break}return o}return new RegExp(a(),e.flags)}function Agt(e){return e.rules.find(t=>Il(t)&&t.entry)}function kgt(e){return e.rules.filter(t=>Wp(t)&&t.hidden)}function ede(e,t){const r=new Set,n=Agt(e);if(!n)return new Set(e.rules);const a=[n].concat(kgt(e));for(const l of a)tde(l,r,t);const o=new Set;for(const l of e.rules)(r.has(l.name)||Wp(l)&&l.hidden)&&o.add(l);return o}function tde(e,t,r){t.add(e.name),C3(e).forEach(n=>{if(up(n)||r){const a=n.rule.ref;a&&!t.has(a.name)&&tde(a,t,r)}})}function Cgt(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=nde(e.type.ref);return t==null?void 0:t.terminal}}function Igt(e){return e.hidden&&!OD(e).test(" ")}function Rgt(e,t){return!e||!t?[]:ID(e,t,e.astNode,!0)}function rde(e,t,r){if(!e||!t)return;const n=ID(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function ID(e,t,r,n){if(!n){const a=FA(e.grammarSource,lp);if(a&&a.feature===t)return[e]}return Gm(e)&&e.astNode===r?e.content.flatMap(a=>ID(a,t,r,!1)):[]}function Ogt(e,t,r){if(!e)return;const n=_gt(e,t,e==null?void 0:e.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function _gt(e,t,r){if(e.astNode!==r)return[];if(cp(e.grammarSource)&&e.grammarSource.value===t)return[e];const n=MO(e).iterator();let a;const o=[];do if(a=n.next(),!a.done){const l=a.value;l.astNode===r?cp(l.grammarSource)&&l.grammarSource.value===t&&o.push(l):n.prune()}while(!a.done);return o}function Ngt(e){var t;const r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){const n=FA(e.grammarSource,lp);if(n)return n;e=e.container}}function nde(e){let t=e;return wfe(t)&&(PA(t.$container)?t=t.$container.$container:Il(t.$container)?t=t.$container:DA(t.$container)),ide(e,t,new Map)}function ide(e,t,r){var n;function a(o,l){let c;return FA(o,lp)||(c=ide(l,l,r)),r.set(e,c),c}if(r.has(e))return r.get(e);r.set(e,void 0);for(const o of C3(t)){if(lp(o)&&o.feature.toLowerCase()==="name")return r.set(e,o),o;if(up(o)&&Il(o.rule.ref))return a(o,o.rule.ref);if(egt(o)&&(!((n=o.typeRef)===null||n===void 0)&&n.ref))return a(o,o.typeRef.ref)}}function RD(e){return ade(e,new Set)}function ade(e,t){if(t.has(e))return!0;t.add(e);for(const r of C3(e))if(up(r)){if(!r.rule.ref||Il(r.rule.ref)&&!ade(r.rule.ref,t))return!1}else{if(lp(r))return!1;if(PA(r))return!1}return!!e.definition}function sde(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(Il(t))return t.name;if(Sfe(t)||Ofe(t))return t.name}}}function HA(e){var t;if(Il(e))return RD(e)?e.name:(t=sde(e))!==null&&t!==void 0?t:e.name;if(Sfe(e)||Ofe(e)||J1t(e))return e.name;if(PA(e)){const r=Lgt(e);if(r)return r}else if(wfe(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function Lgt(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return HA(e.type.ref)}function Mgt(e){var t,r,n;return Wp(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":RD(e)?e.name:(n=sde(e))!==null&&n!==void 0?n:e.name}function OD(e){const t={s:!1,i:!1,u:!1},r=Bv(e.definition,t),n=Object.entries(t).filter(([,a])=>a).map(([a])=>a).join("");return new RegExp(r,n)}const _D=/[\s\S]/.source;function Bv(e,t){if(ogt(e))return Dgt(e);if(lgt(e))return Pgt(e);if(ngt(e))return $gt(e);if(cgt(e)){const r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return vh(Bv(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(agt(e))return Bgt(e);if(ugt(e))return Fgt(e);if(sgt(e)){const r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),a=e.regex.substring(r+1);return t&&(t.i=a.includes("i"),t.s=a.includes("s"),t.u=a.includes("u")),vh(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(hgt(e))return vh(_D,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e==null?void 0:e.$type}`)}}}function Dgt(e){return vh(e.elements.map(t=>Bv(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function Pgt(e){return vh(e.elements.map(t=>Bv(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function Fgt(e){return vh(`${_D}*?${Bv(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Bgt(e){return vh(`(?!${Bv(e.terminal)})${_D}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function $gt(e){return e.right?vh(`[${p7(e.left)}-${p7(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):vh(p7(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function p7(e){return $A(e.value)}function vh(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function Hgt(e){const t=[],r=e.Grammar;for(const n of r.rules)Wp(n)&&Igt(n)&&Tgt(OD(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:P1t}}function FO(e){console&&console.error&&console.error(`Error: ${e}`)}function ode(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function lde(e){const t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function cde(e){function t(){}t.prototype=e;const r=new t;function n(){return typeof r.bar}return n(),n(),e}function Ugt(e){return Wgt(e)?e.LABEL:e.name}function Wgt(e){return oo(e.LABEL)&&e.LABEL!==""}class Ru{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),We(this.definition,r=>{r.accept(t)})}}class Os extends Ru{constructor(t){super([]),this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class $v extends Ru{constructor(t){super(t.definition),this.orgText="",Uo(this,Ec(t,r=>r!==void 0))}}class lo extends Ru{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Uo(this,Ec(t,r=>r!==void 0))}}let Sa=class extends Ru{constructor(t){super(t.definition),this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}};class Yo extends Ru{constructor(t){super(t.definition),this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}}class Vo extends Ru{constructor(t){super(t.definition),this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}}class ti extends Ru{constructor(t){super(t.definition),this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}}class go extends Ru{constructor(t){super(t.definition),this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}}class mo extends Ru{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Uo(this,Ec(t,r=>r!==void 0))}}class On{constructor(t){this.idx=1,Uo(this,Ec(t,r=>r!==void 0))}accept(t){t.visit(this)}}function zgt(e){return gt(e,Rw)}function Rw(e){function t(r){return gt(r,Rw)}if(e instanceof Os){const r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return oo(e.label)&&(r.label=e.label),r}else{if(e instanceof lo)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Sa)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Yo)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Vo)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Rw(new On({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof go)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Rw(new On({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ti)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof mo)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof On){const r={type:"Terminal",name:e.terminalType.name,label:Ugt(e.terminalType),idx:e.idx};oo(e.label)&&(r.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=Rh(n)?n.source:n),r}else{if(e instanceof $v)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}class Hv{visit(t){const r=t;switch(r.constructor){case Os:return this.visitNonTerminal(r);case lo:return this.visitAlternative(r);case Sa:return this.visitOption(r);case Yo:return this.visitRepetitionMandatory(r);case Vo:return this.visitRepetitionMandatoryWithSeparator(r);case go:return this.visitRepetitionWithSeparator(r);case ti:return this.visitRepetition(r);case mo:return this.visitAlternation(r);case On:return this.visitTerminal(r);case $v:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}function Ggt(e){return e instanceof lo||e instanceof Sa||e instanceof ti||e instanceof Yo||e instanceof Vo||e instanceof go||e instanceof On||e instanceof $v}function BE(e,t=[]){return e instanceof Sa||e instanceof ti||e instanceof go?!0:e instanceof mo?S0e(e.definition,n=>BE(n,t)):e instanceof Os&&Ms(t,e)?!1:e instanceof Ru?(e instanceof Os&&t.push(e),lc(e.definition,n=>BE(n,t))):!1}function Ygt(e){return e instanceof mo}function Gc(e){if(e instanceof Os)return"SUBRULE";if(e instanceof Sa)return"OPTION";if(e instanceof mo)return"OR";if(e instanceof Yo)return"AT_LEAST_ONE";if(e instanceof Vo)return"AT_LEAST_ONE_SEP";if(e instanceof go)return"MANY_SEP";if(e instanceof ti)return"MANY";if(e instanceof On)return"CONSUME";throw Error("non exhaustive match")}class UA{walk(t,r=[]){We(t.definition,(n,a)=>{const o=ma(t.definition,a+1);if(n instanceof Os)this.walkProdRef(n,o,r);else if(n instanceof On)this.walkTerminal(n,o,r);else if(n instanceof lo)this.walkFlat(n,o,r);else if(n instanceof Sa)this.walkOption(n,o,r);else if(n instanceof Yo)this.walkAtLeastOne(n,o,r);else if(n instanceof Vo)this.walkAtLeastOneSep(n,o,r);else if(n instanceof go)this.walkManySep(n,o,r);else if(n instanceof ti)this.walkMany(n,o,r);else if(n instanceof mo)this.walkOr(n,o,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){const a=r.concat(n);this.walk(t,a)}walkOption(t,r,n){const a=r.concat(n);this.walk(t,a)}walkAtLeastOne(t,r,n){const a=[new Sa({definition:t.definition})].concat(r,n);this.walk(t,a)}walkAtLeastOneSep(t,r,n){const a=sV(t,r,n);this.walk(t,a)}walkMany(t,r,n){const a=[new Sa({definition:t.definition})].concat(r,n);this.walk(t,a)}walkManySep(t,r,n){const a=sV(t,r,n);this.walk(t,a)}walkOr(t,r,n){const a=r.concat(n);We(t.definition,o=>{const l=new lo({definition:[o]});this.walk(l,a)})}}function sV(e,t,r){return[new Sa({definition:[new On({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function I3(e){if(e instanceof Os)return I3(e.referencedRule);if(e instanceof On)return jgt(e);if(Ggt(e))return Vgt(e);if(Ygt(e))return qgt(e);throw Error("non exhaustive match")}function Vgt(e){let t=[];const r=e.definition;let n=0,a=r.length>n,o,l=!0;for(;a&&l;)o=r[n],l=BE(o),t=t.concat(I3(o)),n=n+1,a=r.length>n;return sD(t)}function qgt(e){const t=gt(e.definition,r=>I3(r));return sD(aa(t))}function jgt(e){return[e.terminalType]}const ude="_~IN~_";class Xgt extends UA{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){const a=Zgt(t.referencedRule,t.idx)+this.topProd.name,o=r.concat(n),l=new lo({definition:o}),c=I3(l);this.follows[a]=c}}function Kgt(e){const t={};return We(e,r=>{const n=new Xgt(r).startWalking();Uo(t,n)}),t}function Zgt(e,t){return e.name+t+ude}let Ow={};const Qgt=new Jfe;function WA(e){const t=e.toString();if(Ow.hasOwnProperty(t))return Ow[t];{const r=Qgt.pattern(t);return Ow[t]=r,r}}function Jgt(){Ow={}}const hde="Complement Sets are not supported for first char optimization",$E=`Unable to use "first char" lexer optimizations:
`;function emt(e,t=!1){try{const r=WA(e);return BO(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===hde)t&&ode(`${$E}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),FO(`${$E}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function BO(e,t,r){switch(e.type){case"Disjunction":for(let a=0;a<e.value.length;a++)BO(e.value[a],t,r);break;case"Alternative":const n=e.value;for(let a=0;a<n.length;a++){const o=n[a];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const l=o;switch(l.type){case"Character":v4(l.value,t,r);break;case"Set":if(l.complement===!0)throw Error(hde);We(l.value,u=>{if(typeof u=="number")v4(u,t,r);else{const h=u;if(r===!0)for(let f=h.from;f<=h.to;f++)v4(f,t,r);else{for(let f=h.from;f<=h.to&&f<d2;f++)v4(f,t,r);if(h.to>=d2){const f=h.from>=d2?h.from:d2,d=h.to,p=rf(f),g=rf(d);for(let m=p;m<=g;m++)t[m]=m}}}});break;case"Group":BO(l.value,t,r);break;default:throw Error("Non Exhaustive Match")}const c=l.quantifier!==void 0&&l.quantifier.atLeast===0;if(l.type==="Group"&&$O(l)===!1||l.type!=="Group"&&c===!1)break}break;default:throw Error("non exhaustive match!")}return an(t)}function v4(e,t,r){const n=rf(e);t[n]=n,r===!0&&tmt(e,t)}function tmt(e,t){const r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){const a=rf(n.charCodeAt(0));t[a]=a}else{const a=r.toLowerCase();if(a!==r){const o=rf(a.charCodeAt(0));t[o]=o}}}function oV(e,t){return Ih(e.value,r=>{if(typeof r=="number")return Ms(t,r);{const n=r;return Ih(t,a=>n.from<=a&&a<=n.to)!==void 0}})}function $O(e){const t=e.quantifier;return t&&t.atLeast===0?!0:e.value?Er(e.value)?lc(e.value,$O):$O(e.value):!1}class rmt extends BA{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){Ms(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?oV(t,this.targetCharCodes)===void 0&&(this.found=!0):oV(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}function ND(e,t){if(t instanceof RegExp){const r=WA(t),n=new rmt(e);return n.visit(r),n.found}else return Ih(t,r=>Ms(e,r.charCodeAt(0)))!==void 0}const hp="PATTERN",f2="defaultMode",y4="modes";let fde=typeof new RegExp("(?:)").sticky=="boolean";function nmt(e,t){t=SA(t,{useSticky:fde,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(T,w)=>w()});const r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{kmt()});let n;r("Reject Lexer.NA",()=>{n=CA(e,T=>T[hp]===io.NA)});let a=!1,o;r("Transform Patterns",()=>{a=!1,o=gt(n,T=>{const w=T[hp];if(Rh(w)){const E=w.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!w.ignoreCase?E:E.length===2&&E[0]==="\\"&&!Ms(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:t.useSticky?cV(w):lV(w)}else{if(wl(w))return a=!0,{exec:w};if(typeof w=="object")return a=!0,w;if(typeof w=="string"){if(w.length===1)return w;{const E=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),S=new RegExp(E);return t.useSticky?cV(S):lV(S)}}else throw Error("non exhaustive match")}})});let l,c,u,h,f;r("misc mapping",()=>{l=gt(n,T=>T.tokenTypeIdx),c=gt(n,T=>{const w=T.GROUP;if(w!==io.SKIPPED){if(oo(w))return w;if(Zr(w))return!1;throw Error("non exhaustive match")}}),u=gt(n,T=>{const w=T.LONGER_ALT;if(w)return Er(w)?gt(w,S=>LY(n,S)):[LY(n,w)]}),h=gt(n,T=>T.PUSH_MODE),f=gt(n,T=>jt(T,"POP_MODE"))});let d;r("Line Terminator Handling",()=>{const T=gde(t.lineTerminatorCharacters);d=gt(n,w=>!1),t.positionTracking!=="onlyOffset"&&(d=gt(n,w=>jt(w,"LINE_BREAKS")?!!w.LINE_BREAKS:pde(w,T)===!1&&ND(T,w.PATTERN)))});let p,g,m,y;r("Misc Mapping #2",()=>{p=gt(n,dde),g=gt(o,Emt),m=Oi(n,(T,w)=>{const E=w.GROUP;return oo(E)&&E!==io.SKIPPED&&(T[E]=[]),T},{}),y=gt(o,(T,w)=>({pattern:o[w],longerAlt:u[w],canLineTerminator:d[w],isCustom:p[w],short:g[w],group:c[w],push:h[w],pop:f[w],tokenTypeIdx:l[w],tokenType:n[w]}))});let b=!0,x=[];return t.safeMode||r("First Char Optimization",()=>{x=Oi(n,(T,w,E)=>{if(typeof w.PATTERN=="string"){const S=w.PATTERN.charCodeAt(0),C=rf(S);g7(T,C,y[E])}else if(Er(w.START_CHARS_HINT)){let S;We(w.START_CHARS_HINT,C=>{const k=typeof C=="string"?C.charCodeAt(0):C,O=rf(k);S!==O&&(S=O,g7(T,O,y[E]))})}else if(Rh(w.PATTERN))if(w.PATTERN.unicode)b=!1,t.ensureOptimizations&&FO(`${$E}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const S=emt(w.PATTERN,t.ensureOptimizations);Gr(S)&&(b=!1),We(S,C=>{g7(T,C,y[E])})}else t.ensureOptimizations&&FO(`${$E}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),b=!1;return T},[])}),{emptyGroups:m,patternIdxToConfig:y,charCodeToPatternIdxToConfig:x,hasCustom:a,canBeOptimized:b}}function imt(e,t){let r=[];const n=smt(e);r=r.concat(n.errors);const a=omt(n.valid),o=a.valid;return r=r.concat(a.errors),r=r.concat(amt(o)),r=r.concat(gmt(o)),r=r.concat(mmt(o,t)),r=r.concat(vmt(o)),r}function amt(e){let t=[];const r=ni(e,n=>Rh(n[hp]));return t=t.concat(cmt(r)),t=t.concat(fmt(r)),t=t.concat(dmt(r)),t=t.concat(pmt(r)),t=t.concat(umt(r)),t}function smt(e){const t=ni(e,a=>!jt(a,hp)),r=gt(t,a=>({message:"Token Type: ->"+a.name+"<- missing static 'PATTERN' property",type:ri.MISSING_PATTERN,tokenTypes:[a]})),n=AA(e,t);return{errors:r,valid:n}}function omt(e){const t=ni(e,a=>{const o=a[hp];return!Rh(o)&&!wl(o)&&!jt(o,"exec")&&!oo(o)}),r=gt(t,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ri.INVALID_PATTERN,tokenTypes:[a]})),n=AA(e,t);return{errors:r,valid:n}}const lmt=/[^\\][$]/;function cmt(e){class t extends BA{constructor(){super(...arguments),this.found=!1}visitEndAnchor(o){this.found=!0}}const r=ni(e,a=>{const o=a.PATTERN;try{const l=WA(o),c=new t;return c.visit(l),c.found}catch{return lmt.test(o.source)}});return gt(r,a=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+a.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ri.EOI_ANCHOR_FOUND,tokenTypes:[a]}))}function umt(e){const t=ni(e,n=>n.PATTERN.test(""));return gt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:ri.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const hmt=/[^\\[][\^]|^\^/;function fmt(e){class t extends BA{constructor(){super(...arguments),this.found=!1}visitStartAnchor(o){this.found=!0}}const r=ni(e,a=>{const o=a.PATTERN;try{const l=WA(o),c=new t;return c.visit(l),c.found}catch{return hmt.test(o.source)}});return gt(r,a=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+a.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:ri.SOI_ANCHOR_FOUND,tokenTypes:[a]}))}function dmt(e){const t=ni(e,n=>{const a=n[hp];return a instanceof RegExp&&(a.multiline||a.global)});return gt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ri.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function pmt(e){const t=[];let r=gt(e,o=>Oi(e,(l,c)=>(o.PATTERN.source===c.PATTERN.source&&!Ms(t,c)&&c.PATTERN!==io.NA&&(t.push(c),l.push(c)),l),[]));r=S3(r);const n=ni(r,o=>o.length>1);return gt(n,o=>{const l=gt(o,u=>u.name);return{message:`The same RegExp pattern ->${vc(o).PATTERN}<-has been used in all of the following Token Types: ${l.join(", ")} <-`,type:ri.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}})}function gmt(e){const t=ni(e,n=>{if(!jt(n,"GROUP"))return!1;const a=n.GROUP;return a!==io.SKIPPED&&a!==io.NA&&!oo(a)});return gt(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ri.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function mmt(e,t){const r=ni(e,a=>a.PUSH_MODE!==void 0&&!Ms(t,a.PUSH_MODE));return gt(r,a=>({message:`Token Type: ->${a.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${a.PUSH_MODE}<-which does not exist`,type:ri.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[a]}))}function vmt(e){const t=[],r=Oi(e,(n,a,o)=>{const l=a.PATTERN;return l===io.NA||(oo(l)?n.push({str:l,idx:o,tokenType:a}):Rh(l)&&bmt(l)&&n.push({str:l.source,idx:o,tokenType:a})),n},[]);return We(e,(n,a)=>{We(r,({str:o,idx:l,tokenType:c})=>{if(a<l&&ymt(o,n.PATTERN)){const u=`Token: ->${c.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:ri.UNREACHABLE_PATTERN,tokenTypes:[n,c]})}})}),t}function ymt(e,t){if(Rh(t)){const r=t.exec(e);return r!==null&&r.index===0}else{if(wl(t))return t(e,0,[],{});if(jt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function bmt(e){return Ih([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function lV(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function cV(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function xmt(e,t,r){const n=[];return jt(e,f2)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+f2+`> property in its definition
`,type:ri.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),jt(e,y4)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+y4+`> property in its definition
`,type:ri.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),jt(e,y4)&&jt(e,f2)&&!jt(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${f2}: <${e.defaultMode}>which does not exist
`,type:ri.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),jt(e,y4)&&We(e.modes,(a,o)=>{We(a,(l,c)=>{if(Zr(l))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${o}> at index: <${c}>
`,type:ri.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(jt(l,"LONGER_ALT")){const u=Er(l.LONGER_ALT)?l.LONGER_ALT:[l.LONGER_ALT];We(u,h=>{!Zr(h)&&!Ms(a,h)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${l.name}> outside of mode <${o}>
`,type:ri.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function Tmt(e,t,r){const n=[];let a=!1;const o=S3(aa(an(e.modes))),l=CA(o,u=>u[hp]===io.NA),c=gde(r);return t&&We(l,u=>{const h=pde(u,c);if(h!==!1){const d={message:Amt(u,h),type:h.issue,tokenType:u};n.push(d)}else jt(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(a=!0):ND(c,u.PATTERN)&&(a=!0)}),t&&!a&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:ri.NO_LINE_BREAKS_FLAGS}),n}function wmt(e){const t={},r=$i(e);return We(r,n=>{const a=e[n];if(Er(a))t[n]=[];else throw Error("non exhaustive match")}),t}function dde(e){const t=e.PATTERN;if(Rh(t))return!1;if(wl(t))return!0;if(jt(t,"exec"))return!0;if(oo(t))return!1;throw Error("non exhaustive match")}function Emt(e){return oo(e)&&e.length===1?e.charCodeAt(0):!1}const Smt={test:function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function pde(e,t){if(jt(e,"LINE_BREAKS"))return!1;if(Rh(e.PATTERN)){try{ND(t,e.PATTERN)}catch(r){return{issue:ri.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(oo(e.PATTERN))return!1;if(dde(e))return{issue:ri.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Amt(e,t){if(t.issue===ri.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ri.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function gde(e){return gt(e,r=>oo(r)?r.charCodeAt(0):r)}function g7(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}const d2=256;let _w=[];function rf(e){return e<d2?e:_w[e]}function kmt(){if(Gr(_w)){_w=new Array(65536);for(let e=0;e<65536;e++)_w[e]=e>255?255+~~(e/255):e}}function R3(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function HE(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let uV=1;const mde={};function O3(e){const t=Cmt(e);Imt(t),Omt(t),Rmt(t),We(t,r=>{r.isParent=r.categoryMatches.length>0})}function Cmt(e){let t=qi(e),r=e,n=!0;for(;n;){r=S3(aa(gt(r,o=>o.CATEGORIES)));const a=AA(r,t);t=t.concat(a),Gr(a)?n=!1:r=a}return t}function Imt(e){We(e,t=>{yde(t)||(mde[uV]=t,t.tokenTypeIdx=uV++),hV(t)&&!Er(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),hV(t)||(t.CATEGORIES=[]),_mt(t)||(t.categoryMatches=[]),Nmt(t)||(t.categoryMatchesMap={})})}function Rmt(e){We(e,t=>{t.categoryMatches=[],We(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(mde[n].tokenTypeIdx)})})}function Omt(e){We(e,t=>{vde([],t)})}function vde(e,t){We(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),We(t.CATEGORIES,r=>{const n=e.concat(t);Ms(n,r)||vde(n,r)})}function yde(e){return jt(e,"tokenTypeIdx")}function hV(e){return jt(e,"CATEGORIES")}function _mt(e){return jt(e,"categoryMatches")}function Nmt(e){return jt(e,"categoryMatchesMap")}function Lmt(e){return jt(e,"tokenTypeIdx")}const Mmt={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,a){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};var ri;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(ri||(ri={}));const p2={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Mmt,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(p2);class io{constructor(t,r=p2){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(a,o)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const l=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${l}--> <${a}>`);const{time:c,value:u}=lde(o),h=c>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&h(`${l}<-- <${a}> time: ${c}ms`),this.traceInitIndent--,u}else return o()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Uo({},p2,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let a,o=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===p2.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Smt;else if(this.config.lineTerminatorCharacters===p2.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Er(t)?a={modes:{defaultMode:qi(t)},defaultMode:f2}:(o=!1,a=qi(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(xmt(a,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Tmt(a,this.trackStartLines,this.config.lineTerminatorCharacters))})),a.modes=a.modes?a.modes:{},We(a.modes,(c,u)=>{a.modes[u]=CA(c,h=>Zr(h))});const l=$i(a.modes);if(We(a.modes,(c,u)=>{this.TRACE_INIT(`Mode: <${u}> processing`,()=>{if(this.modes.push(u),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(imt(c,l))}),Gr(this.lexerDefinitionErrors)){O3(c);let h;this.TRACE_INIT("analyzeTokenTypes",()=>{h=nmt(c,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[u]=h.patternIdxToConfig,this.charCodeToPatternIdxToConfig[u]=h.charCodeToPatternIdxToConfig,this.emptyGroups=Uo({},this.emptyGroups,h.emptyGroups),this.hasCustom=h.hasCustom||this.hasCustom,this.canModeBeOptimized[u]=h.canBeOptimized}})}),this.defaultMode=a.defaultMode,!Gr(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const u=gt(this.lexerDefinitionErrors,h=>h.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}We(this.lexerDefinitionWarning,c=>{ode(c.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(fde?(this.chopInput=Th,this.match=this.matchWithTest):(this.updateLastIndex=Ni,this.match=this.matchWithExec),o&&(this.handleModes=Ni),this.trackStartLines===!1&&(this.computeNewColumn=Th),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ni),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const c=Oi(this.canModeBeOptimized,(u,h,f)=>(h===!1&&u.push(f),u),[]);if(r.ensureOptimizations&&!Gr(c))throw Error(`Lexer Modes: < ${c.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Jgt()}),this.TRACE_INIT("toFastProperties",()=>{cde(this)})})}tokenize(t,r=this.defaultMode){if(!Gr(this.lexerDefinitionErrors)){const a=gt(this.lexerDefinitionErrors,o=>o.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+a)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,a,o,l,c,u,h,f,d,p,g,m,y,b,x;const T=t,w=T.length;let E=0,S=0;const C=this.hasCustom?0:Math.floor(t.length/10),k=new Array(C),O=[];let I=this.trackStartLines?1:void 0,_=this.trackStartLines?1:void 0;const R=wmt(this.emptyGroups),M=this.trackStartLines,$=this.config.lineTerminatorsPattern;let N=0,P=[],F=[];const L=[],D=[];Object.freeze(D);let B;function H(){return P}function U(Z){const J=rf(Z),oe=F[J];return oe===void 0?D:oe}const G=Z=>{if(L.length===1&&Z.tokenType.PUSH_MODE===void 0){const J=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Z);O.push({offset:Z.startOffset,line:Z.startLine,column:Z.startColumn,length:Z.image.length,message:J})}else{L.pop();const J=pu(L);P=this.patternIdxToConfig[J],F=this.charCodeToPatternIdxToConfig[J],N=P.length;const oe=this.canModeBeOptimized[J]&&this.config.safeMode===!1;F&&oe?B=U:B=H}};function W(Z){L.push(Z),F=this.charCodeToPatternIdxToConfig[Z],P=this.patternIdxToConfig[Z],N=P.length,N=P.length;const J=this.canModeBeOptimized[Z]&&this.config.safeMode===!1;F&&J?B=U:B=H}W.call(this,r);let ee;const ce=this.config.recoveryEnabled;for(;E<w;){u=null;const Z=T.charCodeAt(E),J=B(Z),oe=J.length;for(n=0;n<oe;n++){ee=J[n];const Y=ee.pattern;h=null;const X=ee.short;if(X!==!1?Z===X&&(u=Y):ee.isCustom===!0?(x=Y.exec(T,E,k,R),x!==null?(u=x[0],x.payload!==void 0&&(h=x.payload)):u=null):(this.updateLastIndex(Y,E),u=this.match(Y,t,E)),u!==null){if(c=ee.longerAlt,c!==void 0){const K=c.length;for(o=0;o<K;o++){const z=P[c[o]],j=z.pattern;if(f=null,z.isCustom===!0?(x=j.exec(T,E,k,R),x!==null?(l=x[0],x.payload!==void 0&&(f=x.payload)):l=null):(this.updateLastIndex(j,E),l=this.match(j,t,E)),l&&l.length>u.length){u=l,h=f,ee=z;break}}}break}}if(u!==null){if(d=u.length,p=ee.group,p!==void 0&&(g=ee.tokenTypeIdx,m=this.createTokenInstance(u,E,g,ee.tokenType,I,_,d),this.handlePayload(m,h),p===!1?S=this.addToken(k,S,m):R[p].push(m)),t=this.chopInput(t,d),E=E+d,_=this.computeNewColumn(_,d),M===!0&&ee.canLineTerminator===!0){let Y=0,X,K;$.lastIndex=0;do X=$.test(u),X===!0&&(K=$.lastIndex-1,Y++);while(X===!0);Y!==0&&(I=I+Y,_=d-K,this.updateTokenEndLineColumnLocation(m,p,K,Y,I,_,d))}this.handleModes(ee,G,W,m)}else{const Y=E,X=I,K=_;let z=ce===!1;for(;z===!1&&E<w;)for(t=this.chopInput(t,1),E++,a=0;a<N;a++){const j=P[a],te=j.pattern,re=j.short;if(re!==!1?T.charCodeAt(E)===re&&(z=!0):j.isCustom===!0?z=te.exec(T,E,k,R)!==null:(this.updateLastIndex(te,E),z=te.exec(t)!==null),z===!0)break}if(y=E-Y,_=this.computeNewColumn(_,y),b=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(T,Y,y,X,K),O.push({offset:Y,line:X,column:K,length:y,message:b}),ce===!1)break}}return this.hasCustom||(k.length=S),{tokens:k,groups:R,errors:O}}handleModes(t,r,n,a){if(t.pop===!0){const o=t.push;r(a),o!==void 0&&n.call(this,o)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,a,o,l,c){let u,h;r!==void 0&&(u=n===c-1,h=u?-1:0,a===1&&u===!0||(t.endLine=o+h,t.endColumn=l-1+-h))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,a){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:a}}createStartOnlyToken(t,r,n,a,o,l){return{image:t,startOffset:r,startLine:o,startColumn:l,tokenTypeIdx:n,tokenType:a}}createFullToken(t,r,n,a,o,l,c){return{image:t,startOffset:r,endOffset:r+c-1,startLine:o,endLine:o,startColumn:l,endColumn:l+c-1,tokenTypeIdx:n,tokenType:a}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){const n=t.exec(r);return n!==null?n[0]:null}}io.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";io.NA=/NOT_APPLICABLE/;function yg(e){return bde(e)?e.LABEL:e.name}function bde(e){return oo(e.LABEL)&&e.LABEL!==""}const Dmt="parent",fV="categories",dV="label",pV="group",gV="push_mode",mV="pop_mode",vV="longer_alt",yV="line_breaks",bV="start_chars_hint";function xde(e){return Pmt(e)}function Pmt(e){const t=e.pattern,r={};if(r.name=e.name,Zr(t)||(r.PATTERN=t),jt(e,Dmt))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return jt(e,fV)&&(r.CATEGORIES=e[fV]),O3([r]),jt(e,dV)&&(r.LABEL=e[dV]),jt(e,pV)&&(r.GROUP=e[pV]),jt(e,mV)&&(r.POP_MODE=e[mV]),jt(e,gV)&&(r.PUSH_MODE=e[gV]),jt(e,vV)&&(r.LONGER_ALT=e[vV]),jt(e,yV)&&(r.LINE_BREAKS=e[yV]),jt(e,bV)&&(r.START_CHARS_HINT=e[bV]),r}const nf=xde({name:"EOF",pattern:io.NA});O3([nf]);function LD(e,t,r,n,a,o,l,c){return{image:t,startOffset:r,endOffset:n,startLine:a,endLine:o,startColumn:l,endColumn:c,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Tde(e,t){return R3(e,t)}const z1={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${bde(e)?`--> ${yg(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:a}){const o="Expecting: ",c=`
but found: '`+vc(t).image+"'";if(n)return o+n+c;{const u=Oi(e,(p,g)=>p.concat(g),[]),h=gt(u,p=>`[${gt(p,g=>yg(g)).join(", ")}]`),d=`one of these possible Token sequences:
${gt(h,(p,g)=>`  ${g+1}. ${p}`).join(`
`)}`;return o+d+c}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){const a="Expecting: ",l=`
but found: '`+vc(t).image+"'";if(r)return a+r+l;{const u=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${gt(e,h=>`[${gt(h,f=>yg(f)).join(",")}]`).join(" ,")}>`;return a+u+l}}};Object.freeze(z1);const Fmt={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},Od={buildDuplicateFoundError(e,t){function r(f){return f instanceof On?f.terminalType.name:f instanceof Os?f.nonTerminalName:""}const n=e.name,a=vc(t),o=a.idx,l=Gc(a),c=r(a),u=o>0;let h=`->${l}${u?o:""}<- ${c?`with argument: ->${c}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return h=h.replace(/[ \t]+/g," "),h=h.replace(/\s\s+/g,`
`),h},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){const t=gt(e.prefixPath,a=>yg(a)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){const t=gt(e.prefixPath,a=>yg(a)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=Gc(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){const t=e.topLevelRule.name,r=gt(e.leftRecursionPath,o=>o.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof $v?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Bmt(e,t){const r=new $mt(e,t);return r.resolveRefs(),r.errors}class $mt extends Hv{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){We(an(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:_s.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}class Hmt extends UA{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=qi(this.path.ruleStack).reverse(),this.occurrenceStack=qi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const a=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,a)}}updateExpectedNext(){Gr(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Umt extends Hmt{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const a=r.concat(n),o=new lo({definition:a});this.possibleTokTypes=I3(o),this.found=!0}}}class zA extends UA{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Wmt extends zA{walkMany(t,r,n){if(t.idx===this.occurrence){const a=vc(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof On&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkMany(t,r,n)}}class xV extends zA{walkManySep(t,r,n){if(t.idx===this.occurrence){const a=vc(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof On&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkManySep(t,r,n)}}class zmt extends zA{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){const a=vc(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof On&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOne(t,r,n)}}class TV extends zA{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){const a=vc(r.concat(n));this.result.isEndOfRule=a===void 0,a instanceof On&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOneSep(t,r,n)}}function HO(e,t,r=[]){r=qi(r);let n=[],a=0;function o(c){return c.concat(ma(e,a+1))}function l(c){const u=HO(o(c),t,r);return n.concat(u)}for(;r.length<t&&a<e.length;){const c=e[a];if(c instanceof lo)return l(c.definition);if(c instanceof Os)return l(c.definition);if(c instanceof Sa)n=l(c.definition);else if(c instanceof Yo){const u=c.definition.concat([new ti({definition:c.definition})]);return l(u)}else if(c instanceof Vo){const u=[new lo({definition:c.definition}),new ti({definition:[new On({terminalType:c.separator})].concat(c.definition)})];return l(u)}else if(c instanceof go){const u=c.definition.concat([new ti({definition:[new On({terminalType:c.separator})].concat(c.definition)})]);n=l(u)}else if(c instanceof ti){const u=c.definition.concat([new ti({definition:c.definition})]);n=l(u)}else{if(c instanceof mo)return We(c.definition,u=>{Gr(u.definition)===!1&&(n=l(u.definition))}),n;if(c instanceof On)r.push(c.terminalType);else throw Error("non exhaustive match")}a++}return n.push({partialPath:r,suffixDef:ma(e,a)}),n}function wde(e,t,r,n){const a="EXIT_NONE_TERMINAL",o=[a],l="EXIT_ALTERNATIVE";let c=!1;const u=t.length,h=u-n-1,f=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Gr(d);){const p=d.pop();if(p===l){c&&pu(d).idx<=h&&d.pop();continue}const g=p.def,m=p.idx,y=p.ruleStack,b=p.occurrenceStack;if(Gr(g))continue;const x=g[0];if(x===a){const T={idx:m,def:ma(g),ruleStack:Qb(y),occurrenceStack:Qb(b)};d.push(T)}else if(x instanceof On)if(m<u-1){const T=m+1,w=t[T];if(r(w,x.terminalType)){const E={idx:T,def:ma(g),ruleStack:y,occurrenceStack:b};d.push(E)}}else if(m===u-1)f.push({nextTokenType:x.terminalType,nextTokenOccurrence:x.idx,ruleStack:y,occurrenceStack:b}),c=!0;else throw Error("non exhaustive match");else if(x instanceof Os){const T=qi(y);T.push(x.nonTerminalName);const w=qi(b);w.push(x.idx);const E={idx:m,def:x.definition.concat(o,ma(g)),ruleStack:T,occurrenceStack:w};d.push(E)}else if(x instanceof Sa){const T={idx:m,def:ma(g),ruleStack:y,occurrenceStack:b};d.push(T),d.push(l);const w={idx:m,def:x.definition.concat(ma(g)),ruleStack:y,occurrenceStack:b};d.push(w)}else if(x instanceof Yo){const T=new ti({definition:x.definition,idx:x.idx}),w=x.definition.concat([T],ma(g)),E={idx:m,def:w,ruleStack:y,occurrenceStack:b};d.push(E)}else if(x instanceof Vo){const T=new On({terminalType:x.separator}),w=new ti({definition:[T].concat(x.definition),idx:x.idx}),E=x.definition.concat([w],ma(g)),S={idx:m,def:E,ruleStack:y,occurrenceStack:b};d.push(S)}else if(x instanceof go){const T={idx:m,def:ma(g),ruleStack:y,occurrenceStack:b};d.push(T),d.push(l);const w=new On({terminalType:x.separator}),E=new ti({definition:[w].concat(x.definition),idx:x.idx}),S=x.definition.concat([E],ma(g)),C={idx:m,def:S,ruleStack:y,occurrenceStack:b};d.push(C)}else if(x instanceof ti){const T={idx:m,def:ma(g),ruleStack:y,occurrenceStack:b};d.push(T),d.push(l);const w=new ti({definition:x.definition,idx:x.idx}),E=x.definition.concat([w],ma(g)),S={idx:m,def:E,ruleStack:y,occurrenceStack:b};d.push(S)}else if(x instanceof mo)for(let T=x.definition.length-1;T>=0;T--){const w=x.definition[T],E={idx:m,def:w.definition.concat(ma(g)),ruleStack:y,occurrenceStack:b};d.push(E),d.push(l)}else if(x instanceof lo)d.push({idx:m,def:x.definition.concat(ma(g)),ruleStack:y,occurrenceStack:b});else if(x instanceof $v)d.push(Gmt(x,m,y,b));else throw Error("non exhaustive match")}return f}function Gmt(e,t,r,n){const a=qi(r);a.push(e.name);const o=qi(n);return o.push(1),{idx:t,def:e.definition,ruleStack:a,occurrenceStack:o}}var zn;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(zn||(zn={}));function MD(e){if(e instanceof Sa||e==="Option")return zn.OPTION;if(e instanceof ti||e==="Repetition")return zn.REPETITION;if(e instanceof Yo||e==="RepetitionMandatory")return zn.REPETITION_MANDATORY;if(e instanceof Vo||e==="RepetitionMandatoryWithSeparator")return zn.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof go||e==="RepetitionWithSeparator")return zn.REPETITION_WITH_SEPARATOR;if(e instanceof mo||e==="Alternation")return zn.ALTERNATION;throw Error("non exhaustive match")}function wV(e){const{occurrence:t,rule:r,prodType:n,maxLookahead:a}=e,o=MD(n);return o===zn.ALTERNATION?GA(t,r,a):YA(t,r,o,a)}function Ymt(e,t,r,n,a,o){const l=GA(e,t,r),c=Ade(l)?HE:R3;return o(l,n,c,a)}function Vmt(e,t,r,n,a,o){const l=YA(e,t,a,r),c=Ade(l)?HE:R3;return o(l[0],c,n)}function qmt(e,t,r,n){const a=e.length,o=lc(e,l=>lc(l,c=>c.length===1));if(t)return function(l){const c=gt(l,u=>u.GATE);for(let u=0;u<a;u++){const h=e[u],f=h.length,d=c[u];if(!(d!==void 0&&d.call(this)===!1))e:for(let p=0;p<f;p++){const g=h[p],m=g.length;for(let y=0;y<m;y++){const b=this.LA(y+1);if(r(b,g[y])===!1)continue e}return u}}};if(o&&!n){const l=gt(e,u=>aa(u)),c=Oi(l,(u,h,f)=>(We(h,d=>{jt(u,d.tokenTypeIdx)||(u[d.tokenTypeIdx]=f),We(d.categoryMatches,p=>{jt(u,p)||(u[p]=f)})}),u),{});return function(){const u=this.LA(1);return c[u.tokenTypeIdx]}}else return function(){for(let l=0;l<a;l++){const c=e[l],u=c.length;e:for(let h=0;h<u;h++){const f=c[h],d=f.length;for(let p=0;p<d;p++){const g=this.LA(p+1);if(r(g,f[p])===!1)continue e}return l}}}}function jmt(e,t,r){const n=lc(e,o=>o.length===1),a=e.length;if(n&&!r){const o=aa(e);if(o.length===1&&Gr(o[0].categoryMatches)){const c=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===c}}else{const l=Oi(o,(c,u,h)=>(c[u.tokenTypeIdx]=!0,We(u.categoryMatches,f=>{c[f]=!0}),c),[]);return function(){const c=this.LA(1);return l[c.tokenTypeIdx]===!0}}}else return function(){e:for(let o=0;o<a;o++){const l=e[o],c=l.length;for(let u=0;u<c;u++){const h=this.LA(u+1);if(t(h,l[u])===!1)continue e}return!0}return!1}}class Xmt extends UA{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,a){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(a),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,zn.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,zn.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,zn.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,zn.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,zn.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}}class Ede extends Hv{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,zn.OPTION)}visitRepetition(t){this.checkIsTarget(t,zn.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,zn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,zn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,zn.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,zn.ALTERNATION)}}function EV(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function m7(e){let t=[""];for(let r=0;r<e.length;r++){const n=e[r],a=[];for(let o=0;o<t.length;o++){const l=t[o];a.push(l+"_"+n.tokenTypeIdx);for(let c=0;c<n.categoryMatches.length;c++){const u="_"+n.categoryMatches[c];a.push(l+u)}}t=a}return t}function Kmt(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;const a=e[n];for(let o=0;o<t.length;o++){const l=t[o];if(a[l]===!0)return!1}}return!0}function Sde(e,t){const r=gt(e,l=>HO([l],1)),n=EV(r.length),a=gt(r,l=>{const c={};return We(l,u=>{const h=m7(u.partialPath);We(h,f=>{c[f]=!0})}),c});let o=r;for(let l=1;l<=t;l++){const c=o;o=EV(c.length);for(let u=0;u<c.length;u++){const h=c[u];for(let f=0;f<h.length;f++){const d=h[f].partialPath,p=h[f].suffixDef,g=m7(d);if(Kmt(a,g,u)||Gr(p)||d.length===t){const y=n[u];if(UO(y,d)===!1){y.push(d);for(let b=0;b<g.length;b++){const x=g[b];a[u][x]=!0}}}else{const y=HO(p,l+1,d);o[u]=o[u].concat(y),We(y,b=>{const x=m7(b.partialPath);We(x,T=>{a[u][T]=!0})})}}}}return n}function GA(e,t,r,n){const a=new Ede(e,zn.ALTERNATION,n);return t.accept(a),Sde(a.result,r)}function YA(e,t,r,n){const a=new Ede(e,r);t.accept(a);const o=a.result,c=new Xmt(t,e,r).startWalking(),u=new lo({definition:o}),h=new lo({definition:c});return Sde([u,h],n)}function UO(e,t){e:for(let r=0;r<e.length;r++){const n=e[r];if(n.length===t.length){for(let a=0;a<n.length;a++){const o=t[a],l=n[a];if((o===l||l.categoryMatchesMap[o.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Zmt(e,t){return e.length<t.length&&lc(e,(r,n)=>{const a=t[n];return r===a||a.categoryMatchesMap[r.tokenTypeIdx]})}function Ade(e){return lc(e,t=>lc(t,r=>lc(r,n=>Gr(n.categoryMatches))))}function Qmt(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return gt(t,r=>Object.assign({type:_s.CUSTOM_LOOKAHEAD_VALIDATION},r))}function Jmt(e,t,r,n){const a=Fo(e,u=>evt(u,r)),o=fvt(e,t,r),l=Fo(e,u=>lvt(u,r)),c=Fo(e,u=>nvt(u,e,n,r));return a.concat(o,l,c)}function evt(e,t){const r=new rvt;e.accept(r);const n=r.allProductions,a=Lht(n,tvt),o=Ec(a,c=>c.length>1);return gt(an(o),c=>{const u=vc(c),h=t.buildDuplicateFoundError(e,c),f=Gc(u),d={message:h,type:_s.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:f,occurrence:u.idx},p=kde(u);return p&&(d.parameter=p),d})}function tvt(e){return`${Gc(e)}_#_${e.idx}_#_${kde(e)}`}function kde(e){return e instanceof On?e.terminalType.name:e instanceof Os?e.nonTerminalName:""}class rvt extends Hv{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function nvt(e,t,r,n){const a=[];if(Oi(t,(l,c)=>c.name===e.name?l+1:l,0)>1){const l=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});a.push({message:l,type:_s.DUPLICATE_RULE_NAME,ruleName:e.name})}return a}function ivt(e,t,r){const n=[];let a;return Ms(t,e)||(a=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:a,type:_s.INVALID_RULE_OVERRIDE,ruleName:e})),n}function Cde(e,t,r,n=[]){const a=[],o=Nw(t.definition);if(Gr(o))return[];{const l=e.name;Ms(o,e)&&a.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:_s.LEFT_RECURSION,ruleName:l});const u=AA(o,n.concat([e])),h=Fo(u,f=>{const d=qi(n);return d.push(f),Cde(e,f,r,d)});return a.concat(h)}}function Nw(e){let t=[];if(Gr(e))return t;const r=vc(e);if(r instanceof Os)t.push(r.referencedRule);else if(r instanceof lo||r instanceof Sa||r instanceof Yo||r instanceof Vo||r instanceof go||r instanceof ti)t=t.concat(Nw(r.definition));else if(r instanceof mo)t=aa(gt(r.definition,o=>Nw(o.definition)));else if(!(r instanceof On))throw Error("non exhaustive match");const n=BE(r),a=e.length>1;if(n&&a){const o=ma(e);return t.concat(Nw(o))}else return t}class DD extends Hv{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function avt(e,t){const r=new DD;e.accept(r);const n=r.alternations;return Fo(n,o=>{const l=Qb(o.definition);return Fo(l,(c,u)=>{const h=wde([c],[],R3,1);return Gr(h)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:o,emptyChoiceIdx:u}),type:_s.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:o.idx,alternative:u+1}]:[]})})}function svt(e,t,r){const n=new DD;e.accept(n);let a=n.alternations;return a=CA(a,l=>l.ignoreAmbiguities===!0),Fo(a,l=>{const c=l.idx,u=l.maxLookahead||t,h=GA(c,e,u,l),f=uvt(h,l,e,r),d=hvt(h,l,e,r);return f.concat(d)})}class ovt extends Hv{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function lvt(e,t){const r=new DD;e.accept(r);const n=r.alternations;return Fo(n,o=>o.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:o}),type:_s.TOO_MANY_ALTS,ruleName:e.name,occurrence:o.idx}]:[])}function cvt(e,t,r){const n=[];return We(e,a=>{const o=new ovt;a.accept(o);const l=o.allProductions;We(l,c=>{const u=MD(c),h=c.maxLookahead||t,f=c.idx,p=YA(f,a,u,h)[0];if(Gr(aa(p))){const g=r.buildEmptyRepetitionError({topLevelRule:a,repetition:c});n.push({message:g,type:_s.NO_NON_EMPTY_LOOKAHEAD,ruleName:a.name})}})}),n}function uvt(e,t,r,n){const a=[],o=Oi(e,(c,u,h)=>(t.definition[h].ignoreAmbiguities===!0||We(u,f=>{const d=[h];We(e,(p,g)=>{h!==g&&UO(p,f)&&t.definition[g].ignoreAmbiguities!==!0&&d.push(g)}),d.length>1&&!UO(a,f)&&(a.push(f),c.push({alts:d,path:f}))}),c),[]);return gt(o,c=>{const u=gt(c.alts,f=>f+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:u,prefixPath:c.path}),type:_s.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:c.alts}})}function hvt(e,t,r,n){const a=Oi(e,(l,c,u)=>{const h=gt(c,f=>({idx:u,path:f}));return l.concat(h)},[]);return S3(Fo(a,l=>{if(t.definition[l.idx].ignoreAmbiguities===!0)return[];const u=l.idx,h=l.path,f=ni(a,p=>t.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<u&&Zmt(p.path,h));return gt(f,p=>{const g=[p.idx+1,u+1],m=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:g,prefixPath:p.path}),type:_s.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:m,alternatives:g}})}))}function fvt(e,t,r){const n=[],a=gt(t,o=>o.name);return We(e,o=>{const l=o.name;if(Ms(a,l)){const c=r.buildNamespaceConflictError(o);n.push({message:c,type:_s.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:l})}}),n}function dvt(e){const t=SA(e,{errMsgProvider:Fmt}),r={};return We(e.rules,n=>{r[n.name]=n}),Bmt(r,t.errMsgProvider)}function pvt(e){return e=SA(e,{errMsgProvider:Od}),Jmt(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}const Ide="MismatchedTokenException",Rde="NoViableAltException",Ode="EarlyExitException",_de="NotAllInputParsedException",Nde=[Ide,Rde,Ode,_de];Object.freeze(Nde);function UE(e){return Ms(Nde,e.name)}class VA extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Lde extends VA{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=Ide}}class gvt extends VA{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=Rde}}class mvt extends VA{constructor(t,r){super(t,r),this.name=_de}}class vvt extends VA{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=Ode}}const v7={},Mde="InRuleRecoveryException";class yvt extends Error{constructor(t){super(t),this.name=Mde}}class bvt{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=jt(t,"recoveryEnabled")?t.recoveryEnabled:_h.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=xvt)}getTokenToInsert(t){const r=LD(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,a){const o=this.findReSyncTokenType(),l=this.exportLexerState(),c=[];let u=!1;const h=this.LA(1);let f=this.LA(1);const d=()=>{const p=this.LA(0),g=this.errorMessageProvider.buildMismatchTokenMessage({expected:a,actual:h,previous:p,ruleName:this.getCurrRuleFullName()}),m=new Lde(g,h,this.LA(0));m.resyncedTokens=Qb(c),this.SAVE_ERROR(m)};for(;!u;)if(this.tokenMatcher(f,a)){d();return}else if(n.call(this)){d(),t.apply(this,r);return}else this.tokenMatcher(f,o)?u=!0:(f=this.SKIP_TOKEN(),this.addToResyncTokens(f,c));this.importLexerState(l)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){const n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new yvt("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||Gr(r))return!1;const n=this.LA(1);return Ih(r,o=>this.tokenMatcher(n,o))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Ms(n,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const a=Ih(t,o=>Tde(r,o));if(a!==void 0)return a;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return v7;const t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return gt(t,(n,a)=>a===0?v7:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[a],inRule:this.shortRuleNameToFullName(t[a-1])})}flattenFollowSet(){const t=gt(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return aa(t)}getFollowSetFromFollowKey(t){if(t===v7)return[nf];const r=t.ruleName+t.idxInCallingRule+ude+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,nf)||r.push(t),r}reSyncTo(t){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Qb(r)}attemptInRepetitionRecovery(t,r,n,a,o,l,c){}getCurrentGrammarPath(t,r){const n=this.getHumanReadableRuleStack(),a=qi(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:a,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return gt(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function xvt(e,t,r,n,a,o,l){const c=this.getKeyForAutomaticLookahead(n,a);let u=this.firstAfterRepMap[c];if(u===void 0){const p=this.getCurrRuleFullName(),g=this.getGAstProductions()[p];u=new o(g,a).startWalking(),this.firstAfterRepMap[c]=u}let h=u.token,f=u.occurrence;const d=u.isEndOfRule;this.RULE_STACK.length===1&&d&&h===void 0&&(h=nf,f=1),!(h===void 0||f===void 0)&&this.shouldInRepetitionRecoveryBeTried(h,f,l)&&this.tryInRepetitionRecovery(e,t,r,h)}const Tvt=4,If=8,Dde=1<<If,Pde=2<<If,WO=3<<If,zO=4<<If,GO=5<<If,Lw=6<<If;function y7(e,t,r){return r|t|e}class PD{constructor(t){var r;this.maxLookahead=(r=t==null?void 0:t.maxLookahead)!==null&&r!==void 0?r:_h.maxLookahead}validate(t){const r=this.validateNoLeftRecursion(t.rules);if(Gr(r)){const n=this.validateEmptyOrAlternatives(t.rules),a=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...a,...o]}return r}validateNoLeftRecursion(t){return Fo(t,r=>Cde(r,r,Od))}validateEmptyOrAlternatives(t){return Fo(t,r=>avt(r,Od))}validateAmbiguousAlternationAlternatives(t,r){return Fo(t,n=>svt(n,r,Od))}validateSomeNonEmptyLookaheadPath(t,r){return cvt(t,r,Od)}buildLookaheadForAlternation(t){return Ymt(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,qmt)}buildLookaheadForOptional(t){return Vmt(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,MD(t.prodType),jmt)}}class wvt{initLooksAhead(t){this.dynamicTokensEnabled=jt(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:_h.dynamicTokensEnabled,this.maxLookahead=jt(t,"maxLookahead")?t.maxLookahead:_h.maxLookahead,this.lookaheadStrategy=jt(t,"lookaheadStrategy")?t.lookaheadStrategy:new PD({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){We(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:a,option:o,repetitionMandatory:l,repetitionMandatoryWithSeparator:c,repetitionWithSeparator:u}=Svt(r);We(n,h=>{const f=h.idx===0?"":h.idx;this.TRACE_INIT(`${Gc(h)}${f}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:h.idx,rule:r,maxLookahead:h.maxLookahead||this.maxLookahead,hasPredicates:h.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=y7(this.fullRuleNameToShort[r.name],Dde,h.idx);this.setLaFuncCache(p,d)})}),We(a,h=>{this.computeLookaheadFunc(r,h.idx,WO,"Repetition",h.maxLookahead,Gc(h))}),We(o,h=>{this.computeLookaheadFunc(r,h.idx,Pde,"Option",h.maxLookahead,Gc(h))}),We(l,h=>{this.computeLookaheadFunc(r,h.idx,zO,"RepetitionMandatory",h.maxLookahead,Gc(h))}),We(c,h=>{this.computeLookaheadFunc(r,h.idx,Lw,"RepetitionMandatoryWithSeparator",h.maxLookahead,Gc(h))}),We(u,h=>{this.computeLookaheadFunc(r,h.idx,GO,"RepetitionWithSeparator",h.maxLookahead,Gc(h))})})})}computeLookaheadFunc(t,r,n,a,o,l){this.TRACE_INIT(`${l}${r===0?"":r}`,()=>{const c=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:a}),u=y7(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(u,c)})}getKeyForAutomaticLookahead(t,r){const n=this.getLastExplicitRuleShortName();return y7(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}}class Evt extends Hv{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const b4=new Evt;function Svt(e){b4.reset(),e.accept(b4);const t=b4.dslMethods;return b4.reset(),t}function SV(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function AV(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Avt(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function kvt(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}const Cvt="name";function Fde(e,t){Object.defineProperty(e,Cvt,{enumerable:!1,configurable:!0,writable:!1,value:t})}function Ivt(e,t){const r=$i(e),n=r.length;for(let a=0;a<n;a++){const o=r[a],l=e[o],c=l.length;for(let u=0;u<c;u++){const h=l[u];h.tokenTypeIdx===void 0&&this[h.name](h.children,t)}}}function Rvt(e,t){const r=function(){};Fde(r,e+"BaseSemantics");const n={visit:function(a,o){if(Er(a)&&(a=a[0]),!Zr(a))return this[a.name](a.children,o)},validateVisitor:function(){const a=_vt(this,t);if(!Gr(a)){const o=gt(a,l=>l.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${o.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function Ovt(e,t,r){const n=function(){};Fde(n,e+"BaseSemanticsWithDefaults");const a=Object.create(r.prototype);return We(t,o=>{a[o]=Ivt}),n.prototype=a,n.prototype.constructor=n,n}var YO;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(YO||(YO={}));function _vt(e,t){return Nvt(e,t)}function Nvt(e,t){const r=ni(t,a=>wl(e[a])===!1),n=gt(r,a=>({msg:`Missing visitor method: <${a}> on ${e.constructor.name} CST Visitor.`,type:YO.MISSING_METHOD,methodName:a}));return S3(n)}class Lvt{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=jt(t,"nodeLocationTracking")?t.nodeLocationTracking:_h.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ni,this.cstFinallyStateUpdate=Ni,this.cstPostTerminal=Ni,this.cstPostNonTerminal=Ni,this.cstPostRule=Ni;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=AV,this.setNodeLocationFromNode=AV,this.cstPostRule=Ni,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=SV,this.setNodeLocationFromNode=SV,this.cstPostRule=Ni,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=Ni,this.setInitialNodeLocation=Ni;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];Avt(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];kvt(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(Zr(this.baseCstVisitorConstructor)){const t=Rvt(this.className,$i(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Zr(this.baseCstVisitorWithDefaultsConstructor)){const t=Ovt(this.className,$i(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class Mvt{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):zE}LA(t){const r=this.currIdx+t;return r<0||this.tokVectorLength<=r?zE:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Dvt{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=GE){if(Ms(this.definedRulesNames,t)){const l={message:Od.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:_s.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(l)}this.definedRulesNames.push(t);const a=this.defineRule(t,r,n);return this[t]=a,a}OVERRIDE_RULE(t,r,n=GE){const a=ivt(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(a);const o=this.defineRule(t,r,n);return this[t]=o,o}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,r),!0}catch(a){if(UE(a))return!1;throw a}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return zgt(an(this.gastProductionsCache))}}class Pvt{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=HE,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},jt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Er(t)){if(Gr(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Er(t))this.tokensMap=Oi(t,(o,l)=>(o[l.name]=l,o),{});else if(jt(t,"modes")&&lc(aa(an(t.modes)),Lmt)){const o=aa(an(t.modes)),l=sD(o);this.tokensMap=Oi(l,(c,u)=>(c[u.name]=u,c),{})}else if(so(t))this.tokensMap=qi(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=nf;const n=jt(t,"modes")?aa(an(t.modes)):an(t),a=lc(n,o=>Gr(o.categoryMatches));this.tokenMatcher=a?HE:R3,O3(an(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const a=jt(n,"resyncEnabled")?n.resyncEnabled:GE.resyncEnabled,o=jt(n,"recoveryValueFunc")?n.recoveryValueFunc:GE.recoveryValueFunc,l=this.ruleShortNameIdx<<Tvt+If;this.ruleShortNameIdx++,this.shortRuleNameToFull[l]=t,this.fullRuleNameToShort[t]=l;let c;return this.outputCst===!0?c=function(...f){try{this.ruleInvocationStateUpdate(l,t,this.subruleIdx),r.apply(this,f);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,a,o)}finally{this.ruleFinallyStateUpdate()}}:c=function(...f){try{return this.ruleInvocationStateUpdate(l,t,this.subruleIdx),r.apply(this,f)}catch(d){return this.invokeRuleCatch(d,a,o)}finally{this.ruleFinallyStateUpdate()}},Object.assign(c,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){const a=this.RULE_STACK.length===1,o=r&&!this.isBackTracking()&&this.recoveryEnabled;if(UE(t)){const l=t;if(o){const c=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(c))if(l.resyncedTokens=this.reSyncTo(c),this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];return u.recoveredNode=!0,u}else return n(t);else{if(this.outputCst){const u=this.CST_STACK[this.CST_STACK.length-1];u.recoveredNode=!0,l.partialCstResult=u}throw l}}else{if(a)return this.moveToTerminatedState(),n(t);throw l}}else throw t}optionInternal(t,r){const n=this.getKeyForAutomaticLookahead(Pde,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let a=this.getLaFuncFromCache(n),o;if(typeof t!="function"){o=t.DEF;const l=t.GATE;if(l!==void 0){const c=a;a=()=>l.call(this)&&c.call(this)}}else o=t;if(a.call(this)===!0)return o.call(this)}atLeastOneInternal(t,r){const n=this.getKeyForAutomaticLookahead(zO,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let a=this.getLaFuncFromCache(n),o;if(typeof r!="function"){o=r.DEF;const l=r.GATE;if(l!==void 0){const c=a;a=()=>l.call(this)&&c.call(this)}}else o=r;if(a.call(this)===!0){let l=this.doSingleRepetition(o);for(;a.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o)}else throw this.raiseEarlyExitException(t,zn.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],a,zO,t,zmt)}atLeastOneSepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(Lw,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){const a=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){a.call(this);const c=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,c,a,TV],c,Lw,t,TV)}else throw this.raiseEarlyExitException(t,zn.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){const n=this.getKeyForAutomaticLookahead(WO,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let a=this.getLaFuncFromCache(n),o;if(typeof r!="function"){o=r.DEF;const c=r.GATE;if(c!==void 0){const u=a;a=()=>c.call(this)&&u.call(this)}}else o=r;let l=!0;for(;a.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],a,WO,t,Wmt,l)}manySepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(GO,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){const a=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){a.call(this);const c=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,c,a,xV],c,GO,t,xV)}}repetitionSepSecondInternal(t,r,n,a,o){for(;n();)this.CONSUME(r),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,a,o],n,Lw,t,o)}doSingleRepetition(t){const r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){const n=this.getKeyForAutomaticLookahead(Dde,r),a=Er(t)?t:t.DEF,l=this.getLaFuncFromCache(n).call(this,a);if(l!==void 0)return a[l].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new mvt(r,t))}}subruleInternal(t,r,n){let a;try{const o=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,a=t.apply(this,o),this.cstPostNonTerminal(a,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),a}catch(o){throw this.subruleInternalError(o,n,t.ruleName)}}subruleInternalError(t,r,n){throw UE(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let a;try{const o=this.LA(1);this.tokenMatcher(o,t)===!0?(this.consumeToken(),a=o):this.consumeInternalError(t,o,n)}catch(o){a=this.consumeInternalRecovery(t,r,o)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,a),a}consumeInternalError(t,r,n){let a;const o=this.LA(0);throw n!==void 0&&n.ERR_MSG?a=n.ERR_MSG:a=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Lde(a,r,o))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const a=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,a)}catch(o){throw o.name===Mde?n:o}}else throw n}saveRecogState(){const t=this.errors,r=qi(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),nf)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Fvt{initErrorHandler(t){this._errors=[],this.errorMessageProvider=jt(t,"errorMessageProvider")?t.errorMessageProvider:_h.errorMessageProvider}SAVE_ERROR(t){if(UE(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:qi(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return qi(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){const a=this.getCurrRuleFullName(),o=this.getGAstProductions()[a],c=YA(t,o,r,this.maxLookahead)[0],u=[];for(let f=1;f<=this.maxLookahead;f++)u.push(this.LA(f));const h=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:c,actual:u,previous:this.LA(0),customUserDescription:n,ruleName:a});throw this.SAVE_ERROR(new vvt(h,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){const n=this.getCurrRuleFullName(),a=this.getGAstProductions()[n],o=GA(t,a,this.maxLookahead),l=[];for(let h=1;h<=this.maxLookahead;h++)l.push(this.LA(h));const c=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:l,previous:c,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new gvt(u,this.LA(1),c))}}class Bvt{initContentAssist(){}computeContentAssist(t,r){const n=this.gastProductionsCache[t];if(Zr(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return wde([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const r=vc(t.ruleStack),a=this.getGAstProductions()[r];return new Umt(a,t).startWalking()}}const qA={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(qA);const kV=!0,CV=Math.pow(2,If)-1,Bde=xde({name:"RECORDING_PHASE_TOKEN",pattern:io.NA});O3([Bde]);const $de=LD(Bde,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze($de);const $vt={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class Hvt{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const r=t>0?t:"";this[`CONSUME${r}`]=function(n,a){return this.consumeInternalRecord(n,t,a)},this[`SUBRULE${r}`]=function(n,a){return this.subruleInternalRecord(n,t,a)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return zE}topLevelRuleRecord(t,r){try{const n=new $v({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return zy.call(this,Sa,t,r)}atLeastOneInternalRecord(t,r){zy.call(this,Yo,r,t)}atLeastOneSepFirstInternalRecord(t,r){zy.call(this,Vo,r,t,kV)}manyInternalRecord(t,r){zy.call(this,ti,r,t)}manySepFirstInternalRecord(t,r){zy.call(this,go,r,t,kV)}orInternalRecord(t,r){return Uvt.call(this,t,r)}subruleInternalRecord(t,r,n){if(WE(r),!t||jt(t,"ruleName")===!1){const c=new Error(`<SUBRULE${IV(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw c.KNOWN_RECORDER_ERROR=!0,c}const a=pu(this.recordingProdStack),o=t.ruleName,l=new Os({idx:r,nonTerminalName:o,label:n==null?void 0:n.LABEL,referencedRule:void 0});return a.definition.push(l),this.outputCst?$vt:qA}consumeInternalRecord(t,r,n){if(WE(r),!yde(t)){const l=new Error(`<CONSUME${IV(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw l.KNOWN_RECORDER_ERROR=!0,l}const a=pu(this.recordingProdStack),o=new On({idx:r,terminalType:t,label:n==null?void 0:n.LABEL});return a.definition.push(o),$de}}function zy(e,t,r,n=!1){WE(r);const a=pu(this.recordingProdStack),o=wl(t)?t:t.DEF,l=new e({definition:[],idx:r});return n&&(l.separator=t.SEP),jt(t,"MAX_LOOKAHEAD")&&(l.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(l),o.call(this),a.definition.push(l),this.recordingProdStack.pop(),qA}function Uvt(e,t){WE(t);const r=pu(this.recordingProdStack),n=Er(e)===!1,a=n===!1?e:e.DEF,o=new mo({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});jt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);const l=S0e(a,c=>wl(c.GATE));return o.hasPredicates=l,r.definition.push(o),We(a,c=>{const u=new lo({definition:[]});o.definition.push(u),jt(c,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=c.IGNORE_AMBIGUITIES:jt(c,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),c.ALT.call(this),this.recordingProdStack.pop()}),qA}function IV(e){return e===0?"":`${e}`}function WE(e){if(e<0||e>CV){const t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${CV+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class Wvt{initPerformanceTracer(t){if(jt(t,"traceInitPerf")){const r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=_h.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);const{time:a,value:o}=lde(r),l=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&l(`${n}<-- <${t}> time: ${a}ms`),this.traceInitIndent--,o}else return r()}}function zvt(e,t){t.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(a=>{if(a==="constructor")return;const o=Object.getOwnPropertyDescriptor(n,a);o&&(o.get||o.set)?Object.defineProperty(e.prototype,a,o):e.prototype[a]=r.prototype[a]})})}const zE=LD(nf,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(zE);const _h=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:z1,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),GE=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var _s;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(_s||(_s={}));function RV(e=void 0){return function(){return e}}class _3{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{cde(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),We(this.definedRulesNames,a=>{const l=this[a].originalGrammarAction;let c;this.TRACE_INIT(`${a} Rule`,()=>{c=this.topLevelRuleRecord(a,l)}),this.gastProductionsCache[a]=c})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=dvt({rules:an(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Gr(n)&&this.skipValidations===!1){const a=pvt({rules:an(this.gastProductionsCache),tokenTypes:an(this.tokensMap),errMsgProvider:Od,grammarName:r}),o=Qmt({lookaheadStrategy:this.lookaheadStrategy,rules:an(this.gastProductionsCache),tokenTypes:an(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(a,o)}}),Gr(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const a=Kgt(an(this.gastProductionsCache));this.resyncFollows=a}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var a,o;(o=(a=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(a,{rules:an(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(an(this.gastProductionsCache))})),!_3.DEFER_DEFINITION_ERRORS_HANDLING&&!Gr(this.definitionErrors))throw t=gt(this.definitionErrors,a=>a.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),jt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=jt(r,"skipValidations")?r.skipValidations:_h.skipValidations}}_3.DEFER_DEFINITION_ERRORS_HANDLING=!1;zvt(_3,[bvt,wvt,Lvt,Mvt,Pvt,Dvt,Fvt,Bvt,Hvt,Wvt]);class Gvt extends _3{constructor(t,r=_h){const n=qi(r);n.outputCst=!1,super(t,n)}}function Ym(e,t,r){return`${e.name}_${t}_${r}`}const af=1,Yvt=2,Hde=4,Ude=5,N3=7,Vvt=8,qvt=9,jvt=10,Xvt=11,Wde=12;class FD{constructor(t){this.target=t}isEpsilon(){return!1}}class BD extends FD{constructor(t,r){super(t),this.tokenType=r}}class zde extends FD{constructor(t){super(t)}isEpsilon(){return!0}}class $D extends FD{constructor(t,r,n){super(t),this.rule=r,this.followState=n}isEpsilon(){return!0}}function Kvt(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};Zvt(t,e);const r=e.length;for(let n=0;n<r;n++){const a=e[n],o=zp(t,a,a);o!==void 0&&lyt(t,a,o)}return t}function Zvt(e,t){const r=t.length;for(let n=0;n<r;n++){const a=t[n],o=sa(e,a,void 0,{type:Yvt}),l=sa(e,a,void 0,{type:N3});o.stop=l,e.ruleToStartState.set(a,o),e.ruleToStopState.set(a,l)}}function Gde(e,t,r){return r instanceof On?HD(e,t,r.terminalType,r):r instanceof Os?oyt(e,t,r):r instanceof mo?ryt(e,t,r):r instanceof Sa?nyt(e,t,r):r instanceof ti?Qvt(e,t,r):r instanceof go?Jvt(e,t,r):r instanceof Yo?eyt(e,t,r):r instanceof Vo?tyt(e,t,r):zp(e,t,r)}function Qvt(e,t,r){const n=sa(e,t,r,{type:Ude});Rf(e,n);const a=Uv(e,t,n,r,zp(e,t,r));return Vde(e,t,r,a)}function Jvt(e,t,r){const n=sa(e,t,r,{type:Ude});Rf(e,n);const a=Uv(e,t,n,r,zp(e,t,r)),o=HD(e,t,r.separator,r);return Vde(e,t,r,a,o)}function eyt(e,t,r){const n=sa(e,t,r,{type:Hde});Rf(e,n);const a=Uv(e,t,n,r,zp(e,t,r));return Yde(e,t,r,a)}function tyt(e,t,r){const n=sa(e,t,r,{type:Hde});Rf(e,n);const a=Uv(e,t,n,r,zp(e,t,r)),o=HD(e,t,r.separator,r);return Yde(e,t,r,a,o)}function ryt(e,t,r){const n=sa(e,t,r,{type:af});Rf(e,n);const a=gt(r.definition,l=>Gde(e,t,l));return Uv(e,t,n,r,...a)}function nyt(e,t,r){const n=sa(e,t,r,{type:af});Rf(e,n);const a=Uv(e,t,n,r,zp(e,t,r));return iyt(e,t,r,a)}function zp(e,t,r){const n=ni(gt(r.definition,a=>Gde(e,t,a)),a=>a!==void 0);return n.length===1?n[0]:n.length===0?void 0:syt(e,n)}function Yde(e,t,r,n,a){const o=n.left,l=n.right,c=sa(e,t,r,{type:Xvt});Rf(e,c);const u=sa(e,t,r,{type:Wde});return o.loopback=c,u.loopback=c,e.decisionMap[Ym(t,a?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=c,Ei(l,c),a===void 0?(Ei(c,o),Ei(c,u)):(Ei(c,u),Ei(c,a.left),Ei(a.right,o)),{left:o,right:u}}function Vde(e,t,r,n,a){const o=n.left,l=n.right,c=sa(e,t,r,{type:jvt});Rf(e,c);const u=sa(e,t,r,{type:Wde}),h=sa(e,t,r,{type:qvt});return c.loopback=h,u.loopback=h,Ei(c,o),Ei(c,u),Ei(l,h),a!==void 0?(Ei(h,u),Ei(h,a.left),Ei(a.right,o)):Ei(h,c),e.decisionMap[Ym(t,a?"RepetitionWithSeparator":"Repetition",r.idx)]=c,{left:c,right:u}}function iyt(e,t,r,n){const a=n.left,o=n.right;return Ei(a,o),e.decisionMap[Ym(t,"Option",r.idx)]=a,n}function Rf(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Uv(e,t,r,n,...a){const o=sa(e,t,n,{type:Vvt,start:r});r.end=o;for(const c of a)c!==void 0?(Ei(r,c.left),Ei(c.right,o)):Ei(r,o);const l={left:r,right:o};return e.decisionMap[Ym(t,ayt(n),n.idx)]=r,l}function ayt(e){if(e instanceof mo)return"Alternation";if(e instanceof Sa)return"Option";if(e instanceof ti)return"Repetition";if(e instanceof go)return"RepetitionWithSeparator";if(e instanceof Yo)return"RepetitionMandatory";if(e instanceof Vo)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function syt(e,t){const r=t.length;for(let o=0;o<r-1;o++){const l=t[o];let c;l.left.transitions.length===1&&(c=l.left.transitions[0]);const u=c instanceof $D,h=c,f=t[o+1].left;l.left.type===af&&l.right.type===af&&c!==void 0&&(u&&h.followState===l.right||c.target===l.right)?(u?h.followState=f:c.target=f,cyt(e,l.right)):Ei(l.right,f)}const n=t[0],a=t[r-1];return{left:n.left,right:a.right}}function HD(e,t,r,n){const a=sa(e,t,n,{type:af}),o=sa(e,t,n,{type:af});return UD(a,new BD(o,r)),{left:a,right:o}}function oyt(e,t,r){const n=r.referencedRule,a=e.ruleToStartState.get(n),o=sa(e,t,r,{type:af}),l=sa(e,t,r,{type:af}),c=new $D(a,n,l);return UD(o,c),{left:o,right:l}}function lyt(e,t,r){const n=e.ruleToStartState.get(t);Ei(n,r.left);const a=e.ruleToStopState.get(t);return Ei(r.right,a),{left:n,right:a}}function Ei(e,t){const r=new zde(t);UD(e,r)}function sa(e,t,r,n){const a=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(a),a}function UD(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function cyt(e,t){e.states.splice(e.states.indexOf(t),1)}const YE={};class VO{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){const r=qde(t);r in this.map||(this.map[r]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return gt(this.configs,t=>t.alt)}get key(){let t="";for(const r in this.map)t+=r+":";return t}}function qde(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}function uyt(e,t){const r={};return n=>{const a=n.toString();let o=r[a];return o!==void 0||(o={atnStartState:e,decision:t,states:{}},r[a]=o),o}}class jde{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="";const r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}}const OV=new jde;class hyt extends PD{constructor(t){var r;super(),this.logging=(r=t==null?void 0:t.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(t){this.atn=Kvt(t.rules),this.dfas=fyt(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){const{prodOccurrence:r,rule:n,hasPredicates:a,dynamicTokensEnabled:o}=t,l=this.dfas,c=this.logging,u=Ym(n,"Alternation",r),f=this.atn.decisionMap[u].decision,d=gt(wV({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),p=>gt(p,g=>g[0]));if(_V(d,!1)&&!o){const p=Oi(d,(g,m,y)=>(We(m,b=>{b&&(g[b.tokenTypeIdx]=y,We(b.categoryMatches,x=>{g[x]=y}))}),g),{});return a?function(g){var m;const y=this.LA(1),b=p[y.tokenTypeIdx];if(g!==void 0&&b!==void 0){const x=(m=g[b])===null||m===void 0?void 0:m.GATE;if(x!==void 0&&x.call(this)===!1)return}return b}:function(){const g=this.LA(1);return p[g.tokenTypeIdx]}}else return a?function(p){const g=new jde,m=p===void 0?0:p.length;for(let b=0;b<m;b++){const x=p==null?void 0:p[b].GATE;g.set(b,x===void 0||x.call(this))}const y=b7.call(this,l,f,g,c);return typeof y=="number"?y:void 0}:function(){const p=b7.call(this,l,f,OV,c);return typeof p=="number"?p:void 0}}buildLookaheadForOptional(t){const{prodOccurrence:r,rule:n,prodType:a,dynamicTokensEnabled:o}=t,l=this.dfas,c=this.logging,u=Ym(n,a,r),f=this.atn.decisionMap[u].decision,d=gt(wV({maxLookahead:1,occurrence:r,prodType:a,rule:n}),p=>gt(p,g=>g[0]));if(_V(d)&&d[0][0]&&!o){const p=d[0],g=aa(p);if(g.length===1&&Gr(g[0].categoryMatches)){const y=g[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===y}}else{const m=Oi(g,(y,b)=>(b!==void 0&&(y[b.tokenTypeIdx]=!0,We(b.categoryMatches,x=>{y[x]=!0})),y),{});return function(){const y=this.LA(1);return m[y.tokenTypeIdx]===!0}}}return function(){const p=b7.call(this,l,f,OV,c);return typeof p=="object"?!1:p===0}}}function _V(e,t=!0){const r=new Set;for(const n of e){const a=new Set;for(const o of n){if(o===void 0){if(t)break;return!1}const l=[o.tokenTypeIdx].concat(o.categoryMatches);for(const c of l)if(r.has(c)){if(!a.has(c))return!1}else r.add(c),a.add(c)}}return!0}function fyt(e){const t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=uyt(e.decisionStates[n],n);return r}function b7(e,t,r,n){const a=e[t](r);let o=a.start;if(o===void 0){const c=Eyt(a.atnStartState);o=Kde(a,Xde(c)),a.start=o}return dyt.apply(this,[a,o,r,n])}function dyt(e,t,r,n){let a=t,o=1;const l=[];let c=this.LA(o++);for(;;){let u=byt(a,c);if(u===void 0&&(u=pyt.apply(this,[e,a,c,o,r,n])),u===YE)return yyt(l,a,c);if(u.isAcceptState===!0)return u.prediction;a=u,l.push(c),c=this.LA(o++)}}function pyt(e,t,r,n,a,o){const l=xyt(t.configs,r,a);if(l.size===0)return NV(e,t,r,YE),YE;let c=Xde(l);const u=wyt(l,a);if(u!==void 0)c.isAcceptState=!0,c.prediction=u,c.configs.uniqueAlt=u;else if(Cyt(l)){const h=Um(l.alts);c.isAcceptState=!0,c.prediction=h,c.configs.uniqueAlt=h,gyt.apply(this,[e,n,l.alts,o])}return c=NV(e,t,r,c),c}function gyt(e,t,r,n){const a=[];for(let h=1;h<=t;h++)a.push(this.LA(h).tokenType);const o=e.atnStartState,l=o.rule,c=o.production,u=myt({topLevelRule:l,ambiguityIndices:r,production:c,prefixPath:a});n(u)}function myt(e){const t=gt(e.prefixPath,a=>yg(a)).join(", "),r=e.production.idx===0?"":e.production.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${vyt(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function vyt(e){if(e instanceof Os)return"SUBRULE";if(e instanceof Sa)return"OPTION";if(e instanceof mo)return"OR";if(e instanceof Yo)return"AT_LEAST_ONE";if(e instanceof Vo)return"AT_LEAST_ONE_SEP";if(e instanceof go)return"MANY_SEP";if(e instanceof ti)return"MANY";if(e instanceof On)return"CONSUME";throw Error("non exhaustive match")}function yyt(e,t,r){const n=Fo(t.configs.elements,o=>o.state.transitions),a=o0t(n.filter(o=>o instanceof BD).map(o=>o.tokenType),o=>o.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:a,tokenPath:e}}function byt(e,t){return e.edges[t.tokenTypeIdx]}function xyt(e,t,r){const n=new VO,a=[];for(const l of e.elements){if(r.is(l.alt)===!1)continue;if(l.state.type===N3){a.push(l);continue}const c=l.state.transitions.length;for(let u=0;u<c;u++){const h=l.state.transitions[u],f=Tyt(h,t);f!==void 0&&n.add({state:f,alt:l.alt,stack:l.stack})}}let o;if(a.length===0&&n.size===1&&(o=n),o===void 0){o=new VO;for(const l of n.elements)VE(l,o)}if(a.length>0&&!Ayt(o))for(const l of a)o.add(l);return o}function Tyt(e,t){if(e instanceof BD&&Tde(t,e.tokenType))return e.target}function wyt(e,t){let r;for(const n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function Xde(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function NV(e,t,r,n){return n=Kde(e,n),t.edges[r.tokenTypeIdx]=n,n}function Kde(e,t){if(t===YE)return t;const r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function Eyt(e){const t=new VO,r=e.transitions.length;for(let n=0;n<r;n++){const o={state:e.transitions[n].target,alt:n,stack:[]};VE(o,t)}return t}function VE(e,t){const r=e.state;if(r.type===N3){if(e.stack.length>0){const a=[...e.stack],l={state:a.pop(),alt:e.alt,stack:a};VE(l,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);const n=r.transitions.length;for(let a=0;a<n;a++){const o=r.transitions[a],l=Syt(e,o);l!==void 0&&VE(l,t)}}function Syt(e,t){if(t instanceof zde)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof $D){const r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function Ayt(e){for(const t of e.elements)if(t.state.type===N3)return!0;return!1}function kyt(e){for(const t of e.elements)if(t.state.type!==N3)return!1;return!0}function Cyt(e){if(kyt(e))return!0;const t=Iyt(e.elements);return Ryt(t)&&!Oyt(t)}function Iyt(e){const t=new Map;for(const r of e){const n=qde(r,!1);let a=t.get(n);a===void 0&&(a={},t.set(n,a)),a[r.alt]=!0}return t}function Ryt(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function Oyt(e){for(const t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var LV;(function(e){function t(r){return typeof r=="string"}e.is=t})(LV||(LV={}));var qO;(function(e){function t(r){return typeof r=="string"}e.is=t})(qO||(qO={}));var MV;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(MV||(MV={}));var qE;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(qE||(qE={}));var jr;(function(e){function t(n,a){return n===Number.MAX_VALUE&&(n=qE.MAX_VALUE),a===Number.MAX_VALUE&&(a=qE.MAX_VALUE),{line:n,character:a}}e.create=t;function r(n){let a=n;return Ge.objectLiteral(a)&&Ge.uinteger(a.line)&&Ge.uinteger(a.character)}e.is=r})(jr||(jr={}));var Or;(function(e){function t(n,a,o,l){if(Ge.uinteger(n)&&Ge.uinteger(a)&&Ge.uinteger(o)&&Ge.uinteger(l))return{start:jr.create(n,a),end:jr.create(o,l)};if(jr.is(n)&&jr.is(a))return{start:n,end:a};throw new Error(`Range#create called with invalid arguments[${n}, ${a}, ${o}, ${l}]`)}e.create=t;function r(n){let a=n;return Ge.objectLiteral(a)&&jr.is(a.start)&&jr.is(a.end)}e.is=r})(Or||(Or={}));var jE;(function(e){function t(n,a){return{uri:n,range:a}}e.create=t;function r(n){let a=n;return Ge.objectLiteral(a)&&Or.is(a.range)&&(Ge.string(a.uri)||Ge.undefined(a.uri))}e.is=r})(jE||(jE={}));var DV;(function(e){function t(n,a,o,l){return{targetUri:n,targetRange:a,targetSelectionRange:o,originSelectionRange:l}}e.create=t;function r(n){let a=n;return Ge.objectLiteral(a)&&Or.is(a.targetRange)&&Ge.string(a.targetUri)&&Or.is(a.targetSelectionRange)&&(Or.is(a.originSelectionRange)||Ge.undefined(a.originSelectionRange))}e.is=r})(DV||(DV={}));var jO;(function(e){function t(n,a,o,l){return{red:n,green:a,blue:o,alpha:l}}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&Ge.numberRange(a.red,0,1)&&Ge.numberRange(a.green,0,1)&&Ge.numberRange(a.blue,0,1)&&Ge.numberRange(a.alpha,0,1)}e.is=r})(jO||(jO={}));var PV;(function(e){function t(n,a){return{range:n,color:a}}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&Or.is(a.range)&&jO.is(a.color)}e.is=r})(PV||(PV={}));var FV;(function(e){function t(n,a,o){return{label:n,textEdit:a,additionalTextEdits:o}}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&Ge.string(a.label)&&(Ge.undefined(a.textEdit)||qm.is(a))&&(Ge.undefined(a.additionalTextEdits)||Ge.typedArray(a.additionalTextEdits,qm.is))}e.is=r})(FV||(FV={}));var BV;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(BV||(BV={}));var $V;(function(e){function t(n,a,o,l,c,u){const h={startLine:n,endLine:a};return Ge.defined(o)&&(h.startCharacter=o),Ge.defined(l)&&(h.endCharacter=l),Ge.defined(c)&&(h.kind=c),Ge.defined(u)&&(h.collapsedText=u),h}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&Ge.uinteger(a.startLine)&&Ge.uinteger(a.startLine)&&(Ge.undefined(a.startCharacter)||Ge.uinteger(a.startCharacter))&&(Ge.undefined(a.endCharacter)||Ge.uinteger(a.endCharacter))&&(Ge.undefined(a.kind)||Ge.string(a.kind))}e.is=r})($V||($V={}));var XO;(function(e){function t(n,a){return{location:n,message:a}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&jE.is(a.location)&&Ge.string(a.message)}e.is=r})(XO||(XO={}));var HV;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(HV||(HV={}));var UV;(function(e){e.Unnecessary=1,e.Deprecated=2})(UV||(UV={}));var WV;(function(e){function t(r){const n=r;return Ge.objectLiteral(n)&&Ge.string(n.href)}e.is=t})(WV||(WV={}));var XE;(function(e){function t(n,a,o,l,c,u){let h={range:n,message:a};return Ge.defined(o)&&(h.severity=o),Ge.defined(l)&&(h.code=l),Ge.defined(c)&&(h.source=c),Ge.defined(u)&&(h.relatedInformation=u),h}e.create=t;function r(n){var a;let o=n;return Ge.defined(o)&&Or.is(o.range)&&Ge.string(o.message)&&(Ge.number(o.severity)||Ge.undefined(o.severity))&&(Ge.integer(o.code)||Ge.string(o.code)||Ge.undefined(o.code))&&(Ge.undefined(o.codeDescription)||Ge.string((a=o.codeDescription)===null||a===void 0?void 0:a.href))&&(Ge.string(o.source)||Ge.undefined(o.source))&&(Ge.undefined(o.relatedInformation)||Ge.typedArray(o.relatedInformation,XO.is))}e.is=r})(XE||(XE={}));var Vm;(function(e){function t(n,a,...o){let l={title:n,command:a};return Ge.defined(o)&&o.length>0&&(l.arguments=o),l}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.string(a.title)&&Ge.string(a.command)}e.is=r})(Vm||(Vm={}));var qm;(function(e){function t(o,l){return{range:o,newText:l}}e.replace=t;function r(o,l){return{range:{start:o,end:o},newText:l}}e.insert=r;function n(o){return{range:o,newText:""}}e.del=n;function a(o){const l=o;return Ge.objectLiteral(l)&&Ge.string(l.newText)&&Or.is(l.range)}e.is=a})(qm||(qm={}));var KO;(function(e){function t(n,a,o){const l={label:n};return a!==void 0&&(l.needsConfirmation=a),o!==void 0&&(l.description=o),l}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&Ge.string(a.label)&&(Ge.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(Ge.string(a.description)||a.description===void 0)}e.is=r})(KO||(KO={}));var jm;(function(e){function t(r){const n=r;return Ge.string(n)}e.is=t})(jm||(jm={}));var zV;(function(e){function t(o,l,c){return{range:o,newText:l,annotationId:c}}e.replace=t;function r(o,l,c){return{range:{start:o,end:o},newText:l,annotationId:c}}e.insert=r;function n(o,l){return{range:o,newText:"",annotationId:l}}e.del=n;function a(o){const l=o;return qm.is(l)&&(KO.is(l.annotationId)||jm.is(l.annotationId))}e.is=a})(zV||(zV={}));var ZO;(function(e){function t(n,a){return{textDocument:n,edits:a}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&r_.is(a.textDocument)&&Array.isArray(a.edits)}e.is=r})(ZO||(ZO={}));var QO;(function(e){function t(n,a,o){let l={kind:"create",uri:n};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),o!==void 0&&(l.annotationId=o),l}e.create=t;function r(n){let a=n;return a&&a.kind==="create"&&Ge.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||Ge.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||Ge.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||jm.is(a.annotationId))}e.is=r})(QO||(QO={}));var JO;(function(e){function t(n,a,o,l){let c={kind:"rename",oldUri:n,newUri:a};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),l!==void 0&&(c.annotationId=l),c}e.create=t;function r(n){let a=n;return a&&a.kind==="rename"&&Ge.string(a.oldUri)&&Ge.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||Ge.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||Ge.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||jm.is(a.annotationId))}e.is=r})(JO||(JO={}));var e_;(function(e){function t(n,a,o){let l={kind:"delete",uri:n};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(l.options=a),o!==void 0&&(l.annotationId=o),l}e.create=t;function r(n){let a=n;return a&&a.kind==="delete"&&Ge.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||Ge.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||Ge.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||jm.is(a.annotationId))}e.is=r})(e_||(e_={}));var t_;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(a=>Ge.string(a.kind)?QO.is(a)||JO.is(a)||e_.is(a):ZO.is(a)))}e.is=t})(t_||(t_={}));var GV;(function(e){function t(n){return{uri:n}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.string(a.uri)}e.is=r})(GV||(GV={}));var YV;(function(e){function t(n,a){return{uri:n,version:a}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.string(a.uri)&&Ge.integer(a.version)}e.is=r})(YV||(YV={}));var r_;(function(e){function t(n,a){return{uri:n,version:a}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.string(a.uri)&&(a.version===null||Ge.integer(a.version))}e.is=r})(r_||(r_={}));var VV;(function(e){function t(n,a,o,l){return{uri:n,languageId:a,version:o,text:l}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.string(a.uri)&&Ge.string(a.languageId)&&Ge.integer(a.version)&&Ge.string(a.text)}e.is=r})(VV||(VV={}));var n_;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){const n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(n_||(n_={}));var ix;(function(e){function t(r){const n=r;return Ge.objectLiteral(r)&&n_.is(n.kind)&&Ge.string(n.value)}e.is=t})(ix||(ix={}));var qV;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(qV||(qV={}));var jV;(function(e){e.PlainText=1,e.Snippet=2})(jV||(jV={}));var XV;(function(e){e.Deprecated=1})(XV||(XV={}));var KV;(function(e){function t(n,a,o){return{newText:n,insert:a,replace:o}}e.create=t;function r(n){const a=n;return a&&Ge.string(a.newText)&&Or.is(a.insert)&&Or.is(a.replace)}e.is=r})(KV||(KV={}));var ZV;(function(e){e.asIs=1,e.adjustIndentation=2})(ZV||(ZV={}));var QV;(function(e){function t(r){const n=r;return n&&(Ge.string(n.detail)||n.detail===void 0)&&(Ge.string(n.description)||n.description===void 0)}e.is=t})(QV||(QV={}));var JV;(function(e){function t(r){return{label:r}}e.create=t})(JV||(JV={}));var eq;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(eq||(eq={}));var KE;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){const a=n;return Ge.string(a)||Ge.objectLiteral(a)&&Ge.string(a.language)&&Ge.string(a.value)}e.is=r})(KE||(KE={}));var tq;(function(e){function t(r){let n=r;return!!n&&Ge.objectLiteral(n)&&(ix.is(n.contents)||KE.is(n.contents)||Ge.typedArray(n.contents,KE.is))&&(r.range===void 0||Or.is(r.range))}e.is=t})(tq||(tq={}));var rq;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(rq||(rq={}));var nq;(function(e){function t(r,n,...a){let o={label:r};return Ge.defined(n)&&(o.documentation=n),Ge.defined(a)?o.parameters=a:o.parameters=[],o}e.create=t})(nq||(nq={}));var iq;(function(e){e.Text=1,e.Read=2,e.Write=3})(iq||(iq={}));var aq;(function(e){function t(r,n){let a={range:r};return Ge.number(n)&&(a.kind=n),a}e.create=t})(aq||(aq={}));var sq;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(sq||(sq={}));var oq;(function(e){e.Deprecated=1})(oq||(oq={}));var lq;(function(e){function t(r,n,a,o,l){let c={name:r,kind:n,location:{uri:o,range:a}};return l&&(c.containerName=l),c}e.create=t})(lq||(lq={}));var cq;(function(e){function t(r,n,a,o){return o!==void 0?{name:r,kind:n,location:{uri:a,range:o}}:{name:r,kind:n,location:{uri:a}}}e.create=t})(cq||(cq={}));var uq;(function(e){function t(n,a,o,l,c,u){let h={name:n,detail:a,kind:o,range:l,selectionRange:c};return u!==void 0&&(h.children=u),h}e.create=t;function r(n){let a=n;return a&&Ge.string(a.name)&&Ge.number(a.kind)&&Or.is(a.range)&&Or.is(a.selectionRange)&&(a.detail===void 0||Ge.string(a.detail))&&(a.deprecated===void 0||Ge.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}e.is=r})(uq||(uq={}));var hq;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(hq||(hq={}));var ZE;(function(e){e.Invoked=1,e.Automatic=2})(ZE||(ZE={}));var fq;(function(e){function t(n,a,o){let l={diagnostics:n};return a!=null&&(l.only=a),o!=null&&(l.triggerKind=o),l}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.typedArray(a.diagnostics,XE.is)&&(a.only===void 0||Ge.typedArray(a.only,Ge.string))&&(a.triggerKind===void 0||a.triggerKind===ZE.Invoked||a.triggerKind===ZE.Automatic)}e.is=r})(fq||(fq={}));var dq;(function(e){function t(n,a,o){let l={title:n},c=!0;return typeof a=="string"?(c=!1,l.kind=a):Vm.is(a)?l.command=a:l.edit=a,c&&o!==void 0&&(l.kind=o),l}e.create=t;function r(n){let a=n;return a&&Ge.string(a.title)&&(a.diagnostics===void 0||Ge.typedArray(a.diagnostics,XE.is))&&(a.kind===void 0||Ge.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||Vm.is(a.command))&&(a.isPreferred===void 0||Ge.boolean(a.isPreferred))&&(a.edit===void 0||t_.is(a.edit))}e.is=r})(dq||(dq={}));var pq;(function(e){function t(n,a){let o={range:n};return Ge.defined(a)&&(o.data=a),o}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Or.is(a.range)&&(Ge.undefined(a.command)||Vm.is(a.command))}e.is=r})(pq||(pq={}));var gq;(function(e){function t(n,a){return{tabSize:n,insertSpaces:a}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Ge.uinteger(a.tabSize)&&Ge.boolean(a.insertSpaces)}e.is=r})(gq||(gq={}));var mq;(function(e){function t(n,a,o){return{range:n,target:a,data:o}}e.create=t;function r(n){let a=n;return Ge.defined(a)&&Or.is(a.range)&&(Ge.undefined(a.target)||Ge.string(a.target))}e.is=r})(mq||(mq={}));var vq;(function(e){function t(n,a){return{range:n,parent:a}}e.create=t;function r(n){let a=n;return Ge.objectLiteral(a)&&Or.is(a.range)&&(a.parent===void 0||e.is(a.parent))}e.is=r})(vq||(vq={}));var yq;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(yq||(yq={}));var bq;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(bq||(bq={}));var xq;(function(e){function t(r){const n=r;return Ge.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(xq||(xq={}));var Tq;(function(e){function t(n,a){return{range:n,text:a}}e.create=t;function r(n){const a=n;return a!=null&&Or.is(a.range)&&Ge.string(a.text)}e.is=r})(Tq||(Tq={}));var wq;(function(e){function t(n,a,o){return{range:n,variableName:a,caseSensitiveLookup:o}}e.create=t;function r(n){const a=n;return a!=null&&Or.is(a.range)&&Ge.boolean(a.caseSensitiveLookup)&&(Ge.string(a.variableName)||a.variableName===void 0)}e.is=r})(wq||(wq={}));var Eq;(function(e){function t(n,a){return{range:n,expression:a}}e.create=t;function r(n){const a=n;return a!=null&&Or.is(a.range)&&(Ge.string(a.expression)||a.expression===void 0)}e.is=r})(Eq||(Eq={}));var Sq;(function(e){function t(n,a){return{frameId:n,stoppedLocation:a}}e.create=t;function r(n){const a=n;return Ge.defined(a)&&Or.is(n.stoppedLocation)}e.is=r})(Sq||(Sq={}));var i_;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}e.is=t})(i_||(i_={}));var a_;(function(e){function t(n){return{value:n}}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&(a.tooltip===void 0||Ge.string(a.tooltip)||ix.is(a.tooltip))&&(a.location===void 0||jE.is(a.location))&&(a.command===void 0||Vm.is(a.command))}e.is=r})(a_||(a_={}));var Aq;(function(e){function t(n,a,o){const l={position:n,label:a};return o!==void 0&&(l.kind=o),l}e.create=t;function r(n){const a=n;return Ge.objectLiteral(a)&&jr.is(a.position)&&(Ge.string(a.label)||Ge.typedArray(a.label,a_.is))&&(a.kind===void 0||i_.is(a.kind))&&a.textEdits===void 0||Ge.typedArray(a.textEdits,qm.is)&&(a.tooltip===void 0||Ge.string(a.tooltip)||ix.is(a.tooltip))&&(a.paddingLeft===void 0||Ge.boolean(a.paddingLeft))&&(a.paddingRight===void 0||Ge.boolean(a.paddingRight))}e.is=r})(Aq||(Aq={}));var kq;(function(e){function t(r){return{kind:"snippet",value:r}}e.createSnippet=t})(kq||(kq={}));var Cq;(function(e){function t(r,n,a,o){return{insertText:r,filterText:n,range:a,command:o}}e.create=t})(Cq||(Cq={}));var Iq;(function(e){function t(r){return{items:r}}e.create=t})(Iq||(Iq={}));var Rq;(function(e){e.Invoked=0,e.Automatic=1})(Rq||(Rq={}));var Oq;(function(e){function t(r,n){return{range:r,text:n}}e.create=t})(Oq||(Oq={}));var _q;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}e.create=t})(_q||(_q={}));var Nq;(function(e){function t(r){const n=r;return Ge.objectLiteral(n)&&qO.is(n.uri)&&Ge.string(n.name)}e.is=t})(Nq||(Nq={}));var Lq;(function(e){function t(o,l,c,u){return new _yt(o,l,c,u)}e.create=t;function r(o){let l=o;return!!(Ge.defined(l)&&Ge.string(l.uri)&&(Ge.undefined(l.languageId)||Ge.string(l.languageId))&&Ge.uinteger(l.lineCount)&&Ge.func(l.getText)&&Ge.func(l.positionAt)&&Ge.func(l.offsetAt))}e.is=r;function n(o,l){let c=o.getText(),u=a(l,(f,d)=>{let p=f.range.start.line-d.range.start.line;return p===0?f.range.start.character-d.range.start.character:p}),h=c.length;for(let f=u.length-1;f>=0;f--){let d=u[f],p=o.offsetAt(d.range.start),g=o.offsetAt(d.range.end);if(g<=h)c=c.substring(0,p)+d.newText+c.substring(g,c.length);else throw new Error("Overlapping edit");h=p}return c}e.applyEdits=n;function a(o,l){if(o.length<=1)return o;const c=o.length/2|0,u=o.slice(0,c),h=o.slice(c);a(u,l),a(h,l);let f=0,d=0,p=0;for(;f<u.length&&d<h.length;)l(u[f],h[d])<=0?o[p++]=u[f++]:o[p++]=h[d++];for(;f<u.length;)o[p++]=u[f++];for(;d<h.length;)o[p++]=h[d++];return o}})(Lq||(Lq={}));let _yt=class{constructor(t,r,n,a){this._uri=t,this._languageId=r,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let a=0;a<r.length;a++){n&&(t.push(a),n=!1);let o=r.charAt(a);n=o==="\r"||o===`
`,o==="\r"&&a+1<r.length&&r.charAt(a+1)===`
`&&a++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,a=r.length;if(a===0)return jr.create(0,t);for(;n<a;){let l=Math.floor((n+a)/2);r[l]>t?a=l:n=l+1}let o=n-1;return jr.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],a=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,a),n)}get lineCount(){return this.getLineOffsets().length}};var Ge;(function(e){const t=Object.prototype.toString;function r(g){return typeof g<"u"}e.defined=r;function n(g){return typeof g>"u"}e.undefined=n;function a(g){return g===!0||g===!1}e.boolean=a;function o(g){return t.call(g)==="[object String]"}e.string=o;function l(g){return t.call(g)==="[object Number]"}e.number=l;function c(g,m,y){return t.call(g)==="[object Number]"&&m<=g&&g<=y}e.numberRange=c;function u(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}e.integer=u;function h(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}e.uinteger=h;function f(g){return t.call(g)==="[object Function]"}e.func=f;function d(g){return g!==null&&typeof g=="object"}e.objectLiteral=d;function p(g,m){return Array.isArray(g)&&g.every(m)}e.typedArray=p})(Ge||(Ge={}));class Nyt{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(t){return this.rootNode=new Qde(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){const r=new WD;return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(t,r){const n=new s_(t.startOffset,t.image.length,DO(t),t.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(t){const r=t.container;if(r){const n=r.content.indexOf(t);n>=0&&r.content.splice(n,1)}}construct(t){const r=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}addHiddenTokens(t){for(const r of t){const n=new s_(r.startOffset,r.image.length,DO(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(t,r){const{offset:n,end:a}=r;for(let o=0;o<t.content.length;o++){const l=t.content[o],{offset:c,end:u}=l;if(Gm(l)&&n>c&&a<u){this.addHiddenToken(l,r);return}else if(a<=c){t.content.splice(o,0,r);return}}t.content.push(r)}}class Zde{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,r;const n=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class s_ extends Zde{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,r,n,a,o=!1){super(),this._hidden=o,this._offset=t,this._tokenType=a,this._length=r,this._range=n}}class WD extends Zde{constructor(){super(...arguments),this.content=new zD(this)}get children(){return this.content}get offset(){var t,r;return(r=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var t,r;return(r=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:0}get range(){const t=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(t&&r){if(this._rangeCache===void 0){const{range:n}=t,{range:a}=r;this._rangeCache={start:n.start,end:a.end.line<n.start.line?n.start:a.end}}return this._rangeCache}else return{start:jr.create(0,0),end:jr.create(0,0)}}get firstNonHiddenNode(){for(const t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){const r=this.content[t];if(!r.hidden)return r}return this.content[this.content.length-1]}}class zD extends Array{constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,zD.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(const r of t)r.container=this.parent}}class Qde extends WD{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}}const o_=Symbol("Datatype");function x7(e){return e.$type===o_}const Mq="​",Jde=e=>e.endsWith(Mq)?e:e+Mq;class epe{constructor(t){this._unorderedGroups=new Map,this.lexer=t.parser.Lexer;const r=this.lexer.definition;this.wrapper=new Fyt(r,Object.assign(Object.assign({},t.parser.ParserConfig),{errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,r){this.wrapper.wrapOr(t,r)}optional(t,r){this.wrapper.wrapOption(t,r)}many(t,r){this.wrapper.wrapMany(t,r)}atLeastOne(t,r){this.wrapper.wrapAtLeastOne(t,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class Lyt extends epe{get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new Nyt,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,r){const n=t.fragment?void 0:RD(t)?o_:HA(t),a=this.wrapper.DEFINE_RULE(Jde(t.name),this.startImplementation(n,r).bind(this));return t.entry&&(this.mainRule=a),a}parse(t){this.nodeBuilder.buildRootNode(t);const r=this.lexer.tokenize(t);this.wrapper.input=r.tokens;const n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(t,r){return n=>{if(!this.isRecording()){const o={$type:t};this.stack.push(o),t===o_&&(o.value="")}let a;try{a=r(n)}catch{a=void 0}return!this.isRecording()&&a===void 0&&(a=this.construct()),a}}consume(t,r,n){const a=this.wrapper.wrapConsume(t,r);if(!this.isRecording()&&this.isValidToken(a)){const o=this.nodeBuilder.buildLeafNode(a,n),{assignment:l,isCrossRef:c}=this.getAssignment(n),u=this.current;if(l){const h=cp(n)?a.image:this.converter.convert(a.image,o);this.assign(l.operator,l.feature,h,o,c)}else if(x7(u)){let h=a.image;cp(n)||(h=this.converter.convert(h,o).toString()),u.value+=h}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,r,n,a){let o;this.isRecording()||(o=this.nodeBuilder.buildCompositeNode(n));const l=this.wrapper.wrapSubrule(t,r,a);!this.isRecording()&&o&&o.length>0&&this.performSubruleAssignment(l,n,o)}performSubruleAssignment(t,r,n){const{assignment:a,isCrossRef:o}=this.getAssignment(r);if(a)this.assign(a.operator,a.feature,t,n,o);else if(!a){const l=this.current;if(x7(l))l.value+=t.toString();else if(typeof t=="object"&&t){const c=t.$type,u=this.assignWithoutOverride(t,l);c&&(u.$type=c);const h=u;this.stack.pop(),this.stack.push(h)}}}action(t,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);const o=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(o)}const a={$type:t};this.stack.pop(),this.stack.push(a),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(t=!0){if(this.isRecording())return;const r=this.current;return fgt(r),this.nodeBuilder.construct(r),t&&this.stack.pop(),x7(r)?this.converter.convert(r.value,r.$cstNode):(pgt(this.astReflection,r),r)}getAssignment(t){if(!this.assignmentMap.has(t)){const r=FA(t,lp);this.assignmentMap.set(t,{assignment:r,isCrossRef:r?AD(r.terminal):!1})}return this.assignmentMap.get(t)}assign(t,r,n,a,o){const l=this.current;let c;switch(o&&typeof n=="string"?c=this.linker.buildReference(l,r,a,n):c=n,t){case"=":{l[r]=c;break}case"?=":{l[r]=!0;break}case"+=":Array.isArray(l[r])||(l[r]=[]),l[r].push(c)}}assignWithoutOverride(t,r){for(const[n,a]of Object.entries(r)){const o=t[n];o===void 0?t[n]=a:Array.isArray(o)&&Array.isArray(a)&&(a.push(...o),t[n]=a)}return t}get definitionErrors(){return this.wrapper.definitionErrors}}class Myt{buildMismatchTokenMessage(t){return z1.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return z1.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return z1.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return z1.buildEarlyExitMessage(t)}}class tpe extends Myt{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}}class Dyt extends epe{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();const r=this.lexer.tokenize(t);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,r){const n=this.wrapper.DEFINE_RULE(Jde(t.name),this.startImplementation(r).bind(this));return t.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return r=>{const n=this.keepStackSize();try{t(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,r,n){this.wrapper.wrapConsume(t,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(t,r,n,a){this.before(n),this.wrapper.wrapSubrule(t,r,a),this.after(n)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(t);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const Pyt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new tpe};class Fyt extends Gvt{constructor(t,r){const n=r&&"maxLookahead"in r;super(t,Object.assign(Object.assign(Object.assign({},Pyt),{lookaheadStrategy:n?new PD({maxLookahead:r.maxLookahead}):new hyt}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,r){return this.RULE(t,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,r){return this.consume(t,r)}wrapSubrule(t,r,n){return this.subrule(t,r,{ARGS:[n]})}wrapOr(t,r){this.or(t,r)}wrapOption(t,r){this.option(t,r)}wrapMany(t,r){this.many(t,r)}wrapAtLeastOne(t,r){this.atLeastOne(t,r)}}function rpe(e,t,r){return Byt({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function Byt(e,t){const r=ede(t,!1),n=wa(t.rules).filter(Il).filter(a=>r.has(a));for(const a of n){const o=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});o.rules.set(a.name,e.parser.rule(a,fp(o,a.definition)))}}function fp(e,t,r=!1){let n;if(cp(t))n=Yyt(e,t);else if(PA(t))n=$yt(e,t);else if(lp(t))n=fp(e,t.terminal);else if(AD(t))n=npe(e,t);else if(up(t))n=Hyt(e,t);else if(Lfe(t))n=Wyt(e,t);else if(qfe(t))n=zyt(e,t);else if(kD(t))n=Gyt(e,t);else if(igt(t)){const a=e.consume++;n=()=>e.parser.consume(a,nf,t)}else throw new mfe(t.$cstNode,`Unexpected element type: ${t.$type}`);return ipe(e,r?void 0:QE(t),n,t.cardinality)}function $yt(e,t){const r=HA(t);return()=>e.parser.action(r,t)}function Hyt(e,t){const r=t.rule.ref;if(Il(r)){const n=e.subrule++,a=t.arguments.length>0?Uyt(r,t.arguments):()=>({});return o=>e.parser.subrule(n,ape(e,r),t,a(o))}else if(Wp(r)){const n=e.consume++,a=l_(e,r.name);return()=>e.parser.consume(n,a,t)}else if(r)DA();else throw new mfe(t.$cstNode,`Undefined rule type: ${t.$type}`)}function Uyt(e,t){const r=t.map(n=>eh(n.value));return n=>{const a={};for(let o=0;o<r.length;o++){const l=e.parameters[o],c=r[o];a[l.name]=c(n)}return a}}function eh(e){if(Y1t(e)){const t=eh(e.left),r=eh(e.right);return n=>t(n)||r(n)}else if(G1t(e)){const t=eh(e.left),r=eh(e.right);return n=>t(n)&&r(n)}else if(q1t(e)){const t=eh(e.value);return r=>!t(r)}else if(K1t(e)){const t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(z1t(e)){const t=!!e.true;return()=>t}DA()}function Wyt(e,t){if(t.elements.length===1)return fp(e,t.elements[0]);{const r=[];for(const a of t.elements){const o={ALT:fp(e,a,!0)},l=QE(a);l&&(o.GATE=eh(l)),r.push(o)}const n=e.or++;return a=>e.parser.alternatives(n,r.map(o=>{const l={ALT:()=>o.ALT(a)},c=o.GATE;return c&&(l.GATE=()=>c(a)),l}))}}function zyt(e,t){if(t.elements.length===1)return fp(e,t.elements[0]);const r=[];for(const c of t.elements){const u={ALT:fp(e,c,!0)},h=QE(c);h&&(u.GATE=eh(h)),r.push(u)}const n=e.or++,a=(c,u)=>{const h=u.getRuleStack().join("-");return`uGroup_${c}_${h}`},o=c=>e.parser.alternatives(n,r.map((u,h)=>{const f={ALT:()=>!0},d=e.parser;f.ALT=()=>{if(u.ALT(c),!d.isRecording()){const g=a(n,d);d.unorderedGroups.get(g)||d.unorderedGroups.set(g,[]);const m=d.unorderedGroups.get(g);typeof(m==null?void 0:m[h])>"u"&&(m[h]=!0)}};const p=u.GATE;return p?f.GATE=()=>p(c):f.GATE=()=>{const g=d.unorderedGroups.get(a(n,d));return!(g!=null&&g[h])},f})),l=ipe(e,QE(t),o,"*");return c=>{l(c),e.parser.isRecording()||e.parser.unorderedGroups.delete(a(n,e.parser))}}function Gyt(e,t){const r=t.elements.map(n=>fp(e,n));return n=>r.forEach(a=>a(n))}function QE(e){if(kD(e))return e.guardCondition}function npe(e,t,r=t.terminal){if(r)if(up(r)&&Il(r.rule.ref)){const n=e.subrule++;return a=>e.parser.subrule(n,ape(e,r.rule.ref),t,a)}else if(up(r)&&Wp(r.rule.ref)){const n=e.consume++,a=l_(e,r.rule.ref.name);return()=>e.parser.consume(n,a,t)}else if(cp(r)){const n=e.consume++,a=l_(e,r.value);return()=>e.parser.consume(n,a,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const n=nde(t.type.ref),a=n==null?void 0:n.terminal;if(!a)throw new Error("Could not find name assignment for type: "+HA(t.type.ref));return npe(e,t,a)}}function Yyt(e,t){const r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function ipe(e,t,r,n){const a=t&&eh(t);if(!n)if(a){const o=e.or++;return l=>e.parser.alternatives(o,[{ALT:()=>r(l),GATE:()=>a(l)},{ALT:RV(),GATE:()=>!a(l)}])}else return r;if(n==="*"){const o=e.many++;return l=>e.parser.many(o,{DEF:()=>r(l),GATE:a?()=>a(l):void 0})}else if(n==="+"){const o=e.many++;if(a){const l=e.or++;return c=>e.parser.alternatives(l,[{ALT:()=>e.parser.atLeastOne(o,{DEF:()=>r(c)}),GATE:()=>a(c)},{ALT:RV(),GATE:()=>!a(c)}])}else return l=>e.parser.atLeastOne(o,{DEF:()=>r(l)})}else if(n==="?"){const o=e.optional++;return l=>e.parser.optional(o,{DEF:()=>r(l),GATE:a?()=>a(l):void 0})}else DA()}function ape(e,t){const r=Vyt(e,t),n=e.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function Vyt(e,t){if(Il(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,a=t.$type;for(;!Il(n);)(kD(n)||Lfe(n)||qfe(n))&&(a=n.elements.indexOf(r).toString()+":"+a),r=n,n=n.$container;return a=n.name+":"+a,e.ruleNames.set(t,a),a}}function l_(e,t){const r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function qyt(e){const t=e.Grammar,r=e.parser.Lexer,n=new Dyt(e);return rpe(t,n,r.definition),n.finalize(),n}function jyt(e){const t=Xyt(e);return t.finalize(),t}function Xyt(e){const t=e.Grammar,r=e.parser.Lexer,n=new Lyt(e);return rpe(t,n,r.definition)}class spe{buildTokens(t,r){const n=wa(ede(t,!1)),a=this.buildTerminalTokens(n),o=this.buildKeywordTokens(n,a,r);return a.forEach(l=>{const c=l.PATTERN;typeof c=="object"&&c&&"test"in c&&aV(c)?o.unshift(l):o.push(l)}),o}buildTerminalTokens(t){return t.filter(Wp).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(t){const r=OD(t),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,a={name:t.name,PATTERN:n,LINE_BREAKS:!0};return t.hidden&&(a.GROUP=aV(r)?io.SKIPPED:"hidden"),a}requiresCustomPattern(t){return t.flags.includes("u")?!0:!!(t.source.includes("?<=")||t.source.includes("?<!"))}regexPatternFunction(t){const r=new RegExp(t,t.flags+"y");return(n,a)=>(r.lastIndex=a,r.exec(n))}buildKeywordTokens(t,r,n){return t.filter(Il).flatMap(a=>C3(a).filter(cp)).distinct(a=>a.value).toArray().sort((a,o)=>o.value.length-a.value.length).map(a=>this.buildKeywordToken(a,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(t,r,n){return{name:t.value,PATTERN:this.buildKeywordPattern(t,n),LONGER_ALT:this.findLongerAlt(t,r)}}buildKeywordPattern(t,r){return r?new RegExp(wgt(t.value)):t.value}findLongerAlt(t,r){return r.reduce((n,a)=>{const o=a==null?void 0:a.PATTERN;return o!=null&&o.source&&Egt("^"+o.source+"$",t.value)&&n.push(a),n},[])}}class ope{convert(t,r){let n=r.grammarSource;if(AD(n)&&(n=Cgt(n)),up(n)){const a=n.rule.ref;if(!a)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(a,t,r)}return t}runConverter(t,r,n){var a;switch(t.name.toUpperCase()){case"INT":return Vu.convertInt(r);case"STRING":return Vu.convertString(r);case"ID":return Vu.convertID(r)}switch((a=Mgt(t))===null||a===void 0?void 0:a.toLowerCase()){case"number":return Vu.convertNumber(r);case"boolean":return Vu.convertBoolean(r);case"bigint":return Vu.convertBigint(r);case"date":return Vu.convertDate(r);default:return r}}}var Vu;(function(e){function t(h){let f="";for(let d=1;d<h.length-1;d++){const p=h.charAt(d);if(p==="\\"){const g=h.charAt(++d);f+=r(g)}else f+=p}return f}e.convertString=t;function r(h){switch(h){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return h}}function n(h){return h.charAt(0)==="^"?h.substring(1):h}e.convertID=n;function a(h){return parseInt(h)}e.convertInt=a;function o(h){return BigInt(h)}e.convertBigint=o;function l(h){return new Date(h)}e.convertDate=l;function c(h){return Number(h)}e.convertNumber=c;function u(h){return h.toLowerCase()==="true"}e.convertBoolean=u})(Vu||(Vu={}));var ax={},jA={};Object.defineProperty(jA,"__esModule",{value:!0});let c_;function u_(){if(c_===void 0)throw new Error("No runtime abstraction layer installed");return c_}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");c_=r}e.install=t})(u_||(u_={}));jA.default=u_;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.stringArray=Ga.array=Ga.func=Ga.error=Ga.number=Ga.string=Ga.boolean=void 0;function Kyt(e){return e===!0||e===!1}Ga.boolean=Kyt;function lpe(e){return typeof e=="string"||e instanceof String}Ga.string=lpe;function Zyt(e){return typeof e=="number"||e instanceof Number}Ga.number=Zyt;function Qyt(e){return e instanceof Error}Ga.error=Qyt;function Jyt(e){return typeof e=="function"}Ga.func=Jyt;function cpe(e){return Array.isArray(e)}Ga.array=cpe;function e2t(e){return cpe(e)&&e.every(t=>lpe(t))}Ga.stringArray=e2t;var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.Emitter=Xm.Event=void 0;const t2t=jA;var Dq;(function(e){const t={dispose(){}};e.None=function(){return t}})(Dq||(Xm.Event=Dq={}));class r2t{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let a=0,o=this._callbacks.length;a<o;a++)if(this._callbacks[a]===t)if(this._contexts[a]===r){this._callbacks.splice(a,1),this._contexts.splice(a,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];const r=[],n=this._callbacks.slice(0),a=this._contexts.slice(0);for(let o=0,l=n.length;o<l;o++)try{r.push(n[o].apply(a[o],t))}catch(c){(0,t2t.default)().console.error(c)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let upe=class hpe{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new r2t),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);const a={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),a.dispose=hpe._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(a),a}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Xm.Emitter=upe;upe._noop=function(){};var oa;Object.defineProperty(ax,"__esModule",{value:!0});var h_=ax.CancellationTokenSource=oa=ax.CancellationToken=void 0;const n2t=jA,i2t=Ga,f_=Xm;var JE;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f_.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:f_.Event.None});function t(r){const n=r;return n&&(n===e.None||n===e.Cancelled||i2t.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(JE||(oa=ax.CancellationToken=JE={}));const a2t=Object.freeze(function(e,t){const r=(0,n2t.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}});class Pq{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a2t:(this._emitter||(this._emitter=new f_.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class s2t{get token(){return this._token||(this._token=new Pq),this._token}cancel(){this._token?this._token.cancel():this._token=JE.Cancelled}dispose(){this._token?this._token instanceof Pq&&this._token.dispose():this._token=JE.None}}h_=ax.CancellationTokenSource=s2t;function o2t(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}let Fq=0,l2t=10;const eS=Symbol("OperationCancelled");function GD(e){return e===eS}async function uc(e){if(e===oa.None)return;const t=Date.now();if(t-Fq>=l2t&&(Fq=t,await o2t()),e.isCancellationRequested)throw eS}class YD{constructor(){this.promise=new Promise((t,r)=>{this.resolve=n=>(t(n),this),this.reject=n=>(r(n),this)})}}class sx{constructor(t,r,n,a){this._uri=t,this._languageId=r,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(const n of t)if(sx.isIncremental(n)){const a=dpe(n.range),o=this.offsetAt(a.start),l=this.offsetAt(a.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(l,this._content.length);const c=Math.max(a.start.line,0),u=Math.max(a.end.line,0);let h=this._lineOffsets;const f=Bq(n.text,!1,o);if(u-c===f.length)for(let p=0,g=f.length;p<g;p++)h[p+c+1]=f[p];else f.length<1e4?h.splice(c+1,u-c,...f):this._lineOffsets=h=h.slice(0,c+1).concat(f,h.slice(u+1));const d=n.text.length-(l-o);if(d!==0)for(let p=c+1+f.length,g=h.length;p<g;p++)h[p]=h[p]+d}else if(sx.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Bq(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const r=this.getLineOffsets();let n=0,a=r.length;if(a===0)return{line:0,character:t};for(;n<a;){const l=Math.floor((n+a)/2);r[l]>t?a=l:n=l+1}const o=n-1;return t=this.ensureBeforeEOL(t,r[o]),{line:o,character:t-r[o]}}offsetAt(t){const r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;const n=r[t.line];if(t.character<=0)return n;const a=t.line+1<r.length?r[t.line+1]:this._content.length,o=Math.min(n+t.character,a);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(t,r){for(;t>r&&fpe(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var d_;(function(e){function t(a,o,l,c){return new sx(a,o,l,c)}e.create=t;function r(a,o,l){if(a instanceof sx)return a.update(o,l),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=r;function n(a,o){const l=a.getText(),c=p_(o.map(c2t),(f,d)=>{const p=f.range.start.line-d.range.start.line;return p===0?f.range.start.character-d.range.start.character:p});let u=0;const h=[];for(const f of c){const d=a.offsetAt(f.range.start);if(d<u)throw new Error("Overlapping edit");d>u&&h.push(l.substring(u,d)),f.newText.length&&h.push(f.newText),u=a.offsetAt(f.range.end)}return h.push(l.substr(u)),h.join("")}e.applyEdits=n})(d_||(d_={}));function p_(e,t){if(e.length<=1)return e;const r=e.length/2|0,n=e.slice(0,r),a=e.slice(r);p_(n,t),p_(a,t);let o=0,l=0,c=0;for(;o<n.length&&l<a.length;)t(n[o],a[l])<=0?e[c++]=n[o++]:e[c++]=a[l++];for(;o<n.length;)e[c++]=n[o++];for(;l<a.length;)e[c++]=a[l++];return e}function Bq(e,t,r=0){const n=t?[r]:[];for(let a=0;a<e.length;a++){const o=e.charCodeAt(a);fpe(o)&&(o===13&&a+1<e.length&&e.charCodeAt(a+1)===10&&a++,n.push(r+a+1))}return n}function fpe(e){return e===13||e===10}function dpe(e){const t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function c2t(e){const t=dpe(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var ppe;(()=>{var e={470:a=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function l(u,h){for(var f,d="",p=0,g=-1,m=0,y=0;y<=u.length;++y){if(y<u.length)f=u.charCodeAt(y);else{if(f===47)break;f=47}if(f===47){if(!(g===y-1||m===1))if(g!==y-1&&m===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var b=d.lastIndexOf("/");if(b!==d.length-1){b===-1?(d="",p=0):p=(d=d.slice(0,b)).length-1-d.lastIndexOf("/"),g=y,m=0;continue}}else if(d.length===2||d.length===1){d="",p=0,g=y,m=0;continue}}h&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+u.slice(g+1,y):d=u.slice(g+1,y),p=y-g-1;g=y,m=0}else f===46&&m!==-1?++m:m=-1}return d}var c={resolve:function(){for(var u,h="",f=!1,d=arguments.length-1;d>=-1&&!f;d--){var p;d>=0?p=arguments[d]:(u===void 0&&(u=process.cwd()),p=u),o(p),p.length!==0&&(h=p+"/"+h,f=p.charCodeAt(0)===47)}return h=l(h,!f),f?h.length>0?"/"+h:"/":h.length>0?h:"."},normalize:function(u){if(o(u),u.length===0)return".";var h=u.charCodeAt(0)===47,f=u.charCodeAt(u.length-1)===47;return(u=l(u,!h)).length!==0||h||(u="."),u.length>0&&f&&(u+="/"),h?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,h=0;h<arguments.length;++h){var f=arguments[h];o(f),f.length>0&&(u===void 0?u=f:u+="/"+f)}return u===void 0?".":c.normalize(u)},relative:function(u,h){if(o(u),o(h),u===h||(u=c.resolve(u))===(h=c.resolve(h)))return"";for(var f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var d=u.length,p=d-f,g=1;g<h.length&&h.charCodeAt(g)===47;++g);for(var m=h.length-g,y=p<m?p:m,b=-1,x=0;x<=y;++x){if(x===y){if(m>y){if(h.charCodeAt(g+x)===47)return h.slice(g+x+1);if(x===0)return h.slice(g+x)}else p>y&&(u.charCodeAt(f+x)===47?b=x:x===0&&(b=0));break}var T=u.charCodeAt(f+x);if(T!==h.charCodeAt(g+x))break;T===47&&(b=x)}var w="";for(x=f+b+1;x<=d;++x)x!==d&&u.charCodeAt(x)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+h.slice(g+b):(g+=b,h.charCodeAt(g)===47&&++g,h.slice(g))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var h=u.charCodeAt(0),f=h===47,d=-1,p=!0,g=u.length-1;g>=1;--g)if((h=u.charCodeAt(g))===47){if(!p){d=g;break}}else p=!1;return d===-1?f?"/":".":f&&d===1?"//":u.slice(0,d)},basename:function(u,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');o(u);var f,d=0,p=-1,g=!0;if(h!==void 0&&h.length>0&&h.length<=u.length){if(h.length===u.length&&h===u)return"";var m=h.length-1,y=-1;for(f=u.length-1;f>=0;--f){var b=u.charCodeAt(f);if(b===47){if(!g){d=f+1;break}}else y===-1&&(g=!1,y=f+1),m>=0&&(b===h.charCodeAt(m)?--m==-1&&(p=f):(m=-1,p=y))}return d===p?p=y:p===-1&&(p=u.length),u.slice(d,p)}for(f=u.length-1;f>=0;--f)if(u.charCodeAt(f)===47){if(!g){d=f+1;break}}else p===-1&&(g=!1,p=f+1);return p===-1?"":u.slice(d,p)},extname:function(u){o(u);for(var h=-1,f=0,d=-1,p=!0,g=0,m=u.length-1;m>=0;--m){var y=u.charCodeAt(m);if(y!==47)d===-1&&(p=!1,d=m+1),y===46?h===-1?h=m:g!==1&&(g=1):h!==-1&&(g=-1);else if(!p){f=m+1;break}}return h===-1||d===-1||g===0||g===1&&h===d-1&&h===f+1?"":u.slice(h,d)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(h,f){var d=f.dir||f.root,p=f.base||(f.name||"")+(f.ext||"");return d?d===f.root?d+p:d+"/"+p:p}(0,u)},parse:function(u){o(u);var h={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return h;var f,d=u.charCodeAt(0),p=d===47;p?(h.root="/",f=1):f=0;for(var g=-1,m=0,y=-1,b=!0,x=u.length-1,T=0;x>=f;--x)if((d=u.charCodeAt(x))!==47)y===-1&&(b=!1,y=x+1),d===46?g===-1?g=x:T!==1&&(T=1):g!==-1&&(T=-1);else if(!b){m=x+1;break}return g===-1||y===-1||T===0||T===1&&g===y-1&&g===m+1?y!==-1&&(h.base=h.name=m===0&&p?u.slice(1,y):u.slice(m,y)):(m===0&&p?(h.name=u.slice(1,g),h.base=u.slice(1,y)):(h.name=u.slice(m,g),h.base=u.slice(m,y)),h.ext=u.slice(g,y)),m>0?h.dir=u.slice(0,m-1):p&&(h.dir="/"),h},sep:"/",delimiter:":",win32:null,posix:null};c.posix=c,a.exports=c}},t={};function r(a){var o=t[a];if(o!==void 0)return o.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r.d=(a,o)=>{for(var l in o)r.o(o,l)&&!r.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:o[l]})},r.o=(a,o)=>Object.prototype.hasOwnProperty.call(a,o),r.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var n={};(()=>{let a;r.r(n),r.d(n,{URI:()=>p,Utils:()=>_}),typeof process=="object"?a=process.platform==="win32":typeof navigator=="object"&&(a=navigator.userAgent.indexOf("Windows")>=0);const o=/^\w[\w\d+.-]*$/,l=/^\//,c=/^\/\//;function u(R,M){if(!R.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${R.authority}", path: "${R.path}", query: "${R.query}", fragment: "${R.fragment}"}`);if(R.scheme&&!o.test(R.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(R.path){if(R.authority){if(!l.test(R.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(R.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const h="",f="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(M,$,N,P,F,L=!1){Tr(this,"scheme");Tr(this,"authority");Tr(this,"path");Tr(this,"query");Tr(this,"fragment");typeof M=="object"?(this.scheme=M.scheme||h,this.authority=M.authority||h,this.path=M.path||h,this.query=M.query||h,this.fragment=M.fragment||h):(this.scheme=function(D,B){return D||B?D:"file"}(M,L),this.authority=$||h,this.path=function(D,B){switch(D){case"https":case"http":case"file":B?B[0]!==f&&(B=f+B):B=f}return B}(this.scheme,N||h),this.query=P||h,this.fragment=F||h,u(this,L))}static isUri(M){return M instanceof p||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}get fsPath(){return T(this)}with(M){if(!M)return this;let{scheme:$,authority:N,path:P,query:F,fragment:L}=M;return $===void 0?$=this.scheme:$===null&&($=h),N===void 0?N=this.authority:N===null&&(N=h),P===void 0?P=this.path:P===null&&(P=h),F===void 0?F=this.query:F===null&&(F=h),L===void 0?L=this.fragment:L===null&&(L=h),$===this.scheme&&N===this.authority&&P===this.path&&F===this.query&&L===this.fragment?this:new m($,N,P,F,L)}static parse(M,$=!1){const N=d.exec(M);return N?new m(N[2]||h,C(N[4]||h),C(N[5]||h),C(N[7]||h),C(N[9]||h),$):new m(h,h,h,h,h)}static file(M){let $=h;if(a&&(M=M.replace(/\\/g,f)),M[0]===f&&M[1]===f){const N=M.indexOf(f,2);N===-1?($=M.substring(2),M=f):($=M.substring(2,N),M=M.substring(N)||f)}return new m("file",$,M,h,h)}static from(M){const $=new m(M.scheme,M.authority,M.path,M.query,M.fragment);return u($,!0),$}toString(M=!1){return w(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof p)return M;{const $=new m(M);return $._formatted=M.external,$._fsPath=M._sep===g?M.fsPath:null,$}}return M}}const g=a?1:void 0;class m extends p{constructor(){super(...arguments);Tr(this,"_formatted",null);Tr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=T(this)),this._fsPath}toString($=!1){return $?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){const $={$mid:1};return this._fsPath&&($.fsPath=this._fsPath,$._sep=g),this._formatted&&($.external=this._formatted),this.path&&($.path=this.path),this.scheme&&($.scheme=this.scheme),this.authority&&($.authority=this.authority),this.query&&($.query=this.query),this.fragment&&($.fragment=this.fragment),$}}const y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(R,M,$){let N,P=-1;for(let F=0;F<R.length;F++){const L=R.charCodeAt(F);if(L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===45||L===46||L===95||L===126||M&&L===47||$&&L===91||$&&L===93||$&&L===58)P!==-1&&(N+=encodeURIComponent(R.substring(P,F)),P=-1),N!==void 0&&(N+=R.charAt(F));else{N===void 0&&(N=R.substr(0,F));const D=y[L];D!==void 0?(P!==-1&&(N+=encodeURIComponent(R.substring(P,F)),P=-1),N+=D):P===-1&&(P=F)}}return P!==-1&&(N+=encodeURIComponent(R.substring(P))),N!==void 0?N:R}function x(R){let M;for(let $=0;$<R.length;$++){const N=R.charCodeAt($);N===35||N===63?(M===void 0&&(M=R.substr(0,$)),M+=y[N]):M!==void 0&&(M+=R[$])}return M!==void 0?M:R}function T(R,M){let $;return $=R.authority&&R.path.length>1&&R.scheme==="file"?`//${R.authority}${R.path}`:R.path.charCodeAt(0)===47&&(R.path.charCodeAt(1)>=65&&R.path.charCodeAt(1)<=90||R.path.charCodeAt(1)>=97&&R.path.charCodeAt(1)<=122)&&R.path.charCodeAt(2)===58?R.path[1].toLowerCase()+R.path.substr(2):R.path,a&&($=$.replace(/\//g,"\\")),$}function w(R,M){const $=M?x:b;let N="",{scheme:P,authority:F,path:L,query:D,fragment:B}=R;if(P&&(N+=P,N+=":"),(F||P==="file")&&(N+=f,N+=f),F){let H=F.indexOf("@");if(H!==-1){const U=F.substr(0,H);F=F.substr(H+1),H=U.lastIndexOf(":"),H===-1?N+=$(U,!1,!1):(N+=$(U.substr(0,H),!1,!1),N+=":",N+=$(U.substr(H+1),!1,!0)),N+="@"}F=F.toLowerCase(),H=F.lastIndexOf(":"),H===-1?N+=$(F,!1,!0):(N+=$(F.substr(0,H),!1,!0),N+=F.substr(H))}if(L){if(L.length>=3&&L.charCodeAt(0)===47&&L.charCodeAt(2)===58){const H=L.charCodeAt(1);H>=65&&H<=90&&(L=`/${String.fromCharCode(H+32)}:${L.substr(3)}`)}else if(L.length>=2&&L.charCodeAt(1)===58){const H=L.charCodeAt(0);H>=65&&H<=90&&(L=`${String.fromCharCode(H+32)}:${L.substr(2)}`)}N+=$(L,!0,!1)}return D&&(N+="?",N+=$(D,!1,!1)),B&&(N+="#",N+=M?B:b(B,!1,!1)),N}function E(R){try{return decodeURIComponent(R)}catch{return R.length>3?R.substr(0,3)+E(R.substr(3)):R}}const S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(R){return R.match(S)?R.replace(S,M=>E(M)):R}var k=r(470);const O=k.posix||k,I="/";var _;(function(R){R.joinPath=function(M,...$){return M.with({path:O.join(M.path,...$)})},R.resolvePath=function(M,...$){let N=M.path,P=!1;N[0]!==I&&(N=I+N,P=!0);let F=O.resolve(N,...$);return P&&F[0]===I&&!M.authority&&(F=F.substring(1)),M.with({path:F})},R.dirname=function(M){if(M.path.length===0||M.path===I)return M;let $=O.dirname(M.path);return $.length===1&&$.charCodeAt(0)===46&&($=""),M.with({path:$})},R.basename=function(M){return O.basename(M.path)},R.extname=function(M){return O.extname(M.path)}})(_||(_={}))})(),ppe=n})();const{URI:Km,Utils:Gy}=ppe;var sf;(function(e){e.basename=Gy.basename,e.dirname=Gy.dirname,e.extname=Gy.extname,e.joinPath=Gy.joinPath,e.resolvePath=Gy.resolvePath;function t(n,a){return(n==null?void 0:n.toString())===(a==null?void 0:a.toString())}e.equals=t;function r(n,a){const o=typeof n=="string"?n:n.path,l=typeof a=="string"?a:a.path,c=o.split("/").filter(p=>p.length>0),u=l.split("/").filter(p=>p.length>0);let h=0;for(;h<c.length&&c[h]===u[h];h++);const f="../".repeat(c.length-h),d=u.slice(h).join("/");return f+d}e.relative=r})(sf||(sf={}));var Mn;(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(Mn||(Mn={}));class u2t{constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,r=oa.None){const n=await this.fileSystemProvider.readFile(t);return this.createAsync(t,n,r)}fromTextDocument(t,r,n){return r=r??Km.parse(t.uri),n?this.createAsync(r,t,n):this.create(r,t)}fromString(t,r,n){return n?this.createAsync(r,t,n):this.create(r,t)}fromModel(t,r){return this.create(r,{$model:t})}create(t,r){if(typeof r=="string"){const n=this.parse(t,r);return this.createLangiumDocument(n,t,void 0,r)}else if("$model"in r){const n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,t)}else{const n=this.parse(t,r.getText());return this.createLangiumDocument(n,t,r)}}async createAsync(t,r,n){if(typeof r=="string"){const a=await this.parseAsync(t,r,n);return this.createLangiumDocument(a,t,void 0,r)}else{const a=await this.parseAsync(t,r.getText(),n);return this.createLangiumDocument(a,t,r)}}createLangiumDocument(t,r,n,a){let o;if(n)o={parseResult:t,uri:r,state:Mn.Parsed,references:[],textDocument:n};else{const l=this.createTextDocumentGetter(r,a);o={parseResult:t,uri:r,state:Mn.Parsed,references:[],get textDocument(){return l()}}}return t.value.$document=o,o}async update(t,r){var n,a;const o=(n=t.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,l=(a=this.textDocuments)===null||a===void 0?void 0:a.get(t.uri.toString()),c=l?l.getText():await this.fileSystemProvider.readFile(t.uri);if(l)Object.defineProperty(t,"textDocument",{value:l});else{const u=this.createTextDocumentGetter(t.uri,c);Object.defineProperty(t,"textDocument",{get:u})}return o!==c&&(t.parseResult=await this.parseAsync(t.uri,c,r),t.parseResult.value.$document=t),t.state=Mn.Parsed,t}parse(t,r){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(r)}parseAsync(t,r,n){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(t,r){const n=this.serviceRegistry;let a;return()=>a??(a=d_.create(t.toString(),n.getServices(t).LanguageMetaData.languageId,0,r??""))}}class h2t{constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory}get all(){return wa(this.documentMap.values())}addDocument(t){const r=t.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,t)}getDocument(t){const r=t.toString();return this.documentMap.get(r)}async getOrCreateDocument(t,r){let n=this.getDocument(t);return n||(n=await this.langiumDocumentFactory.fromUri(t,r),this.addDocument(n),n)}createDocument(t,r,n){if(n)return this.langiumDocumentFactory.fromString(r,t,n).then(a=>(this.addDocument(a),a));{const a=this.langiumDocumentFactory.fromString(r,t);return this.addDocument(a),a}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=Mn.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=Mn.Changed,this.documentMap.delete(r)),n}}class f2t{constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,r=oa.None){for(const n of vg(t.parseResult.value))await uc(r),Zfe(n).forEach(a=>this.doLink(a,t))}doLink(t,r){const n=t.reference;if(n._ref===void 0)try{const a=this.getCandidate(t);if(Iw(a))n._ref=a;else if(n._nodeDescription=a,this.langiumDocuments().hasDocument(a.documentUri)){const o=this.loadAstNode(a);n._ref=o??this.createLinkingError(t,a)}}catch(a){n._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${n.$refText}': ${a}`})}r.references.push(n)}unlink(t){for(const r of t.references)delete r._ref,delete r._nodeDescription;t.references=[]}getCandidate(t){const n=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return n??this.createLinkingError(t)}buildReference(t,r,n,a){const o=this,l={$refNode:n,$refText:a,get ref(){var c;if(Ka(this._ref))return this._ref;if(O1t(this._nodeDescription)){const u=o.loadAstNode(this._nodeDescription);this._ref=u??o.createLinkingError({reference:l,container:t,property:r},this._nodeDescription)}else if(this._ref===void 0){const u=o.getLinkedNode({reference:l,container:t,property:r});if(u.error&&mu(t).state<Mn.ComputedScopes)return;this._ref=(c=u.node)!==null&&c!==void 0?c:u.error,this._nodeDescription=u.descr}return Ka(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Iw(this._ref)?this._ref:void 0}};return l}getLinkedNode(t){try{const r=this.getCandidate(t);if(Iw(r))return{error:r};const n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(t,r)}}catch(r){return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${r}`})}}}loadAstNode(t){if(t.node)return t.node;const r=this.langiumDocuments().getDocument(t.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,t.path)}createLinkingError(t,r){const n=mu(t.container);n.state<Mn.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const a=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${a} named '${t.reference.$refText}'.`,targetDescription:r})}}function d2t(e){return typeof e.name=="string"}class p2t{getName(t){if(d2t(t))return t.name}getNameNode(t){return rde(t.$cstNode,"name")}}class g2t{constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){const r=Ngt(t),n=t.astNode;if(r&&n){const a=n[r.feature];if(Qc(a))return a.ref;if(Array.isArray(a)){for(const o of a)if(Qc(o)&&o.$refNode&&o.$refNode.offset<=t.offset&&o.$refNode.end>=t.end)return o.ref}}if(n){const a=this.nameProvider.getNameNode(n);if(a&&(a===t||L1t(t,a)))return n}}}findDeclarationNode(t){const r=this.findDeclaration(t);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(t,r){const n=[];if(r.includeDeclaration){const o=this.getReferenceToSelf(t);o&&n.push(o)}let a=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return r.documentUri&&(a=a.filter(o=>sf.equals(o.sourceUri,r.documentUri))),n.push(...a),wa(n)}getReferenceToSelf(t){const r=this.nameProvider.getNameNode(t);if(r){const n=mu(t),a=this.nodeLocator.getAstNodePath(t);return{sourceUri:n.uri,sourcePath:a,targetUri:n.uri,targetPath:a,segment:DE(r),local:!0}}}}class VD{constructor(t){if(this.map=new Map,t)for(const[r,n]of t)this.add(r,n)}get size(){return LO.sum(wa(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{const n=this.map.get(t);if(n){const a=n.indexOf(r);if(a>=0)return n.length===1?this.map.delete(t):n.splice(a,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{const n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(a=>t(a,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return wa(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return wa(this.map.keys())}values(){return wa(this.map.values()).flat()}entriesGroupedByKey(){return wa(this.map.entries())}}class $q{get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(const[r,n]of t)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(t,r){return this.map.set(t,r),this.inverse.set(r,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){const r=this.map.get(t);return r!==void 0?(this.map.delete(t),this.inverse.delete(r),!0):!1}}class m2t{constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,r=oa.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,r)}async computeExportsForNode(t,r,n=CD,a=oa.None){const o=[];this.exportNode(t,o,r);for(const l of n(t))await uc(a),this.exportNode(l,o,r);return o}exportNode(t,r,n){const a=this.nameProvider.getName(t);a&&r.push(this.descriptions.createDescription(t,a,n))}async computeLocalScopes(t,r=oa.None){const n=t.parseResult.value,a=new VD;for(const o of C3(n))await uc(r),this.processNode(o,t,a);return a}processNode(t,r,n){const a=t.$container;if(a){const o=this.nameProvider.getName(t);o&&n.add(a,this.descriptions.createDescription(t,o,r))}}}class Hq{constructor(t,r,n){var a;this.elements=t,this.outerScope=r,this.caseInsensitive=(a=n==null?void 0:n.caseInsensitive)!==null&&a!==void 0?a:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===t.toLowerCase()):this.elements.find(n=>n.name===t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(t)}}class v2t{constructor(t,r,n){var a;this.elements=new Map,this.caseInsensitive=(a=n==null?void 0:n.caseInsensitive)!==null&&a!==void 0?a:!1;for(const o of t){const l=this.caseInsensitive?o.name.toLowerCase():o.name;this.elements.set(l,o)}this.outerScope=r}getElement(t){const r=this.caseInsensitive?t.toLowerCase():t,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(t)}getAllElements(){let t=wa(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}}class gpe{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class y2t extends gpe{constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,r){this.throwIfDisposed(),this.cache.set(t,r)}get(t,r){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(r){const n=r();return this.cache.set(t,n),n}else return}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}}class b2t extends gpe{constructor(t){super(),this.cache=new Map,this.converter=t??(r=>r)}has(t,r){return this.throwIfDisposed(),this.cacheForContext(t).has(r)}set(t,r,n){this.throwIfDisposed(),this.cacheForContext(t).set(r,n)}get(t,r,n){this.throwIfDisposed();const a=this.cacheForContext(t);if(a.has(r))return a.get(r);if(n){const o=n();return a.set(r,o),o}else return}delete(t,r){return this.throwIfDisposed(),this.cacheForContext(t).delete(r)}clear(t){if(this.throwIfDisposed(),t){const r=this.converter(t);this.cache.delete(r)}else this.cache.clear()}cacheForContext(t){const r=this.converter(t);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class x2t extends y2t{constructor(t){super(),this.onDispose(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class T2t{constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new x2t(t.shared)}getScope(t){const r=[],n=this.reflection.getReferenceType(t),a=mu(t.container).precomputedScopes;if(a){let l=t.container;do{const c=a.get(l);c.length>0&&r.push(wa(c).filter(u=>this.reflection.isSubtype(u.type,n))),l=l.$container}while(l)}let o=this.getGlobalScope(n,t);for(let l=r.length-1;l>=0;l--)o=this.createScope(r[l],o);return o}createScope(t,r,n){return new Hq(wa(t),r,n)}createScopeForNodes(t,r,n){const a=wa(t).map(o=>{const l=this.nameProvider.getName(o);if(l)return this.descriptions.createDescription(o,l)}).nonNullable();return new Hq(a,r,n)}getGlobalScope(t,r){return this.globalScopeCache.get(t,()=>new v2t(this.indexManager.allElements(t)))}}function w2t(e){return typeof e.$comment=="string"}function Uq(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}class E2t{constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,r={}){const n=r==null?void 0:r.replacer,a=(l,c)=>this.replacer(l,c,r),o=n?(l,c)=>n(l,c,a):a;try{return this.currentDocument=mu(t),JSON.stringify(t,o,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(t,r={}){const n=JSON.parse(t);return this.linkNode(n,n,r),n}replacer(t,r,{refText:n,sourceText:a,textRegions:o,comments:l,uriConverter:c}){var u,h,f,d;if(!this.ignoreProperties.has(t))if(Qc(r)){const p=r.ref,g=n?r.$refText:void 0;if(p){const m=mu(p);let y="";this.currentDocument&&this.currentDocument!==m&&(c?y=c(m.uri,r):y=m.uri.toString());const b=this.astNodeLocator.getAstNodePath(p);return{$ref:`${y}#${b}`,$refText:g}}else return{$error:(h=(u=r.error)===null||u===void 0?void 0:u.message)!==null&&h!==void 0?h:"Could not resolve reference",$refText:g}}else if(Ka(r)){let p;if(o&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!t||r.$document)&&(p!=null&&p.$textRegion)&&(p.$textRegion.documentURI=(f=this.currentDocument)===null||f===void 0?void 0:f.uri.toString())),a&&!t&&(p??(p=Object.assign({},r)),p.$sourceText=(d=r.$cstNode)===null||d===void 0?void 0:d.text),l){p??(p=Object.assign({},r));const g=this.commentProvider.getComment(r);g&&(p.$comment=g.replace(/\r/g,""))}return p??r}else return r}addAstNodeRegionWithAssignmentsTo(t){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(t.$cstNode){const n=t.$textRegion=r(t.$cstNode),a=n.assignments={};return Object.keys(t).filter(o=>!o.startsWith("$")).forEach(o=>{const l=Rgt(t.$cstNode,o).map(r);l.length!==0&&(a[o]=l)}),t}}linkNode(t,r,n,a,o,l){for(const[u,h]of Object.entries(t))if(Array.isArray(h))for(let f=0;f<h.length;f++){const d=h[f];Uq(d)?h[f]=this.reviveReference(t,u,r,d,n):Ka(d)&&this.linkNode(d,r,n,t,u,f)}else Uq(h)?t[u]=this.reviveReference(t,u,r,h,n):Ka(h)&&this.linkNode(h,r,n,t,u);const c=t;c.$container=a,c.$containerProperty=o,c.$containerIndex=l}reviveReference(t,r,n,a,o){let l=a.$refText,c=a.$error;if(a.$ref){const u=this.getRefNode(n,a.$ref,o.uriConverter);if(Ka(u))return l||(l=this.nameProvider.getName(u)),{$refText:l??"",ref:u};c=u}if(c){const u={$refText:l??""};return u.error={container:t,property:r,message:c,reference:u},u}else return}getRefNode(t,r,n){try{const a=r.indexOf("#");if(a===0){const u=this.astNodeLocator.getAstNode(t,r.substring(1));return u||"Could not resolve path: "+r}if(a<0){const u=n?n(r):Km.parse(r),h=this.langiumDocuments.getDocument(u);return h?h.parseResult.value:"Could not find document for URI: "+r}const o=n?n(r.substring(0,a)):Km.parse(r.substring(0,a)),l=this.langiumDocuments.getDocument(o);if(!l)return"Could not find document for URI: "+r;if(a===r.length-1)return l.parseResult.value;const c=this.astNodeLocator.getAstNode(l.parseResult.value,r.substring(a+1));return c||"Could not resolve URI: "+r}catch(a){return String(a)}}}class S2t{register(t){if(!this.singleton&&!this.map){this.singleton=t;return}if(!this.map&&(this.map={},this.singleton)){for(const r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(const r of t.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==t&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.LanguageMetaData.languageId}'.`),this.map[r]=t}getServices(t){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=sf.extname(t),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}function Wq(e){return{code:e}}var tS;(function(e){e.all=["fast","slow","built-in"]})(tS||(tS={}));class A2t{constructor(t){this.entries=new VD,this.reflection=t.shared.AstReflection}register(t,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[a,o]of Object.entries(t)){const l=o;if(Array.isArray(l))for(const c of l){const u={check:this.wrapValidationException(c,r),category:n};this.addEntry(a,u)}else if(typeof l=="function"){const c={check:this.wrapValidationException(l,r),category:n};this.addEntry(a,c)}}}wrapValidationException(t,r){return async(n,a,o)=>{try{await t.call(r,n,a,o)}catch(l){if(GD(l))throw l;console.error("An error occurred during validation:",l);const c=l instanceof Error?l.message:String(l);l instanceof Error&&l.stack&&console.error(l.stack),a("error","An error occurred during validation: "+c,{node:n})}}}addEntry(t,r){if(t==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(t))this.entries.add(n,r)}getChecks(t,r){let n=wa(this.entries.get(t)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(a=>r.includes(a.category))),n.map(a=>a.check)}}class k2t{constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,r={},n=oa.None){const a=t.parseResult,o=[];if(await uc(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(a,o,r),r.stopAfterLexingErrors&&o.some(l=>{var c;return((c=l.data)===null||c===void 0?void 0:c.code)===x0.LexingError})||(this.processParsingErrors(a,o,r),r.stopAfterParsingErrors&&o.some(l=>{var c;return((c=l.data)===null||c===void 0?void 0:c.code)===x0.ParsingError}))||(this.processLinkingErrors(t,o,r),r.stopAfterLinkingErrors&&o.some(l=>{var c;return((c=l.data)===null||c===void 0?void 0:c.code)===x0.LinkingError}))))return o;try{o.push(...await this.validateAst(a.value,r,n))}catch(l){if(GD(l))throw l;console.error("An error occurred during validation:",l)}return await uc(n),o}processLexingErrors(t,r,n){for(const a of t.lexerErrors){const o={severity:T7("error"),range:{start:{line:a.line-1,character:a.column-1},end:{line:a.line-1,character:a.column+a.length-1}},message:a.message,data:Wq(x0.LexingError),source:this.getSource()};r.push(o)}}processParsingErrors(t,r,n){for(const a of t.parserErrors){let o;if(isNaN(a.token.startOffset)){if("previousToken"in a){const l=a.previousToken;if(isNaN(l.startOffset)){const c={line:0,character:0};o={start:c,end:c}}else{const c={line:l.endLine-1,character:l.endColumn};o={start:c,end:c}}}}else o=DO(a.token);if(o){const l={severity:T7("error"),range:o,message:a.message,data:Wq(x0.ParsingError),source:this.getSource()};r.push(l)}}}processLinkingErrors(t,r,n){for(const a of t.references){const o=a.error;if(o){const l={node:o.container,property:o.property,index:o.index,data:{code:x0.LinkingError,containerType:o.container.$type,property:o.property,refText:o.reference.$refText}};r.push(this.toDiagnostic("error",o.message,l))}}}async validateAst(t,r,n=oa.None){const a=[],o=(l,c,u)=>{a.push(this.toDiagnostic(l,c,u))};return await Promise.all(vg(t).map(async l=>{await uc(n);const c=this.validationRegistry.getChecks(l.$type,r.categories);for(const u of c)await u(l,o,n)})),a}toDiagnostic(t,r,n){return{message:r,range:C2t(n),severity:T7(t),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function C2t(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=rde(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=Ogt(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function T7(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}var x0;(function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(x0||(x0={}));class I2t{constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,r,n=mu(t)){r??(r=this.nameProvider.getName(t));const a=this.astNodeLocator.getAstNodePath(t);if(!r)throw new Error(`Node at path ${a} has no name.`);let o;const l=()=>{var c;return o??(o=DE((c=this.nameProvider.getNameNode(t))!==null&&c!==void 0?c:t.$cstNode))};return{node:t,name:r,get nameSegment(){return l()},selectionSegment:DE(t.$cstNode),type:t.$type,documentUri:n.uri,path:a}}}class R2t{constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,r=oa.None){const n=[],a=t.parseResult.value;for(const o of vg(a))await uc(r),Zfe(o).filter(l=>!Iw(l)).forEach(l=>{const c=this.createDescription(l);c&&n.push(c)});return n}createDescription(t){const r=t.reference.$nodeDescription,n=t.reference.$refNode;if(!r||!n)return;const a=mu(t.container).uri;return{sourceUri:a,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:r.documentUri,targetPath:r.path,segment:DE(n),local:sf.equals(r.documentUri,a)}}}class O2t{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){const r=this.getAstNodePath(t.$container),n=this.getPathSegment(t);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:t,$containerIndex:r}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?t+this.indexSeparator+r:t}getAstNode(t,r){return r.split(this.segmentSeparator).reduce((a,o)=>{if(!a||o.length===0)return a;const l=o.indexOf(this.indexSeparator);if(l>0){const c=o.substring(0,l),u=parseInt(o.substring(l+1)),h=a[c];return h==null?void 0:h[u]}return a[o]},t)}}class _2t{constructor(t){this._ready=new YD,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(t){if(this.workspaceConfig){if(t.register){const r=this.serviceRegistry.all;t.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(t.fetchConfiguration){const r=this.serviceRegistry.all.map(a=>({section:this.toSectionName(a.LanguageMetaData.languageId)})),n=await t.fetchConfiguration(r);r.forEach((a,o)=>{this.updateSectionConfiguration(a.section,n[o])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(r=>{this.updateSectionConfiguration(r,t.settings[r])})}updateSectionConfiguration(t,r){this.settings[t]=r}async getConfiguration(t,r){await this.ready;const n=this.toSectionName(t);if(this.settings[n])return this.settings[n][r]}toSectionName(t){return`${t}`}}var rS;(function(e){function t(r){return{dispose:async()=>await r()}}e.create=t})(rS||(rS={}));class N2t{constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new VD,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Mn.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,r={},n=oa.None){var a,o;for(const l of t){const c=l.uri.toString();if(l.state===Mn.Validated){if(typeof r.validation=="boolean"&&r.validation)l.state=Mn.IndexedReferences,l.diagnostics=void 0,this.buildState.delete(c);else if(typeof r.validation=="object"){const u=this.buildState.get(c),h=(a=u==null?void 0:u.result)===null||a===void 0?void 0:a.validationChecks;if(h){const d=((o=r.validation.categories)!==null&&o!==void 0?o:tS.all).filter(p=>!h.includes(p));d.length>0&&(this.buildState.set(c,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:d})},result:u.result}),l.state=Mn.IndexedReferences)}}}else this.buildState.delete(c)}this.currentState=Mn.Changed,await this.emitUpdate(t.map(l=>l.uri),[]),await this.buildDocuments(t,r,n)}async update(t,r,n=oa.None){this.currentState=Mn.Changed;for(const l of r)this.langiumDocuments.deleteDocument(l),this.buildState.delete(l.toString()),this.indexManager.remove(l);for(const l of t){if(!this.langiumDocuments.invalidateDocument(l)){const u=this.langiumDocumentFactory.fromModel({$type:"INVALID"},l);u.state=Mn.Changed,this.langiumDocuments.addDocument(u)}this.buildState.delete(l.toString())}const a=wa(t).concat(r).map(l=>l.toString()).toSet();this.langiumDocuments.all.filter(l=>!a.has(l.uri.toString())&&this.shouldRelink(l,a)).forEach(l=>{this.serviceRegistry.getServices(l.uri).references.Linker.unlink(l),l.state=Math.min(l.state,Mn.ComputedScopes),l.diagnostics=void 0}),await this.emitUpdate(t,r),await uc(n);const o=this.langiumDocuments.all.filter(l=>{var c;return l.state<Mn.Linked||!(!((c=this.buildState.get(l.uri.toString()))===null||c===void 0)&&c.completed)}).toArray();await this.buildDocuments(o,this.updateBuildOptions,n)}async emitUpdate(t,r){await Promise.all(this.updateListeners.map(n=>n(t,r)))}shouldRelink(t,r){return t.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(t,r)}onUpdate(t){return this.updateListeners.push(t),rS.create(()=>{const r=this.updateListeners.indexOf(t);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(t,r,n){this.prepareBuild(t,r),await this.runCancelable(t,Mn.Parsed,n,o=>this.langiumDocumentFactory.update(o,n)),await this.runCancelable(t,Mn.IndexedContent,n,o=>this.indexManager.updateContent(o,n)),await this.runCancelable(t,Mn.ComputedScopes,n,async o=>{const l=this.serviceRegistry.getServices(o.uri).references.ScopeComputation;o.precomputedScopes=await l.computeLocalScopes(o,n)}),await this.runCancelable(t,Mn.Linked,n,o=>this.serviceRegistry.getServices(o.uri).references.Linker.link(o,n)),await this.runCancelable(t,Mn.IndexedReferences,n,o=>this.indexManager.updateReferences(o,n));const a=t.filter(o=>this.shouldValidate(o));await this.runCancelable(a,Mn.Validated,n,o=>this.validate(o,n));for(const o of t){const l=this.buildState.get(o.uri.toString());l&&(l.completed=!0)}}prepareBuild(t,r){for(const n of t){const a=n.uri.toString(),o=this.buildState.get(a);(!o||o.completed)&&this.buildState.set(a,{completed:!1,options:r,result:o==null?void 0:o.result})}}async runCancelable(t,r,n,a){const o=t.filter(l=>l.state<r);for(const l of o)await uc(n),await a(l),l.state=r;await this.notifyBuildPhase(o,r,n),this.currentState=r}onBuildPhase(t,r){return this.buildPhaseListeners.add(t,r),rS.create(()=>{this.buildPhaseListeners.delete(t,r)})}waitUntil(t,r,n){let a;if(r&&"path"in r?a=r:n=r,n??(n=oa.None),a){const o=this.langiumDocuments.getDocument(a);if(o&&o.state>t)return Promise.resolve(a)}return this.currentState>=t?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(eS):new Promise((o,l)=>{const c=this.onBuildPhase(t,()=>{if(c.dispose(),u.dispose(),a){const h=this.langiumDocuments.getDocument(a);o(h==null?void 0:h.uri)}else o(void 0)}),u=n.onCancellationRequested(()=>{c.dispose(),u.dispose(),l(eS)})})}async notifyBuildPhase(t,r,n){if(t.length===0)return;const a=this.buildPhaseListeners.get(r);for(const o of a)await uc(n),await o(t,n)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,r){var n,a;const o=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,l=this.getBuildOptions(t).validation,c=typeof l=="object"?l:void 0,u=await o.validateDocument(t,c,r);t.diagnostics?t.diagnostics.push(...u):t.diagnostics=u;const h=this.buildState.get(t.uri.toString());if(h){(n=h.result)!==null&&n!==void 0||(h.result={});const f=(a=c==null?void 0:c.categories)!==null&&a!==void 0?a:tS.all;h.result.validationChecks?h.result.validationChecks.push(...f):h.result.validationChecks=[...f]}}getBuildOptions(t){var r,n;return(n=(r=this.buildState.get(t.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class L2t{constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new b2t,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,r){const n=mu(t).uri,a=[];return this.referenceIndex.forEach(o=>{o.forEach(l=>{sf.equals(l.targetUri,n)&&l.targetPath===r&&a.push(l)})}),wa(a)}allElements(t,r){let n=wa(this.symbolIndex.keys());return r&&(n=n.filter(a=>!r||r.has(a))),n.map(a=>this.getFileDescriptions(a,t)).flat()}getFileDescriptions(t,r){var n;return r?this.symbolByTypeIndex.get(t,r,()=>{var o;return((o=this.symbolIndex.get(t))!==null&&o!==void 0?o:[]).filter(c=>this.astReflection.isSubtype(c.type,r))}):(n=this.symbolIndex.get(t))!==null&&n!==void 0?n:[]}remove(t){const r=t.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(t,r=oa.None){const a=await this.serviceRegistry.getServices(t.uri).references.ScopeComputation.computeExports(t,r),o=t.uri.toString();this.symbolIndex.set(o,a),this.symbolByTypeIndex.clear(o)}async updateReferences(t,r=oa.None){const a=await this.serviceRegistry.getServices(t.uri).workspace.ReferenceDescriptionProvider.createDescriptions(t,r);this.referenceIndex.set(t.uri.toString(),a)}isAffected(t,r){const n=this.referenceIndex.get(t.uri.toString());return n?n.some(a=>!a.local&&r.has(a.targetUri.toString())):!1}}class M2t{constructor(t){this.initialBuildOptions={},this._ready=new YD,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(t){var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(t){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(t,r=oa.None){const n=await this.performStartup(t);await uc(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(t){const r=this.serviceRegistry.all.flatMap(o=>o.LanguageMetaData.fileExtensions),n=[],a=o=>{n.push(o),this.langiumDocuments.hasDocument(o.uri)||this.langiumDocuments.addDocument(o)};return await this.loadAdditionalDocuments(t,a),await Promise.all(t.map(o=>[o,this.getRootFolder(o)]).map(async o=>this.traverseFolder(...o,r,a))),this._ready.resolve(),n}loadAdditionalDocuments(t,r){return Promise.resolve()}getRootFolder(t){return Km.parse(t.uri)}async traverseFolder(t,r,n,a){const o=await this.fileSystemProvider.readDirectory(r);await Promise.all(o.map(async l=>{if(this.includeEntry(t,l,n)){if(l.isDirectory)await this.traverseFolder(t,l.uri,n,a);else if(l.isFile){const c=await this.langiumDocuments.getOrCreateDocument(l.uri);a(c)}}}))}includeEntry(t,r,n){const a=sf.basename(r.uri);if(a.startsWith("."))return!1;if(r.isDirectory)return a!=="node_modules"&&a!=="out";if(r.isFile){const o=sf.extname(r.uri);return n.includes(o)}return!1}}class D2t{constructor(t){const r=t.parser.TokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=zq(r)?Object.values(r):r;this.chevrotainLexer=new io(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(t){var r;const n=this.chevrotainLexer.tokenize(t);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(t){if(zq(t))return t;const r=mpe(t)?Object.values(t.modes).flat():t,n={};return r.forEach(a=>n[a.name]=a),n}}function P2t(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function mpe(e){return e&&"modes"in e&&"defaultMode"in e}function zq(e){return!P2t(e)&&!mpe(e)}function F2t(e,t,r){let n,a;typeof e=="string"?(a=t,n=r):(a=e.range.start,n=t),a||(a=jr.create(0,0));const o=vpe(e),l=qD(n),c=H2t({lines:o,position:a,options:l});return Y2t({index:0,tokens:c,position:a})}function B2t(e,t){const r=qD(t),n=vpe(e);if(n.length===0)return!1;const a=n[0],o=n[n.length-1],l=r.start,c=r.end;return!!(l!=null&&l.exec(a))&&!!(c!=null&&c.exec(o))}function vpe(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(ygt)}const Gq=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,$2t=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function H2t(e){var t,r,n;const a=[];let o=e.position.line,l=e.position.character;for(let c=0;c<e.lines.length;c++){const u=c===0,h=c===e.lines.length-1;let f=e.lines[c],d=0;if(u&&e.options.start){const g=(t=e.options.start)===null||t===void 0?void 0:t.exec(f);g&&(d=g.index+g[0].length)}else{const g=(r=e.options.line)===null||r===void 0?void 0:r.exec(f);g&&(d=g.index+g[0].length)}if(h){const g=(n=e.options.end)===null||n===void 0?void 0:n.exec(f);g&&(f=f.substring(0,g.index))}if(f=f.substring(0,G2t(f)),g_(f,d)>=f.length){if(a.length>0){const g=jr.create(o,l);a.push({type:"break",content:"",range:Or.create(g,g)})}}else{Gq.lastIndex=d;const g=Gq.exec(f);if(g){const m=g[0],y=g[1],b=jr.create(o,l+d),x=jr.create(o,l+d+m.length);a.push({type:"tag",content:y,range:Or.create(b,x)}),d+=m.length,d=g_(f,d)}if(d<f.length){const m=f.substring(d),y=Array.from(m.matchAll($2t));a.push(...U2t(y,m,o,l+d))}}o++,l=0}return a.length>0&&a[a.length-1].type==="break"?a.slice(0,-1):a}function U2t(e,t,r,n){const a=[];if(e.length===0){const o=jr.create(r,n),l=jr.create(r,n+t.length);a.push({type:"text",content:t,range:Or.create(o,l)})}else{let o=0;for(const c of e){const u=c.index,h=t.substring(o,u);h.length>0&&a.push({type:"text",content:t.substring(o,u),range:Or.create(jr.create(r,o+n),jr.create(r,u+n))});let f=h.length+1;const d=c[1];if(a.push({type:"inline-tag",content:d,range:Or.create(jr.create(r,o+f+n),jr.create(r,o+f+d.length+n))}),f+=d.length,c.length===4){f+=c[2].length;const p=c[3];a.push({type:"text",content:p,range:Or.create(jr.create(r,o+f+n),jr.create(r,o+f+p.length+n))})}else a.push({type:"text",content:"",range:Or.create(jr.create(r,o+f+n),jr.create(r,o+f+n))});o=u+c[0].length}const l=t.substring(o);l.length>0&&a.push({type:"text",content:l,range:Or.create(jr.create(r,o+n),jr.create(r,o+n+l.length))})}return a}const W2t=/\S/,z2t=/\s*$/;function g_(e,t){const r=e.substring(t).match(W2t);return r?t+r.index:e.length}function G2t(e){const t=e.match(z2t);if(t&&typeof t.index=="number")return t.index}function Y2t(e){var t,r,n,a;const o=jr.create(e.position.line,e.position.character);if(e.tokens.length===0)return new Yq([],Or.create(o,o));const l=[];for(;e.index<e.tokens.length;){const h=V2t(e,l[l.length-1]);h&&l.push(h)}const c=(r=(t=l[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:o,u=(a=(n=l[l.length-1])===null||n===void 0?void 0:n.range.end)!==null&&a!==void 0?a:o;return new Yq(l,Or.create(c,u))}function V2t(e,t){const r=e.tokens[e.index];if(r.type==="tag")return bpe(e,!1);if(r.type==="text"||r.type==="inline-tag")return ype(e);q2t(r,t),e.index++}function q2t(e,t){if(t){const r=new Tpe("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function ype(e){let t=e.tokens[e.index];const r=t;let n=t;const a=[];for(;t&&t.type!=="break"&&t.type!=="tag";)a.push(j2t(e)),n=t,t=e.tokens[e.index];return new m_(a,Or.create(r.range.start,n.range.end))}function j2t(e){return e.tokens[e.index].type==="inline-tag"?bpe(e,!0):xpe(e)}function bpe(e,t){const r=e.tokens[e.index++],n=r.content.substring(1),a=e.tokens[e.index];if((a==null?void 0:a.type)==="text")if(t){const o=xpe(e);return new E7(n,new m_([o],o.range),t,Or.create(r.range.start,o.range.end))}else{const o=ype(e);return new E7(n,o,t,Or.create(r.range.start,o.range.end))}else{const o=r.range;return new E7(n,new m_([],o),t,o)}}function xpe(e){const t=e.tokens[e.index++];return new Tpe(t.content,t.range)}function qD(e){if(!e)return qD({start:"/**",end:"*/",line:"*"});const{start:t,end:r,line:n}=e;return{start:w7(t,!0),end:w7(r,!1),line:w7(n,!0)}}function w7(e,t){if(typeof e=="string"||typeof e=="object"){const r=typeof e=="string"?$A(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}class Yq{constructor(t,r){this.elements=t,this.range=r}getTag(t){return this.getAllTags().find(r=>r.name===t)}getTags(t){return this.getAllTags().filter(r=>r.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(const r of this.elements)if(t.length===0)t=r.toString();else{const n=r.toString();t+=Vq(t)+n}return t.trim()}toMarkdown(t){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(t);else{const a=n.toMarkdown(t);r+=Vq(r)+a}return r.trim()}}class E7{constructor(t,r,n,a){this.name=t,this.content=r,this.inline=n,this.range=a}toString(){let t=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?t=`${t} ${r}`:this.content.inlines.length>1&&(t=`${t}
${r}`),this.inline?`{${t}}`:t}toMarkdown(t){var r,n;return(n=(r=t==null?void 0:t.renderTag)===null||r===void 0?void 0:r.call(t,this))!==null&&n!==void 0?n:this.toMarkdownDefault(t)}toMarkdownDefault(t){const r=this.content.toMarkdown(t);if(this.inline){const o=X2t(this.name,r,t??{});if(typeof o=="string")return o}let n="";(t==null?void 0:t.tag)==="italic"||(t==null?void 0:t.tag)===void 0?n="*":(t==null?void 0:t.tag)==="bold"?n="**":(t==null?void 0:t.tag)==="bold-italic"&&(n="***");let a=`${n}@${this.name}${n}`;return this.content.inlines.length===1?a=`${a} — ${r}`:this.content.inlines.length>1&&(a=`${a}
${r}`),this.inline?`{${a}}`:a}}function X2t(e,t,r){var n,a;if(e==="linkplain"||e==="linkcode"||e==="link"){const o=t.indexOf(" ");let l=t;if(o>0){const u=g_(t,o);l=t.substring(u),t=t.substring(0,o)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(l=`\`${l}\``),(a=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,l))!==null&&a!==void 0?a:K2t(t,l)}}function K2t(e,t){try{return Km.parse(e,!0),`[${t}](${e})`}catch{return e}}class m_{constructor(t,r){this.inlines=t,this.range=r}toString(){let t="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],a=this.inlines[r+1];t+=n.toString(),a&&a.range.start.line>n.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let r="";for(let n=0;n<this.inlines.length;n++){const a=this.inlines[n],o=this.inlines[n+1];r+=a.toMarkdown(t),o&&o.range.start.line>a.range.start.line&&(r+=`
`)}return r}}class Tpe{constructor(t,r){this.text=t,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function Vq(e){return e.endsWith(`
`)?`
`:`

`}class Z2t{constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){const r=this.commentProvider.getComment(t);if(r&&B2t(r))return F2t(r).toMarkdown({renderLink:(a,o)=>this.documentationLinkRenderer(t,a,o),renderTag:a=>this.documentationTagRenderer(t,a)})}documentationLinkRenderer(t,r,n){var a;const o=(a=this.findNameInPrecomputedScopes(t,r))!==null&&a!==void 0?a:this.findNameInGlobalScope(t,r);if(o&&o.nameSegment){const l=o.nameSegment.range.start.line+1,c=o.nameSegment.range.start.character+1,u=o.documentUri.with({fragment:`L${l},${c}`});return`[${n}](${u.toString()})`}else return}documentationTagRenderer(t,r){}findNameInPrecomputedScopes(t,r){const a=mu(t).precomputedScopes;if(!a)return;let o=t;do{const c=a.get(o).find(u=>u.name===r);if(c)return c;o=o.$container}while(o)}findNameInGlobalScope(t,r){return this.indexManager.allElements().find(a=>a.name===r)}}class Q2t{constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var r;return w2t(t)?t.$comment:(r=F1t(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class J2t{constructor(t){this.syncParser=t.parser.LangiumParser}parse(t){return Promise.resolve(this.syncParser.parse(t))}}class ebt{constructor(){this.previousTokenSource=new h_,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();const r=new h_;return this.previousTokenSource=r,this.enqueue(this.writeQueue,t,r.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,r,n){const a=new YD,o={action:r,deferred:a,cancellationToken:n??oa.None};return t.push(o),this.performNextOperation(),a.promise}async performNextOperation(){if(!this.done)return;const t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else if(this.readQueue.length>0)t.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(t.map(async({action:r,deferred:n,cancellationToken:a})=>{try{const o=await Promise.resolve().then(()=>r(a));n.resolve(o)}catch(o){GD(o)?n.resolve(void 0):n.reject(o)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class tbt{constructor(t){this.grammarElementIdMap=new $q,this.tokenTypeIdMap=new $q,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors.map(r=>Object.assign({},r)),parserErrors:t.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}createDehyrationContext(t){const r=new Map,n=new Map;for(const a of vg(t))r.set(a,{});if(t.$cstNode)for(const a of MO(t.$cstNode))n.set(a,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(t.$cstNode,r));for(const[a,o]of Object.entries(t))if(!a.startsWith("$"))if(Array.isArray(o)){const l=[];n[a]=l;for(const c of o)Ka(c)?l.push(this.dehydrateAstNode(c,r)):Qc(c)?l.push(this.dehydrateReference(c,r)):l.push(c)}else Ka(o)?n[a]=this.dehydrateAstNode(o,r):Qc(o)?n[a]=this.dehydrateReference(o,r):o!==void 0&&(n[a]=o);return n}dehydrateReference(t,r){const n={};return n.$refText=t.$refText,t.$refNode&&(n.$refNode=r.cstNodes.get(t.$refNode)),n}dehydrateCstNode(t,r){const n=r.cstNodes.get(t);return gfe(t)?n.fullText=t.fullText:n.grammarSource=this.getGrammarElementId(t.grammarSource),n.hidden=t.hidden,n.astNode=r.astNodes.get(t.astNode),Gm(t)?n.content=t.content.map(a=>this.dehydrateCstNode(a,r)):pfe(t)&&(n.tokenType=t.tokenType.name,n.offset=t.offset,n.length=t.length,n.startLine=t.range.start.line,n.startColumn=t.range.start.character,n.endLine=t.range.end.line,n.endColumn=t.range.end.character),n}hydrate(t){const r=t.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:t.lexerErrors,parserErrors:t.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(t){const r=new Map,n=new Map;for(const o of vg(t))r.set(o,{});let a;if(t.$cstNode)for(const o of MO(t.$cstNode)){let l;"fullText"in o?(l=new Qde(o.fullText),a=l):"content"in o?l=new WD:"tokenType"in o&&(l=this.hydrateCstLeafNode(o)),l&&(n.set(o,l),l.root=a)}return{astNodes:r,cstNodes:n}}hydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode&&(n.$cstNode=r.cstNodes.get(t.$cstNode));for(const[a,o]of Object.entries(t))if(!a.startsWith("$"))if(Array.isArray(o)){const l=[];n[a]=l;for(const c of o)Ka(c)?l.push(this.setParent(this.hydrateAstNode(c,r),n)):Qc(c)?l.push(this.hydrateReference(c,n,a,r)):l.push(c)}else Ka(o)?n[a]=this.setParent(this.hydrateAstNode(o,r),n):Qc(o)?n[a]=this.hydrateReference(o,n,a,r):o!==void 0&&(n[a]=o);return n}setParent(t,r){return t.$container=r,t}hydrateReference(t,r,n,a){return this.linker.buildReference(r,n,a.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,r,n=0){const a=r.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(a.grammarSource=this.getGrammarElement(t.grammarSource)),a.astNode=r.astNodes.get(t.astNode),Gm(a))for(const o of t.content){const l=this.hydrateCstNode(o,r,n++);a.content.push(l)}return a}hydrateCstLeafNode(t){const r=this.getTokenType(t.tokenType),n=t.offset,a=t.length,o=t.startLine,l=t.startColumn,c=t.endLine,u=t.endColumn,h=t.hidden;return new s_(n,a,{start:{line:o,character:l},end:{line:c,character:u}},r,h)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const r=this.grammarElementIdMap.getKey(t);if(r)return r;throw new Error("Invalid grammar element id: "+t)}createGrammarElementIdMap(){let t=0;for(const r of vg(this.grammar))H1t(r)&&this.grammarElementIdMap.set(r,t++)}}function Wv(e){return{documentation:{CommentProvider:t=>new Q2t(t),DocumentationProvider:t=>new Z2t(t)},parser:{AsyncParser:t=>new J2t(t),GrammarConfig:t=>Hgt(t),LangiumParser:t=>jyt(t),CompletionParser:t=>qyt(t),ValueConverter:()=>new ope,TokenBuilder:()=>new spe,Lexer:t=>new D2t(t),ParserErrorMessageProvider:()=>new tpe},workspace:{AstNodeLocator:()=>new O2t,AstNodeDescriptionProvider:t=>new I2t(t),ReferenceDescriptionProvider:t=>new R2t(t)},references:{Linker:t=>new f2t(t),NameProvider:()=>new p2t,ScopeProvider:t=>new T2t(t),ScopeComputation:t=>new m2t(t),References:t=>new g2t(t)},serializer:{Hydrator:t=>new tbt(t),JsonSerializer:t=>new E2t(t)},validation:{DocumentValidator:t=>new k2t(t),ValidationRegistry:t=>new A2t(t)},shared:()=>e.shared}}function zv(e){return{ServiceRegistry:()=>new S2t,workspace:{LangiumDocuments:t=>new h2t(t),LangiumDocumentFactory:t=>new u2t(t),DocumentBuilder:t=>new N2t(t),IndexManager:t=>new L2t(t),WorkspaceManager:t=>new M2t(t),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new ebt,ConfigurationProvider:t=>new _2t(t)}}}var qq;(function(e){e.merge=(t,r)=>nS(nS({},t),r)})(qq||(qq={}));function Rl(e,t,r,n,a,o,l,c,u){const h=[e,t,r,n,a,o,l,c,u].reduce(nS,{});return wpe(h)}const jq=Symbol("isProxy");function wpe(e,t){const r=new Proxy({},{deleteProperty:()=>!1,get:(n,a)=>Kq(n,a,e,t||r),getOwnPropertyDescriptor:(n,a)=>(Kq(n,a,e,t||r),Object.getOwnPropertyDescriptor(n,a)),has:(n,a)=>a in e,ownKeys:()=>[...Reflect.ownKeys(e),jq]});return r[jq]=!0,r}const Xq=Symbol();function Kq(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===Xq)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){const a=r[t];e[t]=Xq;try{e[t]=typeof a=="function"?a(n):wpe(a,n)}catch(o){throw e[t]=o instanceof Error?o:void 0,o}return e[t]}else return}function nS(e,t){if(t){for(const[r,n]of Object.entries(t))if(n!==void 0){const a=e[r];a!==null&&n!==null&&typeof a=="object"&&typeof n=="object"?e[r]=nS(a,n):e[r]=n}}return e}class rbt{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const Gv={fileSystemProvider:()=>new rbt},nbt={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},ibt={AstReflection:()=>new Kfe};function abt(){const e=Rl(zv(Gv),ibt),t=Rl(Wv({shared:e}),nbt);return e.ServiceRegistry.register(t),t}function L3(e){var t;const r=abt(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,Km.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var sbt=Object.defineProperty,_t=(e,t)=>sbt(e,"name",{value:t,configurable:!0}),obt="Statement",lbt="Architecture";function cbt(e){return Sc.isInstance(e,lbt)}_t(cbt,"isArchitecture");var Epe="Branch";function ubt(e){return Sc.isInstance(e,Epe)}_t(ubt,"isBranch");var hbt="Checkout",fbt="CherryPicking",Spe="Commit";function dbt(e){return Sc.isInstance(e,Spe)}_t(dbt,"isCommit");var pbt="Common";function gbt(e){return Sc.isInstance(e,pbt)}_t(gbt,"isCommon");var Ape="GitGraph";function mbt(e){return Sc.isInstance(e,Ape)}_t(mbt,"isGitGraph");var vbt="Info";function ybt(e){return Sc.isInstance(e,vbt)}_t(ybt,"isInfo");var kpe="Merge";function bbt(e){return Sc.isInstance(e,kpe)}_t(bbt,"isMerge");var xbt="Packet";function Tbt(e){return Sc.isInstance(e,xbt)}_t(Tbt,"isPacket");var wbt="PacketBlock";function Ebt(e){return Sc.isInstance(e,wbt)}_t(Ebt,"isPacketBlock");var Sbt="Pie";function Abt(e){return Sc.isInstance(e,Sbt)}_t(Abt,"isPie");var kbt="PieSection";function Cbt(e){return Sc.isInstance(e,kbt)}_t(Cbt,"isPieSection");var Ibt="Direction",Fg,Cpe=(Fg=class extends dfe{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(t,r){switch(t){case Epe:case hbt:case fbt:case Spe:case kpe:return this.isSubtype(obt,r);case Ibt:return this.isSubtype(Ape,r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;switch(r){default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:t,properties:[]}}}},_t(Fg,"MermaidAstReflection"),Fg),Sc=new Cpe,Zq,Rbt=_t(()=>Zq??(Zq=L3('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Qq,Obt=_t(()=>Qq??(Qq=L3(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),Jq,_bt=_t(()=>Jq??(Jq=L3('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),ej,Nbt=_t(()=>ej??(ej=L3('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),tj,Lbt=_t(()=>tj??(tj=L3(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),Mbt={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Dbt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Pbt={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Fbt={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Bbt={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},M3={AstReflection:_t(()=>new Cpe,"AstReflection")},$bt={Grammar:_t(()=>Rbt(),"Grammar"),LanguageMetaData:_t(()=>Mbt,"LanguageMetaData"),parser:{}},Hbt={Grammar:_t(()=>Obt(),"Grammar"),LanguageMetaData:_t(()=>Dbt,"LanguageMetaData"),parser:{}},Ubt={Grammar:_t(()=>_bt(),"Grammar"),LanguageMetaData:_t(()=>Pbt,"LanguageMetaData"),parser:{}},Wbt={Grammar:_t(()=>Nbt(),"Grammar"),LanguageMetaData:_t(()=>Fbt,"LanguageMetaData"),parser:{}},zbt={Grammar:_t(()=>Lbt(),"Grammar"),LanguageMetaData:_t(()=>Bbt,"LanguageMetaData"),parser:{}},Gbt=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,Ybt=/accTitle[\t ]*:([^\n\r]*)/,Vbt=/title([\t ][^\n\r]*|)/,qbt={ACC_DESCR:Gbt,ACC_TITLE:Ybt,TITLE:Vbt},Bg,jD=(Bg=class extends ope{runConverter(t,r,n){let a=this.runCommonConverter(t,r,n);return a===void 0&&(a=this.runCustomConverter(t,r,n)),a===void 0?super.runConverter(t,r,n):a}runCommonConverter(t,r,n){const a=qbt[t.name];if(a===void 0)return;const o=a.exec(r);if(o!==null){if(o[1]!==void 0)return o[1].trim().replace(/[\t ]{2,}/gm," ");if(o[2]!==void 0)return o[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},_t(Bg,"AbstractMermaidValueConverter"),Bg),$g,XD=($g=class extends jD{runCustomConverter(t,r,n){}},_t($g,"CommonValueConverter"),$g),Hg,Yv=(Hg=class extends spe{constructor(t){super(),this.keywords=new Set(t)}buildKeywordTokens(t,r,n){const a=super.buildKeywordTokens(t,r,n);return a.forEach(o=>{this.keywords.has(o.name)&&o.PATTERN!==void 0&&(o.PATTERN=new RegExp(o.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),a}},_t(Hg,"AbstractMermaidTokenBuilder"),Hg),Ug;Ug=class extends Yv{},_t(Ug,"CommonTokenBuilder");var Wg,jbt=(Wg=class extends Yv{constructor(){super(["gitGraph"])}},_t(Wg,"GitGraphTokenBuilder"),Wg),Ipe={parser:{TokenBuilder:_t(()=>new jbt,"TokenBuilder"),ValueConverter:_t(()=>new XD,"ValueConverter")}};function Rpe(e=Gv){const t=Rl(zv(e),M3),r=Rl(Wv({shared:t}),zbt,Ipe);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}_t(Rpe,"createGitGraphServices");var zg,Xbt=(zg=class extends Yv{constructor(){super(["info","showInfo"])}},_t(zg,"InfoTokenBuilder"),zg),Ope={parser:{TokenBuilder:_t(()=>new Xbt,"TokenBuilder"),ValueConverter:_t(()=>new XD,"ValueConverter")}};function _pe(e=Gv){const t=Rl(zv(e),M3),r=Rl(Wv({shared:t}),$bt,Ope);return t.ServiceRegistry.register(r),{shared:t,Info:r}}_t(_pe,"createInfoServices");var Gg,Kbt=(Gg=class extends Yv{constructor(){super(["packet-beta"])}},_t(Gg,"PacketTokenBuilder"),Gg),Npe={parser:{TokenBuilder:_t(()=>new Kbt,"TokenBuilder"),ValueConverter:_t(()=>new XD,"ValueConverter")}};function Lpe(e=Gv){const t=Rl(zv(e),M3),r=Rl(Wv({shared:t}),Hbt,Npe);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}_t(Lpe,"createPacketServices");var Yg,Zbt=(Yg=class extends Yv{constructor(){super(["pie","showData"])}},_t(Yg,"PieTokenBuilder"),Yg),Vg,Qbt=(Vg=class extends jD{runCustomConverter(t,r,n){if(t.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},_t(Vg,"PieValueConverter"),Vg),Mpe={parser:{TokenBuilder:_t(()=>new Zbt,"TokenBuilder"),ValueConverter:_t(()=>new Qbt,"ValueConverter")}};function Dpe(e=Gv){const t=Rl(zv(e),M3),r=Rl(Wv({shared:t}),Ubt,Mpe);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}_t(Dpe,"createPieServices");var qg,Jbt=(qg=class extends Yv{constructor(){super(["architecture"])}},_t(qg,"ArchitectureTokenBuilder"),qg),jg,ext=(jg=class extends jD{runCustomConverter(t,r,n){if(t.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(t.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(t.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},_t(jg,"ArchitectureValueConverter"),jg),Ppe={parser:{TokenBuilder:_t(()=>new Jbt,"TokenBuilder"),ValueConverter:_t(()=>new ext,"ValueConverter")}};function Fpe(e=Gv){const t=Rl(zv(e),M3),r=Rl(Wv({shared:t}),Wbt,Ppe);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}_t(Fpe,"createArchitectureServices");var pd={},txt={info:_t(async()=>{const{createInfoServices:e}=await vr(async()=>{const{createInfoServices:r}=await Promise.resolve().then(()=>m9t);return{createInfoServices:r}},void 0,import.meta.url),t=e().Info.parser.LangiumParser;pd.info=t},"info"),packet:_t(async()=>{const{createPacketServices:e}=await vr(async()=>{const{createPacketServices:r}=await Promise.resolve().then(()=>v9t);return{createPacketServices:r}},void 0,import.meta.url),t=e().Packet.parser.LangiumParser;pd.packet=t},"packet"),pie:_t(async()=>{const{createPieServices:e}=await vr(async()=>{const{createPieServices:r}=await Promise.resolve().then(()=>y9t);return{createPieServices:r}},void 0,import.meta.url),t=e().Pie.parser.LangiumParser;pd.pie=t},"pie"),architecture:_t(async()=>{const{createArchitectureServices:e}=await vr(async()=>{const{createArchitectureServices:r}=await Promise.resolve().then(()=>b9t);return{createArchitectureServices:r}},void 0,import.meta.url),t=e().Architecture.parser.LangiumParser;pd.architecture=t},"architecture"),gitGraph:_t(async()=>{const{createGitGraphServices:e}=await vr(async()=>{const{createGitGraphServices:r}=await Promise.resolve().then(()=>x9t);return{createGitGraphServices:r}},void 0,import.meta.url),t=e().GitGraph.parser.LangiumParser;pd.gitGraph=t},"gitGraph")};async function Vv(e,t){const r=txt[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);pd[e]||await r();const a=pd[e].parse(t);if(a.lexerErrors.length>0||a.parserErrors.length>0)throw new rxt(a);return a.value}_t(Vv,"parse");var Xg,rxt=(Xg=class extends Error{constructor(t){const r=t.lexerErrors.map(a=>a.message).join(`
`),n=t.parserErrors.map(a=>a.message).join(`
`);super(`Parsing failed: ${r} ${n}`),this.result=t}},_t(Xg,"MermaidParseError"),Xg),tn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},nxt=Lr.gitGraph,Gp=A(()=>zh({...nxt,...Fn().gitGraph}),"getConfig"),Tt=new ED(()=>{const e=Gp(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}});function XA(){return Nse({length:7})}A(XA,"getID");function Bpe(e,t){const r=Object.create(null);return e.reduce((n,a)=>{const o=t(a);return r[o]||(r[o]=!0,n.push(a)),n},[])}A(Bpe,"uniqBy");var ixt=A(function(e){Tt.records.direction=e},"setDirection"),axt=A(function(e){me.debug("options str",e),e=e==null?void 0:e.trim(),e=e||"{}";try{Tt.records.options=JSON.parse(e)}catch(t){me.error("error while parsing gitGraph options",t.message)}},"setOptions"),sxt=A(function(){return Tt.records.options},"getOptions"),oxt=A(function(e){let t=e.msg,r=e.id;const n=e.type;let a=e.tags;me.info("commit",t,r,n,a),me.debug("Entering commit:",t,r,n,a);const o=Gp();r=st.sanitizeText(r,o),t=st.sanitizeText(t,o),a=a==null?void 0:a.map(c=>st.sanitizeText(c,o));const l={id:r||Tt.records.seq+"-"+XA(),message:t,seq:Tt.records.seq++,type:n??tn.NORMAL,tags:a??[],parents:Tt.records.head==null?[]:[Tt.records.head.id],branch:Tt.records.currBranch};Tt.records.head=l,me.info("main branch",o.mainBranchName),Tt.records.commits.set(l.id,l),Tt.records.branches.set(Tt.records.currBranch,l.id),me.debug("in pushCommit "+l.id)},"commit"),lxt=A(function(e){let t=e.name;const r=e.order;if(t=st.sanitizeText(t,Gp()),Tt.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);Tt.records.branches.set(t,Tt.records.head!=null?Tt.records.head.id:null),Tt.records.branchConfig.set(t,{name:t,order:r}),$pe(t),me.debug("in createBranch")},"branch"),cxt=A(e=>{let t=e.branch,r=e.id;const n=e.type,a=e.tags,o=Gp();t=st.sanitizeText(t,o),r&&(r=st.sanitizeText(r,o));const l=Tt.records.branches.get(Tt.records.currBranch),c=Tt.records.branches.get(t),u=l?Tt.records.commits.get(l):void 0,h=c?Tt.records.commits.get(c):void 0;if(u&&h&&u.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(Tt.records.currBranch===t){const p=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw p.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},p}if(u===void 0||!u){const p=new Error(`Incorrect usage of "merge". Current branch (${Tt.records.currBranch})has no commits`);throw p.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},p}if(!Tt.records.branches.has(t)){const p=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw p.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},p}if(h===void 0||!h){const p=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw p.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},p}if(u===h){const p=new Error('Incorrect usage of "merge". Both branches have same head');throw p.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},p}if(r&&Tt.records.commits.has(r)){const p=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw p.hash={text:`merge ${t} ${r} ${n} ${a==null?void 0:a.join(" ")}`,token:`merge ${t} ${r} ${n} ${a==null?void 0:a.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${a==null?void 0:a.join(" ")}`]},p}const f=c||"",d={id:r||`${Tt.records.seq}-${XA()}`,message:`merged branch ${t} into ${Tt.records.currBranch}`,seq:Tt.records.seq++,parents:Tt.records.head==null?[]:[Tt.records.head.id,f],branch:Tt.records.currBranch,type:tn.MERGE,customType:n,customId:!!r,tags:a??[]};Tt.records.head=d,Tt.records.commits.set(d.id,d),Tt.records.branches.set(Tt.records.currBranch,d.id),me.debug(Tt.records.branches),me.debug("in mergeBranch")},"merge"),uxt=A(function(e){let t=e.id,r=e.targetId,n=e.tags,a=e.parent;me.debug("Entering cherryPick:",t,r,n);const o=Gp();if(t=st.sanitizeText(t,o),r=st.sanitizeText(r,o),n=n==null?void 0:n.map(u=>st.sanitizeText(u,o)),a=st.sanitizeText(a,o),!t||!Tt.records.commits.has(t)){const u=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw u.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},u}const l=Tt.records.commits.get(t);if(l===void 0||!l)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(a&&!(Array.isArray(l.parents)&&l.parents.includes(a)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const c=l.branch;if(l.type===tn.MERGE&&!a)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!Tt.records.commits.has(r)){if(c===Tt.records.currBranch){const d=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw d.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},d}const u=Tt.records.branches.get(Tt.records.currBranch);if(u===void 0||!u){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${Tt.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},d}const h=Tt.records.commits.get(u);if(h===void 0||!h){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${Tt.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},d}const f={id:Tt.records.seq+"-"+XA(),message:`cherry-picked ${l==null?void 0:l.message} into ${Tt.records.currBranch}`,seq:Tt.records.seq++,parents:Tt.records.head==null?[]:[Tt.records.head.id,l.id],branch:Tt.records.currBranch,type:tn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${l.id}${l.type===tn.MERGE?`|parent:${a}`:""}`]};Tt.records.head=f,Tt.records.commits.set(f.id,f),Tt.records.branches.set(Tt.records.currBranch,f.id),me.debug(Tt.records.branches),me.debug("in cherryPick")}},"cherryPick"),$pe=A(function(e){if(e=st.sanitizeText(e,Gp()),Tt.records.branches.has(e)){Tt.records.currBranch=e;const t=Tt.records.branches.get(Tt.records.currBranch);t===void 0||!t?Tt.records.head=null:Tt.records.head=Tt.records.commits.get(t)??null}else{const t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout");function v_(e,t,r){const n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}A(v_,"upsert");function KD(e){const t=e.reduce((a,o)=>a.seq>o.seq?a:o,e[0]);let r="";e.forEach(function(a){a===t?r+="	*":r+="	|"});const n=[r,t.id,t.seq];for(const a in Tt.records.branches)Tt.records.branches.get(a)===t.id&&n.push(a);if(me.debug(n.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){const a=Tt.records.commits.get(t.parents[0]);v_(e,t,a),t.parents[1]&&e.push(Tt.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){const a=Tt.records.commits.get(t.parents[0]);v_(e,t,a)}}e=Bpe(e,a=>a.id),KD(e)}A(KD,"prettyPrintCommitHistory");var hxt=A(function(){me.debug(Tt.records.commits);const e=Hpe()[0];KD([e])},"prettyPrint"),fxt=A(function(){Tt.reset(),ca()},"clear"),dxt=A(function(){return[...Tt.records.branchConfig.values()].map((t,r)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${r}`)}).sort((t,r)=>(t.order??0)-(r.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),pxt=A(function(){return Tt.records.branches},"getBranches"),gxt=A(function(){return Tt.records.commits},"getCommits"),Hpe=A(function(){const e=[...Tt.records.commits.values()];return e.forEach(function(t){me.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),mxt=A(function(){return Tt.records.currBranch},"getCurrentBranch"),vxt=A(function(){return Tt.records.direction},"getDirection"),yxt=A(function(){return Tt.records.head},"getHead"),Upe={commitType:tn,getConfig:Gp,setDirection:ixt,setOptions:axt,getOptions:sxt,commit:oxt,branch:lxt,merge:cxt,cherryPick:uxt,checkout:$pe,prettyPrint:hxt,clear:fxt,getBranchesAsObjArray:dxt,getBranches:pxt,getCommits:gxt,getCommitsArray:Hpe,getCurrentBranch:mxt,getDirection:vxt,getHead:yxt,setAccTitle:ua,getAccTitle:Ia,getAccDescription:Oa,setAccDescription:Ra,setDiagramTitle:Ns,getDiagramTitle:_a},bxt=A((e,t)=>{k3(e,t),e.dir&&t.setDirection(e.dir);for(const r of e.statements)xxt(r,t)},"populate"),xxt=A((e,t)=>{const n={Commit:A(a=>t.commit(Txt(a)),"Commit"),Branch:A(a=>t.branch(wxt(a)),"Branch"),Merge:A(a=>t.merge(Ext(a)),"Merge"),Checkout:A(a=>t.checkout(Sxt(a)),"Checkout"),CherryPicking:A(a=>t.cherryPick(Axt(a)),"CherryPicking")}[e.$type];n?n(e):me.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),Txt=A(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?tn[e.type]:tn.NORMAL,tags:e.tags??void 0}),"parseCommit"),wxt=A(e=>({name:e.name,order:e.order??0}),"parseBranch"),Ext=A(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?tn[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),Sxt=A(e=>e.branch,"parseCheckout"),Axt=A(e=>{var r;return{id:e.id,targetId:"",tags:((r=e.tags)==null?void 0:r.length)===0?void 0:e.tags,parent:e.parent}},"parseCherryPicking"),kxt={parse:A(async e=>{const t=await Vv("gitGraph",e);me.debug(t),bxt(t,Upe)},"parse")},S7=De(),ki=S7==null?void 0:S7.gitGraph,O0=10,_0=40,$c=4,Xu=2,gd=8,eo=new Map,ao=new Map,iS=30,g2=new Map,aS=[],E0=0,Rr="LR",Cxt=A(()=>{eo.clear(),ao.clear(),g2.clear(),E0=0,aS=[],Rr="LR"},"clear"),Wpe=A(e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(n=>{const a=document.createElementNS("http://www.w3.org/2000/svg","tspan");a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.setAttribute("dy","1em"),a.setAttribute("x","0"),a.setAttribute("class","row"),a.textContent=n.trim(),t.appendChild(a)}),t},"drawText"),zpe=A(e=>{let t,r,n;return Rr==="BT"?(r=A((a,o)=>a<=o,"comparisonFunc"),n=1/0):(r=A((a,o)=>a>=o,"comparisonFunc"),n=0),e.forEach(a=>{var l,c;const o=Rr==="TB"||Rr=="BT"?(l=ao.get(a))==null?void 0:l.y:(c=ao.get(a))==null?void 0:c.x;o!==void 0&&r(o,n)&&(t=a,n=o)}),t},"findClosestParent"),Ixt=A(e=>{let t="",r=1/0;return e.forEach(n=>{const a=ao.get(n).y;a<=r&&(t=n,r=a)}),t||void 0},"findClosestParentBT"),Rxt=A((e,t,r)=>{let n=r,a=r;const o=[];e.forEach(l=>{const c=t.get(l);if(!c)throw new Error(`Commit not found for key ${l}`);c.parents.length?(n=_xt(c),a=Math.max(n,a)):o.push(c),Nxt(c,n)}),n=a,o.forEach(l=>{Lxt(l,n,r)}),e.forEach(l=>{const c=t.get(l);if(c!=null&&c.parents.length){const u=Ixt(c.parents);n=ao.get(u).y-_0,n<=a&&(a=n);const h=eo.get(c.branch).pos,f=n-O0;ao.set(c.id,{x:h,y:f})}})},"setParallelBTPos"),Oxt=A(e=>{var n;const t=zpe(e.parents.filter(a=>a!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);const r=(n=ao.get(t))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),_xt=A(e=>Oxt(e)+_0,"calculateCommitPosition"),Nxt=A((e,t)=>{const r=eo.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);const n=r.pos,a=t+O0;return ao.set(e.id,{x:n,y:a}),{x:n,y:a}},"setCommitPosition"),Lxt=A((e,t,r)=>{const n=eo.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);const a=t+r,o=n.pos;ao.set(e.id,{x:o,y:a})},"setRootPosition"),Mxt=A((e,t,r,n,a,o)=>{if(o===tn.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${a%gd} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${a%gd} ${n}-inner`);else if(o===tn.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{const l=e.append("circle");if(l.attr("cx",r.x),l.attr("cy",r.y),l.attr("r",t.type===tn.MERGE?9:10),l.attr("class",`commit ${t.id} commit${a%gd}`),o===tn.MERGE){const c=e.append("circle");c.attr("cx",r.x),c.attr("cy",r.y),c.attr("r",6),c.attr("class",`commit ${n} ${t.id} commit${a%gd}`)}o===tn.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${a%gd}`)}},"drawCommitBullet"),Dxt=A((e,t,r,n)=>{var a;if(t.type!==tn.CHERRY_PICK&&(t.customId&&t.type===tn.MERGE||t.type!==tn.MERGE)&&(ki!=null&&ki.showCommitLabel)){const o=e.append("g"),l=o.insert("rect").attr("class","commit-label-bkg"),c=o.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),u=(a=c.node())==null?void 0:a.getBBox();if(u&&(l.attr("x",r.posWithOffset-u.width/2-Xu).attr("y",r.y+13.5).attr("width",u.width+2*Xu).attr("height",u.height+2*Xu),Rr==="TB"||Rr==="BT"?(l.attr("x",r.x-(u.width+4*$c+5)).attr("y",r.y-12),c.attr("x",r.x-(u.width+4*$c)).attr("y",r.y+u.height-12)):c.attr("x",r.posWithOffset-u.width/2),ki.rotateCommitLabel))if(Rr==="TB"||Rr==="BT")c.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),l.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const h=-7.5-(u.width+10)/25*9.5,f=10+u.width/25*8.5;o.attr("transform","translate("+h+", "+f+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),Pxt=A((e,t,r,n)=>{var a;if(t.tags.length>0){let o=0,l=0,c=0;const u=[];for(const h of t.tags.reverse()){const f=e.insert("polygon"),d=e.append("circle"),p=e.append("text").attr("y",r.y-16-o).attr("class","tag-label").text(h),g=(a=p.node())==null?void 0:a.getBBox();if(!g)throw new Error("Tag bbox not found");l=Math.max(l,g.width),c=Math.max(c,g.height),p.attr("x",r.posWithOffset-g.width/2),u.push({tag:p,hole:d,rect:f,yOffset:o}),o+=20}for(const{tag:h,hole:f,rect:d,yOffset:p}of u){const g=c/2,m=r.y-19.2-p;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-l/2-$c/2},${m+Xu}  
      ${n-l/2-$c/2},${m-Xu}
      ${r.posWithOffset-l/2-$c},${m-g-Xu}
      ${r.posWithOffset+l/2+$c},${m-g-Xu}
      ${r.posWithOffset+l/2+$c},${m+g+Xu}
      ${r.posWithOffset-l/2-$c},${m+g+Xu}`),f.attr("cy",m).attr("cx",n-l/2+$c/2).attr("r",1.5).attr("class","tag-hole"),Rr==="TB"||Rr==="BT"){const y=n+p;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${y+2}
        ${r.x},${y-2}
        ${r.x+O0},${y-g-2}
        ${r.x+O0+l+4},${y-g-2}
        ${r.x+O0+l+4},${y+g+2}
        ${r.x+O0},${y+g+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),f.attr("cx",r.x+$c/2).attr("cy",y).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("x",r.x+5).attr("y",y+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),Fxt=A(e=>{switch(e.customType??e.type){case tn.NORMAL:return"commit-normal";case tn.REVERSE:return"commit-reverse";case tn.HIGHLIGHT:return"commit-highlight";case tn.MERGE:return"commit-merge";case tn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),Bxt=A((e,t,r,n)=>{const a={x:0,y:0};if(e.parents.length>0){const o=zpe(e.parents);if(o){const l=n.get(o)??a;return t==="TB"?l.y+_0:t==="BT"?(n.get(e.id)??a).y-_0:l.x+_0}}else return t==="TB"?iS:t==="BT"?(n.get(e.id)??a).y-_0:0;return 0},"calculatePosition"),$xt=A((e,t,r)=>{var l,c;const n=Rr==="BT"&&r?t:t+O0,a=Rr==="TB"||Rr==="BT"?n:(l=eo.get(e.branch))==null?void 0:l.pos,o=Rr==="TB"||Rr==="BT"?(c=eo.get(e.branch))==null?void 0:c.pos:n;if(o===void 0||a===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:o,y:a,posWithOffset:n}},"getCommitPosition"),rj=A((e,t,r)=>{if(!ki)throw new Error("GitGraph config not found");const n=e.append("g").attr("class","commit-bullets"),a=e.append("g").attr("class","commit-labels");let o=Rr==="TB"||Rr==="BT"?iS:0;const l=[...t.keys()],c=(ki==null?void 0:ki.parallelCommits)??!1,u=A((f,d)=>{var m,y;const p=(m=t.get(f))==null?void 0:m.seq,g=(y=t.get(d))==null?void 0:y.seq;return p!==void 0&&g!==void 0?p-g:0},"sortKeys");let h=l.sort(u);Rr==="BT"&&(c&&Rxt(h,t,o),h=h.reverse()),h.forEach(f=>{var g;const d=t.get(f);if(!d)throw new Error(`Commit not found for key ${f}`);c&&(o=Bxt(d,Rr,o,ao));const p=$xt(d,o,c);if(r){const m=Fxt(d),y=d.customType??d.type,b=((g=eo.get(d.branch))==null?void 0:g.index)??0;Mxt(n,d,p,m,b,y),Dxt(a,d,p,o),Pxt(a,d,p,o)}Rr==="TB"||Rr==="BT"?ao.set(d.id,{x:p.x,y:p.posWithOffset}):ao.set(d.id,{x:p.posWithOffset,y:p.y}),o=Rr==="BT"&&c?o+_0:o+_0+O0,o>E0&&(E0=o)})},"drawCommits"),Hxt=A((e,t,r,n,a)=>{const l=(Rr==="TB"||Rr==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,c=A(h=>h.branch===l,"isOnBranchToGetCurve"),u=A(h=>h.seq>e.seq&&h.seq<t.seq,"isBetweenCommits");return[...a.values()].some(h=>u(h)&&c(h))},"shouldRerouteArrow"),m2=A((e,t,r=0)=>{const n=e+Math.abs(e-t)/2;if(r>5)return n;if(aS.every(l=>Math.abs(l-n)>=10))return aS.push(n),n;const o=Math.abs(e-t);return m2(e,t-o/5,r+1)},"findLane"),Uxt=A((e,t,r,n)=>{var g,m,y,b,x;const a=ao.get(t.id),o=ao.get(r.id);if(a===void 0||o===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);const l=Hxt(t,r,a,o,n);let c="",u="",h=0,f=0,d=(g=eo.get(r.branch))==null?void 0:g.index;r.type===tn.MERGE&&t.id!==r.parents[0]&&(d=(m=eo.get(t.branch))==null?void 0:m.index);let p;if(l){c="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,f=10;const T=a.y<o.y?m2(a.y,o.y):m2(o.y,a.y),w=a.x<o.x?m2(a.x,o.x):m2(o.x,a.x);Rr==="TB"?a.x<o.x?p=`M ${a.x} ${a.y} L ${w-h} ${a.y} ${u} ${w} ${a.y+f} L ${w} ${o.y-h} ${c} ${w+f} ${o.y} L ${o.x} ${o.y}`:(d=(y=eo.get(t.branch))==null?void 0:y.index,p=`M ${a.x} ${a.y} L ${w+h} ${a.y} ${c} ${w} ${a.y+f} L ${w} ${o.y-h} ${u} ${w-f} ${o.y} L ${o.x} ${o.y}`):Rr==="BT"?a.x<o.x?p=`M ${a.x} ${a.y} L ${w-h} ${a.y} ${c} ${w} ${a.y-f} L ${w} ${o.y+h} ${u} ${w+f} ${o.y} L ${o.x} ${o.y}`:(d=(b=eo.get(t.branch))==null?void 0:b.index,p=`M ${a.x} ${a.y} L ${w+h} ${a.y} ${u} ${w} ${a.y-f} L ${w} ${o.y+h} ${c} ${w-f} ${o.y} L ${o.x} ${o.y}`):a.y<o.y?p=`M ${a.x} ${a.y} L ${a.x} ${T-h} ${c} ${a.x+f} ${T} L ${o.x-h} ${T} ${u} ${o.x} ${T+f} L ${o.x} ${o.y}`:(d=(x=eo.get(t.branch))==null?void 0:x.index,p=`M ${a.x} ${a.y} L ${a.x} ${T+h} ${u} ${a.x+f} ${T} L ${o.x-h} ${T} ${c} ${o.x} ${T-f} L ${o.x} ${o.y}`)}else c="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,f=20,Rr==="TB"?(a.x<o.x&&(r.type===tn.MERGE&&t.id!==r.parents[0]?p=`M ${a.x} ${a.y} L ${a.x} ${o.y-h} ${c} ${a.x+f} ${o.y} L ${o.x} ${o.y}`:p=`M ${a.x} ${a.y} L ${o.x-h} ${a.y} ${u} ${o.x} ${a.y+f} L ${o.x} ${o.y}`),a.x>o.x&&(c="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,f=20,r.type===tn.MERGE&&t.id!==r.parents[0]?p=`M ${a.x} ${a.y} L ${a.x} ${o.y-h} ${u} ${a.x-f} ${o.y} L ${o.x} ${o.y}`:p=`M ${a.x} ${a.y} L ${o.x+h} ${a.y} ${c} ${o.x} ${a.y+f} L ${o.x} ${o.y}`),a.x===o.x&&(p=`M ${a.x} ${a.y} L ${o.x} ${o.y}`)):Rr==="BT"?(a.x<o.x&&(r.type===tn.MERGE&&t.id!==r.parents[0]?p=`M ${a.x} ${a.y} L ${a.x} ${o.y+h} ${u} ${a.x+f} ${o.y} L ${o.x} ${o.y}`:p=`M ${a.x} ${a.y} L ${o.x-h} ${a.y} ${c} ${o.x} ${a.y-f} L ${o.x} ${o.y}`),a.x>o.x&&(c="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,f=20,r.type===tn.MERGE&&t.id!==r.parents[0]?p=`M ${a.x} ${a.y} L ${a.x} ${o.y+h} ${c} ${a.x-f} ${o.y} L ${o.x} ${o.y}`:p=`M ${a.x} ${a.y} L ${o.x-h} ${a.y} ${c} ${o.x} ${a.y-f} L ${o.x} ${o.y}`),a.x===o.x&&(p=`M ${a.x} ${a.y} L ${o.x} ${o.y}`)):(a.y<o.y&&(r.type===tn.MERGE&&t.id!==r.parents[0]?p=`M ${a.x} ${a.y} L ${o.x-h} ${a.y} ${u} ${o.x} ${a.y+f} L ${o.x} ${o.y}`:p=`M ${a.x} ${a.y} L ${a.x} ${o.y-h} ${c} ${a.x+f} ${o.y} L ${o.x} ${o.y}`),a.y>o.y&&(r.type===tn.MERGE&&t.id!==r.parents[0]?p=`M ${a.x} ${a.y} L ${o.x-h} ${a.y} ${c} ${o.x} ${a.y-f} L ${o.x} ${o.y}`:p=`M ${a.x} ${a.y} L ${a.x} ${o.y+h} ${u} ${a.x+f} ${o.y} L ${o.x} ${o.y}`),a.y===o.y&&(p=`M ${a.x} ${a.y} L ${o.x} ${o.y}`));if(p===void 0)throw new Error("Line definition not found");e.append("path").attr("d",p).attr("class","arrow arrow"+d%gd)},"drawArrow"),Wxt=A((e,t)=>{const r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{const a=t.get(n);a.parents&&a.parents.length>0&&a.parents.forEach(o=>{Uxt(r,t.get(o),a,t)})})},"drawArrows"),zxt=A((e,t)=>{const r=e.append("g");t.forEach((n,a)=>{var m;const o=a%gd,l=(m=eo.get(n.name))==null?void 0:m.pos;if(l===void 0)throw new Error(`Position not found for branch ${n.name}`);const c=r.append("line");c.attr("x1",0),c.attr("y1",l),c.attr("x2",E0),c.attr("y2",l),c.attr("class","branch branch"+o),Rr==="TB"?(c.attr("y1",iS),c.attr("x1",l),c.attr("y2",E0),c.attr("x2",l)):Rr==="BT"&&(c.attr("y1",E0),c.attr("x1",l),c.attr("y2",iS),c.attr("x2",l)),aS.push(l);const u=n.name,h=Wpe(u),f=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);p.node().appendChild(h);const g=h.getBBox();f.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-g.width-4-((ki==null?void 0:ki.rotateCommitLabel)===!0?30:0)).attr("y",-g.height/2+8).attr("width",g.width+18).attr("height",g.height+4),p.attr("transform","translate("+(-g.width-14-((ki==null?void 0:ki.rotateCommitLabel)===!0?30:0))+", "+(l-g.height/2-1)+")"),Rr==="TB"?(f.attr("x",l-g.width/2-10).attr("y",0),p.attr("transform","translate("+(l-g.width/2-5)+", 0)")):Rr==="BT"?(f.attr("x",l-g.width/2-10).attr("y",E0),p.attr("transform","translate("+(l-g.width/2-5)+", "+E0+")")):f.attr("transform","translate(-19, "+(l-g.height/2)+")")})},"drawBranches"),Gxt=A(function(e,t,r,n,a){return eo.set(e,{pos:t,index:r}),t+=50+(a?40:0)+(Rr==="TB"||Rr==="BT"?n.width/2:0),t},"setBranchPosition"),Yxt=A(function(e,t,r,n){if(Cxt(),me.debug("in gitgraph renderer",e+`
`,"id:",t,r),!ki)throw new Error("GitGraph config not found");const a=ki.rotateCommitLabel??!1,o=n.db;g2=o.getCommits();const l=o.getBranchesAsObjArray();Rr=o.getDirection();const c=nt(`[id="${t}"]`);let u=0;l.forEach((h,f)=>{var b;const d=Wpe(h.name),p=c.append("g"),g=p.insert("g").attr("class","branchLabel"),m=g.insert("g").attr("class","label branch-label");(b=m.node())==null||b.appendChild(d);const y=d.getBBox();u=Gxt(h.name,u,f,y,a),m.remove(),g.remove(),p.remove()}),rj(c,g2,!1),ki.showBranches&&zxt(c,l),Wxt(c,g2),rj(c,g2,!0),ur.insertTitle(c,"gitTitleText",ki.titleTopMargin??0,o.getDiagramTitle()),une(void 0,c,ki.diagramPadding,ki.useMaxWidth)},"draw"),Vxt={draw:Yxt},qxt=A(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),jxt=qxt,Xxt={parser:kxt,db:Upe,renderer:Vxt,styles:jxt};const Kxt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Xxt},Symbol.toStringTag,{value:"Module"}));var Gpe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(As,function(){var r="day";return function(n,a,o){var l=function(h){return h.add(4-h.isoWeekday(),r)},c=a.prototype;c.isoWeekYear=function(){return l(this).year()},c.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),r);var f,d,p,g,m=l(this),y=(f=this.isoWeekYear(),d=this.$u,p=(d?o.utc:o)().year(f).startOf("year"),g=4-p.isoWeekday(),p.isoWeekday()>4&&(g+=7),p.add(g,r));return m.diff(y,"week")+1},c.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var u=c.startOf;c.startOf=function(h,f){var d=this.$utils(),p=!!d.u(f)||f;return d.p(h)==="isoweek"?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):u.bind(this)(h,f)}}})})(Gpe);var Zxt=Gpe.exports;const Qxt=Wo(Zxt);var Ype={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(As,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,o=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},h=function(b){return(b=+b)+(b>68?1900:2e3)},f=function(b){return function(x){this[b]=+x}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var T=x.match(/([+-]|\d\d)/g),w=60*T[1]+(+T[2]||0);return w===0?0:T[0]==="+"?-w:w}(b)}],p=function(b){var x=u[b];return x&&(x.indexOf?x:x.s.concat(x.f))},g=function(b,x){var T,w=u.meridiem;if(w){for(var E=1;E<=24;E+=1)if(b.indexOf(w(E,0,x))>-1){T=E>12;break}}else T=b===(x?"pm":"PM");return T},m={A:[c,function(b){this.afternoon=g(b,!1)}],a:[c,function(b){this.afternoon=g(b,!0)}],Q:[a,function(b){this.month=3*(b-1)+1}],S:[a,function(b){this.milliseconds=100*+b}],SS:[o,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[l,f("seconds")],ss:[l,f("seconds")],m:[l,f("minutes")],mm:[l,f("minutes")],H:[l,f("hours")],h:[l,f("hours")],HH:[l,f("hours")],hh:[l,f("hours")],D:[l,f("day")],DD:[o,f("day")],Do:[c,function(b){var x=u.ordinal,T=b.match(/\d+/);if(this.day=T[0],x)for(var w=1;w<=31;w+=1)x(w).replace(/\[|\]/g,"")===b&&(this.day=w)}],w:[l,f("week")],ww:[o,f("week")],M:[l,f("month")],MM:[o,f("month")],MMM:[c,function(b){var x=p("months"),T=(p("monthsShort")||x.map(function(w){return w.slice(0,3)})).indexOf(b)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[c,function(b){var x=p("months").indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,f("year")],YY:[o,function(b){this.year=h(b)}],YYYY:[/\d{4}/,f("year")],Z:d,ZZ:d};function y(b){var x,T;x=b,T=u&&u.formats;for(var w=(b=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,R,M){var $=M&&M.toUpperCase();return R||T[M]||r[M]||T[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,P,F){return P||F.slice(1)})})).match(n),E=w.length,S=0;S<E;S+=1){var C=w[S],k=m[C],O=k&&k[0],I=k&&k[1];w[S]=I?{regex:O,parser:I}:C.replace(/^\[|\]$/g,"")}return function(_){for(var R={},M=0,$=0;M<E;M+=1){var N=w[M];if(typeof N=="string")$+=N.length;else{var P=N.regex,F=N.parser,L=_.slice($),D=P.exec(L)[0];F.call(R,D),_=_.replace(D,"")}}return function(B){var H=B.afternoon;if(H!==void 0){var U=B.hours;H?U<12&&(B.hours+=12):U===12&&(B.hours=0),delete B.afternoon}}(R),R}}return function(b,x,T){T.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var w=x.prototype,E=w.parse;w.parse=function(S){var C=S.date,k=S.utc,O=S.args;this.$u=k;var I=O[1];if(typeof I=="string"){var _=O[2]===!0,R=O[3]===!0,M=_||R,$=O[2];R&&($=O[2]),u=this.$locale(),!_&&$&&(u=T.Ls[$]),this.$d=function(L,D,B,H){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*L);var U=y(D)(L),G=U.year,W=U.month,ee=U.day,ce=U.hours,Z=U.minutes,J=U.seconds,oe=U.milliseconds,Y=U.zone,X=U.week,K=new Date,z=ee||(G||W?1:K.getDate()),j=G||K.getFullYear(),te=0;G&&!W||(te=W>0?W-1:K.getMonth());var re,Se=ce||0,ue=Z||0,se=J||0,fe=oe||0;return Y?new Date(Date.UTC(j,te,z,Se,ue,se,fe+60*Y.offset*1e3)):B?new Date(Date.UTC(j,te,z,Se,ue,se,fe)):(re=new Date(j,te,z,Se,ue,se,fe),X&&(re=H(re).week(X).toDate()),re)}catch{return new Date("")}}(C,I,k,T),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),M&&C!=this.format(I)&&(this.$d=new Date("")),u={}}else if(I instanceof Array)for(var N=I.length,P=1;P<=N;P+=1){O[1]=I[P-1];var F=T.apply(this,O);if(F.isValid()){this.$d=F.$d,this.$L=F.$L,this.init();break}P===N&&(this.$d=new Date(""))}else E.call(this,S)}}})})(Ype);var Jxt=Ype.exports;const e3t=Wo(Jxt);var Vpe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(As,function(){return function(r,n){var a=n.prototype,o=a.format;a.format=function(l){var c=this,u=this.$locale();if(!this.isValid())return o.bind(this)(l);var h=this.$utils(),f=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return u.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return u.ordinal(c.week(),"W");case"w":case"ww":return h.s(c.week(),d==="w"?1:2,"0");case"W":case"WW":return h.s(c.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return h.s(String(c.$H===0?24:c.$H),d==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return d}});return o.bind(this)(f)}}})})(Vpe);var t3t=Vpe.exports;const r3t=Wo(t3t);var y_=function(){var e=A(function($,N,P,F){for(P=P||{},F=$.length;F--;P[$[F]]=N);return P},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],a=[1,28],o=[1,29],l=[1,30],c=[1,31],u=[1,32],h=[1,33],f=[1,34],d=[1,9],p=[1,10],g=[1,11],m=[1,12],y=[1,13],b=[1,14],x=[1,15],T=[1,16],w=[1,19],E=[1,20],S=[1,21],C=[1,22],k=[1,23],O=[1,25],I=[1,35],_={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:A(function(N,P,F,L,D,B,H){var U=B.length-1;switch(D){case 1:return B[U-1];case 2:this.$=[];break;case 3:B[U-1].push(B[U]),this.$=B[U-1];break;case 4:case 5:this.$=B[U];break;case 6:case 7:this.$=[];break;case 8:L.setWeekday("monday");break;case 9:L.setWeekday("tuesday");break;case 10:L.setWeekday("wednesday");break;case 11:L.setWeekday("thursday");break;case 12:L.setWeekday("friday");break;case 13:L.setWeekday("saturday");break;case 14:L.setWeekday("sunday");break;case 15:L.setWeekend("friday");break;case 16:L.setWeekend("saturday");break;case 17:L.setDateFormat(B[U].substr(11)),this.$=B[U].substr(11);break;case 18:L.enableInclusiveEndDates(),this.$=B[U].substr(18);break;case 19:L.TopAxis(),this.$=B[U].substr(8);break;case 20:L.setAxisFormat(B[U].substr(11)),this.$=B[U].substr(11);break;case 21:L.setTickInterval(B[U].substr(13)),this.$=B[U].substr(13);break;case 22:L.setExcludes(B[U].substr(9)),this.$=B[U].substr(9);break;case 23:L.setIncludes(B[U].substr(9)),this.$=B[U].substr(9);break;case 24:L.setTodayMarker(B[U].substr(12)),this.$=B[U].substr(12);break;case 27:L.setDiagramTitle(B[U].substr(6)),this.$=B[U].substr(6);break;case 28:this.$=B[U].trim(),L.setAccTitle(this.$);break;case 29:case 30:this.$=B[U].trim(),L.setAccDescription(this.$);break;case 31:L.addSection(B[U].substr(8)),this.$=B[U].substr(8);break;case 33:L.addTask(B[U-1],B[U]),this.$="task";break;case 34:this.$=B[U-1],L.setClickEvent(B[U-1],B[U],null);break;case 35:this.$=B[U-2],L.setClickEvent(B[U-2],B[U-1],B[U]);break;case 36:this.$=B[U-2],L.setClickEvent(B[U-2],B[U-1],null),L.setLink(B[U-2],B[U]);break;case 37:this.$=B[U-3],L.setClickEvent(B[U-3],B[U-2],B[U-1]),L.setLink(B[U-3],B[U]);break;case 38:this.$=B[U-2],L.setClickEvent(B[U-2],B[U],null),L.setLink(B[U-2],B[U-1]);break;case 39:this.$=B[U-3],L.setClickEvent(B[U-3],B[U-1],B[U]),L.setLink(B[U-3],B[U-2]);break;case 40:this.$=B[U-1],L.setLink(B[U-1],B[U]);break;case 41:case 47:this.$=B[U-1]+" "+B[U];break;case 42:case 43:case 45:this.$=B[U-2]+" "+B[U-1]+" "+B[U];break;case 44:case 46:this.$=B[U-3]+" "+B[U-2]+" "+B[U-1]+" "+B[U];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:a,15:o,16:l,17:c,18:u,19:18,20:h,21:f,22:d,23:p,24:g,25:m,26:y,27:b,28:x,29:T,30:w,31:E,33:S,35:C,36:k,37:24,38:O,40:I},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:a,15:o,16:l,17:c,18:u,19:18,20:h,21:f,22:d,23:p,24:g,25:m,26:y,27:b,28:x,29:T,30:w,31:E,33:S,35:C,36:k,37:24,38:O,40:I},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:A(function(N,P){if(P.recoverable)this.trace(N);else{var F=new Error(N);throw F.hash=P,F}},"parseError"),parse:A(function(N){var P=this,F=[0],L=[],D=[null],B=[],H=this.table,U="",G=0,W=0,ee=2,ce=1,Z=B.slice.call(arguments,1),J=Object.create(this.lexer),oe={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(oe.yy[Y]=this.yy[Y]);J.setInput(N,oe.yy),oe.yy.lexer=J,oe.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var X=J.yylloc;B.push(X);var K=J.options&&J.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function z(Ie){F.length=F.length-2*Ie,D.length=D.length-Ie,B.length=B.length-Ie}A(z,"popStack");function j(){var Ie;return Ie=L.pop()||J.lex()||ce,typeof Ie!="number"&&(Ie instanceof Array&&(L=Ie,Ie=L.pop()),Ie=P.symbols_[Ie]||Ie),Ie}A(j,"lex");for(var te,re,Se,ue,se={},fe,ye,he,Ae;;){if(re=F[F.length-1],this.defaultActions[re]?Se=this.defaultActions[re]:((te===null||typeof te>"u")&&(te=j()),Se=H[re]&&H[re][te]),typeof Se>"u"||!Se.length||!Se[0]){var Ce="";Ae=[];for(fe in H[re])this.terminals_[fe]&&fe>ee&&Ae.push("'"+this.terminals_[fe]+"'");J.showPosition?Ce="Parse error on line "+(G+1)+`:
`+J.showPosition()+`
Expecting `+Ae.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Ce="Parse error on line "+(G+1)+": Unexpected "+(te==ce?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Ce,{text:J.match,token:this.terminals_[te]||te,line:J.yylineno,loc:X,expected:Ae})}if(Se[0]instanceof Array&&Se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+re+", token: "+te);switch(Se[0]){case 1:F.push(te),D.push(J.yytext),B.push(J.yylloc),F.push(Se[1]),te=null,W=J.yyleng,U=J.yytext,G=J.yylineno,X=J.yylloc;break;case 2:if(ye=this.productions_[Se[1]][1],se.$=D[D.length-ye],se._$={first_line:B[B.length-(ye||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(ye||1)].first_column,last_column:B[B.length-1].last_column},K&&(se._$.range=[B[B.length-(ye||1)].range[0],B[B.length-1].range[1]]),ue=this.performAction.apply(se,[U,W,G,oe.yy,Se[1],D,B].concat(Z)),typeof ue<"u")return ue;ye&&(F=F.slice(0,-1*ye*2),D=D.slice(0,-1*ye),B=B.slice(0,-1*ye)),F.push(this.productions_[Se[1]][0]),D.push(se.$),B.push(se._$),he=H[F[F.length-2]][F[F.length-1]],F.push(he);break;case 3:return!0}}return!0},"parse")},R=function(){var $={EOF:1,parseError:A(function(P,F){if(this.yy.parser)this.yy.parser.parseError(P,F);else throw new Error(P)},"parseError"),setInput:A(function(N,P){return this.yy=P||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var P=N.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),N},"input"),unput:A(function(N){var P=N.length,F=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===L.length?this.yylloc.first_column:0)+L[L.length-F.length].length-F[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(N){this.unput(this.match.slice(N))},"less"),pastInput:A(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var N=this.match;return N.length<20&&(N+=this._input.substr(0,20-N.length)),(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var N=this.pastInput(),P=new Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+P+"^"},"showPosition"),test_match:A(function(N,P){var F,L,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),L=N[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],F=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var B in D)this[B]=D[B];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var N,P,F,L;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),B=0;B<D.length;B++)if(F=this._input.match(this.rules[D[B]]),F&&(!P||F[0].length>P[0].length)){if(P=F,L=B,this.options.backtrack_lexer){if(N=this.test_match(F,D[B]),N!==!1)return N;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(N=this.test_match(P,D[L]),N!==!1?N:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var P=this.next();return P||this.lex()},"lex"),begin:A(function(P){this.conditionStack.push(P)},"begin"),popState:A(function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:A(function(P){this.begin(P)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(P,F,L,D){switch(L){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return $}();_.lexer=R;function M(){this.yy={}}return A(M,"Parser"),M.prototype=_,_.Parser=M,new M}();y_.parser=y_;var n3t=y_;ja.extend(Qxt);ja.extend(e3t);ja.extend(r3t);var nj={friday:5,saturday:6},Jc="",ZD="",QD=void 0,JD="",D3=[],P3=[],eP=new Map,tP=[],sS=[],Zm="",rP="",qpe=["active","done","crit","milestone"],nP=[],F3=!1,iP=!1,aP="sunday",oS="saturday",b_=0,i3t=A(function(){tP=[],sS=[],Zm="",nP=[],Mw=0,T_=void 0,Dw=void 0,Li=[],Jc="",ZD="",rP="",QD=void 0,JD="",D3=[],P3=[],F3=!1,iP=!1,b_=0,eP=new Map,ca(),aP="sunday",oS="saturday"},"clear"),a3t=A(function(e){ZD=e},"setAxisFormat"),s3t=A(function(){return ZD},"getAxisFormat"),o3t=A(function(e){QD=e},"setTickInterval"),l3t=A(function(){return QD},"getTickInterval"),c3t=A(function(e){JD=e},"setTodayMarker"),u3t=A(function(){return JD},"getTodayMarker"),h3t=A(function(e){Jc=e},"setDateFormat"),f3t=A(function(){F3=!0},"enableInclusiveEndDates"),d3t=A(function(){return F3},"endDatesAreInclusive"),p3t=A(function(){iP=!0},"enableTopAxis"),g3t=A(function(){return iP},"topAxisEnabled"),m3t=A(function(e){rP=e},"setDisplayMode"),v3t=A(function(){return rP},"getDisplayMode"),y3t=A(function(){return Jc},"getDateFormat"),b3t=A(function(e){D3=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),x3t=A(function(){return D3},"getIncludes"),T3t=A(function(e){P3=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),w3t=A(function(){return P3},"getExcludes"),E3t=A(function(){return eP},"getLinks"),S3t=A(function(e){Zm=e,tP.push(e)},"addSection"),A3t=A(function(){return tP},"getSections"),k3t=A(function(){let e=ij();const t=10;let r=0;for(;!e&&r<t;)e=ij(),r++;return sS=Li,sS},"getTasks"),jpe=A(function(e,t,r,n){return n.includes(e.format(t.trim()))?!1:r.includes("weekends")&&(e.isoWeekday()===nj[oS]||e.isoWeekday()===nj[oS]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(e.format(t.trim()))},"isInvalidDate"),C3t=A(function(e){aP=e},"setWeekday"),I3t=A(function(){return aP},"getWeekday"),R3t=A(function(e){oS=e},"setWeekend"),Xpe=A(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let a;e.startTime instanceof Date?a=ja(e.startTime):a=ja(e.startTime,t,!0),a=a.add(1,"d");let o;e.endTime instanceof Date?o=ja(e.endTime):o=ja(e.endTime,t,!0);const[l,c]=O3t(a,o,t,r,n);e.endTime=l.toDate(),e.renderEndTime=c},"checkTaskDates"),O3t=A(function(e,t,r,n,a){let o=!1,l=null;for(;e<=t;)o||(l=t.toDate()),o=jpe(e,r,n,a),o&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,l]},"fixTaskDates"),x_=A(function(e,t,r){r=r.trim();const a=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let l=null;for(const u of a.groups.ids.split(" ")){let h=Yp(u);h!==void 0&&(!l||h.endTime>l.endTime)&&(l=h)}if(l)return l.endTime;const c=new Date;return c.setHours(0,0,0,0),c}let o=ja(r,t.trim(),!0);if(o.isValid())return o.toDate();{me.debug("Invalid date:"+r),me.debug("With date format:"+t.trim());const l=new Date(r);if(l===void 0||isNaN(l.getTime())||l.getFullYear()<-1e4||l.getFullYear()>1e4)throw new Error("Invalid date:"+r);return l}},"getStartDate"),Kpe=A(function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),Zpe=A(function(e,t,r,n=!1){r=r.trim();const o=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(o!==null){let f=null;for(const p of o.groups.ids.split(" ")){let g=Yp(p);g!==void 0&&(!f||g.startTime<f.startTime)&&(f=g)}if(f)return f.startTime;const d=new Date;return d.setHours(0,0,0,0),d}let l=ja(r,t.trim(),!0);if(l.isValid())return n&&(l=l.add(1,"d")),l.toDate();let c=ja(e);const[u,h]=Kpe(r);if(!Number.isNaN(u)){const f=c.add(u,h);f.isValid()&&(c=f)}return c.toDate()},"getEndDate"),Mw=0,bg=A(function(e){return e===void 0?(Mw=Mw+1,"task"+Mw):e},"parseId"),_3t=A(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),a={};sP(n,a,qpe);for(let l=0;l<n.length;l++)n[l]=n[l].trim();let o="";switch(n.length){case 1:a.id=bg(),a.startTime=e.endTime,o=n[0];break;case 2:a.id=bg(),a.startTime=x_(void 0,Jc,n[0]),o=n[1];break;case 3:a.id=bg(n[0]),a.startTime=x_(void 0,Jc,n[1]),o=n[2];break}return o&&(a.endTime=Zpe(a.startTime,Jc,o,F3),a.manualEndTime=ja(o,"YYYY-MM-DD",!0).isValid(),Xpe(a,Jc,P3,D3)),a},"compileData"),N3t=A(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),a={};sP(n,a,qpe);for(let o=0;o<n.length;o++)n[o]=n[o].trim();switch(n.length){case 1:a.id=bg(),a.startTime={type:"prevTaskEnd",id:e},a.endTime={data:n[0]};break;case 2:a.id=bg(),a.startTime={type:"getStartDate",startData:n[0]},a.endTime={data:n[1]};break;case 3:a.id=bg(n[0]),a.startTime={type:"getStartDate",startData:n[1]},a.endTime={data:n[2]};break}return a},"parseData"),T_,Dw,Li=[],Qpe={},L3t=A(function(e,t){const r={section:Zm,type:Zm,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=N3t(Dw,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=Dw,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=b_,b_++;const a=Li.push(r);Dw=r.id,Qpe[r.id]=a-1},"addTask"),Yp=A(function(e){const t=Qpe[e];return Li[t]},"findTaskById"),M3t=A(function(e,t){const r={section:Zm,type:Zm,description:e,task:e,classes:[]},n=_3t(T_,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,T_=r,sS.push(r)},"addTaskOrg"),ij=A(function(){const e=A(function(r){const n=Li[r];let a="";switch(Li[r].raw.startTime.type){case"prevTaskEnd":{const o=Yp(n.prevTaskId);n.startTime=o.endTime;break}case"getStartDate":a=x_(void 0,Jc,Li[r].raw.startTime.startData),a&&(Li[r].startTime=a);break}return Li[r].startTime&&(Li[r].endTime=Zpe(Li[r].startTime,Jc,Li[r].raw.endTime.data,F3),Li[r].endTime&&(Li[r].processed=!0,Li[r].manualEndTime=ja(Li[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Xpe(Li[r],Jc,P3,D3))),Li[r].processed},"compileTask");let t=!0;for(const[r,n]of Li.entries())e(r),t=t&&n.processed;return t},"compileTasks"),D3t=A(function(e,t){let r=t;De().securityLevel!=="loose"&&(r=bf(t)),e.split(",").forEach(function(n){Yp(n)!==void 0&&(e1e(n,()=>{window.open(r,"_self")}),eP.set(n,r))}),Jpe(e,"clickable")},"setLink"),Jpe=A(function(e,t){e.split(",").forEach(function(r){let n=Yp(r);n!==void 0&&n.classes.push(t)})},"setClass"),P3t=A(function(e,t,r){if(De().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<n.length;o++){let l=n[o].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),n[o]=l}}n.length===0&&n.push(e),Yp(e)!==void 0&&e1e(e,()=>{ur.runFunc(t,...n)})},"setClickFun"),e1e=A(function(e,t){nP.push(function(){const r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){const r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),F3t=A(function(e,t,r){e.split(",").forEach(function(n){P3t(n,t,r)}),Jpe(e,"clickable")},"setClickEvent"),B3t=A(function(e){nP.forEach(function(t){t(e)})},"bindFunctions"),$3t={getConfig:A(()=>De().gantt,"getConfig"),clear:i3t,setDateFormat:h3t,getDateFormat:y3t,enableInclusiveEndDates:f3t,endDatesAreInclusive:d3t,enableTopAxis:p3t,topAxisEnabled:g3t,setAxisFormat:a3t,getAxisFormat:s3t,setTickInterval:o3t,getTickInterval:l3t,setTodayMarker:c3t,getTodayMarker:u3t,setAccTitle:ua,getAccTitle:Ia,setDiagramTitle:Ns,getDiagramTitle:_a,setDisplayMode:m3t,getDisplayMode:v3t,setAccDescription:Ra,getAccDescription:Oa,addSection:S3t,getSections:A3t,getTasks:k3t,addTask:L3t,findTaskById:Yp,addTaskOrg:M3t,setIncludes:b3t,getIncludes:x3t,setExcludes:T3t,getExcludes:w3t,setClickEvent:F3t,setLink:D3t,getLinks:E3t,bindFunctions:B3t,parseDuration:Kpe,isInvalidDate:jpe,setWeekday:C3t,getWeekday:I3t,setWeekend:R3t};function sP(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(a){const o="^\\s*"+a+"\\s*$",l=new RegExp(o);e[0].match(l)&&(t[a]=!0,e.shift(1),n=!0)})}A(sP,"getTaskTags");var H3t=A(function(){me.debug("Something is calling, setConf, remove the call")},"setConf"),aj={monday:Ub,tuesday:Pae,wednesday:Fae,thursday:ep,friday:Bae,saturday:$ae,sunday:n3},U3t=A((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((o,l)=>o.startTime-l.startTime||o.order-l.order),a=0;for(const o of n)for(let l=0;l<r.length;l++)if(o.startTime>=r[l]){r[l]=o.endTime,o.order=l+t,l>a&&(a=l);break}return a},"getMaxIntersections"),Hu,W3t=A(function(e,t,r,n){const a=De().gantt,o=De().securityLevel;let l;o==="sandbox"&&(l=nt("#i"+t));const c=nt(o==="sandbox"?l.nodes()[0].contentDocument.body:"body"),u=o==="sandbox"?l.nodes()[0].contentDocument:document,h=u.getElementById(t);Hu=h.parentElement.offsetWidth,Hu===void 0&&(Hu=1200),a.useWidth!==void 0&&(Hu=a.useWidth);const f=n.db.getTasks();let d=[];for(const O of f)d.push(O.type);d=k(d);const p={};let g=2*a.topPadding;if(n.db.getDisplayMode()==="compact"||a.displayMode==="compact"){const O={};for(const _ of f)O[_.section]===void 0?O[_.section]=[_]:O[_.section].push(_);let I=0;for(const _ of Object.keys(O)){const R=U3t(O[_],I)+1;I+=R,g+=R*(a.barHeight+a.barGap),p[_]=R}}else{g+=f.length*(a.barHeight+a.barGap);for(const O of d)p[O]=f.filter(I=>I.type===O).length}h.setAttribute("viewBox","0 0 "+Hu+" "+g);const m=c.select(`[id="${t}"]`),y=kWe().domain([oFe(f,function(O){return O.startTime}),sFe(f,function(O){return O.endTime})]).rangeRound([0,Hu-a.leftPadding-a.rightPadding]);function b(O,I){const _=O.startTime,R=I.startTime;let M=0;return _>R?M=1:_<R&&(M=-1),M}A(b,"taskCompare"),f.sort(b),x(f,Hu,g),is(m,g,Hu,a.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",Hu/2).attr("y",a.titleTopMargin).attr("class","titleText");function x(O,I,_){const R=a.barHeight,M=R+a.barGap,$=a.topPadding,N=a.leftPadding,P=_m().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(O$e);w(M,$,N,I,_,O,n.db.getExcludes(),n.db.getIncludes()),E(N,$,I,_),T(O,M,$,N,R,P,I),S(M,$),C(N,$,I,_)}A(x,"makeGantt");function T(O,I,_,R,M,$,N){const F=[...new Set(O.map(H=>H.order))].map(H=>O.find(U=>U.order===H));m.append("g").selectAll("rect").data(F).enter().append("rect").attr("x",0).attr("y",function(H,U){return U=H.order,U*I+_-2}).attr("width",function(){return N-a.rightPadding/2}).attr("height",I).attr("class",function(H){for(const[U,G]of d.entries())if(H.type===G)return"section section"+U%a.numberSectionStyles;return"section section0"});const L=m.append("g").selectAll("rect").data(O).enter(),D=n.db.getLinks();if(L.append("rect").attr("id",function(H){return H.id}).attr("rx",3).attr("ry",3).attr("x",function(H){return H.milestone?y(H.startTime)+R+.5*(y(H.endTime)-y(H.startTime))-.5*M:y(H.startTime)+R}).attr("y",function(H,U){return U=H.order,U*I+_}).attr("width",function(H){return H.milestone?M:y(H.renderEndTime||H.endTime)-y(H.startTime)}).attr("height",M).attr("transform-origin",function(H,U){return U=H.order,(y(H.startTime)+R+.5*(y(H.endTime)-y(H.startTime))).toString()+"px "+(U*I+_+.5*M).toString()+"px"}).attr("class",function(H){const U="task";let G="";H.classes.length>0&&(G=H.classes.join(" "));let W=0;for(const[ce,Z]of d.entries())H.type===Z&&(W=ce%a.numberSectionStyles);let ee="";return H.active?H.crit?ee+=" activeCrit":ee=" active":H.done?H.crit?ee=" doneCrit":ee=" done":H.crit&&(ee+=" crit"),ee.length===0&&(ee=" task"),H.milestone&&(ee=" milestone "+ee),ee+=W,ee+=" "+G,U+ee}),L.append("text").attr("id",function(H){return H.id+"-text"}).text(function(H){return H.task}).attr("font-size",a.fontSize).attr("x",function(H){let U=y(H.startTime),G=y(H.renderEndTime||H.endTime);H.milestone&&(U+=.5*(y(H.endTime)-y(H.startTime))-.5*M),H.milestone&&(G=U+M);const W=this.getBBox().width;return W>G-U?G+W+1.5*a.leftPadding>N?U+R-5:G+R+5:(G-U)/2+U+R}).attr("y",function(H,U){return U=H.order,U*I+a.barHeight/2+(a.fontSize/2-2)+_}).attr("text-height",M).attr("class",function(H){const U=y(H.startTime);let G=y(H.endTime);H.milestone&&(G=U+M);const W=this.getBBox().width;let ee="";H.classes.length>0&&(ee=H.classes.join(" "));let ce=0;for(const[J,oe]of d.entries())H.type===oe&&(ce=J%a.numberSectionStyles);let Z="";return H.active&&(H.crit?Z="activeCritText"+ce:Z="activeText"+ce),H.done?H.crit?Z=Z+" doneCritText"+ce:Z=Z+" doneText"+ce:H.crit&&(Z=Z+" critText"+ce),H.milestone&&(Z+=" milestoneText"),W>G-U?G+W+1.5*a.leftPadding>N?ee+" taskTextOutsideLeft taskTextOutside"+ce+" "+Z:ee+" taskTextOutsideRight taskTextOutside"+ce+" "+Z+" width-"+W:ee+" taskText taskText"+ce+" "+Z+" width-"+W}),De().securityLevel==="sandbox"){let H;H=nt("#i"+t);const U=H.nodes()[0].contentDocument;L.filter(function(G){return D.has(G.id)}).each(function(G){var W=U.querySelector("#"+G.id),ee=U.querySelector("#"+G.id+"-text");const ce=W.parentNode;var Z=U.createElement("a");Z.setAttribute("xlink:href",D.get(G.id)),Z.setAttribute("target","_top"),ce.appendChild(Z),Z.appendChild(W),Z.appendChild(ee)})}}A(T,"drawRects");function w(O,I,_,R,M,$,N,P){if(N.length===0&&P.length===0)return;let F,L;for(const{startTime:W,endTime:ee}of $)(F===void 0||W<F)&&(F=W),(L===void 0||ee>L)&&(L=ee);if(!F||!L)return;if(ja(L).diff(ja(F),"year")>5){me.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const D=n.db.getDateFormat(),B=[];let H=null,U=ja(F);for(;U.valueOf()<=L;)n.db.isInvalidDate(U,D,N,P)?H?H.end=U:H={start:U,end:U}:H&&(B.push(H),H=null),U=U.add(1,"d");m.append("g").selectAll("rect").data(B).enter().append("rect").attr("id",function(W){return"exclude-"+W.start.format("YYYY-MM-DD")}).attr("x",function(W){return y(W.start)+_}).attr("y",a.gridLineStartPadding).attr("width",function(W){const ee=W.end.add(1,"day");return y(ee)-y(W.start)}).attr("height",M-I-a.gridLineStartPadding).attr("transform-origin",function(W,ee){return(y(W.start)+_+.5*(y(W.end)-y(W.start))).toString()+"px "+(ee*O+.5*M).toString()+"px"}).attr("class","exclude-range")}A(w,"drawExcludeDays");function E(O,I,_,R){let M=mFe(y).tickSize(-R+I+a.gridLineStartPadding).tickFormat(Q5(n.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));const N=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||a.tickInterval);if(N!==null){const P=N[1],F=N[2],L=n.db.getWeekday()||a.weekday;switch(F){case"millisecond":M.ticks(Nm.every(P));break;case"second":M.ticks(k0.every(P));break;case"minute":M.ticks($b.every(P));break;case"hour":M.ticks(Hb.every(P));break;case"day":M.ticks(Jd.every(P));break;case"week":M.ticks(aj[L].every(P));break;case"month":M.ticks(Wb.every(P));break}}if(m.append("g").attr("class","grid").attr("transform","translate("+O+", "+(R-50)+")").call(M).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||a.topAxis){let P=gFe(y).tickSize(-R+I+a.gridLineStartPadding).tickFormat(Q5(n.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(N!==null){const F=N[1],L=N[2],D=n.db.getWeekday()||a.weekday;switch(L){case"millisecond":P.ticks(Nm.every(F));break;case"second":P.ticks(k0.every(F));break;case"minute":P.ticks($b.every(F));break;case"hour":P.ticks(Hb.every(F));break;case"day":P.ticks(Jd.every(F));break;case"week":P.ticks(aj[D].every(F));break;case"month":P.ticks(Wb.every(F));break}}m.append("g").attr("class","grid").attr("transform","translate("+O+", "+I+")").call(P).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}A(E,"makeGrid");function S(O,I){let _=0;const R=Object.keys(p).map(M=>[M,p[M]]);m.append("g").selectAll("text").data(R).enter().append(function(M){const $=M[0].split(st.lineBreakRegex),N=-($.length-1)/2,P=u.createElementNS("http://www.w3.org/2000/svg","text");P.setAttribute("dy",N+"em");for(const[F,L]of $.entries()){const D=u.createElementNS("http://www.w3.org/2000/svg","tspan");D.setAttribute("alignment-baseline","central"),D.setAttribute("x","10"),F>0&&D.setAttribute("dy","1em"),D.textContent=L,P.appendChild(D)}return P}).attr("x",10).attr("y",function(M,$){if($>0)for(let N=0;N<$;N++)return _+=R[$-1][1],M[1]*O/2+_*O+I;else return M[1]*O/2+I}).attr("font-size",a.sectionFontSize).attr("class",function(M){for(const[$,N]of d.entries())if(M[0]===N)return"sectionTitle sectionTitle"+$%a.numberSectionStyles;return"sectionTitle"})}A(S,"vertLabels");function C(O,I,_,R){const M=n.db.getTodayMarker();if(M==="off")return;const $=m.append("g").attr("class","today"),N=new Date,P=$.append("line");P.attr("x1",y(N)+O).attr("x2",y(N)+O).attr("y1",a.titleTopMargin).attr("y2",R-a.titleTopMargin).attr("class","today"),M!==""&&P.attr("style",M.replace(/,/g,";"))}A(C,"drawToday");function k(O){const I={},_=[];for(let R=0,M=O.length;R<M;++R)Object.prototype.hasOwnProperty.call(I,O[R])||(I[O[R]]=!0,_.push(O[R]));return _}A(k,"checkUnique")},"draw"),z3t={setConf:H3t,draw:W3t},G3t=A(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),Y3t=G3t,V3t={parser:n3t,db:$3t,renderer:z3t,styles:Y3t};const q3t=Object.freeze(Object.defineProperty({__proto__:null,diagram:V3t},Symbol.toStringTag,{value:"Module"}));var j3t={parse:A(async e=>{const t=await Vv("info",e);me.debug(t)},"parse")},X3t={version:qR},K3t=A(()=>X3t.version,"getVersion"),Z3t={getVersion:K3t},Q3t=A((e,t,r)=>{me.debug(`rendering info diagram
`+e);const n=Tf(t);is(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),J3t={draw:Q3t},eTt={parser:j3t,db:Z3t,renderer:J3t};const tTt=Object.freeze(Object.defineProperty({__proto__:null,diagram:eTt},Symbol.toStringTag,{value:"Module"}));var rTt=Lr.pie,oP={sections:new Map,showData:!1},lS=oP.sections,lP=oP.showData,nTt=structuredClone(rTt),iTt=A(()=>structuredClone(nTt),"getConfig"),aTt=A(()=>{lS=new Map,lP=oP.showData,ca()},"clear"),sTt=A(({label:e,value:t})=>{lS.has(e)||(lS.set(e,t),me.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),oTt=A(()=>lS,"getSections"),lTt=A(e=>{lP=e},"setShowData"),cTt=A(()=>lP,"getShowData"),t1e={getConfig:iTt,clear:aTt,setDiagramTitle:Ns,getDiagramTitle:_a,setAccTitle:ua,getAccTitle:Ia,setAccDescription:Ra,getAccDescription:Oa,addSection:sTt,getSections:oTt,setShowData:lTt,getShowData:cTt},uTt=A((e,t)=>{k3(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),hTt={parse:A(async e=>{const t=await Vv("pie",e);me.debug(t),uTt(t,t1e)},"parse")},fTt=A(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),dTt=fTt,pTt=A(e=>{const t=[...e.entries()].map(n=>({label:n[0],value:n[1]})).sort((n,a)=>a.value-n.value);return UWe().value(n=>n.value)(t)},"createPieArcs"),gTt=A((e,t,r,n)=>{me.debug(`rendering pie chart
`+e);const a=n.db,o=De(),l=zh(a.getConfig(),o.pie),c=40,u=18,h=4,f=450,d=f,p=Tf(t),g=p.append("g");g.attr("transform","translate("+d/2+","+f/2+")");const{themeVariables:m}=o;let[y]=xf(m.pieOuterStrokeWidth);y??(y=2);const b=l.textPosition,x=Math.min(d,f)/2-c,T=Mm().innerRadius(0).outerRadius(x),w=Mm().innerRadius(x*b).outerRadius(x*b);g.append("circle").attr("cx",0).attr("cy",0).attr("r",x+y/2).attr("class","pieOuterCircle");const E=a.getSections(),S=pTt(E),C=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],k=z6(C);g.selectAll("mySlices").data(S).enter().append("path").attr("d",T).attr("fill",M=>k(M.data.label)).attr("class","pieCircle");let O=0;E.forEach(M=>{O+=M}),g.selectAll("mySlices").data(S).enter().append("text").text(M=>(M.data.value/O*100).toFixed(0)+"%").attr("transform",M=>"translate("+w.centroid(M)+")").style("text-anchor","middle").attr("class","slice"),g.append("text").text(a.getDiagramTitle()).attr("x",0).attr("y",-400/2).attr("class","pieTitleText");const I=g.selectAll(".legend").data(k.domain()).enter().append("g").attr("class","legend").attr("transform",(M,$)=>{const N=u+h,P=N*k.domain().length/2,F=12*u,L=$*N-P;return"translate("+F+","+L+")"});I.append("rect").attr("width",u).attr("height",u).style("fill",k).style("stroke",k),I.data(S).append("text").attr("x",u+h).attr("y",u-h).text(M=>{const{label:$,value:N}=M.data;return a.getShowData()?`${$} [${N}]`:$});const _=Math.max(...I.selectAll("text").nodes().map(M=>(M==null?void 0:M.getBoundingClientRect().width)??0)),R=d+c+u+h+_;p.attr("viewBox",`0 0 ${R} ${f}`),is(p,f,R,l.useMaxWidth)},"draw"),mTt={draw:gTt},vTt={parser:hTt,db:t1e,renderer:mTt,styles:dTt};const yTt=Object.freeze(Object.defineProperty({__proto__:null,diagram:vTt},Symbol.toStringTag,{value:"Module"}));var w_=function(){var e=A(function(Re,ie,pe,xe){for(pe=pe||{},xe=Re.length;xe--;pe[Re[xe]]=ie);return pe},"o"),t=[1,3],r=[1,4],n=[1,5],a=[1,6],o=[1,7],l=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],c=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],h=[2,36],f=[1,37],d=[1,36],p=[1,38],g=[1,35],m=[1,43],y=[1,41],b=[1,14],x=[1,23],T=[1,18],w=[1,19],E=[1,20],S=[1,21],C=[1,22],k=[1,24],O=[1,25],I=[1,26],_=[1,27],R=[1,28],M=[1,29],$=[1,32],N=[1,33],P=[1,34],F=[1,39],L=[1,40],D=[1,42],B=[1,44],H=[1,62],U=[1,61],G=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],W=[1,65],ee=[1,66],ce=[1,67],Z=[1,68],J=[1,69],oe=[1,70],Y=[1,71],X=[1,72],K=[1,73],z=[1,74],j=[1,75],te=[1,76],re=[4,5,6,7,8,9,10,11,12,13,14,15,18],Se=[1,90],ue=[1,91],se=[1,92],fe=[1,99],ye=[1,93],he=[1,96],Ae=[1,94],Ce=[1,95],Ie=[1,97],Le=[1,98],ae=[1,102],q=[10,55,56,57],ge=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],le={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:A(function(ie,pe,xe,ve,Ee,ke,Pe){var Oe=ke.length-1;switch(Ee){case 23:this.$=ke[Oe];break;case 24:this.$=ke[Oe-1]+""+ke[Oe];break;case 26:this.$=ke[Oe-1]+ke[Oe];break;case 27:this.$=[ke[Oe].trim()];break;case 28:ke[Oe-2].push(ke[Oe].trim()),this.$=ke[Oe-2];break;case 29:this.$=ke[Oe-4],ve.addClass(ke[Oe-2],ke[Oe]);break;case 37:this.$=[];break;case 42:this.$=ke[Oe].trim(),ve.setDiagramTitle(this.$);break;case 43:this.$=ke[Oe].trim(),ve.setAccTitle(this.$);break;case 44:case 45:this.$=ke[Oe].trim(),ve.setAccDescription(this.$);break;case 46:ve.addSection(ke[Oe].substr(8)),this.$=ke[Oe].substr(8);break;case 47:ve.addPoint(ke[Oe-3],"",ke[Oe-1],ke[Oe],[]);break;case 48:ve.addPoint(ke[Oe-4],ke[Oe-3],ke[Oe-1],ke[Oe],[]);break;case 49:ve.addPoint(ke[Oe-4],"",ke[Oe-2],ke[Oe-1],ke[Oe]);break;case 50:ve.addPoint(ke[Oe-5],ke[Oe-4],ke[Oe-2],ke[Oe-1],ke[Oe]);break;case 51:ve.setXAxisLeftText(ke[Oe-2]),ve.setXAxisRightText(ke[Oe]);break;case 52:ke[Oe-1].text+=" ⟶ ",ve.setXAxisLeftText(ke[Oe-1]);break;case 53:ve.setXAxisLeftText(ke[Oe]);break;case 54:ve.setYAxisBottomText(ke[Oe-2]),ve.setYAxisTopText(ke[Oe]);break;case 55:ke[Oe-1].text+=" ⟶ ",ve.setYAxisBottomText(ke[Oe-1]);break;case 56:ve.setYAxisBottomText(ke[Oe]);break;case 57:ve.setQuadrant1Text(ke[Oe]);break;case 58:ve.setQuadrant2Text(ke[Oe]);break;case 59:ve.setQuadrant3Text(ke[Oe]);break;case 60:ve.setQuadrant4Text(ke[Oe]);break;case 64:this.$={text:ke[Oe],type:"text"};break;case 65:this.$={text:ke[Oe-1].text+""+ke[Oe],type:ke[Oe-1].type};break;case 66:this.$={text:ke[Oe],type:"text"};break;case 67:this.$={text:ke[Oe],type:"markdown"};break;case 68:this.$=ke[Oe];break;case 69:this.$=ke[Oe-1]+""+ke[Oe];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:a,57:o},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:a,57:o},{18:t,26:9,27:2,28:r,55:n,56:a,57:o},e(l,[2,33],{29:10}),e(c,[2,61]),e(c,[2,62]),e(c,[2,63]),{1:[2,30]},{1:[2,31]},e(u,h,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:f,5:d,10:p,12:g,13:m,14:y,18:b,25:x,35:T,37:w,39:E,41:S,42:C,48:k,50:O,51:I,52:_,53:R,54:M,60:$,61:N,63:P,64:F,65:L,66:D,67:B}),e(l,[2,34]),{27:45,55:n,56:a,57:o},e(u,[2,37]),e(u,h,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:f,5:d,10:p,12:g,13:m,14:y,18:b,25:x,35:T,37:w,39:E,41:S,42:C,48:k,50:O,51:I,52:_,53:R,54:M,60:$,61:N,63:P,64:F,65:L,66:D,67:B}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:f,5:d,10:p,12:g,13:m,14:y,43:51,58:31,60:$,61:N,63:P,64:F,65:L,66:D,67:B},{4:f,5:d,10:p,12:g,13:m,14:y,43:52,58:31,60:$,61:N,63:P,64:F,65:L,66:D,67:B},{4:f,5:d,10:p,12:g,13:m,14:y,43:53,58:31,60:$,61:N,63:P,64:F,65:L,66:D,67:B},{4:f,5:d,10:p,12:g,13:m,14:y,43:54,58:31,60:$,61:N,63:P,64:F,65:L,66:D,67:B},{4:f,5:d,10:p,12:g,13:m,14:y,43:55,58:31,60:$,61:N,63:P,64:F,65:L,66:D,67:B},{4:f,5:d,10:p,12:g,13:m,14:y,43:56,58:31,60:$,61:N,63:P,64:F,65:L,66:D,67:B},{4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,44:[1,57],47:[1,58],58:60,59:59,63:P,64:F,65:L,66:D,67:B},e(G,[2,64]),e(G,[2,66]),e(G,[2,67]),e(G,[2,70]),e(G,[2,71]),e(G,[2,72]),e(G,[2,73]),e(G,[2,74]),e(G,[2,75]),e(G,[2,76]),e(G,[2,77]),e(G,[2,78]),e(G,[2,79]),e(G,[2,80]),e(l,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:W,5:ee,6:ce,7:Z,8:J,9:oe,10:Y,11:X,12:K,13:z,14:j,15:te,21:63},e(u,[2,53],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,49:[1,77],63:P,64:F,65:L,66:D,67:B}),e(u,[2,56],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,49:[1,78],63:P,64:F,65:L,66:D,67:B}),e(u,[2,57],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,63:P,64:F,65:L,66:D,67:B}),e(u,[2,58],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,63:P,64:F,65:L,66:D,67:B}),e(u,[2,59],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,63:P,64:F,65:L,66:D,67:B}),e(u,[2,60],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,63:P,64:F,65:L,66:D,67:B}),{45:[1,79]},{44:[1,80]},e(G,[2,65]),e(G,[2,81]),e(G,[2,82]),e(G,[2,83]),{3:82,4:W,5:ee,6:ce,7:Z,8:J,9:oe,10:Y,11:X,12:K,13:z,14:j,15:te,18:[1,81]},e(re,[2,23]),e(re,[2,1]),e(re,[2,2]),e(re,[2,3]),e(re,[2,4]),e(re,[2,5]),e(re,[2,6]),e(re,[2,7]),e(re,[2,8]),e(re,[2,9]),e(re,[2,10]),e(re,[2,11]),e(re,[2,12]),e(u,[2,52],{58:31,43:83,4:f,5:d,10:p,12:g,13:m,14:y,60:$,61:N,63:P,64:F,65:L,66:D,67:B}),e(u,[2,55],{58:31,43:84,4:f,5:d,10:p,12:g,13:m,14:y,60:$,61:N,63:P,64:F,65:L,66:D,67:B}),{46:[1,85]},{45:[1,86]},{4:Se,5:ue,6:se,8:fe,11:ye,13:he,16:89,17:Ae,18:Ce,19:Ie,20:Le,22:88,23:87},e(re,[2,24]),e(u,[2,51],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,63:P,64:F,65:L,66:D,67:B}),e(u,[2,54],{59:59,58:60,4:f,5:d,8:H,10:p,12:g,13:m,14:y,18:U,63:P,64:F,65:L,66:D,67:B}),e(u,[2,47],{22:88,16:89,23:100,4:Se,5:ue,6:se,8:fe,11:ye,13:he,17:Ae,18:Ce,19:Ie,20:Le}),{46:[1,101]},e(u,[2,29],{10:ae}),e(q,[2,27],{16:103,4:Se,5:ue,6:se,8:fe,11:ye,13:he,17:Ae,18:Ce,19:Ie,20:Le}),e(ge,[2,25]),e(ge,[2,13]),e(ge,[2,14]),e(ge,[2,15]),e(ge,[2,16]),e(ge,[2,17]),e(ge,[2,18]),e(ge,[2,19]),e(ge,[2,20]),e(ge,[2,21]),e(ge,[2,22]),e(u,[2,49],{10:ae}),e(u,[2,48],{22:88,16:89,23:104,4:Se,5:ue,6:se,8:fe,11:ye,13:he,17:Ae,18:Ce,19:Ie,20:Le}),{4:Se,5:ue,6:se,8:fe,11:ye,13:he,16:89,17:Ae,18:Ce,19:Ie,20:Le,22:105},e(ge,[2,26]),e(u,[2,50],{10:ae}),e(q,[2,28],{16:103,4:Se,5:ue,6:se,8:fe,11:ye,13:he,17:Ae,18:Ce,19:Ie,20:Le})],defaultActions:{8:[2,30],9:[2,31]},parseError:A(function(ie,pe){if(pe.recoverable)this.trace(ie);else{var xe=new Error(ie);throw xe.hash=pe,xe}},"parseError"),parse:A(function(ie){var pe=this,xe=[0],ve=[],Ee=[null],ke=[],Pe=this.table,Oe="",Ye=0,Je=0,Ct=2,dt=1,ct=ke.slice.call(arguments,1),qe=Object.create(this.lexer),je={yy:{}};for(var ht in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ht)&&(je.yy[ht]=this.yy[ht]);qe.setInput(ie,je.yy),je.yy.lexer=qe,je.yy.parser=this,typeof qe.yylloc>"u"&&(qe.yylloc={});var Ke=qe.yylloc;ke.push(Ke);var it=qe.options&&qe.options.ranges;typeof je.yy.parseError=="function"?this.parseError=je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Pt(Sr){xe.length=xe.length-2*Sr,Ee.length=Ee.length-Sr,ke.length=ke.length-Sr}A(Pt,"popStack");function at(){var Sr;return Sr=ve.pop()||qe.lex()||dt,typeof Sr!="number"&&(Sr instanceof Array&&(ve=Sr,Sr=ve.pop()),Sr=pe.symbols_[Sr]||Sr),Sr}A(at,"lex");for(var Qe,pt,Ot,vt,tr={},$r,sr,Kn,ln;;){if(pt=xe[xe.length-1],this.defaultActions[pt]?Ot=this.defaultActions[pt]:((Qe===null||typeof Qe>"u")&&(Qe=at()),Ot=Pe[pt]&&Pe[pt][Qe]),typeof Ot>"u"||!Ot.length||!Ot[0]){var En="";ln=[];for($r in Pe[pt])this.terminals_[$r]&&$r>Ct&&ln.push("'"+this.terminals_[$r]+"'");qe.showPosition?En="Parse error on line "+(Ye+1)+`:
`+qe.showPosition()+`
Expecting `+ln.join(", ")+", got '"+(this.terminals_[Qe]||Qe)+"'":En="Parse error on line "+(Ye+1)+": Unexpected "+(Qe==dt?"end of input":"'"+(this.terminals_[Qe]||Qe)+"'"),this.parseError(En,{text:qe.match,token:this.terminals_[Qe]||Qe,line:qe.yylineno,loc:Ke,expected:ln})}if(Ot[0]instanceof Array&&Ot.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pt+", token: "+Qe);switch(Ot[0]){case 1:xe.push(Qe),Ee.push(qe.yytext),ke.push(qe.yylloc),xe.push(Ot[1]),Qe=null,Je=qe.yyleng,Oe=qe.yytext,Ye=qe.yylineno,Ke=qe.yylloc;break;case 2:if(sr=this.productions_[Ot[1]][1],tr.$=Ee[Ee.length-sr],tr._$={first_line:ke[ke.length-(sr||1)].first_line,last_line:ke[ke.length-1].last_line,first_column:ke[ke.length-(sr||1)].first_column,last_column:ke[ke.length-1].last_column},it&&(tr._$.range=[ke[ke.length-(sr||1)].range[0],ke[ke.length-1].range[1]]),vt=this.performAction.apply(tr,[Oe,Je,Ye,je.yy,Ot[1],Ee,ke].concat(ct)),typeof vt<"u")return vt;sr&&(xe=xe.slice(0,-1*sr*2),Ee=Ee.slice(0,-1*sr),ke=ke.slice(0,-1*sr)),xe.push(this.productions_[Ot[1]][0]),Ee.push(tr.$),ke.push(tr._$),Kn=Pe[xe[xe.length-2]][xe[xe.length-1]],xe.push(Kn);break;case 3:return!0}}return!0},"parse")},Te=function(){var Re={EOF:1,parseError:A(function(pe,xe){if(this.yy.parser)this.yy.parser.parseError(pe,xe);else throw new Error(pe)},"parseError"),setInput:A(function(ie,pe){return this.yy=pe||this.yy||{},this._input=ie,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var ie=this._input[0];this.yytext+=ie,this.yyleng++,this.offset++,this.match+=ie,this.matched+=ie;var pe=ie.match(/(?:\r\n?|\n).*/g);return pe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ie},"input"),unput:A(function(ie){var pe=ie.length,xe=ie.split(/(?:\r\n?|\n)/g);this._input=ie+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-pe),this.offset-=pe;var ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),xe.length-1&&(this.yylineno-=xe.length-1);var Ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:xe?(xe.length===ve.length?this.yylloc.first_column:0)+ve[ve.length-xe.length].length-xe[0].length:this.yylloc.first_column-pe},this.options.ranges&&(this.yylloc.range=[Ee[0],Ee[0]+this.yyleng-pe]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(ie){this.unput(this.match.slice(ie))},"less"),pastInput:A(function(){var ie=this.matched.substr(0,this.matched.length-this.match.length);return(ie.length>20?"...":"")+ie.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var ie=this.match;return ie.length<20&&(ie+=this._input.substr(0,20-ie.length)),(ie.substr(0,20)+(ie.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var ie=this.pastInput(),pe=new Array(ie.length+1).join("-");return ie+this.upcomingInput()+`
`+pe+"^"},"showPosition"),test_match:A(function(ie,pe){var xe,ve,Ee;if(this.options.backtrack_lexer&&(Ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ee.yylloc.range=this.yylloc.range.slice(0))),ve=ie[0].match(/(?:\r\n?|\n).*/g),ve&&(this.yylineno+=ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ve?ve[ve.length-1].length-ve[ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ie[0].length},this.yytext+=ie[0],this.match+=ie[0],this.matches=ie,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ie[0].length),this.matched+=ie[0],xe=this.performAction.call(this,this.yy,this,pe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),xe)return xe;if(this._backtrack){for(var ke in Ee)this[ke]=Ee[ke];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ie,pe,xe,ve;this._more||(this.yytext="",this.match="");for(var Ee=this._currentRules(),ke=0;ke<Ee.length;ke++)if(xe=this._input.match(this.rules[Ee[ke]]),xe&&(!pe||xe[0].length>pe[0].length)){if(pe=xe,ve=ke,this.options.backtrack_lexer){if(ie=this.test_match(xe,Ee[ke]),ie!==!1)return ie;if(this._backtrack){pe=!1;continue}else return!1}else if(!this.options.flex)break}return pe?(ie=this.test_match(pe,Ee[ve]),ie!==!1?ie:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var pe=this.next();return pe||this.lex()},"lex"),begin:A(function(pe){this.conditionStack.push(pe)},"begin"),popState:A(function(){var pe=this.conditionStack.length-1;return pe>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(pe){return pe=this.conditionStack.length-1-Math.abs(pe||0),pe>=0?this.conditionStack[pe]:"INITIAL"},"topState"),pushState:A(function(pe){this.begin(pe)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(pe,xe,ve,Ee){switch(ve){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Re}();le.lexer=Te;function ne(){this.yy={}}return A(ne,"Parser"),ne.prototype=le,le.Parser=ne,new ne}();w_.parser=w_;var bTt=w_,ds=eL(),Kg,xTt=(Kg=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var t,r,n,a,o,l,c,u,h,f,d,p,g,m,y,b,x,T;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((t=Lr.quadrantChart)==null?void 0:t.chartWidth)||500,chartWidth:((r=Lr.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=Lr.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((a=Lr.quadrantChart)==null?void 0:a.titleFontSize)||20,quadrantPadding:((o=Lr.quadrantChart)==null?void 0:o.quadrantPadding)||5,xAxisLabelPadding:((l=Lr.quadrantChart)==null?void 0:l.xAxisLabelPadding)||5,yAxisLabelPadding:((c=Lr.quadrantChart)==null?void 0:c.yAxisLabelPadding)||5,xAxisLabelFontSize:((u=Lr.quadrantChart)==null?void 0:u.xAxisLabelFontSize)||16,yAxisLabelFontSize:((h=Lr.quadrantChart)==null?void 0:h.yAxisLabelFontSize)||16,quadrantLabelFontSize:((f=Lr.quadrantChart)==null?void 0:f.quadrantLabelFontSize)||16,quadrantTextTopPadding:((d=Lr.quadrantChart)==null?void 0:d.quadrantTextTopPadding)||5,pointTextPadding:((p=Lr.quadrantChart)==null?void 0:p.pointTextPadding)||5,pointLabelFontSize:((g=Lr.quadrantChart)==null?void 0:g.pointLabelFontSize)||12,pointRadius:((m=Lr.quadrantChart)==null?void 0:m.pointRadius)||5,xAxisPosition:((y=Lr.quadrantChart)==null?void 0:y.xAxisPosition)||"top",yAxisPosition:((b=Lr.quadrantChart)==null?void 0:b.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((x=Lr.quadrantChart)==null?void 0:x.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((T=Lr.quadrantChart)==null?void 0:T.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:ds.quadrant1Fill,quadrant2Fill:ds.quadrant2Fill,quadrant3Fill:ds.quadrant3Fill,quadrant4Fill:ds.quadrant4Fill,quadrant1TextFill:ds.quadrant1TextFill,quadrant2TextFill:ds.quadrant2TextFill,quadrant3TextFill:ds.quadrant3TextFill,quadrant4TextFill:ds.quadrant4TextFill,quadrantPointFill:ds.quadrantPointFill,quadrantPointTextFill:ds.quadrantPointTextFill,quadrantXAxisTextFill:ds.quadrantXAxisTextFill,quadrantYAxisTextFill:ds.quadrantYAxisTextFill,quadrantTitleFill:ds.quadrantTitleFill,quadrantInternalBorderStrokeFill:ds.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:ds.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,me.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}addClass(t,r){this.classes.set(t,r)}setConfig(t){me.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){me.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,r,n,a){const o=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,l={top:t==="top"&&r?o:0,bottom:t==="bottom"&&r?o:0},c=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,u={left:this.config.yAxisPosition==="left"&&n?c:0,right:this.config.yAxisPosition==="right"&&n?c:0},h=this.config.titleFontSize+this.config.titlePadding*2,f={top:a?h:0},d=this.config.quadrantPadding+u.left,p=this.config.quadrantPadding+l.top+f.top,g=this.config.chartWidth-this.config.quadrantPadding*2-u.left-u.right,m=this.config.chartHeight-this.config.quadrantPadding*2-l.top-l.bottom-f.top,y=g/2,b=m/2;return{xAxisSpace:l,yAxisSpace:u,titleSpace:f,quadrantSpace:{quadrantLeft:d,quadrantTop:p,quadrantWidth:g,quadrantHalfWidth:y,quadrantHeight:m,quadrantHalfHeight:b}}}getAxisLabels(t,r,n,a){const{quadrantSpace:o,titleSpace:l}=a,{quadrantHalfHeight:c,quadrantHeight:u,quadrantLeft:h,quadrantHalfWidth:f,quadrantTop:d,quadrantWidth:p}=o,g=!!this.data.xAxisRightText,m=!!this.data.yAxisTopText,y=[];return this.data.xAxisLeftText&&r&&y.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:h+(g?f/2:0),y:t==="top"?this.config.xAxisLabelPadding+l.top:this.config.xAxisLabelPadding+d+u+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&y.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:h+f+(g?f/2:0),y:t==="top"?this.config.xAxisLabelPadding+l.top:this.config.xAxisLabelPadding+d+u+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&y.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+h+p+this.config.quadrantPadding,y:d+u-(m?c/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&y.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+h+p+this.config.quadrantPadding,y:d+c-(m?c/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),y}getQuadrants(t){const{quadrantSpace:r}=t,{quadrantHalfHeight:n,quadrantLeft:a,quadrantHalfWidth:o,quadrantTop:l}=r,c=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+o,y:l,width:o,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:l,width:o,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:l+n,width:o,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+o,y:l+n,width:o,height:n,fill:this.themeConfig.quadrant4Fill}];for(const u of c)u.text.x=u.x+u.width/2,this.data.points.length===0?(u.text.y=u.y+u.height/2,u.text.horizontalPos="middle"):(u.text.y=u.y+this.config.quadrantTextTopPadding,u.text.horizontalPos="top");return c}getQuadrantPoints(t){const{quadrantSpace:r}=t,{quadrantHeight:n,quadrantLeft:a,quadrantTop:o,quadrantWidth:l}=r,c=_m().domain([0,1]).range([a,l+a]),u=_m().domain([0,1]).range([n+o,o]);return this.data.points.map(f=>{const d=this.classes.get(f.className);return d&&(f={...d,...f}),{x:c(f.x),y:u(f.y),fill:f.color??this.themeConfig.quadrantPointFill,radius:f.radius??this.config.pointRadius,text:{text:f.text,fill:this.themeConfig.quadrantPointTextFill,x:c(f.x),y:u(f.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:f.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:f.strokeWidth??"0px"}})}getBorders(t){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=t,{quadrantHalfHeight:a,quadrantHeight:o,quadrantLeft:l,quadrantHalfWidth:c,quadrantTop:u,quadrantWidth:h}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l-r,y1:u,x2:l+h+r,y2:u},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l+h,y1:u+r,x2:l+h,y2:u+o-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l-r,y1:u+o,x2:l+h+r,y2:u+o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:l,y1:u+r,x2:l,y2:u+o-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:l+c,y1:u+r,x2:l+c,y2:u+o-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:l+r,y1:u+a,x2:l+h-r,y2:u+a}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const t=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,a=this.data.points.length>0?"bottom":this.config.xAxisPosition,o=this.calculateSpace(a,t,r,n);return{points:this.getQuadrantPoints(o),quadrants:this.getQuadrants(o),axisLabels:this.getAxisLabels(a,t,r,o),borderLines:this.getBorders(o),title:this.getTitle(n)}}},A(Kg,"QuadrantBuilder"),Kg),Zg,x4=(Zg=class extends Error{constructor(t,r,n){super(`value for ${t} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},A(Zg,"InvalidStyleError"),Zg);function E_(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}A(E_,"validateHexCode");function r1e(e){return!/^\d+$/.test(e)}A(r1e,"validateNumber");function n1e(e){return!/^\d+px$/.test(e)}A(n1e,"validateSizeInPixels");var TTt=De();function Ou(e){return sn(e.trim(),TTt)}A(Ou,"textSanitizer");var Ea=new xTt;function i1e(e){Ea.setData({quadrant1Text:Ou(e.text)})}A(i1e,"setQuadrant1Text");function a1e(e){Ea.setData({quadrant2Text:Ou(e.text)})}A(a1e,"setQuadrant2Text");function s1e(e){Ea.setData({quadrant3Text:Ou(e.text)})}A(s1e,"setQuadrant3Text");function o1e(e){Ea.setData({quadrant4Text:Ou(e.text)})}A(o1e,"setQuadrant4Text");function l1e(e){Ea.setData({xAxisLeftText:Ou(e.text)})}A(l1e,"setXAxisLeftText");function c1e(e){Ea.setData({xAxisRightText:Ou(e.text)})}A(c1e,"setXAxisRightText");function u1e(e){Ea.setData({yAxisTopText:Ou(e.text)})}A(u1e,"setYAxisTopText");function h1e(e){Ea.setData({yAxisBottomText:Ou(e.text)})}A(h1e,"setYAxisBottomText");function KA(e){const t={};for(const r of e){const[n,a]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(r1e(a))throw new x4(n,a,"number");t.radius=parseInt(a)}else if(n==="color"){if(E_(a))throw new x4(n,a,"hex code");t.color=a}else if(n==="stroke-color"){if(E_(a))throw new x4(n,a,"hex code");t.strokeColor=a}else if(n==="stroke-width"){if(n1e(a))throw new x4(n,a,"number of pixels (eg. 10px)");t.strokeWidth=a}else throw new Error(`style named ${n} is not supported.`)}return t}A(KA,"parseStyles");function f1e(e,t,r,n,a){const o=KA(a);Ea.addPoints([{x:r,y:n,text:Ou(e.text),className:t,...o}])}A(f1e,"addPoint");function d1e(e,t){Ea.addClass(e,KA(t))}A(d1e,"addClass");function p1e(e){Ea.setConfig({chartWidth:e})}A(p1e,"setWidth");function g1e(e){Ea.setConfig({chartHeight:e})}A(g1e,"setHeight");function m1e(){const e=De(),{themeVariables:t,quadrantChart:r}=e;return r&&Ea.setConfig(r),Ea.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),Ea.setData({titleText:_a()}),Ea.build()}A(m1e,"getQuadrantData");var wTt=A(function(){Ea.clear(),ca()},"clear"),ETt={setWidth:p1e,setHeight:g1e,setQuadrant1Text:i1e,setQuadrant2Text:a1e,setQuadrant3Text:s1e,setQuadrant4Text:o1e,setXAxisLeftText:l1e,setXAxisRightText:c1e,setYAxisTopText:u1e,setYAxisBottomText:h1e,parseStyles:KA,addPoint:f1e,addClass:d1e,getQuadrantData:m1e,clear:wTt,setAccTitle:ua,getAccTitle:Ia,setDiagramTitle:Ns,getDiagramTitle:_a,getAccDescription:Oa,setAccDescription:Ra},STt=A((e,t,r,n)=>{var O,I,_;function a(R){return R==="top"?"hanging":"middle"}A(a,"getDominantBaseLine");function o(R){return R==="left"?"start":"middle"}A(o,"getTextAnchor");function l(R){return`translate(${R.x}, ${R.y}) rotate(${R.rotation||0})`}A(l,"getTransformation");const c=De();me.debug(`Rendering quadrant chart
`+e);const u=c.securityLevel;let h;u==="sandbox"&&(h=nt("#i"+t));const d=nt(u==="sandbox"?h.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),p=d.append("g").attr("class","main"),g=((O=c.quadrantChart)==null?void 0:O.chartWidth)??500,m=((I=c.quadrantChart)==null?void 0:I.chartHeight)??500;is(d,m,g,((_=c.quadrantChart)==null?void 0:_.useMaxWidth)??!0),d.attr("viewBox","0 0 "+g+" "+m),n.db.setHeight(m),n.db.setWidth(g);const y=n.db.getQuadrantData(),b=p.append("g").attr("class","quadrants"),x=p.append("g").attr("class","border"),T=p.append("g").attr("class","data-points"),w=p.append("g").attr("class","labels"),E=p.append("g").attr("class","title");y.title&&E.append("text").attr("x",0).attr("y",0).attr("fill",y.title.fill).attr("font-size",y.title.fontSize).attr("dominant-baseline",a(y.title.horizontalPos)).attr("text-anchor",o(y.title.verticalPos)).attr("transform",l(y.title)).text(y.title.text),y.borderLines&&x.selectAll("line").data(y.borderLines).enter().append("line").attr("x1",R=>R.x1).attr("y1",R=>R.y1).attr("x2",R=>R.x2).attr("y2",R=>R.y2).style("stroke",R=>R.strokeFill).style("stroke-width",R=>R.strokeWidth);const S=b.selectAll("g.quadrant").data(y.quadrants).enter().append("g").attr("class","quadrant");S.append("rect").attr("x",R=>R.x).attr("y",R=>R.y).attr("width",R=>R.width).attr("height",R=>R.height).attr("fill",R=>R.fill),S.append("text").attr("x",0).attr("y",0).attr("fill",R=>R.text.fill).attr("font-size",R=>R.text.fontSize).attr("dominant-baseline",R=>a(R.text.horizontalPos)).attr("text-anchor",R=>o(R.text.verticalPos)).attr("transform",R=>l(R.text)).text(R=>R.text.text),w.selectAll("g.label").data(y.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(R=>R.text).attr("fill",R=>R.fill).attr("font-size",R=>R.fontSize).attr("dominant-baseline",R=>a(R.horizontalPos)).attr("text-anchor",R=>o(R.verticalPos)).attr("transform",R=>l(R));const k=T.selectAll("g.data-point").data(y.points).enter().append("g").attr("class","data-point");k.append("circle").attr("cx",R=>R.x).attr("cy",R=>R.y).attr("r",R=>R.radius).attr("fill",R=>R.fill).attr("stroke",R=>R.strokeColor).attr("stroke-width",R=>R.strokeWidth),k.append("text").attr("x",0).attr("y",0).text(R=>R.text.text).attr("fill",R=>R.text.fill).attr("font-size",R=>R.text.fontSize).attr("dominant-baseline",R=>a(R.text.horizontalPos)).attr("text-anchor",R=>o(R.text.verticalPos)).attr("transform",R=>l(R.text))},"draw"),ATt={draw:STt},kTt={parser:bTt,db:ETt,renderer:ATt,styles:A(()=>"","styles")};const CTt=Object.freeze(Object.defineProperty({__proto__:null,diagram:kTt},Symbol.toStringTag,{value:"Module"}));var S_=function(){var e=A(function(P,F,L,D){for(L=L||{},D=P.length;D--;L[P[D]]=F);return L},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],a=[1,5],o=[1,6],l=[1,7],c=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],h=[1,26],f=[1,28],d=[1,29],p=[1,30],g=[1,31],m=[1,32],y=[1,33],b=[1,34],x=[1,35],T=[1,36],w=[1,37],E=[1,43],S=[1,42],C=[1,47],k=[1,50],O=[1,10,12,14,16,18,19,21,23,34,35,36],I=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],_=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],R=[1,64],M={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:A(function(F,L,D,B,H,U,G){var W=U.length-1;switch(H){case 5:B.setOrientation(U[W]);break;case 9:B.setDiagramTitle(U[W].text.trim());break;case 12:B.setLineData({text:"",type:"text"},U[W]);break;case 13:B.setLineData(U[W-1],U[W]);break;case 14:B.setBarData({text:"",type:"text"},U[W]);break;case 15:B.setBarData(U[W-1],U[W]);break;case 16:this.$=U[W].trim(),B.setAccTitle(this.$);break;case 17:case 18:this.$=U[W].trim(),B.setAccDescription(this.$);break;case 19:this.$=U[W-1];break;case 20:this.$=[Number(U[W-2]),...U[W]];break;case 21:this.$=[Number(U[W])];break;case 22:B.setXAxisTitle(U[W]);break;case 23:B.setXAxisTitle(U[W-1]);break;case 24:B.setXAxisTitle({type:"text",text:""});break;case 25:B.setXAxisBand(U[W]);break;case 26:B.setXAxisRangeData(Number(U[W-2]),Number(U[W]));break;case 27:this.$=U[W-1];break;case 28:this.$=[U[W-2],...U[W]];break;case 29:this.$=[U[W]];break;case 30:B.setYAxisTitle(U[W]);break;case 31:B.setYAxisTitle(U[W-1]);break;case 32:B.setYAxisTitle({type:"text",text:""});break;case 33:B.setYAxisRangeData(Number(U[W-2]),Number(U[W]));break;case 37:this.$={text:U[W],type:"text"};break;case 38:this.$={text:U[W],type:"text"};break;case 39:this.$={text:U[W],type:"markdown"};break;case 40:this.$=U[W];break;case 41:this.$=U[W-1]+""+U[W];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:a,35:o,36:l}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:a,35:o,36:l}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:a,35:o,36:l}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(c,[2,34]),e(c,[2,35]),e(c,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:a,35:o,36:l}),{1:[2,3]},e(c,[2,5]),e(t,[2,7],{4:22,34:a,35:o,36:l}),{11:23,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},{11:39,13:38,24:E,27:S,29:40,30:41,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},{11:45,15:44,27:C,33:46,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},{11:49,17:48,24:k,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},{11:52,17:51,24:k,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},{20:[1,53]},{22:[1,54]},e(O,[2,18]),{1:[2,2]},e(O,[2,8]),e(O,[2,9]),e(I,[2,37],{40:55,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w}),e(I,[2,38]),e(I,[2,39]),e(_,[2,40]),e(_,[2,42]),e(_,[2,43]),e(_,[2,44]),e(_,[2,45]),e(_,[2,46]),e(_,[2,47]),e(_,[2,48]),e(_,[2,49]),e(_,[2,50]),e(_,[2,51]),e(O,[2,10]),e(O,[2,22],{30:41,29:56,24:E,27:S}),e(O,[2,24]),e(O,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},e(O,[2,11]),e(O,[2,30],{33:60,27:C}),e(O,[2,32]),{31:[1,61]},e(O,[2,12]),{17:62,24:k},{25:63,27:R},e(O,[2,14]),{17:65,24:k},e(O,[2,16]),e(O,[2,17]),e(_,[2,41]),e(O,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(O,[2,31]),{27:[1,69]},e(O,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(O,[2,15]),e(O,[2,26]),e(O,[2,27]),{11:59,32:72,37:24,38:u,39:h,40:27,41:f,42:d,43:p,44:g,45:m,46:y,47:b,48:x,49:T,50:w},e(O,[2,33]),e(O,[2,19]),{25:73,27:R},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:A(function(F,L){if(L.recoverable)this.trace(F);else{var D=new Error(F);throw D.hash=L,D}},"parseError"),parse:A(function(F){var L=this,D=[0],B=[],H=[null],U=[],G=this.table,W="",ee=0,ce=0,Z=2,J=1,oe=U.slice.call(arguments,1),Y=Object.create(this.lexer),X={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(X.yy[K]=this.yy[K]);Y.setInput(F,X.yy),X.yy.lexer=Y,X.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var z=Y.yylloc;U.push(z);var j=Y.options&&Y.options.ranges;typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function te(ae){D.length=D.length-2*ae,H.length=H.length-ae,U.length=U.length-ae}A(te,"popStack");function re(){var ae;return ae=B.pop()||Y.lex()||J,typeof ae!="number"&&(ae instanceof Array&&(B=ae,ae=B.pop()),ae=L.symbols_[ae]||ae),ae}A(re,"lex");for(var Se,ue,se,fe,ye={},he,Ae,Ce,Ie;;){if(ue=D[D.length-1],this.defaultActions[ue]?se=this.defaultActions[ue]:((Se===null||typeof Se>"u")&&(Se=re()),se=G[ue]&&G[ue][Se]),typeof se>"u"||!se.length||!se[0]){var Le="";Ie=[];for(he in G[ue])this.terminals_[he]&&he>Z&&Ie.push("'"+this.terminals_[he]+"'");Y.showPosition?Le="Parse error on line "+(ee+1)+`:
`+Y.showPosition()+`
Expecting `+Ie.join(", ")+", got '"+(this.terminals_[Se]||Se)+"'":Le="Parse error on line "+(ee+1)+": Unexpected "+(Se==J?"end of input":"'"+(this.terminals_[Se]||Se)+"'"),this.parseError(Le,{text:Y.match,token:this.terminals_[Se]||Se,line:Y.yylineno,loc:z,expected:Ie})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ue+", token: "+Se);switch(se[0]){case 1:D.push(Se),H.push(Y.yytext),U.push(Y.yylloc),D.push(se[1]),Se=null,ce=Y.yyleng,W=Y.yytext,ee=Y.yylineno,z=Y.yylloc;break;case 2:if(Ae=this.productions_[se[1]][1],ye.$=H[H.length-Ae],ye._$={first_line:U[U.length-(Ae||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Ae||1)].first_column,last_column:U[U.length-1].last_column},j&&(ye._$.range=[U[U.length-(Ae||1)].range[0],U[U.length-1].range[1]]),fe=this.performAction.apply(ye,[W,ce,ee,X.yy,se[1],H,U].concat(oe)),typeof fe<"u")return fe;Ae&&(D=D.slice(0,-1*Ae*2),H=H.slice(0,-1*Ae),U=U.slice(0,-1*Ae)),D.push(this.productions_[se[1]][0]),H.push(ye.$),U.push(ye._$),Ce=G[D[D.length-2]][D[D.length-1]],D.push(Ce);break;case 3:return!0}}return!0},"parse")},$=function(){var P={EOF:1,parseError:A(function(L,D){if(this.yy.parser)this.yy.parser.parseError(L,D);else throw new Error(L)},"parseError"),setInput:A(function(F,L){return this.yy=L||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var L=F.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},"input"),unput:A(function(F){var L=F.length,D=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===B.length?this.yylloc.first_column:0)+B[B.length-D.length].length-D[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(F){this.unput(this.match.slice(F))},"less"),pastInput:A(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var F=this.pastInput(),L=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:A(function(F,L){var D,B,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),B=F[0].match(/(?:\r\n?|\n).*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],D=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var U in H)this[U]=H[U];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,L,D,B;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),U=0;U<H.length;U++)if(D=this._input.match(this.rules[H[U]]),D&&(!L||D[0].length>L[0].length)){if(L=D,B=U,this.options.backtrack_lexer){if(F=this.test_match(D,H[U]),F!==!1)return F;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(F=this.test_match(L,H[B]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var L=this.next();return L||this.lex()},"lex"),begin:A(function(L){this.conditionStack.push(L)},"begin"),popState:A(function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:A(function(L){this.begin(L)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(L,D,B,H){switch(B){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return P}();M.lexer=$;function N(){this.yy={}}return A(N,"Parser"),N.prototype=M,M.Parser=N,new N}();S_.parser=S_;var ITt=S_;function A_(e){return e.type==="bar"}A(A_,"isBarPlot");function cP(e){return e.type==="band"}A(cP,"isBandAxisData");function xg(e){return e.type==="linear"}A(xg,"isLinearAxisData");var Qg,v1e=(Qg=class{constructor(t){this.parentGroup=t}getMaxDimension(t,r){if(!this.parentGroup)return{width:t.reduce((o,l)=>Math.max(l.length,o),0)*r,height:r};const n={width:0,height:0},a=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const o of t){const l=roe(a,1,o),c=l?l.width:o.length*r,u=l?l.height:r;n.width=Math.max(n.width,c),n.height=Math.max(n.height,u)}return a.remove(),n}},A(Qg,"TextDimensionCalculatorWithFont"),Qg),sj=.7,oj=.2,Jg,y1e=(Jg=class{constructor(t,r,n,a){this.axisConfig=t,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=a,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(t){this.range=t,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){const t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){sj*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(sj*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let r=t.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),a=oj*t.width;this.outerPadding=Math.min(n.width/2,a);const o=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,o<=r&&(r-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),a=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,a<=r&&(r-=a,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-r}calculateSpaceIfDrawnVertical(t){let r=t.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),a=oj*t.height;this.outerPadding=Math.min(n.height/2,a);const o=n.width+this.axisConfig.labelPadding*2;o<=r&&(r-=o,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),a=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,a<=r&&(r-=a,this.showTitle=!0)}this.boundingRect.width=t.width-r,this.boundingRect.height=t.height}calculateSpace(t){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},A(Jg,"BaseAxis"),Jg),em,RTt=(em=class extends y1e{constructor(t,r,n,a,o){super(t,a,o,r),this.categories=n,this.scale=MR().domain(this.categories).range(this.getRange())}setRange(t){super.setRange(t)}recalculateScale(){this.scale=MR().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),me.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(t){return this.scale(t)??this.getRange()[0]}},A(em,"BandAxis"),em),tm,OTt=(tm=class extends y1e{constructor(t,r,n,a,o){super(t,a,o,r),this.domain=n,this.scale=_m().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const t=[...this.domain];this.axisPosition==="left"&&t.reverse(),this.scale=_m().domain(t).range(this.getRange())}getScaleValue(t){return this.scale(t)}},A(tm,"LinearAxis"),tm);function k_(e,t,r,n){const a=new v1e(n);return cP(e)?new RTt(t,r,e.categories,e.title,a):new OTt(t,r,[e.min,e.max],e.title,a)}A(k_,"getAxis");var rm,_Tt=(rm=class{constructor(t,r,n,a){this.textDimensionCalculator=t,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=a,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,t.width),a=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=a&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=a,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}},A(rm,"ChartTitle"),rm);function b1e(e,t,r,n){const a=new v1e(n);return new _Tt(a,e,t,r)}A(b1e,"getChartTitleComponent");var nm,NTt=(nm=class{constructor(t,r,n,a,o){this.plotData=t,this.xAxis=r,this.yAxis=n,this.orientation=a,this.plotIndex=o}getDrawableElement(){const t=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return this.orientation==="horizontal"?r=rp().y(n=>n[0]).x(n=>n[1])(t):r=rp().x(n=>n[0]).y(n=>n[1])(t),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},A(nm,"LinePlot"),nm),im,LTt=(im=class{constructor(t,r,n,a,o,l){this.barData=t,this.boundingRect=r,this.xAxis=n,this.yAxis=a,this.orientation=o,this.plotIndex=l}getDrawableElement(){const t=this.barData.data.map(o=>[this.xAxis.getScaleValue(o[0]),this.yAxis.getScaleValue(o[1])]),n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),a=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(o=>({x:this.boundingRect.x,y:o[0]-a,height:n,width:o[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(o=>({x:o[0]-a,y:o[1],width:n,height:this.boundingRect.y+this.boundingRect.height-o[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},A(im,"BarPlot"),im),am,MTt=(am=class{constructor(t,r,n){this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(t,r){this.xAxis=t,this.yAxis=r}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const t=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const a=new NTt(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...a.getDrawableElement())}break;case"bar":{const a=new LTt(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...a.getDrawableElement())}break}return t}},A(am,"BasePlot"),am);function x1e(e,t,r){return new MTt(e,t,r)}A(x1e,"getPlotComponent");var sm,DTt=(sm=class{constructor(t,r,n,a){this.chartConfig=t,this.chartData=r,this.componentStore={title:b1e(t,r,n,a),plot:x1e(t,r,n),xAxis:k_(r.xAxis,t.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},a),yAxis:k_(r.yAxis,t.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},a)}}calculateVerticalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,a=0,o=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),l=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),c=this.componentStore.plot.calculateSpace({width:o,height:l});t-=c.width,r-=c.height,c=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),a=c.height,r-=c.height,this.componentStore.xAxis.setAxisPosition("bottom"),c=this.componentStore.xAxis.calculateSpace({width:t,height:r}),r-=c.height,this.componentStore.yAxis.setAxisPosition("left"),c=this.componentStore.yAxis.calculateSpace({width:t,height:r}),n=c.width,t-=c.width,t>0&&(o+=t,t=0),r>0&&(l+=r,r=0),this.componentStore.plot.calculateSpace({width:o,height:l}),this.componentStore.plot.setBoundingBoxXY({x:n,y:a}),this.componentStore.xAxis.setRange([n,n+o]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:a+l}),this.componentStore.yAxis.setRange([a,a+l]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(u=>A_(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,a=0,o=0,l=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),c=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),u=this.componentStore.plot.calculateSpace({width:l,height:c});t-=u.width,r-=u.height,u=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=u.height,r-=u.height,this.componentStore.xAxis.setAxisPosition("left"),u=this.componentStore.xAxis.calculateSpace({width:t,height:r}),t-=u.width,a=u.width,this.componentStore.yAxis.setAxisPosition("top"),u=this.componentStore.yAxis.calculateSpace({width:t,height:r}),r-=u.height,o=n+u.height,t>0&&(l+=t,t=0),r>0&&(c+=r,r=0),this.componentStore.plot.calculateSpace({width:l,height:c}),this.componentStore.plot.setBoundingBoxXY({x:a,y:o}),this.componentStore.yAxis.setRange([a,a+l]),this.componentStore.yAxis.setBoundingBoxXY({x:a,y:n}),this.componentStore.xAxis.setRange([o,o+c]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:o}),this.chartData.plots.some(h=>A_(h))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))t.push(...r.getDrawableElements());return t}},A(sm,"Orchestrator"),sm),om,PTt=(om=class{static build(t,r,n,a){return new DTt(t,r,n,a).getDrawableElement()}},A(om,"XYChartBuilder"),om),ox=0,T1e,lx=fP(),cx=hP(),en=dP(),C_=cx.plotColorPalette.split(",").map(e=>e.trim()),ZA=!1,uP=!1;function hP(){const e=eL(),t=Fn();return zh(e.xyChart,t.themeVariables.xyChart)}A(hP,"getChartDefaultThemeConfig");function fP(){const e=Fn();return zh(Lr.xyChart,e.xyChart)}A(fP,"getChartDefaultConfig");function dP(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}A(dP,"getChartDefaultData");function QA(e){const t=Fn();return sn(e.trim(),t)}A(QA,"textSanitizer");function w1e(e){T1e=e}A(w1e,"setTmpSVGG");function E1e(e){e==="horizontal"?lx.chartOrientation="horizontal":lx.chartOrientation="vertical"}A(E1e,"setOrientation");function S1e(e){en.xAxis.title=QA(e.text)}A(S1e,"setXAxisTitle");function pP(e,t){en.xAxis={type:"linear",title:en.xAxis.title,min:e,max:t},ZA=!0}A(pP,"setXAxisRangeData");function A1e(e){en.xAxis={type:"band",title:en.xAxis.title,categories:e.map(t=>QA(t.text))},ZA=!0}A(A1e,"setXAxisBand");function k1e(e){en.yAxis.title=QA(e.text)}A(k1e,"setYAxisTitle");function C1e(e,t){en.yAxis={type:"linear",title:en.yAxis.title,min:e,max:t},uP=!0}A(C1e,"setYAxisRangeData");function I1e(e){const t=Math.min(...e),r=Math.max(...e),n=xg(en.yAxis)?en.yAxis.min:1/0,a=xg(en.yAxis)?en.yAxis.max:-1/0;en.yAxis={type:"linear",title:en.yAxis.title,min:Math.min(n,t),max:Math.max(a,r)}}A(I1e,"setYAxisRangeFromPlotData");function gP(e){let t=[];if(e.length===0)return t;if(!ZA){const r=xg(en.xAxis)?en.xAxis.min:1/0,n=xg(en.xAxis)?en.xAxis.max:-1/0;pP(Math.min(r,1),Math.max(n,e.length))}if(uP||I1e(e),cP(en.xAxis)&&(t=en.xAxis.categories.map((r,n)=>[r,e[n]])),xg(en.xAxis)){const r=en.xAxis.min,n=en.xAxis.max,a=(n-r)/(e.length-1),o=[];for(let l=r;l<=n;l+=a)o.push(`${l}`);t=o.map((l,c)=>[l,e[c]])}return t}A(gP,"transformDataWithoutCategory");function mP(e){return C_[e===0?0:e%C_.length]}A(mP,"getPlotColorFromPalette");function R1e(e,t){const r=gP(t);en.plots.push({type:"line",strokeFill:mP(ox),strokeWidth:2,data:r}),ox++}A(R1e,"setLineData");function O1e(e,t){const r=gP(t);en.plots.push({type:"bar",fill:mP(ox),data:r}),ox++}A(O1e,"setBarData");function _1e(){if(en.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return en.title=_a(),PTt.build(lx,en,cx,T1e)}A(_1e,"getDrawableElem");function N1e(){return cx}A(N1e,"getChartThemeConfig");function L1e(){return lx}A(L1e,"getChartConfig");var FTt=A(function(){ca(),ox=0,lx=fP(),en=dP(),cx=hP(),C_=cx.plotColorPalette.split(",").map(e=>e.trim()),ZA=!1,uP=!1},"clear"),BTt={getDrawableElem:_1e,clear:FTt,setAccTitle:ua,getAccTitle:Ia,setDiagramTitle:Ns,getDiagramTitle:_a,getAccDescription:Oa,setAccDescription:Ra,setOrientation:E1e,setXAxisTitle:S1e,setXAxisRangeData:pP,setXAxisBand:A1e,setYAxisTitle:k1e,setYAxisRangeData:C1e,setLineData:R1e,setBarData:O1e,setTmpSVGG:w1e,getChartThemeConfig:N1e,getChartConfig:L1e},$Tt=A((e,t,r,n)=>{const a=n.db,o=a.getChartThemeConfig(),l=a.getChartConfig();function c(b){return b==="top"?"text-before-edge":"middle"}A(c,"getDominantBaseLine");function u(b){return b==="left"?"start":b==="right"?"end":"middle"}A(u,"getTextAnchor");function h(b){return`translate(${b.x}, ${b.y}) rotate(${b.rotation||0})`}A(h,"getTextTransformation"),me.debug(`Rendering xychart chart
`+e);const f=Tf(t),d=f.append("g").attr("class","main"),p=d.append("rect").attr("width",l.width).attr("height",l.height).attr("class","background");is(f,l.height,l.width,!0),f.attr("viewBox",`0 0 ${l.width} ${l.height}`),p.attr("fill",o.backgroundColor),a.setTmpSVGG(f.append("g").attr("class","mermaid-tmp-group"));const g=a.getDrawableElem(),m={};function y(b){let x=d,T="";for(const[w]of b.entries()){let E=d;w>0&&m[T]&&(E=m[T]),T+=b[w],x=m[T],x||(x=m[T]=E.append("g").attr("class",b[w]))}return x}A(y,"getGroup");for(const b of g){if(b.data.length===0)continue;const x=y(b.groupTexts);switch(b.type){case"rect":x.selectAll("rect").data(b.data).enter().append("rect").attr("x",T=>T.x).attr("y",T=>T.y).attr("width",T=>T.width).attr("height",T=>T.height).attr("fill",T=>T.fill).attr("stroke",T=>T.strokeFill).attr("stroke-width",T=>T.strokeWidth);break;case"text":x.selectAll("text").data(b.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",T=>T.fill).attr("font-size",T=>T.fontSize).attr("dominant-baseline",T=>c(T.verticalPos)).attr("text-anchor",T=>u(T.horizontalPos)).attr("transform",T=>h(T)).text(T=>T.text);break;case"path":x.selectAll("path").data(b.data).enter().append("path").attr("d",T=>T.path).attr("fill",T=>T.fill?T.fill:"none").attr("stroke",T=>T.strokeFill).attr("stroke-width",T=>T.strokeWidth);break}}},"draw"),HTt={draw:$Tt},UTt={parser:ITt,db:BTt,renderer:HTt};const WTt=Object.freeze(Object.defineProperty({__proto__:null,diagram:UTt},Symbol.toStringTag,{value:"Module"}));var I_=function(){var e=A(function(ce,Z,J,oe){for(J=J||{},oe=ce.length;oe--;J[ce[oe]]=Z);return J},"o"),t=[1,3],r=[1,4],n=[1,5],a=[1,6],o=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],l=[1,18],c=[2,7],u=[1,22],h=[1,23],f=[1,24],d=[1,25],p=[1,26],g=[1,27],m=[1,20],y=[1,28],b=[1,29],x=[62,63],T=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],w=[1,47],E=[1,48],S=[1,49],C=[1,50],k=[1,51],O=[1,52],I=[1,53],_=[53,54],R=[1,64],M=[1,60],$=[1,61],N=[1,62],P=[1,63],F=[1,65],L=[1,69],D=[1,70],B=[1,67],H=[1,68],U=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],G={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:A(function(Z,J,oe,Y,X,K,z){var j=K.length-1;switch(X){case 4:this.$=K[j].trim(),Y.setAccTitle(this.$);break;case 5:case 6:this.$=K[j].trim(),Y.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Y.addRequirement(K[j-3],K[j-4]);break;case 14:Y.setNewReqId(K[j-2]);break;case 15:Y.setNewReqText(K[j-2]);break;case 16:Y.setNewReqRisk(K[j-2]);break;case 17:Y.setNewReqVerifyMethod(K[j-2]);break;case 20:this.$=Y.RequirementType.REQUIREMENT;break;case 21:this.$=Y.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Y.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Y.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Y.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Y.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Y.RiskLevel.LOW_RISK;break;case 27:this.$=Y.RiskLevel.MED_RISK;break;case 28:this.$=Y.RiskLevel.HIGH_RISK;break;case 29:this.$=Y.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Y.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Y.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Y.VerifyType.VERIFY_TEST;break;case 33:Y.addElement(K[j-3]);break;case 34:Y.setNewElementType(K[j-2]);break;case 35:Y.setNewElementDocRef(K[j-2]);break;case 38:Y.addRelationship(K[j-2],K[j],K[j-4]);break;case 39:Y.addRelationship(K[j-2],K[j-4],K[j]);break;case 40:this.$=Y.Relationships.CONTAINS;break;case 41:this.$=Y.Relationships.COPIES;break;case 42:this.$=Y.Relationships.DERIVES;break;case 43:this.$=Y.Relationships.SATISFIES;break;case 44:this.$=Y.Relationships.VERIFIES;break;case 45:this.$=Y.Relationships.REFINES;break;case 46:this.$=Y.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:a},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:a},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(o,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:a},{1:[2,2]},{4:17,5:l,7:13,8:c,9:r,11:n,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:f,34:d,35:p,36:g,44:m,62:y,63:b},e(o,[2,4]),e(o,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:l,7:31,8:c,9:r,11:n,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:f,34:d,35:p,36:g,44:m,62:y,63:b},{4:17,5:l,7:32,8:c,9:r,11:n,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:f,34:d,35:p,36:g,44:m,62:y,63:b},{4:17,5:l,7:33,8:c,9:r,11:n,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:f,34:d,35:p,36:g,44:m,62:y,63:b},{4:17,5:l,7:34,8:c,9:r,11:n,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:f,34:d,35:p,36:g,44:m,62:y,63:b},{4:17,5:l,7:35,8:c,9:r,11:n,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:f,34:d,35:p,36:g,44:m,62:y,63:b},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(x,[2,20]),e(x,[2,21]),e(x,[2,22]),e(x,[2,23]),e(x,[2,24]),e(x,[2,25]),e(T,[2,49]),e(T,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:w,56:E,57:S,58:C,59:k,60:O,61:I},{52:54,55:w,56:E,57:S,58:C,59:k,60:O,61:I},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(_,[2,40]),e(_,[2,41]),e(_,[2,42]),e(_,[2,43]),e(_,[2,44]),e(_,[2,45]),e(_,[2,46]),{54:[1,58]},{5:R,20:59,21:M,24:$,26:N,28:P,30:F},{5:L,30:D,46:66,47:B,49:H},{23:71,62:y,63:b},{23:72,62:y,63:b},e(U,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:R,20:77,21:M,24:$,26:N,28:P,30:F},e(U,[2,19]),e(U,[2,33]),{22:[1,78]},{22:[1,79]},{5:L,30:D,46:80,47:B,49:H},e(U,[2,37]),e(U,[2,38]),e(U,[2,39]),{23:81,62:y,63:b},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(U,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(U,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:R,20:106,21:M,24:$,26:N,28:P,30:F},{5:R,20:107,21:M,24:$,26:N,28:P,30:F},{5:R,20:108,21:M,24:$,26:N,28:P,30:F},{5:R,20:109,21:M,24:$,26:N,28:P,30:F},{5:L,30:D,46:110,47:B,49:H},{5:L,30:D,46:111,47:B,49:H},e(U,[2,14]),e(U,[2,15]),e(U,[2,16]),e(U,[2,17]),e(U,[2,34]),e(U,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:A(function(Z,J){if(J.recoverable)this.trace(Z);else{var oe=new Error(Z);throw oe.hash=J,oe}},"parseError"),parse:A(function(Z){var J=this,oe=[0],Y=[],X=[null],K=[],z=this.table,j="",te=0,re=0,Se=2,ue=1,se=K.slice.call(arguments,1),fe=Object.create(this.lexer),ye={yy:{}};for(var he in this.yy)Object.prototype.hasOwnProperty.call(this.yy,he)&&(ye.yy[he]=this.yy[he]);fe.setInput(Z,ye.yy),ye.yy.lexer=fe,ye.yy.parser=this,typeof fe.yylloc>"u"&&(fe.yylloc={});var Ae=fe.yylloc;K.push(Ae);var Ce=fe.options&&fe.options.ranges;typeof ye.yy.parseError=="function"?this.parseError=ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ie(ve){oe.length=oe.length-2*ve,X.length=X.length-ve,K.length=K.length-ve}A(Ie,"popStack");function Le(){var ve;return ve=Y.pop()||fe.lex()||ue,typeof ve!="number"&&(ve instanceof Array&&(Y=ve,ve=Y.pop()),ve=J.symbols_[ve]||ve),ve}A(Le,"lex");for(var ae,q,ge,le,Te={},ne,Re,ie,pe;;){if(q=oe[oe.length-1],this.defaultActions[q]?ge=this.defaultActions[q]:((ae===null||typeof ae>"u")&&(ae=Le()),ge=z[q]&&z[q][ae]),typeof ge>"u"||!ge.length||!ge[0]){var xe="";pe=[];for(ne in z[q])this.terminals_[ne]&&ne>Se&&pe.push("'"+this.terminals_[ne]+"'");fe.showPosition?xe="Parse error on line "+(te+1)+`:
`+fe.showPosition()+`
Expecting `+pe.join(", ")+", got '"+(this.terminals_[ae]||ae)+"'":xe="Parse error on line "+(te+1)+": Unexpected "+(ae==ue?"end of input":"'"+(this.terminals_[ae]||ae)+"'"),this.parseError(xe,{text:fe.match,token:this.terminals_[ae]||ae,line:fe.yylineno,loc:Ae,expected:pe})}if(ge[0]instanceof Array&&ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+q+", token: "+ae);switch(ge[0]){case 1:oe.push(ae),X.push(fe.yytext),K.push(fe.yylloc),oe.push(ge[1]),ae=null,re=fe.yyleng,j=fe.yytext,te=fe.yylineno,Ae=fe.yylloc;break;case 2:if(Re=this.productions_[ge[1]][1],Te.$=X[X.length-Re],Te._$={first_line:K[K.length-(Re||1)].first_line,last_line:K[K.length-1].last_line,first_column:K[K.length-(Re||1)].first_column,last_column:K[K.length-1].last_column},Ce&&(Te._$.range=[K[K.length-(Re||1)].range[0],K[K.length-1].range[1]]),le=this.performAction.apply(Te,[j,re,te,ye.yy,ge[1],X,K].concat(se)),typeof le<"u")return le;Re&&(oe=oe.slice(0,-1*Re*2),X=X.slice(0,-1*Re),K=K.slice(0,-1*Re)),oe.push(this.productions_[ge[1]][0]),X.push(Te.$),K.push(Te._$),ie=z[oe[oe.length-2]][oe[oe.length-1]],oe.push(ie);break;case 3:return!0}}return!0},"parse")},W=function(){var ce={EOF:1,parseError:A(function(J,oe){if(this.yy.parser)this.yy.parser.parseError(J,oe);else throw new Error(J)},"parseError"),setInput:A(function(Z,J){return this.yy=J||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var J=Z.match(/(?:\r\n?|\n).*/g);return J?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},"input"),unput:A(function(Z){var J=Z.length,oe=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-J),this.offset-=J;var Y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var X=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===Y.length?this.yylloc.first_column:0)+Y[Y.length-oe.length].length-oe[0].length:this.yylloc.first_column-J},this.options.ranges&&(this.yylloc.range=[X[0],X[0]+this.yyleng-J]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(Z){this.unput(this.match.slice(Z))},"less"),pastInput:A(function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var Z=this.pastInput(),J=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+J+"^"},"showPosition"),test_match:A(function(Z,J){var oe,Y,X;if(this.options.backtrack_lexer&&(X={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(X.yylloc.range=this.yylloc.range.slice(0))),Y=Z[0].match(/(?:\r\n?|\n).*/g),Y&&(this.yylineno+=Y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Y?Y[Y.length-1].length-Y[Y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],oe=this.performAction.call(this,this.yy,this,J,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var K in X)this[K]=X[K];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,J,oe,Y;this._more||(this.yytext="",this.match="");for(var X=this._currentRules(),K=0;K<X.length;K++)if(oe=this._input.match(this.rules[X[K]]),oe&&(!J||oe[0].length>J[0].length)){if(J=oe,Y=K,this.options.backtrack_lexer){if(Z=this.test_match(oe,X[K]),Z!==!1)return Z;if(this._backtrack){J=!1;continue}else return!1}else if(!this.options.flex)break}return J?(Z=this.test_match(J,X[Y]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var J=this.next();return J||this.lex()},"lex"),begin:A(function(J){this.conditionStack.push(J)},"begin"),popState:A(function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},"topState"),pushState:A(function(J){this.begin(J)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(J,oe,Y,X){switch(Y){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return oe.yytext=oe.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return ce}();G.lexer=W;function ee(){this.yy={}}return A(ee,"Parser"),ee.prototype=G,G.Parser=ee,new ee}();I_.parser=I_;var zTt=I_,vP=[],to={},tb=new Map,B0={},rb=new Map,GTt={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},YTt={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VTt={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},qTt={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},jTt=A((e,t)=>(tb.has(e)||tb.set(e,{name:e,type:t,id:to.id,text:to.text,risk:to.risk,verifyMethod:to.verifyMethod}),to={},tb.get(e)),"addRequirement"),XTt=A(()=>tb,"getRequirements"),KTt=A(e=>{to!==void 0&&(to.id=e)},"setNewReqId"),ZTt=A(e=>{to!==void 0&&(to.text=e)},"setNewReqText"),QTt=A(e=>{to!==void 0&&(to.risk=e)},"setNewReqRisk"),JTt=A(e=>{to!==void 0&&(to.verifyMethod=e)},"setNewReqVerifyMethod"),e4t=A(e=>(rb.has(e)||(rb.set(e,{name:e,type:B0.type,docRef:B0.docRef}),me.info("Added new requirement: ",e)),B0={},rb.get(e)),"addElement"),t4t=A(()=>rb,"getElements"),r4t=A(e=>{B0!==void 0&&(B0.type=e)},"setNewElementType"),n4t=A(e=>{B0!==void 0&&(B0.docRef=e)},"setNewElementDocRef"),i4t=A((e,t,r)=>{vP.push({type:e,src:t,dst:r})},"addRelationship"),a4t=A(()=>vP,"getRelationships"),s4t=A(()=>{vP=[],to={},tb=new Map,B0={},rb=new Map,ca()},"clear"),o4t={RequirementType:GTt,RiskLevel:YTt,VerifyType:VTt,Relationships:qTt,getConfig:A(()=>De().req,"getConfig"),addRequirement:jTt,getRequirements:XTt,setNewReqId:KTt,setNewReqText:ZTt,setNewReqRisk:QTt,setNewReqVerifyMethod:JTt,setAccTitle:ua,getAccTitle:Ia,setAccDescription:Ra,getAccDescription:Oa,addElement:e4t,getElements:t4t,setNewElementType:r4t,setNewElementDocRef:n4t,addRelationship:i4t,getRelationships:a4t,clear:s4t},l4t=A(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),c4t=l4t,R_={CONTAINS:"contains",ARROW:"arrow"},u4t=A((e,t)=>{let r=e.append("defs").append("marker").attr("id",R_.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",R_.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),M1e={ReqMarkers:R_,insertLineEndings:u4t},Qn={},lj=0,D1e=A((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",Qn.rect_min_width+"px").attr("height",Qn.rect_min_height+"px"),"newRectNode"),P1e=A((e,t,r)=>{let n=Qn.rect_min_width/2,a=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",Qn.rect_padding).attr("dominant-baseline","hanging"),o=0;r.forEach(h=>{o==0?a.append("tspan").attr("text-anchor","middle").attr("x",Qn.rect_min_width/2).attr("dy",0).text(h):a.append("tspan").attr("text-anchor","middle").attr("x",Qn.rect_min_width/2).attr("dy",Qn.line_height*.75).text(h),o++});let l=1.5*Qn.rect_padding,c=o*Qn.line_height*.75,u=l+c;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",Qn.rect_min_width).attr("y1",u).attr("y2",u),{titleNode:a,y:u}},"newTitleNode"),F1e=A((e,t,r,n)=>{let a=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",Qn.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),o=0;const l=30;let c=[];return r.forEach(u=>{let h=u.length;for(;h>l&&o<3;){let f=u.substring(0,l);u=u.substring(l,u.length),h=u.length,c[c.length]=f,o++}if(o==3){let f=c[c.length-1];c[c.length-1]=f.substring(0,f.length-4)+"..."}else c[c.length]=u;o=0}),c.forEach(u=>{a.append("tspan").attr("x",Qn.rect_padding).attr("dy",Qn.line_height).text(u)}),a},"newBodyNode"),h4t=A((e,t,r,n)=>{const a=t.node().getTotalLength(),o=t.node().getPointAtLength(a*.5),l="rel"+lj;lj++;const u=e.append("text").attr("class","req relationshipLabel").attr("id",l).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+l).attr("class","req reqLabelBox").attr("x",o.x-u.width/2).attr("y",o.y-u.height/2).attr("width",u.width).attr("height",u.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),f4t=A(function(e,t,r,n,a){const o=r.edge(Qm(t.src),Qm(t.dst)),l=rp().x(function(u){return u.x}).y(function(u){return u.y}),c=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",l(o.points)).attr("fill","none");t.type==a.db.Relationships.CONTAINS?c.attr("marker-start","url("+st.getUrl(Qn.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(c.attr("stroke-dasharray","10,7"),c.attr("marker-end","url("+st.getUrl(Qn.arrowMarkerAbsolute)+"#"+M1e.ReqMarkers.ARROW+"_line_ending)")),h4t(e,c,Qn,`<<${t.type}>>`)},"drawRelationshipFromLayout"),d4t=A((e,t,r)=>{e.forEach((n,a)=>{a=Qm(a),me.info("Added new requirement: ",a);const o=r.append("g").attr("id",a),l="req-"+a,c=D1e(o,l);let u=[],h=P1e(o,a+"_title",[`<<${n.type}>>`,`${n.name}`]);u.push(h.titleNode);let f=F1e(o,a+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],h.y);u.push(f);const d=c.node().getBBox();t.setNode(a,{width:d.width,height:d.height,shape:"rect",id:a})})},"drawReqs"),p4t=A((e,t,r)=>{e.forEach((n,a)=>{const o=Qm(a),l=r.append("g").attr("id",o),c="element-"+o,u=D1e(l,c);let h=[],f=P1e(l,c+"_title",["<<Element>>",`${a}`]);h.push(f.titleNode);let d=F1e(l,c+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],f.y);h.push(d);const p=u.node().getBBox();t.setNode(o,{width:p.width,height:p.height,shape:"rect",id:o})})},"drawElements"),g4t=A((e,t)=>(e.forEach(function(r){let n=Qm(r.src),a=Qm(r.dst);t.setEdge(n,a,{relationship:r})}),e),"addRelationships"),m4t=A(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),Qm=A(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),v4t=A((e,t,r,n)=>{Qn=De().requirement;const a=Qn.securityLevel;let o;a==="sandbox"&&(o=nt("#i"+t));const c=nt(a==="sandbox"?o.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);M1e.insertLineEndings(c,Qn);const u=new os({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:Qn.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let h=n.db.getRequirements(),f=n.db.getElements(),d=n.db.getRelationships();d4t(h,u,c),p4t(f,u,c),g4t(d,u),RA(u),m4t(c,u),d.forEach(function(b){f4t(c,b,u,t,n)});const p=Qn.rect_padding,g=c.node().getBBox(),m=g.width+p*2,y=g.height+p*2;is(c,y,m,Qn.useMaxWidth),c.attr("viewBox",`${g.x-p} ${g.y-p} ${m} ${y}`)},"draw"),y4t={draw:v4t},b4t={parser:zTt,db:o4t,renderer:y4t,styles:c4t};const x4t=Object.freeze(Object.defineProperty({__proto__:null,diagram:b4t},Symbol.toStringTag,{value:"Module"}));var O_=function(){var e=A(function(Y,X,K,z){for(K=K||{},z=Y.length;z--;K[Y[z]]=X);return K},"o"),t=[1,2],r=[1,3],n=[1,4],a=[2,4],o=[1,9],l=[1,11],c=[1,13],u=[1,14],h=[1,16],f=[1,17],d=[1,18],p=[1,24],g=[1,25],m=[1,26],y=[1,27],b=[1,28],x=[1,29],T=[1,30],w=[1,31],E=[1,32],S=[1,33],C=[1,34],k=[1,35],O=[1,36],I=[1,37],_=[1,38],R=[1,39],M=[1,41],$=[1,42],N=[1,43],P=[1,44],F=[1,45],L=[1,46],D=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],B=[4,5,16,50,52,53],H=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],U=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],G=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],ee=[68,69,70],ce=[1,122],Z={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:A(function(X,K,z,j,te,re,Se){var ue=re.length-1;switch(te){case 3:return j.apply(re[ue]),re[ue];case 4:case 9:this.$=[];break;case 5:case 10:re[ue-1].push(re[ue]),this.$=re[ue-1];break;case 6:case 7:case 11:case 12:this.$=re[ue];break;case 8:case 13:this.$=[];break;case 15:re[ue].type="createParticipant",this.$=re[ue];break;case 16:re[ue-1].unshift({type:"boxStart",boxData:j.parseBoxData(re[ue-2])}),re[ue-1].push({type:"boxEnd",boxText:re[ue-2]}),this.$=re[ue-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(re[ue-2]),sequenceIndexStep:Number(re[ue-1]),sequenceVisible:!0,signalType:j.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(re[ue-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:j.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:j.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:j.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:j.LINETYPE.ACTIVE_START,actor:re[ue-1].actor};break;case 23:this.$={type:"activeEnd",signalType:j.LINETYPE.ACTIVE_END,actor:re[ue-1].actor};break;case 29:j.setDiagramTitle(re[ue].substring(6)),this.$=re[ue].substring(6);break;case 30:j.setDiagramTitle(re[ue].substring(7)),this.$=re[ue].substring(7);break;case 31:this.$=re[ue].trim(),j.setAccTitle(this.$);break;case 32:case 33:this.$=re[ue].trim(),j.setAccDescription(this.$);break;case 34:re[ue-1].unshift({type:"loopStart",loopText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.LOOP_START}),re[ue-1].push({type:"loopEnd",loopText:re[ue-2],signalType:j.LINETYPE.LOOP_END}),this.$=re[ue-1];break;case 35:re[ue-1].unshift({type:"rectStart",color:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.RECT_START}),re[ue-1].push({type:"rectEnd",color:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.RECT_END}),this.$=re[ue-1];break;case 36:re[ue-1].unshift({type:"optStart",optText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.OPT_START}),re[ue-1].push({type:"optEnd",optText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.OPT_END}),this.$=re[ue-1];break;case 37:re[ue-1].unshift({type:"altStart",altText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.ALT_START}),re[ue-1].push({type:"altEnd",signalType:j.LINETYPE.ALT_END}),this.$=re[ue-1];break;case 38:re[ue-1].unshift({type:"parStart",parText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.PAR_START}),re[ue-1].push({type:"parEnd",signalType:j.LINETYPE.PAR_END}),this.$=re[ue-1];break;case 39:re[ue-1].unshift({type:"parStart",parText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.PAR_OVER_START}),re[ue-1].push({type:"parEnd",signalType:j.LINETYPE.PAR_END}),this.$=re[ue-1];break;case 40:re[ue-1].unshift({type:"criticalStart",criticalText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.CRITICAL_START}),re[ue-1].push({type:"criticalEnd",signalType:j.LINETYPE.CRITICAL_END}),this.$=re[ue-1];break;case 41:re[ue-1].unshift({type:"breakStart",breakText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.BREAK_START}),re[ue-1].push({type:"breakEnd",optText:j.parseMessage(re[ue-2]),signalType:j.LINETYPE.BREAK_END}),this.$=re[ue-1];break;case 43:this.$=re[ue-3].concat([{type:"option",optionText:j.parseMessage(re[ue-1]),signalType:j.LINETYPE.CRITICAL_OPTION},re[ue]]);break;case 45:this.$=re[ue-3].concat([{type:"and",parText:j.parseMessage(re[ue-1]),signalType:j.LINETYPE.PAR_AND},re[ue]]);break;case 47:this.$=re[ue-3].concat([{type:"else",altText:j.parseMessage(re[ue-1]),signalType:j.LINETYPE.ALT_ELSE},re[ue]]);break;case 48:re[ue-3].draw="participant",re[ue-3].type="addParticipant",re[ue-3].description=j.parseMessage(re[ue-1]),this.$=re[ue-3];break;case 49:re[ue-1].draw="participant",re[ue-1].type="addParticipant",this.$=re[ue-1];break;case 50:re[ue-3].draw="actor",re[ue-3].type="addParticipant",re[ue-3].description=j.parseMessage(re[ue-1]),this.$=re[ue-3];break;case 51:re[ue-1].draw="actor",re[ue-1].type="addParticipant",this.$=re[ue-1];break;case 52:re[ue-1].type="destroyParticipant",this.$=re[ue-1];break;case 53:this.$=[re[ue-1],{type:"addNote",placement:re[ue-2],actor:re[ue-1].actor,text:re[ue]}];break;case 54:re[ue-2]=[].concat(re[ue-1],re[ue-1]).slice(0,2),re[ue-2][0]=re[ue-2][0].actor,re[ue-2][1]=re[ue-2][1].actor,this.$=[re[ue-1],{type:"addNote",placement:j.PLACEMENT.OVER,actor:re[ue-2].slice(0,2),text:re[ue]}];break;case 55:this.$=[re[ue-1],{type:"addLinks",actor:re[ue-1].actor,text:re[ue]}];break;case 56:this.$=[re[ue-1],{type:"addALink",actor:re[ue-1].actor,text:re[ue]}];break;case 57:this.$=[re[ue-1],{type:"addProperties",actor:re[ue-1].actor,text:re[ue]}];break;case 58:this.$=[re[ue-1],{type:"addDetails",actor:re[ue-1].actor,text:re[ue]}];break;case 61:this.$=[re[ue-2],re[ue]];break;case 62:this.$=re[ue];break;case 63:this.$=j.PLACEMENT.LEFTOF;break;case 64:this.$=j.PLACEMENT.RIGHTOF;break;case 65:this.$=[re[ue-4],re[ue-1],{type:"addMessage",from:re[ue-4].actor,to:re[ue-1].actor,signalType:re[ue-3],msg:re[ue],activate:!0},{type:"activeStart",signalType:j.LINETYPE.ACTIVE_START,actor:re[ue-1].actor}];break;case 66:this.$=[re[ue-4],re[ue-1],{type:"addMessage",from:re[ue-4].actor,to:re[ue-1].actor,signalType:re[ue-3],msg:re[ue]},{type:"activeEnd",signalType:j.LINETYPE.ACTIVE_END,actor:re[ue-4].actor}];break;case 67:this.$=[re[ue-3],re[ue-1],{type:"addMessage",from:re[ue-3].actor,to:re[ue-1].actor,signalType:re[ue-2],msg:re[ue]}];break;case 68:this.$={type:"addParticipant",actor:re[ue]};break;case 69:this.$=j.LINETYPE.SOLID_OPEN;break;case 70:this.$=j.LINETYPE.DOTTED_OPEN;break;case 71:this.$=j.LINETYPE.SOLID;break;case 72:this.$=j.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=j.LINETYPE.DOTTED;break;case 74:this.$=j.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=j.LINETYPE.SOLID_CROSS;break;case 76:this.$=j.LINETYPE.DOTTED_CROSS;break;case 77:this.$=j.LINETYPE.SOLID_POINT;break;case 78:this.$=j.LINETYPE.DOTTED_POINT;break;case 79:this.$=j.parseMessage(re[ue].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],a,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:l,8:8,9:10,12:12,13:c,14:u,17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},e(D,[2,5]),{9:47,12:12,13:c,14:u,17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},e(D,[2,7]),e(D,[2,8]),e(D,[2,14]),{12:48,50:I,52:_,53:R},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:L},{22:55,70:L},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(D,[2,29]),e(D,[2,30]),{32:[1,61]},{34:[1,62]},e(D,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:L},{22:72,70:L},{22:73,70:L},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:L},{22:90,70:L},{22:91,70:L},{22:92,70:L},e([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),e(D,[2,6]),e(D,[2,15]),e(B,[2,9],{10:93}),e(D,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},e(D,[2,21]),{5:[1,97]},{5:[1,98]},e(D,[2,24]),e(D,[2,25]),e(D,[2,26]),e(D,[2,27]),e(D,[2,28]),e(D,[2,31]),e(D,[2,32]),e(H,a,{7:99}),e(H,a,{7:100}),e(H,a,{7:101}),e(U,a,{40:102,7:103}),e(G,a,{42:104,7:105}),e(G,a,{7:105,42:106}),e(W,a,{45:107,7:108}),e(H,a,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:L},e(ee,[2,69]),e(ee,[2,70]),e(ee,[2,71]),e(ee,[2,72]),e(ee,[2,73]),e(ee,[2,74]),e(ee,[2,75]),e(ee,[2,76]),e(ee,[2,77]),e(ee,[2,78]),{22:118,70:L},{22:120,58:119,70:L},{70:[2,63]},{70:[2,64]},{56:121,81:ce},{56:123,81:ce},{56:124,81:ce},{56:125,81:ce},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:I,52:_,53:R},{5:[1,131]},e(D,[2,19]),e(D,[2,20]),e(D,[2,22]),e(D,[2,23]),{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[1,132],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[1,133],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[1,134],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{16:[1,135]},{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[2,46],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,49:[1,136],50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{16:[1,137]},{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[2,44],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,48:[1,138],50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{16:[1,139]},{16:[1,140]},{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[2,42],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,47:[1,141],50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{4:o,5:l,8:8,9:10,12:12,13:c,14:u,16:[1,142],17:15,18:h,21:f,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:p,30:g,31:m,33:y,35:b,36:x,37:T,38:w,39:E,41:S,43:C,44:k,46:O,50:I,52:_,53:R,54:M,59:$,60:N,61:P,62:F,70:L},{15:[1,143]},e(D,[2,49]),{15:[1,144]},e(D,[2,51]),e(D,[2,52]),{22:145,70:L},{22:146,70:L},{56:147,81:ce},{56:148,81:ce},{56:149,81:ce},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(D,[2,16]),e(B,[2,10]),{12:151,50:I,52:_,53:R},e(B,[2,12]),e(B,[2,13]),e(D,[2,18]),e(D,[2,34]),e(D,[2,35]),e(D,[2,36]),e(D,[2,37]),{15:[1,152]},e(D,[2,38]),{15:[1,153]},e(D,[2,39]),e(D,[2,40]),{15:[1,154]},e(D,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:ce},{56:158,81:ce},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:L},e(B,[2,11]),e(U,a,{7:103,40:160}),e(G,a,{7:105,42:161}),e(W,a,{7:108,45:162}),e(D,[2,48]),e(D,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:A(function(X,K){if(K.recoverable)this.trace(X);else{var z=new Error(X);throw z.hash=K,z}},"parseError"),parse:A(function(X){var K=this,z=[0],j=[],te=[null],re=[],Se=this.table,ue="",se=0,fe=0,ye=2,he=1,Ae=re.slice.call(arguments,1),Ce=Object.create(this.lexer),Ie={yy:{}};for(var Le in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Le)&&(Ie.yy[Le]=this.yy[Le]);Ce.setInput(X,Ie.yy),Ie.yy.lexer=Ce,Ie.yy.parser=this,typeof Ce.yylloc>"u"&&(Ce.yylloc={});var ae=Ce.yylloc;re.push(ae);var q=Ce.options&&Ce.options.ranges;typeof Ie.yy.parseError=="function"?this.parseError=Ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(Oe){z.length=z.length-2*Oe,te.length=te.length-Oe,re.length=re.length-Oe}A(ge,"popStack");function le(){var Oe;return Oe=j.pop()||Ce.lex()||he,typeof Oe!="number"&&(Oe instanceof Array&&(j=Oe,Oe=j.pop()),Oe=K.symbols_[Oe]||Oe),Oe}A(le,"lex");for(var Te,ne,Re,ie,pe={},xe,ve,Ee,ke;;){if(ne=z[z.length-1],this.defaultActions[ne]?Re=this.defaultActions[ne]:((Te===null||typeof Te>"u")&&(Te=le()),Re=Se[ne]&&Se[ne][Te]),typeof Re>"u"||!Re.length||!Re[0]){var Pe="";ke=[];for(xe in Se[ne])this.terminals_[xe]&&xe>ye&&ke.push("'"+this.terminals_[xe]+"'");Ce.showPosition?Pe="Parse error on line "+(se+1)+`:
`+Ce.showPosition()+`
Expecting `+ke.join(", ")+", got '"+(this.terminals_[Te]||Te)+"'":Pe="Parse error on line "+(se+1)+": Unexpected "+(Te==he?"end of input":"'"+(this.terminals_[Te]||Te)+"'"),this.parseError(Pe,{text:Ce.match,token:this.terminals_[Te]||Te,line:Ce.yylineno,loc:ae,expected:ke})}if(Re[0]instanceof Array&&Re.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ne+", token: "+Te);switch(Re[0]){case 1:z.push(Te),te.push(Ce.yytext),re.push(Ce.yylloc),z.push(Re[1]),Te=null,fe=Ce.yyleng,ue=Ce.yytext,se=Ce.yylineno,ae=Ce.yylloc;break;case 2:if(ve=this.productions_[Re[1]][1],pe.$=te[te.length-ve],pe._$={first_line:re[re.length-(ve||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(ve||1)].first_column,last_column:re[re.length-1].last_column},q&&(pe._$.range=[re[re.length-(ve||1)].range[0],re[re.length-1].range[1]]),ie=this.performAction.apply(pe,[ue,fe,se,Ie.yy,Re[1],te,re].concat(Ae)),typeof ie<"u")return ie;ve&&(z=z.slice(0,-1*ve*2),te=te.slice(0,-1*ve),re=re.slice(0,-1*ve)),z.push(this.productions_[Re[1]][0]),te.push(pe.$),re.push(pe._$),Ee=Se[z[z.length-2]][z[z.length-1]],z.push(Ee);break;case 3:return!0}}return!0},"parse")},J=function(){var Y={EOF:1,parseError:A(function(K,z){if(this.yy.parser)this.yy.parser.parseError(K,z);else throw new Error(K)},"parseError"),setInput:A(function(X,K){return this.yy=K||this.yy||{},this._input=X,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var X=this._input[0];this.yytext+=X,this.yyleng++,this.offset++,this.match+=X,this.matched+=X;var K=X.match(/(?:\r\n?|\n).*/g);return K?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),X},"input"),unput:A(function(X){var K=X.length,z=X.split(/(?:\r\n?|\n)/g);this._input=X+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-K),this.offset-=K;var j=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===j.length?this.yylloc.first_column:0)+j[j.length-z.length].length-z[0].length:this.yylloc.first_column-K},this.options.ranges&&(this.yylloc.range=[te[0],te[0]+this.yyleng-K]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(X){this.unput(this.match.slice(X))},"less"),pastInput:A(function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var X=this.match;return X.length<20&&(X+=this._input.substr(0,20-X.length)),(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var X=this.pastInput(),K=new Array(X.length+1).join("-");return X+this.upcomingInput()+`
`+K+"^"},"showPosition"),test_match:A(function(X,K){var z,j,te;if(this.options.backtrack_lexer&&(te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(te.yylloc.range=this.yylloc.range.slice(0))),j=X[0].match(/(?:\r\n?|\n).*/g),j&&(this.yylineno+=j.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+X[0].length},this.yytext+=X[0],this.match+=X[0],this.matches=X,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(X[0].length),this.matched+=X[0],z=this.performAction.call(this,this.yy,this,K,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var re in te)this[re]=te[re];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var X,K,z,j;this._more||(this.yytext="",this.match="");for(var te=this._currentRules(),re=0;re<te.length;re++)if(z=this._input.match(this.rules[te[re]]),z&&(!K||z[0].length>K[0].length)){if(K=z,j=re,this.options.backtrack_lexer){if(X=this.test_match(z,te[re]),X!==!1)return X;if(this._backtrack){K=!1;continue}else return!1}else if(!this.options.flex)break}return K?(X=this.test_match(K,te[j]),X!==!1?X:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var K=this.next();return K||this.lex()},"lex"),begin:A(function(K){this.conditionStack.push(K)},"begin"),popState:A(function(){var K=this.conditionStack.length-1;return K>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(K){return K=this.conditionStack.length-1-Math.abs(K||0),K>=0?this.conditionStack[K]:"INITIAL"},"topState"),pushState:A(function(K){this.begin(K)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(K,z,j,te){switch(j){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return z.yytext=z.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return z.yytext=z.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return Y}();Z.lexer=J;function oe(){this.yy={}}return A(oe,"Parser"),oe.prototype=Z,Z.Parser=oe,new oe}();O_.parser=O_;var T4t=O_,Dt=new ED(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),w4t=A(function(e){Dt.records.boxes.push({name:e.text,wrap:e.wrap??dp(),fill:e.color,actorKeys:[]}),Dt.records.currentBox=Dt.records.boxes.slice(-1)[0]},"addBox"),__=A(function(e,t,r,n){let a=Dt.records.currentBox;const o=Dt.records.actors.get(e);if(o){if(Dt.records.currentBox&&o.box&&Dt.records.currentBox!==o.box)throw new Error(`A same participant should only be defined in one Box: ${o.name} can't be in '${o.box.name}' and in '${Dt.records.currentBox.name}' at the same time.`);if(a=o.box?o.box:Dt.records.currentBox,o.box=a,o&&t===o.name&&r==null)return}if((r==null?void 0:r.text)==null&&(r={text:t,type:n}),(n==null||r.text==null)&&(r={text:t,type:n}),Dt.records.actors.set(e,{box:a,name:t,description:r.text,wrap:r.wrap??dp(),prevActor:Dt.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),Dt.records.prevActor){const l=Dt.records.actors.get(Dt.records.prevActor);l&&(l.nextActor=e)}Dt.records.currentBox&&Dt.records.currentBox.actorKeys.push(e),Dt.records.prevActor=e},"addActor"),E4t=A(e=>{let t,r=0;if(!e)return 0;for(t=0;t<Dt.records.messages.length;t++)Dt.records.messages[t].type===ux.ACTIVE_START&&Dt.records.messages[t].from===e&&r++,Dt.records.messages[t].type===ux.ACTIVE_END&&Dt.records.messages[t].from===e&&r--;return r},"activationCount"),S4t=A(function(e,t,r,n){Dt.records.messages.push({from:e,to:t,message:r.text,wrap:r.wrap??dp(),answer:n})},"addMessage"),ui=A(function(e,t,r,n,a=!1){if(n===ux.ACTIVE_END&&E4t(e??"")<1){const l=new Error("Trying to inactivate an inactive participant ("+e+")");throw l.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},l}return Dt.records.messages.push({from:e,to:t,message:(r==null?void 0:r.text)??"",wrap:(r==null?void 0:r.wrap)??dp(),type:n,activate:a}),!0},"addSignal"),A4t=A(function(){return Dt.records.boxes.length>0},"hasAtLeastOneBox"),k4t=A(function(){return Dt.records.boxes.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),C4t=A(function(){return Dt.records.messages},"getMessages"),I4t=A(function(){return Dt.records.boxes},"getBoxes"),R4t=A(function(){return Dt.records.actors},"getActors"),O4t=A(function(){return Dt.records.createdActors},"getCreatedActors"),_4t=A(function(){return Dt.records.destroyedActors},"getDestroyedActors"),B3=A(function(e){return Dt.records.actors.get(e)},"getActor"),N4t=A(function(){return[...Dt.records.actors.keys()]},"getActorKeys"),L4t=A(function(){Dt.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),M4t=A(function(){Dt.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),D4t=A(()=>Dt.records.sequenceNumbersEnabled,"showSequenceNumbers"),P4t=A(function(e){Dt.records.wrapEnabled=e},"setWrap"),B1e=A(e=>{if(e===void 0)return{};e=e.trim();const t=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}},"extractWrap"),dp=A(()=>{var e;return Dt.records.wrapEnabled!==void 0?Dt.records.wrapEnabled:((e=De().sequence)==null?void 0:e.wrap)??!1},"autoWrap"),F4t=A(function(){Dt.reset(),ca()},"clear"),B4t=A(function(e){const t=e.trim(),{wrap:r,cleanedText:n}=B1e(t),a={text:n,wrap:r};return me.debug(`parseMessage: ${JSON.stringify(a)}`),a},"parseMessage"),$4t=A(function(e){const t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e);let r=t!=null&&t[1]?t[1].trim():"transparent",n=t!=null&&t[2]?t[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{const l=new Option().style;l.color=r,l.color!==r&&(r="transparent",n=e.trim())}const{wrap:a,cleanedText:o}=B1e(n);return{text:o?sn(o,De()):void 0,color:r,wrap:a}},"parseBoxData"),ux={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},H4t={FILLED:0,OPEN:1},U4t={LEFTOF:0,RIGHTOF:1,OVER:2},$1e=A(function(e,t,r){const n={actor:e,placement:t,message:r.text,wrap:r.wrap??dp()},a=[].concat(e,e);Dt.records.notes.push(n),Dt.records.messages.push({from:a[0],to:a[1],message:r.text,wrap:r.wrap??dp(),type:ux.NOTE,placement:t})},"addNote"),H1e=A(function(e,t){const r=B3(e);try{let n=sn(t.text,De());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");const a=JSON.parse(n);JA(r,a)}catch(n){me.error("error while parsing actor link text",n)}},"addLinks"),W4t=A(function(e,t){const r=B3(e);try{const n={};let a=sn(t.text,De());const o=a.indexOf("@");a=a.replace(/&amp;/g,"&"),a=a.replace(/&equals;/g,"=");const l=a.slice(0,o-1).trim(),c=a.slice(o+1).trim();n[l]=c,JA(r,n)}catch(n){me.error("error while parsing actor link text",n)}},"addALink");function JA(e,t){if(e.links==null)e.links=t;else for(const r in t)e.links[r]=t[r]}A(JA,"insertLinks");var U1e=A(function(e,t){const r=B3(e);try{const n=sn(t.text,De()),a=JSON.parse(n);yP(r,a)}catch(n){me.error("error while parsing actor properties text",n)}},"addProperties");function yP(e,t){if(e.properties==null)e.properties=t;else for(const r in t)e.properties[r]=t[r]}A(yP,"insertProperties");function W1e(){Dt.records.currentBox=void 0}A(W1e,"boxEnd");var z1e=A(function(e,t){const r=B3(e),n=document.getElementById(t.text);try{const a=n.innerHTML,o=JSON.parse(a);o.properties&&yP(r,o.properties),o.links&&JA(r,o.links)}catch(a){me.error("error while parsing actor details text",a)}},"addDetails"),z4t=A(function(e,t){if((e==null?void 0:e.properties)!==void 0)return e.properties[t]},"getActorProperty"),G1e=A(function(e){if(Array.isArray(e))e.forEach(function(t){G1e(t)});else switch(e.type){case"sequenceIndex":Dt.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":__(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(Dt.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Dt.records.lastCreated=e.actor,__(e.actor,e.actor,e.description,e.draw),Dt.records.createdActors.set(e.actor,Dt.records.messages.length);break;case"destroyParticipant":Dt.records.lastDestroyed=e.actor,Dt.records.destroyedActors.set(e.actor,Dt.records.messages.length);break;case"activeStart":ui(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":ui(e.actor,void 0,void 0,e.signalType);break;case"addNote":$1e(e.actor,e.placement,e.text);break;case"addLinks":H1e(e.actor,e.text);break;case"addALink":W4t(e.actor,e.text);break;case"addProperties":U1e(e.actor,e.text);break;case"addDetails":z1e(e.actor,e.text);break;case"addMessage":if(Dt.records.lastCreated){if(e.to!==Dt.records.lastCreated)throw new Error("The created participant "+Dt.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Dt.records.lastCreated=void 0}else if(Dt.records.lastDestroyed){if(e.to!==Dt.records.lastDestroyed&&e.from!==Dt.records.lastDestroyed)throw new Error("The destroyed participant "+Dt.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Dt.records.lastDestroyed=void 0}ui(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":w4t(e.boxData);break;case"boxEnd":W1e();break;case"loopStart":ui(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":ui(void 0,void 0,void 0,e.signalType);break;case"rectStart":ui(void 0,void 0,e.color,e.signalType);break;case"rectEnd":ui(void 0,void 0,void 0,e.signalType);break;case"optStart":ui(void 0,void 0,e.optText,e.signalType);break;case"optEnd":ui(void 0,void 0,void 0,e.signalType);break;case"altStart":ui(void 0,void 0,e.altText,e.signalType);break;case"else":ui(void 0,void 0,e.altText,e.signalType);break;case"altEnd":ui(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":ua(e.text);break;case"parStart":ui(void 0,void 0,e.parText,e.signalType);break;case"and":ui(void 0,void 0,e.parText,e.signalType);break;case"parEnd":ui(void 0,void 0,void 0,e.signalType);break;case"criticalStart":ui(void 0,void 0,e.criticalText,e.signalType);break;case"option":ui(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":ui(void 0,void 0,void 0,e.signalType);break;case"breakStart":ui(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":ui(void 0,void 0,void 0,e.signalType);break}},"apply"),cj={addActor:__,addMessage:S4t,addSignal:ui,addLinks:H1e,addDetails:z1e,addProperties:U1e,autoWrap:dp,setWrap:P4t,enableSequenceNumbers:L4t,disableSequenceNumbers:M4t,showSequenceNumbers:D4t,getMessages:C4t,getActors:R4t,getCreatedActors:O4t,getDestroyedActors:_4t,getActor:B3,getActorKeys:N4t,getActorProperty:z4t,getAccTitle:Ia,getBoxes:I4t,getDiagramTitle:_a,setDiagramTitle:Ns,getConfig:A(()=>De().sequence,"getConfig"),clear:F4t,parseMessage:B4t,parseBoxData:$4t,LINETYPE:ux,ARROWTYPE:H4t,PLACEMENT:U4t,addNote:$1e,setAccTitle:ua,apply:G1e,setAccDescription:Ra,getAccDescription:Oa,hasAtLeastOneBox:A4t,hasAtLeastOneBoxWithTitle:k4t},G4t=A(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),Y4t=G4t,_d=18*2,Y1e="actor-top",V1e="actor-bottom",V4t="actor-box",uj="actor-man",bP=A(function(e,t){return OA(e,t)},"drawRect"),q4t=A(function(e,t,r,n,a){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const o=t.links,l=t.actorCnt,c=t.rectData;var u="none";a&&(u="block !important");const h=e.append("g");h.attr("id","actor"+l+"_popup"),h.attr("class","actorPopupMenu"),h.attr("display",u);var f="";c.class!==void 0&&(f=" "+c.class);let d=c.width>r?c.width:r;const p=h.append("rect");if(p.attr("class","actorPopupMenuPanel"+f),p.attr("x",c.x),p.attr("y",c.height),p.attr("fill",c.fill),p.attr("stroke",c.stroke),p.attr("width",d),p.attr("height",c.height),p.attr("rx",c.rx),p.attr("ry",c.ry),o!=null){var g=20;for(let b in o){var m=h.append("a"),y=bf(o[b]);m.attr("xlink:href",y),m.attr("target","_blank"),uwt(n)(b,m,c.x+10,c.height+g,d,20,{class:"actor"},n),g+=30}}return p.attr("height",g),{height:c.height+g,width:d}},"drawPopup"),j4t=A(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),cS=A(async function(e,t,r=null){let n=e.append("foreignObject");const a=await Qx(t.text,Fn()),l=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(a).node().getBoundingClientRect();if(n.attr("height",Math.round(l.height)).attr("width",Math.round(l.width)),t.class==="noteText"){const c=e.node().firstChild;c.setAttribute("height",l.height+2*t.textMargin);const u=c.getBBox();n.attr("x",Math.round(u.x+u.width/2-l.width/2)).attr("y",Math.round(u.y+u.height/2-l.height/2))}else if(r){let{startx:c,stopx:u,starty:h}=r;if(c>u){const f=c;c=u,u=f}n.attr("x",Math.round(c+Math.abs(c-u)/2-l.width/2)),t.class==="loopText"?n.attr("y",Math.round(h)):n.attr("y",Math.round(h-l.height))}return[n]},"drawKatex"),Jm=A(function(e,t){let r=0,n=0;const a=t.text.split(st.lineBreakRegex),[o,l]=xf(t.fontSize);let c=[],u=0,h=A(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":h=A(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":h=A(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":h=A(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[f,d]of a.entries()){t.textMargin!==void 0&&t.textMargin===0&&o!==void 0&&(u=f*o);const p=e.append("text");p.attr("x",t.x),p.attr("y",h()),t.anchor!==void 0&&p.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&p.style("font-family",t.fontFamily),l!==void 0&&p.style("font-size",l),t.fontWeight!==void 0&&p.style("font-weight",t.fontWeight),t.fill!==void 0&&p.attr("fill",t.fill),t.class!==void 0&&p.attr("class",t.class),t.dy!==void 0?p.attr("dy",t.dy):u!==0&&p.attr("dy",u);const g=d||Sse;if(t.tspan){const m=p.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(g)}else p.text(g);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(p._groups||p)[0][0].getBBox().height,r=n),c.push(p)}return c},"drawText"),q1e=A(function(e,t){function r(a,o,l,c,u){return a+","+o+" "+(a+l)+","+o+" "+(a+l)+","+(o+c-u)+" "+(a+l-u*1.2)+","+(o+c)+" "+a+","+(o+c)}A(r,"genPoints");const n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,Jm(e,t),n},"drawLabel"),Yc=-1,j1e=A((e,t,r,n)=>{e.select&&r.forEach(a=>{const o=t.get(a),l=e.select("#actor"+o.actorCnt);!n.mirrorActors&&o.stopy?l.attr("y2",o.stopy+o.height/2):n.mirrorActors&&l.attr("y2",o.stopy)})},"fixLifeLineHeights"),X4t=A(function(e,t,r,n){var g,m;const a=n?t.stopy:t.starty,o=t.x+t.width/2,l=a+t.height,c=e.append("g").lower();var u=c;n||(Yc++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",j4t(`actor${Yc}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+Yc).attr("x1",o).attr("y1",l).attr("x2",o).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=c.append("g"),t.actorCnt=Yc,t.links!=null&&u.attr("id","root-"+Yc));const h=Up();var f="actor";(g=t.properties)!=null&&g.class?f=t.properties.class:h.fill="#eaeaea",n?f+=` ${V1e}`:f+=` ${Y1e}`,h.x=t.x,h.y=a,h.width=t.width,h.height=t.height,h.class=f,h.rx=3,h.ry=3,h.name=t.name;const d=bP(u,h);if(t.rectData=h,(m=t.properties)!=null&&m.icon){const y=t.properties.icon.trim();y.charAt(0)==="@"?hdt(u,h.x+h.width-20,h.y+10,y.substr(1)):udt(u,h.x+h.width-20,h.y+10,y)}xP(r,es(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${V4t}`},r);let p=t.height;if(d.node){const y=d.node().getBBox();t.height=y.height,p=y.height}return p},"drawActorTypeParticipant"),K4t=A(function(e,t,r,n){const a=n?t.stopy:t.starty,o=t.x+t.width/2,l=a+80,c=e.append("g").lower();n||(Yc++,c.append("line").attr("id","actor"+Yc).attr("x1",o).attr("y1",l).attr("x2",o).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Yc);const u=e.append("g");let h=uj;n?h+=` ${V1e}`:h+=` ${Y1e}`,u.attr("class",h),u.attr("name",t.name);const f=Up();f.x=t.x,f.y=a,f.fill="#eaeaea",f.width=t.width,f.height=t.height,f.class="actor",f.rx=3,f.ry=3,u.append("line").attr("id","actor-man-torso"+Yc).attr("x1",o).attr("y1",a+25).attr("x2",o).attr("y2",a+45),u.append("line").attr("id","actor-man-arms"+Yc).attr("x1",o-_d/2).attr("y1",a+33).attr("x2",o+_d/2).attr("y2",a+33),u.append("line").attr("x1",o-_d/2).attr("y1",a+60).attr("x2",o).attr("y2",a+45),u.append("line").attr("x1",o).attr("y1",a+45).attr("x2",o+_d/2-2).attr("y2",a+60);const d=u.append("circle");d.attr("cx",t.x+t.width/2),d.attr("cy",a+10),d.attr("r",15),d.attr("width",t.width),d.attr("height",t.height);const p=u.node().getBBox();return t.height=p.height,xP(r,es(t.description))(t.description,u,f.x,f.y+35,f.width,f.height,{class:`actor ${uj}`},r),t.height},"drawActorTypeActor"),Z4t=A(async function(e,t,r,n){switch(t.type){case"actor":return await K4t(e,t,r,n);case"participant":return await X4t(e,t,r,n)}},"drawActor"),Q4t=A(function(e,t,r){const a=e.append("g");X1e(a,t),t.name&&xP(r)(t.name,a,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),a.lower()},"drawBox"),J4t=A(function(e){return e.append("g")},"anchorElement"),ewt=A(function(e,t,r,n,a){const o=Up(),l=t.anchored;o.x=t.startx,o.y=t.starty,o.class="activation"+a%3,o.width=t.stopx-t.startx,o.height=r-t.starty,bP(l,o)},"drawActivation"),twt=A(async function(e,t,r,n){const{boxMargin:a,boxTextMargin:o,labelBoxHeight:l,labelBoxWidth:c,messageFontFamily:u,messageFontSize:h,messageFontWeight:f}=n,d=e.append("g"),p=A(function(y,b,x,T){return d.append("line").attr("x1",y).attr("y1",b).attr("x2",x).attr("y2",T).attr("class","loopLine")},"drawLoopLine");p(t.startx,t.starty,t.stopx,t.starty),p(t.stopx,t.starty,t.stopx,t.stopy),p(t.startx,t.stopy,t.stopx,t.stopy),p(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(y){p(t.startx,y.y,t.stopx,y.y).style("stroke-dasharray","3, 3")});let g=hD();g.text=r,g.x=t.startx,g.y=t.starty,g.fontFamily=u,g.fontSize=h,g.fontWeight=f,g.anchor="middle",g.valign="middle",g.tspan=!1,g.width=c||50,g.height=l||20,g.textMargin=o,g.class="labelText",q1e(d,g),g=K1e(),g.text=t.title,g.x=t.startx+c/2+(t.stopx-t.startx)/2,g.y=t.starty+a+o,g.anchor="middle",g.valign="middle",g.textMargin=o,g.class="loopText",g.fontFamily=u,g.fontSize=h,g.fontWeight=f,g.wrap=!0;let m=es(g.text)?await cS(d,g,t):Jm(d,g);if(t.sectionTitles!==void 0){for(const[y,b]of Object.entries(t.sectionTitles))if(b.message){g.text=b.message,g.x=t.startx+(t.stopx-t.startx)/2,g.y=t.sections[y].y+a+o,g.class="loopText",g.anchor="middle",g.valign="middle",g.tspan=!1,g.fontFamily=u,g.fontSize=h,g.fontWeight=f,g.wrap=t.wrap,es(g.text)?(t.starty=t.sections[y].y,await cS(d,g,t)):Jm(d,g);let x=Math.round(m.map(T=>(T._groups||T)[0][0].getBBox().height).reduce((T,w)=>T+w));t.sections[y].height+=x-(a+o)}}return t.height=Math.round(t.stopy-t.starty),d},"drawLoop"),X1e=A(function(e,t){Y0e(e,t)},"drawBackgroundRect"),rwt=A(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),nwt=A(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),iwt=A(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),awt=A(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),swt=A(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),owt=A(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),lwt=A(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),K1e=A(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),cwt=A(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),xP=function(){function e(o,l,c,u,h,f,d){const p=l.append("text").attr("x",c+h/2).attr("y",u+f/2+5).style("text-anchor","middle").text(o);a(p,d)}A(e,"byText");function t(o,l,c,u,h,f,d,p){const{actorFontSize:g,actorFontFamily:m,actorFontWeight:y}=p,[b,x]=xf(g),T=o.split(st.lineBreakRegex);for(let w=0;w<T.length;w++){const E=w*b-b*(T.length-1)/2,S=l.append("text").attr("x",c+h/2).attr("y",u).style("text-anchor","middle").style("font-size",x).style("font-weight",y).style("font-family",m);S.append("tspan").attr("x",c+h/2).attr("dy",E).text(T[w]),S.attr("y",u+f/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),a(S,d)}}A(t,"byTspan");function r(o,l,c,u,h,f,d,p){const g=l.append("switch"),y=g.append("foreignObject").attr("x",c).attr("y",u).attr("width",h).attr("height",f).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(o),t(o,g,c,u,h,f,d,p),a(y,d)}A(r,"byFo");async function n(o,l,c,u,h,f,d,p){const g=await Zx(o,Fn()),m=l.append("switch"),b=m.append("foreignObject").attr("x",c+h/2-g.width/2).attr("y",u+f/2-g.height/2).attr("width",g.width).attr("height",g.height).append("xhtml:div").style("height","100%").style("width","100%");b.append("div").style("text-align","center").style("vertical-align","middle").html(await Qx(o,Fn())),t(o,m,c,u,h,f,d,p),a(b,d)}A(n,"byKatex");function a(o,l){for(const c in l)l.hasOwnProperty(c)&&o.attr(c,l[c])}return A(a,"_setTextAttrs"),function(o,l=!1){return l?n:o.textPlacement==="fo"?r:o.textPlacement==="old"?e:t}}(),uwt=function(){function e(a,o,l,c,u,h,f){const d=o.append("text").attr("x",l).attr("y",c).style("text-anchor","start").text(a);n(d,f)}A(e,"byText");function t(a,o,l,c,u,h,f,d){const{actorFontSize:p,actorFontFamily:g,actorFontWeight:m}=d,y=a.split(st.lineBreakRegex);for(let b=0;b<y.length;b++){const x=b*p-p*(y.length-1)/2,T=o.append("text").attr("x",l).attr("y",c).style("text-anchor","start").style("font-size",p).style("font-weight",m).style("font-family",g);T.append("tspan").attr("x",l).attr("dy",x).text(y[b]),T.attr("y",c+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(T,f)}}A(t,"byTspan");function r(a,o,l,c,u,h,f,d){const p=o.append("switch"),m=p.append("foreignObject").attr("x",l).attr("y",c).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,p,l,c,u,h,f,d),n(m,f)}A(r,"byFo");function n(a,o){for(const l in o)o.hasOwnProperty(l)&&a.attr(l,o[l])}return A(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),hi={drawRect:bP,drawText:Jm,drawLabel:q1e,drawActor:Z4t,drawBox:Q4t,drawPopup:q4t,anchorElement:J4t,drawActivation:ewt,drawLoop:twt,drawBackgroundRect:X1e,insertArrowHead:awt,insertArrowFilledHead:swt,insertSequenceNumber:owt,insertArrowCrossHead:lwt,insertDatabaseIcon:rwt,insertComputerIcon:nwt,insertClockIcon:iwt,getTextObj:K1e,getNoteRect:cwt,fixLifeLineHeights:j1e,sanitizeUrl:bf},$e={},tt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:A(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:A(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:A(function(e){this.boxes.push(e)},"addBox"),addActor:A(function(e){this.actors.push(e)},"addActor"),addLoop:A(function(e){this.loops.push(e)},"addLoop"),addMessage:A(function(e){this.messages.push(e)},"addMessage"),addNote:A(function(e){this.notes.push(e)},"addNote"),lastActor:A(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:A(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:A(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:A(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:A(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,J1e(De())},"init"),updateVal:A(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:A(function(e,t,r,n){const a=this;let o=0;function l(c){return A(function(h){o++;const f=a.sequenceItems.length-o+1;a.updateVal(h,"starty",t-f*$e.boxMargin,Math.min),a.updateVal(h,"stopy",n+f*$e.boxMargin,Math.max),a.updateVal(tt.data,"startx",e-f*$e.boxMargin,Math.min),a.updateVal(tt.data,"stopx",r+f*$e.boxMargin,Math.max),c!=="activation"&&(a.updateVal(h,"startx",e-f*$e.boxMargin,Math.min),a.updateVal(h,"stopx",r+f*$e.boxMargin,Math.max),a.updateVal(tt.data,"starty",t-f*$e.boxMargin,Math.min),a.updateVal(tt.data,"stopy",n+f*$e.boxMargin,Math.max))},"updateItemBounds")}A(l,"updateFn"),this.sequenceItems.forEach(l()),this.activations.forEach(l("activation"))},"updateBounds"),insert:A(function(e,t,r,n){const a=st.getMin(e,r),o=st.getMax(e,r),l=st.getMin(t,n),c=st.getMax(t,n);this.updateVal(tt.data,"startx",a,Math.min),this.updateVal(tt.data,"starty",l,Math.min),this.updateVal(tt.data,"stopx",o,Math.max),this.updateVal(tt.data,"stopy",c,Math.max),this.updateBounds(a,l,o,c)},"insert"),newActivation:A(function(e,t,r){const n=r.get(e.from),a=ek(e.from).length||0,o=n.x+n.width/2+(a-1)*$e.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+$e.activationWidth,stopy:void 0,actor:e.from,anchored:hi.anchorElement(t)})},"newActivation"),endActivation:A(function(e){const t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:A(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:A(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:A(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:A(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:A(function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:tt.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:A(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:A(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:A(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=st.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:A(function(){return this.verticalPos},"getVerticalPos"),getBounds:A(function(){return{bounds:this.data,models:this.models}},"getBounds")},hwt=A(async function(e,t){tt.bumpVerticalPos($e.boxMargin),t.height=$e.boxMargin,t.starty=tt.getVerticalPos();const r=Up();r.x=t.startx,r.y=t.starty,r.width=t.width||$e.width,r.class="note";const n=e.append("g"),a=hi.drawRect(n,r),o=hD();o.x=t.startx,o.y=t.starty,o.width=r.width,o.dy="1em",o.text=t.message,o.class="noteText",o.fontFamily=$e.noteFontFamily,o.fontSize=$e.noteFontSize,o.fontWeight=$e.noteFontWeight,o.anchor=$e.noteAlign,o.textMargin=$e.noteMargin,o.valign="center";const l=es(o.text)?await cS(n,o):Jm(n,o),c=Math.round(l.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,h)=>u+h));a.attr("height",c+2*$e.noteMargin),t.height+=c+2*$e.noteMargin,tt.bumpVerticalPos(c+2*$e.noteMargin),t.stopy=t.starty+c+2*$e.noteMargin,t.stopx=t.startx+r.width,tt.insert(t.startx,t.starty,t.stopx,t.stopy),tt.models.addNote(t)},"drawNote"),pp=A(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),I1=A(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),N_=A(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");async function Z1e(e,t){tt.bumpVerticalPos(10);const{startx:r,stopx:n,message:a}=t,o=st.splitBreaks(a).length,l=es(a),c=l?await Zx(a,De()):ur.calculateTextDimensions(a,pp($e));if(!l){const d=c.height/o;t.height+=d,tt.bumpVerticalPos(d)}let u,h=c.height-10;const f=c.width;if(r===n){u=tt.getVerticalPos()+h,$e.rightAngles||(h+=$e.boxMargin,u=tt.getVerticalPos()+h),h+=30;const d=st.getMax(f/2,$e.width/2);tt.insert(r-d,tt.getVerticalPos()-10+h,n+d,tt.getVerticalPos()+30+h)}else h+=$e.boxMargin,u=tt.getVerticalPos()+h,tt.insert(r,u-10,n,u);return tt.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,tt.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u}A(Z1e,"boundMessage");var fwt=A(async function(e,t,r,n){const{startx:a,stopx:o,starty:l,message:c,type:u,sequenceIndex:h,sequenceVisible:f}=t,d=ur.calculateTextDimensions(c,pp($e)),p=hD();p.x=a,p.y=l+10,p.width=o-a,p.class="messageText",p.dy="1em",p.text=c,p.fontFamily=$e.messageFontFamily,p.fontSize=$e.messageFontSize,p.fontWeight=$e.messageFontWeight,p.anchor=$e.messageAlign,p.valign="center",p.textMargin=$e.wrapPadding,p.tspan=!1,es(p.text)?await cS(e,p,{startx:a,stopx:o,starty:r}):Jm(e,p);const g=d.width;let m;a===o?$e.rightAngles?m=e.append("path").attr("d",`M  ${a},${r} H ${a+st.getMax($e.width/2,g/2)} V ${r+25} H ${a}`):m=e.append("path").attr("d","M "+a+","+r+" C "+(a+60)+","+(r-10)+" "+(a+60)+","+(r+30)+" "+a+","+(r+20)):(m=e.append("line"),m.attr("x1",a),m.attr("y1",r),m.attr("x2",o),m.attr("y2",r)),u===n.db.LINETYPE.DOTTED||u===n.db.LINETYPE.DOTTED_CROSS||u===n.db.LINETYPE.DOTTED_POINT||u===n.db.LINETYPE.DOTTED_OPEN||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";$e.arrowMarkerAbsolute&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(u===n.db.LINETYPE.SOLID||u===n.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+y+"#arrowhead)"),(u===n.db.LINETYPE.BIDIRECTIONAL_SOLID||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),(u===n.db.LINETYPE.SOLID_POINT||u===n.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+y+"#filled-head)"),(u===n.db.LINETYPE.SOLID_CROSS||u===n.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+y+"#crosshead)"),(f||$e.showSequenceNumbers)&&(m.attr("marker-start","url("+y+"#sequencenumber)"),e.append("text").attr("x",a).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))},"drawMessage"),dwt=A(function(e,t,r,n,a,o,l){let c=0,u=0,h,f=0;for(const d of n){const p=t.get(d),g=p.box;h&&h!=g&&(l||tt.models.addBox(h),u+=$e.boxMargin+h.margin),g&&g!=h&&(l||(g.x=c+u,g.y=a),u+=g.margin),p.width=p.width||$e.width,p.height=st.getMax(p.height||$e.height,$e.height),p.margin=p.margin||$e.actorMargin,f=st.getMax(f,p.height),r.get(p.name)&&(u+=p.width/2),p.x=c+u,p.starty=tt.getVerticalPos(),tt.insert(p.x,a,p.x+p.width,p.height),c+=p.width+u,p.box&&(p.box.width=c+g.margin-p.box.x),u=p.margin,h=p.box,tt.models.addActor(p)}h&&!l&&tt.models.addBox(h),tt.bumpVerticalPos(f)},"addActorRenderingData"),L_=A(async function(e,t,r,n){if(n){let a=0;tt.bumpVerticalPos($e.boxMargin*2);for(const o of r){const l=t.get(o);l.stopy||(l.stopy=tt.getVerticalPos());const c=await hi.drawActor(e,l,$e,!0);a=st.getMax(a,c)}tt.bumpVerticalPos(a+$e.boxMargin)}else for(const a of r){const o=t.get(a);await hi.drawActor(e,o,$e,!1)}},"drawActors"),Q1e=A(function(e,t,r,n){let a=0,o=0;for(const l of r){const c=t.get(l),u=gwt(c),h=hi.drawPopup(e,c,u,$e,$e.forceMenus,n);h.height>a&&(a=h.height),h.width+c.x>o&&(o=h.width+c.x)}return{maxHeight:a,maxWidth:o}},"drawActorsPopup"),J1e=A(function(e){Ui($e,e),e.fontFamily&&($e.actorFontFamily=$e.noteFontFamily=$e.messageFontFamily=e.fontFamily),e.fontSize&&($e.actorFontSize=$e.noteFontSize=$e.messageFontSize=e.fontSize),e.fontWeight&&($e.actorFontWeight=$e.noteFontWeight=$e.messageFontWeight=e.fontWeight)},"setConf"),ek=A(function(e){return tt.activations.filter(function(t){return t.actor===e})},"actorActivations"),hj=A(function(e,t){const r=t.get(e),n=ek(e),a=n.reduce(function(l,c){return st.getMin(l,c.startx)},r.x+r.width/2-1),o=n.reduce(function(l,c){return st.getMax(l,c.stopx)},r.x+r.width/2+1);return[a,o]},"activationBounds");function Wl(e,t,r,n,a){tt.bumpVerticalPos(r);let o=n;if(t.id&&t.message&&e[t.id]){const l=e[t.id].width,c=pp($e);t.message=ur.wrapLabel(`[${t.message}]`,l-2*$e.wrapPadding,c),t.width=l,t.wrap=!0;const u=ur.calculateTextDimensions(t.message,c),h=st.getMax(u.height,$e.labelBoxHeight);o=n+h,me.debug(`${h} - ${t.message}`)}a(t),tt.bumpVerticalPos(o)}A(Wl,"adjustLoopHeightForWrap");function ege(e,t,r,n,a,o,l){function c(h,f){h.x<a.get(e.from).x?(tt.insert(t.stopx-f,t.starty,t.startx,t.stopy+h.height/2+$e.noteMargin),t.stopx=t.stopx+f):(tt.insert(t.startx,t.starty,t.stopx+f,t.stopy+h.height/2+$e.noteMargin),t.stopx=t.stopx-f)}A(c,"receiverAdjustment");function u(h,f){h.x<a.get(e.to).x?(tt.insert(t.startx-f,t.starty,t.stopx,t.stopy+h.height/2+$e.noteMargin),t.startx=t.startx+f):(tt.insert(t.stopx,t.starty,t.startx+f,t.stopy+h.height/2+$e.noteMargin),t.startx=t.startx-f)}if(A(u,"senderAdjustment"),o.get(e.to)==n){const h=a.get(e.to),f=h.type=="actor"?_d/2+3:h.width/2+3;c(h,f),h.starty=r-h.height/2,tt.bumpVerticalPos(h.height/2)}else if(l.get(e.from)==n){const h=a.get(e.from);if($e.mirrorActors){const f=h.type=="actor"?_d/2:h.width/2;u(h,f)}h.stopy=r-h.height/2,tt.bumpVerticalPos(h.height/2)}else if(l.get(e.to)==n){const h=a.get(e.to);if($e.mirrorActors){const f=h.type=="actor"?_d/2+3:h.width/2+3;c(h,f)}h.stopy=r-h.height/2,tt.bumpVerticalPos(h.height/2)}}A(ege,"adjustCreatedDestroyedData");var pwt=A(async function(e,t,r,n){const{securityLevel:a,sequence:o}=De();$e=o;let l;a==="sandbox"&&(l=nt("#i"+t));const c=nt(a==="sandbox"?l.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?l.nodes()[0].contentDocument:document;tt.init(),me.debug(n.db);const h=a==="sandbox"?c.select(`[id="${t}"]`):nt(`[id="${t}"]`),f=n.db.getActors(),d=n.db.getCreatedActors(),p=n.db.getDestroyedActors(),g=n.db.getBoxes();let m=n.db.getActorKeys();const y=n.db.getMessages(),b=n.db.getDiagramTitle(),x=n.db.hasAtLeastOneBox(),T=n.db.hasAtLeastOneBoxWithTitle(),w=await tge(f,y,n);if($e.height=await rge(f,w,g),hi.insertComputerIcon(h),hi.insertDatabaseIcon(h),hi.insertClockIcon(h),x&&(tt.bumpVerticalPos($e.boxMargin),T&&tt.bumpVerticalPos(g[0].textMaxHeight)),$e.hideUnusedParticipants===!0){const D=new Set;y.forEach(B=>{D.add(B.from),D.add(B.to)}),m=m.filter(B=>D.has(B))}dwt(h,f,d,m,0,y,!1);const E=await ywt(y,f,w,n);hi.insertArrowHead(h),hi.insertArrowCrossHead(h),hi.insertArrowFilledHead(h),hi.insertSequenceNumber(h);function S(D,B){const H=tt.endActivation(D);H.starty+18>B&&(H.starty=B-6,B+=12),hi.drawActivation(h,H,B,$e,ek(D.from).length),tt.insert(H.startx,B-10,H.stopx,B)}A(S,"activeEnd");let C=1,k=1;const O=[],I=[];let _=0;for(const D of y){let B,H,U;switch(D.type){case n.db.LINETYPE.NOTE:tt.resetVerticalPos(),H=D.noteModel,await hwt(h,H);break;case n.db.LINETYPE.ACTIVE_START:tt.newActivation(D,h,f);break;case n.db.LINETYPE.ACTIVE_END:S(D,tt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Wl(E,D,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,G=>tt.newLoop(G));break;case n.db.LINETYPE.LOOP_END:B=tt.endLoop(),await hi.drawLoop(h,B,"loop",$e),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos()),tt.models.addLoop(B);break;case n.db.LINETYPE.RECT_START:Wl(E,D,$e.boxMargin,$e.boxMargin,G=>tt.newLoop(void 0,G.message));break;case n.db.LINETYPE.RECT_END:B=tt.endLoop(),I.push(B),tt.models.addLoop(B),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Wl(E,D,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,G=>tt.newLoop(G));break;case n.db.LINETYPE.OPT_END:B=tt.endLoop(),await hi.drawLoop(h,B,"opt",$e),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos()),tt.models.addLoop(B);break;case n.db.LINETYPE.ALT_START:Wl(E,D,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,G=>tt.newLoop(G));break;case n.db.LINETYPE.ALT_ELSE:Wl(E,D,$e.boxMargin+$e.boxTextMargin,$e.boxMargin,G=>tt.addSectionToLoop(G));break;case n.db.LINETYPE.ALT_END:B=tt.endLoop(),await hi.drawLoop(h,B,"alt",$e),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos()),tt.models.addLoop(B);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Wl(E,D,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,G=>tt.newLoop(G)),tt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Wl(E,D,$e.boxMargin+$e.boxTextMargin,$e.boxMargin,G=>tt.addSectionToLoop(G));break;case n.db.LINETYPE.PAR_END:B=tt.endLoop(),await hi.drawLoop(h,B,"par",$e),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos()),tt.models.addLoop(B);break;case n.db.LINETYPE.AUTONUMBER:C=D.message.start||C,k=D.message.step||k,D.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Wl(E,D,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,G=>tt.newLoop(G));break;case n.db.LINETYPE.CRITICAL_OPTION:Wl(E,D,$e.boxMargin+$e.boxTextMargin,$e.boxMargin,G=>tt.addSectionToLoop(G));break;case n.db.LINETYPE.CRITICAL_END:B=tt.endLoop(),await hi.drawLoop(h,B,"critical",$e),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos()),tt.models.addLoop(B);break;case n.db.LINETYPE.BREAK_START:Wl(E,D,$e.boxMargin,$e.boxMargin+$e.boxTextMargin,G=>tt.newLoop(G));break;case n.db.LINETYPE.BREAK_END:B=tt.endLoop(),await hi.drawLoop(h,B,"break",$e),tt.bumpVerticalPos(B.stopy-tt.getVerticalPos()),tt.models.addLoop(B);break;default:try{U=D.msgModel,U.starty=tt.getVerticalPos(),U.sequenceIndex=C,U.sequenceVisible=n.db.showSequenceNumbers();const G=await Z1e(h,U);ege(D,U,G,_,f,d,p),O.push({messageModel:U,lineStartY:G}),tt.models.addMessage(U)}catch(G){me.error("error while drawing message",G)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(D.type)&&(C=C+k),_++}me.debug("createdActors",d),me.debug("destroyedActors",p),await L_(h,f,m,!1);for(const D of O)await fwt(h,D.messageModel,D.lineStartY,n);$e.mirrorActors&&await L_(h,f,m,!0),I.forEach(D=>hi.drawBackgroundRect(h,D)),j1e(h,f,m,$e);for(const D of tt.models.boxes)D.height=tt.getVerticalPos()-D.y,tt.insert(D.x,D.y,D.x+D.width,D.height),D.startx=D.x,D.starty=D.y,D.stopx=D.startx+D.width,D.stopy=D.starty+D.height,D.stroke="rgb(0,0,0, 0.5)",hi.drawBox(h,D,$e);x&&tt.bumpVerticalPos($e.boxMargin);const R=Q1e(h,f,m,u),{bounds:M}=tt.getBounds();M.startx===void 0&&(M.startx=0),M.starty===void 0&&(M.starty=0),M.stopx===void 0&&(M.stopx=0),M.stopy===void 0&&(M.stopy=0);let $=M.stopy-M.starty;$<R.maxHeight&&($=R.maxHeight);let N=$+2*$e.diagramMarginY;$e.mirrorActors&&(N=N-$e.boxMargin+$e.bottomMarginAdj);let P=M.stopx-M.startx;P<R.maxWidth&&(P=R.maxWidth);const F=P+2*$e.diagramMarginX;b&&h.append("text").text(b).attr("x",(M.stopx-M.startx)/2-2*$e.diagramMarginX).attr("y",-25),is(h,N,F,$e.useMaxWidth);const L=b?40:0;h.attr("viewBox",M.startx-$e.diagramMarginX+" -"+($e.diagramMarginY+L)+" "+F+" "+(N+L)),me.debug("models:",tt.models)},"draw");async function tge(e,t,r){const n={};for(const a of t)if(e.get(a.to)&&e.get(a.from)){const o=e.get(a.to);if(a.placement===r.db.PLACEMENT.LEFTOF&&!o.prevActor||a.placement===r.db.PLACEMENT.RIGHTOF&&!o.nextActor)continue;const l=a.placement!==void 0,c=!l,u=l?I1($e):pp($e),h=a.wrap?ur.wrapLabel(a.message,$e.width-2*$e.wrapPadding,u):a.message,d=(es(h)?await Zx(a.message,De()):ur.calculateTextDimensions(h,u)).width+2*$e.wrapPadding;c&&a.from===o.nextActor?n[a.to]=st.getMax(n[a.to]||0,d):c&&a.from===o.prevActor?n[a.from]=st.getMax(n[a.from]||0,d):c&&a.from===a.to?(n[a.from]=st.getMax(n[a.from]||0,d/2),n[a.to]=st.getMax(n[a.to]||0,d/2)):a.placement===r.db.PLACEMENT.RIGHTOF?n[a.from]=st.getMax(n[a.from]||0,d):a.placement===r.db.PLACEMENT.LEFTOF?n[o.prevActor]=st.getMax(n[o.prevActor]||0,d):a.placement===r.db.PLACEMENT.OVER&&(o.prevActor&&(n[o.prevActor]=st.getMax(n[o.prevActor]||0,d/2)),o.nextActor&&(n[a.from]=st.getMax(n[a.from]||0,d/2)))}return me.debug("maxMessageWidthPerActor:",n),n}A(tge,"getMaxMessageWidthPerActor");var gwt=A(function(e){let t=0;const r=N_($e);for(const n in e.links){const o=ur.calculateTextDimensions(n,r).width+2*$e.wrapPadding+2*$e.boxMargin;t<o&&(t=o)}return t},"getRequiredPopupWidth");async function rge(e,t,r){let n=0;for(const o of e.keys()){const l=e.get(o);l.wrap&&(l.description=ur.wrapLabel(l.description,$e.width-2*$e.wrapPadding,N_($e)));const c=es(l.description)?await Zx(l.description,De()):ur.calculateTextDimensions(l.description,N_($e));l.width=l.wrap?$e.width:st.getMax($e.width,c.width+2*$e.wrapPadding),l.height=l.wrap?st.getMax(c.height,$e.height):$e.height,n=st.getMax(n,l.height)}for(const o in t){const l=e.get(o);if(!l)continue;const c=e.get(l.nextActor);if(!c){const d=t[o]+$e.actorMargin-l.width/2;l.margin=st.getMax(d,$e.actorMargin);continue}const h=t[o]+$e.actorMargin-l.width/2-c.width/2;l.margin=st.getMax(h,$e.actorMargin)}let a=0;return r.forEach(o=>{const l=pp($e);let c=o.actorKeys.reduce((f,d)=>f+=e.get(d).width+(e.get(d).margin||0),0);c-=2*$e.boxTextMargin,o.wrap&&(o.name=ur.wrapLabel(o.name,c-2*$e.wrapPadding,l));const u=ur.calculateTextDimensions(o.name,l);a=st.getMax(u.height,a);const h=st.getMax(c,u.width+2*$e.wrapPadding);if(o.margin=$e.boxTextMargin,c<h){const f=(h-c)/2;o.margin+=f}}),r.forEach(o=>o.textMaxHeight=a),st.getMax(n,$e.height)}A(rge,"calculateActorMargins");var mwt=A(async function(e,t,r){const n=t.get(e.from),a=t.get(e.to),o=n.x,l=a.x,c=e.wrap&&e.message;let u=es(e.message)?await Zx(e.message,De()):ur.calculateTextDimensions(c?ur.wrapLabel(e.message,$e.width,I1($e)):e.message,I1($e));const h={width:c?$e.width:st.getMax($e.width,u.width+2*$e.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=c?st.getMax($e.width,u.width):st.getMax(n.width/2+a.width/2,u.width+2*$e.noteMargin),h.startx=o+(n.width+$e.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=c?st.getMax($e.width,u.width+2*$e.noteMargin):st.getMax(n.width/2+a.width/2,u.width+2*$e.noteMargin),h.startx=o-h.width+(n.width-$e.actorMargin)/2):e.to===e.from?(u=ur.calculateTextDimensions(c?ur.wrapLabel(e.message,st.getMax($e.width,n.width),I1($e)):e.message,I1($e)),h.width=c?st.getMax($e.width,n.width):st.getMax(n.width,$e.width,u.width+2*$e.noteMargin),h.startx=o+(n.width-h.width)/2):(h.width=Math.abs(o+n.width/2-(l+a.width/2))+$e.actorMargin,h.startx=o<l?o+n.width/2-$e.actorMargin/2:l+a.width/2-$e.actorMargin/2),c&&(h.message=ur.wrapLabel(e.message,h.width-2*$e.wrapPadding,I1($e))),me.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h},"buildNoteModel"),vwt=A(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};const[n,a]=hj(e.from,t),[o,l]=hj(e.to,t),c=n<=o;let u=c?a:n,h=c?o:l;const f=Math.abs(o-l)>2,d=A(y=>c?-y:y,"adjustValue");e.from===e.to?h=u:(e.activate&&!f&&(h+=d($e.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=d(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(u-=d(3)));const p=[n,a,o,l],g=Math.abs(u-h);e.wrap&&e.message&&(e.message=ur.wrapLabel(e.message,st.getMax(g+2*$e.wrapPadding,$e.width),pp($e)));const m=ur.calculateTextDimensions(e.message,pp($e));return{width:st.getMax(e.wrap?0:m.width+2*$e.wrapPadding,g+2*$e.wrapPadding,$e.width),height:0,startx:u,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,p),toBounds:Math.max.apply(null,p)}},"buildMessageModel"),ywt=A(async function(e,t,r,n){const a={},o=[];let l,c,u;for(const h of e){switch(h.id=ur.random({length:10}),h.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:o.push({id:h.id,msg:h.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:h.message&&(l=o.pop(),a[l.id]=l,a[h.id]=l,o.push(l));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:l=o.pop(),a[l.id]=l;break;case n.db.LINETYPE.ACTIVE_START:{const d=t.get(h.from?h.from:h.to.actor),p=ek(h.from?h.from:h.to.actor).length,g=d.x+d.width/2+(p-1)*$e.activationWidth/2,m={startx:g,stopx:g+$e.activationWidth,actor:h.from,enabled:!0};tt.activations.push(m)}break;case n.db.LINETYPE.ACTIVE_END:{const d=tt.activations.map(p=>p.actor).lastIndexOf(h.from);tt.activations.splice(d,1).splice(0,1)}break}h.placement!==void 0?(c=await mwt(h,t,n),h.noteModel=c,o.forEach(d=>{l=d,l.from=st.getMin(l.from,c.startx),l.to=st.getMax(l.to,c.startx+c.width),l.width=st.getMax(l.width,Math.abs(l.from-l.to))-$e.labelBoxWidth})):(u=vwt(h,t,n),h.msgModel=u,u.startx&&u.stopx&&o.length>0&&o.forEach(d=>{if(l=d,u.startx===u.stopx){const p=t.get(h.from),g=t.get(h.to);l.from=st.getMin(p.x-u.width/2,p.x-p.width/2,l.from),l.to=st.getMax(g.x+u.width/2,g.x+p.width/2,l.to),l.width=st.getMax(l.width,Math.abs(l.to-l.from))-$e.labelBoxWidth}else l.from=st.getMin(u.startx,l.from),l.to=st.getMax(u.stopx,l.to),l.width=st.getMax(l.width,u.width)-$e.labelBoxWidth}))}return tt.activations=[],me.debug("Loop type widths:",a),a},"calculateLoopBounds"),bwt={bounds:tt,drawActors:L_,drawActorsPopup:Q1e,setConf:J1e,draw:pwt},xwt={parser:T4t,db:cj,renderer:bwt,styles:Y4t,init:A(({wrap:e})=>{cj.setWrap(e)},"init")};const Twt=Object.freeze(Object.defineProperty({__proto__:null,diagram:xwt},Symbol.toStringTag,{value:"Module"}));var M_=function(){var e=A(function(Le,ae,q,ge){for(q=q||{},ge=Le.length;ge--;q[Le[ge]]=ae);return q},"o"),t=[1,18],r=[1,19],n=[1,20],a=[1,41],o=[1,42],l=[1,26],c=[1,24],u=[1,25],h=[1,32],f=[1,33],d=[1,34],p=[1,45],g=[1,35],m=[1,36],y=[1,37],b=[1,38],x=[1,27],T=[1,28],w=[1,29],E=[1,30],S=[1,31],C=[1,44],k=[1,46],O=[1,43],I=[1,47],_=[1,9],R=[1,8,9],M=[1,58],$=[1,59],N=[1,60],P=[1,61],F=[1,62],L=[1,63],D=[1,64],B=[1,8,9,41],H=[1,76],U=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],G=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],W=[13,58,84,99,101,102],ee=[13,58,71,72,84,99,101,102],ce=[13,58,66,67,68,69,70,84,99,101,102],Z=[1,98],J=[1,115],oe=[1,107],Y=[1,113],X=[1,108],K=[1,109],z=[1,110],j=[1,111],te=[1,112],re=[1,114],Se=[22,58,59,80,84,85,86,87,88,89],ue=[1,8,9,39,41,44],se=[1,8,9,22],fe=[1,143],ye=[1,8,9,59],he=[1,8,9,22,58,59,80,84,85,86,87,88,89],Ae={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:A(function(ae,q,ge,le,Te,ne,Re){var ie=ne.length-1;switch(Te){case 8:this.$=ne[ie-1];break;case 9:case 12:case 14:this.$=ne[ie];break;case 10:case 13:this.$=ne[ie-2]+"."+ne[ie];break;case 11:case 15:this.$=ne[ie-1]+ne[ie];break;case 16:case 17:this.$=ne[ie-1]+"~"+ne[ie]+"~";break;case 18:le.addRelation(ne[ie]);break;case 19:ne[ie-1].title=le.cleanupLabel(ne[ie]),le.addRelation(ne[ie-1]);break;case 30:this.$=ne[ie].trim(),le.setAccTitle(this.$);break;case 31:case 32:this.$=ne[ie].trim(),le.setAccDescription(this.$);break;case 33:le.addClassesToNamespace(ne[ie-3],ne[ie-1]);break;case 34:le.addClassesToNamespace(ne[ie-4],ne[ie-1]);break;case 35:this.$=ne[ie],le.addNamespace(ne[ie]);break;case 36:this.$=[ne[ie]];break;case 37:this.$=[ne[ie-1]];break;case 38:ne[ie].unshift(ne[ie-2]),this.$=ne[ie];break;case 40:le.setCssClass(ne[ie-2],ne[ie]);break;case 41:le.addMembers(ne[ie-3],ne[ie-1]);break;case 42:le.setCssClass(ne[ie-5],ne[ie-3]),le.addMembers(ne[ie-5],ne[ie-1]);break;case 43:this.$=ne[ie],le.addClass(ne[ie]);break;case 44:this.$=ne[ie-1],le.addClass(ne[ie-1]),le.setClassLabel(ne[ie-1],ne[ie]);break;case 45:le.addAnnotation(ne[ie],ne[ie-2]);break;case 46:case 59:this.$=[ne[ie]];break;case 47:ne[ie].push(ne[ie-1]),this.$=ne[ie];break;case 48:break;case 49:le.addMember(ne[ie-1],le.cleanupLabel(ne[ie]));break;case 50:break;case 51:break;case 52:this.$={id1:ne[ie-2],id2:ne[ie],relation:ne[ie-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:ne[ie-3],id2:ne[ie],relation:ne[ie-1],relationTitle1:ne[ie-2],relationTitle2:"none"};break;case 54:this.$={id1:ne[ie-3],id2:ne[ie],relation:ne[ie-2],relationTitle1:"none",relationTitle2:ne[ie-1]};break;case 55:this.$={id1:ne[ie-4],id2:ne[ie],relation:ne[ie-2],relationTitle1:ne[ie-3],relationTitle2:ne[ie-1]};break;case 56:le.addNote(ne[ie],ne[ie-1]);break;case 57:le.addNote(ne[ie]);break;case 58:this.$=ne[ie-2],le.defineClass(ne[ie-1],ne[ie]);break;case 60:this.$=ne[ie-2].concat([ne[ie]]);break;case 61:le.setDirection("TB");break;case 62:le.setDirection("BT");break;case 63:le.setDirection("RL");break;case 64:le.setDirection("LR");break;case 65:this.$={type1:ne[ie-2],type2:ne[ie],lineType:ne[ie-1]};break;case 66:this.$={type1:"none",type2:ne[ie],lineType:ne[ie-1]};break;case 67:this.$={type1:ne[ie-1],type2:"none",lineType:ne[ie]};break;case 68:this.$={type1:"none",type2:"none",lineType:ne[ie]};break;case 69:this.$=le.relationType.AGGREGATION;break;case 70:this.$=le.relationType.EXTENSION;break;case 71:this.$=le.relationType.COMPOSITION;break;case 72:this.$=le.relationType.DEPENDENCY;break;case 73:this.$=le.relationType.LOLLIPOP;break;case 74:this.$=le.lineType.LINE;break;case 75:this.$=le.lineType.DOTTED_LINE;break;case 76:case 82:this.$=ne[ie-2],le.setClickEvent(ne[ie-1],ne[ie]);break;case 77:case 83:this.$=ne[ie-3],le.setClickEvent(ne[ie-2],ne[ie-1]),le.setTooltip(ne[ie-2],ne[ie]);break;case 78:this.$=ne[ie-2],le.setLink(ne[ie-1],ne[ie]);break;case 79:this.$=ne[ie-3],le.setLink(ne[ie-2],ne[ie-1],ne[ie]);break;case 80:this.$=ne[ie-3],le.setLink(ne[ie-2],ne[ie-1]),le.setTooltip(ne[ie-2],ne[ie]);break;case 81:this.$=ne[ie-4],le.setLink(ne[ie-3],ne[ie-2],ne[ie]),le.setTooltip(ne[ie-3],ne[ie-1]);break;case 84:this.$=ne[ie-3],le.setClickEvent(ne[ie-2],ne[ie-1],ne[ie]);break;case 85:this.$=ne[ie-4],le.setClickEvent(ne[ie-3],ne[ie-2],ne[ie-1]),le.setTooltip(ne[ie-3],ne[ie]);break;case 86:this.$=ne[ie-3],le.setLink(ne[ie-2],ne[ie]);break;case 87:this.$=ne[ie-4],le.setLink(ne[ie-3],ne[ie-1],ne[ie]);break;case 88:this.$=ne[ie-4],le.setLink(ne[ie-3],ne[ie-1]),le.setTooltip(ne[ie-3],ne[ie]);break;case 89:this.$=ne[ie-5],le.setLink(ne[ie-4],ne[ie-2],ne[ie]),le.setTooltip(ne[ie-4],ne[ie-1]);break;case 90:this.$=ne[ie-2],le.setCssStyle(ne[ie-1],ne[ie]);break;case 91:le.setCssClass(ne[ie-1],ne[ie]);break;case 92:this.$=[ne[ie]];break;case 93:ne[ie-2].push(ne[ie]),this.$=ne[ie-2];break;case 95:this.$=ne[ie-1]+ne[ie];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:a,43:23,46:o,47:l,49:c,50:u,52:h,54:f,55:d,58:p,60:g,61:m,62:y,63:b,73:x,74:T,76:w,80:E,81:S,84:C,99:k,101:O,102:I},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(_,[2,5],{8:[1,48]}),{8:[1,49]},e(R,[2,18],{22:[1,50]}),e(R,[2,20]),e(R,[2,21]),e(R,[2,22]),e(R,[2,23]),e(R,[2,24]),e(R,[2,25]),e(R,[2,26]),e(R,[2,27]),e(R,[2,28]),e(R,[2,29]),{34:[1,51]},{36:[1,52]},e(R,[2,32]),e(R,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:M,67:$,68:N,69:P,70:F,71:L,72:D}),{39:[1,65]},e(B,[2,39],{39:[1,67],44:[1,66]}),e(R,[2,50]),e(R,[2,51]),{16:68,58:p,84:C,99:k,101:O},{16:39,18:69,19:40,58:p,84:C,99:k,101:O,102:I},{16:39,18:70,19:40,58:p,84:C,99:k,101:O,102:I},{16:39,18:71,19:40,58:p,84:C,99:k,101:O,102:I},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:p,84:C,99:k,101:O,102:I},{13:H,53:75},{56:77,58:[1,78]},e(R,[2,61]),e(R,[2,62]),e(R,[2,63]),e(R,[2,64]),e(U,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:p,84:C,99:k,101:O,102:I}),e(U,[2,14],{20:[1,82]}),{15:83,16:84,58:p,84:C,99:k,101:O},{16:39,18:85,19:40,58:p,84:C,99:k,101:O,102:I},e(G,[2,118]),e(G,[2,119]),e(G,[2,120]),e(G,[2,121]),e([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),e(_,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:t,35:r,37:n,42:a,46:o,47:l,49:c,50:u,52:h,54:f,55:d,58:p,60:g,61:m,62:y,63:b,73:x,74:T,76:w,80:E,81:S,84:C,99:k,101:O,102:I}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:a,43:23,46:o,47:l,49:c,50:u,52:h,54:f,55:d,58:p,60:g,61:m,62:y,63:b,73:x,74:T,76:w,80:E,81:S,84:C,99:k,101:O,102:I},e(R,[2,19]),e(R,[2,30]),e(R,[2,31]),{13:[1,89],16:39,18:88,19:40,58:p,84:C,99:k,101:O,102:I},{51:90,64:56,65:57,66:M,67:$,68:N,69:P,70:F,71:L,72:D},e(R,[2,49]),{65:91,71:L,72:D},e(W,[2,68],{64:92,66:M,67:$,68:N,69:P,70:F}),e(ee,[2,69]),e(ee,[2,70]),e(ee,[2,71]),e(ee,[2,72]),e(ee,[2,73]),e(ce,[2,74]),e(ce,[2,75]),{8:[1,94],24:95,40:93,43:23,46:o},{16:96,58:p,84:C,99:k,101:O},{45:97,49:Z},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:J,57:104,58:oe,80:Y,82:105,83:106,84:X,85:K,86:z,87:j,88:te,89:re},{58:[1,116]},{13:H,53:117},e(R,[2,57]),e(R,[2,123]),{22:J,57:118,58:oe,59:[1,119],80:Y,82:105,83:106,84:X,85:K,86:z,87:j,88:te,89:re},e(Se,[2,59]),{16:39,18:120,19:40,58:p,84:C,99:k,101:O,102:I},e(U,[2,15]),e(U,[2,16]),e(U,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:p,84:C,99:k,101:O},e(ue,[2,43],{11:123,12:[1,124]}),e(_,[2,7]),{9:[1,125]},e(se,[2,52]),{16:39,18:126,19:40,58:p,84:C,99:k,101:O,102:I},{13:[1,128],16:39,18:127,19:40,58:p,84:C,99:k,101:O,102:I},e(W,[2,67],{64:129,66:M,67:$,68:N,69:P,70:F}),e(W,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:o},{8:[1,132],41:[2,36]},e(B,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:Z},{16:39,18:136,19:40,58:p,84:C,99:k,101:O,102:I},e(R,[2,76],{13:[1,137]}),e(R,[2,78],{13:[1,139],75:[1,138]}),e(R,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},e(R,[2,90],{59:fe}),e(ye,[2,92],{83:144,22:J,58:oe,80:Y,84:X,85:K,86:z,87:j,88:te,89:re}),e(he,[2,94]),e(he,[2,96]),e(he,[2,97]),e(he,[2,98]),e(he,[2,99]),e(he,[2,100]),e(he,[2,101]),e(he,[2,102]),e(he,[2,103]),e(he,[2,104]),e(R,[2,91]),e(R,[2,56]),e(R,[2,58],{59:fe}),{58:[1,145]},e(U,[2,13]),{15:146,16:84,58:p,84:C,99:k,101:O},{39:[2,11]},e(ue,[2,44]),{13:[1,147]},{1:[2,4]},e(se,[2,54]),e(se,[2,53]),{16:39,18:148,19:40,58:p,84:C,99:k,101:O,102:I},e(W,[2,65]),e(R,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:o},{45:151,49:Z},e(B,[2,41]),{41:[2,47]},e(R,[2,45]),e(R,[2,77]),e(R,[2,79]),e(R,[2,80],{75:[1,152]}),e(R,[2,83]),e(R,[2,84],{13:[1,153]}),e(R,[2,86],{13:[1,155],75:[1,154]}),{22:J,58:oe,80:Y,82:156,83:106,84:X,85:K,86:z,87:j,88:te,89:re},e(he,[2,95]),e(Se,[2,60]),{39:[2,10]},{14:[1,157]},e(se,[2,55]),e(R,[2,34]),{41:[2,38]},{41:[1,158]},e(R,[2,81]),e(R,[2,85]),e(R,[2,87]),e(R,[2,88],{75:[1,159]}),e(ye,[2,93],{83:144,22:J,58:oe,80:Y,84:X,85:K,86:z,87:j,88:te,89:re}),e(ue,[2,8]),e(B,[2,42]),e(R,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:A(function(ae,q){if(q.recoverable)this.trace(ae);else{var ge=new Error(ae);throw ge.hash=q,ge}},"parseError"),parse:A(function(ae){var q=this,ge=[0],le=[],Te=[null],ne=[],Re=this.table,ie="",pe=0,xe=0,ve=2,Ee=1,ke=ne.slice.call(arguments,1),Pe=Object.create(this.lexer),Oe={yy:{}};for(var Ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ye)&&(Oe.yy[Ye]=this.yy[Ye]);Pe.setInput(ae,Oe.yy),Oe.yy.lexer=Pe,Oe.yy.parser=this,typeof Pe.yylloc>"u"&&(Pe.yylloc={});var Je=Pe.yylloc;ne.push(Je);var Ct=Pe.options&&Pe.options.ranges;typeof Oe.yy.parseError=="function"?this.parseError=Oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function dt(vt){ge.length=ge.length-2*vt,Te.length=Te.length-vt,ne.length=ne.length-vt}A(dt,"popStack");function ct(){var vt;return vt=le.pop()||Pe.lex()||Ee,typeof vt!="number"&&(vt instanceof Array&&(le=vt,vt=le.pop()),vt=q.symbols_[vt]||vt),vt}A(ct,"lex");for(var qe,je,ht,Ke,it={},Pt,at,Qe,pt;;){if(je=ge[ge.length-1],this.defaultActions[je]?ht=this.defaultActions[je]:((qe===null||typeof qe>"u")&&(qe=ct()),ht=Re[je]&&Re[je][qe]),typeof ht>"u"||!ht.length||!ht[0]){var Ot="";pt=[];for(Pt in Re[je])this.terminals_[Pt]&&Pt>ve&&pt.push("'"+this.terminals_[Pt]+"'");Pe.showPosition?Ot="Parse error on line "+(pe+1)+`:
`+Pe.showPosition()+`
Expecting `+pt.join(", ")+", got '"+(this.terminals_[qe]||qe)+"'":Ot="Parse error on line "+(pe+1)+": Unexpected "+(qe==Ee?"end of input":"'"+(this.terminals_[qe]||qe)+"'"),this.parseError(Ot,{text:Pe.match,token:this.terminals_[qe]||qe,line:Pe.yylineno,loc:Je,expected:pt})}if(ht[0]instanceof Array&&ht.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+qe);switch(ht[0]){case 1:ge.push(qe),Te.push(Pe.yytext),ne.push(Pe.yylloc),ge.push(ht[1]),qe=null,xe=Pe.yyleng,ie=Pe.yytext,pe=Pe.yylineno,Je=Pe.yylloc;break;case 2:if(at=this.productions_[ht[1]][1],it.$=Te[Te.length-at],it._$={first_line:ne[ne.length-(at||1)].first_line,last_line:ne[ne.length-1].last_line,first_column:ne[ne.length-(at||1)].first_column,last_column:ne[ne.length-1].last_column},Ct&&(it._$.range=[ne[ne.length-(at||1)].range[0],ne[ne.length-1].range[1]]),Ke=this.performAction.apply(it,[ie,xe,pe,Oe.yy,ht[1],Te,ne].concat(ke)),typeof Ke<"u")return Ke;at&&(ge=ge.slice(0,-1*at*2),Te=Te.slice(0,-1*at),ne=ne.slice(0,-1*at)),ge.push(this.productions_[ht[1]][0]),Te.push(it.$),ne.push(it._$),Qe=Re[ge[ge.length-2]][ge[ge.length-1]],ge.push(Qe);break;case 3:return!0}}return!0},"parse")},Ce=function(){var Le={EOF:1,parseError:A(function(q,ge){if(this.yy.parser)this.yy.parser.parseError(q,ge);else throw new Error(q)},"parseError"),setInput:A(function(ae,q){return this.yy=q||this.yy||{},this._input=ae,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var ae=this._input[0];this.yytext+=ae,this.yyleng++,this.offset++,this.match+=ae,this.matched+=ae;var q=ae.match(/(?:\r\n?|\n).*/g);return q?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ae},"input"),unput:A(function(ae){var q=ae.length,ge=ae.split(/(?:\r\n?|\n)/g);this._input=ae+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-q),this.offset-=q;var le=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ge.length-1&&(this.yylineno-=ge.length-1);var Te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ge?(ge.length===le.length?this.yylloc.first_column:0)+le[le.length-ge.length].length-ge[0].length:this.yylloc.first_column-q},this.options.ranges&&(this.yylloc.range=[Te[0],Te[0]+this.yyleng-q]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(ae){this.unput(this.match.slice(ae))},"less"),pastInput:A(function(){var ae=this.matched.substr(0,this.matched.length-this.match.length);return(ae.length>20?"...":"")+ae.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var ae=this.match;return ae.length<20&&(ae+=this._input.substr(0,20-ae.length)),(ae.substr(0,20)+(ae.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var ae=this.pastInput(),q=new Array(ae.length+1).join("-");return ae+this.upcomingInput()+`
`+q+"^"},"showPosition"),test_match:A(function(ae,q){var ge,le,Te;if(this.options.backtrack_lexer&&(Te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Te.yylloc.range=this.yylloc.range.slice(0))),le=ae[0].match(/(?:\r\n?|\n).*/g),le&&(this.yylineno+=le.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:le?le[le.length-1].length-le[le.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ae[0].length},this.yytext+=ae[0],this.match+=ae[0],this.matches=ae,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ae[0].length),this.matched+=ae[0],ge=this.performAction.call(this,this.yy,this,q,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ge)return ge;if(this._backtrack){for(var ne in Te)this[ne]=Te[ne];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ae,q,ge,le;this._more||(this.yytext="",this.match="");for(var Te=this._currentRules(),ne=0;ne<Te.length;ne++)if(ge=this._input.match(this.rules[Te[ne]]),ge&&(!q||ge[0].length>q[0].length)){if(q=ge,le=ne,this.options.backtrack_lexer){if(ae=this.test_match(ge,Te[ne]),ae!==!1)return ae;if(this._backtrack){q=!1;continue}else return!1}else if(!this.options.flex)break}return q?(ae=this.test_match(q,Te[le]),ae!==!1?ae:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var q=this.next();return q||this.lex()},"lex"),begin:A(function(q){this.conditionStack.push(q)},"begin"),popState:A(function(){var q=this.conditionStack.length-1;return q>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(q){return q=this.conditionStack.length-1-Math.abs(q||0),q>=0?this.conditionStack[q]:"INITIAL"},"topState"),pushState:A(function(q){this.begin(q)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:A(function(q,ge,le,Te){switch(le){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return Le}();Ae.lexer=Ce;function Ie(){this.yy={}}return A(Ie,"Parser"),Ie.prototype=Ae,Ae.Parser=Ie,new Ie}();M_.parser=M_;var nge=M_,fj=["#","+","~","-",""],lm,dj=(lm=class{constructor(t,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";const n=sn(t,De());this.parseMember(n)}getDisplayDetails(){let t=this.visibility+rd(this.id);this.memberType==="method"&&(t+=`(${rd(this.parameters.trim())})`,this.returnType&&(t+=" : "+rd(this.returnType))),t=t.trim();const r=this.parseClassifier();return{displayText:t,cssStyle:r}}parseMember(t){let r="";if(this.memberType==="method"){const o=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(t);if(o){const l=o[1]?o[1].trim():"";if(fj.includes(l)&&(this.visibility=l),this.id=o[2],this.parameters=o[3]?o[3].trim():"",r=o[4]?o[4].trim():"",this.returnType=o[5]?o[5].trim():"",r===""){const c=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(c)&&(r=c,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const a=t.length,o=t.substring(0,1),l=t.substring(a-1);fj.includes(o)&&(this.visibility=o),/[$*]/.exec(l)&&(r=l),this.id=t.substring(this.visibility===""?0:1,r===""?a:a-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const n=`${this.visibility?"\\"+this.visibility:""}${rd(this.id)}${this.memberType==="method"?`(${rd(this.parameters)})${this.returnType?" : "+rd(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},A(lm,"ClassMember"),lm),tk="classId-",rk=[],yn=new Map,pj=new Map,hx=[],ev=[],gj=0,bc=new Map,D_=0,fx=[],gp=A(e=>st.sanitizeText(e,De()),"sanitizeText"),mp=A(function(e){const t=st.sanitizeText(e,De());let r="",n=t;if(t.indexOf("~")>0){const a=t.split("~");n=gp(a[0]),r=gp(a[1])}return{className:n,type:r}},"splitClassNameAndType"),wwt=A(function(e,t){const r=st.sanitizeText(e,De());t&&(t=gp(t));const{className:n}=mp(r);yn.get(n).label=t,yn.get(n).text=`${t}${yn.get(n).type?`<${yn.get(n).type}>`:""}`},"setClassLabel"),G1=A(function(e){const t=st.sanitizeText(e,De()),{className:r,type:n}=mp(t);if(yn.has(r))return;const a=st.sanitizeText(r,De());yn.set(a,{id:a,type:n,label:a,text:`${a}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:tk+a+"-"+gj}),gj++},"addClass"),mj=A(function(e,t){const r={id:`interface${ev.length}`,label:e,classId:t};ev.push(r)},"addInterface"),ige=A(function(e){const t=st.sanitizeText(e,De());if(yn.has(t))return yn.get(t).domId;throw new Error("Class not found: "+t)},"lookUpDomId"),Ewt=A(function(){rk=[],yn=new Map,hx=[],ev=[],fx=[],fx.push(sge),bc=new Map,D_=0,wP="TB",ca()},"clear"),Swt=A(function(e){return yn.get(e)},"getClass"),Awt=A(function(){return yn},"getClasses"),kwt=A(function(){return rk},"getRelations"),Cwt=A(function(){return hx},"getNotes"),Iwt=A(function(e){me.debug("Adding relation: "+JSON.stringify(e));const t=[p0.LOLLIPOP,p0.AGGREGATION,p0.COMPOSITION,p0.DEPENDENCY,p0.EXTENSION];e.relation.type1===p0.LOLLIPOP&&!t.includes(e.relation.type2)?(G1(e.id2),mj(e.id1,e.id2),e.id1=`interface${ev.length-1}`):e.relation.type2===p0.LOLLIPOP&&!t.includes(e.relation.type1)?(G1(e.id1),mj(e.id2,e.id1),e.id2=`interface${ev.length-1}`):(G1(e.id1),G1(e.id2)),e.id1=mp(e.id1).className,e.id2=mp(e.id2).className,e.relationTitle1=st.sanitizeText(e.relationTitle1.trim(),De()),e.relationTitle2=st.sanitizeText(e.relationTitle2.trim(),De()),rk.push(e)},"addRelation"),Rwt=A(function(e,t){const r=mp(e).className;yn.get(r).annotations.push(t)},"addAnnotation"),age=A(function(e,t){G1(e);const r=mp(e).className,n=yn.get(r);if(typeof t=="string"){const a=t.trim();a.startsWith("<<")&&a.endsWith(">>")?n.annotations.push(gp(a.substring(2,a.length-2))):a.indexOf(")")>0?n.methods.push(new dj(a,"method")):a&&n.members.push(new dj(a,"attribute"))}},"addMember"),Owt=A(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>age(e,r)))},"addMembers"),_wt=A(function(e,t){const r={id:`note${hx.length}`,class:t,text:e};hx.push(r)},"addNote"),Nwt=A(function(e){return e.startsWith(":")&&(e=e.substring(1)),gp(e.trim())},"cleanupLabel"),TP=A(function(e,t){e.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=tk+n);const a=yn.get(n);a&&(a.cssClasses+=" "+t)})},"setCssClass"),Lwt=A(function(e,t){for(const r of e){let n=pj.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},pj.set(r,n)),t&&t.forEach(function(a){if(/color/.exec(a)){const o=a.replace("fill","bgFill");n.textStyles.push(o)}n.styles.push(a)}),yn.forEach(a=>{a.cssClasses.includes(r)&&a.styles.push(...t.flatMap(o=>o.split(",")))})}},"defineClass"),Mwt=A(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(yn.get(r).tooltip=gp(t))})},"setTooltip"),Dwt=A(function(e,t){return t&&bc.has(t)?bc.get(t).classes.get(e).tooltip:yn.get(e).tooltip},"getTooltip"),Pwt=A(function(e,t,r){const n=De();e.split(",").forEach(function(a){let o=a;/\d/.exec(a[0])&&(o=tk+o);const l=yn.get(o);l&&(l.link=ur.formatUrl(t,n),n.securityLevel==="sandbox"?l.linkTarget="_top":typeof r=="string"?l.linkTarget=gp(r):l.linkTarget="_blank")}),TP(e,"clickable")},"setLink"),Fwt=A(function(e,t,r){e.split(",").forEach(function(n){Bwt(n,t,r),yn.get(n).haveCallback=!0}),TP(e,"clickable")},"setClickEvent"),Bwt=A(function(e,t,r){const n=st.sanitizeText(e,De());if(De().securityLevel!=="loose"||t===void 0)return;const o=n;if(yn.has(o)){const l=ige(o);let c=[];if(typeof r=="string"){c=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let u=0;u<c.length;u++){let h=c[u].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),c[u]=h}}c.length===0&&c.push(l),fx.push(function(){const u=document.querySelector(`[id="${l}"]`);u!==null&&u.addEventListener("click",function(){ur.runFunc(t,...c)},!1)})}},"setClickFunc"),$wt=A(function(e){fx.forEach(function(t){t(e)})},"bindFunctions"),Hwt={LINE:0,DOTTED_LINE:1},p0={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},sge=A(function(e){let t=nt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=nt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),nt(e).select("svg").selectAll("g.node").on("mouseover",function(){const a=nt(this);if(a.attr("title")===null)return;const l=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(a.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),nt(this).classed("hover",!1)})},"setupToolTips");fx.push(sge);var wP="TB",oge=A(()=>wP,"getDirection"),Uwt=A(e=>{wP=e},"setDirection"),Wwt=A(function(e){bc.has(e)||(bc.set(e,{id:e,classes:new Map,children:{},domId:tk+e+"-"+D_}),D_++)},"addNamespace"),zwt=A(function(e){return bc.get(e)},"getNamespace"),Gwt=A(function(){return bc},"getNamespaces"),Ywt=A(function(e,t){if(bc.has(e))for(const r of t){const{className:n}=mp(r);yn.get(n).parent=e,bc.get(e).classes.set(n,yn.get(n))}},"addClassesToNamespace"),Vwt=A(function(e,t){const r=yn.get(e);if(!(!t||!r))for(const n of t)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle");function P_(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}A(P_,"getArrowMarker");var qwt=A(()=>{var a;const e=[],t=[],r=De();for(const o of bc.keys()){const l=bc.get(o);if(l){const c={id:l.id,label:l.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(c)}}for(const o of yn.keys()){const l=yn.get(o);if(l){const c=l;c.parentId=l.parent,c.look=r.look,e.push(c)}}let n=0;for(const o of hx){n++;const l={id:o.id,label:o.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(l);const c=((a=yn.get(o.class))==null?void 0:a.id)??"";if(c){const u={id:`edgeNote${n}`,start:o.id,end:c,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(u)}}for(const o of ev){const l={id:o.id,label:o.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(l)}n=0;for(const o of rk){n++;const l={id:Mse(o.id1,o.id2,{prefix:"id",counter:n}),start:o.id1,end:o.id2,type:"normal",label:o.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:P_(o.relation.type1),arrowTypeEnd:P_(o.relation.type2),startLabelRight:o.relationTitle1==="none"?"":o.relationTitle1,endLabelLeft:o.relationTitle2==="none"?"":o.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:o.style||"",pattern:o.relation.lineType==1?"dashed":"solid",look:r.look};t.push(l)}return{nodes:e,edges:t,other:{},config:r,direction:oge()}},"getData"),uS={setAccTitle:ua,getAccTitle:Ia,getAccDescription:Oa,setAccDescription:Ra,getConfig:A(()=>De().class,"getConfig"),addClass:G1,bindFunctions:$wt,clear:Ewt,getClass:Swt,getClasses:Awt,getNotes:Cwt,addAnnotation:Rwt,addNote:_wt,getRelations:kwt,addRelation:Iwt,getDirection:oge,setDirection:Uwt,addMember:age,addMembers:Owt,cleanupLabel:Nwt,lineType:Hwt,relationType:p0,setClickEvent:Fwt,setCssClass:TP,defineClass:Lwt,setLink:Pwt,getTooltip:Dwt,setTooltip:Mwt,lookUpDomId:ige,setDiagramTitle:Ns,getDiagramTitle:_a,setClassLabel:wwt,addNamespace:Wwt,addClassesToNamespace:Ywt,getNamespace:zwt,getNamespaces:Gwt,setCssStyle:Vwt,getData:qwt},jwt=A(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),lge=jwt,Xwt=A((e,t="TB")=>{if(!e.doc)return t;let r=t;for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),Kwt=A(function(e,t){return t.db.getClasses()},"getClasses"),Zwt=A(async function(e,t,r,n){me.info("REF0:"),me.info("Drawing class diagram (v3)",t);const{securityLevel:a,state:o,layout:l}=De(),c=n.db.getData(),u=mD(t,a);c.type=n.type,c.layoutAlgorithm=Dle(l),c.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,c.rankSpacing=(o==null?void 0:o.rankSpacing)||50,c.markers=["aggregation","extension","composition","dependency","lollipop"],c.diagramId=t,await JL(c,u);const h=8;ur.insertTitle(u,"classDiagramTitleText",(o==null?void 0:o.titleTopMargin)??25,n.db.getDiagramTitle()),vD(u,h,"classDiagram",(o==null?void 0:o.useMaxWidth)??!0)},"draw"),cge={getClasses:Kwt,draw:Zwt,getDir:Xwt},Qwt={parser:nge,db:uS,renderer:cge,styles:lge,init:A(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,uS.clear()},"init")};const Jwt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Qwt},Symbol.toStringTag,{value:"Module"}));var e5t={parser:nge,db:uS,renderer:cge,styles:lge,init:A(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,uS.clear()},"init")};const t5t=Object.freeze(Object.defineProperty({__proto__:null,diagram:e5t},Symbol.toStringTag,{value:"Module"}));var F_=function(){var e=A(function(D,B,H,U){for(H=H||{},U=D.length;U--;H[D[U]]=B);return H},"o"),t=[1,2],r=[1,3],n=[1,4],a=[2,4],o=[1,9],l=[1,11],c=[1,16],u=[1,17],h=[1,18],f=[1,19],d=[1,32],p=[1,20],g=[1,21],m=[1,22],y=[1,23],b=[1,24],x=[1,26],T=[1,27],w=[1,28],E=[1,29],S=[1,30],C=[1,31],k=[1,34],O=[1,35],I=[1,36],_=[1,37],R=[1,33],M=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],$=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],N=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],P={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:A(function(B,H,U,G,W,ee,ce){var Z=ee.length-1;switch(W){case 3:return G.setRootDoc(ee[Z]),ee[Z];case 4:this.$=[];break;case 5:ee[Z]!="nl"&&(ee[Z-1].push(ee[Z]),this.$=ee[Z-1]);break;case 6:case 7:this.$=ee[Z];break;case 8:this.$="nl";break;case 12:this.$=ee[Z];break;case 13:const X=ee[Z-1];X.description=G.trimColon(ee[Z]),this.$=X;break;case 14:this.$={stmt:"relation",state1:ee[Z-2],state2:ee[Z]};break;case 15:const K=G.trimColon(ee[Z]);this.$={stmt:"relation",state1:ee[Z-3],state2:ee[Z-1],description:K};break;case 19:this.$={stmt:"state",id:ee[Z-3],type:"default",description:"",doc:ee[Z-1]};break;case 20:var J=ee[Z],oe=ee[Z-2].trim();if(ee[Z].match(":")){var Y=ee[Z].split(":");J=Y[0],oe=[oe,Y[1]]}this.$={stmt:"state",id:J,type:"default",description:oe};break;case 21:this.$={stmt:"state",id:ee[Z-3],type:"default",description:ee[Z-5],doc:ee[Z-1]};break;case 22:this.$={stmt:"state",id:ee[Z],type:"fork"};break;case 23:this.$={stmt:"state",id:ee[Z],type:"join"};break;case 24:this.$={stmt:"state",id:ee[Z],type:"choice"};break;case 25:this.$={stmt:"state",id:G.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:ee[Z-1].trim(),note:{position:ee[Z-2].trim(),text:ee[Z].trim()}};break;case 29:this.$=ee[Z].trim(),G.setAccTitle(this.$);break;case 30:case 31:this.$=ee[Z].trim(),G.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:ee[Z-1].trim(),classes:ee[Z].trim()};break;case 34:this.$={stmt:"style",id:ee[Z-1].trim(),styleClass:ee[Z].trim()};break;case 35:this.$={stmt:"applyClass",id:ee[Z-1].trim(),styleClass:ee[Z].trim()};break;case 36:G.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:G.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:G.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:G.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:ee[Z].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:ee[Z-2].trim(),classes:[ee[Z].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:ee[Z-2].trim(),classes:[ee[Z].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],a,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:o,5:l,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:u,19:h,22:f,24:d,25:p,26:g,27:m,28:y,29:b,32:25,33:x,35:T,37:w,38:E,42:S,45:C,48:k,49:O,50:I,51:_,54:R},e(M,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:c,17:u,19:h,22:f,24:d,25:p,26:g,27:m,28:y,29:b,32:25,33:x,35:T,37:w,38:E,42:S,45:C,48:k,49:O,50:I,51:_,54:R},e(M,[2,7]),e(M,[2,8]),e(M,[2,9]),e(M,[2,10]),e(M,[2,11]),e(M,[2,12],{14:[1,39],15:[1,40]}),e(M,[2,16]),{18:[1,41]},e(M,[2,18],{20:[1,42]}),{23:[1,43]},e(M,[2,22]),e(M,[2,23]),e(M,[2,24]),e(M,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},e(M,[2,28]),{34:[1,48]},{36:[1,49]},e(M,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},e($,[2,42],{55:[1,54]}),e($,[2,43],{55:[1,55]}),e(M,[2,36]),e(M,[2,37]),e(M,[2,38]),e(M,[2,39]),e(M,[2,6]),e(M,[2,13]),{13:56,24:d,54:R},e(M,[2,17]),e(N,a,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},e(M,[2,29]),e(M,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},e(M,[2,14],{14:[1,67]}),{4:o,5:l,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:u,19:h,21:[1,68],22:f,24:d,25:p,26:g,27:m,28:y,29:b,32:25,33:x,35:T,37:w,38:E,42:S,45:C,48:k,49:O,50:I,51:_,54:R},e(M,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},e(M,[2,32]),e(M,[2,33]),e(M,[2,34]),e(M,[2,35]),e($,[2,44]),e($,[2,45]),e(M,[2,15]),e(M,[2,19]),e(N,a,{7:72}),e(M,[2,26]),e(M,[2,27]),{4:o,5:l,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:u,19:h,21:[1,73],22:f,24:d,25:p,26:g,27:m,28:y,29:b,32:25,33:x,35:T,37:w,38:E,42:S,45:C,48:k,49:O,50:I,51:_,54:R},e(M,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:A(function(B,H){if(H.recoverable)this.trace(B);else{var U=new Error(B);throw U.hash=H,U}},"parseError"),parse:A(function(B){var H=this,U=[0],G=[],W=[null],ee=[],ce=this.table,Z="",J=0,oe=0,Y=2,X=1,K=ee.slice.call(arguments,1),z=Object.create(this.lexer),j={yy:{}};for(var te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,te)&&(j.yy[te]=this.yy[te]);z.setInput(B,j.yy),j.yy.lexer=z,j.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var re=z.yylloc;ee.push(re);var Se=z.options&&z.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ue(le){U.length=U.length-2*le,W.length=W.length-le,ee.length=ee.length-le}A(ue,"popStack");function se(){var le;return le=G.pop()||z.lex()||X,typeof le!="number"&&(le instanceof Array&&(G=le,le=G.pop()),le=H.symbols_[le]||le),le}A(se,"lex");for(var fe,ye,he,Ae,Ce={},Ie,Le,ae,q;;){if(ye=U[U.length-1],this.defaultActions[ye]?he=this.defaultActions[ye]:((fe===null||typeof fe>"u")&&(fe=se()),he=ce[ye]&&ce[ye][fe]),typeof he>"u"||!he.length||!he[0]){var ge="";q=[];for(Ie in ce[ye])this.terminals_[Ie]&&Ie>Y&&q.push("'"+this.terminals_[Ie]+"'");z.showPosition?ge="Parse error on line "+(J+1)+`:
`+z.showPosition()+`
Expecting `+q.join(", ")+", got '"+(this.terminals_[fe]||fe)+"'":ge="Parse error on line "+(J+1)+": Unexpected "+(fe==X?"end of input":"'"+(this.terminals_[fe]||fe)+"'"),this.parseError(ge,{text:z.match,token:this.terminals_[fe]||fe,line:z.yylineno,loc:re,expected:q})}if(he[0]instanceof Array&&he.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ye+", token: "+fe);switch(he[0]){case 1:U.push(fe),W.push(z.yytext),ee.push(z.yylloc),U.push(he[1]),fe=null,oe=z.yyleng,Z=z.yytext,J=z.yylineno,re=z.yylloc;break;case 2:if(Le=this.productions_[he[1]][1],Ce.$=W[W.length-Le],Ce._$={first_line:ee[ee.length-(Le||1)].first_line,last_line:ee[ee.length-1].last_line,first_column:ee[ee.length-(Le||1)].first_column,last_column:ee[ee.length-1].last_column},Se&&(Ce._$.range=[ee[ee.length-(Le||1)].range[0],ee[ee.length-1].range[1]]),Ae=this.performAction.apply(Ce,[Z,oe,J,j.yy,he[1],W,ee].concat(K)),typeof Ae<"u")return Ae;Le&&(U=U.slice(0,-1*Le*2),W=W.slice(0,-1*Le),ee=ee.slice(0,-1*Le)),U.push(this.productions_[he[1]][0]),W.push(Ce.$),ee.push(Ce._$),ae=ce[U[U.length-2]][U[U.length-1]],U.push(ae);break;case 3:return!0}}return!0},"parse")},F=function(){var D={EOF:1,parseError:A(function(H,U){if(this.yy.parser)this.yy.parser.parseError(H,U);else throw new Error(H)},"parseError"),setInput:A(function(B,H){return this.yy=H||this.yy||{},this._input=B,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var B=this._input[0];this.yytext+=B,this.yyleng++,this.offset++,this.match+=B,this.matched+=B;var H=B.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),B},"input"),unput:A(function(B){var H=B.length,U=B.split(/(?:\r\n?|\n)/g);this._input=B+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var G=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),U.length-1&&(this.yylineno-=U.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:U?(U.length===G.length?this.yylloc.first_column:0)+G[G.length-U.length].length-U[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(B){this.unput(this.match.slice(B))},"less"),pastInput:A(function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var B=this.pastInput(),H=new Array(B.length+1).join("-");return B+this.upcomingInput()+`
`+H+"^"},"showPosition"),test_match:A(function(B,H){var U,G,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),G=B[0].match(/(?:\r\n?|\n).*/g),G&&(this.yylineno+=G.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G?G[G.length-1].length-G[G.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+B[0].length},this.yytext+=B[0],this.match+=B[0],this.matches=B,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(B[0].length),this.matched+=B[0],U=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),U)return U;if(this._backtrack){for(var ee in W)this[ee]=W[ee];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var B,H,U,G;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),ee=0;ee<W.length;ee++)if(U=this._input.match(this.rules[W[ee]]),U&&(!H||U[0].length>H[0].length)){if(H=U,G=ee,this.options.backtrack_lexer){if(B=this.test_match(U,W[ee]),B!==!1)return B;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(B=this.test_match(H,W[G]),B!==!1?B:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var H=this.next();return H||this.lex()},"lex"),begin:A(function(H){this.conditionStack.push(H)},"begin"),popState:A(function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},"topState"),pushState:A(function(H){this.begin(H)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(H,U,G,W){switch(G){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),U.yytext=U.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),U.yytext=U.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),U.yytext=U.yytext.substr(2).trim(),31;case 67:return this.popState(),U.yytext=U.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return U.yytext=U.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return D}();P.lexer=F;function L(){this.yy={}}return A(L,"Parser"),L.prototype=P,P.Parser=L,new L}();F_.parser=F_;var uge=F_,r5t="LR",hge="TB",hS="state",EP="relation",n5t="classDef",i5t="style",a5t="applyClass",$3="default",fge="divider",dge="fill:none",pge="fill: #333",gge="c",mge="text",vge="normal",A7="rect",k7="rectWithTitle",s5t="stateStart",o5t="stateEnd",vj="divider",yj="roundedWithTitle",l5t="note",c5t="noteGroup",H3="statediagram",u5t="state",h5t=`${H3}-${u5t}`,yge="transition",f5t="note",d5t="note-edge",p5t=`${yge} ${d5t}`,g5t=`${H3}-${f5t}`,m5t="cluster",v5t=`${H3}-${m5t}`,y5t="cluster-alt",b5t=`${H3}-${y5t}`,bge="parent",xge="note",x5t="state",SP="----",T5t=`${SP}${xge}`,bj=`${SP}${bge}`,Tge=A((e,t=hge)=>{if(!e.doc)return t;let r=t;for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),w5t=A(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses"),E5t=A(async function(e,t,r,n){me.info("REF0:"),me.info("Drawing state diagram (v2)",t);const{securityLevel:a,state:o,layout:l}=De();n.db.extract(n.db.getRootDocV2());const c=n.db.getData(),u=mD(t,a);c.type=n.type,c.layoutAlgorithm=l,c.nodeSpacing=(o==null?void 0:o.nodeSpacing)||50,c.rankSpacing=(o==null?void 0:o.rankSpacing)||50,c.markers=["barb"],c.diagramId=t,await JL(c,u);const h=8;ur.insertTitle(u,"statediagramTitleText",(o==null?void 0:o.titleTopMargin)??25,n.db.getDiagramTitle()),vD(u,h,H3,(o==null?void 0:o.useMaxWidth)??!0)},"draw"),S5t={getClasses:w5t,draw:E5t,getDir:Tge},Pw=new Map,S0=0;function Fw(e="",t=0,r="",n=SP){const a=r!==null&&r.length>0?`${n}${r}`:"";return`${x5t}-${e}${a}-${t}`}A(Fw,"stateDomId");var A5t=A((e,t,r,n,a,o,l,c)=>{me.trace("items",t),t.forEach(u=>{switch(u.stmt){case hS:y2(e,u,r,n,a,o,l,c);break;case $3:y2(e,u,r,n,a,o,l,c);break;case EP:{y2(e,u.state1,r,n,a,o,l,c),y2(e,u.state2,r,n,a,o,l,c);const h={id:"edge"+S0,start:u.state1.id,end:u.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:dge,labelStyle:"",label:st.sanitizeText(u.description,De()),arrowheadStyle:pge,labelpos:gge,labelType:mge,thickness:vge,classes:yge,look:l};a.push(h),S0++}break}})},"setupDoc"),xj=A((e,t=hge)=>{let r=t;if(e.doc)for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function v2(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(a=>{if(r.get(a)){const o=r.get(a);t.cssCompiledStyles=[...t.cssCompiledStyles,...o.styles]}}));const n=e.find(a=>a.id===t.id);n?Object.assign(n,t):e.push(t)}A(v2,"insertOrUpdateNode");function wge(e){var t;return((t=e==null?void 0:e.classes)==null?void 0:t.join(" "))??""}A(wge,"getClassesFromDbInfo");function Ege(e){return(e==null?void 0:e.styles)??[]}A(Ege,"getStylesFromDbInfo");var y2=A((e,t,r,n,a,o,l,c)=>{var p,g;const u=t.id,h=r.get(u),f=wge(h),d=Ege(h);if(me.info("dataFetcher parsedItem",t,h,d),u!=="root"){let m=A7;t.start===!0?m=s5t:t.start===!1&&(m=o5t),t.type!==$3&&(m=t.type),Pw.get(u)||Pw.set(u,{id:u,shape:m,description:st.sanitizeText(u,De()),cssClasses:`${f} ${h5t}`,cssStyles:d});const y=Pw.get(u);t.description&&(Array.isArray(y.description)?(y.shape=k7,y.description.push(t.description)):((p=y.description)==null?void 0:p.length)>0?(y.shape=k7,y.description===u?y.description=[t.description]:y.description=[y.description,t.description]):(y.shape=A7,y.description=t.description),y.description=st.sanitizeTextOrArray(y.description,De())),((g=y.description)==null?void 0:g.length)===1&&y.shape===k7&&(y.type==="group"?y.shape=yj:y.shape=A7),!y.type&&t.doc&&(me.info("Setting cluster for XCX",u,xj(t)),y.type="group",y.isGroup=!0,y.dir=xj(t),y.shape=t.type===fge?vj:yj,y.cssClasses=`${y.cssClasses} ${v5t} ${o?b5t:""}`);const b={labelStyle:"",shape:y.shape,label:y.description,cssClasses:y.cssClasses,cssCompiledStyles:[],cssStyles:y.cssStyles,id:u,dir:y.dir,domId:Fw(u,S0),type:y.type,isGroup:y.type==="group",padding:8,rx:10,ry:10,look:l};if(b.shape===vj&&(b.label=""),e&&e.id!=="root"&&(me.trace("Setting node ",u," to be child of its parent ",e.id),b.parentId=e.id),b.centerLabel=!0,t.note){const x={labelStyle:"",shape:l5t,label:t.note.text,cssClasses:g5t,cssStyles:[],cssCompilesStyles:[],id:u+T5t+"-"+S0,domId:Fw(u,S0,xge),type:y.type,isGroup:y.type==="group",padding:De().flowchart.padding,look:l,position:t.note.position},T=u+bj,w={labelStyle:"",shape:c5t,label:t.note.text,cssClasses:y.cssClasses,cssStyles:[],id:u+bj,domId:Fw(u,S0,bge),type:"group",isGroup:!0,padding:16,look:l,position:t.note.position};S0++,w.id=T,x.parentId=T,v2(n,w,c),v2(n,x,c),v2(n,b,c);let E=u,S=x.id;t.note.position==="left of"&&(E=x.id,S=u),a.push({id:E+"-"+S,start:E,end:S,arrowhead:"none",arrowTypeEnd:"",style:dge,labelStyle:"",classes:p5t,arrowheadStyle:pge,labelpos:gge,labelType:mge,thickness:vge,look:l})}else v2(n,b,c)}t.doc&&(me.trace("Adding nodes children "),A5t(t,t.doc,r,n,a,!o,l,c))},"dataFetcher"),k5t=A(()=>{Pw.clear(),S0=0},"reset"),AP="[*]",Sge="start",Age=AP,kge="end",Tj="color",wj="fill",C5t="bgFill",I5t=",";function kP(){return new Map}A(kP,"newClassesList");var fS=[],CP=[],Cge=r5t,dS=[],Tg=kP(),Ige=A(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),pS={root:Ige()},Ys=pS.root,dx=0,Ej=0,R5t={LINE:0,DOTTED_LINE:1},O5t={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},T4=A(e=>JSON.parse(JSON.stringify(e)),"clone"),_5t=A(e=>{me.info("Setting root doc",e),dS=e},"setRootDoc"),N5t=A(()=>dS,"getRootDoc"),Bw=A((e,t,r)=>{if(t.stmt===EP)Bw(e,t.state1,!0),Bw(e,t.state2,!1);else if(t.stmt===hS&&(t.id==="[*]"?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){const n=[];let a=[],o;for(o=0;o<t.doc.length;o++)if(t.doc[o].type===fge){const l=T4(t.doc[o]);l.doc=T4(a),n.push(l),a=[]}else a.push(t.doc[o]);if(n.length>0&&a.length>0){const l={stmt:hS,id:Ose(),type:"divider",doc:T4(a)};n.push(T4(l)),t.doc=n}t.doc.forEach(l=>Bw(t,l,!0))}},"docTranslator"),IP=A(()=>(Bw({id:"root"},{id:"root",doc:dS},!0),{id:"root",doc:dS}),"getRootDocV2"),L5t=A(e=>{let t;e.doc?t=e.doc:t=e,me.info(t),Rge(!0),me.info("Extract initial document:",t),t.forEach(o=>{switch(me.warn("Statement",o.stmt),o.stmt){case hS:of(o.id.trim(),o.type,o.doc,o.description,o.note,o.classes,o.styles,o.textStyles);break;case EP:Mge(o.state1,o.state2,o.description);break;case n5t:Dge(o.id.trim(),o.classes);break;case i5t:{const l=o.id.trim().split(","),c=o.styleClass.split(",");l.forEach(u=>{let h=vp(u);if(h===void 0){const f=u.trim();of(f),h=vp(f)}h.styles=c.map(f=>{var d;return(d=f.replace(/;/g,""))==null?void 0:d.trim()})})}break;case a5t:RP(o.id.trim(),o.styleClass);break}});const r=Oge(),a=De().look;k5t(),y2(void 0,IP(),r,fS,CP,!0,a,Tg),fS.forEach(o=>{if(Array.isArray(o.label)){if(o.description=o.label.slice(1),o.isGroup&&o.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+o.id+"]");o.label=o.label[0]}})},"extract"),of=A(function(e,t=$3,r=null,n=null,a=null,o=null,l=null,c=null){const u=e==null?void 0:e.trim();if(Ys.states.has(u)?(Ys.states.get(u).doc||(Ys.states.get(u).doc=r),Ys.states.get(u).type||(Ys.states.get(u).type=t)):(me.info("Adding state ",u,n),Ys.states.set(u,{id:u,descriptions:[],type:t,doc:r,note:a,classes:[],styles:[],textStyles:[]})),n&&(me.info("Setting state description",u,n),typeof n=="string"&&B_(u,n.trim()),typeof n=="object"&&n.forEach(h=>B_(u,h.trim()))),a){const h=Ys.states.get(u);h.note=a,h.note.text=st.sanitizeText(h.note.text,De())}o&&(me.info("Setting state classes",u,o),(typeof o=="string"?[o]:o).forEach(f=>RP(u,f.trim()))),l&&(me.info("Setting state styles",u,l),(typeof l=="string"?[l]:l).forEach(f=>$5t(u,f.trim()))),c&&(me.info("Setting state styles",u,l),(typeof c=="string"?[c]:c).forEach(f=>H5t(u,f.trim())))},"addState"),Rge=A(function(e){fS=[],CP=[],pS={root:Ige()},Ys=pS.root,dx=0,Tg=kP(),e||ca()},"clear"),vp=A(function(e){return Ys.states.get(e)},"getState"),Oge=A(function(){return Ys.states},"getStates"),M5t=A(function(){me.info("Documents = ",pS)},"logDocuments"),D5t=A(function(){return Ys.relations},"getRelations");function gS(e=""){let t=e;return e===AP&&(dx++,t=`${Sge}${dx}`),t}A(gS,"startIdIfNeeded");function mS(e="",t=$3){return e===AP?Sge:t}A(mS,"startTypeIfNeeded");function _ge(e=""){let t=e;return e===Age&&(dx++,t=`${kge}${dx}`),t}A(_ge,"endIdIfNeeded");function Nge(e="",t=$3){return e===Age?kge:t}A(Nge,"endTypeIfNeeded");function Lge(e,t,r){let n=gS(e.id.trim()),a=mS(e.id.trim(),e.type),o=gS(t.id.trim()),l=mS(t.id.trim(),t.type);of(n,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),of(o,l,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Ys.relations.push({id1:n,id2:o,relationTitle:st.sanitizeText(r,De())})}A(Lge,"addRelationObjs");var Mge=A(function(e,t,r){if(typeof e=="object")Lge(e,t,r);else{const n=gS(e.trim()),a=mS(e),o=_ge(t.trim()),l=Nge(t);of(n,a),of(o,l),Ys.relations.push({id1:n,id2:o,title:st.sanitizeText(r,De())})}},"addRelation"),B_=A(function(e,t){const r=Ys.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(st.sanitizeText(n,De()))},"addDescription"),P5t=A(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),F5t=A(()=>(Ej++,"divider-id-"+Ej),"getDividerId"),Dge=A(function(e,t=""){Tg.has(e)||Tg.set(e,{id:e,styles:[],textStyles:[]});const r=Tg.get(e);t!=null&&t.split(I5t).forEach(n=>{const a=n.replace(/([^;]*);/,"$1").trim();if(RegExp(Tj).exec(n)){const l=a.replace(wj,C5t).replace(Tj,wj);r.textStyles.push(l)}r.styles.push(a)})},"addStyleClass"),B5t=A(function(){return Tg},"getClasses"),RP=A(function(e,t){e.split(",").forEach(function(r){let n=vp(r);if(n===void 0){const a=r.trim();of(a),n=vp(a)}n.classes.push(t)})},"setCssClass"),$5t=A(function(e,t){const r=vp(e);r!==void 0&&r.styles.push(t)},"setStyle"),H5t=A(function(e,t){const r=vp(e);r!==void 0&&r.textStyles.push(t)},"setTextStyle"),U5t=A(()=>Cge,"getDirection"),W5t=A(e=>{Cge=e},"setDirection"),z5t=A(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),G5t=A(()=>{const e=De();return{nodes:fS,edges:CP,other:{},config:e,direction:Tge(IP())}},"getData"),th={getConfig:A(()=>De().state,"getConfig"),getData:G5t,addState:of,clear:Rge,getState:vp,getStates:Oge,getRelations:D5t,getClasses:B5t,getDirection:U5t,addRelation:Mge,getDividerId:F5t,setDirection:W5t,cleanupLabel:P5t,lineType:R5t,relationType:O5t,logDocuments:M5t,getRootDoc:N5t,setRootDoc:_5t,getRootDocV2:IP,extract:L5t,trimColon:z5t,getAccTitle:Ia,setAccTitle:ua,getAccDescription:Oa,setAccDescription:Ra,addStyleClass:Dge,setCssClass:RP,addDescription:B_,setDiagramTitle:Ns,getDiagramTitle:_a},Y5t=A(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),Pge=Y5t,OP={},V5t=A((e,t)=>{OP[e]=t},"set"),q5t=A(e=>OP[e],"get"),Fge=A(()=>Object.keys(OP),"keys"),j5t=A(()=>Fge().length,"size"),X5t={get:q5t,set:V5t,keys:Fge,size:j5t},K5t=A(e=>e.append("circle").attr("class","start-state").attr("r",De().state.sizeUnit).attr("cx",De().state.padding+De().state.sizeUnit).attr("cy",De().state.padding+De().state.sizeUnit),"drawStartState"),Z5t=A(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",De().state.textHeight).attr("class","divider").attr("x2",De().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),Q5t=A((e,t)=>{const r=e.append("text").attr("x",2*De().state.padding).attr("y",De().state.textHeight+2*De().state.padding).attr("font-size",De().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",De().state.padding).attr("y",De().state.padding).attr("width",n.width+2*De().state.padding).attr("height",n.height+2*De().state.padding).attr("rx",De().state.radius),r},"drawSimpleState"),J5t=A((e,t)=>{const r=A(function(p,g,m){const y=p.append("tspan").attr("x",2*De().state.padding).text(g);m||y.attr("dy",De().state.textHeight)},"addTspan"),a=e.append("text").attr("x",2*De().state.padding).attr("y",De().state.textHeight+1.3*De().state.padding).attr("font-size",De().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),o=a.height,l=e.append("text").attr("x",De().state.padding).attr("y",o+De().state.padding*.4+De().state.dividerMargin+De().state.textHeight).attr("class","state-description");let c=!0,u=!0;t.descriptions.forEach(function(p){c||(r(l,p,u),u=!1),c=!1});const h=e.append("line").attr("x1",De().state.padding).attr("y1",De().state.padding+o+De().state.dividerMargin/2).attr("y2",De().state.padding+o+De().state.dividerMargin/2).attr("class","descr-divider"),f=l.node().getBBox(),d=Math.max(f.width,a.width);return h.attr("x2",d+3*De().state.padding),e.insert("rect",":first-child").attr("x",De().state.padding).attr("y",De().state.padding).attr("width",d+2*De().state.padding).attr("height",f.height+o+2*De().state.padding).attr("rx",De().state.radius),e},"drawDescrState"),eEt=A((e,t,r)=>{const n=De().state.padding,a=2*De().state.padding,o=e.node().getBBox(),l=o.width,c=o.x,u=e.append("text").attr("x",0).attr("y",De().state.titleShift).attr("font-size",De().state.fontSize).attr("class","state-title").text(t.id),f=u.node().getBBox().width+a;let d=Math.max(f,l);d===l&&(d=d+a);let p;const g=e.node().getBBox();t.doc,p=c-n,f>l&&(p=(l-d)/2+n),Math.abs(c-g.x)<n&&f>l&&(p=c-(f-l)/2);const m=1-De().state.textHeight;return e.insert("rect",":first-child").attr("x",p).attr("y",m).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",g.height+De().state.textHeight+De().state.titleShift+1).attr("rx","0"),u.attr("x",p+n),f<=l&&u.attr("x",c+(d-a)/2-f/2+n),e.insert("rect",":first-child").attr("x",p).attr("y",De().state.titleShift-De().state.textHeight-De().state.padding).attr("width",d).attr("height",De().state.textHeight*3).attr("rx",De().state.radius),e.insert("rect",":first-child").attr("x",p).attr("y",De().state.titleShift-De().state.textHeight-De().state.padding).attr("width",d).attr("height",g.height+3+2*De().state.textHeight).attr("rx",De().state.radius),e},"addTitleAndBox"),tEt=A(e=>(e.append("circle").attr("class","end-state-outer").attr("r",De().state.sizeUnit+De().state.miniPadding).attr("cx",De().state.padding+De().state.sizeUnit+De().state.miniPadding).attr("cy",De().state.padding+De().state.sizeUnit+De().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",De().state.sizeUnit).attr("cx",De().state.padding+De().state.sizeUnit+2).attr("cy",De().state.padding+De().state.sizeUnit+2)),"drawEndState"),rEt=A((e,t)=>{let r=De().state.forkWidth,n=De().state.forkHeight;if(t.parentId){let a=r;r=n,n=a}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",De().state.padding).attr("y",De().state.padding)},"drawForkJoinState"),nEt=A((e,t,r,n)=>{let a=0;const o=n.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let l=e.replace(/\r\n/g,"<br/>");l=l.replace(/\n/g,"<br/>");const c=l.split(st.lineBreakRegex);let u=1.25*De().state.noteMargin;for(const h of c){const f=h.trim();if(f.length>0){const d=o.append("tspan");if(d.text(f),u===0){const p=d.node().getBBox();u+=p.height}a+=u,d.attr("x",t+De().state.noteMargin),d.attr("y",r+a+1.25*De().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:a}},"_drawLongText"),iEt=A((e,t)=>{t.attr("class","state-note");const r=t.append("rect").attr("x",0).attr("y",De().state.padding),n=t.append("g"),{textWidth:a,textHeight:o}=nEt(e,0,0,n);return r.attr("height",o+2*De().state.noteMargin),r.attr("width",a+De().state.noteMargin*2),r},"drawNote"),Sj=A(function(e,t){const r=t.id,n={id:r,label:t.id,width:0,height:0},a=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&K5t(a),t.type==="end"&&tEt(a),(t.type==="fork"||t.type==="join")&&rEt(a,t),t.type==="note"&&iEt(t.note.text,a),t.type==="divider"&&Z5t(a),t.type==="default"&&t.descriptions.length===0&&Q5t(a,t),t.type==="default"&&t.descriptions.length>0&&J5t(a,t);const o=a.node().getBBox();return n.width=o.width+2*De().state.padding,n.height=o.height+2*De().state.padding,X5t.set(r,n),n},"drawState"),Aj=0,aEt=A(function(e,t,r){const n=A(function(u){switch(u){case th.relationType.AGGREGATION:return"aggregation";case th.relationType.EXTENSION:return"extension";case th.relationType.COMPOSITION:return"composition";case th.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));const a=t.points,o=rp().x(function(u){return u.x}).y(function(u){return u.y}).curve(i3),l=e.append("path").attr("d",o(a)).attr("id","edge"+Aj).attr("class","transition");let c="";if(De().state.arrowMarkerAbsolute&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),l.attr("marker-end","url("+c+"#"+n(th.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const u=e.append("g").attr("class","stateLabel"),{x:h,y:f}=ur.calcLabelPosition(t.points),d=st.getRows(r.title);let p=0;const g=[];let m=0,y=0;for(let T=0;T<=d.length;T++){const w=u.append("text").attr("text-anchor","middle").text(d[T]).attr("x",h).attr("y",f+p),E=w.node().getBBox();m=Math.max(m,E.width),y=Math.min(y,E.x),me.info(E.x,h,f+p),p===0&&(p=w.node().getBBox().height,me.info("Title height",p,f)),g.push(w)}let b=p*d.length;if(d.length>1){const T=(d.length-1)*p*.5;g.forEach((w,E)=>w.attr("y",f+E*p-T)),b=p*d.length}const x=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-De().state.padding/2).attr("y",f-b/2-De().state.padding/2-3.5).attr("width",m+De().state.padding).attr("height",b+De().state.padding),me.info(x)}Aj++},"drawEdge"),Ro,C7={},sEt=A(function(){},"setConf"),oEt=A(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),lEt=A(function(e,t,r,n){Ro=De().state;const a=De().securityLevel;let o;a==="sandbox"&&(o=nt("#i"+t));const l=nt(a==="sandbox"?o.nodes()[0].contentDocument.body:"body"),c=a==="sandbox"?o.nodes()[0].contentDocument:document;me.debug("Rendering diagram "+e);const u=l.select(`[id='${t}']`);oEt(u);const h=n.db.getRootDoc();Bge(h,u,void 0,!1,l,c,n);const f=Ro.padding,d=u.node().getBBox(),p=d.width+f*2,g=d.height+f*2,m=p*1.75;is(u,g,m,Ro.useMaxWidth),u.attr("viewBox",`${d.x-Ro.padding}  ${d.y-Ro.padding} `+p+" "+g)},"draw"),cEt=A(e=>e?e.length*Ro.fontSizeFactor:1,"getLabelWidth"),Bge=A((e,t,r,n,a,o,l)=>{const c=new os({compound:!0,multigraph:!0});let u,h=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){h=!1;break}r?c.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:Ro.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):c.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:Ro.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),c.setDefaultEdgeLabel(function(){return{}}),l.db.extract(e);const f=l.db.getStates(),d=l.db.getRelations(),p=Object.keys(f);for(const x of p){const T=f[x];r&&(T.parentId=r);let w;if(T.doc){let E=t.append("g").attr("id",T.id).attr("class","stateGroup");w=Bge(T.doc,E,T.id,!n,a,o,l);{E=eEt(E,T,n);let S=E.node().getBBox();w.width=S.width,w.height=S.height+Ro.padding/2,C7[T.id]={y:Ro.compositTitleSize}}}else w=Sj(t,T,c);if(T.note){const E={descriptions:[],id:T.id+"-note",note:T.note,type:"note"},S=Sj(t,E,c);T.note.position==="left of"?(c.setNode(w.id+"-note",S),c.setNode(w.id,w)):(c.setNode(w.id,w),c.setNode(w.id+"-note",S)),c.setParent(w.id,w.id+"-group"),c.setParent(w.id+"-note",w.id+"-group")}else c.setNode(w.id,w)}me.debug("Count=",c.nodeCount(),c);let g=0;d.forEach(function(x){g++,me.debug("Setting edge",x),c.setEdge(x.id1,x.id2,{relation:x,width:cEt(x.title),height:Ro.labelHeight*st.getRows(x.title).length,labelpos:"c"},"id"+g)}),RA(c),me.debug("Graph after layout",c.nodes());const m=t.node();c.nodes().forEach(function(x){x!==void 0&&c.node(x)!==void 0?(me.warn("Node "+x+": "+JSON.stringify(c.node(x))),a.select("#"+m.id+" #"+x).attr("transform","translate("+(c.node(x).x-c.node(x).width/2)+","+(c.node(x).y+(C7[x]?C7[x].y:0)-c.node(x).height/2)+" )"),a.select("#"+m.id+" #"+x).attr("data-x-shift",c.node(x).x-c.node(x).width/2),o.querySelectorAll("#"+m.id+" #"+x+" .divider").forEach(w=>{const E=w.parentElement;let S=0,C=0;E&&(E.parentElement&&(S=E.parentElement.getBBox().width),C=parseInt(E.getAttribute("data-x-shift"),10),Number.isNaN(C)&&(C=0)),w.setAttribute("x1",0-C+8),w.setAttribute("x2",S-C-8)})):me.debug("No Node "+x+": "+JSON.stringify(c.node(x)))});let y=m.getBBox();c.edges().forEach(function(x){x!==void 0&&c.edge(x)!==void 0&&(me.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(c.edge(x))),aEt(t,c.edge(x),c.edge(x).relation))}),y=m.getBBox();const b={id:r||"root",label:r||"root",width:0,height:0};return b.width=y.width+2*Ro.padding,b.height=y.height+2*Ro.padding,me.debug("Doc rendered",b,c),b},"renderDoc"),uEt={setConf:sEt,draw:lEt},hEt={parser:uge,db:th,renderer:uEt,styles:Pge,init:A(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,th.clear()},"init")};const fEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:hEt},Symbol.toStringTag,{value:"Module"}));var dEt={parser:uge,db:th,renderer:S5t,styles:Pge,init:A(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,th.clear()},"init")};const pEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:dEt},Symbol.toStringTag,{value:"Module"}));var $_=function(){var e=A(function(d,p,g,m){for(g=g||{},m=d.length;m--;g[d[m]]=p);return g},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],a=[1,11],o=[1,12],l=[1,13],c=[1,14],u={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:A(function(p,g,m,y,b,x,T){var w=x.length-1;switch(b){case 1:return x[w-1];case 2:this.$=[];break;case 3:x[w-1].push(x[w]),this.$=x[w-1];break;case 4:case 5:this.$=x[w];break;case 6:case 7:this.$=[];break;case 8:y.setDiagramTitle(x[w].substr(6)),this.$=x[w].substr(6);break;case 9:this.$=x[w].trim(),y.setAccTitle(this.$);break;case 10:case 11:this.$=x[w].trim(),y.setAccDescription(this.$);break;case 12:y.addSection(x[w].substr(8)),this.$=x[w].substr(8);break;case 13:y.addTask(x[w-1],x[w]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:a,16:o,17:l,18:c},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:a,16:o,17:l,18:c},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:A(function(p,g){if(g.recoverable)this.trace(p);else{var m=new Error(p);throw m.hash=g,m}},"parseError"),parse:A(function(p){var g=this,m=[0],y=[],b=[null],x=[],T=this.table,w="",E=0,S=0,C=2,k=1,O=x.slice.call(arguments,1),I=Object.create(this.lexer),_={yy:{}};for(var R in this.yy)Object.prototype.hasOwnProperty.call(this.yy,R)&&(_.yy[R]=this.yy[R]);I.setInput(p,_.yy),_.yy.lexer=I,_.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var M=I.yylloc;x.push(M);var $=I.options&&I.options.ranges;typeof _.yy.parseError=="function"?this.parseError=_.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function N(Z){m.length=m.length-2*Z,b.length=b.length-Z,x.length=x.length-Z}A(N,"popStack");function P(){var Z;return Z=y.pop()||I.lex()||k,typeof Z!="number"&&(Z instanceof Array&&(y=Z,Z=y.pop()),Z=g.symbols_[Z]||Z),Z}A(P,"lex");for(var F,L,D,B,H={},U,G,W,ee;;){if(L=m[m.length-1],this.defaultActions[L]?D=this.defaultActions[L]:((F===null||typeof F>"u")&&(F=P()),D=T[L]&&T[L][F]),typeof D>"u"||!D.length||!D[0]){var ce="";ee=[];for(U in T[L])this.terminals_[U]&&U>C&&ee.push("'"+this.terminals_[U]+"'");I.showPosition?ce="Parse error on line "+(E+1)+`:
`+I.showPosition()+`
Expecting `+ee.join(", ")+", got '"+(this.terminals_[F]||F)+"'":ce="Parse error on line "+(E+1)+": Unexpected "+(F==k?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(ce,{text:I.match,token:this.terminals_[F]||F,line:I.yylineno,loc:M,expected:ee})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+L+", token: "+F);switch(D[0]){case 1:m.push(F),b.push(I.yytext),x.push(I.yylloc),m.push(D[1]),F=null,S=I.yyleng,w=I.yytext,E=I.yylineno,M=I.yylloc;break;case 2:if(G=this.productions_[D[1]][1],H.$=b[b.length-G],H._$={first_line:x[x.length-(G||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(G||1)].first_column,last_column:x[x.length-1].last_column},$&&(H._$.range=[x[x.length-(G||1)].range[0],x[x.length-1].range[1]]),B=this.performAction.apply(H,[w,S,E,_.yy,D[1],b,x].concat(O)),typeof B<"u")return B;G&&(m=m.slice(0,-1*G*2),b=b.slice(0,-1*G),x=x.slice(0,-1*G)),m.push(this.productions_[D[1]][0]),b.push(H.$),x.push(H._$),W=T[m[m.length-2]][m[m.length-1]],m.push(W);break;case 3:return!0}}return!0},"parse")},h=function(){var d={EOF:1,parseError:A(function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},"parseError"),setInput:A(function(p,g){return this.yy=g||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var g=p.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:A(function(p){var g=p.length,m=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var b=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(p){this.unput(this.match.slice(p))},"less"),pastInput:A(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var p=this.pastInput(),g=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:A(function(p,g){var m,y,b;if(this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0))),y=p[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var x in b)this[x]=b[x];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,g,m,y;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),x=0;x<b.length;x++)if(m=this._input.match(this.rules[b[x]]),m&&(!g||m[0].length>g[0].length)){if(g=m,y=x,this.options.backtrack_lexer){if(p=this.test_match(m,b[x]),p!==!1)return p;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(p=this.test_match(g,b[y]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var g=this.next();return g||this.lex()},"lex"),begin:A(function(g){this.conditionStack.push(g)},"begin"),popState:A(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:A(function(g){this.begin(g)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(g,m,y,b){switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return d}();u.lexer=h;function f(){this.yy={}}return A(f,"Parser"),f.prototype=u,u.Parser=f,new f}();$_.parser=$_;var gEt=$_,tv="",_P=[],px=[],gx=[],mEt=A(function(){_P.length=0,px.length=0,tv="",gx.length=0,ca()},"clear"),vEt=A(function(e){tv=e,_P.push(e)},"addSection"),yEt=A(function(){return _P},"getSections"),bEt=A(function(){let e=kj();const t=100;let r=0;for(;!e&&r<t;)e=kj(),r++;return px.push(...gx),px},"getTasks"),xEt=A(function(){const e=[];return px.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),TEt=A(function(e,t){const r=t.substr(1).split(":");let n=0,a=[];r.length===1?(n=Number(r[0]),a=[]):(n=Number(r[0]),a=r[1].split(","));const o=a.map(c=>c.trim()),l={section:tv,type:tv,people:o,task:e,score:n};gx.push(l)},"addTask"),wEt=A(function(e){const t={section:tv,type:tv,description:e,task:e,classes:[]};px.push(t)},"addTaskOrg"),kj=A(function(){const e=A(function(r){return gx[r].processed},"compileTask");let t=!0;for(const[r,n]of gx.entries())e(r),t=t&&n.processed;return t},"compileTasks"),EEt=A(function(){return xEt()},"getActors"),Cj={getConfig:A(()=>De().journey,"getConfig"),clear:mEt,setDiagramTitle:Ns,getDiagramTitle:_a,setAccTitle:ua,getAccTitle:Ia,setAccDescription:Ra,getAccDescription:Oa,addSection:vEt,getSections:yEt,getTasks:bEt,addTask:TEt,addTaskOrg:wEt,getActors:EEt},SEt=A(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),AEt=SEt,NP=A(function(e,t){return OA(e,t)},"drawRect"),kEt=A(function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");a.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(u){const h=Mm().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}A(o,"smile");function l(u){const h=Mm().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}A(l,"sad");function c(u){u.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return A(c,"ambivalent"),t.score>3?o(a):t.score<3?l(a):c(a),n},"drawFace"),$ge=A(function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),Hge=A(function(e,t){return cdt(e,t)},"drawText"),CEt=A(function(e,t){function r(a,o,l,c,u){return a+","+o+" "+(a+l)+","+o+" "+(a+l)+","+(o+c-u)+" "+(a+l-u*1.2)+","+(o+c)+" "+a+","+(o+c)}A(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,Hge(e,t)},"drawLabel"),IEt=A(function(e,t,r){const n=e.append("g"),a=Up();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),a.height=r.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,NP(n,a),Uge(r)(t.text,n,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),Ij=-1,REt=A(function(e,t,r){const n=t.x+r.width/2,a=e.append("g");Ij++;const o=300+5*30;a.append("line").attr("id","task"+Ij).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),kEt(a,{cx:n,cy:300+(5-t.score)*30,score:t.score});const l=Up();l.x=t.x,l.y=t.y,l.fill=t.fill,l.width=r.width,l.height=r.height,l.class="task task-type-"+t.num,l.rx=3,l.ry=3,NP(a,l);let c=t.x+14;t.people.forEach(u=>{const h=t.actors[u].color,f={cx:c,cy:t.y,r:7,fill:h,stroke:"#000",title:u,pos:t.actors[u].position};$ge(a,f),c+=10}),Uge(r)(t.task,a,l.x,l.y,l.width,l.height,{class:"task"},r,t.colour)},"drawTask"),OEt=A(function(e,t){Y0e(e,t)},"drawBackgroundRect"),Uge=function(){function e(a,o,l,c,u,h,f,d){const p=o.append("text").attr("x",l+u/2).attr("y",c+h/2+5).style("font-color",d).style("text-anchor","middle").text(a);n(p,f)}A(e,"byText");function t(a,o,l,c,u,h,f,d,p){const{taskFontSize:g,taskFontFamily:m}=d,y=a.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){const x=b*g-g*(y.length-1)/2,T=o.append("text").attr("x",l+u/2).attr("y",c).attr("fill",p).style("text-anchor","middle").style("font-size",g).style("font-family",m);T.append("tspan").attr("x",l+u/2).attr("dy",x).text(y[b]),T.attr("y",c+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(T,f)}}A(t,"byTspan");function r(a,o,l,c,u,h,f,d){const p=o.append("switch"),m=p.append("foreignObject").attr("x",l).attr("y",c).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,p,l,c,u,h,f,d),n(m,f)}A(r,"byFo");function n(a,o){for(const l in o)l in o&&a.attr(l,o[l])}return A(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),_Et=A(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),mx={drawRect:NP,drawCircle:$ge,drawSection:IEt,drawText:Hge,drawLabel:CEt,drawTask:REt,drawBackgroundRect:OEt,initGraphics:_Et},NEt=A(function(e){Object.keys(e).forEach(function(r){nk[r]=e[r]})},"setConf"),oh={};function Wge(e){const t=De().journey;let r=60;Object.keys(oh).forEach(n=>{const a=oh[n].color,o={cx:20,cy:r,r:7,fill:a,stroke:"#000",pos:oh[n].position};mx.drawCircle(e,o);const l={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};mx.drawText(e,l),r+=20})}A(Wge,"drawActorLegend");var nk=De().journey,md=nk.leftMargin,LEt=A(function(e,t,r,n){const a=De().journey,o=De().securityLevel;let l;o==="sandbox"&&(l=nt("#i"+t));const c=nt(o==="sandbox"?l.nodes()[0].contentDocument.body:"body");nl.init();const u=c.select("#"+t);mx.initGraphics(u);const h=n.db.getTasks(),f=n.db.getDiagramTitle(),d=n.db.getActors();for(const x in oh)delete oh[x];let p=0;d.forEach(x=>{oh[x]={color:a.actorColours[p%a.actorColours.length],position:p},p++}),Wge(u),nl.insert(0,0,md,Object.keys(oh).length*50),MEt(u,h,0);const g=nl.getBounds();f&&u.append("text").text(f).attr("x",md).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const m=g.stopy-g.starty+2*a.diagramMarginY,y=md+g.stopx+2*a.diagramMarginX;is(u,m,y,a.useMaxWidth),u.append("line").attr("x1",md).attr("y1",a.height*4).attr("x2",y-md-4).attr("y2",a.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const b=f?70:0;u.attr("viewBox",`${g.startx} -25 ${y} ${m+b}`),u.attr("preserveAspectRatio","xMinYMin meet"),u.attr("height",m+b+25)},"draw"),nl={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:A(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:A(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:A(function(e,t,r,n){const a=De().journey,o=this;let l=0;function c(u){return A(function(f){l++;const d=o.sequenceItems.length-l+1;o.updateVal(f,"starty",t-d*a.boxMargin,Math.min),o.updateVal(f,"stopy",n+d*a.boxMargin,Math.max),o.updateVal(nl.data,"startx",e-d*a.boxMargin,Math.min),o.updateVal(nl.data,"stopx",r+d*a.boxMargin,Math.max),u!=="activation"&&(o.updateVal(f,"startx",e-d*a.boxMargin,Math.min),o.updateVal(f,"stopx",r+d*a.boxMargin,Math.max),o.updateVal(nl.data,"starty",t-d*a.boxMargin,Math.min),o.updateVal(nl.data,"stopy",n+d*a.boxMargin,Math.max))},"updateItemBounds")}A(c,"updateFn"),this.sequenceItems.forEach(c())},"updateBounds"),insert:A(function(e,t,r,n){const a=Math.min(e,r),o=Math.max(e,r),l=Math.min(t,n),c=Math.max(t,n);this.updateVal(nl.data,"startx",a,Math.min),this.updateVal(nl.data,"starty",l,Math.min),this.updateVal(nl.data,"stopx",o,Math.max),this.updateVal(nl.data,"stopy",c,Math.max),this.updateBounds(a,l,o,c)},"insert"),bumpVerticalPos:A(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:A(function(){return this.verticalPos},"getVerticalPos"),getBounds:A(function(){return this.data},"getBounds")},I7=nk.sectionFills,Rj=nk.sectionColours,MEt=A(function(e,t,r){const n=De().journey;let a="";const o=n.height*2+n.diagramMarginY,l=r+o;let c=0,u="#CCC",h="black",f=0;for(const[d,p]of t.entries()){if(a!==p.section){u=I7[c%I7.length],f=c%I7.length,h=Rj[c%Rj.length];let m=0;const y=p.section;for(let x=d;x<t.length&&t[x].section==y;x++)m=m+1;const b={x:d*n.taskMargin+d*n.width+md,y:50,text:p.section,fill:u,num:f,colour:h,taskCount:m};mx.drawSection(e,b,n),a=p.section,c++}const g=p.people.reduce((m,y)=>(oh[y]&&(m[y]=oh[y]),m),{});p.x=d*n.taskMargin+d*n.width+md,p.y=l,p.width=n.diagramMarginX,p.height=n.diagramMarginY,p.colour=h,p.fill=u,p.num=f,p.actors=g,mx.drawTask(e,p,n),nl.insert(p.x,p.y,p.x+p.width+n.taskMargin,300+5*30)}},"drawTasks"),Oj={setConf:NEt,draw:LEt},DEt={parser:gEt,db:Cj,renderer:Oj,styles:AEt,init:A(e=>{Oj.setConf(e.journey),Cj.clear()},"init")};const PEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:DEt},Symbol.toStringTag,{value:"Module"}));var H_=function(){var e=A(function(p,g,m,y){for(m=m||{},y=p.length;y--;m[p[y]]=g);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],a=[1,11],o=[1,12],l=[1,13],c=[1,16],u=[1,17],h={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:A(function(g,m,y,b,x,T,w){var E=T.length-1;switch(x){case 1:return T[E-1];case 2:this.$=[];break;case 3:T[E-1].push(T[E]),this.$=T[E-1];break;case 4:case 5:this.$=T[E];break;case 6:case 7:this.$=[];break;case 8:b.getCommonDb().setDiagramTitle(T[E].substr(6)),this.$=T[E].substr(6);break;case 9:this.$=T[E].trim(),b.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=T[E].trim(),b.getCommonDb().setAccDescription(this.$);break;case 12:b.addSection(T[E].substr(8)),this.$=T[E].substr(8);break;case 15:b.addTask(T[E],0,""),this.$=T[E];break;case 16:b.addEvent(T[E].substr(2)),this.$=T[E];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:a,16:o,17:l,18:14,19:15,20:c,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:a,16:o,17:l,18:14,19:15,20:c,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:A(function(g,m){if(m.recoverable)this.trace(g);else{var y=new Error(g);throw y.hash=m,y}},"parseError"),parse:A(function(g){var m=this,y=[0],b=[],x=[null],T=[],w=this.table,E="",S=0,C=0,k=2,O=1,I=T.slice.call(arguments,1),_=Object.create(this.lexer),R={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(R.yy[M]=this.yy[M]);_.setInput(g,R.yy),R.yy.lexer=_,R.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var $=_.yylloc;T.push($);var N=_.options&&_.options.ranges;typeof R.yy.parseError=="function"?this.parseError=R.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function P(J){y.length=y.length-2*J,x.length=x.length-J,T.length=T.length-J}A(P,"popStack");function F(){var J;return J=b.pop()||_.lex()||O,typeof J!="number"&&(J instanceof Array&&(b=J,J=b.pop()),J=m.symbols_[J]||J),J}A(F,"lex");for(var L,D,B,H,U={},G,W,ee,ce;;){if(D=y[y.length-1],this.defaultActions[D]?B=this.defaultActions[D]:((L===null||typeof L>"u")&&(L=F()),B=w[D]&&w[D][L]),typeof B>"u"||!B.length||!B[0]){var Z="";ce=[];for(G in w[D])this.terminals_[G]&&G>k&&ce.push("'"+this.terminals_[G]+"'");_.showPosition?Z="Parse error on line "+(S+1)+`:
`+_.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[L]||L)+"'":Z="Parse error on line "+(S+1)+": Unexpected "+(L==O?"end of input":"'"+(this.terminals_[L]||L)+"'"),this.parseError(Z,{text:_.match,token:this.terminals_[L]||L,line:_.yylineno,loc:$,expected:ce})}if(B[0]instanceof Array&&B.length>1)throw new Error("Parse Error: multiple actions possible at state: "+D+", token: "+L);switch(B[0]){case 1:y.push(L),x.push(_.yytext),T.push(_.yylloc),y.push(B[1]),L=null,C=_.yyleng,E=_.yytext,S=_.yylineno,$=_.yylloc;break;case 2:if(W=this.productions_[B[1]][1],U.$=x[x.length-W],U._$={first_line:T[T.length-(W||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(W||1)].first_column,last_column:T[T.length-1].last_column},N&&(U._$.range=[T[T.length-(W||1)].range[0],T[T.length-1].range[1]]),H=this.performAction.apply(U,[E,C,S,R.yy,B[1],x,T].concat(I)),typeof H<"u")return H;W&&(y=y.slice(0,-1*W*2),x=x.slice(0,-1*W),T=T.slice(0,-1*W)),y.push(this.productions_[B[1]][0]),x.push(U.$),T.push(U._$),ee=w[y[y.length-2]][y[y.length-1]],y.push(ee);break;case 3:return!0}}return!0},"parse")},f=function(){var p={EOF:1,parseError:A(function(m,y){if(this.yy.parser)this.yy.parser.parseError(m,y);else throw new Error(m)},"parseError"),setInput:A(function(g,m){return this.yy=m||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var m=g.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:A(function(g){var m=g.length,y=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(g){this.unput(this.match.slice(g))},"less"),pastInput:A(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var g=this.pastInput(),m=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:A(function(g,m){var y,b,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),b=g[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var T in x)this[T]=x[T];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,m,y,b;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),T=0;T<x.length;T++)if(y=this._input.match(this.rules[x[T]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=T,this.options.backtrack_lexer){if(g=this.test_match(y,x[T]),g!==!1)return g;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(g=this.test_match(m,x[b]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var m=this.next();return m||this.lex()},"lex"),begin:A(function(m){this.conditionStack.push(m)},"begin"),popState:A(function(){var m=this.conditionStack.length-1;return m>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(m){return m=this.conditionStack.length-1-Math.abs(m||0),m>=0?this.conditionStack[m]:"INITIAL"},"topState"),pushState:A(function(m){this.begin(m)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(m,y,b,x){switch(b){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return p}();h.lexer=f;function d(){this.yy={}}return A(d,"Parser"),d.prototype=h,h.Parser=d,new d}();H_.parser=H_;var FEt=H_,zge={};qre(zge,{addEvent:()=>Zge,addSection:()=>qge,addTask:()=>Kge,addTaskOrg:()=>Qge,clear:()=>Vge,default:()=>BEt,getCommonDb:()=>Yge,getSections:()=>jge,getTasks:()=>Xge});var rv="",Gge=0,LP=[],vS=[],nv=[],Yge=A(()=>tL,"getCommonDb"),Vge=A(function(){LP.length=0,vS.length=0,rv="",nv.length=0,ca()},"clear"),qge=A(function(e){rv=e,LP.push(e)},"addSection"),jge=A(function(){return LP},"getSections"),Xge=A(function(){let e=_j();const t=100;let r=0;for(;!e&&r<t;)e=_j(),r++;return vS.push(...nv),vS},"getTasks"),Kge=A(function(e,t,r){const n={id:Gge++,section:rv,type:rv,task:e,score:t||0,events:r?[r]:[]};nv.push(n)},"addTask"),Zge=A(function(e){nv.find(r=>r.id===Gge-1).events.push(e)},"addEvent"),Qge=A(function(e){const t={section:rv,type:rv,description:e,task:e,classes:[]};vS.push(t)},"addTaskOrg"),_j=A(function(){const e=A(function(r){return nv[r].processed},"compileTask");let t=!0;for(const[r,n]of nv.entries())e(r),t=t&&n.processed;return t},"compileTasks"),BEt={clear:Vge,getCommonDb:Yge,addSection:qge,getSections:jge,getTasks:Xge,addTask:Kge,addTaskOrg:Qge,addEvent:Zge},$Et=12,ik=A(function(e,t){const r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),HEt=A(function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");a.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function o(u){const h=Mm().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}A(o,"smile");function l(u){const h=Mm().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);u.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}A(l,"sad");function c(u){u.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return A(c,"ambivalent"),t.score>3?o(a):t.score<3?l(a):c(a),n},"drawFace"),UEt=A(function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),Jge=A(function(e,t){const r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);const a=n.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.text(r),n},"drawText"),WEt=A(function(e,t){function r(a,o,l,c,u){return a+","+o+" "+(a+l)+","+o+" "+(a+l)+","+(o+c-u)+" "+(a+l-u*1.2)+","+(o+c)+" "+a+","+(o+c)}A(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,Jge(e,t)},"drawLabel"),zEt=A(function(e,t,r){const n=e.append("g"),a=MP();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,ik(n,a),eme(r)(t.text,n,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),Nj=-1,GEt=A(function(e,t,r){const n=t.x+r.width/2,a=e.append("g");Nj++;const o=300+5*30;a.append("line").attr("id","task"+Nj).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",o).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),HEt(a,{cx:n,cy:300+(5-t.score)*30,score:t.score});const l=MP();l.x=t.x,l.y=t.y,l.fill=t.fill,l.width=r.width,l.height=r.height,l.class="task task-type-"+t.num,l.rx=3,l.ry=3,ik(a,l),eme(r)(t.task,a,l.x,l.y,l.width,l.height,{class:"task"},r,t.colour)},"drawTask"),YEt=A(function(e,t){ik(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),VEt=A(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),MP=A(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),eme=function(){function e(a,o,l,c,u,h,f,d){const p=o.append("text").attr("x",l+u/2).attr("y",c+h/2+5).style("font-color",d).style("text-anchor","middle").text(a);n(p,f)}A(e,"byText");function t(a,o,l,c,u,h,f,d,p){const{taskFontSize:g,taskFontFamily:m}=d,y=a.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){const x=b*g-g*(y.length-1)/2,T=o.append("text").attr("x",l+u/2).attr("y",c).attr("fill",p).style("text-anchor","middle").style("font-size",g).style("font-family",m);T.append("tspan").attr("x",l+u/2).attr("dy",x).text(y[b]),T.attr("y",c+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(T,f)}}A(t,"byTspan");function r(a,o,l,c,u,h,f,d){const p=o.append("switch"),m=p.append("foreignObject").attr("x",l).attr("y",c).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,p,l,c,u,h,f,d),n(m,f)}A(r,"byFo");function n(a,o){for(const l in o)l in o&&a.attr(l,o[l])}return A(n,"_setTextAttrs"),function(a){return a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),qEt=A(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function DP(e,t){e.each(function(){var r=nt(this),n=r.text().split(/(\s+|<br>)/).reverse(),a,o=[],l=1.1,c=r.attr("y"),u=parseFloat(r.attr("dy")),h=r.text(null).append("tspan").attr("x",0).attr("y",c).attr("dy",u+"em");for(let f=0;f<n.length;f++)a=n[n.length-1-f],o.push(a),h.text(o.join(" ").trim()),(h.node().getComputedTextLength()>t||a==="<br>")&&(o.pop(),h.text(o.join(" ").trim()),a==="<br>"?o=[""]:o=[a],h=r.append("tspan").attr("x",0).attr("y",c).attr("dy",l+"em").text(a))})}A(DP,"wrap");var jEt=A(function(e,t,r,n){var d;const a=r%$Et-1,o=e.append("g");t.section=a,o.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+a));const l=o.append("g"),c=o.append("g"),h=c.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(DP,t.width).node().getBBox(),f=(d=n.fontSize)!=null&&d.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=h.height+f*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,c.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),KEt(l,t,a,n),t},"drawNode"),XEt=A(function(e,t,r){var c;const n=e.append("g"),o=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(DP,t.width).node().getBBox(),l=(c=r.fontSize)!=null&&c.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),o.height+l*1.1*.5+t.padding},"getVirtualNodeHeight"),KEt=A(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),vd={drawRect:ik,drawCircle:UEt,drawSection:zEt,drawText:Jge,drawLabel:WEt,drawTask:GEt,drawBackgroundRect:YEt,getTextObj:VEt,getNoteRect:MP,initGraphics:qEt,drawNode:jEt,getVirtualNodeHeight:XEt},ZEt=A(function(e,t,r,n){var I,_;const a=De(),o=a.leftMargin??50;me.debug("timeline",n.db);const l=a.securityLevel;let c;l==="sandbox"&&(c=nt("#i"+t));const h=nt(l==="sandbox"?c.nodes()[0].contentDocument.body:"body").select("#"+t);h.append("g");const f=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();me.debug("task",f),vd.initGraphics(h);const p=n.db.getSections();me.debug("sections",p);let g=0,m=0,y=0,b=0,x=50+o,T=50;b=50;let w=0,E=!0;p.forEach(function(R){const M={number:w,descr:R,section:w,width:150,padding:20,maxHeight:g},$=vd.getVirtualNodeHeight(h,M,a);me.debug("sectionHeight before draw",$),g=Math.max(g,$+20)});let S=0,C=0;me.debug("tasks.length",f.length);for(const[R,M]of f.entries()){const $={number:R,descr:M,section:M.section,width:150,padding:20,maxHeight:m},N=vd.getVirtualNodeHeight(h,$,a);me.debug("taskHeight before draw",N),m=Math.max(m,N+20),S=Math.max(S,M.events.length);let P=0;for(const F of M.events){const L={descr:F,section:M.section,number:M.section,width:150,padding:20,maxHeight:50};P+=vd.getVirtualNodeHeight(h,L,a)}C=Math.max(C,P)}me.debug("maxSectionHeight before draw",g),me.debug("maxTaskHeight before draw",m),p&&p.length>0?p.forEach(R=>{const M=f.filter(F=>F.section===R),$={number:w,descr:R,section:w,width:200*Math.max(M.length,1)-50,padding:20,maxHeight:g};me.debug("sectionNode",$);const N=h.append("g"),P=vd.drawNode(N,$,w,a);me.debug("sectionNode output",P),N.attr("transform",`translate(${x}, ${b})`),T+=g+50,M.length>0&&Lj(h,M,w,x,T,m,a,S,C,g,!1),x+=200*Math.max(M.length,1),T=b,w++}):(E=!1,Lj(h,f,w,x,T,m,a,S,C,g,!0));const k=h.node().getBBox();me.debug("bounds",k),d&&h.append("text").text(d).attr("x",k.width/2-o).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),y=E?g+m+150:m+100,h.append("g").attr("class","lineWrapper").append("line").attr("x1",o).attr("y1",y).attr("x2",k.width+3*o).attr("y2",y).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),wv(void 0,h,((I=a.timeline)==null?void 0:I.padding)??50,((_=a.timeline)==null?void 0:_.useMaxWidth)??!1)},"draw"),Lj=A(function(e,t,r,n,a,o,l,c,u,h,f){var d;for(const p of t){const g={descr:p.task,section:r,number:r,width:150,padding:20,maxHeight:o};me.debug("taskNode",g);const m=e.append("g").attr("class","taskWrapper"),b=vd.drawNode(m,g,r,l).height;if(me.debug("taskHeight after draw",b),m.attr("transform",`translate(${n}, ${a})`),o=Math.max(o,b),p.events){const x=e.append("g").attr("class","lineWrapper");let T=o;a+=100,T=T+QEt(e,p.events,r,n,a,l),a-=100,x.append("line").attr("x1",n+190/2).attr("y1",a+o).attr("x2",n+190/2).attr("y2",a+o+(f?o:h)+u+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,f&&!((d=l.timeline)!=null&&d.disableMulticolor)&&r++}a=a-10},"drawTasks"),QEt=A(function(e,t,r,n,a,o){let l=0;const c=a;a=a+100;for(const u of t){const h={descr:u,section:r,number:r,width:150,padding:20,maxHeight:50};me.debug("eventNode",h);const f=e.append("g").attr("class","eventWrapper"),p=vd.drawNode(f,h,r,o).height;l=l+p,f.attr("transform",`translate(${n}, ${a})`),a=a+10+p}return a=c,l},"drawEvents"),JEt={setConf:A(()=>{},"setConf"),draw:ZEt},eSt=A(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],yf(e["lineColor"+r])?e["lineColor"+r]=Lt(e["lineColor"+r],20):e["lineColor"+r]=Wt(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),tSt=A(e=>`
  .edge {
    stroke-width: 3;
  }
  ${eSt(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),rSt=tSt,nSt={db:zge,renderer:JEt,parser:FEt,styles:rSt};const iSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:nSt},Symbol.toStringTag,{value:"Module"}));function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function Of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aSt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _f(e,t,r){return t&&aSt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tme(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function na(e,t){return oSt(e)||cSt(e,t)||PP(e,t)||hSt()}function rme(e){return sSt(e)||lSt(e)||PP(e)||uSt()}function sSt(e){if(Array.isArray(e))return U_(e)}function oSt(e){if(Array.isArray(e))return e}function lSt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cSt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,l,c;try{for(r=r.call(e);!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(u){o=!0,c=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw c}}return n}}function PP(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uSt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hSt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mo(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=PP(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,c;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return o=u.done,u},e:function(u){l=!0,c=u},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(l)throw c}}}}var Mi=typeof window>"u"?null:window,Mj=Mi?Mi.navigator:null;Mi&&Mi.document;var fSt=ji(""),nme=ji({}),dSt=ji(function(){}),pSt=typeof HTMLElement>"u"?"undefined":ji(HTMLElement),U3=function(t){return t&&t.instanceString&&Xn(t.instanceString)?t.instanceString():null},zt=function(t){return t!=null&&ji(t)==fSt},Xn=function(t){return t!=null&&ji(t)===dSt},un=function(t){return!Bo(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Fr=function(t){return t!=null&&ji(t)===nme&&!un(t)&&t.constructor===Object},gSt=function(t){return t!=null&&ji(t)===nme},bt=function(t){return t!=null&&ji(t)===ji(1)&&!isNaN(t)},mSt=function(t){return bt(t)&&Math.floor(t)===t},yS=function(t){if(pSt!=="undefined")return t!=null&&t instanceof HTMLElement},Bo=function(t){return W3(t)||ime(t)},W3=function(t){return U3(t)==="collection"&&t._private.single},ime=function(t){return U3(t)==="collection"&&!t._private.single},FP=function(t){return U3(t)==="core"},ame=function(t){return U3(t)==="stylesheet"},vSt=function(t){return U3(t)==="event"},lf=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},ySt=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},bSt=function(t){return Fr(t)&&bt(t.x1)&&bt(t.x2)&&bt(t.y1)&&bt(t.y2)},xSt=function(t){return gSt(t)&&Xn(t.then)},TSt=function(){return Mj&&Mj.userAgent.match(/msie|trident|edge/i)},vx=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);return o.join("$")});var n=function a(){var o=this,l=arguments,c,u=r.apply(o,l),h=a.cache;return(c=h[u])||(c=h[u]=t.apply(o,l)),c};return n.cache={},n},BP=vx(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),ak=vx(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),sme=vx(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Dj=function(t){return lf(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},Gi="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",wSt="rgb[a]?\\(("+Gi+"[%]?)\\s*,\\s*("+Gi+"[%]?)\\s*,\\s*("+Gi+"[%]?)(?:\\s*,\\s*("+Gi+"))?\\)",ESt="rgb[a]?\\((?:"+Gi+"[%]?)\\s*,\\s*(?:"+Gi+"[%]?)\\s*,\\s*(?:"+Gi+"[%]?)(?:\\s*,\\s*(?:"+Gi+"))?\\)",SSt="hsl[a]?\\(("+Gi+")\\s*,\\s*("+Gi+"[%])\\s*,\\s*("+Gi+"[%])(?:\\s*,\\s*("+Gi+"))?\\)",ASt="hsl[a]?\\((?:"+Gi+")\\s*,\\s*(?:"+Gi+"[%])\\s*,\\s*(?:"+Gi+"[%])(?:\\s*,\\s*(?:"+Gi+"))?\\)",kSt="\\#[0-9a-fA-F]{3}",CSt="\\#[0-9a-fA-F]{6}",ome=function(t,r){return t<r?-1:t>r?1:0},ISt=function(t,r){return-1*ome(t,r)},Jt=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var a=Object.keys(n),o=0;o<a.length;o++){var l=a[o];e[l]=n[l]}}return e},RSt=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,a,o,l=16;return r?(n=parseInt(t[1]+t[1],l),a=parseInt(t[2]+t[2],l),o=parseInt(t[3]+t[3],l)):(n=parseInt(t[1]+t[2],l),a=parseInt(t[3]+t[4],l),o=parseInt(t[5]+t[6],l)),[n,a,o]}},OSt=function(t){var r,n,a,o,l,c,u,h;function f(m,y,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?m+(y-m)*6*b:b<1/2?y:b<2/3?m+(y-m)*(2/3-b)*6:m}var d=new RegExp("^"+SSt+"$").exec(t);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(d[2]),a<0||a>100||(a=a/100,o=parseFloat(d[3]),o<0||o>100)||(o=o/100,l=d[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(a===0)c=u=h=Math.round(o*255);else{var p=o<.5?o*(1+a):o+a-o*a,g=2*o-p;c=Math.round(255*f(g,p,n+1/3)),u=Math.round(255*f(g,p,n)),h=Math.round(255*f(g,p,n-1/3))}r=[c,u,h,l]}return r},_St=function(t){var r,n=new RegExp("^"+wSt+"$").exec(t);if(n){r=[];for(var a=[],o=1;o<=3;o++){var l=n[o];if(l[l.length-1]==="%"&&(a[o]=!0),l=parseFloat(l),a[o]&&(l=l/100*255),l<0||l>255)return;r.push(Math.floor(l))}var c=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(c&&!u)return;var h=n[4];if(h!==void 0){if(h=parseFloat(h),h<0||h>1)return;r.push(h)}}return r},NSt=function(t){return LSt[t.toLowerCase()]},lme=function(t){return(un(t)?t:null)||NSt(t)||RSt(t)||_St(t)||OSt(t)},LSt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cme=function(t){for(var r=t.map,n=t.keys,a=n.length,o=0;o<a;o++){var l=n[o];if(Fr(l))throw Error("Tried to set map with object key");o<n.length-1?(r[l]==null&&(r[l]={}),r=r[l]):r[l]=t.value}},ume=function(t){for(var r=t.map,n=t.keys,a=n.length,o=0;o<a;o++){var l=n[o];if(Fr(l))throw Error("Tried to get map with object key");if(r=r[l],r==null)return r}return r};function MSt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yp=MSt,b2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DSt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var PSt=typeof b2=="object"&&b2&&b2.Object===Object&&b2,FSt=PSt,BSt=typeof self=="object"&&self&&self.Object===Object&&self,$St=FSt||BSt||Function("return this")(),sk=$St,HSt=function(){return sk.Date.now()},R7=HSt,USt=/\s/;function WSt(e){for(var t=e.length;t--&&USt.test(e.charAt(t)););return t}var zSt=WSt,GSt=/^\s+/;function YSt(e){return e&&e.slice(0,zSt(e)+1).replace(GSt,"")}var VSt=YSt,qSt=sk.Symbol,iv=qSt,hme=Object.prototype,jSt=hme.hasOwnProperty,XSt=hme.toString,Yy=iv?iv.toStringTag:void 0;function KSt(e){var t=jSt.call(e,Yy),r=e[Yy];try{e[Yy]=void 0;var n=!0}catch{}var a=XSt.call(e);return n&&(t?e[Yy]=r:delete e[Yy]),a}var ZSt=KSt,QSt=Object.prototype,JSt=QSt.toString;function e6t(e){return JSt.call(e)}var t6t=e6t,r6t="[object Null]",n6t="[object Undefined]",Pj=iv?iv.toStringTag:void 0;function i6t(e){return e==null?e===void 0?n6t:r6t:Pj&&Pj in Object(e)?ZSt(e):t6t(e)}var fme=i6t;function a6t(e){return e!=null&&typeof e=="object"}var s6t=a6t,o6t="[object Symbol]";function l6t(e){return typeof e=="symbol"||s6t(e)&&fme(e)==o6t}var z3=l6t,Fj=NaN,c6t=/^[-+]0x[0-9a-f]+$/i,u6t=/^0b[01]+$/i,h6t=/^0o[0-7]+$/i,f6t=parseInt;function d6t(e){if(typeof e=="number")return e;if(z3(e))return Fj;if(yp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=VSt(e);var r=u6t.test(e);return r||h6t.test(e)?f6t(e.slice(2),r?2:8):c6t.test(e)?Fj:+e}var Bj=d6t,p6t="Expected a function",g6t=Math.max,m6t=Math.min;function v6t(e,t,r){var n,a,o,l,c,u,h=0,f=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(p6t);t=Bj(t)||0,yp(r)&&(f=!!r.leading,d="maxWait"in r,o=d?g6t(Bj(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p);function g(C){var k=n,O=a;return n=a=void 0,h=C,l=e.apply(O,k),l}function m(C){return h=C,c=setTimeout(x,t),f?g(C):l}function y(C){var k=C-u,O=C-h,I=t-k;return d?m6t(I,o-O):I}function b(C){var k=C-u,O=C-h;return u===void 0||k>=t||k<0||d&&O>=o}function x(){var C=R7();if(b(C))return T(C);c=setTimeout(x,y(C))}function T(C){return c=void 0,p&&n?g(C):(n=a=void 0,l)}function w(){c!==void 0&&clearTimeout(c),h=0,n=u=a=c=void 0}function E(){return c===void 0?l:T(R7())}function S(){var C=R7(),k=b(C);if(n=arguments,a=this,u=C,k){if(c===void 0)return m(u);if(d)return clearTimeout(c),c=setTimeout(x,t),g(u)}return c===void 0&&(c=setTimeout(x,t)),l}return S.cancel=w,S.flush=E,S}var G3=v6t,O7=Mi?Mi.performance:null,dme=O7&&O7.now?function(){return O7.now()}:function(){return Date.now()},y6t=function(){if(Mi){if(Mi.requestAnimationFrame)return function(e){Mi.requestAnimationFrame(e)};if(Mi.mozRequestAnimationFrame)return function(e){Mi.mozRequestAnimationFrame(e)};if(Mi.webkitRequestAnimationFrame)return function(e){Mi.webkitRequestAnimationFrame(e)};if(Mi.msRequestAnimationFrame)return function(e){Mi.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(dme())},1e3/60)}}(),bS=function(t){return y6t(t)},Nh=dme,Y1=9261,pme=65599,x2=5381,gme=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y1,n=r,a;a=t.next(),!a.done;)n=n*pme+a.value|0;return n},yx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y1;return r*pme+t|0},bx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x2;return(r<<5)+r+t|0},b6t=function(t,r){return t*2097152+r},l0=function(t){return t[0]*2097152+t[1]},w4=function(t,r){return[yx(t[0],r[0]),bx(t[1],r[1])]},x6t=function(t,r){var n={value:0,done:!1},a=0,o=t.length,l={next:function(){return a<o?n.value=t[a++]:n.done=!0,n}};return gme(l,r)},cf=function(t,r){var n={value:0,done:!1},a=0,o=t.length,l={next:function(){return a<o?n.value=t.charCodeAt(a++):n.done=!0,n}};return gme(l,r)},mme=function(){return T6t(arguments)},T6t=function(t){for(var r,n=0;n<t.length;n++){var a=t[n];n===0?r=cf(a):r=cf(a,r)}return r},$j=!0,w6t=console.warn!=null,E6t=console.trace!=null,$P=Number.MAX_SAFE_INTEGER||9007199254740991,vme=function(){return!0},xS=function(){return!1},Hj=function(){return 0},HP=function(){},Vn=function(t){throw new Error(t)},yme=function(t){if(t!==void 0)$j=!!t;else return $j},Qr=function(t){yme()&&(w6t?console.warn(t):(console.log(t),E6t&&console.trace()))},S6t=function(t){return Jt({},t)},eu=function(t){return t==null?t:un(t)?t.slice():Fr(t)?S6t(t):t},A6t=function(t){return t.slice()},bme=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},k6t={},xme=function(){return k6t},fa=function(t){var r=Object.keys(t);return function(n){for(var a={},o=0;o<r.length;o++){var l=r[o],c=n==null?void 0:n[l];a[l]=c===void 0?t[l]:c}return a}},uf=function(t,r,n){for(var a=t.length-1;a>=0;a--)t[a]===r&&t.splice(a,1)},UP=function(t){t.splice(0,t.length)},C6t=function(t,r){for(var n=0;n<r.length;n++){var a=r[n];t.push(a)}},Jl=function(t,r,n){return n&&(r=sme(n,r)),t[r]},A0=function(t,r,n,a){n&&(r=sme(n,r)),t[r]=a},I6t=function(){function e(){Of(this,e),this._obj={}}return _f(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),e}(),tu=typeof Map<"u"?Map:I6t,R6t="undefined",O6t=function(){function e(t){if(Of(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return _f(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),e}(),qv=(typeof Set>"u"?"undefined":ji(Set))!==R6t?Set:O6t,ok=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!FP(t)){Vn("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Vn("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var o=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new qv,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),r.renderedPosition){var l=r.renderedPosition,c=t.pan(),u=t.zoom();o.position={x:(l.x-c.x)/u,y:(l.y-c.y)/u}}var h=[];un(r.classes)?h=r.classes:zt(r.classes)&&(h=r.classes.split(/\s+/));for(var f=0,d=h.length;f<d;f++){var p=h[f];!p||p===""||o.classes.add(p)}this.createEmitter();var g=r.style||r.css;g&&(Qr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g)),(n===void 0||n)&&this.restore()},Uj=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,a,o){var l;Fr(n)&&!Bo(n)&&(l=n,n=l.roots||l.root,a=l.visit,o=l.directed),o=arguments.length===2&&!Xn(a)?a:o,a=Xn(a)?a:function(){};for(var c=this._private.cy,u=n=zt(n)?this.filter(n):n,h=[],f=[],d={},p={},g={},m=0,y,b=this.byGroup(),x=b.nodes,T=b.edges,w=0;w<u.length;w++){var E=u[w],S=E.id();E.isNode()&&(h.unshift(E),t.bfs&&(g[S]=!0,f.push(E)),p[S]=0)}for(var C=function(){var $=t.bfs?h.shift():h.pop(),N=$.id();if(t.dfs){if(g[N])return"continue";g[N]=!0,f.push($)}var P=p[N],F=d[N],L=F!=null?F.source():null,D=F!=null?F.target():null,B=F==null?void 0:$.same(L)?D[0]:L[0],H=void 0;if(H=a($,F,B,m++,P),H===!0)return y=$,"break";if(H===!1)return"break";for(var U=$.connectedEdges().filter(function(Z){return(!o||Z.source().same($))&&T.has(Z)}),G=0;G<U.length;G++){var W=U[G],ee=W.connectedNodes().filter(function(Z){return!Z.same($)&&x.has(Z)}),ce=ee.id();ee.length!==0&&!g[ce]&&(ee=ee[0],h.push(ee),t.bfs&&(g[ce]=!0,f.push(ee)),d[ce]=W,p[ce]=p[N]+1)}};h.length!==0;){var k=C();if(k!=="continue"&&k==="break")break}for(var O=c.collection(),I=0;I<f.length;I++){var _=f[I],R=d[_.id()];R!=null&&O.push(R),O.push(_)}return{path:c.collection(O),found:c.collection(y)}}},xx={breadthFirstSearch:Uj({bfs:!0}),depthFirstSearch:Uj({dfs:!0})};xx.bfs=xx.breadthFirstSearch;xx.dfs=xx.depthFirstSearch;var _6t=DSt(function(e,t){(function(){var r,n,a,o,l,c,u,h,f,d,p,g,m,y,b;a=Math.floor,d=Math.min,n=function(x,T){return x<T?-1:x>T?1:0},f=function(x,T,w,E,S){var C;if(w==null&&(w=0),S==null&&(S=n),w<0)throw new Error("lo must be non-negative");for(E==null&&(E=x.length);w<E;)C=a((w+E)/2),S(T,x[C])<0?E=C:w=C+1;return[].splice.apply(x,[w,w-w].concat(T)),T},c=function(x,T,w){return w==null&&(w=n),x.push(T),y(x,0,x.length-1,w)},l=function(x,T){var w,E;return T==null&&(T=n),w=x.pop(),x.length?(E=x[0],x[0]=w,b(x,0,T)):E=w,E},h=function(x,T,w){var E;return w==null&&(w=n),E=x[0],x[0]=T,b(x,0,w),E},u=function(x,T,w){var E;return w==null&&(w=n),x.length&&w(x[0],T)<0&&(E=[x[0],T],T=E[0],x[0]=E[1],b(x,0,w)),T},o=function(x,T){var w,E,S,C,k,O;for(T==null&&(T=n),C=(function(){O=[];for(var I=0,_=a(x.length/2);0<=_?I<_:I>_;0<=_?I++:I--)O.push(I);return O}).apply(this).reverse(),k=[],E=0,S=C.length;E<S;E++)w=C[E],k.push(b(x,w,T));return k},m=function(x,T,w){var E;if(w==null&&(w=n),E=x.indexOf(T),E!==-1)return y(x,0,E,w),b(x,E,w)},p=function(x,T,w){var E,S,C,k,O;if(w==null&&(w=n),S=x.slice(0,T),!S.length)return S;for(o(S,w),O=x.slice(T),C=0,k=O.length;C<k;C++)E=O[C],u(S,E,w);return S.sort(w).reverse()},g=function(x,T,w){var E,S,C,k,O,I,_,R,M;if(w==null&&(w=n),T*10<=x.length){if(C=x.slice(0,T).sort(w),!C.length)return C;for(S=C[C.length-1],_=x.slice(T),k=0,I=_.length;k<I;k++)E=_[k],w(E,S)<0&&(f(C,E,0,null,w),C.pop(),S=C[C.length-1]);return C}for(o(x,w),M=[],O=0,R=d(T,x.length);0<=R?O<R:O>R;0<=R?++O:--O)M.push(l(x,w));return M},y=function(x,T,w,E){var S,C,k;for(E==null&&(E=n),S=x[w];w>T;){if(k=w-1>>1,C=x[k],E(S,C)<0){x[w]=C,w=k;continue}break}return x[w]=S},b=function(x,T,w){var E,S,C,k,O;for(w==null&&(w=n),S=x.length,O=T,C=x[T],E=2*T+1;E<S;)k=E+1,k<S&&!(w(x[E],x[k])<0)&&(E=k),x[T]=x[E],T=E,E=2*T+1;return x[T]=C,y(x,O,T,w)},r=function(){x.push=c,x.pop=l,x.replace=h,x.pushpop=u,x.heapify=o,x.updateItem=m,x.nlargest=p,x.nsmallest=g;function x(T){this.cmp=T??n,this.nodes=[]}return x.prototype.push=function(T){return c(this.nodes,T,this.cmp)},x.prototype.pop=function(){return l(this.nodes,this.cmp)},x.prototype.peek=function(){return this.nodes[0]},x.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},x.prototype.replace=function(T){return h(this.nodes,T,this.cmp)},x.prototype.pushpop=function(T){return u(this.nodes,T,this.cmp)},x.prototype.heapify=function(){return o(this.nodes,this.cmp)},x.prototype.updateItem=function(T){return m(this.nodes,T,this.cmp)},x.prototype.clear=function(){return this.nodes=[]},x.prototype.empty=function(){return this.nodes.length===0},x.prototype.size=function(){return this.nodes.length},x.prototype.clone=function(){var T;return T=new x,T.nodes=this.nodes.slice(0),T},x.prototype.toArray=function(){return this.nodes.slice(0)},x.prototype.insert=x.prototype.push,x.prototype.top=x.prototype.peek,x.prototype.front=x.prototype.peek,x.prototype.has=x.prototype.contains,x.prototype.copy=x.prototype.clone,x}(),function(x,T){return e.exports=T()}(this,function(){return r})}).call(b2)}),Y3=_6t,N6t=fa({root:null,weight:function(t){return 1},directed:!1}),L6t={dijkstra:function(t){if(!Fr(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=N6t(t),a=n.root,o=n.weight,l=n.directed,c=this,u=o,h=zt(a)?this.filter(a)[0]:a[0],f={},d={},p={},g=this.byGroup(),m=g.nodes,y=g.edges;y.unmergeBy(function(P){return P.isLoop()});for(var b=function(F){return f[F.id()]},x=function(F,L){f[F.id()]=L,T.updateItem(F)},T=new Y3(function(P,F){return b(P)-b(F)}),w=0;w<m.length;w++){var E=m[w];f[E.id()]=E.same(h)?0:1/0,T.push(E)}for(var S=function(F,L){for(var D=(l?F.edgesTo(L):F.edgesWith(L)).intersect(y),B=1/0,H,U=0;U<D.length;U++){var G=D[U],W=u(G);(W<B||!H)&&(B=W,H=G)}return{edge:H,dist:B}};T.size()>0;){var C=T.pop(),k=b(C),O=C.id();if(p[O]=k,k!==1/0)for(var I=C.neighborhood().intersect(m),_=0;_<I.length;_++){var R=I[_],M=R.id(),$=S(C,R),N=k+$.dist;N<b(R)&&(x(R,N),d[M]={node:C,edge:$.edge})}}return{distanceTo:function(F){var L=zt(F)?m.filter(F)[0]:F[0];return p[L.id()]},pathTo:function(F){var L=zt(F)?m.filter(F)[0]:F[0],D=[],B=L,H=B.id();if(L.length>0)for(D.unshift(L);d[H];){var U=d[H];D.unshift(U.edge),D.unshift(U.node),B=U.node,H=B.id()}return c.spawn(D)}}}},M6t={kruskal:function(t){t=t||function(w){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,o=n.length,l=new Array(o),c=n,u=function(E){for(var S=0;S<l.length;S++){var C=l[S];if(C.has(E))return S}},h=0;h<o;h++)l[h]=this.spawn(n[h]);for(var f=a.sort(function(w,E){return t(w)-t(E)}),d=0;d<f.length;d++){var p=f[d],g=p.source()[0],m=p.target()[0],y=u(g),b=u(m),x=l[y],T=l[b];y!==b&&(c.merge(p),x.merge(T),l.splice(b,1))}return c}},D6t=fa({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),P6t={aStar:function(t){var r=this.cy(),n=D6t(t),a=n.root,o=n.goal,l=n.heuristic,c=n.directed,u=n.weight;a=r.collection(a)[0],o=r.collection(o)[0];var h=a.id(),f=o.id(),d={},p={},g={},m=new Y3(function(H,U){return p[H.id()]-p[U.id()]}),y=new qv,b={},x={},T=function(U,G){m.push(U),y.add(G)},w,E,S=function(){w=m.pop(),E=w.id(),y.delete(E)},C=function(U){return y.has(U)};T(a,h),d[h]=0,p[h]=l(a);for(var k=0;m.size()>0;){if(S(),k++,E===f){for(var O=[],I=o,_=f,R=x[_];O.unshift(I),R!=null&&O.unshift(R),I=b[_],I!=null;)_=I.id(),R=x[_];return{found:!0,distance:d[E],path:this.spawn(O),steps:k}}g[E]=!0;for(var M=w._private.edges,$=0;$<M.length;$++){var N=M[$];if(this.hasElementWithId(N.id())&&!(c&&N.data("source")!==E)){var P=N.source(),F=N.target(),L=P.id()!==E?P:F,D=L.id();if(this.hasElementWithId(D)&&!g[D]){var B=d[E]+u(N);if(!C(D)){d[D]=B,p[D]=B+l(L),T(L,D),b[D]=w,x[D]=N;continue}B<d[D]&&(d[D]=B,p[D]=B+l(L),b[D]=w,x[D]=N)}}}}return{found:!1,distance:void 0,path:void 0,steps:k}}},F6t=fa({weight:function(t){return 1},directed:!1}),B6t={floydWarshall:function(t){for(var r=this.cy(),n=F6t(t),a=n.weight,o=n.directed,l=a,c=this.byGroup(),u=c.nodes,h=c.edges,f=u.length,d=f*f,p=function(W){return u.indexOf(W)},g=function(W){return u[W]},m=new Array(d),y=0;y<d;y++){var b=y%f,x=(y-b)/f;x===b?m[y]=0:m[y]=1/0}for(var T=new Array(d),w=new Array(d),E=0;E<h.length;E++){var S=h[E],C=S.source()[0],k=S.target()[0];if(C!==k){var O=p(C),I=p(k),_=O*f+I,R=l(S);if(m[_]>R&&(m[_]=R,T[_]=I,w[_]=S),!o){var M=I*f+O;!o&&m[M]>R&&(m[M]=R,T[M]=O,w[M]=S)}}}for(var $=0;$<f;$++)for(var N=0;N<f;N++)for(var P=N*f+$,F=0;F<f;F++){var L=N*f+F,D=$*f+F;m[P]+m[D]<m[L]&&(m[L]=m[P]+m[D],T[L]=T[P])}var B=function(W){return(zt(W)?r.filter(W):W)[0]},H=function(W){return p(B(W))},U={distance:function(W,ee){var ce=H(W),Z=H(ee);return m[ce*f+Z]},path:function(W,ee){var ce=H(W),Z=H(ee),J=g(ce);if(ce===Z)return J.collection();if(T[ce*f+Z]==null)return r.collection();var oe=r.collection(),Y=ce,X;for(oe.merge(J);ce!==Z;)Y=ce,ce=T[ce*f+Z],X=w[Y*f+ce],oe.merge(X),oe.merge(g(ce));return oe}};return U}},$6t=fa({weight:function(t){return 1},directed:!1,root:null}),H6t={bellmanFord:function(t){var r=this,n=$6t(t),a=n.weight,o=n.directed,l=n.root,c=a,u=this,h=this.cy(),f=this.byGroup(),d=f.edges,p=f.nodes,g=p.length,m=new tu,y=!1,b=[];l=h.collection(l)[0],d.unmergeBy(function(ue){return ue.isLoop()});for(var x=d.length,T=function(se){var fe=m.get(se.id());return fe||(fe={},m.set(se.id(),fe)),fe},w=function(se){return(zt(se)?h.$(se):se)[0]},E=function(se){return T(w(se)).dist},S=function(se){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,ye=w(se),he=[],Ae=ye;;){if(Ae==null)return r.spawn();var Ce=T(Ae),Ie=Ce.edge,Le=Ce.pred;if(he.unshift(Ae[0]),Ae.same(fe)&&he.length>0)break;Ie!=null&&he.unshift(Ie),Ae=Le}return u.spawn(he)},C=0;C<g;C++){var k=p[C],O=T(k);k.same(l)?O.dist=0:O.dist=1/0,O.pred=null,O.edge=null}for(var I=!1,_=function(se,fe,ye,he,Ae,Ce){var Ie=he.dist+Ce;Ie<Ae.dist&&!ye.same(he.edge)&&(Ae.dist=Ie,Ae.pred=se,Ae.edge=ye,I=!0)},R=1;R<g;R++){I=!1;for(var M=0;M<x;M++){var $=d[M],N=$.source(),P=$.target(),F=c($),L=T(N),D=T(P);_(N,P,$,L,D,F),o||_(P,N,$,D,L,F)}if(!I)break}if(I)for(var B=[],H=0;H<x;H++){var U=d[H],G=U.source(),W=U.target(),ee=c(U),ce=T(G).dist,Z=T(W).dist;if(ce+ee<Z||!o&&Z+ee<ce)if(y||(Qr("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),t.findNegativeWeightCycles!==!1){var J=[];ce+ee<Z&&J.push(G),!o&&Z+ee<ce&&J.push(W);for(var oe=J.length,Y=0;Y<oe;Y++){var X=J[Y],K=[X];K.push(T(X).edge);for(var z=T(X).pred;K.indexOf(z)===-1;)K.push(z),K.push(T(z).edge),z=T(z).pred;K=K.slice(K.indexOf(z));for(var j=K[0].id(),te=0,re=2;re<K.length;re+=2)K[re].id()<j&&(j=K[re].id(),te=re);K=K.slice(te).concat(K.slice(0,te)),K.push(K[0]);var Se=K.map(function(ue){return ue.id()}).join(",");B.indexOf(Se)===-1&&(b.push(u.spawn(K)),B.push(Se))}}else break}return{distanceTo:E,pathTo:S,hasNegativeWeightCycle:y,negativeWeightCycles:b}}},U6t=Math.sqrt(2),W6t=function(t,r,n){n.length===0&&Vn("Karger-Stein must be run on a connected (sub)graph");for(var a=n[t],o=a[1],l=a[2],c=r[o],u=r[l],h=n,f=h.length-1;f>=0;f--){var d=h[f],p=d[1],g=d[2];(r[p]===c&&r[g]===u||r[p]===u&&r[g]===c)&&h.splice(f,1)}for(var m=0;m<h.length;m++){var y=h[m];y[1]===u?(h[m]=y.slice(),h[m][1]=c):y[2]===u&&(h[m]=y.slice(),h[m][2]=c)}for(var b=0;b<r.length;b++)r[b]===u&&(r[b]=c);return h},_7=function(t,r,n,a){for(;n>a;){var o=Math.floor(Math.random()*r.length);r=W6t(o,t,r),n--}return r},z6t={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(D){return D.isLoop()});var o=n.length,l=a.length,c=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/U6t);if(o<2){Vn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var h=[],f=0;f<l;f++){var d=a[f];h.push([f,n.indexOf(d.source()),n.indexOf(d.target())])}for(var p=1/0,g=[],m=new Array(o),y=new Array(o),b=new Array(o),x=function(B,H){for(var U=0;U<o;U++)H[U]=B[U]},T=0;T<=c;T++){for(var w=0;w<o;w++)y[w]=w;var E=_7(y,h.slice(),o,u),S=E.slice();x(y,b);var C=_7(y,E,u,2),k=_7(b,S,u,2);C.length<=k.length&&C.length<p?(p=C.length,g=C,x(y,m)):k.length<=C.length&&k.length<p&&(p=k.length,g=k,x(b,m))}for(var O=this.spawn(g.map(function(D){return a[D[0]]})),I=this.spawn(),_=this.spawn(),R=m[0],M=0;M<m.length;M++){var $=m[M],N=n[M];$===R?I.merge(N):_.merge(N)}var P=function(B){var H=t.spawn();return B.forEach(function(U){H.merge(U),U.connectedEdges().forEach(function(G){t.contains(G)&&!O.contains(G)&&H.merge(G)})}),H},F=[P(I),P(_)],L={cut:O,components:F,partition1:I,partition2:_};return L}},G6t=function(t){return{x:t.x,y:t.y}},lk=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},Tme=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},V1=function(t){return{x:t[0],y:t[1]}},Y6t=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,o=r;o<n;o++){var l=t[o];isFinite(l)&&(a=Math.min(l,a))}return a},V6t=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,o=r;o<n;o++){var l=t[o];isFinite(l)&&(a=Math.max(l,a))}return a},q6t=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,o=0,l=r;l<n;l++){var c=t[l];isFinite(c)&&(a+=c,o++)}return a/o},j6t=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var c=0,u=t.length-1;u>=0;u--){var h=t[u];l?isFinite(h)||(t[u]=-1/0,c++):t.splice(u,1)}o&&t.sort(function(p,g){return p-g});var f=t.length,d=Math.floor(f/2);return f%2!==0?t[d+1+c]:(t[d-1+c]+t[d+c])/2},X6t=function(t){return Math.PI*t/180},E4=function(t,r){return Math.atan2(r,t)-Math.PI/2},WP=Math.log2||function(e){return Math.log(e)/Math.log(2)},wme=function(t){return t>0?1:t<0?-1:0},bp=function(t,r){return Math.sqrt(sd(t,r))},sd=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n*n+a*a},K6t=function(t){for(var r=t.length,n=0,a=0;a<r;a++)n+=t[a];for(var o=0;o<r;o++)t[o]=t[o]/n;return t},Ji=function(t,r,n,a){return(1-a)*(1-a)*t+2*(1-a)*a*r+a*a*n},wg=function(t,r,n,a){return{x:Ji(t.x,r.x,n.x,a),y:Ji(t.y,r.y,n.y,a)}},Z6t=function(t,r,n,a){var o={x:r.x-t.x,y:r.y-t.y},l=bp(t,r),c={x:o.x/l,y:o.y/l};return n=n??0,a=a??n*l,{x:t.x+c.x*a,y:t.y+c.y*a}},Tx=function(t,r,n){return Math.max(t,Math.min(n,r))},co=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},Q6t=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},J6t=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},eAt=function(t,r,n){return{x1:t.x1+r,x2:t.x2+r,y1:t.y1+n,y2:t.y2+n,w:t.w,h:t.h}},Eme=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},tAt=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},$w=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Hw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,o,l;if(r.length===1)n=a=o=l=r[0];else if(r.length===2)n=o=r[0],l=a=r[1];else if(r.length===4){var c=na(r,4);n=c[0],a=c[1],o=c[2],l=c[3]}return t.x1-=l,t.x2+=a,t.y1-=n,t.y2+=o,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Wj=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},zP=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},av=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},rAt=function(t,r){return av(t,r.x,r.y)},Sme=function(t,r){return av(t,r.x1,r.y1)&&av(t,r.x2,r.y2)},Ame=function(t,r,n,a,o,l,c){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",h=u==="auto"?xp(o,l):u,f=o/2,d=l/2;h=Math.min(h,f,d);var p=h!==f,g=h!==d,m;if(p){var y=n-f+h-c,b=a-d-c,x=n+f-h+c,T=b;if(m=N0(t,r,n,a,y,b,x,T,!1),m.length>0)return m}if(g){var w=n+f+c,E=a-d+h-c,S=w,C=a+d-h+c;if(m=N0(t,r,n,a,w,E,S,C,!1),m.length>0)return m}if(p){var k=n-f+h-c,O=a+d+c,I=n+f-h+c,_=O;if(m=N0(t,r,n,a,k,O,I,_,!1),m.length>0)return m}if(g){var R=n-f-c,M=a-d+h-c,$=R,N=a+d-h+c;if(m=N0(t,r,n,a,R,M,$,N,!1),m.length>0)return m}var P;{var F=n-f+h,L=a-d+h;if(P=T2(t,r,n,a,F,L,h+c),P.length>0&&P[0]<=F&&P[1]<=L)return[P[0],P[1]]}{var D=n+f-h,B=a-d+h;if(P=T2(t,r,n,a,D,B,h+c),P.length>0&&P[0]>=D&&P[1]<=B)return[P[0],P[1]]}{var H=n+f-h,U=a+d-h;if(P=T2(t,r,n,a,H,U,h+c),P.length>0&&P[0]>=H&&P[1]>=U)return[P[0],P[1]]}{var G=n-f+h,W=a+d-h;if(P=T2(t,r,n,a,G,W,h+c),P.length>0&&P[0]<=G&&P[1]>=W)return[P[0],P[1]]}return[]},nAt=function(t,r,n,a,o,l,c){var u=c,h=Math.min(n,o),f=Math.max(n,o),d=Math.min(a,l),p=Math.max(a,l);return h-u<=t&&t<=f+u&&d-u<=r&&r<=p+u},iAt=function(t,r,n,a,o,l,c,u,h){var f={x1:Math.min(n,c,o)-h,x2:Math.max(n,c,o)+h,y1:Math.min(a,u,l)-h,y2:Math.max(a,u,l)+h};return!(t<f.x1||t>f.x2||r<f.y1||r>f.y2)},aAt=function(t,r,n,a){n-=a;var o=r*r-4*t*n;if(o<0)return[];var l=Math.sqrt(o),c=2*t,u=(-r+l)/c,h=(-r-l)/c;return[u,h]},sAt=function(t,r,n,a,o){var l=1e-5;t===0&&(t=l),r/=t,n/=t,a/=t;var c,u,h,f,d,p,g,m;if(u=(3*n-r*r)/9,h=-(27*a)+r*(9*n-2*(r*r)),h/=54,c=u*u*u+h*h,o[1]=0,g=r/3,c>0){d=h+Math.sqrt(c),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=h-Math.sqrt(c),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),o[0]=-g+d+p,g+=(d+p)/2,o[4]=o[2]=-g,g=Math.sqrt(3)*(-p+d)/2,o[3]=g,o[5]=-g;return}if(o[5]=o[3]=0,c===0){m=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),o[0]=-g+2*m,o[4]=o[2]=-(m+g);return}u=-u,f=u*u*u,f=Math.acos(h/Math.sqrt(f)),m=2*Math.sqrt(u),o[0]=-g+m*Math.cos(f/3),o[2]=-g+m*Math.cos((f+2*Math.PI)/3),o[4]=-g+m*Math.cos((f+4*Math.PI)/3)},oAt=function(t,r,n,a,o,l,c,u){var h=1*n*n-4*n*o+2*n*c+4*o*o-4*o*c+c*c+a*a-4*a*l+2*a*u+4*l*l-4*l*u+u*u,f=1*9*n*o-3*n*n-3*n*c-6*o*o+3*o*c+9*a*l-3*a*a-3*a*u-6*l*l+3*l*u,d=1*3*n*n-6*n*o+n*c-n*t+2*o*o+2*o*t-c*t+3*a*a-6*a*l+a*u-a*r+2*l*l+2*l*r-u*r,p=1*n*o-n*n+n*t-o*t+a*l-a*a+a*r-l*r,g=[];sAt(h,f,d,p,g);for(var m=1e-7,y=[],b=0;b<6;b+=2)Math.abs(g[b+1])<m&&g[b]>=0&&g[b]<=1&&y.push(g[b]);y.push(1),y.push(0);for(var x=-1,T,w,E,S=0;S<y.length;S++)T=Math.pow(1-y[S],2)*n+2*(1-y[S])*y[S]*o+y[S]*y[S]*c,w=Math.pow(1-y[S],2)*a+2*(1-y[S])*y[S]*l+y[S]*y[S]*u,E=Math.pow(T-t,2)+Math.pow(w-r,2),x>=0?E<x&&(x=E):x=E;return x},lAt=function(t,r,n,a,o,l){var c=[t-n,r-a],u=[o-n,l-a],h=u[0]*u[0]+u[1]*u[1],f=c[0]*c[0]+c[1]*c[1],d=c[0]*u[0]+c[1]*u[1],p=d*d/h;return d<0?f:p>h?(t-o)*(t-o)+(r-l)*(r-l):f-p},Zs=function(t,r,n){for(var a,o,l,c,u,h=0,f=0;f<n.length/2;f++)if(a=n[f*2],o=n[f*2+1],f+1<n.length/2?(l=n[(f+1)*2],c=n[(f+1)*2+1]):(l=n[(f+1-n.length/2)*2],c=n[(f+1-n.length/2)*2+1]),!(a==t&&l==t))if(a>=t&&t>=l||a<=t&&t<=l)u=(t-a)/(l-a)*(c-o)+o,u>r&&h++;else continue;return h%2!==0},Lh=function(t,r,n,a,o,l,c,u,h){var f=new Array(n.length),d;u[0]!=null?(d=Math.atan(u[1]/u[0]),u[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=u;for(var p=Math.cos(-d),g=Math.sin(-d),m=0;m<f.length/2;m++)f[m*2]=l/2*(n[m*2]*p-n[m*2+1]*g),f[m*2+1]=c/2*(n[m*2+1]*p+n[m*2]*g),f[m*2]+=a,f[m*2+1]+=o;var y;if(h>0){var b=wS(f,-h);y=TS(b)}else y=f;return Zs(t,r,y)},cAt=function(t,r,n,a,o,l,c,u){for(var h=new Array(n.length*2),f=0;f<u.length;f++){var d=u[f];h[f*4+0]=d.startX,h[f*4+1]=d.startY,h[f*4+2]=d.stopX,h[f*4+3]=d.stopY;var p=Math.pow(d.cx-t,2)+Math.pow(d.cy-r,2);if(p<=Math.pow(d.radius,2))return!0}return Zs(t,r,h)},TS=function(t){for(var r=new Array(t.length/2),n,a,o,l,c,u,h,f,d=0;d<t.length/4;d++){n=t[d*4],a=t[d*4+1],o=t[d*4+2],l=t[d*4+3],d<t.length/4-1?(c=t[(d+1)*4],u=t[(d+1)*4+1],h=t[(d+1)*4+2],f=t[(d+1)*4+3]):(c=t[0],u=t[1],h=t[2],f=t[3]);var p=N0(n,a,o,l,c,u,h,f,!0);r[d*2]=p[0],r[d*2+1]=p[1]}return r},wS=function(t,r){for(var n=new Array(t.length*2),a,o,l,c,u=0;u<t.length/2;u++){a=t[u*2],o=t[u*2+1],u<t.length/2-1?(l=t[(u+1)*2],c=t[(u+1)*2+1]):(l=t[0],c=t[1]);var h=c-o,f=-(l-a),d=Math.sqrt(h*h+f*f),p=h/d,g=f/d;n[u*4]=a+p*r,n[u*4+1]=o+g*r,n[u*4+2]=l+p*r,n[u*4+3]=c+g*r}return n},uAt=function(t,r,n,a,o,l){var c=n-t,u=a-r;c/=o,u/=l;var h=Math.sqrt(c*c+u*u),f=h-1;if(f<0)return[];var d=f/h;return[(n-t)*d+t,(a-r)*d+r]},Nd=function(t,r,n,a,o,l,c){return t-=o,r-=l,t/=n/2+c,r/=a/2+c,t*t+r*r<=1},T2=function(t,r,n,a,o,l,c){var u=[n-t,a-r],h=[t-o,r-l],f=u[0]*u[0]+u[1]*u[1],d=2*(h[0]*u[0]+h[1]*u[1]),p=h[0]*h[0]+h[1]*h[1]-c*c,g=d*d-4*f*p;if(g<0)return[];var m=(-d+Math.sqrt(g))/(2*f),y=(-d-Math.sqrt(g))/(2*f),b=Math.min(m,y),x=Math.max(m,y),T=[];if(b>=0&&b<=1&&T.push(b),x>=0&&x<=1&&T.push(x),T.length===0)return[];var w=T[0]*u[0]+t,E=T[0]*u[1]+r;if(T.length>1){if(T[0]==T[1])return[w,E];var S=T[1]*u[0]+t,C=T[1]*u[1]+r;return[w,E,S,C]}else return[w,E]},N7=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},N0=function(t,r,n,a,o,l,c,u,h){var f=t-o,d=n-t,p=c-o,g=r-l,m=a-r,y=u-l,b=p*g-y*f,x=d*g-m*f,T=y*d-p*m;if(T!==0){var w=b/T,E=x/T,S=.001,C=0-S,k=1+S;return C<=w&&w<=k&&C<=E&&E<=k?[t+w*d,r+w*m]:h?[t+w*d,r+w*m]:[]}else return b===0||x===0?N7(t,n,c)===c?[c,u]:N7(t,n,o)===o?[o,l]:N7(o,c,n)===n?[n,a]:[]:[]},wx=function(t,r,n,a,o,l,c,u){var h=[],f,d=new Array(n.length),p=!0;l==null&&(p=!1);var g;if(p){for(var m=0;m<d.length/2;m++)d[m*2]=n[m*2]*l+a,d[m*2+1]=n[m*2+1]*c+o;if(u>0){var y=wS(d,-u);g=TS(y)}else g=d}else g=n;for(var b,x,T,w,E=0;E<g.length/2;E++)b=g[E*2],x=g[E*2+1],E<g.length/2-1?(T=g[(E+1)*2],w=g[(E+1)*2+1]):(T=g[0],w=g[1]),f=N0(t,r,a,o,b,x,T,w),f.length!==0&&h.push(f[0],f[1]);return h},hAt=function(t,r,n,a,o,l,c,u,h){var f=[],d,p=new Array(n.length*2);h.forEach(function(T,w){w===0?(p[p.length-2]=T.startX,p[p.length-1]=T.startY):(p[w*4-2]=T.startX,p[w*4-1]=T.startY),p[w*4]=T.stopX,p[w*4+1]=T.stopY,d=T2(t,r,a,o,T.cx,T.cy,T.radius),d.length!==0&&f.push(d[0],d[1])});for(var g=0;g<p.length/4;g++)d=N0(t,r,a,o,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),d.length!==0&&f.push(d[0],d[1]);if(f.length>2){for(var m=[f[0],f[1]],y=Math.pow(m[0]-t,2)+Math.pow(m[1]-r,2),b=1;b<f.length/2;b++){var x=Math.pow(f[b*2]-t,2)+Math.pow(f[b*2+1]-r,2);x<=y&&(m[0]=f[b*2],m[1]=f[b*2+1],y=x)}return m}return f},S4=function(t,r,n){var a=[t[0]-r[0],t[1]-r[1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),l=(o-n)/o;return l<0&&(l=1e-5),[r[0]+l*a[0],r[1]+l*a[1]]},gs=function(t,r){var n=W_(t,r);return n=kme(n),n},kme=function(t){for(var r,n,a=t.length/2,o=1/0,l=1/0,c=-1/0,u=-1/0,h=0;h<a;h++)r=t[2*h],n=t[2*h+1],o=Math.min(o,r),c=Math.max(c,r),l=Math.min(l,n),u=Math.max(u,n);for(var f=2/(c-o),d=2/(u-l),p=0;p<a;p++)r=t[2*p]=t[2*p]*f,n=t[2*p+1]=t[2*p+1]*d,o=Math.min(o,r),c=Math.max(c,r),l=Math.min(l,n),u=Math.max(u,n);if(l<-1)for(var g=0;g<a;g++)n=t[2*g+1]=t[2*g+1]+(-1-l);return t},W_=function(t,r){var n=1/t*2*Math.PI,a=t%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var o=new Array(t*2),l,c=0;c<t;c++)l=c*n+a,o[2*c]=Math.cos(l),o[2*c+1]=Math.sin(-l);return o},xp=function(t,r){return Math.min(t/4,r/4,8)},Cme=function(t,r){return Math.min(t/10,r/10,8)},GP=function(){return 8},fAt=function(t,r,n){return[t-2*r+n,2*(r-t),t]},z_=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},dAt=fa({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),pAt={pageRank:function(t){for(var r=dAt(t),n=r.dampingFactor,a=r.precision,o=r.iterations,l=r.weight,c=this._private.cy,u=this.byGroup(),h=u.nodes,f=u.edges,d=h.length,p=d*d,g=f.length,m=new Array(p),y=new Array(d),b=(1-n)/d,x=0;x<d;x++){for(var T=0;T<d;T++){var w=x*d+T;m[w]=0}y[x]=0}for(var E=0;E<g;E++){var S=f[E],C=S.data("source"),k=S.data("target");if(C!==k){var O=h.indexOfId(C),I=h.indexOfId(k),_=l(S),R=I*d+O;m[R]+=_,y[O]+=_}}for(var M=1/d+b,$=0;$<d;$++)if(y[$]===0)for(var N=0;N<d;N++){var P=N*d+$;m[P]=M}else for(var F=0;F<d;F++){var L=F*d+$;m[L]=m[L]/y[$]+b}for(var D=new Array(d),B=new Array(d),H,U=0;U<d;U++)D[U]=1;for(var G=0;G<o;G++){for(var W=0;W<d;W++)B[W]=0;for(var ee=0;ee<d;ee++)for(var ce=0;ce<d;ce++){var Z=ee*d+ce;B[ee]+=m[Z]*D[ce]}K6t(B),H=D,D=B,B=H;for(var J=0,oe=0;oe<d;oe++){var Y=H[oe]-D[oe];J+=Y*Y}if(J<a)break}var X={rank:function(z){return z=c.collection(z)[0],D[h.indexOf(z)]}};return X}},zj=fa({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Eg={degreeCentralityNormalized:function(t){t=zj(t);var r=this.cy(),n=this.nodes(),a=n.length;if(t.directed){for(var f={},d={},p=0,g=0,m=0;m<a;m++){var y=n[m],b=y.id();t.root=y;var x=this.degreeCentrality(t);p<x.indegree&&(p=x.indegree),g<x.outdegree&&(g=x.outdegree),f[b]=x.indegree,d[b]=x.outdegree}return{indegree:function(w){return p==0?0:(zt(w)&&(w=r.filter(w)),f[w.id()]/p)},outdegree:function(w){return g===0?0:(zt(w)&&(w=r.filter(w)),d[w.id()]/g)}}}else{for(var o={},l=0,c=0;c<a;c++){var u=n[c];t.root=u;var h=this.degreeCentrality(t);l<h.degree&&(l=h.degree),o[u.id()]=h.degree}return{degree:function(w){return l===0?0:(zt(w)&&(w=r.filter(w)),o[w.id()]/l)}}}},degreeCentrality:function(t){t=zj(t);var r=this.cy(),n=this,a=t,o=a.root,l=a.weight,c=a.directed,u=a.alpha;if(o=r.collection(o)[0],c){for(var g=o.connectedEdges(),m=g.filter(function(C){return C.target().same(o)&&n.has(C)}),y=g.filter(function(C){return C.source().same(o)&&n.has(C)}),b=m.length,x=y.length,T=0,w=0,E=0;E<m.length;E++)T+=l(m[E]);for(var S=0;S<y.length;S++)w+=l(y[S]);return{indegree:Math.pow(b,1-u)*Math.pow(T,u),outdegree:Math.pow(x,1-u)*Math.pow(w,u)}}else{for(var h=o.connectedEdges().intersection(n),f=h.length,d=0,p=0;p<h.length;p++)d+=l(h[p]);return{degree:Math.pow(f,1-u)*Math.pow(d,u)}}}};Eg.dc=Eg.degreeCentrality;Eg.dcn=Eg.degreeCentralityNormalised=Eg.degreeCentralityNormalized;var Gj=fa({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Sg={closenessCentralityNormalized:function(t){for(var r=Gj(t),n=r.harmonic,a=r.weight,o=r.directed,l=this.cy(),c={},u=0,h=this.nodes(),f=this.floydWarshall({weight:a,directed:o}),d=0;d<h.length;d++){for(var p=0,g=h[d],m=0;m<h.length;m++)if(d!==m){var y=f.distance(g,h[m]);n?p+=1/y:p+=y}n||(p=1/p),u<p&&(u=p),c[g.id()]=p}return{closeness:function(x){return u==0?0:(zt(x)?x=l.filter(x)[0].id():x=x.id(),c[x]/u)}}},closenessCentrality:function(t){var r=Gj(t),n=r.root,a=r.weight,o=r.directed,l=r.harmonic;n=this.filter(n)[0];for(var c=this.dijkstra({root:n,weight:a,directed:o}),u=0,h=this.nodes(),f=0;f<h.length;f++){var d=h[f];if(!d.same(n)){var p=c.distanceTo(d);l?u+=1/p:u+=p}}return l?u:1/u}};Sg.cc=Sg.closenessCentrality;Sg.ccn=Sg.closenessCentralityNormalised=Sg.closenessCentralityNormalized;var gAt=fa({weight:null,directed:!1}),G_={betweennessCentrality:function(t){for(var r=gAt(t),n=r.directed,a=r.weight,o=a!=null,l=this.cy(),c=this.nodes(),u={},h={},f=0,d={set:function(w,E){h[w]=E,E>f&&(f=E)},get:function(w){return h[w]}},p=0;p<c.length;p++){var g=c[p],m=g.id();n?u[m]=g.outgoers().nodes():u[m]=g.openNeighborhood().nodes(),d.set(m,0)}for(var y=function(w){for(var E=c[w].id(),S=[],C={},k={},O={},I=new Y3(function(ce,Z){return O[ce]-O[Z]}),_=0;_<c.length;_++){var R=c[_].id();C[R]=[],k[R]=0,O[R]=1/0}for(k[E]=1,O[E]=0,I.push(E);!I.empty();){var M=I.pop();if(S.push(M),o)for(var $=0;$<u[M].length;$++){var N=u[M][$],P=l.getElementById(M),F=void 0;P.edgesTo(N).length>0?F=P.edgesTo(N)[0]:F=N.edgesTo(P)[0];var L=a(F);N=N.id(),O[N]>O[M]+L&&(O[N]=O[M]+L,I.nodes.indexOf(N)<0?I.push(N):I.updateItem(N),k[N]=0,C[N]=[]),O[N]==O[M]+L&&(k[N]=k[N]+k[M],C[N].push(M))}else for(var D=0;D<u[M].length;D++){var B=u[M][D].id();O[B]==1/0&&(I.push(B),O[B]=O[M]+1),O[B]==O[M]+1&&(k[B]=k[B]+k[M],C[B].push(M))}}for(var H={},U=0;U<c.length;U++)H[c[U].id()]=0;for(;S.length>0;){for(var G=S.pop(),W=0;W<C[G].length;W++){var ee=C[G][W];H[ee]=H[ee]+k[ee]/k[G]*(1+H[G])}G!=c[w].id()&&d.set(G,d.get(G)+H[G])}},b=0;b<c.length;b++)y(b);var x={betweenness:function(w){var E=l.collection(w).id();return d.get(E)},betweennessNormalized:function(w){if(f==0)return 0;var E=l.collection(w).id();return d.get(E)/f}};return x.betweennessNormalised=x.betweennessNormalized,x}};G_.bc=G_.betweennessCentrality;var mAt=fa({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),vAt=function(t){return mAt(t)},yAt=function(t,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](t);return n},bAt=function(t,r,n){for(var a=0;a<r;a++)t[a*r+a]=n},Ime=function(t,r){for(var n,a=0;a<r;a++){n=0;for(var o=0;o<r;o++)n+=t[o*r+a];for(var l=0;l<r;l++)t[l*r+a]=t[l*r+a]/n}},xAt=function(t,r,n){for(var a=new Array(n*n),o=0;o<n;o++){for(var l=0;l<n;l++)a[o*n+l]=0;for(var c=0;c<n;c++)for(var u=0;u<n;u++)a[o*n+u]+=t[o*n+c]*r[c*n+u]}return a},TAt=function(t,r,n){for(var a=t.slice(0),o=1;o<n;o++)t=xAt(t,a,r);return t},wAt=function(t,r,n){for(var a=new Array(r*r),o=0;o<r*r;o++)a[o]=Math.pow(t[o],n);return Ime(a,r),a},EAt=function(t,r,n,a){for(var o=0;o<n;o++){var l=Math.round(t[o]*Math.pow(10,a))/Math.pow(10,a),c=Math.round(r[o]*Math.pow(10,a))/Math.pow(10,a);if(l!==c)return!1}return!0},SAt=function(t,r,n,a){for(var o=[],l=0;l<r;l++){for(var c=[],u=0;u<r;u++)Math.round(t[l*r+u]*1e3)/1e3>0&&c.push(n[u]);c.length!==0&&o.push(a.collection(c))}return o},AAt=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},kAt=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&AAt(t[r],t[n])&&t.splice(n,1);return t},Yj=function(t){for(var r=this.nodes(),n=this.edges(),a=this.cy(),o=vAt(t),l={},c=0;c<r.length;c++)l[r[c].id()]=c;for(var u=r.length,h=u*u,f=new Array(h),d,p=0;p<h;p++)f[p]=0;for(var g=0;g<n.length;g++){var m=n[g],y=l[m.source().id()],b=l[m.target().id()],x=yAt(m,o.attributes);f[y*u+b]+=x,f[b*u+y]+=x}bAt(f,u,o.multFactor),Ime(f,u);for(var T=!0,w=0;T&&w<o.maxIterations;)T=!1,d=TAt(f,u,o.expandFactor),f=wAt(d,u,o.inflateFactor),EAt(f,d,h,4)||(T=!0),w++;var E=SAt(f,u,r,a);return E=kAt(E),E},CAt={markovClustering:Yj,mcl:Yj},IAt=function(t){return t},Rme=function(t,r){return Math.abs(r-t)},Vj=function(t,r,n){return t+Rme(r,n)},qj=function(t,r,n){return t+Math.pow(n-r,2)},RAt=function(t){return Math.sqrt(t)},OAt=function(t,r,n){return Math.max(t,Rme(r,n))},Vy=function(t,r,n,a,o){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:IAt,c=a,u,h,f=0;f<t;f++)u=r(f),h=n(f),c=o(c,u,h);return l(c)},sv={euclidean:function(t,r,n){return t>=2?Vy(t,r,n,0,qj,RAt):Vy(t,r,n,0,Vj)},squaredEuclidean:function(t,r,n){return Vy(t,r,n,0,qj)},manhattan:function(t,r,n){return Vy(t,r,n,0,Vj)},max:function(t,r,n){return Vy(t,r,n,-1/0,OAt)}};sv["squared-euclidean"]=sv.squaredEuclidean;sv.squaredeuclidean=sv.squaredEuclidean;function ck(e,t,r,n,a,o){var l;return Xn(e)?l=e:l=sv[e]||sv.euclidean,t===0&&Xn(e)?l(a,o):l(t,r,n,a,o)}var _At=fa({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),YP=function(t){return _At(t)},ES=function(t,r,n,a,o){var l=o!=="kMedoids",c=l?function(d){return n[d]}:function(d){return a[d](n)},u=function(p){return a[p](r)},h=n,f=r;return ck(t,a.length,c,u,h,f)},L7=function(t,r,n){for(var a=n.length,o=new Array(a),l=new Array(a),c=new Array(r),u=null,h=0;h<a;h++)o[h]=t.min(n[h]).value,l[h]=t.max(n[h]).value;for(var f=0;f<r;f++){u=[];for(var d=0;d<a;d++)u[d]=Math.random()*(l[d]-o[d])+o[d];c[f]=u}return c},Ome=function(t,r,n,a,o){for(var l=1/0,c=0,u=0;u<r.length;u++){var h=ES(n,t,r[u],a,o);h<l&&(l=h,c=u)}return c},_me=function(t,r,n){for(var a=[],o=null,l=0;l<r.length;l++)o=r[l],n[o.id()]===t&&a.push(o);return a},NAt=function(t,r,n){return Math.abs(r-t)<=n},LAt=function(t,r,n){for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++){var l=Math.abs(t[a][o]-r[a][o]);if(l>n)return!1}return!0},MAt=function(t,r,n){for(var a=0;a<n;a++)if(t===r[a])return!0;return!1},jj=function(t,r){var n=new Array(r);if(t.length<50)for(var a=0;a<r;a++){for(var o=t[Math.floor(Math.random()*t.length)];MAt(o,n,a);)o=t[Math.floor(Math.random()*t.length)];n[a]=o}else for(var l=0;l<r;l++)n[l]=t[Math.floor(Math.random()*t.length)];return n},Xj=function(t,r,n){for(var a=0,o=0;o<r.length;o++)a+=ES("manhattan",r[o],t,n,"kMedoids");return a},DAt=function(t){var r=this.cy(),n=this.nodes(),a=null,o=YP(t),l=new Array(o.k),c={},u;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,u=L7(n,o.k,o.attributes)):ji(o.testCentroids)==="object"?u=o.testCentroids:u=L7(n,o.k,o.attributes):u=L7(n,o.k,o.attributes);for(var h=!0,f=0;h&&f<o.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],c[a.id()]=Ome(a,u,o.distance,o.attributes,"kMeans");h=!1;for(var p=0;p<o.k;p++){var g=_me(p,n,c);if(g.length!==0){for(var m=o.attributes.length,y=u[p],b=new Array(m),x=new Array(m),T=0;T<m;T++){x[T]=0;for(var w=0;w<g.length;w++)a=g[w],x[T]+=o.attributes[T](a);b[T]=x[T]/g.length,NAt(b[T],y[T],o.sensitivityThreshold)||(h=!0)}u[p]=b,l[p]=r.collection(g)}}f++}return l},PAt=function(t){var r=this.cy(),n=this.nodes(),a=null,o=YP(t),l=new Array(o.k),c,u={},h,f=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(ji(o.testCentroids)==="object"?c=o.testCentroids:c=jj(n,o.k)):c=jj(n,o.k);for(var d=!0,p=0;d&&p<o.maxIterations;){for(var g=0;g<n.length;g++)a=n[g],u[a.id()]=Ome(a,c,o.distance,o.attributes,"kMedoids");d=!1;for(var m=0;m<c.length;m++){var y=_me(m,n,u);if(y.length!==0){f[m]=Xj(c[m],y,o.attributes);for(var b=0;b<y.length;b++)h=Xj(y[b],y,o.attributes),h<f[m]&&(f[m]=h,c[m]=y[b],d=!0);l[m]=r.collection(y)}}p++}return l},FAt=function(t,r,n,a,o){for(var l,c,u=0;u<r.length;u++)for(var h=0;h<t.length;h++)a[u][h]=Math.pow(n[u][h],o.m);for(var f=0;f<t.length;f++)for(var d=0;d<o.attributes.length;d++){l=0,c=0;for(var p=0;p<r.length;p++)l+=a[p][f]*o.attributes[d](r[p]),c+=a[p][f];t[f][d]=l/c}},BAt=function(t,r,n,a,o){for(var l=0;l<t.length;l++)r[l]=t[l].slice();for(var c,u,h,f=2/(o.m-1),d=0;d<n.length;d++)for(var p=0;p<a.length;p++){c=0;for(var g=0;g<n.length;g++)u=ES(o.distance,a[p],n[d],o.attributes,"cmeans"),h=ES(o.distance,a[p],n[g],o.attributes,"cmeans"),c+=Math.pow(u/h,f);t[p][d]=1/c}},$At=function(t,r,n,a){for(var o=new Array(n.k),l=0;l<o.length;l++)o[l]=[];for(var c,u,h=0;h<r.length;h++){c=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[h][f]>c&&(c=r[h][f],u=f);o[u].push(t[h])}for(var d=0;d<o.length;d++)o[d]=a.collection(o[d]);return o},Kj=function(t){var r=this.cy(),n=this.nodes(),a=YP(t),o,l,c,u,h;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);c=new Array(n.length);for(var d=0;d<n.length;d++)c[d]=new Array(a.k);for(var p=0;p<n.length;p++){for(var g=0,m=0;m<a.k;m++)c[p][m]=Math.random(),g+=c[p][m];for(var y=0;y<a.k;y++)c[p][y]=c[p][y]/g}l=new Array(a.k);for(var b=0;b<a.k;b++)l[b]=new Array(a.attributes.length);h=new Array(n.length);for(var x=0;x<n.length;x++)h[x]=new Array(a.k);for(var T=!0,w=0;T&&w<a.maxIterations;)T=!1,FAt(l,n,c,h,a),BAt(c,u,l,n,a),LAt(c,u,a.sensitivityThreshold)||(T=!0),w++;return o=$At(n,c,a,r),{clusters:o,degreeOfMembership:c}},HAt={kMeans:DAt,kMedoids:PAt,fuzzyCMeans:Kj,fcm:Kj},UAt=fa({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),WAt={single:"min",complete:"max"},zAt=function(t){var r=UAt(t),n=WAt[r.linkage];return n!=null&&(r.linkage=n),r},Zj=function(t,r,n,a,o){for(var l=0,c=1/0,u,h=o.attributes,f=function(I,_){return ck(o.distance,h.length,function(R){return h[R](I)},function(R){return h[R](_)},I,_)},d=0;d<t.length;d++){var p=t[d].key,g=n[p][a[p]];g<c&&(l=p,c=g)}if(o.mode==="threshold"&&c>=o.threshold||o.mode==="dendrogram"&&t.length===1)return!1;var m=r[l],y=r[a[l]],b;o.mode==="dendrogram"?b={left:m,right:y,key:m.key}:b={value:m.value.concat(y.value),key:m.key},t[m.index]=b,t.splice(y.index,1),r[m.key]=b;for(var x=0;x<t.length;x++){var T=t[x];m.key===T.key?u=1/0:o.linkage==="min"?(u=n[m.key][T.key],n[m.key][T.key]>n[y.key][T.key]&&(u=n[y.key][T.key])):o.linkage==="max"?(u=n[m.key][T.key],n[m.key][T.key]<n[y.key][T.key]&&(u=n[y.key][T.key])):o.linkage==="mean"?u=(n[m.key][T.key]*m.size+n[y.key][T.key]*y.size)/(m.size+y.size):o.mode==="dendrogram"?u=f(T.value,m.value):u=f(T.value[0],m.value[0]),n[m.key][T.key]=n[T.key][m.key]=u}for(var w=0;w<t.length;w++){var E=t[w].key;if(a[E]===m.key||a[E]===y.key){for(var S=E,C=0;C<t.length;C++){var k=t[C].key;n[E][k]<n[E][S]&&(S=k)}a[E]=S}t[w].index=w}return m.key=y.key=m.index=y.index=null,!0},A4=function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},GAt=function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),a=e(t.right,r),o=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:a,target:o.id()}}),o.id()}else if(t.value)return t.value.id()},YAt=function e(t,r,n){if(!t)return[];var a=[],o=[],l=[];return r===0?(t.left&&A4(t.left,a),t.right&&A4(t.right,o),l=a.concat(o),[n.collection(l)]):r===1?t.value?[n.collection(t.value)]:(t.left&&A4(t.left,a),t.right&&A4(t.right,o),[n.collection(a),n.collection(o)]):t.value?[n.collection(t.value)]:(t.left&&(a=e(t.left,r-1,n)),t.right&&(o=e(t.right,r-1,n)),a.concat(o))},Qj=function(t){for(var r=this.cy(),n=this.nodes(),a=zAt(t),o=a.attributes,l=function(w,E){return ck(a.distance,o.length,function(S){return o[S](w)},function(S){return o[S](E)},w,E)},c=[],u=[],h=[],f=[],d=0;d<n.length;d++){var p={value:a.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};c[d]=p,f[d]=p,u[d]=[],h[d]=0}for(var g=0;g<c.length;g++)for(var m=0;m<=g;m++){var y=void 0;a.mode==="dendrogram"?y=g===m?1/0:l(c[g].value,c[m].value):y=g===m?1/0:l(c[g].value[0],c[m].value[0]),u[g][m]=y,u[m][g]=y,y<u[g][h[g]]&&(h[g]=m)}for(var b=Zj(c,f,u,h,a);b;)b=Zj(c,f,u,h,a);var x;return a.mode==="dendrogram"?(x=YAt(c[0],a.dendrogramDepth,r),a.addDendrogram&&GAt(c[0],r)):(x=new Array(c.length),c.forEach(function(T,w){T.key=T.index=null,x[w]=r.collection(T.value)})),x},VAt={hierarchicalClustering:Qj,hca:Qj},qAt=fa({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),jAt=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||Vn("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(o){return o===n})||bt(n)||Vn("Preference must be one of [".concat(a.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),qAt(t)},XAt=function(t,r,n,a){var o=function(c,u){return a[u](c)};return-ck(t,a.length,function(l){return o(r,l)},function(l){return o(n,l)},r,n)},KAt=function(t,r){var n=null;return r==="median"?n=j6t(t):r==="mean"?n=q6t(t):r==="min"?n=Y6t(t):r==="max"?n=V6t(t):n=r,n},ZAt=function(t,r,n){for(var a=[],o=0;o<t;o++)r[o*t+o]+n[o*t+o]>0&&a.push(o);return a},Jj=function(t,r,n){for(var a=[],o=0;o<t;o++){for(var l=-1,c=-1/0,u=0;u<n.length;u++){var h=n[u];r[o*t+h]>c&&(l=h,c=r[o*t+h])}l>0&&a.push(l)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},QAt=function(t,r,n){for(var a=Jj(t,r,n),o=0;o<n.length;o++){for(var l=[],c=0;c<a.length;c++)a[c]===n[o]&&l.push(c);for(var u=-1,h=-1/0,f=0;f<l.length;f++){for(var d=0,p=0;p<l.length;p++)d+=r[l[p]*t+l[f]];d>h&&(u=f,h=d)}n[o]=l[u]}return a=Jj(t,r,n),a},eX=function(t){for(var r=this.cy(),n=this.nodes(),a=jAt(t),o={},l=0;l<n.length;l++)o[n[l].id()]=l;var c,u,h,f,d,p;c=n.length,u=c*c,h=new Array(u);for(var g=0;g<u;g++)h[g]=-1/0;for(var m=0;m<c;m++)for(var y=0;y<c;y++)m!==y&&(h[m*c+y]=XAt(a.distance,n[m],n[y],a.attributes));f=KAt(h,a.preference);for(var b=0;b<c;b++)h[b*c+b]=f;d=new Array(u);for(var x=0;x<u;x++)d[x]=0;p=new Array(u);for(var T=0;T<u;T++)p[T]=0;for(var w=new Array(c),E=new Array(c),S=new Array(c),C=0;C<c;C++)w[C]=0,E[C]=0,S[C]=0;for(var k=new Array(c*a.minIterations),O=0;O<k.length;O++)k[O]=0;var I;for(I=0;I<a.maxIterations;I++){for(var _=0;_<c;_++){for(var R=-1/0,M=-1/0,$=-1,N=0,P=0;P<c;P++)w[P]=d[_*c+P],N=p[_*c+P]+h[_*c+P],N>=R?(M=R,R=N,$=P):N>M&&(M=N);for(var F=0;F<c;F++)d[_*c+F]=(1-a.damping)*(h[_*c+F]-R)+a.damping*w[F];d[_*c+$]=(1-a.damping)*(h[_*c+$]-M)+a.damping*w[$]}for(var L=0;L<c;L++){for(var D=0,B=0;B<c;B++)w[B]=p[B*c+L],E[B]=Math.max(0,d[B*c+L]),D+=E[B];D-=E[L],E[L]=d[L*c+L],D+=E[L];for(var H=0;H<c;H++)p[H*c+L]=(1-a.damping)*Math.min(0,D-E[H])+a.damping*w[H];p[L*c+L]=(1-a.damping)*(D-E[L])+a.damping*w[L]}for(var U=0,G=0;G<c;G++){var W=p[G*c+G]+d[G*c+G]>0?1:0;k[I%a.minIterations*c+G]=W,U+=W}if(U>0&&(I>=a.minIterations-1||I==a.maxIterations-1)){for(var ee=0,ce=0;ce<c;ce++){S[ce]=0;for(var Z=0;Z<a.minIterations;Z++)S[ce]+=k[Z*c+ce];(S[ce]===0||S[ce]===a.minIterations)&&ee++}if(ee===c)break}}for(var J=ZAt(c,d,p),oe=QAt(c,h,J),Y={},X=0;X<J.length;X++)Y[J[X]]=[];for(var K=0;K<n.length;K++){var z=o[n[K].id()],j=oe[z];j!=null&&Y[j].push(n[K])}for(var te=new Array(J.length),re=0;re<J.length;re++)te[re]=r.collection(Y[J[re]]);return te},JAt={affinityPropagation:eX,ap:eX},ekt=fa({root:void 0,directed:!1}),tkt={hierholzer:function(t){if(!Fr(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=ekt(t),a=n.root,o=n.directed,l=this,c=!1,u,h,f;a&&(f=zt(a)?this.filter(a)[0].id():a[0].id());var d={},p={};o?l.forEach(function(T){var w=T.id();if(T.isNode()){var E=T.indegree(!0),S=T.outdegree(!0),C=E-S,k=S-E;C==1?u?c=!0:u=w:k==1?h?c=!0:h=w:(k>1||C>1)&&(c=!0),d[w]=[],T.outgoers().forEach(function(O){O.isEdge()&&d[w].push(O.id())})}else p[w]=[void 0,T.target().id()]}):l.forEach(function(T){var w=T.id();if(T.isNode()){var E=T.degree(!0);E%2&&(u?h?c=!0:h=w:u=w),d[w]=[],T.connectedEdges().forEach(function(S){return d[w].push(S.id())})}else p[w]=[T.source().id(),T.target().id()]});var g={found:!1,trail:void 0};if(c)return g;if(h&&u)if(o){if(f&&h!=f)return g;f=h}else{if(f&&h!=f&&u!=f)return g;f||(f=h)}else f||(f=l[0].id());var m=function(w){for(var E=w,S=[w],C,k,O;d[E].length;)C=d[E].shift(),k=p[C][0],O=p[C][1],E!=O?(d[O]=d[O].filter(function(I){return I!=C}),E=O):!o&&E!=k&&(d[k]=d[k].filter(function(I){return I!=C}),E=k),S.unshift(C),S.unshift(E);return S},y=[],b=[];for(b=m(f);b.length!=1;)d[b[0]].length==0?(y.unshift(l.getElementById(b.shift())),y.unshift(l.getElementById(b.shift()))):b=m(b.shift()).concat(b);y.unshift(l.getElementById(b.shift()));for(var x in d)if(d[x].length)return g;return g.found=!0,g.trail=this.spawn(y,!0),g}},k4=function(){var t=this,r={},n=0,a=0,o=[],l=[],c={},u=function(p,g){for(var m=l.length-1,y=[],b=t.spawn();l[m].x!=p||l[m].y!=g;)y.push(l.pop().edge),m--;y.push(l.pop().edge),y.forEach(function(x){var T=x.connectedNodes().intersection(t);b.merge(x),T.forEach(function(w){var E=w.id(),S=w.connectedEdges().intersection(t);b.merge(w),r[E].cutVertex?b.merge(S.filter(function(C){return C.isLoop()})):b.merge(S)})}),o.push(b)},h=function d(p,g,m){p===m&&(a+=1),r[g]={id:n,low:n++,cutVertex:!1};var y=t.getElementById(g).connectedEdges().intersection(t);if(y.size()===0)o.push(t.spawn(t.getElementById(g)));else{var b,x,T,w;y.forEach(function(E){b=E.source().id(),x=E.target().id(),T=b===g?x:b,T!==m&&(w=E.id(),c[w]||(c[w]=!0,l.push({x:g,y:T,edge:E})),T in r?r[g].low=Math.min(r[g].low,r[T].id):(d(p,T,g),r[g].low=Math.min(r[g].low,r[T].low),r[g].id<=r[T].low&&(r[g].cutVertex=!0,u(g,T))))})}};t.forEach(function(d){if(d.isNode()){var p=d.id();p in r||(a=0,h(p,p),r[p].cutVertex=a>1)}});var f=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return t.getElementById(d)});return{cut:t.spawn(f),components:o}},rkt={hopcroftTarjanBiconnected:k4,htbc:k4,htb:k4,hopcroftTarjanBiconnectedComponents:k4},C4=function(){var t=this,r={},n=0,a=[],o=[],l=t.spawn(t),c=function u(h){o.push(h),r[h]={index:n,low:n++,explored:!1};var f=t.getElementById(h).connectedEdges().intersection(t);if(f.forEach(function(y){var b=y.target().id();b!==h&&(b in r||u(b),r[b].explored||(r[h].low=Math.min(r[h].low,r[b].low)))}),r[h].index===r[h].low){for(var d=t.spawn();;){var p=o.pop();if(d.merge(t.getElementById(p)),r[p].low=r[h].index,r[p].explored=!0,p===h)break}var g=d.edgesWith(d),m=d.merge(g);a.push(m),l=l.difference(m)}};return t.forEach(function(u){if(u.isNode()){var h=u.id();h in r||c(h)}}),{cut:l,components:a}},nkt={tarjanStronglyConnected:C4,tsc:C4,tscc:C4,tarjanStronglyConnectedComponents:C4},Nme={};[xx,L6t,M6t,P6t,B6t,H6t,z6t,pAt,Eg,Sg,G_,CAt,HAt,VAt,JAt,tkt,rkt,nkt].forEach(function(e){Jt(Nme,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Lme=0,Mme=1,Dme=2,Mh=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=Lme,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Mh.prototype={fulfill:function(t){return tX(this,Mme,"fulfillValue",t)},reject:function(t){return tX(this,Dme,"rejectReason",t)},then:function(t,r){var n=this,a=new Mh;return n.onFulfilled.push(nX(t,a,"fulfill")),n.onRejected.push(nX(r,a,"reject")),Pme(n),a.proxy}};var tX=function(t,r,n,a){return t.state===Lme&&(t.state=r,t[n]=a,Pme(t)),t},Pme=function(t){t.state===Mme?rX(t,"onFulfilled",t.fulfillValue):t.state===Dme&&rX(t,"onRejected",t.rejectReason)},rX=function(t,r,n){if(t[r].length!==0){var a=t[r];t[r]=[];var o=function(){for(var c=0;c<a.length;c++)a[c](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},nX=function(t,r,n){return function(a){if(typeof t!="function")r[n].call(r,a);else{var o;try{o=t(a)}catch(l){r.reject(l);return}ikt(r,o)}}},ikt=function e(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(ji(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(o){t.reject(o);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(o){a||(a=!0,o===r?t.reject(new TypeError("circular thenable chain")):e(t,o))},function(o){a||(a=!0,t.reject(o))})}catch(o){a||t.reject(o)}return}t.fulfill(r)};Mh.all=function(e){return new Mh(function(t,r){for(var n=new Array(e.length),a=0,o=function(u,h){n[u]=h,a++,a===e.length&&t(n)},l=0;l<e.length;l++)(function(c){var u=e[c],h=u!=null&&u.then!=null;if(h)u.then(function(d){o(c,d)},function(d){r(d)});else{var f=u;o(c,f)}})(l)})};Mh.resolve=function(e){return new Mh(function(t,r){t(e)})};Mh.reject=function(e){return new Mh(function(t,r){r(e)})};var jv=typeof Promise<"u"?Promise:Mh,Y_=function(t,r,n){var a=FP(t),o=!a,l=this._private=Jt({duration:1e3},r,n);if(l.target=t,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&Xn(l.complete)&&l.completes.push(l.complete),o){var c=t.position();l.startPosition=l.startPosition||{x:c.x,y:c.y},l.startStyle=l.startStyle||t.cy().style().getAnimationStartStyle(t,l.style)}if(a){var u=t.pan();l.startPan={x:u.x,y:u.y},l.startZoom=t.zoom()}this.length=1,this[0]=this},Tp=Y_.prototype;Jt(Tp,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),Bo(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(h,f){var d=t[h];d!=null&&(t[h]=t[f],t[f]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var o=t.style[a],l=o.name,c=t.startStyle[l];t.startStyle[l]=o,t.style[a]=c}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new jv(function(a,o){n.push(function(){a()})})}});Tp.complete=Tp.completed;Tp.run=Tp.play;Tp.running=Tp.playing;var akt={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return!1;var l=a[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<a.length;l++){var c=a[l];c._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,o=a.length!==void 0,l=o?a:[a],c=this._private.cy||this,u=!o,h=!u;if(!c.styleEnabled())return this;var f=c.style();r=Jt({},r,n);var d=Object.keys(r).length===0;if(d)return new Y_(l[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(h&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),h&&r.renderedPosition!=null){var p=r.renderedPosition,g=c.pan(),m=c.zoom();r.position=Tme(p,m,g)}if(u&&r.panBy!=null){var y=r.panBy,b=c.pan();r.pan={x:b.x+y.x,y:b.y+y.y}}var x=r.center||r.centre;if(u&&x!=null){var T=c.getCenterPan(x.eles,r.zoom);T!=null&&(r.pan=T)}if(u&&r.fit!=null){var w=r.fit,E=c.getFitViewport(w.eles||w.boundingBox,w.padding);E!=null&&(r.pan=E.pan,r.zoom=E.zoom)}if(u&&Fr(r.zoom)){var S=c.getZoomedViewport(r.zoom);S!=null?(S.zoomed&&(r.zoom=S.zoom),S.panned&&(r.pan=S.pan)):r.zoom=null}return new Y_(l[0],r)}},animate:function(){return function(r,n){var a=this,o=a.length!==void 0,l=o?a:[a],c=this._private.cy||this;if(!c.styleEnabled())return this;n&&(r=Jt({},r,n));for(var u=0;u<l.length;u++){var h=l[u],f=h.animated()&&(r.queue===void 0||r.queue),d=h.animation(r,f?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var a=this,o=a.length!==void 0,l=o?a:[a],c=this._private.cy||this;if(!c.styleEnabled())return this;for(var u=0;u<l.length;u++){for(var h=l[u],f=h._private,d=f.animation.current,p=0;p<d.length;p++){var g=d[p],m=g._private;n&&(m.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return c.notify("draw"),this}}},skt=Array.isArray,uk=skt,okt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lkt=/^\w*$/;function ckt(e,t){if(uk(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||z3(e)?!0:lkt.test(e)||!okt.test(e)||t!=null&&e in Object(t)}var ukt=ckt,hkt="[object AsyncFunction]",fkt="[object Function]",dkt="[object GeneratorFunction]",pkt="[object Proxy]";function gkt(e){if(!yp(e))return!1;var t=fme(e);return t==fkt||t==dkt||t==hkt||t==pkt}var mkt=gkt,vkt=sk["__core-js_shared__"],M7=vkt,iX=function(){var e=/[^.]+$/.exec(M7&&M7.keys&&M7.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ykt(e){return!!iX&&iX in e}var bkt=ykt,xkt=Function.prototype,Tkt=xkt.toString;function wkt(e){if(e!=null){try{return Tkt.call(e)}catch{}try{return e+""}catch{}}return""}var Ekt=wkt,Skt=/[\\^$.*+?()[\]{}|]/g,Akt=/^\[object .+?Constructor\]$/,kkt=Function.prototype,Ckt=Object.prototype,Ikt=kkt.toString,Rkt=Ckt.hasOwnProperty,Okt=RegExp("^"+Ikt.call(Rkt).replace(Skt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _kt(e){if(!yp(e)||bkt(e))return!1;var t=mkt(e)?Okt:Akt;return t.test(Ekt(e))}var Nkt=_kt;function Lkt(e,t){return e==null?void 0:e[t]}var Mkt=Lkt;function Dkt(e,t){var r=Mkt(e,t);return Nkt(r)?r:void 0}var VP=Dkt,Pkt=VP(Object,"create"),Ex=Pkt;function Fkt(){this.__data__=Ex?Ex(null):{},this.size=0}var Bkt=Fkt;function $kt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Hkt=$kt,Ukt="__lodash_hash_undefined__",Wkt=Object.prototype,zkt=Wkt.hasOwnProperty;function Gkt(e){var t=this.__data__;if(Ex){var r=t[e];return r===Ukt?void 0:r}return zkt.call(t,e)?t[e]:void 0}var Ykt=Gkt,Vkt=Object.prototype,qkt=Vkt.hasOwnProperty;function jkt(e){var t=this.__data__;return Ex?t[e]!==void 0:qkt.call(t,e)}var Xkt=jkt,Kkt="__lodash_hash_undefined__";function Zkt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ex&&t===void 0?Kkt:t,this}var Qkt=Zkt;function Xv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xv.prototype.clear=Bkt;Xv.prototype.delete=Hkt;Xv.prototype.get=Ykt;Xv.prototype.has=Xkt;Xv.prototype.set=Qkt;var aX=Xv;function Jkt(){this.__data__=[],this.size=0}var e8t=Jkt;function t8t(e,t){return e===t||e!==e&&t!==t}var Fme=t8t;function r8t(e,t){for(var r=e.length;r--;)if(Fme(e[r][0],t))return r;return-1}var hk=r8t,n8t=Array.prototype,i8t=n8t.splice;function a8t(e){var t=this.__data__,r=hk(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():i8t.call(t,r,1),--this.size,!0}var s8t=a8t;function o8t(e){var t=this.__data__,r=hk(t,e);return r<0?void 0:t[r][1]}var l8t=o8t;function c8t(e){return hk(this.__data__,e)>-1}var u8t=c8t;function h8t(e,t){var r=this.__data__,n=hk(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var f8t=h8t;function Kv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kv.prototype.clear=e8t;Kv.prototype.delete=s8t;Kv.prototype.get=l8t;Kv.prototype.has=u8t;Kv.prototype.set=f8t;var d8t=Kv,p8t=VP(sk,"Map"),g8t=p8t;function m8t(){this.size=0,this.__data__={hash:new aX,map:new(g8t||d8t),string:new aX}}var v8t=m8t;function y8t(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var b8t=y8t;function x8t(e,t){var r=e.__data__;return b8t(t)?r[typeof t=="string"?"string":"hash"]:r.map}var fk=x8t;function T8t(e){var t=fk(this,e).delete(e);return this.size-=t?1:0,t}var w8t=T8t;function E8t(e){return fk(this,e).get(e)}var S8t=E8t;function A8t(e){return fk(this,e).has(e)}var k8t=A8t;function C8t(e,t){var r=fk(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var I8t=C8t;function Zv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zv.prototype.clear=v8t;Zv.prototype.delete=w8t;Zv.prototype.get=S8t;Zv.prototype.has=k8t;Zv.prototype.set=I8t;var Bme=Zv,R8t="Expected a function";function qP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(R8t);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var l=e.apply(this,n);return r.cache=o.set(a,l)||o,l};return r.cache=new(qP.Cache||Bme),r}qP.Cache=Bme;var O8t=qP,_8t=500;function N8t(e){var t=O8t(e,function(n){return r.size===_8t&&r.clear(),n}),r=t.cache;return t}var L8t=N8t,M8t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D8t=/\\(\\)?/g,P8t=L8t(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(M8t,function(r,n,a,o){t.push(a?o.replace(D8t,"$1"):n||r)}),t}),$me=P8t;function F8t(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Hme=F8t,sX=iv?iv.prototype:void 0,oX=sX?sX.toString:void 0;function Ume(e){if(typeof e=="string")return e;if(uk(e))return Hme(e,Ume)+"";if(z3(e))return oX?oX.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var B8t=Ume;function $8t(e){return e==null?"":B8t(e)}var Wme=$8t;function H8t(e,t){return uk(e)?e:ukt(e,t)?[e]:$me(Wme(e))}var zme=H8t;function U8t(e){if(typeof e=="string"||z3(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var jP=U8t;function W8t(e,t){t=zme(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[jP(t[r++])];return r&&r==n?e:void 0}var z8t=W8t;function G8t(e,t,r){var n=e==null?void 0:z8t(e,t);return n===void 0?r:n}var Y8t=G8t,V8t=function(){try{var e=VP(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lX=V8t;function q8t(e,t,r){t=="__proto__"&&lX?lX(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var j8t=q8t,X8t=Object.prototype,K8t=X8t.hasOwnProperty;function Z8t(e,t,r){var n=e[t];(!(K8t.call(e,t)&&Fme(n,r))||r===void 0&&!(t in e))&&j8t(e,t,r)}var Q8t=Z8t,J8t=9007199254740991,eCt=/^(?:0|[1-9]\d*)$/;function tCt(e,t){var r=typeof e;return t=t??J8t,!!t&&(r=="number"||r!="symbol"&&eCt.test(e))&&e>-1&&e%1==0&&e<t}var rCt=tCt;function nCt(e,t,r,n){if(!yp(e))return e;t=zme(t,e);for(var a=-1,o=t.length,l=o-1,c=e;c!=null&&++a<o;){var u=jP(t[a]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=l){var f=c[u];h=n?n(f,u,c):void 0,h===void 0&&(h=yp(f)?f:rCt(t[a+1])?[]:{})}Q8t(c,u,h),c=c[u]}return e}var iCt=nCt;function aCt(e,t,r){return e==null?e:iCt(e,t,r)}var sCt=aCt;function oCt(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var lCt=oCt;function cCt(e){return uk(e)?Hme(e,jP):z3(e)?[e]:lCt($me(Wme(e)))}var uCt=cCt,hCt={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,o){},onSet:function(a){},canSet:function(a){return!0}};return t=Jt({},r,t),function(a,o){var l=t,c=this,u=c.length!==void 0,h=u?c:[c],f=u?c[0]:c;if(zt(a)){var d=a.indexOf(".")!==-1,p=d&&uCt(a);if(l.allowGetting&&o===void 0){var g;return f&&(l.beforeGet(f),p&&f._private[l.field][a]===void 0?g=Y8t(f._private[l.field],p):g=f._private[l.field][a]),g}else if(l.allowSetting&&o!==void 0){var m=!l.immutableKeys[a];if(m){var y=tme({},a,o);l.beforeSet(c,y);for(var b=0,x=h.length;b<x;b++){var T=h[b];l.canSet(T)&&(p&&f._private[l.field][a]===void 0?sCt(T._private[l.field],p,o):T._private[l.field][a]=o)}l.updateStyle&&c.updateStyle(),l.onSet(c),l.settingTriggersEvent&&c[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&Fr(a)){var w=a,E,S,C=Object.keys(w);l.beforeSet(c,w);for(var k=0;k<C.length;k++){E=C[k],S=w[E];var O=!l.immutableKeys[E];if(O)for(var I=0;I<h.length;I++){var _=h[I];l.canSet(_)&&(_._private[l.field][E]=S)}}l.updateStyle&&c.updateStyle(),l.onSet(c),l.settingTriggersEvent&&c[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&Xn(a)){var R=a;c.on(l.bindingEvent,R)}else if(l.allowGetting&&a===void 0){var M;return f&&(l.beforeGet(f),M=f._private[l.field]),M}return c}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Jt({},r,t),function(a){var o=t,l=this,c=l.length!==void 0,u=c?l:[l];if(zt(a)){for(var h=a.split(/\s+/),f=h.length,d=0;d<f;d++){var p=h[d];if(!lf(p)){var g=!o.immutableKeys[p];if(g)for(var m=0,y=u.length;m<y;m++)u[m]._private[o.field][p]=void 0}}o.triggerEvent&&l[o.triggerFnName](o.event)}else if(a===void 0){for(var b=0,x=u.length;b<x;b++)for(var T=u[b]._private[o.field],w=Object.keys(T),E=0;E<w.length;E++){var S=w[E],C=!o.immutableKeys[S];C&&(T[S]=void 0)}o.triggerEvent&&l[o.triggerFnName](o.event)}return l}}},fCt={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var o=this,l=Array.prototype.slice.call(arguments,0);return new jv(function(c,u){var h=function(g){o.off.apply(o,d),c(g)},f=l.concat([h]),d=f.concat([]);o.on.apply(o,f)})}}},Xr={};[akt,hCt,fCt].forEach(function(e){Jt(Xr,e)});var dCt={animate:Xr.animate(),animation:Xr.animation(),animated:Xr.animated(),clearQueue:Xr.clearQueue(),delay:Xr.delay(),delayAnimation:Xr.delayAnimation(),stop:Xr.stop()},Uw={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(m){return n.push(m)}),n}else un(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],o=new qv(t),l=0;l<r.length;l++){for(var c=r[l],u=c._private,h=u.classes,f=!1,d=0;d<t.length;d++){var p=t[d],g=h.has(p);if(!g){f=!0;break}}f||(f=h.size!==t.length),f&&(u.classes=o,a.push(c))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){un(t)||(t=t.match(/\S+/g)||[]);for(var n=this,a=r===void 0,o=[],l=0,c=n.length;l<c;l++)for(var u=n[l],h=u._private.classes,f=!1,d=0;d<t.length;d++){var p=t[d],g=h.has(p),m=!1;r||a&&!g?(h.add(p),m=!0):(!r||a&&g)&&(h.delete(p),m=!0),!f&&m&&(o.push(u),f=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};Uw.className=Uw.classNames=Uw.classes;var Nr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Gi,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Nr.variable="(?:[\\w-.]|(?:\\\\"+Nr.metaChar+"))+";Nr.className="(?:[\\w-]|(?:\\\\"+Nr.metaChar+"))+";Nr.value=Nr.string+"|"+Nr.number;Nr.id=Nr.variable;(function(){var e,t,r;for(e=Nr.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Nr.comparatorOp+="|@"+t;for(e=Nr.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Nr.comparatorOp+="|\\!"+t)})();var nn=function(){return{checks:[]}},Rt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},V_=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return ISt(e.selector,t.selector)}),pCt=function(){for(var e={},t,r=0;r<V_.length;r++)t=V_[r],e[t.selector]=t.matches;return e}(),gCt=function(t,r){return pCt[t](r)},mCt="("+V_.map(function(e){return e.selector}).join("|")+")",m1=function(t){return t.replace(new RegExp("\\\\("+Nr.metaChar+")","g"),function(r,n){return n})},c0=function(t,r,n){t[t.length-1]=n},q_=[{name:"group",query:!0,regex:"("+Nr.group+")",populate:function(t,r,n){var a=na(n,1),o=a[0];r.checks.push({type:Rt.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:mCt,populate:function(t,r,n){var a=na(n,1),o=a[0];r.checks.push({type:Rt.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+Nr.id+")",populate:function(t,r,n){var a=na(n,1),o=a[0];r.checks.push({type:Rt.ID,value:m1(o)})}},{name:"className",query:!0,regex:"\\.("+Nr.className+")",populate:function(t,r,n){var a=na(n,1),o=a[0];r.checks.push({type:Rt.CLASS,value:m1(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Nr.variable+")\\s*\\]",populate:function(t,r,n){var a=na(n,1),o=a[0];r.checks.push({type:Rt.DATA_EXIST,field:m1(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Nr.variable+")\\s*("+Nr.comparatorOp+")\\s*("+Nr.value+")\\s*\\]",populate:function(t,r,n){var a=na(n,3),o=a[0],l=a[1],c=a[2],u=new RegExp("^"+Nr.string+"$").exec(c)!=null;u?c=c.substring(1,c.length-1):c=parseFloat(c),r.checks.push({type:Rt.DATA_COMPARE,field:m1(o),operator:l,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Nr.boolOp+")\\s*("+Nr.variable+")\\s*\\]",populate:function(t,r,n){var a=na(n,2),o=a[0],l=a[1];r.checks.push({type:Rt.DATA_BOOL,field:m1(l),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Nr.meta+")\\s*("+Nr.comparatorOp+")\\s*("+Nr.number+")\\s*\\]\\]",populate:function(t,r,n){var a=na(n,3),o=a[0],l=a[1],c=a[2];r.checks.push({type:Rt.META_COMPARE,field:m1(o),operator:l,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:Nr.separator,populate:function(t,r){var n=t.currentSubject,a=t.edgeCount,o=t.compoundCount,l=t[t.length-1];n!=null&&(l.subject=n,t.currentSubject=null),l.edgeCount=a,l.compoundCount=o,t.edgeCount=0,t.compoundCount=0;var c=t[t.length++]=nn();return c}},{name:"directedEdge",separator:!0,regex:Nr.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=nn(),a=r,o=nn();return n.checks.push({type:Rt.DIRECTED_EDGE,source:a,target:o}),c0(t,r,n),t.edgeCount++,o}else{var l=nn(),c=r,u=nn();return l.checks.push({type:Rt.NODE_SOURCE,source:c,target:u}),c0(t,r,l),t.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Nr.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=nn(),a=r,o=nn();return n.checks.push({type:Rt.UNDIRECTED_EDGE,nodes:[a,o]}),c0(t,r,n),t.edgeCount++,o}else{var l=nn(),c=r,u=nn();return l.checks.push({type:Rt.NODE_NEIGHBOR,node:c,neighbor:u}),c0(t,r,l),u}}},{name:"child",separator:!0,regex:Nr.child,populate:function(t,r){if(t.currentSubject==null){var n=nn(),a=nn(),o=t[t.length-1];return n.checks.push({type:Rt.CHILD,parent:o,child:a}),c0(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var l=nn(),c=t[t.length-1],u=nn(),h=nn(),f=nn(),d=nn();return l.checks.push({type:Rt.COMPOUND_SPLIT,left:c,right:u,subject:h}),h.checks=r.checks,r.checks=[{type:Rt.TRUE}],d.checks.push({type:Rt.TRUE}),u.checks.push({type:Rt.PARENT,parent:d,child:f}),c0(t,c,l),t.currentSubject=h,t.compoundCount++,f}else{var p=nn(),g=nn(),m=[{type:Rt.PARENT,parent:p,child:g}];return p.checks=r.checks,r.checks=m,t.compoundCount++,g}}},{name:"descendant",separator:!0,regex:Nr.descendant,populate:function(t,r){if(t.currentSubject==null){var n=nn(),a=nn(),o=t[t.length-1];return n.checks.push({type:Rt.DESCENDANT,ancestor:o,descendant:a}),c0(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var l=nn(),c=t[t.length-1],u=nn(),h=nn(),f=nn(),d=nn();return l.checks.push({type:Rt.COMPOUND_SPLIT,left:c,right:u,subject:h}),h.checks=r.checks,r.checks=[{type:Rt.TRUE}],d.checks.push({type:Rt.TRUE}),u.checks.push({type:Rt.ANCESTOR,ancestor:d,descendant:f}),c0(t,c,l),t.currentSubject=h,t.compoundCount++,f}else{var p=nn(),g=nn(),m=[{type:Rt.ANCESTOR,ancestor:p,descendant:g}];return p.checks=r.checks,r.checks=m,t.compoundCount++,g}}},{name:"subject",modifier:!0,regex:Nr.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return Qr("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],a=n.checks[0],o=a==null?null:a.type;o===Rt.DIRECTED_EDGE?a.type=Rt.NODE_TARGET:o===Rt.UNDIRECTED_EDGE&&(a.type=Rt.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];q_.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var vCt=function(t){for(var r,n,a,o=0;o<q_.length;o++){var l=q_[o],c=l.name,u=t.match(l.regexObj);if(u!=null){n=u,r=l,a=c;var h=u[0];t=t.substring(h.length);break}}return{expr:r,match:n,name:a,remaining:t}},yCt=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},bCt=function(t){var r=this,n=r.inputText=t,a=r[0]=nn();for(r.length=1,n=yCt(n);;){var o=vCt(n);if(o.expr==null)return Qr("The selector `"+t+"`is invalid"),!1;var l=o.match.slice(1),c=o.expr.populate(r,a,l);if(c===!1)return!1;if(c!=null&&(a=c),n=o.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var h=0;h<r.length;h++){var f=r[h];if(f.compoundCount>0&&f.edgeCount>0)return Qr("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return Qr("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&Qr("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},xCt=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(f){return f??""},r=function(f){return zt(f)?'"'+f+'"':t(f)},n=function(f){return" "+f+" "},a=function(f,d){var p=f.type,g=f.value;switch(p){case Rt.GROUP:{var m=t(g);return m.substring(0,m.length-1)}case Rt.DATA_COMPARE:{var y=f.field,b=f.operator;return"["+y+n(t(b))+r(g)+"]"}case Rt.DATA_BOOL:{var x=f.operator,T=f.field;return"["+t(x)+T+"]"}case Rt.DATA_EXIST:{var w=f.field;return"["+w+"]"}case Rt.META_COMPARE:{var E=f.operator,S=f.field;return"[["+S+n(t(E))+r(g)+"]]"}case Rt.STATE:return g;case Rt.ID:return"#"+g;case Rt.CLASS:return"."+g;case Rt.PARENT:case Rt.CHILD:return o(f.parent,d)+n(">")+o(f.child,d);case Rt.ANCESTOR:case Rt.DESCENDANT:return o(f.ancestor,d)+" "+o(f.descendant,d);case Rt.COMPOUND_SPLIT:{var C=o(f.left,d),k=o(f.subject,d),O=o(f.right,d);return C+(C.length>0?" ":"")+k+O}case Rt.TRUE:return""}},o=function(f,d){return f.checks.reduce(function(p,g,m){return p+(d===f&&m===0?"$":"")+a(g,d)},"")},l="",c=0;c<this.length;c++){var u=this[c];l+=o(u,u.subject),this.length>1&&c<this.length-1&&(l+=", ")}return this.toStringCache=l,l},TCt={parse:bCt,toString:xCt},Gme=function(t,r,n){var a,o=zt(t),l=bt(t),c=zt(n),u,h,f=!1,d=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(o||c||f)&&(u=!o&&!l?"":""+t,h=""+n),f&&(t=u=u.toLowerCase(),n=h=h.toLowerCase()),r){case"*=":a=u.indexOf(h)>=0;break;case"$=":a=u.indexOf(h,u.length-h.length)>=0;break;case"^=":a=u.indexOf(h)===0;break;case"=":a=t===n;break;case">":p=!0,a=t>n;break;case">=":p=!0,a=t>=n;break;case"<":p=!0,a=t<n;break;case"<=":p=!0,a=t<=n;break;default:a=!1;break}return d&&(t!=null||!p)&&(a=!a),a},wCt=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},ECt=function(t){return t!==void 0},XP=function(t,r){return t.data(r)},SCt=function(t,r){return t[r]()},si=[],Rn=function(t,r){return t.checks.every(function(n){return si[n.type](n,r)})};si[Rt.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};si[Rt.STATE]=function(e,t){var r=e.value;return gCt(r,t)};si[Rt.ID]=function(e,t){var r=e.value;return t.id()===r};si[Rt.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};si[Rt.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return Gme(SCt(t,r),n,a)};si[Rt.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return Gme(XP(t,r),n,a)};si[Rt.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return wCt(XP(t,r),n)};si[Rt.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,ECt(XP(t,r))};si[Rt.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],a=t.source(),o=t.target();return Rn(r,a)&&Rn(n,o)||Rn(n,a)&&Rn(r,o)};si[Rt.NODE_NEIGHBOR]=function(e,t){return Rn(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&Rn(e.neighbor,r)})};si[Rt.DIRECTED_EDGE]=function(e,t){return Rn(e.source,t.source())&&Rn(e.target,t.target())};si[Rt.NODE_SOURCE]=function(e,t){return Rn(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&Rn(e.target,r)})};si[Rt.NODE_TARGET]=function(e,t){return Rn(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&Rn(e.source,r)})};si[Rt.CHILD]=function(e,t){return Rn(e.child,t)&&Rn(e.parent,t.parent())};si[Rt.PARENT]=function(e,t){return Rn(e.parent,t)&&t.children().some(function(r){return Rn(e.child,r)})};si[Rt.DESCENDANT]=function(e,t){return Rn(e.descendant,t)&&t.ancestors().some(function(r){return Rn(e.ancestor,r)})};si[Rt.ANCESTOR]=function(e,t){return Rn(e.ancestor,t)&&t.descendants().some(function(r){return Rn(e.descendant,r)})};si[Rt.COMPOUND_SPLIT]=function(e,t){return Rn(e.subject,t)&&Rn(e.left,t)&&Rn(e.right,t)};si[Rt.TRUE]=function(){return!0};si[Rt.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};si[Rt.FILTER]=function(e,t){var r=e.value;return r(t)};var ACt=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Rt.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(o){for(var l=0;l<r.length;l++){var c=r[l];if(Rn(c,o))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},kCt=function(t){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Rn(a,t))return!0}return!1},CCt={matches:kCt,filter:ACt},hf=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||zt(t)&&t.match(/^\s*$/)||(Bo(t)?this.addQuery({checks:[{type:Rt.COLLECTION,value:t.collection()}]}):Xn(t)?this.addQuery({checks:[{type:Rt.FILTER,value:t}]}):zt(t)?this.parse(t)||(this.invalid=!0):Vn("A selector must be created from a string; found "))},ff=hf.prototype;[TCt,CCt].forEach(function(e){return Jt(ff,e)});ff.text=function(){return this.inputText};ff.size=function(){return this.length};ff.eq=function(e){return this[e]};ff.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};ff.addQuery=function(e){this[this.length++]=e};ff.selector=ff.toString;var $0={allAre:function(t){var r=new hf(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new hf(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(a)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};$0.allAreNeighbours=$0.allAreNeighbors;$0.has=$0.contains;$0.equal=$0.equals=$0.same;var pl=function(t,r){return function(a,o,l,c){var u=a,h=this,f;if(u==null?f="":Bo(u)&&u.length===1&&(f=u.id()),h.length===1&&f){var d=h[0]._private,p=d.traversalCache=d.traversalCache||{},g=p[r]=p[r]||[],m=cf(f),y=g[m];return y||(g[m]=t.call(h,a,o,l,c))}else return t.call(h,a,o,l,c)}},ov={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var o=this[a],l=o._private.parent;l&&r.push(l)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var o=n[a];r.push(o)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var a=this[n],o=a.parents();r=r||o,r=r.intersect(o)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:pl(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,o=0;o<a.length;o++)t.push(a[o]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(a){for(var o=0;o<a.length;o++){var l=a[o];r.push(l),l.children().nonempty()&&n(l.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function KP(e,t,r,n){for(var a=[],o=new qv,l=e.cy(),c=l.hasCompoundNodes(),u=0;u<e.length;u++){var h=e[u];r?a.push(h):c&&n(a,o,h)}for(;a.length>0;){var f=a.shift();t(f),o.add(f.id()),c&&n(a,o,f)}return e}function Yme(e,t,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var o=n[a];t.has(o.id())||e.push(o)}}ov.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return KP(this,e,t,Yme)};function Vme(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}ov.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return KP(this,e,t,Vme)};function ICt(e,t,r){Vme(e,t,r),Yme(e,t,r)}ov.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return KP(this,e,t,ICt)};ov.ancestors=ov.parents;var Sx,qme;Sx=qme={data:Xr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Xr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Xr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Xr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Xr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};Sx.attr=Sx.data;Sx.removeAttr=Sx.removeData;var RCt=qme,dk={};function D7(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],o=a._private.edges,l=0;l<o.length;l++){var c=o[l];!t&&c.isLoop()||(n+=e(a,c))}return n}else return}}Jt(dk,{degree:D7(function(e,t){return t.source().same(t.target())?2:1}),indegree:D7(function(e,t){return t.target().same(e)?1:0}),outdegree:D7(function(e,t){return t.source().same(e)?1:0})});function v1(e,t){return function(r){for(var n,a=this.nodes(),o=0;o<a.length;o++){var l=a[o],c=l[e](r);c!==void 0&&(n===void 0||t(c,n))&&(n=c)}return n}}Jt(dk,{minDegree:v1("degree",function(e,t){return e<t}),maxDegree:v1("degree",function(e,t){return e>t}),minIndegree:v1("indegree",function(e,t){return e<t}),maxIndegree:v1("indegree",function(e,t){return e>t}),minOutdegree:v1("outdegree",function(e,t){return e<t}),maxOutdegree:v1("outdegree",function(e,t){return e>t})});Jt(dk,{totalDegree:function(t){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(t);return r}});var hc,jme,Xme=function(t,r,n){for(var a=0;a<t.length;a++){var o=t[a];if(!o.locked()){var l=o._private.position,c={x:r.x!=null?r.x-l.x:0,y:r.y!=null?r.y-l.y:0};o.isParent()&&!(c.x===0&&c.y===0)&&o.children().shift(c,n),o.dirtyBoundingBoxCache()}}},cX={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){Xme(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};hc=jme={position:Xr.data(cX),silentPosition:Xr.data(Jt({},cX,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){Xme(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(Fr(t))r?this.silentPosition(t):this.position(t);else if(Xn(t)){var n=t,a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var l=this[o],c=void 0;(c=n(l,o))&&(r?l.silentPosition(c):l.position(c))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var a;if(Fr(t)?(a={x:bt(t.x)?t.x:0,y:bt(t.y)?t.y:0},n=r):zt(t)&&bt(r)&&(a={x:0,y:0},a[t]=r),a!=null){var o=this.cy();o.startBatch();for(var l=0;l<this.length;l++){var c=this[l];if(!(o.hasCompoundNodes()&&c.isChild()&&c.ancestors().anySame(this))){var u=c.position(),h={x:u.x+a.x,y:u.y+a.y};n?c.silentPosition(h):c.position(h)}}o.endBatch()}return this},silentShift:function(t,r){return Fr(t)?this.shift(t,!0):zt(t)&&bt(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],a=this.cy(),o=a.zoom(),l=a.pan(),c=Fr(t)?t:void 0,u=c!==void 0||r!==void 0&&zt(t);if(n&&n.isNode())if(u)for(var h=0;h<this.length;h++){var f=this[h];r!==void 0?f.position(t,(r-l[t])/o):c!==void 0&&f.position(Tme(c,o,l))}else{var d=n.position();return c=lk(d,o,l),t===void 0?c:c[t]}else if(!u)return;return this},relativePosition:function(t,r){var n=this[0],a=this.cy(),o=Fr(t)?t:void 0,l=o!==void 0||r!==void 0&&zt(t),c=a.hasCompoundNodes();if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u],f=c?h.parent():null,d=f&&f.length>0,p=d;d&&(f=f[0]);var g=p?f.position():{x:0,y:0};r!==void 0?h.position(t,r+g[t]):o!==void 0&&h.position({x:o.x+g.x,y:o.y+g.y})}else{var m=n.position(),y=c?n.parent():null,b=y&&y.length>0,x=b;b&&(y=y[0]);var T=x?y.position():{x:0,y:0};return o={x:m.x-T.x,y:m.y-T.y},t===void 0?o:o[t]}else if(!l)return;return this}};hc.modelPosition=hc.point=hc.position;hc.modelPositions=hc.points=hc.positions;hc.renderedPoint=hc.renderedPosition;hc.relativePoint=hc.relativePosition;var OCt=jme,Ag,Nf;Ag=Nf={};Nf.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),a=r.pan(),o=t.x1*n+a.x,l=t.x2*n+a.x,c=t.y1*n+a.y,u=t.y2*n+a.y;return{x1:o,x2:l,y1:c,y2:u,w:l-o,h:u-c}};Nf.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};Nf.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(l){if(!l.isParent())return;var c=l._private,u=l.children(),h=l.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},d=u.boundingBox({includeLabels:h,includeOverlays:!1,useCache:!1}),p=c.position;(d.w===0||d.h===0)&&(d={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},d.x1=p.x-d.w/2,d.x2=p.x+d.w/2,d.y1=p.y-d.h/2,d.y2=p.y+d.h/2);function g(I,_,R){var M=0,$=0,N=_+R;return I>0&&N>0&&(M=_/N*I,$=R/N*I),{biasDiff:M,biasComplementDiff:$}}function m(I,_,R,M){if(R.units==="%")switch(M){case"width":return I>0?R.pfValue*I:0;case"height":return _>0?R.pfValue*_:0;case"average":return I>0&&_>0?R.pfValue*(I+_)/2:0;case"min":return I>0&&_>0?I>_?R.pfValue*_:R.pfValue*I:0;case"max":return I>0&&_>0?I>_?R.pfValue*I:R.pfValue*_:0;default:return 0}else return R.units==="px"?R.pfValue:0}var y=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(y=y*100/f.width.val);var b=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(b=b*100/f.width.val);var x=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(x=x*100/f.height.val);var T=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(T=T*100/f.height.val);var w=g(f.width.val-d.w,y,b),E=w.biasDiff,S=w.biasComplementDiff,C=g(f.height.val-d.h,x,T),k=C.biasDiff,O=C.biasComplementDiff;c.autoPadding=m(d.w,d.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),c.autoWidth=Math.max(d.w,f.width.val),p.x=(-E+d.x1+d.x2+S)/2,c.autoHeight=Math.max(d.h,f.height.val),p.y=(-k+d.y1+d.y2+O)/2}for(var n=0;n<this.length;n++){var a=this[n],o=a._private;(!o.compoundBoundsClean||e)&&(r(a),t.batching()||(o.compoundBoundsClean=!0))}return this};var ll=function(t){return t===1/0||t===-1/0?0:t},Xl=function(t,r,n,a,o){a-r===0||o-n===0||r==null||n==null||a==null||o==null||(t.x1=r<t.x1?r:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=o>t.y2?o:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},od=function(t,r){return r==null?t:Xl(t,r.x1,r.y1,r.x2,r.y2)},qy=function(t,r,n){return Jl(t,r,n)},I4=function(t,r,n){if(!r.cy().headless()){var a=r._private,o=a.rstyle,l=o.arrowWidth/2,c=r.pstyle(n+"-arrow-shape").value,u,h;if(c!=="none"){n==="source"?(u=o.srcX,h=o.srcY):n==="target"?(u=o.tgtX,h=o.tgtY):(u=o.midX,h=o.midY);var f=a.arrowBounds=a.arrowBounds||{},d=f[n]=f[n]||{};d.x1=u-l,d.y1=h-l,d.x2=u+l,d.y2=h+l,d.w=d.x2-d.x1,d.h=d.y2-d.y1,$w(d,1),Xl(t,d.x1,d.y1,d.x2,d.y2)}}},P7=function(t,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var o=r._private,l=o.rstyle,c=r.pstyle(a+"label").strValue;if(c){var u=r.pstyle("text-halign"),h=r.pstyle("text-valign"),f=qy(l,"labelWidth",n),d=qy(l,"labelHeight",n),p=qy(l,"labelX",n),g=qy(l,"labelY",n),m=r.pstyle(a+"text-margin-x").pfValue,y=r.pstyle(a+"text-margin-y").pfValue,b=r.isEdge(),x=r.pstyle(a+"text-rotation"),T=r.pstyle("text-outline-width").pfValue,w=r.pstyle("text-border-width").pfValue,E=w/2,S=r.pstyle("text-background-padding").pfValue,C=2,k=d,O=f,I=O/2,_=k/2,R,M,$,N;if(b)R=p-I,M=p+I,$=g-_,N=g+_;else{switch(u.value){case"left":R=p-O,M=p;break;case"center":R=p-I,M=p+I;break;case"right":R=p,M=p+O;break}switch(h.value){case"top":$=g-k,N=g;break;case"center":$=g-_,N=g+_;break;case"bottom":$=g,N=g+k;break}}var P=m-Math.max(T,E)-S-C,F=m+Math.max(T,E)+S+C,L=y-Math.max(T,E)-S-C,D=y+Math.max(T,E)+S+C;R+=P,M+=F,$+=L,N+=D;var B=n||"main",H=o.labelBounds,U=H[B]=H[B]||{};U.x1=R,U.y1=$,U.x2=M,U.y2=N,U.w=M-R,U.h=N-$,U.leftPad=P,U.rightPad=F,U.topPad=L,U.botPad=D;var G=b&&x.strValue==="autorotate",W=x.pfValue!=null&&x.pfValue!==0;if(G||W){var ee=G?qy(o.rstyle,"labelAngle",n):x.pfValue,ce=Math.cos(ee),Z=Math.sin(ee),J=(R+M)/2,oe=($+N)/2;if(!b){switch(u.value){case"left":J=M;break;case"right":J=R;break}switch(h.value){case"top":oe=N;break;case"bottom":oe=$;break}}var Y=function(ue,se){return ue=ue-J,se=se-oe,{x:ue*ce-se*Z+J,y:ue*Z+se*ce+oe}},X=Y(R,$),K=Y(R,N),z=Y(M,$),j=Y(M,N);R=Math.min(X.x,K.x,z.x,j.x),M=Math.max(X.x,K.x,z.x,j.x),$=Math.min(X.y,K.y,z.y,j.y),N=Math.max(X.y,K.y,z.y,j.y)}var te=B+"Rot",re=H[te]=H[te]||{};re.x1=R,re.y1=$,re.x2=M,re.y2=N,re.w=M-R,re.h=N-$,Xl(t,R,$,M,N),Xl(o.labelBounds.all,R,$,M,N)}return t}},_Ct=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var o=r.pstyle("outline-offset").value,l=r.pstyle("shape").value,c=a+o,u=(t.w+c*2)/t.w,h=(t.h+c*2)/t.h,f=0,d=0;["diamond","pentagon","round-triangle"].includes(l)?(u=(t.w+c*2.4)/t.w,d=-c/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?u=(t.w+c*2.4)/t.w:l==="star"?(u=(t.w+c*2.8)/t.w,h=(t.h+c*2.6)/t.h,d=-c/3.8):l==="triangle"?(u=(t.w+c*2.8)/t.w,h=(t.h+c*2.4)/t.h,d=-c/1.4):l==="vee"&&(u=(t.w+c*4.4)/t.w,h=(t.h+c*3.8)/t.h,d=-c*.5);var p=t.h*h-t.h,g=t.w*u-t.w;if(Hw(t,[Math.ceil(p/2),Math.ceil(g/2)]),f!=0||d!==0){var m=eAt(t,f,d);Eme(t,m)}}}},NCt=function(t,r){var n=t._private.cy,a=n.styleEnabled(),o=n.headless(),l=co(),c=t._private,u=t.isNode(),h=t.isEdge(),f,d,p,g,m,y,b=c.rstyle,x=u&&a?t.pstyle("bounds-expansion").pfValue:[0],T=function(Se){return Se.pstyle("display").value!=="none"},w=!a||T(t)&&(!h||T(t.source())&&T(t.target()));if(w){var E=0,S=0;a&&r.includeOverlays&&(E=t.pstyle("overlay-opacity").value,E!==0&&(S=t.pstyle("overlay-padding").value));var C=0,k=0;a&&r.includeUnderlays&&(C=t.pstyle("underlay-opacity").value,C!==0&&(k=t.pstyle("underlay-padding").value));var O=Math.max(S,k),I=0,_=0;if(a&&(I=t.pstyle("width").pfValue,_=I/2),u&&r.includeNodes){var R=t.position();m=R.x,y=R.y;var M=t.outerWidth(),$=M/2,N=t.outerHeight(),P=N/2;f=m-$,d=m+$,p=y-P,g=y+P,Xl(l,f,p,d,g),a&&r.includeOutlines&&_Ct(l,t)}else if(h&&r.includeEdges)if(a&&!o){var F=t.pstyle("curve-style").strValue;if(f=Math.min(b.srcX,b.midX,b.tgtX),d=Math.max(b.srcX,b.midX,b.tgtX),p=Math.min(b.srcY,b.midY,b.tgtY),g=Math.max(b.srcY,b.midY,b.tgtY),f-=_,d+=_,p-=_,g+=_,Xl(l,f,p,d,g),F==="haystack"){var L=b.haystackPts;if(L&&L.length===2){if(f=L[0].x,p=L[0].y,d=L[1].x,g=L[1].y,f>d){var D=f;f=d,d=D}if(p>g){var B=p;p=g,g=B}Xl(l,f-_,p-_,d+_,g+_)}}else if(F==="bezier"||F==="unbundled-bezier"||F.endsWith("segments")||F.endsWith("taxi")){var H;switch(F){case"bezier":case"unbundled-bezier":H=b.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":H=b.linePts;break}if(H!=null)for(var U=0;U<H.length;U++){var G=H[U];f=G.x-_,d=G.x+_,p=G.y-_,g=G.y+_,Xl(l,f,p,d,g)}}}else{var W=t.source(),ee=W.position(),ce=t.target(),Z=ce.position();if(f=ee.x,d=Z.x,p=ee.y,g=Z.y,f>d){var J=f;f=d,d=J}if(p>g){var oe=p;p=g,g=oe}f-=_,d+=_,p-=_,g+=_,Xl(l,f,p,d,g)}if(a&&r.includeEdges&&h&&(I4(l,t,"mid-source"),I4(l,t,"mid-target"),I4(l,t,"source"),I4(l,t,"target")),a){var Y=t.pstyle("ghost").value==="yes";if(Y){var X=t.pstyle("ghost-offset-x").pfValue,K=t.pstyle("ghost-offset-y").pfValue;Xl(l,l.x1+X,l.y1+K,l.x2+X,l.y2+K)}}var z=c.bodyBounds=c.bodyBounds||{};Wj(z,l),Hw(z,x),$w(z,1),a&&(f=l.x1,d=l.x2,p=l.y1,g=l.y2,Xl(l,f-O,p-O,d+O,g+O));var j=c.overlayBounds=c.overlayBounds||{};Wj(j,l),Hw(j,x),$w(j,1);var te=c.labelBounds=c.labelBounds||{};te.all!=null?J6t(te.all):te.all=co(),a&&r.includeLabels&&(r.includeMainLabels&&P7(l,t,null),h&&(r.includeSourceLabels&&P7(l,t,"source"),r.includeTargetLabels&&P7(l,t,"target")))}return l.x1=ll(l.x1),l.y1=ll(l.y1),l.x2=ll(l.x2),l.y2=ll(l.y2),l.w=ll(l.x2-l.x1),l.h=ll(l.y2-l.y1),l.w>0&&l.h>0&&w&&(Hw(l,x),$w(l,1)),l},Kme=function(t){var r=0,n=function(l){return(l?1:0)<<r++},a=0;return a+=n(t.incudeNodes),a+=n(t.includeEdges),a+=n(t.includeLabels),a+=n(t.includeMainLabels),a+=n(t.includeSourceLabels),a+=n(t.includeTargetLabels),a+=n(t.includeOverlays),a+=n(t.includeOutlines),a},Zme=function(t){if(t.isEdge()){var r=t.source().position(),n=t.target().position(),a=function(l){return Math.round(l)};return x6t([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},uX=function(t,r){var n=t._private,a,o=t.isEdge(),l=r==null?hX:Kme(r),c=l===hX,u=Zme(t),h=n.bbCachePosKey===u,f=r.useCache&&h,d=function(y){return y._private.bbCache==null||y._private.styleDirty},p=!f||d(t)||o&&(d(t.source())||d(t.target()));if(p?(h||t.recalculateRenderedStyle(f),a=NCt(t,Ax),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!c){var g=t.isNode();a=co(),(r.includeNodes&&g||r.includeEdges&&!g)&&(r.includeOverlays?od(a,n.overlayBounds):od(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!o||r.includeSourceLabels&&r.includeTargetLabels)?od(a,n.labelBounds.all):(r.includeMainLabels&&od(a,n.labelBounds.mainRot),r.includeSourceLabels&&od(a,n.labelBounds.sourceRot),r.includeTargetLabels&&od(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Ax={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},hX=Kme(Ax),fX=fa(Ax);Nf.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=Ax:e=fX(e),t=uX(this[0],e);else{t=co(),e=e||Ax;var r=fX(e),n=this,a=n.cy(),o=a.styleEnabled();if(o)for(var l=0;l<n.length;l++){var c=n[l],u=c._private,h=Zme(c),f=u.bbCachePosKey===h,d=r.useCache&&f&&!u.styleDirty;c.recalculateRenderedStyle(d)}this.updateCompoundBounds(!e.useCache);for(var p=0;p<n.length;p++){var g=n[p];od(t,uX(g,r))}}return t.x1=ll(t.x1),t.y1=ll(t.y1),t.x2=ll(t.x2),t.y2=ll(t.y2),t.w=ll(t.x2-t.x1),t.h=ll(t.y2-t.y1),t};Nf.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Nf.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=t.filter(function(h){return h.isParent()}),t=t.not(a)),Fr(e)){var o=e;e=function(){return o}}var l=function(f,d){return f._private.bbAtOldPos=e(f,d)},c=function(f){return f._private.bbAtOldPos};r.startBatch(),t.forEach(l).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=Q6t(this.boundingBox({useCache:!1}));return t.silentPositions(c),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};Ag.boundingbox=Ag.bb=Ag.boundingBox;Ag.renderedBoundingbox=Ag.renderedBoundingBox;var LCt=Nf,w2,V3;w2=V3={};var Qme=function(t){t.uppercaseName=Dj(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Dj(t.outerName),w2[t.name]=function(){var n=this[0],a=n._private,o=a.cy,l=o._private.styleEnabled;if(n)if(l){if(n.isParent())return n.updateCompoundBounds(),a[t.autoName]||0;var c=n.pstyle(t.name);switch(c.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return c.pfValue}}else return 1},w2["outer"+t.uppercaseName]=function(){var n=this[0],a=n._private,o=a.cy,l=o._private.styleEnabled;if(n)if(l){var c=n[t.name](),u=n.pstyle("border-width").pfValue,h=2*n.padding();return c+u+h}else return 1},w2["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var a=n[t.name]();return a*this.cy().zoom()}},w2["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[t.outerName]();return a*this.cy().zoom()}}};Qme({name:"width"});Qme({name:"height"});V3.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};V3.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};V3.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var MCt=V3,DCt=function(t,r){if(t.isEdge())return r(t)},PCt=function(t,r){if(t.isEdge()){var n=t.cy();return lk(r(t),n.zoom(),n.pan())}},FCt=function(t,r){if(t.isEdge()){var n=t.cy(),a=n.pan(),o=n.zoom();return r(t).map(function(l){return lk(l,o,a)})}},BCt=function(t){return t.renderer().getControlPoints(t)},$Ct=function(t){return t.renderer().getSegmentPoints(t)},HCt=function(t){return t.renderer().getSourceEndpoint(t)},UCt=function(t){return t.renderer().getTargetEndpoint(t)},WCt=function(t){return t.renderer().getEdgeMidpoint(t)},dX={controlPoints:{get:BCt,mult:!0},segmentPoints:{get:$Ct,mult:!0},sourceEndpoint:{get:HCt},targetEndpoint:{get:UCt},midpoint:{get:WCt}},zCt=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},GCt=Object.keys(dX).reduce(function(e,t){var r=dX[t],n=zCt(t);return e[t]=function(){return DCt(this,r.get)},r.mult?e[n]=function(){return FCt(this,r.get)}:e[n]=function(){return PCt(this,r.get)},e},{}),YCt=Jt({},OCt,LCt,MCt,GCt);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Jme=function(t,r){this.recycle(t,r)};function jy(){return!1}function R4(){return!0}Jme.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=jy,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?R4:jy):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*a+o.x,y:n.y*a+o.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=R4;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=R4;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=R4,this.stopPropagation()},isDefaultPrevented:jy,isPropagationStopped:jy,isImmediatePropagationStopped:jy};var eve=/^([^.]+)(\.(?:[^.]+))?$/,VCt=".*",tve={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},pX=Object.keys(tve),qCt={};function pk(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qCt,t=arguments.length>1?arguments[1]:void 0,r=0;r<pX.length;r++){var n=pX[r];this[n]=e[n]||tve[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var df=pk.prototype,rve=function(t,r,n,a,o,l,c){Xn(a)&&(o=a,a=null),c&&(l==null?l=c:l=Jt({},l,c));for(var u=un(n)?n:n.split(/\s+/),h=0;h<u.length;h++){var f=u[h];if(!lf(f)){var d=f.match(eve);if(d){var p=d[1],g=d[2]?d[2]:null,m=r(t,f,p,g,a,o,l);if(m===!1)break}}}},gX=function(t,r){return t.addEventFields(t.context,r),new Jme(r.type,r)},jCt=function(t,r,n){if(vSt(n)){r(t,n);return}else if(Fr(n)){r(t,gX(t,n));return}for(var a=un(n)?n:n.split(/\s+/),o=0;o<a.length;o++){var l=a[o];if(!lf(l)){var c=l.match(eve);if(c){var u=c[1],h=c[2]?c[2]:null,f=gX(t,{type:u,namespace:h,target:t.context});r(t,f)}}}};df.on=df.addListener=function(e,t,r,n,a){return rve(this,function(o,l,c,u,h,f,d){Xn(f)&&o.listeners.push({event:l,callback:f,type:c,namespace:u,qualifier:h,conf:d})},e,t,r,n,a),this};df.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};df.removeListener=df.off=function(e,t,r,n){var a=this;this.emitting!==0&&(this.listeners=A6t(this.listeners));for(var o=this.listeners,l=function(h){var f=o[h];rve(a,function(d,p,g,m,y,b){if((f.type===g||e==="*")&&(!m&&f.namespace!==".*"||f.namespace===m)&&(!y||d.qualifierCompare(f.qualifier,y))&&(!b||f.callback===b))return o.splice(h,1),!1},e,t,r,n)},c=o.length-1;c>=0;c--)l(c);return this};df.removeAllListeners=function(){return this.removeListener("*")};df.emit=df.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,un(t)||(t=[t]),jCt(this,function(o,l){r!=null&&(n=[{event:l.event,type:l.type,namespace:l.namespace,callback:r}],a=n.length);for(var c=function(f){var d=n[f];if(d.type===l.type&&(!d.namespace||d.namespace===l.namespace||d.namespace===VCt)&&o.eventMatches(o.context,d,l)){var p=[l];t!=null&&C6t(p,t),o.beforeEmit(o.context,d,l),d.conf&&d.conf.one&&(o.listeners=o.listeners.filter(function(y){return y!==d}));var g=o.callbackContext(o.context,d,l),m=d.callback.apply(g,p);o.afterEmit(o.context,d,l),m===!1&&(l.stopPropagation(),l.preventDefault())}},u=0;u<a;u++)c(u);o.bubble(o.context)&&!l.isPropagationStopped()&&o.parent(o.context).emit(l,t)},e),this.emitting--,this};var XCt={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&W3(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},O4=function(t){return zt(t)?new hf(t):t},nve={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new pk(XCt,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var a=O4(r),o=0;o<this.length;o++){var l=this[o];l.emitter().on(t,a,n)}return this},removeListener:function(t,r,n){for(var a=O4(r),o=0;o<this.length;o++){var l=this[o];l.emitter().removeListener(t,a,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var a=O4(r),o=0;o<this.length;o++){var l=this[o];l.emitter().one(t,a,n)}return this},once:function(t,r,n){for(var a=O4(r),o=0;o<this.length;o++){var l=this[o];l.emitter().on(t,a,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};Xr.eventAliasesOn(nve);var ive={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?t.push(a):r.push(a)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(zt(t)||Bo(t))return new hf(t).filter(this);if(Xn(t)){for(var n=this.spawn(),a=this,o=0;o<a.length;o++){var l=a[o],c=r?t.apply(r,[l,o,a]):t(l,o,a);c&&n.push(l)}return n}return this.spawn()},not:function(t){if(t){zt(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],o=t.has(a);o||r.push(a)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(zt(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),a=this,o=t,l=this.length<t.length,c=l?a:o,u=l?o:a,h=0;h<c.length;h++){var f=c[h];u.has(f)&&n.push(f)}return n},xor:function(t){var r=this._private.cy;zt(t)&&(t=r.$(t));var n=this.spawn(),a=this,o=t,l=function(u,h){for(var f=0;f<u.length;f++){var d=u[f],p=d._private.data.id,g=h.hasElementWithId(p);g||n.push(d)}};return l(a,o),l(o,a),n},diff:function(t){var r=this._private.cy;zt(t)&&(t=r.$(t));var n=this.spawn(),a=this.spawn(),o=this.spawn(),l=this,c=t,u=function(f,d,p){for(var g=0;g<f.length;g++){var m=f[g],y=m._private.data.id,b=d.hasElementWithId(y);b?o.merge(m):p.push(m)}};return u(l,c,n),u(c,l,a),{left:n,right:a,both:o}},add:function(t){var r=this._private.cy;if(!t)return this;if(zt(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),o=0;o<t.length;o++){var l=t[o],c=!this.has(l);c&&a.push(l)}return a},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&zt(t)){var a=t;t=n.mutableElements().filter(a)}for(var o=r.map,l=0;l<t.length;l++){var c=t[l],u=c._private.data.id,h=!o.has(u);if(h){var f=this.length++;this[f]=c,o.set(u,{ele:c,index:f})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),a=this._private,o=a.map;this[t]=void 0,o.delete(n);var l=t===this.length-1;if(this.length>1&&!l){var c=this.length-1,u=this[c],h=u._private.data.id;this[c]=void 0,this[t]=u,o.set(h,{ele:u,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,a=r.map,o=a.get(n);if(!o)return this;var l=o.index;return this.unmergeAt(l),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&zt(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],a=this,o=0;o<a.length;o++){var l=a[o],c=r?t.apply(r,[l,o,a]):t(l,o,a);n.push(c)}return n},reduce:function(t,r){for(var n=r,a=this,o=0;o<a.length;o++)n=t(n,a[o],o,a);return n},max:function(t,r){for(var n=-1/0,a,o=this,l=0;l<o.length;l++){var c=o[l],u=r?t.apply(r,[c,l,o]):t(c,l,o);u>n&&(n=u,a=c)}return{value:n,ele:a}},min:function(t,r){for(var n=1/0,a,o=this,l=0;l<o.length;l++){var c=o[l],u=r?t.apply(r,[c,l,o]):t(c,l,o);u<n&&(n=u,a=c)}return{value:n,ele:a}}},Wr=ive;Wr.u=Wr["|"]=Wr["+"]=Wr.union=Wr.or=Wr.add;Wr["\\"]=Wr["!"]=Wr["-"]=Wr.difference=Wr.relativeComplement=Wr.subtract=Wr.not;Wr.n=Wr["&"]=Wr["."]=Wr.and=Wr.intersection=Wr.intersect;Wr["^"]=Wr["(+)"]=Wr["(-)"]=Wr.symmetricDifference=Wr.symdiff=Wr.xor;Wr.fnFilter=Wr.filterFn=Wr.stdFilter=Wr.filter;Wr.complement=Wr.abscomp=Wr.absoluteComplement;var KCt={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},ave=function(t,r){var n=t.cy(),a=n.hasCompoundNodes();function o(f){var d=f.pstyle("z-compound-depth");return d.value==="auto"?a?f.zDepth():0:d.value==="bottom"?-1:d.value==="top"?$P:0}var l=o(t)-o(r);if(l!==0)return l;function c(f){var d=f.pstyle("z-index-compare");return d.value==="auto"&&f.isNode()?1:0}var u=c(t)-c(r);if(u!==0)return u;var h=t.pstyle("z-index").value-r.pstyle("z-index").value;return h!==0?h:t.poolIndex()-r.poolIndex()},SS={forEach:function(t,r){if(Xn(t))for(var n=this.length,a=0;a<n;a++){var o=this[a],l=r?t.apply(r,[o,a,this]):t(o,a,this);if(l===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],a=this.length;r==null&&(r=a),t==null&&(t=0),t<0&&(t=a+t),r<0&&(r=a+r);for(var o=t;o>=0&&o<r&&o<a;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Xn(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(ave)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var a=r.data.parent?t.parents().size():0;return t.isParent()?a:$P-1}else{var o=r.source,l=r.target,c=o.zDepth(),u=l.zDepth();return Math.max(c,u,0)}}}};SS.each=SS.forEach;var ZCt=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":ji(Symbol))!=t&&ji(Symbol.iterator)!=t;r&&(SS[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},o=0,l=this.length;return tme({next:function(){return o<l?a.value=n[o++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};ZCt();var QCt=fa({nodeDimensionsIncludeLabels:!1}),Ww={layoutDimensions:function(t){t=QCt(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var a=this.nodes().filter(function(S){return!S.isParent()}),o=this.cy(),l=r.eles,c=function(C){return C.id()},u=vx(n,c);t.emit({type:"layoutstart",layout:t}),t.animations=[];var h=function(C,k,O){var I={x:k.x1+k.w/2,y:k.y1+k.h/2},_={x:(O.x-I.x)*C,y:(O.y-I.y)*C};return{x:I.x+_.x,y:I.y+_.y}},f=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!f)return null;for(var C=co(),k=0;k<a.length;k++){var O=a[k],I=u(O,k);tAt(C,I.x,I.y)}return C},p=d(),g=vx(function(S,C){var k=u(S,C);if(f){var O=Math.abs(r.spacingFactor);k=h(O,p,k)}return r.transform!=null&&(k=r.transform(S,k)),k},c);if(r.animate){for(var m=0;m<a.length;m++){var y=a[m],b=g(y,m),x=r.animateFilter==null||r.animateFilter(y,m);if(x){var T=y.animation({position:b,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(T)}else y.position(b)}if(r.fit){var w=o.animation({fit:{boundingBox:l.boundingBoxAt(g),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(w)}else if(r.zoom!==void 0&&r.pan!==void 0){var E=o.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(E)}t.animations.forEach(function(S){return S.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),jv.all(t.animations.map(function(S){return S.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(g),r.fit&&o.fit(r.eles,r.padding),r.zoom!=null&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Jt({},t,{eles:this}))}};Ww.createLayout=Ww.makeLayout=Ww.layout;function sve(e,t,r){var n=r._private,a=n.styleCache=n.styleCache||[],o;return(o=a[e])!=null||(o=a[e]=t(r)),o}function gk(e,t){return e=cf(e),function(n){return sve(e,t,n)}}function mk(e,t){e=cf(e);var r=function(a){return t.call(a)};return function(){var a=this[0];if(a)return sve(e,r,a)}}var Aa={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(o){return o._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),o=this;t=!!(t||t===void 0),a&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=o;return t?l.emitAndNotify("style"):l.emit("style"),o.forEach(function(c){return c._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var o=n._private.style[t];return o??(r?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,o=n.style();if(Fr(t)){var l=t;o.applyBypass(this,l,a),this.emitAndNotify("style")}else if(zt(t))if(r===void 0){var c=this[0];return c?o.getStylePropertyValue(c,t):void 0}else o.applyBypass(this,t,r,a),this.emitAndNotify("style");else if(t===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),o=this;if(t===void 0)for(var l=0;l<o.length;l++){var c=o[l];a.removeAllBypasses(c,n)}else{t=t.split(/\s+/);for(var u=0;u<o.length;u++){var h=o[u];a.removeBypasses(h,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var a=n._private,o=n.pstyle("opacity").value;if(!r)return o;var l=a.data.parent?n.parents():null;if(l)for(var c=0;c<l.length;c++){var u=l[c],h=u.pstyle("opacity").value;o=h*o}return o}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function F7(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var o=n[a];if(!t(o))return!1}return!0}function ZP(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var o=this[0],l=a.hasCompoundNodes();if(o){var c=o._private;if(!t(o))return!1;if(o.isNode())return!l||F7(o,n);var u=c.source,h=c.target;return r(u)&&(!l||F7(u,r))&&(u===h||r(h)&&(!l||F7(h,r)))}}}var Qv=gk("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Aa.takesUpSpace=mk("takesUpSpace",ZP({ok:Qv}));var JCt=gk("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Qv(e)}),e7t=gk("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Qv(e)});Aa.interactive=mk("interactive",ZP({ok:JCt,parentOk:e7t,edgeOkViaNode:Qv}));Aa.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var t7t=gk("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Qv(e)}),r7t=Qv;Aa.visible=mk("visible",ZP({ok:t7t,edgeOkViaNode:r7t}));Aa.hidden=function(){var e=this[0];if(e)return!e.visible()};Aa.isBundledBezier=mk("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Aa.bypass=Aa.css=Aa.style;Aa.renderedCss=Aa.renderedStyle;Aa.removeBypass=Aa.removeCss=Aa.removeStyle;Aa.pstyle=Aa.parsedStyle;var H0={};function mX(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],a=t[1];this.on(e.event,n,a)}else if(t.length===1&&Xn(t[0])){var o=t[0];this.on(e.event,o)}else if(t.length===0||t.length===1&&un(t[0])){for(var l=t.length===1?t[0]:null,c=0;c<this.length;c++){var u=this[c],h=!e.ableField||u._private[e.ableField],f=u._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(u);if(d!==void 0&&(h=d,!d))return this}h&&(u._private[e.field]=e.value,f&&r.push(u))}var p=this.spawn(r);p.updateStyle(),p.emit(e.event),l&&p.emit(l)}return this}}function Jv(e){H0[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},H0[e.on]=mX({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),H0[e.off]=mX({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Jv({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Jv({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Jv({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Jv({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});H0.deselect=H0.unselect;H0.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};Jv({field:"active",on:"activate",off:"unactivate"});Jv({field:"pannable",on:"panify",off:"unpanify"});H0.inactive=function(){var e=this[0];if(e)return!e._private.active};var ts={},vX=function(t){return function(n){for(var a=this,o=[],l=0;l<a.length;l++){var c=a[l];if(c.isNode()){for(var u=!1,h=c.connectedEdges(),f=0;f<h.length;f++){var d=h[f],p=d.source(),g=d.target();if(t.noIncomingEdges&&g===c&&p!==c||t.noOutgoingEdges&&p===c&&g!==c){u=!0;break}}u||o.push(c)}}return this.spawn(o,!0).filter(n)}},yX=function(t){return function(r){for(var n=this,a=[],o=0;o<n.length;o++){var l=n[o];if(l.isNode())for(var c=l.connectedEdges(),u=0;u<c.length;u++){var h=c[u],f=h.source(),d=h.target();t.outgoing&&f===l?(a.push(h),a.push(d)):t.incoming&&d===l&&(a.push(h),a.push(f))}}return this.spawn(a,!0).filter(r)}},bX=function(t){return function(r){for(var n=this,a=[],o={};;){var l=t.outgoing?n.outgoers():n.incomers();if(l.length===0)break;for(var c=!1,u=0;u<l.length;u++){var h=l[u],f=h.id();o[f]||(o[f]=!0,a.push(h),c=!0)}if(!c)break;n=l}return this.spawn(a,!0).filter(r)}};ts.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Jt(ts,{roots:vX({noIncomingEdges:!0}),leaves:vX({noOutgoingEdges:!0}),outgoers:pl(yX({outgoing:!0}),"outgoers"),successors:bX({outgoing:!0}),incomers:pl(yX({incoming:!0}),"incomers"),predecessors:bX({})});Jt(ts,{neighborhood:pl(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],o=a.connectedEdges(),l=0;l<o.length;l++){var c=o[l],u=c.source(),h=c.target(),f=a===u?h:u;f.length>0&&t.push(f[0]),t.push(c[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});ts.neighbourhood=ts.neighborhood;ts.closedNeighbourhood=ts.closedNeighborhood;ts.openNeighbourhood=ts.openNeighborhood;Jt(ts,{source:pl(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:pl(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:xX({attr:"source"}),targets:xX({attr:"target"})});function xX(e){return function(r){for(var n=[],a=0;a<this.length;a++){var o=this[a],l=o._private[e.attr];l&&n.push(l)}return this.spawn(n,!0).filter(r)}}Jt(ts,{edgesWith:pl(TX(),"edgesWith"),edgesTo:pl(TX({thisIsSrc:!0}),"edgesTo")});function TX(e){return function(r){var n=[],a=this._private.cy,o=e||{};zt(r)&&(r=a.$(r));for(var l=0;l<r.length;l++)for(var c=r[l]._private.edges,u=0;u<c.length;u++){var h=c[u],f=h._private.data,d=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),p=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),g=d||p;g&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!d||o.thisIsTgt&&!p)||n.push(h))}return this.spawn(n,!0)}}Jt(ts,{connectedEdges:pl(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var o=a._private.edges,l=0;l<o.length;l++){var c=o[l];t.push(c)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:pl(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:pl(wX(),"parallelEdges"),codirectedEdges:pl(wX({codirected:!0}),"codirectedEdges")});function wX(e){var t={codirected:!1};return e=Jt({},t,e),function(n){for(var a=[],o=this.edges(),l=e,c=0;c<o.length;c++)for(var u=o[c],h=u._private,f=h.source,d=f._private.data.id,p=h.data.target,g=f._private.edges,m=0;m<g.length;m++){var y=g[m],b=y._private.data,x=b.target,T=b.source,w=x===p&&T===d,E=d===x&&p===T;(l.codirected&&w||!l.codirected&&(w||E))&&a.push(y)}return this.spawn(a,!0).filter(n)}}Jt(ts,{components:function(t){var r=this,n=r.cy(),a=n.collection(),o=t==null?r.nodes():t.nodes(),l=[];t!=null&&o.empty()&&(o=t.sources());var c=function(f,d){a.merge(f),o.unmerge(f),d.merge(f)};if(o.empty())return r.spawn();var u=function(){var f=n.collection();l.push(f);var d=o[0];c(d,f),r.bfs({directed:!1,roots:d,visit:function(g){return c(g,f)}}),f.forEach(function(p){p.connectedEdges().forEach(function(g){r.has(g)&&f.has(g.source())&&f.has(g.target())&&f.merge(g)})})};do u();while(o.length>0);return l},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});ts.componentsOf=ts.components;var ka=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Vn("A collection must have a reference to the core");return}var o=new tu,l=!1;if(!r)r=[];else if(r.length>0&&Fr(r[0])&&!W3(r[0])){l=!0;for(var c=[],u=new qv,h=0,f=r.length;h<f;h++){var d=r[h];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=bme();else if(t.hasElementWithId(p.id)||u.has(p.id))continue;var g=new ok(t,d,!1);c.push(g),u.add(p.id)}r=c}this.length=0;for(var m=0,y=r.length;m<y;m++){var b=r[m][0];if(b!=null){var x=b._private.data.id;(!n||!o.has(x))&&(n&&o.set(x,{index:this.length,ele:b}),this[this.length]=b,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var w=this.lazyMap=new tu,E=this.eles,S=0;S<E.length;S++){var C=E[S];w.set(C.id(),{index:S,ele:C})}}},n&&(this._private.map=o),l&&!a&&this.restore()},Tn=ok.prototype=ka.prototype=Object.create(Array.prototype);Tn.instanceString=function(){return"collection"};Tn.spawn=function(e,t){return new ka(this.cy(),e,t)};Tn.spawnSelf=function(){return this.spawn(this)};Tn.cy=function(){return this._private.cy};Tn.renderer=function(){return this._private.cy.renderer()};Tn.element=function(){return this[0]};Tn.collection=function(){return ime(this)?this:new ka(this._private.cy,[this])};Tn.unique=function(){return new ka(this._private.cy,this,!0)};Tn.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};Tn.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new ka(t)};Tn.$id=Tn.getElementById;Tn.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};Tn.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};Tn.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};Tn.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(Fr(e)){if(r.startBatch(),e.data){t.data(e.data);var a=n.data;if(t.isEdge()){var o=!1,l={},c=e.data.source,u=e.data.target;c!=null&&c!=a.source&&(l.source=""+c,o=!0),u!=null&&u!=a.target&&(l.target=""+u,o=!0),o&&(t=t.move(l))}else{var h="parent"in e.data,f=e.data.parent;h&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),t=t.move({parent:f}))}}e.position&&t.position(e.position);var d=function(y,b,x){var T=e[y];T!=null&&T!==n[y]&&(T?t[b]():t[x]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var p={data:eu(n.data),position:eu(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var g=0;return n.classes.forEach(function(m){return p.classes+=g++===0?m:" "+m}),p}}};Tn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};Tn.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),o=new ok(e,a,!1);t.push(o)}return new ka(e,t)};Tn.copy=Tn.clone;Tn.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,o=[],l=[],c,u=0,h=r.length;u<h;u++){var f=r[u];t&&!f.removed()||(f.isNode()?o.push(f):l.push(f))}c=o.concat(l);var d,p=function(){c.splice(d,1),d--};for(d=0;d<c.length;d++){var g=c[d],m=g._private,y=m.data;if(g.clearTraversalCache(),!(!t&&!m.removed)){if(y.id===void 0)y.id=bme();else if(bt(y.id))y.id=""+y.id;else if(lf(y.id)||!zt(y.id)){Vn("Can not create element with invalid string ID `"+y.id+"`"),p();continue}else if(n.hasElementWithId(y.id)){Vn("Can not create second element with ID `"+y.id+"`"),p();continue}}var b=y.id;if(g.isNode()){var x=m.position;x.x==null&&(x.x=0),x.y==null&&(x.y=0)}if(g.isEdge()){for(var T=g,w=["source","target"],E=w.length,S=!1,C=0;C<E;C++){var k=w[C],O=y[k];bt(O)&&(O=y[k]=""+y[k]),O==null||O===""?(Vn("Can not create edge `"+b+"` with unspecified "+k),S=!0):n.hasElementWithId(O)||(Vn("Can not create edge `"+b+"` with nonexistant "+k+" `"+O+"`"),S=!0)}if(S){p();continue}var I=n.getElementById(y.source),_=n.getElementById(y.target);I.same(_)?I._private.edges.push(T):(I._private.edges.push(T),_._private.edges.push(T)),T._private.source=I,T._private.target=_}m.map=new tu,m.map.set(b,{ele:g,index:0}),m.removed=!1,t&&n.addToPool(g)}for(var R=0;R<o.length;R++){var M=o[R],$=M._private.data;bt($.parent)&&($.parent=""+$.parent);var N=$.parent,P=N!=null;if(P||M._private.parent){var F=M._private.parent?n.collection().merge(M._private.parent):n.getElementById(N);if(F.empty())$.parent=void 0;else if(F[0].removed())Qr("Node added with missing parent, reference to parent removed"),$.parent=void 0,M._private.parent=null;else{for(var L=!1,D=F;!D.empty();){if(M.same(D)){L=!0,$.parent=void 0;break}D=D.parent()}L||(F[0]._private.children.push(M),M._private.parent=F[0],a.hasCompoundNodes=!0)}}}if(c.length>0){for(var B=c.length===r.length?r:new ka(n,c),H=0;H<B.length;H++){var U=B[H];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}var G;a.hasCompoundNodes?G=n.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):G=B,G.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?B.emitAndNotify("add"):t&&B.emit("add")}return r};Tn.removed=function(){var e=this[0];return e&&e._private.removed};Tn.inside=function(){var e=this[0];return e&&!e._private.removed};Tn.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},o=r._private.cy;function l(N){for(var P=N._private.edges,F=0;F<P.length;F++)u(P[F])}function c(N){for(var P=N._private.children,F=0;F<P.length;F++)u(P[F])}function u(N){var P=a[N.id()];t&&N.removed()||P||(a[N.id()]=!0,N.isNode()?(n.push(N),l(N),c(N)):n.unshift(N))}for(var h=0,f=r.length;h<f;h++){var d=r[h];u(d)}function p(N,P){var F=N._private.edges;uf(F,P),N.clearTraversalCache()}function g(N){N.clearTraversalCache()}var m=[];m.ids={};function y(N,P){P=P[0],N=N[0];var F=N._private.children,L=N.id();uf(F,P),P._private.parent=null,m.ids[L]||(m.ids[L]=!0,m.push(N))}r.dirtyCompoundBoundsCache(),t&&o.removeFromPool(n);for(var b=0;b<n.length;b++){var x=n[b];if(x.isEdge()){var T=x.source()[0],w=x.target()[0];p(T,x),p(w,x);for(var E=x.parallelEdges(),S=0;S<E.length;S++){var C=E[S];g(C),C.isBundledBezier()&&C.dirtyBoundingBoxCache()}}else{var k=x.parent();k.length!==0&&y(k,x)}t&&(x._private.removed=!0)}var O=o._private.elements;o._private.hasCompoundNodes=!1;for(var I=0;I<O.length;I++){var _=O[I];if(_.isParent()){o._private.hasCompoundNodes=!0;break}}var R=new ka(this.cy(),n);R.size()>0&&(e?R.emitAndNotify("remove"):t&&R.emit("remove"));for(var M=0;M<m.length;M++){var $=m[M];(!t||!$.removed())&&$.updateStyle()}return R};Tn.move=function(e){var t=this._private.cy,r=this,n=!1,a=!1,o=function(m){return m==null?m:""+m};if(e.source!==void 0||e.target!==void 0){var l=o(e.source),c=o(e.target),u=l!=null&&t.hasElementWithId(l),h=c!=null&&t.hasElementWithId(c);(u||h)&&(t.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],y=m._private.data;m.isEdge()&&(u&&(y.source=l),h&&(y.target=c))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var f=o(e.parent),d=f===null||t.hasElementWithId(f);if(d){var p=f===null?void 0:f;t.batch(function(){var g=r.remove(n,a);g.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isNode()&&(b.parent=p)}g.restore(n,a)}),r.emitAndNotify("move")}}return this};[Nme,dCt,Uw,$0,ov,RCt,dk,YCt,nve,ive,KCt,SS,Ww,Aa,H0,ts].forEach(function(e){Jt(Tn,e)});var n7t={add:function(t){var r,n=this;if(Bo(t)){var a=t;if(a._private.cy===n)r=a.restore();else{for(var o=[],l=0;l<a.length;l++){var c=a[l];o.push(c.json())}r=new ka(n,o)}}else if(un(t)){var u=t;r=new ka(n,u)}else if(Fr(t)&&(un(t.nodes)||un(t.edges))){for(var h=t,f=[],d=["nodes","edges"],p=0,g=d.length;p<g;p++){var m=d[p],y=h[m];if(un(y))for(var b=0,x=y.length;b<x;b++){var T=Jt({group:m},y[b]);f.push(T)}}r=new ka(n,f)}else{var w=t;r=new ok(n,w).collection()}return r},remove:function(t){if(!Bo(t)){if(zt(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function i7t(e,t,r,n){var a=4,o=.001,l=1e-7,c=10,u=11,h=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var p=f?new Float32Array(u):new Array(u);function g(_,R){return 1-3*R+3*_}function m(_,R){return 3*R-6*_}function y(_){return 3*_}function b(_,R,M){return((g(R,M)*_+m(R,M))*_+y(R))*_}function x(_,R,M){return 3*g(R,M)*_*_+2*m(R,M)*_+y(R)}function T(_,R){for(var M=0;M<a;++M){var $=x(R,e,r);if($===0)return R;var N=b(R,e,r)-_;R-=N/$}return R}function w(){for(var _=0;_<u;++_)p[_]=b(_*h,e,r)}function E(_,R,M){var $,N,P=0;do N=R+(M-R)/2,$=b(N,e,r)-_,$>0?M=N:R=N;while(Math.abs($)>l&&++P<c);return N}function S(_){for(var R=0,M=1,$=u-1;M!==$&&p[M]<=_;++M)R+=h;--M;var N=(_-p[M])/(p[M+1]-p[M]),P=R+N*h,F=x(P,e,r);return F>=o?T(_,P):F===0?P:E(_,R,R+h)}var C=!1;function k(){C=!0,(e!==t||r!==n)&&w()}var O=function(R){return C||k(),e===t&&r===n?R:R===0?0:R===1?1:b(S(R),t,n)};O.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var I="generateBezier("+[e,t,r,n]+")";return O.toString=function(){return I},O}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var a7t=function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,a,o){var l={x:n.x+o.dx*a,v:n.v+o.dv*a,tension:n.tension,friction:n.friction};return{dx:l.v,dv:e(l)}}function r(n,a){var o={dx:n.v,dv:e(n)},l=t(n,a*.5,o),c=t(n,a*.5,l),u=t(n,a,c),h=1/6*(o.dx+2*(l.dx+c.dx)+u.dx),f=1/6*(o.dv+2*(l.dv+c.dv)+u.dv);return n.x=n.x+h*a,n.v=n.v+f*a,n}return function n(a,o,l){var c={x:-1,v:0,tension:null,friction:null},u=[0],h=0,f=1/1e4,d=16/1e3,p,g,m;for(a=parseFloat(a)||500,o=parseFloat(o)||20,l=l||null,c.tension=a,c.friction=o,p=l!==null,p?(h=n(a,o),g=h/l*d):g=d;m=r(m||c,g),u.push(1+m.x),h+=16,Math.abs(m.x)>f&&Math.abs(m.v)>f;);return p?function(y){return u[y*(u.length-1)|0]}:h}}(),pn=function(t,r,n,a){var o=i7t(t,r,n,a);return function(l,c,u){return l+(c-l)*o(u)}},zw={linear:function(t,r,n){return t+(r-t)*n},ease:pn(.25,.1,.25,1),"ease-in":pn(.42,0,1,1),"ease-out":pn(0,0,.58,1),"ease-in-out":pn(.42,0,.58,1),"ease-in-sine":pn(.47,0,.745,.715),"ease-out-sine":pn(.39,.575,.565,1),"ease-in-out-sine":pn(.445,.05,.55,.95),"ease-in-quad":pn(.55,.085,.68,.53),"ease-out-quad":pn(.25,.46,.45,.94),"ease-in-out-quad":pn(.455,.03,.515,.955),"ease-in-cubic":pn(.55,.055,.675,.19),"ease-out-cubic":pn(.215,.61,.355,1),"ease-in-out-cubic":pn(.645,.045,.355,1),"ease-in-quart":pn(.895,.03,.685,.22),"ease-out-quart":pn(.165,.84,.44,1),"ease-in-out-quart":pn(.77,0,.175,1),"ease-in-quint":pn(.755,.05,.855,.06),"ease-out-quint":pn(.23,1,.32,1),"ease-in-out-quint":pn(.86,0,.07,1),"ease-in-expo":pn(.95,.05,.795,.035),"ease-out-expo":pn(.19,1,.22,1),"ease-in-out-expo":pn(1,0,0,1),"ease-in-circ":pn(.6,.04,.98,.335),"ease-out-circ":pn(.075,.82,.165,1),"ease-in-out-circ":pn(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return zw.linear;var a=a7t(t,r,n);return function(o,l,c){return o+(l-o)*a(c)}},"cubic-bezier":pn};function EX(e,t,r,n,a){if(n===1||t===r)return r;var o=a(t,r,n);return e==null||((e.roundValue||e.color)&&(o=Math.round(o)),e.min!==void 0&&(o=Math.max(o,e.min)),e.max!==void 0&&(o=Math.min(o,e.max))),o}function SX(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function y1(e,t,r,n,a){var o=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var l=SX(e,a),c=SX(t,a);if(bt(l)&&bt(c))return EX(o,l,c,r,n);if(un(l)&&un(c)){for(var u=[],h=0;h<c.length;h++){var f=l[h],d=c[h];if(f!=null&&d!=null){var p=EX(o,f,d,r,n);u.push(p)}else u.push(d)}return u}}function s7t(e,t,r,n){var a=!n,o=e._private,l=t._private,c=l.easing,u=l.startTime,h=n?e:e.cy(),f=h.style();if(!l.easingImpl)if(c==null)l.easingImpl=zw.linear;else{var d;if(zt(c)){var p=f.parse("transition-timing-function",c);d=p.value}else d=c;var g,m;zt(d)?(g=d,m=[]):(g=d[1],m=d.slice(2).map(function(B){return+B})),m.length>0?(g==="spring"&&m.push(l.duration),l.easingImpl=zw[g].apply(null,m)):l.easingImpl=zw[g]}var y=l.easingImpl,b;if(l.duration===0?b=1:b=(r-u)/l.duration,l.applying&&(b=l.progress),b<0?b=0:b>1&&(b=1),l.delay==null){var x=l.startPosition,T=l.position;if(T&&a&&!e.locked()){var w={};Xy(x.x,T.x)&&(w.x=y1(x.x,T.x,b,y)),Xy(x.y,T.y)&&(w.y=y1(x.y,T.y,b,y)),e.position(w)}var E=l.startPan,S=l.pan,C=o.pan,k=S!=null&&n;k&&(Xy(E.x,S.x)&&(C.x=y1(E.x,S.x,b,y)),Xy(E.y,S.y)&&(C.y=y1(E.y,S.y,b,y)),e.emit("pan"));var O=l.startZoom,I=l.zoom,_=I!=null&&n;_&&(Xy(O,I)&&(o.zoom=Tx(o.minZoom,y1(O,I,b,y),o.maxZoom)),e.emit("zoom")),(k||_)&&e.emit("viewport");var R=l.style;if(R&&R.length>0&&a){for(var M=0;M<R.length;M++){var $=R[M],N=$.name,P=$,F=l.startStyle[N],L=f.properties[F.name],D=y1(F,P,b,y,L);f.overrideBypass(e,N,D)}e.emit("style")}}return l.progress=b,b}function Xy(e,t){return e==null||t==null?!1:bt(e)&&bt(t)?!0:!!(e&&t)}function o7t(e,t,r,n){var a=t._private;a.started=!0,a.startTime=r-a.progress*a.duration}function AX(e,t){var r=t._private.aniEles,n=[];function a(f,d){var p=f._private,g=p.animation.current,m=p.animation.queue,y=!1;if(g.length===0){var b=m.shift();b&&g.push(b)}for(var x=function(C){for(var k=C.length-1;k>=0;k--){var O=C[k];O()}C.splice(0,C.length)},T=g.length-1;T>=0;T--){var w=g[T],E=w._private;if(E.stopped){g.splice(T,1),E.hooked=!1,E.playing=!1,E.started=!1,x(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||o7t(f,w,e),s7t(f,w,e,d),E.applying&&(E.applying=!1),x(E.frames),E.step!=null&&E.step(e),w.completed()&&(g.splice(T,1),E.hooked=!1,E.playing=!1,E.started=!1,x(E.completes)),y=!0)}return!d&&g.length===0&&m.length===0&&n.push(f),y}for(var o=!1,l=0;l<r.length;l++){var c=r[l],u=a(c);o=o||u}var h=a(t,!0);(o||h)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var l7t={animate:Xr.animate(),animation:Xr.animation(),animated:Xr.animated(),clearQueue:Xr.clearQueue(),delay:Xr.delay(),delayAnimation:Xr.delayAnimation(),stop:Xr.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&bS(function(o){AX(o,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(o,l){AX(l,t)},n.beforeRenderPriorities.animations):r()}},c7t={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&W3(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},_4=function(t){return zt(t)?new hf(t):t},ove={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new pk(c7t,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,_4(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,_4(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,_4(r),n),this},once:function(t,r,n){return this.emitter().one(t,_4(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};Xr.eventAliasesOn(ove);var j_={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};j_.jpeg=j_.jpg;var Gw={layout:function(t){var r=this;if(t==null){Vn("Layout options must be specified to make a layout");return}if(t.name==null){Vn("A `name` must be specified to make a layout");return}var n=t.name,a=r.extension("layout",n);if(a==null){Vn("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;zt(t.eles)?o=r.$(t.eles):o=t.eles!=null?t.eles:r.$();var l=new a(Jt({},t,{cy:r,eles:o}));return l}};Gw.createLayout=Gw.makeLayout=Gw.layout;var u7t={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var a=t.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),a=0;a<n.length;a++){var o=n[a],l=t[o],c=r.getElementById(o);c.data(l)}})}},h7t=fa({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),X_={renderTo:function(t,r,n,a){var o=this._private.renderer;return o.renderTo(t,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){Vn("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&Qr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=h7t(t);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};X_.invalidateDimensions=X_.resize;var Yw={collection:function(t,r){return zt(t)?this.$(t):Bo(t)?t.collection():un(t)?(r||(r={}),new ka(this,t,r.unique,r.removed)):new ka(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Yw.elements=Yw.filter=Yw.$;var ls={},nb="t",f7t="f";ls.apply=function(e){for(var t=this,r=t._private,n=r.cy,a=n.collection(),o=0;o<e.length;o++){var l=e[o],c=t.getContextMeta(l);if(!c.empty){var u=t.getContextStyle(c),h=t.applyContextStyle(c,u,l);l._private.appliedInitStyle?t.updateTransitions(l,h.diffProps):l._private.appliedInitStyle=!0;var f=t.updateStyleHints(l);f&&a.push(l)}}return a};ls.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=e+"-"+t,o=n[a];if(o)return o;for(var l=[],c={},u=0;u<r.length;u++){var h=r[u],f=e[u]===nb,d=t[u]===nb,p=f!==d,g=h.mappedProperties.length>0;if(p||d&&g){var m=void 0;p&&g||p?m=h.properties:g&&(m=h.mappedProperties);for(var y=0;y<m.length;y++){for(var b=m[y],x=b.name,T=!1,w=u+1;w<r.length;w++){var E=r[w],S=t[w]===nb;if(S&&(T=E.properties[b.name]!=null,T))break}!c[x]&&!T&&(c[x]=!0,l.push(x))}}}return n[a]=l,l};ls.getContextMeta=function(e){for(var t=this,r="",n,a=e._private.styleCxtKey||"",o=0;o<t.length;o++){var l=t[o],c=l.selector&&l.selector.matches(e);c?r+=nb:r+=f7t}return n=t.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};ls.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var a={_private:{key:t}},o=0;o<r.length;o++){var l=r[o],c=t[o]===nb;if(c)for(var u=0;u<l.properties.length;u++){var h=l.properties[u];a[h.name]=h}}return n[t]=a,a};ls.applyContextStyle=function(e,t,r){for(var n=this,a=e.diffPropNames,o={},l=n.types,c=0;c<a.length;c++){var u=a[c],h=t[u],f=r.pstyle(u);if(!h)if(f)f.bypass?h={name:u,deleteBypassed:!0}:h={name:u,delete:!0};else continue;if(f!==h){if(h.mapped===l.fn&&f!=null&&f.mapping!=null&&f.mapping.value===h.value){var d=f.mapping,p=d.fnValue=h.value(r);if(p===d.prevFnValue)continue}var g=o[u]={prev:f};n.applyParsedProperty(r,h),g.next=r.pstyle(u),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:o}};ls.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,o=function(K,z,j){return r.getPropertiesHash(K,z,j)},l=t.styleKey;if(e.removed())return!1;var c=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var h=0;h<a.length;h++){var f=a[h];t.styleKeys[f]=[Y1,x2]}for(var d=function(K,z){return t.styleKeys[z][0]=yx(K,t.styleKeys[z][0])},p=function(K,z){return t.styleKeys[z][1]=bx(K,t.styleKeys[z][1])},g=function(K,z){d(K,z),p(K,z)},m=function(K,z){for(var j=0;j<K.length;j++){var te=K.charCodeAt(j);d(te,z),p(te,z)}},y=2e9,b=function(K){return-128<K&&K<128&&Math.floor(K)!==K?y-(K*1024|0):K},x=0;x<n.length;x++){var T=n[x],w=u[T];if(w!=null){var E=this.properties[T],S=E.type,C=E.groupKey,k=void 0;E.hashOverride!=null?k=E.hashOverride(e,w):w.pfValue!=null&&(k=w.pfValue);var O=E.enums==null?w.value:null,I=k!=null,_=O!=null,R=I||_,M=w.units;if(S.number&&R&&!S.multiple){var $=I?k:O;g(b($),C),!I&&M!=null&&m(M,C)}else m(w.strValue,C)}}for(var N=[Y1,x2],P=0;P<a.length;P++){var F=a[P],L=t.styleKeys[F];N[0]=yx(L[0],N[0]),N[1]=bx(L[1],N[1])}t.styleKey=b6t(N[0],N[1]);var D=t.styleKeys;t.labelDimsKey=l0(D.labelDimensions);var B=o(e,["label"],D.labelDimensions);if(t.labelKey=l0(B),t.labelStyleKey=l0(w4(D.commonLabel,B)),!c){var H=o(e,["source-label"],D.labelDimensions);t.sourceLabelKey=l0(H),t.sourceLabelStyleKey=l0(w4(D.commonLabel,H));var U=o(e,["target-label"],D.labelDimensions);t.targetLabelKey=l0(U),t.targetLabelStyleKey=l0(w4(D.commonLabel,U))}if(c){var G=t.styleKeys,W=G.nodeBody,ee=G.nodeBorder,ce=G.nodeOutline,Z=G.backgroundImage,J=G.compound,oe=G.pie,Y=[W,ee,ce,Z,J,oe].filter(function(X){return X!=null}).reduce(w4,[Y1,x2]);t.nodeKey=l0(Y),t.hasPie=oe!=null&&oe[0]!==Y1&&oe[1]!==x2}return l!==t.styleKey};ls.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};ls.applyParsedProperty=function(e,t){var r=this,n=t,a=e._private.style,o,l=r.types,c=r.properties[n.name].type,u=n.bypass,h=a[n.name],f=h&&h.bypass,d=e._private,p="mapping",g=function(W){return W==null?null:W.pfValue!=null?W.pfValue:W.value},m=function(){var W=g(h),ee=g(n);r.checkTriggers(e,n.name,W,ee)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return a[n.name]=void 0,m(),!0;if(n.deleteBypassed)return h?h.bypass?(h.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return h?h.bypass?(a[n.name]=h.bypassed,m(),!0):!1:(m(),!0);var y=function(){Qr("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case l.mapData:{for(var b=n.field.split("."),x=d.data,T=0;T<b.length&&x;T++){var w=b[T];x=x[w]}if(x==null)return y(),!1;var E;if(bt(x)){var S=n.fieldMax-n.fieldMin;S===0?E=0:E=(x-n.fieldMin)/S}else return Qr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+x+"` for `"+e.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),c.color){var C=n.valueMin[0],k=n.valueMax[0],O=n.valueMin[1],I=n.valueMax[1],_=n.valueMin[2],R=n.valueMax[2],M=n.valueMin[3]==null?1:n.valueMin[3],$=n.valueMax[3]==null?1:n.valueMax[3],N=[Math.round(C+(k-C)*E),Math.round(O+(I-O)*E),Math.round(_+(R-_)*E),Math.round(M+($-M)*E)];o={bypass:n.bypass,name:n.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else if(c.number){var P=n.valueMin+(n.valueMax-n.valueMin)*E;o=this.parse(n.name,P,n.bypass,p)}else return!1;if(!o)return y(),!1;o.mapping=n,n=o;break}case l.data:{for(var F=n.field.split("."),L=d.data,D=0;D<F.length&&L;D++){var B=F[D];L=L[B]}if(L!=null&&(o=this.parse(n.name,L,n.bypass,p)),!o)return y(),!1;o.mapping=n,n=o;break}case l.fn:{var H=n.value,U=n.fnValue!=null?n.fnValue:H(e);if(n.prevFnValue=U,U==null)return Qr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(o=this.parse(n.name,U,n.bypass,p),!o)return Qr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;o.mapping=eu(n),n=o;break}case void 0:break;default:return!1}return u?(f?n.bypassed=h.bypassed:n.bypassed=h,a[n.name]=n):f?h.bypassed=n:a[n.name]=n,m(),!0};ls.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var a=n._private.style,o=Object.keys(a),l=0;l<o.length;l++){var c=o[l],u=a[c];u!=null&&(u.bypass?u.bypassed=null:a[c]=null)}}};ls.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};ls.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,l=e.pstyle("transition-delay").pfValue;if(a.length>0&&o>0){for(var c={},u=!1,h=0;h<a.length;h++){var f=a[h],d=e.pstyle(f),p=t[f];if(p){var g=p.prev,m=g,y=p.next!=null?p.next:d,b=!1,x=void 0,T=1e-6;m&&(bt(m.pfValue)&&bt(y.pfValue)?(b=y.pfValue-m.pfValue,x=m.pfValue+T*b):bt(m.value)&&bt(y.value)?(b=y.value-m.value,x=m.value+T*b):un(m.value)&&un(y.value)&&(b=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],x=m.strValue),b&&(c[f]=y.strValue,this.applyBypass(e,f,x),u=!0))}}if(!u)return;n.transitioning=!0,new jv(function(w){l>0?e.delayAnimation(l).play().promise().then(w):w()}).then(function(){return e.animation({style:c,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};ls.checkTrigger=function(e,t,r,n,a,o){var l=this.properties[t],c=a(l);c!=null&&c(r,n)&&o(l)};ls.checkZOrderTrigger=function(e,t,r,n){var a=this;this.checkTrigger(e,t,r,n,function(o){return o.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};ls.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(r==="bezier"||n==="bezier")&&e.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&t==="display"&&(r==="none"||n==="none")&&e.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};ls.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)};var q3={};q3.applyBypass=function(e,t,r,n){var a=this,o=[],l=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var c=0;c<a.properties.length;c++){var u=a.properties[c],h=u.name,f=this.parse(h,r,!0);f&&o.push(f)}}else if(zt(t)){var d=this.parse(t,r,!0);d&&o.push(d)}else if(Fr(t)){var p=t;n=r;for(var g=Object.keys(p),m=0;m<g.length;m++){var y=g[m],b=p[y];if(b===void 0&&(b=p[ak(y)]),b!==void 0){var x=this.parse(y,b,!0);x&&o.push(x)}}}else return!1;if(o.length===0)return!1;for(var T=!1,w=0;w<e.length;w++){for(var E=e[w],S={},C=void 0,k=0;k<o.length;k++){var O=o[k];if(n){var I=E.pstyle(O.name);C=S[O.name]={prev:I}}T=this.applyParsedProperty(E,eu(O))||T,n&&(C.next=E.pstyle(O.name))}T&&this.updateStyleHints(E),n&&this.updateTransitions(E,S,l)}return T};q3.overrideBypass=function(e,t,r){t=BP(t);for(var n=0;n<e.length;n++){var a=e[n],o=a._private.style[t],l=this.properties[t].type,c=l.color,u=l.mutiple,h=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(a,t,r):(o.value=r,o.pfValue!=null&&(o.pfValue=r),c?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,t,h,r)}};q3.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};q3.removeBypasses=function(e,t,r){for(var n=!0,a=0;a<e.length;a++){for(var o=e[a],l={},c=0;c<t.length;c++){var u=t[c],h=this.properties[u],f=o.pstyle(h.name);if(!(!f||!f.bypass)){var d="",p=this.parse(u,d,!0),g=l[h.name]={prev:f};this.applyParsedProperty(o,p),g.next=o.pstyle(h.name)}}this.updateStyleHints(o),r&&this.updateTransitions(o,l,n)}};var QP={};QP.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};QP.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var vu={};vu.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};vu.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},a=0;a<r.properties.length;a++){var o=r.properties[a],l=r.getStylePropertyValue(e,o.name,t);l!=null&&(n[o.name]=l,n[ak(o.name)]=l)}return n}};vu.getIndexedStyle=function(e,t,r,n){var a=e.pstyle(t)[r][n];return a??e.cy().style().getDefaultProperty(t)[r][0]};vu.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var a=n.properties[t];a.alias&&(a=a.pointsTo);var o=a.type,l=e.pstyle(a.name);if(l){var c=l.value,u=l.units,h=l.strValue;if(r&&o.number&&c!=null&&bt(c)){var f=e.cy().zoom(),d=function(b){return b*f},p=function(b,x){return d(b)+x},g=un(c),m=g?u.every(function(y){return y!=null}):u!=null;return m?g?c.map(function(y,b){return p(y,u[b])}).join(" "):p(c,u):g?c.map(function(y){return zt(y)?y:""+d(y)}).join(" "):""+d(c)}else if(h!=null)return h}return null}};vu.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],o=a.name,l=e.pstyle(o);l!==void 0&&(Fr(l)?l=this.parse(o,l.strValue):l=this.parse(o,l)),l&&(r[o]=l)}return r};vu.getPropsList=function(e){var t=this,r=[],n=e,a=t.properties;if(n)for(var o=Object.keys(n),l=0;l<o.length;l++){var c=o[l],u=n[c],h=a[c]||a[BP(c)],f=this.parse(h.name,u);f&&r.push(f)}return r};vu.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),a,o,l,c,u,h;for(u=0;u<t.length;u++)if(a=t[u],o=e.pstyle(a,!1),o!=null)if(o.pfValue!=null)n[0]=yx(c,n[0]),n[1]=bx(c,n[1]);else for(l=o.strValue,h=0;h<l.length;h++)c=l.charCodeAt(h),n[0]=yx(c,n[0]),n[1]=bx(c,n[1]);return n};vu.getPropertiesHash=vu.getNonDefaultPropertiesHash;var vk={};vk.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],a=n.selector,o=n.style||n.css,l=Object.keys(o);t.selector(a);for(var c=0;c<l.length;c++){var u=l[c],h=o[u];t.css(u,h)}}return t};vk.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};vk.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,a=r.properties,o={},l=0;l<a.length;l++){var c=a[l];o[c.name]=c.strValue}e.push({selector:n?n.toString():"core",style:o})}return e};var JP={};JP.appendFromString=function(e){var t=this,r=this,n=""+e,a,o,l;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){n.length>a.length?n=n.substr(a.length):n=""}function u(){o.length>l.length?o=o.substr(l.length):o=""}for(;;){var h=n.match(/^\s*$/);if(h)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){Qr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var d=f[1];if(d!=="core"){var p=new hf(d);if(p.invalid){Qr("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),c();continue}}var g=f[2],m=!1;o=g;for(var y=[];;){var b=o.match(/^\s*$/);if(b)break;var x=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!x){Qr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),m=!0;break}l=x[0];var T=x[1],w=x[2],E=t.properties[T];if(!E){Qr("Skipping property: Invalid property name in: "+l),u();continue}var S=r.parse(T,w);if(!S){Qr("Skipping property: Invalid property definition in: "+l),u();continue}y.push({name:T,val:w}),u()}if(m){c();break}r.selector(d);for(var C=0;C<y.length;C++){var k=y[C];r.css(k.name,k.val)}c()}return r};JP.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var ya={};(function(){var e=Gi,t=ESt,r=ASt,n=kSt,a=CSt,o=function(Y){return"^"+Y+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(Y){var X=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+a;return"^"+Y+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+X+")\\s*\\,\\s*("+X+")\\)$"},c=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];ya.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Y,X){switch(Y.length){case 2:return X[0]!=="deg"&&X[0]!=="rad"&&X[1]!=="deg"&&X[1]!=="rad";case 1:return zt(Y[0])||X[0]==="deg"||X[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Y){var X=Y.length;return X===1||X===2||X===4}}};var u={zeroNonZero:function(Y,X){return(Y==null||X==null)&&Y!==X||Y==0&&X!=0?!0:Y!=0&&X==0},any:function(Y,X){return Y!=X},emptyNonEmpty:function(Y,X){var K=lf(Y),z=lf(X);return K&&!z||!K&&z}},h=ya.types,f=[{name:"label",type:h.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any}],d=[{name:"source-label",type:h.text,triggersBounds:u.any},{name:"source-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:h.size,triggersBounds:u.any}],p=[{name:"target-label",type:h.text,triggersBounds:u.any},{name:"target-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:h.size,triggersBounds:u.any}],g=[{name:"font-family",type:h.fontFamily,triggersBounds:u.any},{name:"font-style",type:h.fontStyle,triggersBounds:u.any},{name:"font-weight",type:h.fontWeight,triggersBounds:u.any},{name:"font-size",type:h.size,triggersBounds:u.any},{name:"text-transform",type:h.textTransform,triggersBounds:u.any},{name:"text-wrap",type:h.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:h.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:h.size,triggersBounds:u.any},{name:"text-outline-width",type:h.size,triggersBounds:u.any},{name:"line-height",type:h.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:h.valign,triggersBounds:u.any},{name:"text-halign",type:h.halign,triggersBounds:u.any},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size,triggersBounds:u.any},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size,triggersBounds:u.any},{name:"text-border-style",type:h.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:h.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:h.justification}],y=[{name:"events",type:h.bool,triggersZOrder:u.any},{name:"text-events",type:h.bool,triggersZOrder:u.any}],b=[{name:"display",type:h.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:h.visibility,triggersZOrder:u.any},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:h.zeroOneNumber},{name:"min-zoomed-font-size",type:h.size},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:h.number,triggersZOrder:u.any}],x=[{name:"overlay-padding",type:h.size,triggersBounds:u.any},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:h.cornerRadius}],T=[{name:"underlay-padding",type:h.size,triggersBounds:u.any},{name:"underlay-color",type:h.color},{name:"underlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:h.cornerRadius}],w=[{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing}],E=function(Y,X){return X.value==="label"?-Y.poolIndex():X.pfValue},S=[{name:"height",type:h.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"width",type:h.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"shape",type:h.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:h.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:h.cornerRadius},{name:"background-color",type:h.color},{name:"background-fill",type:h.fill},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"background-gradient-stop-colors",type:h.colors},{name:"background-gradient-stop-positions",type:h.percentages},{name:"background-gradient-direction",type:h.gradientDirection},{name:"padding",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:h.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:h.boundsExpansion,triggersBounds:u.any}],C=[{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size,triggersBounds:u.any},{name:"border-style",type:h.borderStyle},{name:"border-cap",type:h.lineCap},{name:"border-join",type:h.lineJoin},{name:"border-dash-pattern",type:h.numbers},{name:"border-dash-offset",type:h.number},{name:"border-position",type:h.linePosition}],k=[{name:"outline-color",type:h.color},{name:"outline-opacity",type:h.zeroOneNumber},{name:"outline-width",type:h.size,triggersBounds:u.any},{name:"outline-style",type:h.borderStyle},{name:"outline-offset",type:h.size,triggersBounds:u.any}],O=[{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-image-containment",type:h.bgContainment},{name:"background-image-smoothing",type:h.bools},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"background-offset-x",type:h.bgPos},{name:"background-offset-y",type:h.bgPos}],I=[{name:"position",type:h.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:h.size,triggersBounds:u.any},{name:"min-width-bias-left",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:h.size,triggersBounds:u.any},{name:"min-height-bias-top",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:h.sizeMaybePercent,triggersBounds:u.any}],_=[{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"line-fill",type:h.fill},{name:"line-cap",type:h.lineCap},{name:"line-opacity",type:h.zeroOneNumber},{name:"line-dash-pattern",type:h.numbers},{name:"line-dash-offset",type:h.number},{name:"line-outline-width",type:h.size},{name:"line-outline-color",type:h.color},{name:"line-gradient-stop-colors",type:h.colors},{name:"line-gradient-stop-positions",type:h.percentages},{name:"curve-style",type:h.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:h.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:h.size,triggersBounds:u.any},{name:"control-point-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-radii",type:h.numbers,triggersBounds:u.any},{name:"radius-type",type:h.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:h.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:h.size,triggersBounds:u.any},{name:"taxi-direction",type:h.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:h.number,triggersBounds:u.any},{name:"edge-distances",type:h.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:h.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:h.angle,triggersBounds:u.any},{name:"loop-sweep",type:h.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:h.size,triggersBounds:u.any},{name:"target-distance-from-node",type:h.size,triggersBounds:u.any}],R=[{name:"ghost",type:h.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:h.zeroOneNumber}],M=[{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],$=[];ya.pieBackgroundN=16,$.push({name:"pie-size",type:h.sizeMaybePercent});for(var N=1;N<=ya.pieBackgroundN;N++)$.push({name:"pie-"+N+"-background-color",type:h.color}),$.push({name:"pie-"+N+"-background-size",type:h.percent}),$.push({name:"pie-"+N+"-background-opacity",type:h.zeroOneNumber});var P=[],F=ya.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill},{name:"arrow-width",type:h.arrowWidth}].forEach(function(oe){F.forEach(function(Y){var X=Y+"-"+oe.name,K=oe.type,z=oe.triggersBounds;P.push({name:X,type:K,triggersBounds:z})})},{});var L=ya.properties=[].concat(y,w,b,x,T,R,m,g,f,d,p,S,C,k,O,$,I,_,P,M),D=ya.propertyGroups={behavior:y,transition:w,visibility:b,overlay:x,underlay:T,ghost:R,commonLabel:m,labelDimensions:g,mainLabel:f,sourceLabel:d,targetLabel:p,nodeBody:S,nodeBorder:C,nodeOutline:k,backgroundImage:O,pie:$,compound:I,edgeLine:_,edgeArrow:P,core:M},B=ya.propertyGroupNames={},H=ya.propertyGroupKeys=Object.keys(D);H.forEach(function(oe){B[oe]=D[oe].map(function(Y){return Y.name}),D[oe].forEach(function(Y){return Y.groupKey=oe})});var U=ya.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ya.propertyNames=L.map(function(oe){return oe.name});for(var G=0;G<L.length;G++){var W=L[G];L[W.name]=W}for(var ee=0;ee<U.length;ee++){var ce=U[ee],Z=L[ce.pointsTo],J={name:ce.name,alias:!0,pointsTo:Z};L.push(J),L[ce.name]=J}})();ya.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};ya.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Jt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var f=1;f<=ya.pieBackgroundN;f++){var d=h.name.replace("{{i}}",f),p=h.value;u[d]=p}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,h){return ya.arrowPrefixes.forEach(function(f){var d=f+"-"+h.name,p=h.value;u[d]=p}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var o=a.name,l=t[o],c=this.parse(o,l);r[o]=c}}return e.defaultProperties=r,e.defaultProperties};ya.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var yk={};yk.parse=function(e,t,r,n){var a=this;if(Xn(t))return a.parseImplWarn(e,t,r,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,l=r?"t":"f",c=""+t,u=mme(e,c,l,o),h=a.propCache=a.propCache||[],f;return(f=h[u])||(f=h[u]=a.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(f=eu(f),f&&(f.value=eu(f.value))),f};yk.parseImplWarn=function(e,t,r,n){var a=this.parseImpl(e,t,r,n);return!a&&t!=null&&Qr("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&Qr("The style value of `label` is deprecated for `"+a.name+"`"),a};yk.parseImpl=function(e,t,r,n){var a=this;e=BP(e);var o=a.properties[e],l=t,c=a.types;if(!o||t===void 0)return null;o.alias&&(o=o.pointsTo,e=o.name);var u=zt(t);u&&(t=t.trim());var h=o.type;if(!h)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Xn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:r};var f,d;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(f=new RegExp(c.data.regex).exec(t))){if(r)return!1;var p=c.data;return{name:e,value:f,strValue:""+t,mapped:p,field:f[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(d=new RegExp(c.mapData.regex).exec(t))){if(r||h.multiple)return!1;var g=c.mapData;if(!(h.color||h.number))return!1;var m=this.parse(e,d[4]);if(!m||m.mapped)return!1;var y=this.parse(e,d[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return Qr("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(h.color){var b=m.value,x=y.value,T=b[0]===x[0]&&b[1]===x[1]&&b[2]===x[2]&&(b[3]===x[3]||(b[3]==null||b[3]===1)&&(x[3]==null||x[3]===1));if(T)return!1}return{name:e,value:d,strValue:""+t,mapped:g,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(h.multiple&&n!=="multiple"){var w;if(u?w=t.split(/\s+/):un(t)?w=t:w=[t],h.evenMultiple&&w.length%2!==0)return null;for(var E=[],S=[],C=[],k="",O=!1,I=0;I<w.length;I++){var _=a.parse(e,w[I],r,"multiple");O=O||zt(_.value),E.push(_.value),C.push(_.pfValue!=null?_.pfValue:_.value),S.push(_.units),k+=(I>0?" ":"")+_.strValue}return h.validate&&!h.validate(E,S)?null:h.singleEnum&&O?E.length===1&&zt(E[0])?{name:e,value:E[0],strValue:E[0],bypass:r}:null:{name:e,value:E,pfValue:C,strValue:k,bypass:r,units:S}}var R=function(){for(var Y=0;Y<h.enums.length;Y++){var X=h.enums[Y];if(X===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(h.number){var M,$="px";if(h.units&&(M=h.units),h.implicitUnits&&($=h.implicitUnits),!h.unitless)if(u){var N="px|em"+(h.allowPercent?"|\\%":"");M&&(N=M);var P=t.match("^("+Gi+")("+N+")?$");P&&(t=P[1],M=P[2]||$)}else(!M||h.implicitUnits)&&(M=$);if(t=parseFloat(t),isNaN(t)&&h.enums===void 0)return null;if(isNaN(t)&&h.enums!==void 0)return t=l,R();if(h.integer&&!mSt(t)||h.min!==void 0&&(t<h.min||h.strictMin&&t===h.min)||h.max!==void 0&&(t>h.max||h.strictMax&&t===h.max))return null;var F={name:e,value:t,strValue:""+t+(M||""),units:M,bypass:r};return h.unitless||M!=="px"&&M!=="em"?F.pfValue=t:F.pfValue=M==="px"||!M?t:this.getEmSizeInPixels()*t,(M==="ms"||M==="s")&&(F.pfValue=M==="ms"?t:1e3*t),(M==="deg"||M==="rad")&&(F.pfValue=M==="rad"?t:X6t(t)),M==="%"&&(F.pfValue=t/100),F}else if(h.propList){var L=[],D=""+t;if(D!=="none"){for(var B=D.split(/\s*,\s*|\s+/),H=0;H<B.length;H++){var U=B[H].trim();a.properties[U]?L.push(U):Qr("`"+U+"` is not a valid property name")}if(L.length===0)return null}return{name:e,value:L,strValue:L.length===0?"none":L.join(" "),bypass:r}}else if(h.color){var G=lme(t);return G?{name:e,value:G,pfValue:G,strValue:"rgb("+G[0]+","+G[1]+","+G[2]+")",bypass:r}:null}else if(h.regex||h.regexes){if(h.enums){var W=R();if(W)return W}for(var ee=h.regexes?h.regexes:[h.regex],ce=0;ce<ee.length;ce++){var Z=new RegExp(ee[ce]),J=Z.exec(t);if(J)return{name:e,value:h.singleRegexMatchValue?J[1]:J,strValue:""+t,bypass:r}}return null}else return h.string?{name:e,value:""+t,strValue:""+t,bypass:r}:h.enums?R():null};var Ja=function e(t){if(!(this instanceof e))return new e(t);if(!FP(t)){Vn("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},rs=Ja.prototype;rs.instanceString=function(){return"style"};rs.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var o=a[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};rs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};rs.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};rs.selector=function(e){var t=e==="core"?null:new hf(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};rs.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],o=r[a.name];o===void 0&&(o=r[ak(a.name)]),o!==void 0&&this.cssRule(a.name,o)}else t.length===2&&this.cssRule(t[0],t[1]);return this};rs.style=rs.css;rs.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};rs.append=function(e){return ame(e)?e.appendToStyle(this):un(e)?this.appendFromJson(e):zt(e)&&this.appendFromString(e),this};Ja.fromJson=function(e,t){var r=new Ja(e);return r.fromJson(t),r};Ja.fromString=function(e,t){return new Ja(e).fromString(t)};[ls,q3,QP,vu,vk,JP,ya,yk].forEach(function(e){Jt(rs,e)});Ja.types=rs.types;Ja.properties=rs.properties;Ja.propertyGroups=rs.propertyGroups;Ja.propertyGroupNames=rs.propertyGroupNames;Ja.propertyGroupKeys=rs.propertyGroupKeys;var d7t={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return ame(t)?r.style=t.generateStyle(this):un(t)?r.style=Ja.fromJson(this,t):zt(t)?r.style=Ja.fromString(this,t):r.style=Ja(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},p7t="single",wp={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=p7t),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,a,o,l,c;switch(t.length){case 0:return r;case 1:if(zt(t[0]))return n=t[0],r[n];if(Fr(t[0])){if(!this._private.panningEnabled)return this;o=t[0],l=o.x,c=o.y,bt(l)&&(r.x=l),bt(c)&&(r.y=c),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],a=t[1],(n==="x"||n==="y")&&bt(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,a=this._private.pan,o,l,c,u,h;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Fr(t)&&(c=n[0],u=c.x,h=c.y,bt(u)&&(a.x+=u),bt(h)&&(a.y+=h),this.emit("pan viewport"));break;case 2:o=t,l=r,(o==="x"||o==="y")&&bt(l)&&(a[o]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(bt(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(zt(t)){var a=t;t=this.$(a)}else if(bSt(t)){var o=t;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Bo(t)||(t=this.mutableElements());if(!(Bo(t)&&t.empty())){n=n||t.boundingBox();var l=this.width(),c=this.height(),u;if(r=bt(r)?r:0,!isNaN(l)&&!isNaN(c)&&l>0&&c>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((l-2*r)/n.w,(c-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var h={x:(l-u*(n.x1+n.x2))/2,y:(c-u*(n.y1+n.y2))/2};return{zoom:u,pan:h}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var a=t;t=a.min,r=a.max}return bt(t)&&bt(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):bt(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:bt(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,a=r.zoom,o,l,c=!1;if(r.zoomingEnabled||(c=!0),bt(t)?l=t:Fr(t)&&(l=t.level,t.position!=null?o=lk(t.position,a,n):t.renderedPosition!=null&&(o=t.renderedPosition),o!=null&&!r.panningEnabled&&(c=!0)),l=l>r.maxZoom?r.maxZoom:l,l=l<r.minZoom?r.minZoom:l,c||!bt(l)||l===a||o!=null&&(!bt(o.x)||!bt(o.y)))return null;if(o!=null){var u=n,h=a,f=l,d={x:-f/h*(o.x-u.x)+o.x,y:-f/h*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:f,pan:d}}else return{zoomed:!0,panned:!1,zoom:l,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,a=!0,o=[],l=!1,c=!1;if(!t)return this;if(bt(t.zoom)||(n=!1),Fr(t.pan)||(a=!1),!n&&!a)return this;if(n){var u=t.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?l=!0:(r.zoom=u,o.push("zoom"))}if(a&&(!l||!t.cancelOnFailedZoom)&&r.panningEnabled){var h=t.pan;bt(h.x)&&(r.pan.x=h.x,c=!1),bt(h.y)&&(r.pan.y=h.y,c=!1),c||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(zt(t)){var n=t;t=this.mutableElements().filter(n)}else Bo(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),o=this.width(),l=this.height();r=r===void 0?this._private.zoom:r;var c={x:(o-r*(a.x1+a.x2))/2,y:(l-r*(a.y1+a.y2))/2};return c}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),o=function(c){return parseFloat(a.getPropertyValue(c))};return{width:r.clientWidth-o("padding-left")-o("padding-right"),height:r.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};wp.centre=wp.center;wp.autolockNodes=wp.autolock;wp.autoungrabifyNodes=wp.autoungrabify;var kx={data:Xr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Xr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Xr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};kx.attr=kx.data;kx.removeAttr=kx.removeData;var Cx=function(t){var r=this;t=Jt({},t);var n=t.container;n&&!yS(n)&&yS(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var o=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var l=Mi!==void 0&&n!==void 0&&!t.headless,c=t;c.layout=Jt({name:l?"grid":"null"},c.layout),c.renderer=Jt({name:l?"canvas":"null"},c.renderer);var u=function(m,y,b){return y!==void 0?y:b!==void 0?b:m},h=this._private={container:n,ready:!1,options:c,elements:new ka(this),listeners:[],aniEles:new ka(this),data:c.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,c.zoomingEnabled),userZoomingEnabled:u(!0,c.userZoomingEnabled),panningEnabled:u(!0,c.panningEnabled),userPanningEnabled:u(!0,c.userPanningEnabled),boxSelectionEnabled:u(!0,c.boxSelectionEnabled),autolock:u(!1,c.autolock,c.autolockNodes),autoungrabify:u(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:u(!1,c.autounselectify),styleEnabled:c.styleEnabled===void 0?l:c.styleEnabled,zoom:bt(c.zoom)?c.zoom:1,pan:{x:Fr(c.pan)&&bt(c.pan.x)?c.pan.x:0,y:Fr(c.pan)&&bt(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,c.multiClickDebounceTime)};this.createEmitter(),this.selectionType(c.selectionType),this.zoomRange({min:c.minZoom,max:c.maxZoom});var f=function(m,y){var b=m.some(xSt);if(b)return jv.all(m).then(y);y(m)};h.styleEnabled&&r.setStyle([]);var d=Jt({},c,c.renderer);r.initRenderer(d);var p=function(m,y,b){r.notifications(!1);var x=r.mutableElements();x.length>0&&x.remove(),m!=null&&(Fr(m)||un(m))&&r.add(m),r.one("layoutready",function(w){r.notifications(!0),r.emit(w),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",b),r.emit("done")});var T=Jt({},r._private.options.layout);T.eles=r.elements(),r.layout(T).run()};f([c.style,c.elements],function(g){var m=g[0],y=g[1];h.styleEnabled&&r.style().append(m),p(y,function(){r.startAnimationLoop(),h.ready=!0,Xn(c.ready)&&r.on("ready",c.ready);for(var b=0;b<o.length;b++){var x=o[b];r.on("ready",x)}a&&(a.readies=[]),r.emit("ready")},c.done)})},AS=Cx.prototype;Jt(AS,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return Mi;var r=this._private.container.ownerDocument;return r===void 0||r==null?Mi:r.defaultView||Mi},mount:function(t){if(t!=null){var r=this,n=r._private,a=n.options;return!yS(t)&&yS(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Jt({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return eu(this._private.options)},json:function(t){var r=this,n=r._private,a=r.mutableElements(),o=function(E){return r.getElementById(E.id())};if(Fr(t)){if(r.startBatch(),t.elements){var l={},c=function(E,S){for(var C=[],k=[],O=0;O<E.length;O++){var I=E[O];if(!I.data.id){Qr("cy.json() cannot handle elements without an ID attribute");continue}var _=""+I.data.id,R=r.getElementById(_);l[_]=!0,R.length!==0?k.push({ele:R,json:I}):(S&&(I.group=S),C.push(I))}r.add(C);for(var M=0;M<k.length;M++){var $=k[M],N=$.ele,P=$.json;N.json(P)}};if(un(t.elements))c(t.elements);else for(var u=["nodes","edges"],h=0;h<u.length;h++){var f=u[h],d=t.elements[f];un(d)&&c(d,f)}var p=r.collection();a.filter(function(w){return!l[w.id()]}).forEach(function(w){w.isParent()?p.merge(w):w.remove()}),p.forEach(function(w){return w.children().move({parent:null})}),p.forEach(function(w){return o(w).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<g.length;m++){var y=g[m];t[y]!=null&&r[y](t[y])}return r.endBatch(),this}else{var b=!!t,x={};b?x.elements=this.elements().map(function(w){return w.json()}):(x.elements={},a.forEach(function(w){var E=w.group();x.elements[E]||(x.elements[E]=[]),x.elements[E].push(w.json())})),this._private.styleEnabled&&(x.style=r.style().json()),x.data=eu(r.data());var T=n.options;return x.zoomingEnabled=n.zoomingEnabled,x.userZoomingEnabled=n.userZoomingEnabled,x.zoom=n.zoom,x.minZoom=n.minZoom,x.maxZoom=n.maxZoom,x.panningEnabled=n.panningEnabled,x.userPanningEnabled=n.userPanningEnabled,x.pan=eu(n.pan),x.boxSelectionEnabled=n.boxSelectionEnabled,x.renderer=eu(T.renderer),x.hideEdgesOnViewport=T.hideEdgesOnViewport,x.textureOnViewport=T.textureOnViewport,x.wheelSensitivity=T.wheelSensitivity,x.motionBlur=T.motionBlur,x.multiClickDebounceTime=T.multiClickDebounceTime,x}}});AS.$id=AS.getElementById;[n7t,l7t,ove,j_,Gw,u7t,X_,Yw,d7t,wp,kx].forEach(function(e){Jt(AS,e)});var g7t={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},m7t={maximal:!1,acyclic:!1},b1=function(t){return t.scratch("breadthfirst")},kX=function(t,r){return t.scratch("breadthfirst",r)};function lve(e){this.options=Jt({},g7t,m7t,e)}lve.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(se){return se.isChildless()}),a=r,o=e.directed,l=e.acyclic||e.maximal||e.maximalAdjustments>0,c=!!e.boundingBox,u=t.extent(),h=co(c?e.boundingBox:{x1:u.x1,y1:u.y1,w:u.w,h:u.h}),f;if(Bo(e.roots))f=e.roots;else if(un(e.roots)){for(var d=[],p=0;p<e.roots.length;p++){var g=e.roots[p],m=t.getElementById(g);d.push(m)}f=t.collection(d)}else if(zt(e.roots))f=t.$(e.roots);else if(o)f=n.roots();else{var y=r.components();f=t.collection();for(var b=function(fe){var ye=y[fe],he=ye.maxDegree(!1),Ae=ye.filter(function(Ce){return Ce.degree(!1)===he});f=f.add(Ae)},x=0;x<y.length;x++)b(x)}var T=[],w={},E=function(fe,ye){T[ye]==null&&(T[ye]=[]);var he=T[ye].length;T[ye].push(fe),kX(fe,{index:he,depth:ye})},S=function(fe,ye){var he=b1(fe),Ae=he.depth,Ce=he.index;T[Ae][Ce]=null,fe.isChildless()&&E(fe,ye)};a.bfs({roots:f,directed:e.directed,visit:function(fe,ye,he,Ae,Ce){var Ie=fe[0],Le=Ie.id();Ie.isChildless()&&E(Ie,Ce),w[Le]=!0}});for(var C=[],k=0;k<n.length;k++){var O=n[k];w[O.id()]||C.push(O)}var I=function(fe){for(var ye=T[fe],he=0;he<ye.length;he++){var Ae=ye[he];if(Ae==null){ye.splice(he,1),he--;continue}kX(Ae,{depth:fe,index:he})}},_=function(fe,ye){for(var he=b1(fe),Ae=fe.incomers().filter(function(le){return le.isNode()&&r.has(le)}),Ce=-1,Ie=fe.id(),Le=0;Le<Ae.length;Le++){var ae=Ae[Le],q=b1(ae);Ce=Math.max(Ce,q.depth)}if(he.depth<=Ce){if(!e.acyclic&&ye[Ie])return null;var ge=Ce+1;return S(fe,ge),ye[Ie]=ge,!0}return!1};if(o&&l){var R=[],M={},$=function(fe){return R.push(fe)},N=function(){return R.shift()};for(n.forEach(function(se){return R.push(se)});R.length>0;){var P=N(),F=_(P,M);if(F)P.outgoers().filter(function(se){return se.isNode()&&r.has(se)}).forEach($);else if(F===null){Qr("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var L=0;if(e.avoidOverlap)for(var D=0;D<n.length;D++){var B=n[D],H=B.layoutDimensions(e),U=H.w,G=H.h;L=Math.max(L,U,G)}var W={},ee=function(fe){if(W[fe.id()])return W[fe.id()];for(var ye=b1(fe).depth,he=fe.neighborhood(),Ae=0,Ce=0,Ie=0;Ie<he.length;Ie++){var Le=he[Ie];if(!(Le.isEdge()||Le.isParent()||!n.has(Le))){var ae=b1(Le);if(ae!=null){var q=ae.index,ge=ae.depth;if(!(q==null||ge==null)){var le=T[ge].length;ge<ye&&(Ae+=q/le,Ce++)}}}}return Ce=Math.max(1,Ce),Ae=Ae/Ce,Ce===0&&(Ae=0),W[fe.id()]=Ae,Ae},ce=function(fe,ye){var he=ee(fe),Ae=ee(ye),Ce=he-Ae;return Ce===0?ome(fe.id(),ye.id()):Ce};e.depthSort!==void 0&&(ce=e.depthSort);for(var Z=T.length,J=0;J<Z;J++)T[J].sort(ce),I(J);for(var oe=[],Y=0;Y<C.length;Y++)oe.push(C[Y]);var X=function(){for(var fe=0;fe<Z;fe++)I(fe)};oe.length&&(T.unshift(oe),Z=T.length,X());for(var K=0,z=0;z<Z;z++)K=Math.max(T[z].length,K);var j={x:h.x1+h.w/2,y:h.y1+h.h/2},te=n.reduce(function(se,fe){return function(ye){return{w:se.w===-1?ye.w:(se.w+ye.w)/2,h:se.h===-1?ye.h:(se.h+ye.h)/2}}(fe.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),re=Math.max(Z===1?0:c?(h.h-e.padding*2-te.h)/(Z-1):(h.h-e.padding*2-te.h)/(Z+1),L),Se=T.reduce(function(se,fe){return Math.max(se,fe.length)},0),ue=function(fe){var ye=b1(fe),he=ye.depth,Ae=ye.index;if(e.circle){var Ce=Math.min(h.w/2/Z,h.h/2/Z);Ce=Math.max(Ce,L);var Ie=Ce*he+Ce-(Z>0&&T[0].length<=3?Ce/2:0),Le=2*Math.PI/T[he].length*Ae;return he===0&&T[0].length===1&&(Ie=1),{x:j.x+Ie*Math.cos(Le),y:j.y+Ie*Math.sin(Le)}}else{var ae=T[he].length,q=Math.max(ae===1?0:c?(h.w-e.padding*2-te.w)/((e.grid?Se:ae)-1):(h.w-e.padding*2-te.w)/((e.grid?Se:ae)+1),L),ge={x:j.x+(Ae+1-(ae+1)/2)*q,y:j.y+(he+1-(Z+1)/2)*re};return ge}};return r.nodes().layoutPositions(this,e,ue),this};var v7t={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function cve(e){this.options=Jt({},v7t,e)}cve.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,o=n.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));for(var l=co(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c={x:l.x1+l.w/2,y:l.y1+l.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/o.length:t.sweep,h=u/Math.max(1,o.length-1),f,d=0,p=0;p<o.length;p++){var g=o[p],m=g.layoutDimensions(t),y=m.w,b=m.h;d=Math.max(d,y,b)}if(bt(t.radius)?f=t.radius:o.length<=1?f=0:f=Math.min(l.h,l.w)/2-d,o.length>1&&t.avoidOverlap){d*=1.75;var x=Math.cos(h)-Math.cos(0),T=Math.sin(h)-Math.sin(0),w=Math.sqrt(d*d/(x*x+T*T));f=Math.max(w,f)}var E=function(C,k){var O=t.startAngle+k*h*(a?1:-1),I=f*Math.cos(O),_=f*Math.sin(O),R={x:c.x+I,y:c.y+_};return R};return n.nodes().layoutPositions(this,t,E),this};var y7t={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function uve(e){this.options=Jt({},y7t,e)}uve.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,a=t.eles,o=a.nodes().not(":parent"),l=co(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c={x:l.x1+l.w/2,y:l.y1+l.h/2},u=[],h=0,f=0;f<o.length;f++){var d=o[f],p=void 0;p=t.concentric(d),u.push({value:p,node:d}),d._private.scratch.concentric=p}o.updateStyle();for(var g=0;g<o.length;g++){var m=o[g],y=m.layoutDimensions(t);h=Math.max(h,y.w,y.h)}u.sort(function(te,re){return re.value-te.value});for(var b=t.levelWidth(o),x=[[]],T=x[0],w=0;w<u.length;w++){var E=u[w];if(T.length>0){var S=Math.abs(T[0].value-E.value);S>=b&&(T=[],x.push(T))}T.push(E)}var C=h+t.minNodeSpacing;if(!t.avoidOverlap){var k=x.length>0&&x[0].length>1,O=Math.min(l.w,l.h)/2-C,I=O/(x.length+k?1:0);C=Math.min(C,I)}for(var _=0,R=0;R<x.length;R++){var M=x[R],$=t.sweep===void 0?2*Math.PI-2*Math.PI/M.length:t.sweep,N=M.dTheta=$/Math.max(1,M.length-1);if(M.length>1&&t.avoidOverlap){var P=Math.cos(N)-Math.cos(0),F=Math.sin(N)-Math.sin(0),L=Math.sqrt(C*C/(P*P+F*F));_=Math.max(L,_)}M.r=_,_+=C}if(t.equidistant){for(var D=0,B=0,H=0;H<x.length;H++){var U=x[H],G=U.r-B;D=Math.max(D,G)}B=0;for(var W=0;W<x.length;W++){var ee=x[W];W===0&&(B=ee.r),ee.r=B,B+=D}}for(var ce={},Z=0;Z<x.length;Z++)for(var J=x[Z],oe=J.dTheta,Y=J.r,X=0;X<J.length;X++){var K=J[X],z=t.startAngle+(r?1:-1)*oe*X,j={x:c.x+Y*Math.cos(z),y:c.y+Y*Math.sin(z)};ce[K.node.id()]=j}return a.nodes().layoutPositions(this,t,function(te){var re=te.id();return ce[re]}),this};var B7,b7t={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function bk(e){this.options=Jt({},b7t,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var o=a.source().data("id"),l=a.target().data("id"),c=t.some(function(h){return h.data("id")===o}),u=t.some(function(h){return h.data("id")===l});return!c||!u});this.options.eles=this.options.eles.not(n)}bk.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?B7=!0:B7=!1;var n=x7t(t,r,e);B7&&E7t(n),e.randomize&&S7t(n);var a=Nh(),o=function(){A7t(n,t,e),e.fit===!0&&t.fit(e.padding)},l=function(p){return!(r.stopped||p>=e.numIter||(k7t(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},c=function(){if(e.animate===!0||e.animate===!1)o(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var p=e.eles.nodes(),g=hve(n,e,p);p.layoutPositions(r,e,g)}},u=0,h=!0;if(e.animate===!0){var f=function d(){for(var p=0;h&&p<e.refresh;)h=l(u),u++,p++;if(!h)IX(n,e),c();else{var g=Nh();g-a>=e.animationThreshold&&o(),bS(d)}};f()}else{for(;h;)h=l(u),u++;IX(n,e),c()}return this};bk.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};bk.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var x7t=function(t,r,n){for(var a=n.eles.edges(),o=n.eles.nodes(),l=co(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),c={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},u=n.eles.components(),h={},f=0;f<u.length;f++)for(var d=u[f],p=0;p<d.length;p++){var g=d[p];h[g.id()]=f}for(var f=0;f<c.nodeSize;f++){var m=o[f],y=m.layoutDimensions(n),b={};b.isLocked=m.locked(),b.id=m.data("id"),b.parentId=m.data("parent"),b.cmptId=h[m.id()],b.children=[],b.positionX=m.position("x"),b.positionY=m.position("y"),b.offsetX=0,b.offsetY=0,b.height=y.w,b.width=y.h,b.maxX=b.positionX+b.width/2,b.minX=b.positionX-b.width/2,b.maxY=b.positionY+b.height/2,b.minY=b.positionY-b.height/2,b.padLeft=parseFloat(m.style("padding")),b.padRight=parseFloat(m.style("padding")),b.padTop=parseFloat(m.style("padding")),b.padBottom=parseFloat(m.style("padding")),b.nodeRepulsion=Xn(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,c.layoutNodes.push(b),c.idToIndex[b.id]=f}for(var x=[],T=0,w=-1,E=[],f=0;f<c.nodeSize;f++){var m=c.layoutNodes[f],S=m.parentId;S!=null?c.layoutNodes[c.idToIndex[S]].children.push(m.id):(x[++w]=m.id,E.push(m.id))}for(c.graphSet.push(E);T<=w;){var C=x[T++],k=c.idToIndex[C],g=c.layoutNodes[k],O=g.children;if(O.length>0){c.graphSet.push(O);for(var f=0;f<O.length;f++)x[++w]=O[f]}}for(var f=0;f<c.graphSet.length;f++)for(var I=c.graphSet[f],p=0;p<I.length;p++){var _=c.idToIndex[I[p]];c.indexToGraph[_]=f}for(var f=0;f<c.edgeSize;f++){var R=a[f],M={};M.id=R.data("id"),M.sourceId=R.data("source"),M.targetId=R.data("target");var $=Xn(n.idealEdgeLength)?n.idealEdgeLength(R):n.idealEdgeLength,N=Xn(n.edgeElasticity)?n.edgeElasticity(R):n.edgeElasticity,P=c.idToIndex[M.sourceId],F=c.idToIndex[M.targetId],L=c.indexToGraph[P],D=c.indexToGraph[F];if(L!=D){for(var B=T7t(M.sourceId,M.targetId,c),H=c.graphSet[B],U=0,b=c.layoutNodes[P];H.indexOf(b.id)===-1;)b=c.layoutNodes[c.idToIndex[b.parentId]],U++;for(b=c.layoutNodes[F];H.indexOf(b.id)===-1;)b=c.layoutNodes[c.idToIndex[b.parentId]],U++;$*=U*n.nestingFactor}M.idealLength=$,M.elasticity=N,c.layoutEdges.push(M)}return c},T7t=function(t,r,n){var a=w7t(t,r,0,n);return 2>a.count?0:a.graph},w7t=function e(t,r,n,a){var o=a.graphSet[n];if(-1<o.indexOf(t)&&-1<o.indexOf(r))return{count:2,graph:n};for(var l=0,c=0;c<o.length;c++){var u=o[c],h=a.idToIndex[u],f=a.layoutNodes[h].children;if(f.length!==0){var d=a.indexToGraph[a.idToIndex[f[0]]],p=e(t,r,d,a);if(p.count!==0)if(p.count===1){if(l++,l===2)break}else return p}}return{count:l,graph:n}},E7t,S7t=function(t,r){for(var n=t.clientWidth,a=t.clientHeight,o=0;o<t.nodeSize;o++){var l=t.layoutNodes[o];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*n,l.positionY=Math.random()*a)}},hve=function(t,r,n){var a=t.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(l){var c=t.layoutNodes[t.idToIndex[l.data("id")]];o.x1=Math.min(o.x1,c.positionX),o.x2=Math.max(o.x2,c.positionX),o.y1=Math.min(o.y1,c.positionY),o.y2=Math.max(o.y2,c.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(l,c){var u=t.layoutNodes[t.idToIndex[l.data("id")]];if(r.boundingBox){var h=(u.positionX-o.x1)/o.w,f=(u.positionY-o.y1)/o.h;return{x:a.x1+h*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},A7t=function(t,r,n){var a=n.layout,o=n.eles.nodes(),l=hve(t,n,o);o.positions(l),t.ready!==!0&&(t.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},k7t=function(t,r,n){C7t(t,r),O7t(t),_7t(t,r),N7t(t),L7t(t)},C7t=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var a=t.graphSet[n],o=a.length,l=0;l<o;l++)for(var c=t.layoutNodes[t.idToIndex[a[l]]],u=l+1;u<o;u++){var h=t.layoutNodes[t.idToIndex[a[u]]];I7t(c,h,t,r)}},CX=function(t){return-1+2*t*Math.random()},I7t=function(t,r,n,a){var o=t.cmptId,l=r.cmptId;if(!(o!==l&&!n.isCompound)){var c=r.positionX-t.positionX,u=r.positionY-t.positionY,h=1;c===0&&u===0&&(c=CX(h),u=CX(h));var f=R7t(t,r,c,u);if(f>0)var d=a.nodeOverlap*f,p=Math.sqrt(c*c+u*u),g=d*c/p,m=d*u/p;else var y=kS(t,c,u),b=kS(r,-1*c,-1*u),x=b.x-y.x,T=b.y-y.y,w=x*x+T*T,p=Math.sqrt(w),d=(t.nodeRepulsion+r.nodeRepulsion)/w,g=d*x/p,m=d*T/p;t.isLocked||(t.offsetX-=g,t.offsetY-=m),r.isLocked||(r.offsetX+=g,r.offsetY+=m)}},R7t=function(t,r,n,a){if(n>0)var o=t.maxX-r.minX;else var o=r.maxX-t.minX;if(a>0)var l=t.maxY-r.minY;else var l=r.maxY-t.minY;return o>=0&&l>=0?Math.sqrt(o*o+l*l):0},kS=function(t,r,n){var a=t.positionX,o=t.positionY,l=t.height||1,c=t.width||1,u=n/r,h=l/c,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=o+l/2,f):0<r&&-1*h<=u&&u<=h?(f.x=a+c/2,f.y=o+c*n/2/r,f):0>r&&-1*h<=u&&u<=h?(f.x=a-c/2,f.y=o-c*n/2/r,f):0<n&&(u<=-1*h||u>=h)?(f.x=a+l*r/2/n,f.y=o+l/2,f):(0>n&&(u<=-1*h||u>=h)&&(f.x=a-l*r/2/n,f.y=o-l/2),f)},O7t=function(t,r){for(var n=0;n<t.edgeSize;n++){var a=t.layoutEdges[n],o=t.idToIndex[a.sourceId],l=t.layoutNodes[o],c=t.idToIndex[a.targetId],u=t.layoutNodes[c],h=u.positionX-l.positionX,f=u.positionY-l.positionY;if(!(h===0&&f===0)){var d=kS(l,h,f),p=kS(u,-1*h,-1*f),g=p.x-d.x,m=p.y-d.y,y=Math.sqrt(g*g+m*m),b=Math.pow(a.idealLength-y,2)/a.elasticity;if(y!==0)var x=b*g/y,T=b*m/y;else var x=0,T=0;l.isLocked||(l.offsetX+=x,l.offsetY+=T),u.isLocked||(u.offsetX-=x,u.offsetY-=T)}}},_7t=function(t,r){if(r.gravity!==0)for(var n=1,a=0;a<t.graphSet.length;a++){var o=t.graphSet[a],l=o.length;if(a===0)var c=t.clientHeight/2,u=t.clientWidth/2;else var h=t.layoutNodes[t.idToIndex[o[0]]],f=t.layoutNodes[t.idToIndex[h.parentId]],c=f.positionX,u=f.positionY;for(var d=0;d<l;d++){var p=t.layoutNodes[t.idToIndex[o[d]]];if(!p.isLocked){var g=c-p.positionX,m=u-p.positionY,y=Math.sqrt(g*g+m*m);if(y>n){var b=r.gravity*g/y,x=r.gravity*m/y;p.offsetX+=b,p.offsetY+=x}}}}},N7t=function(t,r){var n=[],a=0,o=-1;for(n.push.apply(n,t.graphSet[0]),o+=t.graphSet[0].length;a<=o;){var l=n[a++],c=t.idToIndex[l],u=t.layoutNodes[c],h=u.children;if(0<h.length&&!u.isLocked){for(var f=u.offsetX,d=u.offsetY,p=0;p<h.length;p++){var g=t.layoutNodes[t.idToIndex[h[p]]];g.offsetX+=f,g.offsetY+=d,n[++o]=h[p]}u.offsetX=0,u.offsetY=0}}},L7t=function(t,r){for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var o=M7t(a.offsetX,a.offsetY,t.temperature);a.positionX+=o.x,a.positionY+=o.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,D7t(a,t)}}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},M7t=function(t,r,n){var a=Math.sqrt(t*t+r*r);if(a>n)var o={x:n*t/a,y:n*r/a};else var o={x:t,y:r};return o},D7t=function e(t,r){var n=t.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],o=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,o=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,o=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,o=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,o=!0),o)return e(a,r)}},IX=function(t,r){for(var n=t.layoutNodes,a=[],o=0;o<n.length;o++){var l=n[o],c=l.cmptId,u=a[c]=a[c]||[];u.push(l)}for(var h=0,o=0;o<a.length;o++){var f=a[o];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var d=0;d<f.length;d++){var p=f[d];f.x1=Math.min(f.x1,p.positionX-p.width/2),f.x2=Math.max(f.x2,p.positionX+p.width/2),f.y1=Math.min(f.y1,p.positionY-p.height/2),f.y2=Math.max(f.y2,p.positionY+p.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,h+=f.w*f.h}}a.sort(function(T,w){return w.w*w.h-T.w*T.h});for(var g=0,m=0,y=0,b=0,x=Math.sqrt(h)*t.clientWidth/t.clientHeight,o=0;o<a.length;o++){var f=a[o];if(f){for(var d=0;d<f.length;d++){var p=f[d];p.isLocked||(p.positionX+=g-f.x1,p.positionY+=m-f.y1)}g+=f.w+r.componentSpacing,y+=f.w+r.componentSpacing,b=Math.max(b,f.h),y>x&&(m+=b+r.componentSpacing,g=0,y=0,b=0)}}},P7t={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function fve(e){this.options=Jt({},P7t,e)}fve.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var o=co(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,t,function(W){return{x:o.x1,y:o.y1}});else{var l=a.size(),c=Math.sqrt(l*o.h/o.w),u=Math.round(c),h=Math.round(o.w/o.h*c),f=function(ee){if(ee==null)return Math.min(u,h);var ce=Math.min(u,h);ce==u?u=ee:h=ee},d=function(ee){if(ee==null)return Math.max(u,h);var ce=Math.max(u,h);ce==u?u=ee:h=ee},p=t.rows,g=t.cols!=null?t.cols:t.columns;if(p!=null&&g!=null)u=p,h=g;else if(p!=null&&g==null)u=p,h=Math.ceil(l/u);else if(p==null&&g!=null)h=g,u=Math.ceil(l/h);else if(h*u>l){var m=f(),y=d();(m-1)*y>=l?f(m-1):(y-1)*m>=l&&d(y-1)}else for(;h*u<l;){var b=f(),x=d();(x+1)*b>=l?d(x+1):f(b+1)}var T=o.w/h,w=o.h/u;if(t.condense&&(T=0,w=0),t.avoidOverlap)for(var E=0;E<a.length;E++){var S=a[E],C=S._private.position;(C.x==null||C.y==null)&&(C.x=0,C.y=0);var k=S.layoutDimensions(t),O=t.avoidOverlapPadding,I=k.w+O,_=k.h+O;T=Math.max(T,I),w=Math.max(w,_)}for(var R={},M=function(ee,ce){return!!R["c-"+ee+"-"+ce]},$=function(ee,ce){R["c-"+ee+"-"+ce]=!0},N=0,P=0,F=function(){P++,P>=h&&(P=0,N++)},L={},D=0;D<a.length;D++){var B=a[D],H=t.position(B);if(H&&(H.row!==void 0||H.col!==void 0)){var U={row:H.row,col:H.col};if(U.col===void 0)for(U.col=0;M(U.row,U.col);)U.col++;else if(U.row===void 0)for(U.row=0;M(U.row,U.col);)U.row++;L[B.id()]=U,$(U.row,U.col)}}var G=function(ee,ce){var Z,J;if(ee.locked()||ee.isParent())return!1;var oe=L[ee.id()];if(oe)Z=oe.col*T+T/2+o.x1,J=oe.row*w+w/2+o.y1;else{for(;M(N,P);)F();Z=P*T+T/2+o.x1,J=N*w+w/2+o.y1,$(N,P),F()}return{x:Z,y:J}};a.layoutPositions(this,t,G)}return this};var F7t={ready:function(){},stop:function(){}};function eF(e){this.options=Jt({},F7t,e)}eF.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};eF.prototype.stop=function(){return this};var B7t={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function dve(e){this.options=Jt({},B7t,e)}dve.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=Xn(e.positions);function a(o){if(e.positions==null)return G6t(o.position());if(n)return e.positions(o);var l=e.positions[o._private.data.id];return l??null}return r.layoutPositions(this,e,function(o,l){var c=a(o);return o.locked()||c==null?!1:c}),this};var $7t={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function pve(e){this.options=Jt({},$7t,e)}pve.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=co(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(l,c){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,a),this};var H7t=[{name:"breadthfirst",impl:lve},{name:"circle",impl:cve},{name:"concentric",impl:uve},{name:"cose",impl:bk},{name:"grid",impl:fve},{name:"null",impl:eF},{name:"preset",impl:dve},{name:"random",impl:pve}];function gve(e){this.options=e,this.notifications=0}var RX=function(){},OX=function(){throw new Error("A headless instance can not render images")};gve.prototype={recalculateRenderedStyle:RX,notify:function(){this.notifications++},init:RX,isHeadless:function(){return!0},png:OX,jpg:OX};var tF={};tF.arrowShapeWidth=.3;tF.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(h,f,d,p,g,m,y){var b=g.x-d/2-y,x=g.x+d/2+y,T=g.y-d/2-y,w=g.y+d/2+y,E=b<=h&&h<=x&&T<=f&&f<=w;return E},n=function(h,f,d,p,g){var m=h*Math.cos(p)-f*Math.sin(p),y=h*Math.sin(p)+f*Math.cos(p),b=m*d,x=y*d,T=b+g.x,w=x+g.y;return{x:T,y:w}},a=function(h,f,d,p){for(var g=[],m=0;m<h.length;m+=2){var y=h[m],b=h[m+1];g.push(n(y,b,f,d,p))}return g},o=function(h){for(var f=[],d=0;d<h.length;d++){var p=h[d];f.push(p.x,p.y)}return f},l=function(h){return h.pstyle("width").pfValue*h.pstyle("arrow-scale").pfValue*2},c=function(h,f){zt(f)&&(f=e[f]),e[h]=Jt({name:h,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,g,m,y,b,x){var T=o(a(this.points,m+2*x,y,b)),w=Zs(p,g,T);return w},roughCollide:r,draw:function(p,g,m,y){var b=a(this.points,g,m,y);t.arrowShapeImpl("polygon")(p,b)},spacing:function(p){return 0},gap:l},f)};c("none",{collide:xS,roughCollide:xS,draw:HP,spacing:Hj,gap:Hj}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(h,f,d,p,g){var m=a(this.points,f,d,p),y=this.controlPoint,b=n(y[0],y[1],f,d,p);t.arrowShapeImpl(this.name)(h,m,b)},gap:function(h){return l(h)*.8}}),c("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(h,f,d,p,g,m,y){var b=o(a(this.points,d+2*y,p,g)),x=o(a(this.pointsTee,d+2*y,p,g)),T=Zs(h,f,b)||Zs(h,f,x);return T},draw:function(h,f,d,p,g){var m=a(this.points,f,d,p),y=a(this.pointsTee,f,d,p);t.arrowShapeImpl(this.name)(h,m,y)}}),c("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(h,f,d,p,g,m,y){var b=g,x=Math.pow(b.x-h,2)+Math.pow(b.y-f,2)<=Math.pow((d+2*y)*this.radius,2),T=o(a(this.points,d+2*y,p,g));return Zs(h,f,T)||x},draw:function(h,f,d,p,g){var m=a(this.pointsTr,f,d,p);t.arrowShapeImpl(this.name)(h,m,p.x,p.y,this.radius*f)},spacing:function(h){return t.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.radius}}),c("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(h,f){var d=this.baseCrossLinePts.slice(),p=f/h,g=3,m=5;return d[g]=d[g]-p,d[m]=d[m]-p,d},collide:function(h,f,d,p,g,m,y){var b=o(a(this.points,d+2*y,p,g)),x=o(a(this.crossLinePts(d,m),d+2*y,p,g)),T=Zs(h,f,b)||Zs(h,f,x);return T},draw:function(h,f,d,p,g){var m=a(this.points,f,d,p),y=a(this.crossLinePts(f,g),f,d,p);t.arrowShapeImpl(this.name)(h,m,y)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(h){return l(h)*.525}}),c("circle",{radius:.15,collide:function(h,f,d,p,g,m,y){var b=g,x=Math.pow(b.x-h,2)+Math.pow(b.y-f,2)<=Math.pow((d+2*y)*this.radius,2);return x},draw:function(h,f,d,p,g){t.arrowShapeImpl(this.name)(h,p.x,p.y,this.radius*f)},spacing:function(h){return t.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(h){return 1},gap:function(h){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(h){return h.pstyle("width").pfValue*h.pstyle("arrow-scale").value}}),c("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(h){return .95*h.pstyle("width").pfValue*h.pstyle("arrow-scale").value}})};var Vp={};Vp.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],o=n[1],l=n[4],c=r.pan(),u=r.zoom(),h=((e-a)/l-c.x)/u,f=((t-o)/l-c.y)/u;return[h,f]};Vp.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(x){return parseFloat(r.getPropertyValue(x))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},l=e.clientWidth,c=e.clientHeight,u=a.left+a.right,h=a.top+a.bottom,f=o.left+o.right,d=t.width/(l+f),p=l-u,g=c-h,m=t.left+a.left+o.left,y=t.top+a.top+o.top;return this.containerBB=[m,y,p,g,d]};Vp.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Vp.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};Vp.findNearestElements=function(e,t,r,n){var a=this,o=this,l=o.getCachedZSortedEles(),c=[],u=o.cy.zoom(),h=o.cy.hasCompoundNodes(),f=(n?24:8)/u,d=(n?8:2)/u,p=(n?8:2)/u,g=1/0,m,y;r&&(l=l.interactive);function b(k,O){if(k.isNode()){if(y)return;y=k,c.push(k)}if(k.isEdge()&&(O==null||O<g))if(m){if(m.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===k.pstyle("z-compound-depth").value){for(var I=0;I<c.length;I++)if(c[I].isEdge()){c[I]=k,m=k,g=O??g;break}}}else c.push(k),m=k,g=O??g}function x(k){var O=k.outerWidth()+2*d,I=k.outerHeight()+2*d,_=O/2,R=I/2,M=k.position(),$=k.pstyle("corner-radius").value==="auto"?"auto":k.pstyle("corner-radius").pfValue,N=k._private.rscratch;if(M.x-_<=e&&e<=M.x+_&&M.y-R<=t&&t<=M.y+R){var P=o.nodeShapes[a.getNodeShape(k)];if(P.checkPoint(e,t,0,O,I,M.x,M.y,$,N))return b(k,0),!0}}function T(k){var O=k._private,I=O.rscratch,_=k.pstyle("width").pfValue,R=k.pstyle("arrow-scale").value,M=_/2+f,$=M*M,N=M*2,D=O.source,B=O.target,P;if(I.edgeType==="segments"||I.edgeType==="straight"||I.edgeType==="haystack"){for(var F=I.allpts,L=0;L+3<F.length;L+=2)if(nAt(e,t,F[L],F[L+1],F[L+2],F[L+3],N)&&$>(P=lAt(e,t,F[L],F[L+1],F[L+2],F[L+3])))return b(k,P),!0}else if(I.edgeType==="bezier"||I.edgeType==="multibezier"||I.edgeType==="self"||I.edgeType==="compound"){for(var F=I.allpts,L=0;L+5<I.allpts.length;L+=4)if(iAt(e,t,F[L],F[L+1],F[L+2],F[L+3],F[L+4],F[L+5],N)&&$>(P=oAt(e,t,F[L],F[L+1],F[L+2],F[L+3],F[L+4],F[L+5])))return b(k,P),!0}for(var D=D||O.source,B=B||O.target,H=a.getArrowWidth(_,R),U=[{name:"source",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:"target",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:"mid-source",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:"mid-target",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}],L=0;L<U.length;L++){var G=U[L],W=o.arrowShapes[k.pstyle(G.name+"-arrow-shape").value],ee=k.pstyle("width").pfValue;if(W.roughCollide(e,t,H,G.angle,{x:G.x,y:G.y},ee,f)&&W.collide(e,t,H,G.angle,{x:G.x,y:G.y},ee,f))return b(k),!0}h&&c.length>0&&(x(D),x(B))}function w(k,O,I){return Jl(k,O,I)}function E(k,O){var I=k._private,_=p,R;O?R=O+"-":R="",k.boundingBox();var M=I.labelBounds[O||"main"],$=k.pstyle(R+"label").value,N=k.pstyle("text-events").strValue==="yes";if(!(!N||!$)){var P=w(I.rscratch,"labelX",O),F=w(I.rscratch,"labelY",O),L=w(I.rscratch,"labelAngle",O),D=k.pstyle(R+"text-margin-x").pfValue,B=k.pstyle(R+"text-margin-y").pfValue,H=M.x1-_-D,U=M.x2+_-D,G=M.y1-_-B,W=M.y2+_-B;if(L){var ee=Math.cos(L),ce=Math.sin(L),Z=function(j,te){return j=j-P,te=te-F,{x:j*ee-te*ce+P,y:j*ce+te*ee+F}},J=Z(H,G),oe=Z(H,W),Y=Z(U,G),X=Z(U,W),K=[J.x+D,J.y+B,Y.x+D,Y.y+B,X.x+D,X.y+B,oe.x+D,oe.y+B];if(Zs(e,t,K))return b(k),!0}else if(av(M,e,t))return b(k),!0}}for(var S=l.length-1;S>=0;S--){var C=l[S];C.isNode()?x(C)||E(C):T(C)||E(C)||E(C,"source")||E(C,"target")}return c};Vp.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles().interactive,o=[],l=Math.min(e,r),c=Math.max(e,r),u=Math.min(t,n),h=Math.max(t,n);e=l,r=c,t=u,n=h;for(var f=co({x1:e,y1:t,x2:r,y2:n}),d=0;d<a.length;d++){var p=a[d];if(p.isNode()){var g=p,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});zP(f,m)&&!Sme(m,f)&&o.push(g)}else{var y=p,b=y._private,x=b.rscratch;if(x.startX!=null&&x.startY!=null&&!av(f,x.startX,x.startY)||x.endX!=null&&x.endY!=null&&!av(f,x.endX,x.endY))continue;if(x.edgeType==="bezier"||x.edgeType==="multibezier"||x.edgeType==="self"||x.edgeType==="compound"||x.edgeType==="segments"||x.edgeType==="haystack"){for(var T=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,w=!0,E=0;E<T.length;E++)if(!rAt(f,T[E])){w=!1;break}w&&o.push(y)}else(x.edgeType==="haystack"||x.edgeType==="straight")&&o.push(y)}}return o};var CS={};CS.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",a=t.edgeType==="multibezier",o=t.edgeType==="segments",l=t.edgeType==="compound",c=t.edgeType==="self",u,h,f,d,p,g,x,T;if(r?(f=t.haystackPts[0],d=t.haystackPts[1],p=t.haystackPts[2],g=t.haystackPts[3]):(f=t.arrowStartX,d=t.arrowStartY,p=t.arrowEndX,g=t.arrowEndY),x=t.midX,T=t.midY,o)u=f-t.segpts[0],h=d-t.segpts[1];else if(a||l||c||n){var m=t.allpts,y=Ji(m[0],m[2],m[4],.1),b=Ji(m[1],m[3],m[5],.1);u=f-y,h=d-b}else u=f-x,h=d-T;t.srcArrowAngle=E4(u,h);var x=t.midX,T=t.midY;if(r&&(x=(f+p)/2,T=(d+g)/2),u=p-f,h=g-d,o){var m=t.allpts;if(m.length/2%2===0){var w=m.length/2,E=w-2;u=m[w]-m[E],h=m[w+1]-m[E+1]}else if(t.isRound)u=t.midVector[1],h=-t.midVector[0];else{var w=m.length/2-1,E=w-2;u=m[w]-m[E],h=m[w+1]-m[E+1]}}else if(a||l||c){var m=t.allpts,S=t.ctrlpts,C,k,O,I;if(S.length/2%2===0){var _=m.length/2-1,R=_+2,M=R+2;C=Ji(m[_],m[R],m[M],0),k=Ji(m[_+1],m[R+1],m[M+1],0),O=Ji(m[_],m[R],m[M],1e-4),I=Ji(m[_+1],m[R+1],m[M+1],1e-4)}else{var R=m.length/2-1,_=R-2,M=R+2;C=Ji(m[_],m[R],m[M],.4999),k=Ji(m[_+1],m[R+1],m[M+1],.4999),O=Ji(m[_],m[R],m[M],.5),I=Ji(m[_+1],m[R+1],m[M+1],.5)}u=O-C,h=I-k}if(t.midtgtArrowAngle=E4(u,h),t.midDispX=u,t.midDispY=h,u*=-1,h*=-1,o){var m=t.allpts;if(m.length/2%2!==0){if(!t.isRound){var w=m.length/2-1,$=w+2;u=-(m[$]-m[w]),h=-(m[$+1]-m[w+1])}}}if(t.midsrcArrowAngle=E4(u,h),o)u=p-t.segpts[t.segpts.length-2],h=g-t.segpts[t.segpts.length-1];else if(a||l||c||n){var m=t.allpts,N=m.length,y=Ji(m[N-6],m[N-4],m[N-2],.9),b=Ji(m[N-5],m[N-3],m[N-1],.9);u=p-y,h=g-b}else u=p-x,h=g-T;t.tgtArrowAngle=E4(u,h)};CS.getArrowWidth=CS.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var K_,Z_,Pc={},rl={},_X,NX,yd,Vw,Uu,Qf,ld,Dc,x1,N4,mve,vve,Q_,J_,LX,MX=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},U7t=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},W7t=function(t,r,n,a,o){if(t!==LX?MX(r,t,Pc):U7t(rl,Pc),MX(r,n,rl),_X=Pc.nx*rl.ny-Pc.ny*rl.nx,NX=Pc.nx*rl.nx-Pc.ny*-rl.ny,Uu=Math.asin(Math.max(-1,Math.min(1,_X))),Math.abs(Uu)<1e-6){K_=r.x,Z_=r.y,ld=x1=0;return}yd=1,Vw=!1,NX<0?Uu<0?Uu=Math.PI+Uu:(Uu=Math.PI-Uu,yd=-1,Vw=!0):Uu>0&&(yd=-1,Vw=!0),r.radius!==void 0?x1=r.radius:x1=a,Qf=Uu/2,N4=Math.min(Pc.len/2,rl.len/2),o?(Dc=Math.abs(Math.cos(Qf)*x1/Math.sin(Qf)),Dc>N4?(Dc=N4,ld=Math.abs(Dc*Math.sin(Qf)/Math.cos(Qf))):ld=x1):(Dc=Math.min(N4,x1),ld=Math.abs(Dc*Math.sin(Qf)/Math.cos(Qf))),Q_=r.x+rl.nx*Dc,J_=r.y+rl.ny*Dc,K_=Q_-rl.ny*ld*yd,Z_=J_+rl.nx*ld*yd,mve=r.x+Pc.nx*Dc,vve=r.y+Pc.ny*Dc,LX=r};function yve(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function rF(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(W7t(e,t,r,n,a),{cx:K_,cy:Z_,radius:ld,startX:mve,startY:vve,stopX:Q_,stopY:J_,startAngle:Pc.ang+Math.PI/2*yd,endAngle:rl.ang-Math.PI/2*yd,counterClockwise:Vw})}var cs={};cs.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,a=t.vectorNormInverse,o,l=e.pstyle("source-endpoint"),c=e.pstyle("target-endpoint"),u=l.units!=null&&c.units!=null,h=function(S,C,k,O){var I=O-C,_=k-S,R=Math.sqrt(_*_+I*I);return{x:-I/R,y:_/R}},f=e.pstyle("edge-distances").value;switch(f){case"node-position":o=r;break;case"intersection":o=n;break;case"endpoints":{if(u){var d=this.manualEndptToPx(e.source()[0],l),p=na(d,2),g=p[0],m=p[1],y=this.manualEndptToPx(e.target()[0],c),b=na(y,2),x=b[0],T=b[1],w={x1:g,y1:m,x2:x,y2:T};a=h(g,m,x,T),o=w}else Qr("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=n;break}}return{midptPts:o,vectorNormInverse:a}};cs.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,a=n.rscratch;if(!a.haystack){var o=Math.random()*2*Math.PI;a.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,a.target={x:Math.cos(o),y:Math.sin(o)}}var l=n.source,c=n.target,u=l.position(),h=c.position(),f=l.width(),d=c.width(),p=l.height(),g=c.height(),m=r.pstyle("haystack-radius").value,y=m/2;a.haystackPts=a.allpts=[a.source.x*f*y+u.x,a.source.y*p*y+u.y,a.target.x*d*y+h.x,a.target.y*g*y+h.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};cs.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),o=e.pstyle("segment-radii"),l=e.pstyle("radius-type"),c=Math.min(n.pfValue.length,a.pfValue.length),u=o.pfValue[o.pfValue.length-1],h=l.pfValue[l.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var f=0;f<c;f++){var d=n.pfValue[f],p=a.pfValue[f],g=1-d,m=d,y=this.findMidptPtsEtc(e,t),b=y.midptPts,x=y.vectorNormInverse,T={x:b.x1*g+b.x2*m,y:b.y1*g+b.y2*m};r.segpts.push(T.x+x.x*p,T.y+x.y*p),r.radii.push(o.pfValue[f]!==void 0?o.pfValue[f]:u),r.isArcRadius.push((l.pfValue[f]!==void 0?l.pfValue[f]:h)==="arc-radius")}};cs.findLoopPoints=function(e,t,r,n){var a=e._private.rscratch,o=t.dirCounts,l=t.srcPos,c=e.pstyle("control-point-distances"),u=c?c.pfValue[0]:void 0,h=e.pstyle("loop-direction").pfValue,f=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var p=r,g=d;n&&(p=0,g=u);var m=h-Math.PI/2,y=m-f/2,b=m+f/2,x=h+"_"+f;p=o[x]===void 0?o[x]=0:++o[x],a.ctrlpts=[l.x+Math.cos(y)*1.4*g*(p/3+1),l.y+Math.sin(y)*1.4*g*(p/3+1),l.x+Math.cos(b)*1.4*g*(p/3+1),l.y+Math.sin(b)*1.4*g*(p/3+1)]};cs.findCompoundLoopPoints=function(e,t,r,n){var a=e._private.rscratch;a.edgeType="compound";var o=t.srcPos,l=t.tgtPos,c=t.srcW,u=t.srcH,h=t.tgtW,f=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,p=e.pstyle("control-point-distances"),g=p?p.pfValue[0]:void 0,m=r,y=d;n&&(m=0,y=g);var b=50,x={x:o.x-c/2,y:o.y-u/2},T={x:l.x-h/2,y:l.y-f/2},w={x:Math.min(x.x,T.x),y:Math.min(x.y,T.y)},E=.5,S=Math.max(E,Math.log(c*.01)),C=Math.max(E,Math.log(h*.01));a.ctrlpts=[w.x,w.y-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*S,w.x-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*C,w.y]};cs.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};cs.findBezierPoints=function(e,t,r,n,a){var o=e._private.rscratch,l=e.pstyle("control-point-step-size").pfValue,c=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),h=c&&u?Math.min(c.value.length,u.value.length):1,f=c?c.pfValue[0]:void 0,d=u.value[0],p=n;o.edgeType=p?"multibezier":"bezier",o.ctrlpts=[];for(var g=0;g<h;g++){var m=(.5-t.eles.length/2+r)*l*(a?-1:1),y=void 0,b=wme(m);p&&(f=c?c.pfValue[g]:l,d=u.value[g]),n?y=f:y=f!==void 0?b*f:void 0;var x=y!==void 0?y:m,T=1-d,w=d,E=this.findMidptPtsEtc(e,t),S=E.midptPts,C=E.vectorNormInverse,k={x:S.x1*T+S.x2*w,y:S.y1*T+S.y2*w};o.ctrlpts.push(k.x+C.x*x,k.y+C.y*x)}};cs.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",o="leftward",l="rightward",c="downward",u="upward",h="auto",f=t.posPts,d=t.srcW,p=t.srcH,g=t.tgtW,m=t.tgtH,y=e.pstyle("edge-distances").value,b=y!=="node-position",x=e.pstyle("taxi-direction").value,T=x,w=e.pstyle("taxi-turn"),E=w.units==="%",S=w.pfValue,C=S<0,k=e.pstyle("taxi-turn-min-distance").pfValue,O=b?(d+g)/2:0,I=b?(p+m)/2:0,_=f.x2-f.x1,R=f.y2-f.y1,M=function(ie,pe){return ie>0?Math.max(ie-pe,0):Math.min(ie+pe,0)},$=M(_,O),N=M(R,I),P=!1;T===h?x=Math.abs($)>Math.abs(N)?a:n:T===u||T===c?(x=n,P=!0):(T===o||T===l)&&(x=a,P=!0);var F=x===n,L=F?N:$,D=F?R:_,B=wme(D),H=!1;!(P&&(E||C))&&(T===c&&D<0||T===u&&D>0||T===o&&D>0||T===l&&D<0)&&(B*=-1,L=B*Math.abs(L),H=!0);var U;if(E){var G=S<0?1+S:S;U=G*L}else{var W=S<0?L:0;U=W+S*B}var ee=function(ie){return Math.abs(ie)<k||Math.abs(ie)>=Math.abs(L)},ce=ee(U),Z=ee(Math.abs(L)-Math.abs(U)),J=ce||Z;if(J&&!H)if(F){var oe=Math.abs(D)<=p/2,Y=Math.abs(_)<=g/2;if(oe){var X=(f.x1+f.x2)/2,K=f.y1,z=f.y2;r.segpts=[X,K,X,z]}else if(Y){var j=(f.y1+f.y2)/2,te=f.x1,re=f.x2;r.segpts=[te,j,re,j]}else r.segpts=[f.x1,f.y2]}else{var Se=Math.abs(D)<=d/2,ue=Math.abs(R)<=m/2;if(Se){var se=(f.y1+f.y2)/2,fe=f.x1,ye=f.x2;r.segpts=[fe,se,ye,se]}else if(ue){var he=(f.x1+f.x2)/2,Ae=f.y1,Ce=f.y2;r.segpts=[he,Ae,he,Ce]}else r.segpts=[f.x2,f.y1]}else if(F){var Ie=f.y1+U+(b?p/2*B:0),Le=f.x1,ae=f.x2;r.segpts=[Le,Ie,ae,Ie]}else{var q=f.x1+U+(b?d/2*B:0),ge=f.y1,le=f.y2;r.segpts=[q,ge,q,le]}if(r.isRound){var Te=e.pstyle("taxi-radius").value,ne=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Te),r.isArcRadius=new Array(r.segpts.length/2).fill(ne)}};cs.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,a=t.tgtPos,o=t.srcW,l=t.srcH,c=t.tgtW,u=t.tgtH,h=t.srcShape,f=t.tgtShape,d=t.srcCornerRadius,p=t.tgtCornerRadius,g=t.srcRs,m=t.tgtRs,y=!bt(r.startX)||!bt(r.startY),b=!bt(r.arrowStartX)||!bt(r.arrowStartY),x=!bt(r.endX)||!bt(r.endY),T=!bt(r.arrowEndX)||!bt(r.arrowEndY),w=3,E=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,S=w*E,C=bp({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),k=C<S,O=bp({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),I=O<S,_=!1;if(y||b||k){_=!0;var R={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},M=Math.sqrt(R.x*R.x+R.y*R.y),$={x:R.x/M,y:R.y/M},N=Math.max(o,l),P={x:r.ctrlpts[0]+$.x*2*N,y:r.ctrlpts[1]+$.y*2*N},F=h.intersectLine(n.x,n.y,o,l,P.x,P.y,0,d,g);k?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(S-C),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(S-C)):(r.ctrlpts[0]=F[0]+$.x*S,r.ctrlpts[1]=F[1]+$.y*S)}if(x||T||I){_=!0;var L={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},D=Math.sqrt(L.x*L.x+L.y*L.y),B={x:L.x/D,y:L.y/D},H=Math.max(o,l),U={x:r.ctrlpts[0]+B.x*2*H,y:r.ctrlpts[1]+B.y*2*H},G=f.intersectLine(a.x,a.y,c,u,U.x,U.y,0,p,m);I?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(S-O),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(S-O)):(r.ctrlpts[0]=G[0]+B.x*S,r.ctrlpts[1]=G[1]+B.y*S)}_&&this.findEndpoints(e)}};cs.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,a;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,a=.5,t.midX=Ji(t.allpts[n],t.allpts[n+2],t.allpts[n+4],a),t.midY=Ji(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var o=2;o+3<t.allpts.length;o+=2){var l=t.radii[o/2-1],c=t.isArcRadius[o/2-1];t.roundCorners.push(rF({x:t.allpts[o-2],y:t.allpts[o-1]},{x:t.allpts[o],y:t.allpts[o+1],radius:l},{x:t.allpts[o+2],y:t.allpts[o+3]},l,c))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,h=u-2;t.midX=(t.segpts[h]+t.segpts[u])/2,t.midY=(t.segpts[h+1]+t.segpts[u+1])/2}else{var f=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[f],t.midY=t.segpts[f+1];else{var d={x:t.segpts[f],y:t.segpts[f+1]},p=t.roundCorners[f/2],g=[d.x-p.cx,d.y-p.cy],m=p.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(y){return y*m}),t.midX=p.cx+g[0],t.midY=p.cy+g[1],t.midVector=g}}}};cs.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||bt(t.startX)&&bt(t.startY)&&bt(t.endX)&&bt(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Qr("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};cs.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),o={map:new tu,get:function(k){var O=this.map.get(k[0]);return O!=null?O.get(k[1]):null},set:function(k,O){var I=this.map.get(k[0]);I==null&&(I=new tu,this.map.set(k[0],I)),I.set(k[1],O)}},l=[],c=[],u=0;u<e.length;u++){var h=e[u],f=h._private,d=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(d==="haystack"){c.push(h);continue}var p=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),g=d==="unbundled-bezier"||d==="bezier",m=f.source,y=f.target,b=m.poolIndex(),x=y.poolIndex(),T=[b,x].sort(),w=o.get(T);w==null&&(w={eles:[]},o.set(T,w),l.push(T)),w.eles.push(h),p&&(w.hasUnbundled=!0),g&&(w.hasBezier=!0)}}for(var E=function(k){var O=l[k],I=o.get(O),_=void 0;if(!I.hasUnbundled){var R=I.eles[0].parallelEdges().filter(function(q){return q.isBundledBezier()});UP(I.eles),R.forEach(function(q){return I.eles.push(q)}),I.eles.sort(function(q,ge){return q.poolIndex()-ge.poolIndex()})}var M=I.eles[0],$=M.source(),N=M.target();if($.poolIndex()>N.poolIndex()){var P=$;$=N,N=P}var F=I.srcPos=$.position(),L=I.tgtPos=N.position(),D=I.srcW=$.outerWidth(),B=I.srcH=$.outerHeight(),H=I.tgtW=N.outerWidth(),U=I.tgtH=N.outerHeight(),G=I.srcShape=r.nodeShapes[t.getNodeShape($)],W=I.tgtShape=r.nodeShapes[t.getNodeShape(N)],ee=I.srcCornerRadius=$.pstyle("corner-radius").value==="auto"?"auto":$.pstyle("corner-radius").pfValue,ce=I.tgtCornerRadius=N.pstyle("corner-radius").value==="auto"?"auto":N.pstyle("corner-radius").pfValue,Z=I.tgtRs=N._private.rscratch,J=I.srcRs=$._private.rscratch;I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var oe=0;oe<I.eles.length;oe++){var Y=I.eles[oe],X=Y[0]._private.rscratch,K=Y.pstyle("curve-style").value,z=K==="unbundled-bezier"||K.endsWith("segments")||K.endsWith("taxi"),j=!$.same(Y.source());if(!I.calculatedIntersection&&$!==N&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var te=G.intersectLine(F.x,F.y,D,B,L.x,L.y,0,ee,J),re=I.srcIntn=te,Se=W.intersectLine(L.x,L.y,H,U,F.x,F.y,0,ce,Z),ue=I.tgtIntn=Se,se=I.intersectionPts={x1:te[0],x2:Se[0],y1:te[1],y2:Se[1]},fe=I.posPts={x1:F.x,x2:L.x,y1:F.y,y2:L.y},ye=Se[1]-te[1],he=Se[0]-te[0],Ae=Math.sqrt(he*he+ye*ye),Ce=I.vector={x:he,y:ye},Ie=I.vectorNorm={x:Ce.x/Ae,y:Ce.y/Ae},Le={x:-Ie.y,y:Ie.x};I.nodesOverlap=!bt(Ae)||W.checkPoint(te[0],te[1],0,H,U,L.x,L.y,ce,Z)||G.checkPoint(Se[0],Se[1],0,D,B,F.x,F.y,ee,J),I.vectorNormInverse=Le,_={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:L,srcRs:Z,tgtPos:F,tgtRs:J,srcW:H,srcH:U,tgtW:D,tgtH:B,srcIntn:ue,tgtIntn:re,srcShape:W,tgtShape:G,posPts:{x1:fe.x2,y1:fe.y2,x2:fe.x1,y2:fe.y1},intersectionPts:{x1:se.x2,y1:se.y2,x2:se.x1,y2:se.y1},vector:{x:-Ce.x,y:-Ce.y},vectorNorm:{x:-Ie.x,y:-Ie.y},vectorNormInverse:{x:-Le.x,y:-Le.y}}}var ae=j?_:I;X.nodesOverlap=ae.nodesOverlap,X.srcIntn=ae.srcIntn,X.tgtIntn=ae.tgtIntn,X.isRound=K.startsWith("round"),a&&($.isParent()||$.isChild()||N.isParent()||N.isChild())&&($.parents().anySame(N)||N.parents().anySame($)||$.same(N)&&$.isParent())?t.findCompoundLoopPoints(Y,ae,oe,z):$===N?t.findLoopPoints(Y,ae,oe,z):K.endsWith("segments")?t.findSegmentsPoints(Y,ae):K.endsWith("taxi")?t.findTaxiPoints(Y,ae):K==="straight"||!z&&I.eles.length%2===1&&oe===Math.floor(I.eles.length/2)?t.findStraightEdgePoints(Y):t.findBezierPoints(Y,ae,oe,z,j),t.findEndpoints(Y),t.tryToCorrectInvalidPoints(Y,ae),t.checkForInvalidEdgeWarning(Y),t.storeAllpts(Y),t.storeEdgeProjections(Y),t.calculateArrowAngles(Y),t.recalculateEdgeLabelProjections(Y),t.calculateLabelAngles(Y)}},S=0;S<l.length;S++)E(S);this.findHaystackPoints(c)}};function bve(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];t.push({x:n,y:a})}return t}}cs.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return bve(t.segpts)};cs.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return bve(t.ctrlpts)};cs.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var j3={};j3.manualEndptToPx=function(e,t){var r=this,n=e.position(),a=e.outerWidth(),o=e.outerHeight(),l=e._private.rscratch;if(t.value.length===2){var c=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(c[0]=c[0]*a),t.units[1]==="%"&&(c[1]=c[1]*o),c[0]+=n.x,c[1]+=n.y,c}else{var u=t.pfValue[0];u=-Math.PI/2+u;var h=2*Math.max(a,o),f=[n.x+Math.cos(u)*h,n.y+Math.sin(u)*h];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,o,f[0],f[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,l)}};j3.findEndpoints=function(e){var t=this,r,n=e.source()[0],a=e.target()[0],o=n.position(),l=a.position(),c=e.pstyle("target-arrow-shape").value,u=e.pstyle("source-arrow-shape").value,h=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,d=n._private.rscratch,p=a._private.rscratch,g=e.pstyle("curve-style").value,m=e._private.rscratch,y=m.edgeType,b=g==="taxi",x=y==="self"||y==="compound",T=y==="bezier"||y==="multibezier"||x,w=y!=="bezier",E=y==="straight"||y==="segments",S=y==="segments",C=T||w||E,k=x||b,O=e.pstyle("source-endpoint"),I=k?"outside-to-node":O.value,_=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,R=e.pstyle("target-endpoint"),M=k?"outside-to-node":R.value,$=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;m.srcManEndpt=O,m.tgtManEndpt=R;var N,P,F,L;if(T){var D=[m.ctrlpts[0],m.ctrlpts[1]],B=w?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:D;N=B,P=D}else if(E){var H=S?m.segpts.slice(0,2):[l.x,l.y],U=S?m.segpts.slice(m.segpts.length-2):[o.x,o.y];N=U,P=H}if(M==="inside-to-node")r=[l.x,l.y];else if(R.units)r=this.manualEndptToPx(a,R);else if(M==="outside-to-line")r=m.tgtIntn;else if(M==="outside-to-node"||M==="outside-to-node-or-label"?F=N:(M==="outside-to-line"||M==="outside-to-line-or-label")&&(F=[o.x,o.y]),r=t.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),F[0],F[1],0,$,p),M==="outside-to-node-or-label"||M==="outside-to-line-or-label"){var G=a._private.rscratch,W=G.labelWidth,ee=G.labelHeight,ce=G.labelX,Z=G.labelY,J=W/2,oe=ee/2,Y=a.pstyle("text-valign").value;Y==="top"?Z-=oe:Y==="bottom"&&(Z+=oe);var X=a.pstyle("text-halign").value;X==="left"?ce-=J:X==="right"&&(ce+=J);var K=wx(F[0],F[1],[ce-J,Z-oe,ce+J,Z-oe,ce+J,Z+oe,ce-J,Z+oe],l.x,l.y);if(K.length>0){var z=o,j=sd(z,V1(r)),te=sd(z,V1(K)),re=j;if(te<j&&(r=K,re=te),K.length>2){var Se=sd(z,{x:K[2],y:K[3]});Se<re&&(r=[K[2],K[3]])}}}var ue=S4(r,N,t.arrowShapes[c].spacing(e)+h),se=S4(r,N,t.arrowShapes[c].gap(e)+h);if(m.endX=se[0],m.endY=se[1],m.arrowEndX=ue[0],m.arrowEndY=ue[1],I==="inside-to-node")r=[o.x,o.y];else if(O.units)r=this.manualEndptToPx(n,O);else if(I==="outside-to-line")r=m.srcIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?L=P:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(L=[l.x,l.y]),r=t.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),L[0],L[1],0,_,d),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var fe=n._private.rscratch,ye=fe.labelWidth,he=fe.labelHeight,Ae=fe.labelX,Ce=fe.labelY,Ie=ye/2,Le=he/2,ae=n.pstyle("text-valign").value;ae==="top"?Ce-=Le:ae==="bottom"&&(Ce+=Le);var q=n.pstyle("text-halign").value;q==="left"?Ae-=Ie:q==="right"&&(Ae+=Ie);var ge=wx(L[0],L[1],[Ae-Ie,Ce-Le,Ae+Ie,Ce-Le,Ae+Ie,Ce+Le,Ae-Ie,Ce+Le],o.x,o.y);if(ge.length>0){var le=l,Te=sd(le,V1(r)),ne=sd(le,V1(ge)),Re=Te;if(ne<Te&&(r=[ge[0],ge[1]],Re=ne),ge.length>2){var ie=sd(le,{x:ge[2],y:ge[3]});ie<Re&&(r=[ge[2],ge[3]])}}}var pe=S4(r,P,t.arrowShapes[u].spacing(e)+f),xe=S4(r,P,t.arrowShapes[u].gap(e)+f);m.startX=xe[0],m.startY=xe[1],m.arrowStartX=pe[0],m.arrowStartY=pe[1],C&&(!bt(m.startX)||!bt(m.startY)||!bt(m.endX)||!bt(m.endY)?m.badLine=!0:m.badLine=!1)};j3.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};j3.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var nF={};function z7t(e,t,r){for(var n=function(h,f,d,p){return Ji(h,f,d,p)},a=t._private,o=a.rstyle.bezierPts,l=0;l<e.bezierProjPcts.length;l++){var c=e.bezierProjPcts[l];o.push({x:n(r[0],r[2],r[4],c),y:n(r[1],r[3],r[5],c)})}}nF.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)z7t(this,e,r.allpts.slice(a,a+6))}else if(n==="segments")for(var o=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)o.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var l=r.haystackPts;t.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};nF.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var _u={};_u.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!lf(t)){var r,n,a=e._private,o=e.width(),l=e.height(),c=e.padding(),u=e.position(),h=e.pstyle("text-halign").strValue,f=e.pstyle("text-valign").strValue,d=a.rscratch,p=a.rstyle;switch(h){case"left":r=u.x-o/2-c;break;case"right":r=u.x+o/2+c;break;default:r=u.x}switch(f){case"top":n=u.y-l/2-c;break;case"bottom":n=u.y+l/2+c;break;default:n=u.y}d.labelX=r,d.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var xve=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},Tve=function(t,r){var n=r.x-t.x,a=r.y-t.y;return xve(n,a)},G7t=function(t,r,n,a){var o=Tx(0,a-.001,1),l=Tx(0,a+.001,1),c=wg(t,r,n,o),u=wg(t,r,n,l);return Tve(c,u)};_u.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){t={x:n.midX,y:n.midY};var l=function(d,p,g){A0(r.rscratch,d,p,g),A0(r.rstyle,d,p,g)};l("labelX",null,t.x),l("labelY",null,t.y);var c=xve(n.midDispX,n.midDispY);l("labelAutoAngle",null,c);var u=function f(){if(f.cache)return f.cache;for(var d=[],p=0;p+5<n.allpts.length;p+=4){var g={x:n.allpts[p],y:n.allpts[p+1]},m={x:n.allpts[p+2],y:n.allpts[p+3]},y={x:n.allpts[p+4],y:n.allpts[p+5]};d.push({p0:g,p1:m,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,x=a.bezierProjPcts.length;function T(k,O,I,_,R){var M=bp(O,I),$=k.segments[k.segments.length-1],N={p0:O,p1:I,t0:_,t1:R,startDist:$?$.startDist+$.length:0,length:M};k.segments.push(N),k.length+=M}for(var w=0;w<d.length;w++){var E=d[w],S=d[w-1];S&&(E.startDist=S.startDist+S.length),T(E,E.p0,b[w*x],0,a.bezierProjPcts[0]);for(var C=0;C<x-1;C++)T(E,b[w*x+C],b[w*x+C+1],a.bezierProjPcts[C],a.bezierProjPcts[C+1]);T(E,b[w*x+x-1],E.p2,a.bezierProjPcts[x-1],1)}return f.cache=d},h=function(d){var p,g=d==="source";if(o[d]){var m=e.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=u(),b,x=0,T=0,w=0;w<y.length;w++){for(var E=y[g?w:y.length-1-w],S=0;S<E.segments.length;S++){var C=E.segments[g?S:E.segments.length-1-S],k=w===y.length-1&&S===E.segments.length-1;if(x=T,T+=C.length,T>=m||k){b={cp:E,segment:C};break}}if(b)break}var O=b.cp,I=b.segment,_=(m-x)/I.length,R=I.t1-I.t0,M=g?I.t0+R*_:I.t1-R*_;M=Tx(0,M,1),t=wg(O.p0,O.p1,O.p2,M),p=G7t(O.p0,O.p1,O.p2,M);break}case"straight":case"segments":case"haystack":{for(var $=0,N,P,F,L,D=n.allpts.length,B=0;B+3<D&&(g?(F={x:n.allpts[B],y:n.allpts[B+1]},L={x:n.allpts[B+2],y:n.allpts[B+3]}):(F={x:n.allpts[D-2-B],y:n.allpts[D-1-B]},L={x:n.allpts[D-4-B],y:n.allpts[D-3-B]}),N=bp(F,L),P=$,$+=N,!($>=m));B+=2);var H=m-P,U=H/N;U=Tx(0,U,1),t=Z6t(F,L,U),p=Tve(F,L);break}}l("labelX",d,t.x),l("labelY",d,t.y),l("labelAutoAngle",d,p)}};h("source"),h("target"),this.applyLabelDimensions(e)}};_u.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};_u.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),a=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,l=e.pstyle("text-wrap").strValue,c=Jl(r.rscratch,"labelWrapCachedLines",t)||[],u=l!=="wrap"?1:Math.max(c.length,1),h=a.height/u,f=h*o,d=a.width,p=a.height+(u-1)*(o-1)*h;A0(r.rstyle,"labelWidth",t,d),A0(r.rscratch,"labelWidth",t,d),A0(r.rstyle,"labelHeight",t,p),A0(r.rscratch,"labelHeight",t,p),A0(r.rscratch,"labelLineHeight",t,f)};_u.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",a=e.pstyle(n+"label").strValue,o=e.pstyle("text-transform").value,l=function(W,ee){return ee?(A0(r.rscratch,W,t,ee),ee):Jl(r.rscratch,W,t)};if(!a)return"";o=="none"||(o=="uppercase"?a=a.toUpperCase():o=="lowercase"&&(a=a.toLowerCase()));var c=e.pstyle("text-wrap").value;if(c==="wrap"){var u=l("labelKey");if(u!=null&&l("labelWrapKey")===u)return l("labelWrapCachedText");for(var h="​",f=a.split(`
`),d=e.pstyle("text-max-width").pfValue,p=e.pstyle("text-overflow-wrap").value,g=p==="anywhere",m=[],y=/[\s\u200b]+|$/g,b=0;b<f.length;b++){var x=f[b],T=this.calculateLabelDimensions(e,x),w=T.width;if(g){var E=x.split("").join(h);x=E}if(w>d){var S=x.matchAll(y),C="",k=0,O=Mo(S),I;try{for(O.s();!(I=O.n()).done;){var _=I.value,R=_[0],M=x.substring(k,_.index);k=_.index+R.length;var $=C.length===0?M:C+M+R,N=this.calculateLabelDimensions(e,$),P=N.width;P<=d?C+=M+R:(C&&m.push(C),C=M+R)}}catch(G){O.e(G)}finally{O.f()}C.match(/^[\s\u200b]+$/)||m.push(C)}else m.push(x)}l("labelWrapCachedLines",m),a=l("labelWrapCachedText",m.join(`
`)),l("labelWrapKey",u)}else if(c==="ellipsis"){var F=e.pstyle("text-max-width").pfValue,L="",D="…",B=!1;if(this.calculateLabelDimensions(e,a).width<F)return a;for(var H=0;H<a.length;H++){var U=this.calculateLabelDimensions(e,L+a[H]+D).width;if(U>F)break;L+=a[H],H===a.length-1&&(B=!0)}return B||(L+=D),L}return a};_u.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};_u.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),a=n.document,o=cf(t,e._private.labelDimsKey),l=r.labelDimCache||(r.labelDimCache=[]),c=l[o];if(c!=null)return c;var u=0,h=e.pstyle("font-style").strValue,f=e.pstyle("font-size").pfValue,d=e.pstyle("font-family").strValue,p=e.pstyle("font-weight").strValue,g=this.labelCalcCanvas,m=this.labelCalcCanvasContext;if(!g){g=this.labelCalcCanvas=a.createElement("canvas"),m=this.labelCalcCanvasContext=g.getContext("2d");var y=g.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}m.font="".concat(h," ").concat(p," ").concat(f,"px ").concat(d);for(var b=0,x=0,T=t.split(`
`),w=0;w<T.length;w++){var E=T[w],S=m.measureText(E),C=Math.ceil(S.width),k=f;b=Math.max(C,b),x+=k}return b+=u,x+=u,l[o]={width:b,height:x}};_u.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,a=e.isEdge(),o=t?t+"-":"",l=e.pstyle(o+"text-rotation"),c=l.strValue;return c==="none"?0:a&&c==="autorotate"?n.labelAutoAngle:c==="autorotate"?0:l.pfValue};_u.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=t.calculateLabelAngle(e),r&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var wve={},DX=28,PX=!1;wve.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<DX||e.height()<DX))return PX||(Qr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),PX=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var xk={};xk.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(l),c)for(var u=0;u<l.length;u++){var h=l[u],f=h._private,d=f.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(l){var c=l.target;n(c)}).on("style.* background.*",function(l){var c=l.target;n(c,!1)});var a=function(l){if(l){var c=r.onUpdateEleCalcsFns;t.cleanStyle();for(var u=0;u<t.length;u++){var h=t[u],f=h._private.rstyle;h.isNode()&&!f.cleanConnected&&(n(h.connectedEdges()),f.cleanConnected=!0)}if(c)for(var d=0;d<c.length;d++){var p=c[d];p(l,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};xk.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};xk.recalculateRenderedStyle=function(e,t){var r=function(E){return E._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var o=0;o<e.length;o++){var l=e[o],c=l._private,u=c.rstyle;l.isEdge()&&(!r(l.source())||!r(l.target()))&&(u.clean=!1),!(t&&u.clean||l.removed())&&l.pstyle("display").value!=="none"&&(c.group==="nodes"?a.push(l):n.push(l),u.clean=!0)}for(var h=0;h<a.length;h++){var f=a[h],d=f._private,p=d.rstyle,g=f.position();this.recalculateNodeLabelProjection(f),p.nodeX=g.x,p.nodeY=g.y,p.nodeW=f.pstyle("width").pfValue,p.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var y=n[m],b=y._private,x=b.rstyle,T=b.rscratch;x.srcX=T.arrowStartX,x.srcY=T.arrowStartY,x.tgtX=T.arrowEndX,x.tgtY=T.arrowEndY,x.midX=T.midX,x.midY=T.midY,x.labelAngle=T.labelAngle,x.sourceLabelAngle=T.sourceLabelAngle,x.targetLabelAngle=T.targetLabelAngle}}};var Tk={};Tk.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};Tk.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Tk.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(ave),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var Eve={};[Vp,CS,cs,j3,nF,_u,wve,xk,Tk].forEach(function(e){Jt(Eve,e)});var Sve={};Sve.getCachedImage=function(e,t,r){var n=this,a=n.imageCache=n.imageCache||{},o=a[e];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=a[e]=a[e]||{};var l=o.image=new Image;l.addEventListener("load",r),l.addEventListener("error",function(){l.error=!0});var c="data:",u=e.substring(0,c.length).toLowerCase()===c;return u||(t=t==="null"?null:t,l.crossOrigin=t),l.src=e,l};var ey={};ey.registerBinding=function(e,t,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var o=[],l=0;l<e.length;l++){var c=e[l];if(c!==void 0){var u=this.binder(c);o.push(u.on.apply(u,a))}}return o}var u=this.binder(e);return u.on.apply(u,a)};ey.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||ySt(e);if(t.supportsPassiveEvents==null){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,o)}catch{}t.supportsPassiveEvents=a}var l=function(u,h,f){var d=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(d[2]={capture:f??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this};return{on:l,addEventListener:l,addListener:l,bind:l}};ey.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};ey.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};ey.load=function(){var e=this,t=e.cy.window(),r=function(q){return q.selected()},n=function(q){var ge=q.getRootNode();if(ge&&ge.nodeType===11&&ge.host!==void 0)return ge},a=function(q,ge,le,Te){q==null&&(q=e.cy);for(var ne=0;ne<ge.length;ne++){var Re=ge[ne];q.emit({originalEvent:le,type:Re,position:Te})}},o=function(q){return q.shiftKey||q.metaKey||q.ctrlKey},l=function(q,ge){var le=!0;if(e.cy.hasCompoundNodes()&&q&&q.pannable())for(var Te=0;ge&&Te<ge.length;Te++){var q=ge[Te];if(q.isNode()&&q.isParent()&&!q.pannable()){le=!1;break}}else le=!0;return le},c=function(q){q[0]._private.grabbed=!0},u=function(q){q[0]._private.grabbed=!1},h=function(q){q[0]._private.rscratch.inDragLayer=!0},f=function(q){q[0]._private.rscratch.inDragLayer=!1},d=function(q){q[0]._private.rscratch.isGrabTarget=!0},p=function(q){q[0]._private.rscratch.isGrabTarget=!1},g=function(q,ge){var le=ge.addToList,Te=le.has(q);!Te&&q.grabbable()&&!q.locked()&&(le.merge(q),c(q))},m=function(q,ge){if(q.cy().hasCompoundNodes()&&!(ge.inDragLayer==null&&ge.addToList==null)){var le=q.descendants();ge.inDragLayer&&(le.forEach(h),le.connectedEdges().forEach(h)),ge.addToList&&g(le,ge)}},y=function(q,ge){ge=ge||{};var le=q.cy().hasCompoundNodes();ge.inDragLayer&&(q.forEach(h),q.neighborhood().stdFilter(function(Te){return!le||Te.isEdge()}).forEach(h)),ge.addToList&&q.forEach(function(Te){g(Te,ge)}),m(q,ge),T(q,{inDragLayer:ge.inDragLayer}),e.updateCachedGrabbedEles()},b=y,x=function(q){q&&(e.getCachedZSortedEles().forEach(function(ge){u(ge),f(ge),p(ge)}),e.updateCachedGrabbedEles())},T=function(q,ge){if(!(ge.inDragLayer==null&&ge.addToList==null)&&q.cy().hasCompoundNodes()){var le=q.ancestors().orphans();if(!le.same(q)){var Te=le.descendants().spawnSelf().merge(le).unmerge(q).unmerge(q.descendants()),ne=Te.connectedEdges();ge.inDragLayer&&(ne.forEach(h),Te.forEach(h)),ge.addToList&&Te.forEach(function(Re){g(Re,ge)})}}},w=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",S=typeof ResizeObserver<"u";E?(e.removeObserver=new MutationObserver(function(ae){for(var q=0;q<ae.length;q++){var ge=ae[q],le=ge.removedNodes;if(le)for(var Te=0;Te<le.length;Te++){var ne=le[Te];if(ne===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(ae){e.destroy()});var C=G3(function(){e.cy.resize()},100);E&&(e.styleObserver=new MutationObserver(C),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",C),S&&(e.resizeObserver=new ResizeObserver(C),e.resizeObserver.observe(e.container));var k=function(q,ge){for(;q!=null;)ge(q),q=q.parentNode},O=function(){e.invalidateContainerClientCoordsCache()};k(e.container,function(ae){e.registerBinding(ae,"transitionend",O),e.registerBinding(ae,"animationend",O),e.registerBinding(ae,"scroll",O)}),e.registerBinding(e.container,"contextmenu",function(ae){ae.preventDefault()});var I=function(){return e.selection[4]!==0},_=function(q){for(var ge=e.findContainerClientCoords(),le=ge[0],Te=ge[1],ne=ge[2],Re=ge[3],ie=q.touches?q.touches:[q],pe=!1,xe=0;xe<ie.length;xe++){var ve=ie[xe];if(le<=ve.clientX&&ve.clientX<=le+ne&&Te<=ve.clientY&&ve.clientY<=Te+Re){pe=!0;break}}if(!pe)return!1;for(var Ee=e.container,ke=q.target,Pe=ke.parentNode,Oe=!1;Pe;){if(Pe===Ee){Oe=!0;break}Pe=Pe.parentNode}return!!Oe};e.registerBinding(e.container,"mousedown",function(q){if(_(q)&&!(e.hoverData.which===1&&q.which!==1)){q.preventDefault(),w(),e.hoverData.capture=!0,e.hoverData.which=q.which;var ge=e.cy,le=[q.clientX,q.clientY],Te=e.projectIntoViewport(le[0],le[1]),ne=e.selection,Re=e.findNearestElements(Te[0],Te[1],!0,!1),ie=Re[0],pe=e.dragData.possibleDragElements;e.hoverData.mdownPos=Te,e.hoverData.mdownGPos=le;var xe=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Ye=e.hoverData.down;Ye?Ye.emit({originalEvent:q,type:"taphold",position:{x:Te[0],y:Te[1]}}):ge.emit({originalEvent:q,type:"taphold",position:{x:Te[0],y:Te[1]}})}},e.tapholdDuration)};if(q.which==3){e.hoverData.cxtStarted=!0;var ve={originalEvent:q,type:"cxttapstart",position:{x:Te[0],y:Te[1]}};ie?(ie.activate(),ie.emit(ve),e.hoverData.down=ie):ge.emit(ve),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(q.which==1){ie&&ie.activate();{if(ie!=null&&e.nodeIsGrabbable(ie)){var Ee=function(Ye){return{originalEvent:q,type:Ye,position:{x:Te[0],y:Te[1]}}},ke=function(Ye){Ye.emit(Ee("grab"))};if(d(ie),!ie.selected())pe=e.dragData.possibleDragElements=ge.collection(),b(ie,{addToList:pe}),ie.emit(Ee("grabon")).emit(Ee("grab"));else{pe=e.dragData.possibleDragElements=ge.collection();var Pe=ge.$(function(Oe){return Oe.isNode()&&Oe.selected()&&e.nodeIsGrabbable(Oe)});y(Pe,{addToList:pe}),ie.emit(Ee("grabon")),Pe.forEach(ke)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=ie,e.hoverData.downs=Re,e.hoverData.downTime=new Date().getTime()}a(ie,["mousedown","tapstart","vmousedown"],q,{x:Te[0],y:Te[1]}),ie==null?(ne[4]=1,e.data.bgActivePosistion={x:Te[0],y:Te[1]},e.redrawHint("select",!0),e.redraw()):ie.pannable()&&(ne[4]=1),xe()}ne[0]=ne[2]=Te[0],ne[1]=ne[3]=Te[1]}},!1);var R=n(e.container);e.registerBinding([t,R],"mousemove",function(q){var ge=e.hoverData.capture;if(!(!ge&&!_(q))){var le=!1,Te=e.cy,ne=Te.zoom(),Re=[q.clientX,q.clientY],ie=e.projectIntoViewport(Re[0],Re[1]),pe=e.hoverData.mdownPos,xe=e.hoverData.mdownGPos,ve=e.selection,Ee=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Ee=e.findNearestElement(ie[0],ie[1],!0,!1));var ke=e.hoverData.last,Pe=e.hoverData.down,Oe=[ie[0]-ve[2],ie[1]-ve[3]],Ye=e.dragData.possibleDragElements,Je;if(xe){var Ct=Re[0]-xe[0],dt=Ct*Ct,ct=Re[1]-xe[1],qe=ct*ct,je=dt+qe;e.hoverData.isOverThresholdDrag=Je=je>=e.desktopTapThreshold2}var ht=o(q);Je&&(e.hoverData.tapholdCancelled=!0);var Ke=function(){var sr=e.hoverData.dragDelta=e.hoverData.dragDelta||[];sr.length===0?(sr.push(Oe[0]),sr.push(Oe[1])):(sr[0]+=Oe[0],sr[1]+=Oe[1])};le=!0,a(Ee,["mousemove","vmousemove","tapdrag"],q,{x:ie[0],y:ie[1]});var it=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||Te.emit({originalEvent:q,type:"boxstart",position:{x:ie[0],y:ie[1]}}),ve[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Je){var Pt={originalEvent:q,type:"cxtdrag",position:{x:ie[0],y:ie[1]}};Pe?Pe.emit(Pt):Te.emit(Pt),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Ee!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:ie[0],y:ie[1]}}),e.hoverData.cxtOver=Ee,Ee&&Ee.emit({originalEvent:q,type:"cxtdragover",position:{x:ie[0],y:ie[1]}}))}}else if(e.hoverData.dragging){if(le=!0,Te.panningEnabled()&&Te.userPanningEnabled()){var at;if(e.hoverData.justStartedPan){var Qe=e.hoverData.mdownPos;at={x:(ie[0]-Qe[0])*ne,y:(ie[1]-Qe[1])*ne},e.hoverData.justStartedPan=!1}else at={x:Oe[0]*ne,y:Oe[1]*ne};Te.panBy(at),Te.emit("dragpan"),e.hoverData.dragged=!0}ie=e.projectIntoViewport(q.clientX,q.clientY)}else if(ve[4]==1&&(Pe==null||Pe.pannable())){if(Je){if(!e.hoverData.dragging&&Te.boxSelectionEnabled()&&(ht||!Te.panningEnabled()||!Te.userPanningEnabled()))it();else if(!e.hoverData.selecting&&Te.panningEnabled()&&Te.userPanningEnabled()){var pt=l(Pe,e.hoverData.downs);pt&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,ve[4]=0,e.data.bgActivePosistion=V1(pe),e.redrawHint("select",!0),e.redraw())}Pe&&Pe.pannable()&&Pe.active()&&Pe.unactivate()}}else{if(Pe&&Pe.pannable()&&Pe.active()&&Pe.unactivate(),(!Pe||!Pe.grabbed())&&Ee!=ke&&(ke&&a(ke,["mouseout","tapdragout"],q,{x:ie[0],y:ie[1]}),Ee&&a(Ee,["mouseover","tapdragover"],q,{x:ie[0],y:ie[1]}),e.hoverData.last=Ee),Pe)if(Je){if(Te.boxSelectionEnabled()&&ht)Pe&&Pe.grabbed()&&(x(Ye),Pe.emit("freeon"),Ye.emit("free"),e.dragData.didDrag&&(Pe.emit("dragfreeon"),Ye.emit("dragfree"))),it();else if(Pe&&Pe.grabbed()&&e.nodeIsDraggable(Pe)){var Ot=!e.dragData.didDrag;Ot&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||y(Ye,{inDragLayer:!0});var vt={x:0,y:0};if(bt(Oe[0])&&bt(Oe[1])&&(vt.x+=Oe[0],vt.y+=Oe[1],Ot)){var tr=e.hoverData.dragDelta;tr&&bt(tr[0])&&bt(tr[1])&&(vt.x+=tr[0],vt.y+=tr[1])}e.hoverData.draggingEles=!0,Ye.silentShift(vt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else Ke();le=!0}if(ve[2]=ie[0],ve[3]=ie[1],le)return q.stopPropagation&&q.stopPropagation(),q.preventDefault&&q.preventDefault(),!1}},!1);var M,$,N;e.registerBinding(t,"mouseup",function(q){if(!(e.hoverData.which===1&&q.which!==1&&e.hoverData.capture)){var ge=e.hoverData.capture;if(ge){e.hoverData.capture=!1;var le=e.cy,Te=e.projectIntoViewport(q.clientX,q.clientY),ne=e.selection,Re=e.findNearestElement(Te[0],Te[1],!0,!1),ie=e.dragData.possibleDragElements,pe=e.hoverData.down,xe=o(q);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,pe&&pe.unactivate(),e.hoverData.which===3){var ve={originalEvent:q,type:"cxttapend",position:{x:Te[0],y:Te[1]}};if(pe?pe.emit(ve):le.emit(ve),!e.hoverData.cxtDragged){var Ee={originalEvent:q,type:"cxttap",position:{x:Te[0],y:Te[1]}};pe?pe.emit(Ee):le.emit(Ee)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(Re,["mouseup","tapend","vmouseup"],q,{x:Te[0],y:Te[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(pe,["click","tap","vclick"],q,{x:Te[0],y:Te[1]}),$=!1,q.timeStamp-N<=le.multiClickDebounceTime()?(M&&clearTimeout(M),$=!0,N=null,a(pe,["dblclick","dbltap","vdblclick"],q,{x:Te[0],y:Te[1]})):(M=setTimeout(function(){$||a(pe,["oneclick","onetap","voneclick"],q,{x:Te[0],y:Te[1]})},le.multiClickDebounceTime()),N=q.timeStamp)),pe==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!o(q)&&(le.$(r).unselect(["tapunselect"]),ie.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ie=le.collection()),Re==pe&&!e.dragData.didDrag&&!e.hoverData.selecting&&Re!=null&&Re._private.selectable&&(e.hoverData.dragging||(le.selectionType()==="additive"||xe?Re.selected()?Re.unselect(["tapunselect"]):Re.select(["tapselect"]):xe||(le.$(r).unmerge(Re).unselect(["tapunselect"]),Re.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var ke=le.collection(e.getAllInBox(ne[0],ne[1],ne[2],ne[3]));e.redrawHint("select",!0),ke.length>0&&e.redrawHint("eles",!0),le.emit({type:"boxend",originalEvent:q,position:{x:Te[0],y:Te[1]}});var Pe=function(Je){return Je.selectable()&&!Je.selected()};le.selectionType()==="additive"||xe||le.$(r).unmerge(ke).unselect(),ke.emit("box").stdFilter(Pe).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!ne[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Oe=pe&&pe.grabbed();x(ie),Oe&&(pe.emit("freeon"),ie.emit("free"),e.dragData.didDrag&&(pe.emit("dragfreeon"),ie.emit("dragfree")))}}ne[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var P=function(q){if(!e.scrollingPage){var ge=e.cy,le=ge.zoom(),Te=ge.pan(),ne=e.projectIntoViewport(q.clientX,q.clientY),Re=[ne[0]*le+Te.x,ne[1]*le+Te.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||I()){q.preventDefault();return}if(ge.panningEnabled()&&ge.userPanningEnabled()&&ge.zoomingEnabled()&&ge.userZoomingEnabled()){q.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var ie;q.deltaY!=null?ie=q.deltaY/-250:q.wheelDeltaY!=null?ie=q.wheelDeltaY/1e3:ie=q.wheelDelta/1e3,ie=ie*e.wheelSensitivity;var pe=q.deltaMode===1;pe&&(ie*=33);var xe=ge.zoom()*Math.pow(10,ie);q.type==="gesturechange"&&(xe=e.gestureStartZoom*q.scale),ge.zoom({level:xe,renderedPosition:{x:Re[0],y:Re[1]}}),ge.emit(q.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",P,!0),e.registerBinding(t,"scroll",function(q){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(q){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||q.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(ae){e.hasTouchStarted||P(ae)},!0),e.registerBinding(e.container,"mouseout",function(q){var ge=e.projectIntoViewport(q.clientX,q.clientY);e.cy.emit({originalEvent:q,type:"mouseout",position:{x:ge[0],y:ge[1]}})},!1),e.registerBinding(e.container,"mouseover",function(q){var ge=e.projectIntoViewport(q.clientX,q.clientY);e.cy.emit({originalEvent:q,type:"mouseover",position:{x:ge[0],y:ge[1]}})},!1);var F,L,D,B,H,U,G,W,ee,ce,Z,J,oe,Y=function(q,ge,le,Te){return Math.sqrt((le-q)*(le-q)+(Te-ge)*(Te-ge))},X=function(q,ge,le,Te){return(le-q)*(le-q)+(Te-ge)*(Te-ge)},K;e.registerBinding(e.container,"touchstart",K=function(q){if(e.hasTouchStarted=!0,!!_(q)){w(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var ge=e.cy,le=e.touchData.now,Te=e.touchData.earlier;if(q.touches[0]){var ne=e.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);le[0]=ne[0],le[1]=ne[1]}if(q.touches[1]){var ne=e.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);le[2]=ne[0],le[3]=ne[1]}if(q.touches[2]){var ne=e.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);le[4]=ne[0],le[5]=ne[1]}if(q.touches[1]){e.touchData.singleTouchMoved=!0,x(e.dragData.touchDragEles);var Re=e.findContainerClientCoords();ee=Re[0],ce=Re[1],Z=Re[2],J=Re[3],F=q.touches[0].clientX-ee,L=q.touches[0].clientY-ce,D=q.touches[1].clientX-ee,B=q.touches[1].clientY-ce,oe=0<=F&&F<=Z&&0<=D&&D<=Z&&0<=L&&L<=J&&0<=B&&B<=J;var ie=ge.pan(),pe=ge.zoom();H=Y(F,L,D,B),U=X(F,L,D,B),G=[(F+D)/2,(L+B)/2],W=[(G[0]-ie.x)/pe,(G[1]-ie.y)/pe];var xe=200,ve=xe*xe;if(U<ve&&!q.touches[2]){var Ee=e.findNearestElement(le[0],le[1],!0,!0),ke=e.findNearestElement(le[2],le[3],!0,!0);Ee&&Ee.isNode()?(Ee.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:le[0],y:le[1]}}),e.touchData.start=Ee):ke&&ke.isNode()?(ke.activate().emit({originalEvent:q,type:"cxttapstart",position:{x:le[0],y:le[1]}}),e.touchData.start=ke):ge.emit({originalEvent:q,type:"cxttapstart",position:{x:le[0],y:le[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(q.touches[2])ge.boxSelectionEnabled()&&q.preventDefault();else if(!q.touches[1]){if(q.touches[0]){var Pe=e.findNearestElements(le[0],le[1],!0,!0),Oe=Pe[0];if(Oe!=null&&(Oe.activate(),e.touchData.start=Oe,e.touchData.starts=Pe,e.nodeIsGrabbable(Oe))){var Ye=e.dragData.touchDragEles=ge.collection(),Je=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Oe.selected()?(Je=ge.$(function(je){return je.selected()&&e.nodeIsGrabbable(je)}),y(Je,{addToList:Ye})):b(Oe,{addToList:Ye}),d(Oe);var Ct=function(ht){return{originalEvent:q,type:ht,position:{x:le[0],y:le[1]}}};Oe.emit(Ct("grabon")),Je?Je.forEach(function(je){je.emit(Ct("grab"))}):Oe.emit(Ct("grab"))}a(Oe,["touchstart","tapstart","vmousedown"],q,{x:le[0],y:le[1]}),Oe==null&&(e.data.bgActivePosistion={x:ne[0],y:ne[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],q,{x:le[0],y:le[1]})},e.tapholdDuration)}}if(q.touches.length>=1){for(var dt=e.touchData.startPosition=[null,null,null,null,null,null],ct=0;ct<le.length;ct++)dt[ct]=Te[ct]=le[ct];var qe=q.touches[0];e.touchData.startGPosition=[qe.clientX,qe.clientY]}}},!1);var z;e.registerBinding(t,"touchmove",z=function(q){var ge=e.touchData.capture;if(!(!ge&&!_(q))){var le=e.selection,Te=e.cy,ne=e.touchData.now,Re=e.touchData.earlier,ie=Te.zoom();if(q.touches[0]){var pe=e.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ne[0]=pe[0],ne[1]=pe[1]}if(q.touches[1]){var pe=e.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);ne[2]=pe[0],ne[3]=pe[1]}if(q.touches[2]){var pe=e.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);ne[4]=pe[0],ne[5]=pe[1]}var xe=e.touchData.startGPosition,ve;if(ge&&q.touches[0]&&xe){for(var Ee=[],ke=0;ke<ne.length;ke++)Ee[ke]=ne[ke]-Re[ke];var Pe=q.touches[0].clientX-xe[0],Oe=Pe*Pe,Ye=q.touches[0].clientY-xe[1],Je=Ye*Ye,Ct=Oe+Je;ve=Ct>=e.touchTapThreshold2}if(ge&&e.touchData.cxt){q.preventDefault();var dt=q.touches[0].clientX-ee,ct=q.touches[0].clientY-ce,qe=q.touches[1].clientX-ee,je=q.touches[1].clientY-ce,ht=X(dt,ct,qe,je),Ke=ht/U,it=150,Pt=it*it,at=1.5,Qe=at*at;if(Ke>=Qe||ht>=Pt){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var pt={originalEvent:q,type:"cxttapend",position:{x:ne[0],y:ne[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(pt),e.touchData.start=null):Te.emit(pt)}}if(ge&&e.touchData.cxt){var pt={originalEvent:q,type:"cxtdrag",position:{x:ne[0],y:ne[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(pt):Te.emit(pt),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Ot=e.findNearestElement(ne[0],ne[1],!0,!0);(!e.touchData.cxtOver||Ot!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:q,type:"cxtdragout",position:{x:ne[0],y:ne[1]}}),e.touchData.cxtOver=Ot,Ot&&Ot.emit({originalEvent:q,type:"cxtdragover",position:{x:ne[0],y:ne[1]}}))}else if(ge&&q.touches[2]&&Te.boxSelectionEnabled())q.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||Te.emit({originalEvent:q,type:"boxstart",position:{x:ne[0],y:ne[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,le[4]=1,!le||le.length===0||le[0]===void 0?(le[0]=(ne[0]+ne[2]+ne[4])/3,le[1]=(ne[1]+ne[3]+ne[5])/3,le[2]=(ne[0]+ne[2]+ne[4])/3+1,le[3]=(ne[1]+ne[3]+ne[5])/3+1):(le[2]=(ne[0]+ne[2]+ne[4])/3,le[3]=(ne[1]+ne[3]+ne[5])/3),e.redrawHint("select",!0),e.redraw();else if(ge&&q.touches[1]&&!e.touchData.didSelect&&Te.zoomingEnabled()&&Te.panningEnabled()&&Te.userZoomingEnabled()&&Te.userPanningEnabled()){q.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var vt=e.dragData.touchDragEles;if(vt){e.redrawHint("drag",!0);for(var tr=0;tr<vt.length;tr++){var $r=vt[tr]._private;$r.grabbed=!1,$r.rscratch.inDragLayer=!1}}var sr=e.touchData.start,dt=q.touches[0].clientX-ee,ct=q.touches[0].clientY-ce,qe=q.touches[1].clientX-ee,je=q.touches[1].clientY-ce,Kn=Y(dt,ct,qe,je),ln=Kn/H;if(oe){var En=dt-F,Sr=ct-L,li=qe-D,At=je-B,Fe=(En+li)/2,et=(Sr+At)/2,kt=Te.zoom(),fr=kt*ln,rn=Te.pan(),dn=W[0]*kt+rn.x,_n=W[1]*kt+rn.y,Sn={x:-fr/kt*(dn-rn.x-Fe)+dn,y:-fr/kt*(_n-rn.y-et)+_n};if(sr&&sr.active()){var vt=e.dragData.touchDragEles;x(vt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),sr.unactivate().emit("freeon"),vt.emit("free"),e.dragData.didDrag&&(sr.emit("dragfreeon"),vt.emit("dragfree"))}Te.viewport({zoom:fr,pan:Sn,cancelOnFailedZoom:!0}),Te.emit("pinchzoom"),H=Kn,F=dt,L=ct,D=qe,B=je,e.pinching=!0}if(q.touches[0]){var pe=e.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ne[0]=pe[0],ne[1]=pe[1]}if(q.touches[1]){var pe=e.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);ne[2]=pe[0],ne[3]=pe[1]}if(q.touches[2]){var pe=e.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);ne[4]=pe[0],ne[5]=pe[1]}}else if(q.touches[0]&&!e.touchData.didSelect){var xt=e.touchData.start,Et=e.touchData.last,Ot;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Ot=e.findNearestElement(ne[0],ne[1],!0,!0)),ge&&xt!=null&&q.preventDefault(),ge&&xt!=null&&e.nodeIsDraggable(xt))if(ve){var vt=e.dragData.touchDragEles,Yt=!e.dragData.didDrag;Yt&&y(vt,{inDragLayer:!0}),e.dragData.didDrag=!0;var ot={x:0,y:0};if(bt(Ee[0])&&bt(Ee[1])&&(ot.x+=Ee[0],ot.y+=Ee[1],Yt)){e.redrawHint("eles",!0);var Vt=e.touchData.dragDelta;Vt&&bt(Vt[0])&&bt(Vt[1])&&(ot.x+=Vt[0],ot.y+=Vt[1])}e.hoverData.draggingEles=!0,vt.silentShift(ot).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Re[0]&&e.touchData.startPosition[1]==Re[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Vt=e.touchData.dragDelta=e.touchData.dragDelta||[];Vt.length===0?(Vt.push(Ee[0]),Vt.push(Ee[1])):(Vt[0]+=Ee[0],Vt[1]+=Ee[1])}if(a(xt||Ot,["touchmove","tapdrag","vmousemove"],q,{x:ne[0],y:ne[1]}),(!xt||!xt.grabbed())&&Ot!=Et&&(Et&&Et.emit({originalEvent:q,type:"tapdragout",position:{x:ne[0],y:ne[1]}}),Ot&&Ot.emit({originalEvent:q,type:"tapdragover",position:{x:ne[0],y:ne[1]}})),e.touchData.last=Ot,ge)for(var tr=0;tr<ne.length;tr++)ne[tr]&&e.touchData.startPosition[tr]&&ve&&(e.touchData.singleTouchMoved=!0);if(ge&&(xt==null||xt.pannable())&&Te.panningEnabled()&&Te.userPanningEnabled()){var we=l(xt,e.touchData.starts);we&&(q.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=V1(e.touchData.startPosition)),e.swipePanning?(Te.panBy({x:Ee[0]*ie,y:Ee[1]*ie}),Te.emit("dragpan")):ve&&(e.swipePanning=!0,Te.panBy({x:Pe*ie,y:Ye*ie}),Te.emit("dragpan"),xt&&(xt.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var pe=e.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ne[0]=pe[0],ne[1]=pe[1]}}for(var ke=0;ke<ne.length;ke++)Re[ke]=ne[ke];ge&&q.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var j;e.registerBinding(t,"touchcancel",j=function(q){var ge=e.touchData.start;e.touchData.capture=!1,ge&&ge.unactivate()});var te,re,Se,ue;if(e.registerBinding(t,"touchend",te=function(q){var ge=e.touchData.start,le=e.touchData.capture;if(le)q.touches.length===0&&(e.touchData.capture=!1),q.preventDefault();else return;var Te=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var ne=e.cy,Re=ne.zoom(),ie=e.touchData.now,pe=e.touchData.earlier;if(q.touches[0]){var xe=e.projectIntoViewport(q.touches[0].clientX,q.touches[0].clientY);ie[0]=xe[0],ie[1]=xe[1]}if(q.touches[1]){var xe=e.projectIntoViewport(q.touches[1].clientX,q.touches[1].clientY);ie[2]=xe[0],ie[3]=xe[1]}if(q.touches[2]){var xe=e.projectIntoViewport(q.touches[2].clientX,q.touches[2].clientY);ie[4]=xe[0],ie[5]=xe[1]}ge&&ge.unactivate();var ve;if(e.touchData.cxt){if(ve={originalEvent:q,type:"cxttapend",position:{x:ie[0],y:ie[1]}},ge?ge.emit(ve):ne.emit(ve),!e.touchData.cxtDragged){var Ee={originalEvent:q,type:"cxttap",position:{x:ie[0],y:ie[1]}};ge?ge.emit(Ee):ne.emit(Ee)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!q.touches[2]&&ne.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var ke=ne.collection(e.getAllInBox(Te[0],Te[1],Te[2],Te[3]));Te[0]=void 0,Te[1]=void 0,Te[2]=void 0,Te[3]=void 0,Te[4]=0,e.redrawHint("select",!0),ne.emit({type:"boxend",originalEvent:q,position:{x:ie[0],y:ie[1]}});var Pe=function(Pt){return Pt.selectable()&&!Pt.selected()};ke.emit("box").stdFilter(Pe).select().emit("boxselect"),ke.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(ge!=null&&ge.unactivate(),q.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!q.touches[1]){if(!q.touches[0]){if(!q.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Oe=e.dragData.touchDragEles;if(ge!=null){var Ye=ge._private.grabbed;x(Oe),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Ye&&(ge.emit("freeon"),Oe.emit("free"),e.dragData.didDrag&&(ge.emit("dragfreeon"),Oe.emit("dragfree"))),a(ge,["touchend","tapend","vmouseup","tapdragout"],q,{x:ie[0],y:ie[1]}),ge.unactivate(),e.touchData.start=null}else{var Je=e.findNearestElement(ie[0],ie[1],!0,!0);a(Je,["touchend","tapend","vmouseup","tapdragout"],q,{x:ie[0],y:ie[1]})}var Ct=e.touchData.startPosition[0]-ie[0],dt=Ct*Ct,ct=e.touchData.startPosition[1]-ie[1],qe=ct*ct,je=dt+qe,ht=je*Re*Re;e.touchData.singleTouchMoved||(ge||ne.$(":selected").unselect(["tapunselect"]),a(ge,["tap","vclick"],q,{x:ie[0],y:ie[1]}),re=!1,q.timeStamp-ue<=ne.multiClickDebounceTime()?(Se&&clearTimeout(Se),re=!0,ue=null,a(ge,["dbltap","vdblclick"],q,{x:ie[0],y:ie[1]})):(Se=setTimeout(function(){re||a(ge,["onetap","voneclick"],q,{x:ie[0],y:ie[1]})},ne.multiClickDebounceTime()),ue=q.timeStamp)),ge!=null&&!e.dragData.didDrag&&ge._private.selectable&&ht<e.touchTapThreshold2&&!e.pinching&&(ne.selectionType()==="single"?(ne.$(r).unmerge(ge).unselect(["tapunselect"]),ge.select(["tapselect"])):ge.selected()?ge.unselect(["tapunselect"]):ge.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var Ke=0;Ke<ie.length;Ke++)pe[Ke]=ie[Ke];e.dragData.didDrag=!1,q.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),q.touches.length<2&&(q.touches.length===1&&(e.touchData.startGPosition=[q.touches[0].clientX,q.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var se=[],fe=function(q){return{clientX:q.clientX,clientY:q.clientY,force:1,identifier:q.pointerId,pageX:q.pageX,pageY:q.pageY,radiusX:q.width/2,radiusY:q.height/2,screenX:q.screenX,screenY:q.screenY,target:q.target}},ye=function(q){return{event:q,touch:fe(q)}},he=function(q){se.push(ye(q))},Ae=function(q){for(var ge=0;ge<se.length;ge++){var le=se[ge];if(le.event.pointerId===q.pointerId){se.splice(ge,1);return}}},Ce=function(q){var ge=se.filter(function(le){return le.event.pointerId===q.pointerId})[0];ge.event=q,ge.touch=fe(q)},Ie=function(q){q.touches=se.map(function(ge){return ge.touch})},Le=function(q){return q.pointerType==="mouse"||q.pointerType===4};e.registerBinding(e.container,"pointerdown",function(ae){Le(ae)||(ae.preventDefault(),he(ae),Ie(ae),K(ae))}),e.registerBinding(e.container,"pointerup",function(ae){Le(ae)||(Ae(ae),Ie(ae),te(ae))}),e.registerBinding(e.container,"pointercancel",function(ae){Le(ae)||(Ae(ae),Ie(ae),j(ae))}),e.registerBinding(e.container,"pointermove",function(ae){Le(ae)||(ae.preventDefault(),Ce(ae),Ie(ae),z(ae))})}};var Xh={};Xh.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,a,o,l,c,u){this.renderer.nodeShapeImpl("polygon",n,a,o,l,c,this.points)},intersectLine:function(n,a,o,l,c,u,h,f){return wx(c,u,this.points,n,a,o/2,l/2,h)},checkPoint:function(n,a,o,l,c,u,h,f){return Lh(n,a,this.points,u,h,l,c,[0,-1],o)}}};Xh.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,a,o,l){this.renderer.nodeShapeImpl(this.name,t,r,n,a,o)},intersectLine:function(t,r,n,a,o,l,c,u){return uAt(o,l,t,r,n/2+c,a/2+c)},checkPoint:function(t,r,n,a,o,l,c,u){return Nd(t,r,a,o,l,c,n)}}};Xh.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,a,o,l,c,u,h){if(u[h]!==void 0&&u[h+"-cx"]===n&&u[h+"-cy"]===a)return u[h];u[h]=new Array(t.length/2),u[h+"-cx"]=n,u[h+"-cy"]=a;var f=o/2,d=l/2;c=c==="auto"?Cme(o,l):c;for(var p=new Array(t.length/2),g=0;g<t.length/2;g++)p[g]={x:n+f*t[g*2],y:a+d*t[g*2+1]};var m,y,b,x,T=p.length;for(y=p[T-1],m=0;m<T;m++)b=p[m%T],x=p[(m+1)%T],u[h][m]=rF(y,b,x,c),y=b,b=x;return u[h]},draw:function(n,a,o,l,c,u,h){this.renderer.nodeShapeImpl("round-polygon",n,a,o,l,c,this.points,this.getOrCreateCorners(a,o,l,c,u,h,"drawCorners"))},intersectLine:function(n,a,o,l,c,u,h,f,d){return hAt(c,u,this.points,n,a,o,l,h,this.getOrCreateCorners(n,a,o,l,f,d,"corners"))},checkPoint:function(n,a,o,l,c,u,h,f,d){return cAt(n,a,this.points,u,h,l,c,this.getOrCreateCorners(u,h,l,c,f,d,"corners"))}}};Xh.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:gs(4,0),draw:function(t,r,n,a,o,l){this.renderer.nodeShapeImpl(this.name,t,r,n,a,o,this.points,l)},intersectLine:function(t,r,n,a,o,l,c,u){return Ame(o,l,t,r,n,a,c,u)},checkPoint:function(t,r,n,a,o,l,c,u){var h=a/2,f=o/2;u=u==="auto"?xp(a,o):u,u=Math.min(h,f,u);var d=u*2;return!!(Lh(t,r,this.points,l,c,a,o-d,[0,-1],n)||Lh(t,r,this.points,l,c,a-d,o,[0,-1],n)||Nd(t,r,d,d,l-h+u,c-f+u,n)||Nd(t,r,d,d,l+h-u,c-f+u,n)||Nd(t,r,d,d,l+h-u,c+f-u,n)||Nd(t,r,d,d,l-h+u,c+f-u,n))}}};Xh.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:GP(),points:gs(4,0),draw:function(t,r,n,a,o,l){this.renderer.nodeShapeImpl(this.name,t,r,n,a,o,null,l)},generateCutTrianglePts:function(t,r,n,a,o){var l=o==="auto"?this.cornerLength:o,c=r/2,u=t/2,h=n-u,f=n+u,d=a-c,p=a+c;return{topLeft:[h,d+l,h+l,d,h+l,d+l],topRight:[f-l,d,f,d+l,f-l,d+l],bottomRight:[f,p-l,f-l,p,f-l,p-l],bottomLeft:[h+l,p,h,p-l,h+l,p-l]}},intersectLine:function(t,r,n,a,o,l,c,u){var h=this.generateCutTrianglePts(n+2*c,a+2*c,t,r,u),f=[].concat.apply([],[h.topLeft.splice(0,4),h.topRight.splice(0,4),h.bottomRight.splice(0,4),h.bottomLeft.splice(0,4)]);return wx(o,l,f,t,r)},checkPoint:function(t,r,n,a,o,l,c,u){var h=u==="auto"?this.cornerLength:u;if(Lh(t,r,this.points,l,c,a,o-2*h,[0,-1],n)||Lh(t,r,this.points,l,c,a-2*h,o,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,o,l,c);return Zs(t,r,f.topLeft)||Zs(t,r,f.topRight)||Zs(t,r,f.bottomRight)||Zs(t,r,f.bottomLeft)}}};Xh.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:gs(4,0),draw:function(t,r,n,a,o,l){this.renderer.nodeShapeImpl(this.name,t,r,n,a,o)},intersectLine:function(t,r,n,a,o,l,c,u){var h=.15,f=.5,d=.85,p=this.generateBarrelBezierPts(n+2*c,a+2*c,t,r),g=function(b){var x=wg({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},h),T=wg({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},f),w=wg({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},d);return[b[0],b[1],x.x,x.y,T.x,T.y,w.x,w.y,b[4],b[5]]},m=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return wx(o,l,m,t,r)},generateBarrelBezierPts:function(t,r,n,a){var o=r/2,l=t/2,c=n-l,u=n+l,h=a-o,f=a+o,d=z_(t,r),p=d.heightOffset,g=d.widthOffset,m=d.ctrlPtOffsetPct*t,y={topLeft:[c,h+p,c+m,h,c+g,h],topRight:[u-g,h,u-m,h,u,h+p],bottomRight:[u,f-p,u-m,f,u-g,f],bottomLeft:[c+g,f,c+m,f,c,f-p]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(t,r,n,a,o,l,c,u){var h=z_(a,o),f=h.heightOffset,d=h.widthOffset;if(Lh(t,r,this.points,l,c,a,o-2*f,[0,-1],n)||Lh(t,r,this.points,l,c,a-2*d,o,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(a,o,l,c),g=function(O,I,_){var R=_[4],M=_[2],$=_[0],N=_[5],P=_[1],F=Math.min(R,$),L=Math.max(R,$),D=Math.min(N,P),B=Math.max(N,P);if(F<=O&&O<=L&&D<=I&&I<=B){var H=fAt(R,M,$),U=aAt(H[0],H[1],H[2],O),G=U.filter(function(W){return 0<=W&&W<=1});if(G.length>0)return G[0]}return null},m=Object.keys(p),y=0;y<m.length;y++){var b=m[y],x=p[b],T=g(t,r,x);if(T!=null){var w=x[5],E=x[3],S=x[1],C=Ji(w,E,S,T);if(x.isTop&&C<=r||x.isBottom&&r<=C)return!0}}return!1}}};Xh.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:gs(4,0),draw:function(t,r,n,a,o,l){this.renderer.nodeShapeImpl(this.name,t,r,n,a,o,this.points,l)},intersectLine:function(t,r,n,a,o,l,c,u){var h=t-(n/2+c),f=r-(a/2+c),d=f,p=t+(n/2+c),g=N0(o,l,t,r,h,f,p,d,!1);return g.length>0?g:Ame(o,l,t,r,n,a,c,u)},checkPoint:function(t,r,n,a,o,l,c,u){u=u==="auto"?xp(a,o):u;var h=2*u;if(Lh(t,r,this.points,l,c,a,o-h,[0,-1],n)||Lh(t,r,this.points,l,c,a-h,o,[0,-1],n))return!0;var f=a/2+2*n,d=o/2+2*n,p=[l-f,c-d,l-f,c,l+f,c,l+f,c-d];return!!(Zs(t,r,p)||Nd(t,r,h,h,l+a/2-u,c+o/2-u,n)||Nd(t,r,h,h,l-a/2+u,c+o/2-u,n))}}};Xh.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",gs(3,0)),this.generateRoundPolygon("round-triangle",gs(3,0)),this.generatePolygon("rectangle",gs(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",gs(5,0)),this.generateRoundPolygon("round-pentagon",gs(5,0)),this.generatePolygon("hexagon",gs(6,0)),this.generateRoundPolygon("round-hexagon",gs(6,0)),this.generatePolygon("heptagon",gs(7,0)),this.generateRoundPolygon("round-heptagon",gs(7,0)),this.generatePolygon("octagon",gs(8,0)),this.generateRoundPolygon("round-octagon",gs(8,0));var n=new Array(20);{var a=W_(5,0),o=W_(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var c=0;c<o.length/2;c++)o[c*2]*=l,o[c*2+1]*=l;for(var c=0;c<20/4;c++)n[c*4]=a[c*2],n[c*4+1]=a[c*2+1],n[c*4+2]=o[c*2],n[c*4+3]=o[c*2+1]}n=kme(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(h){var f=h.join("$"),d="polygon-"+f,p;return(p=this[d])?p:t.generatePolygon(d,h)}};var X3={};X3.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};X3.redraw=function(e){e=e||xme();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};X3.beforeRender=function(e,t){if(!this.destroyed){t==null&&Vn("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,a){return a.priority-n.priority})}};var FX=function(t,r,n){for(var a=t.beforeRenderCallbacks,o=0;o<a.length;o++)a[o].fn(r,n)};X3.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function n(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){FX(e,!0,a);var o=Nh();e.render(e.renderOptions);var l=e.lastDrawTime=Nh();e.averageRedrawTime===void 0&&(e.averageRedrawTime=l-o),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var c=l-o;e.redrawTotalTime+=c,e.lastRedrawTime=c,e.averageRedrawTime=e.averageRedrawTime/2+c/2,e.requestedFrame=!1}else FX(e,!1,a);e.skipFrame=!1,bS(n)}};bS(r)}};var Y7t=function(t){this.init(t)},Ave=Y7t,ty=Ave.prototype;ty.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ty.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var a=n.document,o=a.head,l="__________cytoscape_stylesheet",c="__________cytoscape_container",u=a.getElementById(l)!=null;if(r.className.indexOf(c)<0&&(r.className=(r.className||"")+" "+c),!u){var h=a.createElement("style");h.id=l,h.textContent="."+c+" { position: relative; }",o.insertBefore(h,o.children[0])}var f=n.getComputedStyle(r),d=f.getPropertyValue("position");d==="static"&&Qr("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=bt(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};ty.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ty.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};ty.isHeadless=function(){return!1};[tF,Eve,Sve,ey,Xh,X3].forEach(function(e){Jt(ty,e)});var $7=1e3/60,kve={setupDequeueing:function(t){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=G3(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),l=function(h,f){var d=Nh(),p=a.averageRedrawTime,g=a.lastRedrawTime,m=[],y=a.cy.extent(),b=a.getPixelRatio();for(h||a.flushRenderedStyleQueue();;){var x=Nh(),T=x-d,w=x-f;if(g<$7){var E=$7-(h?p:0);if(w>=t.deqFastCost*E)break}else if(h){if(T>=t.deqCost*g||T>=t.deqAvgCost*p)break}else if(w>=t.deqNoDrawCost*$7)break;var S=t.deq(n,b,y);if(S.length>0)for(var C=0;C<S.length;C++)m.push(S[C]);else break}m.length>0&&(t.onDeqd(n,m),!h&&t.shouldRedraw(n,m,b,y)&&o())},c=t.priority||HP;a.beforeRender(l,c(n))}}}},V7t=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xS;Of(this,e),this.idsByKey=new tu,this.keyForId=new tu,this.cachesByLvl=new tu,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return _f(e,[{key:"getIdsFor",value:function(r){r==null&&Vn("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new qv,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),o=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),o=this.getKey(r);return a!==o}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,o=n.get(r);return o||(o=new tu,n.set(r,o),a.push(r)),o}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),o=this.getCache(a,n);return o!=null&&this.updateKeyMappingFor(r),o}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),o=this.getCache(a,n);return o}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var o=this.getKey(r);this.setCache(o,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var o=this.doesEleInvalidateKey(r);return o&&this.invalidateKey(a),o||this.getNumberOfIdsForKey(a)===0}}]),e}(),BX=25,L4=50,qw=-4,eN=3,Cve=7.99,q7t=8,j7t=1024,X7t=1024,K7t=1024,Z7t=.2,Q7t=.8,J7t=10,eIt=.15,tIt=.1,rIt=.9,nIt=.9,iIt=100,aIt=1,q1={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},sIt=fa({getKey:null,doesEleInvalidateKey:xS,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:vme,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),E2=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var a=sIt(r);Jt(n,a),n.lookup=new V7t(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Zi=E2.prototype;Zi.reasons=q1;Zi.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Zi.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Zi.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Y3(function(r,n){return n.reqs-r.reqs});return t};Zi.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Zi.getElement=function(e,t,r,n,a){var o=this,l=this.renderer,c=l.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(WP(c*r))),n<qw)n=qw;else if(c>=Cve||n>eN)return null;var h=Math.pow(2,n),f=t.h*h,d=t.w*h,p=l.eleTextBiggerThanMin(e,h);if(!this.isVisible(e,p))return null;var g=u.get(e,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var m;if(f<=BX?m=BX:f<=L4?m=L4:m=Math.ceil(f/L4)*L4,f>K7t||d>X7t)return null;var y=o.getTextureQueue(m),b=y[y.length-2],x=function(){return o.recycleTexture(m,d)||o.addTexture(m,d)};b||(b=y[y.length-1]),b||(b=x()),b.width-b.usedWidth<d&&(b=x());for(var T=function(F){return F&&F.scaledLabelShown===p},w=a&&a===q1.dequeue,E=a&&a===q1.highQuality,S=a&&a===q1.downscale,C,k=n+1;k<=eN;k++){var O=u.get(e,k);if(O){C=O;break}}var I=C&&C.level===n+1?C:null,_=function(){b.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,b.usedWidth,0,d,f)};if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,d,m),T(I))_();else if(T(C))if(E){for(var R=C.level;R>n;R--)I=o.getElement(e,t,r,R,q1.downscale);_()}else return o.queueElement(e,C.level-1),C;else{var M;if(!w&&!E&&!S)for(var $=n-1;$>=qw;$--){var N=u.get(e,$);if(N){M=N;break}}if(T(M))return o.queueElement(e,n),M;b.context.translate(b.usedWidth,0),b.context.scale(h,h),this.drawElement(b.context,e,t,p,!1),b.context.scale(1/h,1/h),b.context.translate(-b.usedWidth,0)}return g={x:b.usedWidth,texture:b,level:n,scale:h,width:d,height:f,scaledLabelShown:p},b.usedWidth+=Math.ceil(d+q7t),b.eleCaches.push(g),u.set(e,n,g),o.checkTextureFullness(b),g};Zi.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Zi.invalidateElement=function(e){var t=this,r=t.lookup,n=[],a=r.isInvalid(e);if(a){for(var o=qw;o<=eN;o++){var l=r.getForCachedKey(e,o);l&&n.push(l)}var c=r.invalidate(e);if(c)for(var u=0;u<n.length;u++){var h=n[u],f=h.texture;f.invalidatedWidth+=h.width,h.invalidated=!0,t.checkTextureUtility(f)}t.removeFromQueue(e)}};Zi.checkTextureUtility=function(e){e.invalidatedWidth>=Z7t*e.width&&this.retireTexture(e)};Zi.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>Q7t&&e.fullnessChecks>=J7t?uf(r,e):e.fullnessChecks++};Zi.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),a=this.lookup;uf(n,e),e.retired=!0;for(var o=e.eleCaches,l=0;l<o.length;l++){var c=o[l];a.deleteCache(c.key,c.level)}UP(o);var u=t.getRetiredTextureQueue(r);u.push(e)};Zi.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(j7t,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Zi.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),o=0;o<a.length;o++){var l=a[o];if(l.width>=t)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,UP(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),uf(a,l),n.push(l),l}};Zi.queueElement=function(e,t){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),o=this.getKey(e),l=a[o];if(l)l.level=Math.max(l.level,t),l.eles.merge(e),l.reqs++,n.updateItem(l);else{var c={eles:e.spawn().merge(e),level:t,reqs:1,key:o};n.push(c),a[o]=c}};Zi.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=[],o=t.lookup,l=0;l<aIt&&r.size()>0;l++){var c=r.pop(),u=c.key,h=c.eles[0],f=o.hasCache(h,c.level);if(n[u]=null,f)continue;a.push(c);var d=t.getBoundingBox(h);t.getElement(h,d,e,c.level,q1.dequeue)}return a};Zi.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=this.getKey(e),o=n[a];o!=null&&(o.eles.length===1?(o.reqs=$P,r.updateItem(o),r.pop(),n[a]=null):o.eles.unmerge(e))};Zi.onDequeue=function(e){this.onDequeues.push(e)};Zi.offDequeue=function(e){uf(this.onDequeues,e)};Zi.setupDequeueing=kve.setupDequeueing({deqRedrawThreshold:iIt,deqCost:eIt,deqAvgCost:tIt,deqNoDrawCost:rIt,deqFastCost:nIt,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var a=t.onDequeues[n];a(r)}},shouldRedraw:function(t,r,n,a){for(var o=0;o<r.length;o++)for(var l=r[o].eles,c=0;c<l.length;c++){var u=l[c].boundingBox();if(zP(u,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var oIt=1,ib=-4,IS=2,lIt=3.99,cIt=50,uIt=50,hIt=.15,fIt=.1,dIt=.9,pIt=.9,gIt=1,$X=250,mIt=4e3*4e3,HX=32767,vIt=!0,Ive=function(t){var r=this,n=r.renderer=t,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Nh()-2*$X,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=G3(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},uIt),n.beforeRender(function(l,c){c-r.lastInvalidationTime<=$X?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(c,u){return u.reqs-c.reqs};r.layersQueue=new Y3(o),r.setupDequeueing()},La=Ive.prototype,UX=0,yIt=Math.pow(2,53)-1;La.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),a=Math.ceil(e.h*r),o=this.renderer.makeOffscreenCanvas(n,a),l={id:UX=++UX%yIt,bb:e,level:t,width:n,height:a,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},c=l.context,u=-l.bb.x1,h=-l.bb.y1;return c.scale(r,r),c.translate(u,h),l};La.getLayers=function(e,t,r){var n=this,a=n.renderer,o=a.cy,l=o.zoom(),c=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(WP(l*t)),r<ib)r=ib;else if(l>=lIt||r>IS)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,h=Math.pow(2,r),f=u[r]=u[r]||[],d,p=n.levelIsComplete(r,e),g,m=function(){var _=function(P){if(n.validateLayersElesOrdering(P,e),n.levelIsComplete(P,e))return g=u[P],!0},R=function(P){if(!g)for(var F=r+P;ib<=F&&F<=IS&&!_(F);F+=P);};R(1),R(-1);for(var M=f.length-1;M>=0;M--){var $=f[M];$.invalid&&uf(f,$)}};if(!p)m();else return f;var y=function(){if(!d){d=co();for(var _=0;_<e.length;_++)Eme(d,e[_].boundingBox())}return d},b=function(_){_=_||{};var R=_.after;y();var M=Math.ceil(d.w*h),$=Math.ceil(d.h*h);if(M>HX||$>HX)return null;var N=M*$;if(N>mIt)return null;var P=n.makeLayer(d,r);if(R!=null){var F=f.indexOf(R)+1;f.splice(F,0,P)}else(_.insert===void 0||_.insert)&&f.unshift(P);return P};if(n.skipping&&!c)return null;for(var x=null,T=e.length/oIt,w=!c,E=0;E<e.length;E++){var S=e[E],C=S._private.rscratch,k=C.imgLayerCaches=C.imgLayerCaches||{},O=k[r];if(O){x=O;continue}if((!x||x.eles.length>=T||!Sme(x.bb,S.boundingBox()))&&(x=b({insert:!0,after:x}),!x))return null;g||w?n.queueLayer(x,S):n.drawEleInLayer(x,S,r,t),x.eles.push(S),k[r]=x}return g||(w?null:f)};La.getEleLevelForLayerLevel=function(e,t){return e};La.drawEleInLayer=function(e,t,r,n){var a=this,o=this.renderer,l=e.context,c=t.boundingBox();c.w===0||c.h===0||!t.visible()||(r=a.getEleLevelForLayerLevel(r,n),o.setImgSmoothing(l,!1),o.drawCachedElement(l,t,null,null,r,vIt),o.setImgSmoothing(l,!0))};La.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,o=0;o<n.length;o++){var l=n[o];if(l.reqs>0||l.invalid)return!1;a+=l.eles.length}return a===t.length};La.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],o=-1,l=0;l<t.length;l++)if(a.eles[0]===t[l]){o=l;break}if(o<0){this.invalidateLayer(a);continue}for(var c=o,l=0;l<a.eles.length;l++)if(a.eles[l]!==t[c+l]){this.invalidateLayer(a);break}}};La.updateElementsInLayers=function(e,t){for(var r=this,n=W3(e[0]),a=0;a<e.length;a++)for(var o=n?null:e[a],l=n?e[a]:e[a].ele,c=l._private.rscratch,u=c.imgLayerCaches=c.imgLayerCaches||{},h=ib;h<=IS;h++){var f=u[h];f&&(o&&r.getEleLevelForLayerLevel(f.level)!==o.level||t(f,l,o))}};La.haveLayers=function(){for(var e=this,t=!1,r=ib;r<=IS;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};La.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Nh(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,a,o){t.invalidateLayer(n)}))};La.invalidateLayer=function(e){if(this.lastInvalidationTime=Nh(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];uf(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var o=r[a]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}};La.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,a,o){var l=n.replacement;if(l||(l=n.replacement=t.makeLayer(n.bb,n.level),l.replaces=n,l.eles=n.eles),!l.reqs)for(var c=0;c<l.eles.length;c++)t.queueLayer(l,l.eles[c])})};La.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};La.queueLayer=function(e,t){var r=this,n=r.layersQueue,a=e.elesQueue,o=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;a.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};La.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],a=0;a<gIt&&r.size()!==0;){var o=r.peek();if(o.replacement){r.pop();continue}if(o.replaces&&o!==o.replaces.replacement){r.pop();continue}if(o.invalid){r.pop();continue}var l=o.elesQueue.shift();l&&(t.drawEleInLayer(o,l,o.level,e),a++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}return n};La.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=e;for(var o=0;o<e.eles.length;o++){var l=e.eles[o]._private,c=l.imgLayerCaches=l.imgLayerCaches||{};c&&(c[e.level]=e)}t.requestRedraw()}};La.requestRedraw=G3(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);La.setupDequeueing=kve.setupDequeueing({deqRedrawThreshold:cIt,deqCost:hIt,deqAvgCost:fIt,deqNoDrawCost:dIt,deqFastCost:pIt,deq:function(t,r){return t.dequeue(r)},onDeqd:HP,shouldRedraw:vme,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Rve={},WX;function bIt(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function xIt(e,t,r){for(var n,a=0;a<t.length;a++){var o=t[a];a===0&&(n=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function zX(e,t,r){e.beginPath&&e.beginPath();for(var n=t,a=0;a<n.length;a++){var o=n[a];e.lineTo(o.x,o.y)}var l=r,c=r[0];e.moveTo(c.x,c.y);for(var a=1;a<l.length;a++){var o=l[a];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()}function TIt(e,t,r,n,a){e.beginPath&&e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1);var o=t,l=o[0];e.moveTo(l.x,l.y);for(var c=0;c<o.length;c++){var u=o[c];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function wIt(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}Rve.arrowShapeImpl=function(e){return(WX||(WX={polygon:bIt,"triangle-backcurve":xIt,"triangle-tee":zX,"circle-triangle":TIt,"triangle-cross":zX,circle:wIt}))[e]};var Nu={};Nu.drawElement=function(e,t,r,n,a,o){var l=this;t.isNode()?l.drawNode(e,t,r,n,a,o):l.drawEdge(e,t,r,n,a,o)};Nu.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};Nu.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};Nu.drawCachedElementPortion=function(e,t,r,n,a,o,l,c){var u=this,h=r.getBoundingBox(t);if(!(h.w===0||h.h===0)){var f=r.getElement(t,h,n,a,o);if(f!=null){var d=c(u,t);if(d===0)return;var p=l(u,t),g=h.x1,m=h.y1,y=h.w,b=h.h,x,T,w,E,S;if(p!==0){var C=r.getRotationPoint(t);w=C.x,E=C.y,e.translate(w,E),e.rotate(p),S=u.getImgSmoothing(e),S||u.setImgSmoothing(e,!0);var k=r.getRotationOffset(t);x=k.x,T=k.y}else x=g,T=m;var O;d!==1&&(O=e.globalAlpha,e.globalAlpha=O*d),e.drawImage(f.texture.canvas,f.x,0,f.width,f.height,x,T,y,b),d!==1&&(e.globalAlpha=O),p!==0&&(e.rotate(-p),e.translate(-w,-E),S||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var EIt=function(){return 0},SIt=function(t,r){return t.getTextAngle(r,null)},AIt=function(t,r){return t.getTextAngle(r,"source")},kIt=function(t,r){return t.getTextAngle(r,"target")},CIt=function(t,r){return r.effectiveOpacity()},H7=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Nu.drawCachedElement=function(e,t,r,n,a,o){var l=this,c=l.data,u=c.eleTxrCache,h=c.lblTxrCache,f=c.slbTxrCache,d=c.tlbTxrCache,p=t.boundingBox(),g=o===!0?u.reasons.highQuality:null;if(!(p.w===0||p.h===0||!t.visible())&&(!n||zP(p,n))){var m=t.isEdge(),y=t.element()._private.rscratch.badLine;l.drawElementUnderlay(e,t),l.drawCachedElementPortion(e,t,u,r,a,g,EIt,CIt),(!m||!y)&&l.drawCachedElementPortion(e,t,h,r,a,g,SIt,H7),m&&!y&&(l.drawCachedElementPortion(e,t,f,r,a,g,AIt,H7),l.drawCachedElementPortion(e,t,d,r,a,g,kIt,H7)),l.drawElementOverlay(e,t)}};Nu.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var a=t[n];r.drawElement(e,a)}};Nu.drawCachedElements=function(e,t,r,n){for(var a=this,o=0;o<t.length;o++){var l=t[o];a.drawCachedElement(e,l,r,n)}};Nu.drawCachedNodes=function(e,t,r,n){for(var a=this,o=0;o<t.length;o++){var l=t[o];l.isNode()&&a.drawCachedElement(e,l,r,n)}};Nu.drawLayeredElements=function(e,t,r,n){var a=this,o=a.data.lyrTxrCache.getLayers(t,r);if(o)for(var l=0;l<o.length;l++){var c=o[l],u=c.bb;u.w===0||u.h===0||e.drawImage(c.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(e,t,r,n)};var Kh={};Kh.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,c=t._private.rscratch;if(!(o&&!t.visible())&&!(c.badLine||c.allpts==null||isNaN(c.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var h=o?t.pstyle("opacity").value:1,f=o?t.pstyle("line-opacity").value:1,d=t.pstyle("curve-style").value,p=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,b=t.pstyle("line-outline-color").value,x=h*f,T=h*f,w=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;d==="straight-triangle"?(l.eleStrokeStyle(e,t,P),l.drawEdgeTrianglePath(t,e,c.allpts)):(e.lineWidth=g,e.lineCap=m,l.eleStrokeStyle(e,t,P),l.drawEdgePath(t,e,c.allpts,p),e.lineCap="butt")},E=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;if(e.lineWidth=g+y,e.lineCap=m,y>0)l.colorStrokeStyle(e,b[0],b[1],b[2],P);else{e.lineCap="butt";return}d==="straight-triangle"?l.drawEdgeTrianglePath(t,e,c.allpts):(l.drawEdgePath(t,e,c.allpts,p),e.lineCap="butt")},S=function(){a&&l.drawEdgeOverlay(e,t)},C=function(){a&&l.drawEdgeUnderlay(e,t)},k=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;l.drawArrowheads(e,t,P)},O=function(){l.drawElementText(e,t,null,n)};e.lineJoin="round";var I=t.pstyle("ghost").value==="yes";if(I){var _=t.pstyle("ghost-offset-x").pfValue,R=t.pstyle("ghost-offset-y").pfValue,M=t.pstyle("ghost-opacity").value,$=x*M;e.translate(_,R),w($),k($),e.translate(-_,-R)}else E();C(),w(),k(),S(),O(),r&&e.translate(u.x1,u.y1)}};var Ove=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(t,"-opacity")).value;if(a!==0){var o=this,l=o.usePaths(),c=n._private.rscratch,u=n.pstyle("".concat(t,"-padding")).pfValue,h=2*u,f=n.pstyle("".concat(t,"-color")).value;r.lineWidth=h,c.edgeType==="self"&&!l?r.lineCap="butt":r.lineCap="round",o.colorStrokeStyle(r,f[0],f[1],f[2],a),o.drawEdgePath(n,r,c.allpts,"solid")}}}};Kh.drawEdgeOverlay=Ove("overlay");Kh.drawEdgeUnderlay=Ove("underlay");Kh.drawEdgePath=function(e,t,r,n){var a=e._private.rscratch,o=t,l,c=!1,u=this.usePaths(),h=e.pstyle("line-dash-pattern").pfValue,f=e.pstyle("line-dash-offset").pfValue;if(u){var d=r.join("$"),p=a.pathCacheKey&&a.pathCacheKey===d;p?(l=t=a.pathCache,c=!0):(l=t=new Path2D,a.pathCacheKey=d,a.pathCache=l)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(h),o.lineDashOffset=f;break;case"solid":o.setLineDash([]);break}if(!c&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<r.length;g+=4)t.quadraticCurveTo(r[g],r[g+1],r[g+2],r[g+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(a.isRound){var y=Mo(a.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var x=b.value;yve(t,x)}}catch(w){y.e(w)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var T=2;T+1<r.length;T+=2)t.lineTo(r[T],r[T+1]);break}t=o,u?t.stroke(l):t.stroke(),t.setLineDash&&t.setLineDash([])};Kh.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var o=[r[a+2]-r[a],r[a+3]-r[a+1]],l=Math.sqrt(o[0]*o[0]+o[1]*o[1]),c=[o[1]/l,-o[0]/l],u=[c[0]*n/2,c[1]*n/2];t.beginPath(),t.moveTo(r[a]-u[0],r[a+1]-u[1]),t.lineTo(r[a]+u[0],r[a+1]+u[1]),t.lineTo(r[a+2],r[a+3]),t.closePath(),t.fill()}};Kh.drawArrowheads=function(e,t,r){var n=t._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Kh.drawArrowhead=function(e,t,r,n,a,o,l){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(o)||o==null)){var c=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=t.pstyle(r+"-arrow-fill").value,d=t.pstyle("width").pfValue,p=t.pstyle(r+"-arrow-width"),g=p.value==="match-line"?d:p.pfValue;p.units==="%"&&(g*=d);var m=t.pstyle("opacity").value;l===void 0&&(l=m);var y=e.globalCompositeOperation;(l!==1||f==="hollow")&&(e.globalCompositeOperation="destination-out",c.colorFillStyle(e,255,255,255,1),c.colorStrokeStyle(e,255,255,255,1),c.drawArrowShape(t,e,h,d,u,g,n,a,o),e.globalCompositeOperation=y);var b=t.pstyle(r+"-arrow-color").value;c.colorFillStyle(e,b[0],b[1],b[2],l),c.colorStrokeStyle(e,b[0],b[1],b[2],l),c.drawArrowShape(t,e,f,d,u,g,n,a,o)}}};Kh.drawArrowShape=function(e,t,r,n,a,o,l,c,u){var h=this,f=this.usePaths()&&a!=="triangle-cross",d=!1,p,g=t,m={x:l,y:c},y=e.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),x=h.arrowShapes[a];if(f){var T=h.arrowPathCache=h.arrowPathCache||[],w=cf(a),E=T[w];E!=null?(p=t=E,d=!0):(p=t=new Path2D,T[w]=p)}d||(t.beginPath&&t.beginPath(),f?x.draw(t,1,0,{x:0,y:0},1):x.draw(t,b,u,m,n),t.closePath&&t.closePath()),t=g,f&&(t.translate(l,c),t.rotate(u),t.scale(b,b)),(r==="filled"||r==="both")&&(f?t.fill(p):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=o/(f?b:1),t.lineJoin="miter",f?t.stroke(p):t.stroke()),f&&(t.scale(1/b,1/b),t.rotate(-u),t.translate(-l,-c))};var iF={};iF.safeDrawImage=function(e,t,r,n,a,o,l,c,u,h){if(!(a<=0||o<=0||u<=0||h<=0))try{e.drawImage(t,r,n,a,o,l,c,u,h)}catch(f){Qr(f)}};iF.drawInscribedImage=function(e,t,r,n,a){var o=this,l=r.position(),c=l.x,u=l.y,h=r.cy().style(),f=h.getIndexedStyle.bind(h),d=f(r,"background-fit","value",n),p=f(r,"background-repeat","value",n),g=r.width(),m=r.height(),y=r.padding()*2,b=g+(f(r,"background-width-relative-to","value",n)==="inner"?0:y),x=m+(f(r,"background-height-relative-to","value",n)==="inner"?0:y),T=r._private.rscratch,w=f(r,"background-clip","value",n),E=w==="node",S=f(r,"background-image-opacity","value",n)*a,C=f(r,"background-image-smoothing","value",n),k=r.pstyle("corner-radius").value;k!=="auto"&&(k=r.pstyle("corner-radius").pfValue);var O=t.width||t.cachedW,I=t.height||t.cachedH;(O==null||I==null)&&(document.body.appendChild(t),O=t.cachedW=t.width||t.offsetWidth,I=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var _=O,R=I;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?_=f(r,"background-width","pfValue",n)*b:_=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?R=f(r,"background-height","pfValue",n)*x:R=f(r,"background-height","pfValue",n)),!(_===0||R===0)){if(d==="contain"){var M=Math.min(b/_,x/R);_*=M,R*=M}else if(d==="cover"){var M=Math.max(b/_,x/R);_*=M,R*=M}var $=c-b/2,N=f(r,"background-position-x","units",n),P=f(r,"background-position-x","pfValue",n);N==="%"?$+=(b-_)*P:$+=P;var F=f(r,"background-offset-x","units",n),L=f(r,"background-offset-x","pfValue",n);F==="%"?$+=(b-_)*L:$+=L;var D=u-x/2,B=f(r,"background-position-y","units",n),H=f(r,"background-position-y","pfValue",n);B==="%"?D+=(x-R)*H:D+=H;var U=f(r,"background-offset-y","units",n),G=f(r,"background-offset-y","pfValue",n);U==="%"?D+=(x-R)*G:D+=G,T.pathCache&&($-=c,D-=u,c=0,u=0);var W=e.globalAlpha;e.globalAlpha=S;var ee=o.getImgSmoothing(e),ce=!1;if(C==="no"&&ee?(o.setImgSmoothing(e,!1),ce=!0):C==="yes"&&!ee&&(o.setImgSmoothing(e,!0),ce=!0),p==="no-repeat")E&&(e.save(),T.pathCache?e.clip(T.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(e,c,u,b,x,k,T),e.clip())),o.safeDrawImage(e,t,0,0,O,I,$,D,_,R),E&&e.restore();else{var Z=e.createPattern(t,p);e.fillStyle=Z,o.nodeShapes[o.getNodeShape(r)].draw(e,c,u,b,x,k,T),e.translate($,D),e.fill(),e.translate(-$,-D)}e.globalAlpha=W,ce&&o.setImgSmoothing(e,ee)}};var qp={};qp.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(WP(r*n));t=Math.pow(2,a)}var o=e.pstyle("font-size").pfValue*t,l=e.pstyle("min-zoomed-font-size").pfValue;return!(o<l)};qp.drawElementText=function(e,t,r,n,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(n==null){if(o&&!l.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var c=t.pstyle("label");if(!c||!c.value)return;var u=l.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var h=t.element()._private.rscratch.badLine,f=t.pstyle("label"),d=t.pstyle("source-label"),p=t.pstyle("target-label");if(h||(!f||!f.value)&&(!d||!d.value)&&(!p||!p.value))return;e.textAlign="center",e.textBaseline="bottom"}var g=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),a==null?(l.drawText(e,t,null,g,o),t.isEdge()&&(l.drawText(e,t,"source",g,o),l.drawText(e,t,"target",g,o))):l.drawText(e,t,a,g,o),r&&e.translate(m.x1,m.y1)};qp.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};qp.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*c,h=t.pstyle("color").value,f=t.pstyle("text-outline-color").value;e.font=n+" "+l+" "+a+" "+o,e.lineJoin="round",this.colorFillStyle(e,h[0],h[1],h[2],c),this.colorStrokeStyle(e,f[0],f[1],f[2],u)};function U7(e,t,r,n,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+a-o),e.quadraticCurveTo(t+n,r+a,t+n-o,r+a),e.lineTo(t+o,r+a),e.quadraticCurveTo(t,r+a,t,r+a-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),l?e.stroke():e.fill()}qp.getTextAngle=function(e,t){var r,n=e._private,a=n.rscratch,o=t?t+"-":"",l=e.pstyle(o+"text-rotation");if(l.strValue==="autorotate"){var c=Jl(a,"labelAngle",t);r=e.isEdge()?c:0}else l.strValue==="none"?r=0:r=l.pfValue;return r};qp.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=t._private,l=o.rscratch,c=a?t.effectiveOpacity():1;if(!(a&&(c===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Jl(l,"labelX",r),h=Jl(l,"labelY",r),f,d,p=this.getLabelText(t,r);if(p!=null&&p!==""&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,a);var g=r?r+"-":"",m=Jl(l,"labelWidth",r),y=Jl(l,"labelHeight",r),b=t.pstyle(g+"text-margin-x").pfValue,x=t.pstyle(g+"text-margin-y").pfValue,T=t.isEdge(),w=t.pstyle("text-halign").value,E=t.pstyle("text-valign").value;T&&(w="center",E="center"),u+=b,h+=x;var S;switch(n?S=this.getTextAngle(t,r):S=0,S!==0&&(f=u,d=h,e.translate(f,d),e.rotate(S),u=0,h=0),E){case"top":break;case"center":h+=y/2;break;case"bottom":h+=y;break}var C=t.pstyle("text-background-opacity").value,k=t.pstyle("text-border-opacity").value,O=t.pstyle("text-border-width").pfValue,I=t.pstyle("text-background-padding").pfValue,_=t.pstyle("text-background-shape").strValue,R=_.indexOf("round")===0,M=2;if(C>0||O>0&&k>0){var $=u-I;switch(w){case"left":$-=m;break;case"center":$-=m/2;break}var N=h-y-I,P=m+2*I,F=y+2*I;if(C>0){var L=e.fillStyle,D=t.pstyle("text-background-color").value;e.fillStyle="rgba("+D[0]+","+D[1]+","+D[2]+","+C*c+")",R?U7(e,$,N,P,F,M):e.fillRect($,N,P,F),e.fillStyle=L}if(O>0&&k>0){var B=e.strokeStyle,H=e.lineWidth,U=t.pstyle("text-border-color").value,G=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+U[0]+","+U[1]+","+U[2]+","+k*c+")",e.lineWidth=O,e.setLineDash)switch(G){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=O/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(R?U7(e,$,N,P,F,M,"stroke"):e.strokeRect($,N,P,F),G==="double"){var W=O/2;R?U7(e,$+W,N+W,P-W*2,F-W*2,M,"stroke"):e.strokeRect($+W,N+W,P-W*2,F-W*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=H,e.strokeStyle=B}}var ee=2*t.pstyle("text-outline-width").pfValue;if(ee>0&&(e.lineWidth=ee),t.pstyle("text-wrap").value==="wrap"){var ce=Jl(l,"labelWrapCachedLines",r),Z=Jl(l,"labelLineHeight",r),J=m/2,oe=this.getLabelJustification(t);switch(oe==="auto"||(w==="left"?oe==="left"?u+=-m:oe==="center"&&(u+=-J):w==="center"?oe==="left"?u+=-J:oe==="right"&&(u+=J):w==="right"&&(oe==="center"?u+=J:oe==="right"&&(u+=m))),E){case"top":h-=(ce.length-1)*Z;break;case"center":case"bottom":h-=(ce.length-1)*Z;break}for(var Y=0;Y<ce.length;Y++)ee>0&&e.strokeText(ce[Y],u,h),e.fillText(ce[Y],u,h),h+=Z}else ee>0&&e.strokeText(p,u,h),e.fillText(p,u,h);S!==0&&(e.rotate(-S),e.translate(-f,-d))}}};var ry={};ry.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,c,u,h=t._private,f=h.rscratch,d=t.position();if(!(!bt(d.x)||!bt(d.y))&&!(o&&!t.visible())){var p=o?t.effectiveOpacity():1,g=l.usePaths(),m,y=!1,b=t.padding();c=t.width()+2*b,u=t.height()+2*b;var x;r&&(x=r,e.translate(-x.x1,-x.y1));for(var T=t.pstyle("background-image"),w=T.value,E=new Array(w.length),S=new Array(w.length),C=0,k=0;k<w.length;k++){var O=w[k],I=E[k]=O!=null&&O!=="none";if(I){var _=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",k);C++,S[k]=l.getCachedImage(O,_,function(){h.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var R=t.pstyle("background-blacken").value,M=t.pstyle("border-width").pfValue,$=t.pstyle("background-opacity").value*p,N=t.pstyle("border-color").value,P=t.pstyle("border-style").value,F=t.pstyle("border-join").value,L=t.pstyle("border-cap").value,D=t.pstyle("border-position").value,B=t.pstyle("border-dash-pattern").pfValue,H=t.pstyle("border-dash-offset").pfValue,U=t.pstyle("border-opacity").value*p,G=t.pstyle("outline-width").pfValue,W=t.pstyle("outline-color").value,ee=t.pstyle("outline-style").value,ce=t.pstyle("outline-opacity").value*p,Z=t.pstyle("outline-offset").value,J=t.pstyle("corner-radius").value;J!=="auto"&&(J=t.pstyle("corner-radius").pfValue);var oe=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;l.eleFillStyle(e,t,Te)},Y=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;l.colorStrokeStyle(e,N[0],N[1],N[2],Te)},X=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce;l.colorStrokeStyle(e,W[0],W[1],W[2],Te)},K=function(Te,ne,Re,ie){var pe=l.nodePathCache=l.nodePathCache||[],xe=mme(Re==="polygon"?Re+","+ie.join(","):Re,""+ne,""+Te,""+J),ve=pe[xe],Ee,ke=!1;return ve!=null?(Ee=ve,ke=!0,f.pathCache=Ee):(Ee=new Path2D,pe[xe]=f.pathCache=Ee),{path:Ee,cacheHit:ke}},z=t.pstyle("shape").strValue,j=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(d.x,d.y);var te=K(c,u,z,j);m=te.path,y=te.cacheHit}var re=function(){if(!y){var Te=d;g&&(Te={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(m||e,Te.x,Te.y,c,u,J,f)}g?e.fill(m):e.fill()},Se=function(){for(var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Re=h.backgrounding,ie=0,pe=0;pe<S.length;pe++){var xe=t.cy().style().getIndexedStyle(t,"background-image-containment","value",pe);if(ne&&xe==="over"||!ne&&xe==="inside"){ie++;continue}E[pe]&&S[pe].complete&&!S[pe].error&&(ie++,l.drawInscribedImage(e,S[pe],t,pe,Te))}h.backgrounding=ie!==C,Re!==h.backgrounding&&t.updateStyle(!1)},ue=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;l.hasPie(t)&&(l.drawPie(e,t,ne),Te&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,c,u,J,f)))},se=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ne=(R>0?R:-R)*Te,Re=R>0?0:255;R!==0&&(l.colorFillStyle(e,Re,Re,Re,ne),g?e.fill(m):e.fill())},fe=function(){if(M>0){if(e.lineWidth=M,e.lineCap=L,e.lineJoin=F,e.setLineDash)switch(P){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(B),e.lineDashOffset=H;break;case"solid":case"double":e.setLineDash([]);break}if(D!=="center"){if(e.save(),e.lineWidth*=2,D==="inside")g?e.clip(m):e.clip();else{var Te=new Path2D;Te.rect(-c/2-M,-u/2-M,c+2*M,u+2*M),Te.addPath(m),e.clip(Te,"evenodd")}g?e.stroke(m):e.stroke(),e.restore()}else g?e.stroke(m):e.stroke();if(P==="double"){e.lineWidth=M/3;var ne=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(m):e.stroke(),e.globalCompositeOperation=ne}e.setLineDash&&e.setLineDash([])}},ye=function(){if(G>0){if(e.lineWidth=G,e.lineCap="butt",e.setLineDash)switch(ee){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Te=d;g&&(Te={x:0,y:0});var ne=l.getNodeShape(t),Re=M;D==="inside"&&(Re=0),D==="outside"&&(Re*=2);var ie=(c+Re+(G+Z))/c,pe=(u+Re+(G+Z))/u,xe=c*ie,ve=u*pe,Ee=l.nodeShapes[ne].points,ke;if(g){var Pe=K(xe,ve,ne,Ee);ke=Pe.path}if(ne==="ellipse")l.drawEllipsePath(ke||e,Te.x,Te.y,xe,ve);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ne)){var Oe=0,Ye=0,Je=0;ne==="round-diamond"?Oe=(Re+Z+G)*1.4:ne==="round-heptagon"?(Oe=(Re+Z+G)*1.075,Je=-(Re/2+Z+G)/35):ne==="round-hexagon"?Oe=(Re+Z+G)*1.12:ne==="round-pentagon"?(Oe=(Re+Z+G)*1.13,Je=-(Re/2+Z+G)/15):ne==="round-tag"?(Oe=(Re+Z+G)*1.12,Ye=(Re/2+G+Z)*.07):ne==="round-triangle"&&(Oe=(Re+Z+G)*(Math.PI/2),Je=-(Re+Z/2+G)/Math.PI),Oe!==0&&(ie=(c+Oe)/c,xe=c*ie,["round-hexagon","round-tag"].includes(ne)||(pe=(u+Oe)/u,ve=u*pe)),J=J==="auto"?Cme(xe,ve):J;for(var Ct=xe/2,dt=ve/2,ct=J+(Re+G+Z)/2,qe=new Array(Ee.length/2),je=new Array(Ee.length/2),ht=0;ht<Ee.length/2;ht++)qe[ht]={x:Te.x+Ye+Ct*Ee[ht*2],y:Te.y+Je+dt*Ee[ht*2+1]};var Ke,it,Pt,at,Qe=qe.length;for(it=qe[Qe-1],Ke=0;Ke<Qe;Ke++)Pt=qe[Ke%Qe],at=qe[(Ke+1)%Qe],je[Ke]=rF(it,Pt,at,ct),it=Pt,Pt=at;l.drawRoundPolygonPath(ke||e,Te.x+Ye,Te.y+Je,c*ie,u*pe,Ee,je)}else if(["roundrectangle","round-rectangle"].includes(ne))J=J==="auto"?xp(xe,ve):J,l.drawRoundRectanglePath(ke||e,Te.x,Te.y,xe,ve,J+(Re+G+Z)/2);else if(["cutrectangle","cut-rectangle"].includes(ne))J=J==="auto"?GP():J,l.drawCutRectanglePath(ke||e,Te.x,Te.y,xe,ve,null,J+(Re+G+Z)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ne))J=J==="auto"?xp(xe,ve):J,l.drawBottomRoundRectanglePath(ke||e,Te.x,Te.y,xe,ve,J+(Re+G+Z)/2);else if(ne==="barrel")l.drawBarrelPath(ke||e,Te.x,Te.y,xe,ve);else if(ne.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ne)){var pt=(Re+G+Z)/c;Ee=TS(wS(Ee,pt)),l.drawPolygonPath(ke||e,Te.x,Te.y,c,u,Ee)}else{var Ot=(Re+G+Z)/c;Ee=TS(wS(Ee,-Ot)),l.drawPolygonPath(ke||e,Te.x,Te.y,c,u,Ee)}if(g?e.stroke(ke):e.stroke(),ee==="double"){e.lineWidth=Re/3;var vt=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(ke):e.stroke(),e.globalCompositeOperation=vt}e.setLineDash&&e.setLineDash([])}},he=function(){a&&l.drawNodeOverlay(e,t,d,c,u)},Ae=function(){a&&l.drawNodeUnderlay(e,t,d,c,u)},Ce=function(){l.drawElementText(e,t,null,n)},Ie=t.pstyle("ghost").value==="yes";if(Ie){var Le=t.pstyle("ghost-offset-x").pfValue,ae=t.pstyle("ghost-offset-y").pfValue,q=t.pstyle("ghost-opacity").value,ge=q*p;e.translate(Le,ae),X(),ye(),oe(q*$),re(),Se(ge,!0),Y(q*U),fe(),ue(R!==0||M!==0),Se(ge,!1),se(ge),e.translate(-Le,-ae)}g&&e.translate(-d.x,-d.y),Ae(),g&&e.translate(d.x,d.y),X(),ye(),oe(),re(),Se(p,!0),Y(),fe(),ue(R!==0||M!==0),Se(p,!1),se(),g&&e.translate(-d.x,-d.y),Ce(),he(),r&&e.translate(x.x1,x.y1)}};var _ve=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,a,o,l){var c=this;if(n.visible()){var u=n.pstyle("".concat(t,"-padding")).pfValue,h=n.pstyle("".concat(t,"-opacity")).value,f=n.pstyle("".concat(t,"-color")).value,d=n.pstyle("".concat(t,"-shape")).value,p=n.pstyle("".concat(t,"-corner-radius")).value;if(h>0){if(a=a||n.position(),o==null||l==null){var g=n.padding();o=n.width()+2*g,l=n.height()+2*g}c.colorFillStyle(r,f[0],f[1],f[2],h),c.nodeShapes[d].draw(r,a.x,a.y,o+u*2,l+u*2,p),r.fill()}}}};ry.drawNodeOverlay=_ve("overlay");ry.drawNodeUnderlay=_ve("underlay");ry.hasPie=function(e){return e=e[0],e._private.hasPie};ry.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),o=t.pstyle("pie-size"),l=n.x,c=n.y,u=t.width(),h=t.height(),f=Math.min(u,h)/2,d=0,p=this.usePaths();p&&(l=0,c=0),o.units==="%"?f=f*o.pfValue:o.pfValue!==void 0&&(f=o.pfValue/2);for(var g=1;g<=a.pieBackgroundN;g++){var m=t.pstyle("pie-"+g+"-background-size").value,y=t.pstyle("pie-"+g+"-background-color").value,b=t.pstyle("pie-"+g+"-background-opacity").value*r,x=m/100;x+d>1&&(x=1-d);var T=1.5*Math.PI+2*Math.PI*d,w=2*Math.PI*x,E=T+w;m===0||d>=1||d+x>1||(e.beginPath(),e.moveTo(l,c),e.arc(l,c,f,T,E),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],b),e.fill(),d+=x)}};var Ds={},IIt=100;Ds.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};Ds.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<t.length;a++)if(n=t[a],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};Ds.createGradientStyleFor=function(e,t,r,n,a){var o,l=this.usePaths(),c=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var h=r.sourceEndpoint(),f=r.targetEndpoint(),d=r.midpoint(),p=bp(h,d),g=bp(f,d);o=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(p,g))}else{var m=l?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();o=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,b))}else if(r.isEdge()){var x=r.sourceEndpoint(),T=r.targetEndpoint();o=e.createLinearGradient(x.x,x.y,T.x,T.y)}else{var w=l?{x:0,y:0}:r.position(),E=r.paddedWidth(),S=r.paddedHeight(),C=E/2,k=S/2,O=r.pstyle("background-gradient-direction").value;switch(O){case"to-bottom":o=e.createLinearGradient(w.x,w.y-k,w.x,w.y+k);break;case"to-top":o=e.createLinearGradient(w.x,w.y+k,w.x,w.y-k);break;case"to-left":o=e.createLinearGradient(w.x+C,w.y,w.x-C,w.y);break;case"to-right":o=e.createLinearGradient(w.x-C,w.y,w.x+C,w.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(w.x-C,w.y-k,w.x+C,w.y+k);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(w.x-C,w.y+k,w.x+C,w.y-k);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(w.x+C,w.y-k,w.x-C,w.y+k);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(w.x+C,w.y+k,w.x-C,w.y-k);break}}if(!o)return null;for(var I=u.length===c.length,_=c.length,R=0;R<_;R++)o.addColorStop(I?u[R]:R/(_-1),"rgba("+c[R][0]+","+c[R][1]+","+c[R][2]+","+a+")");return o};Ds.gradientFillStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"background",t,r,n);if(!a)return null;e.fillStyle=a};Ds.colorFillStyle=function(e,t,r,n,a){e.fillStyle="rgba("+t+","+r+","+n+","+a+")"};Ds.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],r)}};Ds.gradientStrokeStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"line",t,r,n);if(!a)return null;e.strokeStyle=a};Ds.colorStrokeStyle=function(e,t,r,n,a){e.strokeStyle="rgba("+t+","+r+","+n+","+a+")"};Ds.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],r)}};Ds.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),a=n[2],o=n[3],l=t.getPixelRatio(),c=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(l=c);var u=a*l,h=o*l,f;if(!(u===t.canvasWidth&&h===t.canvasHeight)){t.fontCaches=null;var d=r.canvasContainer;d.style.width=a+"px",d.style.height=o+"px";for(var p=0;p<t.CANVAS_LAYERS;p++)f=r.canvases[p],f.width=u,f.height=h,f.style.width=a+"px",f.style.height=o+"px";for(var p=0;p<t.BUFFER_COUNT;p++)f=r.bufferCanvases[p],f.width=u,f.height=h,f.style.width=a+"px",f.style.height=o+"px";t.textureMult=1,l<=1&&(f=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,f.width=u*t.textureMult,f.height=h*t.textureMult),t.canvasWidth=u,t.canvasHeight=h,t.pixelRatio=l}};Ds.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Ds.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};Ds.render=function(e){var t=this;e=e||xme();var r=t.cy,n=e.forcedContext,a=e.drawAllLayers,o=e.drawOnlyNodeLayer,l=e.forcedZoom,c=e.forcedPan,u=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,h=t.data,f=h.canvasNeedsRedraw,d=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),p=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,g=t.motionBlurPxRatio,m=r.hasCompoundNodes(),y=t.hoverData.draggingEles,b=!!(t.hoverData.selecting||t.touchData.selecting);p=p&&!n&&t.motionBlurEnabled&&!b;var x=p;n||(t.prevPxRatio!==u&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=u),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),p&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(x=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!d&&(f[t.NODE]=!0,f[t.SELECT_BOX]=!0);var T=r.style(),w=r.zoom(),E=l!==void 0?l:w,S=r.pan(),C={x:S.x,y:S.y},k={zoom:w,pan:{x:S.x,y:S.y}},O=t.prevViewport,I=O===void 0||k.zoom!==O.zoom||k.pan.x!==O.pan.x||k.pan.y!==O.pan.y;!I&&!(y&&!m)&&(t.motionBlurPxRatio=1),c&&(C=c),E*=u,C.x*=u,C.y*=u;var _=t.getCachedZSortedEles();function R(Y,X,K,z,j){var te=Y.globalCompositeOperation;Y.globalCompositeOperation="destination-out",t.colorFillStyle(Y,255,255,255,t.motionBlurTransparency),Y.fillRect(X,K,z,j),Y.globalCompositeOperation=te}function M(Y,X){var K,z,j,te;!t.clearingMotionBlur&&(Y===h.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||Y===h.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(K={x:S.x*g,y:S.y*g},z=w*g,j=t.canvasWidth*g,te=t.canvasHeight*g):(K=C,z=E,j=t.canvasWidth,te=t.canvasHeight),Y.setTransform(1,0,0,1,0,0),X==="motionBlur"?R(Y,0,0,j,te):!n&&(X===void 0||X)&&Y.clearRect(0,0,j,te),a||(Y.translate(K.x,K.y),Y.scale(z,z)),c&&Y.translate(c.x,c.y),l&&Y.scale(l,l)}if(d||(t.textureDrawLastFrame=!1),d){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var $=t.data.bufferContexts[t.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:u*t.textureMult});var k=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};k.mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}f[t.DRAG]=!1,f[t.NODE]=!1;var N=h.contexts[t.NODE],P=t.textureCache.texture,k=t.textureCache.viewport;N.setTransform(1,0,0,1,0,0),p?R(N,0,0,k.width,k.height):N.clearRect(0,0,k.width,k.height);var F=T.core("outside-texture-bg-color").value,L=T.core("outside-texture-bg-opacity").value;t.colorFillStyle(N,F[0],F[1],F[2],L),N.fillRect(0,0,k.width,k.height);var w=r.zoom();M(N,!1),N.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/u,k.height/k.zoom/u),N.drawImage(P,k.mpan.x,k.mpan.y,k.width/k.zoom/u,k.height/k.zoom/u)}else t.textureOnViewport&&!n&&(t.textureCache=null);var D=r.extent(),B=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),H=t.hideEdgesOnViewport&&B,U=[];if(U[t.NODE]=!f[t.NODE]&&p&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,U[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),U[t.DRAG]=!f[t.DRAG]&&p&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,U[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),f[t.NODE]||a||o||U[t.NODE]){var G=p&&!U[t.NODE]&&g!==1,N=n||(G?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:h.contexts[t.NODE]),W=p&&!G?"motionBlur":void 0;M(N,W),H?t.drawCachedNodes(N,_.nondrag,u,D):t.drawLayeredElements(N,_.nondrag,u,D),t.debug&&t.drawDebugPoints(N,_.nondrag),!a&&!p&&(f[t.NODE]=!1)}if(!o&&(f[t.DRAG]||a||U[t.DRAG])){var G=p&&!U[t.DRAG]&&g!==1,N=n||(G?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:h.contexts[t.DRAG]);M(N,p&&!G?"motionBlur":void 0),H?t.drawCachedNodes(N,_.drag,u,D):t.drawCachedElements(N,_.drag,u,D),t.debug&&t.drawDebugPoints(N,_.drag),!a&&!p&&(f[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,M),p&&g!==1){var ee=h.contexts[t.NODE],ce=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],Z=h.contexts[t.DRAG],J=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],oe=function(X,K,z){X.setTransform(1,0,0,1,0,0),z||!x?X.clearRect(0,0,t.canvasWidth,t.canvasHeight):R(X,0,0,t.canvasWidth,t.canvasHeight);var j=g;X.drawImage(K,0,0,t.canvasWidth*j,t.canvasHeight*j,0,0,t.canvasWidth,t.canvasHeight)};(f[t.NODE]||U[t.NODE])&&(oe(ee,ce,U[t.NODE]),f[t.NODE]=!1),(f[t.DRAG]||U[t.DRAG])&&(oe(Z,J,U[t.DRAG]),f[t.DRAG]=!1)}t.prevViewport=k,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),p&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!d,t.mbFrames=0,f[t.NODE]=!0,f[t.DRAG]=!0,t.redraw()},IIt)),n||r.emit("render")};var Ky;Ds.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,a=r.data,o=n.style(),l=e.drawOnlyNodeLayer,c=e.drawAllLayers,u=a.canvasNeedsRedraw,h=e.forcedContext;if(r.showFps||!l&&u[r.SELECT_BOX]&&!c){var f=h||a.contexts[r.SELECT_BOX];if(t(f),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var d=r.cy.zoom(),p=o.core("selection-box-border-width").value/d;f.lineWidth=p,f.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",f.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),p>0&&(f.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",f.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var d=r.cy.zoom(),g=a.bgActivePosistion;f.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",f.beginPath(),f.arc(g.x,g.y,o.core("active-bg-size").pfValue/d,0,2*Math.PI),f.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var y=Math.round(1e3/m),b="1 frame = "+m+" ms = "+y+" fps";if(f.setTransform(1,0,0,1,0,0),f.fillStyle="rgba(255, 0, 0, 0.75)",f.strokeStyle="rgba(255, 0, 0, 0.75)",f.font="30px Arial",!Ky){var x=f.measureText(b);Ky=x.actualBoundingBoxAscent}f.fillText(b,0,Ky);var T=60;f.strokeRect(0,Ky+10,250,20),f.fillRect(0,Ky+10,250*Math.min(y/T,1),20)}c||(u[r.SELECT_BOX]=!1)}};function GX(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function RIt(e,t,r){var n=GX(e,e.VERTEX_SHADER,t),a=GX(e,e.FRAGMENT_SHADER,r),o=e.createProgram();if(e.attachShader(o,n),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function OIt(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function aF(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function _It(e,t,r,n,a){var o=n*r+t.x,l=a*r+t.y;return l=Math.round(e.canvasHeight-l),[o,l]}function M4(e,t,r){var n=e[0]/255,a=e[1]/255,o=e[2]/255,l=t,c=r||new Array(4);return c[0]=n*l,c[1]=a*l,c[2]=o*l,c[3]=l,c}function D4(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function NIt(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function LIt(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function Nve(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Lve(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function MIt(e,t,r,n,a,o){switch(t){case e.FLOAT:return new Float32Array(r.buffer,o*n,a);case e.INT:return new Int32Array(r.buffer,o*n,a)}}function DIt(e,t,r,n){var a=Nve(e,t),o=na(a,2),l=o[0],c=o[1],u=Lve(e,c,n),h=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),c===e.FLOAT?e.vertexAttribPointer(r,l,c,!1,0,0):c===e.INT&&e.vertexAttribIPointer(r,l,c,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),h}function xo(e,t,r,n){var a=Nve(e,r),o=na(a,3),l=o[0],c=o[1],u=o[2],h=Lve(e,c,t*l),f=l*u,d=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,t*f,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),c===e.FLOAT?e.vertexAttribPointer(n,l,c,!1,f,0):c===e.INT&&e.vertexAttribIPointer(n,l,c,f,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var p=new Array(t),g=0;g<t;g++)p[g]=MIt(e,c,h,f,l,g);return d.dataArray=h,d.stride=f,d.size=l,d.getView=function(m){return p[m]},d.setPoint=function(m,y,b){var x=p[m];x[0]=y,x[1]=b},d.bufferSubData=function(m){e.bindBuffer(e.ARRAY_BUFFER,d),m?e.bufferSubData(e.ARRAY_BUFFER,0,h,0,m*l):e.bufferSubData(e.ARRAY_BUFFER,0,h)},d}function PIt(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,a){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var YX=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function ab(){var e=new YX(9);return YX!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Mve(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function FIt(e,t,r){var n=t[0],a=t[1],o=t[2],l=t[3],c=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=r[0],g=r[1],m=r[2],y=r[3],b=r[4],x=r[5],T=r[6],w=r[7],E=r[8];return e[0]=p*n+g*l+m*h,e[1]=p*a+g*c+m*f,e[2]=p*o+g*u+m*d,e[3]=y*n+b*l+x*h,e[4]=y*a+b*c+x*f,e[5]=y*o+b*u+x*d,e[6]=T*n+w*l+E*h,e[7]=T*a+w*c+E*f,e[8]=T*o+w*u+E*d,e}function RS(e,t,r){var n=t[0],a=t[1],o=t[2],l=t[3],c=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=r[0],g=r[1];return e[0]=n,e[1]=a,e[2]=o,e[3]=l,e[4]=c,e[5]=u,e[6]=p*n+g*l+h,e[7]=p*a+g*c+f,e[8]=p*o+g*u+d,e}function Dve(e,t,r){var n=t[0],a=t[1],o=t[2],l=t[3],c=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=Math.sin(r),g=Math.cos(r);return e[0]=g*n+p*l,e[1]=g*a+p*c,e[2]=g*o+p*u,e[3]=g*l-p*n,e[4]=g*c-p*a,e[5]=g*u-p*o,e[6]=h,e[7]=f,e[8]=d,e}function sF(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function BIt(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var sb={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Zy=fa({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),$It=function(){function e(t,r){Of(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.atlasSize=r.webglTexSize,this.rows=r.webglTexRows,this.enableWrapping=r.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=r.createTextureCanvas(t,this.atlasSize,this.atlasSize),this.scratch=r.createTextureCanvas(t,this.atlasSize,this.texHeight,"scratch")}return _f(e,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,o=this.texHeight,l=this.maxTexWidth,c=o/a,u=n*c,h=a*c;return u>l&&(c=l/n,u=n*c,h=a*c),{scale:c,texW:u,texH:h}}},{key:"draw",value:function(r,n,a){var o=this,l=this.atlasSize,c=this.rows,u=this.texHeight,h=this.getScale(n),f=h.scale,d=h.texW,p=h.texH,g=[null,null],m=function(w,E){if(a&&E){var S=E.context,C=w.x,k=w.row,O=C,I=u*k;S.save(),S.translate(O,I),S.scale(f,f),a(S,n),S.restore()}},y=function(){m(o.freePointer,o.canvas),g[0]={x:o.freePointer.x,y:o.freePointer.row*u,w:d,h:p},g[1]={x:o.freePointer.x+d,y:o.freePointer.row*u,w:0,h:p},o.freePointer.x+=d,o.freePointer.x==l&&(o.freePointer.x=0,o.freePointer.row++)},b=function(){var w=o.scratch,E=o.canvas;w.clear(),m({x:0,row:0},w);var S=l-o.freePointer.x,C=d-S,k=u;{var O=o.freePointer.x,I=o.freePointer.row*u,_=S;E.context.drawImage(w,0,0,_,k,O,I,_,k),g[0]={x:O,y:I,w:_,h:p}}{var R=S,M=(o.freePointer.row+1)*u,$=C;E&&E.context.drawImage(w,R,0,$,k,0,M,$,k),g[1]={x:0,y:M,w:$,h:p}}o.freePointer.x=C,o.freePointer.row++},x=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+d<=l)y();else{if(this.freePointer.row>=c-1)return!1;this.freePointer.x===l?(x(),y()):this.enableWrapping?b():(x(),y())}return this.keyToLocation.set(r,g),this.needsBuffer=!0,g}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){var n=this.atlasSize,a=this.rows,o=this.getScale(r),l=o.texW;return this.freePointer.x+l>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=LIt(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),e}(),HIt=function(){function e(t,r){Of(this,e),this.r=t,this.opts=r,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return _f(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(r){var n=this.keyToIds.get(r);return n||(n=new Set,this.keyToIds.set(r,n)),n}},{key:"_createAtlas",value:function(){var r=this.r,n=this.opts;return new $It(r,n)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.opts,a=n.webglTexSize,o=Math.floor(a/n.webglTexRows);this.scratch=n.createTextureCanvas(r,a,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a,o){if(this.styleKeyNeedsRedraw.has(n)){this.styleKeyNeedsRedraw.delete(n),this.deleteKey(r,n);var l=this.styleKeyToAtlas.get(n);l&&(l.forceGC=!0),this.styleKeyToAtlas.delete(n)}var c=this.styleKeyToAtlas.get(n);return c||(c=this.atlases[this.atlases.length-1],(!c||!c.canFit(a))&&(c=this._createAtlas(),this.atlases.push(c)),c.draw(n,a,o),this.styleKeyToAtlas.set(n,c),this.getIdsFor(n).add(r),this.idToKey.set(r,n)),c}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"deleteKey",value:function(r,n){this.idToKey.delete(r),this.getIdsFor(n).delete(r)}},{key:"checkKeyIsInvalid",value:function(r,n){if(!this.idToKey.has(r))return!1;var a=this.idToKey.get(r);return a!=n?(this.deleteKey(r,a),!0):!1}},{key:"_getKeysToCollect",value:function(){var r=new Set,n=Mo(this.styleKeyToAtlas.keys()),a;try{for(n.s();!(a=n.n()).done;){var o=a.value;this.getIdsFor(o).size==0&&r.add(o)}}catch(l){n.e(l)}finally{n.f()}return r}},{key:"gc",value:function(){var r=this,n=this.atlases.some(function(p){return p.forceGC}),a=this._getKeysToCollect();if(a.size===0&&!n){console.log("nothing to garbage collect");return}var o=[],l=new Map,c=null,u=Mo(this.atlases),h;try{var f=function(){var g=h.value,m=g.getKeys(),y=UIt(a,m);if(y.size===0&&!g.forceGC)return o.push(g),m.forEach(function(k){return l.set(k,g)}),"continue";c||(c=r._createAtlas(),o.push(c));var b=Mo(m),x;try{for(b.s();!(x=b.n()).done;){var T=x.value;if(!y.has(T)){var w=g.getOffsets(T),E=na(w,2),S=E[0],C=E[1];c.canFit({w:S.w+C.w,h:S.h})||(c=r._createAtlas(),o.push(c)),r._copyTextureToNewAtlas(T,g,c),l.set(T,c)}}}catch(k){b.e(k)}finally{b.f()}};for(u.s();!(h=u.n()).done;)var d=f()}catch(p){u.e(p)}finally{u.f()}this.atlases=o,this.styleKeyToAtlas=l}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var o=n.getOffsets(r),l=na(o,2),c=l[0],u=l[1];if(u.w===0)a.draw(r,c,function(p){p.drawImage(n.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h)});else{var h=this._getScratchCanvas();h.clear(),h.context.drawImage(n.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h),h.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,c.w,0,u.w,u.h);var f=c.w+u.w,d=c.h;a.draw(r,{w:f,h:d},function(p){p.drawImage(h,0,0,f,d,0,0,f,d)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),e}();function UIt(e,t){return e.intersection?e.intersection(t):new Set(rme(e).filter(function(r){return t.has(r)}))}var WIt=function(){function e(t,r){Of(this,e),this.r=t;var n=r;this.globalOptions=n,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(n)}return _f(e,[{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,o=null,l=r.createTextureCanvas;r.createTextureCanvas=function(c,u,h,f){return f?((!o||u!=n||h!=a)&&(n=u,a=h,o=l(c,u,h)),o):l(c,u,h)}}},{key:"addRenderType",value:function(r,n){var a=new HIt(this.r,this.globalOptions),o=n;this.renderTypes.set(r,Jt({type:r,atlasCollection:a},o))}},{key:"getRenderTypes",value:function(){return rme(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.forceRedraw,o=a===void 0?!1:a,l=n.filterEle,c=l===void 0?function(){return!0}:l,u=n.filterType,h=u===void 0?function(){return!0}:u,f=!1,d=Mo(r),p;try{for(d.s();!(p=d.n()).done;){var g=p.value;if(c(g)){var m=g.id(),y=Mo(this.getRenderTypes()),b;try{for(y.s();!(b=y.n()).done;){var x=b.value;if(h(x.type)){var T=x.getKey(g);o?(x.atlasCollection.deleteKey(m,T),x.atlasCollection.styleKeyNeedsRedraw.add(T),f=!0):f|=x.atlasCollection.checkKeyIsInvalid(m,T)}}}catch(w){y.e(w)}finally{y.f()}}}}catch(w){d.e(w)}finally{d.f()}return f}},{key:"gc",value:function(){var r=Mo(this.getRenderTypes()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.atlasCollection.gc()}}catch(o){r.e(o)}finally{r.f()}}},{key:"isRenderable",value:function(r,n){var a=this.getRenderTypeOpts(n);return a&&a.isVisible(r)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(r,n,a){var o=this.renderTypes.get(a),l=o.getKey(r),c=r.id();return o.atlasCollection.draw(c,l,n,function(u){o.drawElement(u,r,n,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(r,n){return n})}},{key:"getAtlasInfo",value:function(r,n){var a=this.renderTypes.get(n),o=a.getBoundingBox(r),l=this.getOrCreateAtlas(r,o,n),c=this.getAtlasIndexForBatch(l);if(c!==void 0){var u=a.getKey(r),h=l.getOffsets(u),f=na(h,2),d=f[0],p=f[1];return{atlasID:c,tex:d,tex1:d,tex2:p,bb:o,type:n,styleKey:u}}}},{key:"canAddToCurrentBatch",value:function(r,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var a=this.renderTypes.get(n),o=a.getKey(r),l=a.atlasCollection.getAtlas(o);return l&&this.batchAtlases.includes(l)}return!0}},{key:"setTransformMatrix",value:function(r,n,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=n.bb,c=n.type,u=n.tex1,h=n.tex2,f=this.getRenderTypeOpts(c),d=f.getPadding?f.getPadding(a):0,p=u.w/(u.w+h.w);o||(p=1-p);var g=this.getAdjustedBB(l,d,o,p),m,y;Mve(r);var b=f.getRotation?f.getRotation(a):0;if(b!==0){var x=f.getRotationPoint(a),T=x.x,w=x.y;RS(r,r,[T,w]),Dve(r,r,b);var E=f.getRotationOffset(a);m=E.x+g.xOffset,y=E.y}else m=g.x1,y=g.y1;RS(r,r,[m,y]),sF(r,r,[g.w,g.h])}},{key:"getTransformMatrix",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ab();return this.setTransformMatrix(o,r,n,a),o}},{key:"getAdjustedBB",value:function(r,n,a,o){var l=r.x1,c=r.y1,u=r.w,h=r.h;n&&(l-=n,c-=n,u+=2*n,h+=2*n);var f=0,d=u*o;return a&&o<1?u=d:!a&&o<1&&(f=u-d,l+=f,u=d),{x1:l,y1:c,w:u,h,xOffset:f}}},{key:"getDebugInfo",value:function(){var r=[],n=Mo(this.renderTypes),a;try{for(n.s();!(a=n.n()).done;){var o=na(a.value,2),l=o[0],c=o[1],u=c.atlasCollection.getCounts(),h=u.keyCount,f=u.atlasCount;r.push({type:l,keyCount:h,atlasCount:f})}}catch(d){n.e(d)}finally{n.f()}return r}}]),e}(),W7=0,VX=1,qX=2,z7=3,zIt=function(){function e(t,r,n){Of(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,n.enableWrapping=!0,n.createTextureCanvas=OIt,this.atlasManager=new WIt(t,n),this.program=this.createShaderProgram(sb.SCREEN),this.pickingProgram=this.createShaderProgram(sb.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return _f(e,[{key:"addTextureRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,o=this.atlasManager;return a?o.invalidate(r,{filterType:function(c){return c===a},forceRedraw:!0}):o.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(W7,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(VX,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(qX,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(z7,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),o=this.atlasManager.getIndexArray(),l=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(o.map(function(h){return"uniform sampler2D uTexture".concat(h,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(W7,`) {
          `).concat(o.map(function(h){return"if(vAtlasId == ".concat(h,") outColor = texture(uTexture").concat(h,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(z7,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),c=RIt(n,a,l);c.aPosition=n.getAttribLocation(c,"aPosition"),c.aIndex=n.getAttribLocation(c,"aIndex"),c.aVertType=n.getAttribLocation(c,"aVertType"),c.aAtlasId=n.getAttribLocation(c,"aAtlasId"),c.aTex1=n.getAttribLocation(c,"aTex1"),c.aTex2=n.getAttribLocation(c,"aTex2"),c.aScaleRotate1=n.getAttribLocation(c,"aScaleRotate1"),c.aTranslate1=n.getAttribLocation(c,"aTranslate1"),c.aScaleRotate2=n.getAttribLocation(c,"aScaleRotate2"),c.aTranslate2=n.getAttribLocation(c,"aTranslate2"),c.aPointAPointB=n.getAttribLocation(c,"aPointAPointB"),c.aPointCPointD=n.getAttribLocation(c,"aPointCPointD"),c.aLineWidth=n.getAttribLocation(c,"aLineWidth"),c.aEdgeColor=n.getAttribLocation(c,"aEdgeColor"),c.uPanZoomMatrix=n.getUniformLocation(c,"uPanZoomMatrix"),c.uAtlasSize=n.getUniformLocation(c,"uAtlasSize"),c.uBGColor=n.getUniformLocation(c,"uBGColor"),c.uTextures=[];for(var u=0;u<this.atlasManager.maxAtlases;u++)c.uTextures.push(n.getUniformLocation(c,"uTexture".concat(u)));return c}},{key:"createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1],n=[].concat(r,r);this.vertexCount=n.length/2;var a=this.maxInstances,o=this.gl,l=this.program,c=o.createVertexArray();return o.bindVertexArray(c),DIt(o,"vec2",l.aPosition,n),this.indexBuffer=xo(o,a,"vec4",l.aIndex),this.vertTypeBuffer=xo(o,a,"int",l.aVertType),this.atlasIdBuffer=xo(o,a,"int",l.aAtlasId),this.tex1Buffer=xo(o,a,"vec4",l.aTex1),this.tex2Buffer=xo(o,a,"vec4",l.aTex2),this.scaleRotate1Buffer=xo(o,a,"vec4",l.aScaleRotate1),this.translate1Buffer=xo(o,a,"vec2",l.aTranslate1),this.scaleRotate2Buffer=xo(o,a,"vec4",l.aScaleRotate2),this.translate2Buffer=xo(o,a,"vec2",l.aTranslate2),this.pointAPointBBuffer=xo(o,a,"vec4",l.aPointAPointB),this.pointCPointDBuffer=xo(o,a,"vec4",l.aPointCPointD),this.lineWidthBuffer=xo(o,a,"float",l.aLineWidth),this.edgeColorBuffer=xo(o,a,"vec4",l.aEdgeColor),o.bindVertexArray(null),c}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sb.SCREEN;this.panZoomMatrix=r,this.debugInfo=n,this.renderTarget=a,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||ab()}},{key:"drawTexture",value:function(r,n,a){var o=this.atlasManager;if(o.isRenderable(r,a)){o.canAddToCurrentBatch(r,a)||this.endBatch();var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=W7;var c=this.indexBuffer.getView(l);D4(n,c);var u=o.getAtlasInfo(r,a,u),h=u.atlasID,f=u.tex1,d=u.tex2,p=this.atlasIdBuffer.getView(l);p[0]=h;var g=this.tex1Buffer.getView(l);g[0]=f.x,g[1]=f.y,g[2]=f.w,g[3]=f.h;var m=this.tex2Buffer.getView(l);m[0]=d.x,m[1]=d.y,m[2]=d.w,m[3]=d.h;for(var y=this.getTempMatrix(),b=0,x=[1,2];b<x.length;b++){var T=x[b];o.setTransformMatrix(y,u,r,T===1);var w=this["scaleRotate".concat(T,"Buffer")].getView(l);w[0]=y[0],w[1]=y[1],w[2]=y[3],w[3]=y[4];var E=this["translate".concat(T,"Buffer")].getView(l);E[0]=y[6],E[1]=y[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(r,n,a){var o=r._private.rscratch,l,c,u;if(a==="source"?(l=o.arrowStartX,c=o.arrowStartY,u=o.srcArrowAngle):(l=o.arrowEndX,c=o.arrowEndY,u=o.tgtArrowAngle),!(isNaN(l)||l==null||isNaN(c)||c==null||isNaN(u)||u==null)){var h=r.pstyle(a+"-arrow-shape").value;if(h!=="none"){var f=r.pstyle(a+"-arrow-color").value,d=r.pstyle("opacity").value,p=r.pstyle("line-opacity").value,g=d*p,m=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,b=this.r.getArrowWidth(m,y),x=this.getTempMatrix();Mve(x),RS(x,x,[l,c]),sF(x,x,[b,b]),Dve(x,x,u);var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=z7;var w=this.indexBuffer.getView(T);D4(n,w);var E=this.edgeColorBuffer.getView(T);M4(f,g,E);var S=this.scaleRotate1Buffer.getView(T);S[0]=x[0],S[1]=x[1],S[2]=x[3],S[3]=x[4];var C=this.translate1Buffer.getView(T);C[0]=x[6],C[1]=x[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(r,n){var a=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,c=r.pstyle("line-color").value,u=a*o,h=this.getEdgePoints(r);if(h.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),h.length==4){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=VX;var d=this.indexBuffer.getView(f);D4(n,d);var p=this.edgeColorBuffer.getView(f);M4(c,u,p);var g=this.lineWidthBuffer.getView(f);g[0]=l;var m=this.pointAPointBBuffer.getView(f);m[0]=h[0],m[1]=h[1],m[2]=h[2],m[3]=h[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<h.length-2;y+=2){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=qX;var x=this.indexBuffer.getView(b);D4(n,x);var T=this.edgeColorBuffer.getView(b);M4(c,u,T);var w=this.lineWidthBuffer.getView(b);w[0]=l;var E=h[y-2],S=h[y-1],C=h[y],k=h[y+1],O=h[y+2],I=h[y+3],_=h[y+4],R=h[y+5];y==0&&(E=2*C-O+.001,S=2*k-I+.001),y==h.length-4&&(_=2*O-C+.001,R=2*I-k+.001);var M=this.pointAPointBBuffer.getView(b);M[0]=E,M[1]=S,M[2]=C,M[3]=k;var $=this.pointCPointDBuffer.getView(b);$[0]=O,$[1]=I,$[2]=_,$[3]=R,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(r){var n=r._private.rscratch,a=n.allpts;if(a.length==4)return a;var o=this.getNumSegments(r);return this.getCurveSegmentPoints(a,o)}},{key:"getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),o=0;o<=n;o++)if(o==0)a[0]=r[0],a[1]=r[1];else if(o==n)a[o*2]=r[r.length-2],a[o*2+1]=r[r.length-1];else{var l=o/n;this.setCurvePoint(r,l,a,o*2)}return a}},{key:"setCurvePoint",value:function(r,n,a,o){if(r.length<=2)a[o]=r[0],a[o+1]=r[1];else{for(var l=Array(r.length-2),c=0;c<l.length;c+=2){var u=(1-n)*r[c]+n*r[c+2],h=(1-n)*r[c+1]+n*r[c+3];l[c]=u,l[c+1]=h}return this.setCurvePoint(l,n,a,o)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,o=this.instanceCount;if(o!==0){var l=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(l),r.bindVertexArray(n);var c=Mo(this.buffers),u;try{for(c.s();!(u=c.n()).done;){var h=u.value;h.bufferSubData(o)}}catch(m){c.e(m)}finally{c.f()}for(var f=this.atlasManager.getAtlases(),d=0;d<f.length;d++)f[d].bufferIfNeeded(r);for(var p=0;p<f.length;p++)r.activeTexture(r.TEXTURE0+p),r.bindTexture(r.TEXTURE_2D,f[p].texture),r.uniform1i(l.uTextures[p],p);r.uniformMatrix3fv(l.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(l.uAtlasSize,this.atlasManager.atlasSize);var g=M4(this.bgColor,1);r.uniform4fv(l.uBGColor,g),r.drawArraysInstanced(r.TRIANGLES,0,a,o),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:o,atlasCount:f.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),e}();function jX(e,t){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(t,")")}var GIt=function(){function e(t){Of(this,e),this.r=t}return _f(e,[{key:"getStyleKey",value:function(r,n){var a=this.getStyle(r,n),o=a.shape,l=a.opacity,c=a.color;if(!o)return null;var u=n.width(),h=n.height(),f=jX(c,l);return cf("".concat(o,"-").concat(u,"-").concat(h,"-").concat(f))}},{key:"isVisible",value:function(r,n){var a=n.pstyle("".concat(r,"-opacity")).value;return a>0}},{key:"getStyle",value:function(r,n){var a=n.pstyle("".concat(r,"-opacity")).value,o=n.pstyle("".concat(r,"-color")).value,l=n.pstyle("".concat(r,"-shape")).value;return{opacity:a,color:o,shape:l}}},{key:"getPadding",value:function(r,n){return n.pstyle("".concat(r,"-padding")).pfValue}},{key:"draw",value:function(r,n,a,o){if(this.isVisible(r,a)){var l=this.r,c=o.w,u=o.h,h=c/2,f=u/2,d=this.getStyle(r,a),p=d.shape,g=d.color,m=d.opacity;n.save(),n.fillStyle=jX(g,m),p==="round-rectangle"||p==="roundrectangle"?l.drawRoundRectanglePath(n,h,f,c,u,"auto"):p==="ellipse"&&l.drawEllipsePath(n,h,f,c,u),n.fill(),n.restore()}}}]),e}();function YIt(e){var t=e&&e.style&&e.style.backgroundColor||"white";return lme(t)}var Pve={};Pve.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL],a=e.cy.container();e.bgColor=YIt(a),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,console.log("max texture units",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",n.getParameter(n.MAX_TEXTURE_SIZE)),console.log("webgl options",e),r.pickingFrameBuffer=PIt(n),r.pickingFrameBuffer.needsDraw=!0;var o=function(f){return r.getTextAngle(f,null)},l=function(f){var d=f.pstyle("label");return d&&d.value};r.eleDrawing=new zIt(r,n,e);var c=new GIt(r);r.eleDrawing.addTextureRenderType("node-body",Zy({getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement,isVisible:function(f){return f.visible()}})),r.eleDrawing.addTextureRenderType("node-label",Zy({getKey:t.getLabelKey,getBoundingBox:t.getLabelBox,drawElement:t.drawLabel,getRotation:o,getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:l})),r.eleDrawing.addTextureRenderType("node-overlay",Zy({getBoundingBox:t.getElementBox,getKey:function(f){return c.getStyleKey("overlay",f)},drawElement:function(f,d,p){return c.draw("overlay",f,d,p)},isVisible:function(f){return c.isVisible("overlay",f)},getPadding:function(f){return c.getPadding("overlay",f)}})),r.eleDrawing.addTextureRenderType("node-underlay",Zy({getBoundingBox:t.getElementBox,getKey:function(f){return c.getStyleKey("underlay",f)},drawElement:function(f,d,p){return c.draw("underlay",f,d,p)},isVisible:function(f){return c.isVisible("underlay",f)},getPadding:function(f){return c.getPadding("underlay",f)}})),r.eleDrawing.addTextureRenderType("edge-label",Zy({getKey:t.getLabelKey,getBoundingBox:t.getLabelBox,drawElement:t.drawLabel,getRotation:o,getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:l}));var u=G3(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(h,f){var d=!1;f&&f.length>0&&(d|=r.eleDrawing.invalidate(f)),d&&u()}),VIt(r)};function VIt(e){{var t=e.render;e.render=function(o){o=o||{};var l=e.cy;e.webgl&&(l.zoom()>Cve?(qIt(e),t.call(e,o)):(jIt(e),Bve(e,o,sb.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(o){r.call(e,o),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(o,l,c,u){return eRt(e,o,l)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var a=e.notify;e.notify=function(o,l){a.call(e,o,l),o==="viewport"||o==="bounds"?e.pickingFrameBuffer.needsDraw=!0:o==="background"&&e.eleDrawing.invalidate(l,{type:"node-body"})}}}function qIt(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function jIt(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function XIt(e){var t=e.canvasWidth,r=e.canvasHeight,n=aF(e),a=n.pan,o=n.zoom,l=ab();RS(l,l,[a.x,a.y]),sF(l,l,[o,o]);var c=ab();BIt(c,t,r);var u=ab();return FIt(u,c,l),u}function Fve(e,t){var r=e.canvasWidth,n=e.canvasHeight,a=aF(e),o=a.pan,l=a.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(o.x,o.y),t.scale(l,l)}function KIt(e,t){e.drawSelectionRectangle(t,function(r){return Fve(e,r)})}function ZIt(e){var t=e.data.contexts[e.NODE];t.save(),Fve(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function QIt(e){var t=function(a,o,l){for(var c=a.atlasManager.getRenderTypeOpts(o),u=e.data.contexts[e.NODE],h=.125,f=c.atlasCollection.atlases,d=0;d<f.length;d++){var p=f[d],g=p.canvas,m=g.width,y=g.height,b=m*d,x=g.height*l;u.save(),u.scale(h,h),u.drawImage(g,b,x),u.strokeStyle="black",u.rect(b,x,m,y),u.stroke(),u.restore()}},r=0;t(e.eleDrawing,"node-body",r++),t(e.eleDrawing,"node-label",r++)}function JIt(e,t,r,n,a){var o,l,c,u,h=aF(e),f=h.pan,d=h.zoom;{var p=_It(e,f,d,t,r),g=na(p,2),m=g[0],y=g[1],b=6;o=m-b/2,l=y-b/2,c=b,u=b}if(c===0||u===0)return[];var x=e.data.contexts[e.WEBGL];x.bindFramebuffer(x.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(x.viewport(0,0,x.canvas.width,x.canvas.height),Bve(e,null,sb.PICKING),e.pickingFrameBuffer.needsDraw=!1);var T=c*u,w=new Uint8Array(T*4);x.readPixels(o,l,c,u,x.RGBA,x.UNSIGNED_BYTE,w),x.bindFramebuffer(x.FRAMEBUFFER,null);for(var E=new Set,S=0;S<T;S++){var C=w.slice(S*4,S*4+4),k=NIt(C)-1;k>=0&&E.add(k)}return E}function eRt(e,t,r){var n=JIt(e,t,r),a=e.getCachedZSortedEles(),o,l,c=Mo(n),u;try{for(c.s();!(u=c.n()).done;){var h=u.value,f=a[h];if(!o&&f.isNode()&&(o=f),!l&&f.isEdge()&&(l=f),o&&l)break}}catch(d){c.e(d)}finally{c.f()}return[o,l].filter(Boolean)}function Bve(e,t,r){var n,a;e.webglDebug&&(a=[],n=performance.now());var o=e.eleDrawing,l=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&KIt(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var c=function(M,$){$+=1,M.isNode()?(o.drawTexture(M,$,"node-underlay"),o.drawTexture(M,$,"node-body"),o.drawTexture(M,$,"node-label"),o.drawTexture(M,$,"node-overlay")):(o.drawEdgeLine(M,$),o.drawEdgeArrow(M,$,"source"),o.drawEdgeArrow(M,$,"target"),o.drawTexture(M,$,"edge-label"))},u=e.data.contexts[e.WEBGL];r.screen?(u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA)):u.disable(u.BLEND),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.viewport(0,0,u.canvas.width,u.canvas.height);var h=XIt(e),f=e.getCachedZSortedEles();if(l=f.length,o.startFrame(h,a,r),r.screen){for(var d=0;d<f.nondrag.length;d++)c(f.nondrag[d],d);for(var p=0;p<f.drag.length;p++)c(f.drag[p],-1)}else if(r.picking)for(var g=0;g<f.length;g++)c(f[g],g);o.endFrame(),e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,o.gc()),r.screen&&e.webglDebugShowAtlases&&(ZIt(e),QIt(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var m=performance.now(),y=!0,b=0,x=0,T=Mo(a),w;try{for(T.s();!(w=T.n()).done;){var E=w.value;b++,x+=E.count}}catch(R){T.e(R)}finally{T.f()}var S=Math.ceil(m-n),C="".concat(l," elements, ").concat(x," rectangles, ").concat(b," batches");if(y)console.log("WebGL (".concat(r.name,") - ").concat(C));else{console.log("WebGL render (".concat(r.name,") - frame time ").concat(S,"ms")),console.log("  ".concat(C)),console.log("Texture Atlases Used:");var k=o.getAtlasDebugInfo(),O=Mo(k),I;try{for(O.s();!(I=O.n()).done;){var _=I.value;console.log("  ".concat(_.type,": ").concat(_.keyCount," keys, ").concat(_.atlasCount," atlases"))}}catch(R){O.e(R)}finally{O.f()}console.log("")}}}var Lf={};Lf.drawPolygonPath=function(e,t,r,n,a,o){var l=n/2,c=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+l*o[0],r+c*o[1]);for(var u=1;u<o.length/2;u++)e.lineTo(t+l*o[u*2],r+c*o[u*2+1]);e.closePath()};Lf.drawRoundPolygonPath=function(e,t,r,n,a,o,l){l.forEach(function(c){return yve(e,c)}),e.closePath()};Lf.drawRoundRectanglePath=function(e,t,r,n,a,o){var l=n/2,c=a/2,u=o==="auto"?xp(n,a):Math.min(o,c,l);e.beginPath&&e.beginPath(),e.moveTo(t,r-c),e.arcTo(t+l,r-c,t+l,r,u),e.arcTo(t+l,r+c,t,r+c,u),e.arcTo(t-l,r+c,t-l,r,u),e.arcTo(t-l,r-c,t,r-c,u),e.lineTo(t,r-c),e.closePath()};Lf.drawBottomRoundRectanglePath=function(e,t,r,n,a,o){var l=n/2,c=a/2,u=o==="auto"?xp(n,a):o;e.beginPath&&e.beginPath(),e.moveTo(t,r-c),e.lineTo(t+l,r-c),e.lineTo(t+l,r),e.arcTo(t+l,r+c,t,r+c,u),e.arcTo(t-l,r+c,t-l,r,u),e.lineTo(t-l,r-c),e.lineTo(t,r-c),e.closePath()};Lf.drawCutRectanglePath=function(e,t,r,n,a,o,l){var c=n/2,u=a/2,h=l==="auto"?GP():l;e.beginPath&&e.beginPath(),e.moveTo(t-c+h,r-u),e.lineTo(t+c-h,r-u),e.lineTo(t+c,r-u+h),e.lineTo(t+c,r+u-h),e.lineTo(t+c-h,r+u),e.lineTo(t-c+h,r+u),e.lineTo(t-c,r+u-h),e.lineTo(t-c,r-u+h),e.closePath()};Lf.drawBarrelPath=function(e,t,r,n,a){var o=n/2,l=a/2,c=t-o,u=t+o,h=r-l,f=r+l,d=z_(n,a),p=d.widthOffset,g=d.heightOffset,m=d.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(c,h+g),e.lineTo(c,f-g),e.quadraticCurveTo(c+m,f,c+p,f),e.lineTo(u-p,f),e.quadraticCurveTo(u-m,f,u,f-g),e.lineTo(u,h+g),e.quadraticCurveTo(u-m,h,u-p,h),e.lineTo(c+p,h),e.quadraticCurveTo(c+m,h,c,h+g),e.closePath()};var XX=Math.sin(0),KX=Math.cos(0),tN={},rN={},$ve=Math.PI/40;for(var T1=0*Math.PI;T1<2*Math.PI;T1+=$ve)tN[T1]=Math.sin(T1),rN[T1]=Math.cos(T1);Lf.drawEllipsePath=function(e,t,r,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,a/2,0,0,2*Math.PI);else for(var o,l,c=n/2,u=a/2,h=0*Math.PI;h<2*Math.PI;h+=$ve)o=t-c*tN[h]*XX+c*rN[h]*KX,l=r+u*rN[h]*XX+u*tN[h]*KX,h===0?e.moveTo(o,l):e.lineTo(o,l);e.closePath()};var K3={};K3.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};K3.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),o=e.full?Math.ceil(n.w):a[2],l=e.full?Math.ceil(n.h):a[3],c=bt(e.maxWidth)||bt(e.maxHeight),u=this.getPixelRatio(),h=1;if(e.scale!==void 0)o*=e.scale,l*=e.scale,h=e.scale;else if(c){var f=1/0,d=1/0;bt(e.maxWidth)&&(f=h*e.maxWidth/o),bt(e.maxHeight)&&(d=h*e.maxHeight/l),h=Math.min(f,d),o*=h,l*=h}c||(o*=u,l*=u,h*=u);var p=document.createElement("canvas");p.width=o,p.height=l,p.style.width=o+"px",p.style.height=l+"px";var g=p.getContext("2d");if(o>0&&l>0){g.clearRect(0,0,o,l),g.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)g.translate(-n.x1*h,-n.y1*h),g.scale(h,h),this.drawElements(g,m),g.scale(1/h,1/h),g.translate(n.x1*h,n.y1*h);else{var y=t.pan(),b={x:y.x*h,y:y.y*h};h*=t.zoom(),g.translate(b.x,b.y),g.scale(h,h),this.drawElements(g,m),g.scale(1/h,1/h),g.translate(-b.x,-b.y)}e.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=e.bg,g.rect(0,0,o,l),g.fill())}return p};function tRt(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return new Blob([n],{type:t})}function ZX(e){var t=e.indexOf(",");return e.substr(t+1)}function Hve(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new jv(function(a,o){try{t.toBlob(function(l){l!=null?a(l):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(l){o(l)}});case"blob":return tRt(ZX(n()),r);case"base64":return ZX(n());case"base64uri":default:return n()}}K3.png=function(e){return Hve(e,this.bufferCanvasImage(e),"image/png")};K3.jpg=function(e){return Hve(e,this.bufferCanvasImage(e),"image/jpeg")};var Uve={};Uve.nodeShapeImpl=function(e,t,r,n,a,o,l,c){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,a,o);case"polygon":return this.drawPolygonPath(t,r,n,a,o,l);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,a,o,l,c);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,a,o,c);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,a,o,l,c);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,a,o,c);case"barrel":return this.drawBarrelPath(t,r,n,a,o)}};var rRt=Wve,br=Wve.prototype;br.CANVAS_LAYERS=3;br.SELECT_BOX=0;br.DRAG=1;br.NODE=2;br.WEBGL=3;br.CANVAS_TYPES=["2d","2d","2d","webgl2"];br.BUFFER_COUNT=3;br.TEXTURE_BUFFER=0;br.MOTIONBLUR_BUFFER_NODE=1;br.MOTIONBLUR_BUFFER_DRAG=2;function Wve(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(br.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(br.CANVAS_LAYERS),contexts:new Array(br.CANVAS_LAYERS),canvasNeedsRedraw:new Array(br.CANVAS_LAYERS),bufferCanvases:new Array(br.BUFFER_COUNT),bufferContexts:new Array(br.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var l=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=o,l.position="relative",l.zIndex="0",l.overflow="hidden";var c=e.cy.container();c.appendChild(t.data.canvasContainer),c.style[a]=o;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};TSt()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var h=0;h<br.CANVAS_LAYERS;h++){var f=t.data.canvases[h]=n.createElement("canvas"),d=br.CANVAS_TYPES[h];t.data.contexts[h]=f.getContext(d),t.data.contexts[h]||Vn("Could not create canvas of type "+d),Object.keys(u).forEach(function(Y){f.style[Y]=u[Y]}),f.style.position="absolute",f.setAttribute("data-id","layer"+h),f.style.zIndex=String(br.CANVAS_LAYERS-h),t.data.canvasContainer.appendChild(f),t.data.canvasNeedsRedraw[h]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[br.NODE].setAttribute("data-id","layer"+br.NODE+"-node"),t.data.canvases[br.SELECT_BOX].setAttribute("data-id","layer"+br.SELECT_BOX+"-selectbox"),t.data.canvases[br.DRAG].setAttribute("data-id","layer"+br.DRAG+"-drag"),t.data.canvases[br.WEBGL]&&t.data.canvases[br.WEBGL].setAttribute("data-id","layer"+br.WEBGL+"-webgl");for(var h=0;h<br.BUFFER_COUNT;h++)t.data.bufferCanvases[h]=n.createElement("canvas"),t.data.bufferContexts[h]=t.data.bufferCanvases[h].getContext("2d"),t.data.bufferCanvases[h].style.position="absolute",t.data.bufferCanvases[h].setAttribute("data-id","buffer"+h),t.data.bufferCanvases[h].style.zIndex=String(-h-1),t.data.bufferCanvases[h].style.visibility="hidden";t.pathsEnabled=!0;var p=co(),g=function(X){return{x:(X.x1+X.x2)/2,y:(X.y1+X.y2)/2}},m=function(X){return{x:-X.w/2,y:-X.h/2}},y=function(X){var K=X[0]._private,z=K.oldBackgroundTimestamp===K.backgroundTimestamp;return!z},b=function(X){return X[0]._private.nodeKey},x=function(X){return X[0]._private.labelStyleKey},T=function(X){return X[0]._private.sourceLabelStyleKey},w=function(X){return X[0]._private.targetLabelStyleKey},E=function(X,K,z,j,te){return t.drawElement(X,K,z,!1,!1,te)},S=function(X,K,z,j,te){return t.drawElementText(X,K,z,j,"main",te)},C=function(X,K,z,j,te){return t.drawElementText(X,K,z,j,"source",te)},k=function(X,K,z,j,te){return t.drawElementText(X,K,z,j,"target",te)},O=function(X){return X.boundingBox(),X[0]._private.bodyBounds},I=function(X){return X.boundingBox(),X[0]._private.labelBounds.main||p},_=function(X){return X.boundingBox(),X[0]._private.labelBounds.source||p},R=function(X){return X.boundingBox(),X[0]._private.labelBounds.target||p},M=function(X,K){return K},$=function(X){return g(O(X))},N=function(X,K,z){var j=X?X+"-":"";return{x:K.x+z.pstyle(j+"text-margin-x").pfValue,y:K.y+z.pstyle(j+"text-margin-y").pfValue}},P=function(X,K,z){var j=X[0]._private.rscratch;return{x:j[K],y:j[z]}},F=function(X){return N("",P(X,"labelX","labelY"),X)},L=function(X){return N("source",P(X,"sourceLabelX","sourceLabelY"),X)},D=function(X){return N("target",P(X,"targetLabelX","targetLabelY"),X)},B=function(X){return m(O(X))},H=function(X){return m(_(X))},U=function(X){return m(R(X))},G=function(X){var K=I(X),z=m(I(X));if(X.isNode()){switch(X.pstyle("text-halign").value){case"left":z.x=-K.w-(K.leftPad||0);break;case"right":z.x=-(K.rightPad||0);break}switch(X.pstyle("text-valign").value){case"top":z.y=-K.h-(K.topPad||0);break;case"bottom":z.y=-(K.botPad||0);break}}return z},W=t.data.eleTxrCache=new E2(t,{getKey:b,doesEleInvalidateKey:y,drawElement:E,getBoundingBox:O,getRotationPoint:$,getRotationOffset:B,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=t.data.lblTxrCache=new E2(t,{getKey:x,drawElement:S,getBoundingBox:I,getRotationPoint:F,getRotationOffset:G,isVisible:M}),ce=t.data.slbTxrCache=new E2(t,{getKey:T,drawElement:C,getBoundingBox:_,getRotationPoint:L,getRotationOffset:H,isVisible:M}),Z=t.data.tlbTxrCache=new E2(t,{getKey:w,drawElement:k,getBoundingBox:R,getRotationPoint:D,getRotationOffset:U,isVisible:M}),J=t.data.lyrTxrCache=new Ive(t);t.onUpdateEleCalcs(function(X,K){W.invalidateElements(K),ee.invalidateElements(K),ce.invalidateElements(K),Z.invalidateElements(K),J.invalidateElements(K);for(var z=0;z<K.length;z++){var j=K[z]._private;j.oldBackgroundTimestamp=j.backgroundTimestamp}});var oe=function(X){for(var K=0;K<X.length;K++)J.enqueueElementRefinement(X[K].ele)};W.onDequeue(oe),ee.onDequeue(oe),ce.onDequeue(oe),Z.onDequeue(oe),e.webgl&&t.initWebgl(e,{getStyleKey:b,getLabelKey:x,drawElement:E,drawLabel:S,getElementBox:O,getLabelBox:I,getElementRotationPoint:$,getElementRotationOffset:B,getLabelRotationPoint:F,getLabelRotationOffset:G})}br.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[br.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[br.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[br.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var nRt=typeof Path2D<"u";br.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};br.usePaths=function(){return nRt&&this.pathsEnabled};br.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};br.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};br.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":ji(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=e,r.height=t}return r};[Rve,Nu,Kh,iF,qp,ry,Ds,Pve,Lf,K3,Uve].forEach(function(e){Jt(br,e)});var iRt=[{name:"null",impl:gve},{name:"base",impl:Ave},{name:"canvas",impl:rRt}],aRt=[{type:"layout",extensions:H7t},{type:"renderer",extensions:iRt}],zve={},Gve={};function Yve(e,t,r){var n=r,a=function(O){Qr("Can not register `"+t+"` for `"+e+"` since `"+O+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(Cx.prototype[t])return a(t);Cx.prototype[t]=r}else if(e==="collection"){if(ka.prototype[t])return a(t);ka.prototype[t]=r}else if(e==="layout"){for(var o=function(O){this.options=O,r.call(this,O),Fr(this._private)||(this._private={}),this._private.cy=O.cy,this._private.listeners=[],this.createEmitter()},l=o.prototype=Object.create(r.prototype),c=[],u=0;u<c.length;u++){var h=c[u];l[h]=l[h]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var f=r.prototype.stop;l.stop=function(){var k=this.options;if(k&&k.animate){var O=this.animations;if(O)for(var I=0;I<O.length;I++)O[I].stop()}return f?f.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var d=function(O){return O._private.cy},p={addEventFields:function(O,I){I.layout=O,I.cy=d(O),I.target=O},bubble:function(){return!0},parent:function(O){return d(O)}};Jt(l,{createEmitter:function(){return this._private.emitter=new pk(p,this),this},emitter:function(){return this._private.emitter},on:function(O,I){return this.emitter().on(O,I),this},one:function(O,I){return this.emitter().one(O,I),this},once:function(O,I){return this.emitter().one(O,I),this},removeListener:function(O,I){return this.emitter().removeListener(O,I),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(O,I){return this.emitter().emit(O,I),this}}),Xr.eventAliasesOn(l),n=o}else if(e==="renderer"&&t!=="null"&&t!=="base"){var g=Vve("renderer","base"),m=g.prototype,y=r,b=r.prototype,x=function(){g.apply(this,arguments),y.apply(this,arguments)},T=x.prototype;for(var w in m){var E=m[w],S=b[w]!=null;if(S)return a(w);T[w]=E}for(var C in b)T[C]=b[C];m.clientFunctions.forEach(function(k){T[k]=T[k]||function(){Vn("Renderer does not implement `renderer."+k+"()` on its prototype")}}),n=x}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Vn(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return cme({map:zve,keys:[e,t],value:n})}function Vve(e,t){return ume({map:zve,keys:[e,t]})}function sRt(e,t,r,n,a){return cme({map:Gve,keys:[e,t,r,n],value:a})}function oRt(e,t,r,n){return ume({map:Gve,keys:[e,t,r,n]})}var nN=function(){if(arguments.length===2)return Vve.apply(null,arguments);if(arguments.length===3)return Yve.apply(null,arguments);if(arguments.length===4)return oRt.apply(null,arguments);if(arguments.length===5)return sRt.apply(null,arguments);Vn("Invalid extension access syntax")};Cx.prototype.extension=nN;aRt.forEach(function(e){e.extensions.forEach(function(t){Yve(e.type,t.name,t.impl)})});var qve=function e(){if(!(this instanceof e))return new e;this.length=0},Ep=qve.prototype;Ep.instanceString=function(){return"stylesheet"};Ep.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Ep.css=function(e,t){var r=this.length-1;if(zt(e))this[r].properties.push({name:e,value:t});else if(Fr(e))for(var n=e,a=Object.keys(n),o=0;o<a.length;o++){var l=a[o],c=n[l];if(c!=null){var u=Ja.properties[l]||Ja.properties[ak(l)];if(u!=null){var h=u.name,f=c;this[r].properties.push({name:h,value:f})}}}return this};Ep.style=Ep.css;Ep.generateStyle=function(e){var t=new Ja(e);return this.appendToStyle(t)};Ep.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,a=r.properties;e.selector(n);for(var o=0;o<a.length;o++){var l=a[o];e.css(l.name,l.value)}}return e};var lRt="3.31.0",yu=function(t){if(t===void 0&&(t={}),Fr(t))return new Cx(t);if(zt(t))return nN.apply(nN,arguments)};yu.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(yu),e.apply(null,t),this};yu.warnings=function(e){return yme(e)};yu.version=lRt;yu.stylesheet=yu.Stylesheet=qve;var jve={exports:{}},G7={exports:{}},Y7={exports:{}},QX;function cRt(){return QX||(QX=1,function(e,t){(function(n,a){e.exports=a()})(As,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return r[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=r,a.c=n,a.i=function(o){return o},a.d=function(o,l,c){a.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:c})},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=26)}([function(r,n,a){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,r.exports=o},function(r,n,a){var o=a(2),l=a(8),c=a(9);function u(f,d,p){o.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=f,this.target=d}u.prototype=Object.create(o.prototype);for(var h in o)u[h]=o[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,d){for(var p=this.getOtherEnd(f),g=d.getGraphManager().getRoot();;){if(p.getOwner()==d)return p;if(p.getOwner()==g)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=l.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=c.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=c.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=c.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=c.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function o(l){this.vGraphObject=l}r.exports=o},function(r,n,a){var o=a(2),l=a(10),c=a(13),u=a(0),h=a(16),f=a(4);function d(g,m,y,b){y==null&&b==null&&(b=m),o.call(this,b),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=l.MIN_VALUE,this.inclusionTreeDepth=l.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=g,y!=null&&m!=null?this.rect=new c(m.x,m.y,y.width,y.height):this.rect=new c}d.prototype=Object.create(o.prototype);for(var p in o)d[p]=o[p];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(g){this.rect.width=g},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(g){this.rect.height=g},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},d.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},d.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},d.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},d.prototype.getEdgeListToNode=function(g){var m=[],y=this;return y.edges.forEach(function(b){if(b.target==g){if(b.source!=y)throw"Incorrect edge source!";m.push(b)}}),m},d.prototype.getEdgesBetween=function(g){var m=[],y=this;return y.edges.forEach(function(b){if(!(b.source==y||b.target==y))throw"Incorrect edge source and/or target";(b.target==g||b.source==g)&&m.push(b)}),m},d.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},d.prototype.withChildren=function(){var g=new Set,m,y;if(g.add(this),this.child!=null)for(var b=this.child.getNodes(),x=0;x<b.length;x++)m=b[x],y=m.withChildren(),y.forEach(function(T){g.add(T)});return g},d.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],g+=m.getNoOfChildren();return g==0&&(g=1),g},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var x=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(T-x)+x,this.rect.x=g,this.rect.y=m},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==l.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new f(m,y),x=g.inverseTransformPoint(b);this.setLocation(x.x,x.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,a){function o(l,c){l==null&&c==null?(this.x=0,this.y=0):(this.x=l,this.y=c)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(l){this.x=l},o.prototype.setY=function(l){this.y=l},o.prototype.getDifference=function(l){return new DimensionD(this.x-l.x,this.y-l.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(l){return this.x+=l.width,this.y+=l.height,this},r.exports=o},function(r,n,a){var o=a(2),l=a(10),c=a(0),u=a(6),h=a(3),f=a(1),d=a(13),p=a(12),g=a(11);function m(b,x,T){o.call(this,T),this.estimatedSize=l.MIN_VALUE,this.margin=c.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,x!=null&&x instanceof u?this.graphManager=x:x!=null&&x instanceof Layout&&(this.graphManager=x.graphManager)}m.prototype=Object.create(o.prototype);for(var y in o)m[y]=o[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,x,T){if(x==null&&T==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var E=b;if(!(this.getNodes().indexOf(x)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(x.owner==T.owner&&x.owner==this))throw"Both owners must be this graph!";return x.owner!=T.owner?null:(E.source=x,E.target=T,E.isInterGraph=!1,this.getEdges().push(E),x.edges.push(E),T!=x&&T.edges.push(E),E)}},m.prototype.remove=function(b){var x=b;if(b instanceof h){if(x==null)throw"Node is null!";if(!(x.owner!=null&&x.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=x.edges.slice(),w,E=T.length,S=0;S<E;S++)w=T[S],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var C=this.nodes.indexOf(x);if(C==-1)throw"Node not in owner node list!";this.nodes.splice(C,1)}else if(b instanceof f){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var k=w.source.edges.indexOf(w),O=w.target.edges.indexOf(w);if(!(k>-1&&O>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(k,1),w.target!=w.source&&w.target.edges.splice(O,1);var C=w.source.owner.getEdges().indexOf(w);if(C==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(C,1)}},m.prototype.updateLeftTop=function(){for(var b=l.MAX_VALUE,x=l.MAX_VALUE,T,w,E,S=this.getNodes(),C=S.length,k=0;k<C;k++){var O=S[k];T=O.getTop(),w=O.getLeft(),b>T&&(b=T),x>w&&(x=w)}return b==l.MAX_VALUE?null:(S[0].getParent().paddingLeft!=null?E=S[0].getParent().paddingLeft:E=this.margin,this.left=x-E,this.top=b-E,new p(this.left,this.top))},m.prototype.updateBounds=function(b){for(var x=l.MAX_VALUE,T=-l.MAX_VALUE,w=l.MAX_VALUE,E=-l.MAX_VALUE,S,C,k,O,I,_=this.nodes,R=_.length,M=0;M<R;M++){var $=_[M];b&&$.child!=null&&$.updateBounds(),S=$.getLeft(),C=$.getRight(),k=$.getTop(),O=$.getBottom(),x>S&&(x=S),T<C&&(T=C),w>k&&(w=k),E<O&&(E=O)}var N=new d(x,w,T-x,E-w);x==l.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),_[0].getParent().paddingLeft!=null?I=_[0].getParent().paddingLeft:I=this.margin,this.left=N.x-I,this.right=N.x+N.width+I,this.top=N.y-I,this.bottom=N.y+N.height+I},m.calculateBounds=function(b){for(var x=l.MAX_VALUE,T=-l.MAX_VALUE,w=l.MAX_VALUE,E=-l.MAX_VALUE,S,C,k,O,I=b.length,_=0;_<I;_++){var R=b[_];S=R.getLeft(),C=R.getRight(),k=R.getTop(),O=R.getBottom(),x>S&&(x=S),T<C&&(T=C),w>k&&(w=k),E<O&&(E=O)}var M=new d(x,w,T-x,E-w);return M},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,x=this.nodes,T=x.length,w=0;w<T;w++){var E=x[w];b+=E.calcEstimatedSize()}return b==0?this.estimatedSize=c.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var x=new g,T=new Set,w=this.nodes[0],E,S,C=w.withChildren();for(C.forEach(function(M){x.push(M),T.add(M)});x.length!==0;){w=x.shift(),E=w.getEdges();for(var k=E.length,O=0;O<k;O++){var I=E[O];if(S=I.getOtherEndInGraph(w,this),S!=null&&!T.has(S)){var _=S.withChildren();_.forEach(function(M){x.push(M),T.add(M)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var R=0;T.forEach(function(M){M.owner==b&&R++}),R==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,a){var o,l=a(1);function c(u){o=a(5),this.layout=u,this.graphs=[],this.edges=[]}c.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),f=this.add(u,h);return this.setRootGraph(f),this.rootGraph},c.prototype.add=function(u,h,f,d,p){if(f==null&&d==null&&p==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{p=f,d=h,f=u;var g=d.getOwner(),m=p.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return f.isInterGraph=!1,g.add(f,d,p);if(f.isInterGraph=!0,f.source=d,f.target=p,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},c.prototype.remove=function(u){if(u instanceof o){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(h.getEdges());for(var d,p=f.length,g=0;g<p;g++)d=f[g],h.remove(d);var m=[];m=m.concat(h.getNodes());var y;p=m.length;for(var g=0;g<p;g++)y=m[g],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof l){if(d=u,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var b=d.source.edges.indexOf(d);if(d.source.edges.splice(b,1),b=d.target.edges.indexOf(d),d.target.edges.splice(b,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var b=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(b,1)}},c.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},c.prototype.getGraphs=function(){return this.graphs},c.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),f=h.length,d=0;d<f;d++)u=u.concat(h[d].getNodes());this.allNodes=u}return this.allNodes},c.prototype.resetAllNodes=function(){this.allNodes=null},c.prototype.resetAllEdges=function(){this.allEdges=null},c.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},c.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],h=this.getGraphs();h.length;for(var f=0;f<h.length;f++)u=u.concat(h[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},c.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},c.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},c.prototype.getRoot=function(){return this.rootGraph},c.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},c.prototype.getLayout=function(){return this.layout},c.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var f=u.getOwner(),d;do{if(d=f.getParent(),d==null)break;if(d==h)return!0;if(f=d.getOwner(),f==null)break}while(!0);f=h.getOwner();do{if(d=f.getParent(),d==null)break;if(d==u)return!0;if(f=d.getOwner(),f==null)break}while(!0);return!1},c.prototype.calcLowestCommonAncestors=function(){for(var u,h,f,d,p,g=this.getAllEdges(),m=g.length,y=0;y<m;y++){if(u=g[y],h=u.source,f=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=f,h==f){u.lca=h.getOwner();continue}for(d=h.getOwner();u.lca==null;){for(u.targetInLca=f,p=f.getOwner();u.lca==null;){if(p==d){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(d==this.rootGraph)break;u.lca==null&&(u.sourceInLca=d.getParent(),d=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},c.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var d=h.getOwner();do{if(d==null)break;if(d==f)return d;d=d.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},c.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var f,d=u.getNodes(),p=d.length,g=0;g<p;g++)f=d[g],f.inclusionTreeDepth=h,f.child!=null&&this.calcInclusionTreeDepths(f.child,h+1)},c.prototype.includesInvalidEdge=function(){for(var u,h=this.edges.length,f=0;f<h;f++)if(u=this.edges[f],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=c},function(r,n,a){var o=a(0);function l(){}for(var c in o)l[c]=o[c];l.MAX_ITERATIONS=2500,l.DEFAULT_EDGE_LENGTH=50,l.DEFAULT_SPRING_STRENGTH=.45,l.DEFAULT_REPULSION_STRENGTH=4500,l.DEFAULT_GRAVITY_STRENGTH=.4,l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,l.COOLING_ADAPTATION_FACTOR=.33,l.ADAPTATION_LOWER_NODE_LIMIT=1e3,l.ADAPTATION_UPPER_NODE_LIMIT=5e3,l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,l.MAX_NODE_DISPLACEMENT=l.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,l.CONVERGENCE_CHECK_PERIOD=100,l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,l.MIN_EDGE_LENGTH=1,l.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=l},function(r,n,a){var o=a(12);function l(){}l.calcSeparationAmount=function(c,u,h,f){if(!c.intersects(u))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(c,u,d),h[0]=Math.min(c.getRight(),u.getRight())-Math.max(c.x,u.x),h[1]=Math.min(c.getBottom(),u.getBottom())-Math.max(c.y,u.y),c.getX()<=u.getX()&&c.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-c.getX(),c.getRight()-u.getRight()):u.getX()<=c.getX()&&u.getRight()>=c.getRight()&&(h[0]+=Math.min(c.getX()-u.getX(),u.getRight()-c.getRight())),c.getY()<=u.getY()&&c.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-c.getY(),c.getBottom()-u.getBottom()):u.getY()<=c.getY()&&u.getBottom()>=c.getBottom()&&(h[1]+=Math.min(c.getY()-u.getY(),u.getBottom()-c.getBottom()));var p=Math.abs((u.getCenterY()-c.getCenterY())/(u.getCenterX()-c.getCenterX()));u.getCenterY()===c.getCenterY()&&u.getCenterX()===c.getCenterX()&&(p=1);var g=p*h[0],m=h[1]/p;h[0]<m?m=h[0]:g=h[1],h[0]=-1*d[0]*(m/2+f),h[1]=-1*d[1]*(g/2+f)},l.decideDirectionsForOverlappingNodes=function(c,u,h){c.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,c.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},l.getIntersection2=function(c,u,h){var f=c.getCenterX(),d=c.getCenterY(),p=u.getCenterX(),g=u.getCenterY();if(c.intersects(u))return h[0]=f,h[1]=d,h[2]=p,h[3]=g,!0;var m=c.getX(),y=c.getY(),b=c.getRight(),x=c.getX(),T=c.getBottom(),w=c.getRight(),E=c.getWidthHalf(),S=c.getHeightHalf(),C=u.getX(),k=u.getY(),O=u.getRight(),I=u.getX(),_=u.getBottom(),R=u.getRight(),M=u.getWidthHalf(),$=u.getHeightHalf(),N=!1,P=!1;if(f===p){if(d>g)return h[0]=f,h[1]=y,h[2]=p,h[3]=_,!1;if(d<g)return h[0]=f,h[1]=T,h[2]=p,h[3]=k,!1}else if(d===g){if(f>p)return h[0]=m,h[1]=d,h[2]=O,h[3]=g,!1;if(f<p)return h[0]=b,h[1]=d,h[2]=C,h[3]=g,!1}else{var F=c.height/c.width,L=u.height/u.width,D=(g-d)/(p-f),B=void 0,H=void 0,U=void 0,G=void 0,W=void 0,ee=void 0;if(-F===D?f>p?(h[0]=x,h[1]=T,N=!0):(h[0]=b,h[1]=y,N=!0):F===D&&(f>p?(h[0]=m,h[1]=y,N=!0):(h[0]=w,h[1]=T,N=!0)),-L===D?p>f?(h[2]=I,h[3]=_,P=!0):(h[2]=O,h[3]=k,P=!0):L===D&&(p>f?(h[2]=C,h[3]=k,P=!0):(h[2]=R,h[3]=_,P=!0)),N&&P)return!1;if(f>p?d>g?(B=this.getCardinalDirection(F,D,4),H=this.getCardinalDirection(L,D,2)):(B=this.getCardinalDirection(-F,D,3),H=this.getCardinalDirection(-L,D,1)):d>g?(B=this.getCardinalDirection(-F,D,1),H=this.getCardinalDirection(-L,D,3)):(B=this.getCardinalDirection(F,D,2),H=this.getCardinalDirection(L,D,4)),!N)switch(B){case 1:G=y,U=f+-S/D,h[0]=U,h[1]=G;break;case 2:U=w,G=d+E*D,h[0]=U,h[1]=G;break;case 3:G=T,U=f+S/D,h[0]=U,h[1]=G;break;case 4:U=x,G=d+-E*D,h[0]=U,h[1]=G;break}if(!P)switch(H){case 1:ee=k,W=p+-$/D,h[2]=W,h[3]=ee;break;case 2:W=R,ee=g+M*D,h[2]=W,h[3]=ee;break;case 3:ee=_,W=p+$/D,h[2]=W,h[3]=ee;break;case 4:W=I,ee=g+-M*D,h[2]=W,h[3]=ee;break}}return!1},l.getCardinalDirection=function(c,u,h){return c>u?h:1+h%4},l.getIntersection=function(c,u,h,f){if(f==null)return this.getIntersection2(c,u,h);var d=c.x,p=c.y,g=u.x,m=u.y,y=h.x,b=h.y,x=f.x,T=f.y,w=void 0,E=void 0,S=void 0,C=void 0,k=void 0,O=void 0,I=void 0,_=void 0,R=void 0;return S=m-p,k=d-g,I=g*p-d*m,C=T-b,O=y-x,_=x*b-y*T,R=S*O-C*k,R===0?null:(w=(k*_-O*I)/R,E=(C*I-S*_)/R,new o(w,E))},l.angleOfVector=function(c,u,h,f){var d=void 0;return c!==h?(d=Math.atan((f-u)/(h-c)),h<c?d+=Math.PI:f<u&&(d+=this.TWO_PI)):f<u?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},l.doIntersect=function(c,u,h,f){var d=c.x,p=c.y,g=u.x,m=u.y,y=h.x,b=h.y,x=f.x,T=f.y,w=(g-d)*(T-b)-(x-y)*(m-p);if(w===0)return!1;var E=((T-b)*(x-d)+(y-x)*(T-p))/w,S=((p-m)*(x-d)+(g-d)*(T-p))/w;return 0<E&&E<1&&0<S&&S<1},l.HALF_PI=.5*Math.PI,l.ONE_AND_HALF_PI=1.5*Math.PI,l.TWO_PI=2*Math.PI,l.THREE_PI=3*Math.PI,r.exports=l},function(r,n,a){function o(){}o.sign=function(l){return l>0?1:l<0?-1:0},o.floor=function(l){return l<0?Math.ceil(l):Math.floor(l)},o.ceil=function(l){return l<0?Math.floor(l):Math.ceil(l)},r.exports=o},function(r,n,a){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,r.exports=o},function(r,n,a){var o=function(){function d(p,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,m){return g&&d(p.prototype,g),m&&d(p,m),p}}();function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var c=function(p){return{value:p,next:null,prev:null}},u=function(p,g,m,y){return p!==null?p.next=g:y.head=g,m!==null?m.prev=g:y.tail=g,g.prev=p,g.next=m,y.length++,g},h=function(p,g){var m=p.prev,y=p.next;return m!==null?m.next=y:g.head=y,y!==null?y.prev=m:g.tail=m,p.prev=p.next=null,g.length--,p},f=function(){function d(p){var g=this;l(this,d),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(m){return g.push(m)})}return o(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(g,m){return u(m.prev,c(g),m,this)}},{key:"insertAfter",value:function(g,m){return u(m,c(g),m.next,this)}},{key:"insertNodeBefore",value:function(g,m){return u(m.prev,g,m,this)}},{key:"insertNodeAfter",value:function(g,m){return u(m,g,m.next,this)}},{key:"push",value:function(g){return u(this.tail,c(g),null,this)}},{key:"unshift",value:function(g){return u(null,c(g),this.head,this)}},{key:"remove",value:function(g){return h(g,this)}},{key:"pop",value:function(){return h(this.tail,this).value}},{key:"popNode",value:function(){return h(this.tail,this)}},{key:"shift",value:function(){return h(this.head,this).value}},{key:"shiftNode",value:function(){return h(this.head,this)}},{key:"get_object_at",value:function(g){if(g<=this.length()){for(var m=1,y=this.head;m<g;)y=y.next,m++;return y.value}}},{key:"set_object_at",value:function(g,m){if(g<=this.length()){for(var y=1,b=this.head;y<g;)b=b.next,y++;b.value=m}}}]),d}();r.exports=f},function(r,n,a){function o(l,c,u){this.x=null,this.y=null,l==null&&c==null&&u==null?(this.x=0,this.y=0):typeof l=="number"&&typeof c=="number"&&u==null?(this.x=l,this.y=c):l.constructor.name=="Point"&&c==null&&u==null&&(u=l,this.x=u.x,this.y=u.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(l,c,u){l.constructor.name=="Point"&&c==null&&u==null?(u=l,this.setLocation(u.x,u.y)):typeof l=="number"&&typeof c=="number"&&u==null&&(parseInt(l)==l&&parseInt(c)==c?this.move(l,c):(this.x=Math.floor(l+.5),this.y=Math.floor(c+.5)))},o.prototype.move=function(l,c){this.x=l,this.y=c},o.prototype.translate=function(l,c){this.x+=l,this.y+=c},o.prototype.equals=function(l){if(l.constructor.name=="Point"){var c=l;return this.x==c.x&&this.y==c.y}return this==l},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=o},function(r,n,a){function o(l,c,u,h){this.x=0,this.y=0,this.width=0,this.height=0,l!=null&&c!=null&&u!=null&&h!=null&&(this.x=l,this.y=c,this.width=u,this.height=h)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(l){this.x=l},o.prototype.getY=function(){return this.y},o.prototype.setY=function(l){this.y=l},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(l){return!(this.getRight()<l.x||this.getBottom()<l.y||l.getRight()<this.x||l.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},r.exports=o},function(r,n,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};function l(){}l.lastID=0,l.createID=function(c){return l.isPrimitive(c)?c:(c.uniqueID!=null||(c.uniqueID=l.getString(),l.lastID++),c.uniqueID)},l.getString=function(c){return c==null&&(c=l.lastID),"Object#"+c},l.isPrimitive=function(c){var u=typeof c>"u"?"undefined":o(c);return c==null||u!="object"&&u!="function"},r.exports=l},function(r,n,a){function o(y){if(Array.isArray(y)){for(var b=0,x=Array(y.length);b<y.length;b++)x[b]=y[b];return x}else return Array.from(y)}var l=a(0),c=a(6),u=a(3),h=a(1),f=a(5),d=a(4),p=a(17),g=a(27);function m(y){g.call(this),this.layoutQuality=l.QUALITY,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=l.DEFAULT_INCREMENTAL,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new c(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new c(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new f(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),l.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),b=0;b<y.length;b++)y[b];for(var x=this.graphManager.getRoot().getNodes(),b=0;b<x.length;b++)x[b];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var x=b.getChild().getNodes(),T=0;T<x.length;T++)update(x[T]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof h){var E=y;if(E.vGraphObject!=null){var S=E.vGraphObject;S.update(E)}}else if(y instanceof f){var C=y;if(C.vGraphObject!=null){var k=C.vGraphObject;k.update(C)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=l.QUALITY,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=l.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new d(0,0));else{var b=new p,x=this.graphManager.getRoot().updateLeftTop();if(x!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(x.x),b.setDeviceOrgY(x.y);for(var T=this.getAllNodes(),w,E=0;E<T.length;E++)w=T[E],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,x,T=y.getNodes(),w=0;w<T.length;w++)b=T[w],x=b.getChild(),x==null||x.getNodes().length==0?b.scatter():(this.positionNodesRandomly(x),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,x=this.graphManager.getRoot().getNodes(),T=!0,w=0;w<x.length;w++)x[w].getChild()!=null&&(T=!1);if(!T)return y;var E=new Set,S=[],C=new Map,k=[];for(k=k.concat(x);k.length>0&&b;){for(S.push(k[0]);S.length>0&&b;){var O=S[0];S.splice(0,1),E.add(O);for(var I=O.getEdges(),w=0;w<I.length;w++){var _=I[w].getOtherEnd(O);if(C.get(O)!=_)if(!E.has(_))S.push(_),C.set(_,O);else{b=!1;break}}}if(!b)y=[];else{var R=[].concat(o(E));y.push(R);for(var w=0;w<R.length;w++){var M=R[w],$=k.indexOf(M);$>-1&&k.splice($,1)}E=new Set,C=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],x=y.source,T=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),T.add(E);var S=this.newEdge(null);this.graphManager.add(S,x,E),b.add(E),x=E}var S=this.newEdge(null);return this.graphManager.add(S,x,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):T.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(o(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var x=y[b];if(x.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(x),w=0;w<T.length;w++){var E=T[w],S=new d(E.getCenterX(),E.getCenterY()),C=x.bendpoints.get(w);C.x=S.x,C.y=S.y,E.getOwner().remove(E)}this.graphManager.add(x,x.source,x.target)}}},m.transform=function(y,b,x,T){if(x!=null&&T!=null){var w=b;if(y<=50){var E=b/x;w-=(b-E)/50*(50-y)}else{var S=b*T;w+=(S-b)/50*(y-50)}return w}else{var C,k;return y<=50?(C=9*b/500,k=b/10):(C=9*b/50,k=-8*b),C*y+k}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var x=[],T=new Map,w=!1,E=null;(b.length==1||b.length==2)&&(w=!0,E=b[0]);for(var S=0;S<b.length;S++){var C=b[S],k=C.getNeighborsList().size;T.set(C,C.getNeighborsList().size),k==1&&x.push(C)}var O=[];for(O=O.concat(x);!w;){var I=[];I=I.concat(O),O=[];for(var S=0;S<b.length;S++){var C=b[S],_=b.indexOf(C);_>=0&&b.splice(_,1);var R=C.getNeighborsList();R.forEach(function(N){if(x.indexOf(N)<0){var P=T.get(N),F=P-1;F==1&&O.push(N),T.set(N,F)}})}x=x.concat(O),(b.length==1||b.length==2)&&(w=!0,E=b[0])}return E},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,a){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},r.exports=o},function(r,n,a){var o=a(4);function l(c,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l.prototype.getWorldOrgX=function(){return this.lworldOrgX},l.prototype.setWorldOrgX=function(c){this.lworldOrgX=c},l.prototype.getWorldOrgY=function(){return this.lworldOrgY},l.prototype.setWorldOrgY=function(c){this.lworldOrgY=c},l.prototype.getWorldExtX=function(){return this.lworldExtX},l.prototype.setWorldExtX=function(c){this.lworldExtX=c},l.prototype.getWorldExtY=function(){return this.lworldExtY},l.prototype.setWorldExtY=function(c){this.lworldExtY=c},l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},l.prototype.setDeviceOrgX=function(c){this.ldeviceOrgX=c},l.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},l.prototype.setDeviceOrgY=function(c){this.ldeviceOrgY=c},l.prototype.getDeviceExtX=function(){return this.ldeviceExtX},l.prototype.setDeviceExtX=function(c){this.ldeviceExtX=c},l.prototype.getDeviceExtY=function(){return this.ldeviceExtY},l.prototype.setDeviceExtY=function(c){this.ldeviceExtY=c},l.prototype.transformX=function(c){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(c-this.lworldOrgX)*this.ldeviceExtX/h),u},l.prototype.transformY=function(c){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(c-this.lworldOrgY)*this.ldeviceExtY/h),u},l.prototype.inverseTransformX=function(c){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(c-this.ldeviceOrgX)*this.lworldExtX/h),u},l.prototype.inverseTransformY=function(c){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(c-this.ldeviceOrgY)*this.lworldExtY/h),u},l.prototype.inverseTransformPoint=function(c){var u=new o(this.inverseTransformX(c.x),this.inverseTransformY(c.y));return u},r.exports=l},function(r,n,a){function o(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}var l=a(15),c=a(7),u=a(0),h=a(8),f=a(9);function d(){l.call(this),this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH,this.springConstant=c.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*c.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=c.MAX_ITERATIONS}d.prototype=Object.create(l.prototype);for(var p in l)d[p]=l[p];d.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=c.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,b,x,T,w=this.getGraphManager().getAllEdges(),E=0;E<w.length;E++)g=w[E],g.idealLength=this.idealEdgeLength,g.isInterGraph&&(y=g.getSource(),b=g.getTarget(),x=g.getSourceInLca().getEstimatedSize(),T=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=x+T-2*u.SIMPLE_NODE_SIZE),m=g.getLca().getInclusionTreeDepth(),g.idealLength+=c.DEFAULT_EDGE_LENGTH*c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*m))},d.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>c.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*c.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-c.ADAPTATION_LOWER_NODE_LIMIT)/(c.ADAPTATION_UPPER_NODE_LIMIT-c.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-c.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=c.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>c.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(c.COOLING_ADAPTATION_FACTOR,1-(g-c.ADAPTATION_LOWER_NODE_LIMIT)/(c.ADAPTATION_UPPER_NODE_LIMIT-c.ADAPTATION_LOWER_NODE_LIMIT)*(1-c.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=c.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,y=0;y<g.length;y++)m=g[y],this.calcSpringForce(m,m.idealLength)},d.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,x,T,w=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%c.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),E=new Set,y=0;y<w.length;y++)x=w[y],this.calculateRepulsionForceOfANode(x,E,g,m),E.add(x);else for(y=0;y<w.length;y++)for(x=w[y],b=y+1;b<w.length;b++)T=w[b],x.getOwner()==T.getOwner()&&this.calcRepulsionForce(x,T)},d.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},d.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,y=0;y<g.length;y++)m=g[y],m.move()},d.prototype.calcSpringForce=function(g,m){var y=g.getSource(),b=g.getTarget(),x,T,w,E;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;x=g.getLength(),x!=0&&(T=this.springConstant*(x-m),w=T*(g.lengthX/x),E=T*(g.lengthY/x),y.springForceX+=w,y.springForceY+=E,b.springForceX-=w,b.springForceY-=E)},d.prototype.calcRepulsionForce=function(g,m){var y=g.getRect(),b=m.getRect(),x=new Array(2),T=new Array(4),w,E,S,C,k,O,I;if(y.intersects(b)){h.calcSeparationAmount(y,b,x,c.DEFAULT_EDGE_LENGTH/2),O=2*x[0],I=2*x[1];var _=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=_*O,g.repulsionForceY-=_*I,m.repulsionForceX+=_*O,m.repulsionForceY+=_*I}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),E=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,T),w=T[2]-T[0],E=T[3]-T[1]),Math.abs(w)<c.MIN_REPULSION_DIST&&(w=f.sign(w)*c.MIN_REPULSION_DIST),Math.abs(E)<c.MIN_REPULSION_DIST&&(E=f.sign(E)*c.MIN_REPULSION_DIST),S=w*w+E*E,C=Math.sqrt(S),k=this.repulsionConstant*g.noOfChildren*m.noOfChildren/S,O=k*w/C,I=k*E/C,g.repulsionForceX-=O,g.repulsionForceY-=I,m.repulsionForceX+=O,m.repulsionForceY+=I},d.prototype.calcGravitationalForce=function(g){var m,y,b,x,T,w,E,S;m=g.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,x=g.getCenterX()-y,T=g.getCenterY()-b,w=Math.abs(x)+g.getWidth()/2,E=Math.abs(T)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(S=m.getEstimatedSize()*this.gravityRangeFactor,(w>S||E>S)&&(g.gravitationForceX=-this.gravityConstant*x,g.gravitationForceY=-this.gravityConstant*T)):(S=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>S||E>S)&&(g.gravitationForceX=-this.gravityConstant*x*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},d.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)g=m[y],g.noOfChildren=g.getNoOfChildren()},d.prototype.calcGrid=function(g){var m=0,y=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var b=new Array(m),x=0;x<m;x++)b[x]=new Array(y);for(var x=0;x<m;x++)for(var T=0;T<y;T++)b[x][T]=new Array;return b},d.prototype.addNodeToGrid=function(g,m,y){var b=0,x=0,T=0,w=0;b=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),T=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var E=b;E<=x;E++)for(var S=T;S<=w;S++)this.grid[E][S].push(g),g.setGridCoordinates(b,x,T,w)},d.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(g,m,y,b){if(this.totalIterations%c.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var x=new Set;g.surrounding=new Array;for(var T,w=this.grid,E=g.startX-1;E<g.finishX+2;E++)for(var S=g.startY-1;S<g.finishY+2;S++)if(!(E<0||S<0||E>=w.length||S>=w[0].length)){for(var C=0;C<w[E][S].length;C++)if(T=w[E][S][C],!(g.getOwner()!=T.getOwner()||g==T)&&!m.has(T)&&!x.has(T)){var k=Math.abs(g.getCenterX()-T.getCenterX())-(g.getWidth()/2+T.getWidth()/2),O=Math.abs(g.getCenterY()-T.getCenterY())-(g.getHeight()/2+T.getHeight()/2);k<=this.repulsionRange&&O<=this.repulsionRange&&x.add(T)}}g.surrounding=[].concat(o(x))}for(E=0;E<g.surrounding.length;E++)this.calcRepulsionForce(g,g.surrounding[E])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,a){var o=a(1),l=a(7);function c(h,f,d){o.call(this,h,f,d),this.idealLength=l.DEFAULT_EDGE_LENGTH}c.prototype=Object.create(o.prototype);for(var u in o)c[u]=o[u];r.exports=c},function(r,n,a){var o=a(3);function l(u,h,f,d){o.call(this,u,h,f,d),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l.prototype=Object.create(o.prototype);for(var c in o)l[c]=o[c];l.prototype.setGridCoordinates=function(u,h,f,d){this.startX=u,this.finishX=h,this.startY=f,this.finishY=d},r.exports=l},function(r,n,a){function o(l,c){this.width=0,this.height=0,l!==null&&c!==null&&(this.height=c,this.width=l)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},r.exports=o},function(r,n,a){var o=a(14);function l(){this.map={},this.keys=[]}l.prototype.put=function(c,u){var h=o.createID(c);this.contains(h)||(this.map[h]=u,this.keys.push(c))},l.prototype.contains=function(c){return o.createID(c),this.map[c]!=null},l.prototype.get=function(c){var u=o.createID(c);return this.map[u]},l.prototype.keySet=function(){return this.keys},r.exports=l},function(r,n,a){var o=a(14);function l(){this.set={}}l.prototype.add=function(c){var u=o.createID(c);this.contains(u)||(this.set[u]=c)},l.prototype.remove=function(c){delete this.set[o.createID(c)]},l.prototype.clear=function(){this.set={}},l.prototype.contains=function(c){return this.set[o.createID(c)]==c},l.prototype.isEmpty=function(){return this.size()===0},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAllTo=function(c){for(var u=Object.keys(this.set),h=u.length,f=0;f<h;f++)c.push(this.set[u[f]])},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAll=function(c){for(var u=c.length,h=0;h<u;h++){var f=c[h];this.add(f)}},r.exports=l},function(r,n,a){var o=function(){function h(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,d,p){return d&&h(f.prototype,d),p&&h(f,p),f}}();function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var c=a(11),u=function(){function h(f,d){l(this,h),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;f instanceof c?p=f.size():p=f.length,this._quicksort(f,0,p-1)}return o(h,[{key:"_quicksort",value:function(d,p,g){if(p<g){var m=this._partition(d,p,g);this._quicksort(d,p,m),this._quicksort(d,m+1,g)}}},{key:"_partition",value:function(d,p,g){for(var m=this._get(d,p),y=p,b=g;;){for(;this.compareFunction(m,this._get(d,b));)b--;for(;this.compareFunction(this._get(d,y),m);)y++;if(y<b)this._swap(d,y,b),y++,b--;else return b}}},{key:"_get",value:function(d,p){return d instanceof c?d.get_object_at(p):d[p]}},{key:"_set",value:function(d,p,g){d instanceof c?d.set_object_at(p,g):d[p]=g}},{key:"_swap",value:function(d,p,g){var m=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,m)}},{key:"_defaultCompareFunction",value:function(d,p){return p>d}}]),h}();r.exports=u},function(r,n,a){var o=function(){function u(h,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,f,d){return f&&u(h.prototype,f),d&&u(h,d),h}}();function l(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function u(h,f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;l(this,u),this.sequence1=h,this.sequence2=f,this.match_score=d,this.mismatch_penalty=p,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.tracebackGrid[b][x]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var m=void 0;this.sequence1[p-1]===this.sequence2[g-1]?m=this.grid[p-1][g-1]+this.match_score:m=this.grid[p-1][g-1]+this.mismatch_penalty;var y=this.grid[p-1][g]+this.gap_penalty,b=this.grid[p][g-1]+this.gap_penalty,x=[m,y,b],T=this.arrayAllMaxIndexes(x);this.grid[p][g]=x[T[0]],this.tracebackGrid[p][g]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var d=f[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&f.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&f.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&f.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,d){for(var p=[],g=-1;(g=f.indexOf(d,g+1))!==-1;)p.push(g);return p}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=c},function(r,n,a){var o=function(){};o.FDLayout=a(18),o.FDLayoutConstants=a(7),o.FDLayoutEdge=a(19),o.FDLayoutNode=a(20),o.DimensionD=a(21),o.HashMap=a(22),o.HashSet=a(23),o.IGeometry=a(8),o.IMath=a(9),o.Integer=a(10),o.Point=a(12),o.PointD=a(4),o.RandomSeed=a(16),o.RectangleD=a(13),o.Transform=a(17),o.UniqueIDGeneretor=a(14),o.Quicksort=a(24),o.LinkedList=a(11),o.LGraphObject=a(2),o.LGraph=a(5),o.LEdge=a(1),o.LGraphManager=a(6),o.LNode=a(3),o.Layout=a(15),o.LayoutConstants=a(0),o.NeedlemanWunsch=a(25),r.exports=o},function(r,n,a){function o(){this.listeners=[]}var l=o.prototype;l.addListener=function(c,u){this.listeners.push({event:c,callback:u})},l.removeListener=function(c,u){for(var h=this.listeners.length;h>=0;h--){var f=this.listeners[h];f.event===c&&f.callback===u&&this.listeners.splice(h,1)}},l.emit=function(c,u){for(var h=0;h<this.listeners.length;h++){var f=this.listeners[h];c===f.event&&f.callback(u)}},r.exports=o}])})}(Y7)),Y7.exports}var JX;function uRt(){return JX||(JX=1,function(e,t){(function(n,a){e.exports=a(cRt())})(As,function(r){return function(n){var a={};function o(l){if(a[l])return a[l].exports;var c=a[l]={i:l,l:!1,exports:{}};return n[l].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=n,o.c=a,o.i=function(l){return l},o.d=function(l,c,u){o.o(l,c)||Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:u})},o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,"a",c),c},o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},o.p="",o(o.s=7)}([function(n,a){n.exports=r},function(n,a,o){var l=o(0).FDLayoutConstants;function c(){}for(var u in l)c[u]=l[u];c.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,c.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,c.DEFAULT_COMPONENT_SEPERATION=60,c.TILE=!0,c.TILING_PADDING_VERTICAL=10,c.TILING_PADDING_HORIZONTAL=10,c.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=c},function(n,a,o){var l=o(0).FDLayoutEdge;function c(h,f,d){l.call(this,h,f,d)}c.prototype=Object.create(l.prototype);for(var u in l)c[u]=l[u];n.exports=c},function(n,a,o){var l=o(0).LGraph;function c(h,f,d){l.call(this,h,f,d)}c.prototype=Object.create(l.prototype);for(var u in l)c[u]=l[u];n.exports=c},function(n,a,o){var l=o(0).LGraphManager;function c(h){l.call(this,h)}c.prototype=Object.create(l.prototype);for(var u in l)c[u]=l[u];n.exports=c},function(n,a,o){var l=o(0).FDLayoutNode,c=o(0).IMath;function u(f,d,p,g){l.call(this,f,d,p,g)}u.prototype=Object.create(l.prototype);for(var h in l)u[h]=l[h];u.prototype.move=function(){var f=this.graphManager.getLayout();this.displacementX=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*c.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*c.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(f,d){for(var p=this.getChild().getNodes(),g,m=0;m<p.length;m++)g=p[m],g.getChild()==null?(g.moveBy(f,d),g.displacementX+=f,g.displacementY+=d):g.propogateDisplacementToChildren(f,d)},u.prototype.setPred1=function(f){this.pred1=f},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(f){this.next=f},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(f){this.processed=f},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,a,o){var l=o(0).FDLayout,c=o(4),u=o(3),h=o(5),f=o(2),d=o(1),p=o(0).FDLayoutConstants,g=o(0).LayoutConstants,m=o(0).Point,y=o(0).PointD,b=o(0).Layout,x=o(0).Integer,T=o(0).IGeometry,w=o(0).LGraph,E=o(0).Transform;function S(){l.call(this),this.toBeTiled={}}S.prototype=Object.create(l.prototype);for(var C in l)S[C]=l[C];S.prototype.newGraphManager=function(){var k=new c(this);return this.graphManager=k,k},S.prototype.newGraph=function(k){return new u(null,this.graphManager,k)},S.prototype.newNode=function(k){return new h(this.graphManager,k)},S.prototype.newEdge=function(k){return new f(null,null,k)},S.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(d.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=d.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},S.prototype.layout=function(){var k=g.DEFAULT_CREATE_BENDS_AS_NEEDED;return k&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},S.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(d.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(M){return O.has(M)});this.graphManager.setAllNodesToApplyGravitation(I)}}else{var k=this.getFlatForest();if(k.length>0)this.positionNodesRadially(k);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(_){return O.has(_)});this.graphManager.setAllNodesToApplyGravitation(I),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},S.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var k=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(R){return k.has(R)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var I=!this.isTreeGrowing&&!this.isGrowthFinished,_=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(I,_),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},S.prototype.getPositionsData=function(){for(var k=this.graphManager.getAllNodes(),O={},I=0;I<k.length;I++){var _=k[I].rect,R=k[I].id;O[R]={id:R,x:_.getCenterX(),y:_.getCenterY(),w:_.width,h:_.height}}return O},S.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var k=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!k;)k=this.tick();this.graphManager.updateBounds()}},S.prototype.calculateNodesToApplyGravitationTo=function(){var k=[],O,I=this.graphManager.getGraphs(),_=I.length,R;for(R=0;R<_;R++)O=I[R],O.updateConnected(),O.isConnected||(k=k.concat(O.getNodes()));return k},S.prototype.createBendpoints=function(){var k=[];k=k.concat(this.graphManager.getAllEdges());var O=new Set,I;for(I=0;I<k.length;I++){var _=k[I];if(!O.has(_)){var R=_.getSource(),M=_.getTarget();if(R==M)_.getBendpoints().push(new y),_.getBendpoints().push(new y),this.createDummyNodesForBendpoints(_),O.add(_);else{var $=[];if($=$.concat(R.getEdgeListToNode(M)),$=$.concat(M.getEdgeListToNode(R)),!O.has($[0])){if($.length>1){var N;for(N=0;N<$.length;N++){var P=$[N];P.getBendpoints().push(new y),this.createDummyNodesForBendpoints(P)}}$.forEach(function(F){O.add(F)})}}}if(O.size==k.length)break}},S.prototype.positionNodesRadially=function(k){for(var O=new m(0,0),I=Math.ceil(Math.sqrt(k.length)),_=0,R=0,M=0,$=new y(0,0),N=0;N<k.length;N++){N%I==0&&(M=0,R=_,N!=0&&(R+=d.DEFAULT_COMPONENT_SEPERATION),_=0);var P=k[N],F=b.findCenterOfTree(P);O.x=M,O.y=R,$=S.radialLayout(P,F,O),$.y>_&&(_=Math.floor($.y)),M=Math.floor($.x+d.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(g.WORLD_CENTER_X-$.x/2,g.WORLD_CENTER_Y-$.y/2))},S.radialLayout=function(k,O,I){var _=Math.max(this.maxDiagonalInTree(k),d.DEFAULT_RADIAL_SEPARATION);S.branchRadialLayout(O,null,0,359,0,_);var R=w.calculateBounds(k),M=new E;M.setDeviceOrgX(R.getMinX()),M.setDeviceOrgY(R.getMinY()),M.setWorldOrgX(I.x),M.setWorldOrgY(I.y);for(var $=0;$<k.length;$++){var N=k[$];N.transform(M)}var P=new y(R.getMaxX(),R.getMaxY());return M.inverseTransformPoint(P)},S.branchRadialLayout=function(k,O,I,_,R,M){var $=(_-I+1)/2;$<0&&($+=180);var N=($+I)%360,P=N*T.TWO_PI/360,F=R*Math.cos(P),L=R*Math.sin(P);k.setCenter(F,L);var D=[];D=D.concat(k.getEdges());var B=D.length;O!=null&&B--;for(var H=0,U=D.length,G,W=k.getEdgesBetween(O);W.length>1;){var ee=W[0];W.splice(0,1);var ce=D.indexOf(ee);ce>=0&&D.splice(ce,1),U--,B--}O!=null?G=(D.indexOf(W[0])+1)%U:G=0;for(var Z=Math.abs(_-I)/B,J=G;H!=B;J=++J%U){var oe=D[J].getOtherEnd(k);if(oe!=O){var Y=(I+H*Z)%360,X=(Y+Z)%360;S.branchRadialLayout(oe,k,Y,X,R+M,M),H++}}},S.maxDiagonalInTree=function(k){for(var O=x.MIN_VALUE,I=0;I<k.length;I++){var _=k[I],R=_.getDiagonal();R>O&&(O=R)}return O},S.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},S.prototype.groupZeroDegreeMembers=function(){var k=this,O={};this.memberGroups={},this.idToDummyNode={};for(var I=[],_=this.graphManager.getAllNodes(),R=0;R<_.length;R++){var M=_[R],$=M.getParent();this.getNodeDegreeWithChildren(M)===0&&($.id==null||!this.getToBeTiled($))&&I.push(M)}for(var R=0;R<I.length;R++){var M=I[R],N=M.getParent().id;typeof O[N]>"u"&&(O[N]=[]),O[N]=O[N].concat(M)}Object.keys(O).forEach(function(P){if(O[P].length>1){var F="DummyCompound_"+P;k.memberGroups[F]=O[P];var L=O[P][0].getParent(),D=new h(k.graphManager);D.id=F,D.paddingLeft=L.paddingLeft||0,D.paddingRight=L.paddingRight||0,D.paddingBottom=L.paddingBottom||0,D.paddingTop=L.paddingTop||0,k.idToDummyNode[F]=D;var B=k.getGraphManager().add(k.newGraph(),D),H=L.getChild();H.add(D);for(var U=0;U<O[P].length;U++){var G=O[P][U];H.remove(G),B.add(G)}}})},S.prototype.clearCompounds=function(){var k={},O={};this.performDFSOnCompounds();for(var I=0;I<this.compoundOrder.length;I++)O[this.compoundOrder[I].id]=this.compoundOrder[I],k[this.compoundOrder[I].id]=[].concat(this.compoundOrder[I].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[I].getChild()),this.compoundOrder[I].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(k,O)},S.prototype.clearZeroDegreeMembers=function(){var k=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(I){var _=k.idToDummyNode[I];O[I]=k.tileNodes(k.memberGroups[I],_.paddingLeft+_.paddingRight),_.rect.width=O[I].width,_.rect.height=O[I].height})},S.prototype.repopulateCompounds=function(){for(var k=this.compoundOrder.length-1;k>=0;k--){var O=this.compoundOrder[k],I=O.id,_=O.paddingLeft,R=O.paddingTop;this.adjustLocations(this.tiledMemberPack[I],O.rect.x,O.rect.y,_,R)}},S.prototype.repopulateZeroDegreeMembers=function(){var k=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(I){var _=k.idToDummyNode[I],R=_.paddingLeft,M=_.paddingTop;k.adjustLocations(O[I],_.rect.x,_.rect.y,R,M)})},S.prototype.getToBeTiled=function(k){var O=k.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var I=k.getChild();if(I==null)return this.toBeTiled[O]=!1,!1;for(var _=I.getNodes(),R=0;R<_.length;R++){var M=_[R];if(this.getNodeDegree(M)>0)return this.toBeTiled[O]=!1,!1;if(M.getChild()==null){this.toBeTiled[M.id]=!1;continue}if(!this.getToBeTiled(M))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},S.prototype.getNodeDegree=function(k){k.id;for(var O=k.getEdges(),I=0,_=0;_<O.length;_++){var R=O[_];R.getSource().id!==R.getTarget().id&&(I=I+1)}return I},S.prototype.getNodeDegreeWithChildren=function(k){var O=this.getNodeDegree(k);if(k.getChild()==null)return O;for(var I=k.getChild().getNodes(),_=0;_<I.length;_++){var R=I[_];O+=this.getNodeDegreeWithChildren(R)}return O},S.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},S.prototype.fillCompexOrderByDFS=function(k){for(var O=0;O<k.length;O++){var I=k[O];I.getChild()!=null&&this.fillCompexOrderByDFS(I.getChild().getNodes()),this.getToBeTiled(I)&&this.compoundOrder.push(I)}},S.prototype.adjustLocations=function(k,O,I,_,R){O+=_,I+=R;for(var M=O,$=0;$<k.rows.length;$++){var N=k.rows[$];O=M;for(var P=0,F=0;F<N.length;F++){var L=N[F];L.rect.x=O,L.rect.y=I,O+=L.rect.width+k.horizontalPadding,L.rect.height>P&&(P=L.rect.height)}I+=P+k.verticalPadding}},S.prototype.tileCompoundMembers=function(k,O){var I=this;this.tiledMemberPack=[],Object.keys(k).forEach(function(_){var R=O[_];I.tiledMemberPack[_]=I.tileNodes(k[_],R.paddingLeft+R.paddingRight),R.rect.width=I.tiledMemberPack[_].width,R.rect.height=I.tiledMemberPack[_].height})},S.prototype.tileNodes=function(k,O){var I=d.TILING_PADDING_VERTICAL,_=d.TILING_PADDING_HORIZONTAL,R={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:I,horizontalPadding:_};k.sort(function(N,P){return N.rect.width*N.rect.height>P.rect.width*P.rect.height?-1:N.rect.width*N.rect.height<P.rect.width*P.rect.height?1:0});for(var M=0;M<k.length;M++){var $=k[M];R.rows.length==0?this.insertNodeToRow(R,$,0,O):this.canAddHorizontal(R,$.rect.width,$.rect.height)?this.insertNodeToRow(R,$,this.getShortestRowIndex(R),O):this.insertNodeToRow(R,$,R.rows.length,O),this.shiftToLastRow(R)}return R},S.prototype.insertNodeToRow=function(k,O,I,_){var R=_;if(I==k.rows.length){var M=[];k.rows.push(M),k.rowWidth.push(R),k.rowHeight.push(0)}var $=k.rowWidth[I]+O.rect.width;k.rows[I].length>0&&($+=k.horizontalPadding),k.rowWidth[I]=$,k.width<$&&(k.width=$);var N=O.rect.height;I>0&&(N+=k.verticalPadding);var P=0;N>k.rowHeight[I]&&(P=k.rowHeight[I],k.rowHeight[I]=N,P=k.rowHeight[I]-P),k.height+=P,k.rows[I].push(O)},S.prototype.getShortestRowIndex=function(k){for(var O=-1,I=Number.MAX_VALUE,_=0;_<k.rows.length;_++)k.rowWidth[_]<I&&(O=_,I=k.rowWidth[_]);return O},S.prototype.getLongestRowIndex=function(k){for(var O=-1,I=Number.MIN_VALUE,_=0;_<k.rows.length;_++)k.rowWidth[_]>I&&(O=_,I=k.rowWidth[_]);return O},S.prototype.canAddHorizontal=function(k,O,I){var _=this.getShortestRowIndex(k);if(_<0)return!0;var R=k.rowWidth[_];if(R+k.horizontalPadding+O<=k.width)return!0;var M=0;k.rowHeight[_]<I&&_>0&&(M=I+k.verticalPadding-k.rowHeight[_]);var $;k.width-R>=O+k.horizontalPadding?$=(k.height+M)/(R+O+k.horizontalPadding):$=(k.height+M)/k.width,M=I+k.verticalPadding;var N;return k.width<O?N=(k.height+M)/O:N=(k.height+M)/k.width,N<1&&(N=1/N),$<1&&($=1/$),$<N},S.prototype.shiftToLastRow=function(k){var O=this.getLongestRowIndex(k),I=k.rowWidth.length-1,_=k.rows[O],R=_[_.length-1],M=R.width+k.horizontalPadding;if(k.width-k.rowWidth[I]>M&&O!=I){_.splice(-1,1),k.rows[I].push(R),k.rowWidth[O]=k.rowWidth[O]-M,k.rowWidth[I]=k.rowWidth[I]+M,k.width=k.rowWidth[instance.getLongestRowIndex(k)];for(var $=Number.MIN_VALUE,N=0;N<_.length;N++)_[N].height>$&&($=_[N].height);O>0&&($+=k.verticalPadding);var P=k.rowHeight[O]+k.rowHeight[I];k.rowHeight[O]=$,k.rowHeight[I]<R.height+k.verticalPadding&&(k.rowHeight[I]=R.height+k.verticalPadding);var F=k.rowHeight[O]+k.rowHeight[I];k.height+=F-P,this.shiftToLastRow(k)}},S.prototype.tilingPreLayout=function(){d.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},S.prototype.tilingPostLayout=function(){d.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},S.prototype.reduceTrees=function(){for(var k=[],O=!0,I;O;){var _=this.graphManager.getAllNodes(),R=[];O=!1;for(var M=0;M<_.length;M++)I=_[M],I.getEdges().length==1&&!I.getEdges()[0].isInterGraph&&I.getChild()==null&&(R.push([I,I.getEdges()[0],I.getOwner()]),O=!0);if(O==!0){for(var $=[],N=0;N<R.length;N++)R[N][0].getEdges().length==1&&($.push(R[N]),R[N][0].getOwner().remove(R[N][0]));k.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=k},S.prototype.growTree=function(k){for(var O=k.length,I=k[O-1],_,R=0;R<I.length;R++)_=I[R],this.findPlaceforPrunedNode(_),_[2].add(_[0]),_[2].add(_[1],_[1].source,_[1].target);k.splice(k.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},S.prototype.findPlaceforPrunedNode=function(k){var O,I,_=k[0];_==k[1].source?I=k[1].target:I=k[1].source;var R=I.startX,M=I.finishX,$=I.startY,N=I.finishY,P=0,F=0,L=0,D=0,B=[P,L,F,D];if($>0)for(var H=R;H<=M;H++)B[0]+=this.grid[H][$-1].length+this.grid[H][$].length-1;if(M<this.grid.length-1)for(var H=$;H<=N;H++)B[1]+=this.grid[M+1][H].length+this.grid[M][H].length-1;if(N<this.grid[0].length-1)for(var H=R;H<=M;H++)B[2]+=this.grid[H][N+1].length+this.grid[H][N].length-1;if(R>0)for(var H=$;H<=N;H++)B[3]+=this.grid[R-1][H].length+this.grid[R][H].length-1;for(var U=x.MAX_VALUE,G,W,ee=0;ee<B.length;ee++)B[ee]<U?(U=B[ee],G=1,W=ee):B[ee]==U&&G++;if(G==3&&U==0)B[0]==0&&B[1]==0&&B[2]==0?O=1:B[0]==0&&B[1]==0&&B[3]==0?O=0:B[0]==0&&B[2]==0&&B[3]==0?O=3:B[1]==0&&B[2]==0&&B[3]==0&&(O=2);else if(G==2&&U==0){var ce=Math.floor(Math.random()*2);B[0]==0&&B[1]==0?ce==0?O=0:O=1:B[0]==0&&B[2]==0?ce==0?O=0:O=2:B[0]==0&&B[3]==0?ce==0?O=0:O=3:B[1]==0&&B[2]==0?ce==0?O=1:O=2:B[1]==0&&B[3]==0?ce==0?O=1:O=3:ce==0?O=2:O=3}else if(G==4&&U==0){var ce=Math.floor(Math.random()*4);O=ce}else O=W;O==0?_.setCenter(I.getCenterX(),I.getCenterY()-I.getHeight()/2-p.DEFAULT_EDGE_LENGTH-_.getHeight()/2):O==1?_.setCenter(I.getCenterX()+I.getWidth()/2+p.DEFAULT_EDGE_LENGTH+_.getWidth()/2,I.getCenterY()):O==2?_.setCenter(I.getCenterX(),I.getCenterY()+I.getHeight()/2+p.DEFAULT_EDGE_LENGTH+_.getHeight()/2):_.setCenter(I.getCenterX()-I.getWidth()/2-p.DEFAULT_EDGE_LENGTH-_.getWidth()/2,I.getCenterY())},n.exports=S},function(n,a,o){var l={};l.layoutBase=o(0),l.CoSEConstants=o(1),l.CoSEEdge=o(2),l.CoSEGraph=o(3),l.CoSEGraphManager=o(4),l.CoSELayout=o(6),l.CoSENode=o(5),n.exports=l}])})}(G7)),G7.exports}(function(e,t){(function(n,a){e.exports=a(uRt())})(As,function(r){return function(n){var a={};function o(l){if(a[l])return a[l].exports;var c=a[l]={i:l,l:!1,exports:{}};return n[l].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=n,o.c=a,o.i=function(l){return l},o.d=function(l,c,u){o.o(l,c)||Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:u})},o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,"a",c),c},o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},o.p="",o(o.s=1)}([function(n,a){n.exports=r},function(n,a,o){var l=o(0).layoutBase.LayoutConstants,c=o(0).layoutBase.FDLayoutConstants,u=o(0).CoSEConstants,h=o(0).CoSELayout,f=o(0).CoSENode,d=o(0).layoutBase.PointD,p=o(0).layoutBase.DimensionD,g={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(T,w){var E={};for(var S in T)E[S]=T[S];for(var S in w)E[S]=w[S];return E}function y(T){this.options=m(g,T),b(this.options)}var b=function(w){w.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=c.DEFAULT_REPULSION_STRENGTH=w.nodeRepulsion),w.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=c.DEFAULT_EDGE_LENGTH=w.idealEdgeLength),w.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=c.DEFAULT_SPRING_STRENGTH=w.edgeElasticity),w.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.nestingFactor),w.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=c.DEFAULT_GRAVITY_STRENGTH=w.gravity),w.numIter!=null&&(u.MAX_ITERATIONS=c.MAX_ITERATIONS=w.numIter),w.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=c.DEFAULT_GRAVITY_RANGE_FACTOR=w.gravityRange),w.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.gravityCompound),w.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.gravityRangeCompound),w.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=c.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.initialEnergyOnIncremental),w.quality=="draft"?l.QUALITY=0:w.quality=="proof"?l.QUALITY=2:l.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=w.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!w.randomize,u.ANIMATE=c.ANIMATE=l.ANIMATE=w.animate,u.TILE=w.tile,u.TILING_PADDING_VERTICAL=typeof w.tilingPaddingVertical=="function"?w.tilingPaddingVertical.call():w.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof w.tilingPaddingHorizontal=="function"?w.tilingPaddingHorizontal.call():w.tilingPaddingHorizontal};y.prototype.run=function(){var T,w,E=this.options;this.idToLNode={};var S=this.layout=new h,C=this;C.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var k=S.newGraphManager();this.gm=k;var O=this.options.eles.nodes(),I=this.options.eles.edges();this.root=k.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(O),S);for(var _=0;_<I.length;_++){var R=I[_],M=this.idToLNode[R.data("source")],$=this.idToLNode[R.data("target")];if(M!==$&&M.getEdgesBetween($).length==0){var N=k.add(S.newEdge(),M,$);N.id=R.id()}}var P=function(D,B){typeof D=="number"&&(D=B);var H=D.data("id"),U=C.idToLNode[H];return{x:U.getRect().getCenterX(),y:U.getRect().getCenterY()}},F=function L(){for(var D=function(){E.fit&&E.cy.fit(E.eles,E.padding),T||(T=!0,C.cy.one("layoutready",E.ready),C.cy.trigger({type:"layoutready",layout:C}))},B=C.options.refresh,H,U=0;U<B&&!H;U++)H=C.stopped||C.layout.tick();if(H){S.checkLayoutSuccess()&&!S.isSubLayout&&S.doPostLayout(),S.tilingPostLayout&&S.tilingPostLayout(),S.isLayoutFinished=!0,C.options.eles.nodes().positions(P),D(),C.cy.one("layoutstop",C.options.stop),C.cy.trigger({type:"layoutstop",layout:C}),w&&cancelAnimationFrame(w),T=!1;return}var G=C.layout.getPositionsData();E.eles.nodes().positions(function(W,ee){if(typeof W=="number"&&(W=ee),!W.isParent()){for(var ce=W.id(),Z=G[ce],J=W;Z==null&&(Z=G[J.data("parent")]||G["DummyCompound_"+J.data("parent")],G[ce]=Z,J=J.parent()[0],J!=null););return Z!=null?{x:Z.x,y:Z.y}:{x:W.position("x"),y:W.position("y")}}}),D(),w=requestAnimationFrame(L)};return S.addListener("layoutstarted",function(){C.options.animate==="during"&&(w=requestAnimationFrame(F))}),S.runLayout(),this.options.animate!=="during"&&(C.options.eles.nodes().not(":parent").layoutPositions(C,C.options,P),T=!1),this},y.prototype.getTopMostNodes=function(T){for(var w={},E=0;E<T.length;E++)w[T[E].id()]=!0;var S=T.filter(function(C,k){typeof C=="number"&&(C=k);for(var O=C.parent()[0];O!=null;){if(w[O.id()])return!1;O=O.parent()[0]}return!0});return S},y.prototype.processChildrenList=function(T,w,E){for(var S=w.length,C=0;C<S;C++){var k=w[C],O=k.children(),I,_=k.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(k.outerWidth()!=null&&k.outerHeight()!=null?I=T.add(new f(E.graphManager,new d(k.position("x")-_.w/2,k.position("y")-_.h/2),new p(parseFloat(_.w),parseFloat(_.h)))):I=T.add(new f(this.graphManager)),I.id=k.data("id"),I.paddingLeft=parseInt(k.css("padding")),I.paddingTop=parseInt(k.css("padding")),I.paddingRight=parseInt(k.css("padding")),I.paddingBottom=parseInt(k.css("padding")),this.options.nodeDimensionsIncludeLabels&&k.isParent()){var R=k.boundingBox({includeLabels:!0,includeNodes:!1}).w,M=k.boundingBox({includeLabels:!0,includeNodes:!1}).h,$=k.css("text-halign");I.labelWidth=R,I.labelHeight=M,I.labelPos=$}if(this.idToLNode[k.data("id")]=I,isNaN(I.rect.x)&&(I.rect.x=0),isNaN(I.rect.y)&&(I.rect.y=0),O!=null&&O.length>0){var N;N=E.getGraphManager().add(E.newGraph(),I),this.processChildrenList(N,O,E)}}},y.prototype.stop=function(){return this.stopped=!0,this};var x=function(w){w("layout","cose-bilkent",y)};typeof cytoscape<"u"&&x(cytoscape),n.exports=x}])})})(jve);var hRt=jve.exports;const fRt=Wo(hRt);var iN=function(){var e=A(function(E,S,C,k){for(C=C||{},k=E.length;k--;C[E[k]]=S);return C},"o"),t=[1,4],r=[1,13],n=[1,12],a=[1,15],o=[1,16],l=[1,20],c=[1,19],u=[6,7,8],h=[1,26],f=[1,24],d=[1,25],p=[6,7,11],g=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],b=[1,6,7,11,13,15,16,19,22],x={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:A(function(S,C,k,O,I,_,R){var M=_.length-1;switch(I){case 6:case 7:return O;case 8:O.getLogger().trace("Stop NL ");break;case 9:O.getLogger().trace("Stop EOF ");break;case 11:O.getLogger().trace("Stop NL2 ");break;case 12:O.getLogger().trace("Stop EOF2 ");break;case 15:O.getLogger().info("Node: ",_[M].id),O.addNode(_[M-1].length,_[M].id,_[M].descr,_[M].type);break;case 16:O.getLogger().trace("Icon: ",_[M]),O.decorateNode({icon:_[M]});break;case 17:case 21:O.decorateNode({class:_[M]});break;case 18:O.getLogger().trace("SPACELIST");break;case 19:O.getLogger().trace("Node: ",_[M].id),O.addNode(0,_[M].id,_[M].descr,_[M].type);break;case 20:O.decorateNode({icon:_[M]});break;case 25:O.getLogger().trace("node found ..",_[M-2]),this.$={id:_[M-1],descr:_[M-1],type:O.getType(_[M-2],_[M])};break;case 26:this.$={id:_[M],descr:_[M],type:O.nodeType.DEFAULT};break;case 27:O.getLogger().trace("node found ..",_[M-3]),this.$={id:_[M-3],descr:_[M-1],type:O.getType(_[M-2],_[M])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:a,16:o,17:17,18:18,19:l,22:c},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:a,16:o,17:17,18:18,19:l,22:c},{6:r,9:22,12:11,13:n,14:14,15:a,16:o,17:17,18:18,19:l,22:c},{6:h,7:f,10:23,11:d},e(p,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:l,22:c}),e(p,[2,18]),e(p,[2,19]),e(p,[2,20]),e(p,[2,21]),e(p,[2,23]),e(p,[2,24]),e(p,[2,26],{19:[1,30]}),{20:[1,31]},{6:h,7:f,10:32,11:d},{1:[2,7],6:r,12:21,13:n,14:14,15:a,16:o,17:17,18:18,19:l,22:c},e(g,[2,14],{7:m,11:y}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(p,[2,15]),e(p,[2,16]),e(p,[2,17]),{20:[1,35]},{21:[1,36]},e(g,[2,13],{7:m,11:y}),e(b,[2,11]),e(b,[2,12]),{21:[1,37]},e(p,[2,25]),e(p,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:A(function(S,C){if(C.recoverable)this.trace(S);else{var k=new Error(S);throw k.hash=C,k}},"parseError"),parse:A(function(S){var C=this,k=[0],O=[],I=[null],_=[],R=this.table,M="",$=0,N=0,P=2,F=1,L=_.slice.call(arguments,1),D=Object.create(this.lexer),B={yy:{}};for(var H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B.yy[H]=this.yy[H]);D.setInput(S,B.yy),B.yy.lexer=D,B.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var U=D.yylloc;_.push(U);var G=D.options&&D.options.ranges;typeof B.yy.parseError=="function"?this.parseError=B.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function W(re){k.length=k.length-2*re,I.length=I.length-re,_.length=_.length-re}A(W,"popStack");function ee(){var re;return re=O.pop()||D.lex()||F,typeof re!="number"&&(re instanceof Array&&(O=re,re=O.pop()),re=C.symbols_[re]||re),re}A(ee,"lex");for(var ce,Z,J,oe,Y={},X,K,z,j;;){if(Z=k[k.length-1],this.defaultActions[Z]?J=this.defaultActions[Z]:((ce===null||typeof ce>"u")&&(ce=ee()),J=R[Z]&&R[Z][ce]),typeof J>"u"||!J.length||!J[0]){var te="";j=[];for(X in R[Z])this.terminals_[X]&&X>P&&j.push("'"+this.terminals_[X]+"'");D.showPosition?te="Parse error on line "+($+1)+`:
`+D.showPosition()+`
Expecting `+j.join(", ")+", got '"+(this.terminals_[ce]||ce)+"'":te="Parse error on line "+($+1)+": Unexpected "+(ce==F?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(te,{text:D.match,token:this.terminals_[ce]||ce,line:D.yylineno,loc:U,expected:j})}if(J[0]instanceof Array&&J.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Z+", token: "+ce);switch(J[0]){case 1:k.push(ce),I.push(D.yytext),_.push(D.yylloc),k.push(J[1]),ce=null,N=D.yyleng,M=D.yytext,$=D.yylineno,U=D.yylloc;break;case 2:if(K=this.productions_[J[1]][1],Y.$=I[I.length-K],Y._$={first_line:_[_.length-(K||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(K||1)].first_column,last_column:_[_.length-1].last_column},G&&(Y._$.range=[_[_.length-(K||1)].range[0],_[_.length-1].range[1]]),oe=this.performAction.apply(Y,[M,N,$,B.yy,J[1],I,_].concat(L)),typeof oe<"u")return oe;K&&(k=k.slice(0,-1*K*2),I=I.slice(0,-1*K),_=_.slice(0,-1*K)),k.push(this.productions_[J[1]][0]),I.push(Y.$),_.push(Y._$),z=R[k[k.length-2]][k[k.length-1]],k.push(z);break;case 3:return!0}}return!0},"parse")},T=function(){var E={EOF:1,parseError:A(function(C,k){if(this.yy.parser)this.yy.parser.parseError(C,k);else throw new Error(C)},"parseError"),setInput:A(function(S,C){return this.yy=C||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var C=S.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},"input"),unput:A(function(S){var C=S.length,k=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===O.length?this.yylloc.first_column:0)+O[O.length-k.length].length-k[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(S){this.unput(this.match.slice(S))},"less"),pastInput:A(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var S=this.pastInput(),C=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+C+"^"},"showPosition"),test_match:A(function(S,C){var k,O,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),O=S[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],k=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var _ in I)this[_]=I[_];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,C,k,O;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),_=0;_<I.length;_++)if(k=this._input.match(this.rules[I[_]]),k&&(!C||k[0].length>C[0].length)){if(C=k,O=_,this.options.backtrack_lexer){if(S=this.test_match(k,I[_]),S!==!1)return S;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(S=this.test_match(C,I[O]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var C=this.next();return C||this.lex()},"lex"),begin:A(function(C){this.conditionStack.push(C)},"begin"),popState:A(function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},"topState"),pushState:A(function(C){this.begin(C)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(C,k,O,I){switch(O){case 0:return C.getLogger().trace("Found comment",k.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:C.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return C.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:C.getLogger().trace("end icon"),this.popState();break;case 10:return C.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return C.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return C.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return C.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:C.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return C.getLogger().trace("description:",k.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),C.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),C.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),C.getLogger().trace("node end ...",k.yytext),"NODE_DEND";case 30:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),C.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),C.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 35:return C.getLogger().trace("Long description:",k.yytext),20;case 36:return C.getLogger().trace("Long description:",k.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return E}();x.lexer=T;function w(){this.yy={}}return A(w,"Parser"),w.prototype=x,x.Parser=w,new w}();iN.parser=iN;var dRt=iN,fc=[],Xve=0,oF={},pRt=A(()=>{fc=[],Xve=0,oF={}},"clear"),gRt=A(function(e){for(let t=fc.length-1;t>=0;t--)if(fc[t].level<e)return fc[t];return null},"getParent"),mRt=A(()=>fc.length>0?fc[0]:null,"getMindmap"),vRt=A((e,t,r,n)=>{var u,h;me.info("addNode",e,t,r,n);const a=De();let o=((u=a.mindmap)==null?void 0:u.padding)??Lr.mindmap.padding;switch(n){case Pi.ROUNDED_RECT:case Pi.RECT:case Pi.HEXAGON:o*=2}const l={id:Xve++,nodeId:sn(t,a),level:e,descr:sn(r,a),type:n,children:[],width:((h=a.mindmap)==null?void 0:h.maxNodeWidth)??Lr.mindmap.maxNodeWidth,padding:o},c=gRt(e);if(c)c.children.push(l),fc.push(l);else if(fc.length===0)fc.push(l);else throw new Error('There can be only one root. No parent could be found for ("'+l.descr+'")')},"addNode"),Pi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},yRt=A((e,t)=>{switch(me.debug("In get type",e,t),e){case"[":return Pi.RECT;case"(":return t===")"?Pi.ROUNDED_RECT:Pi.CLOUD;case"((":return Pi.CIRCLE;case")":return Pi.CLOUD;case"))":return Pi.BANG;case"{{":return Pi.HEXAGON;default:return Pi.DEFAULT}},"getType"),bRt=A((e,t)=>{oF[e]=t},"setElementForId"),xRt=A(e=>{if(!e)return;const t=De(),r=fc[fc.length-1];e.icon&&(r.icon=sn(e.icon,t)),e.class&&(r.class=sn(e.class,t))},"decorateNode"),TRt=A(e=>{switch(e){case Pi.DEFAULT:return"no-border";case Pi.RECT:return"rect";case Pi.ROUNDED_RECT:return"rounded-rect";case Pi.CIRCLE:return"circle";case Pi.CLOUD:return"cloud";case Pi.BANG:return"bang";case Pi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),wRt=A(()=>me,"getLogger"),ERt=A(e=>oF[e],"getElementById"),SRt={clear:pRt,addNode:vRt,getMindmap:mRt,nodeType:Pi,getType:yRt,setElementForId:bRt,decorateNode:xRt,type2Str:TRt,getLogger:wRt,getElementById:ERt},ARt=SRt,kRt=12,CRt=A(function(e,t,r,n){t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),IRt=A(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),RRt=A(function(e,t,r){const n=r.width,a=r.height,o=.15*n,l=.25*n,c=.35*n,u=.2*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${o},${o} 0 0,1 ${n*.25},${-1*n*.1}
      a${c},${c} 1 0,1 ${n*.4},${-1*n*.1}
      a${l},${l} 1 0,1 ${n*.35},${1*n*.2}

      a${o},${o} 1 0,1 ${n*.15},${1*a*.35}
      a${u},${u} 1 0,1 ${-1*n*.15},${1*a*.65}

      a${l},${o} 1 0,1 ${-1*n*.25},${n*.15}
      a${c},${c} 1 0,1 ${-1*n*.5},0
      a${o},${o} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${o},${o} 1 0,1 ${-1*n*.1},${-1*a*.35}
      a${u},${u} 1 0,1 ${n*.1},${-1*a*.65}

    H0 V0 Z`)},"cloudBkg"),ORt=A(function(e,t,r){const n=r.width,a=r.height,o=.15*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${o},${o} 1 0,0 ${n*.25},${-1*a*.1}
      a${o},${o} 1 0,0 ${n*.25},0
      a${o},${o} 1 0,0 ${n*.25},0
      a${o},${o} 1 0,0 ${n*.25},${1*a*.1}

      a${o},${o} 1 0,0 ${n*.15},${1*a*.33}
      a${o*.8},${o*.8} 1 0,0 0,${1*a*.34}
      a${o},${o} 1 0,0 ${-1*n*.15},${1*a*.33}

      a${o},${o} 1 0,0 ${-1*n*.25},${a*.15}
      a${o},${o} 1 0,0 ${-1*n*.25},0
      a${o},${o} 1 0,0 ${-1*n*.25},0
      a${o},${o} 1 0,0 ${-1*n*.25},${-1*a*.15}

      a${o},${o} 1 0,0 ${-1*n*.1},${-1*a*.33}
      a${o*.8},${o*.8} 1 0,0 0,${-1*a*.34}
      a${o},${o} 1 0,0 ${n*.1},${-1*a*.33}

    H0 V0 Z`)},"bangBkg"),_Rt=A(function(e,t,r){t.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function Kve(e,t,r,n,a){return e.insert("polygon",":first-child").attr("points",n.map(function(o){return o.x+","+o.y}).join(" ")).attr("transform","translate("+(a.width-t)/2+", "+r+")")}A(Kve,"insertPolygonShape");var NRt=A(function(e,t,r){const n=r.height,o=n/4,l=r.width-r.padding+2*o,c=[{x:o,y:0},{x:l-o,y:0},{x:l,y:-n/2},{x:l-o,y:-n},{x:o,y:-n},{x:0,y:-n/2}];Kve(t,l,n,c,r)},"hexagonBkg"),LRt=A(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),MRt=A(async function(e,t,r,n,a){const o=a.htmlLabels,l=n%(kRt-1),c=t.append("g");r.section=l;let u="section-"+l;l<0&&(u+=" section-root"),c.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+u);const h=c.append("g"),f=c.append("g"),d=r.descr.replace(/(<br\/*>)/g,`
`);await Nl(f,d,{useHtmlLabels:o,width:r.width,classes:"mindmap-node-label"},a),o||f.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const p=f.node().getBBox(),[g]=xf(a.fontSize);if(r.height=p.height+g*1.1*.5+r.padding,r.width=p.width+2*r.padding,r.icon)if(r.type===e.nodeType.CIRCLE)r.height+=50,r.width+=50,c.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+r.icon),f.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const m=r.height;r.height=Math.max(m,60);const y=Math.abs(r.height-m);c.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+y/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+r.icon),f.attr("transform","translate("+(25+r.width/2)+", "+(y/2+r.padding/2)+")")}else if(o){const m=(r.width-p.width)/2,y=(r.height-p.height)/2;f.attr("transform","translate("+m+", "+y+")")}else{const m=r.width/2,y=r.padding/2;f.attr("transform","translate("+m+", "+y+")")}switch(r.type){case e.nodeType.DEFAULT:CRt(e,h,r,l);break;case e.nodeType.ROUNDED_RECT:LRt(e,h,r,l);break;case e.nodeType.RECT:IRt(e,h,r,l);break;case e.nodeType.CIRCLE:h.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),_Rt(e,h,r,l);break;case e.nodeType.CLOUD:RRt(e,h,r,l);break;case e.nodeType.BANG:ORt(e,h,r,l);break;case e.nodeType.HEXAGON:NRt(e,h,r,l);break}return e.setElementForId(r.id,c),r.height},"drawNode"),DRt=A(function(e,t){const r=e.getElementById(t.id),n=t.x||0,a=t.y||0;r.attr("transform","translate("+n+","+a+")")},"positionNode");yu.use(fRt);async function lF(e,t,r,n,a){await MRt(e,t,r,n,a),r.children&&await Promise.all(r.children.map((o,l)=>lF(e,t,o,n<0?l:n,a)))}A(lF,"drawNodes");function Zve(e,t){t.edges().map((r,n)=>{const a=r.data();if(r[0]._private.bodyBounds){const o=r[0]._private.rscratch;me.trace("Edge: ",n,a),e.insert("path").attr("d",`M ${o.startX},${o.startY} L ${o.midX},${o.midY} L${o.endX},${o.endY} `).attr("class","edge section-edge-"+a.section+" edge-depth-"+a.depth)}})}A(Zve,"drawEdges");function cF(e,t,r,n){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(a=>{cF(a,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${a.id}`,source:e.id,target:a.id,depth:n,section:a.section}})})}A(cF,"addNodes");function Qve(e,t){return new Promise(r=>{const n=nt("body").append("div").attr("id","cy").attr("style","display:none"),a=yu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),cF(e,a,t,0),a.nodes().forEach(function(o){o.layoutDimensions=()=>{const l=o.data();return{w:l.width,h:l.height}}}),a.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),a.ready(o=>{me.info("Ready",o),r(a)})})}A(Qve,"layoutMindmap");function Jve(e,t){t.nodes().map((r,n)=>{const a=r.data();a.x=r.position().x,a.y=r.position().y,DRt(e,a);const o=e.getElementById(a.nodeId);me.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",a),o.attr("transform",`translate(${r.position().x-a.width/2}, ${r.position().y-a.height/2})`),o.attr("attr",`apa-${n})`)})}A(Jve,"positionNodes");var PRt=A(async(e,t,r,n)=>{var d,p;me.debug(`Rendering mindmap diagram
`+e);const a=n.db,o=a.getMindmap();if(!o)return;const l=De();l.htmlLabels=!1;const c=Tf(t),u=c.append("g");u.attr("class","mindmap-edges");const h=c.append("g");h.attr("class","mindmap-nodes"),await lF(a,h,o,-1,l);const f=await Qve(o,l);Zve(u,f),Jve(a,f),wv(void 0,c,((d=l.mindmap)==null?void 0:d.padding)??Lr.mindmap.padding,((p=l.mindmap)==null?void 0:p.useMaxWidth)??Lr.mindmap.useMaxWidth)},"draw"),FRt={draw:PRt},BRt=A(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],yf(e["lineColor"+r])?e["lineColor"+r]=Lt(e["lineColor"+r],20):e["lineColor"+r]=Wt(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),$Rt=A(e=>`
  .edge {
    stroke-width: 3;
  }
  ${BRt(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),HRt=$Rt,URt={db:ARt,renderer:FRt,parser:dRt,styles:HRt};const WRt=Object.freeze(Object.defineProperty({__proto__:null,diagram:URt},Symbol.toStringTag,{value:"Module"}));var aN=function(){var e=A(function(k,O,I,_){for(I=I||{},_=k.length;_--;I[k[_]]=O);return I},"o"),t=[1,4],r=[1,13],n=[1,12],a=[1,15],o=[1,16],l=[1,20],c=[1,19],u=[6,7,8],h=[1,26],f=[1,24],d=[1,25],p=[6,7,11],g=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],b=[1,35],x=[1,36],T=[1,6,7,11,13,16,17,20,23],w=[1,38],E={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:A(function(O,I,_,R,M,$,N){var P=$.length-1;switch(M){case 6:case 7:return R;case 8:R.getLogger().trace("Stop NL ");break;case 9:R.getLogger().trace("Stop EOF ");break;case 11:R.getLogger().trace("Stop NL2 ");break;case 12:R.getLogger().trace("Stop EOF2 ");break;case 15:R.getLogger().info("Node: ",$[P-1].id),R.addNode($[P-2].length,$[P-1].id,$[P-1].descr,$[P-1].type,$[P]);break;case 16:R.getLogger().info("Node: ",$[P].id),R.addNode($[P-1].length,$[P].id,$[P].descr,$[P].type);break;case 17:R.getLogger().trace("Icon: ",$[P]),R.decorateNode({icon:$[P]});break;case 18:case 23:R.decorateNode({class:$[P]});break;case 19:R.getLogger().trace("SPACELIST");break;case 20:R.getLogger().trace("Node: ",$[P-1].id),R.addNode(0,$[P-1].id,$[P-1].descr,$[P-1].type,$[P]);break;case 21:R.getLogger().trace("Node: ",$[P].id),R.addNode(0,$[P].id,$[P].descr,$[P].type);break;case 22:R.decorateNode({icon:$[P]});break;case 27:R.getLogger().trace("node found ..",$[P-2]),this.$={id:$[P-1],descr:$[P-1],type:R.getType($[P-2],$[P])};break;case 28:this.$={id:$[P],descr:$[P],type:0};break;case 29:R.getLogger().trace("node found ..",$[P-3]),this.$={id:$[P-3],descr:$[P-1],type:R.getType($[P-2],$[P])};break;case 30:this.$=$[P-1]+$[P];break;case 31:this.$=$[P];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:a,17:o,18:17,19:18,20:l,23:c},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:a,17:o,18:17,19:18,20:l,23:c},{6:r,9:22,12:11,13:n,14:14,16:a,17:o,18:17,19:18,20:l,23:c},{6:h,7:f,10:23,11:d},e(p,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:l,23:c}),e(p,[2,19]),e(p,[2,21],{15:30,24:g}),e(p,[2,22]),e(p,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:f,10:34,11:d},{1:[2,7],6:r,12:21,13:n,14:14,16:a,17:o,18:17,19:18,20:l,23:c},e(y,[2,14],{7:b,11:x}),e(T,[2,8]),e(T,[2,9]),e(T,[2,10]),e(p,[2,16],{15:37,24:g}),e(p,[2,17]),e(p,[2,18]),e(p,[2,20],{24:w}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(y,[2,13],{7:b,11:x}),e(T,[2,11]),e(T,[2,12]),e(p,[2,15],{24:w}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:A(function(O,I){if(I.recoverable)this.trace(O);else{var _=new Error(O);throw _.hash=I,_}},"parseError"),parse:A(function(O){var I=this,_=[0],R=[],M=[null],$=[],N=this.table,P="",F=0,L=0,D=2,B=1,H=$.slice.call(arguments,1),U=Object.create(this.lexer),G={yy:{}};for(var W in this.yy)Object.prototype.hasOwnProperty.call(this.yy,W)&&(G.yy[W]=this.yy[W]);U.setInput(O,G.yy),G.yy.lexer=U,G.yy.parser=this,typeof U.yylloc>"u"&&(U.yylloc={});var ee=U.yylloc;$.push(ee);var ce=U.options&&U.options.ranges;typeof G.yy.parseError=="function"?this.parseError=G.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Z(se){_.length=_.length-2*se,M.length=M.length-se,$.length=$.length-se}A(Z,"popStack");function J(){var se;return se=R.pop()||U.lex()||B,typeof se!="number"&&(se instanceof Array&&(R=se,se=R.pop()),se=I.symbols_[se]||se),se}A(J,"lex");for(var oe,Y,X,K,z={},j,te,re,Se;;){if(Y=_[_.length-1],this.defaultActions[Y]?X=this.defaultActions[Y]:((oe===null||typeof oe>"u")&&(oe=J()),X=N[Y]&&N[Y][oe]),typeof X>"u"||!X.length||!X[0]){var ue="";Se=[];for(j in N[Y])this.terminals_[j]&&j>D&&Se.push("'"+this.terminals_[j]+"'");U.showPosition?ue="Parse error on line "+(F+1)+`:
`+U.showPosition()+`
Expecting `+Se.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":ue="Parse error on line "+(F+1)+": Unexpected "+(oe==B?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(ue,{text:U.match,token:this.terminals_[oe]||oe,line:U.yylineno,loc:ee,expected:Se})}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y+", token: "+oe);switch(X[0]){case 1:_.push(oe),M.push(U.yytext),$.push(U.yylloc),_.push(X[1]),oe=null,L=U.yyleng,P=U.yytext,F=U.yylineno,ee=U.yylloc;break;case 2:if(te=this.productions_[X[1]][1],z.$=M[M.length-te],z._$={first_line:$[$.length-(te||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(te||1)].first_column,last_column:$[$.length-1].last_column},ce&&(z._$.range=[$[$.length-(te||1)].range[0],$[$.length-1].range[1]]),K=this.performAction.apply(z,[P,L,F,G.yy,X[1],M,$].concat(H)),typeof K<"u")return K;te&&(_=_.slice(0,-1*te*2),M=M.slice(0,-1*te),$=$.slice(0,-1*te)),_.push(this.productions_[X[1]][0]),M.push(z.$),$.push(z._$),re=N[_[_.length-2]][_[_.length-1]],_.push(re);break;case 3:return!0}}return!0},"parse")},S=function(){var k={EOF:1,parseError:A(function(I,_){if(this.yy.parser)this.yy.parser.parseError(I,_);else throw new Error(I)},"parseError"),setInput:A(function(O,I){return this.yy=I||this.yy||{},this._input=O,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var I=O.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),O},"input"),unput:A(function(O){var I=O.length,_=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===R.length?this.yylloc.first_column:0)+R[R.length-_.length].length-_[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(O){this.unput(this.match.slice(O))},"less"),pastInput:A(function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var O=this.match;return O.length<20&&(O+=this._input.substr(0,20-O.length)),(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var O=this.pastInput(),I=new Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+I+"^"},"showPosition"),test_match:A(function(O,I){var _,R,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),R=O[0].match(/(?:\r\n?|\n).*/g),R&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length},this.yytext+=O[0],this.match+=O[0],this.matches=O,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(O[0].length),this.matched+=O[0],_=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var $ in M)this[$]=M[$];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var O,I,_,R;this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),$=0;$<M.length;$++)if(_=this._input.match(this.rules[M[$]]),_&&(!I||_[0].length>I[0].length)){if(I=_,R=$,this.options.backtrack_lexer){if(O=this.test_match(_,M[$]),O!==!1)return O;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(O=this.test_match(I,M[R]),O!==!1?O:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var I=this.next();return I||this.lex()},"lex"),begin:A(function(I){this.conditionStack.push(I)},"begin"),popState:A(function(){var I=this.conditionStack.length-1;return I>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(I){return I=this.conditionStack.length-1-Math.abs(I||0),I>=0?this.conditionStack[I]:"INITIAL"},"topState"),pushState:A(function(I){this.begin(I)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(I,_,R,M){switch(R){case 0:return this.pushState("shapeData"),_.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const $=/\n\s*/g;return _.yytext=_.yytext.replace($,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return I.getLogger().trace("Found comment",_.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:I.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return I.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:I.getLogger().trace("end icon"),this.popState();break;case 16:return I.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return I.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return I.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return I.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:I.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return I.getLogger().trace("description:",_.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),I.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),I.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),I.getLogger().trace("node end ...",_.yytext),"NODE_DEND";case 36:return this.popState(),I.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),I.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),I.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),I.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),I.getLogger().trace("node end (("),"NODE_DEND";case 41:return I.getLogger().trace("Long description:",_.yytext),21;case 42:return I.getLogger().trace("Long description:",_.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return k}();E.lexer=S;function C(){this.yy={}}return A(C,"Parser"),C.prototype=E,E.Parser=C,new C}();aN.parser=aN;var zRt=aN,il=[],uF=[],sN=0,hF={},GRt=A(()=>{il=[],uF=[],sN=0,hF={}},"clear"),YRt=A(e=>{if(il.length===0)return null;const t=il[0].level;let r=null;for(let n=il.length-1;n>=0;n--)if(il[n].level===t&&!r&&(r=il[n]),il[n].level<t)throw new Error('Items without section detected, found section ("'+il[n].label+'")');return e===(r==null?void 0:r.level)?null:r},"getSection"),eye=A(function(){return uF},"getSections"),VRt=A(function(){const e=[],t=[],r=eye(),n=De();for(const a of r){const o={id:a.id,label:sn(a.label??"",n),isGroup:!0,ticket:a.ticket,shape:"kanbanSection",level:a.level,look:n.look};t.push(o);const l=il.filter(c=>c.parentId===a.id);for(const c of l){const u={id:c.id,parentId:a.id,label:sn(c.label??"",n),isGroup:!1,ticket:c==null?void 0:c.ticket,priority:c==null?void 0:c.priority,assigned:c==null?void 0:c.assigned,icon:c==null?void 0:c.icon,shape:"kanbanItem",level:c.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(u)}}return{nodes:t,edges:e,other:{},config:De()}},"getData"),qRt=A((e,t,r,n,a)=>{var h,f;const o=De();let l=((h=o.mindmap)==null?void 0:h.padding)??Lr.mindmap.padding;switch(n){case Fi.ROUNDED_RECT:case Fi.RECT:case Fi.HEXAGON:l*=2}const c={id:sn(t,o)||"kbn"+sN++,level:e,label:sn(r,o),width:((f=o.mindmap)==null?void 0:f.maxNodeWidth)??Lr.mindmap.maxNodeWidth,padding:l,isGroup:!1};if(a!==void 0){let d;a.includes(`
`)?d=a+`
`:d=`{
`+a+`
}`;const p=pL(d,{schema:dL});if(p.shape&&(p.shape!==p.shape.toLowerCase()||p.shape.includes("_")))throw new Error(`No such shape: ${p.shape}. Shape names should be lowercase.`);p!=null&&p.shape&&p.shape==="kanbanItem"&&(c.shape=p==null?void 0:p.shape),p!=null&&p.label&&(c.label=p==null?void 0:p.label),p!=null&&p.icon&&(c.icon=p==null?void 0:p.icon.toString()),p!=null&&p.assigned&&(c.assigned=p==null?void 0:p.assigned.toString()),p!=null&&p.ticket&&(c.ticket=p==null?void 0:p.ticket.toString()),p!=null&&p.priority&&(c.priority=p==null?void 0:p.priority)}const u=YRt(e);u?c.parentId=u.id||"kbn"+sN++:uF.push(c),il.push(c)},"addNode"),Fi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},jRt=A((e,t)=>{switch(me.debug("In get type",e,t),e){case"[":return Fi.RECT;case"(":return t===")"?Fi.ROUNDED_RECT:Fi.CLOUD;case"((":return Fi.CIRCLE;case")":return Fi.CLOUD;case"))":return Fi.BANG;case"{{":return Fi.HEXAGON;default:return Fi.DEFAULT}},"getType"),XRt=A((e,t)=>{hF[e]=t},"setElementForId"),KRt=A(e=>{if(!e)return;const t=De(),r=il[il.length-1];e.icon&&(r.icon=sn(e.icon,t)),e.class&&(r.cssClasses=sn(e.class,t))},"decorateNode"),ZRt=A(e=>{switch(e){case Fi.DEFAULT:return"no-border";case Fi.RECT:return"rect";case Fi.ROUNDED_RECT:return"rounded-rect";case Fi.CIRCLE:return"circle";case Fi.CLOUD:return"cloud";case Fi.BANG:return"bang";case Fi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),QRt=A(()=>me,"getLogger"),JRt=A(e=>hF[e],"getElementById"),eOt={clear:GRt,addNode:qRt,getSections:eye,getData:VRt,nodeType:Fi,getType:jRt,setElementForId:XRt,decorateNode:KRt,type2Str:ZRt,getLogger:QRt,getElementById:JRt},tOt=eOt,rOt=A(async(e,t,r,n)=>{var b,x,T,w,E;me.debug(`Rendering kanban diagram
`+e);const o=n.db.getData(),l=De();l.htmlLabels=!1;const c=Tf(t),u=c.append("g");u.attr("class","sections");const h=c.append("g");h.attr("class","items");const f=o.nodes.filter(S=>S.isGroup);let d=0;const p=10,g=[];let m=25;for(const S of f){const C=((b=l==null?void 0:l.kanban)==null?void 0:b.sectionWidth)||200;d=d+1,S.x=C*d+(d-1)*p/2,S.width=C,S.y=0,S.height=C*3,S.rx=5,S.ry=5,S.cssClasses=S.cssClasses+" section-"+d;const k=await QL(u,S);m=Math.max(m,(x=k==null?void 0:k.labelBBox)==null?void 0:x.height),g.push(k)}let y=0;for(const S of f){const C=g[y];y=y+1;const k=((T=l==null?void 0:l.kanban)==null?void 0:T.sectionWidth)||200,O=-k*3/2+m;let I=O;const _=o.nodes.filter($=>$.parentId===S.id);for(const $ of _){if($.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");$.x=S.x,$.width=k-1.5*p;const P=(await rA(h,$,{config:l})).node().getBBox();$.y=I+P.height/2,await VR($),I=$.y+P.height/2+p/2}const R=C.cluster.select("rect"),M=Math.max(I-O+3*p,50)+(m-25);R.attr("height",M)}wv(void 0,c,((w=l.mindmap)==null?void 0:w.padding)??Lr.kanban.padding,((E=l.mindmap)==null?void 0:E.useMaxWidth)??Lr.kanban.useMaxWidth)},"draw"),nOt={draw:rOt},iOt=A(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],yf(e["lineColor"+n])?e["lineColor"+n]=Lt(e["lineColor"+n],20):e["lineColor"+n]=Wt(e["lineColor"+n],20);const r=A((n,a)=>e.darkMode?Wt(n,a):Lt(n,a),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const a=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(e["cScale"+n],10)};
      stroke: ${r(e["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${a};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),aOt=A(e=>`
  .edge {
    stroke-width: 3;
  }
  ${iOt(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),sOt=aOt,oOt={db:tOt,renderer:nOt,parser:zRt,styles:sOt};const lOt=Object.freeze(Object.defineProperty({__proto__:null,diagram:oOt},Symbol.toStringTag,{value:"Module"}));function eK(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function tye(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function V7(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(r+=a)}return r}function cOt(e){return e.target.depth}function uOt(e){return e.depth}function hOt(e,t){return t-1-e.height}function rye(e,t){return e.sourceLinks.length?e.depth:t-1}function fOt(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?tye(e.sourceLinks,cOt)-1:0}function P4(e){return function(){return e}}function tK(e,t){return OS(e.source,t.source)||e.index-t.index}function rK(e,t){return OS(e.target,t.target)||e.index-t.index}function OS(e,t){return e.y0-t.y0}function q7(e){return e.value}function dOt(e){return e.index}function pOt(e){return e.nodes}function gOt(e){return e.links}function nK(e,t){const r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function iK({nodes:e}){for(const t of e){let r=t.y0,n=r;for(const a of t.sourceLinks)a.y0=r+a.width/2,r+=a.width;for(const a of t.targetLinks)a.y1=n+a.width/2,n+=a.width}}function mOt(){let e=0,t=0,r=1,n=1,a=24,o=8,l,c=dOt,u=rye,h,f,d=pOt,p=gOt,g=6;function m(){const P={nodes:d.apply(null,arguments),links:p.apply(null,arguments)};return y(P),b(P),x(P),T(P),S(P),iK(P),P}m.update=function(P){return iK(P),P},m.nodeId=function(P){return arguments.length?(c=typeof P=="function"?P:P4(P),m):c},m.nodeAlign=function(P){return arguments.length?(u=typeof P=="function"?P:P4(P),m):u},m.nodeSort=function(P){return arguments.length?(h=P,m):h},m.nodeWidth=function(P){return arguments.length?(a=+P,m):a},m.nodePadding=function(P){return arguments.length?(o=l=+P,m):o},m.nodes=function(P){return arguments.length?(d=typeof P=="function"?P:P4(P),m):d},m.links=function(P){return arguments.length?(p=typeof P=="function"?P:P4(P),m):p},m.linkSort=function(P){return arguments.length?(f=P,m):f},m.size=function(P){return arguments.length?(e=t=0,r=+P[0],n=+P[1],m):[r-e,n-t]},m.extent=function(P){return arguments.length?(e=+P[0][0],r=+P[1][0],t=+P[0][1],n=+P[1][1],m):[[e,t],[r,n]]},m.iterations=function(P){return arguments.length?(g=+P,m):g};function y({nodes:P,links:F}){for(const[D,B]of P.entries())B.index=D,B.sourceLinks=[],B.targetLinks=[];const L=new Map(P.map((D,B)=>[c(D,B,P),D]));for(const[D,B]of F.entries()){B.index=D;let{source:H,target:U}=B;typeof H!="object"&&(H=B.source=nK(L,H)),typeof U!="object"&&(U=B.target=nK(L,U)),H.sourceLinks.push(B),U.targetLinks.push(B)}if(f!=null)for(const{sourceLinks:D,targetLinks:B}of P)D.sort(f),B.sort(f)}function b({nodes:P}){for(const F of P)F.value=F.fixedValue===void 0?Math.max(V7(F.sourceLinks,q7),V7(F.targetLinks,q7)):F.fixedValue}function x({nodes:P}){const F=P.length;let L=new Set(P),D=new Set,B=0;for(;L.size;){for(const H of L){H.depth=B;for(const{target:U}of H.sourceLinks)D.add(U)}if(++B>F)throw new Error("circular link");L=D,D=new Set}}function T({nodes:P}){const F=P.length;let L=new Set(P),D=new Set,B=0;for(;L.size;){for(const H of L){H.height=B;for(const{source:U}of H.targetLinks)D.add(U)}if(++B>F)throw new Error("circular link");L=D,D=new Set}}function w({nodes:P}){const F=eK(P,B=>B.depth)+1,L=(r-e-a)/(F-1),D=new Array(F);for(const B of P){const H=Math.max(0,Math.min(F-1,Math.floor(u.call(null,B,F))));B.layer=H,B.x0=e+H*L,B.x1=B.x0+a,D[H]?D[H].push(B):D[H]=[B]}if(h)for(const B of D)B.sort(h);return D}function E(P){const F=tye(P,L=>(n-t-(L.length-1)*l)/V7(L,q7));for(const L of P){let D=t;for(const B of L){B.y0=D,B.y1=D+B.value*F,D=B.y1+l;for(const H of B.sourceLinks)H.width=H.value*F}D=(n-D+l)/(L.length+1);for(let B=0;B<L.length;++B){const H=L[B];H.y0+=D*(B+1),H.y1+=D*(B+1)}M(L)}}function S(P){const F=w(P);l=Math.min(o,(n-t)/(eK(F,L=>L.length)-1)),E(F);for(let L=0;L<g;++L){const D=Math.pow(.99,L),B=Math.max(1-D,(L+1)/g);k(F,D,B),C(F,D,B)}}function C(P,F,L){for(let D=1,B=P.length;D<B;++D){const H=P[D];for(const U of H){let G=0,W=0;for(const{source:ce,value:Z}of U.targetLinks){let J=Z*(U.layer-ce.layer);G+=$(ce,U)*J,W+=J}if(!(W>0))continue;let ee=(G/W-U.y0)*F;U.y0+=ee,U.y1+=ee,R(U)}h===void 0&&H.sort(OS),O(H,L)}}function k(P,F,L){for(let D=P.length,B=D-2;B>=0;--B){const H=P[B];for(const U of H){let G=0,W=0;for(const{target:ce,value:Z}of U.sourceLinks){let J=Z*(ce.layer-U.layer);G+=N(U,ce)*J,W+=J}if(!(W>0))continue;let ee=(G/W-U.y0)*F;U.y0+=ee,U.y1+=ee,R(U)}h===void 0&&H.sort(OS),O(H,L)}}function O(P,F){const L=P.length>>1,D=P[L];_(P,D.y0-l,L-1,F),I(P,D.y1+l,L+1,F),_(P,n,P.length-1,F),I(P,t,0,F)}function I(P,F,L,D){for(;L<P.length;++L){const B=P[L],H=(F-B.y0)*D;H>1e-6&&(B.y0+=H,B.y1+=H),F=B.y1+l}}function _(P,F,L,D){for(;L>=0;--L){const B=P[L],H=(B.y1-F)*D;H>1e-6&&(B.y0-=H,B.y1-=H),F=B.y0-l}}function R({sourceLinks:P,targetLinks:F}){if(f===void 0){for(const{source:{sourceLinks:L}}of F)L.sort(rK);for(const{target:{targetLinks:L}}of P)L.sort(tK)}}function M(P){if(f===void 0)for(const{sourceLinks:F,targetLinks:L}of P)F.sort(rK),L.sort(tK)}function $(P,F){let L=P.y0-(P.sourceLinks.length-1)*l/2;for(const{target:D,width:B}of P.sourceLinks){if(D===F)break;L+=B+l}for(const{source:D,width:B}of F.targetLinks){if(D===P)break;L-=B}return L}function N(P,F){let L=F.y0-(F.targetLinks.length-1)*l/2;for(const{source:D,width:B}of F.targetLinks){if(D===P)break;L+=B+l}for(const{target:D,width:B}of P.sourceLinks){if(D===F)break;L-=B}return L}return m}var oN=Math.PI,lN=2*oN,cd=1e-6,vOt=lN-cd;function cN(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function nye(){return new cN}cN.prototype=nye.prototype={constructor:cN,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var o=this._x1,l=this._y1,c=r-e,u=n-t,h=o-e,f=l-t,d=h*h+f*f;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>cd)if(!(Math.abs(f*c-u*h)>cd)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var p=r-o,g=n-l,m=c*c+u*u,y=p*p+g*g,b=Math.sqrt(m),x=Math.sqrt(d),T=a*Math.tan((oN-Math.acos((m+d-y)/(2*b*x)))/2),w=T/x,E=T/b;Math.abs(w-1)>cd&&(this._+="L"+(e+w*h)+","+(t+w*f)),this._+="A"+a+","+a+",0,0,"+ +(f*p>h*g)+","+(this._x1=e+E*c)+","+(this._y1=t+E*u)}},arc:function(e,t,r,n,a,o){e=+e,t=+t,r=+r,o=!!o;var l=r*Math.cos(n),c=r*Math.sin(n),u=e+l,h=t+c,f=1^o,d=o?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>cd||Math.abs(this._y1-h)>cd)&&(this._+="L"+u+","+h),r&&(d<0&&(d=d%lN+lN),d>vOt?this._+="A"+r+","+r+",0,1,"+f+","+(e-l)+","+(t-c)+"A"+r+","+r+",0,1,"+f+","+(this._x1=u)+","+(this._y1=h):d>cd&&(this._+="A"+r+","+r+",0,"+ +(d>=oN)+","+f+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function aK(e){return function(){return e}}function yOt(e){return e[0]}function bOt(e){return e[1]}var xOt=Array.prototype.slice;function TOt(e){return e.source}function wOt(e){return e.target}function EOt(e){var t=TOt,r=wOt,n=yOt,a=bOt,o=null;function l(){var c,u=xOt.call(arguments),h=t.apply(this,u),f=r.apply(this,u);if(o||(o=c=nye()),e(o,+n.apply(this,(u[0]=h,u)),+a.apply(this,u),+n.apply(this,(u[0]=f,u)),+a.apply(this,u)),c)return o=null,c+""||null}return l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(r=c,l):r},l.x=function(c){return arguments.length?(n=typeof c=="function"?c:aK(+c),l):n},l.y=function(c){return arguments.length?(a=typeof c=="function"?c:aK(+c),l):a},l.context=function(c){return arguments.length?(o=c??null,l):o},l}function SOt(e,t,r,n,a){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,a,n,a)}function AOt(){return EOt(SOt)}function kOt(e){return[e.source.x1,e.y0]}function COt(e){return[e.target.x0,e.y1]}function IOt(){return AOt().source(kOt).target(COt)}var uN=function(){var e=A(function(c,u,h,f){for(h=h||{},f=c.length;f--;h[c[f]]=u);return h},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],a={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:A(function(u,h,f,d,p,g,m){var y=g.length-1;switch(p){case 7:const b=d.findOrCreateNode(g[y-4].trim().replaceAll('""','"')),x=d.findOrCreateNode(g[y-2].trim().replaceAll('""','"')),T=parseFloat(g[y].trim());d.addLink(b,x,T);break;case 8:case 9:case 11:this.$=g[y];break;case 10:this.$=g[y-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:A(function(u,h){if(h.recoverable)this.trace(u);else{var f=new Error(u);throw f.hash=h,f}},"parseError"),parse:A(function(u){var h=this,f=[0],d=[],p=[null],g=[],m=this.table,y="",b=0,x=0,T=2,w=1,E=g.slice.call(arguments,1),S=Object.create(this.lexer),C={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(C.yy[k]=this.yy[k]);S.setInput(u,C.yy),C.yy.lexer=S,C.yy.parser=this,typeof S.yylloc>"u"&&(S.yylloc={});var O=S.yylloc;g.push(O);var I=S.options&&S.options.ranges;typeof C.yy.parseError=="function"?this.parseError=C.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _(G){f.length=f.length-2*G,p.length=p.length-G,g.length=g.length-G}A(_,"popStack");function R(){var G;return G=d.pop()||S.lex()||w,typeof G!="number"&&(G instanceof Array&&(d=G,G=d.pop()),G=h.symbols_[G]||G),G}A(R,"lex");for(var M,$,N,P,F={},L,D,B,H;;){if($=f[f.length-1],this.defaultActions[$]?N=this.defaultActions[$]:((M===null||typeof M>"u")&&(M=R()),N=m[$]&&m[$][M]),typeof N>"u"||!N.length||!N[0]){var U="";H=[];for(L in m[$])this.terminals_[L]&&L>T&&H.push("'"+this.terminals_[L]+"'");S.showPosition?U="Parse error on line "+(b+1)+`:
`+S.showPosition()+`
Expecting `+H.join(", ")+", got '"+(this.terminals_[M]||M)+"'":U="Parse error on line "+(b+1)+": Unexpected "+(M==w?"end of input":"'"+(this.terminals_[M]||M)+"'"),this.parseError(U,{text:S.match,token:this.terminals_[M]||M,line:S.yylineno,loc:O,expected:H})}if(N[0]instanceof Array&&N.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+M);switch(N[0]){case 1:f.push(M),p.push(S.yytext),g.push(S.yylloc),f.push(N[1]),M=null,x=S.yyleng,y=S.yytext,b=S.yylineno,O=S.yylloc;break;case 2:if(D=this.productions_[N[1]][1],F.$=p[p.length-D],F._$={first_line:g[g.length-(D||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(D||1)].first_column,last_column:g[g.length-1].last_column},I&&(F._$.range=[g[g.length-(D||1)].range[0],g[g.length-1].range[1]]),P=this.performAction.apply(F,[y,x,b,C.yy,N[1],p,g].concat(E)),typeof P<"u")return P;D&&(f=f.slice(0,-1*D*2),p=p.slice(0,-1*D),g=g.slice(0,-1*D)),f.push(this.productions_[N[1]][0]),p.push(F.$),g.push(F._$),B=m[f[f.length-2]][f[f.length-1]],f.push(B);break;case 3:return!0}}return!0},"parse")},o=function(){var c={EOF:1,parseError:A(function(h,f){if(this.yy.parser)this.yy.parser.parseError(h,f);else throw new Error(h)},"parseError"),setInput:A(function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:A(function(u){var h=u.length,f=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),f.length-1&&(this.yylineno-=f.length-1);var p=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===d.length?this.yylloc.first_column:0)+d[d.length-f.length].length-f[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[p[0],p[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(u){this.unput(this.match.slice(u))},"less"),pastInput:A(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:A(function(u,h){var f,d,p;if(this.options.backtrack_lexer&&(p={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(p.yylloc.range=this.yylloc.range.slice(0))),d=u[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],f=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)return f;if(this._backtrack){for(var g in p)this[g]=p[g];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,f,d;this._more||(this.yytext="",this.match="");for(var p=this._currentRules(),g=0;g<p.length;g++)if(f=this._input.match(this.rules[p[g]]),f&&(!h||f[0].length>h[0].length)){if(h=f,d=g,this.options.backtrack_lexer){if(u=this.test_match(f,p[g]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,p[d]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var h=this.next();return h||this.lex()},"lex"),begin:A(function(h){this.conditionStack.push(h)},"begin"),popState:A(function(){var h=this.conditionStack.length-1;return h>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(h){return h=this.conditionStack.length-1-Math.abs(h||0),h>=0?this.conditionStack[h]:"INITIAL"},"topState"),pushState:A(function(h){this.begin(h)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:A(function(h,f,d,p){switch(d){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return c}();a.lexer=o;function l(){this.yy={}}return A(l,"Parser"),l.prototype=a,a.Parser=l,new l}();uN.parser=uN;var _S=uN,wk=[],Ek=[],NS=new Map,ROt=A(()=>{wk=[],Ek=[],NS=new Map,ca()},"clear"),cm,OOt=(cm=class{constructor(t,r,n=0){this.source=t,this.target=r,this.value=n}},A(cm,"SankeyLink"),cm),_Ot=A((e,t,r)=>{wk.push(new OOt(e,t,r))},"addLink"),um,NOt=(um=class{constructor(t){this.ID=t}},A(um,"SankeyNode"),um),LOt=A(e=>{e=st.sanitizeText(e,De());let t=NS.get(e);return t===void 0&&(t=new NOt(e),NS.set(e,t),Ek.push(t)),t},"findOrCreateNode"),MOt=A(()=>Ek,"getNodes"),DOt=A(()=>wk,"getLinks"),POt=A(()=>({nodes:Ek.map(e=>({id:e.ID})),links:wk.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),FOt={nodesMap:NS,getConfig:A(()=>De().sankey,"getConfig"),getNodes:MOt,getLinks:DOt,getGraph:POt,addLink:_Ot,findOrCreateNode:LOt,getAccTitle:Ia,setAccTitle:ua,getAccDescription:Oa,setAccDescription:Ra,getDiagramTitle:_a,setDiagramTitle:Ns,clear:ROt},lh,sK=(lh=class{static next(t){return new lh(t+ ++lh.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},A(lh,"Uid"),lh.count=0,lh),BOt={left:uOt,right:hOt,center:fOt,justify:rye},$Ot=A(function(e,t,r,n){const{securityLevel:a,sankey:o}=De(),l=lne.sankey;let c;a==="sandbox"&&(c=nt("#i"+t));const u=nt(a==="sandbox"?c.nodes()[0].contentDocument.body:"body"),h=a==="sandbox"?u.select(`[id="${t}"]`):nt(`[id="${t}"]`),f=(o==null?void 0:o.width)??l.width,d=(o==null?void 0:o.height)??l.width,p=(o==null?void 0:o.useMaxWidth)??l.useMaxWidth,g=(o==null?void 0:o.nodeAlignment)??l.nodeAlignment,m=(o==null?void 0:o.prefix)??l.prefix,y=(o==null?void 0:o.suffix)??l.suffix,b=(o==null?void 0:o.showValues)??l.showValues,x=n.db.getGraph(),T=BOt[g];mOt().nodeId(_=>_.id).nodeWidth(10).nodePadding(10+(b?15:0)).nodeAlign(T).extent([[0,0],[f,d]])(x);const S=z6(IWe);h.append("g").attr("class","nodes").selectAll(".node").data(x.nodes).join("g").attr("class","node").attr("id",_=>(_.uid=sK.next("node-")).id).attr("transform",function(_){return"translate("+_.x0+","+_.y0+")"}).attr("x",_=>_.x0).attr("y",_=>_.y0).append("rect").attr("height",_=>_.y1-_.y0).attr("width",_=>_.x1-_.x0).attr("fill",_=>S(_.id));const C=A(({id:_,value:R})=>b?`${_}
${m}${Math.round(R*100)/100}${y}`:_,"getText");h.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(x.nodes).join("text").attr("x",_=>_.x0<f/2?_.x1+6:_.x0-6).attr("y",_=>(_.y1+_.y0)/2).attr("dy",`${b?"0":"0.35"}em`).attr("text-anchor",_=>_.x0<f/2?"start":"end").text(C);const k=h.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(x.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),O=(o==null?void 0:o.linkColor)??"gradient";if(O==="gradient"){const _=k.append("linearGradient").attr("id",R=>(R.uid=sK.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",R=>R.source.x1).attr("x2",R=>R.target.x0);_.append("stop").attr("offset","0%").attr("stop-color",R=>S(R.source.id)),_.append("stop").attr("offset","100%").attr("stop-color",R=>S(R.target.id))}let I;switch(O){case"gradient":I=A(_=>_.uid,"coloring");break;case"source":I=A(_=>S(_.source.id),"coloring");break;case"target":I=A(_=>S(_.target.id),"coloring");break;default:I=O}k.append("path").attr("d",IOt()).attr("stroke",I).attr("stroke-width",_=>Math.max(1,_.width)),wv(void 0,h,0,p)},"draw"),HOt={draw:$Ot},UOt=A(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),WOt=_S.parse.bind(_S);_S.parse=e=>WOt(UOt(e));var zOt={parser:_S,db:FOt,renderer:HOt};const GOt=Object.freeze(Object.defineProperty({__proto__:null,diagram:zOt},Symbol.toStringTag,{value:"Module"}));var iye={packet:[]},fF=structuredClone(iye),YOt=Lr.packet,VOt=A(()=>{const e=zh({...YOt,...Fn().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),qOt=A(()=>fF.packet,"getPacket"),jOt=A(e=>{e.length>0&&fF.packet.push(e)},"pushWord"),XOt=A(()=>{ca(),fF=structuredClone(iye)},"clear"),R1={pushWord:jOt,getPacket:qOt,getConfig:VOt,clear:XOt,setAccTitle:ua,getAccTitle:Ia,setDiagramTitle:Ns,getDiagramTitle:_a,getAccDescription:Oa,setAccDescription:Ra},KOt=1e4,ZOt=A(e=>{k3(e,R1);let t=-1,r=[],n=1;const{bitsPerRow:a}=R1.getConfig();for(let{start:o,end:l,label:c}of e.blocks){if(l&&l<o)throw new Error(`Packet block ${o} - ${l} is invalid. End must be greater than start.`);if(o!==t+1)throw new Error(`Packet block ${o} - ${l??o} is not contiguous. It should start from ${t+1}.`);for(t=l??o,me.debug(`Packet block ${o} - ${t} with label ${c}`);r.length<=a+1&&R1.getPacket().length<KOt;){const[u,h]=QOt({start:o,end:l,label:c},n,a);if(r.push(u),u.end+1===n*a&&(R1.pushWord(r),r=[],n++),!h)break;({start:o,end:l,label:c}=h)}}R1.pushWord(r)},"populate"),QOt=A((e,t,r)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*r?[e,void 0]:[{start:e.start,end:t*r-1,label:e.label},{start:t*r,end:e.end,label:e.label}]},"getNextFittingBlock"),JOt={parse:A(async e=>{const t=await Vv("packet",e);me.debug(t),ZOt(t)},"parse")},e_t=A((e,t,r,n)=>{const a=n.db,o=a.getConfig(),{rowHeight:l,paddingY:c,bitWidth:u,bitsPerRow:h}=o,f=a.getPacket(),d=a.getDiagramTitle(),p=l+c,g=p*(f.length+1)-(d?0:l),m=u*h+2,y=Tf(t);y.attr("viewbox",`0 0 ${m} ${g}`),is(y,g,m,o.useMaxWidth);for(const[b,x]of f.entries())t_t(y,x,b,o);y.append("text").text(d).attr("x",m/2).attr("y",g-p/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),t_t=A((e,t,r,{rowHeight:n,paddingX:a,paddingY:o,bitWidth:l,bitsPerRow:c,showBits:u})=>{const h=e.append("g"),f=r*(n+o)+o;for(const d of t){const p=d.start%c*l+1,g=(d.end-d.start+1)*l-a;if(h.append("rect").attr("x",p).attr("y",f).attr("width",g).attr("height",n).attr("class","packetBlock"),h.append("text").attr("x",p+g/2).attr("y",f+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(d.label),!u)continue;const m=d.end===d.start,y=f-2;h.append("text").attr("x",p+(m?g/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(d.start),m||h.append("text").attr("x",p+g).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(d.end)}},"drawWord"),r_t={draw:e_t},n_t={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},i_t=A(({packet:e}={})=>{const t=zh(n_t,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles"),a_t={parser:JOt,db:R1,renderer:r_t,styles:i_t};const s_t=Object.freeze(Object.defineProperty({__proto__:null,diagram:a_t},Symbol.toStringTag,{value:"Module"}));var hN=function(){var e=A(function(w,E,S,C){for(S=S||{},C=w.length;C--;S[w[C]]=E);return S},"o"),t=[1,7],r=[1,13],n=[1,14],a=[1,15],o=[1,19],l=[1,16],c=[1,17],u=[1,18],h=[8,30],f=[8,21,28,29,30,31,32,40,44,47],d=[1,23],p=[1,24],g=[8,15,16,21,28,29,30,31,32,40,44,47],m=[8,15,16,21,27,28,29,30,31,32,40,44,47],y=[1,49],b={trace:A(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:A(function(E,S,C,k,O,I,_){var R=I.length-1;switch(O){case 4:k.getLogger().debug("Rule: separator (NL) ");break;case 5:k.getLogger().debug("Rule: separator (Space) ");break;case 6:k.getLogger().debug("Rule: separator (EOF) ");break;case 7:k.getLogger().debug("Rule: hierarchy: ",I[R-1]),k.setHierarchy(I[R-1]);break;case 8:k.getLogger().debug("Stop NL ");break;case 9:k.getLogger().debug("Stop EOF ");break;case 10:k.getLogger().debug("Stop NL2 ");break;case 11:k.getLogger().debug("Stop EOF2 ");break;case 12:k.getLogger().debug("Rule: statement: ",I[R]),typeof I[R].length=="number"?this.$=I[R]:this.$=[I[R]];break;case 13:k.getLogger().debug("Rule: statement #2: ",I[R-1]),this.$=[I[R-1]].concat(I[R]);break;case 14:k.getLogger().debug("Rule: link: ",I[R],E),this.$={edgeTypeStr:I[R],label:""};break;case 15:k.getLogger().debug("Rule: LABEL link: ",I[R-3],I[R-1],I[R]),this.$={edgeTypeStr:I[R],label:I[R-1]};break;case 18:const M=parseInt(I[R]),$=k.generateId();this.$={id:$,type:"space",label:"",width:M,children:[]};break;case 23:k.getLogger().debug("Rule: (nodeStatement link node) ",I[R-2],I[R-1],I[R]," typestr: ",I[R-1].edgeTypeStr);const N=k.edgeStrToEdgeData(I[R-1].edgeTypeStr);this.$=[{id:I[R-2].id,label:I[R-2].label,type:I[R-2].type,directions:I[R-2].directions},{id:I[R-2].id+"-"+I[R].id,start:I[R-2].id,end:I[R].id,label:I[R-1].label,type:"edge",directions:I[R].directions,arrowTypeEnd:N,arrowTypeStart:"arrow_open"},{id:I[R].id,label:I[R].label,type:k.typeStr2Type(I[R].typeStr),directions:I[R].directions}];break;case 24:k.getLogger().debug("Rule: nodeStatement (abc88 node size) ",I[R-1],I[R]),this.$={id:I[R-1].id,label:I[R-1].label,type:k.typeStr2Type(I[R-1].typeStr),directions:I[R-1].directions,widthInColumns:parseInt(I[R],10)};break;case 25:k.getLogger().debug("Rule: nodeStatement (node) ",I[R]),this.$={id:I[R].id,label:I[R].label,type:k.typeStr2Type(I[R].typeStr),directions:I[R].directions,widthInColumns:1};break;case 26:k.getLogger().debug("APA123",this?this:"na"),k.getLogger().debug("COLUMNS: ",I[R]),this.$={type:"column-setting",columns:I[R]==="auto"?-1:parseInt(I[R])};break;case 27:k.getLogger().debug("Rule: id-block statement : ",I[R-2],I[R-1]),k.generateId(),this.$={...I[R-2],type:"composite",children:I[R-1]};break;case 28:k.getLogger().debug("Rule: blockStatement : ",I[R-2],I[R-1],I[R]);const P=k.generateId();this.$={id:P,type:"composite",label:"",children:I[R-1]};break;case 29:k.getLogger().debug("Rule: node (NODE_ID separator): ",I[R]),this.$={id:I[R]};break;case 30:k.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",I[R-1],I[R]),this.$={id:I[R-1],label:I[R].label,typeStr:I[R].typeStr,directions:I[R].directions};break;case 31:k.getLogger().debug("Rule: dirList: ",I[R]),this.$=[I[R]];break;case 32:k.getLogger().debug("Rule: dirList: ",I[R-1],I[R]),this.$=[I[R-1]].concat(I[R]);break;case 33:k.getLogger().debug("Rule: nodeShapeNLabel: ",I[R-2],I[R-1],I[R]),this.$={typeStr:I[R-2]+I[R],label:I[R-1]};break;case 34:k.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",I[R-3],I[R-2]," #3:",I[R-1],I[R]),this.$={typeStr:I[R-3]+I[R],label:I[R-2],directions:I[R-1]};break;case 35:case 36:this.$={type:"classDef",id:I[R-1].trim(),css:I[R].trim()};break;case 37:this.$={type:"applyClass",id:I[R-1].trim(),styleClass:I[R].trim()};break;case 38:this.$={type:"applyStyles",id:I[R-1].trim(),stylesStr:I[R].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:a,32:o,40:l,44:c,47:u},{8:[1,20]},e(h,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:r,29:n,31:a,32:o,40:l,44:c,47:u}),e(f,[2,16],{14:22,15:d,16:p}),e(f,[2,17]),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,22]),e(g,[2,25],{27:[1,25]}),e(f,[2,26]),{19:26,26:12,32:o},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:a,32:o,40:l,44:c,47:u},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(m,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(h,[2,13]),{26:35,32:o},{32:[2,14]},{17:[1,36]},e(g,[2,24]),{11:37,13:4,14:22,15:d,16:p,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:a,32:o,40:l,44:c,47:u},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(g,[2,23]),{18:[1,45]},{30:[1,46]},e(f,[2,28]),e(f,[2,35]),e(f,[2,36]),e(f,[2,37]),e(f,[2,38]),{37:[1,47]},{34:48,35:y},{15:[1,50]},e(f,[2,27]),e(m,[2,33]),{39:[1,51]},{34:52,35:y,39:[2,31]},{32:[2,15]},e(m,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:A(function(E,S){if(S.recoverable)this.trace(E);else{var C=new Error(E);throw C.hash=S,C}},"parseError"),parse:A(function(E){var S=this,C=[0],k=[],O=[null],I=[],_=this.table,R="",M=0,$=0,N=2,P=1,F=I.slice.call(arguments,1),L=Object.create(this.lexer),D={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(D.yy[B]=this.yy[B]);L.setInput(E,D.yy),D.yy.lexer=L,D.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var H=L.yylloc;I.push(H);var U=L.options&&L.options.ranges;typeof D.yy.parseError=="function"?this.parseError=D.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function G(te){C.length=C.length-2*te,O.length=O.length-te,I.length=I.length-te}A(G,"popStack");function W(){var te;return te=k.pop()||L.lex()||P,typeof te!="number"&&(te instanceof Array&&(k=te,te=k.pop()),te=S.symbols_[te]||te),te}A(W,"lex");for(var ee,ce,Z,J,oe={},Y,X,K,z;;){if(ce=C[C.length-1],this.defaultActions[ce]?Z=this.defaultActions[ce]:((ee===null||typeof ee>"u")&&(ee=W()),Z=_[ce]&&_[ce][ee]),typeof Z>"u"||!Z.length||!Z[0]){var j="";z=[];for(Y in _[ce])this.terminals_[Y]&&Y>N&&z.push("'"+this.terminals_[Y]+"'");L.showPosition?j="Parse error on line "+(M+1)+`:
`+L.showPosition()+`
Expecting `+z.join(", ")+", got '"+(this.terminals_[ee]||ee)+"'":j="Parse error on line "+(M+1)+": Unexpected "+(ee==P?"end of input":"'"+(this.terminals_[ee]||ee)+"'"),this.parseError(j,{text:L.match,token:this.terminals_[ee]||ee,line:L.yylineno,loc:H,expected:z})}if(Z[0]instanceof Array&&Z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+ee);switch(Z[0]){case 1:C.push(ee),O.push(L.yytext),I.push(L.yylloc),C.push(Z[1]),ee=null,$=L.yyleng,R=L.yytext,M=L.yylineno,H=L.yylloc;break;case 2:if(X=this.productions_[Z[1]][1],oe.$=O[O.length-X],oe._$={first_line:I[I.length-(X||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(X||1)].first_column,last_column:I[I.length-1].last_column},U&&(oe._$.range=[I[I.length-(X||1)].range[0],I[I.length-1].range[1]]),J=this.performAction.apply(oe,[R,$,M,D.yy,Z[1],O,I].concat(F)),typeof J<"u")return J;X&&(C=C.slice(0,-1*X*2),O=O.slice(0,-1*X),I=I.slice(0,-1*X)),C.push(this.productions_[Z[1]][0]),O.push(oe.$),I.push(oe._$),K=_[C[C.length-2]][C[C.length-1]],C.push(K);break;case 3:return!0}}return!0},"parse")},x=function(){var w={EOF:1,parseError:A(function(S,C){if(this.yy.parser)this.yy.parser.parseError(S,C);else throw new Error(S)},"parseError"),setInput:A(function(E,S){return this.yy=S||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:A(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var S=E.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:A(function(E){var S=E.length,C=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var k=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var O=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===k.length?this.yylloc.first_column:0)+k[k.length-C.length].length-C[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[O[0],O[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},"unput"),more:A(function(){return this._more=!0,this},"more"),reject:A(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:A(function(E){this.unput(this.match.slice(E))},"less"),pastInput:A(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:A(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:A(function(){var E=this.pastInput(),S=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+S+"^"},"showPosition"),test_match:A(function(E,S){var C,k,O;if(this.options.backtrack_lexer&&(O={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(O.yylloc.range=this.yylloc.range.slice(0))),k=E[0].match(/(?:\r\n?|\n).*/g),k&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],C=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var I in O)this[I]=O[I];return!1}return!1},"test_match"),next:A(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,S,C,k;this._more||(this.yytext="",this.match="");for(var O=this._currentRules(),I=0;I<O.length;I++)if(C=this._input.match(this.rules[O[I]]),C&&(!S||C[0].length>S[0].length)){if(S=C,k=I,this.options.backtrack_lexer){if(E=this.test_match(C,O[I]),E!==!1)return E;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(E=this.test_match(S,O[k]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:A(function(){var S=this.next();return S||this.lex()},"lex"),begin:A(function(S){this.conditionStack.push(S)},"begin"),popState:A(function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:A(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:A(function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:A(function(S){this.begin(S)},"pushState"),stateStackSize:A(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:A(function(S,C,k,O){switch(k){case 0:return 10;case 1:return S.getLogger().debug("Found space-block"),31;case 2:return S.getLogger().debug("Found nl-block"),31;case 3:return S.getLogger().debug("Found space-block"),29;case 4:S.getLogger().debug(".",C.yytext);break;case 5:S.getLogger().debug("_",C.yytext);break;case 6:return 5;case 7:return C.yytext=-1,28;case 8:return C.yytext=C.yytext.replace(/columns\s+/,""),S.getLogger().debug("COLUMNS (LEX)",C.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:S.getLogger().debug("LEX: POPPING STR:",C.yytext),this.popState();break;case 14:return S.getLogger().debug("LEX: STR end:",C.yytext),"STR";case 15:return C.yytext=C.yytext.replace(/space\:/,""),S.getLogger().debug("SPACE NUM (LEX)",C.yytext),21;case 16:return C.yytext="1",S.getLogger().debug("COLUMNS (LEX)",C.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),S.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),S.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),S.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),S.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),S.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),S.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),S.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),S.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),S.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),S.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),S.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),S.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),S.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),S.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),S.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),S.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),S.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return S.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return S.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return S.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return S.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return S.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return S.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return S.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return S.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return S.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return S.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return S.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return S.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),S.getLogger().debug("LEX ARR START"),38;case 75:return S.getLogger().debug("Lex: NODE_ID",C.yytext),32;case 76:return S.getLogger().debug("Lex: EOF",C.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:S.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:S.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return S.getLogger().debug("LEX: NODE_DESCR:",C.yytext),"NODE_DESCR";case 84:S.getLogger().debug("LEX POPPING"),this.popState();break;case 85:S.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return C.yytext=C.yytext.replace(/^,\s*/,""),S.getLogger().debug("Lex (right): dir:",C.yytext),"DIR";case 87:return C.yytext=C.yytext.replace(/^,\s*/,""),S.getLogger().debug("Lex (left):",C.yytext),"DIR";case 88:return C.yytext=C.yytext.replace(/^,\s*/,""),S.getLogger().debug("Lex (x):",C.yytext),"DIR";case 89:return C.yytext=C.yytext.replace(/^,\s*/,""),S.getLogger().debug("Lex (y):",C.yytext),"DIR";case 90:return C.yytext=C.yytext.replace(/^,\s*/,""),S.getLogger().debug("Lex (up):",C.yytext),"DIR";case 91:return C.yytext=C.yytext.replace(/^,\s*/,""),S.getLogger().debug("Lex (down):",C.yytext),"DIR";case 92:return C.yytext="]>",S.getLogger().debug("Lex (ARROW_DIR end):",C.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return S.getLogger().debug("Lex: LINK","#"+C.yytext+"#"),15;case 94:return S.getLogger().debug("Lex: LINK",C.yytext),15;case 95:return S.getLogger().debug("Lex: LINK",C.yytext),15;case 96:return S.getLogger().debug("Lex: LINK",C.yytext),15;case 97:return S.getLogger().debug("Lex: START_LINK",C.yytext),this.pushState("LLABEL"),16;case 98:return S.getLogger().debug("Lex: START_LINK",C.yytext),this.pushState("LLABEL"),16;case 99:return S.getLogger().debug("Lex: START_LINK",C.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return S.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),S.getLogger().debug("Lex: LINK","#"+C.yytext+"#"),15;case 103:return this.popState(),S.getLogger().debug("Lex: LINK",C.yytext),15;case 104:return this.popState(),S.getLogger().debug("Lex: LINK",C.yytext),15;case 105:return S.getLogger().debug("Lex: COLON",C.yytext),C.yytext=C.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return w}();b.lexer=x;function T(){this.yy={}}return A(T,"Parser"),T.prototype=b,b.Parser=T,new T}();hN.parser=hN;var o_t=hN,dc=new Map,dF=[],fN=new Map,oK="color",lK="fill",l_t="bgFill",aye=",",c_t=De(),LS=new Map,u_t=A(e=>st.sanitizeText(e,c_t),"sanitizeText"),h_t=A(function(e,t=""){let r=LS.get(e);r||(r={id:e,styles:[],textStyles:[]},LS.set(e,r)),t!=null&&t.split(aye).forEach(n=>{const a=n.replace(/([^;]*);/,"$1").trim();if(RegExp(oK).exec(n)){const l=a.replace(lK,l_t).replace(oK,lK);r.textStyles.push(l)}r.styles.push(a)})},"addStyleClass"),f_t=A(function(e,t=""){const r=dc.get(e);t!=null&&(r.styles=t.split(aye))},"addStyle2Node"),d_t=A(function(e,t){e.split(",").forEach(function(r){let n=dc.get(r);if(n===void 0){const a=r.trim();n={id:a,type:"na",children:[]},dc.set(a,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),sye=A((e,t)=>{const r=e.flat(),n=[];for(const a of r){if(a.label&&(a.label=u_t(a.label)),a.type==="classDef"){h_t(a.id,a.css);continue}if(a.type==="applyClass"){d_t(a.id,(a==null?void 0:a.styleClass)??"");continue}if(a.type==="applyStyles"){a!=null&&a.stylesStr&&f_t(a.id,a==null?void 0:a.stylesStr);continue}if(a.type==="column-setting")t.columns=a.columns??-1;else if(a.type==="edge"){const o=(fN.get(a.id)??0)+1;fN.set(a.id,o),a.id=o+"-"+a.id,dF.push(a)}else{a.label||(a.type==="composite"?a.label="":a.label=a.id);const o=dc.get(a.id);if(o===void 0?dc.set(a.id,a):(a.type!=="na"&&(o.type=a.type),a.label!==a.id&&(o.label=a.label)),a.children&&sye(a.children,a),a.type==="space"){const l=a.width??1;for(let c=0;c<l;c++){const u=qi(a);u.id=u.id+"-"+c,dc.set(u.id,u),n.push(u)}}else o===void 0&&n.push(a)}}t.children=n},"populateBlockDatabase"),pF=[],ob={id:"root",type:"composite",children:[],columns:-1},p_t=A(()=>{me.debug("Clear called"),ca(),ob={id:"root",type:"composite",children:[],columns:-1},dc=new Map([["root",ob]]),pF=[],LS=new Map,dF=[],fN=new Map},"clear");function oye(e){switch(me.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return me.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}A(oye,"typeStr2Type");function lye(e){switch(me.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}A(lye,"edgeTypeStr2Type");function cye(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}A(cye,"edgeStrToEdgeData");var cK=0,g_t=A(()=>(cK++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cK),"generateId"),m_t=A(e=>{ob.children=e,sye(e,ob),pF=ob.children},"setHierarchy"),v_t=A(e=>{const t=dc.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),y_t=A(()=>[...dc.values()],"getBlocksFlat"),b_t=A(()=>pF||[],"getBlocks"),x_t=A(()=>dF,"getEdges"),T_t=A(e=>dc.get(e),"getBlock"),w_t=A(e=>{dc.set(e.id,e)},"setBlock"),E_t=A(()=>console,"getLogger"),S_t=A(function(){return LS},"getClasses"),A_t={getConfig:A(()=>Fn().block,"getConfig"),typeStr2Type:oye,edgeTypeStr2Type:lye,edgeStrToEdgeData:cye,getLogger:E_t,getBlocksFlat:y_t,getBlocks:b_t,getEdges:x_t,setHierarchy:m_t,getBlock:T_t,setBlock:w_t,getColumns:v_t,getClasses:S_t,clear:p_t,generateId:g_t},k_t=A_t,F4=A((e,t)=>{const r=$re,n=r(e,"r"),a=r(e,"g"),o=r(e,"b");return Fd(n,a,o,t)},"fade"),C_t=A(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${F4(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${F4(e.mainBkg,.5)};
    fill: ${F4(e.clusterBkg,.5)};
    stroke: ${F4(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),I_t=C_t,R_t=A((e,t,r,n)=>{t.forEach(a=>{$_t[a](e,r,n)})},"insertMarkers"),O_t=A((e,t,r)=>{me.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),__t=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),N_t=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),L_t=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),M_t=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),D_t=A((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),P_t=A((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),F_t=A((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),B_t=A((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),$_t={extension:O_t,composition:__t,aggregation:N_t,dependency:L_t,lollipop:M_t,point:D_t,circle:P_t,cross:F_t,barb:B_t},H_t=R_t,TK,wK,di=((wK=(TK=De())==null?void 0:TK.block)==null?void 0:wK.padding)??8;function uye(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};const r=t%e,n=Math.floor(t/e);return{px:r,py:n}}A(uye,"calculateBlockPosition");var U_t=A(e=>{let t=0,r=0;for(const n of e.children){const{width:a,height:o,x:l,y:c}=n.size??{width:0,height:0,x:0,y:0};me.debug("getMaxChildSize abc95 child:",n.id,"width:",a,"height:",o,"x:",l,"y:",c,n.type),n.type!=="space"&&(a>t&&(t=a/(e.widthInColumns??1)),o>r&&(r=o))}return{width:t,height:r}},"getMaxChildSize");function MS(e,t,r=0,n=0){var l,c,u,h,f,d,p,g,m,y,b;me.debug("setBlockSizes abc95 (start)",e.id,(l=e==null?void 0:e.size)==null?void 0:l.x,"block width =",e==null?void 0:e.size,"sieblingWidth",r),(c=e==null?void 0:e.size)!=null&&c.width||(e.size={width:r,height:n,x:0,y:0});let a=0,o=0;if(((u=e.children)==null?void 0:u.length)>0){for(const O of e.children)MS(O,t);const x=U_t(e);a=x.width,o=x.height,me.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",a,o);for(const O of e.children)O.size&&(me.debug(`abc95 Setting size of children of ${e.id} id=${O.id} ${a} ${o} ${JSON.stringify(O.size)}`),O.size.width=a*(O.widthInColumns??1)+di*((O.widthInColumns??1)-1),O.size.height=o,O.size.x=0,O.size.y=0,me.debug(`abc95 updating size of ${e.id} children child:${O.id} maxWidth:${a} maxHeight:${o}`));for(const O of e.children)MS(O,t,a,o);const T=e.columns??-1;let w=0;for(const O of e.children)w+=O.widthInColumns??1;let E=e.children.length;T>0&&T<w&&(E=T);const S=Math.ceil(w/E);let C=E*(a+di)+di,k=S*(o+di)+di;if(C<r){me.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${r} sieblingHeight ${n} width ${C}`),C=r,k=n;const O=(r-E*di-di)/E,I=(n-S*di-di)/S;me.debug("Size indata abc88",e.id,"childWidth",O,"maxWidth",a),me.debug("Size indata abc88",e.id,"childHeight",I,"maxHeight",o),me.debug("Size indata abc88 xSize",E,"padding",di);for(const _ of e.children)_.size&&(_.size.width=O,_.size.height=I,_.size.x=0,_.size.y=0)}if(me.debug(`abc95 (finale calc) ${e.id} xSize ${E} ySize ${S} columns ${T}${e.children.length} width=${Math.max(C,((h=e.size)==null?void 0:h.width)||0)}`),C<(((f=e==null?void 0:e.size)==null?void 0:f.width)||0)){C=((d=e==null?void 0:e.size)==null?void 0:d.width)||0;const O=T>0?Math.min(e.children.length,T):e.children.length;if(O>0){const I=(C-O*di-di)/O;me.debug("abc95 (growing to fit) width",e.id,C,(p=e.size)==null?void 0:p.width,I);for(const _ of e.children)_.size&&(_.size.width=I)}}e.size={width:C,height:k,x:0,y:0}}me.debug("setBlockSizes abc94 (done)",e.id,(g=e==null?void 0:e.size)==null?void 0:g.x,(m=e==null?void 0:e.size)==null?void 0:m.width,(y=e==null?void 0:e.size)==null?void 0:y.y,(b=e==null?void 0:e.size)==null?void 0:b.height)}A(MS,"setBlockSizes");function gF(e,t){var n,a,o,l,c,u,h,f,d,p,g,m,y,b,x,T,w;me.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${(n=e==null?void 0:e.size)==null?void 0:n.x} y: ${(a=e==null?void 0:e.size)==null?void 0:a.y} width: ${(o=e==null?void 0:e.size)==null?void 0:o.width}`);const r=e.columns??-1;if(me.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){const E=((c=(l=e==null?void 0:e.children[0])==null?void 0:l.size)==null?void 0:c.width)??0,S=e.children.length*E+(e.children.length-1)*di;me.debug("widthOfChildren 88",S,"posX");let C=0;me.debug("abc91 block?.size?.x",e.id,(u=e==null?void 0:e.size)==null?void 0:u.x);let k=(h=e==null?void 0:e.size)!=null&&h.x?((f=e==null?void 0:e.size)==null?void 0:f.x)+(-((d=e==null?void 0:e.size)==null?void 0:d.width)/2||0):-di,O=0;for(const I of e.children){const _=e;if(!I.size)continue;const{width:R,height:M}=I.size,{px:$,py:N}=uye(r,C);if(N!=O&&(O=N,k=(p=e==null?void 0:e.size)!=null&&p.x?((g=e==null?void 0:e.size)==null?void 0:g.x)+(-((m=e==null?void 0:e.size)==null?void 0:m.width)/2||0):-di,me.debug("New row in layout for block",e.id," and child ",I.id,O)),me.debug(`abc89 layout blocks (child) id: ${I.id} Pos: ${C} (px, py) ${$},${N} (${(y=_==null?void 0:_.size)==null?void 0:y.x},${(b=_==null?void 0:_.size)==null?void 0:b.y}) parent: ${_.id} width: ${R}${di}`),_.size){const P=R/2;I.size.x=k+di+P,me.debug(`abc91 layout blocks (calc) px, pyid:${I.id} startingPos=X${k} new startingPosX${I.size.x} ${P} padding=${di} width=${R} halfWidth=${P} => x:${I.size.x} y:${I.size.y} ${I.widthInColumns} (width * (child?.w || 1)) / 2 ${R*((I==null?void 0:I.widthInColumns)??1)/2}`),k=I.size.x+P,I.size.y=_.size.y-_.size.height/2+N*(M+di)+M/2+di,me.debug(`abc88 layout blocks (calc) px, pyid:${I.id}startingPosX${k}${di}${P}=>x:${I.size.x}y:${I.size.y}${I.widthInColumns}(width * (child?.w || 1)) / 2${R*((I==null?void 0:I.widthInColumns)??1)/2}`)}I.children&&gF(I),C+=(I==null?void 0:I.widthInColumns)??1,me.debug("abc88 columnsPos",I,C)}}me.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${(x=e==null?void 0:e.size)==null?void 0:x.x} y: ${(T=e==null?void 0:e.size)==null?void 0:T.y} width: ${(w=e==null?void 0:e.size)==null?void 0:w.width}`)}A(gF,"layoutBlocks");function mF(e,{minX:t,minY:r,maxX:n,maxY:a}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){const{x:o,y:l,width:c,height:u}=e.size;o-c/2<t&&(t=o-c/2),l-u/2<r&&(r=l-u/2),o+c/2>n&&(n=o+c/2),l+u/2>a&&(a=l+u/2)}if(e.children)for(const o of e.children)({minX:t,minY:r,maxX:n,maxY:a}=mF(o,{minX:t,minY:r,maxX:n,maxY:a}));return{minX:t,minY:r,maxX:n,maxY:a}}A(mF,"findBounds");function hye(e){const t=e.getBlock("root");if(!t)return;MS(t,e,0,0),gF(t),me.debug("getBlocks",JSON.stringify(t,null,2));const{minX:r,minY:n,maxX:a,maxY:o}=mF(t),l=o-n,c=a-r;return{x:r,y:n,width:c,height:l}}A(hye,"layout");function dN(e,t){t&&e.attr("style",t)}A(dN,"applyStyle");function fye(e){const t=nt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,a=e.isNode?"nodeLabel":"edgeLabel",o=r.append("span");return o.html(n),dN(o,e.labelStyle),o.attr("class",a),dN(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}A(fye,"addHtmlLabel");var W_t=A((e,t,r,n)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),cn(De().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),me.debug("vertexText"+a);const o={isNode:n,label:jL(wh(a)),labelStyle:t.replace("fill:","color:")};return fye(o)}else{const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof a=="string"?l=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?l=a:l=[];for(const c of l){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=c.trim(),o.appendChild(u)}return o}},"createLabel"),ul=W_t,z_t=A((e,t,r,n,a)=>{t.arrowTypeStart&&uK(e,"start",t.arrowTypeStart,r,n,a),t.arrowTypeEnd&&uK(e,"end",t.arrowTypeEnd,r,n,a)},"addEdgeMarkers"),G_t={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},uK=A((e,t,r,n,a,o)=>{const l=G_t[r];if(!l){me.warn(`Unknown arrow type: ${r}`);return}const c=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${a}_${o}-${l}${c})`)},"addEdgeMarker"),pN={},Ha={},Y_t=A((e,t)=>{const r=De(),n=cn(r.flowchart.htmlLabels),a=t.labelType==="markdown"?Nl(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):ul(t.label,t.labelStyle),o=e.insert("g").attr("class","edgeLabel"),l=o.insert("g").attr("class","label");l.node().appendChild(a);let c=a.getBBox();if(n){const h=a.children[0],f=nt(a);c=h.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}l.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),pN[t.id]=o,t.width=c.width,t.height=c.height;let u;if(t.startLabelLeft){const h=ul(t.startLabelLeft,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Ha[t.id]||(Ha[t.id]={}),Ha[t.id].startLeft=f,S2(u,t.startLabelLeft)}if(t.startLabelRight){const h=ul(t.startLabelRight,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=f.node().appendChild(h),d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Ha[t.id]||(Ha[t.id]={}),Ha[t.id].startRight=f,S2(u,t.startLabelRight)}if(t.endLabelLeft){const h=ul(t.endLabelLeft,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),f.node().appendChild(h),Ha[t.id]||(Ha[t.id]={}),Ha[t.id].endLeft=f,S2(u,t.endLabelLeft)}if(t.endLabelRight){const h=ul(t.endLabelRight,t.labelStyle),f=e.insert("g").attr("class","edgeTerminals"),d=f.insert("g").attr("class","inner");u=d.node().appendChild(h);const p=h.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),f.node().appendChild(h),Ha[t.id]||(Ha[t.id]={}),Ha[t.id].endRight=f,S2(u,t.endLabelRight)}return a},"insertEdgeLabel");function S2(e,t){De().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}A(S2,"setTerminalWidth");var V_t=A((e,t)=>{me.debug("Moving label abc88 ",e.id,e.label,pN[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=De(),{subGraphTitleTotalMargin:a}=e3(n);if(e.label){const o=pN[e.id];let l=e.x,c=e.y;if(r){const u=ur.calcLabelPosition(r);me.debug("Moving label "+e.label+" from (",l,",",c,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(l=u.x,c=u.y)}o.attr("transform",`translate(${l}, ${c+a/2})`)}if(e.startLabelLeft){const o=Ha[e.id].startLeft;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.startLabelRight){const o=Ha[e.id].startRight;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelLeft){const o=Ha[e.id].endLeft;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelRight){const o=Ha[e.id].endRight;let l=e.x,c=e.y;if(r){const u=ur.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);l=u.x,c=u.y}o.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),q_t=A((e,t)=>{const r=e.x,n=e.y,a=Math.abs(t.x-r),o=Math.abs(t.y-n),l=e.width/2,c=e.height/2;return a>=l||o>=c},"outsideNode"),j_t=A((e,t,r)=>{me.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,a=e.y,o=Math.abs(n-r.x),l=e.width/2;let c=r.x<t.x?l-o:l+o;const u=e.height/2,h=Math.abs(t.y-r.y),f=Math.abs(t.x-r.x);if(Math.abs(a-t.y)*l>Math.abs(n-t.x)*u){let d=r.y<t.y?t.y-u-a:a-u-t.y;c=f*d/h;const p={x:r.x<t.x?r.x+c:r.x-f+c,y:r.y<t.y?r.y+h-d:r.y-h+d};return c===0&&(p.x=t.x,p.y=t.y),f===0&&(p.x=t.x),h===0&&(p.y=t.y),me.debug(`abc89 topp/bott calc, Q ${h}, q ${d}, R ${f}, r ${c}`,p),p}else{r.x<t.x?c=t.x-l-n:c=n-l-t.x;let d=h*c/f,p=r.x<t.x?r.x+f-c:r.x-f+c,g=r.y<t.y?r.y+d:r.y-d;return me.debug(`sides calc abc89, Q ${h}, q ${d}, R ${f}, r ${c}`,{_x:p,_y:g}),c===0&&(p=t.x,g=t.y),f===0&&(p=t.x),h===0&&(g=t.y),{x:p,y:g}}},"intersection"),hK=A((e,t)=>{me.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],a=!1;return e.forEach(o=>{if(!q_t(t,o)&&!a){const l=j_t(t,n,o);let c=!1;r.forEach(u=>{c=c||u.x===l.x&&u.y===l.y}),r.some(u=>u.x===l.x&&u.y===l.y)||r.push(l),a=!0}else n=o,a||r.push(o)}),r},"cutPathAtIntersect"),X_t=A(function(e,t,r,n,a,o,l){let c=r.points;me.debug("abc88 InsertEdge: edge=",r,"e=",t);let u=!1;const h=o.node(t.v);var f=o.node(t.w);f!=null&&f.intersect&&(h!=null&&h.intersect)&&(c=c.slice(1,r.points.length-1),c.unshift(h.intersect(c[0])),c.push(f.intersect(c[c.length-1]))),r.toCluster&&(me.debug("to cluster abc88",n[r.toCluster]),c=hK(r.points,n[r.toCluster].node),u=!0),r.fromCluster&&(me.debug("from cluster abc88",n[r.fromCluster]),c=hK(c.reverse(),n[r.fromCluster].node).reverse(),u=!0);const d=c.filter(E=>!Number.isNaN(E.y));let p=i3;r.curve&&(a==="graph"||a==="flowchart")&&(p=r.curve);const{x:g,y:m}=Ile(r),y=rp().x(g).y(m).curve(p);let b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}const x=e.append("path").attr("d",y(d)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style);let T="";(De().flowchart.arrowMarkerAbsolute||De().state.arrowMarkerAbsolute)&&(T=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,T=T.replace(/\(/g,"\\("),T=T.replace(/\)/g,"\\)")),z_t(x,r,T,l,a);let w={};return u&&(w.updatedPath=c),w.originalPath=r.points,w},"insertEdge"),K_t=A(e=>{const t=new Set;for(const r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),Z_t=A((e,t,r)=>{const n=K_t(e),a=2,o=t.height+2*r.padding,l=o/a,c=t.width+2*l+r.padding,u=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:l,y:0},{x:c/2,y:2*u},{x:c-l,y:0},{x:c,y:0},{x:c,y:-o/3},{x:c+2*u,y:-o/2},{x:c,y:-2*o/3},{x:c,y:-o},{x:c-l,y:-o},{x:c/2,y:-o-2*u},{x:l,y:-o},{x:0,y:-o},{x:0,y:-2*o/3},{x:-2*u,y:-o/2},{x:0,y:-o/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:l,y:0},{x:c-l,y:0},{x:c,y:-o/2},{x:c-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:l,y:-o},{x:c-l,y:-o},{x:c,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:c,y:-l},{x:c,y:-o+l},{x:0,y:-o}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:c,y:0},{x:0,y:-l},{x:0,y:-o+l},{x:c,y:-o}]:n.has("right")&&n.has("left")?[{x:l,y:0},{x:l,y:-u},{x:c-l,y:-u},{x:c-l,y:0},{x:c,y:-o/2},{x:c-l,y:-o},{x:c-l,y:-o+u},{x:l,y:-o+u},{x:l,y:-o},{x:0,y:-o/2}]:n.has("up")&&n.has("down")?[{x:c/2,y:0},{x:0,y:-u},{x:l,y:-u},{x:l,y:-o+u},{x:0,y:-o+u},{x:c/2,y:-o},{x:c,y:-o+u},{x:c-l,y:-o+u},{x:c-l,y:-u},{x:c,y:-u}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:c,y:-l},{x:0,y:-o}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:c,y:0},{x:0,y:-o}]:n.has("left")&&n.has("up")?[{x:c,y:0},{x:0,y:-l},{x:c,y:-o}]:n.has("left")&&n.has("down")?[{x:c,y:0},{x:0,y:0},{x:c,y:-o}]:n.has("right")?[{x:l,y:-u},{x:l,y:-u},{x:c-l,y:-u},{x:c-l,y:0},{x:c,y:-o/2},{x:c-l,y:-o},{x:c-l,y:-o+u},{x:l,y:-o+u},{x:l,y:-o+u}]:n.has("left")?[{x:l,y:0},{x:l,y:-u},{x:c-l,y:-u},{x:c-l,y:-o+u},{x:l,y:-o+u},{x:l,y:-o},{x:0,y:-o/2}]:n.has("up")?[{x:l,y:-u},{x:l,y:-o+u},{x:0,y:-o+u},{x:c/2,y:-o},{x:c,y:-o+u},{x:c-l,y:-o+u},{x:c-l,y:-u}]:n.has("down")?[{x:c/2,y:0},{x:0,y:-u},{x:l,y:-u},{x:l,y:-o+u},{x:c-l,y:-o+u},{x:c-l,y:-u},{x:c,y:-u}]:[{x:0,y:0}]},"getArrowPoints");function dye(e,t){return e.intersect(t)}A(dye,"intersectNode");var Q_t=dye;function pye(e,t,r,n){var a=e.x,o=e.y,l=a-n.x,c=o-n.y,u=Math.sqrt(t*t*c*c+r*r*l*l),h=Math.abs(t*r*l/u);n.x<a&&(h=-h);var f=Math.abs(t*r*c/u);return n.y<o&&(f=-f),{x:a+h,y:o+f}}A(pye,"intersectEllipse");var gye=pye;function mye(e,t,r){return gye(e,t,t,r)}A(mye,"intersectCircle");var J_t=mye;function vye(e,t,r,n){var a,o,l,c,u,h,f,d,p,g,m,y,b,x,T;if(a=t.y-e.y,l=e.x-t.x,u=t.x*e.y-e.x*t.y,p=a*r.x+l*r.y+u,g=a*n.x+l*n.y+u,!(p!==0&&g!==0&&gN(p,g))&&(o=n.y-r.y,c=r.x-n.x,h=n.x*r.y-r.x*n.y,f=o*e.x+c*e.y+h,d=o*t.x+c*t.y+h,!(f!==0&&d!==0&&gN(f,d))&&(m=a*c-o*l,m!==0)))return y=Math.abs(m/2),b=l*h-c*u,x=b<0?(b-y)/m:(b+y)/m,b=o*u-a*h,T=b<0?(b-y)/m:(b+y)/m,{x,y:T}}A(vye,"intersectLine");function gN(e,t){return e*t>0}A(gN,"sameSign");var eNt=vye,tNt=yye;function yye(e,t,r){var n=e.x,a=e.y,o=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){l=Math.min(l,m.x),c=Math.min(c,m.y)}):(l=Math.min(l,t.x),c=Math.min(c,t.y));for(var u=n-e.width/2-l,h=a-e.height/2-c,f=0;f<t.length;f++){var d=t[f],p=t[f<t.length-1?f+1:0],g=eNt(e,r,{x:u+d.x,y:h+d.y},{x:u+p.x,y:h+p.y});g&&o.push(g)}return o.length?(o.length>1&&o.sort(function(m,y){var b=m.x-r.x,x=m.y-r.y,T=Math.sqrt(b*b+x*x),w=y.x-r.x,E=y.y-r.y,S=Math.sqrt(w*w+E*E);return T<S?-1:T===S?0:1}),o[0]):e}A(yye,"intersectPolygon");var rNt=A((e,t)=>{var r=e.x,n=e.y,a=t.x-r,o=t.y-n,l=e.width/2,c=e.height/2,u,h;return Math.abs(o)*l>Math.abs(a)*c?(o<0&&(c=-c),u=o===0?0:c*a/o,h=c):(a<0&&(l=-l),u=l,h=a===0?0:l*o/a),{x:r+u,y:n+h}},"intersectRect"),nNt=rNt,$n={node:Q_t,circle:J_t,ellipse:gye,polygon:tNt,rect:nNt},da=A(async(e,t,r,n)=>{const a=De();let o;const l=t.useHtmlLabels||cn(a.flowchart.htmlLabels);r?o=r:o="node default";const c=e.insert("g").attr("class",o).attr("id",t.domId||t.id),u=c.insert("g").attr("class","label").attr("style",t.labelStyle);let h;t.labelText===void 0?h="":h=typeof t.labelText=="string"?t.labelText:t.labelText[0];const f=u.node();let d;t.labelType==="markdown"?d=Nl(u,sn(wh(h),a),{useHtmlLabels:l,width:t.width||a.flowchart.wrappingWidth,classes:"markdown-node-label"},a):d=f.appendChild(ul(sn(wh(h),a),t.labelStyle,!1,n));let p=d.getBBox();const g=t.padding/2;if(cn(a.flowchart.htmlLabels)){const m=d.children[0],y=nt(d),b=m.getElementsByTagName("img");if(b){const x=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(T=>new Promise(w=>{function E(){if(T.style.display="flex",T.style.flexDirection="column",x){const S=a.fontSize?a.fontSize:window.getComputedStyle(document.body).fontSize,k=parseInt(S,10)*5+"px";T.style.minWidth=k,T.style.maxWidth=k}else T.style.width="100%";w(T)}A(E,"setupImage"),setTimeout(()=>{T.complete&&E()}),T.addEventListener("error",E),T.addEventListener("load",E)})))}p=m.getBoundingClientRect(),y.attr("width",p.width),y.attr("height",p.height)}return l?u.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):u.attr("transform","translate(0, "+-p.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:c,bbox:p,halfPadding:g,label:u}},"labelHelper"),oi=A((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");function Ac(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}A(Ac,"insertPolygonShape");var iNt=A(async(e,t)=>{t.useHtmlLabels||De().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:n,bbox:a,halfPadding:o}=await da(e,t,"node "+t.classes,!0);me.info("Classes = ",t.classes);const l=n.insert("rect",":first-child");return l.attr("rx",t.rx).attr("ry",t.ry).attr("x",-a.width/2-o).attr("y",-a.height/2-o).attr("width",a.width+t.padding).attr("height",a.height+t.padding),oi(t,l),t.intersect=function(c){return $n.rect(t,c)},n},"note"),aNt=iNt,fK=A(e=>e?" "+e:"","formatClass"),qo=A((e,t)=>`${t||"node default"}${fK(e.classes)} ${fK(e.class)}`,"getClassesFromNode"),dK=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=a+o,c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];me.info("Question main (Circle)");const u=Ac(r,l,l,c);return u.attr("style",t.style),oi(t,u),t.intersect=function(h){return me.warn("Intersect called"),$n.polygon(t,c,h)},r},"question"),sNt=A((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,a=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-28/2},{x:-28/2,y:0}];return r.insert("polygon",":first-child").attr("points",a.map(function(l){return l.x+","+l.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(l){return $n.circle(t,14,l)},r},"choice"),oNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=4,o=n.height+t.padding,l=o/a,c=n.width+2*l+t.padding,u=[{x:l,y:0},{x:c-l,y:0},{x:c,y:-o/2},{x:c-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}],h=Ac(r,c,o,u);return h.attr("style",t.style),oi(t,h),t.intersect=function(f){return $n.polygon(t,u,f)},r},"hexagon"),lNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,void 0,!0),a=2,o=n.height+2*t.padding,l=o/a,c=n.width+2*l+t.padding,u=Z_t(t.directions,n,t),h=Ac(r,c,o,u);return h.attr("style",t.style),oi(t,h),t.intersect=function(f){return $n.polygon(t,u,f)},r},"block_arrow"),cNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:-o/2,y:0},{x:a,y:0},{x:a,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return Ac(r,a,o,l).attr("style",t.style),t.width=a+o,t.height=o,t.intersect=function(u){return $n.polygon(t,l,u)},r},"rect_left_inv_arrow"),uNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:-2*o/6,y:0},{x:a-o/6,y:0},{x:a+2*o/6,y:-o},{x:o/6,y:-o}],c=Ac(r,a,o,l);return c.attr("style",t.style),oi(t,c),t.intersect=function(u){return $n.polygon(t,l,u)},r},"lean_right"),hNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:2*o/6,y:0},{x:a+o/6,y:0},{x:a-2*o/6,y:-o},{x:-o/6,y:-o}],c=Ac(r,a,o,l);return c.attr("style",t.style),oi(t,c),t.intersect=function(u){return $n.polygon(t,l,u)},r},"lean_left"),fNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:-2*o/6,y:0},{x:a+2*o/6,y:0},{x:a-o/6,y:-o},{x:o/6,y:-o}],c=Ac(r,a,o,l);return c.attr("style",t.style),oi(t,c),t.intersect=function(u){return $n.polygon(t,l,u)},r},"trapezoid"),dNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:o/6,y:0},{x:a-o/6,y:0},{x:a+2*o/6,y:-o},{x:-2*o/6,y:-o}],c=Ac(r,a,o,l);return c.attr("style",t.style),oi(t,c),t.intersect=function(u){return $n.polygon(t,l,u)},r},"inv_trapezoid"),pNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:0,y:0},{x:a+o/2,y:0},{x:a,y:-o/2},{x:a+o/2,y:-o},{x:0,y:-o}],c=Ac(r,a,o,l);return c.attr("style",t.style),oi(t,c),t.intersect=function(u){return $n.polygon(t,l,u)},r},"rect_right_inv_arrow"),gNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=a/2,l=o/(2.5+a/50),c=n.height+l+t.padding,u="M 0,"+l+" a "+o+","+l+" 0,0,0 "+a+" 0 a "+o+","+l+" 0,0,0 "+-a+" 0 l 0,"+c+" a "+o+","+l+" 0,0,0 "+a+" 0 l 0,"+-c,h=r.attr("label-offset-y",l).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-a/2+","+-(c/2+l)+")");return oi(t,h),t.intersect=function(f){const d=$n.rect(t,f),p=d.x-t.x;if(o!=0&&(Math.abs(p)<t.width/2||Math.abs(p)==t.width/2&&Math.abs(d.y-t.y)>t.height/2-l)){let g=l*l*(1-p*p/(o*o));g!=0&&(g=Math.sqrt(g)),g=l-g,f.y-t.y>0&&(g=-g),d.y+=g}return d},r},"cylinder"),mNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:a}=await da(e,t,"node "+t.classes+" "+t.class,!0),o=r.insert("rect",":first-child"),l=t.positioned?t.width:n.width+t.padding,c=t.positioned?t.height:n.height+t.padding,u=t.positioned?-l/2:-n.width/2-a,h=t.positioned?-c/2:-n.height/2-a;if(o.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",l).attr("height",c),t.props){const f=new Set(Object.keys(t.props));t.props.borders&&(Sk(o,t.props.borders,l,c),f.delete("borders")),f.forEach(d=>{me.warn(`Unknown node property ${d}`)})}return oi(t,o),t.intersect=function(f){return $n.rect(t,f)},r},"rect"),vNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:a}=await da(e,t,"node "+t.classes,!0),o=r.insert("rect",":first-child"),l=t.positioned?t.width:n.width+t.padding,c=t.positioned?t.height:n.height+t.padding,u=t.positioned?-l/2:-n.width/2-a,h=t.positioned?-c/2:-n.height/2-a;if(o.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",l).attr("height",c),t.props){const f=new Set(Object.keys(t.props));t.props.borders&&(Sk(o,t.props.borders,l,c),f.delete("borders")),f.forEach(d=>{me.warn(`Unknown node property ${d}`)})}return oi(t,o),t.intersect=function(f){return $n.rect(t,f)},r},"composite"),yNt=A(async(e,t)=>{const{shapeSvg:r}=await da(e,t,"label",!0);me.trace("Classes = ",t.class);const n=r.insert("rect",":first-child"),a=0,o=0;if(n.attr("width",a).attr("height",o),r.attr("class","label edgeLabel"),t.props){const l=new Set(Object.keys(t.props));t.props.borders&&(Sk(n,t.props.borders,a,o),l.delete("borders")),l.forEach(c=>{me.warn(`Unknown node property ${c}`)})}return oi(t,n),t.intersect=function(l){return $n.rect(t,l)},r},"labelRect");function Sk(e,t,r,n){const a=[],o=A(c=>{a.push(c,0)},"addBorder"),l=A(c=>{a.push(0,c)},"skipBorder");t.includes("t")?(me.debug("add top border"),o(r)):l(r),t.includes("r")?(me.debug("add right border"),o(n)):l(n),t.includes("b")?(me.debug("add bottom border"),o(r)):l(r),t.includes("l")?(me.debug("add left border"),o(n)):l(n),e.attr("stroke-dasharray",a.join(" "))}A(Sk,"applyNodePropertyBorders");var bNt=A((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";const n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),a=n.insert("rect",":first-child"),o=n.insert("line"),l=n.insert("g").attr("class","label"),c=t.labelText.flat?t.labelText.flat():t.labelText;let u="";typeof c=="object"?u=c[0]:u=c,me.info("Label text abc79",u,c,typeof c=="object");const h=l.node().appendChild(ul(u,t.labelStyle,!0,!0));let f={width:0,height:0};if(cn(De().flowchart.htmlLabels)){const y=h.children[0],b=nt(h);f=y.getBoundingClientRect(),b.attr("width",f.width),b.attr("height",f.height)}me.info("Text 2",c);const d=c.slice(1,c.length);let p=h.getBBox();const g=l.node().appendChild(ul(d.join?d.join("<br/>"):d,t.labelStyle,!0,!0));if(cn(De().flowchart.htmlLabels)){const y=g.children[0],b=nt(g);f=y.getBoundingClientRect(),b.attr("width",f.width),b.attr("height",f.height)}const m=t.padding/2;return nt(g).attr("transform","translate( "+(f.width>p.width?0:(p.width-f.width)/2)+", "+(p.height+m+5)+")"),nt(h).attr("transform","translate( "+(f.width<p.width?0:-(p.width-f.width)/2)+", 0)"),f=l.node().getBBox(),l.attr("transform","translate("+-f.width/2+", "+(-f.height/2-m+3)+")"),a.attr("class","outer title-state").attr("x",-f.width/2-m).attr("y",-f.height/2-m).attr("width",f.width+t.padding).attr("height",f.height+t.padding),o.attr("class","divider").attr("x1",-f.width/2-m).attr("x2",f.width/2+m).attr("y1",-f.height/2-m+p.height+m).attr("y2",-f.height/2-m+p.height+m),oi(t,a),t.intersect=function(y){return $n.rect(t,y)},n},"rectWithTitle"),xNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.height+t.padding,o=n.width+a/4+t.padding,l=r.insert("rect",":first-child").attr("style",t.style).attr("rx",a/2).attr("ry",a/2).attr("x",-o/2).attr("y",-a/2).attr("width",o).attr("height",a);return oi(t,l),t.intersect=function(c){return $n.rect(t,c)},r},"stadium"),TNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:a}=await da(e,t,qo(t,void 0),!0),o=r.insert("circle",":first-child");return o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),me.info("Circle main"),oi(t,o),t.intersect=function(l){return me.info("Circle intersect",t,n.width/2+a,l),$n.circle(t,n.width/2+a,l)},r},"circle"),wNt=A(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:a}=await da(e,t,qo(t,void 0),!0),o=5,l=r.insert("g",":first-child"),c=l.insert("circle"),u=l.insert("circle");return l.attr("class",t.class),c.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a+o).attr("width",n.width+t.padding+o*2).attr("height",n.height+t.padding+o*2),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+a).attr("width",n.width+t.padding).attr("height",n.height+t.padding),me.info("DoubleCircle main"),oi(t,c),t.intersect=function(h){return me.info("DoubleCircle intersect",t,n.width/2+a+o,h),$n.circle(t,n.width/2+a+o,h)},r},"doublecircle"),ENt=A(async(e,t)=>{const{shapeSvg:r,bbox:n}=await da(e,t,qo(t,void 0),!0),a=n.width+t.padding,o=n.height+t.padding,l=[{x:0,y:0},{x:a,y:0},{x:a,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],c=Ac(r,a,o,l);return c.attr("style",t.style),oi(t,c),t.intersect=function(u){return $n.polygon(t,l,u)},r},"subroutine"),SNt=A((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),oi(t,n),t.intersect=function(a){return $n.circle(t,7,a)},r},"start"),pK=A((e,t,r)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a=70,o=10;r==="LR"&&(a=10,o=70);const l=n.append("rect").attr("x",-1*a/2).attr("y",-1*o/2).attr("width",a).attr("height",o).attr("class","fork-join");return oi(t,l),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(c){return $n.rect(t,c)},n},"forkJoin"),ANt=A((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),a=r.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),oi(t,a),t.intersect=function(o){return $n.circle(t,7,o)},r},"end"),kNt=A((e,t)=>{var O;const r=t.padding/2,n=4,a=8;let o;t.classes?o="node "+t.classes:o="node default";const l=e.insert("g").attr("class",o).attr("id",t.domId||t.id),c=l.insert("rect",":first-child"),u=l.insert("line"),h=l.insert("line");let f=0,d=n;const p=l.insert("g").attr("class","label");let g=0;const m=(O=t.classData.annotations)==null?void 0:O[0],y=t.classData.annotations[0]?"«"+t.classData.annotations[0]+"»":"",b=p.node().appendChild(ul(y,t.labelStyle,!0,!0));let x=b.getBBox();if(cn(De().flowchart.htmlLabels)){const I=b.children[0],_=nt(b);x=I.getBoundingClientRect(),_.attr("width",x.width),_.attr("height",x.height)}t.classData.annotations[0]&&(d+=x.height+n,f+=x.width);let T=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(De().flowchart.htmlLabels?T+="&lt;"+t.classData.type+"&gt;":T+="<"+t.classData.type+">");const w=p.node().appendChild(ul(T,t.labelStyle,!0,!0));nt(w).attr("class","classTitle");let E=w.getBBox();if(cn(De().flowchart.htmlLabels)){const I=w.children[0],_=nt(w);E=I.getBoundingClientRect(),_.attr("width",E.width),_.attr("height",E.height)}d+=E.height+n,E.width>f&&(f=E.width);const S=[];t.classData.members.forEach(I=>{const _=I.getDisplayDetails();let R=_.displayText;De().flowchart.htmlLabels&&(R=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const M=p.node().appendChild(ul(R,_.cssStyle?_.cssStyle:t.labelStyle,!0,!0));let $=M.getBBox();if(cn(De().flowchart.htmlLabels)){const N=M.children[0],P=nt(M);$=N.getBoundingClientRect(),P.attr("width",$.width),P.attr("height",$.height)}$.width>f&&(f=$.width),d+=$.height+n,S.push(M)}),d+=a;const C=[];if(t.classData.methods.forEach(I=>{const _=I.getDisplayDetails();let R=_.displayText;De().flowchart.htmlLabels&&(R=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const M=p.node().appendChild(ul(R,_.cssStyle?_.cssStyle:t.labelStyle,!0,!0));let $=M.getBBox();if(cn(De().flowchart.htmlLabels)){const N=M.children[0],P=nt(M);$=N.getBoundingClientRect(),P.attr("width",$.width),P.attr("height",$.height)}$.width>f&&(f=$.width),d+=$.height+n,C.push(M)}),d+=a,m){let I=(f-x.width)/2;nt(b).attr("transform","translate( "+(-1*f/2+I)+", "+-1*d/2+")"),g=x.height+n}let k=(f-E.width)/2;return nt(w).attr("transform","translate( "+(-1*f/2+k)+", "+(-1*d/2+g)+")"),g+=E.height+n,u.attr("class","divider").attr("x1",-f/2-r).attr("x2",f/2+r).attr("y1",-d/2-r+a+g).attr("y2",-d/2-r+a+g),g+=a,S.forEach(I=>{nt(I).attr("transform","translate( "+-f/2+", "+(-1*d/2+g+a/2)+")");const _=I==null?void 0:I.getBBox();g+=((_==null?void 0:_.height)??0)+n}),g+=a,h.attr("class","divider").attr("x1",-f/2-r).attr("x2",f/2+r).attr("y1",-d/2-r+a+g).attr("y2",-d/2-r+a+g),g+=a,C.forEach(I=>{nt(I).attr("transform","translate( "+-f/2+", "+(-1*d/2+g)+")");const _=I==null?void 0:I.getBBox();g+=((_==null?void 0:_.height)??0)+n}),c.attr("style",t.style).attr("class","outer title-state").attr("x",-f/2-r).attr("y",-(d/2)-r).attr("width",f+t.padding).attr("height",d+t.padding),oi(t,c),t.intersect=function(I){return $n.rect(t,I)},l},"class_box"),gK={rhombus:dK,composite:vNt,question:dK,rect:mNt,labelRect:yNt,rectWithTitle:bNt,choice:sNt,circle:TNt,doublecircle:wNt,stadium:xNt,hexagon:oNt,block_arrow:lNt,rect_left_inv_arrow:cNt,lean_right:uNt,lean_left:hNt,trapezoid:fNt,inv_trapezoid:dNt,rect_right_inv_arrow:pNt,cylinder:gNt,start:SNt,end:ANt,note:aNt,subroutine:ENt,fork:pK,join:pK,class_box:kNt},jw={},bye=A(async(e,t,r)=>{let n,a;if(t.link){let o;De().securityLevel==="sandbox"?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o),a=await gK[t.shape](n,t,r)}else a=await gK[t.shape](e,t,r),n=a;return t.tooltip&&a.attr("title",t.tooltip),t.class&&a.attr("class","node default "+t.class),jw[t.id]=n,t.haveCallback&&jw[t.id].attr("class",jw[t.id].attr("class")+" clickable"),n},"insertNode"),CNt=A(e=>{const t=jw[e.id];me.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode");function vF(e,t,r=!1){var p,g,m;const n=e;let a="default";(((p=n==null?void 0:n.classes)==null?void 0:p.length)||0)>0&&(a=((n==null?void 0:n.classes)??[]).join(" ")),a=a+" flowchart-label";let o=0,l="",c;switch(n.type){case"round":o=5,l="rect";break;case"composite":o=0,l="composite",c=0;break;case"square":l="rect";break;case"diamond":l="question";break;case"hexagon":l="hexagon";break;case"block_arrow":l="block_arrow";break;case"odd":l="rect_left_inv_arrow";break;case"lean_right":l="lean_right";break;case"lean_left":l="lean_left";break;case"trapezoid":l="trapezoid";break;case"inv_trapezoid":l="inv_trapezoid";break;case"rect_left_inv_arrow":l="rect_left_inv_arrow";break;case"circle":l="circle";break;case"ellipse":l="ellipse";break;case"stadium":l="stadium";break;case"subroutine":l="subroutine";break;case"cylinder":l="cylinder";break;case"group":l="rect";break;case"doublecircle":l="doublecircle";break;default:l="rect"}const u=FL((n==null?void 0:n.styles)??[]),h=n.label,f=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:u.labelStyle,shape:l,labelText:h,rx:o,ry:o,class:a,style:u.style,id:n.id,directions:n.directions,width:f.width,height:f.height,x:f.x,y:f.y,positioned:r,intersect:void 0,type:n.type,padding:c??((m=(g=Fn())==null?void 0:g.block)==null?void 0:m.padding)??0}}A(vF,"getNodeFromBlock");async function xye(e,t,r){const n=vF(t,r,!1);if(n.type==="group")return;const a=Fn(),o=await bye(e,n,{config:a}),l=o.node().getBBox(),c=r.getBlock(n.id);c.size={width:l.width,height:l.height,x:0,y:0,node:o},r.setBlock(c),o.remove()}A(xye,"calculateBlockSize");async function Tye(e,t,r){const n=vF(t,r,!0);if(r.getBlock(n.id).type!=="space"){const o=Fn();await bye(e,n,{config:o}),t.intersect=n==null?void 0:n.intersect,CNt(n)}}A(Tye,"insertBlockPositioned");async function Ak(e,t,r,n){for(const a of t)await n(e,a,r),a.children&&await Ak(e,a.children,r,n)}A(Ak,"performOperations");async function wye(e,t,r){await Ak(e,t,r,xye)}A(wye,"calculateBlockSizes");async function Eye(e,t,r){await Ak(e,t,r,Tye)}A(Eye,"insertBlocks");async function Sye(e,t,r,n,a){const o=new os({multigraph:!0,compound:!0});o.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const l of r)l.size&&o.setNode(l.id,{width:l.size.width,height:l.size.height,intersect:l.intersect});for(const l of t)if(l.start&&l.end){const c=n.getBlock(l.start),u=n.getBlock(l.end);if(c!=null&&c.size&&(u!=null&&u.size)){const h=c.size,f=u.size,d=[{x:h.x,y:h.y},{x:h.x+(f.x-h.x)/2,y:h.y+(f.y-h.y)/2},{x:f.x,y:f.y}];X_t(e,{v:l.start,w:l.end,name:l.id},{...l,arrowTypeEnd:l.arrowTypeEnd,arrowTypeStart:l.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",o,a),l.label&&(await Y_t(e,{...l,label:l.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:l.arrowTypeEnd,arrowTypeStart:l.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),V_t({...l,x:d[1].x,y:d[1].y},{originalPath:d}))}}}A(Sye,"insertEdges");var INt=A(function(e,t){return t.db.getClasses()},"getClasses"),RNt=A(async function(e,t,r,n){const{securityLevel:a,block:o}=Fn(),l=n.db;let c;a==="sandbox"&&(c=nt("#i"+t));const u=nt(a==="sandbox"?c.nodes()[0].contentDocument.body:"body"),h=a==="sandbox"?u.select(`[id="${t}"]`):nt(`[id="${t}"]`);H_t(h,["point","circle","cross"],n.type,t);const d=l.getBlocks(),p=l.getBlocksFlat(),g=l.getEdges(),m=h.insert("g").attr("class","block");await wye(m,d,l);const y=hye(l);if(await Eye(m,d,l),await Sye(m,g,p,l,t),y){const b=y,x=Math.max(1,Math.round(.125*(b.width/b.height))),T=b.height+x+10,w=b.width+10,{useMaxWidth:E}=o;is(h,T,w,!!E),me.debug("Here Bounds",y,b),h.attr("viewBox",`${b.x-5} ${b.y-5} ${b.width+10} ${b.height+10}`)}},"draw"),ONt={draw:RNt,getClasses:INt},_Nt={parser:o_t,db:k_t,renderer:ONt,styles:I_t};const NNt=Object.freeze(Object.defineProperty({__proto__:null,diagram:_Nt},Symbol.toStringTag,{value:"Module"}));var Aye={exports:{}},j7={exports:{}},X7={exports:{}},mK;function LNt(){return mK||(mK=1,function(e,t){(function(n,a){e.exports=a()})(As,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return r[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=r,a.c=n,a.i=function(o){return o},a.d=function(o,l,c){a.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:c})},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=28)}([function(r,n,a){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,r.exports=o},function(r,n,a){var o=a(2),l=a(8),c=a(9);function u(f,d,p){o.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=f,this.target=d}u.prototype=Object.create(o.prototype);for(var h in o)u[h]=o[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,d){for(var p=this.getOtherEnd(f),g=d.getGraphManager().getRoot();;){if(p.getOwner()==d)return p;if(p.getOwner()==g)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=l.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=c.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=c.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=c.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=c.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function o(l){this.vGraphObject=l}r.exports=o},function(r,n,a){var o=a(2),l=a(10),c=a(13),u=a(0),h=a(16),f=a(5);function d(g,m,y,b){y==null&&b==null&&(b=m),o.call(this,b),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=l.MIN_VALUE,this.inclusionTreeDepth=l.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=g,y!=null&&m!=null?this.rect=new c(m.x,m.y,y.width,y.height):this.rect=new c}d.prototype=Object.create(o.prototype);for(var p in o)d[p]=o[p];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(g){this.rect.width=g},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(g){this.rect.height=g},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},d.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},d.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},d.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},d.prototype.getEdgeListToNode=function(g){var m=[],y=this;return y.edges.forEach(function(b){if(b.target==g){if(b.source!=y)throw"Incorrect edge source!";m.push(b)}}),m},d.prototype.getEdgesBetween=function(g){var m=[],y=this;return y.edges.forEach(function(b){if(!(b.source==y||b.target==y))throw"Incorrect edge source and/or target";(b.target==g||b.source==g)&&m.push(b)}),m},d.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},d.prototype.withChildren=function(){var g=new Set,m,y;if(g.add(this),this.child!=null)for(var b=this.child.getNodes(),x=0;x<b.length;x++)m=b[x],y=m.withChildren(),y.forEach(function(T){g.add(T)});return g},d.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],g+=m.getNoOfChildren();return g==0&&(g=1),g},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var x=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(T-x)+x,this.rect.x=g,this.rect.y=m},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==l.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new f(m,y),x=g.inverseTransformPoint(b);this.setLocation(x.x,x.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d},function(r,n,a){var o=a(0);function l(){}for(var c in o)l[c]=o[c];l.MAX_ITERATIONS=2500,l.DEFAULT_EDGE_LENGTH=50,l.DEFAULT_SPRING_STRENGTH=.45,l.DEFAULT_REPULSION_STRENGTH=4500,l.DEFAULT_GRAVITY_STRENGTH=.4,l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,l.COOLING_ADAPTATION_FACTOR=.33,l.ADAPTATION_LOWER_NODE_LIMIT=1e3,l.ADAPTATION_UPPER_NODE_LIMIT=5e3,l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,l.MAX_NODE_DISPLACEMENT=l.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,l.CONVERGENCE_CHECK_PERIOD=100,l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,l.MIN_EDGE_LENGTH=1,l.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=l},function(r,n,a){function o(l,c){l==null&&c==null?(this.x=0,this.y=0):(this.x=l,this.y=c)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(l){this.x=l},o.prototype.setY=function(l){this.y=l},o.prototype.getDifference=function(l){return new DimensionD(this.x-l.x,this.y-l.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(l){return this.x+=l.width,this.y+=l.height,this},r.exports=o},function(r,n,a){var o=a(2),l=a(10),c=a(0),u=a(7),h=a(3),f=a(1),d=a(13),p=a(12),g=a(11);function m(b,x,T){o.call(this,T),this.estimatedSize=l.MIN_VALUE,this.margin=c.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,x!=null&&x instanceof u?this.graphManager=x:x!=null&&x instanceof Layout&&(this.graphManager=x.graphManager)}m.prototype=Object.create(o.prototype);for(var y in o)m[y]=o[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,x,T){if(x==null&&T==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var E=b;if(!(this.getNodes().indexOf(x)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(x.owner==T.owner&&x.owner==this))throw"Both owners must be this graph!";return x.owner!=T.owner?null:(E.source=x,E.target=T,E.isInterGraph=!1,this.getEdges().push(E),x.edges.push(E),T!=x&&T.edges.push(E),E)}},m.prototype.remove=function(b){var x=b;if(b instanceof h){if(x==null)throw"Node is null!";if(!(x.owner!=null&&x.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=x.edges.slice(),w,E=T.length,S=0;S<E;S++)w=T[S],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var C=this.nodes.indexOf(x);if(C==-1)throw"Node not in owner node list!";this.nodes.splice(C,1)}else if(b instanceof f){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var k=w.source.edges.indexOf(w),O=w.target.edges.indexOf(w);if(!(k>-1&&O>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(k,1),w.target!=w.source&&w.target.edges.splice(O,1);var C=w.source.owner.getEdges().indexOf(w);if(C==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(C,1)}},m.prototype.updateLeftTop=function(){for(var b=l.MAX_VALUE,x=l.MAX_VALUE,T,w,E,S=this.getNodes(),C=S.length,k=0;k<C;k++){var O=S[k];T=O.getTop(),w=O.getLeft(),b>T&&(b=T),x>w&&(x=w)}return b==l.MAX_VALUE?null:(S[0].getParent().paddingLeft!=null?E=S[0].getParent().paddingLeft:E=this.margin,this.left=x-E,this.top=b-E,new p(this.left,this.top))},m.prototype.updateBounds=function(b){for(var x=l.MAX_VALUE,T=-l.MAX_VALUE,w=l.MAX_VALUE,E=-l.MAX_VALUE,S,C,k,O,I,_=this.nodes,R=_.length,M=0;M<R;M++){var $=_[M];b&&$.child!=null&&$.updateBounds(),S=$.getLeft(),C=$.getRight(),k=$.getTop(),O=$.getBottom(),x>S&&(x=S),T<C&&(T=C),w>k&&(w=k),E<O&&(E=O)}var N=new d(x,w,T-x,E-w);x==l.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),_[0].getParent().paddingLeft!=null?I=_[0].getParent().paddingLeft:I=this.margin,this.left=N.x-I,this.right=N.x+N.width+I,this.top=N.y-I,this.bottom=N.y+N.height+I},m.calculateBounds=function(b){for(var x=l.MAX_VALUE,T=-l.MAX_VALUE,w=l.MAX_VALUE,E=-l.MAX_VALUE,S,C,k,O,I=b.length,_=0;_<I;_++){var R=b[_];S=R.getLeft(),C=R.getRight(),k=R.getTop(),O=R.getBottom(),x>S&&(x=S),T<C&&(T=C),w>k&&(w=k),E<O&&(E=O)}var M=new d(x,w,T-x,E-w);return M},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==l.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,x=this.nodes,T=x.length,w=0;w<T;w++){var E=x[w];b+=E.calcEstimatedSize()}return b==0?this.estimatedSize=c.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var x=new g,T=new Set,w=this.nodes[0],E,S,C=w.withChildren();for(C.forEach(function(M){x.push(M),T.add(M)});x.length!==0;){w=x.shift(),E=w.getEdges();for(var k=E.length,O=0;O<k;O++){var I=E[O];if(S=I.getOtherEndInGraph(w,this),S!=null&&!T.has(S)){var _=S.withChildren();_.forEach(function(M){x.push(M),T.add(M)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var R=0;T.forEach(function(M){M.owner==b&&R++}),R==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,a){var o,l=a(1);function c(u){o=a(6),this.layout=u,this.graphs=[],this.edges=[]}c.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),f=this.add(u,h);return this.setRootGraph(f),this.rootGraph},c.prototype.add=function(u,h,f,d,p){if(f==null&&d==null&&p==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{p=f,d=h,f=u;var g=d.getOwner(),m=p.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return f.isInterGraph=!1,g.add(f,d,p);if(f.isInterGraph=!0,f.source=d,f.target=p,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},c.prototype.remove=function(u){if(u instanceof o){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(h.getEdges());for(var d,p=f.length,g=0;g<p;g++)d=f[g],h.remove(d);var m=[];m=m.concat(h.getNodes());var y;p=m.length;for(var g=0;g<p;g++)y=m[g],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof l){if(d=u,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var b=d.source.edges.indexOf(d);if(d.source.edges.splice(b,1),b=d.target.edges.indexOf(d),d.target.edges.splice(b,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var b=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(b,1)}},c.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},c.prototype.getGraphs=function(){return this.graphs},c.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),f=h.length,d=0;d<f;d++)u=u.concat(h[d].getNodes());this.allNodes=u}return this.allNodes},c.prototype.resetAllNodes=function(){this.allNodes=null},c.prototype.resetAllEdges=function(){this.allEdges=null},c.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},c.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],h=this.getGraphs();h.length;for(var f=0;f<h.length;f++)u=u.concat(h[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},c.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},c.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},c.prototype.getRoot=function(){return this.rootGraph},c.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},c.prototype.getLayout=function(){return this.layout},c.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var f=u.getOwner(),d;do{if(d=f.getParent(),d==null)break;if(d==h)return!0;if(f=d.getOwner(),f==null)break}while(!0);f=h.getOwner();do{if(d=f.getParent(),d==null)break;if(d==u)return!0;if(f=d.getOwner(),f==null)break}while(!0);return!1},c.prototype.calcLowestCommonAncestors=function(){for(var u,h,f,d,p,g=this.getAllEdges(),m=g.length,y=0;y<m;y++){if(u=g[y],h=u.source,f=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=f,h==f){u.lca=h.getOwner();continue}for(d=h.getOwner();u.lca==null;){for(u.targetInLca=f,p=f.getOwner();u.lca==null;){if(p==d){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(d==this.rootGraph)break;u.lca==null&&(u.sourceInLca=d.getParent(),d=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},c.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var d=h.getOwner();do{if(d==null)break;if(d==f)return d;d=d.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},c.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var f,d=u.getNodes(),p=d.length,g=0;g<p;g++)f=d[g],f.inclusionTreeDepth=h,f.child!=null&&this.calcInclusionTreeDepths(f.child,h+1)},c.prototype.includesInvalidEdge=function(){for(var u,h=[],f=this.edges.length,d=0;d<f;d++)u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target)&&h.push(u);for(var d=0;d<h.length;d++)this.remove(h[d]);return!1},r.exports=c},function(r,n,a){var o=a(12);function l(){}l.calcSeparationAmount=function(c,u,h,f){if(!c.intersects(u))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(c,u,d),h[0]=Math.min(c.getRight(),u.getRight())-Math.max(c.x,u.x),h[1]=Math.min(c.getBottom(),u.getBottom())-Math.max(c.y,u.y),c.getX()<=u.getX()&&c.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-c.getX(),c.getRight()-u.getRight()):u.getX()<=c.getX()&&u.getRight()>=c.getRight()&&(h[0]+=Math.min(c.getX()-u.getX(),u.getRight()-c.getRight())),c.getY()<=u.getY()&&c.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-c.getY(),c.getBottom()-u.getBottom()):u.getY()<=c.getY()&&u.getBottom()>=c.getBottom()&&(h[1]+=Math.min(c.getY()-u.getY(),u.getBottom()-c.getBottom()));var p=Math.abs((u.getCenterY()-c.getCenterY())/(u.getCenterX()-c.getCenterX()));u.getCenterY()===c.getCenterY()&&u.getCenterX()===c.getCenterX()&&(p=1);var g=p*h[0],m=h[1]/p;h[0]<m?m=h[0]:g=h[1],h[0]=-1*d[0]*(m/2+f),h[1]=-1*d[1]*(g/2+f)},l.decideDirectionsForOverlappingNodes=function(c,u,h){c.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,c.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},l.getIntersection2=function(c,u,h){var f=c.getCenterX(),d=c.getCenterY(),p=u.getCenterX(),g=u.getCenterY();if(c.intersects(u))return h[0]=f,h[1]=d,h[2]=p,h[3]=g,!0;var m=c.getX(),y=c.getY(),b=c.getRight(),x=c.getX(),T=c.getBottom(),w=c.getRight(),E=c.getWidthHalf(),S=c.getHeightHalf(),C=u.getX(),k=u.getY(),O=u.getRight(),I=u.getX(),_=u.getBottom(),R=u.getRight(),M=u.getWidthHalf(),$=u.getHeightHalf(),N=!1,P=!1;if(f===p){if(d>g)return h[0]=f,h[1]=y,h[2]=p,h[3]=_,!1;if(d<g)return h[0]=f,h[1]=T,h[2]=p,h[3]=k,!1}else if(d===g){if(f>p)return h[0]=m,h[1]=d,h[2]=O,h[3]=g,!1;if(f<p)return h[0]=b,h[1]=d,h[2]=C,h[3]=g,!1}else{var F=c.height/c.width,L=u.height/u.width,D=(g-d)/(p-f),B=void 0,H=void 0,U=void 0,G=void 0,W=void 0,ee=void 0;if(-F===D?f>p?(h[0]=x,h[1]=T,N=!0):(h[0]=b,h[1]=y,N=!0):F===D&&(f>p?(h[0]=m,h[1]=y,N=!0):(h[0]=w,h[1]=T,N=!0)),-L===D?p>f?(h[2]=I,h[3]=_,P=!0):(h[2]=O,h[3]=k,P=!0):L===D&&(p>f?(h[2]=C,h[3]=k,P=!0):(h[2]=R,h[3]=_,P=!0)),N&&P)return!1;if(f>p?d>g?(B=this.getCardinalDirection(F,D,4),H=this.getCardinalDirection(L,D,2)):(B=this.getCardinalDirection(-F,D,3),H=this.getCardinalDirection(-L,D,1)):d>g?(B=this.getCardinalDirection(-F,D,1),H=this.getCardinalDirection(-L,D,3)):(B=this.getCardinalDirection(F,D,2),H=this.getCardinalDirection(L,D,4)),!N)switch(B){case 1:G=y,U=f+-S/D,h[0]=U,h[1]=G;break;case 2:U=w,G=d+E*D,h[0]=U,h[1]=G;break;case 3:G=T,U=f+S/D,h[0]=U,h[1]=G;break;case 4:U=x,G=d+-E*D,h[0]=U,h[1]=G;break}if(!P)switch(H){case 1:ee=k,W=p+-$/D,h[2]=W,h[3]=ee;break;case 2:W=R,ee=g+M*D,h[2]=W,h[3]=ee;break;case 3:ee=_,W=p+$/D,h[2]=W,h[3]=ee;break;case 4:W=I,ee=g+-M*D,h[2]=W,h[3]=ee;break}}return!1},l.getCardinalDirection=function(c,u,h){return c>u?h:1+h%4},l.getIntersection=function(c,u,h,f){if(f==null)return this.getIntersection2(c,u,h);var d=c.x,p=c.y,g=u.x,m=u.y,y=h.x,b=h.y,x=f.x,T=f.y,w=void 0,E=void 0,S=void 0,C=void 0,k=void 0,O=void 0,I=void 0,_=void 0,R=void 0;return S=m-p,k=d-g,I=g*p-d*m,C=T-b,O=y-x,_=x*b-y*T,R=S*O-C*k,R===0?null:(w=(k*_-O*I)/R,E=(C*I-S*_)/R,new o(w,E))},l.angleOfVector=function(c,u,h,f){var d=void 0;return c!==h?(d=Math.atan((f-u)/(h-c)),h<c?d+=Math.PI:f<u&&(d+=this.TWO_PI)):f<u?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},l.doIntersect=function(c,u,h,f){var d=c.x,p=c.y,g=u.x,m=u.y,y=h.x,b=h.y,x=f.x,T=f.y,w=(g-d)*(T-b)-(x-y)*(m-p);if(w===0)return!1;var E=((T-b)*(x-d)+(y-x)*(T-p))/w,S=((p-m)*(x-d)+(g-d)*(T-p))/w;return 0<E&&E<1&&0<S&&S<1},l.findCircleLineIntersections=function(c,u,h,f,d,p,g){var m=(h-c)*(h-c)+(f-u)*(f-u),y=2*((c-d)*(h-c)+(u-p)*(f-u)),b=(c-d)*(c-d)+(u-p)*(u-p)-g*g,x=y*y-4*m*b;if(x>=0){var T=(-y+Math.sqrt(y*y-4*m*b))/(2*m),w=(-y-Math.sqrt(y*y-4*m*b))/(2*m),E=null;return T>=0&&T<=1?[T]:w>=0&&w<=1?[w]:E}else return null},l.HALF_PI=.5*Math.PI,l.ONE_AND_HALF_PI=1.5*Math.PI,l.TWO_PI=2*Math.PI,l.THREE_PI=3*Math.PI,r.exports=l},function(r,n,a){function o(){}o.sign=function(l){return l>0?1:l<0?-1:0},o.floor=function(l){return l<0?Math.ceil(l):Math.floor(l)},o.ceil=function(l){return l<0?Math.floor(l):Math.ceil(l)},r.exports=o},function(r,n,a){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,r.exports=o},function(r,n,a){var o=function(){function d(p,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,m){return g&&d(p.prototype,g),m&&d(p,m),p}}();function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var c=function(p){return{value:p,next:null,prev:null}},u=function(p,g,m,y){return p!==null?p.next=g:y.head=g,m!==null?m.prev=g:y.tail=g,g.prev=p,g.next=m,y.length++,g},h=function(p,g){var m=p.prev,y=p.next;return m!==null?m.next=y:g.head=y,y!==null?y.prev=m:g.tail=m,p.prev=p.next=null,g.length--,p},f=function(){function d(p){var g=this;l(this,d),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(m){return g.push(m)})}return o(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(g,m){return u(m.prev,c(g),m,this)}},{key:"insertAfter",value:function(g,m){return u(m,c(g),m.next,this)}},{key:"insertNodeBefore",value:function(g,m){return u(m.prev,g,m,this)}},{key:"insertNodeAfter",value:function(g,m){return u(m,g,m.next,this)}},{key:"push",value:function(g){return u(this.tail,c(g),null,this)}},{key:"unshift",value:function(g){return u(null,c(g),this.head,this)}},{key:"remove",value:function(g){return h(g,this)}},{key:"pop",value:function(){return h(this.tail,this).value}},{key:"popNode",value:function(){return h(this.tail,this)}},{key:"shift",value:function(){return h(this.head,this).value}},{key:"shiftNode",value:function(){return h(this.head,this)}},{key:"get_object_at",value:function(g){if(g<=this.length()){for(var m=1,y=this.head;m<g;)y=y.next,m++;return y.value}}},{key:"set_object_at",value:function(g,m){if(g<=this.length()){for(var y=1,b=this.head;y<g;)b=b.next,y++;b.value=m}}}]),d}();r.exports=f},function(r,n,a){function o(l,c,u){this.x=null,this.y=null,l==null&&c==null&&u==null?(this.x=0,this.y=0):typeof l=="number"&&typeof c=="number"&&u==null?(this.x=l,this.y=c):l.constructor.name=="Point"&&c==null&&u==null&&(u=l,this.x=u.x,this.y=u.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(l,c,u){l.constructor.name=="Point"&&c==null&&u==null?(u=l,this.setLocation(u.x,u.y)):typeof l=="number"&&typeof c=="number"&&u==null&&(parseInt(l)==l&&parseInt(c)==c?this.move(l,c):(this.x=Math.floor(l+.5),this.y=Math.floor(c+.5)))},o.prototype.move=function(l,c){this.x=l,this.y=c},o.prototype.translate=function(l,c){this.x+=l,this.y+=c},o.prototype.equals=function(l){if(l.constructor.name=="Point"){var c=l;return this.x==c.x&&this.y==c.y}return this==l},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=o},function(r,n,a){function o(l,c,u,h){this.x=0,this.y=0,this.width=0,this.height=0,l!=null&&c!=null&&u!=null&&h!=null&&(this.x=l,this.y=c,this.width=u,this.height=h)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(l){this.x=l},o.prototype.getY=function(){return this.y},o.prototype.setY=function(l){this.y=l},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(l){return!(this.getRight()<l.x||this.getBottom()<l.y||l.getRight()<this.x||l.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},r.exports=o},function(r,n,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};function l(){}l.lastID=0,l.createID=function(c){return l.isPrimitive(c)?c:(c.uniqueID!=null||(c.uniqueID=l.getString(),l.lastID++),c.uniqueID)},l.getString=function(c){return c==null&&(c=l.lastID),"Object#"+c},l.isPrimitive=function(c){var u=typeof c>"u"?"undefined":o(c);return c==null||u!="object"&&u!="function"},r.exports=l},function(r,n,a){function o(y){if(Array.isArray(y)){for(var b=0,x=Array(y.length);b<y.length;b++)x[b]=y[b];return x}else return Array.from(y)}var l=a(0),c=a(7),u=a(3),h=a(1),f=a(6),d=a(5),p=a(17),g=a(29);function m(y){g.call(this),this.layoutQuality=l.QUALITY,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=l.DEFAULT_INCREMENTAL,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new c(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new c(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new f(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),l.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),b=0;b<y.length;b++)y[b];for(var x=this.graphManager.getRoot().getNodes(),b=0;b<x.length;b++)x[b];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var x=b.getChild().getNodes(),T=0;T<x.length;T++)update(x[T]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof h){var E=y;if(E.vGraphObject!=null){var S=E.vGraphObject;S.update(E)}}else if(y instanceof f){var C=y;if(C.vGraphObject!=null){var k=C.vGraphObject;k.update(C)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=l.QUALITY,this.animationDuringLayout=l.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=l.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=l.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=l.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=l.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=l.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new d(0,0));else{var b=new p,x=this.graphManager.getRoot().updateLeftTop();if(x!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(x.x),b.setDeviceOrgY(x.y);for(var T=this.getAllNodes(),w,E=0;E<T.length;E++)w=T[E],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,x,T=y.getNodes(),w=0;w<T.length;w++)b=T[w],x=b.getChild(),x==null||x.getNodes().length==0?b.scatter():(this.positionNodesRandomly(x),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,x=this.graphManager.getRoot().getNodes(),T=!0,w=0;w<x.length;w++)x[w].getChild()!=null&&(T=!1);if(!T)return y;var E=new Set,S=[],C=new Map,k=[];for(k=k.concat(x);k.length>0&&b;){for(S.push(k[0]);S.length>0&&b;){var O=S[0];S.splice(0,1),E.add(O);for(var I=O.getEdges(),w=0;w<I.length;w++){var _=I[w].getOtherEnd(O);if(C.get(O)!=_)if(!E.has(_))S.push(_),C.set(_,O);else{b=!1;break}}}if(!b)y=[];else{var R=[].concat(o(E));y.push(R);for(var w=0;w<R.length;w++){var M=R[w],$=k.indexOf(M);$>-1&&k.splice($,1)}E=new Set,C=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],x=y.source,T=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),T.add(E);var S=this.newEdge(null);this.graphManager.add(S,x,E),b.add(E),x=E}var S=this.newEdge(null);return this.graphManager.add(S,x,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):T.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(o(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var x=y[b];if(x.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(x),w=0;w<T.length;w++){var E=T[w],S=new d(E.getCenterX(),E.getCenterY()),C=x.bendpoints.get(w);C.x=S.x,C.y=S.y,E.getOwner().remove(E)}this.graphManager.add(x,x.source,x.target)}}},m.transform=function(y,b,x,T){if(x!=null&&T!=null){var w=b;if(y<=50){var E=b/x;w-=(b-E)/50*(50-y)}else{var S=b*T;w+=(S-b)/50*(y-50)}return w}else{var C,k;return y<=50?(C=9*b/500,k=b/10):(C=9*b/50,k=-8*b),C*y+k}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var x=[],T=new Map,w=!1,E=null;(b.length==1||b.length==2)&&(w=!0,E=b[0]);for(var S=0;S<b.length;S++){var C=b[S],k=C.getNeighborsList().size;T.set(C,C.getNeighborsList().size),k==1&&x.push(C)}var O=[];for(O=O.concat(x);!w;){var I=[];I=I.concat(O),O=[];for(var S=0;S<b.length;S++){var C=b[S],_=b.indexOf(C);_>=0&&b.splice(_,1);var R=C.getNeighborsList();R.forEach(function(N){if(x.indexOf(N)<0){var P=T.get(N),F=P-1;F==1&&O.push(N),T.set(N,F)}})}x=x.concat(O),(b.length==1||b.length==2)&&(w=!0,E=b[0])}return E},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,a){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},r.exports=o},function(r,n,a){var o=a(5);function l(c,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l.prototype.getWorldOrgX=function(){return this.lworldOrgX},l.prototype.setWorldOrgX=function(c){this.lworldOrgX=c},l.prototype.getWorldOrgY=function(){return this.lworldOrgY},l.prototype.setWorldOrgY=function(c){this.lworldOrgY=c},l.prototype.getWorldExtX=function(){return this.lworldExtX},l.prototype.setWorldExtX=function(c){this.lworldExtX=c},l.prototype.getWorldExtY=function(){return this.lworldExtY},l.prototype.setWorldExtY=function(c){this.lworldExtY=c},l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},l.prototype.setDeviceOrgX=function(c){this.ldeviceOrgX=c},l.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},l.prototype.setDeviceOrgY=function(c){this.ldeviceOrgY=c},l.prototype.getDeviceExtX=function(){return this.ldeviceExtX},l.prototype.setDeviceExtX=function(c){this.ldeviceExtX=c},l.prototype.getDeviceExtY=function(){return this.ldeviceExtY},l.prototype.setDeviceExtY=function(c){this.ldeviceExtY=c},l.prototype.transformX=function(c){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(c-this.lworldOrgX)*this.ldeviceExtX/h),u},l.prototype.transformY=function(c){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(c-this.lworldOrgY)*this.ldeviceExtY/h),u},l.prototype.inverseTransformX=function(c){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(c-this.ldeviceOrgX)*this.lworldExtX/h),u},l.prototype.inverseTransformY=function(c){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(c-this.ldeviceOrgY)*this.lworldExtY/h),u},l.prototype.inverseTransformPoint=function(c){var u=new o(this.inverseTransformX(c.x),this.inverseTransformY(c.y));return u},r.exports=l},function(r,n,a){function o(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}var l=a(15),c=a(4),u=a(0),h=a(8),f=a(9);function d(){l.call(this),this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*c.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=c.MAX_ITERATIONS}d.prototype=Object.create(l.prototype);for(var p in l)d[p]=l[p];d.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=c.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,b,x,T,w,E=this.getGraphManager().getAllEdges(),S=0;S<E.length;S++)g=E[S],m=g.idealLength,g.isInterGraph&&(b=g.getSource(),x=g.getTarget(),T=g.getSourceInLca().getEstimatedSize(),w=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=T+w-2*u.SIMPLE_NODE_SIZE),y=g.getLca().getInclusionTreeDepth(),g.idealLength+=m*c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*y))},d.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>c.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*c.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-c.ADAPTATION_LOWER_NODE_LIMIT)/(c.ADAPTATION_UPPER_NODE_LIMIT-c.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-c.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=c.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>c.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(c.COOLING_ADAPTATION_FACTOR,1-(g-c.ADAPTATION_LOWER_NODE_LIMIT)/(c.ADAPTATION_UPPER_NODE_LIMIT-c.ADAPTATION_LOWER_NODE_LIMIT)*(1-c.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=c.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*c.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,y=0;y<g.length;y++)m=g[y],this.calcSpringForce(m,m.idealLength)},d.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,x,T,w=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%c.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),E=new Set,y=0;y<w.length;y++)x=w[y],this.calculateRepulsionForceOfANode(x,E,g,m),E.add(x);else for(y=0;y<w.length;y++)for(x=w[y],b=y+1;b<w.length;b++)T=w[b],x.getOwner()==T.getOwner()&&this.calcRepulsionForce(x,T)},d.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},d.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,y=0;y<g.length;y++)m=g[y],m.move()},d.prototype.calcSpringForce=function(g,m){var y=g.getSource(),b=g.getTarget(),x,T,w,E;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;x=g.getLength(),x!=0&&(T=g.edgeElasticity*(x-m),w=T*(g.lengthX/x),E=T*(g.lengthY/x),y.springForceX+=w,y.springForceY+=E,b.springForceX-=w,b.springForceY-=E)},d.prototype.calcRepulsionForce=function(g,m){var y=g.getRect(),b=m.getRect(),x=new Array(2),T=new Array(4),w,E,S,C,k,O,I;if(y.intersects(b)){h.calcSeparationAmount(y,b,x,c.DEFAULT_EDGE_LENGTH/2),O=2*x[0],I=2*x[1];var _=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=_*O,g.repulsionForceY-=_*I,m.repulsionForceX+=_*O,m.repulsionForceY+=_*I}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),E=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,T),w=T[2]-T[0],E=T[3]-T[1]),Math.abs(w)<c.MIN_REPULSION_DIST&&(w=f.sign(w)*c.MIN_REPULSION_DIST),Math.abs(E)<c.MIN_REPULSION_DIST&&(E=f.sign(E)*c.MIN_REPULSION_DIST),S=w*w+E*E,C=Math.sqrt(S),k=(g.nodeRepulsion/2+m.nodeRepulsion/2)*g.noOfChildren*m.noOfChildren/S,O=k*w/C,I=k*E/C,g.repulsionForceX-=O,g.repulsionForceY-=I,m.repulsionForceX+=O,m.repulsionForceY+=I},d.prototype.calcGravitationalForce=function(g){var m,y,b,x,T,w,E,S;m=g.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,x=g.getCenterX()-y,T=g.getCenterY()-b,w=Math.abs(x)+g.getWidth()/2,E=Math.abs(T)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(S=m.getEstimatedSize()*this.gravityRangeFactor,(w>S||E>S)&&(g.gravitationForceX=-this.gravityConstant*x,g.gravitationForceY=-this.gravityConstant*T)):(S=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>S||E>S)&&(g.gravitationForceX=-this.gravityConstant*x*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},d.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)g=m[y],g.noOfChildren=g.getNoOfChildren()},d.prototype.calcGrid=function(g){var m=0,y=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var b=new Array(m),x=0;x<m;x++)b[x]=new Array(y);for(var x=0;x<m;x++)for(var T=0;T<y;T++)b[x][T]=new Array;return b},d.prototype.addNodeToGrid=function(g,m,y){var b=0,x=0,T=0,w=0;b=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),T=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var E=b;E<=x;E++)for(var S=T;S<=w;S++)this.grid[E][S].push(g),g.setGridCoordinates(b,x,T,w)},d.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(g,m,y,b){if(this.totalIterations%c.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var x=new Set;g.surrounding=new Array;for(var T,w=this.grid,E=g.startX-1;E<g.finishX+2;E++)for(var S=g.startY-1;S<g.finishY+2;S++)if(!(E<0||S<0||E>=w.length||S>=w[0].length)){for(var C=0;C<w[E][S].length;C++)if(T=w[E][S][C],!(g.getOwner()!=T.getOwner()||g==T)&&!m.has(T)&&!x.has(T)){var k=Math.abs(g.getCenterX()-T.getCenterX())-(g.getWidth()/2+T.getWidth()/2),O=Math.abs(g.getCenterY()-T.getCenterY())-(g.getHeight()/2+T.getHeight()/2);k<=this.repulsionRange&&O<=this.repulsionRange&&x.add(T)}}g.surrounding=[].concat(o(x))}for(E=0;E<g.surrounding.length;E++)this.calcRepulsionForce(g,g.surrounding[E])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d},function(r,n,a){var o=a(1),l=a(4);function c(h,f,d){o.call(this,h,f,d),this.idealLength=l.DEFAULT_EDGE_LENGTH,this.edgeElasticity=l.DEFAULT_SPRING_STRENGTH}c.prototype=Object.create(o.prototype);for(var u in o)c[u]=o[u];r.exports=c},function(r,n,a){var o=a(3),l=a(4);function c(h,f,d,p){o.call(this,h,f,d,p),this.nodeRepulsion=l.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}c.prototype=Object.create(o.prototype);for(var u in o)c[u]=o[u];c.prototype.setGridCoordinates=function(h,f,d,p){this.startX=h,this.finishX=f,this.startY=d,this.finishY=p},r.exports=c},function(r,n,a){function o(l,c){this.width=0,this.height=0,l!==null&&c!==null&&(this.height=c,this.width=l)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(l){this.width=l},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(l){this.height=l},r.exports=o},function(r,n,a){var o=a(14);function l(){this.map={},this.keys=[]}l.prototype.put=function(c,u){var h=o.createID(c);this.contains(h)||(this.map[h]=u,this.keys.push(c))},l.prototype.contains=function(c){return o.createID(c),this.map[c]!=null},l.prototype.get=function(c){var u=o.createID(c);return this.map[u]},l.prototype.keySet=function(){return this.keys},r.exports=l},function(r,n,a){var o=a(14);function l(){this.set={}}l.prototype.add=function(c){var u=o.createID(c);this.contains(u)||(this.set[u]=c)},l.prototype.remove=function(c){delete this.set[o.createID(c)]},l.prototype.clear=function(){this.set={}},l.prototype.contains=function(c){return this.set[o.createID(c)]==c},l.prototype.isEmpty=function(){return this.size()===0},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAllTo=function(c){for(var u=Object.keys(this.set),h=u.length,f=0;f<h;f++)c.push(this.set[u[f]])},l.prototype.size=function(){return Object.keys(this.set).length},l.prototype.addAll=function(c){for(var u=c.length,h=0;h<u;h++){var f=c[h];this.add(f)}},r.exports=l},function(r,n,a){function o(){}o.multMat=function(l,c){for(var u=[],h=0;h<l.length;h++){u[h]=[];for(var f=0;f<c[0].length;f++){u[h][f]=0;for(var d=0;d<l[0].length;d++)u[h][f]+=l[h][d]*c[d][f]}}return u},o.transpose=function(l){for(var c=[],u=0;u<l[0].length;u++){c[u]=[];for(var h=0;h<l.length;h++)c[u][h]=l[h][u]}return c},o.multCons=function(l,c){for(var u=[],h=0;h<l.length;h++)u[h]=l[h]*c;return u},o.minusOp=function(l,c){for(var u=[],h=0;h<l.length;h++)u[h]=l[h]-c[h];return u},o.dotProduct=function(l,c){for(var u=0,h=0;h<l.length;h++)u+=l[h]*c[h];return u},o.mag=function(l){return Math.sqrt(this.dotProduct(l,l))},o.normalize=function(l){for(var c=[],u=this.mag(l),h=0;h<l.length;h++)c[h]=l[h]/u;return c},o.multGamma=function(l){for(var c=[],u=0,h=0;h<l.length;h++)u+=l[h];u*=-1/l.length;for(var f=0;f<l.length;f++)c[f]=u+l[f];return c},o.multL=function(l,c,u){for(var h=[],f=[],d=[],p=0;p<c[0].length;p++){for(var g=0,m=0;m<c.length;m++)g+=-.5*c[m][p]*l[m];f[p]=g}for(var y=0;y<u.length;y++){for(var b=0,x=0;x<u.length;x++)b+=u[y][x]*f[x];d[y]=b}for(var T=0;T<c.length;T++){for(var w=0,E=0;E<c[0].length;E++)w+=c[T][E]*d[E];h[T]=w}return h},r.exports=o},function(r,n,a){var o=function(){function h(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,d,p){return d&&h(f.prototype,d),p&&h(f,p),f}}();function l(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var c=a(11),u=function(){function h(f,d){l(this,h),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;f instanceof c?p=f.size():p=f.length,this._quicksort(f,0,p-1)}return o(h,[{key:"_quicksort",value:function(d,p,g){if(p<g){var m=this._partition(d,p,g);this._quicksort(d,p,m),this._quicksort(d,m+1,g)}}},{key:"_partition",value:function(d,p,g){for(var m=this._get(d,p),y=p,b=g;;){for(;this.compareFunction(m,this._get(d,b));)b--;for(;this.compareFunction(this._get(d,y),m);)y++;if(y<b)this._swap(d,y,b),y++,b--;else return b}}},{key:"_get",value:function(d,p){return d instanceof c?d.get_object_at(p):d[p]}},{key:"_set",value:function(d,p,g){d instanceof c?d.set_object_at(p,g):d[p]=g}},{key:"_swap",value:function(d,p,g){var m=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,m)}},{key:"_defaultCompareFunction",value:function(d,p){return p>d}}]),h}();r.exports=u},function(r,n,a){function o(){}o.svd=function(l){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=l.length,this.n=l[0].length;var c=Math.min(this.m,this.n);this.s=function(at){for(var Qe=[];at-- >0;)Qe.push(0);return Qe}(Math.min(this.m+1,this.n)),this.U=function(at){var Qe=function pt(Ot){if(Ot.length==0)return 0;for(var vt=[],tr=0;tr<Ot[0];tr++)vt.push(pt(Ot.slice(1)));return vt};return Qe(at)}([this.m,c]),this.V=function(at){var Qe=function pt(Ot){if(Ot.length==0)return 0;for(var vt=[],tr=0;tr<Ot[0];tr++)vt.push(pt(Ot.slice(1)));return vt};return Qe(at)}([this.n,this.n]);for(var u=function(at){for(var Qe=[];at-- >0;)Qe.push(0);return Qe}(this.n),h=function(at){for(var Qe=[];at-- >0;)Qe.push(0);return Qe}(this.m),f=!0,d=Math.min(this.m-1,this.n),p=Math.max(0,Math.min(this.n-2,this.m)),g=0;g<Math.max(d,p);g++){if(g<d){this.s[g]=0;for(var m=g;m<this.m;m++)this.s[g]=o.hypot(this.s[g],l[m][g]);if(this.s[g]!==0){l[g][g]<0&&(this.s[g]=-this.s[g]);for(var y=g;y<this.m;y++)l[y][g]/=this.s[g];l[g][g]+=1}this.s[g]=-this.s[g]}for(var b=g+1;b<this.n;b++){if(function(at,Qe){return at&&Qe}(g<d,this.s[g]!==0)){for(var x=0,T=g;T<this.m;T++)x+=l[T][g]*l[T][b];x=-x/l[g][g];for(var w=g;w<this.m;w++)l[w][b]+=x*l[w][g]}u[b]=l[g][b]}if(function(at,Qe){return Qe}(f,g<d))for(var E=g;E<this.m;E++)this.U[E][g]=l[E][g];if(g<p){u[g]=0;for(var S=g+1;S<this.n;S++)u[g]=o.hypot(u[g],u[S]);if(u[g]!==0){u[g+1]<0&&(u[g]=-u[g]);for(var C=g+1;C<this.n;C++)u[C]/=u[g];u[g+1]+=1}if(u[g]=-u[g],function(at,Qe){return at&&Qe}(g+1<this.m,u[g]!==0)){for(var k=g+1;k<this.m;k++)h[k]=0;for(var O=g+1;O<this.n;O++)for(var I=g+1;I<this.m;I++)h[I]+=u[O]*l[I][O];for(var _=g+1;_<this.n;_++)for(var R=-u[_]/u[g+1],M=g+1;M<this.m;M++)l[M][_]+=R*h[M]}for(var $=g+1;$<this.n;$++)this.V[$][g]=u[$]}}var N=Math.min(this.n,this.m+1);d<this.n&&(this.s[d]=l[d][d]),this.m<N&&(this.s[N-1]=0),p+1<N&&(u[p]=l[p][N-1]),u[N-1]=0;{for(var P=d;P<c;P++){for(var F=0;F<this.m;F++)this.U[F][P]=0;this.U[P][P]=1}for(var L=d-1;L>=0;L--)if(this.s[L]!==0){for(var D=L+1;D<c;D++){for(var B=0,H=L;H<this.m;H++)B+=this.U[H][L]*this.U[H][D];B=-B/this.U[L][L];for(var U=L;U<this.m;U++)this.U[U][D]+=B*this.U[U][L]}for(var G=L;G<this.m;G++)this.U[G][L]=-this.U[G][L];this.U[L][L]=1+this.U[L][L];for(var W=0;W<L-1;W++)this.U[W][L]=0}else{for(var ee=0;ee<this.m;ee++)this.U[ee][L]=0;this.U[L][L]=1}}for(var ce=this.n-1;ce>=0;ce--){if(function(at,Qe){return at&&Qe}(ce<p,u[ce]!==0))for(var Z=ce+1;Z<c;Z++){for(var J=0,oe=ce+1;oe<this.n;oe++)J+=this.V[oe][ce]*this.V[oe][Z];J=-J/this.V[ce+1][ce];for(var Y=ce+1;Y<this.n;Y++)this.V[Y][Z]+=J*this.V[Y][ce]}for(var X=0;X<this.n;X++)this.V[X][ce]=0;this.V[ce][ce]=1}for(var K=N-1,z=Math.pow(2,-52),j=Math.pow(2,-966);N>0;){var te=void 0,re=void 0;for(te=N-2;te>=-1&&te!==-1;te--)if(Math.abs(u[te])<=j+z*(Math.abs(this.s[te])+Math.abs(this.s[te+1]))){u[te]=0;break}if(te===N-2)re=4;else{var Se=void 0;for(Se=N-1;Se>=te&&Se!==te;Se--){var ue=(Se!==N?Math.abs(u[Se]):0)+(Se!==te+1?Math.abs(u[Se-1]):0);if(Math.abs(this.s[Se])<=j+z*ue){this.s[Se]=0;break}}Se===te?re=3:Se===N-1?re=1:(re=2,te=Se)}switch(te++,re){case 1:{var se=u[N-2];u[N-2]=0;for(var fe=N-2;fe>=te;fe--){var ye=o.hypot(this.s[fe],se),he=this.s[fe]/ye,Ae=se/ye;this.s[fe]=ye,fe!==te&&(se=-Ae*u[fe-1],u[fe-1]=he*u[fe-1]);for(var Ce=0;Ce<this.n;Ce++)ye=he*this.V[Ce][fe]+Ae*this.V[Ce][N-1],this.V[Ce][N-1]=-Ae*this.V[Ce][fe]+he*this.V[Ce][N-1],this.V[Ce][fe]=ye}}break;case 2:{var Ie=u[te-1];u[te-1]=0;for(var Le=te;Le<N;Le++){var ae=o.hypot(this.s[Le],Ie),q=this.s[Le]/ae,ge=Ie/ae;this.s[Le]=ae,Ie=-ge*u[Le],u[Le]=q*u[Le];for(var le=0;le<this.m;le++)ae=q*this.U[le][Le]+ge*this.U[le][te-1],this.U[le][te-1]=-ge*this.U[le][Le]+q*this.U[le][te-1],this.U[le][Le]=ae}}break;case 3:{var Te=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[N-1]),Math.abs(this.s[N-2])),Math.abs(u[N-2])),Math.abs(this.s[te])),Math.abs(u[te])),ne=this.s[N-1]/Te,Re=this.s[N-2]/Te,ie=u[N-2]/Te,pe=this.s[te]/Te,xe=u[te]/Te,ve=((Re+ne)*(Re-ne)+ie*ie)/2,Ee=ne*ie*(ne*ie),ke=0;(function(at,Qe){return at||Qe})(ve!==0,Ee!==0)&&(ke=Math.sqrt(ve*ve+Ee),ve<0&&(ke=-ke),ke=Ee/(ve+ke));for(var Pe=(pe+ne)*(pe-ne)+ke,Oe=pe*xe,Ye=te;Ye<N-1;Ye++){var Je=o.hypot(Pe,Oe),Ct=Pe/Je,dt=Oe/Je;Ye!==te&&(u[Ye-1]=Je),Pe=Ct*this.s[Ye]+dt*u[Ye],u[Ye]=Ct*u[Ye]-dt*this.s[Ye],Oe=dt*this.s[Ye+1],this.s[Ye+1]=Ct*this.s[Ye+1];for(var ct=0;ct<this.n;ct++)Je=Ct*this.V[ct][Ye]+dt*this.V[ct][Ye+1],this.V[ct][Ye+1]=-dt*this.V[ct][Ye]+Ct*this.V[ct][Ye+1],this.V[ct][Ye]=Je;if(Je=o.hypot(Pe,Oe),Ct=Pe/Je,dt=Oe/Je,this.s[Ye]=Je,Pe=Ct*u[Ye]+dt*this.s[Ye+1],this.s[Ye+1]=-dt*u[Ye]+Ct*this.s[Ye+1],Oe=dt*u[Ye+1],u[Ye+1]=Ct*u[Ye+1],Ye<this.m-1)for(var qe=0;qe<this.m;qe++)Je=Ct*this.U[qe][Ye]+dt*this.U[qe][Ye+1],this.U[qe][Ye+1]=-dt*this.U[qe][Ye]+Ct*this.U[qe][Ye+1],this.U[qe][Ye]=Je}u[N-2]=Pe}break;case 4:{if(this.s[te]<=0){this.s[te]=this.s[te]<0?-this.s[te]:0;for(var je=0;je<=K;je++)this.V[je][te]=-this.V[je][te]}for(;te<K&&!(this.s[te]>=this.s[te+1]);){var ht=this.s[te];if(this.s[te]=this.s[te+1],this.s[te+1]=ht,te<this.n-1)for(var Ke=0;Ke<this.n;Ke++)ht=this.V[Ke][te+1],this.V[Ke][te+1]=this.V[Ke][te],this.V[Ke][te]=ht;if(te<this.m-1)for(var it=0;it<this.m;it++)ht=this.U[it][te+1],this.U[it][te+1]=this.U[it][te],this.U[it][te]=ht;te++}N--}break}}var Pt={U:this.U,V:this.V,S:this.s};return Pt},o.hypot=function(l,c){var u=void 0;return Math.abs(l)>Math.abs(c)?(u=c/l,u=Math.abs(l)*Math.sqrt(1+u*u)):c!=0?(u=l/c,u=Math.abs(c)*Math.sqrt(1+u*u)):u=0,u},r.exports=o},function(r,n,a){var o=function(){function u(h,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,f,d){return f&&u(h.prototype,f),d&&u(h,d),h}}();function l(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function u(h,f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;l(this,u),this.sequence1=h,this.sequence2=f,this.match_score=d,this.mismatch_penalty=p,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.tracebackGrid[b][x]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var m=void 0;this.sequence1[p-1]===this.sequence2[g-1]?m=this.grid[p-1][g-1]+this.match_score:m=this.grid[p-1][g-1]+this.mismatch_penalty;var y=this.grid[p-1][g]+this.gap_penalty,b=this.grid[p][g-1]+this.gap_penalty,x=[m,y,b],T=this.arrayAllMaxIndexes(x);this.grid[p][g]=x[T[0]],this.tracebackGrid[p][g]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var d=f[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&f.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&f.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&f.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,d){for(var p=[],g=-1;(g=f.indexOf(d,g+1))!==-1;)p.push(g);return p}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=c},function(r,n,a){var o=function(){};o.FDLayout=a(18),o.FDLayoutConstants=a(4),o.FDLayoutEdge=a(19),o.FDLayoutNode=a(20),o.DimensionD=a(21),o.HashMap=a(22),o.HashSet=a(23),o.IGeometry=a(8),o.IMath=a(9),o.Integer=a(10),o.Point=a(12),o.PointD=a(5),o.RandomSeed=a(16),o.RectangleD=a(13),o.Transform=a(17),o.UniqueIDGeneretor=a(14),o.Quicksort=a(25),o.LinkedList=a(11),o.LGraphObject=a(2),o.LGraph=a(6),o.LEdge=a(1),o.LGraphManager=a(7),o.LNode=a(3),o.Layout=a(15),o.LayoutConstants=a(0),o.NeedlemanWunsch=a(27),o.Matrix=a(24),o.SVD=a(26),r.exports=o},function(r,n,a){function o(){this.listeners=[]}var l=o.prototype;l.addListener=function(c,u){this.listeners.push({event:c,callback:u})},l.removeListener=function(c,u){for(var h=this.listeners.length;h>=0;h--){var f=this.listeners[h];f.event===c&&f.callback===u&&this.listeners.splice(h,1)}},l.emit=function(c,u){for(var h=0;h<this.listeners.length;h++){var f=this.listeners[h];c===f.event&&f.callback(u)}},r.exports=o}])})}(X7)),X7.exports}var vK;function MNt(){return vK||(vK=1,function(e,t){(function(n,a){e.exports=a(LNt())})(As,function(r){return(()=>{var n={45:(c,u,h)=>{var f={};f.layoutBase=h(551),f.CoSEConstants=h(806),f.CoSEEdge=h(767),f.CoSEGraph=h(880),f.CoSEGraphManager=h(578),f.CoSELayout=h(765),f.CoSENode=h(991),f.ConstraintHandler=h(902),c.exports=f},806:(c,u,h)=>{var f=h(551).FDLayoutConstants;function d(){}for(var p in f)d[p]=f[p];d.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,d.DEFAULT_RADIAL_SEPARATION=f.DEFAULT_EDGE_LENGTH,d.DEFAULT_COMPONENT_SEPERATION=60,d.TILE=!0,d.TILING_PADDING_VERTICAL=10,d.TILING_PADDING_HORIZONTAL=10,d.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,d.ENFORCE_CONSTRAINTS=!0,d.APPLY_LAYOUT=!0,d.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,d.TREE_REDUCTION_ON_INCREMENTAL=!0,d.PURE_INCREMENTAL=d.DEFAULT_INCREMENTAL,c.exports=d},767:(c,u,h)=>{var f=h(551).FDLayoutEdge;function d(g,m,y){f.call(this,g,m,y)}d.prototype=Object.create(f.prototype);for(var p in f)d[p]=f[p];c.exports=d},880:(c,u,h)=>{var f=h(551).LGraph;function d(g,m,y){f.call(this,g,m,y)}d.prototype=Object.create(f.prototype);for(var p in f)d[p]=f[p];c.exports=d},578:(c,u,h)=>{var f=h(551).LGraphManager;function d(g){f.call(this,g)}d.prototype=Object.create(f.prototype);for(var p in f)d[p]=f[p];c.exports=d},765:(c,u,h)=>{var f=h(551).FDLayout,d=h(578),p=h(880),g=h(991),m=h(767),y=h(806),b=h(902),x=h(551).FDLayoutConstants,T=h(551).LayoutConstants,w=h(551).Point,E=h(551).PointD,S=h(551).DimensionD,C=h(551).Layout,k=h(551).Integer,O=h(551).IGeometry,I=h(551).LGraph,_=h(551).Transform,R=h(551).LinkedList;function M(){f.call(this),this.toBeTiled={},this.constraints={}}M.prototype=Object.create(f.prototype);for(var $ in f)M[$]=f[$];M.prototype.newGraphManager=function(){var N=new d(this);return this.graphManager=N,N},M.prototype.newGraph=function(N){return new p(null,this.graphManager,N)},M.prototype.newNode=function(N){return new g(this.graphManager,N)},M.prototype.newEdge=function(N){return new m(null,null,N)},M.prototype.initParameters=function(){f.prototype.initParameters.call(this,arguments),this.isSubLayout||(y.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=y.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=y.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=x.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=x.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=x.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},M.prototype.initSpringEmbedder=function(){f.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/x.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},M.prototype.layout=function(){var N=T.DEFAULT_CREATE_BENDS_AS_NEEDED;return N&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},M.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(y.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),F=this.nodesWithGravity.filter(function(B){return P.has(B)});this.graphManager.setAllNodesToApplyGravitation(F)}}else{var N=this.getFlatForest();if(N.length>0)this.positionNodesRadially(N);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),F=this.nodesWithGravity.filter(function(L){return P.has(L)});this.graphManager.setAllNodesToApplyGravitation(F),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(b.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),y.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},M.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%x.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(D){return N.has(D)});this.graphManager.setAllNodesToApplyGravitation(P),this.graphManager.updateBounds(),this.updateGrid(),y.PURE_INCREMENTAL?this.coolingFactor=x.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=x.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),y.PURE_INCREMENTAL?this.coolingFactor=x.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=x.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var F=!this.isTreeGrowing&&!this.isGrowthFinished,L=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(F,L),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},M.prototype.getPositionsData=function(){for(var N=this.graphManager.getAllNodes(),P={},F=0;F<N.length;F++){var L=N[F].rect,D=N[F].id;P[D]={id:D,x:L.getCenterX(),y:L.getCenterY(),w:L.width,h:L.height}}return P},M.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var N=!1;if(x.ANIMATE==="during")this.emit("layoutstarted");else{for(;!N;)N=this.tick();this.graphManager.updateBounds()}},M.prototype.moveNodes=function(){for(var N=this.getAllNodes(),P,F=0;F<N.length;F++)P=N[F],P.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var F=0;F<N.length;F++)P=N[F],P.move()},M.prototype.initConstraintVariables=function(){var N=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var P=this.graphManager.getAllNodes(),F=0;F<P.length;F++){var L=P[F];this.idToNodeMap.set(L.id,L)}var D=function Y(X){for(var K=X.getChild().getNodes(),z,j=0,te=0;te<K.length;te++)z=K[te],z.getChild()==null?N.fixedNodeSet.has(z.id)&&(j+=100):j+=Y(z);return j};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(K){N.fixedNodeSet.add(K.nodeId)});for(var P=this.graphManager.getAllNodes(),L,F=0;F<P.length;F++)if(L=P[F],L.getChild()!=null){var B=D(L);B>0&&(L.fixedNodeWeight=B)}}if(this.constraints.relativePlacementConstraint){var H=new Map,U=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(Y){N.fixedNodesOnHorizontal.add(Y),N.fixedNodesOnVertical.add(Y)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var G=this.constraints.alignmentConstraint.vertical,F=0;F<G.length;F++)this.dummyToNodeForVerticalAlignment.set("dummy"+F,[]),G[F].forEach(function(X){H.set(X,"dummy"+F),N.dummyToNodeForVerticalAlignment.get("dummy"+F).push(X),N.fixedNodeSet.has(X)&&N.fixedNodesOnHorizontal.add("dummy"+F)});if(this.constraints.alignmentConstraint.horizontal)for(var W=this.constraints.alignmentConstraint.horizontal,F=0;F<W.length;F++)this.dummyToNodeForHorizontalAlignment.set("dummy"+F,[]),W[F].forEach(function(X){U.set(X,"dummy"+F),N.dummyToNodeForHorizontalAlignment.get("dummy"+F).push(X),N.fixedNodeSet.has(X)&&N.fixedNodesOnVertical.add("dummy"+F)})}if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(Y){var X,K,z;for(z=Y.length-1;z>=2*Y.length/3;z--)X=Math.floor(Math.random()*(z+1)),K=Y[z],Y[z]=Y[X],Y[X]=K;return Y},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(Y){if(Y.left){var X=H.has(Y.left)?H.get(Y.left):Y.left,K=H.has(Y.right)?H.get(Y.right):Y.right;N.nodesInRelativeHorizontal.includes(X)||(N.nodesInRelativeHorizontal.push(X),N.nodeToRelativeConstraintMapHorizontal.set(X,[]),N.dummyToNodeForVerticalAlignment.has(X)?N.nodeToTempPositionMapHorizontal.set(X,N.idToNodeMap.get(N.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):N.nodeToTempPositionMapHorizontal.set(X,N.idToNodeMap.get(X).getCenterX())),N.nodesInRelativeHorizontal.includes(K)||(N.nodesInRelativeHorizontal.push(K),N.nodeToRelativeConstraintMapHorizontal.set(K,[]),N.dummyToNodeForVerticalAlignment.has(K)?N.nodeToTempPositionMapHorizontal.set(K,N.idToNodeMap.get(N.dummyToNodeForVerticalAlignment.get(K)[0]).getCenterX()):N.nodeToTempPositionMapHorizontal.set(K,N.idToNodeMap.get(K).getCenterX())),N.nodeToRelativeConstraintMapHorizontal.get(X).push({right:K,gap:Y.gap}),N.nodeToRelativeConstraintMapHorizontal.get(K).push({left:X,gap:Y.gap})}else{var z=U.has(Y.top)?U.get(Y.top):Y.top,j=U.has(Y.bottom)?U.get(Y.bottom):Y.bottom;N.nodesInRelativeVertical.includes(z)||(N.nodesInRelativeVertical.push(z),N.nodeToRelativeConstraintMapVertical.set(z,[]),N.dummyToNodeForHorizontalAlignment.has(z)?N.nodeToTempPositionMapVertical.set(z,N.idToNodeMap.get(N.dummyToNodeForHorizontalAlignment.get(z)[0]).getCenterY()):N.nodeToTempPositionMapVertical.set(z,N.idToNodeMap.get(z).getCenterY())),N.nodesInRelativeVertical.includes(j)||(N.nodesInRelativeVertical.push(j),N.nodeToRelativeConstraintMapVertical.set(j,[]),N.dummyToNodeForHorizontalAlignment.has(j)?N.nodeToTempPositionMapVertical.set(j,N.idToNodeMap.get(N.dummyToNodeForHorizontalAlignment.get(j)[0]).getCenterY()):N.nodeToTempPositionMapVertical.set(j,N.idToNodeMap.get(j).getCenterY())),N.nodeToRelativeConstraintMapVertical.get(z).push({bottom:j,gap:Y.gap}),N.nodeToRelativeConstraintMapVertical.get(j).push({top:z,gap:Y.gap})}});else{var ee=new Map,ce=new Map;this.constraints.relativePlacementConstraint.forEach(function(Y){if(Y.left){var X=H.has(Y.left)?H.get(Y.left):Y.left,K=H.has(Y.right)?H.get(Y.right):Y.right;ee.has(X)?ee.get(X).push(K):ee.set(X,[K]),ee.has(K)?ee.get(K).push(X):ee.set(K,[X])}else{var z=U.has(Y.top)?U.get(Y.top):Y.top,j=U.has(Y.bottom)?U.get(Y.bottom):Y.bottom;ce.has(z)?ce.get(z).push(j):ce.set(z,[j]),ce.has(j)?ce.get(j).push(z):ce.set(j,[z])}});var Z=function(X,K){var z=[],j=[],te=new R,re=new Set,Se=0;return X.forEach(function(ue,se){if(!re.has(se)){z[Se]=[],j[Se]=!1;var fe=se;for(te.push(fe),re.add(fe),z[Se].push(fe);te.length!=0;){fe=te.shift(),K.has(fe)&&(j[Se]=!0);var ye=X.get(fe);ye.forEach(function(he){re.has(he)||(te.push(he),re.add(he),z[Se].push(he))})}Se++}}),{components:z,isFixed:j}},J=Z(ee,N.fixedNodesOnHorizontal);this.componentsOnHorizontal=J.components,this.fixedComponentsOnHorizontal=J.isFixed;var oe=Z(ce,N.fixedNodesOnVertical);this.componentsOnVertical=oe.components,this.fixedComponentsOnVertical=oe.isFixed}}},M.prototype.updateDisplacements=function(){var N=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(oe){var Y=N.idToNodeMap.get(oe.nodeId);Y.displacementX=0,Y.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var P=this.constraints.alignmentConstraint.vertical,F=0;F<P.length;F++){for(var L=0,D=0;D<P[F].length;D++){if(this.fixedNodeSet.has(P[F][D])){L=0;break}L+=this.idToNodeMap.get(P[F][D]).displacementX}for(var B=L/P[F].length,D=0;D<P[F].length;D++)this.idToNodeMap.get(P[F][D]).displacementX=B}if(this.constraints.alignmentConstraint.horizontal)for(var H=this.constraints.alignmentConstraint.horizontal,F=0;F<H.length;F++){for(var U=0,D=0;D<H[F].length;D++){if(this.fixedNodeSet.has(H[F][D])){U=0;break}U+=this.idToNodeMap.get(H[F][D]).displacementY}for(var G=U/H[F].length,D=0;D<H[F].length;D++)this.idToNodeMap.get(H[F][D]).displacementY=G}}if(this.constraints.relativePlacementConstraint)if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(oe){if(!N.fixedNodesOnHorizontal.has(oe)){var Y=0;N.dummyToNodeForVerticalAlignment.has(oe)?Y=N.idToNodeMap.get(N.dummyToNodeForVerticalAlignment.get(oe)[0]).displacementX:Y=N.idToNodeMap.get(oe).displacementX,N.nodeToRelativeConstraintMapHorizontal.get(oe).forEach(function(X){if(X.right){var K=N.nodeToTempPositionMapHorizontal.get(X.right)-N.nodeToTempPositionMapHorizontal.get(oe)-Y;K<X.gap&&(Y-=X.gap-K)}else{var K=N.nodeToTempPositionMapHorizontal.get(oe)-N.nodeToTempPositionMapHorizontal.get(X.left)+Y;K<X.gap&&(Y+=X.gap-K)}}),N.nodeToTempPositionMapHorizontal.set(oe,N.nodeToTempPositionMapHorizontal.get(oe)+Y),N.dummyToNodeForVerticalAlignment.has(oe)?N.dummyToNodeForVerticalAlignment.get(oe).forEach(function(X){N.idToNodeMap.get(X).displacementX=Y}):N.idToNodeMap.get(oe).displacementX=Y}}),this.nodesInRelativeVertical.forEach(function(oe){if(!N.fixedNodesOnHorizontal.has(oe)){var Y=0;N.dummyToNodeForHorizontalAlignment.has(oe)?Y=N.idToNodeMap.get(N.dummyToNodeForHorizontalAlignment.get(oe)[0]).displacementY:Y=N.idToNodeMap.get(oe).displacementY,N.nodeToRelativeConstraintMapVertical.get(oe).forEach(function(X){if(X.bottom){var K=N.nodeToTempPositionMapVertical.get(X.bottom)-N.nodeToTempPositionMapVertical.get(oe)-Y;K<X.gap&&(Y-=X.gap-K)}else{var K=N.nodeToTempPositionMapVertical.get(oe)-N.nodeToTempPositionMapVertical.get(X.top)+Y;K<X.gap&&(Y+=X.gap-K)}}),N.nodeToTempPositionMapVertical.set(oe,N.nodeToTempPositionMapVertical.get(oe)+Y),N.dummyToNodeForHorizontalAlignment.has(oe)?N.dummyToNodeForHorizontalAlignment.get(oe).forEach(function(X){N.idToNodeMap.get(X).displacementY=Y}):N.idToNodeMap.get(oe).displacementY=Y}});else{for(var F=0;F<this.componentsOnHorizontal.length;F++){var W=this.componentsOnHorizontal[F];if(this.fixedComponentsOnHorizontal[F])for(var D=0;D<W.length;D++)this.dummyToNodeForVerticalAlignment.has(W[D])?this.dummyToNodeForVerticalAlignment.get(W[D]).forEach(function(X){N.idToNodeMap.get(X).displacementX=0}):this.idToNodeMap.get(W[D]).displacementX=0;else{for(var ee=0,ce=0,D=0;D<W.length;D++)if(this.dummyToNodeForVerticalAlignment.has(W[D])){var Z=this.dummyToNodeForVerticalAlignment.get(W[D]);ee+=Z.length*this.idToNodeMap.get(Z[0]).displacementX,ce+=Z.length}else ee+=this.idToNodeMap.get(W[D]).displacementX,ce++;for(var J=ee/ce,D=0;D<W.length;D++)this.dummyToNodeForVerticalAlignment.has(W[D])?this.dummyToNodeForVerticalAlignment.get(W[D]).forEach(function(X){N.idToNodeMap.get(X).displacementX=J}):this.idToNodeMap.get(W[D]).displacementX=J}}for(var F=0;F<this.componentsOnVertical.length;F++){var W=this.componentsOnVertical[F];if(this.fixedComponentsOnVertical[F])for(var D=0;D<W.length;D++)this.dummyToNodeForHorizontalAlignment.has(W[D])?this.dummyToNodeForHorizontalAlignment.get(W[D]).forEach(function(K){N.idToNodeMap.get(K).displacementY=0}):this.idToNodeMap.get(W[D]).displacementY=0;else{for(var ee=0,ce=0,D=0;D<W.length;D++)if(this.dummyToNodeForHorizontalAlignment.has(W[D])){var Z=this.dummyToNodeForHorizontalAlignment.get(W[D]);ee+=Z.length*this.idToNodeMap.get(Z[0]).displacementY,ce+=Z.length}else ee+=this.idToNodeMap.get(W[D]).displacementY,ce++;for(var J=ee/ce,D=0;D<W.length;D++)this.dummyToNodeForHorizontalAlignment.has(W[D])?this.dummyToNodeForHorizontalAlignment.get(W[D]).forEach(function(te){N.idToNodeMap.get(te).displacementY=J}):this.idToNodeMap.get(W[D]).displacementY=J}}}},M.prototype.calculateNodesToApplyGravitationTo=function(){var N=[],P,F=this.graphManager.getGraphs(),L=F.length,D;for(D=0;D<L;D++)P=F[D],P.updateConnected(),P.isConnected||(N=N.concat(P.getNodes()));return N},M.prototype.createBendpoints=function(){var N=[];N=N.concat(this.graphManager.getAllEdges());var P=new Set,F;for(F=0;F<N.length;F++){var L=N[F];if(!P.has(L)){var D=L.getSource(),B=L.getTarget();if(D==B)L.getBendpoints().push(new E),L.getBendpoints().push(new E),this.createDummyNodesForBendpoints(L),P.add(L);else{var H=[];if(H=H.concat(D.getEdgeListToNode(B)),H=H.concat(B.getEdgeListToNode(D)),!P.has(H[0])){if(H.length>1){var U;for(U=0;U<H.length;U++){var G=H[U];G.getBendpoints().push(new E),this.createDummyNodesForBendpoints(G)}}H.forEach(function(W){P.add(W)})}}}if(P.size==N.length)break}},M.prototype.positionNodesRadially=function(N){for(var P=new w(0,0),F=Math.ceil(Math.sqrt(N.length)),L=0,D=0,B=0,H=new E(0,0),U=0;U<N.length;U++){U%F==0&&(B=0,D=L,U!=0&&(D+=y.DEFAULT_COMPONENT_SEPERATION),L=0);var G=N[U],W=C.findCenterOfTree(G);P.x=B,P.y=D,H=M.radialLayout(G,W,P),H.y>L&&(L=Math.floor(H.y)),B=Math.floor(H.x+y.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(T.WORLD_CENTER_X-H.x/2,T.WORLD_CENTER_Y-H.y/2))},M.radialLayout=function(N,P,F){var L=Math.max(this.maxDiagonalInTree(N),y.DEFAULT_RADIAL_SEPARATION);M.branchRadialLayout(P,null,0,359,0,L);var D=I.calculateBounds(N),B=new _;B.setDeviceOrgX(D.getMinX()),B.setDeviceOrgY(D.getMinY()),B.setWorldOrgX(F.x),B.setWorldOrgY(F.y);for(var H=0;H<N.length;H++){var U=N[H];U.transform(B)}var G=new E(D.getMaxX(),D.getMaxY());return B.inverseTransformPoint(G)},M.branchRadialLayout=function(N,P,F,L,D,B){var H=(L-F+1)/2;H<0&&(H+=180);var U=(H+F)%360,G=U*O.TWO_PI/360,W=D*Math.cos(G),ee=D*Math.sin(G);N.setCenter(W,ee);var ce=[];ce=ce.concat(N.getEdges());var Z=ce.length;P!=null&&Z--;for(var J=0,oe=ce.length,Y,X=N.getEdgesBetween(P);X.length>1;){var K=X[0];X.splice(0,1);var z=ce.indexOf(K);z>=0&&ce.splice(z,1),oe--,Z--}P!=null?Y=(ce.indexOf(X[0])+1)%oe:Y=0;for(var j=Math.abs(L-F)/Z,te=Y;J!=Z;te=++te%oe){var re=ce[te].getOtherEnd(N);if(re!=P){var Se=(F+J*j)%360,ue=(Se+j)%360;M.branchRadialLayout(re,N,Se,ue,D+B,B),J++}}},M.maxDiagonalInTree=function(N){for(var P=k.MIN_VALUE,F=0;F<N.length;F++){var L=N[F],D=L.getDiagonal();D>P&&(P=D)}return P},M.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},M.prototype.groupZeroDegreeMembers=function(){var N=this,P={};this.memberGroups={},this.idToDummyNode={};for(var F=[],L=this.graphManager.getAllNodes(),D=0;D<L.length;D++){var B=L[D],H=B.getParent();this.getNodeDegreeWithChildren(B)===0&&(H.id==null||!this.getToBeTiled(H))&&F.push(B)}for(var D=0;D<F.length;D++){var B=F[D],U=B.getParent().id;typeof P[U]>"u"&&(P[U]=[]),P[U]=P[U].concat(B)}Object.keys(P).forEach(function(G){if(P[G].length>1){var W="DummyCompound_"+G;N.memberGroups[W]=P[G];var ee=P[G][0].getParent(),ce=new g(N.graphManager);ce.id=W,ce.paddingLeft=ee.paddingLeft||0,ce.paddingRight=ee.paddingRight||0,ce.paddingBottom=ee.paddingBottom||0,ce.paddingTop=ee.paddingTop||0,N.idToDummyNode[W]=ce;var Z=N.getGraphManager().add(N.newGraph(),ce),J=ee.getChild();J.add(ce);for(var oe=0;oe<P[G].length;oe++){var Y=P[G][oe];J.remove(Y),Z.add(Y)}}})},M.prototype.clearCompounds=function(){var N={},P={};this.performDFSOnCompounds();for(var F=0;F<this.compoundOrder.length;F++)P[this.compoundOrder[F].id]=this.compoundOrder[F],N[this.compoundOrder[F].id]=[].concat(this.compoundOrder[F].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[F].getChild()),this.compoundOrder[F].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(N,P)},M.prototype.clearZeroDegreeMembers=function(){var N=this,P=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(F){var L=N.idToDummyNode[F];if(P[F]=N.tileNodes(N.memberGroups[F],L.paddingLeft+L.paddingRight),L.rect.width=P[F].width,L.rect.height=P[F].height,L.setCenter(P[F].centerX,P[F].centerY),L.labelMarginLeft=0,L.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var D=L.rect.width,B=L.rect.height;L.labelWidth&&(L.labelPosHorizontal=="left"?(L.rect.x-=L.labelWidth,L.setWidth(D+L.labelWidth),L.labelMarginLeft=L.labelWidth):L.labelPosHorizontal=="center"&&L.labelWidth>D?(L.rect.x-=(L.labelWidth-D)/2,L.setWidth(L.labelWidth),L.labelMarginLeft=(L.labelWidth-D)/2):L.labelPosHorizontal=="right"&&L.setWidth(D+L.labelWidth)),L.labelHeight&&(L.labelPosVertical=="top"?(L.rect.y-=L.labelHeight,L.setHeight(B+L.labelHeight),L.labelMarginTop=L.labelHeight):L.labelPosVertical=="center"&&L.labelHeight>B?(L.rect.y-=(L.labelHeight-B)/2,L.setHeight(L.labelHeight),L.labelMarginTop=(L.labelHeight-B)/2):L.labelPosVertical=="bottom"&&L.setHeight(B+L.labelHeight))}})},M.prototype.repopulateCompounds=function(){for(var N=this.compoundOrder.length-1;N>=0;N--){var P=this.compoundOrder[N],F=P.id,L=P.paddingLeft,D=P.paddingTop,B=P.labelMarginLeft,H=P.labelMarginTop;this.adjustLocations(this.tiledMemberPack[F],P.rect.x,P.rect.y,L,D,B,H)}},M.prototype.repopulateZeroDegreeMembers=function(){var N=this,P=this.tiledZeroDegreePack;Object.keys(P).forEach(function(F){var L=N.idToDummyNode[F],D=L.paddingLeft,B=L.paddingTop,H=L.labelMarginLeft,U=L.labelMarginTop;N.adjustLocations(P[F],L.rect.x,L.rect.y,D,B,H,U)})},M.prototype.getToBeTiled=function(N){var P=N.id;if(this.toBeTiled[P]!=null)return this.toBeTiled[P];var F=N.getChild();if(F==null)return this.toBeTiled[P]=!1,!1;for(var L=F.getNodes(),D=0;D<L.length;D++){var B=L[D];if(this.getNodeDegree(B)>0)return this.toBeTiled[P]=!1,!1;if(B.getChild()==null){this.toBeTiled[B.id]=!1;continue}if(!this.getToBeTiled(B))return this.toBeTiled[P]=!1,!1}return this.toBeTiled[P]=!0,!0},M.prototype.getNodeDegree=function(N){N.id;for(var P=N.getEdges(),F=0,L=0;L<P.length;L++){var D=P[L];D.getSource().id!==D.getTarget().id&&(F=F+1)}return F},M.prototype.getNodeDegreeWithChildren=function(N){var P=this.getNodeDegree(N);if(N.getChild()==null)return P;for(var F=N.getChild().getNodes(),L=0;L<F.length;L++){var D=F[L];P+=this.getNodeDegreeWithChildren(D)}return P},M.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},M.prototype.fillCompexOrderByDFS=function(N){for(var P=0;P<N.length;P++){var F=N[P];F.getChild()!=null&&this.fillCompexOrderByDFS(F.getChild().getNodes()),this.getToBeTiled(F)&&this.compoundOrder.push(F)}},M.prototype.adjustLocations=function(N,P,F,L,D,B,H){P+=L+B,F+=D+H;for(var U=P,G=0;G<N.rows.length;G++){var W=N.rows[G];P=U;for(var ee=0,ce=0;ce<W.length;ce++){var Z=W[ce];Z.rect.x=P,Z.rect.y=F,P+=Z.rect.width+N.horizontalPadding,Z.rect.height>ee&&(ee=Z.rect.height)}F+=ee+N.verticalPadding}},M.prototype.tileCompoundMembers=function(N,P){var F=this;this.tiledMemberPack=[],Object.keys(N).forEach(function(L){var D=P[L];if(F.tiledMemberPack[L]=F.tileNodes(N[L],D.paddingLeft+D.paddingRight),D.rect.width=F.tiledMemberPack[L].width,D.rect.height=F.tiledMemberPack[L].height,D.setCenter(F.tiledMemberPack[L].centerX,F.tiledMemberPack[L].centerY),D.labelMarginLeft=0,D.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var B=D.rect.width,H=D.rect.height;D.labelWidth&&(D.labelPosHorizontal=="left"?(D.rect.x-=D.labelWidth,D.setWidth(B+D.labelWidth),D.labelMarginLeft=D.labelWidth):D.labelPosHorizontal=="center"&&D.labelWidth>B?(D.rect.x-=(D.labelWidth-B)/2,D.setWidth(D.labelWidth),D.labelMarginLeft=(D.labelWidth-B)/2):D.labelPosHorizontal=="right"&&D.setWidth(B+D.labelWidth)),D.labelHeight&&(D.labelPosVertical=="top"?(D.rect.y-=D.labelHeight,D.setHeight(H+D.labelHeight),D.labelMarginTop=D.labelHeight):D.labelPosVertical=="center"&&D.labelHeight>H?(D.rect.y-=(D.labelHeight-H)/2,D.setHeight(D.labelHeight),D.labelMarginTop=(D.labelHeight-H)/2):D.labelPosVertical=="bottom"&&D.setHeight(H+D.labelHeight))}})},M.prototype.tileNodes=function(N,P){var F=this.tileNodesByFavoringDim(N,P,!0),L=this.tileNodesByFavoringDim(N,P,!1),D=this.getOrgRatio(F),B=this.getOrgRatio(L),H;return B<D?H=L:H=F,H},M.prototype.getOrgRatio=function(N){var P=N.width,F=N.height,L=P/F;return L<1&&(L=1/L),L},M.prototype.calcIdealRowWidth=function(N,P){var F=y.TILING_PADDING_VERTICAL,L=y.TILING_PADDING_HORIZONTAL,D=N.length,B=0,H=0,U=0;N.forEach(function(oe){B+=oe.getWidth(),H+=oe.getHeight(),oe.getWidth()>U&&(U=oe.getWidth())});var G=B/D,W=H/D,ee=Math.pow(F-L,2)+4*(G+L)*(W+F)*D,ce=(L-F+Math.sqrt(ee))/(2*(G+L)),Z;P?(Z=Math.ceil(ce),Z==ce&&Z++):Z=Math.floor(ce);var J=Z*(G+L)-L;return U>J&&(J=U),J+=L*2,J},M.prototype.tileNodesByFavoringDim=function(N,P,F){var L=y.TILING_PADDING_VERTICAL,D=y.TILING_PADDING_HORIZONTAL,B=y.TILING_COMPARE_BY,H={rows:[],rowWidth:[],rowHeight:[],width:0,height:P,verticalPadding:L,horizontalPadding:D,centerX:0,centerY:0};B&&(H.idealRowWidth=this.calcIdealRowWidth(N,F));var U=function(Y){return Y.rect.width*Y.rect.height},G=function(Y,X){return U(X)-U(Y)};N.sort(function(oe,Y){var X=G;return H.idealRowWidth?(X=B,X(oe.id,Y.id)):X(oe,Y)});for(var W=0,ee=0,ce=0;ce<N.length;ce++){var Z=N[ce];W+=Z.getCenterX(),ee+=Z.getCenterY()}H.centerX=W/N.length,H.centerY=ee/N.length;for(var ce=0;ce<N.length;ce++){var Z=N[ce];if(H.rows.length==0)this.insertNodeToRow(H,Z,0,P);else if(this.canAddHorizontal(H,Z.rect.width,Z.rect.height)){var J=H.rows.length-1;H.idealRowWidth||(J=this.getShortestRowIndex(H)),this.insertNodeToRow(H,Z,J,P)}else this.insertNodeToRow(H,Z,H.rows.length,P);this.shiftToLastRow(H)}return H},M.prototype.insertNodeToRow=function(N,P,F,L){var D=L;if(F==N.rows.length){var B=[];N.rows.push(B),N.rowWidth.push(D),N.rowHeight.push(0)}var H=N.rowWidth[F]+P.rect.width;N.rows[F].length>0&&(H+=N.horizontalPadding),N.rowWidth[F]=H,N.width<H&&(N.width=H);var U=P.rect.height;F>0&&(U+=N.verticalPadding);var G=0;U>N.rowHeight[F]&&(G=N.rowHeight[F],N.rowHeight[F]=U,G=N.rowHeight[F]-G),N.height+=G,N.rows[F].push(P)},M.prototype.getShortestRowIndex=function(N){for(var P=-1,F=Number.MAX_VALUE,L=0;L<N.rows.length;L++)N.rowWidth[L]<F&&(P=L,F=N.rowWidth[L]);return P},M.prototype.getLongestRowIndex=function(N){for(var P=-1,F=Number.MIN_VALUE,L=0;L<N.rows.length;L++)N.rowWidth[L]>F&&(P=L,F=N.rowWidth[L]);return P},M.prototype.canAddHorizontal=function(N,P,F){if(N.idealRowWidth){var L=N.rows.length-1,D=N.rowWidth[L];return D+P+N.horizontalPadding<=N.idealRowWidth}var B=this.getShortestRowIndex(N);if(B<0)return!0;var H=N.rowWidth[B];if(H+N.horizontalPadding+P<=N.width)return!0;var U=0;N.rowHeight[B]<F&&B>0&&(U=F+N.verticalPadding-N.rowHeight[B]);var G;N.width-H>=P+N.horizontalPadding?G=(N.height+U)/(H+P+N.horizontalPadding):G=(N.height+U)/N.width,U=F+N.verticalPadding;var W;return N.width<P?W=(N.height+U)/P:W=(N.height+U)/N.width,W<1&&(W=1/W),G<1&&(G=1/G),G<W},M.prototype.shiftToLastRow=function(N){var P=this.getLongestRowIndex(N),F=N.rowWidth.length-1,L=N.rows[P],D=L[L.length-1],B=D.width+N.horizontalPadding;if(N.width-N.rowWidth[F]>B&&P!=F){L.splice(-1,1),N.rows[F].push(D),N.rowWidth[P]=N.rowWidth[P]-B,N.rowWidth[F]=N.rowWidth[F]+B,N.width=N.rowWidth[instance.getLongestRowIndex(N)];for(var H=Number.MIN_VALUE,U=0;U<L.length;U++)L[U].height>H&&(H=L[U].height);P>0&&(H+=N.verticalPadding);var G=N.rowHeight[P]+N.rowHeight[F];N.rowHeight[P]=H,N.rowHeight[F]<D.height+N.verticalPadding&&(N.rowHeight[F]=D.height+N.verticalPadding);var W=N.rowHeight[P]+N.rowHeight[F];N.height+=W-G,this.shiftToLastRow(N)}},M.prototype.tilingPreLayout=function(){y.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},M.prototype.tilingPostLayout=function(){y.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},M.prototype.reduceTrees=function(){for(var N=[],P=!0,F;P;){var L=this.graphManager.getAllNodes(),D=[];P=!1;for(var B=0;B<L.length;B++)if(F=L[B],F.getEdges().length==1&&!F.getEdges()[0].isInterGraph&&F.getChild()==null){if(y.PURE_INCREMENTAL){var H=F.getEdges()[0].getOtherEnd(F),U=new S(F.getCenterX()-H.getCenterX(),F.getCenterY()-H.getCenterY());D.push([F,F.getEdges()[0],F.getOwner(),U])}else D.push([F,F.getEdges()[0],F.getOwner()]);P=!0}if(P==!0){for(var G=[],W=0;W<D.length;W++)D[W][0].getEdges().length==1&&(G.push(D[W]),D[W][0].getOwner().remove(D[W][0]));N.push(G),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=N},M.prototype.growTree=function(N){for(var P=N.length,F=N[P-1],L,D=0;D<F.length;D++)L=F[D],this.findPlaceforPrunedNode(L),L[2].add(L[0]),L[2].add(L[1],L[1].source,L[1].target);N.splice(N.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},M.prototype.findPlaceforPrunedNode=function(N){var P,F,L=N[0];if(L==N[1].source?F=N[1].target:F=N[1].source,y.PURE_INCREMENTAL)L.setCenter(F.getCenterX()+N[3].getWidth(),F.getCenterY()+N[3].getHeight());else{var D=F.startX,B=F.finishX,H=F.startY,U=F.finishY,G=0,W=0,ee=0,ce=0,Z=[G,ee,W,ce];if(H>0)for(var J=D;J<=B;J++)Z[0]+=this.grid[J][H-1].length+this.grid[J][H].length-1;if(B<this.grid.length-1)for(var J=H;J<=U;J++)Z[1]+=this.grid[B+1][J].length+this.grid[B][J].length-1;if(U<this.grid[0].length-1)for(var J=D;J<=B;J++)Z[2]+=this.grid[J][U+1].length+this.grid[J][U].length-1;if(D>0)for(var J=H;J<=U;J++)Z[3]+=this.grid[D-1][J].length+this.grid[D][J].length-1;for(var oe=k.MAX_VALUE,Y,X,K=0;K<Z.length;K++)Z[K]<oe?(oe=Z[K],Y=1,X=K):Z[K]==oe&&Y++;if(Y==3&&oe==0)Z[0]==0&&Z[1]==0&&Z[2]==0?P=1:Z[0]==0&&Z[1]==0&&Z[3]==0?P=0:Z[0]==0&&Z[2]==0&&Z[3]==0?P=3:Z[1]==0&&Z[2]==0&&Z[3]==0&&(P=2);else if(Y==2&&oe==0){var z=Math.floor(Math.random()*2);Z[0]==0&&Z[1]==0?z==0?P=0:P=1:Z[0]==0&&Z[2]==0?z==0?P=0:P=2:Z[0]==0&&Z[3]==0?z==0?P=0:P=3:Z[1]==0&&Z[2]==0?z==0?P=1:P=2:Z[1]==0&&Z[3]==0?z==0?P=1:P=3:z==0?P=2:P=3}else if(Y==4&&oe==0){var z=Math.floor(Math.random()*4);P=z}else P=X;P==0?L.setCenter(F.getCenterX(),F.getCenterY()-F.getHeight()/2-x.DEFAULT_EDGE_LENGTH-L.getHeight()/2):P==1?L.setCenter(F.getCenterX()+F.getWidth()/2+x.DEFAULT_EDGE_LENGTH+L.getWidth()/2,F.getCenterY()):P==2?L.setCenter(F.getCenterX(),F.getCenterY()+F.getHeight()/2+x.DEFAULT_EDGE_LENGTH+L.getHeight()/2):L.setCenter(F.getCenterX()-F.getWidth()/2-x.DEFAULT_EDGE_LENGTH-L.getWidth()/2,F.getCenterY())}},c.exports=M},991:(c,u,h)=>{var f=h(551).FDLayoutNode,d=h(551).IMath;function p(m,y,b,x){f.call(this,m,y,b,x)}p.prototype=Object.create(f.prototype);for(var g in f)p[g]=f[g];p.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*d.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*d.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},p.prototype.propogateDisplacementToChildren=function(m,y){for(var b=this.getChild().getNodes(),x,T=0;T<b.length;T++)x=b[T],x.getChild()==null?(x.displacementX+=m,x.displacementY+=y):x.propogateDisplacementToChildren(m,y)},p.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},p.prototype.setPred1=function(m){this.pred1=m},p.prototype.getPred1=function(){return pred1},p.prototype.getPred2=function(){return pred2},p.prototype.setNext=function(m){this.next=m},p.prototype.getNext=function(){return next},p.prototype.setProcessed=function(m){this.processed=m},p.prototype.isProcessed=function(){return processed},c.exports=p},902:(c,u,h)=>{function f(b){if(Array.isArray(b)){for(var x=0,T=Array(b.length);x<b.length;x++)T[x]=b[x];return T}else return Array.from(b)}var d=h(806),p=h(551).LinkedList,g=h(551).Matrix,m=h(551).SVD;function y(){}y.handleConstraints=function(b){var x={};x.fixedNodeConstraint=b.constraints.fixedNodeConstraint,x.alignmentConstraint=b.constraints.alignmentConstraint,x.relativePlacementConstraint=b.constraints.relativePlacementConstraint;for(var T=new Map,w=new Map,E=[],S=[],C=b.getAllNodes(),k=0,O=0;O<C.length;O++){var I=C[O];I.getChild()==null&&(w.set(I.id,k++),E.push(I.getCenterX()),S.push(I.getCenterY()),T.set(I.id,I))}x.relativePlacementConstraint&&x.relativePlacementConstraint.forEach(function(Re){!Re.gap&&Re.gap!=0&&(Re.left?Re.gap=d.DEFAULT_EDGE_LENGTH+T.get(Re.left).getWidth()/2+T.get(Re.right).getWidth()/2:Re.gap=d.DEFAULT_EDGE_LENGTH+T.get(Re.top).getHeight()/2+T.get(Re.bottom).getHeight()/2)});var _=function(ie,pe){return{x:ie.x-pe.x,y:ie.y-pe.y}},R=function(ie){var pe=0,xe=0;return ie.forEach(function(ve){pe+=E[w.get(ve)],xe+=S[w.get(ve)]}),{x:pe/ie.size,y:xe/ie.size}},M=function(ie,pe,xe,ve,Ee){function ke(qe,je){var ht=new Set(qe),Ke=!0,it=!1,Pt=void 0;try{for(var at=je[Symbol.iterator](),Qe;!(Ke=(Qe=at.next()).done);Ke=!0){var pt=Qe.value;ht.add(pt)}}catch(Ot){it=!0,Pt=Ot}finally{try{!Ke&&at.return&&at.return()}finally{if(it)throw Pt}}return ht}var Pe=new Map;ie.forEach(function(qe,je){Pe.set(je,0)}),ie.forEach(function(qe,je){qe.forEach(function(ht){Pe.set(ht.id,Pe.get(ht.id)+1)})});var Oe=new Map,Ye=new Map,Je=new p;Pe.forEach(function(qe,je){qe==0?(Je.push(je),xe||(pe=="horizontal"?Oe.set(je,w.has(je)?E[w.get(je)]:ve.get(je)):Oe.set(je,w.has(je)?S[w.get(je)]:ve.get(je)))):Oe.set(je,Number.NEGATIVE_INFINITY),xe&&Ye.set(je,new Set([je]))}),xe&&Ee.forEach(function(qe){var je=[];if(qe.forEach(function(it){xe.has(it)&&je.push(it)}),je.length>0){var ht=0;je.forEach(function(it){pe=="horizontal"?(Oe.set(it,w.has(it)?E[w.get(it)]:ve.get(it)),ht+=Oe.get(it)):(Oe.set(it,w.has(it)?S[w.get(it)]:ve.get(it)),ht+=Oe.get(it))}),ht=ht/je.length,qe.forEach(function(it){xe.has(it)||Oe.set(it,ht)})}else{var Ke=0;qe.forEach(function(it){pe=="horizontal"?Ke+=w.has(it)?E[w.get(it)]:ve.get(it):Ke+=w.has(it)?S[w.get(it)]:ve.get(it)}),Ke=Ke/qe.length,qe.forEach(function(it){Oe.set(it,Ke)})}});for(var Ct=function(){var je=Je.shift(),ht=ie.get(je);ht.forEach(function(Ke){if(Oe.get(Ke.id)<Oe.get(je)+Ke.gap)if(xe&&xe.has(Ke.id)){var it=void 0;if(pe=="horizontal"?it=w.has(Ke.id)?E[w.get(Ke.id)]:ve.get(Ke.id):it=w.has(Ke.id)?S[w.get(Ke.id)]:ve.get(Ke.id),Oe.set(Ke.id,it),it<Oe.get(je)+Ke.gap){var Pt=Oe.get(je)+Ke.gap-it;Ye.get(je).forEach(function(at){Oe.set(at,Oe.get(at)-Pt)})}}else Oe.set(Ke.id,Oe.get(je)+Ke.gap);Pe.set(Ke.id,Pe.get(Ke.id)-1),Pe.get(Ke.id)==0&&Je.push(Ke.id),xe&&Ye.set(Ke.id,ke(Ye.get(je),Ye.get(Ke.id)))})};Je.length!=0;)Ct();if(xe){var dt=new Set;ie.forEach(function(qe,je){qe.length==0&&dt.add(je)});var ct=[];Ye.forEach(function(qe,je){if(dt.has(je)){var ht=!1,Ke=!0,it=!1,Pt=void 0;try{for(var at=qe[Symbol.iterator](),Qe;!(Ke=(Qe=at.next()).done);Ke=!0){var pt=Qe.value;xe.has(pt)&&(ht=!0)}}catch(tr){it=!0,Pt=tr}finally{try{!Ke&&at.return&&at.return()}finally{if(it)throw Pt}}if(!ht){var Ot=!1,vt=void 0;ct.forEach(function(tr,$r){tr.has([].concat(f(qe))[0])&&(Ot=!0,vt=$r)}),Ot?qe.forEach(function(tr){ct[vt].add(tr)}):ct.push(new Set(qe))}}}),ct.forEach(function(qe,je){var ht=Number.POSITIVE_INFINITY,Ke=Number.POSITIVE_INFINITY,it=Number.NEGATIVE_INFINITY,Pt=Number.NEGATIVE_INFINITY,at=!0,Qe=!1,pt=void 0;try{for(var Ot=qe[Symbol.iterator](),vt;!(at=(vt=Ot.next()).done);at=!0){var tr=vt.value,$r=void 0;pe=="horizontal"?$r=w.has(tr)?E[w.get(tr)]:ve.get(tr):$r=w.has(tr)?S[w.get(tr)]:ve.get(tr);var sr=Oe.get(tr);$r<ht&&(ht=$r),$r>it&&(it=$r),sr<Ke&&(Ke=sr),sr>Pt&&(Pt=sr)}}catch(et){Qe=!0,pt=et}finally{try{!at&&Ot.return&&Ot.return()}finally{if(Qe)throw pt}}var Kn=(ht+it)/2-(Ke+Pt)/2,ln=!0,En=!1,Sr=void 0;try{for(var li=qe[Symbol.iterator](),At;!(ln=(At=li.next()).done);ln=!0){var Fe=At.value;Oe.set(Fe,Oe.get(Fe)+Kn)}}catch(et){En=!0,Sr=et}finally{try{!ln&&li.return&&li.return()}finally{if(En)throw Sr}}})}return Oe},$=function(ie){var pe=0,xe=0,ve=0,Ee=0;if(ie.forEach(function(Ye){Ye.left?E[w.get(Ye.left)]-E[w.get(Ye.right)]>=0?pe++:xe++:S[w.get(Ye.top)]-S[w.get(Ye.bottom)]>=0?ve++:Ee++}),pe>xe&&ve>Ee)for(var ke=0;ke<w.size;ke++)E[ke]=-1*E[ke],S[ke]=-1*S[ke];else if(pe>xe)for(var Pe=0;Pe<w.size;Pe++)E[Pe]=-1*E[Pe];else if(ve>Ee)for(var Oe=0;Oe<w.size;Oe++)S[Oe]=-1*S[Oe]},N=function(ie){var pe=[],xe=new p,ve=new Set,Ee=0;return ie.forEach(function(ke,Pe){if(!ve.has(Pe)){pe[Ee]=[];var Oe=Pe;for(xe.push(Oe),ve.add(Oe),pe[Ee].push(Oe);xe.length!=0;){Oe=xe.shift();var Ye=ie.get(Oe);Ye.forEach(function(Je){ve.has(Je.id)||(xe.push(Je.id),ve.add(Je.id),pe[Ee].push(Je.id))})}Ee++}}),pe},P=function(ie){var pe=new Map;return ie.forEach(function(xe,ve){pe.set(ve,[])}),ie.forEach(function(xe,ve){xe.forEach(function(Ee){pe.get(ve).push(Ee),pe.get(Ee.id).push({id:ve,gap:Ee.gap,direction:Ee.direction})})}),pe},F=function(ie){var pe=new Map;return ie.forEach(function(xe,ve){pe.set(ve,[])}),ie.forEach(function(xe,ve){xe.forEach(function(Ee){pe.get(Ee.id).push({id:ve,gap:Ee.gap,direction:Ee.direction})})}),pe},L=[],D=[],B=!1,H=!1,U=new Set,G=new Map,W=new Map,ee=[];if(x.fixedNodeConstraint&&x.fixedNodeConstraint.forEach(function(Re){U.add(Re.nodeId)}),x.relativePlacementConstraint&&(x.relativePlacementConstraint.forEach(function(Re){Re.left?(G.has(Re.left)?G.get(Re.left).push({id:Re.right,gap:Re.gap,direction:"horizontal"}):G.set(Re.left,[{id:Re.right,gap:Re.gap,direction:"horizontal"}]),G.has(Re.right)||G.set(Re.right,[])):(G.has(Re.top)?G.get(Re.top).push({id:Re.bottom,gap:Re.gap,direction:"vertical"}):G.set(Re.top,[{id:Re.bottom,gap:Re.gap,direction:"vertical"}]),G.has(Re.bottom)||G.set(Re.bottom,[]))}),W=P(G),ee=N(W)),d.TRANSFORM_ON_CONSTRAINT_HANDLING){if(x.fixedNodeConstraint&&x.fixedNodeConstraint.length>1)x.fixedNodeConstraint.forEach(function(Re,ie){L[ie]=[Re.position.x,Re.position.y],D[ie]=[E[w.get(Re.nodeId)],S[w.get(Re.nodeId)]]}),B=!0;else if(x.alignmentConstraint)(function(){var Re=0;if(x.alignmentConstraint.vertical){for(var ie=x.alignmentConstraint.vertical,pe=function(Oe){var Ye=new Set;ie[Oe].forEach(function(dt){Ye.add(dt)});var Je=new Set([].concat(f(Ye)).filter(function(dt){return U.has(dt)})),Ct=void 0;Je.size>0?Ct=E[w.get(Je.values().next().value)]:Ct=R(Ye).x,ie[Oe].forEach(function(dt){L[Re]=[Ct,S[w.get(dt)]],D[Re]=[E[w.get(dt)],S[w.get(dt)]],Re++})},xe=0;xe<ie.length;xe++)pe(xe);B=!0}if(x.alignmentConstraint.horizontal){for(var ve=x.alignmentConstraint.horizontal,Ee=function(Oe){var Ye=new Set;ve[Oe].forEach(function(dt){Ye.add(dt)});var Je=new Set([].concat(f(Ye)).filter(function(dt){return U.has(dt)})),Ct=void 0;Je.size>0?Ct=E[w.get(Je.values().next().value)]:Ct=R(Ye).y,ve[Oe].forEach(function(dt){L[Re]=[E[w.get(dt)],Ct],D[Re]=[E[w.get(dt)],S[w.get(dt)]],Re++})},ke=0;ke<ve.length;ke++)Ee(ke);B=!0}x.relativePlacementConstraint&&(H=!0)})();else if(x.relativePlacementConstraint){for(var ce=0,Z=0,J=0;J<ee.length;J++)ee[J].length>ce&&(ce=ee[J].length,Z=J);if(ce<W.size/2)$(x.relativePlacementConstraint),B=!1,H=!1;else{var oe=new Map,Y=new Map,X=[];ee[Z].forEach(function(Re){G.get(Re).forEach(function(ie){ie.direction=="horizontal"?(oe.has(Re)?oe.get(Re).push(ie):oe.set(Re,[ie]),oe.has(ie.id)||oe.set(ie.id,[]),X.push({left:Re,right:ie.id})):(Y.has(Re)?Y.get(Re).push(ie):Y.set(Re,[ie]),Y.has(ie.id)||Y.set(ie.id,[]),X.push({top:Re,bottom:ie.id}))})}),$(X),H=!1;var K=M(oe,"horizontal"),z=M(Y,"vertical");ee[Z].forEach(function(Re,ie){D[ie]=[E[w.get(Re)],S[w.get(Re)]],L[ie]=[],K.has(Re)?L[ie][0]=K.get(Re):L[ie][0]=E[w.get(Re)],z.has(Re)?L[ie][1]=z.get(Re):L[ie][1]=S[w.get(Re)]}),B=!0}}if(B){for(var j=void 0,te=g.transpose(L),re=g.transpose(D),Se=0;Se<te.length;Se++)te[Se]=g.multGamma(te[Se]),re[Se]=g.multGamma(re[Se]);var ue=g.multMat(te,g.transpose(re)),se=m.svd(ue);j=g.multMat(se.V,g.transpose(se.U));for(var fe=0;fe<w.size;fe++){var ye=[E[fe],S[fe]],he=[j[0][0],j[1][0]],Ae=[j[0][1],j[1][1]];E[fe]=g.dotProduct(ye,he),S[fe]=g.dotProduct(ye,Ae)}H&&$(x.relativePlacementConstraint)}}if(d.ENFORCE_CONSTRAINTS){if(x.fixedNodeConstraint&&x.fixedNodeConstraint.length>0){var Ce={x:0,y:0};x.fixedNodeConstraint.forEach(function(Re,ie){var pe={x:E[w.get(Re.nodeId)],y:S[w.get(Re.nodeId)]},xe=Re.position,ve=_(xe,pe);Ce.x+=ve.x,Ce.y+=ve.y}),Ce.x/=x.fixedNodeConstraint.length,Ce.y/=x.fixedNodeConstraint.length,E.forEach(function(Re,ie){E[ie]+=Ce.x}),S.forEach(function(Re,ie){S[ie]+=Ce.y}),x.fixedNodeConstraint.forEach(function(Re){E[w.get(Re.nodeId)]=Re.position.x,S[w.get(Re.nodeId)]=Re.position.y})}if(x.alignmentConstraint){if(x.alignmentConstraint.vertical)for(var Ie=x.alignmentConstraint.vertical,Le=function(ie){var pe=new Set;Ie[ie].forEach(function(Ee){pe.add(Ee)});var xe=new Set([].concat(f(pe)).filter(function(Ee){return U.has(Ee)})),ve=void 0;xe.size>0?ve=E[w.get(xe.values().next().value)]:ve=R(pe).x,pe.forEach(function(Ee){U.has(Ee)||(E[w.get(Ee)]=ve)})},ae=0;ae<Ie.length;ae++)Le(ae);if(x.alignmentConstraint.horizontal)for(var q=x.alignmentConstraint.horizontal,ge=function(ie){var pe=new Set;q[ie].forEach(function(Ee){pe.add(Ee)});var xe=new Set([].concat(f(pe)).filter(function(Ee){return U.has(Ee)})),ve=void 0;xe.size>0?ve=S[w.get(xe.values().next().value)]:ve=R(pe).y,pe.forEach(function(Ee){U.has(Ee)||(S[w.get(Ee)]=ve)})},le=0;le<q.length;le++)ge(le)}x.relativePlacementConstraint&&function(){var Re=new Map,ie=new Map,pe=new Map,xe=new Map,ve=new Map,Ee=new Map,ke=new Set,Pe=new Set;if(U.forEach(function(Vt){ke.add(Vt),Pe.add(Vt)}),x.alignmentConstraint){if(x.alignmentConstraint.vertical)for(var Oe=x.alignmentConstraint.vertical,Ye=function(we){pe.set("dummy"+we,[]),Oe[we].forEach(function(Ar){Re.set(Ar,"dummy"+we),pe.get("dummy"+we).push(Ar),U.has(Ar)&&ke.add("dummy"+we)}),ve.set("dummy"+we,E[w.get(Oe[we][0])])},Je=0;Je<Oe.length;Je++)Ye(Je);if(x.alignmentConstraint.horizontal)for(var Ct=x.alignmentConstraint.horizontal,dt=function(we){xe.set("dummy"+we,[]),Ct[we].forEach(function(Ar){ie.set(Ar,"dummy"+we),xe.get("dummy"+we).push(Ar),U.has(Ar)&&Pe.add("dummy"+we)}),Ee.set("dummy"+we,S[w.get(Ct[we][0])])},ct=0;ct<Ct.length;ct++)dt(ct)}var qe=new Map,je=new Map,ht=function(we){G.get(we).forEach(function(Ar){var _e=void 0,An=void 0;Ar.direction=="horizontal"?(_e=Re.get(we)?Re.get(we):we,Re.get(Ar.id)?An={id:Re.get(Ar.id),gap:Ar.gap,direction:Ar.direction}:An=Ar,qe.has(_e)?qe.get(_e).push(An):qe.set(_e,[An]),qe.has(An.id)||qe.set(An.id,[])):(_e=ie.get(we)?ie.get(we):we,ie.get(Ar.id)?An={id:ie.get(Ar.id),gap:Ar.gap,direction:Ar.direction}:An=Ar,je.has(_e)?je.get(_e).push(An):je.set(_e,[An]),je.has(An.id)||je.set(An.id,[]))})},Ke=!0,it=!1,Pt=void 0;try{for(var at=G.keys()[Symbol.iterator](),Qe;!(Ke=(Qe=at.next()).done);Ke=!0){var pt=Qe.value;ht(pt)}}catch(Vt){it=!0,Pt=Vt}finally{try{!Ke&&at.return&&at.return()}finally{if(it)throw Pt}}var Ot=P(qe),vt=P(je),tr=N(Ot),$r=N(vt),sr=F(qe),Kn=F(je),ln=[],En=[];tr.forEach(function(Vt,we){ln[we]=[],Vt.forEach(function(Ar){sr.get(Ar).length==0&&ln[we].push(Ar)})}),$r.forEach(function(Vt,we){En[we]=[],Vt.forEach(function(Ar){Kn.get(Ar).length==0&&En[we].push(Ar)})});var Sr=M(qe,"horizontal",ke,ve,ln),li=M(je,"vertical",Pe,Ee,En),At=function(we){pe.get(we)?pe.get(we).forEach(function(Ar){E[w.get(Ar)]=Sr.get(we)}):E[w.get(we)]=Sr.get(we)},Fe=!0,et=!1,kt=void 0;try{for(var fr=Sr.keys()[Symbol.iterator](),rn;!(Fe=(rn=fr.next()).done);Fe=!0){var dn=rn.value;At(dn)}}catch(Vt){et=!0,kt=Vt}finally{try{!Fe&&fr.return&&fr.return()}finally{if(et)throw kt}}var _n=function(we){xe.get(we)?xe.get(we).forEach(function(Ar){S[w.get(Ar)]=li.get(we)}):S[w.get(we)]=li.get(we)},Sn=!0,xt=!1,Et=void 0;try{for(var Yt=li.keys()[Symbol.iterator](),ot;!(Sn=(ot=Yt.next()).done);Sn=!0){var dn=ot.value;_n(dn)}}catch(Vt){xt=!0,Et=Vt}finally{try{!Sn&&Yt.return&&Yt.return()}finally{if(xt)throw Et}}}()}for(var Te=0;Te<C.length;Te++){var ne=C[Te];ne.getChild()==null&&ne.setCenter(E[w.get(ne.id)],S[w.get(ne.id)])}},c.exports=y},551:c=>{c.exports=r}},a={};function o(c){var u=a[c];if(u!==void 0)return u.exports;var h=a[c]={exports:{}};return n[c](h,h.exports,o),h.exports}var l=o(45);return l})()})}(j7)),j7.exports}(function(e,t){(function(n,a){e.exports=a(MNt())})(As,function(r){return(()=>{var n={658:c=>{c.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var h=arguments.length,f=Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];return f.forEach(function(p){Object.keys(p).forEach(function(g){return u[g]=p[g]})}),u}},548:(c,u,h)=>{var f=function(){function g(m,y){var b=[],x=!0,T=!1,w=void 0;try{for(var E=m[Symbol.iterator](),S;!(x=(S=E.next()).done)&&(b.push(S.value),!(y&&b.length===y));x=!0);}catch(C){T=!0,w=C}finally{try{!x&&E.return&&E.return()}finally{if(T)throw w}}return b}return function(m,y){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=h(140).layoutBase.LinkedList,p={};p.getTopMostNodes=function(g){for(var m={},y=0;y<g.length;y++)m[g[y].id()]=!0;var b=g.filter(function(x,T){typeof x=="number"&&(x=T);for(var w=x.parent()[0];w!=null;){if(m[w.id()])return!1;w=w.parent()[0]}return!0});return b},p.connectComponents=function(g,m,y,b){var x=new d,T=new Set,w=[],E=void 0,S=void 0,C=void 0,k=!1,O=1,I=[],_=[],R=function(){var $=g.collection();_.push($);var N=y[0],P=g.collection();P.merge(N).merge(N.descendants().intersection(m)),w.push(N),P.forEach(function(D){x.push(D),T.add(D),$.merge(D)});for(var F=function(){N=x.shift();var B=g.collection();N.neighborhood().nodes().forEach(function(W){m.intersection(N.edgesWith(W)).length>0&&B.merge(W)});for(var H=0;H<B.length;H++){var U=B[H];if(E=y.intersection(U.union(U.ancestors())),E!=null&&!T.has(E[0])){var G=E.union(E.descendants());G.forEach(function(W){x.push(W),T.add(W),$.merge(W),y.has(W)&&w.push(W)})}}};x.length!=0;)F();if($.forEach(function(D){m.intersection(D.connectedEdges()).forEach(function(B){$.has(B.source())&&$.has(B.target())&&$.merge(B)})}),w.length==y.length&&(k=!0),!k||k&&O>1){S=w[0],C=S.connectedEdges().length,w.forEach(function(D){D.connectedEdges().length<C&&(C=D.connectedEdges().length,S=D)}),I.push(S.id());var L=g.collection();L.merge(w[0]),w.forEach(function(D){L.merge(D)}),w=[],y=y.difference(L),O++}};do R();while(!k);return b&&I.length>0&&b.set("dummy"+(b.size+1),I),_},p.relocateComponent=function(g,m,y){if(!y.fixedNodeConstraint){var b=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if(y.quality=="draft"){var E=!0,S=!1,C=void 0;try{for(var k=m.nodeIndexes[Symbol.iterator](),O;!(E=(O=k.next()).done);E=!0){var I=O.value,_=f(I,2),R=_[0],M=_[1],$=y.cy.getElementById(R);if($){var N=$.boundingBox(),P=m.xCoords[M]-N.w/2,F=m.xCoords[M]+N.w/2,L=m.yCoords[M]-N.h/2,D=m.yCoords[M]+N.h/2;P<b&&(b=P),F>x&&(x=F),L<T&&(T=L),D>w&&(w=D)}}}catch(W){S=!0,C=W}finally{try{!E&&k.return&&k.return()}finally{if(S)throw C}}var B=g.x-(x+b)/2,H=g.y-(w+T)/2;m.xCoords=m.xCoords.map(function(W){return W+B}),m.yCoords=m.yCoords.map(function(W){return W+H})}else{Object.keys(m).forEach(function(W){var ee=m[W],ce=ee.getRect().x,Z=ee.getRect().x+ee.getRect().width,J=ee.getRect().y,oe=ee.getRect().y+ee.getRect().height;ce<b&&(b=ce),Z>x&&(x=Z),J<T&&(T=J),oe>w&&(w=oe)});var U=g.x-(x+b)/2,G=g.y-(w+T)/2;Object.keys(m).forEach(function(W){var ee=m[W];ee.setCenter(ee.getCenterX()+U,ee.getCenterY()+G)})}}},p.calcBoundingBox=function(g,m,y,b){for(var x=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,S=void 0,C=void 0,k=void 0,O=void 0,I=g.descendants().not(":parent"),_=I.length,R=0;R<_;R++){var M=I[R];S=m[b.get(M.id())]-M.width()/2,C=m[b.get(M.id())]+M.width()/2,k=y[b.get(M.id())]-M.height()/2,O=y[b.get(M.id())]+M.height()/2,x>S&&(x=S),T<C&&(T=C),w>k&&(w=k),E<O&&(E=O)}var $={};return $.topLeftX=x,$.topLeftY=w,$.width=T-x,$.height=E-w,$},p.calcParentsWithoutChildren=function(g,m){var y=g.collection();return m.nodes(":parent").forEach(function(b){var x=!1;b.children().forEach(function(T){T.css("display")!="none"&&(x=!0)}),x||y.merge(b)}),y},c.exports=p},816:(c,u,h)=>{var f=h(548),d=h(140).CoSELayout,p=h(140).CoSENode,g=h(140).layoutBase.PointD,m=h(140).layoutBase.DimensionD,y=h(140).layoutBase.LayoutConstants,b=h(140).layoutBase.FDLayoutConstants,x=h(140).CoSEConstants,T=function(E,S){var C=E.cy,k=E.eles,O=k.nodes(),I=k.edges(),_=void 0,R=void 0,M=void 0,$={};E.randomize&&(_=S.nodeIndexes,R=S.xCoords,M=S.yCoords);var N=function(W){return typeof W=="function"},P=function(W,ee){return N(W)?W(ee):W},F=f.calcParentsWithoutChildren(C,k),L=function G(W,ee,ce,Z){for(var J=ee.length,oe=0;oe<J;oe++){var Y=ee[oe],X=null;Y.intersection(F).length==0&&(X=Y.children());var K=void 0,z=Y.layoutDimensions({nodeDimensionsIncludeLabels:Z.nodeDimensionsIncludeLabels});if(Y.outerWidth()!=null&&Y.outerHeight()!=null)if(Z.randomize)if(!Y.isParent())K=W.add(new p(ce.graphManager,new g(R[_.get(Y.id())]-z.w/2,M[_.get(Y.id())]-z.h/2),new m(parseFloat(z.w),parseFloat(z.h))));else{var j=f.calcBoundingBox(Y,R,M,_);Y.intersection(F).length==0?K=W.add(new p(ce.graphManager,new g(j.topLeftX,j.topLeftY),new m(j.width,j.height))):K=W.add(new p(ce.graphManager,new g(j.topLeftX,j.topLeftY),new m(parseFloat(z.w),parseFloat(z.h))))}else K=W.add(new p(ce.graphManager,new g(Y.position("x")-z.w/2,Y.position("y")-z.h/2),new m(parseFloat(z.w),parseFloat(z.h))));else K=W.add(new p(this.graphManager));if(K.id=Y.data("id"),K.nodeRepulsion=P(Z.nodeRepulsion,Y),K.paddingLeft=parseInt(Y.css("padding")),K.paddingTop=parseInt(Y.css("padding")),K.paddingRight=parseInt(Y.css("padding")),K.paddingBottom=parseInt(Y.css("padding")),Z.nodeDimensionsIncludeLabels&&(K.labelWidth=Y.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,K.labelHeight=Y.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,K.labelPosVertical=Y.css("text-valign"),K.labelPosHorizontal=Y.css("text-halign")),$[Y.data("id")]=K,isNaN(K.rect.x)&&(K.rect.x=0),isNaN(K.rect.y)&&(K.rect.y=0),X!=null&&X.length>0){var te=void 0;te=ce.getGraphManager().add(ce.newGraph(),K),G(te,X,ce,Z)}}},D=function(W,ee,ce){for(var Z=0,J=0,oe=0;oe<ce.length;oe++){var Y=ce[oe],X=$[Y.data("source")],K=$[Y.data("target")];if(X&&K&&X!==K&&X.getEdgesBetween(K).length==0){var z=ee.add(W.newEdge(),X,K);z.id=Y.id(),z.idealLength=P(E.idealEdgeLength,Y),z.edgeElasticity=P(E.edgeElasticity,Y),Z+=z.idealLength,J++}}E.idealEdgeLength!=null&&(J>0?x.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=Z/J:N(E.idealEdgeLength)?x.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=50:x.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=E.idealEdgeLength,x.MIN_REPULSION_DIST=b.MIN_REPULSION_DIST=b.DEFAULT_EDGE_LENGTH/10,x.DEFAULT_RADIAL_SEPARATION=b.DEFAULT_EDGE_LENGTH)},B=function(W,ee){ee.fixedNodeConstraint&&(W.constraints.fixedNodeConstraint=ee.fixedNodeConstraint),ee.alignmentConstraint&&(W.constraints.alignmentConstraint=ee.alignmentConstraint),ee.relativePlacementConstraint&&(W.constraints.relativePlacementConstraint=ee.relativePlacementConstraint)};E.nestingFactor!=null&&(x.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(x.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(x.MAX_ITERATIONS=b.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(x.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(x.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(x.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.tilingCompareBy!=null&&(x.TILING_COMPARE_BY=E.tilingCompareBy),E.quality=="proof"?y.QUALITY=2:y.QUALITY=0,x.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,x.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!E.randomize,x.ANIMATE=b.ANIMATE=y.ANIMATE=E.animate,x.TILE=E.tile,x.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,x.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal,x.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!0,x.PURE_INCREMENTAL=!E.randomize,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=E.uniformNodeDimensions,E.step=="transformed"&&(x.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,x.ENFORCE_CONSTRAINTS=!1,x.APPLY_LAYOUT=!1),E.step=="enforced"&&(x.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,x.ENFORCE_CONSTRAINTS=!0,x.APPLY_LAYOUT=!1),E.step=="cose"&&(x.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,x.ENFORCE_CONSTRAINTS=!1,x.APPLY_LAYOUT=!0),E.step=="all"&&(E.randomize?x.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:x.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,x.ENFORCE_CONSTRAINTS=!0,x.APPLY_LAYOUT=!0),E.fixedNodeConstraint||E.alignmentConstraint||E.relativePlacementConstraint?x.TREE_REDUCTION_ON_INCREMENTAL=!1:x.TREE_REDUCTION_ON_INCREMENTAL=!0;var H=new d,U=H.newGraphManager();return L(U.addRoot(),f.getTopMostNodes(O),H,E),D(H,U,I),B(H,E),H.runLayout(),$};c.exports={coseLayout:T}},212:(c,u,h)=>{var f=function(){function E(S,C){for(var k=0;k<C.length;k++){var O=C[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,C,k){return C&&E(S.prototype,C),k&&E(S,k),S}}();function d(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}var p=h(658),g=h(548),m=h(657),y=m.spectralLayout,b=h(816),x=b.coseLayout,T=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(S){return 4500},idealEdgeLength:function(S){return 50},edgeElasticity:function(S){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),w=function(){function E(S){d(this,E),this.options=p({},T,S)}return f(E,[{key:"run",value:function(){var C=this,k=this.options,O=k.cy,I=k.eles,_=[],R=[],M=void 0,$=[];k.fixedNodeConstraint&&(!Array.isArray(k.fixedNodeConstraint)||k.fixedNodeConstraint.length==0)&&(k.fixedNodeConstraint=void 0),k.alignmentConstraint&&(k.alignmentConstraint.vertical&&(!Array.isArray(k.alignmentConstraint.vertical)||k.alignmentConstraint.vertical.length==0)&&(k.alignmentConstraint.vertical=void 0),k.alignmentConstraint.horizontal&&(!Array.isArray(k.alignmentConstraint.horizontal)||k.alignmentConstraint.horizontal.length==0)&&(k.alignmentConstraint.horizontal=void 0)),k.relativePlacementConstraint&&(!Array.isArray(k.relativePlacementConstraint)||k.relativePlacementConstraint.length==0)&&(k.relativePlacementConstraint=void 0);var N=k.fixedNodeConstraint||k.alignmentConstraint||k.relativePlacementConstraint;N&&(k.tile=!1,k.packComponents=!1);var P=void 0,F=!1;if(O.layoutUtilities&&k.packComponents&&(P=O.layoutUtilities("get"),P||(P=O.layoutUtilities()),F=!0),I.nodes().length>0)if(F){var B=g.getTopMostNodes(k.eles.nodes());if(M=g.connectComponents(O,k.eles,B),M.forEach(function(ue){var se=ue.boundingBox();$.push({x:se.x1+se.w/2,y:se.y1+se.h/2})}),k.randomize&&M.forEach(function(ue){k.eles=ue,_.push(y(k))}),k.quality=="default"||k.quality=="proof"){var H=O.collection();if(k.tile){var U=new Map,G=[],W=[],ee=0,ce={nodeIndexes:U,xCoords:G,yCoords:W},Z=[];if(M.forEach(function(ue,se){ue.edges().length==0&&(ue.nodes().forEach(function(fe,ye){H.merge(ue.nodes()[ye]),fe.isParent()||(ce.nodeIndexes.set(ue.nodes()[ye].id(),ee++),ce.xCoords.push(ue.nodes()[0].position().x),ce.yCoords.push(ue.nodes()[0].position().y))}),Z.push(se))}),H.length>1){var J=H.boundingBox();$.push({x:J.x1+J.w/2,y:J.y1+J.h/2}),M.push(H),_.push(ce);for(var oe=Z.length-1;oe>=0;oe--)M.splice(Z[oe],1),_.splice(Z[oe],1),$.splice(Z[oe],1)}}M.forEach(function(ue,se){k.eles=ue,R.push(x(k,_[se])),g.relocateComponent($[se],R[se],k)})}else M.forEach(function(ue,se){g.relocateComponent($[se],_[se],k)});var Y=new Set;if(M.length>1){var X=[],K=I.filter(function(ue){return ue.css("display")=="none"});M.forEach(function(ue,se){var fe=void 0;if(k.quality=="draft"&&(fe=_[se].nodeIndexes),ue.nodes().not(K).length>0){var ye={};ye.edges=[],ye.nodes=[];var he=void 0;ue.nodes().not(K).forEach(function(Ae){if(k.quality=="draft")if(!Ae.isParent())he=fe.get(Ae.id()),ye.nodes.push({x:_[se].xCoords[he]-Ae.boundingbox().w/2,y:_[se].yCoords[he]-Ae.boundingbox().h/2,width:Ae.boundingbox().w,height:Ae.boundingbox().h});else{var Ce=g.calcBoundingBox(Ae,_[se].xCoords,_[se].yCoords,fe);ye.nodes.push({x:Ce.topLeftX,y:Ce.topLeftY,width:Ce.width,height:Ce.height})}else R[se][Ae.id()]&&ye.nodes.push({x:R[se][Ae.id()].getLeft(),y:R[se][Ae.id()].getTop(),width:R[se][Ae.id()].getWidth(),height:R[se][Ae.id()].getHeight()})}),ue.edges().forEach(function(Ae){var Ce=Ae.source(),Ie=Ae.target();if(Ce.css("display")!="none"&&Ie.css("display")!="none")if(k.quality=="draft"){var Le=fe.get(Ce.id()),ae=fe.get(Ie.id()),q=[],ge=[];if(Ce.isParent()){var le=g.calcBoundingBox(Ce,_[se].xCoords,_[se].yCoords,fe);q.push(le.topLeftX+le.width/2),q.push(le.topLeftY+le.height/2)}else q.push(_[se].xCoords[Le]),q.push(_[se].yCoords[Le]);if(Ie.isParent()){var Te=g.calcBoundingBox(Ie,_[se].xCoords,_[se].yCoords,fe);ge.push(Te.topLeftX+Te.width/2),ge.push(Te.topLeftY+Te.height/2)}else ge.push(_[se].xCoords[ae]),ge.push(_[se].yCoords[ae]);ye.edges.push({startX:q[0],startY:q[1],endX:ge[0],endY:ge[1]})}else R[se][Ce.id()]&&R[se][Ie.id()]&&ye.edges.push({startX:R[se][Ce.id()].getCenterX(),startY:R[se][Ce.id()].getCenterY(),endX:R[se][Ie.id()].getCenterX(),endY:R[se][Ie.id()].getCenterY()})}),ye.nodes.length>0&&(X.push(ye),Y.add(se))}});var z=P.packComponents(X,k.randomize).shifts;if(k.quality=="draft")_.forEach(function(ue,se){var fe=ue.xCoords.map(function(he){return he+z[se].dx}),ye=ue.yCoords.map(function(he){return he+z[se].dy});ue.xCoords=fe,ue.yCoords=ye});else{var j=0;Y.forEach(function(ue){Object.keys(R[ue]).forEach(function(se){var fe=R[ue][se];fe.setCenter(fe.getCenterX()+z[j].dx,fe.getCenterY()+z[j].dy)}),j++})}}}else{var L=k.eles.boundingBox();if($.push({x:L.x1+L.w/2,y:L.y1+L.h/2}),k.randomize){var D=y(k);_.push(D)}k.quality=="default"||k.quality=="proof"?(R.push(x(k,_[0])),g.relocateComponent($[0],R[0],k)):g.relocateComponent($[0],_[0],k)}var te=function(se,fe){if(k.quality=="default"||k.quality=="proof"){typeof se=="number"&&(se=fe);var ye=void 0,he=void 0,Ae=se.data("id");return R.forEach(function(Ie){Ae in Ie&&(ye={x:Ie[Ae].getRect().getCenterX(),y:Ie[Ae].getRect().getCenterY()},he=Ie[Ae])}),k.nodeDimensionsIncludeLabels&&(he.labelWidth&&(he.labelPosHorizontal=="left"?ye.x+=he.labelWidth/2:he.labelPosHorizontal=="right"&&(ye.x-=he.labelWidth/2)),he.labelHeight&&(he.labelPosVertical=="top"?ye.y+=he.labelHeight/2:he.labelPosVertical=="bottom"&&(ye.y-=he.labelHeight/2))),ye==null&&(ye={x:se.position("x"),y:se.position("y")}),{x:ye.x,y:ye.y}}else{var Ce=void 0;return _.forEach(function(Ie){var Le=Ie.nodeIndexes.get(se.id());Le!=null&&(Ce={x:Ie.xCoords[Le],y:Ie.yCoords[Le]})}),Ce==null&&(Ce={x:se.position("x"),y:se.position("y")}),{x:Ce.x,y:Ce.y}}};if(k.quality=="default"||k.quality=="proof"||k.randomize){var re=g.calcParentsWithoutChildren(O,I),Se=I.filter(function(ue){return ue.css("display")=="none"});k.eles=I.not(Se),I.nodes().not(":parent").not(Se).layoutPositions(C,k,te),re.length>0&&re.forEach(function(ue){ue.position(te(ue))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),E}();c.exports=w},657:(c,u,h)=>{var f=h(548),d=h(140).layoutBase.Matrix,p=h(140).layoutBase.SVD,g=function(y){var b=y.cy,x=y.eles,T=x.nodes(),w=x.nodes(":parent"),E=new Map,S=new Map,C=new Map,k=[],O=[],I=[],_=[],R=[],M=[],$=[],N=[],P=void 0,F=1e8,L=1e-9,D=y.piTol,B=y.samplingType,H=y.nodeSeparation,U=void 0,G=function(){for(var ie=0,pe=0,xe=!1;pe<U;){ie=Math.floor(Math.random()*P),xe=!1;for(var ve=0;ve<pe;ve++)if(_[ve]==ie){xe=!0;break}if(!xe)_[pe]=ie,pe++;else continue}},W=function(ie,pe,xe){for(var ve=[],Ee=0,ke=0,Pe=0,Oe=void 0,Ye=[],Je=0,Ct=1,dt=0;dt<P;dt++)Ye[dt]=F;for(ve[ke]=ie,Ye[ie]=0;ke>=Ee;){Pe=ve[Ee++];for(var ct=k[Pe],qe=0;qe<ct.length;qe++)Oe=S.get(ct[qe]),Ye[Oe]==F&&(Ye[Oe]=Ye[Pe]+1,ve[++ke]=Oe);M[Pe][pe]=Ye[Pe]*H}if(xe){for(var je=0;je<P;je++)M[je][pe]<R[je]&&(R[je]=M[je][pe]);for(var ht=0;ht<P;ht++)R[ht]>Je&&(Je=R[ht],Ct=ht)}return Ct},ee=function(ie){var pe=void 0;if(ie){pe=Math.floor(Math.random()*P);for(var ve=0;ve<P;ve++)R[ve]=F;for(var Ee=0;Ee<U;Ee++)_[Ee]=pe,pe=W(pe,Ee,ie)}else{G();for(var xe=0;xe<U;xe++)W(_[xe],xe,ie)}for(var ke=0;ke<P;ke++)for(var Pe=0;Pe<U;Pe++)M[ke][Pe]*=M[ke][Pe];for(var Oe=0;Oe<U;Oe++)$[Oe]=[];for(var Ye=0;Ye<U;Ye++)for(var Je=0;Je<U;Je++)$[Ye][Je]=M[_[Je]][Ye]},ce=function(){for(var ie=p.svd($),pe=ie.S,xe=ie.U,ve=ie.V,Ee=pe[0]*pe[0]*pe[0],ke=[],Pe=0;Pe<U;Pe++){ke[Pe]=[];for(var Oe=0;Oe<U;Oe++)ke[Pe][Oe]=0,Pe==Oe&&(ke[Pe][Oe]=pe[Pe]/(pe[Pe]*pe[Pe]+Ee/(pe[Pe]*pe[Pe])))}N=d.multMat(d.multMat(ve,ke),d.transpose(xe))},Z=function(){for(var ie=void 0,pe=void 0,xe=[],ve=[],Ee=[],ke=[],Pe=0;Pe<P;Pe++)xe[Pe]=Math.random(),ve[Pe]=Math.random();xe=d.normalize(xe),ve=d.normalize(ve);for(var Oe=L,Ye=L,Je=void 0;;){for(var Ct=0;Ct<P;Ct++)Ee[Ct]=xe[Ct];if(xe=d.multGamma(d.multL(d.multGamma(Ee),M,N)),ie=d.dotProduct(Ee,xe),xe=d.normalize(xe),Oe=d.dotProduct(Ee,xe),Je=Math.abs(Oe/Ye),Je<=1+D&&Je>=1)break;Ye=Oe}for(var dt=0;dt<P;dt++)Ee[dt]=xe[dt];for(Ye=L;;){for(var ct=0;ct<P;ct++)ke[ct]=ve[ct];if(ke=d.minusOp(ke,d.multCons(Ee,d.dotProduct(Ee,ke))),ve=d.multGamma(d.multL(d.multGamma(ke),M,N)),pe=d.dotProduct(ke,ve),ve=d.normalize(ve),Oe=d.dotProduct(ke,ve),Je=Math.abs(Oe/Ye),Je<=1+D&&Je>=1)break;Ye=Oe}for(var qe=0;qe<P;qe++)ke[qe]=ve[qe];O=d.multCons(Ee,Math.sqrt(Math.abs(ie))),I=d.multCons(ke,Math.sqrt(Math.abs(pe)))};f.connectComponents(b,x,f.getTopMostNodes(T),E),w.forEach(function(Re){f.connectComponents(b,x,f.getTopMostNodes(Re.descendants().intersection(x)),E)});for(var J=0,oe=0;oe<T.length;oe++)T[oe].isParent()||S.set(T[oe].id(),J++);var Y=!0,X=!1,K=void 0;try{for(var z=E.keys()[Symbol.iterator](),j;!(Y=(j=z.next()).done);Y=!0){var te=j.value;S.set(te,J++)}}catch(Re){X=!0,K=Re}finally{try{!Y&&z.return&&z.return()}finally{if(X)throw K}}for(var re=0;re<S.size;re++)k[re]=[];w.forEach(function(Re){for(var ie=Re.children().intersection(x);ie.nodes(":childless").length==0;)ie=ie.nodes()[0].children().intersection(x);var pe=0,xe=ie.nodes(":childless")[0].connectedEdges().length;ie.nodes(":childless").forEach(function(ve,Ee){ve.connectedEdges().length<xe&&(xe=ve.connectedEdges().length,pe=Ee)}),C.set(Re.id(),ie.nodes(":childless")[pe].id())}),T.forEach(function(Re){var ie=void 0;Re.isParent()?ie=S.get(C.get(Re.id())):ie=S.get(Re.id()),Re.neighborhood().nodes().forEach(function(pe){x.intersection(Re.edgesWith(pe)).length>0&&(pe.isParent()?k[ie].push(C.get(pe.id())):k[ie].push(pe.id()))})});var Se=function(ie){var pe=S.get(ie),xe=void 0;E.get(ie).forEach(function(ve){b.getElementById(ve).isParent()?xe=C.get(ve):xe=ve,k[pe].push(xe),k[S.get(xe)].push(ie)})},ue=!0,se=!1,fe=void 0;try{for(var ye=E.keys()[Symbol.iterator](),he;!(ue=(he=ye.next()).done);ue=!0){var Ae=he.value;Se(Ae)}}catch(Re){se=!0,fe=Re}finally{try{!ue&&ye.return&&ye.return()}finally{if(se)throw fe}}P=S.size;var Ce=void 0;if(P>2){U=P<y.sampleSize?P:y.sampleSize;for(var Ie=0;Ie<P;Ie++)M[Ie]=[];for(var Le=0;Le<U;Le++)N[Le]=[];return y.quality=="draft"||y.step=="all"?(ee(B),ce(),Z(),Ce={nodeIndexes:S,xCoords:O,yCoords:I}):(S.forEach(function(Re,ie){O.push(b.getElementById(ie).position("x")),I.push(b.getElementById(ie).position("y"))}),Ce={nodeIndexes:S,xCoords:O,yCoords:I}),Ce}else{var ae=S.keys(),q=b.getElementById(ae.next().value),ge=q.position(),le=q.outerWidth();if(O.push(ge.x),I.push(ge.y),P==2){var Te=b.getElementById(ae.next().value),ne=Te.outerWidth();O.push(ge.x+le/2+ne/2+y.idealEdgeLength),I.push(ge.y)}return Ce={nodeIndexes:S,xCoords:O,yCoords:I},Ce}};c.exports={spectralLayout:g}},579:(c,u,h)=>{var f=h(212),d=function(g){g&&g("layout","fcose",f)};typeof cytoscape<"u"&&d(cytoscape),c.exports=d},140:c=>{c.exports=r}},a={};function o(c){var u=a[c];if(u!==void 0)return u.exports;var h=a[c]={exports:{}};return n[c](h,h.exports,o),h.exports}var l=o(579);return l})()})})(Aye);var DNt=Aye.exports;const PNt=Wo(DNt);var yK={L:"left",R:"right",T:"top",B:"bottom"},bK={L:A(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:A(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:A(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:A(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},B4={L:A((e,t)=>e-t+2,"L"),R:A((e,t)=>e-2,"R"),T:A((e,t)=>e-t+2,"T"),B:A((e,t)=>e-2,"B")},FNt=A(function(e){return Vs(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),xK=A(function(e){const t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),Vs=A(function(e){const t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),pf=A(function(e){const t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),kye=A(function(e,t){const r=Vs(e)&&pf(t),n=pf(e)&&Vs(t);return r||n},"isArchitectureDirectionXY"),BNt=A(function(e){const t=e[0],r=e[1],n=Vs(t)&&pf(r),a=pf(t)&&Vs(r);return n||a},"isArchitecturePairXY"),$Nt=A(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),mN=A(function(e,t){const r=`${e}${t}`;return $Nt(r)?r:void 0},"getArchitectureDirectionPair"),HNt=A(function([e,t],r){const n=r[0],a=r[1];return Vs(n)?pf(a)?[e+(n==="L"?-1:1),t+(a==="T"?1:-1)]:[e+(n==="L"?-1:1),t]:Vs(a)?[e+(a==="L"?1:-1),t+(n==="T"?1:-1)]:[e,t+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),UNt=A(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),WNt=A(function(e){return e.type==="service"},"isArchitectureService"),zNt=A(function(e){return e.type==="junction"},"isArchitectureJunction"),Cye=A(e=>e.data(),"edgeData"),j1=A(e=>e.data(),"nodeData"),Iye=Lr.architecture,mr=new ED(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:Iye,dataStructures:void 0,elements:{}})),GNt=A(()=>{mr.reset(),ca()},"clear"),YNt=A(function({id:e,icon:t,in:r,title:n,iconText:a}){if(mr.records.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${mr.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(mr.records.registeredIds[r]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(mr.records.registeredIds[r]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}mr.records.registeredIds[e]="node",mr.records.nodes[e]={id:e,type:"service",icon:t,iconText:a,title:n,edges:[],in:r}},"addService"),VNt=A(()=>Object.values(mr.records.nodes).filter(WNt),"getServices"),qNt=A(function({id:e,in:t}){mr.records.registeredIds[e]="node",mr.records.nodes[e]={id:e,type:"junction",edges:[],in:t}},"addJunction"),jNt=A(()=>Object.values(mr.records.nodes).filter(zNt),"getJunctions"),XNt=A(()=>Object.values(mr.records.nodes),"getNodes"),KNt=A(e=>mr.records.nodes[e],"getNode"),ZNt=A(function({id:e,icon:t,in:r,title:n}){if(mr.records.registeredIds[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${mr.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(mr.records.registeredIds[r]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(mr.records.registeredIds[r]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}mr.records.registeredIds[e]="group",mr.records.groups[e]={id:e,icon:t,title:n,in:r}},"addGroup"),QNt=A(()=>Object.values(mr.records.groups),"getGroups"),JNt=A(function({lhsId:e,rhsId:t,lhsDir:r,rhsDir:n,lhsInto:a,rhsInto:o,lhsGroup:l,rhsGroup:c,title:u}){if(!xK(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${r}`);if(!xK(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(mr.records.nodes[e]===void 0&&mr.records.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(mr.records.nodes[t]===void 0&&mr.records.groups[e]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);const h=mr.records.nodes[e].in,f=mr.records.nodes[t].in;if(l&&h&&f&&h==f)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(c&&h&&f&&h==f)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const d={lhsId:e,lhsDir:r,lhsInto:a,lhsGroup:l,rhsId:t,rhsDir:n,rhsInto:o,rhsGroup:c,title:u};mr.records.edges.push(d),mr.records.nodes[e]&&mr.records.nodes[t]&&(mr.records.nodes[e].edges.push(mr.records.edges[mr.records.edges.length-1]),mr.records.nodes[t].edges.push(mr.records.edges[mr.records.edges.length-1]))},"addEdge"),e9t=A(()=>mr.records.edges,"getEdges"),t9t=A(()=>{if(mr.records.dataStructures===void 0){const e=Object.entries(mr.records.nodes).reduce((l,[c,u])=>(l[c]=u.edges.reduce((h,f)=>{if(f.lhsId===c){const d=mN(f.lhsDir,f.rhsDir);d&&(h[d]=f.rhsId)}else{const d=mN(f.rhsDir,f.lhsDir);d&&(h[d]=f.lhsId)}return h},{}),l),{}),t=Object.keys(e)[0],r={[t]:1},n=Object.keys(e).reduce((l,c)=>c===t?l:{...l,[c]:1},{}),a=A(l=>{const c={[l]:[0,0]},u=[l];for(;u.length>0;){const h=u.shift();if(h){r[h]=1,delete n[h];const f=e[h],[d,p]=c[h];Object.entries(f).forEach(([g,m])=>{r[m]||(c[m]=HNt([d,p],g),u.push(m))})}}return c},"BFS"),o=[a(t)];for(;Object.keys(n).length>0;)o.push(a(Object.keys(n)[0]));mr.records.dataStructures={adjList:e,spatialMaps:o}}return mr.records.dataStructures},"getDataStructures"),r9t=A((e,t)=>{mr.records.elements[e]=t},"setElementForId"),n9t=A(e=>mr.records.elements[e],"getElementById"),DS={clear:GNt,setDiagramTitle:Ns,getDiagramTitle:_a,setAccTitle:ua,getAccTitle:Ia,setAccDescription:Ra,getAccDescription:Oa,addService:YNt,getServices:VNt,addJunction:qNt,getJunctions:jNt,getNodes:XNt,getNode:KNt,addGroup:ZNt,getGroups:QNt,addEdge:JNt,getEdges:e9t,setElementForId:r9t,getElementById:n9t,getDataStructures:t9t};function Yi(e){const t=De().architecture;return t!=null&&t[e]?t[e]:Iye[e]}A(Yi,"getConfigField");var i9t=A((e,t)=>{k3(e,t),e.groups.map(t.addGroup),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(t.addEdge)},"populateDb"),a9t={parse:A(async e=>{const t=await Vv("architecture",e);me.debug(t),i9t(t,DS)},"parse")},s9t=A(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),o9t=s9t,w1=A(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),Ix={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:w1('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:w1('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:w1('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:w1('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:w1('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:qie,blank:{body:w1("")}}},l9t=A(async function(e,t){const r=Yi("padding"),n=Yi("iconSize"),a=n/2,o=n/6,l=o/2;await Promise.all(t.edges().map(async c=>{var O,I;const{source:u,sourceDir:h,sourceArrow:f,sourceGroup:d,target:p,targetDir:g,targetArrow:m,targetGroup:y,label:b}=Cye(c);let{x,y:T}=c[0].sourceEndpoint();const{x:w,y:E}=c[0].midpoint();let{x:S,y:C}=c[0].targetEndpoint();const k=r+4;if(d&&(Vs(h)?x+=h==="L"?-k:k:T+=h==="T"?-k:k+18),y&&(Vs(g)?S+=g==="L"?-k:k:C+=g==="T"?-k:k+18),!d&&((O=DS.getNode(u))==null?void 0:O.type)==="junction"&&(Vs(h)?x+=h==="L"?a:-a:T+=h==="T"?a:-a),!y&&((I=DS.getNode(p))==null?void 0:I.type)==="junction"&&(Vs(g)?S+=g==="L"?a:-a:C+=g==="T"?a:-a),c[0]._private.rscratch){const _=e.insert("g");if(_.insert("path").attr("d",`M ${x},${T} L ${w},${E} L${S},${C} `).attr("class","edge"),f){const R=Vs(h)?B4[h](x,o):x-l,M=pf(h)?B4[h](T,o):T-l;_.insert("polygon").attr("points",bK[h](o)).attr("transform",`translate(${R},${M})`).attr("class","arrow")}if(m){const R=Vs(g)?B4[g](S,o):S-l,M=pf(g)?B4[g](C,o):C-l;_.insert("polygon").attr("points",bK[g](o)).attr("transform",`translate(${R},${M})`).attr("class","arrow")}if(b){const R=kye(h,g)?"XY":Vs(h)?"X":"Y";let M=0;R==="X"?M=Math.abs(x-S):R==="Y"?M=Math.abs(T-C)/1.5:M=Math.abs(x-S)/2;const $=_.append("g");if(await Nl($,b,{useHtmlLabels:!1,width:M,classes:"architecture-service-label"},De()),$.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),R==="X")$.attr("transform","translate("+w+", "+E+")");else if(R==="Y")$.attr("transform","translate("+w+", "+E+") rotate(-90)");else if(R==="XY"){const N=mN(h,g);if(N&&BNt(N)){const P=$.node().getBoundingClientRect(),[F,L]=UNt(N);$.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*F*L*45})`);const D=$.node().getBoundingClientRect();$.attr("transform",`
                translate(${w}, ${E-P.height/2})
                translate(${F*D.width/2}, ${L*D.height/2})
                rotate(${-1*F*L*45}, 0, ${P.height/2})
              `)}}}}}))},"drawEdges"),c9t=A(async function(e,t){const n=Yi("padding")*.75,a=Yi("fontSize"),l=Yi("iconSize")/2;await Promise.all(t.nodes().map(async c=>{const u=j1(c);if(u.type==="group"){const{h,w:f,x1:d,y1:p}=c.boundingBox();e.append("rect").attr("x",d+l).attr("y",p+l).attr("width",f).attr("height",h).attr("class","node-bkg");const g=e.append("g");let m=d,y=p;if(u.icon){const b=g.append("g");b.html(`<g>${await Kd(u.icon,{height:n,width:n,fallbackPrefix:Ix.prefix})}</g>`),b.attr("transform","translate("+(m+l+1)+", "+(y+l+1)+")"),m+=n,y+=a/2-1-2}if(u.label){const b=g.append("g");await Nl(b,u.label,{useHtmlLabels:!1,width:f,classes:"architecture-service-label"},De()),b.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),b.attr("transform","translate("+(m+l+4)+", "+(y+l+2)+")")}}}))},"drawGroups"),u9t=A(async function(e,t,r){for(const n of r){const a=t.append("g"),o=Yi("iconSize");if(n.title){const h=a.append("g");await Nl(h,n.title,{useHtmlLabels:!1,width:o*1.5,classes:"architecture-service-label"},De()),h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),h.attr("transform","translate("+o/2+", "+o+")")}const l=a.append("g");if(n.icon)l.html(`<g>${await Kd(n.icon,{height:o,width:o,fallbackPrefix:Ix.prefix})}</g>`);else if(n.iconText){l.html(`<g>${await Kd("blank",{height:o,width:o,fallbackPrefix:Ix.prefix})}</g>`);const d=l.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(n.iconText),p=parseInt(window.getComputedStyle(d.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;d.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/p)};`)}else l.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);a.attr("class","architecture-service");const{width:c,height:u}=a._groups[0][0].getBBox();n.width=c,n.height=u,e.setElementForId(n.id,a)}return 0},"drawServices"),h9t=A(function(e,t,r){r.forEach(n=>{const a=t.append("g"),o=Yi("iconSize");a.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",o).attr("height",o),a.attr("class","architecture-junction");const{width:c,height:u}=a._groups[0][0].getBBox();a.width=c,a.height=u,e.setElementForId(n.id,a)})},"drawJunctions");Xie([{name:Ix.prefix,icons:Ix}]);yu.use(PNt);function Rye(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:Yi("iconSize"),height:Yi("iconSize")},classes:"node-service"})})}A(Rye,"addServices");function Oye(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:Yi("iconSize"),height:Yi("iconSize")},classes:"node-junction"})})}A(Oye,"addJunctions");function _ye(e,t){t.nodes().map(r=>{const n=j1(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}A(_ye,"positionNodes");function Nye(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}A(Nye,"addGroups");function Lye(e,t){e.forEach(r=>{const{lhsId:n,rhsId:a,lhsInto:o,lhsGroup:l,rhsInto:c,lhsDir:u,rhsDir:h,rhsGroup:f,title:d}=r,p=kye(r.lhsDir,r.rhsDir)?"segments":"straight",g={id:`${n}-${a}`,label:d,source:n,sourceDir:u,sourceArrow:o,sourceGroup:l,sourceEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%",target:a,targetDir:h,targetArrow:c,targetGroup:f,targetEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:g,classes:p})})}A(Lye,"addEdges");function Mye(e){const t=e.map(a=>{const o={},l={};return Object.entries(a).forEach(([c,[u,h]])=>{o[h]||(o[h]=[]),l[u]||(l[u]=[]),o[h].push(c),l[u].push(c)}),{horiz:Object.values(o).filter(c=>c.length>1),vert:Object.values(l).filter(c=>c.length>1)}}),[r,n]=t.reduce(([a,o],{horiz:l,vert:c})=>[[...a,...l],[...o,...c]],[[],[]]);return{horizontal:r,vertical:n}}A(Mye,"getAlignments");function Dye(e){const t=[],r=A(a=>`${a[0]},${a[1]}`,"posToStr"),n=A(a=>a.split(",").map(o=>parseInt(o)),"strToPos");return e.forEach(a=>{const o=Object.fromEntries(Object.entries(a).map(([h,f])=>[r(f),h])),l=[r([0,0])],c={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;l.length>0;){const h=l.shift();if(h){c[h]=1;const f=o[h];if(f){const d=n(h);Object.entries(u).forEach(([p,g])=>{const m=r([d[0]+g[0],d[1]+g[1]]),y=o[m];y&&!c[m]&&(l.push(m),t.push({[yK[p]]:y,[yK[FNt(p)]]:f,gap:1.5*Yi("iconSize")}))})}}}}),t}A(Dye,"getRelativeConstraints");function Pye(e,t,r,n,{spatialMaps:a}){return new Promise(o=>{const l=nt("body").append("div").attr("id","cy").attr("style","display:none"),c=yu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Yi("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Yi("padding")}px`}}]});l.remove(),Nye(r,c),Rye(e,c),Oye(t,c),Lye(n,c);const u=Mye(a),h=Dye(a),f=c.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(d){const[p,g]=d.connectedNodes(),{parent:m}=j1(p),{parent:y}=j1(g);return m===y?1.5*Yi("iconSize"):.5*Yi("iconSize")},edgeElasticity(d){const[p,g]=d.connectedNodes(),{parent:m}=j1(p),{parent:y}=j1(g);return m===y?.45:.001},alignmentConstraint:u,relativePlacementConstraint:h});f.one("layoutstop",()=>{var p;function d(g,m,y,b){let x,T;const{x:w,y:E}=g,{x:S,y:C}=m;T=(b-E+(w-y)*(E-C)/(w-S))/Math.sqrt(1+Math.pow((E-C)/(w-S),2)),x=Math.sqrt(Math.pow(b-E,2)+Math.pow(y-w,2)-Math.pow(T,2));const k=Math.sqrt(Math.pow(S-w,2)+Math.pow(C-E,2));x=x/k;let O=(S-w)*(b-E)-(C-E)*(y-w);switch(!0){case O>=0:O=1;break;case O<0:O=-1;break}let I=(S-w)*(y-w)+(C-E)*(b-E);switch(!0){case I>=0:I=1;break;case I<0:I=-1;break}return T=Math.abs(T)*O,x=x*I,{distances:T,weights:x}}A(d,"getSegmentWeights"),c.startBatch();for(const g of Object.values(c.edges()))if((p=g.data)!=null&&p.call(g)){const{x:m,y}=g.source().position(),{x:b,y:x}=g.target().position();if(m!==b&&y!==x){const T=g.sourceEndpoint(),w=g.targetEndpoint(),{sourceDir:E}=Cye(g),[S,C]=pf(E)?[T.x,w.y]:[w.x,T.y],{weights:k,distances:O}=d(T,w,S,C);g.style("segment-distances",O),g.style("segment-weights",k)}}c.endBatch(),f.run()}),f.run(),c.ready(d=>{me.info("Ready",d),o(c)})})}A(Pye,"layoutArchitecture");var f9t=A(async(e,t,r,n)=>{const a=n.db,o=a.getServices(),l=a.getJunctions(),c=a.getGroups(),u=a.getEdges(),h=a.getDataStructures(),f=Tf(t),d=f.append("g");d.attr("class","architecture-edges");const p=f.append("g");p.attr("class","architecture-services");const g=f.append("g");g.attr("class","architecture-groups"),await u9t(a,p,o),h9t(a,p,l);const m=await Pye(o,l,c,u,h);await l9t(d,m),await c9t(g,m),_ye(a,m),wv(void 0,f,Yi("padding"),Yi("useMaxWidth"))},"draw"),d9t={draw:f9t},p9t={parser:a9t,db:DS,renderer:d9t,styles:o9t};const g9t=Object.freeze(Object.defineProperty({__proto__:null,diagram:p9t},Symbol.toStringTag,{value:"Module"})),m9t=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:Ope,createInfoServices:_pe},Symbol.toStringTag,{value:"Module"})),v9t=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Npe,createPacketServices:Lpe},Symbol.toStringTag,{value:"Module"})),y9t=Object.freeze(Object.defineProperty({__proto__:null,PieModule:Mpe,createPieServices:Dpe},Symbol.toStringTag,{value:"Module"})),b9t=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:Ppe,createArchitectureServices:Fpe},Symbol.toStringTag,{value:"Module"})),x9t=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:Ipe,createGitGraphServices:Rpe},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{--vt-c-white: #ffffff;--vt-c-white-soft: #f8f8f8;--vt-c-white-mute: #f2f2f2;--vt-c-black: #181818;--vt-c-black-soft: #222222;--vt-c-black-mute: #282828;--vt-c-indigo: #2c3e50;--vt-c-divider-light-1: rgba(60, 60, 60, .29);--vt-c-divider-light-2: rgba(60, 60, 60, .12);--vt-c-divider-dark-1: rgba(84, 84, 84, .65);--vt-c-divider-dark-2: rgba(84, 84, 84, .48);--vt-c-text-light-1: var(--vt-c-indigo);--vt-c-text-light-2: rgba(60, 60, 60, .66);--vt-c-text-dark-1: var(--vt-c-white);--vt-c-text-dark-2: rgba(235, 235, 235, .64)}:root{--color-background: var(--vt-c-white);--color-background-soft: var(--vt-c-white-soft);--color-background-mute: var(--vt-c-white-mute);--color-border: var(--vt-c-divider-light-2);--color-border-hover: var(--vt-c-divider-light-1);--color-heading: var(--vt-c-text-light-1);--color-text: var(--vt-c-text-light-1);--section-gap: 160px}@media (prefers-color-scheme: dark){:root{--color-background: var(--vt-c-black);--color-background-soft: var(--vt-c-black-soft);--color-background-mute: var(--vt-c-black-mute);--color-border: var(--vt-c-divider-dark-2);--color-border-hover: var(--vt-c-divider-dark-1);--color-heading: var(--vt-c-text-dark-1);--color-text: var(--vt-c-text-dark-2)}}*,*:before,*:after{box-sizing:border-box;margin:0;font-weight:400}body{color:var(--color-text);background:var(--color-background);line-height:1.6;font-family:Helvetica Neue,sans-serif;font-size:15px;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{height:100vh}#root{font-weight:400;height:100vh;max-width:100vw;scrollbar-gutter:stable;overflow:hidden;display:grid;grid-template-columns:auto 1fr;grid-template-areas:"header  content" "sidebar content" "footer  footer"}.main-head{grid-area:header}.content{grid-area:content}.side{grid-area:sidebar}.main-footer{grid-area:footer}a,.green{text-decoration:none;color:#00bd7e;transition:.4s;padding:3px}nav ul li{display:inline-block;margin-right:.5em}nav{margin:10px}input[type=checkbox]{width:18px;vertical-align:middle}input:not([type=checkbox]),button{border-radius:.5em;border-width:0;background-color:#f5f5f5}button{background-color:#009abd;color:#fff;padding:0 .6em}input{accent-color:rgb(0,154,189)}select,label,input,button{height:2em;font-size:larger}summary{cursor:pointer;padding-left:1em}textarea{background-color:#1c212c;border:1px solid #666;font-family:monospace;resize:horizontal;color:#fff;line-height:1.5em}textarea:read-only{color:#bbb}@media (hover: hover){a:hover{background-color:#00bd7e33}}.dropzone[data-v-e5808902]{width:200px;height:200px;border:2px solid lightblue;margin:2em;padding:.5em}header[data-v-e5808902]{border-right:1px solid #888}sidebar[data-v-e5808902]{min-width:280px;max-height:calc(100vh - 90px);min-height:calc(100vh - 90px);overflow-y:auto;scrollbar-gutter:stable;border-right:1px solid #888}sidebar details[open]>summary[data-v-e5808902]{background-color:#00bd7e;color:#000}sidebar details[data-v-e5808902]{padding:.5em 0}main[data-v-e5808902]{display:flex;flex-direction:row;flex-grow:1}nav ul[data-v-e5808902]{padding:0}.items li[data-v-e5808902]{margin-top:1px}a.disabled[data-v-e5808902]{pointer-events:none;opacity:.2}.book-id[data-v-e5808902]{display:inline-block;width:min-content}.upload[data-v-e5808902]{display:inline-block;margin:1em}nav.actions[data-v-e5808902]{padding-top:1em}.selected[data-v-e5808902]{background-color:#00bd7e;color:#000}.app-title[data-v-e5808902]{font-weight:700}@media (max-width: 1024px){sidebar[data-v-e5808902]{min-width:200px}}.metadata[data-v-84dd87c4]{width:100%;margin-left:1em}.metadata table[data-v-84dd87c4]{width:100%}.mono[data-v-84dd87c4]{font-family:monospace;font-size:16px}input[data-v-84dd87c4]{display:inline-block;border-radius:0;margin:10px}.about[data-v-1a66934e]{display:flex;flex-direction:column;max-height:100vh}.intro[data-v-1a66934e]{flex-shrink:0}.pre[data-v-1a66934e]{overflow-y:scroll;scrollbar-gutter:stable;font-family:monospace;flex-basis:50%;white-space:pre-wrap;border-top:2px solid #666}.list[data-v-1a66934e]{overflow-y:scroll;flex-basis:50%;border-top:2px solid #666}.selected[data-v-1a66934e]{background-color:#00bd7e;color:#000}.scrubber[data-v-d3f21641]{border:1px solid #333;padding:0 8px 8px 4px}.scrubber[data-v-d3f21641]>*{display:inline-block}button[data-v-d3f21641],select[data-v-d3f21641],input[type=text][data-v-d3f21641],input[type=number][data-v-d3f21641]{margin-right:5px}.action[data-v-d3f21641]{width:3em}input[type=range][data-v-d3f21641]{width:110px;margin-right:5px;vertical-align:middle}fieldset[role=group][data-v-d3f21641]>*{display:inline-block}container[data-v-d8973bc8]{display:flex;flex-direction:column;box-sizing:border-box;height:100%;width:100%}content[data-v-d8973bc8]{flex-grow:1;display:flex;flex-direction:row}content #preview[data-v-d8973bc8]{flex-grow:1;background-color:#fff;border:none}content textarea[data-v-d8973bc8]{flex-grow:1;width:50%;padding:.5em}content-footer[data-v-d8973bc8]{text-align:right;margin-right:20px;width:100%}ul.chapter-controls[data-v-d8973bc8]{padding-left:0}container[data-v-2ba9b20b]{display:flex;flex-direction:column;box-sizing:border-box;height:100%;width:100%}textarea[data-v-2ba9b20b]{flex-grow:1;font-family:monospace;font-size:14px}content-footer[data-v-2ba9b20b]{text-align:right;margin-right:20px;width:100%}</style>
  </head>
  <body>
    <div id="root">
      This file should not be rendered in the EPUB spine. If you're seeing this
      the EDITME.html app isn't loading correctly.
    </div>
  </body>
</html>
